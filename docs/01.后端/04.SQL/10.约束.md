---
title: 约束
date: 2022-03-18 00:52:36
permalink: /pages/de8702/
categories:
  - 后端
  - SQL
tags:
  - 
---
# 约束

![image-20210815121314135](https://cdn.jsdelivr.net/gh/Iekrwh/images/md-images/image-20210815121314135.png)

- 主键约束 默认包含非空和唯一  一张表只有一个主键
  - 创建  create table 表名 (列名 数据类型 primary key)
  - 删除pk alter table 表名 drop primary key;
  - 建表后添加主键   alter table 表名 modify 列名 数据类型 primary key;
- 自增约束   必须要配合其他约束一起使用 如主键
  - 创建 create table 表名(列名 数据类型 primary key auto_increment);
  - 删除 alter table 表名 modify 列名 数据类型
  - 建表后添加 alter table 表名 modify 列名 数据类型 auto_increment;
- 唯一约束  不重复
  - 创建 create table 表名(列名 数据类型 unique);
  - 删除 alter table 表名 drop index 列名;
  - 建表后添加 alter table 表名 modify 列名 数据类型 unique;

- 非空约束  不允许为NULL
  - 创建 create table 表名(列名 数据类型 not null);
  - 删除 alter table 表名 modify 列名 数据类型;
  - 建表后添加 alter table 表名 modify 列名 数据类型 not null;
- 外键约束 表与表之间有关联性  保证数据的准确性
  - 创建 create table 表名(列名 数据类型 约束) constraint 外键名 foreign key (本表外键列名) references 主表名(主表主键列名);
  - 删除 alter table 表名drop foreign key 外键名;
  - 建表后添加 alter table 表名 add constraint 外键名 foreign key (本表外键列名) references 主表名(主表主键列名);
- 外键级联更新 当主表的主键更新时 从表的外键也更新
  - alter table 表名 add constraint 外键名 foreign key (本表外键列名) references 主表名(主表主键列名) on update cascade;
- 外键级联删除 当主表的主键删除时 从表的外键也删除
  - alter table 表名 add constraint 外键名 foreign key (本表外键列名) references 主表名(主表主键列名) on delete cascade;
- 级联同时更新和删除
  - alter table 表名 add constraint 外键名 foreign key (本表外键列名) references 主表名(主表主键列名) on update cascade on delete cascade;



