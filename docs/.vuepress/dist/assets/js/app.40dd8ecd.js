(window.webpackJsonp=window.webpackJsonp||[]).push([[0],[]]);!function(n){function e(e){for(var a,i,s=e[0],l=e[1],c=e[2],p=0,u=[];p<s.length;p++)i=s[p],Object.prototype.hasOwnProperty.call(r,i)&&r[i]&&u.push(r[i][0]),r[i]=0;for(a in l)Object.prototype.hasOwnProperty.call(l,a)&&(n[a]=l[a]);for(d&&d(e);u.length;)u.shift()();return o.push.apply(o,c||[]),t()}function t(){for(var n,e=0;e<o.length;e++){for(var t=o[e],a=!0,s=1;s<t.length;s++){var l=t[s];0!==r[l]&&(a=!1)}a&&(o.splice(e--,1),n=i(i.s=t[0]))}return n}var a={},r={1:0},o=[];function i(e){if(a[e])return a[e].exports;var t=a[e]={i:e,l:!1,exports:{}};return n[e].call(t.exports,t,t.exports,i),t.l=!0,t.exports}i.e=function(n){var e=[],t=r[n];if(0!==t)if(t)e.push(t[2]);else{var a=new Promise((function(e,a){t=r[n]=[e,a]}));e.push(t[2]=a);var o,s=document.createElement("script");s.charset="utf-8",s.timeout=120,i.nc&&s.setAttribute("nonce",i.nc),s.src=function(n){return i.p+"assets/js/"+({}[n]||n)+"."+{2:"6a9cea3c",3:"6634b688",4:"8c3c0acd",5:"69b21161",6:"6b6896fe",7:"726dbc5f",8:"99cd54ee",9:"c89f984c",10:"2c01b12e",11:"664036c6",12:"f548447f",13:"8d4c6448",14:"b6ff5175",15:"730457a3",16:"f9e71cf5",17:"208779aa",18:"ab9a3bbb",19:"ad906bc0",20:"e27af5ca",21:"799ac5c3",22:"65a08aeb",23:"8536e70e",24:"3d058006",25:"f1c45c8c",26:"f2173fd0",27:"9ccd43d1",28:"da91b7e2",29:"461bce84",30:"8fdd5612",31:"f6fe2381",32:"f5aed9a2",33:"5932f9b2",34:"589697c2",35:"f13cad1b",36:"a27e3982",37:"1eb4eed4",38:"060b5e7e",39:"dc67fc14",40:"498ba062",41:"ea0dc104",42:"fbe5561c",43:"db0e44fd",44:"84603aa3",45:"6906fb0e",46:"c16b17b4",47:"c709a621",48:"bfdd7f0d",49:"504ac581",50:"eae7b421",51:"6f8c192b",52:"fcad9f75",53:"59c1cdf1",54:"c6056518",55:"62b17cc8",56:"28d2d58f",57:"e18df71f",58:"7b004771",59:"4271ceaa",60:"a513cb60",61:"3d8ba833",62:"aafdece6",63:"6d65dc9c",64:"b6732f71",65:"ea7a6b22",66:"d2cffa21",67:"641cd913",68:"19b6fe07",69:"10facc31",70:"14645f41",71:"a0b3696a",72:"e5be5fe1",73:"3f99599e",74:"28993790",75:"1f27d919",76:"5cf38880",77:"dafc6a5e",78:"8e47a6fe",79:"1f75688f",80:"325f1cde",81:"8cca5128",82:"8395fcab",83:"43951c63",84:"ad728d6d",85:"ebcc76cb",86:"d697fdcb",87:"39017ed5",88:"0bf64781",89:"e73af49c",90:"fbb12a35",91:"4839b991",92:"e7ade2e9",93:"3faaeac7",94:"25fb6f2d",95:"9a84e931",96:"e68e0aae",97:"d24a88cc",98:"7175d22e",99:"76456f24",100:"b3f59007",101:"b744e9c9",102:"0e6c35dd",103:"f22fef25",104:"9be911d5",105:"1469eafc",106:"9d267c5a",107:"b728fd5c",108:"4c0db71c",109:"cc8fb748",110:"c147c22c",111:"2b04a883",112:"db53739e",113:"1d5b2eff",114:"856088cb",115:"1074b8af",116:"d88d0a22",117:"1b17ec7c",118:"3f26f81e",119:"b68c191a",120:"49495207",121:"4a8174b0",122:"3d985319",123:"2db02e7a",124:"b26fd0a8",125:"1404e4be",126:"74732852",127:"6e95f432",128:"8056cd04",129:"05eb9883",130:"1e945430",131:"17e8268c",132:"5e12d60c",133:"9d349ee6",134:"836c4bd5",135:"b0a6cae7",136:"9c8151f9",137:"5fe25c85",138:"f7e7fbc9",139:"d56b3843",140:"0585b72d",141:"3dd0e26d",142:"94865158",143:"f5880cb7",144:"51410816",145:"f71d7f5a",146:"cba6467b",147:"340bfbe6",148:"e7f5ad4c",149:"c56c9d48",150:"efff543b",151:"46d42773",152:"b313c215",153:"72694bb0",154:"11fb04c2",155:"3d138baa",156:"3089831f",157:"d0ff3b6c",158:"94feb5c7",159:"a3baa78c",160:"86a99a62",161:"45b8b66b",162:"c64e56ec",163:"483a832b",164:"c19901cd",165:"f48d973d",166:"4aa2f408",167:"5acd78d8",168:"7e540d2c",169:"1a43a9fa",170:"2042e4e4",171:"0b170f15",172:"3f7c4192",173:"9f14fd16",174:"19942088",175:"5d5f9532",176:"cfa74820",177:"7057d212",178:"8b82debd",179:"b1df9ddf",180:"4085708e",181:"55d0a9dd",182:"dfbf6d8c",183:"56ba6c6a",184:"15b6aa3d",185:"d70097e9",186:"655e747b",187:"761a3f9f",188:"2db23a7d",189:"6e4875f8",190:"cd67fc8e",191:"f14772fb",192:"4efaec96",193:"80a5eeb7",194:"fa5ded41",195:"12256e2b",196:"dc77f375",197:"b004aa4b",198:"acf92801",199:"20b22e09",200:"826af643",201:"e5fb447a",202:"48d1b308",203:"84d332e0",204:"cc7d6f19",205:"f7d9cd24",206:"dc5c4afb",207:"5f7972ef",208:"70becdf7",209:"cad1c569",210:"fa527b0e",211:"993b8c0e",212:"d93d494e",213:"4b16adac",214:"6ec78061",215:"13029f81",216:"689d0457",217:"34c99396",218:"15ab7732",219:"75f13837",220:"c56ac0a9",221:"895f3699",222:"27eeeb52",223:"12668c30",224:"05ac3ee3",225:"edd622c1",226:"1c461bc8",227:"ecd8c7d2",228:"27d830bc",229:"e81fb37c",230:"d0ba3c56",231:"14b36b1c",232:"72276e73",233:"e69b011e",234:"09a1a458",235:"608e7252",236:"ff627f0b",237:"07b8be2c",238:"dae66b3b",239:"06c9ecd8",240:"fee390d1",241:"d42db9a1",242:"09b84c17",243:"2c2bc879",244:"9dc51c1c",245:"000b0100",246:"0ac8526d",247:"93bccdfd",248:"1320538e",249:"8830e715",250:"9ffdfca4",251:"1daed062",252:"f3000209",253:"aea926e5",254:"6d0eb14e",255:"8db9d533",256:"a11d12cb",257:"62603a31",258:"dcedf3c8",259:"0518d1c7",260:"842f6899",261:"1460bcaa",262:"acac0383",263:"6ea1fc01",264:"d02d65d5",265:"1ede84db",266:"662695a2",267:"f0620bc3",268:"2da06d21",269:"d63285e1",270:"bc08bf36",271:"272e051b",272:"54adbe1d",273:"99b5dd67",274:"d9a1ff1b",275:"6fa57e84",276:"f8e1117c",277:"f86f7050",278:"18ef4ec9",279:"c10e792b",280:"480236b8",281:"cff870df",282:"677b72f8",283:"8362f4fe",284:"7d8c3007",285:"003d79ff",286:"4beb6df8",287:"f4435cc2",288:"2aeed3e9",289:"c8be086b",290:"ab89b490",291:"9fd0deda",292:"142d04cd",293:"d3e0e817",294:"6580c1eb",295:"799d2b7d",296:"e2279804",297:"df6bc992",298:"2c39fdeb",299:"8d63e833",300:"65620f4b",301:"3284de8c",302:"e3ff1017",303:"bbc7c3b2",304:"dd7907f9",305:"f18fb17b",306:"e82e1d30",307:"dd96a4d6",308:"058f6d88"}[n]+".js"}(n);var l=new Error;o=function(e){s.onerror=s.onload=null,clearTimeout(c);var t=r[n];if(0!==t){if(t){var a=e&&("load"===e.type?"missing":e.type),o=e&&e.target&&e.target.src;l.message="Loading chunk "+n+" failed.\n("+a+": "+o+")",l.name="ChunkLoadError",l.type=a,l.request=o,t[1](l)}r[n]=void 0}};var c=setTimeout((function(){o({type:"timeout",target:s})}),12e4);s.onerror=s.onload=o,document.head.appendChild(s)}return Promise.all(e)},i.m=n,i.c=a,i.d=function(n,e,t){i.o(n,e)||Object.defineProperty(n,e,{enumerable:!0,get:t})},i.r=function(n){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(n,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(n,"__esModule",{value:!0})},i.t=function(n,e){if(1&e&&(n=i(n)),8&e)return n;if(4&e&&"object"==typeof n&&n&&n.__esModule)return n;var t=Object.create(null);if(i.r(t),Object.defineProperty(t,"default",{enumerable:!0,value:n}),2&e&&"string"!=typeof n)for(var a in n)i.d(t,a,function(e){return n[e]}.bind(null,a));return t},i.n=function(n){var e=n&&n.__esModule?function(){return n.default}:function(){return n};return i.d(e,"a",e),e},i.o=function(n,e){return Object.prototype.hasOwnProperty.call(n,e)},i.p="/",i.oe=function(n){throw console.error(n),n};var s=window.webpackJsonp=window.webpackJsonp||[],l=s.push.bind(s);s.push=e,s=s.slice();for(var c=0;c<s.length;c++)e(s[c]);var d=l;o.push([240,0]),t()}([function(n,e){var t=function(n){return n&&n.Math==Math&&n};n.exports=t("object"==typeof globalThis&&globalThis)||t("object"==typeof window&&window)||t("object"==typeof self&&self)||t("object"==typeof global&&global)||function(){return this}()||Function("return this")()},function(n,e,t){var a=t(0),r=t(38).f,o=t(30),i=t(14),s=t(114),l=t(120),c=t(107);n.exports=function(n,e){var t,d,p,u,m,g=n.target,h=n.global,f=n.stat;if(t=h?a:f?a[g]||s(g,{}):(a[g]||{}).prototype)for(d in e){if(u=e[d],p=n.noTargetGet?(m=r(t,d))&&m.value:t[d],!c(h?d:g+(f?".":"#")+d,n.forced)&&void 0!==p){if(typeof u==typeof p)continue;l(u,p)}(n.sham||p&&p.sham)&&o(u,"sham",!0),i(t,d,u,n)}}},function(n,e,t){var a=t(64),r=Function.prototype,o=r.bind,i=r.call,s=a&&o.bind(i,i);n.exports=a?function(n){return n&&s(n)}:function(n){return n&&function(){return i.apply(n,arguments)}}},function(n,e){n.exports=function(n){try{return!!n()}catch(n){return!0}}},function(n,e,t){var a=t(124),r=t(14),o=t(256);a||r(Object.prototype,"toString",o,{unsafe:!0})},function(n,e){n.exports=function(n){return"function"==typeof n}},function(n,e,t){var a=t(0),r=t(80),o=t(10),i=t(81),s=t(115),l=t(160),c=r("wks"),d=a.Symbol,p=d&&d.for,u=l?d:d&&d.withoutSetter||i;n.exports=function(n){if(!o(c,n)||!s&&"string"!=typeof c[n]){var e="Symbol."+n;s&&o(d,n)?c[n]=d[n]:c[n]=l&&p?p(e):u(e)}return c[n]}},function(n,e,t){var a=t(3);n.exports=!a((function(){return 7!=Object.defineProperty({},1,{get:function(){return 7}})[1]}))},function(n,e,t){var a=t(0),r=t(9),o=a.String,i=a.TypeError;n.exports=function(n){if(r(n))return n;throw i(o(n)+" is not an object")}},function(n,e,t){var a=t(5);n.exports=function(n){return"object"==typeof n?null!==n:a(n)}},function(n,e,t){var a=t(2),r=t(17),o=a({}.hasOwnProperty);n.exports=Object.hasOwn||function(n,e){return o(r(n),e)}},function(n,e,t){var a=t(64),r=Function.prototype.call;n.exports=a?r.bind(r):function(){return r.apply(r,arguments)}},function(n,e,t){var a=t(0),r=t(78),o=a.String;n.exports=function(n){if("Symbol"===r(n))throw TypeError("Cannot convert a Symbol value to a string");return o(n)}},function(n,e,t){var a=t(0),r=t(7),o=t(162),i=t(161),s=t(8),l=t(83),c=a.TypeError,d=Object.defineProperty,p=Object.getOwnPropertyDescriptor;e.f=r?i?function(n,e,t){if(s(n),e=l(e),s(t),"function"==typeof n&&"prototype"===e&&"value"in t&&"writable"in t&&!t.writable){var a=p(n,e);a&&a.writable&&(n[e]=t.value,t={configurable:"configurable"in t?t.configurable:a.configurable,enumerable:"enumerable"in t?t.enumerable:a.enumerable,writable:!1})}return d(n,e,t)}:d:function(n,e,t){if(s(n),e=l(e),s(t),o)try{return d(n,e,t)}catch(n){}if("get"in t||"set"in t)throw c("Accessors not supported");return"value"in t&&(n[e]=t.value),n}},function(n,e,t){var a=t(0),r=t(5),o=t(10),i=t(30),s=t(114),l=t(88),c=t(40),d=t(67).CONFIGURABLE,p=c.get,u=c.enforce,m=String(String).split("String");(n.exports=function(n,e,t,l){var c,p=!!l&&!!l.unsafe,g=!!l&&!!l.enumerable,h=!!l&&!!l.noTargetGet,f=l&&void 0!==l.name?l.name:e;r(t)&&("Symbol("===String(f).slice(0,7)&&(f="["+String(f).replace(/^Symbol\(([^)]*)\)/,"$1")+"]"),(!o(t,"name")||d&&t.name!==f)&&i(t,"name",f),(c=u(t)).source||(c.source=m.join("string"==typeof f?f:""))),n!==a?(p?!h&&n[e]&&(g=!0):delete n[e],g?n[e]=t:i(n,e,t)):g?n[e]=t:s(e,t)})(Function.prototype,"toString",(function(){return r(this)&&p(this).source||l(this)}))},function(n,e,t){"use strict";function a(n,e,t,a,r,o,i,s){var l,c="function"==typeof n?n.options:n;if(e&&(c.render=e,c.staticRenderFns=t,c._compiled=!0),a&&(c.functional=!0),o&&(c._scopeId="data-v-"+o),i?(l=function(n){(n=n||this.$vnode&&this.$vnode.ssrContext||this.parent&&this.parent.$vnode&&this.parent.$vnode.ssrContext)||"undefined"==typeof __VUE_SSR_CONTEXT__||(n=__VUE_SSR_CONTEXT__),r&&r.call(this,n),n&&n._registeredComponents&&n._registeredComponents.add(i)},c._ssrRegister=l):r&&(l=s?function(){r.call(this,(c.functional?this.parent:this).$root.$options.shadowRoot)}:r),l)if(c.functional){c._injectStyles=l;var d=c.render;c.render=function(n,e){return l.call(e),d(n,e)}}else{var p=c.beforeCreate;c.beforeCreate=p?[].concat(p,l):[l]}return{exports:n,options:c}}t.d(e,"a",(function(){return a}))},function(n,e,t){"use strict";var a=t(1),r=t(94);a({target:"RegExp",proto:!0,forced:/./.exec!==r},{exec:r})},function(n,e,t){var a=t(0),r=t(19),o=a.Object;n.exports=function(n){return o(r(n))}},function(n,e,t){var a=t(0),r=t(5),o=function(n){return r(n)?n:void 0};n.exports=function(n,e){return arguments.length<2?o(a[n]):a[n]&&a[n][e]}},function(n,e,t){var a=t(0).TypeError;n.exports=function(n){if(null==n)throw a("Can't call method on "+n);return n}},function(n,e,t){var a=t(63),r=t(19);n.exports=function(n){return a(r(n))}},function(n,e,t){"use strict";var a=t(178).charAt,r=t(12),o=t(40),i=t(166),s=o.set,l=o.getterFor("String Iterator");i(String,"String",(function(n){s(this,{type:"String Iterator",string:r(n),index:0})}),(function(){var n,e=l(this),t=e.string,r=e.index;return r>=t.length?{value:void 0,done:!0}:(n=a(t,r),e.index+=n.length,{value:n,done:!1})}))},function(n,e,t){"use strict";var a=t(1),r=t(186);a({target:"Array",proto:!0,forced:[].forEach!=r},{forEach:r})},function(n,e,t){var a=t(0),r=t(179),o=t(180),i=t(186),s=t(30),l=function(n){if(n&&n.forEach!==i)try{s(n,"forEach",i)}catch(e){n.forEach=i}};for(var c in r)r[c]&&l(a[c]&&a[c].prototype);l(o)},function(n,e,t){var a=t(53);n.exports=function(n){return a(n.length)}},function(n,e,t){"use strict";var a=t(1),r=t(57).filter;a({target:"Array",proto:!0,forced:!t(92)("filter")},{filter:function(n){return r(this,n,arguments.length>1?arguments[1]:void 0)}})},function(n,e,t){var a=t(14),r=t(271),o=Error.prototype;o.toString!==r&&a(o,"toString",r)},function(n,e,t){var a=t(0),r=t(179),o=t(180),i=t(149),s=t(30),l=t(6),c=l("iterator"),d=l("toStringTag"),p=i.values,u=function(n,e){if(n){if(n[c]!==p)try{s(n,c,p)}catch(e){n[c]=p}if(n[d]||s(n,d,e),r[e])for(var t in i)if(n[t]!==i[t])try{s(n,t,i[t])}catch(e){n[t]=i[t]}}};for(var m in r)u(a[m]&&a[m].prototype,m);u(o,"DOMTokenList")},function(n,e,t){var a=t(2),r=a({}.toString),o=a("".slice);n.exports=function(n){return o(r(n),8,-1)}},function(n,e){n.exports=!1},function(n,e,t){var a=t(7),r=t(13),o=t(49);n.exports=a?function(n,e,t){return r.f(n,e,o(1,t))}:function(n,e,t){return n[e]=t,n}},function(n,e){var t=Array.isArray;n.exports=t},function(n,e,t){var a=t(18);n.exports=a("navigator","userAgent")||""},function(n,e,t){var a=t(194),r="object"==typeof self&&self&&self.Object===Object&&self,o=a||r||Function("return this")();n.exports=o},function(n,e,t){var a,r=t(8),o=t(116),i=t(118),s=t(65),l=t(165),c=t(82),d=t(87),p=d("IE_PROTO"),u=function(){},m=function(n){return"<script>"+n+"<\/script>"},g=function(n){n.write(m("")),n.close();var e=n.parentWindow.Object;return n=null,e},h=function(){try{a=new ActiveXObject("htmlfile")}catch(n){}var n,e;h="undefined"!=typeof document?document.domain&&a?g(a):((e=c("iframe")).style.display="none",l.appendChild(e),e.src=String("javascript:"),(n=e.contentWindow.document).open(),n.write(m("document.F=Object")),n.close(),n.F):g(a);for(var t=i.length;t--;)delete h.prototype[i[t]];return h()};s[p]=!0,n.exports=Object.create||function(n,e){var t;return null!==n?(u.prototype=r(n),t=new u,u.prototype=null,t[p]=n):t=h(),void 0===e?t:o.f(t,e)}},function(n,e,t){var a=t(2);n.exports=a({}.isPrototypeOf)},function(n,e,t){var a=t(64),r=Function.prototype,o=r.apply,i=r.call;n.exports="object"==typeof Reflect&&Reflect.apply||(a?i.bind(o):function(){return i.apply(o,arguments)})},function(n,e,t){var a=t(0),r=t(5),o=t(85),i=a.TypeError;n.exports=function(n){if(r(n))return n;throw i(o(n)+" is not a function")}},function(n,e,t){var a=t(7),r=t(11),o=t(119),i=t(49),s=t(20),l=t(83),c=t(10),d=t(162),p=Object.getOwnPropertyDescriptor;e.f=a?p:function(n,e){if(n=s(n),e=l(e),d)try{return p(n,e)}catch(n){}if(c(n,e))return i(!r(o.f,n,e),n[e])}},function(n,e,t){"use strict";var a=t(36),r=t(11),o=t(2),i=t(110),s=t(3),l=t(8),c=t(5),d=t(55),p=t(53),u=t(12),m=t(19),g=t(128),h=t(48),f=t(272),v=t(111),b=t(6)("replace"),y=Math.max,x=Math.min,k=o([].concat),w=o([].push),S=o("".indexOf),E=o("".slice),T="$0"==="a".replace(/./,"$0"),_=!!/./[b]&&""===/./[b]("a","$0");i("replace",(function(n,e,t){var o=_?"$":"$0";return[function(n,t){var a=m(this),o=null==n?void 0:h(n,b);return o?r(o,n,a,t):r(e,u(a),n,t)},function(n,r){var i=l(this),s=u(n);if("string"==typeof r&&-1===S(r,o)&&-1===S(r,"$<")){var m=t(e,i,s,r);if(m.done)return m.value}var h=c(r);h||(r=u(r));var b=i.global;if(b){var T=i.unicode;i.lastIndex=0}for(var _=[];;){var I=v(i,s);if(null===I)break;if(w(_,I),!b)break;""===u(I[0])&&(i.lastIndex=g(s,p(i.lastIndex),T))}for(var j,z="",C=0,A=0;A<_.length;A++){for(var P=u((I=_[A])[0]),D=y(x(d(I.index),s.length),0),q=[],L=1;L<I.length;L++)w(q,void 0===(j=I[L])?j:String(j));var B=I.groups;if(h){var O=k([P],q,D,s);void 0!==B&&w(O,B);var F=u(a(r,void 0,O))}else F=f(P,s,D,q,B,r);D>=C&&(z+=E(s,C,D)+F,C=D+P.length)}return z+E(s,C)}]}),!!s((function(){var n=/./;return n.exec=function(){var n=[];return n.groups={a:"7"},n},"7"!=="".replace(n,"$<a>")}))||!T||_)},function(n,e,t){var a,r,o,i=t(242),s=t(0),l=t(2),c=t(9),d=t(30),p=t(10),u=t(113),m=t(87),g=t(65),h=s.TypeError,f=s.WeakMap;if(i||u.state){var v=u.state||(u.state=new f),b=l(v.get),y=l(v.has),x=l(v.set);a=function(n,e){if(y(v,n))throw new h("Object already initialized");return e.facade=n,x(v,n,e),e},r=function(n){return b(v,n)||{}},o=function(n){return y(v,n)}}else{var k=m("state");g[k]=!0,a=function(n,e){if(p(n,k))throw new h("Object already initialized");return e.facade=n,d(n,k,e),e},r=function(n){return p(n,k)?n[k]:{}},o=function(n){return p(n,k)}}n.exports={set:a,get:r,has:o,enforce:function(n){return o(n)?r(n):a(n,{})},getterFor:function(n){return function(e){var t;if(!c(e)||(t=r(e)).type!==n)throw h("Incompatible receiver, "+n+" required");return t}}}},function(n,e,t){var a=t(1),r=t(0),o=t(36),i=t(267),s=r.WebAssembly,l=7!==Error("e",{cause:7}).cause,c=function(n,e){var t={};t[n]=i(n,e,l),a({global:!0,forced:l},t)},d=function(n,e){if(s&&s[n]){var t={};t[n]=i("WebAssembly."+n,e,l),a({target:"WebAssembly",stat:!0,forced:l},t)}};c("Error",(function(n){return function(e){return o(n,this,arguments)}})),c("EvalError",(function(n){return function(e){return o(n,this,arguments)}})),c("RangeError",(function(n){return function(e){return o(n,this,arguments)}})),c("ReferenceError",(function(n){return function(e){return o(n,this,arguments)}})),c("SyntaxError",(function(n){return function(e){return o(n,this,arguments)}})),c("TypeError",(function(n){return function(e){return o(n,this,arguments)}})),c("URIError",(function(n){return function(e){return o(n,this,arguments)}})),d("CompileError",(function(n){return function(e){return o(n,this,arguments)}})),d("LinkError",(function(n){return function(e){return o(n,this,arguments)}})),d("RuntimeError",(function(n){return function(e){return o(n,this,arguments)}}))},function(n,e,t){var a=t(291),r=t(294);n.exports=function(n,e){var t=r(n,e);return a(t)?t:void 0}},function(n,e,t){var a=t(1),r=t(0),o=t(36),i=t(5),s=t(32),l=t(69),c=t(151),d=/MSIE .\./.test(s),p=r.Function,u=function(n){return function(e,t){var a=c(arguments.length,1)>2,r=i(e)?e:p(e),s=a?l(arguments,2):void 0;return n(a?function(){o(r,this,s)}:r,t)}};a({global:!0,bind:!0,forced:d},{setTimeout:u(r.setTimeout),setInterval:u(r.setInterval)})},function(n,e,t){"use strict";var a=t(1),r=t(0),o=t(60),i=t(89),s=t(9),l=t(106),c=t(24),d=t(20),p=t(70),u=t(6),m=t(92),g=t(69),h=m("slice"),f=u("species"),v=r.Array,b=Math.max;a({target:"Array",proto:!0,forced:!h},{slice:function(n,e){var t,a,r,u=d(this),m=c(u),h=l(n,m),y=l(void 0===e?m:e,m);if(o(u)&&(t=u.constructor,(i(t)&&(t===v||o(t.prototype))||s(t)&&null===(t=t[f]))&&(t=void 0),t===v||void 0===t))return g(u,h,y);for(a=new(void 0===t?v:t)(b(y-h,0)),r=0;h<y;h++,r++)h in u&&p(a,r,u[h]);return a.length=r,a}})},function(n,e,t){"use strict";t.d(e,"e",(function(){return a})),t.d(e,"b",(function(){return o})),t.d(e,"j",(function(){return i})),t.d(e,"g",(function(){return l})),t.d(e,"h",(function(){return c})),t.d(e,"i",(function(){return d})),t.d(e,"c",(function(){return p})),t.d(e,"f",(function(){return u})),t.d(e,"l",(function(){return m})),t.d(e,"m",(function(){return g})),t.d(e,"d",(function(){return f})),t.d(e,"k",(function(){return v})),t.d(e,"n",(function(){return b})),t.d(e,"a",(function(){return x}));t(16),t(39),t(147),t(77),t(75),t(112),t(46),t(22),t(4),t(23),t(25),t(79),t(104),t(105),t(54),t(159),t(26),t(143);var a=/#.*$/,r=/\.(md|html)$/,o=/\/$/,i=/^[a-z]+:/i;function s(n){return decodeURI(n).replace(a,"").replace(r,"")}function l(n){return i.test(n)}function c(n){return/^mailto:/.test(n)}function d(n){return/^tel:/.test(n)}function p(n){if(l(n))return n;var e=n.match(a),t=e?e[0]:"",r=s(n);return o.test(r)?n:r+".html"+t}function u(n,e){var t=n.hash,r=function(n){var e=n.match(a);if(e)return e[0]}(e);return(!r||t===r)&&s(n.path)===s(e)}function m(n,e,t){if(l(e))return{type:"external",path:e};t&&(e=function(n,e,t){var a=n.charAt(0);if("/"===a)return n;if("?"===a||"#"===a)return e+n;var r=e.split("/");t&&r[r.length-1]||r.pop();for(var o=n.replace(/^\//,"").split("/"),i=0;i<o.length;i++){var s=o[i];".."===s?r.pop():"."!==s&&r.push(s)}""!==r[0]&&r.unshift("");return r.join("/")}(e,t));for(var a=s(e),r=0;r<n.length;r++)if(s(n[r].regularPath)===a)return Object.assign({},n[r],{type:"page",path:p(n[r].path)});return console.error('[vuepress] No matching page found for sidebar item "'.concat(e,'"')),{}}function g(n,e,t,a){var r=t.pages,o=t.themeConfig,i=a&&o.locales&&o.locales[a]||o;if("auto"===(n.frontmatter.sidebar||i.sidebar||o.sidebar))return h(n);var s=i.sidebar||o.sidebar;if(s){var l=function(n,e){if(Array.isArray(e))return{base:"/",config:e};for(var t in e)if(0===(a=n,/(\.html|\/)$/.test(a)?a:a+"/").indexOf(encodeURI(t)))return{base:t,config:e[t]};var a;return{}}(e,s),c=l.base,d=l.config;return"auto"===d?h(n):d?d.map((function(n){return function n(e,t,a){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1;if("string"==typeof e)return m(t,e,a);if(Array.isArray(e))return Object.assign(m(t,e[0],a),{title:e[1]});r>3&&console.error("[vuepress] detected a too deep nested sidebar group.");var o=e.children||[];return 0===o.length&&e.path?Object.assign(m(t,e.path,a),{title:e.title}):{type:"group",path:e.path,title:e.title,sidebarDepth:e.sidebarDepth,initialOpenGroupIndex:e.initialOpenGroupIndex,children:o.map((function(e){return n(e,t,a,r+1)})),collapsable:!1!==e.collapsable}}(n,r,c)})):[]}return[]}function h(n){var e=f(n.headers||[]);return[{type:"group",collapsable:!1,title:n.title,path:null,children:e.map((function(e){return{type:"auto",title:e.title,basePath:n.path,path:n.path+"#"+e.slug,children:e.children||[]}}))}]}function f(n){var e;return(n=n.map((function(n){return Object.assign({},n)}))).forEach((function(n){2===n.level?e=n:e&&(e.children||(e.children=[])).push(n)})),n.filter((function(n){return 2===n.level}))}function v(n){return Object.assign(n,{type:n.items&&n.items.length?"links":"link"})}function b(n){return Object.prototype.toString.call(n).match(/\[object (.*?)\]/)[1].toLowerCase()}function y(n){var e=n.frontmatter.date||n.lastUpdated||new Date,t=new Date(e);return"Invalid Date"==t&&e&&(t=new Date(e.replace(/-/g,"/"))),t.getTime()}function x(n,e){return y(e)-y(n)}},function(n,e,t){"use strict";var a=t(1),r=t(57).map;a({target:"Array",proto:!0,forced:!t(92)("map")},{map:function(n){return r(this,n,arguments.length>1?arguments[1]:void 0)}})},function(n,e,t){"use strict";var a=t(3);n.exports=function(n,e){var t=[][n];return!!t&&a((function(){t.call(null,e||function(){return 1},1)}))}},function(n,e,t){var a=t(37);n.exports=function(n,e){var t=n[e];return null==t?void 0:a(t)}},function(n,e){n.exports=function(n,e){return{enumerable:!(1&n),configurable:!(2&n),writable:!(4&n),value:e}}},function(n,e){n.exports=function(n){return null!=n&&"object"==typeof n}},function(n,e,t){"use strict";t.d(e,"a",(function(){return o}));t(76),t(71),t(25),t(4),t(383),t(22),t(23),t(181),t(384),t(100);function a(n,e,t){return e in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function r(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(n);e&&(a=a.filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),t.push.apply(t,a)}return t}function o(n){for(var e=1;e<arguments.length;e++){var t=null!=arguments[e]?arguments[e]:{};e%2?r(Object(t),!0).forEach((function(e){a(n,e,t[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):r(Object(t)).forEach((function(e){Object.defineProperty(n,e,Object.getOwnPropertyDescriptor(t,e))}))}return n}},function(n,e,t){var a,r,o=t(0),i=t(32),s=o.process,l=o.Deno,c=s&&s.versions||l&&l.version,d=c&&c.v8;d&&(r=(a=d.split("."))[0]>0&&a[0]<4?1:+(a[0]+a[1])),!r&&i&&(!(a=i.match(/Edge\/(\d+)/))||a[1]>=74)&&(a=i.match(/Chrome\/(\d+)/))&&(r=+a[1]),n.exports=r},function(n,e,t){var a=t(55),r=Math.min;n.exports=function(n){return n>0?r(a(n),9007199254740991):0}},function(n,e,t){"use strict";var a=t(1),r=t(0),o=t(3),i=t(60),s=t(9),l=t(17),c=t(24),d=t(70),p=t(152),u=t(92),m=t(6),g=t(52),h=m("isConcatSpreadable"),f=r.TypeError,v=g>=51||!o((function(){var n=[];return n[h]=!1,n.concat()[0]!==n})),b=u("concat"),y=function(n){if(!s(n))return!1;var e=n[h];return void 0!==e?!!e:i(n)};a({target:"Array",proto:!0,forced:!v||!b},{concat:function(n){var e,t,a,r,o,i=l(this),s=p(i,0),u=0;for(e=-1,a=arguments.length;e<a;e++)if(y(o=-1===e?i:arguments[e])){if(u+(r=c(o))>9007199254740991)throw f("Maximum allowed index exceeded");for(t=0;t<r;t++,u++)t in o&&d(s,u,o[t])}else{if(u>=9007199254740991)throw f("Maximum allowed index exceeded");d(s,u++,o)}return s.length=u,s}})},function(n,e){var t=Math.ceil,a=Math.floor;n.exports=function(n){var e=+n;return e!=e||0===e?0:(e>0?a:t)(e)}},function(n,e,t){var a=t(2),r=t(37),o=t(64),i=a(a.bind);n.exports=function(n,e){return r(n),void 0===e?n:o?i(n,e):function(){return n.apply(e,arguments)}}},function(n,e,t){var a=t(56),r=t(2),o=t(63),i=t(17),s=t(24),l=t(152),c=r([].push),d=function(n){var e=1==n,t=2==n,r=3==n,d=4==n,p=6==n,u=7==n,m=5==n||p;return function(g,h,f,v){for(var b,y,x=i(g),k=o(x),w=a(h,f),S=s(k),E=0,T=v||l,_=e?T(g,S):t||u?T(g,0):void 0;S>E;E++)if((m||E in k)&&(y=w(b=k[E],E,x),n))if(e)_[E]=y;else if(y)switch(n){case 3:return!0;case 5:return b;case 6:return E;case 2:c(_,b)}else switch(n){case 4:return!1;case 7:c(_,b)}return p?-1:r||d?d:_}};n.exports={forEach:d(0),map:d(1),filter:d(2),some:d(3),every:d(4),find:d(5),findIndex:d(6),filterReject:d(7)}},function(n,e,t){var a=t(164),r=t(118).concat("length","prototype");e.f=Object.getOwnPropertyNames||function(n){return a(n,r)}},function(n,e,t){var a=t(13).f,r=t(10),o=t(6)("toStringTag");n.exports=function(n,e,t){n&&!t&&(n=n.prototype),n&&!r(n,o)&&a(n,o,{configurable:!0,value:e})}},function(n,e,t){var a=t(28);n.exports=Array.isArray||function(n){return"Array"==a(n)}},function(n,e,t){var a=t(7),r=t(67).EXISTS,o=t(2),i=t(13).f,s=Function.prototype,l=o(s.toString),c=/function\b(?:\s|\/\*[\S\s]*?\*\/|\/\/[^\n\r]*[\n\r]+)*([^\s(/]*)/,d=o(c.exec);a&&!r&&i(s,"name",{configurable:!0,get:function(){try{return d(c,l(this))[1]}catch(n){return""}}})},function(n,e,t){var a=t(72),r=t(276),o=t(277),i=a?a.toStringTag:void 0;n.exports=function(n){return null==n?void 0===n?"[object Undefined]":"[object Null]":i&&i in Object(n)?r(n):o(n)}},function(n,e,t){var a=t(0),r=t(2),o=t(3),i=t(28),s=a.Object,l=r("".split);n.exports=o((function(){return!s("z").propertyIsEnumerable(0)}))?function(n){return"String"==i(n)?l(n,""):s(n)}:s},function(n,e,t){var a=t(3);n.exports=!a((function(){var n=function(){}.bind();return"function"!=typeof n||n.hasOwnProperty("prototype")}))},function(n,e){n.exports={}},function(n,e){n.exports={}},function(n,e,t){var a=t(7),r=t(10),o=Function.prototype,i=a&&Object.getOwnPropertyDescriptor,s=r(o,"name"),l=s&&"something"===function(){}.name,c=s&&(!a||a&&i(o,"name").configurable);n.exports={EXISTS:s,PROPER:l,CONFIGURABLE:c}},function(n,e,t){var a=t(2),r=t(8),o=t(243);n.exports=Object.setPrototypeOf||("__proto__"in{}?function(){var n,e=!1,t={};try{(n=a(Object.getOwnPropertyDescriptor(Object.prototype,"__proto__").set))(t,[]),e=t instanceof Array}catch(n){}return function(t,a){return r(t),o(a),e?n(t,a):t.__proto__=a,t}}():void 0)},function(n,e,t){var a=t(2);n.exports=a([].slice)},function(n,e,t){"use strict";var a=t(83),r=t(13),o=t(49);n.exports=function(n,e,t){var i=a(e);i in n?r.f(n,i,o(0,t)):n[i]=t}},function(n,e,t){"use strict";var a=t(1),r=t(0),o=t(18),i=t(36),s=t(11),l=t(2),c=t(29),d=t(7),p=t(115),u=t(3),m=t(10),g=t(60),h=t(5),f=t(9),v=t(35),b=t(84),y=t(8),x=t(17),k=t(20),w=t(83),S=t(12),E=t(49),T=t(34),_=t(86),I=t(58),j=t(188),z=t(122),C=t(38),A=t(13),P=t(116),D=t(119),q=t(69),L=t(14),B=t(80),O=t(87),F=t(65),R=t(81),M=t(6),H=t(189),N=t(190),U=t(59),J=t(40),$=t(57).forEach,Z=O("hidden"),V=M("toPrimitive"),K=J.set,Q=J.getterFor("Symbol"),W=Object.prototype,G=r.Symbol,X=G&&G.prototype,Y=r.TypeError,nn=r.QObject,en=o("JSON","stringify"),tn=C.f,an=A.f,rn=j.f,on=D.f,sn=l([].push),ln=B("symbols"),cn=B("op-symbols"),dn=B("string-to-symbol-registry"),pn=B("symbol-to-string-registry"),un=B("wks"),mn=!nn||!nn.prototype||!nn.prototype.findChild,gn=d&&u((function(){return 7!=T(an({},"a",{get:function(){return an(this,"a",{value:7}).a}})).a}))?function(n,e,t){var a=tn(W,e);a&&delete W[e],an(n,e,t),a&&n!==W&&an(W,e,a)}:an,hn=function(n,e){var t=ln[n]=T(X);return K(t,{type:"Symbol",tag:n,description:e}),d||(t.description=e),t},fn=function(n,e,t){n===W&&fn(cn,e,t),y(n);var a=w(e);return y(t),m(ln,a)?(t.enumerable?(m(n,Z)&&n[Z][a]&&(n[Z][a]=!1),t=T(t,{enumerable:E(0,!1)})):(m(n,Z)||an(n,Z,E(1,{})),n[Z][a]=!0),gn(n,a,t)):an(n,a,t)},vn=function(n,e){y(n);var t=k(e),a=_(t).concat(kn(t));return $(a,(function(e){d&&!s(bn,t,e)||fn(n,e,t[e])})),n},bn=function(n){var e=w(n),t=s(on,this,e);return!(this===W&&m(ln,e)&&!m(cn,e))&&(!(t||!m(this,e)||!m(ln,e)||m(this,Z)&&this[Z][e])||t)},yn=function(n,e){var t=k(n),a=w(e);if(t!==W||!m(ln,a)||m(cn,a)){var r=tn(t,a);return!r||!m(ln,a)||m(t,Z)&&t[Z][a]||(r.enumerable=!0),r}},xn=function(n){var e=rn(k(n)),t=[];return $(e,(function(n){m(ln,n)||m(F,n)||sn(t,n)})),t},kn=function(n){var e=n===W,t=rn(e?cn:k(n)),a=[];return $(t,(function(n){!m(ln,n)||e&&!m(W,n)||sn(a,ln[n])})),a};(p||(L(X=(G=function(){if(v(X,this))throw Y("Symbol is not a constructor");var n=arguments.length&&void 0!==arguments[0]?S(arguments[0]):void 0,e=R(n),t=function(n){this===W&&s(t,cn,n),m(this,Z)&&m(this[Z],e)&&(this[Z][e]=!1),gn(this,e,E(1,n))};return d&&mn&&gn(W,e,{configurable:!0,set:t}),hn(e,n)}).prototype,"toString",(function(){return Q(this).tag})),L(G,"withoutSetter",(function(n){return hn(R(n),n)})),D.f=bn,A.f=fn,P.f=vn,C.f=yn,I.f=j.f=xn,z.f=kn,H.f=function(n){return hn(M(n),n)},d&&(an(X,"description",{configurable:!0,get:function(){return Q(this).description}}),c||L(W,"propertyIsEnumerable",bn,{unsafe:!0}))),a({global:!0,wrap:!0,forced:!p,sham:!p},{Symbol:G}),$(_(un),(function(n){N(n)})),a({target:"Symbol",stat:!0,forced:!p},{for:function(n){var e=S(n);if(m(dn,e))return dn[e];var t=G(e);return dn[e]=t,pn[t]=e,t},keyFor:function(n){if(!b(n))throw Y(n+" is not a symbol");if(m(pn,n))return pn[n]},useSetter:function(){mn=!0},useSimple:function(){mn=!1}}),a({target:"Object",stat:!0,forced:!p,sham:!d},{create:function(n,e){return void 0===e?T(n):vn(T(n),e)},defineProperty:fn,defineProperties:vn,getOwnPropertyDescriptor:yn}),a({target:"Object",stat:!0,forced:!p},{getOwnPropertyNames:xn,getOwnPropertySymbols:kn}),a({target:"Object",stat:!0,forced:u((function(){z.f(1)}))},{getOwnPropertySymbols:function(n){return z.f(x(n))}}),en)&&a({target:"JSON",stat:!0,forced:!p||u((function(){var n=G();return"[null]"!=en([n])||"{}"!=en({a:n})||"{}"!=en(Object(n))}))},{stringify:function(n,e,t){var a=q(arguments),r=e;if((f(e)||void 0!==n)&&!b(n))return g(e)||(e=function(n,e){if(h(r)&&(e=s(r,this,n,e)),!b(e))return e}),a[1]=e,i(en,null,a)}});if(!X[V]){var wn=X.valueOf;L(X,V,(function(n){return s(wn,this)}))}U(G,"Symbol"),F[Z]=!0},function(n,e,t){var a=t(33).Symbol;n.exports=a},function(n,e,t){"use strict";t.d(e,"a",(function(){return o}));t(79);var a=t(74);t(71),t(93),t(4),t(127),t(21),t(27),t(154);var r=t(101);t(41),t(26);function o(n){return function(n){if(Array.isArray(n))return Object(a.a)(n)}(n)||function(n){if("undefined"!=typeof Symbol&&null!=n[Symbol.iterator]||null!=n["@@iterator"])return Array.from(n)}(n)||Object(r.a)(n)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}},function(n,e,t){"use strict";function a(n,e){(null==e||e>n.length)&&(e=n.length);for(var t=0,a=new Array(e);t<e;t++)a[t]=n[t];return a}t.d(e,"a",(function(){return a}))},function(n,e,t){"use strict";var a=t(36),r=t(11),o=t(2),i=t(110),s=t(153),l=t(8),c=t(19),d=t(125),p=t(128),u=t(53),m=t(12),g=t(48),h=t(126),f=t(111),v=t(94),b=t(109),y=t(3),x=b.UNSUPPORTED_Y,k=Math.min,w=[].push,S=o(/./.exec),E=o(w),T=o("".slice);i("split",(function(n,e,t){var o;return o="c"=="abbc".split(/(b)*/)[1]||4!="test".split(/(?:)/,-1).length||2!="ab".split(/(?:ab)*/).length||4!=".".split(/(.?)(.?)/).length||".".split(/()()/).length>1||"".split(/.?/).length?function(n,t){var o=m(c(this)),i=void 0===t?4294967295:t>>>0;if(0===i)return[];if(void 0===n)return[o];if(!s(n))return r(e,o,n,i);for(var l,d,p,u=[],g=(n.ignoreCase?"i":"")+(n.multiline?"m":"")+(n.unicode?"u":"")+(n.sticky?"y":""),f=0,b=new RegExp(n.source,g+"g");(l=r(v,b,o))&&!((d=b.lastIndex)>f&&(E(u,T(o,f,l.index)),l.length>1&&l.index<o.length&&a(w,u,h(l,1)),p=l[0].length,f=d,u.length>=i));)b.lastIndex===l.index&&b.lastIndex++;return f===o.length?!p&&S(b,"")||E(u,""):E(u,T(o,f)),u.length>i?h(u,0,i):u}:"0".split(void 0,0).length?function(n,t){return void 0===n&&0===t?[]:r(e,this,n,t)}:e,[function(e,t){var a=c(this),i=null==e?void 0:g(e,n);return i?r(i,e,a,t):r(o,m(a),e,t)},function(n,a){var r=l(this),i=m(n),s=t(o,r,i,a,o!==e);if(s.done)return s.value;var c=d(r,RegExp),g=r.unicode,h=(r.ignoreCase?"i":"")+(r.multiline?"m":"")+(r.unicode?"u":"")+(x?"g":"y"),v=new c(x?"^(?:"+r.source+")":r,h),b=void 0===a?4294967295:a>>>0;if(0===b)return[];if(0===i.length)return null===f(v,i)?[i]:[];for(var y=0,w=0,S=[];w<i.length;){v.lastIndex=x?0:w;var _,I=f(v,x?T(i,w):i);if(null===I||(_=k(u(v.lastIndex+(x?w:0)),i.length))===y)w=p(i,w,g);else{if(E(S,T(i,y,w)),S.length===b)return S;for(var j=1;j<=I.length-1;j++)if(E(S,I[j]),S.length===b)return S;w=y=_}}return E(S,T(i,y)),S}]}),!!y((function(){var n=/(?:)/,e=n.exec;n.exec=function(){return e.apply(this,arguments)};var t="ab".split(n);return 2!==t.length||"a"!==t[0]||"b"!==t[1]})),x)},function(n,e,t){var a=t(1),r=t(17),o=t(86);a({target:"Object",stat:!0,forced:t(3)((function(){o(1)}))},{keys:function(n){return o(r(n))}})},function(n,e,t){"use strict";t(16);var a,r,o=t(1),i=t(0),s=t(11),l=t(2),c=t(5),d=t(9),p=(a=!1,(r=/[ac]/).exec=function(){return a=!0,/./.exec.apply(this,arguments)},!0===r.test("abc")&&a),u=i.Error,m=l(/./.test);o({target:"RegExp",proto:!0,forced:!p},{test:function(n){var e=this.exec;if(!c(e))return m(this,n);var t=s(e,this,n);if(null!==t&&!d(t))throw new u("RegExp exec method returned something other than an Object or null");return!!t}})},function(n,e,t){var a=t(0),r=t(124),o=t(5),i=t(28),s=t(6)("toStringTag"),l=a.Object,c="Arguments"==i(function(){return arguments}());n.exports=r?i:function(n){var e,t,a;return void 0===n?"Undefined":null===n?"Null":"string"==typeof(t=function(n,e){try{return n[e]}catch(n){}}(e=l(n),s))?t:c?i(e):"Object"==(a=i(e))&&o(e.callee)?"Arguments":a}},function(n,e,t){t(1)({target:"Array",stat:!0},{isArray:t(60)})},function(n,e,t){var a=t(29),r=t(113);(n.exports=function(n,e){return r[n]||(r[n]=void 0!==e?e:{})})("versions",[]).push({version:"3.21.1",mode:a?"pure":"global",copyright:"Â© 2014-2022 Denis Pushkarev (zloirock.ru)",license:"https://github.com/zloirock/core-js/blob/v3.21.1/LICENSE",source:"https://github.com/zloirock/core-js"})},function(n,e,t){var a=t(2),r=0,o=Math.random(),i=a(1..toString);n.exports=function(n){return"Symbol("+(void 0===n?"":n)+")_"+i(++r+o,36)}},function(n,e,t){var a=t(0),r=t(9),o=a.document,i=r(o)&&r(o.createElement);n.exports=function(n){return i?o.createElement(n):{}}},function(n,e,t){var a=t(163),r=t(84);n.exports=function(n){var e=a(n,"string");return r(e)?e:e+""}},function(n,e,t){var a=t(0),r=t(18),o=t(5),i=t(35),s=t(160),l=a.Object;n.exports=s?function(n){return"symbol"==typeof n}:function(n){var e=r("Symbol");return o(e)&&i(e.prototype,l(n))}},function(n,e,t){var a=t(0).String;n.exports=function(n){try{return a(n)}catch(n){return"Object"}}},function(n,e,t){var a=t(164),r=t(118);n.exports=Object.keys||function(n){return a(n,r)}},function(n,e,t){var a=t(80),r=t(81),o=a("keys");n.exports=function(n){return o[n]||(o[n]=r(n))}},function(n,e,t){var a=t(2),r=t(5),o=t(113),i=a(Function.toString);r(o.inspectSource)||(o.inspectSource=function(n){return i(n)}),n.exports=o.inspectSource},function(n,e,t){var a=t(2),r=t(3),o=t(5),i=t(78),s=t(18),l=t(88),c=function(){},d=[],p=s("Reflect","construct"),u=/^\s*(?:class|function)\b/,m=a(u.exec),g=!u.exec(c),h=function(n){if(!o(n))return!1;try{return p(c,d,n),!0}catch(n){return!1}},f=function(n){if(!o(n))return!1;switch(i(n)){case"AsyncFunction":case"GeneratorFunction":case"AsyncGeneratorFunction":return!1}try{return g||!!m(u,l(n))}catch(n){return!0}};f.sham=!0,n.exports=!p||r((function(){var n;return h(h.call)||!h(Object)||!h((function(){n=!0}))||n}))?f:h},function(n,e,t){var a=t(28),r=t(0);n.exports="process"==a(r.process)},function(n,e,t){"use strict";t.d(e,"a",(function(){return r}));t(4);function a(n,e,t,a,r,o,i){try{var s=n[o](i),l=s.value}catch(n){return void t(n)}s.done?e(l):Promise.resolve(l).then(a,r)}function r(n){return function(){var e=this,t=arguments;return new Promise((function(r,o){var i=n.apply(e,t);function s(n){a(i,r,o,s,l,"next",n)}function l(n){a(i,r,o,s,l,"throw",n)}s(void 0)}))}}},function(n,e,t){var a=t(3),r=t(6),o=t(52),i=r("species");n.exports=function(n){return o>=51||!a((function(){var e=[];return(e.constructor={})[i]=function(){return{foo:1}},1!==e[n](Boolean).foo}))}},function(n,e,t){"use strict";var a=t(1),r=t(7),o=t(0),i=t(2),s=t(10),l=t(5),c=t(35),d=t(12),p=t(13).f,u=t(120),m=o.Symbol,g=m&&m.prototype;if(r&&l(m)&&(!("description"in g)||void 0!==m().description)){var h={},f=function(){var n=arguments.length<1||void 0===arguments[0]?void 0:d(arguments[0]),e=c(g,this)?new m(n):void 0===n?m():m(n);return""===n&&(h[e]=!0),e};u(f,m),f.prototype=g,g.constructor=f;var v="Symbol(test)"==String(m("test")),b=i(g.toString),y=i(g.valueOf),x=/^Symbol\((.*)\)[^)]+$/,k=i("".replace),w=i("".slice);p(g,"description",{configurable:!0,get:function(){var n=y(this),e=b(n);if(s(h,n))return"";var t=v?w(e,7,-1):k(e,x,"$1");return""===t?void 0:t}}),a({global:!0,forced:!0},{Symbol:f})}},function(n,e,t){"use strict";var a,r,o=t(11),i=t(2),s=t(12),l=t(155),c=t(109),d=t(80),p=t(34),u=t(40).get,m=t(227),g=t(232),h=d("native-string-replace",String.prototype.replace),f=RegExp.prototype.exec,v=f,b=i("".charAt),y=i("".indexOf),x=i("".replace),k=i("".slice),w=(r=/b*/g,o(f,a=/a/,"a"),o(f,r,"a"),0!==a.lastIndex||0!==r.lastIndex),S=c.BROKEN_CARET,E=void 0!==/()??/.exec("")[1];(w||E||S||m||g)&&(v=function(n){var e,t,a,r,i,c,d,m=this,g=u(m),T=s(n),_=g.raw;if(_)return _.lastIndex=m.lastIndex,e=o(v,_,T),m.lastIndex=_.lastIndex,e;var I=g.groups,j=S&&m.sticky,z=o(l,m),C=m.source,A=0,P=T;if(j&&(z=x(z,"y",""),-1===y(z,"g")&&(z+="g"),P=k(T,m.lastIndex),m.lastIndex>0&&(!m.multiline||m.multiline&&"\n"!==b(T,m.lastIndex-1))&&(C="(?: "+C+")",P=" "+P,A++),t=new RegExp("^(?:"+C+")",z)),E&&(t=new RegExp("^"+C+"$(?!\\s)",z)),w&&(a=m.lastIndex),r=o(f,j?t:m,P),j?r?(r.input=k(r.input,A),r[0]=k(r[0],A),r.index=m.lastIndex,m.lastIndex+=r[0].length):m.lastIndex=0:w&&r&&(m.lastIndex=m.global?r.index+r[0].length:a),E&&r&&r.length>1&&o(h,r[0],t,(function(){for(i=1;i<arguments.length-2;i++)void 0===arguments[i]&&(r[i]=void 0)})),r&&I)for(r.groups=c=p(null),i=0;i<I.length;i++)c[(d=I[i])[0]]=r[d[1]];return r}),n.exports=v},function(n,e,t){var a=t(281),r=t(282),o=t(283),i=t(284),s=t(285);function l(n){var e=-1,t=null==n?0:n.length;for(this.clear();++e<t;){var a=n[e];this.set(a[0],a[1])}}l.prototype.clear=a,l.prototype.delete=r,l.prototype.get=o,l.prototype.has=i,l.prototype.set=s,n.exports=l},function(n,e,t){var a=t(196);n.exports=function(n,e){for(var t=n.length;t--;)if(a(n[t][0],e))return t;return-1}},function(n,e,t){var a=t(42)(Object,"create");n.exports=a},function(n,e,t){var a=t(303);n.exports=function(n,e){var t=n.__data__;return a(e)?t["string"==typeof e?"string":"hash"]:t.map}},function(n,e,t){var a=t(137);n.exports=function(n){if("string"==typeof n||a(n))return n;var e=n+"";return"0"==e&&1/n==-1/0?"-0":e}},function(n,e,t){var a=t(1),r=t(7),o=t(13).f;a({target:"Object",stat:!0,forced:Object.defineProperty!==o,sham:!r},{defineProperty:o})},function(n,e,t){"use strict";t.d(e,"a",(function(){return r}));t(44),t(4),t(61),t(154),t(21),t(16),t(77);var a=t(74);function r(n,e){if(n){if("string"==typeof n)return Object(a.a)(n,e);var t=Object.prototype.toString.call(n).slice(8,-1);return"Object"===t&&n.constructor&&(t=n.constructor.name),"Map"===t||"Set"===t?Array.from(n):"Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t)?Object(a.a)(n,e):void 0}}},function(n,e,t){var a,r;
/* NProgress, (c) 2013, 2014 Rico Sta. Cruz - http://ricostacruz.com/nprogress
 * @license MIT */void 0===(r="function"==typeof(a=function(){var n,e,t={version:"0.2.0"},a=t.settings={minimum:.08,easing:"ease",positionUsing:"",speed:200,trickle:!0,trickleRate:.02,trickleSpeed:800,showSpinner:!0,barSelector:'[role="bar"]',spinnerSelector:'[role="spinner"]',parent:"body",template:'<div class="bar" role="bar"><div class="peg"></div></div><div class="spinner" role="spinner"><div class="spinner-icon"></div></div>'};function r(n,e,t){return n<e?e:n>t?t:n}function o(n){return 100*(-1+n)}t.configure=function(n){var e,t;for(e in n)void 0!==(t=n[e])&&n.hasOwnProperty(e)&&(a[e]=t);return this},t.status=null,t.set=function(n){var e=t.isStarted();n=r(n,a.minimum,1),t.status=1===n?null:n;var l=t.render(!e),c=l.querySelector(a.barSelector),d=a.speed,p=a.easing;return l.offsetWidth,i((function(e){""===a.positionUsing&&(a.positionUsing=t.getPositioningCSS()),s(c,function(n,e,t){var r;return(r="translate3d"===a.positionUsing?{transform:"translate3d("+o(n)+"%,0,0)"}:"translate"===a.positionUsing?{transform:"translate("+o(n)+"%,0)"}:{"margin-left":o(n)+"%"}).transition="all "+e+"ms "+t,r}(n,d,p)),1===n?(s(l,{transition:"none",opacity:1}),l.offsetWidth,setTimeout((function(){s(l,{transition:"all "+d+"ms linear",opacity:0}),setTimeout((function(){t.remove(),e()}),d)}),d)):setTimeout(e,d)})),this},t.isStarted=function(){return"number"==typeof t.status},t.start=function(){t.status||t.set(0);var n=function(){setTimeout((function(){t.status&&(t.trickle(),n())}),a.trickleSpeed)};return a.trickle&&n(),this},t.done=function(n){return n||t.status?t.inc(.3+.5*Math.random()).set(1):this},t.inc=function(n){var e=t.status;return e?("number"!=typeof n&&(n=(1-e)*r(Math.random()*e,.1,.95)),e=r(e+n,0,.994),t.set(e)):t.start()},t.trickle=function(){return t.inc(Math.random()*a.trickleRate)},n=0,e=0,t.promise=function(a){return a&&"resolved"!==a.state()?(0===e&&t.start(),n++,e++,a.always((function(){0==--e?(n=0,t.done()):t.set((n-e)/n)})),this):this},t.render=function(n){if(t.isRendered())return document.getElementById("nprogress");c(document.documentElement,"nprogress-busy");var e=document.createElement("div");e.id="nprogress",e.innerHTML=a.template;var r,i=e.querySelector(a.barSelector),l=n?"-100":o(t.status||0),d=document.querySelector(a.parent);return s(i,{transition:"all 0 linear",transform:"translate3d("+l+"%,0,0)"}),a.showSpinner||(r=e.querySelector(a.spinnerSelector))&&u(r),d!=document.body&&c(d,"nprogress-custom-parent"),d.appendChild(e),e},t.remove=function(){d(document.documentElement,"nprogress-busy"),d(document.querySelector(a.parent),"nprogress-custom-parent");var n=document.getElementById("nprogress");n&&u(n)},t.isRendered=function(){return!!document.getElementById("nprogress")},t.getPositioningCSS=function(){var n=document.body.style,e="WebkitTransform"in n?"Webkit":"MozTransform"in n?"Moz":"msTransform"in n?"ms":"OTransform"in n?"O":"";return e+"Perspective"in n?"translate3d":e+"Transform"in n?"translate":"margin"};var i=function(){var n=[];function e(){var t=n.shift();t&&t(e)}return function(t){n.push(t),1==n.length&&e()}}(),s=function(){var n=["Webkit","O","Moz","ms"],e={};function t(t){return t=t.replace(/^-ms-/,"ms-").replace(/-([\da-z])/gi,(function(n,e){return e.toUpperCase()})),e[t]||(e[t]=function(e){var t=document.body.style;if(e in t)return e;for(var a,r=n.length,o=e.charAt(0).toUpperCase()+e.slice(1);r--;)if((a=n[r]+o)in t)return a;return e}(t))}function a(n,e,a){e=t(e),n.style[e]=a}return function(n,e){var t,r,o=arguments;if(2==o.length)for(t in e)void 0!==(r=e[t])&&e.hasOwnProperty(t)&&a(n,t,r);else a(n,o[1],o[2])}}();function l(n,e){return("string"==typeof n?n:p(n)).indexOf(" "+e+" ")>=0}function c(n,e){var t=p(n),a=t+e;l(t,e)||(n.className=a.substring(1))}function d(n,e){var t,a=p(n);l(n,e)&&(t=a.replace(" "+e+" "," "),n.className=t.substring(1,t.length-1))}function p(n){return(" "+(n.className||"")+" ").replace(/\s+/gi," ")}function u(n){n&&n.parentNode&&n.parentNode.removeChild(n)}return t})?a.call(e,t,e,n):a)||(n.exports=r)},function(n){n.exports=JSON.parse('{"name":"vuepress-plugin-comment","version":"0.7.3","description":"Comment plugin in vuepress, such as Gitalk, Valine...","main":"index.js","scripts":{"test":"echo \\"Error: no test specified\\" && exit 1"},"repository":{"type":"git","url":"git+ssh://git@github.com/dongyuanxin/vuepress-plugin-comment.git"},"keywords":["vuepress","comment","plugin","vue","gitalk","valine"],"author":"dongyuanxin","license":"MIT","bugs":{"url":"https://github.com/dongyuanxin/vuepress-plugin-comment/issues"},"homepage":"https://github.com/dongyuanxin/vuepress-plugin-comment#readme","dependencies":{"ejs":"^2.6.1","gitalk":"^1.5.0","gitalk-fix":"^1.5.2","i":"^0.3.6","npm":"^6.9.0","valine":"^1.3.9"}}')},function(n,e,t){"use strict";var a=t(1),r=t(2),o=t(117).indexOf,i=t(47),s=r([].indexOf),l=!!s&&1/s([1],1,-0)<0,c=i("indexOf");a({target:"Array",proto:!0,forced:l||!c},{indexOf:function(n){var e=arguments.length>1?arguments[1]:void 0;return l?s(this,n,e)||0:o(this,n,e)}})},function(n,e,t){var a=t(2),r=t(14),o=Date.prototype,i=a(o.toString),s=a(o.getTime);"Invalid Date"!=String(new Date(NaN))&&r(o,"toString",(function(){var n=s(this);return n==n?i(this):"Invalid Date"}))},function(n,e,t){var a=t(55),r=Math.max,o=Math.min;n.exports=function(n,e){var t=a(n);return t<0?r(t+e,0):o(t,e)}},function(n,e,t){var a=t(3),r=t(5),o=/#|\.prototype\./,i=function(n,e){var t=l[s(n)];return t==d||t!=c&&(r(e)?a(e):!!e)},s=i.normalize=function(n){return String(n).replace(o,".").toLowerCase()},l=i.data={},c=i.NATIVE="N",d=i.POLYFILL="P";n.exports=i},function(n,e,t){var a=t(78),r=t(48),o=t(66),i=t(6)("iterator");n.exports=function(n){if(null!=n)return r(n,i)||r(n,"@@iterator")||o[a(n)]}},function(n,e,t){var a=t(3),r=t(0).RegExp,o=a((function(){var n=r("a","y");return n.lastIndex=2,null!=n.exec("abcd")})),i=o||a((function(){return!r("a","y").sticky})),s=o||a((function(){var n=r("^r","gy");return n.lastIndex=2,null!=n.exec("str")}));n.exports={BROKEN_CARET:s,MISSED_STICKY:i,UNSUPPORTED_Y:o}},function(n,e,t){"use strict";t(16);var a=t(2),r=t(14),o=t(94),i=t(3),s=t(6),l=t(30),c=s("species"),d=RegExp.prototype;n.exports=function(n,e,t,p){var u=s(n),m=!i((function(){var e={};return e[u]=function(){return 7},7!=""[n](e)})),g=m&&!i((function(){var e=!1,t=/a/;return"split"===n&&((t={}).constructor={},t.constructor[c]=function(){return t},t.flags="",t[u]=/./[u]),t.exec=function(){return e=!0,null},t[u](""),!e}));if(!m||!g||t){var h=a(/./[u]),f=e(u,""[n],(function(n,e,t,r,i){var s=a(n),l=e.exec;return l===o||l===d.exec?m&&!i?{done:!0,value:h(e,t,r)}:{done:!0,value:s(t,e,r)}:{done:!1}}));r(String.prototype,n,f[0]),r(d,u,f[1])}p&&l(d[u],"sham",!0)}},function(n,e,t){var a=t(0),r=t(11),o=t(8),i=t(5),s=t(28),l=t(94),c=a.TypeError;n.exports=function(n,e){var t=n.exec;if(i(t)){var a=r(t,n,e);return null!==a&&o(a),a}if("RegExp"===s(n))return r(l,n,e);throw c("RegExp#exec called on incompatible receiver")}},function(n,e,t){"use strict";var a=t(1),r=t(2),o=t(63),i=t(20),s=t(47),l=r([].join),c=o!=Object,d=s("join",",");a({target:"Array",proto:!0,forced:c||!d},{join:function(n){return l(i(this),void 0===n?",":n)}})},function(n,e,t){var a=t(0),r=t(114),o=a["__core-js_shared__"]||r("__core-js_shared__",{});n.exports=o},function(n,e,t){var a=t(0),r=Object.defineProperty;n.exports=function(n,e){try{r(a,n,{value:e,configurable:!0,writable:!0})}catch(t){a[n]=e}return e}},function(n,e,t){var a=t(52),r=t(3);n.exports=!!Object.getOwnPropertySymbols&&!r((function(){var n=Symbol();return!String(n)||!(Object(n)instanceof Symbol)||!Symbol.sham&&a&&a<41}))},function(n,e,t){var a=t(7),r=t(161),o=t(13),i=t(8),s=t(20),l=t(86);e.f=a&&!r?Object.defineProperties:function(n,e){i(n);for(var t,a=s(e),r=l(e),c=r.length,d=0;c>d;)o.f(n,t=r[d++],a[t]);return n}},function(n,e,t){var a=t(20),r=t(106),o=t(24),i=function(n){return function(e,t,i){var s,l=a(e),c=o(l),d=r(i,c);if(n&&t!=t){for(;c>d;)if((s=l[d++])!=s)return!0}else for(;c>d;d++)if((n||d in l)&&l[d]===t)return n||d||0;return!n&&-1}};n.exports={includes:i(!0),indexOf:i(!1)}},function(n,e){n.exports=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"]},function(n,e,t){"use strict";var a={}.propertyIsEnumerable,r=Object.getOwnPropertyDescriptor,o=r&&!a.call({1:2},1);e.f=o?function(n){var e=r(this,n);return!!e&&e.enumerable}:a},function(n,e,t){var a=t(10),r=t(121),o=t(38),i=t(13);n.exports=function(n,e,t){for(var s=r(e),l=i.f,c=o.f,d=0;d<s.length;d++){var p=s[d];a(n,p)||t&&a(t,p)||l(n,p,c(e,p))}}},function(n,e,t){var a=t(18),r=t(2),o=t(58),i=t(122),s=t(8),l=r([].concat);n.exports=a("Reflect","ownKeys")||function(n){var e=o.f(s(n)),t=i.f;return t?l(e,t(n)):e}},function(n,e){e.f=Object.getOwnPropertySymbols},function(n,e,t){var a=t(0),r=t(10),o=t(5),i=t(17),s=t(87),l=t(168),c=s("IE_PROTO"),d=a.Object,p=d.prototype;n.exports=l?d.getPrototypeOf:function(n){var e=i(n);if(r(e,c))return e[c];var t=e.constructor;return o(t)&&e instanceof t?t.prototype:e instanceof d?p:null}},function(n,e,t){var a={};a[t(6)("toStringTag")]="z",n.exports="[object z]"===String(a)},function(n,e,t){var a=t(8),r=t(173),o=t(6)("species");n.exports=function(n,e){var t,i=a(n).constructor;return void 0===i||null==(t=a(i)[o])?e:r(t)}},function(n,e,t){var a=t(0),r=t(106),o=t(24),i=t(70),s=a.Array,l=Math.max;n.exports=function(n,e,t){for(var a=o(n),c=r(e,a),d=r(void 0===t?a:t,a),p=s(l(d-c,0)),u=0;c<d;c++,u++)i(p,u,n[c]);return p.length=u,p}},function(n,e,t){t(190)("iterator")},function(n,e,t){"use strict";var a=t(178).charAt;n.exports=function(n,e,t){return e+(t?a(n,e).length:1)}},function(n,e,t){var a=t(1),r=t(0),o=t(18),i=t(36),s=t(2),l=t(3),c=r.Array,d=o("JSON","stringify"),p=s(/./.exec),u=s("".charAt),m=s("".charCodeAt),g=s("".replace),h=s(1..toString),f=/[\uD800-\uDFFF]/g,v=/^[\uD800-\uDBFF]$/,b=/^[\uDC00-\uDFFF]$/,y=function(n,e,t){var a=u(t,e-1),r=u(t,e+1);return p(v,n)&&!p(b,r)||p(b,n)&&!p(v,a)?"\\u"+h(m(n,0),16):n},x=l((function(){return'"\\udf06\\ud834"'!==d("\udf06\ud834")||'"\\udead"'!==d("\udead")}));d&&a({target:"JSON",stat:!0,forced:x},{stringify:function(n,e,t){for(var a=0,r=arguments.length,o=c(r);a<r;a++)o[a]=arguments[a];var s=i(d,null,o);return"string"==typeof s?g(s,f,y):s}})},function(n,e,t){var a=t(275),r=t(50),o=Object.prototype,i=o.hasOwnProperty,s=o.propertyIsEnumerable,l=a(function(){return arguments}())?a:function(n){return r(n)&&i.call(n,"callee")&&!s.call(n,"callee")};n.exports=l},function(n,e,t){var a=t(42)(t(33),"Map");n.exports=a},function(n,e){n.exports=function(n){var e=typeof n;return null!=n&&("object"==e||"function"==e)}},function(n,e,t){var a=t(295),r=t(302),o=t(304),i=t(305),s=t(306);function l(n){var e=-1,t=null==n?0:n.length;for(this.clear();++e<t;){var a=n[e];this.set(a[0],a[1])}}l.prototype.clear=a,l.prototype.delete=r,l.prototype.get=o,l.prototype.has=i,l.prototype.set=s,n.exports=l},function(n,e){n.exports=function(n){var e=-1,t=Array(n.size);return n.forEach((function(n){t[++e]=n})),t}},function(n,e){n.exports=function(n){return"number"==typeof n&&n>-1&&n%1==0&&n<=9007199254740991}},function(n,e,t){var a=t(31),r=t(137),o=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,i=/^\w*$/;n.exports=function(n,e){if(a(n))return!1;var t=typeof n;return!("number"!=t&&"symbol"!=t&&"boolean"!=t&&null!=n&&!r(n))||(i.test(n)||!o.test(n)||null!=e&&n in Object(e))}},function(n,e,t){var a=t(62),r=t(50);n.exports=function(n){return"symbol"==typeof n||r(n)&&"[object Symbol]"==a(n)}},function(n,e){n.exports=function(n){return n}},function(n,e,t){var a=t(1),r=t(0),o=t(59);a({global:!0},{Reflect:{}}),o(r.Reflect,"Reflect",!0)},function(n,e,t){"use strict";t.d(e,"a",(function(){return r}));t(79);t(71),t(93),t(4),t(127),t(21),t(27);var a=t(101);t(41),t(26);function r(n,e){return function(n){if(Array.isArray(n))return n}(n)||function(n,e){var t=null==n?null:"undefined"!=typeof Symbol&&n[Symbol.iterator]||n["@@iterator"];if(null!=t){var a,r,o=[],i=!0,s=!1;try{for(t=t.call(n);!(i=(a=t.next()).done)&&(o.push(a.value),!e||o.length!==e);i=!0);}catch(n){s=!0,r=n}finally{try{i||null==t.return||t.return()}finally{if(s)throw r}}return o}}(n,e)||Object(a.a)(n,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}},function(n,e,t){"use strict";t.r(e);t(16),t(75),t(43),t(39);var a={name:"LastReadingPopup",data:function(){return{lastReading:null,show:!1}},computed:{popupConfig:function(){var n={"/":{message:"æ£æµå°æ¨ä¸ä¸æ¬¡éè¯»çä½ç½®ï¼æ¯å¦ç§»è³è¯¥ä½ç½®ï¼",sureButtonText:"ç¡®å®",cancelButtonText:"åæ¶"},"/zh/":{message:"æ£æµå°æ¨ä¸ä¸æ¬¡éè¯»çä½ç½®ï¼æ¯å¦ç§»è³è¯¥ä½ç½®ï¼",sureButtonText:"åå¾",cancelButtonText:"åæ¶"}},e=this.$lang.split("-")[0];return n["/".concat(e,"/")]||n[this.$localePath]||n},message:function(){var n=this.popupConfig;return n&&n.message||n["/"].message},sureButtonText:function(){var n=this.popupConfig;return n&&n.sureButtonText||n["/"].sureButtonText},cancelButtonText:function(){var n=this.popupConfig;return n&&n.cancelButtonText||n["/"].cancelButtonText}},mounted:function(){var n=this;window.ActiveXObject||"ActiveXObject"in window?setTimeout((function(){window.addEventListener("load",n.init())}),1e3):setTimeout((function(){window.addEventListener("load",n.init)}),1e3)},methods:{init:function(){this.lastReading=JSON.parse(localStorage.getItem("lastReading")),this.lastReading&&(this.$route.path===this.lastReading.path?this.goto():(this.show=!0,setTimeout(this.clean,1e4)))},goto:function(){var n=this;this.$route.path!==this.lastReading.path?this.$router.replace(this.lastReading.path).then((function(){document.documentElement.scrollTop=n.lastReading.scrollTop,n.clean()})):this.$nextTick((function(){document.documentElement.scrollTop=n.lastReading.scrollTop}))},dontgoto:function(){this.clean()},clean:function(){this.show=!1,localStorage.removeItem("lastReading")}}},r=(t(372),t(15)),o=Object(r.a)(a,(function(){var n=this,e=n.$createElement,t=n._self._c||e;return t("transition",{attrs:{name:"sw-update-popup"}},[n.show?t("div",{staticClass:"sw-update-popup"},[n._v("\n    "+n._s(n.message)+"\n\n    "),t("br"),n._v(" "),t("button",{on:{click:n.goto}},[n._v("\n      "+n._s(n.sureButtonText)+"\n    ")]),n._v(" "),t("button",{on:{click:n.dontgoto}},[n._v("\n      "+n._s(n.cancelButtonText)+"\n    ")])]):n._e()])}),[],!1,null,"181714f2",null);e.default=o.exports},function(n,e,t){"use strict";var a=t(1),r=t(57).some;a({target:"Array",proto:!0,forced:!t(47)("some")},{some:function(n){return r(this,n,arguments.length>1?arguments[1]:void 0)}})},function(n,e,t){"use strict";var a=t(2),r=t(67).PROPER,o=t(14),i=t(8),s=t(35),l=t(12),c=t(3),d=t(155),p=RegExp.prototype,u=p.toString,m=a(d),g=c((function(){return"/a/b"!=u.call({source:"a",flags:"b"})})),h=r&&"toString"!=u.name;(g||h)&&o(RegExp.prototype,"toString",(function(){var n=i(this),e=l(n.source),t=n.flags;return"/"+e+"/"+l(void 0===t&&s(p,n)&&!("flags"in p)?m(n):t)}),{unsafe:!0})},function(n,e,t){var a=t(6),r=t(34),o=t(13),i=a("unscopables"),s=Array.prototype;null==s[i]&&o.f(s,i,{configurable:!0,value:r(null)}),n.exports=function(n){s[i][n]=!0}},function(n,e,t){var a=t(2),r=t(19),o=t(12),i=t(146),s=a("".replace),l="["+i+"]",c=RegExp("^"+l+l+"*"),d=RegExp(l+l+"*$"),p=function(n){return function(e){var t=o(r(e));return 1&n&&(t=s(t,c,"")),2&n&&(t=s(t,d,"")),t}};n.exports={start:p(1),end:p(2),trim:p(3)}},function(n,e){n.exports="\t\n\v\f\r Â áââââââââââââ¯âã\u2028\u2029\ufeff"},function(n,e,t){"use strict";var a=t(11),r=t(110),o=t(8),i=t(53),s=t(12),l=t(19),c=t(48),d=t(128),p=t(111);r("match",(function(n,e,t){return[function(e){var t=l(this),r=null==e?void 0:c(e,n);return r?a(r,e,t):new RegExp(e)[n](s(t))},function(n){var a=o(this),r=s(n),l=t(e,a,r);if(l.done)return l.value;if(!a.global)return p(a,r);var c=a.unicode;a.lastIndex=0;for(var u,m=[],g=0;null!==(u=p(a,r));){var h=s(u[0]);m[g]=h,""===h&&(a.lastIndex=d(r,i(a.lastIndex),c)),g++}return 0===g?null:m}]}))},function(n,e,t){var a=function(n){"use strict";var e=Object.prototype,t=e.hasOwnProperty,a="function"==typeof Symbol?Symbol:{},r=a.iterator||"@@iterator",o=a.asyncIterator||"@@asyncIterator",i=a.toStringTag||"@@toStringTag";function s(n,e,t){return Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}),n[e]}try{s({},"")}catch(n){s=function(n,e,t){return n[e]=t}}function l(n,e,t,a){var r=e&&e.prototype instanceof p?e:p,o=Object.create(r.prototype),i=new S(a||[]);return o._invoke=function(n,e,t){var a="suspendedStart";return function(r,o){if("executing"===a)throw new Error("Generator is already running");if("completed"===a){if("throw"===r)throw o;return T()}for(t.method=r,t.arg=o;;){var i=t.delegate;if(i){var s=x(i,t);if(s){if(s===d)continue;return s}}if("next"===t.method)t.sent=t._sent=t.arg;else if("throw"===t.method){if("suspendedStart"===a)throw a="completed",t.arg;t.dispatchException(t.arg)}else"return"===t.method&&t.abrupt("return",t.arg);a="executing";var l=c(n,e,t);if("normal"===l.type){if(a=t.done?"completed":"suspendedYield",l.arg===d)continue;return{value:l.arg,done:t.done}}"throw"===l.type&&(a="completed",t.method="throw",t.arg=l.arg)}}}(n,t,i),o}function c(n,e,t){try{return{type:"normal",arg:n.call(e,t)}}catch(n){return{type:"throw",arg:n}}}n.wrap=l;var d={};function p(){}function u(){}function m(){}var g={};s(g,r,(function(){return this}));var h=Object.getPrototypeOf,f=h&&h(h(E([])));f&&f!==e&&t.call(f,r)&&(g=f);var v=m.prototype=p.prototype=Object.create(g);function b(n){["next","throw","return"].forEach((function(e){s(n,e,(function(n){return this._invoke(e,n)}))}))}function y(n,e){var a;this._invoke=function(r,o){function i(){return new e((function(a,i){!function a(r,o,i,s){var l=c(n[r],n,o);if("throw"!==l.type){var d=l.arg,p=d.value;return p&&"object"==typeof p&&t.call(p,"__await")?e.resolve(p.__await).then((function(n){a("next",n,i,s)}),(function(n){a("throw",n,i,s)})):e.resolve(p).then((function(n){d.value=n,i(d)}),(function(n){return a("throw",n,i,s)}))}s(l.arg)}(r,o,a,i)}))}return a=a?a.then(i,i):i()}}function x(n,e){var t=n.iterator[e.method];if(void 0===t){if(e.delegate=null,"throw"===e.method){if(n.iterator.return&&(e.method="return",e.arg=void 0,x(n,e),"throw"===e.method))return d;e.method="throw",e.arg=new TypeError("The iterator does not provide a 'throw' method")}return d}var a=c(t,n.iterator,e.arg);if("throw"===a.type)return e.method="throw",e.arg=a.arg,e.delegate=null,d;var r=a.arg;return r?r.done?(e[n.resultName]=r.value,e.next=n.nextLoc,"return"!==e.method&&(e.method="next",e.arg=void 0),e.delegate=null,d):r:(e.method="throw",e.arg=new TypeError("iterator result is not an object"),e.delegate=null,d)}function k(n){var e={tryLoc:n[0]};1 in n&&(e.catchLoc=n[1]),2 in n&&(e.finallyLoc=n[2],e.afterLoc=n[3]),this.tryEntries.push(e)}function w(n){var e=n.completion||{};e.type="normal",delete e.arg,n.completion=e}function S(n){this.tryEntries=[{tryLoc:"root"}],n.forEach(k,this),this.reset(!0)}function E(n){if(n){var e=n[r];if(e)return e.call(n);if("function"==typeof n.next)return n;if(!isNaN(n.length)){var a=-1,o=function e(){for(;++a<n.length;)if(t.call(n,a))return e.value=n[a],e.done=!1,e;return e.value=void 0,e.done=!0,e};return o.next=o}}return{next:T}}function T(){return{value:void 0,done:!0}}return u.prototype=m,s(v,"constructor",m),s(m,"constructor",u),u.displayName=s(m,i,"GeneratorFunction"),n.isGeneratorFunction=function(n){var e="function"==typeof n&&n.constructor;return!!e&&(e===u||"GeneratorFunction"===(e.displayName||e.name))},n.mark=function(n){return Object.setPrototypeOf?Object.setPrototypeOf(n,m):(n.__proto__=m,s(n,i,"GeneratorFunction")),n.prototype=Object.create(v),n},n.awrap=function(n){return{__await:n}},b(y.prototype),s(y.prototype,o,(function(){return this})),n.AsyncIterator=y,n.async=function(e,t,a,r,o){void 0===o&&(o=Promise);var i=new y(l(e,t,a,r),o);return n.isGeneratorFunction(t)?i:i.next().then((function(n){return n.done?n.value:i.next()}))},b(v),s(v,i,"Generator"),s(v,r,(function(){return this})),s(v,"toString",(function(){return"[object Generator]"})),n.keys=function(n){var e=[];for(var t in n)e.push(t);return e.reverse(),function t(){for(;e.length;){var a=e.pop();if(a in n)return t.value=a,t.done=!1,t}return t.done=!0,t}},n.values=E,S.prototype={constructor:S,reset:function(n){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(w),!n)for(var e in this)"t"===e.charAt(0)&&t.call(this,e)&&!isNaN(+e.slice(1))&&(this[e]=void 0)},stop:function(){this.done=!0;var n=this.tryEntries[0].completion;if("throw"===n.type)throw n.arg;return this.rval},dispatchException:function(n){if(this.done)throw n;var e=this;function a(t,a){return i.type="throw",i.arg=n,e.next=t,a&&(e.method="next",e.arg=void 0),!!a}for(var r=this.tryEntries.length-1;r>=0;--r){var o=this.tryEntries[r],i=o.completion;if("root"===o.tryLoc)return a("end");if(o.tryLoc<=this.prev){var s=t.call(o,"catchLoc"),l=t.call(o,"finallyLoc");if(s&&l){if(this.prev<o.catchLoc)return a(o.catchLoc,!0);if(this.prev<o.finallyLoc)return a(o.finallyLoc)}else if(s){if(this.prev<o.catchLoc)return a(o.catchLoc,!0)}else{if(!l)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return a(o.finallyLoc)}}}},abrupt:function(n,e){for(var a=this.tryEntries.length-1;a>=0;--a){var r=this.tryEntries[a];if(r.tryLoc<=this.prev&&t.call(r,"finallyLoc")&&this.prev<r.finallyLoc){var o=r;break}}o&&("break"===n||"continue"===n)&&o.tryLoc<=e&&e<=o.finallyLoc&&(o=null);var i=o?o.completion:{};return i.type=n,i.arg=e,o?(this.method="next",this.next=o.finallyLoc,d):this.complete(i)},complete:function(n,e){if("throw"===n.type)throw n.arg;return"break"===n.type||"continue"===n.type?this.next=n.arg:"return"===n.type?(this.rval=this.arg=n.arg,this.method="return",this.next="end"):"normal"===n.type&&e&&(this.next=e),d},finish:function(n){for(var e=this.tryEntries.length-1;e>=0;--e){var t=this.tryEntries[e];if(t.finallyLoc===n)return this.complete(t.completion,t.afterLoc),w(t),d}},catch:function(n){for(var e=this.tryEntries.length-1;e>=0;--e){var t=this.tryEntries[e];if(t.tryLoc===n){var a=t.completion;if("throw"===a.type){var r=a.arg;w(t)}return r}}throw new Error("illegal catch attempt")},delegateYield:function(n,e,t){return this.delegate={iterator:E(n),resultName:e,nextLoc:t},"next"===this.method&&(this.arg=void 0),d}},n}(n.exports);try{regeneratorRuntime=a}catch(n){"object"==typeof globalThis?globalThis.regeneratorRuntime=a:Function("r","regeneratorRuntime = r")(a)}},function(n,e,t){"use strict";var a=t(20),r=t(144),o=t(66),i=t(40),s=t(13).f,l=t(166),c=t(29),d=t(7),p=i.set,u=i.getterFor("Array Iterator");n.exports=l(Array,"Array",(function(n,e){p(this,{type:"Array Iterator",target:a(n),index:0,kind:e})}),(function(){var n=u(this),e=n.target,t=n.kind,a=n.index++;return!e||a>=e.length?(n.target=void 0,{value:void 0,done:!0}):"keys"==t?{value:a,done:!1}:"values"==t?{value:e[a],done:!1}:{value:[a,e[a]],done:!1}}),"values");var m=o.Arguments=o.Array;if(r("keys"),r("values"),r("entries"),!c&&d&&"values"!==m.name)try{s(m,"name",{value:"values"})}catch(n){}},function(n,e,t){var a=t(0),r=t(11),o=t(37),i=t(8),s=t(85),l=t(108),c=a.TypeError;n.exports=function(n,e){var t=arguments.length<2?l(n):e;if(o(t))return i(r(t,n));throw c(s(n)+" is not iterable")}},function(n,e,t){var a=t(0).TypeError;n.exports=function(n,e){if(n<e)throw a("Not enough arguments");return n}},function(n,e,t){var a=t(257);n.exports=function(n,e){return new(a(n))(0===e?0:e)}},function(n,e,t){var a=t(9),r=t(28),o=t(6)("match");n.exports=function(n){var e;return a(n)&&(void 0!==(e=n[o])?!!e:"RegExp"==r(n))}},function(n,e,t){var a=t(1),r=t(265);a({target:"Array",stat:!0,forced:!t(172)((function(n){Array.from(n)}))},{from:r})},function(n,e,t){"use strict";var a=t(8);n.exports=function(){var n=a(this),e="";return n.global&&(e+="g"),n.ignoreCase&&(e+="i"),n.multiline&&(e+="m"),n.dotAll&&(e+="s"),n.unicode&&(e+="u"),n.sticky&&(e+="y"),e}},function(n,e,t){var a=t(5),r=t(9),o=t(68);n.exports=function(n,e,t){var i,s;return o&&a(i=e.constructor)&&i!==t&&r(s=i.prototype)&&s!==t.prototype&&o(n,s),n}},function(n,e){n.exports=function(n){return n.webpackPolyfill||(n.deprecate=function(){},n.paths=[],n.children||(n.children=[]),Object.defineProperty(n,"loaded",{enumerable:!0,get:function(){return n.l}}),Object.defineProperty(n,"id",{enumerable:!0,get:function(){return n.i}}),n.webpackPolyfill=1),n}},function(n,e){var t=/^\s+|\s+$/g,a=/^[-+]0x[0-9a-f]+$/i,r=/^0b[01]+$/i,o=/^0o[0-7]+$/i,i=parseInt,s="object"==typeof global&&global&&global.Object===Object&&global,l="object"==typeof self&&self&&self.Object===Object&&self,c=s||l||Function("return this")(),d=Object.prototype.toString,p=Math.max,u=Math.min,m=function(){return c.Date.now()};function g(n){var e=typeof n;return!!n&&("object"==e||"function"==e)}function h(n){if("number"==typeof n)return n;if(function(n){return"symbol"==typeof n||function(n){return!!n&&"object"==typeof n}(n)&&"[object Symbol]"==d.call(n)}(n))return NaN;if(g(n)){var e="function"==typeof n.valueOf?n.valueOf():n;n=g(e)?e+"":e}if("string"!=typeof n)return 0===n?n:+n;n=n.replace(t,"");var s=r.test(n);return s||o.test(n)?i(n.slice(2),s?2:8):a.test(n)?NaN:+n}n.exports=function(n,e,t){var a,r,o,i,s,l,c=0,d=!1,f=!1,v=!0;if("function"!=typeof n)throw new TypeError("Expected a function");function b(e){var t=a,o=r;return a=r=void 0,c=e,i=n.apply(o,t)}function y(n){return c=n,s=setTimeout(k,e),d?b(n):i}function x(n){var t=n-l;return void 0===l||t>=e||t<0||f&&n-c>=o}function k(){var n=m();if(x(n))return w(n);s=setTimeout(k,function(n){var t=e-(n-l);return f?u(t,o-(n-c)):t}(n))}function w(n){return s=void 0,v&&a?b(n):(a=r=void 0,i)}function S(){var n=m(),t=x(n);if(a=arguments,r=this,l=n,t){if(void 0===s)return y(l);if(f)return s=setTimeout(k,e),b(l)}return void 0===s&&(s=setTimeout(k,e)),i}return e=h(e)||0,g(t)&&(d=!!t.leading,o=(f="maxWait"in t)?p(h(t.maxWait)||0,e):o,v="trailing"in t?!!t.trailing:v),S.cancel=function(){void 0!==s&&clearTimeout(s),c=0,a=l=r=s=void 0},S.flush=function(){return void 0===s?i:w(m())},S}},function(n,e,t){"use strict";var a=t(1),r=t(373).start;a({target:"String",proto:!0,forced:t(375)},{padStart:function(n){return r(this,n,arguments.length>1?arguments[1]:void 0)}})},function(n,e,t){var a=t(115);n.exports=a&&!Symbol.sham&&"symbol"==typeof Symbol.iterator},function(n,e,t){var a=t(7),r=t(3);n.exports=a&&r((function(){return 42!=Object.defineProperty((function(){}),"prototype",{value:42,writable:!1}).prototype}))},function(n,e,t){var a=t(7),r=t(3),o=t(82);n.exports=!a&&!r((function(){return 7!=Object.defineProperty(o("div"),"a",{get:function(){return 7}}).a}))},function(n,e,t){var a=t(0),r=t(11),o=t(9),i=t(84),s=t(48),l=t(241),c=t(6),d=a.TypeError,p=c("toPrimitive");n.exports=function(n,e){if(!o(n)||i(n))return n;var t,a=s(n,p);if(a){if(void 0===e&&(e="default"),t=r(a,n,e),!o(t)||i(t))return t;throw d("Can't convert object to primitive value")}return void 0===e&&(e="number"),l(n,e)}},function(n,e,t){var a=t(2),r=t(10),o=t(20),i=t(117).indexOf,s=t(65),l=a([].push);n.exports=function(n,e){var t,a=o(n),c=0,d=[];for(t in a)!r(s,t)&&r(a,t)&&l(d,t);for(;e.length>c;)r(a,t=e[c++])&&(~i(d,t)||l(d,t));return d}},function(n,e,t){var a=t(18);n.exports=a("document","documentElement")},function(n,e,t){"use strict";var a=t(1),r=t(11),o=t(29),i=t(67),s=t(5),l=t(228),c=t(123),d=t(68),p=t(59),u=t(30),m=t(14),g=t(6),h=t(66),f=t(167),v=i.PROPER,b=i.CONFIGURABLE,y=f.IteratorPrototype,x=f.BUGGY_SAFARI_ITERATORS,k=g("iterator"),w=function(){return this};n.exports=function(n,e,t,i,g,f,S){l(t,e,i);var E,T,_,I=function(n){if(n===g&&P)return P;if(!x&&n in C)return C[n];switch(n){case"keys":case"values":case"entries":return function(){return new t(this,n)}}return function(){return new t(this)}},j=e+" Iterator",z=!1,C=n.prototype,A=C[k]||C["@@iterator"]||g&&C[g],P=!x&&A||I(g),D="Array"==e&&C.entries||A;if(D&&(E=c(D.call(new n)))!==Object.prototype&&E.next&&(o||c(E)===y||(d?d(E,y):s(E[k])||m(E,k,w)),p(E,j,!0,!0),o&&(h[j]=w)),v&&"values"==g&&A&&"values"!==A.name&&(!o&&b?u(C,"name","values"):(z=!0,P=function(){return r(A,this)})),g)if(T={values:I("values"),keys:f?P:I("keys"),entries:I("entries")},S)for(_ in T)(x||z||!(_ in C))&&m(C,_,T[_]);else a({target:e,proto:!0,forced:x||z},T);return o&&!S||C[k]===P||m(C,k,P,{name:g}),h[e]=P,T}},function(n,e,t){"use strict";var a,r,o,i=t(3),s=t(5),l=t(34),c=t(123),d=t(14),p=t(6),u=t(29),m=p("iterator"),g=!1;[].keys&&("next"in(o=[].keys())?(r=c(c(o)))!==Object.prototype&&(a=r):g=!0),null==a||i((function(){var n={};return a[m].call(n)!==n}))?a={}:u&&(a=l(a)),s(a[m])||d(a,m,(function(){return this})),n.exports={IteratorPrototype:a,BUGGY_SAFARI_ITERATORS:g}},function(n,e,t){var a=t(3);n.exports=!a((function(){function n(){}return n.prototype.constructor=null,Object.getPrototypeOf(new n)!==n.prototype}))},function(n,e,t){var a=t(0);n.exports=a.Promise},function(n,e,t){var a=t(6),r=t(66),o=a("iterator"),i=Array.prototype;n.exports=function(n){return void 0!==n&&(r.Array===n||i[o]===n)}},function(n,e,t){var a=t(11),r=t(8),o=t(48);n.exports=function(n,e,t){var i,s;r(n);try{if(!(i=o(n,"return"))){if("throw"===e)throw t;return t}i=a(i,n)}catch(n){s=!0,i=n}if("throw"===e)throw t;if(s)throw i;return r(i),t}},function(n,e,t){var a=t(6)("iterator"),r=!1;try{var o=0,i={next:function(){return{done:!!o++}},return:function(){r=!0}};i[a]=function(){return this},Array.from(i,(function(){throw 2}))}catch(n){}n.exports=function(n,e){if(!e&&!r)return!1;var t=!1;try{var o={};o[a]=function(){return{next:function(){return{done:t=!0}}}},n(o)}catch(n){}return t}},function(n,e,t){var a=t(0),r=t(89),o=t(85),i=a.TypeError;n.exports=function(n){if(r(n))return n;throw i(o(n)+" is not a constructor")}},function(n,e,t){var a,r,o,i,s=t(0),l=t(36),c=t(56),d=t(5),p=t(10),u=t(3),m=t(165),g=t(69),h=t(82),f=t(151),v=t(175),b=t(90),y=s.setImmediate,x=s.clearImmediate,k=s.process,w=s.Dispatch,S=s.Function,E=s.MessageChannel,T=s.String,_=0,I={};try{a=s.location}catch(n){}var j=function(n){if(p(I,n)){var e=I[n];delete I[n],e()}},z=function(n){return function(){j(n)}},C=function(n){j(n.data)},A=function(n){s.postMessage(T(n),a.protocol+"//"+a.host)};y&&x||(y=function(n){f(arguments.length,1);var e=d(n)?n:S(n),t=g(arguments,1);return I[++_]=function(){l(e,void 0,t)},r(_),_},x=function(n){delete I[n]},b?r=function(n){k.nextTick(z(n))}:w&&w.now?r=function(n){w.now(z(n))}:E&&!v?(i=(o=new E).port2,o.port1.onmessage=C,r=c(i.postMessage,i)):s.addEventListener&&d(s.postMessage)&&!s.importScripts&&a&&"file:"!==a.protocol&&!u(A)?(r=A,s.addEventListener("message",C,!1)):r="onreadystatechange"in h("script")?function(n){m.appendChild(h("script")).onreadystatechange=function(){m.removeChild(this),j(n)}}:function(n){setTimeout(z(n),0)}),n.exports={set:y,clear:x}},function(n,e,t){var a=t(32);n.exports=/(?:ipad|iphone|ipod).*applewebkit/i.test(a)},function(n,e,t){var a=t(8),r=t(9),o=t(177);n.exports=function(n,e){if(a(n),r(e)&&e.constructor===n)return e;var t=o.f(n);return(0,t.resolve)(e),t.promise}},function(n,e,t){"use strict";var a=t(37),r=function(n){var e,t;this.promise=new n((function(n,a){if(void 0!==e||void 0!==t)throw TypeError("Bad Promise constructor");e=n,t=a})),this.resolve=a(e),this.reject=a(t)};n.exports.f=function(n){return new r(n)}},function(n,e,t){var a=t(2),r=t(55),o=t(12),i=t(19),s=a("".charAt),l=a("".charCodeAt),c=a("".slice),d=function(n){return function(e,t){var a,d,p=o(i(e)),u=r(t),m=p.length;return u<0||u>=m?n?"":void 0:(a=l(p,u))<55296||a>56319||u+1===m||(d=l(p,u+1))<56320||d>57343?n?s(p,u):a:n?c(p,u,u+2):d-56320+(a-55296<<10)+65536}};n.exports={codeAt:d(!1),charAt:d(!0)}},function(n,e){n.exports={CSSRuleList:0,CSSStyleDeclaration:0,CSSValueList:0,ClientRectList:0,DOMRectList:0,DOMStringList:0,DOMTokenList:1,DataTransferItemList:0,FileList:0,HTMLAllCollection:0,HTMLCollection:0,HTMLFormElement:0,HTMLSelectElement:0,MediaList:0,MimeTypeArray:0,NamedNodeMap:0,NodeList:1,PaintRequestList:0,Plugin:0,PluginArray:0,SVGLengthList:0,SVGNumberList:0,SVGPathSegList:0,SVGPointList:0,SVGStringList:0,SVGTransformList:0,SourceBufferList:0,StyleSheetList:0,TextTrackCueList:0,TextTrackList:0,TouchList:0}},function(n,e,t){var a=t(82)("span").classList,r=a&&a.constructor&&a.constructor.prototype;n.exports=r===Object.prototype?void 0:r},function(n,e,t){var a=t(1),r=t(7),o=t(121),i=t(20),s=t(38),l=t(70);a({target:"Object",stat:!0,sham:!r},{getOwnPropertyDescriptors:function(n){for(var e,t,a=i(n),r=s.f,c=o(a),d={},p=0;c.length>p;)void 0!==(t=r(a,e=c[p++]))&&l(d,e,t);return d}})},function(n,e,t){var a=t(1),r=t(3),o=t(17),i=t(123),s=t(168);a({target:"Object",stat:!0,forced:r((function(){i(1)})),sham:!s},{getPrototypeOf:function(n){return i(o(n))}})},function(n,e,t){"use strict";var a,r=t(1),o=t(2),i=t(38).f,s=t(53),l=t(12),c=t(184),d=t(19),p=t(185),u=t(29),m=o("".startsWith),g=o("".slice),h=Math.min,f=p("startsWith");r({target:"String",proto:!0,forced:!!(u||f||(a=i(String.prototype,"startsWith"),!a||a.writable))&&!f},{startsWith:function(n){var e=l(d(this));c(n);var t=s(h(arguments.length>1?arguments[1]:void 0,e.length)),a=l(n);return m?m(e,a,t):g(e,t,t+a.length)===a}})},function(n,e,t){var a=t(0),r=t(153),o=a.TypeError;n.exports=function(n){if(r(n))throw o("The method doesn't accept regular expressions");return n}},function(n,e,t){var a=t(6)("match");n.exports=function(n){var e=/./;try{"/./"[n](e)}catch(t){try{return e[a]=!1,"/./"[n](e)}catch(n){}}return!1}},function(n,e,t){"use strict";var a=t(57).forEach,r=t(47)("forEach");n.exports=r?[].forEach:function(n){return a(this,n,arguments.length>1?arguments[1]:void 0)}},function(n,e,t){var a=t(3);n.exports=!a((function(){return Object.isExtensible(Object.preventExtensions({}))}))},function(n,e,t){var a=t(28),r=t(20),o=t(58).f,i=t(126),s="object"==typeof window&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[];n.exports.f=function(n){return s&&"Window"==a(n)?function(n){try{return o(n)}catch(n){return i(s)}}(n):o(r(n))}},function(n,e,t){var a=t(6);e.f=a},function(n,e,t){var a=t(264),r=t(10),o=t(189),i=t(13).f;n.exports=function(n){var e=a.Symbol||(a.Symbol={});r(e,n)||i(e,n,{value:o.f(n)})}},function(n,e,t){var a=t(12);n.exports=function(n,e){return void 0===n?arguments.length<2?"":e:a(n)}},function(n,e,t){t(1)({target:"Object",stat:!0,sham:!t(7)},{create:t(34)})},function(n,e){n.exports=function(n,e){for(var t=-1,a=e.length,r=n.length;++t<a;)n[r+t]=e[t];return n}},function(n,e){var t="object"==typeof global&&global&&global.Object===Object&&global;n.exports=t},function(n,e,t){var a=t(95),r=t(286),o=t(287),i=t(288),s=t(289),l=t(290);function c(n){var e=this.__data__=new a(n);this.size=e.size}c.prototype.clear=r,c.prototype.delete=o,c.prototype.get=i,c.prototype.has=s,c.prototype.set=l,n.exports=c},function(n,e){n.exports=function(n,e){return n===e||n!=n&&e!=e}},function(n,e,t){var a=t(62),r=t(132);n.exports=function(n){if(!r(n))return!1;var e=a(n);return"[object Function]"==e||"[object GeneratorFunction]"==e||"[object AsyncFunction]"==e||"[object Proxy]"==e}},function(n,e){var t=Function.prototype.toString;n.exports=function(n){if(null!=n){try{return t.call(n)}catch(n){}try{return n+""}catch(n){}}return""}},function(n,e,t){var a=t(307),r=t(50);n.exports=function n(e,t,o,i,s){return e===t||(null==e||null==t||!r(e)&&!r(t)?e!=e&&t!=t:a(e,t,o,i,n,s))}},function(n,e,t){var a=t(201),r=t(310),o=t(202);n.exports=function(n,e,t,i,s,l){var c=1&t,d=n.length,p=e.length;if(d!=p&&!(c&&p>d))return!1;var u=l.get(n),m=l.get(e);if(u&&m)return u==e&&m==n;var g=-1,h=!0,f=2&t?new a:void 0;for(l.set(n,e),l.set(e,n);++g<d;){var v=n[g],b=e[g];if(i)var y=c?i(b,v,g,e,n,l):i(v,b,g,n,e,l);if(void 0!==y){if(y)continue;h=!1;break}if(f){if(!r(e,(function(n,e){if(!o(f,e)&&(v===n||s(v,n,t,i,l)))return f.push(e)}))){h=!1;break}}else if(v!==b&&!s(v,b,t,i,l)){h=!1;break}}return l.delete(n),l.delete(e),h}},function(n,e,t){var a=t(133),r=t(308),o=t(309);function i(n){var e=-1,t=null==n?0:n.length;for(this.__data__=new a;++e<t;)this.add(n[e])}i.prototype.add=i.prototype.push=r,i.prototype.has=o,n.exports=i},function(n,e){n.exports=function(n,e){return n.has(e)}},function(n,e,t){var a=t(320),r=t(326),o=t(207);n.exports=function(n){return o(n)?a(n):r(n)}},function(n,e,t){(function(n){var a=t(33),r=t(322),o=e&&!e.nodeType&&e,i=o&&"object"==typeof n&&n&&!n.nodeType&&n,s=i&&i.exports===o?a.Buffer:void 0,l=(s?s.isBuffer:void 0)||r;n.exports=l}).call(this,t(157)(n))},function(n,e){var t=/^(?:0|[1-9]\d*)$/;n.exports=function(n,e){var a=typeof n;return!!(e=null==e?9007199254740991:e)&&("number"==a||"symbol"!=a&&t.test(n))&&n>-1&&n%1==0&&n<e}},function(n,e,t){var a=t(323),r=t(324),o=t(325),i=o&&o.isTypedArray,s=i?r(i):a;n.exports=s},function(n,e,t){var a=t(197),r=t(135);n.exports=function(n){return null!=n&&r(n.length)&&!a(n)}},function(n,e,t){var a=t(42)(t(33),"Set");n.exports=a},function(n,e,t){var a=t(132);n.exports=function(n){return n==n&&!a(n)}},function(n,e){n.exports=function(n,e){return function(t){return null!=t&&(t[n]===e&&(void 0!==e||n in Object(t)))}}},function(n,e,t){var a=t(212),r=t(99);n.exports=function(n,e){for(var t=0,o=(e=a(e,n)).length;null!=n&&t<o;)n=n[r(e[t++])];return t&&t==o?n:void 0}},function(n,e,t){var a=t(31),r=t(136),o=t(337),i=t(340);n.exports=function(n,e){return a(n)?n:r(n,e)?[n]:o(i(n))}},function(n,e,t){"use strict";var a=t(0),r=t(2),o=t(37),i=t(9),s=t(10),l=t(69),c=t(64),d=a.Function,p=r([].concat),u=r([].join),m={},g=function(n,e,t){if(!s(m,e)){for(var a=[],r=0;r<e;r++)a[r]="a["+r+"]";m[e]=d("C,a","return new C("+u(a,",")+")")}return m[e](n,t)};n.exports=c?d.bind:function(n){var e=o(this),t=e.prototype,a=l(arguments,1),r=function(){var t=p(a,l(arguments));return this instanceof r?g(e,t.length,t):e.apply(n,t)};return i(t)&&(r.prototype=t),r}},function(n,e,t){},function(n,e,t){},function(n,e,t){},function(n,e,t){t(1)({target:"Object",stat:!0},{setPrototypeOf:t(68)})},function(n,e,t){var a=t(1),r=t(18),o=t(36),i=t(213),s=t(173),l=t(8),c=t(9),d=t(34),p=t(3),u=r("Reflect","construct"),m=Object.prototype,g=[].push,h=p((function(){function n(){}return!(u((function(){}),[],n)instanceof n)})),f=!p((function(){u((function(){}))})),v=h||f;a({target:"Reflect",stat:!0,forced:v,sham:v},{construct:function(n,e){s(n),l(e);var t=arguments.length<3?n:s(arguments[2]);if(f&&!h)return u(n,e,t);if(n==t){switch(e.length){case 0:return new n;case 1:return new n(e[0]);case 2:return new n(e[0],e[1]);case 3:return new n(e[0],e[1],e[2]);case 4:return new n(e[0],e[1],e[2],e[3])}var a=[null];return o(g,a,e),new(o(i,n,a))}var r=t.prototype,p=d(c(r)?r:m),v=o(n,p,e);return c(v)?v:p}})},function(n,e,t){},function(n,e,t){},function(n,e,t){var a=t(273),r=t(278),o=t(349),i=t(357),s=t(366),l=t(235),c=o((function(n){var e=l(n);return s(e)&&(e=void 0),i(a(n,1,s,!0),r(e,2))}));n.exports=c},function(n,e,t){"use strict";
/*!
 * escape-html
 * Copyright(c) 2012-2013 TJ Holowaychuk
 * Copyright(c) 2015 Andreas Lubbe
 * Copyright(c) 2015 Tiancheng "Timothy" Gu
 * MIT Licensed
 */var a=/["'&<>]/;n.exports=function(n){var e,t=""+n,r=a.exec(t);if(!r)return t;var o="",i=0,s=0;for(i=r.index;i<t.length;i++){switch(t.charCodeAt(i)){case 34:e="&quot;";break;case 38:e="&amp;";break;case 39:e="&#39;";break;case 60:e="&lt;";break;case 62:e="&gt;";break;default:continue}s!==i&&(o+=t.substring(s,i)),s=i+1,o+=e}return s!==i?o+t.substring(s,i):o}},function(n,e,t){"use strict";
/**
 * @file Embedded JavaScript templating engine. {@link http://ejs.co}
 * @author Matthew Eernisse <mde@fleegix.org>
 * @author Tiancheng "Timothy" Gu <timothygu99@gmail.com>
 * @project EJS
 * @license {@link http://www.apache.org/licenses/LICENSE-2.0 Apache License, Version 2.0}
 */var a=t(386),r=t(387),o=t(388),i=!1,s=t(389).version,l=["delimiter","scope","context","debug","compileDebug","client","_with","rmWhitespace","strict","filename","async"],c=l.concat("cache"),d=/^\uFEFF/;function p(n,t){var r,o,i=t.views,s=/^[A-Za-z]+:\\|^\//.exec(n);if(s&&s.length)r=e.resolveInclude(n.replace(/^\/*/,""),t.root||"/",!0);else if(t.filename&&(o=e.resolveInclude(n,t.filename),a.existsSync(o)&&(r=o)),r||Array.isArray(i)&&i.some((function(t){return o=e.resolveInclude(n,t,!0),a.existsSync(o)}))&&(r=o),!r)throw new Error('Could not find the include file "'+t.escapeFunction(n)+'"');return r}function u(n,t){var a,r=n.filename,o=arguments.length>1;if(n.cache){if(!r)throw new Error("cache option requires a filename");if(a=e.cache.get(r))return a;o||(t=g(r).toString().replace(d,""))}else if(!o){if(!r)throw new Error("Internal EJS error: no file name or template provided");t=g(r).toString().replace(d,"")}return a=e.compile(t,n),n.cache&&e.cache.set(r,a),a}function m(n,t,a){var r;if(!a){if("function"==typeof e.promiseImpl)return new e.promiseImpl((function(e,a){try{e(r=u(n)(t))}catch(n){a(n)}}));throw new Error("Please provide a callback function")}try{r=u(n)(t)}catch(n){return a(n)}a(null,r)}function g(n){return e.fileLoader(n)}function h(n,e,t,a,r){var o=e.split("\n"),i=Math.max(a-3,0),s=Math.min(o.length,a+3),l=r(t),c=o.slice(i,s).map((function(n,e){var t=e+i+1;return(t==a?" >> ":"    ")+t+"| "+n})).join("\n");throw n.path=l,n.message=(l||"ejs")+":"+a+"\n"+c+"\n\n"+n.message,n}function f(n){return n.replace(/;(\s*$)/,"$1")}function v(n,t){t=t||{};var a={};this.templateText=n,this.mode=null,this.truncate=!1,this.currentLine=1,this.source="",this.dependencies=[],a.client=t.client||!1,a.escapeFunction=t.escape||t.escapeFunction||o.escapeXML,a.compileDebug=!1!==t.compileDebug,a.debug=!!t.debug,a.filename=t.filename,a.openDelimiter=t.openDelimiter||e.openDelimiter||"<",a.closeDelimiter=t.closeDelimiter||e.closeDelimiter||">",a.delimiter=t.delimiter||e.delimiter||"%",a.strict=t.strict||!1,a.context=t.context,a.cache=t.cache||!1,a.rmWhitespace=t.rmWhitespace,a.root=t.root,a.outputFunctionName=t.outputFunctionName,a.localsName=t.localsName||e.localsName||"locals",a.views=t.views,a.async=t.async,a.destructuredLocals=t.destructuredLocals,a.legacyInclude=void 0===t.legacyInclude||!!t.legacyInclude,a.strict?a._with=!1:a._with=void 0===t._with||t._with,this.opts=a,this.regex=this.createRegex()}e.cache=o.cache,e.fileLoader=a.readFileSync,e.localsName="locals",e.promiseImpl=new Function("return this;")().Promise,e.resolveInclude=function(n,e,t){var a=r.dirname,o=r.extname,i=(0,r.resolve)(t?e:a(e),n);return o(n)||(i+=".ejs"),i},e.compile=function(n,e){return e&&e.scope&&(i||(console.warn("`scope` option is deprecated and will be removed in EJS 3"),i=!0),e.context||(e.context=e.scope),delete e.scope),new v(n,e).compile()},e.render=function(n,e,t){var a=e||{},r=t||{};return 2==arguments.length&&o.shallowCopyFromList(r,a,l),u(r,n)(a)},e.renderFile=function(){var n,e,t,a=Array.prototype.slice.call(arguments),r=a.shift(),i={filename:r};return"function"==typeof arguments[arguments.length-1]&&(n=a.pop()),a.length?(e=a.shift(),a.length?o.shallowCopy(i,a.pop()):(e.settings&&(e.settings.views&&(i.views=e.settings.views),e.settings["view cache"]&&(i.cache=!0),(t=e.settings["view options"])&&o.shallowCopy(i,t)),o.shallowCopyFromList(i,e,c)),i.filename=r):e={},m(i,e,n)},e.Template=v,e.clearCache=function(){e.cache.reset()},v.modes={EVAL:"eval",ESCAPED:"escaped",RAW:"raw",COMMENT:"comment",LITERAL:"literal"},v.prototype={createRegex:function(){var n="(<%%|%%>|<%=|<%-|<%_|<%#|<%|%>|-%>|_%>)",e=o.escapeRegExpChars(this.opts.delimiter),t=o.escapeRegExpChars(this.opts.openDelimiter),a=o.escapeRegExpChars(this.opts.closeDelimiter);return n=n.replace(/%/g,e).replace(/</g,t).replace(/>/g,a),new RegExp(n)},compile:function(){var n,e,t,a=this.opts,i="",s="",l=a.escapeFunction;if(!this.source){if(this.generateSource(),i+='  var __output = "";\n  function __append(s) { if (s !== undefined && s !== null) __output += s }\n',a.outputFunctionName&&(i+="  var "+a.outputFunctionName+" = __append;\n"),a.destructuredLocals&&a.destructuredLocals.length){for(var c="  var __locals = ("+a.localsName+" || {}),\n",d=0;d<a.destructuredLocals.length;d++){var m=a.destructuredLocals[d];d>0&&(c+=",\n  "),c+=m+" = __locals."+m}i+=c+";\n"}!1!==a._with&&(i+="  with ("+a.localsName+" || {}) {\n",s+="  }\n"),s+="  return __output;\n",this.source=i+this.source+s}n=a.compileDebug?"var __line = 1\n  , __lines = "+JSON.stringify(this.templateText)+"\n  , __filename = "+(a.filename?JSON.stringify(a.filename):"undefined")+";\ntry {\n"+this.source+"} catch (e) {\n  rethrow(e, __lines, __filename, __line, escapeFn);\n}\n":this.source,a.client&&(n="escapeFn = escapeFn || "+l.toString()+";\n"+n,a.compileDebug&&(n="rethrow = rethrow || "+h.toString()+";\n"+n)),a.strict&&(n='"use strict";\n'+n),a.debug&&console.log(n),a.compileDebug&&a.filename&&(n=n+"\n//# sourceURL="+a.filename+"\n");try{if(a.async)try{t=new Function("return (async function(){}).constructor;")()}catch(n){throw n instanceof SyntaxError?new Error("This environment does not support async/await"):n}else t=Function;e=new t(a.localsName+", escapeFn, include, rethrow",n)}catch(n){throw n instanceof SyntaxError&&(a.filename&&(n.message+=" in "+a.filename),n.message+=" while compiling ejs\n\n",n.message+="If the above error is not helpful, you may want to try EJS-Lint:\n",n.message+="https://github.com/RyanZim/EJS-Lint",a.async||(n.message+="\n",n.message+="Or, if you meant to create an async function, pass `async: true` as an option.")),n}var g=a.client?e:function(n){return e.apply(a.context,[n||{},l,function(e,t){var r=o.shallowCopy({},n);return t&&(r=o.shallowCopy(r,t)),function(n,e){var t=o.shallowCopy({},e);return t.filename=p(n,t),u(t)}(e,a)(r)},h])};if(g.dependencies=this.dependencies,a.filename&&"function"==typeof Object.defineProperty){var f=a.filename,v=r.basename(f,r.extname(f));try{Object.defineProperty(g,"name",{value:v,writable:!1,enumerable:!1,configurable:!0})}catch(n){}}return g},generateSource:function(){var n=this.opts;n.rmWhitespace&&(this.templateText=this.templateText.replace(/[\r\n]+/g,"\n").replace(/^\s+|\s+$/gm,"")),this.templateText=this.templateText.replace(/[ \t]*<%_/gm,"<%_").replace(/_%>[ \t]*/gm,"_%>");var t=this,a=this.parseTemplateText(),r=this.opts.delimiter,i=this.opts.openDelimiter,s=this.opts.closeDelimiter;a&&a.length&&a.forEach((function(l,c){var u,m,h,f,b,y;if(0===l.indexOf(i+r)&&0!==l.indexOf(i+r+r)&&(m=a[c+2])!=r+s&&m!="-"+r+s&&m!="_"+r+s)throw new Error('Could not find matching close tag for "'+l+'".');if(n.legacyInclude&&(h=l.match(/^\s*include\s+(\S+)/))&&(u=a[c-1])&&(u==i+r||u==i+r+"-"||u==i+r+"_"))return f=o.shallowCopy({},t.opts),b=function(n,e){var t,a,r=o.shallowCopy({},e);a=g(t=p(n,r)).toString().replace(d,""),r.filename=t;var i=new v(a,r);return i.generateSource(),{source:i.source,filename:t,template:a}}(h[1],f),y=t.opts.compileDebug?"    ; (function(){\n      var __line = 1\n      , __lines = "+JSON.stringify(b.template)+"\n      , __filename = "+JSON.stringify(b.filename)+";\n      try {\n"+b.source+"      } catch (e) {\n        rethrow(e, __lines, __filename, __line, escapeFn);\n      }\n    ; }).call(this)\n":"    ; (function(){\n"+b.source+"    ; }).call(this)\n",t.source+=y,void t.dependencies.push(e.resolveInclude(h[1],f.filename));t.scanLine(l)}))},parseTemplateText:function(){for(var n,e=this.templateText,t=this.regex,a=t.exec(e),r=[];a;)0!==(n=a.index)&&(r.push(e.substring(0,n)),e=e.slice(n)),r.push(a[0]),e=e.slice(a[0].length),a=t.exec(e);return e&&r.push(e),r},_addOutput:function(n){if(this.truncate&&(n=n.replace(/^(?:\r\n|\r|\n)/,""),this.truncate=!1),!n)return n;n=(n=(n=(n=n.replace(/\\/g,"\\\\")).replace(/\n/g,"\\n")).replace(/\r/g,"\\r")).replace(/"/g,'\\"'),this.source+='    ; __append("'+n+'")\n'},scanLine:function(n){var e,t=this.opts.delimiter,a=this.opts.openDelimiter,r=this.opts.closeDelimiter;switch(e=n.split("\n").length-1,n){case a+t:case a+t+"_":this.mode=v.modes.EVAL;break;case a+t+"=":this.mode=v.modes.ESCAPED;break;case a+t+"-":this.mode=v.modes.RAW;break;case a+t+"#":this.mode=v.modes.COMMENT;break;case a+t+t:this.mode=v.modes.LITERAL,this.source+='    ; __append("'+n.replace(a+t+t,a+t)+'")\n';break;case t+t+r:this.mode=v.modes.LITERAL,this.source+='    ; __append("'+n.replace(t+t+r,t+r)+'")\n';break;case t+r:case"-"+t+r:case"_"+t+r:this.mode==v.modes.LITERAL&&this._addOutput(n),this.mode=null,this.truncate=0===n.indexOf("-")||0===n.indexOf("_");break;default:if(this.mode){switch(this.mode){case v.modes.EVAL:case v.modes.ESCAPED:case v.modes.RAW:n.lastIndexOf("//")>n.lastIndexOf("\n")&&(n+="\n")}switch(this.mode){case v.modes.EVAL:this.source+="    ; "+n+"\n";break;case v.modes.ESCAPED:this.source+="    ; __append(escapeFn("+f(n)+"))\n";break;case v.modes.RAW:this.source+="    ; __append("+f(n)+")\n";break;case v.modes.COMMENT:break;case v.modes.LITERAL:this._addOutput(n)}}else this._addOutput(n)}this.opts.compileDebug&&e&&(this.currentLine+=e,this.source+="    ; __line = "+this.currentLine+"\n")}},e.escapeXML=o.escapeXML,e.__express=e.renderFile,e.VERSION=s,e.name="ejs","undefined"!=typeof window&&(window.ejs=e)},function(n,e,t){"use strict";t.r(e);var a={name:"CodeBlock",props:{title:{type:String,required:!0},active:{type:Boolean,default:!1}}},r=(t(376),t(15)),o=Object(r.a)(a,(function(){var n=this.$createElement;return(this._self._c||n)("div",{staticClass:"theme-code-block",class:{"theme-code-block__active":this.active}},[this._t("default")],2)}),[],!1,null,"5a3e6e86",null);e.default=o.exports},function(n,e,t){"use strict";t.r(e);t(22),t(4),t(23),t(46),t(25);var a={name:"CodeGroup",data:function(){return{codeTabs:[],activeCodeTabIndex:-1}},watch:{activeCodeTabIndex:function(n){this.codeTabs.forEach((function(n){n.elm.classList.remove("theme-code-block__active")})),this.codeTabs[n].elm.classList.add("theme-code-block__active")}},mounted:function(){var n=this;this.codeTabs=(this.$slots.default||[]).filter((function(n){return Boolean(n.componentOptions)})).map((function(e,t){return""===e.componentOptions.propsData.active&&(n.activeCodeTabIndex=t),{title:e.componentOptions.propsData.title,elm:e.elm}})),-1===this.activeCodeTabIndex&&this.codeTabs.length>0&&(this.activeCodeTabIndex=0)},methods:{changeCodeTab:function(n){this.activeCodeTabIndex=n}}},r=(t(377),t(15)),o=Object(r.a)(a,(function(){var n=this,e=n.$createElement,t=n._self._c||e;return t("div",{staticClass:"theme-code-group"},[t("div",{staticClass:"theme-code-group__nav"},[t("ul",{staticClass:"theme-code-group__ul"},n._l(n.codeTabs,(function(e,a){return t("li",{key:e.title,staticClass:"theme-code-group__li"},[t("button",{staticClass:"theme-code-group__nav-tab",class:{"theme-code-group__nav-tab-active":a===n.activeCodeTabIndex},on:{click:function(e){return n.changeCodeTab(a)}}},[n._v("\n            "+n._s(e.title)+"\n          ")])])})),0)]),n._v(" "),n._t("default"),n._v(" "),n.codeTabs.length<1?t("pre",{staticClass:"pre-blank"},[n._v("// Make sure to add code blocks to your code group")]):n._e()],2)}),[],!1,null,"392329f0",null);e.default=o.exports},function(n,e,t){"use strict";var a=t(7),r=t(0),o=t(2),i=t(107),s=t(14),l=t(10),c=t(156),d=t(35),p=t(84),u=t(163),m=t(3),g=t(58).f,h=t(38).f,f=t(13).f,v=t(371),b=t(145).trim,y=r.Number,x=y.prototype,k=r.TypeError,w=o("".slice),S=o("".charCodeAt),E=function(n){var e=u(n,"number");return"bigint"==typeof e?e:T(e)},T=function(n){var e,t,a,r,o,i,s,l,c=u(n,"number");if(p(c))throw k("Cannot convert a Symbol value to a number");if("string"==typeof c&&c.length>2)if(c=b(c),43===(e=S(c,0))||45===e){if(88===(t=S(c,2))||120===t)return NaN}else if(48===e){switch(S(c,1)){case 66:case 98:a=2,r=49;break;case 79:case 111:a=8,r=55;break;default:return+c}for(i=(o=w(c,2)).length,s=0;s<i;s++)if((l=S(o,s))<48||l>r)return NaN;return parseInt(o,a)}return+c};if(i("Number",!y(" 0o1")||!y("0b1")||y("+0x1"))){for(var _,I=function(n){var e=arguments.length<1?0:y(E(n)),t=this;return d(x,t)&&m((function(){v(t)}))?c(Object(e),t,I):e},j=a?g(y):"MAX_VALUE,MIN_VALUE,NaN,NEGATIVE_INFINITY,POSITIVE_INFINITY,EPSILON,MAX_SAFE_INTEGER,MIN_SAFE_INTEGER,isFinite,isInteger,isNaN,isSafeInteger,parseFloat,parseInt,fromString,range".split(","),z=0;j.length>z;z++)l(y,_=j[z])&&!l(I,_)&&f(I,_,h(y,_));I.prototype=x,x.constructor=I,s(r,"Number",I)}},function(n,e,t){var a=t(3),r=t(0).RegExp;n.exports=a((function(){var n=r(".","s");return!(n.dotAll&&n.exec("\n")&&"s"===n.flags)}))},function(n,e,t){"use strict";var a=t(167).IteratorPrototype,r=t(34),o=t(49),i=t(59),s=t(66),l=function(){return this};n.exports=function(n,e,t,c){var d=e+" Iterator";return n.prototype=r(a,{next:o(+!c,t)}),i(n,d,!1,!0),s[d]=l,n}},function(n,e,t){var a=t(14);n.exports=function(n,e,t){for(var r in e)a(n,r,e[r],t);return n}},function(n,e,t){"use strict";var a=t(18),r=t(13),o=t(6),i=t(7),s=o("species");n.exports=function(n){var e=a(n),t=r.f;i&&e&&!e[s]&&t(e,s,{configurable:!0,get:function(){return this}})}},function(n,e,t){var a=t(0),r=t(35),o=a.TypeError;n.exports=function(n,e){if(r(e,n))return n;throw o("Incorrect invocation")}},function(n,e,t){var a=t(3),r=t(0).RegExp;n.exports=a((function(){var n=r("(?<a>b)","g");return"b"!==n.exec("b").groups.a||"bc"!=="b".replace(n,"$<a>c")}))},function(n,e,t){"use strict";var a=t(1),r=t(117).includes,o=t(144);a({target:"Array",proto:!0},{includes:function(n){return r(this,n,arguments.length>1?arguments[1]:void 0)}}),o("includes")},function(n,e,t){"use strict";var a=t(1),r=t(2),o=t(184),i=t(19),s=t(12),l=t(185),c=r("".indexOf);a({target:"String",proto:!0,forced:!l("includes")},{includes:function(n){return!!~c(s(i(this)),s(o(n)),arguments.length>1?arguments[1]:void 0)}})},function(n,e){n.exports=function(n){var e=null==n?0:n.length;return e?n[e-1]:void 0}},function(n,e,t){"use strict";var a=t(1),r=t(145).trim;a({target:"String",proto:!0,forced:t(369)("trim")},{trim:function(){return r(this)}})},function(n,e,t){"use strict";var a=t(1),r=t(2),o=t(37),i=t(17),s=t(24),l=t(12),c=t(3),d=t(238),p=t(47),u=t(378),m=t(379),g=t(52),h=t(380),f=[],v=r(f.sort),b=r(f.push),y=c((function(){f.sort(void 0)})),x=c((function(){f.sort(null)})),k=p("sort"),w=!c((function(){if(g)return g<70;if(!(u&&u>3)){if(m)return!0;if(h)return h<603;var n,e,t,a,r="";for(n=65;n<76;n++){switch(e=String.fromCharCode(n),n){case 66:case 69:case 70:case 72:t=3;break;case 68:case 71:t=4;break;default:t=2}for(a=0;a<47;a++)f.push({k:e+a,v:t})}for(f.sort((function(n,e){return e.v-n.v})),a=0;a<f.length;a++)e=f[a].k.charAt(0),r.charAt(r.length-1)!==e&&(r+=e);return"DGBEFHACIJK"!==r}}));a({target:"Array",proto:!0,forced:y||!x||!k||!w},{sort:function(n){void 0!==n&&o(n);var e=i(this);if(w)return void 0===n?v(e):v(e,n);var t,a,r=[],c=s(e);for(a=0;a<c;a++)a in e&&b(r,e[a]);for(d(r,function(n){return function(e,t){return void 0===t?-1:void 0===e?1:void 0!==n?+n(e,t)||0:l(e)>l(t)?1:-1}}(n)),t=r.length,a=0;a<t;)e[a]=r[a++];for(;a<c;)delete e[a++];return e}})},function(n,e,t){var a=t(126),r=Math.floor,o=function(n,e){var t=n.length,l=r(t/2);return t<8?i(n,e):s(n,o(a(n,0,l),e),o(a(n,l),e),e)},i=function(n,e){for(var t,a,r=n.length,o=1;o<r;){for(a=o,t=n[o];a&&e(n[a-1],t)>0;)n[a]=n[--a];a!==o++&&(n[a]=t)}return n},s=function(n,e,t,a){for(var r=e.length,o=t.length,i=0,s=0;i<r||s<o;)n[i+s]=i<r&&s<o?a(e[i],t[s])<=0?e[i++]:t[s++]:i<r?e[i++]:t[s++];return n};n.exports=o},function(n,e,t){var a=t(0),r=t(7),o=t(109).MISSED_STICKY,i=t(28),s=t(13).f,l=t(40).get,c=RegExp.prototype,d=a.TypeError;r&&o&&s(c,"sticky",{configurable:!0,get:function(){if(this!==c){if("RegExp"===i(this))return!!l(this).sticky;throw d("Incompatible receiver, RegExp required")}}})},function(n,e,t){n.exports=t(392)},function(n,e,t){var a=t(0),r=t(11),o=t(5),i=t(9),s=a.TypeError;n.exports=function(n,e){var t,a;if("string"===e&&o(t=n.toString)&&!i(a=r(t,n)))return a;if(o(t=n.valueOf)&&!i(a=r(t,n)))return a;if("string"!==e&&o(t=n.toString)&&!i(a=r(t,n)))return a;throw s("Can't convert object to primitive value")}},function(n,e,t){var a=t(0),r=t(5),o=t(88),i=a.WeakMap;n.exports=r(i)&&/native code/.test(o(i))},function(n,e,t){var a=t(0),r=t(5),o=a.String,i=a.TypeError;n.exports=function(n){if("object"==typeof n||r(n))return n;throw i("Can't set "+o(n)+" as a prototype")}},function(n,e,t){"use strict";var a,r,o,i,s=t(1),l=t(29),c=t(0),d=t(18),p=t(11),u=t(169),m=t(14),g=t(229),h=t(68),f=t(59),v=t(230),b=t(37),y=t(5),x=t(9),k=t(231),w=t(88),S=t(245),E=t(172),T=t(125),_=t(174).set,I=t(246),j=t(176),z=t(249),C=t(177),A=t(250),P=t(251),D=t(40),q=t(107),L=t(6),B=t(252),O=t(90),F=t(52),R=L("species"),M="Promise",H=D.getterFor(M),N=D.set,U=D.getterFor(M),J=u&&u.prototype,$=u,Z=J,V=c.TypeError,K=c.document,Q=c.process,W=C.f,G=W,X=!!(K&&K.createEvent&&c.dispatchEvent),Y=y(c.PromiseRejectionEvent),nn=!1,en=q(M,(function(){var n=w($),e=n!==String($);if(!e&&66===F)return!0;if(l&&!Z.finally)return!0;if(F>=51&&/native code/.test(n))return!1;var t=new $((function(n){n(1)})),a=function(n){n((function(){}),(function(){}))};return(t.constructor={})[R]=a,!(nn=t.then((function(){}))instanceof a)||!e&&B&&!Y})),tn=en||!E((function(n){$.all(n).catch((function(){}))})),an=function(n){var e;return!(!x(n)||!y(e=n.then))&&e},rn=function(n,e){var t,a,r,o=e.value,i=1==e.state,s=i?n.ok:n.fail,l=n.resolve,c=n.reject,d=n.domain;try{s?(i||(2===e.rejection&&dn(e),e.rejection=1),!0===s?t=o:(d&&d.enter(),t=s(o),d&&(d.exit(),r=!0)),t===n.promise?c(V("Promise-chain cycle")):(a=an(t))?p(a,t,l,c):l(t)):c(o)}catch(n){d&&!r&&d.exit(),c(n)}},on=function(n,e){n.notified||(n.notified=!0,I((function(){for(var t,a=n.reactions;t=a.get();)rn(t,n);n.notified=!1,e&&!n.rejection&&ln(n)})))},sn=function(n,e,t){var a,r;X?((a=K.createEvent("Event")).promise=e,a.reason=t,a.initEvent(n,!1,!0),c.dispatchEvent(a)):a={promise:e,reason:t},!Y&&(r=c["on"+n])?r(a):"unhandledrejection"===n&&z("Unhandled promise rejection",t)},ln=function(n){p(_,c,(function(){var e,t=n.facade,a=n.value;if(cn(n)&&(e=A((function(){O?Q.emit("unhandledRejection",a,t):sn("unhandledrejection",t,a)})),n.rejection=O||cn(n)?2:1,e.error))throw e.value}))},cn=function(n){return 1!==n.rejection&&!n.parent},dn=function(n){p(_,c,(function(){var e=n.facade;O?Q.emit("rejectionHandled",e):sn("rejectionhandled",e,n.value)}))},pn=function(n,e,t){return function(a){n(e,a,t)}},un=function(n,e,t){n.done||(n.done=!0,t&&(n=t),n.value=e,n.state=2,on(n,!0))},mn=function(n,e,t){if(!n.done){n.done=!0,t&&(n=t);try{if(n.facade===e)throw V("Promise can't be resolved itself");var a=an(e);a?I((function(){var t={done:!1};try{p(a,e,pn(mn,t,n),pn(un,t,n))}catch(e){un(t,e,n)}})):(n.value=e,n.state=1,on(n,!1))}catch(e){un({done:!1},e,n)}}};if(en&&(Z=($=function(n){k(this,Z),b(n),p(a,this);var e=H(this);try{n(pn(mn,e),pn(un,e))}catch(n){un(e,n)}}).prototype,(a=function(n){N(this,{type:M,done:!1,notified:!1,parent:!1,reactions:new P,rejection:!1,state:0,value:void 0})}).prototype=g(Z,{then:function(n,e){var t=U(this),a=W(T(this,$));return t.parent=!0,a.ok=!y(n)||n,a.fail=y(e)&&e,a.domain=O?Q.domain:void 0,0==t.state?t.reactions.add(a):I((function(){rn(a,t)})),a.promise},catch:function(n){return this.then(void 0,n)}}),r=function(){var n=new a,e=H(n);this.promise=n,this.resolve=pn(mn,e),this.reject=pn(un,e)},C.f=W=function(n){return n===$||n===o?new r(n):G(n)},!l&&y(u)&&J!==Object.prototype)){i=J.then,nn||(m(J,"then",(function(n,e){var t=this;return new $((function(n,e){p(i,t,n,e)})).then(n,e)}),{unsafe:!0}),m(J,"catch",Z.catch,{unsafe:!0}));try{delete J.constructor}catch(n){}h&&h(J,Z)}s({global:!0,wrap:!0,forced:en},{Promise:$}),f($,M,!1,!0),v(M),o=d(M),s({target:M,stat:!0,forced:en},{reject:function(n){var e=W(this);return p(e.reject,void 0,n),e.promise}}),s({target:M,stat:!0,forced:l||en},{resolve:function(n){return j(l&&this===o?$:this,n)}}),s({target:M,stat:!0,forced:tn},{all:function(n){var e=this,t=W(e),a=t.resolve,r=t.reject,o=A((function(){var t=b(e.resolve),o=[],i=0,s=1;S(n,(function(n){var l=i++,c=!1;s++,p(t,e,n).then((function(n){c||(c=!0,o[l]=n,--s||a(o))}),r)})),--s||a(o)}));return o.error&&r(o.value),t.promise},race:function(n){var e=this,t=W(e),a=t.reject,r=A((function(){var r=b(e.resolve);S(n,(function(n){p(r,e,n).then(t.resolve,a)}))}));return r.error&&a(r.value),t.promise}})},function(n,e,t){var a=t(0),r=t(56),o=t(11),i=t(8),s=t(85),l=t(170),c=t(24),d=t(35),p=t(150),u=t(108),m=t(171),g=a.TypeError,h=function(n,e){this.stopped=n,this.result=e},f=h.prototype;n.exports=function(n,e,t){var a,v,b,y,x,k,w,S=t&&t.that,E=!(!t||!t.AS_ENTRIES),T=!(!t||!t.IS_ITERATOR),_=!(!t||!t.INTERRUPTED),I=r(e,S),j=function(n){return a&&m(a,"normal",n),new h(!0,n)},z=function(n){return E?(i(n),_?I(n[0],n[1],j):I(n[0],n[1])):_?I(n,j):I(n)};if(T)a=n;else{if(!(v=u(n)))throw g(s(n)+" is not iterable");if(l(v)){for(b=0,y=c(n);y>b;b++)if((x=z(n[b]))&&d(f,x))return x;return new h(!1)}a=p(n,v)}for(k=a.next;!(w=o(k,a)).done;){try{x=z(w.value)}catch(n){m(a,"throw",n)}if("object"==typeof x&&x&&d(f,x))return x}return new h(!1)}},function(n,e,t){var a,r,o,i,s,l,c,d,p=t(0),u=t(56),m=t(38).f,g=t(174).set,h=t(175),f=t(247),v=t(248),b=t(90),y=p.MutationObserver||p.WebKitMutationObserver,x=p.document,k=p.process,w=p.Promise,S=m(p,"queueMicrotask"),E=S&&S.value;E||(a=function(){var n,e;for(b&&(n=k.domain)&&n.exit();r;){e=r.fn,r=r.next;try{e()}catch(n){throw r?i():o=void 0,n}}o=void 0,n&&n.enter()},h||b||v||!y||!x?!f&&w&&w.resolve?((c=w.resolve(void 0)).constructor=w,d=u(c.then,c),i=function(){d(a)}):b?i=function(){k.nextTick(a)}:(g=u(g,p),i=function(){g(a)}):(s=!0,l=x.createTextNode(""),new y(a).observe(l,{characterData:!0}),i=function(){l.data=s=!s})),n.exports=E||function(n){var e={fn:n,next:void 0};o&&(o.next=e),r||(r=e,i()),o=e}},function(n,e,t){var a=t(32),r=t(0);n.exports=/ipad|iphone|ipod/i.test(a)&&void 0!==r.Pebble},function(n,e,t){var a=t(32);n.exports=/web0s(?!.*chrome)/i.test(a)},function(n,e,t){var a=t(0);n.exports=function(n,e){var t=a.console;t&&t.error&&(1==arguments.length?t.error(n):t.error(n,e))}},function(n,e){n.exports=function(n){try{return{error:!1,value:n()}}catch(n){return{error:!0,value:n}}}},function(n,e){var t=function(){this.head=null,this.tail=null};t.prototype={add:function(n){var e={item:n,next:null};this.head?this.tail.next=e:this.head=e,this.tail=e},get:function(){var n=this.head;if(n)return this.head=n.next,this.tail===n&&(this.tail=null),n.item}},n.exports=t},function(n,e){n.exports="object"==typeof window},function(n,e,t){var a=t(1),r=t(254);a({target:"Object",stat:!0,forced:Object.assign!==r},{assign:r})},function(n,e,t){"use strict";var a=t(7),r=t(2),o=t(11),i=t(3),s=t(86),l=t(122),c=t(119),d=t(17),p=t(63),u=Object.assign,m=Object.defineProperty,g=r([].concat);n.exports=!u||i((function(){if(a&&1!==u({b:1},u(m({},"a",{enumerable:!0,get:function(){m(this,"b",{value:3,enumerable:!1})}}),{b:2})).b)return!0;var n={},e={},t=Symbol();return n[t]=7,"abcdefghijklmnopqrst".split("").forEach((function(n){e[n]=n})),7!=u({},n)[t]||"abcdefghijklmnopqrst"!=s(u({},e)).join("")}))?function(n,e){for(var t=d(n),r=arguments.length,i=1,u=l.f,m=c.f;r>i;)for(var h,f=p(arguments[i++]),v=u?g(s(f),u(f)):s(f),b=v.length,y=0;b>y;)h=v[y++],a&&!o(m,f,h)||(t[h]=f[h]);return t}:u},function(n,e,t){"use strict";var a=t(1),r=t(29),o=t(169),i=t(3),s=t(18),l=t(5),c=t(125),d=t(176),p=t(14);if(a({target:"Promise",proto:!0,real:!0,forced:!!o&&i((function(){o.prototype.finally.call({then:function(){}},(function(){}))}))},{finally:function(n){var e=c(this,s("Promise")),t=l(n);return this.then(t?function(t){return d(e,n()).then((function(){return t}))}:n,t?function(t){return d(e,n()).then((function(){throw t}))}:n)}}),!r&&l(o)){var u=s("Promise").prototype.finally;o.prototype.finally!==u&&p(o.prototype,"finally",u,{unsafe:!0})}},function(n,e,t){"use strict";var a=t(124),r=t(78);n.exports=a?{}.toString:function(){return"[object "+r(this)+"]"}},function(n,e,t){var a=t(0),r=t(60),o=t(89),i=t(9),s=t(6)("species"),l=a.Array;n.exports=function(n){var e;return r(n)&&(e=n.constructor,(o(e)&&(e===l||r(e.prototype))||i(e)&&null===(e=e[s]))&&(e=void 0)),void 0===e?l:e}},function(n,e,t){"use strict";var a=t(1),r=t(259).left,o=t(47),i=t(52),s=t(90);a({target:"Array",proto:!0,forced:!o("reduce")||!s&&i>79&&i<83},{reduce:function(n){var e=arguments.length;return r(this,n,e,e>1?arguments[1]:void 0)}})},function(n,e,t){var a=t(0),r=t(37),o=t(17),i=t(63),s=t(24),l=a.TypeError,c=function(n){return function(e,t,a,c){r(t);var d=o(e),p=i(d),u=s(d),m=n?u-1:0,g=n?-1:1;if(a<2)for(;;){if(m in p){c=p[m],m+=g;break}if(m+=g,n?m<0:u<=m)throw l("Reduce of empty array with no initial value")}for(;n?m>=0:u>m;m+=g)m in p&&(c=t(c,p[m],m,d));return c}};n.exports={left:c(!1),right:c(!0)}},function(n,e,t){var a=t(1),r=t(187),o=t(3),i=t(9),s=t(261).onFreeze,l=Object.freeze;a({target:"Object",stat:!0,forced:o((function(){l(1)})),sham:!r},{freeze:function(n){return l&&i(n)?l(s(n)):n}})},function(n,e,t){var a=t(1),r=t(2),o=t(65),i=t(9),s=t(10),l=t(13).f,c=t(58),d=t(188),p=t(262),u=t(81),m=t(187),g=!1,h=u("meta"),f=0,v=function(n){l(n,h,{value:{objectID:"O"+f++,weakData:{}}})},b=n.exports={enable:function(){b.enable=function(){},g=!0;var n=c.f,e=r([].splice),t={};t[h]=1,n(t).length&&(c.f=function(t){for(var a=n(t),r=0,o=a.length;r<o;r++)if(a[r]===h){e(a,r,1);break}return a},a({target:"Object",stat:!0,forced:!0},{getOwnPropertyNames:d.f}))},fastKey:function(n,e){if(!i(n))return"symbol"==typeof n?n:("string"==typeof n?"S":"P")+n;if(!s(n,h)){if(!p(n))return"F";if(!e)return"E";v(n)}return n[h].objectID},getWeakData:function(n,e){if(!s(n,h)){if(!p(n))return!0;if(!e)return!1;v(n)}return n[h].weakData},onFreeze:function(n){return m&&g&&p(n)&&!s(n,h)&&v(n),n}};o[h]=!0},function(n,e,t){var a=t(3),r=t(9),o=t(28),i=t(263),s=Object.isExtensible,l=a((function(){s(1)}));n.exports=l||i?function(n){return!!r(n)&&((!i||"ArrayBuffer"!=o(n))&&(!s||s(n)))}:s},function(n,e,t){var a=t(3);n.exports=a((function(){if("function"==typeof ArrayBuffer){var n=new ArrayBuffer(8);Object.isExtensible(n)&&Object.defineProperty(n,"a",{value:8})}}))},function(n,e,t){var a=t(0);n.exports=a},function(n,e,t){"use strict";var a=t(0),r=t(56),o=t(11),i=t(17),s=t(266),l=t(170),c=t(89),d=t(24),p=t(70),u=t(150),m=t(108),g=a.Array;n.exports=function(n){var e=i(n),t=c(this),a=arguments.length,h=a>1?arguments[1]:void 0,f=void 0!==h;f&&(h=r(h,a>2?arguments[2]:void 0));var v,b,y,x,k,w,S=m(e),E=0;if(!S||this==g&&l(S))for(v=d(e),b=t?new this(v):g(v);v>E;E++)w=f?h(e[E],E):e[E],p(b,E,w);else for(k=(x=u(e,S)).next,b=t?new this:[];!(y=o(k,x)).done;E++)w=f?s(x,h,[y.value,E],!0):y.value,p(b,E,w);return b.length=E,b}},function(n,e,t){var a=t(8),r=t(171);n.exports=function(n,e,t,o){try{return o?e(a(t)[0],t[1]):e(t)}catch(e){r(n,"throw",e)}}},function(n,e,t){"use strict";var a=t(18),r=t(10),o=t(30),i=t(35),s=t(68),l=t(120),c=t(156),d=t(191),p=t(268),u=t(269),m=t(270),g=t(29);n.exports=function(n,e,t,h){var f=h?2:1,v=n.split("."),b=v[v.length-1],y=a.apply(null,v);if(y){var x=y.prototype;if(!g&&r(x,"cause")&&delete x.cause,!t)return y;var k=a("Error"),w=e((function(n,e){var t=d(h?e:n,void 0),a=h?new y(n):new y;return void 0!==t&&o(a,"message",t),m&&o(a,"stack",u(a.stack,2)),this&&i(x,this)&&c(a,this,w),arguments.length>f&&p(a,arguments[f]),a}));if(w.prototype=x,"Error"!==b&&(s?s(w,k):l(w,k,{name:!0})),l(w,y),!g)try{x.name!==b&&o(x,"name",b),x.constructor=w}catch(n){}return w}}},function(n,e,t){var a=t(9),r=t(30);n.exports=function(n,e){a(e)&&"cause"in e&&r(n,"cause",e.cause)}},function(n,e,t){var a=t(2)("".replace),r=String(Error("zxcasd").stack),o=/\n\s*at [^:]*:[^\n]*/,i=o.test(r);n.exports=function(n,e){if(i&&"string"==typeof n)for(;e--;)n=a(n,o,"");return n}},function(n,e,t){var a=t(3),r=t(49);n.exports=!a((function(){var n=Error("a");return!("stack"in n)||(Object.defineProperty(n,"stack",r(1,7)),7!==n.stack)}))},function(n,e,t){"use strict";var a=t(7),r=t(3),o=t(8),i=t(34),s=t(191),l=Error.prototype.toString,c=r((function(){if(a){var n=i(Object.defineProperty({},"name",{get:function(){return this===n}}));if("true"!==l.call(n))return!0}return"2: 1"!==l.call({message:1,name:2})||"Error"!==l.call({})}));n.exports=c?function(){var n=o(this),e=s(n.name,"Error"),t=s(n.message);return e?t?e+": "+t:e:t}:l},function(n,e,t){var a=t(2),r=t(17),o=Math.floor,i=a("".charAt),s=a("".replace),l=a("".slice),c=/\$([$&'`]|\d{1,2}|<[^>]*>)/g,d=/\$([$&'`]|\d{1,2})/g;n.exports=function(n,e,t,a,p,u){var m=t+n.length,g=a.length,h=d;return void 0!==p&&(p=r(p),h=c),s(u,h,(function(r,s){var c;switch(i(s,0)){case"$":return"$";case"&":return n;case"`":return l(e,0,t);case"'":return l(e,m);case"<":c=p[l(s,1,-1)];break;default:var d=+s;if(0===d)return r;if(d>g){var u=o(d/10);return 0===u?r:u<=g?void 0===a[u-1]?i(s,1):a[u-1]+i(s,1):r}c=a[d-1]}return void 0===c?"":c}))}},function(n,e,t){var a=t(193),r=t(274);n.exports=function n(e,t,o,i,s){var l=-1,c=e.length;for(o||(o=r),s||(s=[]);++l<c;){var d=e[l];t>0&&o(d)?t>1?n(d,t-1,o,i,s):a(s,d):i||(s[s.length]=d)}return s}},function(n,e,t){var a=t(72),r=t(130),o=t(31),i=a?a.isConcatSpreadable:void 0;n.exports=function(n){return o(n)||r(n)||!!(i&&n&&n[i])}},function(n,e,t){var a=t(62),r=t(50);n.exports=function(n){return r(n)&&"[object Arguments]"==a(n)}},function(n,e,t){var a=t(72),r=Object.prototype,o=r.hasOwnProperty,i=r.toString,s=a?a.toStringTag:void 0;n.exports=function(n){var e=o.call(n,s),t=n[s];try{n[s]=void 0;var a=!0}catch(n){}var r=i.call(n);return a&&(e?n[s]=t:delete n[s]),r}},function(n,e){var t=Object.prototype.toString;n.exports=function(n){return t.call(n)}},function(n,e,t){var a=t(279),r=t(335),o=t(138),i=t(31),s=t(346);n.exports=function(n){return"function"==typeof n?n:null==n?o:"object"==typeof n?i(n)?r(n[0],n[1]):a(n):s(n)}},function(n,e,t){var a=t(280),r=t(334),o=t(210);n.exports=function(n){var e=r(n);return 1==e.length&&e[0][2]?o(e[0][0],e[0][1]):function(t){return t===n||a(t,n,e)}}},function(n,e,t){var a=t(195),r=t(199);n.exports=function(n,e,t,o){var i=t.length,s=i,l=!o;if(null==n)return!s;for(n=Object(n);i--;){var c=t[i];if(l&&c[2]?c[1]!==n[c[0]]:!(c[0]in n))return!1}for(;++i<s;){var d=(c=t[i])[0],p=n[d],u=c[1];if(l&&c[2]){if(void 0===p&&!(d in n))return!1}else{var m=new a;if(o)var g=o(p,u,d,n,e,m);if(!(void 0===g?r(u,p,3,o,m):g))return!1}}return!0}},function(n,e){n.exports=function(){this.__data__=[],this.size=0}},function(n,e,t){var a=t(96),r=Array.prototype.splice;n.exports=function(n){var e=this.__data__,t=a(e,n);return!(t<0)&&(t==e.length-1?e.pop():r.call(e,t,1),--this.size,!0)}},function(n,e,t){var a=t(96);n.exports=function(n){var e=this.__data__,t=a(e,n);return t<0?void 0:e[t][1]}},function(n,e,t){var a=t(96);n.exports=function(n){return a(this.__data__,n)>-1}},function(n,e,t){var a=t(96);n.exports=function(n,e){var t=this.__data__,r=a(t,n);return r<0?(++this.size,t.push([n,e])):t[r][1]=e,this}},function(n,e,t){var a=t(95);n.exports=function(){this.__data__=new a,this.size=0}},function(n,e){n.exports=function(n){var e=this.__data__,t=e.delete(n);return this.size=e.size,t}},function(n,e){n.exports=function(n){return this.__data__.get(n)}},function(n,e){n.exports=function(n){return this.__data__.has(n)}},function(n,e,t){var a=t(95),r=t(131),o=t(133);n.exports=function(n,e){var t=this.__data__;if(t instanceof a){var i=t.__data__;if(!r||i.length<199)return i.push([n,e]),this.size=++t.size,this;t=this.__data__=new o(i)}return t.set(n,e),this.size=t.size,this}},function(n,e,t){var a=t(197),r=t(292),o=t(132),i=t(198),s=/^\[object .+?Constructor\]$/,l=Function.prototype,c=Object.prototype,d=l.toString,p=c.hasOwnProperty,u=RegExp("^"+d.call(p).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");n.exports=function(n){return!(!o(n)||r(n))&&(a(n)?u:s).test(i(n))}},function(n,e,t){var a,r=t(293),o=(a=/[^.]+$/.exec(r&&r.keys&&r.keys.IE_PROTO||""))?"Symbol(src)_1."+a:"";n.exports=function(n){return!!o&&o in n}},function(n,e,t){var a=t(33)["__core-js_shared__"];n.exports=a},function(n,e){n.exports=function(n,e){return null==n?void 0:n[e]}},function(n,e,t){var a=t(296),r=t(95),o=t(131);n.exports=function(){this.size=0,this.__data__={hash:new a,map:new(o||r),string:new a}}},function(n,e,t){var a=t(297),r=t(298),o=t(299),i=t(300),s=t(301);function l(n){var e=-1,t=null==n?0:n.length;for(this.clear();++e<t;){var a=n[e];this.set(a[0],a[1])}}l.prototype.clear=a,l.prototype.delete=r,l.prototype.get=o,l.prototype.has=i,l.prototype.set=s,n.exports=l},function(n,e,t){var a=t(97);n.exports=function(){this.__data__=a?a(null):{},this.size=0}},function(n,e){n.exports=function(n){var e=this.has(n)&&delete this.__data__[n];return this.size-=e?1:0,e}},function(n,e,t){var a=t(97),r=Object.prototype.hasOwnProperty;n.exports=function(n){var e=this.__data__;if(a){var t=e[n];return"__lodash_hash_undefined__"===t?void 0:t}return r.call(e,n)?e[n]:void 0}},function(n,e,t){var a=t(97),r=Object.prototype.hasOwnProperty;n.exports=function(n){var e=this.__data__;return a?void 0!==e[n]:r.call(e,n)}},function(n,e,t){var a=t(97);n.exports=function(n,e){var t=this.__data__;return this.size+=this.has(n)?0:1,t[n]=a&&void 0===e?"__lodash_hash_undefined__":e,this}},function(n,e,t){var a=t(98);n.exports=function(n){var e=a(this,n).delete(n);return this.size-=e?1:0,e}},function(n,e){n.exports=function(n){var e=typeof n;return"string"==e||"number"==e||"symbol"==e||"boolean"==e?"__proto__"!==n:null===n}},function(n,e,t){var a=t(98);n.exports=function(n){return a(this,n).get(n)}},function(n,e,t){var a=t(98);n.exports=function(n){return a(this,n).has(n)}},function(n,e,t){var a=t(98);n.exports=function(n,e){var t=a(this,n),r=t.size;return t.set(n,e),this.size+=t.size==r?0:1,this}},function(n,e,t){var a=t(195),r=t(200),o=t(311),i=t(314),s=t(330),l=t(31),c=t(204),d=t(206),p="[object Object]",u=Object.prototype.hasOwnProperty;n.exports=function(n,e,t,m,g,h){var f=l(n),v=l(e),b=f?"[object Array]":s(n),y=v?"[object Array]":s(e),x=(b="[object Arguments]"==b?p:b)==p,k=(y="[object Arguments]"==y?p:y)==p,w=b==y;if(w&&c(n)){if(!c(e))return!1;f=!0,x=!1}if(w&&!x)return h||(h=new a),f||d(n)?r(n,e,t,m,g,h):o(n,e,b,t,m,g,h);if(!(1&t)){var S=x&&u.call(n,"__wrapped__"),E=k&&u.call(e,"__wrapped__");if(S||E){var T=S?n.value():n,_=E?e.value():e;return h||(h=new a),g(T,_,t,m,h)}}return!!w&&(h||(h=new a),i(n,e,t,m,g,h))}},function(n,e){n.exports=function(n){return this.__data__.set(n,"__lodash_hash_undefined__"),this}},function(n,e){n.exports=function(n){return this.__data__.has(n)}},function(n,e){n.exports=function(n,e){for(var t=-1,a=null==n?0:n.length;++t<a;)if(e(n[t],t,n))return!0;return!1}},function(n,e,t){var a=t(72),r=t(312),o=t(196),i=t(200),s=t(313),l=t(134),c=a?a.prototype:void 0,d=c?c.valueOf:void 0;n.exports=function(n,e,t,a,c,p,u){switch(t){case"[object DataView]":if(n.byteLength!=e.byteLength||n.byteOffset!=e.byteOffset)return!1;n=n.buffer,e=e.buffer;case"[object ArrayBuffer]":return!(n.byteLength!=e.byteLength||!p(new r(n),new r(e)));case"[object Boolean]":case"[object Date]":case"[object Number]":return o(+n,+e);case"[object Error]":return n.name==e.name&&n.message==e.message;case"[object RegExp]":case"[object String]":return n==e+"";case"[object Map]":var m=s;case"[object Set]":var g=1&a;if(m||(m=l),n.size!=e.size&&!g)return!1;var h=u.get(n);if(h)return h==e;a|=2,u.set(n,e);var f=i(m(n),m(e),a,c,p,u);return u.delete(n),f;case"[object Symbol]":if(d)return d.call(n)==d.call(e)}return!1}},function(n,e,t){var a=t(33).Uint8Array;n.exports=a},function(n,e){n.exports=function(n){var e=-1,t=Array(n.size);return n.forEach((function(n,a){t[++e]=[a,n]})),t}},function(n,e,t){var a=t(315),r=Object.prototype.hasOwnProperty;n.exports=function(n,e,t,o,i,s){var l=1&t,c=a(n),d=c.length;if(d!=a(e).length&&!l)return!1;for(var p=d;p--;){var u=c[p];if(!(l?u in e:r.call(e,u)))return!1}var m=s.get(n),g=s.get(e);if(m&&g)return m==e&&g==n;var h=!0;s.set(n,e),s.set(e,n);for(var f=l;++p<d;){var v=n[u=c[p]],b=e[u];if(o)var y=l?o(b,v,u,e,n,s):o(v,b,u,n,e,s);if(!(void 0===y?v===b||i(v,b,t,o,s):y)){h=!1;break}f||(f="constructor"==u)}if(h&&!f){var x=n.constructor,k=e.constructor;x==k||!("constructor"in n)||!("constructor"in e)||"function"==typeof x&&x instanceof x&&"function"==typeof k&&k instanceof k||(h=!1)}return s.delete(n),s.delete(e),h}},function(n,e,t){var a=t(316),r=t(317),o=t(203);n.exports=function(n){return a(n,o,r)}},function(n,e,t){var a=t(193),r=t(31);n.exports=function(n,e,t){var o=e(n);return r(n)?o:a(o,t(n))}},function(n,e,t){var a=t(318),r=t(319),o=Object.prototype.propertyIsEnumerable,i=Object.getOwnPropertySymbols,s=i?function(n){return null==n?[]:(n=Object(n),a(i(n),(function(e){return o.call(n,e)})))}:r;n.exports=s},function(n,e){n.exports=function(n,e){for(var t=-1,a=null==n?0:n.length,r=0,o=[];++t<a;){var i=n[t];e(i,t,n)&&(o[r++]=i)}return o}},function(n,e){n.exports=function(){return[]}},function(n,e,t){var a=t(321),r=t(130),o=t(31),i=t(204),s=t(205),l=t(206),c=Object.prototype.hasOwnProperty;n.exports=function(n,e){var t=o(n),d=!t&&r(n),p=!t&&!d&&i(n),u=!t&&!d&&!p&&l(n),m=t||d||p||u,g=m?a(n.length,String):[],h=g.length;for(var f in n)!e&&!c.call(n,f)||m&&("length"==f||p&&("offset"==f||"parent"==f)||u&&("buffer"==f||"byteLength"==f||"byteOffset"==f)||s(f,h))||g.push(f);return g}},function(n,e){n.exports=function(n,e){for(var t=-1,a=Array(n);++t<n;)a[t]=e(t);return a}},function(n,e){n.exports=function(){return!1}},function(n,e,t){var a=t(62),r=t(135),o=t(50),i={};i["[object Float32Array]"]=i["[object Float64Array]"]=i["[object Int8Array]"]=i["[object Int16Array]"]=i["[object Int32Array]"]=i["[object Uint8Array]"]=i["[object Uint8ClampedArray]"]=i["[object Uint16Array]"]=i["[object Uint32Array]"]=!0,i["[object Arguments]"]=i["[object Array]"]=i["[object ArrayBuffer]"]=i["[object Boolean]"]=i["[object DataView]"]=i["[object Date]"]=i["[object Error]"]=i["[object Function]"]=i["[object Map]"]=i["[object Number]"]=i["[object Object]"]=i["[object RegExp]"]=i["[object Set]"]=i["[object String]"]=i["[object WeakMap]"]=!1,n.exports=function(n){return o(n)&&r(n.length)&&!!i[a(n)]}},function(n,e){n.exports=function(n){return function(e){return n(e)}}},function(n,e,t){(function(n){var a=t(194),r=e&&!e.nodeType&&e,o=r&&"object"==typeof n&&n&&!n.nodeType&&n,i=o&&o.exports===r&&a.process,s=function(){try{var n=o&&o.require&&o.require("util").types;return n||i&&i.binding&&i.binding("util")}catch(n){}}();n.exports=s}).call(this,t(157)(n))},function(n,e,t){var a=t(327),r=t(328),o=Object.prototype.hasOwnProperty;n.exports=function(n){if(!a(n))return r(n);var e=[];for(var t in Object(n))o.call(n,t)&&"constructor"!=t&&e.push(t);return e}},function(n,e){var t=Object.prototype;n.exports=function(n){var e=n&&n.constructor;return n===("function"==typeof e&&e.prototype||t)}},function(n,e,t){var a=t(329)(Object.keys,Object);n.exports=a},function(n,e){n.exports=function(n,e){return function(t){return n(e(t))}}},function(n,e,t){var a=t(331),r=t(131),o=t(332),i=t(208),s=t(333),l=t(62),c=t(198),d=c(a),p=c(r),u=c(o),m=c(i),g=c(s),h=l;(a&&"[object DataView]"!=h(new a(new ArrayBuffer(1)))||r&&"[object Map]"!=h(new r)||o&&"[object Promise]"!=h(o.resolve())||i&&"[object Set]"!=h(new i)||s&&"[object WeakMap]"!=h(new s))&&(h=function(n){var e=l(n),t="[object Object]"==e?n.constructor:void 0,a=t?c(t):"";if(a)switch(a){case d:return"[object DataView]";case p:return"[object Map]";case u:return"[object Promise]";case m:return"[object Set]";case g:return"[object WeakMap]"}return e}),n.exports=h},function(n,e,t){var a=t(42)(t(33),"DataView");n.exports=a},function(n,e,t){var a=t(42)(t(33),"Promise");n.exports=a},function(n,e,t){var a=t(42)(t(33),"WeakMap");n.exports=a},function(n,e,t){var a=t(209),r=t(203);n.exports=function(n){for(var e=r(n),t=e.length;t--;){var o=e[t],i=n[o];e[t]=[o,i,a(i)]}return e}},function(n,e,t){var a=t(199),r=t(336),o=t(343),i=t(136),s=t(209),l=t(210),c=t(99);n.exports=function(n,e){return i(n)&&s(e)?l(c(n),e):function(t){var i=r(t,n);return void 0===i&&i===e?o(t,n):a(e,i,3)}}},function(n,e,t){var a=t(211);n.exports=function(n,e,t){var r=null==n?void 0:a(n,e);return void 0===r?t:r}},function(n,e,t){var a=t(338),r=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,o=/\\(\\)?/g,i=a((function(n){var e=[];return 46===n.charCodeAt(0)&&e.push(""),n.replace(r,(function(n,t,a,r){e.push(a?r.replace(o,"$1"):t||n)})),e}));n.exports=i},function(n,e,t){var a=t(339);n.exports=function(n){var e=a(n,(function(n){return 500===t.size&&t.clear(),n})),t=e.cache;return e}},function(n,e,t){var a=t(133);function r(n,e){if("function"!=typeof n||null!=e&&"function"!=typeof e)throw new TypeError("Expected a function");var t=function(){var a=arguments,r=e?e.apply(this,a):a[0],o=t.cache;if(o.has(r))return o.get(r);var i=n.apply(this,a);return t.cache=o.set(r,i)||o,i};return t.cache=new(r.Cache||a),t}r.Cache=a,n.exports=r},function(n,e,t){var a=t(341);n.exports=function(n){return null==n?"":a(n)}},function(n,e,t){var a=t(72),r=t(342),o=t(31),i=t(137),s=a?a.prototype:void 0,l=s?s.toString:void 0;n.exports=function n(e){if("string"==typeof e)return e;if(o(e))return r(e,n)+"";if(i(e))return l?l.call(e):"";var t=e+"";return"0"==t&&1/e==-1/0?"-0":t}},function(n,e){n.exports=function(n,e){for(var t=-1,a=null==n?0:n.length,r=Array(a);++t<a;)r[t]=e(n[t],t,n);return r}},function(n,e,t){var a=t(344),r=t(345);n.exports=function(n,e){return null!=n&&r(n,e,a)}},function(n,e){n.exports=function(n,e){return null!=n&&e in Object(n)}},function(n,e,t){var a=t(212),r=t(130),o=t(31),i=t(205),s=t(135),l=t(99);n.exports=function(n,e,t){for(var c=-1,d=(e=a(e,n)).length,p=!1;++c<d;){var u=l(e[c]);if(!(p=null!=n&&t(n,u)))break;n=n[u]}return p||++c!=d?p:!!(d=null==n?0:n.length)&&s(d)&&i(u,d)&&(o(n)||r(n))}},function(n,e,t){var a=t(347),r=t(348),o=t(136),i=t(99);n.exports=function(n){return o(n)?a(i(n)):r(n)}},function(n,e){n.exports=function(n){return function(e){return null==e?void 0:e[n]}}},function(n,e,t){var a=t(211);n.exports=function(n){return function(e){return a(e,n)}}},function(n,e,t){var a=t(138),r=t(350),o=t(352);n.exports=function(n,e){return o(r(n,e,a),n+"")}},function(n,e,t){var a=t(351),r=Math.max;n.exports=function(n,e,t){return e=r(void 0===e?n.length-1:e,0),function(){for(var o=arguments,i=-1,s=r(o.length-e,0),l=Array(s);++i<s;)l[i]=o[e+i];i=-1;for(var c=Array(e+1);++i<e;)c[i]=o[i];return c[e]=t(l),a(n,this,c)}}},function(n,e){n.exports=function(n,e,t){switch(t.length){case 0:return n.call(e);case 1:return n.call(e,t[0]);case 2:return n.call(e,t[0],t[1]);case 3:return n.call(e,t[0],t[1],t[2])}return n.apply(e,t)}},function(n,e,t){var a=t(353),r=t(356)(a);n.exports=r},function(n,e,t){var a=t(354),r=t(355),o=t(138),i=r?function(n,e){return r(n,"toString",{configurable:!0,enumerable:!1,value:a(e),writable:!0})}:o;n.exports=i},function(n,e){n.exports=function(n){return function(){return n}}},function(n,e,t){var a=t(42),r=function(){try{var n=a(Object,"defineProperty");return n({},"",{}),n}catch(n){}}();n.exports=r},function(n,e){var t=Date.now;n.exports=function(n){var e=0,a=0;return function(){var r=t(),o=16-(r-a);if(a=r,o>0){if(++e>=800)return arguments[0]}else e=0;return n.apply(void 0,arguments)}}},function(n,e,t){var a=t(201),r=t(358),o=t(363),i=t(202),s=t(364),l=t(134);n.exports=function(n,e,t){var c=-1,d=r,p=n.length,u=!0,m=[],g=m;if(t)u=!1,d=o;else if(p>=200){var h=e?null:s(n);if(h)return l(h);u=!1,d=i,g=new a}else g=e?[]:m;n:for(;++c<p;){var f=n[c],v=e?e(f):f;if(f=t||0!==f?f:0,u&&v==v){for(var b=g.length;b--;)if(g[b]===v)continue n;e&&g.push(v),m.push(f)}else d(g,v,t)||(g!==m&&g.push(v),m.push(f))}return m}},function(n,e,t){var a=t(359);n.exports=function(n,e){return!!(null==n?0:n.length)&&a(n,e,0)>-1}},function(n,e,t){var a=t(360),r=t(361),o=t(362);n.exports=function(n,e,t){return e==e?o(n,e,t):a(n,r,t)}},function(n,e){n.exports=function(n,e,t,a){for(var r=n.length,o=t+(a?1:-1);a?o--:++o<r;)if(e(n[o],o,n))return o;return-1}},function(n,e){n.exports=function(n){return n!=n}},function(n,e){n.exports=function(n,e,t){for(var a=t-1,r=n.length;++a<r;)if(n[a]===e)return a;return-1}},function(n,e){n.exports=function(n,e,t){for(var a=-1,r=null==n?0:n.length;++a<r;)if(t(e,n[a]))return!0;return!1}},function(n,e,t){var a=t(208),r=t(365),o=t(134),i=a&&1/o(new a([,-0]))[1]==1/0?function(n){return new a(n)}:r;n.exports=i},function(n,e){n.exports=function(){}},function(n,e,t){var a=t(207),r=t(50);n.exports=function(n){return r(n)&&a(n)}},function(n,e,t){},function(n,e,t){},function(n,e,t){var a=t(67).PROPER,r=t(3),o=t(146);n.exports=function(n){return r((function(){return!!o[n]()||"âÂá "!=="âÂá "[n]()||a&&o[n].name!==n}))}},function(n,e,t){var a=t(1),r=t(213);a({target:"Function",proto:!0,forced:Function.bind!==r},{bind:r})},function(n,e,t){var a=t(2);n.exports=a(1..valueOf)},function(n,e,t){"use strict";t(214)},function(n,e,t){var a=t(2),r=t(53),o=t(12),i=t(374),s=t(19),l=a(i),c=a("".slice),d=Math.ceil,p=function(n){return function(e,t,a){var i,p,u=o(s(e)),m=r(t),g=u.length,h=void 0===a?" ":o(a);return m<=g||""==h?u:((p=l(h,d((i=m-g)/h.length))).length>i&&(p=c(p,0,i)),n?u+p:p+u)}};n.exports={start:p(!1),end:p(!0)}},function(n,e,t){"use strict";var a=t(0),r=t(55),o=t(12),i=t(19),s=a.RangeError;n.exports=function(n){var e=o(i(this)),t="",a=r(n);if(a<0||a==1/0)throw s("Wrong number of repetitions");for(;a>0;(a>>>=1)&&(e+=e))1&a&&(t+=e);return t}},function(n,e,t){var a=t(32);n.exports=/Version\/10(?:\.\d+){1,2}(?: [\w./]+)?(?: Mobile\/\w+)? Safari\//.test(a)},function(n,e,t){"use strict";t(215)},function(n,e,t){"use strict";t(216)},function(n,e,t){var a=t(32).match(/firefox\/(\d+)/i);n.exports=!!a&&+a[1]},function(n,e,t){var a=t(32);n.exports=/MSIE|Trident/.test(a)},function(n,e,t){var a=t(32).match(/AppleWebKit\/(\d+)\./);n.exports=!!a&&+a[1]},function(n,e,t){},function(n,e,t){},function(n,e,t){var a=t(1),r=t(3),o=t(20),i=t(38).f,s=t(7),l=r((function(){i(1)}));a({target:"Object",stat:!0,forced:!s||l,sham:!s},{getOwnPropertyDescriptor:function(n,e){return i(o(n),e)}})},function(n,e,t){var a=t(1),r=t(7),o=t(116).f;a({target:"Object",stat:!0,forced:Object.defineProperties!==o,sham:!r},{defineProperties:o})},function(n,e,t){t(1)({target:"Reflect",stat:!0},{ownKeys:t(121)})},function(n,e){},function(n,e){function t(n,e){for(var t=0,a=n.length-1;a>=0;a--){var r=n[a];"."===r?n.splice(a,1):".."===r?(n.splice(a,1),t++):t&&(n.splice(a,1),t--)}if(e)for(;t--;t)n.unshift("..");return n}function a(n,e){if(n.filter)return n.filter(e);for(var t=[],a=0;a<n.length;a++)e(n[a],a,n)&&t.push(n[a]);return t}e.resolve=function(){for(var n="",e=!1,r=arguments.length-1;r>=-1&&!e;r--){var o=r>=0?arguments[r]:process.cwd();if("string"!=typeof o)throw new TypeError("Arguments to path.resolve must be strings");o&&(n=o+"/"+n,e="/"===o.charAt(0))}return(e?"/":"")+(n=t(a(n.split("/"),(function(n){return!!n})),!e).join("/"))||"."},e.normalize=function(n){var o=e.isAbsolute(n),i="/"===r(n,-1);return(n=t(a(n.split("/"),(function(n){return!!n})),!o).join("/"))||o||(n="."),n&&i&&(n+="/"),(o?"/":"")+n},e.isAbsolute=function(n){return"/"===n.charAt(0)},e.join=function(){var n=Array.prototype.slice.call(arguments,0);return e.normalize(a(n,(function(n,e){if("string"!=typeof n)throw new TypeError("Arguments to path.join must be strings");return n})).join("/"))},e.relative=function(n,t){function a(n){for(var e=0;e<n.length&&""===n[e];e++);for(var t=n.length-1;t>=0&&""===n[t];t--);return e>t?[]:n.slice(e,t-e+1)}n=e.resolve(n).substr(1),t=e.resolve(t).substr(1);for(var r=a(n.split("/")),o=a(t.split("/")),i=Math.min(r.length,o.length),s=i,l=0;l<i;l++)if(r[l]!==o[l]){s=l;break}var c=[];for(l=s;l<r.length;l++)c.push("..");return(c=c.concat(o.slice(s))).join("/")},e.sep="/",e.delimiter=":",e.dirname=function(n){if("string"!=typeof n&&(n+=""),0===n.length)return".";for(var e=n.charCodeAt(0),t=47===e,a=-1,r=!0,o=n.length-1;o>=1;--o)if(47===(e=n.charCodeAt(o))){if(!r){a=o;break}}else r=!1;return-1===a?t?"/":".":t&&1===a?"/":n.slice(0,a)},e.basename=function(n,e){var t=function(n){"string"!=typeof n&&(n+="");var e,t=0,a=-1,r=!0;for(e=n.length-1;e>=0;--e)if(47===n.charCodeAt(e)){if(!r){t=e+1;break}}else-1===a&&(r=!1,a=e+1);return-1===a?"":n.slice(t,a)}(n);return e&&t.substr(-1*e.length)===e&&(t=t.substr(0,t.length-e.length)),t},e.extname=function(n){"string"!=typeof n&&(n+="");for(var e=-1,t=0,a=-1,r=!0,o=0,i=n.length-1;i>=0;--i){var s=n.charCodeAt(i);if(47!==s)-1===a&&(r=!1,a=i+1),46===s?-1===e?e=i:1!==o&&(o=1):-1!==e&&(o=-1);else if(!r){t=i+1;break}}return-1===e||-1===a||0===o||1===o&&e===a-1&&e===t+1?"":n.slice(e,a)};var r="b"==="ab".substr(-1)?function(n,e,t){return n.substr(e,t)}:function(n,e,t){return e<0&&(e=n.length+e),n.substr(e,t)}},function(n,e,t){"use strict";var a=/[|\\{}()[\]^$+*?.]/g;e.escapeRegExpChars=function(n){return n?String(n).replace(a,"\\$&"):""};var r={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&#34;","'":"&#39;"},o=/[&<>'"]/g;function i(n){return r[n]||n}e.escapeXML=function(n){return null==n?"":String(n).replace(o,i)},e.escapeXML.toString=function(){return Function.prototype.toString.call(this)+';\nvar _ENCODE_HTML_RULES = {\n      "&": "&amp;"\n    , "<": "&lt;"\n    , ">": "&gt;"\n    , \'"\': "&#34;"\n    , "\'": "&#39;"\n    }\n  , _MATCH_HTML = /[&<>\'"]/g;\nfunction encode_char(c) {\n  return _ENCODE_HTML_RULES[c] || c;\n};\n'},e.shallowCopy=function(n,e){for(var t in e=e||{})n[t]=e[t];return n},e.shallowCopyFromList=function(n,e,t){for(var a=0;a<t.length;a++){var r=t[a];void 0!==e[r]&&(n[r]=e[r])}return n},e.cache={_data:{},set:function(n,e){this._data[n]=e},get:function(n){return this._data[n]},remove:function(n){delete this._data[n]},reset:function(){this._data={}}}},function(n){n.exports=JSON.parse('{"name":"ejs","description":"Embedded JavaScript templates","keywords":["template","engine","ejs"],"version":"2.7.4","author":"Matthew Eernisse <mde@fleegix.org> (http://fleegix.org)","license":"Apache-2.0","main":"./lib/ejs.js","repository":{"type":"git","url":"git://github.com/mde/ejs.git"},"bugs":"https://github.com/mde/ejs/issues","homepage":"https://github.com/mde/ejs","dependencies":{},"devDependencies":{"browserify":"^13.1.1","eslint":"^4.14.0","git-directory-deploy":"^1.5.1","jake":"^10.3.1","jsdoc":"^3.4.0","lru-cache":"^4.0.1","mocha":"^5.0.5","uglify-js":"^3.3.16"},"engines":{"node":">=0.10.0"},"scripts":{"test":"mocha","postinstall":"node ./postinstall.js"}}')},function(n,e,t){"use strict";t(219)},function(n,e,t){"use strict";t(220)},function(n,e,t){"use strict";t.r(e);t(149),t(244),t(253),t(255);var a=t(91),r=(t(148),t(44),t(4),t(21),t(27),t(46),t(25),Object.freeze({}));function o(n){return null==n}function i(n){return null!=n}function s(n){return!0===n}function l(n){return"string"==typeof n||"number"==typeof n||"symbol"==typeof n||"boolean"==typeof n}function c(n){return null!==n&&"object"==typeof n}var d=Object.prototype.toString;function p(n){return"[object Object]"===d.call(n)}function u(n){return"[object RegExp]"===d.call(n)}function m(n){var e=parseFloat(String(n));return e>=0&&Math.floor(e)===e&&isFinite(n)}function g(n){return i(n)&&"function"==typeof n.then&&"function"==typeof n.catch}function h(n){return null==n?"":Array.isArray(n)||p(n)&&n.toString===d?JSON.stringify(n,null,2):String(n)}function f(n){var e=parseFloat(n);return isNaN(e)?n:e}function v(n,e){for(var t=Object.create(null),a=n.split(","),r=0;r<a.length;r++)t[a[r]]=!0;return e?function(n){return t[n.toLowerCase()]}:function(n){return t[n]}}v("slot,component",!0);var b=v("key,ref,slot,slot-scope,is");function y(n,e){if(n.length){var t=n.indexOf(e);if(t>-1)return n.splice(t,1)}}var x=Object.prototype.hasOwnProperty;function k(n,e){return x.call(n,e)}function w(n){var e=Object.create(null);return function(t){return e[t]||(e[t]=n(t))}}var S=/-(\w)/g,E=w((function(n){return n.replace(S,(function(n,e){return e?e.toUpperCase():""}))})),T=w((function(n){return n.charAt(0).toUpperCase()+n.slice(1)})),_=/\B([A-Z])/g,I=w((function(n){return n.replace(_,"-$1").toLowerCase()}));var j=Function.prototype.bind?function(n,e){return n.bind(e)}:function(n,e){function t(t){var a=arguments.length;return a?a>1?n.apply(e,arguments):n.call(e,t):n.call(e)}return t._length=n.length,t};function z(n,e){e=e||0;for(var t=n.length-e,a=new Array(t);t--;)a[t]=n[t+e];return a}function C(n,e){for(var t in e)n[t]=e[t];return n}function A(n){for(var e={},t=0;t<n.length;t++)n[t]&&C(e,n[t]);return e}function P(n,e,t){}var D=function(n,e,t){return!1},q=function(n){return n};function L(n,e){if(n===e)return!0;var t=c(n),a=c(e);if(!t||!a)return!t&&!a&&String(n)===String(e);try{var r=Array.isArray(n),o=Array.isArray(e);if(r&&o)return n.length===e.length&&n.every((function(n,t){return L(n,e[t])}));if(n instanceof Date&&e instanceof Date)return n.getTime()===e.getTime();if(r||o)return!1;var i=Object.keys(n),s=Object.keys(e);return i.length===s.length&&i.every((function(t){return L(n[t],e[t])}))}catch(n){return!1}}function B(n,e){for(var t=0;t<n.length;t++)if(L(n[t],e))return t;return-1}function O(n){var e=!1;return function(){e||(e=!0,n.apply(this,arguments))}}var F=["component","directive","filter"],R=["beforeCreate","created","beforeMount","mounted","beforeUpdate","updated","beforeDestroy","destroyed","activated","deactivated","errorCaptured","serverPrefetch"],M={optionMergeStrategies:Object.create(null),silent:!1,productionTip:!1,devtools:!1,performance:!1,errorHandler:null,warnHandler:null,ignoredElements:[],keyCodes:Object.create(null),isReservedTag:D,isReservedAttr:D,isUnknownElement:D,getTagNamespace:P,parsePlatformTagName:q,mustUseProp:D,async:!0,_lifecycleHooks:R},H=/a-zA-Z\u00B7\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u037D\u037F-\u1FFF\u200C-\u200D\u203F-\u2040\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD/;function N(n,e,t,a){Object.defineProperty(n,e,{value:t,enumerable:!!a,writable:!0,configurable:!0})}var U=new RegExp("[^"+H.source+".$_\\d]");var J,$="__proto__"in{},Z="undefined"!=typeof window,V="undefined"!=typeof WXEnvironment&&!!WXEnvironment.platform,K=V&&WXEnvironment.platform.toLowerCase(),Q=Z&&window.navigator.userAgent.toLowerCase(),W=Q&&/msie|trident/.test(Q),G=Q&&Q.indexOf("msie 9.0")>0,X=Q&&Q.indexOf("edge/")>0,Y=(Q&&Q.indexOf("android"),Q&&/iphone|ipad|ipod|ios/.test(Q)||"ios"===K),nn=(Q&&/chrome\/\d+/.test(Q),Q&&/phantomjs/.test(Q),Q&&Q.match(/firefox\/(\d+)/)),en={}.watch,tn=!1;if(Z)try{var an={};Object.defineProperty(an,"passive",{get:function(){tn=!0}}),window.addEventListener("test-passive",null,an)}catch(n){}var rn=function(){return void 0===J&&(J=!Z&&!V&&"undefined"!=typeof global&&(global.process&&"server"===global.process.env.VUE_ENV)),J},on=Z&&window.__VUE_DEVTOOLS_GLOBAL_HOOK__;function sn(n){return"function"==typeof n&&/native code/.test(n.toString())}var ln,cn="undefined"!=typeof Symbol&&sn(Symbol)&&"undefined"!=typeof Reflect&&sn(Reflect.ownKeys);ln="undefined"!=typeof Set&&sn(Set)?Set:function(){function n(){this.set=Object.create(null)}return n.prototype.has=function(n){return!0===this.set[n]},n.prototype.add=function(n){this.set[n]=!0},n.prototype.clear=function(){this.set=Object.create(null)},n}();var dn=P,pn=0,un=function(){this.id=pn++,this.subs=[]};un.prototype.addSub=function(n){this.subs.push(n)},un.prototype.removeSub=function(n){y(this.subs,n)},un.prototype.depend=function(){un.target&&un.target.addDep(this)},un.prototype.notify=function(){var n=this.subs.slice();for(var e=0,t=n.length;e<t;e++)n[e].update()},un.target=null;var mn=[];function gn(n){mn.push(n),un.target=n}function hn(){mn.pop(),un.target=mn[mn.length-1]}var fn=function(n,e,t,a,r,o,i,s){this.tag=n,this.data=e,this.children=t,this.text=a,this.elm=r,this.ns=void 0,this.context=o,this.fnContext=void 0,this.fnOptions=void 0,this.fnScopeId=void 0,this.key=e&&e.key,this.componentOptions=i,this.componentInstance=void 0,this.parent=void 0,this.raw=!1,this.isStatic=!1,this.isRootInsert=!0,this.isComment=!1,this.isCloned=!1,this.isOnce=!1,this.asyncFactory=s,this.asyncMeta=void 0,this.isAsyncPlaceholder=!1},vn={child:{configurable:!0}};vn.child.get=function(){return this.componentInstance},Object.defineProperties(fn.prototype,vn);var bn=function(n){void 0===n&&(n="");var e=new fn;return e.text=n,e.isComment=!0,e};function yn(n){return new fn(void 0,void 0,void 0,String(n))}function xn(n){var e=new fn(n.tag,n.data,n.children&&n.children.slice(),n.text,n.elm,n.context,n.componentOptions,n.asyncFactory);return e.ns=n.ns,e.isStatic=n.isStatic,e.key=n.key,e.isComment=n.isComment,e.fnContext=n.fnContext,e.fnOptions=n.fnOptions,e.fnScopeId=n.fnScopeId,e.asyncMeta=n.asyncMeta,e.isCloned=!0,e}var kn=Array.prototype,wn=Object.create(kn);["push","pop","shift","unshift","splice","sort","reverse"].forEach((function(n){var e=kn[n];N(wn,n,(function(){for(var t=[],a=arguments.length;a--;)t[a]=arguments[a];var r,o=e.apply(this,t),i=this.__ob__;switch(n){case"push":case"unshift":r=t;break;case"splice":r=t.slice(2)}return r&&i.observeArray(r),i.dep.notify(),o}))}));var Sn=Object.getOwnPropertyNames(wn),En=!0;function Tn(n){En=n}var _n=function(n){this.value=n,this.dep=new un,this.vmCount=0,N(n,"__ob__",this),Array.isArray(n)?($?function(n,e){n.__proto__=e}(n,wn):function(n,e,t){for(var a=0,r=t.length;a<r;a++){var o=t[a];N(n,o,e[o])}}(n,wn,Sn),this.observeArray(n)):this.walk(n)};function In(n,e){var t;if(c(n)&&!(n instanceof fn))return k(n,"__ob__")&&n.__ob__ instanceof _n?t=n.__ob__:En&&!rn()&&(Array.isArray(n)||p(n))&&Object.isExtensible(n)&&!n._isVue&&(t=new _n(n)),e&&t&&t.vmCount++,t}function jn(n,e,t,a,r){var o=new un,i=Object.getOwnPropertyDescriptor(n,e);if(!i||!1!==i.configurable){var s=i&&i.get,l=i&&i.set;s&&!l||2!==arguments.length||(t=n[e]);var c=!r&&In(t);Object.defineProperty(n,e,{enumerable:!0,configurable:!0,get:function(){var e=s?s.call(n):t;return un.target&&(o.depend(),c&&(c.dep.depend(),Array.isArray(e)&&An(e))),e},set:function(e){var a=s?s.call(n):t;e===a||e!=e&&a!=a||s&&!l||(l?l.call(n,e):t=e,c=!r&&In(e),o.notify())}})}}function zn(n,e,t){if(Array.isArray(n)&&m(e))return n.length=Math.max(n.length,e),n.splice(e,1,t),t;if(e in n&&!(e in Object.prototype))return n[e]=t,t;var a=n.__ob__;return n._isVue||a&&a.vmCount?t:a?(jn(a.value,e,t),a.dep.notify(),t):(n[e]=t,t)}function Cn(n,e){if(Array.isArray(n)&&m(e))n.splice(e,1);else{var t=n.__ob__;n._isVue||t&&t.vmCount||k(n,e)&&(delete n[e],t&&t.dep.notify())}}function An(n){for(var e=void 0,t=0,a=n.length;t<a;t++)(e=n[t])&&e.__ob__&&e.__ob__.dep.depend(),Array.isArray(e)&&An(e)}_n.prototype.walk=function(n){for(var e=Object.keys(n),t=0;t<e.length;t++)jn(n,e[t])},_n.prototype.observeArray=function(n){for(var e=0,t=n.length;e<t;e++)In(n[e])};var Pn=M.optionMergeStrategies;function Dn(n,e){if(!e)return n;for(var t,a,r,o=cn?Reflect.ownKeys(e):Object.keys(e),i=0;i<o.length;i++)"__ob__"!==(t=o[i])&&(a=n[t],r=e[t],k(n,t)?a!==r&&p(a)&&p(r)&&Dn(a,r):zn(n,t,r));return n}function qn(n,e,t){return t?function(){var a="function"==typeof e?e.call(t,t):e,r="function"==typeof n?n.call(t,t):n;return a?Dn(a,r):r}:e?n?function(){return Dn("function"==typeof e?e.call(this,this):e,"function"==typeof n?n.call(this,this):n)}:e:n}function Ln(n,e){var t=e?n?n.concat(e):Array.isArray(e)?e:[e]:n;return t?function(n){for(var e=[],t=0;t<n.length;t++)-1===e.indexOf(n[t])&&e.push(n[t]);return e}(t):t}function Bn(n,e,t,a){var r=Object.create(n||null);return e?C(r,e):r}Pn.data=function(n,e,t){return t?qn(n,e,t):e&&"function"!=typeof e?n:qn(n,e)},R.forEach((function(n){Pn[n]=Ln})),F.forEach((function(n){Pn[n+"s"]=Bn})),Pn.watch=function(n,e,t,a){if(n===en&&(n=void 0),e===en&&(e=void 0),!e)return Object.create(n||null);if(!n)return e;var r={};for(var o in C(r,n),e){var i=r[o],s=e[o];i&&!Array.isArray(i)&&(i=[i]),r[o]=i?i.concat(s):Array.isArray(s)?s:[s]}return r},Pn.props=Pn.methods=Pn.inject=Pn.computed=function(n,e,t,a){if(!n)return e;var r=Object.create(null);return C(r,n),e&&C(r,e),r},Pn.provide=qn;var On=function(n,e){return void 0===e?n:e};function Fn(n,e,t){if("function"==typeof e&&(e=e.options),function(n,e){var t=n.props;if(t){var a,r,o={};if(Array.isArray(t))for(a=t.length;a--;)"string"==typeof(r=t[a])&&(o[E(r)]={type:null});else if(p(t))for(var i in t)r=t[i],o[E(i)]=p(r)?r:{type:r};else 0;n.props=o}}(e),function(n,e){var t=n.inject;if(t){var a=n.inject={};if(Array.isArray(t))for(var r=0;r<t.length;r++)a[t[r]]={from:t[r]};else if(p(t))for(var o in t){var i=t[o];a[o]=p(i)?C({from:o},i):{from:i}}else 0}}(e),function(n){var e=n.directives;if(e)for(var t in e){var a=e[t];"function"==typeof a&&(e[t]={bind:a,update:a})}}(e),!e._base&&(e.extends&&(n=Fn(n,e.extends,t)),e.mixins))for(var a=0,r=e.mixins.length;a<r;a++)n=Fn(n,e.mixins[a],t);var o,i={};for(o in n)s(o);for(o in e)k(n,o)||s(o);function s(a){var r=Pn[a]||On;i[a]=r(n[a],e[a],t,a)}return i}function Rn(n,e,t,a){if("string"==typeof t){var r=n[e];if(k(r,t))return r[t];var o=E(t);if(k(r,o))return r[o];var i=T(o);return k(r,i)?r[i]:r[t]||r[o]||r[i]}}function Mn(n,e,t,a){var r=e[n],o=!k(t,n),i=t[n],s=Jn(Boolean,r.type);if(s>-1)if(o&&!k(r,"default"))i=!1;else if(""===i||i===I(n)){var l=Jn(String,r.type);(l<0||s<l)&&(i=!0)}if(void 0===i){i=function(n,e,t){if(!k(e,"default"))return;var a=e.default;0;if(n&&n.$options.propsData&&void 0===n.$options.propsData[t]&&void 0!==n._props[t])return n._props[t];return"function"==typeof a&&"Function"!==Nn(e.type)?a.call(n):a}(a,r,n);var c=En;Tn(!0),In(i),Tn(c)}return i}var Hn=/^\s*function (\w+)/;function Nn(n){var e=n&&n.toString().match(Hn);return e?e[1]:""}function Un(n,e){return Nn(n)===Nn(e)}function Jn(n,e){if(!Array.isArray(e))return Un(e,n)?0:-1;for(var t=0,a=e.length;t<a;t++)if(Un(e[t],n))return t;return-1}function $n(n,e,t){gn();try{if(e)for(var a=e;a=a.$parent;){var r=a.$options.errorCaptured;if(r)for(var o=0;o<r.length;o++)try{if(!1===r[o].call(a,n,e,t))return}catch(n){Vn(n,a,"errorCaptured hook")}}Vn(n,e,t)}finally{hn()}}function Zn(n,e,t,a,r){var o;try{(o=t?n.apply(e,t):n.call(e))&&!o._isVue&&g(o)&&!o._handled&&(o.catch((function(n){return $n(n,a,r+" (Promise/async)")})),o._handled=!0)}catch(n){$n(n,a,r)}return o}function Vn(n,e,t){if(M.errorHandler)try{return M.errorHandler.call(null,n,e,t)}catch(e){e!==n&&Kn(e,null,"config.errorHandler")}Kn(n,e,t)}function Kn(n,e,t){if(!Z&&!V||"undefined"==typeof console)throw n;console.error(n)}var Qn,Wn=!1,Gn=[],Xn=!1;function Yn(){Xn=!1;var n=Gn.slice(0);Gn.length=0;for(var e=0;e<n.length;e++)n[e]()}if("undefined"!=typeof Promise&&sn(Promise)){var ne=Promise.resolve();Qn=function(){ne.then(Yn),Y&&setTimeout(P)},Wn=!0}else if(W||"undefined"==typeof MutationObserver||!sn(MutationObserver)&&"[object MutationObserverConstructor]"!==MutationObserver.toString())Qn="undefined"!=typeof setImmediate&&sn(setImmediate)?function(){setImmediate(Yn)}:function(){setTimeout(Yn,0)};else{var ee=1,te=new MutationObserver(Yn),ae=document.createTextNode(String(ee));te.observe(ae,{characterData:!0}),Qn=function(){ee=(ee+1)%2,ae.data=String(ee)},Wn=!0}function re(n,e){var t;if(Gn.push((function(){if(n)try{n.call(e)}catch(n){$n(n,e,"nextTick")}else t&&t(e)})),Xn||(Xn=!0,Qn()),!n&&"undefined"!=typeof Promise)return new Promise((function(n){t=n}))}var oe=new ln;function ie(n){!function n(e,t){var a,r,o=Array.isArray(e);if(!o&&!c(e)||Object.isFrozen(e)||e instanceof fn)return;if(e.__ob__){var i=e.__ob__.dep.id;if(t.has(i))return;t.add(i)}if(o)for(a=e.length;a--;)n(e[a],t);else for(r=Object.keys(e),a=r.length;a--;)n(e[r[a]],t)}(n,oe),oe.clear()}var se=w((function(n){var e="&"===n.charAt(0),t="~"===(n=e?n.slice(1):n).charAt(0),a="!"===(n=t?n.slice(1):n).charAt(0);return{name:n=a?n.slice(1):n,once:t,capture:a,passive:e}}));function le(n,e){function t(){var n=arguments,a=t.fns;if(!Array.isArray(a))return Zn(a,null,arguments,e,"v-on handler");for(var r=a.slice(),o=0;o<r.length;o++)Zn(r[o],null,n,e,"v-on handler")}return t.fns=n,t}function ce(n,e,t,a,r,i){var l,c,d,p;for(l in n)c=n[l],d=e[l],p=se(l),o(c)||(o(d)?(o(c.fns)&&(c=n[l]=le(c,i)),s(p.once)&&(c=n[l]=r(p.name,c,p.capture)),t(p.name,c,p.capture,p.passive,p.params)):c!==d&&(d.fns=c,n[l]=d));for(l in e)o(n[l])&&a((p=se(l)).name,e[l],p.capture)}function de(n,e,t){var a;n instanceof fn&&(n=n.data.hook||(n.data.hook={}));var r=n[e];function l(){t.apply(this,arguments),y(a.fns,l)}o(r)?a=le([l]):i(r.fns)&&s(r.merged)?(a=r).fns.push(l):a=le([r,l]),a.merged=!0,n[e]=a}function pe(n,e,t,a,r){if(i(e)){if(k(e,t))return n[t]=e[t],r||delete e[t],!0;if(k(e,a))return n[t]=e[a],r||delete e[a],!0}return!1}function ue(n){return l(n)?[yn(n)]:Array.isArray(n)?function n(e,t){var a,r,c,d,p=[];for(a=0;a<e.length;a++)o(r=e[a])||"boolean"==typeof r||(c=p.length-1,d=p[c],Array.isArray(r)?r.length>0&&(me((r=n(r,(t||"")+"_"+a))[0])&&me(d)&&(p[c]=yn(d.text+r[0].text),r.shift()),p.push.apply(p,r)):l(r)?me(d)?p[c]=yn(d.text+r):""!==r&&p.push(yn(r)):me(r)&&me(d)?p[c]=yn(d.text+r.text):(s(e._isVList)&&i(r.tag)&&o(r.key)&&i(t)&&(r.key="__vlist"+t+"_"+a+"__"),p.push(r)));return p}(n):void 0}function me(n){return i(n)&&i(n.text)&&!1===n.isComment}function ge(n,e){if(n){for(var t=Object.create(null),a=cn?Reflect.ownKeys(n):Object.keys(n),r=0;r<a.length;r++){var o=a[r];if("__ob__"!==o){for(var i=n[o].from,s=e;s;){if(s._provided&&k(s._provided,i)){t[o]=s._provided[i];break}s=s.$parent}if(!s)if("default"in n[o]){var l=n[o].default;t[o]="function"==typeof l?l.call(e):l}else 0}}return t}}function he(n,e){if(!n||!n.length)return{};for(var t={},a=0,r=n.length;a<r;a++){var o=n[a],i=o.data;if(i&&i.attrs&&i.attrs.slot&&delete i.attrs.slot,o.context!==e&&o.fnContext!==e||!i||null==i.slot)(t.default||(t.default=[])).push(o);else{var s=i.slot,l=t[s]||(t[s]=[]);"template"===o.tag?l.push.apply(l,o.children||[]):l.push(o)}}for(var c in t)t[c].every(fe)&&delete t[c];return t}function fe(n){return n.isComment&&!n.asyncFactory||" "===n.text}function ve(n){return n.isComment&&n.asyncFactory}function be(n,e,t){var a,o=Object.keys(e).length>0,i=n?!!n.$stable:!o,s=n&&n.$key;if(n){if(n._normalized)return n._normalized;if(i&&t&&t!==r&&s===t.$key&&!o&&!t.$hasNormal)return t;for(var l in a={},n)n[l]&&"$"!==l[0]&&(a[l]=ye(e,l,n[l]))}else a={};for(var c in e)c in a||(a[c]=xe(e,c));return n&&Object.isExtensible(n)&&(n._normalized=a),N(a,"$stable",i),N(a,"$key",s),N(a,"$hasNormal",o),a}function ye(n,e,t){var a=function(){var n=arguments.length?t.apply(null,arguments):t({}),e=(n=n&&"object"==typeof n&&!Array.isArray(n)?[n]:ue(n))&&n[0];return n&&(!e||1===n.length&&e.isComment&&!ve(e))?void 0:n};return t.proxy&&Object.defineProperty(n,e,{get:a,enumerable:!0,configurable:!0}),a}function xe(n,e){return function(){return n[e]}}function ke(n,e){var t,a,r,o,s;if(Array.isArray(n)||"string"==typeof n)for(t=new Array(n.length),a=0,r=n.length;a<r;a++)t[a]=e(n[a],a);else if("number"==typeof n)for(t=new Array(n),a=0;a<n;a++)t[a]=e(a+1,a);else if(c(n))if(cn&&n[Symbol.iterator]){t=[];for(var l=n[Symbol.iterator](),d=l.next();!d.done;)t.push(e(d.value,t.length)),d=l.next()}else for(o=Object.keys(n),t=new Array(o.length),a=0,r=o.length;a<r;a++)s=o[a],t[a]=e(n[s],s,a);return i(t)||(t=[]),t._isVList=!0,t}function we(n,e,t,a){var r,o=this.$scopedSlots[n];o?(t=t||{},a&&(t=C(C({},a),t)),r=o(t)||("function"==typeof e?e():e)):r=this.$slots[n]||("function"==typeof e?e():e);var i=t&&t.slot;return i?this.$createElement("template",{slot:i},r):r}function Se(n){return Rn(this.$options,"filters",n)||q}function Ee(n,e){return Array.isArray(n)?-1===n.indexOf(e):n!==e}function Te(n,e,t,a,r){var o=M.keyCodes[e]||t;return r&&a&&!M.keyCodes[e]?Ee(r,a):o?Ee(o,n):a?I(a)!==e:void 0===n}function _e(n,e,t,a,r){if(t)if(c(t)){var o;Array.isArray(t)&&(t=A(t));var i=function(i){if("class"===i||"style"===i||b(i))o=n;else{var s=n.attrs&&n.attrs.type;o=a||M.mustUseProp(e,s,i)?n.domProps||(n.domProps={}):n.attrs||(n.attrs={})}var l=E(i),c=I(i);l in o||c in o||(o[i]=t[i],r&&((n.on||(n.on={}))["update:"+i]=function(n){t[i]=n}))};for(var s in t)i(s)}else;return n}function Ie(n,e){var t=this._staticTrees||(this._staticTrees=[]),a=t[n];return a&&!e||ze(a=t[n]=this.$options.staticRenderFns[n].call(this._renderProxy,null,this),"__static__"+n,!1),a}function je(n,e,t){return ze(n,"__once__"+e+(t?"_"+t:""),!0),n}function ze(n,e,t){if(Array.isArray(n))for(var a=0;a<n.length;a++)n[a]&&"string"!=typeof n[a]&&Ce(n[a],e+"_"+a,t);else Ce(n,e,t)}function Ce(n,e,t){n.isStatic=!0,n.key=e,n.isOnce=t}function Ae(n,e){if(e)if(p(e)){var t=n.on=n.on?C({},n.on):{};for(var a in e){var r=t[a],o=e[a];t[a]=r?[].concat(r,o):o}}else;return n}function Pe(n,e,t,a){e=e||{$stable:!t};for(var r=0;r<n.length;r++){var o=n[r];Array.isArray(o)?Pe(o,e,t):o&&(o.proxy&&(o.fn.proxy=!0),e[o.key]=o.fn)}return a&&(e.$key=a),e}function De(n,e){for(var t=0;t<e.length;t+=2){var a=e[t];"string"==typeof a&&a&&(n[e[t]]=e[t+1])}return n}function qe(n,e){return"string"==typeof n?e+n:n}function Le(n){n._o=je,n._n=f,n._s=h,n._l=ke,n._t=we,n._q=L,n._i=B,n._m=Ie,n._f=Se,n._k=Te,n._b=_e,n._v=yn,n._e=bn,n._u=Pe,n._g=Ae,n._d=De,n._p=qe}function Be(n,e,t,a,o){var i,l=this,c=o.options;k(a,"_uid")?(i=Object.create(a))._original=a:(i=a,a=a._original);var d=s(c._compiled),p=!d;this.data=n,this.props=e,this.children=t,this.parent=a,this.listeners=n.on||r,this.injections=ge(c.inject,a),this.slots=function(){return l.$slots||be(n.scopedSlots,l.$slots=he(t,a)),l.$slots},Object.defineProperty(this,"scopedSlots",{enumerable:!0,get:function(){return be(n.scopedSlots,this.slots())}}),d&&(this.$options=c,this.$slots=this.slots(),this.$scopedSlots=be(n.scopedSlots,this.$slots)),c._scopeId?this._c=function(n,e,t,r){var o=Ue(i,n,e,t,r,p);return o&&!Array.isArray(o)&&(o.fnScopeId=c._scopeId,o.fnContext=a),o}:this._c=function(n,e,t,a){return Ue(i,n,e,t,a,p)}}function Oe(n,e,t,a,r){var o=xn(n);return o.fnContext=t,o.fnOptions=a,e.slot&&((o.data||(o.data={})).slot=e.slot),o}function Fe(n,e){for(var t in e)n[E(t)]=e[t]}Le(Be.prototype);var Re={init:function(n,e){if(n.componentInstance&&!n.componentInstance._isDestroyed&&n.data.keepAlive){var t=n;Re.prepatch(t,t)}else{(n.componentInstance=function(n,e){var t={_isComponent:!0,_parentVnode:n,parent:e},a=n.data.inlineTemplate;i(a)&&(t.render=a.render,t.staticRenderFns=a.staticRenderFns);return new n.componentOptions.Ctor(t)}(n,Xe)).$mount(e?n.elm:void 0,e)}},prepatch:function(n,e){var t=e.componentOptions;!function(n,e,t,a,o){0;var i=a.data.scopedSlots,s=n.$scopedSlots,l=!!(i&&!i.$stable||s!==r&&!s.$stable||i&&n.$scopedSlots.$key!==i.$key||!i&&n.$scopedSlots.$key),c=!!(o||n.$options._renderChildren||l);n.$options._parentVnode=a,n.$vnode=a,n._vnode&&(n._vnode.parent=a);if(n.$options._renderChildren=o,n.$attrs=a.data.attrs||r,n.$listeners=t||r,e&&n.$options.props){Tn(!1);for(var d=n._props,p=n.$options._propKeys||[],u=0;u<p.length;u++){var m=p[u],g=n.$options.props;d[m]=Mn(m,g,e,n)}Tn(!0),n.$options.propsData=e}t=t||r;var h=n.$options._parentListeners;n.$options._parentListeners=t,Ge(n,t,h),c&&(n.$slots=he(o,a.context),n.$forceUpdate());0}(e.componentInstance=n.componentInstance,t.propsData,t.listeners,e,t.children)},insert:function(n){var e,t=n.context,a=n.componentInstance;a._isMounted||(a._isMounted=!0,tt(a,"mounted")),n.data.keepAlive&&(t._isMounted?((e=a)._inactive=!1,rt.push(e)):et(a,!0))},destroy:function(n){var e=n.componentInstance;e._isDestroyed||(n.data.keepAlive?function n(e,t){if(t&&(e._directInactive=!0,nt(e)))return;if(!e._inactive){e._inactive=!0;for(var a=0;a<e.$children.length;a++)n(e.$children[a]);tt(e,"deactivated")}}(e,!0):e.$destroy())}},Me=Object.keys(Re);function He(n,e,t,a,l){if(!o(n)){var d=t.$options._base;if(c(n)&&(n=d.extend(n)),"function"==typeof n){var p;if(o(n.cid)&&void 0===(n=function(n,e){if(s(n.error)&&i(n.errorComp))return n.errorComp;if(i(n.resolved))return n.resolved;var t=$e;t&&i(n.owners)&&-1===n.owners.indexOf(t)&&n.owners.push(t);if(s(n.loading)&&i(n.loadingComp))return n.loadingComp;if(t&&!i(n.owners)){var a=n.owners=[t],r=!0,l=null,d=null;t.$on("hook:destroyed",(function(){return y(a,t)}));var p=function(n){for(var e=0,t=a.length;e<t;e++)a[e].$forceUpdate();n&&(a.length=0,null!==l&&(clearTimeout(l),l=null),null!==d&&(clearTimeout(d),d=null))},u=O((function(t){n.resolved=Ze(t,e),r?a.length=0:p(!0)})),m=O((function(e){i(n.errorComp)&&(n.error=!0,p(!0))})),h=n(u,m);return c(h)&&(g(h)?o(n.resolved)&&h.then(u,m):g(h.component)&&(h.component.then(u,m),i(h.error)&&(n.errorComp=Ze(h.error,e)),i(h.loading)&&(n.loadingComp=Ze(h.loading,e),0===h.delay?n.loading=!0:l=setTimeout((function(){l=null,o(n.resolved)&&o(n.error)&&(n.loading=!0,p(!1))}),h.delay||200)),i(h.timeout)&&(d=setTimeout((function(){d=null,o(n.resolved)&&m(null)}),h.timeout)))),r=!1,n.loading?n.loadingComp:n.resolved}}(p=n,d)))return function(n,e,t,a,r){var o=bn();return o.asyncFactory=n,o.asyncMeta={data:e,context:t,children:a,tag:r},o}(p,e,t,a,l);e=e||{},Et(n),i(e.model)&&function(n,e){var t=n.model&&n.model.prop||"value",a=n.model&&n.model.event||"input";(e.attrs||(e.attrs={}))[t]=e.model.value;var r=e.on||(e.on={}),o=r[a],s=e.model.callback;i(o)?(Array.isArray(o)?-1===o.indexOf(s):o!==s)&&(r[a]=[s].concat(o)):r[a]=s}(n.options,e);var u=function(n,e,t){var a=e.options.props;if(!o(a)){var r={},s=n.attrs,l=n.props;if(i(s)||i(l))for(var c in a){var d=I(c);pe(r,l,c,d,!0)||pe(r,s,c,d,!1)}return r}}(e,n);if(s(n.options.functional))return function(n,e,t,a,o){var s=n.options,l={},c=s.props;if(i(c))for(var d in c)l[d]=Mn(d,c,e||r);else i(t.attrs)&&Fe(l,t.attrs),i(t.props)&&Fe(l,t.props);var p=new Be(t,l,o,a,n),u=s.render.call(null,p._c,p);if(u instanceof fn)return Oe(u,t,p.parent,s,p);if(Array.isArray(u)){for(var m=ue(u)||[],g=new Array(m.length),h=0;h<m.length;h++)g[h]=Oe(m[h],t,p.parent,s,p);return g}}(n,u,e,t,a);var m=e.on;if(e.on=e.nativeOn,s(n.options.abstract)){var h=e.slot;e={},h&&(e.slot=h)}!function(n){for(var e=n.hook||(n.hook={}),t=0;t<Me.length;t++){var a=Me[t],r=e[a],o=Re[a];r===o||r&&r._merged||(e[a]=r?Ne(o,r):o)}}(e);var f=n.options.name||l;return new fn("vue-component-"+n.cid+(f?"-"+f:""),e,void 0,void 0,void 0,t,{Ctor:n,propsData:u,listeners:m,tag:l,children:a},p)}}}function Ne(n,e){var t=function(t,a){n(t,a),e(t,a)};return t._merged=!0,t}function Ue(n,e,t,a,r,d){return(Array.isArray(t)||l(t))&&(r=a,a=t,t=void 0),s(d)&&(r=2),function(n,e,t,a,r){if(i(t)&&i(t.__ob__))return bn();i(t)&&i(t.is)&&(e=t.is);if(!e)return bn();0;Array.isArray(a)&&"function"==typeof a[0]&&((t=t||{}).scopedSlots={default:a[0]},a.length=0);2===r?a=ue(a):1===r&&(a=function(n){for(var e=0;e<n.length;e++)if(Array.isArray(n[e]))return Array.prototype.concat.apply([],n);return n}(a));var l,d;if("string"==typeof e){var p;d=n.$vnode&&n.$vnode.ns||M.getTagNamespace(e),l=M.isReservedTag(e)?new fn(M.parsePlatformTagName(e),t,a,void 0,void 0,n):t&&t.pre||!i(p=Rn(n.$options,"components",e))?new fn(e,t,a,void 0,void 0,n):He(p,t,n,a,e)}else l=He(e,t,n,a);return Array.isArray(l)?l:i(l)?(i(d)&&function n(e,t,a){e.ns=t,"foreignObject"===e.tag&&(t=void 0,a=!0);if(i(e.children))for(var r=0,l=e.children.length;r<l;r++){var c=e.children[r];i(c.tag)&&(o(c.ns)||s(a)&&"svg"!==c.tag)&&n(c,t,a)}}(l,d),i(t)&&function(n){c(n.style)&&ie(n.style);c(n.class)&&ie(n.class)}(t),l):bn()}(n,e,t,a,r)}var Je,$e=null;function Ze(n,e){return(n.__esModule||cn&&"Module"===n[Symbol.toStringTag])&&(n=n.default),c(n)?e.extend(n):n}function Ve(n){if(Array.isArray(n))for(var e=0;e<n.length;e++){var t=n[e];if(i(t)&&(i(t.componentOptions)||ve(t)))return t}}function Ke(n,e){Je.$on(n,e)}function Qe(n,e){Je.$off(n,e)}function We(n,e){var t=Je;return function a(){var r=e.apply(null,arguments);null!==r&&t.$off(n,a)}}function Ge(n,e,t){Je=n,ce(e,t||{},Ke,Qe,We,n),Je=void 0}var Xe=null;function Ye(n){var e=Xe;return Xe=n,function(){Xe=e}}function nt(n){for(;n&&(n=n.$parent);)if(n._inactive)return!0;return!1}function et(n,e){if(e){if(n._directInactive=!1,nt(n))return}else if(n._directInactive)return;if(n._inactive||null===n._inactive){n._inactive=!1;for(var t=0;t<n.$children.length;t++)et(n.$children[t]);tt(n,"activated")}}function tt(n,e){gn();var t=n.$options[e],a=e+" hook";if(t)for(var r=0,o=t.length;r<o;r++)Zn(t[r],n,null,n,a);n._hasHookEvent&&n.$emit("hook:"+e),hn()}var at=[],rt=[],ot={},it=!1,st=!1,lt=0;var ct=0,dt=Date.now;if(Z&&!W){var pt=window.performance;pt&&"function"==typeof pt.now&&dt()>document.createEvent("Event").timeStamp&&(dt=function(){return pt.now()})}function ut(){var n,e;for(ct=dt(),st=!0,at.sort((function(n,e){return n.id-e.id})),lt=0;lt<at.length;lt++)(n=at[lt]).before&&n.before(),e=n.id,ot[e]=null,n.run();var t=rt.slice(),a=at.slice();lt=at.length=rt.length=0,ot={},it=st=!1,function(n){for(var e=0;e<n.length;e++)n[e]._inactive=!0,et(n[e],!0)}(t),function(n){var e=n.length;for(;e--;){var t=n[e],a=t.vm;a._watcher===t&&a._isMounted&&!a._isDestroyed&&tt(a,"updated")}}(a),on&&M.devtools&&on.emit("flush")}var mt=0,gt=function(n,e,t,a,r){this.vm=n,r&&(n._watcher=this),n._watchers.push(this),a?(this.deep=!!a.deep,this.user=!!a.user,this.lazy=!!a.lazy,this.sync=!!a.sync,this.before=a.before):this.deep=this.user=this.lazy=this.sync=!1,this.cb=t,this.id=++mt,this.active=!0,this.dirty=this.lazy,this.deps=[],this.newDeps=[],this.depIds=new ln,this.newDepIds=new ln,this.expression="","function"==typeof e?this.getter=e:(this.getter=function(n){if(!U.test(n)){var e=n.split(".");return function(n){for(var t=0;t<e.length;t++){if(!n)return;n=n[e[t]]}return n}}}(e),this.getter||(this.getter=P)),this.value=this.lazy?void 0:this.get()};gt.prototype.get=function(){var n;gn(this);var e=this.vm;try{n=this.getter.call(e,e)}catch(n){if(!this.user)throw n;$n(n,e,'getter for watcher "'+this.expression+'"')}finally{this.deep&&ie(n),hn(),this.cleanupDeps()}return n},gt.prototype.addDep=function(n){var e=n.id;this.newDepIds.has(e)||(this.newDepIds.add(e),this.newDeps.push(n),this.depIds.has(e)||n.addSub(this))},gt.prototype.cleanupDeps=function(){for(var n=this.deps.length;n--;){var e=this.deps[n];this.newDepIds.has(e.id)||e.removeSub(this)}var t=this.depIds;this.depIds=this.newDepIds,this.newDepIds=t,this.newDepIds.clear(),t=this.deps,this.deps=this.newDeps,this.newDeps=t,this.newDeps.length=0},gt.prototype.update=function(){this.lazy?this.dirty=!0:this.sync?this.run():function(n){var e=n.id;if(null==ot[e]){if(ot[e]=!0,st){for(var t=at.length-1;t>lt&&at[t].id>n.id;)t--;at.splice(t+1,0,n)}else at.push(n);it||(it=!0,re(ut))}}(this)},gt.prototype.run=function(){if(this.active){var n=this.get();if(n!==this.value||c(n)||this.deep){var e=this.value;if(this.value=n,this.user){var t='callback for watcher "'+this.expression+'"';Zn(this.cb,this.vm,[n,e],this.vm,t)}else this.cb.call(this.vm,n,e)}}},gt.prototype.evaluate=function(){this.value=this.get(),this.dirty=!1},gt.prototype.depend=function(){for(var n=this.deps.length;n--;)this.deps[n].depend()},gt.prototype.teardown=function(){if(this.active){this.vm._isBeingDestroyed||y(this.vm._watchers,this);for(var n=this.deps.length;n--;)this.deps[n].removeSub(this);this.active=!1}};var ht={enumerable:!0,configurable:!0,get:P,set:P};function ft(n,e,t){ht.get=function(){return this[e][t]},ht.set=function(n){this[e][t]=n},Object.defineProperty(n,t,ht)}function vt(n){n._watchers=[];var e=n.$options;e.props&&function(n,e){var t=n.$options.propsData||{},a=n._props={},r=n.$options._propKeys=[];n.$parent&&Tn(!1);var o=function(o){r.push(o);var i=Mn(o,e,t,n);jn(a,o,i),o in n||ft(n,"_props",o)};for(var i in e)o(i);Tn(!0)}(n,e.props),e.methods&&function(n,e){n.$options.props;for(var t in e)n[t]="function"!=typeof e[t]?P:j(e[t],n)}(n,e.methods),e.data?function(n){var e=n.$options.data;p(e=n._data="function"==typeof e?function(n,e){gn();try{return n.call(e,e)}catch(n){return $n(n,e,"data()"),{}}finally{hn()}}(e,n):e||{})||(e={});var t=Object.keys(e),a=n.$options.props,r=(n.$options.methods,t.length);for(;r--;){var o=t[r];0,a&&k(a,o)||(i=void 0,36!==(i=(o+"").charCodeAt(0))&&95!==i&&ft(n,"_data",o))}var i;In(e,!0)}(n):In(n._data={},!0),e.computed&&function(n,e){var t=n._computedWatchers=Object.create(null),a=rn();for(var r in e){var o=e[r],i="function"==typeof o?o:o.get;0,a||(t[r]=new gt(n,i||P,P,bt)),r in n||yt(n,r,o)}}(n,e.computed),e.watch&&e.watch!==en&&function(n,e){for(var t in e){var a=e[t];if(Array.isArray(a))for(var r=0;r<a.length;r++)wt(n,t,a[r]);else wt(n,t,a)}}(n,e.watch)}var bt={lazy:!0};function yt(n,e,t){var a=!rn();"function"==typeof t?(ht.get=a?xt(e):kt(t),ht.set=P):(ht.get=t.get?a&&!1!==t.cache?xt(e):kt(t.get):P,ht.set=t.set||P),Object.defineProperty(n,e,ht)}function xt(n){return function(){var e=this._computedWatchers&&this._computedWatchers[n];if(e)return e.dirty&&e.evaluate(),un.target&&e.depend(),e.value}}function kt(n){return function(){return n.call(this,this)}}function wt(n,e,t,a){return p(t)&&(a=t,t=t.handler),"string"==typeof t&&(t=n[t]),n.$watch(e,t,a)}var St=0;function Et(n){var e=n.options;if(n.super){var t=Et(n.super);if(t!==n.superOptions){n.superOptions=t;var a=function(n){var e,t=n.options,a=n.sealedOptions;for(var r in t)t[r]!==a[r]&&(e||(e={}),e[r]=t[r]);return e}(n);a&&C(n.extendOptions,a),(e=n.options=Fn(t,n.extendOptions)).name&&(e.components[e.name]=n)}}return e}function Tt(n){this._init(n)}function _t(n){n.cid=0;var e=1;n.extend=function(n){n=n||{};var t=this,a=t.cid,r=n._Ctor||(n._Ctor={});if(r[a])return r[a];var o=n.name||t.options.name;var i=function(n){this._init(n)};return(i.prototype=Object.create(t.prototype)).constructor=i,i.cid=e++,i.options=Fn(t.options,n),i.super=t,i.options.props&&function(n){var e=n.options.props;for(var t in e)ft(n.prototype,"_props",t)}(i),i.options.computed&&function(n){var e=n.options.computed;for(var t in e)yt(n.prototype,t,e[t])}(i),i.extend=t.extend,i.mixin=t.mixin,i.use=t.use,F.forEach((function(n){i[n]=t[n]})),o&&(i.options.components[o]=i),i.superOptions=t.options,i.extendOptions=n,i.sealedOptions=C({},i.options),r[a]=i,i}}function It(n){return n&&(n.Ctor.options.name||n.tag)}function jt(n,e){return Array.isArray(n)?n.indexOf(e)>-1:"string"==typeof n?n.split(",").indexOf(e)>-1:!!u(n)&&n.test(e)}function zt(n,e){var t=n.cache,a=n.keys,r=n._vnode;for(var o in t){var i=t[o];if(i){var s=i.name;s&&!e(s)&&Ct(t,o,a,r)}}}function Ct(n,e,t,a){var r=n[e];!r||a&&r.tag===a.tag||r.componentInstance.$destroy(),n[e]=null,y(t,e)}!function(n){n.prototype._init=function(n){var e=this;e._uid=St++,e._isVue=!0,n&&n._isComponent?function(n,e){var t=n.$options=Object.create(n.constructor.options),a=e._parentVnode;t.parent=e.parent,t._parentVnode=a;var r=a.componentOptions;t.propsData=r.propsData,t._parentListeners=r.listeners,t._renderChildren=r.children,t._componentTag=r.tag,e.render&&(t.render=e.render,t.staticRenderFns=e.staticRenderFns)}(e,n):e.$options=Fn(Et(e.constructor),n||{},e),e._renderProxy=e,e._self=e,function(n){var e=n.$options,t=e.parent;if(t&&!e.abstract){for(;t.$options.abstract&&t.$parent;)t=t.$parent;t.$children.push(n)}n.$parent=t,n.$root=t?t.$root:n,n.$children=[],n.$refs={},n._watcher=null,n._inactive=null,n._directInactive=!1,n._isMounted=!1,n._isDestroyed=!1,n._isBeingDestroyed=!1}(e),function(n){n._events=Object.create(null),n._hasHookEvent=!1;var e=n.$options._parentListeners;e&&Ge(n,e)}(e),function(n){n._vnode=null,n._staticTrees=null;var e=n.$options,t=n.$vnode=e._parentVnode,a=t&&t.context;n.$slots=he(e._renderChildren,a),n.$scopedSlots=r,n._c=function(e,t,a,r){return Ue(n,e,t,a,r,!1)},n.$createElement=function(e,t,a,r){return Ue(n,e,t,a,r,!0)};var o=t&&t.data;jn(n,"$attrs",o&&o.attrs||r,null,!0),jn(n,"$listeners",e._parentListeners||r,null,!0)}(e),tt(e,"beforeCreate"),function(n){var e=ge(n.$options.inject,n);e&&(Tn(!1),Object.keys(e).forEach((function(t){jn(n,t,e[t])})),Tn(!0))}(e),vt(e),function(n){var e=n.$options.provide;e&&(n._provided="function"==typeof e?e.call(n):e)}(e),tt(e,"created"),e.$options.el&&e.$mount(e.$options.el)}}(Tt),function(n){var e={get:function(){return this._data}},t={get:function(){return this._props}};Object.defineProperty(n.prototype,"$data",e),Object.defineProperty(n.prototype,"$props",t),n.prototype.$set=zn,n.prototype.$delete=Cn,n.prototype.$watch=function(n,e,t){if(p(e))return wt(this,n,e,t);(t=t||{}).user=!0;var a=new gt(this,n,e,t);if(t.immediate){var r='callback for immediate watcher "'+a.expression+'"';gn(),Zn(e,this,[a.value],this,r),hn()}return function(){a.teardown()}}}(Tt),function(n){var e=/^hook:/;n.prototype.$on=function(n,t){var a=this;if(Array.isArray(n))for(var r=0,o=n.length;r<o;r++)a.$on(n[r],t);else(a._events[n]||(a._events[n]=[])).push(t),e.test(n)&&(a._hasHookEvent=!0);return a},n.prototype.$once=function(n,e){var t=this;function a(){t.$off(n,a),e.apply(t,arguments)}return a.fn=e,t.$on(n,a),t},n.prototype.$off=function(n,e){var t=this;if(!arguments.length)return t._events=Object.create(null),t;if(Array.isArray(n)){for(var a=0,r=n.length;a<r;a++)t.$off(n[a],e);return t}var o,i=t._events[n];if(!i)return t;if(!e)return t._events[n]=null,t;for(var s=i.length;s--;)if((o=i[s])===e||o.fn===e){i.splice(s,1);break}return t},n.prototype.$emit=function(n){var e=this,t=e._events[n];if(t){t=t.length>1?z(t):t;for(var a=z(arguments,1),r='event handler for "'+n+'"',o=0,i=t.length;o<i;o++)Zn(t[o],e,a,e,r)}return e}}(Tt),function(n){n.prototype._update=function(n,e){var t=this,a=t.$el,r=t._vnode,o=Ye(t);t._vnode=n,t.$el=r?t.__patch__(r,n):t.__patch__(t.$el,n,e,!1),o(),a&&(a.__vue__=null),t.$el&&(t.$el.__vue__=t),t.$vnode&&t.$parent&&t.$vnode===t.$parent._vnode&&(t.$parent.$el=t.$el)},n.prototype.$forceUpdate=function(){this._watcher&&this._watcher.update()},n.prototype.$destroy=function(){var n=this;if(!n._isBeingDestroyed){tt(n,"beforeDestroy"),n._isBeingDestroyed=!0;var e=n.$parent;!e||e._isBeingDestroyed||n.$options.abstract||y(e.$children,n),n._watcher&&n._watcher.teardown();for(var t=n._watchers.length;t--;)n._watchers[t].teardown();n._data.__ob__&&n._data.__ob__.vmCount--,n._isDestroyed=!0,n.__patch__(n._vnode,null),tt(n,"destroyed"),n.$off(),n.$el&&(n.$el.__vue__=null),n.$vnode&&(n.$vnode.parent=null)}}}(Tt),function(n){Le(n.prototype),n.prototype.$nextTick=function(n){return re(n,this)},n.prototype._render=function(){var n,e=this,t=e.$options,a=t.render,r=t._parentVnode;r&&(e.$scopedSlots=be(r.data.scopedSlots,e.$slots,e.$scopedSlots)),e.$vnode=r;try{$e=e,n=a.call(e._renderProxy,e.$createElement)}catch(t){$n(t,e,"render"),n=e._vnode}finally{$e=null}return Array.isArray(n)&&1===n.length&&(n=n[0]),n instanceof fn||(n=bn()),n.parent=r,n}}(Tt);var At=[String,RegExp,Array],Pt={KeepAlive:{name:"keep-alive",abstract:!0,props:{include:At,exclude:At,max:[String,Number]},methods:{cacheVNode:function(){var n=this.cache,e=this.keys,t=this.vnodeToCache,a=this.keyToCache;if(t){var r=t.tag,o=t.componentInstance,i=t.componentOptions;n[a]={name:It(i),tag:r,componentInstance:o},e.push(a),this.max&&e.length>parseInt(this.max)&&Ct(n,e[0],e,this._vnode),this.vnodeToCache=null}}},created:function(){this.cache=Object.create(null),this.keys=[]},destroyed:function(){for(var n in this.cache)Ct(this.cache,n,this.keys)},mounted:function(){var n=this;this.cacheVNode(),this.$watch("include",(function(e){zt(n,(function(n){return jt(e,n)}))})),this.$watch("exclude",(function(e){zt(n,(function(n){return!jt(e,n)}))}))},updated:function(){this.cacheVNode()},render:function(){var n=this.$slots.default,e=Ve(n),t=e&&e.componentOptions;if(t){var a=It(t),r=this.include,o=this.exclude;if(r&&(!a||!jt(r,a))||o&&a&&jt(o,a))return e;var i=this.cache,s=this.keys,l=null==e.key?t.Ctor.cid+(t.tag?"::"+t.tag:""):e.key;i[l]?(e.componentInstance=i[l].componentInstance,y(s,l),s.push(l)):(this.vnodeToCache=e,this.keyToCache=l),e.data.keepAlive=!0}return e||n&&n[0]}}};!function(n){var e={get:function(){return M}};Object.defineProperty(n,"config",e),n.util={warn:dn,extend:C,mergeOptions:Fn,defineReactive:jn},n.set=zn,n.delete=Cn,n.nextTick=re,n.observable=function(n){return In(n),n},n.options=Object.create(null),F.forEach((function(e){n.options[e+"s"]=Object.create(null)})),n.options._base=n,C(n.options.components,Pt),function(n){n.use=function(n){var e=this._installedPlugins||(this._installedPlugins=[]);if(e.indexOf(n)>-1)return this;var t=z(arguments,1);return t.unshift(this),"function"==typeof n.install?n.install.apply(n,t):"function"==typeof n&&n.apply(null,t),e.push(n),this}}(n),function(n){n.mixin=function(n){return this.options=Fn(this.options,n),this}}(n),_t(n),function(n){F.forEach((function(e){n[e]=function(n,t){return t?("component"===e&&p(t)&&(t.name=t.name||n,t=this.options._base.extend(t)),"directive"===e&&"function"==typeof t&&(t={bind:t,update:t}),this.options[e+"s"][n]=t,t):this.options[e+"s"][n]}}))}(n)}(Tt),Object.defineProperty(Tt.prototype,"$isServer",{get:rn}),Object.defineProperty(Tt.prototype,"$ssrContext",{get:function(){return this.$vnode&&this.$vnode.ssrContext}}),Object.defineProperty(Tt,"FunctionalRenderContext",{value:Be}),Tt.version="2.6.14";var Dt=v("style,class"),qt=v("input,textarea,option,select,progress"),Lt=v("contenteditable,draggable,spellcheck"),Bt=v("events,caret,typing,plaintext-only"),Ot=v("allowfullscreen,async,autofocus,autoplay,checked,compact,controls,declare,default,defaultchecked,defaultmuted,defaultselected,defer,disabled,enabled,formnovalidate,hidden,indeterminate,inert,ismap,itemscope,loop,multiple,muted,nohref,noresize,noshade,novalidate,nowrap,open,pauseonexit,readonly,required,reversed,scoped,seamless,selected,sortable,truespeed,typemustmatch,visible"),Ft="http://www.w3.org/1999/xlink",Rt=function(n){return":"===n.charAt(5)&&"xlink"===n.slice(0,5)},Mt=function(n){return Rt(n)?n.slice(6,n.length):""},Ht=function(n){return null==n||!1===n};function Nt(n){for(var e=n.data,t=n,a=n;i(a.componentInstance);)(a=a.componentInstance._vnode)&&a.data&&(e=Ut(a.data,e));for(;i(t=t.parent);)t&&t.data&&(e=Ut(e,t.data));return function(n,e){if(i(n)||i(e))return Jt(n,$t(e));return""}(e.staticClass,e.class)}function Ut(n,e){return{staticClass:Jt(n.staticClass,e.staticClass),class:i(n.class)?[n.class,e.class]:e.class}}function Jt(n,e){return n?e?n+" "+e:n:e||""}function $t(n){return Array.isArray(n)?function(n){for(var e,t="",a=0,r=n.length;a<r;a++)i(e=$t(n[a]))&&""!==e&&(t&&(t+=" "),t+=e);return t}(n):c(n)?function(n){var e="";for(var t in n)n[t]&&(e&&(e+=" "),e+=t);return e}(n):"string"==typeof n?n:""}var Zt={svg:"http://www.w3.org/2000/svg",math:"http://www.w3.org/1998/Math/MathML"},Vt=v("html,body,base,head,link,meta,style,title,address,article,aside,footer,header,h1,h2,h3,h4,h5,h6,hgroup,nav,section,div,dd,dl,dt,figcaption,figure,picture,hr,img,li,main,ol,p,pre,ul,a,b,abbr,bdi,bdo,br,cite,code,data,dfn,em,i,kbd,mark,q,rp,rt,rtc,ruby,s,samp,small,span,strong,sub,sup,time,u,var,wbr,area,audio,map,track,video,embed,object,param,source,canvas,script,noscript,del,ins,caption,col,colgroup,table,thead,tbody,td,th,tr,button,datalist,fieldset,form,input,label,legend,meter,optgroup,option,output,progress,select,textarea,details,dialog,menu,menuitem,summary,content,element,shadow,template,blockquote,iframe,tfoot"),Kt=v("svg,animate,circle,clippath,cursor,defs,desc,ellipse,filter,font-face,foreignobject,g,glyph,image,line,marker,mask,missing-glyph,path,pattern,polygon,polyline,rect,switch,symbol,text,textpath,tspan,use,view",!0),Qt=function(n){return Vt(n)||Kt(n)};var Wt=Object.create(null);var Gt=v("text,number,password,search,email,tel,url");var Xt=Object.freeze({createElement:function(n,e){var t=document.createElement(n);return"select"!==n||e.data&&e.data.attrs&&void 0!==e.data.attrs.multiple&&t.setAttribute("multiple","multiple"),t},createElementNS:function(n,e){return document.createElementNS(Zt[n],e)},createTextNode:function(n){return document.createTextNode(n)},createComment:function(n){return document.createComment(n)},insertBefore:function(n,e,t){n.insertBefore(e,t)},removeChild:function(n,e){n.removeChild(e)},appendChild:function(n,e){n.appendChild(e)},parentNode:function(n){return n.parentNode},nextSibling:function(n){return n.nextSibling},tagName:function(n){return n.tagName},setTextContent:function(n,e){n.textContent=e},setStyleScope:function(n,e){n.setAttribute(e,"")}}),Yt={create:function(n,e){na(e)},update:function(n,e){n.data.ref!==e.data.ref&&(na(n,!0),na(e))},destroy:function(n){na(n,!0)}};function na(n,e){var t=n.data.ref;if(i(t)){var a=n.context,r=n.componentInstance||n.elm,o=a.$refs;e?Array.isArray(o[t])?y(o[t],r):o[t]===r&&(o[t]=void 0):n.data.refInFor?Array.isArray(o[t])?o[t].indexOf(r)<0&&o[t].push(r):o[t]=[r]:o[t]=r}}var ea=new fn("",{},[]),ta=["create","activate","update","remove","destroy"];function aa(n,e){return n.key===e.key&&n.asyncFactory===e.asyncFactory&&(n.tag===e.tag&&n.isComment===e.isComment&&i(n.data)===i(e.data)&&function(n,e){if("input"!==n.tag)return!0;var t,a=i(t=n.data)&&i(t=t.attrs)&&t.type,r=i(t=e.data)&&i(t=t.attrs)&&t.type;return a===r||Gt(a)&&Gt(r)}(n,e)||s(n.isAsyncPlaceholder)&&o(e.asyncFactory.error))}function ra(n,e,t){var a,r,o={};for(a=e;a<=t;++a)i(r=n[a].key)&&(o[r]=a);return o}var oa={create:ia,update:ia,destroy:function(n){ia(n,ea)}};function ia(n,e){(n.data.directives||e.data.directives)&&function(n,e){var t,a,r,o=n===ea,i=e===ea,s=la(n.data.directives,n.context),l=la(e.data.directives,e.context),c=[],d=[];for(t in l)a=s[t],r=l[t],a?(r.oldValue=a.value,r.oldArg=a.arg,da(r,"update",e,n),r.def&&r.def.componentUpdated&&d.push(r)):(da(r,"bind",e,n),r.def&&r.def.inserted&&c.push(r));if(c.length){var p=function(){for(var t=0;t<c.length;t++)da(c[t],"inserted",e,n)};o?de(e,"insert",p):p()}d.length&&de(e,"postpatch",(function(){for(var t=0;t<d.length;t++)da(d[t],"componentUpdated",e,n)}));if(!o)for(t in s)l[t]||da(s[t],"unbind",n,n,i)}(n,e)}var sa=Object.create(null);function la(n,e){var t,a,r=Object.create(null);if(!n)return r;for(t=0;t<n.length;t++)(a=n[t]).modifiers||(a.modifiers=sa),r[ca(a)]=a,a.def=Rn(e.$options,"directives",a.name);return r}function ca(n){return n.rawName||n.name+"."+Object.keys(n.modifiers||{}).join(".")}function da(n,e,t,a,r){var o=n.def&&n.def[e];if(o)try{o(t.elm,n,t,a,r)}catch(a){$n(a,t.context,"directive "+n.name+" "+e+" hook")}}var pa=[Yt,oa];function ua(n,e){var t=e.componentOptions;if(!(i(t)&&!1===t.Ctor.options.inheritAttrs||o(n.data.attrs)&&o(e.data.attrs))){var a,r,s=e.elm,l=n.data.attrs||{},c=e.data.attrs||{};for(a in i(c.__ob__)&&(c=e.data.attrs=C({},c)),c)r=c[a],l[a]!==r&&ma(s,a,r,e.data.pre);for(a in(W||X)&&c.value!==l.value&&ma(s,"value",c.value),l)o(c[a])&&(Rt(a)?s.removeAttributeNS(Ft,Mt(a)):Lt(a)||s.removeAttribute(a))}}function ma(n,e,t,a){a||n.tagName.indexOf("-")>-1?ga(n,e,t):Ot(e)?Ht(t)?n.removeAttribute(e):(t="allowfullscreen"===e&&"EMBED"===n.tagName?"true":e,n.setAttribute(e,t)):Lt(e)?n.setAttribute(e,function(n,e){return Ht(e)||"false"===e?"false":"contenteditable"===n&&Bt(e)?e:"true"}(e,t)):Rt(e)?Ht(t)?n.removeAttributeNS(Ft,Mt(e)):n.setAttributeNS(Ft,e,t):ga(n,e,t)}function ga(n,e,t){if(Ht(t))n.removeAttribute(e);else{if(W&&!G&&"TEXTAREA"===n.tagName&&"placeholder"===e&&""!==t&&!n.__ieph){var a=function(e){e.stopImmediatePropagation(),n.removeEventListener("input",a)};n.addEventListener("input",a),n.__ieph=!0}n.setAttribute(e,t)}}var ha={create:ua,update:ua};function fa(n,e){var t=e.elm,a=e.data,r=n.data;if(!(o(a.staticClass)&&o(a.class)&&(o(r)||o(r.staticClass)&&o(r.class)))){var s=Nt(e),l=t._transitionClasses;i(l)&&(s=Jt(s,$t(l))),s!==t._prevClass&&(t.setAttribute("class",s),t._prevClass=s)}}var va,ba={create:fa,update:fa};function ya(n,e,t){var a=va;return function r(){var o=e.apply(null,arguments);null!==o&&wa(n,r,t,a)}}var xa=Wn&&!(nn&&Number(nn[1])<=53);function ka(n,e,t,a){if(xa){var r=ct,o=e;e=o._wrapper=function(n){if(n.target===n.currentTarget||n.timeStamp>=r||n.timeStamp<=0||n.target.ownerDocument!==document)return o.apply(this,arguments)}}va.addEventListener(n,e,tn?{capture:t,passive:a}:t)}function wa(n,e,t,a){(a||va).removeEventListener(n,e._wrapper||e,t)}function Sa(n,e){if(!o(n.data.on)||!o(e.data.on)){var t=e.data.on||{},a=n.data.on||{};va=e.elm,function(n){if(i(n.__r)){var e=W?"change":"input";n[e]=[].concat(n.__r,n[e]||[]),delete n.__r}i(n.__c)&&(n.change=[].concat(n.__c,n.change||[]),delete n.__c)}(t),ce(t,a,ka,wa,ya,e.context),va=void 0}}var Ea,Ta={create:Sa,update:Sa};function _a(n,e){if(!o(n.data.domProps)||!o(e.data.domProps)){var t,a,r=e.elm,s=n.data.domProps||{},l=e.data.domProps||{};for(t in i(l.__ob__)&&(l=e.data.domProps=C({},l)),s)t in l||(r[t]="");for(t in l){if(a=l[t],"textContent"===t||"innerHTML"===t){if(e.children&&(e.children.length=0),a===s[t])continue;1===r.childNodes.length&&r.removeChild(r.childNodes[0])}if("value"===t&&"PROGRESS"!==r.tagName){r._value=a;var c=o(a)?"":String(a);Ia(r,c)&&(r.value=c)}else if("innerHTML"===t&&Kt(r.tagName)&&o(r.innerHTML)){(Ea=Ea||document.createElement("div")).innerHTML="<svg>"+a+"</svg>";for(var d=Ea.firstChild;r.firstChild;)r.removeChild(r.firstChild);for(;d.firstChild;)r.appendChild(d.firstChild)}else if(a!==s[t])try{r[t]=a}catch(n){}}}}function Ia(n,e){return!n.composing&&("OPTION"===n.tagName||function(n,e){var t=!0;try{t=document.activeElement!==n}catch(n){}return t&&n.value!==e}(n,e)||function(n,e){var t=n.value,a=n._vModifiers;if(i(a)){if(a.number)return f(t)!==f(e);if(a.trim)return t.trim()!==e.trim()}return t!==e}(n,e))}var ja={create:_a,update:_a},za=w((function(n){var e={},t=/:(.+)/;return n.split(/;(?![^(]*\))/g).forEach((function(n){if(n){var a=n.split(t);a.length>1&&(e[a[0].trim()]=a[1].trim())}})),e}));function Ca(n){var e=Aa(n.style);return n.staticStyle?C(n.staticStyle,e):e}function Aa(n){return Array.isArray(n)?A(n):"string"==typeof n?za(n):n}var Pa,Da=/^--/,qa=/\s*!important$/,La=function(n,e,t){if(Da.test(e))n.style.setProperty(e,t);else if(qa.test(t))n.style.setProperty(I(e),t.replace(qa,""),"important");else{var a=Oa(e);if(Array.isArray(t))for(var r=0,o=t.length;r<o;r++)n.style[a]=t[r];else n.style[a]=t}},Ba=["Webkit","Moz","ms"],Oa=w((function(n){if(Pa=Pa||document.createElement("div").style,"filter"!==(n=E(n))&&n in Pa)return n;for(var e=n.charAt(0).toUpperCase()+n.slice(1),t=0;t<Ba.length;t++){var a=Ba[t]+e;if(a in Pa)return a}}));function Fa(n,e){var t=e.data,a=n.data;if(!(o(t.staticStyle)&&o(t.style)&&o(a.staticStyle)&&o(a.style))){var r,s,l=e.elm,c=a.staticStyle,d=a.normalizedStyle||a.style||{},p=c||d,u=Aa(e.data.style)||{};e.data.normalizedStyle=i(u.__ob__)?C({},u):u;var m=function(n,e){var t,a={};if(e)for(var r=n;r.componentInstance;)(r=r.componentInstance._vnode)&&r.data&&(t=Ca(r.data))&&C(a,t);(t=Ca(n.data))&&C(a,t);for(var o=n;o=o.parent;)o.data&&(t=Ca(o.data))&&C(a,t);return a}(e,!0);for(s in p)o(m[s])&&La(l,s,"");for(s in m)(r=m[s])!==p[s]&&La(l,s,null==r?"":r)}}var Ra={create:Fa,update:Fa},Ma=/\s+/;function Ha(n,e){if(e&&(e=e.trim()))if(n.classList)e.indexOf(" ")>-1?e.split(Ma).forEach((function(e){return n.classList.add(e)})):n.classList.add(e);else{var t=" "+(n.getAttribute("class")||"")+" ";t.indexOf(" "+e+" ")<0&&n.setAttribute("class",(t+e).trim())}}function Na(n,e){if(e&&(e=e.trim()))if(n.classList)e.indexOf(" ")>-1?e.split(Ma).forEach((function(e){return n.classList.remove(e)})):n.classList.remove(e),n.classList.length||n.removeAttribute("class");else{for(var t=" "+(n.getAttribute("class")||"")+" ",a=" "+e+" ";t.indexOf(a)>=0;)t=t.replace(a," ");(t=t.trim())?n.setAttribute("class",t):n.removeAttribute("class")}}function Ua(n){if(n){if("object"==typeof n){var e={};return!1!==n.css&&C(e,Ja(n.name||"v")),C(e,n),e}return"string"==typeof n?Ja(n):void 0}}var Ja=w((function(n){return{enterClass:n+"-enter",enterToClass:n+"-enter-to",enterActiveClass:n+"-enter-active",leaveClass:n+"-leave",leaveToClass:n+"-leave-to",leaveActiveClass:n+"-leave-active"}})),$a=Z&&!G,Za="transition",Va="transitionend",Ka="animation",Qa="animationend";$a&&(void 0===window.ontransitionend&&void 0!==window.onwebkittransitionend&&(Za="WebkitTransition",Va="webkitTransitionEnd"),void 0===window.onanimationend&&void 0!==window.onwebkitanimationend&&(Ka="WebkitAnimation",Qa="webkitAnimationEnd"));var Wa=Z?window.requestAnimationFrame?window.requestAnimationFrame.bind(window):setTimeout:function(n){return n()};function Ga(n){Wa((function(){Wa(n)}))}function Xa(n,e){var t=n._transitionClasses||(n._transitionClasses=[]);t.indexOf(e)<0&&(t.push(e),Ha(n,e))}function Ya(n,e){n._transitionClasses&&y(n._transitionClasses,e),Na(n,e)}function nr(n,e,t){var a=tr(n,e),r=a.type,o=a.timeout,i=a.propCount;if(!r)return t();var s="transition"===r?Va:Qa,l=0,c=function(){n.removeEventListener(s,d),t()},d=function(e){e.target===n&&++l>=i&&c()};setTimeout((function(){l<i&&c()}),o+1),n.addEventListener(s,d)}var er=/\b(transform|all)(,|$)/;function tr(n,e){var t,a=window.getComputedStyle(n),r=(a[Za+"Delay"]||"").split(", "),o=(a[Za+"Duration"]||"").split(", "),i=ar(r,o),s=(a[Ka+"Delay"]||"").split(", "),l=(a[Ka+"Duration"]||"").split(", "),c=ar(s,l),d=0,p=0;return"transition"===e?i>0&&(t="transition",d=i,p=o.length):"animation"===e?c>0&&(t="animation",d=c,p=l.length):p=(t=(d=Math.max(i,c))>0?i>c?"transition":"animation":null)?"transition"===t?o.length:l.length:0,{type:t,timeout:d,propCount:p,hasTransform:"transition"===t&&er.test(a[Za+"Property"])}}function ar(n,e){for(;n.length<e.length;)n=n.concat(n);return Math.max.apply(null,e.map((function(e,t){return rr(e)+rr(n[t])})))}function rr(n){return 1e3*Number(n.slice(0,-1).replace(",","."))}function or(n,e){var t=n.elm;i(t._leaveCb)&&(t._leaveCb.cancelled=!0,t._leaveCb());var a=Ua(n.data.transition);if(!o(a)&&!i(t._enterCb)&&1===t.nodeType){for(var r=a.css,s=a.type,l=a.enterClass,d=a.enterToClass,p=a.enterActiveClass,u=a.appearClass,m=a.appearToClass,g=a.appearActiveClass,h=a.beforeEnter,v=a.enter,b=a.afterEnter,y=a.enterCancelled,x=a.beforeAppear,k=a.appear,w=a.afterAppear,S=a.appearCancelled,E=a.duration,T=Xe,_=Xe.$vnode;_&&_.parent;)T=_.context,_=_.parent;var I=!T._isMounted||!n.isRootInsert;if(!I||k||""===k){var j=I&&u?u:l,z=I&&g?g:p,C=I&&m?m:d,A=I&&x||h,P=I&&"function"==typeof k?k:v,D=I&&w||b,q=I&&S||y,L=f(c(E)?E.enter:E);0;var B=!1!==r&&!G,F=lr(P),R=t._enterCb=O((function(){B&&(Ya(t,C),Ya(t,z)),R.cancelled?(B&&Ya(t,j),q&&q(t)):D&&D(t),t._enterCb=null}));n.data.show||de(n,"insert",(function(){var e=t.parentNode,a=e&&e._pending&&e._pending[n.key];a&&a.tag===n.tag&&a.elm._leaveCb&&a.elm._leaveCb(),P&&P(t,R)})),A&&A(t),B&&(Xa(t,j),Xa(t,z),Ga((function(){Ya(t,j),R.cancelled||(Xa(t,C),F||(sr(L)?setTimeout(R,L):nr(t,s,R)))}))),n.data.show&&(e&&e(),P&&P(t,R)),B||F||R()}}}function ir(n,e){var t=n.elm;i(t._enterCb)&&(t._enterCb.cancelled=!0,t._enterCb());var a=Ua(n.data.transition);if(o(a)||1!==t.nodeType)return e();if(!i(t._leaveCb)){var r=a.css,s=a.type,l=a.leaveClass,d=a.leaveToClass,p=a.leaveActiveClass,u=a.beforeLeave,m=a.leave,g=a.afterLeave,h=a.leaveCancelled,v=a.delayLeave,b=a.duration,y=!1!==r&&!G,x=lr(m),k=f(c(b)?b.leave:b);0;var w=t._leaveCb=O((function(){t.parentNode&&t.parentNode._pending&&(t.parentNode._pending[n.key]=null),y&&(Ya(t,d),Ya(t,p)),w.cancelled?(y&&Ya(t,l),h&&h(t)):(e(),g&&g(t)),t._leaveCb=null}));v?v(S):S()}function S(){w.cancelled||(!n.data.show&&t.parentNode&&((t.parentNode._pending||(t.parentNode._pending={}))[n.key]=n),u&&u(t),y&&(Xa(t,l),Xa(t,p),Ga((function(){Ya(t,l),w.cancelled||(Xa(t,d),x||(sr(k)?setTimeout(w,k):nr(t,s,w)))}))),m&&m(t,w),y||x||w())}}function sr(n){return"number"==typeof n&&!isNaN(n)}function lr(n){if(o(n))return!1;var e=n.fns;return i(e)?lr(Array.isArray(e)?e[0]:e):(n._length||n.length)>1}function cr(n,e){!0!==e.data.show&&or(e)}var dr=function(n){var e,t,a={},r=n.modules,c=n.nodeOps;for(e=0;e<ta.length;++e)for(a[ta[e]]=[],t=0;t<r.length;++t)i(r[t][ta[e]])&&a[ta[e]].push(r[t][ta[e]]);function d(n){var e=c.parentNode(n);i(e)&&c.removeChild(e,n)}function p(n,e,t,r,o,l,d){if(i(n.elm)&&i(l)&&(n=l[d]=xn(n)),n.isRootInsert=!o,!function(n,e,t,r){var o=n.data;if(i(o)){var l=i(n.componentInstance)&&o.keepAlive;if(i(o=o.hook)&&i(o=o.init)&&o(n,!1),i(n.componentInstance))return u(n,e),m(t,n.elm,r),s(l)&&function(n,e,t,r){var o,s=n;for(;s.componentInstance;)if(s=s.componentInstance._vnode,i(o=s.data)&&i(o=o.transition)){for(o=0;o<a.activate.length;++o)a.activate[o](ea,s);e.push(s);break}m(t,n.elm,r)}(n,e,t,r),!0}}(n,e,t,r)){var p=n.data,h=n.children,v=n.tag;i(v)?(n.elm=n.ns?c.createElementNS(n.ns,v):c.createElement(v,n),b(n),g(n,h,e),i(p)&&f(n,e),m(t,n.elm,r)):s(n.isComment)?(n.elm=c.createComment(n.text),m(t,n.elm,r)):(n.elm=c.createTextNode(n.text),m(t,n.elm,r))}}function u(n,e){i(n.data.pendingInsert)&&(e.push.apply(e,n.data.pendingInsert),n.data.pendingInsert=null),n.elm=n.componentInstance.$el,h(n)?(f(n,e),b(n)):(na(n),e.push(n))}function m(n,e,t){i(n)&&(i(t)?c.parentNode(t)===n&&c.insertBefore(n,e,t):c.appendChild(n,e))}function g(n,e,t){if(Array.isArray(e)){0;for(var a=0;a<e.length;++a)p(e[a],t,n.elm,null,!0,e,a)}else l(n.text)&&c.appendChild(n.elm,c.createTextNode(String(n.text)))}function h(n){for(;n.componentInstance;)n=n.componentInstance._vnode;return i(n.tag)}function f(n,t){for(var r=0;r<a.create.length;++r)a.create[r](ea,n);i(e=n.data.hook)&&(i(e.create)&&e.create(ea,n),i(e.insert)&&t.push(n))}function b(n){var e;if(i(e=n.fnScopeId))c.setStyleScope(n.elm,e);else for(var t=n;t;)i(e=t.context)&&i(e=e.$options._scopeId)&&c.setStyleScope(n.elm,e),t=t.parent;i(e=Xe)&&e!==n.context&&e!==n.fnContext&&i(e=e.$options._scopeId)&&c.setStyleScope(n.elm,e)}function y(n,e,t,a,r,o){for(;a<=r;++a)p(t[a],o,n,e,!1,t,a)}function x(n){var e,t,r=n.data;if(i(r))for(i(e=r.hook)&&i(e=e.destroy)&&e(n),e=0;e<a.destroy.length;++e)a.destroy[e](n);if(i(e=n.children))for(t=0;t<n.children.length;++t)x(n.children[t])}function k(n,e,t){for(;e<=t;++e){var a=n[e];i(a)&&(i(a.tag)?(w(a),x(a)):d(a.elm))}}function w(n,e){if(i(e)||i(n.data)){var t,r=a.remove.length+1;for(i(e)?e.listeners+=r:e=function(n,e){function t(){0==--t.listeners&&d(n)}return t.listeners=e,t}(n.elm,r),i(t=n.componentInstance)&&i(t=t._vnode)&&i(t.data)&&w(t,e),t=0;t<a.remove.length;++t)a.remove[t](n,e);i(t=n.data.hook)&&i(t=t.remove)?t(n,e):e()}else d(n.elm)}function S(n,e,t,a){for(var r=t;r<a;r++){var o=e[r];if(i(o)&&aa(n,o))return r}}function E(n,e,t,r,l,d){if(n!==e){i(e.elm)&&i(r)&&(e=r[l]=xn(e));var u=e.elm=n.elm;if(s(n.isAsyncPlaceholder))i(e.asyncFactory.resolved)?I(n.elm,e,t):e.isAsyncPlaceholder=!0;else if(s(e.isStatic)&&s(n.isStatic)&&e.key===n.key&&(s(e.isCloned)||s(e.isOnce)))e.componentInstance=n.componentInstance;else{var m,g=e.data;i(g)&&i(m=g.hook)&&i(m=m.prepatch)&&m(n,e);var f=n.children,v=e.children;if(i(g)&&h(e)){for(m=0;m<a.update.length;++m)a.update[m](n,e);i(m=g.hook)&&i(m=m.update)&&m(n,e)}o(e.text)?i(f)&&i(v)?f!==v&&function(n,e,t,a,r){var s,l,d,u=0,m=0,g=e.length-1,h=e[0],f=e[g],v=t.length-1,b=t[0],x=t[v],w=!r;for(0;u<=g&&m<=v;)o(h)?h=e[++u]:o(f)?f=e[--g]:aa(h,b)?(E(h,b,a,t,m),h=e[++u],b=t[++m]):aa(f,x)?(E(f,x,a,t,v),f=e[--g],x=t[--v]):aa(h,x)?(E(h,x,a,t,v),w&&c.insertBefore(n,h.elm,c.nextSibling(f.elm)),h=e[++u],x=t[--v]):aa(f,b)?(E(f,b,a,t,m),w&&c.insertBefore(n,f.elm,h.elm),f=e[--g],b=t[++m]):(o(s)&&(s=ra(e,u,g)),o(l=i(b.key)?s[b.key]:S(b,e,u,g))?p(b,a,n,h.elm,!1,t,m):aa(d=e[l],b)?(E(d,b,a,t,m),e[l]=void 0,w&&c.insertBefore(n,d.elm,h.elm)):p(b,a,n,h.elm,!1,t,m),b=t[++m]);u>g?y(n,o(t[v+1])?null:t[v+1].elm,t,m,v,a):m>v&&k(e,u,g)}(u,f,v,t,d):i(v)?(i(n.text)&&c.setTextContent(u,""),y(u,null,v,0,v.length-1,t)):i(f)?k(f,0,f.length-1):i(n.text)&&c.setTextContent(u,""):n.text!==e.text&&c.setTextContent(u,e.text),i(g)&&i(m=g.hook)&&i(m=m.postpatch)&&m(n,e)}}}function T(n,e,t){if(s(t)&&i(n.parent))n.parent.data.pendingInsert=e;else for(var a=0;a<e.length;++a)e[a].data.hook.insert(e[a])}var _=v("attrs,class,staticClass,staticStyle,key");function I(n,e,t,a){var r,o=e.tag,l=e.data,c=e.children;if(a=a||l&&l.pre,e.elm=n,s(e.isComment)&&i(e.asyncFactory))return e.isAsyncPlaceholder=!0,!0;if(i(l)&&(i(r=l.hook)&&i(r=r.init)&&r(e,!0),i(r=e.componentInstance)))return u(e,t),!0;if(i(o)){if(i(c))if(n.hasChildNodes())if(i(r=l)&&i(r=r.domProps)&&i(r=r.innerHTML)){if(r!==n.innerHTML)return!1}else{for(var d=!0,p=n.firstChild,m=0;m<c.length;m++){if(!p||!I(p,c[m],t,a)){d=!1;break}p=p.nextSibling}if(!d||p)return!1}else g(e,c,t);if(i(l)){var h=!1;for(var v in l)if(!_(v)){h=!0,f(e,t);break}!h&&l.class&&ie(l.class)}}else n.data!==e.text&&(n.data=e.text);return!0}return function(n,e,t,r){if(!o(e)){var l,d=!1,u=[];if(o(n))d=!0,p(e,u);else{var m=i(n.nodeType);if(!m&&aa(n,e))E(n,e,u,null,null,r);else{if(m){if(1===n.nodeType&&n.hasAttribute("data-server-rendered")&&(n.removeAttribute("data-server-rendered"),t=!0),s(t)&&I(n,e,u))return T(e,u,!0),n;l=n,n=new fn(c.tagName(l).toLowerCase(),{},[],void 0,l)}var g=n.elm,f=c.parentNode(g);if(p(e,u,g._leaveCb?null:f,c.nextSibling(g)),i(e.parent))for(var v=e.parent,b=h(e);v;){for(var y=0;y<a.destroy.length;++y)a.destroy[y](v);if(v.elm=e.elm,b){for(var w=0;w<a.create.length;++w)a.create[w](ea,v);var S=v.data.hook.insert;if(S.merged)for(var _=1;_<S.fns.length;_++)S.fns[_]()}else na(v);v=v.parent}i(f)?k([n],0,0):i(n.tag)&&x(n)}}return T(e,u,d),e.elm}i(n)&&x(n)}}({nodeOps:Xt,modules:[ha,ba,Ta,ja,Ra,Z?{create:cr,activate:cr,remove:function(n,e){!0!==n.data.show?ir(n,e):e()}}:{}].concat(pa)});G&&document.addEventListener("selectionchange",(function(){var n=document.activeElement;n&&n.vmodel&&br(n,"input")}));var pr={inserted:function(n,e,t,a){"select"===t.tag?(a.elm&&!a.elm._vOptions?de(t,"postpatch",(function(){pr.componentUpdated(n,e,t)})):ur(n,e,t.context),n._vOptions=[].map.call(n.options,hr)):("textarea"===t.tag||Gt(n.type))&&(n._vModifiers=e.modifiers,e.modifiers.lazy||(n.addEventListener("compositionstart",fr),n.addEventListener("compositionend",vr),n.addEventListener("change",vr),G&&(n.vmodel=!0)))},componentUpdated:function(n,e,t){if("select"===t.tag){ur(n,e,t.context);var a=n._vOptions,r=n._vOptions=[].map.call(n.options,hr);if(r.some((function(n,e){return!L(n,a[e])})))(n.multiple?e.value.some((function(n){return gr(n,r)})):e.value!==e.oldValue&&gr(e.value,r))&&br(n,"change")}}};function ur(n,e,t){mr(n,e,t),(W||X)&&setTimeout((function(){mr(n,e,t)}),0)}function mr(n,e,t){var a=e.value,r=n.multiple;if(!r||Array.isArray(a)){for(var o,i,s=0,l=n.options.length;s<l;s++)if(i=n.options[s],r)o=B(a,hr(i))>-1,i.selected!==o&&(i.selected=o);else if(L(hr(i),a))return void(n.selectedIndex!==s&&(n.selectedIndex=s));r||(n.selectedIndex=-1)}}function gr(n,e){return e.every((function(e){return!L(e,n)}))}function hr(n){return"_value"in n?n._value:n.value}function fr(n){n.target.composing=!0}function vr(n){n.target.composing&&(n.target.composing=!1,br(n.target,"input"))}function br(n,e){var t=document.createEvent("HTMLEvents");t.initEvent(e,!0,!0),n.dispatchEvent(t)}function yr(n){return!n.componentInstance||n.data&&n.data.transition?n:yr(n.componentInstance._vnode)}var xr={model:pr,show:{bind:function(n,e,t){var a=e.value,r=(t=yr(t)).data&&t.data.transition,o=n.__vOriginalDisplay="none"===n.style.display?"":n.style.display;a&&r?(t.data.show=!0,or(t,(function(){n.style.display=o}))):n.style.display=a?o:"none"},update:function(n,e,t){var a=e.value;!a!=!e.oldValue&&((t=yr(t)).data&&t.data.transition?(t.data.show=!0,a?or(t,(function(){n.style.display=n.__vOriginalDisplay})):ir(t,(function(){n.style.display="none"}))):n.style.display=a?n.__vOriginalDisplay:"none")},unbind:function(n,e,t,a,r){r||(n.style.display=n.__vOriginalDisplay)}}},kr={name:String,appear:Boolean,css:Boolean,mode:String,type:String,enterClass:String,leaveClass:String,enterToClass:String,leaveToClass:String,enterActiveClass:String,leaveActiveClass:String,appearClass:String,appearActiveClass:String,appearToClass:String,duration:[Number,String,Object]};function wr(n){var e=n&&n.componentOptions;return e&&e.Ctor.options.abstract?wr(Ve(e.children)):n}function Sr(n){var e={},t=n.$options;for(var a in t.propsData)e[a]=n[a];var r=t._parentListeners;for(var o in r)e[E(o)]=r[o];return e}function Er(n,e){if(/\d-keep-alive$/.test(e.tag))return n("keep-alive",{props:e.componentOptions.propsData})}var Tr=function(n){return n.tag||ve(n)},_r=function(n){return"show"===n.name},Ir={name:"transition",props:kr,abstract:!0,render:function(n){var e=this,t=this.$slots.default;if(t&&(t=t.filter(Tr)).length){0;var a=this.mode;0;var r=t[0];if(function(n){for(;n=n.parent;)if(n.data.transition)return!0}(this.$vnode))return r;var o=wr(r);if(!o)return r;if(this._leaving)return Er(n,r);var i="__transition-"+this._uid+"-";o.key=null==o.key?o.isComment?i+"comment":i+o.tag:l(o.key)?0===String(o.key).indexOf(i)?o.key:i+o.key:o.key;var s=(o.data||(o.data={})).transition=Sr(this),c=this._vnode,d=wr(c);if(o.data.directives&&o.data.directives.some(_r)&&(o.data.show=!0),d&&d.data&&!function(n,e){return e.key===n.key&&e.tag===n.tag}(o,d)&&!ve(d)&&(!d.componentInstance||!d.componentInstance._vnode.isComment)){var p=d.data.transition=C({},s);if("out-in"===a)return this._leaving=!0,de(p,"afterLeave",(function(){e._leaving=!1,e.$forceUpdate()})),Er(n,r);if("in-out"===a){if(ve(o))return c;var u,m=function(){u()};de(s,"afterEnter",m),de(s,"enterCancelled",m),de(p,"delayLeave",(function(n){u=n}))}}return r}}},jr=C({tag:String,moveClass:String},kr);function zr(n){n.elm._moveCb&&n.elm._moveCb(),n.elm._enterCb&&n.elm._enterCb()}function Cr(n){n.data.newPos=n.elm.getBoundingClientRect()}function Ar(n){var e=n.data.pos,t=n.data.newPos,a=e.left-t.left,r=e.top-t.top;if(a||r){n.data.moved=!0;var o=n.elm.style;o.transform=o.WebkitTransform="translate("+a+"px,"+r+"px)",o.transitionDuration="0s"}}delete jr.mode;var Pr={Transition:Ir,TransitionGroup:{props:jr,beforeMount:function(){var n=this,e=this._update;this._update=function(t,a){var r=Ye(n);n.__patch__(n._vnode,n.kept,!1,!0),n._vnode=n.kept,r(),e.call(n,t,a)}},render:function(n){for(var e=this.tag||this.$vnode.data.tag||"span",t=Object.create(null),a=this.prevChildren=this.children,r=this.$slots.default||[],o=this.children=[],i=Sr(this),s=0;s<r.length;s++){var l=r[s];if(l.tag)if(null!=l.key&&0!==String(l.key).indexOf("__vlist"))o.push(l),t[l.key]=l,(l.data||(l.data={})).transition=i;else;}if(a){for(var c=[],d=[],p=0;p<a.length;p++){var u=a[p];u.data.transition=i,u.data.pos=u.elm.getBoundingClientRect(),t[u.key]?c.push(u):d.push(u)}this.kept=n(e,null,c),this.removed=d}return n(e,null,o)},updated:function(){var n=this.prevChildren,e=this.moveClass||(this.name||"v")+"-move";n.length&&this.hasMove(n[0].elm,e)&&(n.forEach(zr),n.forEach(Cr),n.forEach(Ar),this._reflow=document.body.offsetHeight,n.forEach((function(n){if(n.data.moved){var t=n.elm,a=t.style;Xa(t,e),a.transform=a.WebkitTransform=a.transitionDuration="",t.addEventListener(Va,t._moveCb=function n(a){a&&a.target!==t||a&&!/transform$/.test(a.propertyName)||(t.removeEventListener(Va,n),t._moveCb=null,Ya(t,e))})}})))},methods:{hasMove:function(n,e){if(!$a)return!1;if(this._hasMove)return this._hasMove;var t=n.cloneNode();n._transitionClasses&&n._transitionClasses.forEach((function(n){Na(t,n)})),Ha(t,e),t.style.display="none",this.$el.appendChild(t);var a=tr(t);return this.$el.removeChild(t),this._hasMove=a.hasTransform}}}};Tt.config.mustUseProp=function(n,e,t){return"value"===t&&qt(n)&&"button"!==e||"selected"===t&&"option"===n||"checked"===t&&"input"===n||"muted"===t&&"video"===n},Tt.config.isReservedTag=Qt,Tt.config.isReservedAttr=Dt,Tt.config.getTagNamespace=function(n){return Kt(n)?"svg":"math"===n?"math":void 0},Tt.config.isUnknownElement=function(n){if(!Z)return!0;if(Qt(n))return!1;if(n=n.toLowerCase(),null!=Wt[n])return Wt[n];var e=document.createElement(n);return n.indexOf("-")>-1?Wt[n]=e.constructor===window.HTMLUnknownElement||e.constructor===window.HTMLElement:Wt[n]=/HTMLUnknownElement/.test(e.toString())},C(Tt.options.directives,xr),C(Tt.options.components,Pr),Tt.prototype.__patch__=Z?dr:P,Tt.prototype.$mount=function(n,e){return function(n,e,t){var a;return n.$el=e,n.$options.render||(n.$options.render=bn),tt(n,"beforeMount"),a=function(){n._update(n._render(),t)},new gt(n,a,P,{before:function(){n._isMounted&&!n._isDestroyed&&tt(n,"beforeUpdate")}},!0),t=!1,null==n.$vnode&&(n._isMounted=!0,tt(n,"mounted")),n}(this,n=n&&Z?function(n){if("string"==typeof n){var e=document.querySelector(n);return e||document.createElement("div")}return n}(n):void 0,e)},Z&&setTimeout((function(){M.devtools&&on&&on.emit("init",Tt)}),0);var Dr=Tt;
/*!
  * vue-router v3.5.3
  * (c) 2021 Evan You
  * @license MIT
  */function qr(n,e){for(var t in e)n[t]=e[t];return n}var Lr=/[!'()*]/g,Br=function(n){return"%"+n.charCodeAt(0).toString(16)},Or=/%2C/g,Fr=function(n){return encodeURIComponent(n).replace(Lr,Br).replace(Or,",")};function Rr(n){try{return decodeURIComponent(n)}catch(n){0}return n}var Mr=function(n){return null==n||"object"==typeof n?n:String(n)};function Hr(n){var e={};return(n=n.trim().replace(/^(\?|#|&)/,""))?(n.split("&").forEach((function(n){var t=n.replace(/\+/g," ").split("="),a=Rr(t.shift()),r=t.length>0?Rr(t.join("=")):null;void 0===e[a]?e[a]=r:Array.isArray(e[a])?e[a].push(r):e[a]=[e[a],r]})),e):e}function Nr(n){var e=n?Object.keys(n).map((function(e){var t=n[e];if(void 0===t)return"";if(null===t)return Fr(e);if(Array.isArray(t)){var a=[];return t.forEach((function(n){void 0!==n&&(null===n?a.push(Fr(e)):a.push(Fr(e)+"="+Fr(n)))})),a.join("&")}return Fr(e)+"="+Fr(t)})).filter((function(n){return n.length>0})).join("&"):null;return e?"?"+e:""}var Ur=/\/?$/;function Jr(n,e,t,a){var r=a&&a.options.stringifyQuery,o=e.query||{};try{o=$r(o)}catch(n){}var i={name:e.name||n&&n.name,meta:n&&n.meta||{},path:e.path||"/",hash:e.hash||"",query:o,params:e.params||{},fullPath:Kr(e,r),matched:n?Vr(n):[]};return t&&(i.redirectedFrom=Kr(t,r)),Object.freeze(i)}function $r(n){if(Array.isArray(n))return n.map($r);if(n&&"object"==typeof n){var e={};for(var t in n)e[t]=$r(n[t]);return e}return n}var Zr=Jr(null,{path:"/"});function Vr(n){for(var e=[];n;)e.unshift(n),n=n.parent;return e}function Kr(n,e){var t=n.path,a=n.query;void 0===a&&(a={});var r=n.hash;return void 0===r&&(r=""),(t||"/")+(e||Nr)(a)+r}function Qr(n,e,t){return e===Zr?n===e:!!e&&(n.path&&e.path?n.path.replace(Ur,"")===e.path.replace(Ur,"")&&(t||n.hash===e.hash&&Wr(n.query,e.query)):!(!n.name||!e.name)&&(n.name===e.name&&(t||n.hash===e.hash&&Wr(n.query,e.query)&&Wr(n.params,e.params))))}function Wr(n,e){if(void 0===n&&(n={}),void 0===e&&(e={}),!n||!e)return n===e;var t=Object.keys(n).sort(),a=Object.keys(e).sort();return t.length===a.length&&t.every((function(t,r){var o=n[t];if(a[r]!==t)return!1;var i=e[t];return null==o||null==i?o===i:"object"==typeof o&&"object"==typeof i?Wr(o,i):String(o)===String(i)}))}function Gr(n){for(var e=0;e<n.matched.length;e++){var t=n.matched[e];for(var a in t.instances){var r=t.instances[a],o=t.enteredCbs[a];if(r&&o){delete t.enteredCbs[a];for(var i=0;i<o.length;i++)r._isBeingDestroyed||o[i](r)}}}}var Xr={name:"RouterView",functional:!0,props:{name:{type:String,default:"default"}},render:function(n,e){var t=e.props,a=e.children,r=e.parent,o=e.data;o.routerView=!0;for(var i=r.$createElement,s=t.name,l=r.$route,c=r._routerViewCache||(r._routerViewCache={}),d=0,p=!1;r&&r._routerRoot!==r;){var u=r.$vnode?r.$vnode.data:{};u.routerView&&d++,u.keepAlive&&r._directInactive&&r._inactive&&(p=!0),r=r.$parent}if(o.routerViewDepth=d,p){var m=c[s],g=m&&m.component;return g?(m.configProps&&Yr(g,o,m.route,m.configProps),i(g,o,a)):i()}var h=l.matched[d],f=h&&h.components[s];if(!h||!f)return c[s]=null,i();c[s]={component:f},o.registerRouteInstance=function(n,e){var t=h.instances[s];(e&&t!==n||!e&&t===n)&&(h.instances[s]=e)},(o.hook||(o.hook={})).prepatch=function(n,e){h.instances[s]=e.componentInstance},o.hook.init=function(n){n.data.keepAlive&&n.componentInstance&&n.componentInstance!==h.instances[s]&&(h.instances[s]=n.componentInstance),Gr(l)};var v=h.props&&h.props[s];return v&&(qr(c[s],{route:l,configProps:v}),Yr(f,o,l,v)),i(f,o,a)}};function Yr(n,e,t,a){var r=e.props=function(n,e){switch(typeof e){case"undefined":return;case"object":return e;case"function":return e(n);case"boolean":return e?n.params:void 0;default:0}}(t,a);if(r){r=e.props=qr({},r);var o=e.attrs=e.attrs||{};for(var i in r)n.props&&i in n.props||(o[i]=r[i],delete r[i])}}function no(n,e,t){var a=n.charAt(0);if("/"===a)return n;if("?"===a||"#"===a)return e+n;var r=e.split("/");t&&r[r.length-1]||r.pop();for(var o=n.replace(/^\//,"").split("/"),i=0;i<o.length;i++){var s=o[i];".."===s?r.pop():"."!==s&&r.push(s)}return""!==r[0]&&r.unshift(""),r.join("/")}function eo(n){return n.replace(/\/+/g,"/")}var to=Array.isArray||function(n){return"[object Array]"==Object.prototype.toString.call(n)},ao=bo,ro=co,oo=function(n,e){return uo(co(n,e),e)},io=uo,so=vo,lo=new RegExp(["(\\\\.)","([\\/.])?(?:(?:\\:(\\w+)(?:\\(((?:\\\\.|[^\\\\()])+)\\))?|\\(((?:\\\\.|[^\\\\()])+)\\))([+*?])?|(\\*))"].join("|"),"g");function co(n,e){for(var t,a=[],r=0,o=0,i="",s=e&&e.delimiter||"/";null!=(t=lo.exec(n));){var l=t[0],c=t[1],d=t.index;if(i+=n.slice(o,d),o=d+l.length,c)i+=c[1];else{var p=n[o],u=t[2],m=t[3],g=t[4],h=t[5],f=t[6],v=t[7];i&&(a.push(i),i="");var b=null!=u&&null!=p&&p!==u,y="+"===f||"*"===f,x="?"===f||"*"===f,k=t[2]||s,w=g||h;a.push({name:m||r++,prefix:u||"",delimiter:k,optional:x,repeat:y,partial:b,asterisk:!!v,pattern:w?go(w):v?".*":"[^"+mo(k)+"]+?"})}}return o<n.length&&(i+=n.substr(o)),i&&a.push(i),a}function po(n){return encodeURI(n).replace(/[\/?#]/g,(function(n){return"%"+n.charCodeAt(0).toString(16).toUpperCase()}))}function uo(n,e){for(var t=new Array(n.length),a=0;a<n.length;a++)"object"==typeof n[a]&&(t[a]=new RegExp("^(?:"+n[a].pattern+")$",fo(e)));return function(e,a){for(var r="",o=e||{},i=(a||{}).pretty?po:encodeURIComponent,s=0;s<n.length;s++){var l=n[s];if("string"!=typeof l){var c,d=o[l.name];if(null==d){if(l.optional){l.partial&&(r+=l.prefix);continue}throw new TypeError('Expected "'+l.name+'" to be defined')}if(to(d)){if(!l.repeat)throw new TypeError('Expected "'+l.name+'" to not repeat, but received `'+JSON.stringify(d)+"`");if(0===d.length){if(l.optional)continue;throw new TypeError('Expected "'+l.name+'" to not be empty')}for(var p=0;p<d.length;p++){if(c=i(d[p]),!t[s].test(c))throw new TypeError('Expected all "'+l.name+'" to match "'+l.pattern+'", but received `'+JSON.stringify(c)+"`");r+=(0===p?l.prefix:l.delimiter)+c}}else{if(c=l.asterisk?encodeURI(d).replace(/[?#]/g,(function(n){return"%"+n.charCodeAt(0).toString(16).toUpperCase()})):i(d),!t[s].test(c))throw new TypeError('Expected "'+l.name+'" to match "'+l.pattern+'", but received "'+c+'"');r+=l.prefix+c}}else r+=l}return r}}function mo(n){return n.replace(/([.+*?=^!:${}()[\]|\/\\])/g,"\\$1")}function go(n){return n.replace(/([=!:$\/()])/g,"\\$1")}function ho(n,e){return n.keys=e,n}function fo(n){return n&&n.sensitive?"":"i"}function vo(n,e,t){to(e)||(t=e||t,e=[]);for(var a=(t=t||{}).strict,r=!1!==t.end,o="",i=0;i<n.length;i++){var s=n[i];if("string"==typeof s)o+=mo(s);else{var l=mo(s.prefix),c="(?:"+s.pattern+")";e.push(s),s.repeat&&(c+="(?:"+l+c+")*"),o+=c=s.optional?s.partial?l+"("+c+")?":"(?:"+l+"("+c+"))?":l+"("+c+")"}}var d=mo(t.delimiter||"/"),p=o.slice(-d.length)===d;return a||(o=(p?o.slice(0,-d.length):o)+"(?:"+d+"(?=$))?"),o+=r?"$":a&&p?"":"(?="+d+"|$)",ho(new RegExp("^"+o,fo(t)),e)}function bo(n,e,t){return to(e)||(t=e||t,e=[]),t=t||{},n instanceof RegExp?function(n,e){var t=n.source.match(/\((?!\?)/g);if(t)for(var a=0;a<t.length;a++)e.push({name:a,prefix:null,delimiter:null,optional:!1,repeat:!1,partial:!1,asterisk:!1,pattern:null});return ho(n,e)}(n,e):to(n)?function(n,e,t){for(var a=[],r=0;r<n.length;r++)a.push(bo(n[r],e,t).source);return ho(new RegExp("(?:"+a.join("|")+")",fo(t)),e)}(n,e,t):function(n,e,t){return vo(co(n,t),e,t)}(n,e,t)}ao.parse=ro,ao.compile=oo,ao.tokensToFunction=io,ao.tokensToRegExp=so;var yo=Object.create(null);function xo(n,e,t){e=e||{};try{var a=yo[n]||(yo[n]=ao.compile(n));return"string"==typeof e.pathMatch&&(e[0]=e.pathMatch),a(e,{pretty:!0})}catch(n){return""}finally{delete e[0]}}function ko(n,e,t,a){var r="string"==typeof n?{path:n}:n;if(r._normalized)return r;if(r.name){var o=(r=qr({},n)).params;return o&&"object"==typeof o&&(r.params=qr({},o)),r}if(!r.path&&r.params&&e){(r=qr({},r))._normalized=!0;var i=qr(qr({},e.params),r.params);if(e.name)r.name=e.name,r.params=i;else if(e.matched.length){var s=e.matched[e.matched.length-1].path;r.path=xo(s,i,e.path)}else 0;return r}var l=function(n){var e="",t="",a=n.indexOf("#");a>=0&&(e=n.slice(a),n=n.slice(0,a));var r=n.indexOf("?");return r>=0&&(t=n.slice(r+1),n=n.slice(0,r)),{path:n,query:t,hash:e}}(r.path||""),c=e&&e.path||"/",d=l.path?no(l.path,c,t||r.append):c,p=function(n,e,t){void 0===e&&(e={});var a,r=t||Hr;try{a=r(n||"")}catch(n){a={}}for(var o in e){var i=e[o];a[o]=Array.isArray(i)?i.map(Mr):Mr(i)}return a}(l.query,r.query,a&&a.options.parseQuery),u=r.hash||l.hash;return u&&"#"!==u.charAt(0)&&(u="#"+u),{_normalized:!0,path:d,query:p,hash:u}}var wo,So=function(){},Eo={name:"RouterLink",props:{to:{type:[String,Object],required:!0},tag:{type:String,default:"a"},custom:Boolean,exact:Boolean,exactPath:Boolean,append:Boolean,replace:Boolean,activeClass:String,exactActiveClass:String,ariaCurrentValue:{type:String,default:"page"},event:{type:[String,Array],default:"click"}},render:function(n){var e=this,t=this.$router,a=this.$route,r=t.resolve(this.to,a,this.append),o=r.location,i=r.route,s=r.href,l={},c=t.options.linkActiveClass,d=t.options.linkExactActiveClass,p=null==c?"router-link-active":c,u=null==d?"router-link-exact-active":d,m=null==this.activeClass?p:this.activeClass,g=null==this.exactActiveClass?u:this.exactActiveClass,h=i.redirectedFrom?Jr(null,ko(i.redirectedFrom),null,t):i;l[g]=Qr(a,h,this.exactPath),l[m]=this.exact||this.exactPath?l[g]:function(n,e){return 0===n.path.replace(Ur,"/").indexOf(e.path.replace(Ur,"/"))&&(!e.hash||n.hash===e.hash)&&function(n,e){for(var t in e)if(!(t in n))return!1;return!0}(n.query,e.query)}(a,h);var f=l[g]?this.ariaCurrentValue:null,v=function(n){To(n)&&(e.replace?t.replace(o,So):t.push(o,So))},b={click:To};Array.isArray(this.event)?this.event.forEach((function(n){b[n]=v})):b[this.event]=v;var y={class:l},x=!this.$scopedSlots.$hasNormal&&this.$scopedSlots.default&&this.$scopedSlots.default({href:s,route:i,navigate:v,isActive:l[m],isExactActive:l[g]});if(x){if(1===x.length)return x[0];if(x.length>1||!x.length)return 0===x.length?n():n("span",{},x)}if("a"===this.tag)y.on=b,y.attrs={href:s,"aria-current":f};else{var k=function n(e){var t;if(e)for(var a=0;a<e.length;a++){if("a"===(t=e[a]).tag)return t;if(t.children&&(t=n(t.children)))return t}}(this.$slots.default);if(k){k.isStatic=!1;var w=k.data=qr({},k.data);for(var S in w.on=w.on||{},w.on){var E=w.on[S];S in b&&(w.on[S]=Array.isArray(E)?E:[E])}for(var T in b)T in w.on?w.on[T].push(b[T]):w.on[T]=v;var _=k.data.attrs=qr({},k.data.attrs);_.href=s,_["aria-current"]=f}else y.on=b}return n(this.tag,y,this.$slots.default)}};function To(n){if(!(n.metaKey||n.altKey||n.ctrlKey||n.shiftKey||n.defaultPrevented||void 0!==n.button&&0!==n.button)){if(n.currentTarget&&n.currentTarget.getAttribute){var e=n.currentTarget.getAttribute("target");if(/\b_blank\b/i.test(e))return}return n.preventDefault&&n.preventDefault(),!0}}var _o="undefined"!=typeof window;function Io(n,e,t,a,r){var o=e||[],i=t||Object.create(null),s=a||Object.create(null);n.forEach((function(n){!function n(e,t,a,r,o,i){var s=r.path,l=r.name;0;var c=r.pathToRegexpOptions||{},d=function(n,e,t){t||(n=n.replace(/\/$/,""));if("/"===n[0])return n;if(null==e)return n;return eo(e.path+"/"+n)}(s,o,c.strict);"boolean"==typeof r.caseSensitive&&(c.sensitive=r.caseSensitive);var p={path:d,regex:jo(d,c),components:r.components||{default:r.component},alias:r.alias?"string"==typeof r.alias?[r.alias]:r.alias:[],instances:{},enteredCbs:{},name:l,parent:o,matchAs:i,redirect:r.redirect,beforeEnter:r.beforeEnter,meta:r.meta||{},props:null==r.props?{}:r.components?r.props:{default:r.props}};r.children&&r.children.forEach((function(r){var o=i?eo(i+"/"+r.path):void 0;n(e,t,a,r,p,o)}));t[p.path]||(e.push(p.path),t[p.path]=p);if(void 0!==r.alias)for(var u=Array.isArray(r.alias)?r.alias:[r.alias],m=0;m<u.length;++m){0;var g={path:u[m],children:r.children};n(e,t,a,g,o,p.path||"/")}l&&(a[l]||(a[l]=p))}(o,i,s,n,r)}));for(var l=0,c=o.length;l<c;l++)"*"===o[l]&&(o.push(o.splice(l,1)[0]),c--,l--);return{pathList:o,pathMap:i,nameMap:s}}function jo(n,e){return ao(n,[],e)}function zo(n,e){var t=Io(n),a=t.pathList,r=t.pathMap,o=t.nameMap;function i(n,t,i){var s=ko(n,t,!1,e),c=s.name;if(c){var d=o[c];if(!d)return l(null,s);var p=d.regex.keys.filter((function(n){return!n.optional})).map((function(n){return n.name}));if("object"!=typeof s.params&&(s.params={}),t&&"object"==typeof t.params)for(var u in t.params)!(u in s.params)&&p.indexOf(u)>-1&&(s.params[u]=t.params[u]);return s.path=xo(d.path,s.params),l(d,s,i)}if(s.path){s.params={};for(var m=0;m<a.length;m++){var g=a[m],h=r[g];if(Co(h.regex,s.path,s.params))return l(h,s,i)}}return l(null,s)}function s(n,t){var a=n.redirect,r="function"==typeof a?a(Jr(n,t,null,e)):a;if("string"==typeof r&&(r={path:r}),!r||"object"!=typeof r)return l(null,t);var s=r,c=s.name,d=s.path,p=t.query,u=t.hash,m=t.params;if(p=s.hasOwnProperty("query")?s.query:p,u=s.hasOwnProperty("hash")?s.hash:u,m=s.hasOwnProperty("params")?s.params:m,c){o[c];return i({_normalized:!0,name:c,query:p,hash:u,params:m},void 0,t)}if(d){var g=function(n,e){return no(n,e.parent?e.parent.path:"/",!0)}(d,n);return i({_normalized:!0,path:xo(g,m),query:p,hash:u},void 0,t)}return l(null,t)}function l(n,t,a){return n&&n.redirect?s(n,a||t):n&&n.matchAs?function(n,e,t){var a=i({_normalized:!0,path:xo(t,e.params)});if(a){var r=a.matched,o=r[r.length-1];return e.params=a.params,l(o,e)}return l(null,e)}(0,t,n.matchAs):Jr(n,t,a,e)}return{match:i,addRoute:function(n,e){var t="object"!=typeof n?o[n]:void 0;Io([e||n],a,r,o,t),t&&t.alias.length&&Io(t.alias.map((function(n){return{path:n,children:[e]}})),a,r,o,t)},getRoutes:function(){return a.map((function(n){return r[n]}))},addRoutes:function(n){Io(n,a,r,o)}}}function Co(n,e,t){var a=e.match(n);if(!a)return!1;if(!t)return!0;for(var r=1,o=a.length;r<o;++r){var i=n.keys[r-1];i&&(t[i.name||"pathMatch"]="string"==typeof a[r]?Rr(a[r]):a[r])}return!0}var Ao=_o&&window.performance&&window.performance.now?window.performance:Date;function Po(){return Ao.now().toFixed(3)}var Do=Po();function qo(){return Do}function Lo(n){return Do=n}var Bo=Object.create(null);function Oo(){"scrollRestoration"in window.history&&(window.history.scrollRestoration="manual");var n=window.location.protocol+"//"+window.location.host,e=window.location.href.replace(n,""),t=qr({},window.history.state);return t.key=qo(),window.history.replaceState(t,"",e),window.addEventListener("popstate",Mo),function(){window.removeEventListener("popstate",Mo)}}function Fo(n,e,t,a){if(n.app){var r=n.options.scrollBehavior;r&&n.app.$nextTick((function(){var o=function(){var n=qo();if(n)return Bo[n]}(),i=r.call(n,e,t,a?o:null);i&&("function"==typeof i.then?i.then((function(n){$o(n,o)})).catch((function(n){0})):$o(i,o))}))}}function Ro(){var n=qo();n&&(Bo[n]={x:window.pageXOffset,y:window.pageYOffset})}function Mo(n){Ro(),n.state&&n.state.key&&Lo(n.state.key)}function Ho(n){return Uo(n.x)||Uo(n.y)}function No(n){return{x:Uo(n.x)?n.x:window.pageXOffset,y:Uo(n.y)?n.y:window.pageYOffset}}function Uo(n){return"number"==typeof n}var Jo=/^#\d/;function $o(n,e){var t,a="object"==typeof n;if(a&&"string"==typeof n.selector){var r=Jo.test(n.selector)?document.getElementById(n.selector.slice(1)):document.querySelector(n.selector);if(r){var o=n.offset&&"object"==typeof n.offset?n.offset:{};e=function(n,e){var t=document.documentElement.getBoundingClientRect(),a=n.getBoundingClientRect();return{x:a.left-t.left-e.x,y:a.top-t.top-e.y}}(r,o={x:Uo((t=o).x)?t.x:0,y:Uo(t.y)?t.y:0})}else Ho(n)&&(e=No(n))}else a&&Ho(n)&&(e=No(n));e&&("scrollBehavior"in document.documentElement.style?window.scrollTo({left:e.x,top:e.y,behavior:n.behavior}):window.scrollTo(e.x,e.y))}var Zo,Vo=_o&&((-1===(Zo=window.navigator.userAgent).indexOf("Android 2.")&&-1===Zo.indexOf("Android 4.0")||-1===Zo.indexOf("Mobile Safari")||-1!==Zo.indexOf("Chrome")||-1!==Zo.indexOf("Windows Phone"))&&window.history&&"function"==typeof window.history.pushState);function Ko(n,e){Ro();var t=window.history;try{if(e){var a=qr({},t.state);a.key=qo(),t.replaceState(a,"",n)}else t.pushState({key:Lo(Po())},"",n)}catch(t){window.location[e?"replace":"assign"](n)}}function Qo(n){Ko(n,!0)}function Wo(n,e,t){var a=function(r){r>=n.length?t():n[r]?e(n[r],(function(){a(r+1)})):a(r+1)};a(0)}var Go={redirected:2,aborted:4,cancelled:8,duplicated:16};function Xo(n,e){return ni(n,e,Go.redirected,'Redirected when going from "'+n.fullPath+'" to "'+function(n){if("string"==typeof n)return n;if("path"in n)return n.path;var e={};return ei.forEach((function(t){t in n&&(e[t]=n[t])})),JSON.stringify(e,null,2)}(e)+'" via a navigation guard.')}function Yo(n,e){return ni(n,e,Go.cancelled,'Navigation cancelled from "'+n.fullPath+'" to "'+e.fullPath+'" with a new navigation.')}function ni(n,e,t,a){var r=new Error(a);return r._isRouter=!0,r.from=n,r.to=e,r.type=t,r}var ei=["params","query","hash"];function ti(n){return Object.prototype.toString.call(n).indexOf("Error")>-1}function ai(n,e){return ti(n)&&n._isRouter&&(null==e||n.type===e)}function ri(n){return function(e,t,a){var r=!1,o=0,i=null;oi(n,(function(n,e,t,s){if("function"==typeof n&&void 0===n.cid){r=!0,o++;var l,c=li((function(e){var r;((r=e).__esModule||si&&"Module"===r[Symbol.toStringTag])&&(e=e.default),n.resolved="function"==typeof e?e:wo.extend(e),t.components[s]=e,--o<=0&&a()})),d=li((function(n){var e="Failed to resolve async component "+s+": "+n;i||(i=ti(n)?n:new Error(e),a(i))}));try{l=n(c,d)}catch(n){d(n)}if(l)if("function"==typeof l.then)l.then(c,d);else{var p=l.component;p&&"function"==typeof p.then&&p.then(c,d)}}})),r||a()}}function oi(n,e){return ii(n.map((function(n){return Object.keys(n.components).map((function(t){return e(n.components[t],n.instances[t],n,t)}))})))}function ii(n){return Array.prototype.concat.apply([],n)}var si="function"==typeof Symbol&&"symbol"==typeof Symbol.toStringTag;function li(n){var e=!1;return function(){for(var t=[],a=arguments.length;a--;)t[a]=arguments[a];if(!e)return e=!0,n.apply(this,t)}}var ci=function(n,e){this.router=n,this.base=function(n){if(!n)if(_o){var e=document.querySelector("base");n=(n=e&&e.getAttribute("href")||"/").replace(/^https?:\/\/[^\/]+/,"")}else n="/";"/"!==n.charAt(0)&&(n="/"+n);return n.replace(/\/$/,"")}(e),this.current=Zr,this.pending=null,this.ready=!1,this.readyCbs=[],this.readyErrorCbs=[],this.errorCbs=[],this.listeners=[]};function di(n,e,t,a){var r=oi(n,(function(n,a,r,o){var i=function(n,e){"function"!=typeof n&&(n=wo.extend(n));return n.options[e]}(n,e);if(i)return Array.isArray(i)?i.map((function(n){return t(n,a,r,o)})):t(i,a,r,o)}));return ii(a?r.reverse():r)}function pi(n,e){if(e)return function(){return n.apply(e,arguments)}}ci.prototype.listen=function(n){this.cb=n},ci.prototype.onReady=function(n,e){this.ready?n():(this.readyCbs.push(n),e&&this.readyErrorCbs.push(e))},ci.prototype.onError=function(n){this.errorCbs.push(n)},ci.prototype.transitionTo=function(n,e,t){var a,r=this;try{a=this.router.match(n,this.current)}catch(n){throw this.errorCbs.forEach((function(e){e(n)})),n}var o=this.current;this.confirmTransition(a,(function(){r.updateRoute(a),e&&e(a),r.ensureURL(),r.router.afterHooks.forEach((function(n){n&&n(a,o)})),r.ready||(r.ready=!0,r.readyCbs.forEach((function(n){n(a)})))}),(function(n){t&&t(n),n&&!r.ready&&(ai(n,Go.redirected)&&o===Zr||(r.ready=!0,r.readyErrorCbs.forEach((function(e){e(n)}))))}))},ci.prototype.confirmTransition=function(n,e,t){var a=this,r=this.current;this.pending=n;var o,i,s=function(n){!ai(n)&&ti(n)&&(a.errorCbs.length?a.errorCbs.forEach((function(e){e(n)})):console.error(n)),t&&t(n)},l=n.matched.length-1,c=r.matched.length-1;if(Qr(n,r)&&l===c&&n.matched[l]===r.matched[c])return this.ensureURL(),n.hash&&Fo(this.router,r,n,!1),s(((i=ni(o=r,n,Go.duplicated,'Avoided redundant navigation to current location: "'+o.fullPath+'".')).name="NavigationDuplicated",i));var d=function(n,e){var t,a=Math.max(n.length,e.length);for(t=0;t<a&&n[t]===e[t];t++);return{updated:e.slice(0,t),activated:e.slice(t),deactivated:n.slice(t)}}(this.current.matched,n.matched),p=d.updated,u=d.deactivated,m=d.activated,g=[].concat(function(n){return di(n,"beforeRouteLeave",pi,!0)}(u),this.router.beforeHooks,function(n){return di(n,"beforeRouteUpdate",pi)}(p),m.map((function(n){return n.beforeEnter})),ri(m)),h=function(e,t){if(a.pending!==n)return s(Yo(r,n));try{e(n,r,(function(e){!1===e?(a.ensureURL(!0),s(function(n,e){return ni(n,e,Go.aborted,'Navigation aborted from "'+n.fullPath+'" to "'+e.fullPath+'" via a navigation guard.')}(r,n))):ti(e)?(a.ensureURL(!0),s(e)):"string"==typeof e||"object"==typeof e&&("string"==typeof e.path||"string"==typeof e.name)?(s(Xo(r,n)),"object"==typeof e&&e.replace?a.replace(e):a.push(e)):t(e)}))}catch(n){s(n)}};Wo(g,h,(function(){Wo(function(n){return di(n,"beforeRouteEnter",(function(n,e,t,a){return function(n,e,t){return function(a,r,o){return n(a,r,(function(n){"function"==typeof n&&(e.enteredCbs[t]||(e.enteredCbs[t]=[]),e.enteredCbs[t].push(n)),o(n)}))}}(n,t,a)}))}(m).concat(a.router.resolveHooks),h,(function(){if(a.pending!==n)return s(Yo(r,n));a.pending=null,e(n),a.router.app&&a.router.app.$nextTick((function(){Gr(n)}))}))}))},ci.prototype.updateRoute=function(n){this.current=n,this.cb&&this.cb(n)},ci.prototype.setupListeners=function(){},ci.prototype.teardown=function(){this.listeners.forEach((function(n){n()})),this.listeners=[],this.current=Zr,this.pending=null};var ui=function(n){function e(e,t){n.call(this,e,t),this._startLocation=mi(this.base)}return n&&(e.__proto__=n),e.prototype=Object.create(n&&n.prototype),e.prototype.constructor=e,e.prototype.setupListeners=function(){var n=this;if(!(this.listeners.length>0)){var e=this.router,t=e.options.scrollBehavior,a=Vo&&t;a&&this.listeners.push(Oo());var r=function(){var t=n.current,r=mi(n.base);n.current===Zr&&r===n._startLocation||n.transitionTo(r,(function(n){a&&Fo(e,n,t,!0)}))};window.addEventListener("popstate",r),this.listeners.push((function(){window.removeEventListener("popstate",r)}))}},e.prototype.go=function(n){window.history.go(n)},e.prototype.push=function(n,e,t){var a=this,r=this.current;this.transitionTo(n,(function(n){Ko(eo(a.base+n.fullPath)),Fo(a.router,n,r,!1),e&&e(n)}),t)},e.prototype.replace=function(n,e,t){var a=this,r=this.current;this.transitionTo(n,(function(n){Qo(eo(a.base+n.fullPath)),Fo(a.router,n,r,!1),e&&e(n)}),t)},e.prototype.ensureURL=function(n){if(mi(this.base)!==this.current.fullPath){var e=eo(this.base+this.current.fullPath);n?Ko(e):Qo(e)}},e.prototype.getCurrentLocation=function(){return mi(this.base)},e}(ci);function mi(n){var e=window.location.pathname,t=e.toLowerCase(),a=n.toLowerCase();return!n||t!==a&&0!==t.indexOf(eo(a+"/"))||(e=e.slice(n.length)),(e||"/")+window.location.search+window.location.hash}var gi=function(n){function e(e,t,a){n.call(this,e,t),a&&function(n){var e=mi(n);if(!/^\/#/.test(e))return window.location.replace(eo(n+"/#"+e)),!0}(this.base)||hi()}return n&&(e.__proto__=n),e.prototype=Object.create(n&&n.prototype),e.prototype.constructor=e,e.prototype.setupListeners=function(){var n=this;if(!(this.listeners.length>0)){var e=this.router.options.scrollBehavior,t=Vo&&e;t&&this.listeners.push(Oo());var a=function(){var e=n.current;hi()&&n.transitionTo(fi(),(function(a){t&&Fo(n.router,a,e,!0),Vo||yi(a.fullPath)}))},r=Vo?"popstate":"hashchange";window.addEventListener(r,a),this.listeners.push((function(){window.removeEventListener(r,a)}))}},e.prototype.push=function(n,e,t){var a=this,r=this.current;this.transitionTo(n,(function(n){bi(n.fullPath),Fo(a.router,n,r,!1),e&&e(n)}),t)},e.prototype.replace=function(n,e,t){var a=this,r=this.current;this.transitionTo(n,(function(n){yi(n.fullPath),Fo(a.router,n,r,!1),e&&e(n)}),t)},e.prototype.go=function(n){window.history.go(n)},e.prototype.ensureURL=function(n){var e=this.current.fullPath;fi()!==e&&(n?bi(e):yi(e))},e.prototype.getCurrentLocation=function(){return fi()},e}(ci);function hi(){var n=fi();return"/"===n.charAt(0)||(yi("/"+n),!1)}function fi(){var n=window.location.href,e=n.indexOf("#");return e<0?"":n=n.slice(e+1)}function vi(n){var e=window.location.href,t=e.indexOf("#");return(t>=0?e.slice(0,t):e)+"#"+n}function bi(n){Vo?Ko(vi(n)):window.location.hash=n}function yi(n){Vo?Qo(vi(n)):window.location.replace(vi(n))}var xi=function(n){function e(e,t){n.call(this,e,t),this.stack=[],this.index=-1}return n&&(e.__proto__=n),e.prototype=Object.create(n&&n.prototype),e.prototype.constructor=e,e.prototype.push=function(n,e,t){var a=this;this.transitionTo(n,(function(n){a.stack=a.stack.slice(0,a.index+1).concat(n),a.index++,e&&e(n)}),t)},e.prototype.replace=function(n,e,t){var a=this;this.transitionTo(n,(function(n){a.stack=a.stack.slice(0,a.index).concat(n),e&&e(n)}),t)},e.prototype.go=function(n){var e=this,t=this.index+n;if(!(t<0||t>=this.stack.length)){var a=this.stack[t];this.confirmTransition(a,(function(){var n=e.current;e.index=t,e.updateRoute(a),e.router.afterHooks.forEach((function(e){e&&e(a,n)}))}),(function(n){ai(n,Go.duplicated)&&(e.index=t)}))}},e.prototype.getCurrentLocation=function(){var n=this.stack[this.stack.length-1];return n?n.fullPath:"/"},e.prototype.ensureURL=function(){},e}(ci),ki=function(n){void 0===n&&(n={}),this.app=null,this.apps=[],this.options=n,this.beforeHooks=[],this.resolveHooks=[],this.afterHooks=[],this.matcher=zo(n.routes||[],this);var e=n.mode||"hash";switch(this.fallback="history"===e&&!Vo&&!1!==n.fallback,this.fallback&&(e="hash"),_o||(e="abstract"),this.mode=e,e){case"history":this.history=new ui(this,n.base);break;case"hash":this.history=new gi(this,n.base,this.fallback);break;case"abstract":this.history=new xi(this,n.base);break;default:0}},wi={currentRoute:{configurable:!0}};function Si(n,e){return n.push(e),function(){var t=n.indexOf(e);t>-1&&n.splice(t,1)}}ki.prototype.match=function(n,e,t){return this.matcher.match(n,e,t)},wi.currentRoute.get=function(){return this.history&&this.history.current},ki.prototype.init=function(n){var e=this;if(this.apps.push(n),n.$once("hook:destroyed",(function(){var t=e.apps.indexOf(n);t>-1&&e.apps.splice(t,1),e.app===n&&(e.app=e.apps[0]||null),e.app||e.history.teardown()})),!this.app){this.app=n;var t=this.history;if(t instanceof ui||t instanceof gi){var a=function(n){t.setupListeners(),function(n){var a=t.current,r=e.options.scrollBehavior;Vo&&r&&"fullPath"in n&&Fo(e,n,a,!1)}(n)};t.transitionTo(t.getCurrentLocation(),a,a)}t.listen((function(n){e.apps.forEach((function(e){e._route=n}))}))}},ki.prototype.beforeEach=function(n){return Si(this.beforeHooks,n)},ki.prototype.beforeResolve=function(n){return Si(this.resolveHooks,n)},ki.prototype.afterEach=function(n){return Si(this.afterHooks,n)},ki.prototype.onReady=function(n,e){this.history.onReady(n,e)},ki.prototype.onError=function(n){this.history.onError(n)},ki.prototype.push=function(n,e,t){var a=this;if(!e&&!t&&"undefined"!=typeof Promise)return new Promise((function(e,t){a.history.push(n,e,t)}));this.history.push(n,e,t)},ki.prototype.replace=function(n,e,t){var a=this;if(!e&&!t&&"undefined"!=typeof Promise)return new Promise((function(e,t){a.history.replace(n,e,t)}));this.history.replace(n,e,t)},ki.prototype.go=function(n){this.history.go(n)},ki.prototype.back=function(){this.go(-1)},ki.prototype.forward=function(){this.go(1)},ki.prototype.getMatchedComponents=function(n){var e=n?n.matched?n:this.resolve(n).route:this.currentRoute;return e?[].concat.apply([],e.matched.map((function(n){return Object.keys(n.components).map((function(e){return n.components[e]}))}))):[]},ki.prototype.resolve=function(n,e,t){var a=ko(n,e=e||this.history.current,t,this),r=this.match(a,e),o=r.redirectedFrom||r.fullPath;return{location:a,route:r,href:function(n,e,t){var a="hash"===t?"#"+e:e;return n?eo(n+"/"+a):a}(this.history.base,o,this.mode),normalizedTo:a,resolved:r}},ki.prototype.getRoutes=function(){return this.matcher.getRoutes()},ki.prototype.addRoute=function(n,e){this.matcher.addRoute(n,e),this.history.current!==Zr&&this.history.transitionTo(this.history.getCurrentLocation())},ki.prototype.addRoutes=function(n){this.matcher.addRoutes(n),this.history.current!==Zr&&this.history.transitionTo(this.history.getCurrentLocation())},Object.defineProperties(ki.prototype,wi),ki.install=function n(e){if(!n.installed||wo!==e){n.installed=!0,wo=e;var t=function(n){return void 0!==n},a=function(n,e){var a=n.$options._parentVnode;t(a)&&t(a=a.data)&&t(a=a.registerRouteInstance)&&a(n,e)};e.mixin({beforeCreate:function(){t(this.$options.router)?(this._routerRoot=this,this._router=this.$options.router,this._router.init(this),e.util.defineReactive(this,"_route",this._router.history.current)):this._routerRoot=this.$parent&&this.$parent._routerRoot||this,a(this,this)},destroyed:function(){a(this)}}),Object.defineProperty(e.prototype,"$router",{get:function(){return this._routerRoot._router}}),Object.defineProperty(e.prototype,"$route",{get:function(){return this._routerRoot._route}}),e.component("RouterView",Xr),e.component("RouterLink",Eo);var r=e.config.optionMergeStrategies;r.beforeRouteEnter=r.beforeRouteLeave=r.beforeRouteUpdate=r.created}},ki.version="3.5.3",ki.isNavigationFailure=ai,ki.NavigationFailureType=Go,ki.START_LOCATION=Zr,_o&&window.Vue&&window.Vue.use(ki);var Ei=ki;t(181),t(182),t(258),t(76),t(183),t(22),t(23),t(260);function Ti(n){n.locales&&Object.keys(n.locales).forEach((function(e){n.locales[e].path=e})),Object.freeze(n)}t(71),t(93),t(127);function _i(n){return(_i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(n){return typeof n}:function(n){return n&&"function"==typeof Symbol&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n})(n)}var Ii=t(73),ji=(t(192),t(16),t(39),t(233),t(234),t(41),t(26),{NotFound:function(){return Promise.all([t.e(0),t.e(8)]).then(t.bind(null,504))},Layout:function(){return Promise.all([t.e(0),t.e(3),t.e(2)]).then(t.bind(null,503))}}),zi={"v-28a7b348":function(){return t.e(10).then(t.bind(null,508))},"v-7ab55fd6":function(){return t.e(12).then(t.bind(null,509))},"v-e58ada02":function(){return t.e(11).then(t.bind(null,510))},"v-89816e08":function(){return t.e(9).then(t.bind(null,511))},"v-16106010":function(){return t.e(13).then(t.bind(null,512))},"v-159f3ccd":function(){return t.e(14).then(t.bind(null,513))},"v-2f6093d7":function(){return t.e(15).then(t.bind(null,514))},"v-c36f6bfc":function(){return t.e(17).then(t.bind(null,515))},"v-11649cf0":function(){return t.e(18).then(t.bind(null,516))},"v-5bd2c1fd":function(){return t.e(20).then(t.bind(null,517))},"v-6441954f":function(){return t.e(16).then(t.bind(null,518))},"v-2e467b68":function(){return t.e(21).then(t.bind(null,519))},"v-a61f04aa":function(){return t.e(19).then(t.bind(null,520))},"v-1c0c6895":function(){return t.e(25).then(t.bind(null,521))},"v-320a16ea":function(){return t.e(22).then(t.bind(null,522))},"v-644b5bf5":function(){return t.e(26).then(t.bind(null,523))},"v-6e67de15":function(){return t.e(27).then(t.bind(null,524))},"v-055ee976":function(){return t.e(24).then(t.bind(null,525))},"v-6ddb2230":function(){return t.e(23).then(t.bind(null,526))},"v-d520fc7e":function(){return t.e(29).then(t.bind(null,527))},"v-0c3da0ac":function(){return t.e(28).then(t.bind(null,528))},"v-60cd2f2a":function(){return t.e(30).then(t.bind(null,529))},"v-2c5e7662":function(){return t.e(31).then(t.bind(null,530))},"v-7c2eb23b":function(){return t.e(32).then(t.bind(null,531))},"v-5cb205ae":function(){return t.e(33).then(t.bind(null,532))},"v-3aba634a":function(){return t.e(34).then(t.bind(null,533))},"v-3ce17358":function(){return t.e(35).then(t.bind(null,534))},"v-2751208f":function(){return t.e(36).then(t.bind(null,535))},"v-0f768c01":function(){return t.e(37).then(t.bind(null,536))},"v-a103715e":function(){return t.e(39).then(t.bind(null,537))},"v-2e5129d9":function(){return t.e(38).then(t.bind(null,538))},"v-64afecb3":function(){return t.e(40).then(t.bind(null,539))},"v-97656b46":function(){return t.e(42).then(t.bind(null,540))},"v-128ad24a":function(){return t.e(43).then(t.bind(null,541))},"v-7e57676a":function(){return t.e(41).then(t.bind(null,542))},"v-c9e2e0d2":function(){return t.e(45).then(t.bind(null,543))},"v-68e1016a":function(){return t.e(44).then(t.bind(null,544))},"v-3e34a8f6":function(){return t.e(46).then(t.bind(null,545))},"v-0b21a7f6":function(){return t.e(48).then(t.bind(null,546))},"v-bb4076c0":function(){return t.e(49).then(t.bind(null,547))},"v-e39cdcd2":function(){return t.e(47).then(t.bind(null,548))},"v-fbf30870":function(){return t.e(50).then(t.bind(null,549))},"v-332cf74c":function(){return t.e(51).then(t.bind(null,550))},"v-56d6aafb":function(){return t.e(52).then(t.bind(null,551))},"v-5e457954":function(){return t.e(53).then(t.bind(null,552))},"v-060fb40c":function(){return t.e(54).then(t.bind(null,553))},"v-c91d0ee8":function(){return t.e(55).then(t.bind(null,554))},"v-6cbdabde":function(){return t.e(56).then(t.bind(null,555))},"v-1b1a2fda":function(){return t.e(58).then(t.bind(null,556))},"v-6d96d148":function(){return t.e(57).then(t.bind(null,557))},"v-49d4e880":function(){return t.e(59).then(t.bind(null,558))},"v-58b13ad2":function(){return t.e(61).then(t.bind(null,559))},"v-4574a8d8":function(){return t.e(60).then(t.bind(null,560))},"v-42fdff6b":function(){return t.e(62).then(t.bind(null,561))},"v-3191e504":function(){return t.e(63).then(t.bind(null,562))},"v-471ff6aa":function(){return t.e(64).then(t.bind(null,563))},"v-7d9a1627":function(){return t.e(65).then(t.bind(null,564))},"v-d7039bcc":function(){return t.e(67).then(t.bind(null,565))},"v-a07ea332":function(){return t.e(66).then(t.bind(null,566))},"v-66e73294":function(){return t.e(68).then(t.bind(null,567))},"v-2474d88f":function(){return t.e(69).then(t.bind(null,568))},"v-951a5208":function(){return t.e(70).then(t.bind(null,569))},"v-ca23bd78":function(){return t.e(71).then(t.bind(null,570))},"v-d8c50dce":function(){return t.e(73).then(t.bind(null,571))},"v-32a3ec34":function(){return t.e(75).then(t.bind(null,572))},"v-49a02e0f":function(){return t.e(74).then(t.bind(null,573))},"v-c93d1656":function(){return t.e(76).then(t.bind(null,574))},"v-bc7f093e":function(){return t.e(77).then(t.bind(null,575))},"v-6d95328a":function(){return t.e(79).then(t.bind(null,576))},"v-1a9db526":function(){return t.e(80).then(t.bind(null,577))},"v-06fb6608":function(){return t.e(81).then(t.bind(null,578))},"v-4f1cfdc2":function(){return t.e(78).then(t.bind(null,579))},"v-631835ec":function(){return t.e(82).then(t.bind(null,580))},"v-5ef65d74":function(){return t.e(72).then(t.bind(null,581))},"v-d2053d44":function(){return t.e(84).then(t.bind(null,582))},"v-3ec3ce6e":function(){return t.e(87).then(t.bind(null,583))},"v-6cdcad60":function(){return t.e(83).then(t.bind(null,584))},"v-9df1bfda":function(){return t.e(88).then(t.bind(null,585))},"v-e78fc5d0":function(){return t.e(86).then(t.bind(null,586))},"v-5aca27e4":function(){return t.e(85).then(t.bind(null,587))},"v-1f373500":function(){return t.e(89).then(t.bind(null,588))},"v-625e23c3":function(){return t.e(90).then(t.bind(null,589))},"v-7189a78a":function(){return t.e(92).then(t.bind(null,590))},"v-5945b915":function(){return t.e(91).then(t.bind(null,591))},"v-71d4b5e7":function(){return t.e(93).then(t.bind(null,592))},"v-78697e58":function(){return t.e(94).then(t.bind(null,593))},"v-5d5bf6b5":function(){return t.e(96).then(t.bind(null,594))},"v-7d483deb":function(){return t.e(97).then(t.bind(null,595))},"v-4e5c8b8d":function(){return t.e(95).then(t.bind(null,596))},"v-38d33902":function(){return t.e(99).then(t.bind(null,597))},"v-45335061":function(){return t.e(98).then(t.bind(null,598))},"v-2f94f67c":function(){return t.e(101).then(t.bind(null,599))},"v-35580351":function(){return t.e(102).then(t.bind(null,600))},"v-4fd19c04":function(){return t.e(103).then(t.bind(null,601))},"v-61452fab":function(){return t.e(104).then(t.bind(null,602))},"v-44cc2c9e":function(){return t.e(100).then(t.bind(null,603))},"v-83d6ea7a":function(){return t.e(106).then(t.bind(null,604))},"v-1bb60fa3":function(){return t.e(107).then(t.bind(null,605))},"v-3336a5d0":function(){return t.e(108).then(t.bind(null,606))},"v-36833f0c":function(){return t.e(109).then(t.bind(null,607))},"v-4a502c6c":function(){return t.e(105).then(t.bind(null,608))},"v-33880d43":function(){return t.e(111).then(t.bind(null,609))},"v-3495bce5":function(){return t.e(110).then(t.bind(null,610))},"v-25108381":function(){return t.e(113).then(t.bind(null,611))},"v-241961c2":function(){return t.e(114).then(t.bind(null,612))},"v-58c7430c":function(){return t.e(112).then(t.bind(null,613))},"v-88879b54":function(){return t.e(115).then(t.bind(null,614))},"v-96b98cee":function(){return t.e(117).then(t.bind(null,615))},"v-3d06de88":function(){return t.e(116).then(t.bind(null,616))},"v-05bbaf37":function(){return t.e(119).then(t.bind(null,617))},"v-97dc2282":function(){return t.e(118).then(t.bind(null,618))},"v-74f764f4":function(){return t.e(120).then(t.bind(null,619))},"v-54b65e0e":function(){return t.e(122).then(t.bind(null,620))},"v-3769da1c":function(){return t.e(121).then(t.bind(null,621))},"v-6611a25e":function(){return t.e(123).then(t.bind(null,622))},"v-642b486a":function(){return t.e(127).then(t.bind(null,623))},"v-29319666":function(){return t.e(124).then(t.bind(null,624))},"v-ea37ced6":function(){return t.e(126).then(t.bind(null,625))},"v-068038d1":function(){return t.e(128).then(t.bind(null,626))},"v-24b2db86":function(){return t.e(131).then(t.bind(null,627))},"v-0c6ac868":function(){return t.e(125).then(t.bind(null,628))},"v-3c977991":function(){return t.e(130).then(t.bind(null,629))},"v-5d9b9aeb":function(){return t.e(132).then(t.bind(null,630))},"v-7703b171":function(){return t.e(129).then(t.bind(null,631))},"v-7a01132d":function(){return t.e(136).then(t.bind(null,632))},"v-47db4091":function(){return t.e(133).then(t.bind(null,633))},"v-60e0d3b1":function(){return t.e(137).then(t.bind(null,634))},"v-6a96a0b1":function(){return t.e(139).then(t.bind(null,635))},"v-33e328d1":function(){return t.e(134).then(t.bind(null,636))},"v-257128de":function(){return t.e(135).then(t.bind(null,637))},"v-2bbcab5e":function(){return t.e(138).then(t.bind(null,638))},"v-73c846de":function(){return t.e(140).then(t.bind(null,639))},"v-e1af82de":function(){return t.e(141).then(t.bind(null,640))},"v-1bb1ec60":function(){return t.e(144).then(t.bind(null,641))},"v-61c16c55":function(){return t.e(142).then(t.bind(null,642))},"v-7d022df1":function(){return t.e(145).then(t.bind(null,643))},"v-14c62766":function(){return t.e(143).then(t.bind(null,644))},"v-758de2ee":function(){return t.e(147).then(t.bind(null,645))},"v-43b009de":function(){return t.e(146).then(t.bind(null,646))},"v-16cba74e":function(){return t.e(148).then(t.bind(null,647))},"v-37078826":function(){return t.e(150).then(t.bind(null,648))},"v-0f5ad0f4":function(){return t.e(151).then(t.bind(null,649))},"v-3859f86a":function(){return t.e(149).then(t.bind(null,650))},"v-01a7b822":function(){return t.e(153).then(t.bind(null,651))},"v-22d9c6ec":function(){return t.e(152).then(t.bind(null,652))},"v-766b181e":function(){return t.e(154).then(t.bind(null,653))},"v-bf6ac024":function(){return t.e(155).then(t.bind(null,654))},"v-44752817":function(){return t.e(158).then(t.bind(null,655))},"v-06144067":function(){return t.e(156).then(t.bind(null,656))},"v-424bdfb7":function(){return t.e(159).then(t.bind(null,657))},"v-73daf8d7":function(){return t.e(160).then(t.bind(null,658))},"v-a6e0fd06":function(){return t.e(161).then(t.bind(null,659))},"v-3d56846d":function(){return t.e(157).then(t.bind(null,660))},"v-3072118a":function(){return t.e(164).then(t.bind(null,661))},"v-31cc3bd2":function(){return t.e(163).then(t.bind(null,662))},"v-b2a04030":function(){return t.e(162).then(t.bind(null,663))},"v-3a8393e0":function(){return t.e(165).then(t.bind(null,664))},"v-4e1ae1c0":function(){return t.e(166).then(t.bind(null,665))},"v-3049bd10":function(){return t.e(168).then(t.bind(null,666))},"v-2b35c500":function(){return t.e(167).then(t.bind(null,667))},"v-64db6885":function(){return t.e(170).then(t.bind(null,668))},"v-16aed12b":function(){return t.e(171).then(t.bind(null,669))},"v-6265be4e":function(){return t.e(169).then(t.bind(null,670))},"v-d9c864d4":function(){return t.e(174).then(t.bind(null,671))},"v-95af4b10":function(){return t.e(173).then(t.bind(null,672))},"v-168103c0":function(){return t.e(172).then(t.bind(null,673))},"v-6dca1220":function(){return t.e(176).then(t.bind(null,674))},"v-36a8fca6":function(){return t.e(177).then(t.bind(null,675))},"v-341ec21e":function(){return t.e(175).then(t.bind(null,676))},"v-1cd8dcd0":function(){return t.e(178).then(t.bind(null,677))},"v-c42b5e22":function(){return t.e(180).then(t.bind(null,678))},"v-b10c11a2":function(){return t.e(181).then(t.bind(null,679))},"v-3a75541f":function(){return t.e(179).then(t.bind(null,680))},"v-47095aee":function(){return t.e(183).then(t.bind(null,681))},"v-309ca6de":function(){return t.e(182).then(t.bind(null,682))},"v-702958dc":function(){return t.e(188).then(t.bind(null,683))},"v-16a2d958":function(){return t.e(186).then(t.bind(null,684))},"v-9c066f90":function(){return t.e(189).then(t.bind(null,685))},"v-0680b9de":function(){return t.e(185).then(t.bind(null,686))},"v-410d528c":function(){return t.e(187).then(t.bind(null,687))},"v-1003aec2":function(){return t.e(184).then(t.bind(null,688))},"v-75630836":function(){return t.e(192).then(t.bind(null,689))},"v-8b08f0b2":function(){return t.e(190).then(t.bind(null,690))},"v-aa36ff9c":function(){return t.e(194).then(t.bind(null,691))},"v-51da2d27":function(){return t.e(191).then(t.bind(null,692))},"v-55473949":function(){return t.e(193).then(t.bind(null,693))},"v-7b8967f0":function(){return t.e(196).then(t.bind(null,694))},"v-f2fe618e":function(){return t.e(195).then(t.bind(null,695))},"v-47dc7e48":function(){return t.e(197).then(t.bind(null,696))},"v-38a8ef5e":function(){return t.e(200).then(t.bind(null,697))},"v-4601280a":function(){return t.e(199).then(t.bind(null,698))},"v-457b85c0":function(){return t.e(201).then(t.bind(null,699))},"v-ceac6f68":function(){return t.e(198).then(t.bind(null,700))},"v-43b7262a":function(){return t.e(202).then(t.bind(null,701))},"v-314e9546":function(){return t.e(203).then(t.bind(null,702))},"v-2e61c2f3":function(){return t.e(205).then(t.bind(null,703))},"v-05d97d43":function(){return t.e(206).then(t.bind(null,704))},"v-54d2601a":function(){return t.e(204).then(t.bind(null,705))},"v-36fd303c":function(){return t.e(209).then(t.bind(null,706))},"v-74d7ff21":function(){return t.e(208).then(t.bind(null,707))},"v-635d2d7a":function(){return t.e(210).then(t.bind(null,708))},"v-1bd5106a":function(){return t.e(207).then(t.bind(null,709))},"v-534da396":function(){return t.e(213).then(t.bind(null,710))},"v-87e6b8fc":function(){return t.e(211).then(t.bind(null,711))},"v-07ac2091":function(){return t.e(212).then(t.bind(null,712))},"v-0c44b074":function(){return t.e(216).then(t.bind(null,713))},"v-50b2e256":function(){return t.e(214).then(t.bind(null,714))},"v-947b9e0a":function(){return t.e(215).then(t.bind(null,715))},"v-6f5fde1c":function(){return t.e(218).then(t.bind(null,716))},"v-41675d98":function(){return t.e(217).then(t.bind(null,717))},"v-f624614c":function(){return t.e(219).then(t.bind(null,718))},"v-3cd48312":function(){return t.e(220).then(t.bind(null,719))},"v-2075c59e":function(){return t.e(222).then(t.bind(null,720))},"v-9421b7d2":function(){return t.e(223).then(t.bind(null,721))},"v-88a93a4e":function(){return t.e(221).then(t.bind(null,722))},"v-c0ebeed8":function(){return t.e(225).then(t.bind(null,723))},"v-689f8518":function(){return t.e(224).then(t.bind(null,724))},"v-94fc8dd8":function(){return t.e(227).then(t.bind(null,725))},"v-30e5d4a2":function(){return t.e(226).then(t.bind(null,726))},"v-4a91f9f8":function(){return t.e(229).then(t.bind(null,727))},"v-5c159d57":function(){return t.e(232).then(t.bind(null,728))},"v-6748a4dc":function(){return t.e(230).then(t.bind(null,729))},"v-16076614":function(){return t.e(231).then(t.bind(null,730))},"v-3e534332":function(){return t.e(228).then(t.bind(null,731))},"v-56a1eebf":function(){return t.e(233).then(t.bind(null,732))},"v-6c324d6f":function(){return t.e(234).then(t.bind(null,733))},"v-c631dd4e":function(){return t.e(235).then(t.bind(null,734))},"v-9c664796":function(){return t.e(239).then(t.bind(null,735))},"v-3b8fa256":function(){return t.e(236).then(t.bind(null,736))},"v-ef3e7878":function(){return t.e(237).then(t.bind(null,737))},"v-91bab1e0":function(){return t.e(241).then(t.bind(null,738))},"v-9c36cd5e":function(){return t.e(240).then(t.bind(null,739))},"v-0cd4d5ee":function(){return t.e(242).then(t.bind(null,740))},"v-4672ef15":function(){return t.e(238).then(t.bind(null,741))},"v-00dc2e8f":function(){return t.e(243).then(t.bind(null,742))},"v-724628f5":function(){return t.e(244).then(t.bind(null,743))},"v-1c17faff":function(){return t.e(245).then(t.bind(null,744))},"v-7f22fd75":function(){return t.e(247).then(t.bind(null,745))},"v-2e69f406":function(){return t.e(248).then(t.bind(null,746))},"v-5c5d9838":function(){return t.e(250).then(t.bind(null,747))},"v-f87607aa":function(){return t.e(251).then(t.bind(null,748))},"v-6594ad68":function(){return t.e(249).then(t.bind(null,749))},"v-4b94238d":function(){return t.e(246).then(t.bind(null,750))},"v-369ccb08":function(){return t.e(252).then(t.bind(null,751))},"v-72b26eaf":function(){return t.e(256).then(t.bind(null,752))},"v-98591bee":function(){return t.e(253).then(t.bind(null,753))},"v-c1183f22":function(){return t.e(255).then(t.bind(null,754))},"v-b7e4068e":function(){return t.e(258).then(t.bind(null,755))},"v-051079fa":function(){return t.e(254).then(t.bind(null,756))},"v-00667d92":function(){return t.e(257).then(t.bind(null,757))},"v-752ff4e6":function(){return t.e(260).then(t.bind(null,758))},"v-79c818bb":function(){return t.e(259).then(t.bind(null,759))},"v-3874a2bf":function(){return t.e(261).then(t.bind(null,760))},"v-7688bc37":function(){return t.e(262).then(t.bind(null,761))},"v-132275ff":function(){return t.e(263).then(t.bind(null,762))},"v-37a0dd10":function(){return t.e(265).then(t.bind(null,763))},"v-7abe8cca":function(){return t.e(266).then(t.bind(null,764))},"v-a20663ee":function(){return t.e(267).then(t.bind(null,765))},"v-17274f0b":function(){return t.e(264).then(t.bind(null,766))},"v-a7b2b846":function(){return t.e(268).then(t.bind(null,767))},"v-07e506ef":function(){return t.e(270).then(t.bind(null,768))},"v-7aff2c77":function(){return t.e(269).then(t.bind(null,769))},"v-9ed6a6cc":function(){return t.e(272).then(t.bind(null,770))},"v-55b2d0b0":function(){return t.e(273).then(t.bind(null,771))},"v-73eab2aa":function(){return t.e(274).then(t.bind(null,772))},"v-6e080d03":function(){return t.e(271).then(t.bind(null,773))},"v-1391410f":function(){return t.e(277).then(t.bind(null,774))},"v-210176a7":function(){return t.e(275).then(t.bind(null,775))},"v-598b6c9d":function(){return t.e(276).then(t.bind(null,776))},"v-8c34a962":function(){return t.e(278).then(t.bind(null,777))},"v-4254887a":function(){return t.e(279).then(t.bind(null,778))},"v-43f57a12":function(){return t.e(280).then(t.bind(null,779))},"v-3f9e4bb2":function(){return t.e(282).then(t.bind(null,780))},"v-3cd13c66":function(){return t.e(281).then(t.bind(null,781))},"v-1e6e69af":function(){return t.e(283).then(t.bind(null,782))},"v-6a373828":function(){return t.e(284).then(t.bind(null,783))},"v-64817218":function(){return t.e(287).then(t.bind(null,784))},"v-55a5d0e4":function(){return t.e(288).then(t.bind(null,785))},"v-266c9e22":function(){return t.e(286).then(t.bind(null,786))},"v-3c82fd62":function(){return t.e(290).then(t.bind(null,787))},"v-c86974ba":function(){return t.e(285).then(t.bind(null,788))},"v-3f1fc75e":function(){return t.e(289).then(t.bind(null,789))},"v-c73f1002":function(){return t.e(292).then(t.bind(null,790))},"v-d5889de6":function(){return t.e(291).then(t.bind(null,791))},"v-13acc28d":function(){return t.e(294).then(t.bind(null,792))},"v-41cba2f2":function(){return t.e(293).then(t.bind(null,793))},"v-283892a2":function(){return t.e(295).then(t.bind(null,794))},"v-5a8af3d8":function(){return t.e(297).then(t.bind(null,795))},"v-2117d120":function(){return t.e(296).then(t.bind(null,796))},"v-d5c2e428":function(){return t.e(299).then(t.bind(null,797))},"v-6a5e0750":function(){return t.e(300).then(t.bind(null,798))},"v-762d1d8f":function(){return t.e(302).then(t.bind(null,799))},"v-a108e506":function(){return t.e(303).then(t.bind(null,800))},"v-fc416092":function(){return t.e(301).then(t.bind(null,801))},"v-dbe517a8":function(){return t.e(298).then(t.bind(null,802))},"v-52219ca2":function(){return t.e(304).then(t.bind(null,803))},"v-12efaf51":function(){return t.e(305).then(t.bind(null,804))}};function Ci(n){var e=Object.create(null);return function(t){return e[t]||(e[t]=n(t))}}var Ai=/-(\w)/g,Pi=Ci((function(n){return n.replace(Ai,(function(n,e){return e?e.toUpperCase():""}))})),Di=/\B([A-Z])/g,qi=Ci((function(n){return n.replace(Di,"-$1").toLowerCase()})),Li=Ci((function(n){return n.charAt(0).toUpperCase()+n.slice(1)}));function Bi(n,e){if(e)return n(e)?n(e):e.includes("-")?n(Li(Pi(e))):n(Li(e))||n(qi(e))}var Oi=Object.assign({},ji,zi),Fi=function(n){return Oi[n]},Ri=function(n){return zi[n]},Mi=function(n){return ji[n]},Hi=function(n){return Dr.component(n)};function Ni(n){return Bi(Ri,n)}function Ui(n){return Bi(Mi,n)}function Ji(n){return Bi(Fi,n)}function $i(n){return Bi(Hi,n)}function Zi(){for(var n=arguments.length,e=new Array(n),t=0;t<n;t++)e[t]=arguments[t];return Promise.all(e.filter((function(n){return n})).map(function(){var n=Object(a.a)(regeneratorRuntime.mark((function n(e){var t;return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if($i(e)||!Ji(e)){n.next=5;break}return n.next=3,Ji(e)();case 3:t=n.sent,Dr.component(e,t.default);case 5:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}()))}function Vi(n,e){"undefined"!=typeof window&&window.__VUEPRESS__&&(window.__VUEPRESS__[n]=e)}var Ki=t(140),Qi=(t(129),t(112),t(54),t(221)),Wi=t.n(Qi),Gi=t(222),Xi=t.n(Gi),Yi={created:function(){if(this.siteMeta=this.$site.headTags.filter((function(n){return"meta"===Object(Ki.a)(n,1)[0]})).map((function(n){var e=Object(Ki.a)(n,2);e[0];return e[1]})),this.$ssrContext){var n=this.getMergedMetaTags();this.$ssrContext.title=this.$title,this.$ssrContext.lang=this.$lang,this.$ssrContext.pageMeta=(e=n)?e.map((function(n){var e="<meta";return Object.keys(n).forEach((function(t){e+=" ".concat(t,'="').concat(Xi()(n[t]),'"')})),e+">"})).join("\n    "):"",this.$ssrContext.canonicalLink=es(this.$canonicalUrl)}var e},mounted:function(){this.currentMetaTags=Object(Ii.a)(document.querySelectorAll("meta")),this.updateMeta(),this.updateCanonicalLink()},methods:{updateMeta:function(){document.title=this.$title,document.documentElement.lang=this.$lang;var n=this.getMergedMetaTags();this.currentMetaTags=ts(n,this.currentMetaTags)},getMergedMetaTags:function(){var n=this.$page.frontmatter.meta||[];return Wi()([{name:"description",content:this.$description}],n,this.siteMeta,as)},updateCanonicalLink:function(){ns(),this.$canonicalUrl&&document.head.insertAdjacentHTML("beforeend",es(this.$canonicalUrl))}},watch:{$page:function(){this.updateMeta(),this.updateCanonicalLink()}},beforeDestroy:function(){ts(null,this.currentMetaTags),ns()}};function ns(){var n=document.querySelector("link[rel='canonical']");n&&n.remove()}function es(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return n?'<link href="'.concat(n,'" rel="canonical" />'):""}function ts(n,e){if(e&&Object(Ii.a)(e).filter((function(n){return n.parentNode===document.head})).forEach((function(n){return document.head.removeChild(n)})),n)return n.map((function(n){var e=document.createElement("meta");return Object.keys(n).forEach((function(t){e.setAttribute(t,n[t])})),document.head.appendChild(e),e}))}function as(n){for(var e=0,t=["name","property","itemprop"];e<t.length;e++){var a=t[e];if(n.hasOwnProperty(a))return n[a]+a}return JSON.stringify(n)}t(142);var rs=t(158),os={mounted:function(){window.addEventListener("scroll",this.onScroll)},methods:{onScroll:t.n(rs)()((function(){this.setActiveHash()}),300),setActiveHash:function(){for(var n=this,e=[].slice.call(document.querySelectorAll(".sidebar-link")),t=[].slice.call(document.querySelectorAll(".header-anchor")).filter((function(n){return e.some((function(e){return e.hash===n.hash}))})),a=Math.max(window.pageYOffset,document.documentElement.scrollTop,document.body.scrollTop),r=Math.max(document.documentElement.scrollHeight,document.body.scrollHeight),o=window.innerHeight+a,i=0;i<t.length;i++){var s=t[i],l=t[i+1],c=0===i&&0===a||a>=s.parentElement.offsetTop+10&&(!l||a<l.parentElement.offsetTop-10),d=decodeURIComponent(this.$route.hash);if(c&&d!==decodeURIComponent(s.hash)){var p=s;if(o===r)for(var u=i+1;u<t.length;u++)if(d===decodeURIComponent(t[u].hash))return;return this.$vuepress.$set("disableScrollBehavior",!0),void this.$router.replace(decodeURIComponent(p.hash),(function(){n.$nextTick((function(){n.$vuepress.$set("disableScrollBehavior",!1)}))}))}}}},beforeDestroy:function(){window.removeEventListener("scroll",this.onScroll)}},is=(t(61),t(102)),ss=t.n(is),ls={mounted:function(){var n=this;ss.a.configure({showSpinner:!1}),this.$router.beforeEach((function(n,e,t){n.path===e.path||Dr.component(n.name)||ss.a.start(),t()})),this.$router.afterEach((function(){ss.a.done(),n.isSidebarOpen=!1}))}};t(77),t(43),t(79),t(367);function cs(n,e){if(!(n instanceof e))throw new TypeError("Cannot call a class as a function")}t(100);function ds(n,e){for(var t=0;t<e.length;t++){var a=e[t];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(n,a.key,a)}}function ps(n,e,t){return e&&ds(n.prototype,e),t&&ds(n,t),Object.defineProperty(n,"prototype",{writable:!1}),n}t(368);var us=function(){function n(){cs(this,n);this.containerEl=document.getElementById("message-container"),this.containerEl||(this.containerEl=document.createElement("div"),this.containerEl.id="message-container",document.body.appendChild(this.containerEl))}return ps(n,[{key:"show",value:function(n){var e=this,t=n.text,a=void 0===t?"":t,r=n.duration,o=void 0===r?3e3:r,i=document.createElement("div");i.className="message move-in",i.innerHTML='\n      <i style="fill: #06a35a;font-size: 14px;display:inline-flex;align-items: center;">\n        <svg style="fill: #06a35a;font-size: 14px;" t="1572421810237" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="2323" width="16" height="16"><path d="M822.811993 824.617989c-83.075838 81.99224-188.546032 124.613757-316.049383 127.86455-122.085362-3.250794-223.943563-45.87231-305.935802-127.86455s-124.613757-184.21164-127.86455-305.935802c3.250794-127.503351 45.87231-232.973545 127.86455-316.049383 81.99224-83.075838 184.21164-126.058554 305.935802-129.309347 127.503351 3.250794 232.973545 46.23351 316.049383 129.309347 83.075838 83.075838 126.058554 188.546032 129.309347 316.049383C949.231746 640.406349 905.887831 742.62575 822.811993 824.617989zM432.716755 684.111464c3.973192 3.973192 8.307584 5.779189 13.364374 6.140388 5.05679 0.361199 9.752381-1.444797 13.364374-5.417989l292.571429-287.514638c3.973192-3.973192 5.779189-8.307584 5.779189-13.364374 0-5.05679-1.805996-9.752381-5.779189-13.364374l1.805996 1.805996c-3.973192-3.973192-8.668783-5.779189-14.086772-6.140388-5.417989-0.361199-10.47478 1.444797-14.809171 5.417989l-264.397884 220.33157c-3.973192 3.250794-8.668783 4.695591-14.447972 4.695591-5.779189 0-10.835979-1.444797-15.53157-3.973192l-94.273016-72.962257c-4.334392-3.250794-9.391182-4.334392-14.447972-3.973192s-9.391182 3.250794-12.641975 7.585185l-2.889594 3.973192c-3.250794 4.334392-4.334392 9.391182-3.973192 14.809171 0.722399 5.417989 2.528395 10.11358 5.779189 14.086772L432.716755 684.111464z" p-id="2324"></path></svg>\n      </i>\n      <div class="text">'.concat(a,"</div>\n    "),this.containerEl.appendChild(i),o>0&&setTimeout((function(){e.close(i)}),o)}},{key:"close",value:function(n){n.className=n.className.replace("move-in",""),n.className+="move-out",n.addEventListener("animationend",(function(){n.remove()}))}}]),n}(),ms={mounted:function(){!!/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent)||this.updateCopy()},updated:function(){!!/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent)||this.updateCopy()},methods:{updateCopy:function(){var n=this;setTimeout((function(){(['div[class*="language-"] pre','div[class*="aside-code"] aside']instanceof Array||Array.isArray(['div[class*="language-"] pre','div[class*="aside-code"] aside']))&&['div[class*="language-"] pre','div[class*="aside-code"] aside'].forEach((function(e){document.querySelectorAll(e).forEach(n.generateCopyButton)}))}),1e3)},generateCopyButton:function(n){var e=this;if(!n.classList.contains("codecopy-enabled")){var t=document.createElement("i");t.className="code-copy",t.innerHTML='<svg  style="color:#aaa;font-size:14px" t="1572422231464" class="icon" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="3201" width="14" height="14"><path d="M866.461538 39.384615H354.461538c-43.323077 0-78.769231 35.446154-78.76923 78.769231v39.384616h472.615384c43.323077 0 78.769231 35.446154 78.769231 78.76923v551.384616h39.384615c43.323077 0 78.769231-35.446154 78.769231-78.769231V118.153846c0-43.323077-35.446154-78.769231-78.769231-78.769231z m-118.153846 275.692308c0-43.323077-35.446154-78.769231-78.76923-78.769231H157.538462c-43.323077 0-78.769231 35.446154-78.769231 78.769231v590.769231c0 43.323077 35.446154 78.769231 78.769231 78.769231h512c43.323077 0 78.769231-35.446154 78.76923-78.769231V315.076923z m-354.461538 137.846154c0 11.815385-7.876923 19.692308-19.692308 19.692308h-157.538461c-11.815385 0-19.692308-7.876923-19.692308-19.692308v-39.384615c0-11.815385 7.876923-19.692308 19.692308-19.692308h157.538461c11.815385 0 19.692308 7.876923 19.692308 19.692308v39.384615z m157.538461 315.076923c0 11.815385-7.876923 19.692308-19.692307 19.692308H216.615385c-11.815385 0-19.692308-7.876923-19.692308-19.692308v-39.384615c0-11.815385 7.876923-19.692308 19.692308-19.692308h315.076923c11.815385 0 19.692308 7.876923 19.692307 19.692308v39.384615z m78.769231-157.538462c0 11.815385-7.876923 19.692308-19.692308 19.692308H216.615385c-11.815385 0-19.692308-7.876923-19.692308-19.692308v-39.384615c0-11.815385 7.876923-19.692308 19.692308-19.692308h393.846153c11.815385 0 19.692308 7.876923 19.692308 19.692308v39.384615z" p-id="3202"></path></svg>',t.title="Copy to clipboard",t.addEventListener("click",(function(){e.copyToClipboard(n.innerText)})),n.appendChild(t),n.classList.add("codecopy-enabled")}},copyToClipboard:function(n){var e=document.createElement("textarea");e.value=n,e.setAttribute("readonly",""),e.style.position="absolute",e.style.left="-9999px",document.body.appendChild(e);var t=document.getSelection().rangeCount>0&&document.getSelection().getRangeAt(0);e.select(),document.execCommand("copy"),(new us).show({text:"å¤å¶æå",duration:1e3}),document.body.removeChild(e),t&&(document.getSelection().removeAllRanges(),document.getSelection().addRange(t))}}};t(236),t(104),t(75),t(147),t(370);!function(n,e){void 0===e&&(e={});var t=e.insertAt;if(n&&"undefined"!=typeof document){var a=document.head||document.getElementsByTagName("head")[0],r=document.createElement("style");r.type="text/css","top"===t&&a.firstChild?a.insertBefore(r,a.firstChild):a.appendChild(r),r.styleSheet?r.styleSheet.cssText=n:r.appendChild(document.createTextNode(n))}}("@media (max-width: 1000px) {\n  .vuepress-plugin-demo-block__h_code {\n    display: none;\n  }\n  .vuepress-plugin-demo-block__app {\n    margin-left: auto !important;\n    margin-right: auto !important;\n  }\n}\n.vuepress-plugin-demo-block__wrapper {\n  margin-top: 10px;\n  border: 1px solid #ebebeb;\n  border-radius: 4px;\n  transition: all 0.2s;\n}\n.vuepress-plugin-demo-block__wrapper.vuepress-plugin-demo-block__horizontal .vuepress-plugin-demo-block__display {\n  height: 400px;\n  display: flex;\n}\n.vuepress-plugin-demo-block__wrapper.vuepress-plugin-demo-block__horizontal .vuepress-plugin-demo-block__display .vuepress-plugin-demo-block__app {\n  width: 300px;\n  border: 1px solid #ebebeb;\n  box-shadow: 1px 1px 3px #ebebeb;\n  margin-right: 5px;\n  overflow: auto;\n}\n.vuepress-plugin-demo-block__wrapper.vuepress-plugin-demo-block__horizontal .vuepress-plugin-demo-block__display .vuepress-plugin-demo-block__h_code {\n  flex: 1;\n  overflow: auto;\n  height: 100%;\n}\n.vuepress-plugin-demo-block__wrapper.vuepress-plugin-demo-block__horizontal .vuepress-plugin-demo-block__display .vuepress-plugin-demo-block__h_code > pre {\n  overflow: visible;\n}\n.vuepress-plugin-demo-block__wrapper .vuepress-plugin-demo-block__display {\n  max-height: 400px;\n  overflow: auto;\n}\n.vuepress-plugin-demo-block__wrapper div {\n  box-sizing: border-box;\n}\n.vuepress-plugin-demo-block__wrapper:hover {\n  box-shadow: 0 0 11px rgba(33, 33, 33, 0.2);\n}\n.vuepress-plugin-demo-block__wrapper .vuepress-plugin-demo-block__code {\n  overflow: hidden;\n  height: 0;\n  padding: 0 !important;\n  background-color: #282c34;\n  border-radius: 0 !important;\n  transition: height 0.5s;\n}\n.vuepress-plugin-demo-block__wrapper .vuepress-plugin-demo-block__code pre {\n  margin: 0 !important;\n}\n.vuepress-plugin-demo-block__wrapper .vuepress-plugin-demo-block__display {\n  padding: 20px;\n  border-bottom: 1px solid #ebebeb;\n}\n.vuepress-plugin-demo-block__wrapper .vuepress-plugin-demo-block__footer {\n  position: relative;\n  text-align: center;\n}\n.vuepress-plugin-demo-block__wrapper .vuepress-plugin-demo-block__footer.vuepress-plugin-demo-block__show-link .vuepress-plugin-demo-block__jsfiddle,\n.vuepress-plugin-demo-block__wrapper .vuepress-plugin-demo-block__footer.vuepress-plugin-demo-block__show-link .vuepress-plugin-demo-block__codepen {\n  opacity: 1;\n}\n.vuepress-plugin-demo-block__wrapper .vuepress-plugin-demo-block__footer.vuepress-plugin-demo-block__show-link .vuepress-plugin-demo-block__expand::before {\n  border-top: none;\n  border-right: 6px solid transparent;\n  border-bottom: 6px solid #ccc;\n  border-left: 6px solid transparent;\n}\n.vuepress-plugin-demo-block__wrapper .vuepress-plugin-demo-block__footer:hover .vuepress-plugin-demo-block__jsfiddle,\n.vuepress-plugin-demo-block__wrapper .vuepress-plugin-demo-block__footer:hover .vuepress-plugin-demo-block__codepen,\n.vuepress-plugin-demo-block__wrapper .vuepress-plugin-demo-block__footer:hover .vuepress-plugin-demo-block__expand span,\n.vuepress-plugin-demo-block__wrapper .vuepress-plugin-demo-block__footer:hover .vuepress-plugin-demo-block__expand {\n  opacity: 1;\n}\n.vuepress-plugin-demo-block__wrapper .vuepress-plugin-demo-block__footer:hover .vuepress-plugin-demo-block__expand::before {\n  border-top-color: #3eaf7c !important;\n  border-bottom-color: #3eaf7c !important;\n}\n.vuepress-plugin-demo-block__wrapper .vuepress-plugin-demo-block__footer:hover svg {\n  fill: #3eaf7c !important;\n}\n.vuepress-plugin-demo-block__wrapper .vuepress-plugin-demo-block__footer .vuepress-plugin-demo-block__expand-text {\n  transition: all 0.5s;\n  opacity: 0;\n}\n.vuepress-plugin-demo-block__wrapper .vuepress-plugin-demo-block__footer form:nth-last-child(2) {\n  right: 50px;\n}\n.vuepress-plugin-demo-block__wrapper .vuepress-plugin-demo-block__footer form:last-child {\n  right: 10px;\n}\n.vuepress-plugin-demo-block__wrapper .vuepress-plugin-demo-block__footer .vuepress-plugin-demo-block__button {\n  border-color: transparent;\n  background-color: transparent;\n  font-size: 14px;\n  color: #3eaf7c;\n  cursor: pointer;\n  outline: none;\n  margin: 0;\n  width: 46px;\n  position: relative;\n}\n.vuepress-plugin-demo-block__wrapper .vuepress-plugin-demo-block__footer .vuepress-plugin-demo-block__button:hover::before {\n  content: attr(data-tip);\n  white-space: nowrap;\n  position: absolute;\n  top: -30px;\n  left: 50%;\n  color: #eee;\n  line-height: 1;\n  z-index: 1000;\n  border-radius: 4px;\n  padding: 6px;\n  -webkit-transform: translateX(-50%);\n          transform: translateX(-50%);\n  background-color: rgba(0, 0, 0, 0.8);\n}\n.vuepress-plugin-demo-block__wrapper .vuepress-plugin-demo-block__footer .vuepress-plugin-demo-block__button:hover::after {\n  content: '' !important;\n  display: block;\n  position: absolute;\n  left: 50%;\n  top: -5px;\n  -webkit-transform: translateX(-50%);\n          transform: translateX(-50%);\n  border: 5px solid transparent;\n  border-top-color: rgba(0, 0, 0, 0.8);\n}\n.vuepress-plugin-demo-block__wrapper .vuepress-plugin-demo-block__footer .vuepress-plugin-demo-block__button svg {\n  width: 34px;\n  height: 20px;\n  fill: #ccc;\n}\n.vuepress-plugin-demo-block__wrapper .vuepress-plugin-demo-block__footer .vuepress-plugin-demo-block__jsfiddle,\n.vuepress-plugin-demo-block__wrapper .vuepress-plugin-demo-block__footer .vuepress-plugin-demo-block__codepen {\n  position: absolute;\n  top: 10px;\n  transition: all 0.5s;\n}\n.vuepress-plugin-demo-block__wrapper .vuepress-plugin-demo-block__footer .vuepress-plugin-demo-block__expand {\n  position: relative;\n  width: 100px;\n  height: 40px;\n  margin: 0;\n  color: #3eaf7c;\n  font-size: 14px;\n  background-color: transparent;\n  border-color: transparent;\n  outline: none;\n  transition: all 0.5s;\n  cursor: pointer;\n}\n.vuepress-plugin-demo-block__wrapper .vuepress-plugin-demo-block__footer .vuepress-plugin-demo-block__expand::before {\n  content: \"\";\n  position: absolute;\n  top: 50%;\n  left: 50%;\n  width: 0;\n  height: 0;\n  border-top: 6px solid #ccc;\n  border-right: 6px solid transparent;\n  border-left: 6px solid transparent;\n  -webkit-transform: translate(-50%, -50%);\n          transform: translate(-50%, -50%);\n}\n");var gs={jsLib:[],cssLib:[],jsfiddle:!0,codepen:!0,codepenLayout:"left",codepenJsProcessor:"babel",codepenEditors:"101",horizontal:!1,vue:"https://cdn.jsdelivr.net/npm/vue/dist/vue.min.js",react:"https://cdn.jsdelivr.net/npm/react/umd/react.production.min.js",reactDOM:"https://cdn.jsdelivr.net/npm/react-dom/umd/react-dom.production.min.js"},hs={},fs=function(n){return'<div id="app">\n'.concat(n,"\n</div>")},vs=function(n){return window.$VUEPRESS_DEMO_BLOCK&&void 0!==window.$VUEPRESS_DEMO_BLOCK[n]?window.$VUEPRESS_DEMO_BLOCK[n]:gs[n]},bs=function n(e,t,a){var r=document.createElement(e);return t&&Object.keys(t).forEach((function(n){if(n.indexOf("data"))r[n]=t[n];else{var e=n.replace("data","");r.dataset[e]=t[n]}})),a&&a.forEach((function(e){var t=e.tag,a=e.attrs,o=e.children;r.appendChild(n(t,a,o))})),r},ys=function(n,e,t){var a,r=(a=n.querySelectorAll(".".concat(e)),Array.prototype.slice.call(a));return 1!==r.length||t?r:r[0]},xs=function(n,e){var t,a,r=n.match(/<style>([\s\S]+)<\/style>/),o=n.match(/<template>([\s\S]+)<\/template>/),i=n.match(/<script>([\s\S]+)<\/script>/),s={css:r&&r[1].replace(/^\n|\n$/g,""),html:o&&o[1].replace(/^\n|\n$/g,""),js:i&&i[1].replace(/^\n|\n$/g,""),jsLib:e.jsLib||[],cssLib:e.cssLib||[]};s.htmlTpl=fs(s.html),s.jsTpl=(t=s.js,a=t.replace(/export\s+default\s*?\{\n*/,"").replace(/\n*\}\s*$/,"").trim(),"new Vue({\n  el: '#app',\n  ".concat(a,"\n})")),s.script=function(n,e){var t=n.split(/export\s+default/),a="(function() {".concat(t[0]," ; return ").concat(t[1],"})()"),r=window.Babel?window.Babel.transform(a,{presets:["es2015"]}).code:a,o=[eval][0](r);return o.template=e,o}(s.js,s.html);var l=vs("vue");return s.jsLib.unshift(l),s},ks=function(n,e){var t,a=n.match(/<style>([\s\S]+)<\/style>/),r=n.match(/<html>([\s\S]+)<\/html>/),o=n.match(/<script>([\s\S]+)<\/script>/),i={css:a&&a[1].replace(/^\n|\n$/g,""),html:r&&r[1].replace(/^\n|\n$/g,""),js:o&&o[1].replace(/^\n|\n$/g,""),jsLib:e.jsLib||[],cssLib:e.cssLib||[]};return i.htmlTpl=i.html,i.jsTpl=i.js,i.script=(t=i.js,window.Babel?window.Babel.transform(t,{presets:["es2015"]}).code:t),i},ws=function(n){return n=n.replace("export default ","").replace(/App\.__style__(\s*)=(\s*)`([\s\S]*)?`/,""),n+='ReactDOM.render(React.createElement(App), document.getElementById("app"))'};function Ss(){var n=ys(document,"vuepress-plugin-demo-block__wrapper",!0);n.length?n.forEach((function(n){if("true"!==n.dataset.created){n.style.display="block";var e=ys(n,"vuepress-plugin-demo-block__code"),t=ys(n,"vuepress-plugin-demo-block__display"),a=ys(n,"vuepress-plugin-demo-block__footer"),r=ys(t,"vuepress-plugin-demo-block__app"),o=decodeURIComponent(n.dataset.code),i=decodeURIComponent(n.dataset.config),s=decodeURIComponent(n.dataset.type);i=i?JSON.parse(i):{};var l=e.querySelector("div").clientHeight,c="react"===s?function(n,e){var t=(0,window.Babel.transform)(n,{presets:["es2015","react"]}).code,a="(function(exports){var module={};module.exports=exports;".concat(t,";return module.exports.__esModule?module.exports.default:module.exports;})({})"),r=new Function("return ".concat(a))(),o={js:r,css:r.__style__||"",jsLib:e.jsLib||[],cssLib:e.cssLib||[],jsTpl:ws(n),htmlTpl:fs("")},i=vs("react"),s=vs("reactDOM");return o.jsLib.unshift(i,s),o}(o,i):"vanilla"===s?ks(o,i):xs(o,i),d=bs("button",{className:"".concat("vuepress-plugin-demo-block__expand")});if(a.appendChild(d),d.addEventListener("click",Es.bind(null,d,l,e,a)),vs("jsfiddle")&&a.appendChild(function(n){var e=n.css,t=n.htmlTpl,a=n.jsTpl,r=n.jsLib,o=n.cssLib,i=r.concat(o).concat(vs("cssLib")).concat(vs("jsLib")).join(",");return bs("form",{className:"vuepress-plugin-demo-block__jsfiddle",target:"_blank",action:"https://jsfiddle.net/api/post/library/pure/",method:"post"},[{tag:"input",attrs:{type:"hidden",name:"css",value:e}},{tag:"input",attrs:{type:"hidden",name:"html",value:t}},{tag:"input",attrs:{type:"hidden",name:"js",value:a}},{tag:"input",attrs:{type:"hidden",name:"panel_js",value:3}},{tag:"input",attrs:{type:"hidden",name:"wrap",value:1}},{tag:"input",attrs:{type:"hidden",name:"resources",value:i}},{tag:"button",attrs:{type:"submit",className:"vuepress-plugin-demo-block__button",innerHTML:'<?xml version="1.0" standalone="no"?><!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN" "http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd"><svg t="1547088289967" class="icon" style="" viewBox="0 0 1170 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="1952" xmlns:xlink="http://www.w3.org/1999/xlink" width="228.515625" height="200"><defs><style type="text/css"></style></defs><path d="M1028.571429 441.142857q63.428571 26.285714 102.571428 83.142857T1170.285714 650.857143q0 93.714286-67.428571 160.285714T940 877.714286q-2.285714 0-6.571429-0.285715t-6-0.285714H232q-97.142857-5.714286-164.571429-71.714286T0 645.142857q0-62.857143 31.428571-116t84-84q-6.857143-22.285714-6.857142-46.857143 0-65.714286 46.857142-112t113.714286-46.285714q54.285714 0 98.285714 33.142857 42.857143-88 127.142858-141.714286t186.571428-53.714285q94.857143 0 174.857143 46T982.571429 248.571429t46.571428 172q0 3.428571-0.285714 10.285714t-0.285714 10.285714zM267.428571 593.142857q0 69.714286 48 110.285714t118.857143 40.571429q78.285714 0 137.142857-56.571429-9.142857-11.428571-27.142857-32.285714T519.428571 626.285714q-38.285714 37.142857-82.285714 37.142857-31.428571 0-53.428571-19.142857T361.714286 594.285714q0-30.285714 22-49.714285t52.285714-19.428572q25.142857 0 48.285714 12t41.714286 31.428572 37.142857 42.857142 39.428572 46.857143 44 42.857143 55.428571 31.428572 69.428571 12q69.142857 0 116.857143-40.857143T936 594.857143q0-69.142857-48-109.714286t-118.285714-40.571428q-81.714286 0-137.714286 55.428571l53.142857 61.714286q37.714286-36.571429 81.142857-36.571429 29.714286 0 52.571429 18.857143t22.857143 48q0 32.571429-21.142857 52.285714t-53.714286 19.714286q-24.571429 0-47.142857-12t-41.142857-31.428571-37.428572-42.857143-39.714286-46.857143-44.285714-42.857143-55.142857-31.428571T434.285714 444.571429q-69.714286 0-118.285714 40.285714T267.428571 593.142857z" p-id="1953"></path></svg>',datatip:"JSFiddle"}}])}(c)),vs("codepen")&&a.appendChild(function(n){var e=n.css,t=n.htmlTpl,a=n.jsTpl,r=n.jsLib,o=n.cssLib,i=JSON.stringify({css:e,html:t,js:a,js_external:r.concat(vs("jsLib")).join(";"),css_external:o.concat(vs("cssLib")).join(";"),layout:vs("codepenLayout"),js_pre_processor:vs("codepenJsProcessor"),editors:vs("codepenEditors")});return bs("form",{className:"vuepress-plugin-demo-block__codepen",target:"_blank",action:"https://codepen.io/pen/define",method:"post"},[{tag:"input",attrs:{type:"hidden",name:"data",value:i}},{tag:"button",attrs:{type:"submit",innerHTML:'<?xml version="1.0" standalone="no"?><!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN" "http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd"><svg t="1547088271207" class="icon" style="" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="1737" xmlns:xlink="http://www.w3.org/1999/xlink" width="200" height="200"><defs><style type="text/css"></style></defs><path d="M123.428571 668l344.571429 229.714286v-205.142857L277.142857 565.142857z m-35.428571-82.285714l110.285714-73.714286-110.285714-73.714286v147.428572z m468 312l344.571429-229.714286-153.714286-102.857143-190.857143 127.428572v205.142857z m-44-281.714286l155.428571-104-155.428571-104-155.428571 104zM277.142857 458.857143l190.857143-127.428572V126.285714L123.428571 356z m548.571429 53.142857l110.285714 73.714286V438.285714z m-78.857143-53.142857l153.714286-102.857143-344.571429-229.714286v205.142857z m277.142857-102.857143v312q0 23.428571-19.428571 36.571429l-468 312q-12 7.428571-24.571429 7.428571t-24.571429-7.428571L19.428571 704.571429q-19.428571-13.142857-19.428571-36.571429V356q0-23.428571 19.428571-36.571429L487.428571 7.428571q12-7.428571 24.571429-7.428571t24.571429 7.428571l468 312q19.428571 13.142857 19.428571 36.571429z" p-id="1738"></path></svg>',className:"vuepress-plugin-demo-block__button",datatip:"Codepen"}}])}(c)),void 0!==i.horizontal?i.horizontal:vs("horizontal")){n.classList.add("vuepress-plugin-demo-block__horizontal");var p=e.firstChild.cloneNode(!0);p.classList.add("vuepress-plugin-demo-block__h_code"),t.appendChild(p)}if(c.css&&function(n){if(!hs[n]){var e=bs("style",{innerHTML:n});document.body.appendChild(e),hs[n]=!0}}(c.css),"react"===s)ReactDOM.render(React.createElement(c.js),r);else if("vue"===s){var u=(new(Vue.extend(c.script))).$mount();r.appendChild(u.$el)}else"vanilla"===s&&(r.innerHTML=c.html,new Function("return (function(){".concat(c.script,"})()"))());n.dataset.created="true"}})):setTimeout((function(n){Ss()}),300)}function Es(n,e,t,a){var r="1"!==n.dataset.isExpand;t.style.height=r?"".concat(e,"px"):0,r?a.classList.add("vuepress-plugin-demo-block__show-link"):a.classList.remove("vuepress-plugin-demo-block__show-link"),n.dataset.isExpand=r?"1":"0"}var Ts={mounted:function(){window.$VUEPRESS_DEMO_BLOCK={jsfiddle:!1,codepen:!0,horizontal:!1},Ss()},updated:function(){Ss()}},_s=(t(226),"auto"),Is="zoom-in",js="zoom-out",zs="grab",Cs="move";function As(n,e,t){var a=!(arguments.length>3&&void 0!==arguments[3])||arguments[3],r={passive:!1};a?n.addEventListener(e,t,r):n.removeEventListener(e,t,r)}function Ps(n,e){if(n){var t=new Image;t.onload=function(){e&&e(t)},t.src=n}}function Ds(n){return n.dataset.original?n.dataset.original:"A"===n.parentNode.tagName?n.parentNode.getAttribute("href"):null}function qs(n,e,t){!function(n){var e=Ls,t=Bs;if(n.transition){var a=n.transition;delete n.transition,n[e]=a}if(n.transform){var r=n.transform;delete n.transform,n[t]=r}}(e);var a=n.style,r={};for(var o in e)t&&(r[o]=a[o]||""),a[o]=e[o];return r}var Ls="transition",Bs="transform",Os="transform",Fs="transitionend";var Rs=function(){},Ms={enableGrab:!0,preloadImage:!1,closeOnWindowResize:!0,transitionDuration:.4,transitionTimingFunction:"cubic-bezier(0.4, 0, 0, 1)",bgColor:"rgb(255, 255, 255)",bgOpacity:1,scaleBase:1,scaleExtra:.5,scrollThreshold:40,zIndex:998,customSize:null,onOpen:Rs,onClose:Rs,onGrab:Rs,onMove:Rs,onRelease:Rs,onBeforeOpen:Rs,onBeforeClose:Rs,onBeforeGrab:Rs,onBeforeRelease:Rs,onImageLoading:Rs,onImageLoaded:Rs},Hs={init:function(n){var e,t;e=this,t=n,Object.getOwnPropertyNames(Object.getPrototypeOf(e)).forEach((function(n){e[n]=e[n].bind(t)}))},click:function(n){if(n.preventDefault(),Us(n))return window.open(this.target.srcOriginal||n.currentTarget.src,"_blank");this.shown?this.released?this.close():this.release():this.open(n.currentTarget)},scroll:function(){var n=document.documentElement||document.body.parentNode||document.body,e=window.pageXOffset||n.scrollLeft,t=window.pageYOffset||n.scrollTop;null===this.lastScrollPosition&&(this.lastScrollPosition={x:e,y:t});var a=this.lastScrollPosition.x-e,r=this.lastScrollPosition.y-t,o=this.options.scrollThreshold;(Math.abs(r)>=o||Math.abs(a)>=o)&&(this.lastScrollPosition=null,this.close())},keydown:function(n){(function(n){return"Escape"===(n.key||n.code)||27===n.keyCode})(n)&&(this.released?this.close():this.release(this.close))},mousedown:function(n){if(Ns(n)&&!Us(n)){n.preventDefault();var e=n.clientX,t=n.clientY;this.pressTimer=setTimeout(function(){this.grab(e,t)}.bind(this),200)}},mousemove:function(n){this.released||this.move(n.clientX,n.clientY)},mouseup:function(n){Ns(n)&&!Us(n)&&(clearTimeout(this.pressTimer),this.released?this.close():this.release())},touchstart:function(n){n.preventDefault();var e=n.touches[0],t=e.clientX,a=e.clientY;this.pressTimer=setTimeout(function(){this.grab(t,a)}.bind(this),200)},touchmove:function(n){if(!this.released){var e=n.touches[0],t=e.clientX,a=e.clientY;this.move(t,a)}},touchend:function(n){(function(n){n.targetTouches.length})(n)||(clearTimeout(this.pressTimer),this.released?this.close():this.release())},clickOverlay:function(){this.close()},resizeWindow:function(){this.close()}};function Ns(n){return 0===n.button}function Us(n){return n.metaKey||n.ctrlKey}var Js={init:function(n){this.el=document.createElement("div"),this.instance=n,this.parent=document.body,qs(this.el,{position:"fixed",top:0,left:0,right:0,bottom:0,opacity:0}),this.updateStyle(n.options),As(this.el,"click",n.handler.clickOverlay.bind(n))},updateStyle:function(n){qs(this.el,{zIndex:n.zIndex,backgroundColor:n.bgColor,transition:"opacity\n        "+n.transitionDuration+"s\n        "+n.transitionTimingFunction})},insert:function(){this.parent.appendChild(this.el)},remove:function(){this.parent.removeChild(this.el)},fadeIn:function(){this.el.offsetWidth,this.el.style.opacity=this.instance.options.bgOpacity},fadeOut:function(){this.el.style.opacity=0}},$s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(n){return typeof n}:function(n){return n&&"function"==typeof Symbol&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n},Zs=function(){function n(n,e){for(var t=0;t<e.length;t++){var a=e[t];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(n,a.key,a)}}return function(e,t,a){return t&&n(e.prototype,t),a&&n(e,a),e}}(),Vs=Object.assign||function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var a in t)Object.prototype.hasOwnProperty.call(t,a)&&(n[a]=t[a])}return n},Ks={init:function(n,e){this.el=n,this.instance=e,this.srcThumbnail=this.el.getAttribute("src"),this.srcset=this.el.getAttribute("srcset"),this.srcOriginal=Ds(this.el),this.rect=this.el.getBoundingClientRect(),this.translate=null,this.scale=null,this.styleOpen=null,this.styleClose=null},zoomIn:function(){var n=this.instance.options,e=n.zIndex,t=n.enableGrab,a=n.transitionDuration,r=n.transitionTimingFunction;this.translate=this.calculateTranslate(),this.scale=this.calculateScale(),this.styleOpen={position:"relative",zIndex:e+1,cursor:t?zs:js,transition:Os+"\n        "+a+"s\n        "+r,transform:"translate3d("+this.translate.x+"px, "+this.translate.y+"px, 0px)\n        scale("+this.scale.x+","+this.scale.y+")",height:this.rect.height+"px",width:this.rect.width+"px"},this.el.offsetWidth,this.styleClose=qs(this.el,this.styleOpen,!0)},zoomOut:function(){this.el.offsetWidth,qs(this.el,{transform:"none"})},grab:function(n,e,t){var a=Qs(),r=a.x-n,o=a.y-e;qs(this.el,{cursor:Cs,transform:"translate3d(\n        "+(this.translate.x+r)+"px, "+(this.translate.y+o)+"px, 0px)\n        scale("+(this.scale.x+t)+","+(this.scale.y+t)+")"})},move:function(n,e,t){var a=Qs(),r=a.x-n,o=a.y-e;qs(this.el,{transition:Os,transform:"translate3d(\n        "+(this.translate.x+r)+"px, "+(this.translate.y+o)+"px, 0px)\n        scale("+(this.scale.x+t)+","+(this.scale.y+t)+")"})},restoreCloseStyle:function(){qs(this.el,this.styleClose)},restoreOpenStyle:function(){qs(this.el,this.styleOpen)},upgradeSource:function(){if(this.srcOriginal){var n=this.el.parentNode;this.srcset&&this.el.removeAttribute("srcset");var e=this.el.cloneNode(!1);e.setAttribute("src",this.srcOriginal),e.style.position="fixed",e.style.visibility="hidden",n.appendChild(e),setTimeout(function(){this.el.setAttribute("src",this.srcOriginal),n.removeChild(e)}.bind(this),50)}},downgradeSource:function(){this.srcOriginal&&(this.srcset&&this.el.setAttribute("srcset",this.srcset),this.el.setAttribute("src",this.srcThumbnail))},calculateTranslate:function(){var n=Qs(),e=this.rect.left+this.rect.width/2,t=this.rect.top+this.rect.height/2;return{x:n.x-e,y:n.y-t}},calculateScale:function(){var n=this.el.dataset,e=n.zoomingHeight,t=n.zoomingWidth,a=this.instance.options,r=a.customSize,o=a.scaleBase;if(!r&&e&&t)return{x:t/this.rect.width,y:e/this.rect.height};if(r&&"object"===(void 0===r?"undefined":$s(r)))return{x:r.width/this.rect.width,y:r.height/this.rect.height};var i=this.rect.width/2,s=this.rect.height/2,l=Qs(),c={x:l.x-i,y:l.y-s},d=c.x/i,p=c.y/s,u=o+Math.min(d,p);if(r&&"string"==typeof r){var m=t||this.el.naturalWidth,g=e||this.el.naturalHeight,h=parseFloat(r)*m/(100*this.rect.width),f=parseFloat(r)*g/(100*this.rect.height);if(u>h||u>f)return{x:h,y:f}}return{x:u,y:u}}};function Qs(){var n=document.documentElement;return{x:Math.min(n.clientWidth,window.innerWidth)/2,y:Math.min(n.clientHeight,window.innerHeight)/2}}function Ws(n,e,t){["mousedown","mousemove","mouseup","touchstart","touchmove","touchend"].forEach((function(a){As(n,a,e[a],t)}))}var Gs=function(){function n(e){!function(n,e){if(!(n instanceof e))throw new TypeError("Cannot call a class as a function")}(this,n),this.target=Object.create(Ks),this.overlay=Object.create(Js),this.handler=Object.create(Hs),this.body=document.body,this.shown=!1,this.lock=!1,this.released=!0,this.lastScrollPosition=null,this.pressTimer=null,this.options=Vs({},Ms,e),this.overlay.init(this),this.handler.init(this)}return Zs(n,[{key:"listen",value:function(n){if("string"==typeof n)for(var e=document.querySelectorAll(n),t=e.length;t--;)this.listen(e[t]);else"IMG"===n.tagName&&(n.style.cursor=Is,As(n,"click",this.handler.click),this.options.preloadImage&&Ps(Ds(n)));return this}},{key:"config",value:function(n){return n?(Vs(this.options,n),this.overlay.updateStyle(this.options),this):this.options}},{key:"open",value:function(n){var e=this,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.options.onOpen;if(!this.shown&&!this.lock){var a="string"==typeof n?document.querySelector(n):n;if("IMG"===a.tagName){if(this.options.onBeforeOpen(a),this.target.init(a,this),!this.options.preloadImage){var r=this.target.srcOriginal;null!=r&&(this.options.onImageLoading(a),Ps(r,this.options.onImageLoaded))}this.shown=!0,this.lock=!0,this.target.zoomIn(),this.overlay.insert(),this.overlay.fadeIn(),As(document,"scroll",this.handler.scroll),As(document,"keydown",this.handler.keydown),this.options.closeOnWindowResize&&As(window,"resize",this.handler.resizeWindow);var o=function n(){As(a,Fs,n,!1),e.lock=!1,e.target.upgradeSource(),e.options.enableGrab&&Ws(document,e.handler,!0),t(a)};return As(a,Fs,o),this}}}},{key:"close",value:function(){var n=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.options.onClose;if(this.shown&&!this.lock){var t=this.target.el;this.options.onBeforeClose(t),this.lock=!0,this.body.style.cursor=_s,this.overlay.fadeOut(),this.target.zoomOut(),As(document,"scroll",this.handler.scroll,!1),As(document,"keydown",this.handler.keydown,!1),this.options.closeOnWindowResize&&As(window,"resize",this.handler.resizeWindow,!1);var a=function a(){As(t,Fs,a,!1),n.shown=!1,n.lock=!1,n.target.downgradeSource(),n.options.enableGrab&&Ws(document,n.handler,!1),n.target.restoreCloseStyle(),n.overlay.remove(),e(t)};return As(t,Fs,a),this}}},{key:"grab",value:function(n,e){var t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:this.options.scaleExtra,a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:this.options.onGrab;if(this.shown&&!this.lock){var r=this.target.el;this.options.onBeforeGrab(r),this.released=!1,this.target.grab(n,e,t);var o=function n(){As(r,Fs,n,!1),a(r)};return As(r,Fs,o),this}}},{key:"move",value:function(n,e){var t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:this.options.scaleExtra,a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:this.options.onMove;if(this.shown&&!this.lock){this.released=!1,this.body.style.cursor=Cs,this.target.move(n,e,t);var r=this.target.el,o=function n(){As(r,Fs,n,!1),a(r)};return As(r,Fs,o),this}}},{key:"release",value:function(){var n=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.options.onRelease;if(this.shown&&!this.lock){var t=this.target.el;this.options.onBeforeRelease(t),this.lock=!0,this.body.style.cursor=_s,this.target.restoreOpenStyle();var a=function a(){As(t,Fs,a,!1),n.lock=!1,n.released=!0,e(t)};return As(t,Fs,a),this}}}]),n}(),Xs=".theme-vdoing-content img:not(.no-zoom)",Ys=JSON.parse('{"bgColor":"rgba(0,0,0,0.6)"}'),nl=Number("500"),el=function(){function n(){cs(this,n),this.instance=new Gs(Ys)}return ps(n,[{key:"update",value:function(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Xs;"undefined"!=typeof window&&this.instance.listen(n)}},{key:"updateDelay",value:function(){var n=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Xs,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:nl;setTimeout((function(){return n.update(e)}),t)}}]),n}(),tl=[Yi,os,ls,ms,Ts,{watch:{"$page.path":function(){void 0!==this.$vuepress.zooming&&this.$vuepress.zooming.updateDelay()}},mounted:function(){this.$vuepress.zooming=new el,this.$vuepress.zooming.updateDelay()}}],al={name:"GlobalLayout",computed:{layout:function(){var n=this.getLayout();return Vi("layout",n),Dr.component(n)}},methods:{getLayout:function(){if(this.$page.path){var n=this.$page.frontmatter.layout;return n&&(this.$vuepress.getLayoutAsyncComponent(n)||this.$vuepress.getVueComponent(n))?n:"Layout"}return"NotFound"}}},rl=t(15),ol=Object(rl.a)(al,(function(){var n=this.$createElement;return(this._self._c||n)(this.layout,{tag:"component"})}),[],!1,null,null,null).exports;!function(n,e,t){var a;switch(e){case"components":n[e]||(n[e]={}),Object.assign(n[e],t);break;case"mixins":n[e]||(n[e]=[]),(a=n[e]).push.apply(a,Object(Ii.a)(t));break;default:throw new Error("Unknown option name.")}}(ol,"mixins",tl);var il=[{name:"v-28a7b348",path:"/pages/38d7c8/",component:ol,beforeEnter:function(n,e,t){Zi("Layout","v-28a7b348").then(t)}},{path:"/pages/38d7c8/index.html",redirect:"/pages/38d7c8/"},{path:"/408/01.æ°æ®ç»æ/02.æåºæ¬çæ°æ®ç»æ.html",redirect:"/pages/38d7c8/"},{name:"v-7ab55fd6",path:"/pages/64e136/",component:ol,beforeEnter:function(n,e,t){Zi("Layout","v-7ab55fd6").then(t)}},{path:"/pages/64e136/index.html",redirect:"/pages/64e136/"},{path:"/408/01.æ°æ®ç»æ/04.randomçéæºè¡ä¸º.html",redirect:"/pages/64e136/"},{name:"v-e58ada02",path:"/pages/3ad1d4/",component:ol,beforeEnter:function(n,e,t){Zi("Layout","v-e58ada02").then(t)}},{path:"/pages/3ad1d4/index.html",redirect:"/pages/3ad1d4/"},{path:"/408/01.æ°æ®ç»æ/03.åç¼åæ°ç».html",redirect:"/pages/3ad1d4/"},{name:"v-89816e08",path:"/pages/8e5251/",component:ol,beforeEnter:function(n,e,t){Zi("Layout","v-89816e08").then(t)}},{path:"/pages/8e5251/index.html",redirect:"/pages/8e5251/"},{path:"/408/01.æ°æ®ç»æ/01.ä½è¿ç®.html",redirect:"/pages/8e5251/"},{name:"v-16106010",path:"/pages/9c9f24/",component:ol,beforeEnter:function(n,e,t){Zi("Layout","v-16106010").then(t)}},{path:"/pages/9c9f24/index.html",redirect:"/pages/9c9f24/"},{path:"/408/01.æ°æ®ç»æ/05.å¯¹æ°å¨.html",redirect:"/pages/9c9f24/"},{name:"v-159f3ccd",path:"/pages/06b58c/",component:ol,beforeEnter:function(n,e,t){Zi("Layout","v-159f3ccd").then(t)}},{path:"/pages/06b58c/index.html",redirect:"/pages/06b58c/"},{path:"/408/01.æ°æ®ç»æ/06.äºåæ³æ¥æ¾.html",redirect:"/pages/06b58c/"},{name:"v-2f6093d7",path:"/pages/7e9265/",component:ol,beforeEnter:function(n,e,t){Zi("Layout","v-2f6093d7").then(t)}},{path:"/pages/7e9265/index.html",redirect:"/pages/7e9265/"},{path:"/408/01.æ°æ®ç»æ/07.æ¹æ³åæ°ä¼ éæ¯å¼è¿æ¯å¼ç¨.html",redirect:"/pages/7e9265/"},{name:"v-c36f6bfc",path:"/pages/d2cd3f/",component:ol,beforeEnter:function(n,e,t){Zi("Layout","v-c36f6bfc").then(t)}},{path:"/pages/d2cd3f/index.html",redirect:"/pages/d2cd3f/"},{path:"/408/01.æ°æ®ç»æ/09.ä½å¾.html",redirect:"/pages/d2cd3f/"},{name:"v-11649cf0",path:"/pages/51bf81/",component:ol,beforeEnter:function(n,e,t){Zi("Layout","v-11649cf0").then(t)}},{path:"/pages/51bf81/index.html",redirect:"/pages/51bf81/"},{path:"/408/01.æ°æ®ç»æ/10.ä½è¿ç®å®ç°ååè¿ç®.html",redirect:"/pages/51bf81/"},{name:"v-5bd2c1fd",path:"/pages/0dcdc5/",component:ol,beforeEnter:function(n,e,t){Zi("Layout","v-5bd2c1fd").then(t)}},{path:"/pages/0dcdc5/index.html",redirect:"/pages/0dcdc5/"},{path:"/408/01.æ°æ®ç»æ/12.æåº.html",redirect:"/pages/0dcdc5/"},{name:"v-6441954f",path:"/pages/d3b8b4/",component:ol,beforeEnter:function(n,e,t){Zi("Layout","v-6441954f").then(t)}},{path:"/pages/d3b8b4/index.html",redirect:"/pages/d3b8b4/"},{path:"/408/01.æ°æ®ç»æ/08.é¾è¡¨.html",redirect:"/pages/d3b8b4/"},{name:"v-2e467b68",path:"/pages/ef4d8b/",component:ol,beforeEnter:function(n,e,t){Zi("Layout","v-2e467b68").then(t)}},{path:"/pages/ef4d8b/index.html",redirect:"/pages/ef4d8b/"},{path:"/408/01.æ°æ®ç»æ/13.æ¶é´å¤æåº¦.html",redirect:"/pages/ef4d8b/"},{name:"v-a61f04aa",path:"/pages/3e25e1/",component:ol,beforeEnter:function(n,e,t){Zi("Layout","v-a61f04aa").then(t)}},{path:"/pages/3e25e1/index.html",redirect:"/pages/3e25e1/"},{path:"/408/01.æ°æ®ç»æ/11.äºåæ .html",redirect:"/pages/3e25e1/"},{name:"v-1c0c6895",path:"/archives/",component:ol,beforeEnter:function(n,e,t){Zi("Layout","v-1c0c6895").then(t)}},{path:"/archives/index.html",redirect:"/archives/"},{path:"/@pages/archivesPage.html",redirect:"/archives/"},{name:"v-320a16ea",path:"/pages/3bda9f/",component:ol,beforeEnter:function(n,e,t){Zi("Layout","v-320a16ea").then(t)}},{path:"/pages/3bda9f/index.html",redirect:"/pages/3bda9f/"},{path:"/408/01.æ°æ®ç»æ/14.éååæ .html",redirect:"/pages/3bda9f/"},{name:"v-644b5bf5",path:"/categories/",component:ol,beforeEnter:function(n,e,t){Zi("Layout","v-644b5bf5").then(t)}},{path:"/categories/index.html",redirect:"/categories/"},{path:"/@pages/categoriesPage.html",redirect:"/categories/"},{name:"v-6e67de15",path:"/tags/",component:ol,beforeEnter:function(n,e,t){Zi("Layout","v-6e67de15").then(t)}},{path:"/tags/index.html",redirect:"/tags/"},{path:"/@pages/tagsPage.html",redirect:"/tags/"},{name:"v-055ee976",path:"/pages/88e08c/",component:ol,beforeEnter:function(n,e,t){Zi("Layout","v-055ee976").then(t)}},{path:"/pages/88e08c/index.html",redirect:"/pages/88e08c/"},{path:"/408/01.æ°æ®ç»æ/16.å (ä¼åçº§éå).html",redirect:"/pages/88e08c/"},{name:"v-6ddb2230",path:"/pages/fe2eaf/",component:ol,beforeEnter:function(n,e,t){Zi("Layout","v-6ddb2230").then(t)}},{path:"/pages/fe2eaf/index.html",redirect:"/pages/fe2eaf/"},{path:"/408/01.æ°æ®ç»æ/15.éå½.html",redirect:"/pages/fe2eaf/"},{name:"v-d520fc7e",path:"/",component:ol,beforeEnter:function(n,e,t){Zi("Layout","v-d520fc7e").then(t)}},{path:"/index.html",redirect:"/"},{name:"v-0c3da0ac",path:"/pages/829589/",component:ol,beforeEnter:function(n,e,t){Zi("Layout","v-0c3da0ac").then(t)}},{path:"/pages/829589/index.html",redirect:"/pages/829589/"},{path:"/_posts/éç¬/æåäºä¸ä¸ªæåæ¥èå°ç½é¡µï¼ç¥å¤§å®¶èå¹´æ´å¯.html",redirect:"/pages/829589/"},{name:"v-60cd2f2a",path:"/pages/23186a/",component:ol,beforeEnter:function(n,e,t){Zi("Layout","v-60cd2f2a").then(t)}},{path:"/pages/23186a/index.html",redirect:"/pages/23186a/"},{path:"/åç«¯/01.html/01.BSæ¶æ.html",redirect:"/pages/23186a/"},{name:"v-2c5e7662",path:"/pages/3ba523/",component:ol,beforeEnter:function(n,e,t){Zi("Layout","v-2c5e7662").then(t)}},{path:"/pages/3ba523/index.html",redirect:"/pages/3ba523/"},{path:"/åç«¯/01.html/02.HTML.html",redirect:"/pages/3ba523/"},{name:"v-7c2eb23b",path:"/pages/8600fc/",component:ol,beforeEnter:function(n,e,t){Zi("Layout","v-7c2eb23b").then(t)}},{path:"/pages/8600fc/index.html",redirect:"/pages/8600fc/"},{path:"/åç«¯/01.html/03.HTML5.html",redirect:"/pages/8600fc/"},{name:"v-5cb205ae",path:"/pages/c2f00e/",component:ol,beforeEnter:function(n,e,t){Zi("Layout","v-5cb205ae").then(t)}},{path:"/pages/c2f00e/index.html",redirect:"/pages/c2f00e/"},{path:"/åç«¯/01.html/04.è¡¨åæ ç­¾.html",redirect:"/pages/c2f00e/"},{name:"v-3aba634a",path:"/pages/b3f43c/",component:ol,beforeEnter:function(n,e,t){Zi("Layout","v-3aba634a").then(t)}},{path:"/pages/b3f43c/index.html",redirect:"/pages/b3f43c/"},{path:"/åç«¯/01.html/05.CSS.html",redirect:"/pages/b3f43c/"},{name:"v-3ce17358",path:"/pages/5bc756/",component:ol,beforeEnter:function(n,e,t){Zi("Layout","v-3ce17358").then(t)}},{path:"/pages/5bc756/index.html",redirect:"/pages/5bc756/"},{path:"/åç«¯/01.html/06.html+cssç½é¡µ.html",redirect:"/pages/5bc756/"},{name:"v-2751208f",path:"/pages/54a5fa/",component:ol,beforeEnter:function(n,e,t){Zi("Layout","v-2751208f").then(t)}},{path:"/pages/54a5fa/index.html",redirect:"/pages/54a5fa/"},{path:"/åç«¯/01.html/07.CSS3.html",redirect:"/pages/54a5fa/"},{name:"v-0f768c01",path:"/pages/dc74bd/",component:ol,beforeEnter:function(n,e,t){Zi("Layout","v-0f768c01").then(t)}},{path:"/pages/dc74bd/index.html",redirect:"/pages/dc74bd/"},{path:"/åç«¯/01.html/08.ç§»å¨å¸å±.html",redirect:"/pages/dc74bd/"},{name:"v-a103715e",path:"/pages/6af871/",component:ol,beforeEnter:function(n,e,t){Zi("Layout","v-a103715e").then(t)}},{path:"/pages/6af871/index.html",redirect:"/pages/6af871/"},{path:"/åç«¯/02.Vue2/00.vue è¡¥å.html",redirect:"/pages/6af871/"},{name:"v-2e5129d9",path:"/pages/e5e5b8/",component:ol,beforeEnter:function(n,e,t){Zi("Layout","v-2e5129d9").then(t)}},{path:"/pages/e5e5b8/index.html",redirect:"/pages/e5e5b8/"},{path:"/åç«¯/01.html/09.JavaScript.html",redirect:"/pages/e5e5b8/"},{name:"v-64afecb3",path:"/pages/758bea/",component:ol,beforeEnter:function(n,e,t){Zi("Layout","v-64afecb3").then(t)}},{path:"/pages/758bea/index.html",redirect:"/pages/758bea/"},{path:"/åç«¯/02.Vue2/01.å®è£Vue CLI.html",redirect:"/pages/758bea/"},{name:"v-97656b46",path:"/pages/cb74f3/",component:ol,beforeEnter:function(n,e,t){Zi("Layout","v-97656b46").then(t)}},{path:"/pages/cb74f3/index.html",redirect:"/pages/cb74f3/"},{path:"/åç«¯/02.Vue2/03.Elment.html",redirect:"/pages/cb74f3/"},{name:"v-128ad24a",path:"/pages/e17f8f/",component:ol,beforeEnter:function(n,e,t){Zi("Layout","v-128ad24a").then(t)}},{path:"/pages/e17f8f/index.html",redirect:"/pages/e17f8f/"},{path:"/åç«¯/02.Vue2/04.Axios.html",redirect:"/pages/e17f8f/"},{name:"v-7e57676a",path:"/pages/3b8d98/",component:ol,beforeEnter:function(n,e,t){Zi("Layout","v-7e57676a").then(t)}},{path:"/pages/3b8d98/index.html",redirect:"/pages/3b8d98/"},{path:"/åç«¯/02.Vue2/02.å¨Vue CLIä¸­å¯¼å¥ Elment.html",redirect:"/pages/3b8d98/"},{name:"v-c9e2e0d2",path:"/pages/56d54a/",component:ol,beforeEnter:function(n,e,t){Zi("Layout","v-c9e2e0d2").then(t)}},{path:"/pages/56d54a/index.html",redirect:"/pages/56d54a/"},{path:"/åç«¯/02.Vue2/06.github æ¨é.html",redirect:"/pages/56d54a/"},{name:"v-68e1016a",path:"/pages/efa853/",component:ol,beforeEnter:function(n,e,t){Zi("Layout","v-68e1016a").then(t)}},{path:"/pages/efa853/index.html",redirect:"/pages/efa853/"},{path:"/åç«¯/02.Vue2/05.éç½®Vueè·¯ç±.html",redirect:"/pages/efa853/"},{name:"v-3e34a8f6",path:"/pages/93608e/",component:ol,beforeEnter:function(n,e,t){Zi("Layout","v-3e34a8f6").then(t)}},{path:"/pages/93608e/index.html",redirect:"/pages/93608e/"},{path:"/åç«¯/02.Vue2/07.å®è£ elment-tiptap.html",redirect:"/pages/93608e/"},{name:"v-0b21a7f6",path:"/pages/e5e482/",component:ol,beforeEnter:function(n,e,t){Zi("Layout","v-0b21a7f6").then(t)}},{path:"/pages/e5e482/index.html",redirect:"/pages/e5e482/"},{path:"/åç«¯/02.Vue2/09.è®©ä¸¤ä¸ªç»ä»¶ä¹é´éè®¯.html",redirect:"/pages/e5e482/"},{name:"v-bb4076c0",path:"/pages/812e04/",component:ol,beforeEnter:function(n,e,t){Zi("Layout","v-bb4076c0").then(t)}},{path:"/pages/812e04/index.html",redirect:"/pages/812e04/"},{path:"/åç«¯/02.Vue2/10.å®è£echart.html",redirect:"/pages/812e04/"},{name:"v-e39cdcd2",path:"/pages/f0d787/",component:ol,beforeEnter:function(n,e,t){Zi("Layout","v-e39cdcd2").then(t)}},{path:"/pages/f0d787/index.html",redirect:"/pages/f0d787/"},{path:"/åç«¯/02.Vue2/08.å®è£ cropperjs å¾çè£åå·¥å·.html",redirect:"/pages/f0d787/"},{name:"v-fbf30870",path:"/pages/2bf2c3/",component:ol,beforeEnter:function(n,e,t){Zi("Layout","v-fbf30870").then(t)}},{path:"/pages/2bf2c3/index.html",redirect:"/pages/2bf2c3/"},{path:"/åç«¯/02.Vue2/11.æä»¶å¯¹è±¡.html",redirect:"/pages/2bf2c3/"},{name:"v-332cf74c",path:"/pages/fc097d/",component:ol,beforeEnter:function(n,e,t){Zi("Layout","v-332cf74c").then(t)}},{path:"/pages/fc097d/index.html",redirect:"/pages/fc097d/"},{path:"/åç«¯/02.Vue2/12.æååå¸.html",redirect:"/pages/fc097d/"},{name:"v-56d6aafb",path:"/pages/b60752/",component:ol,beforeEnter:function(n,e,t){Zi("Layout","v-56d6aafb").then(t)}},{path:"/pages/b60752/index.html",redirect:"/pages/b60752/"},{path:"/åç«¯/02.Vue2/13.webpack.html",redirect:"/pages/b60752/"},{name:"v-5e457954",path:"/pages/0a8d91/",component:ol,beforeEnter:function(n,e,t){Zi("Layout","v-5e457954").then(t)}},{path:"/pages/0a8d91/index.html",redirect:"/pages/0a8d91/"},{path:"/åç«¯/02.Vue2/14.vue çæ¬.html",redirect:"/pages/0a8d91/"},{name:"v-060fb40c",path:"/pages/b8f860/",component:ol,beforeEnter:function(n,e,t){Zi("Layout","v-060fb40c").then(t)}},{path:"/pages/b8f860/index.html",redirect:"/pages/b8f860/"},{path:"/åç«¯/02.Vue2/15.ä¼åæå.html",redirect:"/pages/b8f860/"},{name:"v-c91d0ee8",path:"/pages/c64d65/",component:ol,beforeEnter:function(n,e,t){Zi("Layout","v-c91d0ee8").then(t)}},{path:"/pages/c64d65/index.html",redirect:"/pages/c64d65/"},{path:"/åç«¯/02.Vue2/16.vue å¾å½¢çé¢.html",redirect:"/pages/c64d65/"},{name:"v-6cbdabde",path:"/pages/27ac6a/",component:ol,beforeEnter:function(n,e,t){Zi("Layout","v-6cbdabde").then(t)}},{path:"/pages/27ac6a/index.html",redirect:"/pages/27ac6a/"},{path:"/åç«¯/02.Vue2/17.è·¯ç±æå è½½.html",redirect:"/pages/27ac6a/"},{name:"v-1b1a2fda",path:"/pages/14f647/",component:ol,beforeEnter:function(n,e,t){Zi("Layout","v-1b1a2fda").then(t)}},{path:"/pages/14f647/index.html",redirect:"/pages/14f647/"},{path:"/åç«¯/02.Vue2/19.ç¼å­åå¹¶è¡å¤ç.html",redirect:"/pages/14f647/"},{name:"v-6d96d148",path:"/pages/1bc0dd/",component:ol,beforeEnter:function(n,e,t){Zi("Layout","v-6d96d148").then(t)}},{path:"/pages/1bc0dd/index.html",redirect:"/pages/1bc0dd/"},{path:"/åç«¯/02.Vue2/18.element æéå¼ç¨.html",redirect:"/pages/1bc0dd/"},{name:"v-49d4e880",path:"/pages/195534/",component:ol,beforeEnter:function(n,e,t){Zi("Layout","v-49d4e880").then(t)}},{path:"/pages/195534/index.html",redirect:"/pages/195534/"},{path:"/åç«¯/02.Vue2/20.JavaScript å¼æ­¥ç¼ç¨.html",redirect:"/pages/195534/"},{name:"v-58b13ad2",path:"/pages/0c8879/",component:ol,beforeEnter:function(n,e,t){Zi("Layout","v-58b13ad2").then(t)}},{path:"/pages/0c8879/index.html",redirect:"/pages/0c8879/"},{path:"/åç«¯/01.JavaSE/02.JRE(Java Runtime Enviroment).html",redirect:"/pages/0c8879/"},{name:"v-4574a8d8",path:"/pages/df8281/",component:ol,beforeEnter:function(n,e,t){Zi("Layout","v-4574a8d8").then(t)}},{path:"/pages/df8281/index.html",redirect:"/pages/df8281/"},{path:"/åç«¯/01.JavaSE/01.javaè·¨å¹³å°åç.html",redirect:"/pages/df8281/"},{name:"v-42fdff6b",path:"/pages/d217f4/",component:ol,beforeEnter:function(n,e,t){Zi("Layout","v-42fdff6b").then(t)}},{path:"/pages/d217f4/index.html",redirect:"/pages/d217f4/"},{path:"/åç«¯/01.JavaSE/03.JDK(Java Development Kit).html",redirect:"/pages/d217f4/"},{name:"v-3191e504",path:"/pages/47da21/",component:ol,beforeEnter:function(n,e,t){Zi("Layout","v-3191e504").then(t)}},{path:"/pages/47da21/index.html",redirect:"/pages/47da21/"},{path:"/åç«¯/01.JavaSE/04.å¸¸ç¨doså½ä»¤.html",redirect:"/pages/47da21/"},{name:"v-471ff6aa",path:"/pages/3ee21a/",component:ol,beforeEnter:function(n,e,t){Zi("Layout","v-471ff6aa").then(t)}},{path:"/pages/3ee21a/index.html",redirect:"/pages/3ee21a/"},{path:"/åç«¯/01.JavaSE/05.éç½®ç³»ç»pathç¯å¢åé.html",redirect:"/pages/3ee21a/"},{name:"v-7d9a1627",path:"/pages/417c2d/",component:ol,beforeEnter:function(n,e,t){Zi("Layout","v-7d9a1627").then(t)}},{path:"/pages/417c2d/index.html",redirect:"/pages/417c2d/"},{path:"/åç«¯/01.JavaSE/06.å¼åè¿è¡æµç¨.html",redirect:"/pages/417c2d/"},{name:"v-d7039bcc",path:"/pages/97d4f2/",component:ol,beforeEnter:function(n,e,t){Zi("Layout","v-d7039bcc").then(t)}},{path:"/pages/97d4f2/index.html",redirect:"/pages/97d4f2/"},{path:"/åç«¯/01.JavaSE/08.åºç¡è¯­æ³.html",redirect:"/pages/97d4f2/"},{name:"v-a07ea332",path:"/pages/977c49/",component:ol,beforeEnter:function(n,e,t){Zi("Layout","v-a07ea332").then(t)}},{path:"/pages/977c49/index.html",redirect:"/pages/977c49/"},{path:"/åç«¯/01.JavaSE/07.ç¼åè§èé®é¢.html",redirect:"/pages/977c49/"},{name:"v-66e73294",path:"/pages/d2d164/",component:ol,beforeEnter:function(n,e,t){Zi("Layout","v-66e73294").then(t)}},{path:"/pages/d2d164/index.html",redirect:"/pages/d2d164/"},{path:"/åç«¯/01.JavaSE/09.å³é®å­.html",redirect:"/pages/d2d164/"},{name:"v-2474d88f",path:"/pages/10baa9/",component:ol,beforeEnter:function(n,e,t){Zi("Layout","v-2474d88f").then(t)}},{path:"/pages/10baa9/index.html",redirect:"/pages/10baa9/"},{path:"/åç«¯/01.JavaSE/10.å¸¸é.html",redirect:"/pages/10baa9/"},{name:"v-951a5208",path:"/pages/ec81f9/",component:ol,beforeEnter:function(n,e,t){Zi("Layout","v-951a5208").then(t)}},{path:"/pages/ec81f9/index.html",redirect:"/pages/ec81f9/"},{path:"/åç«¯/01.JavaSE/11.æ°æ®ç±»å.html",redirect:"/pages/ec81f9/"},{name:"v-ca23bd78",path:"/pages/3f6e03/",component:ol,beforeEnter:function(n,e,t){Zi("Layout","v-ca23bd78").then(t)}},{path:"/pages/3f6e03/index.html",redirect:"/pages/3f6e03/"},{path:"/åç«¯/01.JavaSE/12.æ°å¼ååå®¹å ç¨ååæ´èå´.html",redirect:"/pages/3f6e03/"},{name:"v-d8c50dce",path:"/pages/fcb871/",component:ol,beforeEnter:function(n,e,t){Zi("Layout","v-d8c50dce").then(t)}},{path:"/pages/fcb871/index.html",redirect:"/pages/fcb871/"},{path:"/åç«¯/01.JavaSE/14.æ è¯ç¬¦.html",redirect:"/pages/fcb871/"},{name:"v-32a3ec34",path:"/pages/a3cd43/",component:ol,beforeEnter:function(n,e,t){Zi("Layout","v-32a3ec34").then(t)}},{path:"/pages/a3cd43/index.html",redirect:"/pages/a3cd43/"},{path:"/åç«¯/01.JavaSE/16.ç®æ¯è¿ç®ç¬¦.html",redirect:"/pages/a3cd43/"},{name:"v-49a02e0f",path:"/pages/b2c2df/",component:ol,beforeEnter:function(n,e,t){Zi("Layout","v-49a02e0f").then(t)}},{path:"/pages/b2c2df/index.html",redirect:"/pages/b2c2df/"},{path:"/åç«¯/01.JavaSE/15.ç±»åè½¬æ¢.html",redirect:"/pages/b2c2df/"},{name:"v-c93d1656",path:"/pages/a4bf30/",component:ol,beforeEnter:function(n,e,t){Zi("Layout","v-c93d1656").then(t)}},{path:"/pages/a4bf30/index.html",redirect:"/pages/a4bf30/"},{path:"/åç«¯/01.JavaSE/17.èªå¢èªåè¿ç®ç¬¦.html",redirect:"/pages/a4bf30/"},{name:"v-bc7f093e",path:"/pages/a5f46a/",component:ol,beforeEnter:function(n,e,t){Zi("Layout","v-bc7f093e").then(t)}},{path:"/pages/a5f46a/index.html",redirect:"/pages/a5f46a/"},{path:"/åç«¯/01.JavaSE/18.å³ç³»è¿ç®ç¬¦.html",redirect:"/pages/a5f46a/"},{name:"v-6d95328a",path:"/pages/5cf2b5/",component:ol,beforeEnter:function(n,e,t){Zi("Layout","v-6d95328a").then(t)}},{path:"/pages/5cf2b5/index.html",redirect:"/pages/5cf2b5/"},{path:"/åç«¯/01.JavaSE/20.ç­è·¯é»è¾è¿ç®ç¬¦.html",redirect:"/pages/5cf2b5/"},{name:"v-1a9db526",path:"/pages/ad2097/",component:ol,beforeEnter:function(n,e,t){Zi("Layout","v-1a9db526").then(t)}},{path:"/pages/ad2097/index.html",redirect:"/pages/ad2097/"},{path:"/åç«¯/01.JavaSE/21.ä¸åè¿ç®ç¬¦.html",redirect:"/pages/ad2097/"},{name:"v-06fb6608",path:"/pages/9ca53c/",component:ol,beforeEnter:function(n,e,t){Zi("Layout","v-06fb6608").then(t)}},{path:"/pages/9ca53c/index.html",redirect:"/pages/9ca53c/"},{path:"/åç«¯/01.JavaSE/22.æ°æ®è¾å¥.html",redirect:"/pages/9ca53c/"},{name:"v-4f1cfdc2",path:"/pages/ae5f03/",component:ol,beforeEnter:function(n,e,t){Zi("Layout","v-4f1cfdc2").then(t)}},{path:"/pages/ae5f03/index.html",redirect:"/pages/ae5f03/"},{path:"/åç«¯/01.JavaSE/19.é»è¾è¿ç®ç¬¦.html",redirect:"/pages/ae5f03/"},{name:"v-631835ec",path:"/pages/fc3701/",component:ol,beforeEnter:function(n,e,t){Zi("Layout","v-631835ec").then(t)}},{path:"/pages/fc3701/index.html",redirect:"/pages/fc3701/"},{path:"/åç«¯/01.JavaSE/23.æµç¨æ§å¶.html",redirect:"/pages/fc3701/"},{name:"v-5ef65d74",path:"/pages/558212/",component:ol,beforeEnter:function(n,e,t){Zi("Layout","v-5ef65d74").then(t)}},{path:"/pages/558212/index.html",redirect:"/pages/558212/"},{path:"/åç«¯/01.JavaSE/13.åé.html",redirect:"/pages/558212/"},{name:"v-d2053d44",path:"/pages/3455ab/",component:ol,beforeEnter:function(n,e,t){Zi("Layout","v-d2053d44").then(t)}},{path:"/pages/3455ab/index.html",redirect:"/pages/3455ab/"},{path:"/åç«¯/01.JavaSE/25.ideaä¸­çè¾å©é®.html",redirect:"/pages/3455ab/"},{name:"v-3ec3ce6e",path:"/pages/0a58cf/",component:ol,beforeEnter:function(n,e,t){Zi("Layout","v-3ec3ce6e").then(t)}},{path:"/pages/0a58cf/index.html",redirect:"/pages/0a58cf/"},{path:"/åç«¯/01.JavaSE/28.é¢åå¯¹è±¡åºç¡.html",redirect:"/pages/0a58cf/"},{name:"v-6cdcad60",path:"/pages/db81b2/",component:ol,beforeEnter:function(n,e,t){Zi("Layout","v-6cdcad60").then(t)}},{path:"/pages/db81b2/index.html",redirect:"/pages/db81b2/"},{path:"/åç«¯/01.JavaSE/24.å¾ªç¯è¯­å¥.html",redirect:"/pages/db81b2/"},{name:"v-9df1bfda",path:"/pages/ab994e/",component:ol,beforeEnter:function(n,e,t){Zi("Layout","v-9df1bfda").then(t)}},{path:"/pages/ab994e/index.html",redirect:"/pages/ab994e/"},{path:"/åç«¯/01.JavaSE/29.æ åç±».html",redirect:"/pages/ab994e/"},{name:"v-e78fc5d0",path:"/pages/8361e2/",component:ol,beforeEnter:function(n,e,t){Zi("Layout","v-e78fc5d0").then(t)}},{path:"/pages/8361e2/index.html",redirect:"/pages/8361e2/"},{path:"/åç«¯/01.JavaSE/27.æ¹æ³.html",redirect:"/pages/8361e2/"},{name:"v-5aca27e4",path:"/pages/add390/",component:ol,beforeEnter:function(n,e,t){Zi("Layout","v-5aca27e4").then(t)}},{path:"/pages/add390/index.html",redirect:"/pages/add390/"},{path:"/åç«¯/01.JavaSE/26.æ°ç».html",redirect:"/pages/add390/"},{name:"v-1f373500",path:"/pages/8a171b/",component:ol,beforeEnter:function(n,e,t){Zi("Layout","v-1f373500").then(t)}},{path:"/pages/8a171b/index.html",redirect:"/pages/8a171b/"},{path:"/åç«¯/01.JavaSE/30.å­ç¬¦ä¸².html",redirect:"/pages/8a171b/"},{name:"v-625e23c3",path:"/pages/ab65fb/",component:ol,beforeEnter:function(n,e,t){Zi("Layout","v-625e23c3").then(t)}},{path:"/pages/ab65fb/index.html",redirect:"/pages/ab65fb/"},{path:"/åç«¯/01.JavaSE/31.ArrayListéå.html",redirect:"/pages/ab65fb/"},{name:"v-7189a78a",path:"/pages/f3b824/",component:ol,beforeEnter:function(n,e,t){Zi("Layout","v-7189a78a").then(t)}},{path:"/pages/f3b824/index.html",redirect:"/pages/f3b824/"},{path:"/åç«¯/01.JavaSE/33.ä¿®é¥°ç¬¦.html",redirect:"/pages/f3b824/"},{name:"v-5945b915",path:"/pages/c7fa91/",component:ol,beforeEnter:function(n,e,t){Zi("Layout","v-5945b915").then(t)}},{path:"/pages/c7fa91/index.html",redirect:"/pages/c7fa91/"},{path:"/åç«¯/01.JavaSE/32.ç»§æ¿.html",redirect:"/pages/c7fa91/"},{name:"v-71d4b5e7",path:"/pages/047301/",component:ol,beforeEnter:function(n,e,t){Zi("Layout","v-71d4b5e7").then(t)}},{path:"/pages/047301/index.html",redirect:"/pages/047301/"},{path:"/åç«¯/01.JavaSE/34.æéä¿®é¥°ç¬¦.html",redirect:"/pages/047301/"},{name:"v-78697e58",path:"/pages/392033/",component:ol,beforeEnter:function(n,e,t){Zi("Layout","v-78697e58").then(t)}},{path:"/pages/392033/index.html",redirect:"/pages/392033/"},{path:"/åç«¯/01.JavaSE/35.ç¶æä¿®é¥°ç¬¦.html",redirect:"/pages/392033/"},{name:"v-5d5bf6b5",path:"/pages/a12790/",component:ol,beforeEnter:function(n,e,t){Zi("Layout","v-5d5bf6b5").then(t)}},{path:"/pages/a12790/index.html",redirect:"/pages/a12790/"},{path:"/åç«¯/01.JavaSE/37.æ½è±¡.html",redirect:"/pages/a12790/"},{name:"v-7d483deb",path:"/pages/db4705/",component:ol,beforeEnter:function(n,e,t){Zi("Layout","v-7d483deb").then(t)}},{path:"/pages/db4705/index.html",redirect:"/pages/db4705/"},{path:"/åç«¯/01.JavaSE/38.æ¥å£.html",redirect:"/pages/db4705/"},{name:"v-4e5c8b8d",path:"/pages/6407a8/",component:ol,beforeEnter:function(n,e,t){Zi("Layout","v-4e5c8b8d").then(t)}},{path:"/pages/6407a8/index.html",redirect:"/pages/6407a8/"},{path:"/åç«¯/01.JavaSE/36.å¤æ.html",redirect:"/pages/6407a8/"},{name:"v-38d33902",path:"/pages/102423/",component:ol,beforeEnter:function(n,e,t){Zi("Layout","v-38d33902").then(t)}},{path:"/pages/102423/index.html",redirect:"/pages/102423/"},{path:"/åç«¯/01.JavaSE/40.æ½è±¡ç±»ä¸æ¥å£çåºå«.html",redirect:"/pages/102423/"},{name:"v-45335061",path:"/pages/b47784/",component:ol,beforeEnter:function(n,e,t){Zi("Layout","v-45335061").then(t)}},{path:"/pages/b47784/index.html",redirect:"/pages/b47784/"},{path:"/åç«¯/01.JavaSE/39.ç±»åæ¥å£çå³ç³».html",redirect:"/pages/b47784/"},{name:"v-2f94f67c",path:"/pages/86e52c/",component:ol,beforeEnter:function(n,e,t){Zi("Layout","v-2f94f67c").then(t)}},{path:"/pages/86e52c/index.html",redirect:"/pages/86e52c/"},{path:"/åç«¯/01.JavaSE/42.åé¨ç±».html",redirect:"/pages/86e52c/"},{name:"v-35580351",path:"/pages/a4cd8f/",component:ol,beforeEnter:function(n,e,t){Zi("Layout","v-35580351").then(t)}},{path:"/pages/a4cd8f/index.html",redirect:"/pages/a4cd8f/"},{path:"/åç«¯/01.JavaSE/43.Api.html",redirect:"/pages/a4cd8f/"},{name:"v-4fd19c04",path:"/pages/236d5b/",component:ol,beforeEnter:function(n,e,t){Zi("Layout","v-4fd19c04").then(t)}},{path:"/pages/236d5b/index.html",redirect:"/pages/236d5b/"},{path:"/åç«¯/01.JavaSE/44.å¼å¸¸.html",redirect:"/pages/236d5b/"},{name:"v-61452fab",path:"/pages/f58543/",component:ol,beforeEnter:function(n,e,t){Zi("Layout","v-61452fab").then(t)}},{path:"/pages/f58543/index.html",redirect:"/pages/f58543/"},{path:"/åç«¯/01.JavaSE/45.éå.html",redirect:"/pages/f58543/"},{name:"v-44cc2c9e",path:"/pages/384827/",component:ol,beforeEnter:function(n,e,t){Zi("Layout","v-44cc2c9e").then(t)}},{path:"/pages/384827/index.html",redirect:"/pages/384827/"},{path:"/åç«¯/01.JavaSE/41.ç±»åä½ä¸ºå½¢ååè¿åå¼.html",redirect:"/pages/384827/"},{name:"v-83d6ea7a",path:"/pages/5137f9/",component:ol,beforeEnter:function(n,e,t){Zi("Layout","v-83d6ea7a").then(t)}},{path:"/pages/5137f9/index.html",redirect:"/pages/5137f9/"},{path:"/åç«¯/01.JavaSE/47.Setéå.html",redirect:"/pages/5137f9/"},{name:"v-1bb60fa3",path:"/pages/6e8f69/",component:ol,beforeEnter:function(n,e,t){Zi("Layout","v-1bb60fa3").then(t)}},{path:"/pages/6e8f69/index.html",redirect:"/pages/6e8f69/"},{path:"/åç«¯/01.JavaSE/48.æ .html",redirect:"/pages/6e8f69/"},{name:"v-3336a5d0",path:"/pages/8b6f0f/",component:ol,beforeEnter:function(n,e,t){Zi("Layout","v-3336a5d0").then(t)}},{path:"/pages/8b6f0f/index.html",redirect:"/pages/8b6f0f/"},{path:"/åç«¯/01.JavaSE/49.TreeSetéå.html",redirect:"/pages/8b6f0f/"},{name:"v-36833f0c",path:"/pages/1793cd/",component:ol,beforeEnter:function(n,e,t){Zi("Layout","v-36833f0c").then(t)}},{path:"/pages/1793cd/index.html",redirect:"/pages/1793cd/"},{path:"/åç«¯/01.JavaSE/50.åå¸å¼.html",redirect:"/pages/1793cd/"},{name:"v-4a502c6c",path:"/pages/d6e1c4/",component:ol,beforeEnter:function(n,e,t){Zi("Layout","v-4a502c6c").then(t)}},{path:"/pages/d6e1c4/index.html",redirect:"/pages/d6e1c4/"},{path:"/åç«¯/01.JavaSE/46.æ³å.html",redirect:"/pages/d6e1c4/"},{name:"v-33880d43",path:"/pages/642d0a/",component:ol,beforeEnter:function(n,e,t){Zi("Layout","v-33880d43").then(t)}},{path:"/pages/642d0a/index.html",redirect:"/pages/642d0a/"},{path:"/åç«¯/01.JavaSE/52.HashSetéå.html",redirect:"/pages/642d0a/"},{name:"v-3495bce5",path:"/pages/7525b1/",component:ol,beforeEnter:function(n,e,t){Zi("Layout","v-3495bce5").then(t)}},{path:"/pages/7525b1/index.html",redirect:"/pages/7525b1/"},{path:"/åç«¯/01.JavaSE/51.åå¸è¡¨.html",redirect:"/pages/7525b1/"},{name:"v-25108381",path:"/pages/4fb557/",component:ol,beforeEnter:function(n,e,t){Zi("Layout","v-25108381").then(t)}},{path:"/pages/4fb557/index.html",redirect:"/pages/4fb557/"},{path:"/åç«¯/01.JavaSE/54.å¯ååæ°.html",redirect:"/pages/4fb557/"},{name:"v-241961c2",path:"/pages/7db438/",component:ol,beforeEnter:function(n,e,t){Zi("Layout","v-241961c2").then(t)}},{path:"/pages/7db438/index.html",redirect:"/pages/7db438/"},{path:"/åç«¯/01.JavaSE/55.åå»ºä¸å¯åçéå.html",redirect:"/pages/7db438/"},{name:"v-58c7430c",path:"/pages/b8041f/",component:ol,beforeEnter:function(n,e,t){Zi("Layout","v-58c7430c").then(t)}},{path:"/pages/b8041f/index.html",redirect:"/pages/b8041f/"},{path:"/åç«¯/01.JavaSE/53.Map éå.html",redirect:"/pages/b8041f/"},{name:"v-88879b54",path:"/pages/46103a/",component:ol,beforeEnter:function(n,e,t){Zi("Layout","v-88879b54").then(t)}},{path:"/pages/46103a/index.html",redirect:"/pages/46103a/"},{path:"/åç«¯/01.JavaSE/56.Streamæµ.html",redirect:"/pages/46103a/"},{name:"v-96b98cee",path:"/pages/48b908/",component:ol,beforeEnter:function(n,e,t){Zi("Layout","v-96b98cee").then(t)}},{path:"/pages/48b908/index.html",redirect:"/pages/48b908/"},{path:"/åç«¯/01.JavaSE/58.File.html",redirect:"/pages/48b908/"},{name:"v-3d06de88",path:"/pages/566611/",component:ol,beforeEnter:function(n,e,t){Zi("Layout","v-3d06de88").then(t)}},{path:"/pages/566611/index.html",redirect:"/pages/566611/"},{path:"/åç«¯/01.JavaSE/57.æ¹æ³å¼ç¨.html",redirect:"/pages/566611/"},{name:"v-05bbaf37",path:"/pages/c73ee4/",component:ol,beforeEnter:function(n,e,t){Zi("Layout","v-05bbaf37").then(t)}},{path:"/pages/c73ee4/index.html",redirect:"/pages/c73ee4/"},{path:"/åç«¯/01.JavaSE/60.å¤çº¿ç¨é«çº§.html",redirect:"/pages/c73ee4/"},{name:"v-97dc2282",path:"/pages/606294/",component:ol,beforeEnter:function(n,e,t){Zi("Layout","v-97dc2282").then(t)}},{path:"/pages/606294/index.html",redirect:"/pages/606294/"},{path:"/åç«¯/01.JavaSE/59.å¤çº¿ç¨.html",redirect:"/pages/606294/"},{name:"v-74f764f4",path:"/pages/fc7fd4/",component:ol,beforeEnter:function(n,e,t){Zi("Layout","v-74f764f4").then(t)}},{path:"/pages/fc7fd4/index.html",redirect:"/pages/fc7fd4/"},{path:"/åç«¯/01.JavaSE/61.ç½ç»ç¼ç¨.html",redirect:"/pages/fc7fd4/"},{name:"v-54b65e0e",path:"/pages/b3e612/",component:ol,beforeEnter:function(n,e,t){Zi("Layout","v-54b65e0e").then(t)}},{path:"/pages/b3e612/index.html",redirect:"/pages/b3e612/"},{path:"/åç«¯/01.JavaSE/63.åå°.html",redirect:"/pages/b3e612/"},{name:"v-3769da1c",path:"/pages/a33e90/",component:ol,beforeEnter:function(n,e,t){Zi("Layout","v-3769da1c").then(t)}},{path:"/pages/a33e90/index.html",redirect:"/pages/a33e90/"},{path:"/åç«¯/01.JavaSE/62.ç±»å è½½å¨.html",redirect:"/pages/a33e90/"},{name:"v-6611a25e",path:"/pages/6bad64/",component:ol,beforeEnter:function(n,e,t){Zi("Layout","v-6611a25e").then(t)}},{path:"/pages/6bad64/index.html",redirect:"/pages/6bad64/"},{path:"/åç«¯/01.JavaSE/64.XML.html",redirect:"/pages/6bad64/"},{name:"v-642b486a",path:"/pages/344d91/",component:ol,beforeEnter:function(n,e,t){Zi("Layout","v-642b486a").then(t)}},{path:"/pages/344d91/index.html",redirect:"/pages/344d91/"},{path:"/åç«¯/01.JavaSE/68.æ¥å¿.html",redirect:"/pages/344d91/"},{name:"v-29319666",path:"/pages/19426f/",component:ol,beforeEnter:function(n,e,t){Zi("Layout","v-29319666").then(t)}},{path:"/pages/19426f/index.html",redirect:"/pages/19426f/"},{path:"/åç«¯/01.JavaSE/65.æä¸¾.html",redirect:"/pages/19426f/"},{name:"v-ea37ced6",path:"/pages/7ba344/",component:ol,beforeEnter:function(n,e,t){Zi("Layout","v-ea37ced6").then(t)}},{path:"/pages/7ba344/index.html",redirect:"/pages/7ba344/"},{path:"/åç«¯/01.JavaSE/67.ååæµè¯.html",redirect:"/pages/7ba344/"},{name:"v-068038d1",path:"/pages/a7a164/",component:ol,beforeEnter:function(n,e,t){Zi("Layout","v-068038d1").then(t)}},{path:"/pages/a7a164/index.html",redirect:"/pages/a7a164/"},{path:"/åç«¯/01.JavaSE/69.HTTPåè®®.html",redirect:"/pages/a7a164/"},{name:"v-24b2db86",path:"/pages/d35ebd/",component:ol,beforeEnter:function(n,e,t){Zi("Layout","v-24b2db86").then(t)}},{path:"/pages/d35ebd/index.html",redirect:"/pages/d35ebd/"},{path:"/åç«¯/01.JavaSE/72.ååºå¯¹è±¡.html",redirect:"/pages/d35ebd/"},{name:"v-0c6ac868",path:"/pages/1bf317/",component:ol,beforeEnter:function(n,e,t){Zi("Layout","v-0c6ac868").then(t)}},{path:"/pages/1bf317/index.html",redirect:"/pages/1bf317/"},{path:"/åç«¯/01.JavaSE/66.æ³¨è§£.html",redirect:"/pages/1bf317/"},{name:"v-3c977991",path:"/pages/83bc98/",component:ol,beforeEnter:function(n,e,t){Zi("Layout","v-3c977991").then(t)}},{path:"/pages/83bc98/index.html",redirect:"/pages/83bc98/"},{path:"/åç«¯/01.JavaSE/71.è¯·æ±å¯¹è±¡.html",redirect:"/pages/83bc98/"},{name:"v-5d9b9aeb",path:"/pages/133dfe/",component:ol,beforeEnter:function(n,e,t){Zi("Layout","v-5d9b9aeb").then(t)}},{path:"/pages/133dfe/index.html",redirect:"/pages/133dfe/"},{path:"/åç«¯/01.JavaSE/73.Cookie.html",redirect:"/pages/133dfe/"},{name:"v-7703b171",path:"/pages/9c9dd6/",component:ol,beforeEnter:function(n,e,t){Zi("Layout","v-7703b171").then(t)}},{path:"/pages/9c9dd6/index.html",redirect:"/pages/9c9dd6/"},{path:"/åç«¯/01.JavaSE/70.Servlet.html",redirect:"/pages/9c9dd6/"},{name:"v-7a01132d",path:"/pages/544a3f/",component:ol,beforeEnter:function(n,e,t){Zi("Layout","v-7a01132d").then(t)}},{path:"/pages/544a3f/index.html",redirect:"/pages/544a3f/"},{path:"/åç«¯/02.JavaEE/01.JDBC.html",redirect:"/pages/544a3f/"},{name:"v-47db4091",path:"/pages/83bc22/",component:ol,beforeEnter:function(n,e,t){Zi("Layout","v-47db4091").then(t)}},{path:"/pages/83bc22/index.html",redirect:"/pages/83bc22/"},{path:"/åç«¯/01.JavaSE/74.Session.html",redirect:"/pages/83bc22/"},{name:"v-60e0d3b1",path:"/pages/c1aa2b/",component:ol,beforeEnter:function(n,e,t){Zi("Layout","v-60e0d3b1").then(t)}},{path:"/pages/c1aa2b/index.html",redirect:"/pages/c1aa2b/"},{path:"/åç«¯/02.JavaEE/02.MyBatis.html",redirect:"/pages/c1aa2b/"},{name:"v-6a96a0b1",path:"/pages/40c5ff/",component:ol,beforeEnter:function(n,e,t){Zi("Layout","v-6a96a0b1").then(t)}},{path:"/pages/40c5ff/index.html",redirect:"/pages/40c5ff/"},{path:"/åç«¯/02.JavaEE/04.Jedis.html",redirect:"/pages/40c5ff/"},{name:"v-33e328d1",path:"/pages/427528/",component:ol,beforeEnter:function(n,e,t){Zi("Layout","v-33e328d1").then(t)}},{path:"/pages/427528/index.html",redirect:"/pages/427528/"},{path:"/åç«¯/01.JavaSE/75.JSP.html",redirect:"/pages/427528/"},{name:"v-257128de",path:"/pages/70e34e/",component:ol,beforeEnter:function(n,e,t){Zi("Layout","v-257128de").then(t)}},{path:"/pages/70e34e/index.html",redirect:"/pages/70e34e/"},{path:"/åç«¯/01.JavaSE/76.Listener.html",redirect:"/pages/70e34e/"},{name:"v-2bbcab5e",path:"/pages/df2f58/",component:ol,beforeEnter:function(n,e,t){Zi("Layout","v-2bbcab5e").then(t)}},{path:"/pages/df2f58/index.html",redirect:"/pages/df2f58/"},{path:"/åç«¯/02.JavaEE/03.Jackson.html",redirect:"/pages/df2f58/"},{name:"v-73c846de",path:"/pages/682f06/",component:ol,beforeEnter:function(n,e,t){Zi("Layout","v-73c846de").then(t)}},{path:"/pages/682f06/index.html",redirect:"/pages/682f06/"},{path:"/åç«¯/02.JavaEE/05.Maven.html",redirect:"/pages/682f06/"},{name:"v-e1af82de",path:"/pages/528ce7/",component:ol,beforeEnter:function(n,e,t){Zi("Layout","v-e1af82de").then(t)}},{path:"/pages/528ce7/index.html",redirect:"/pages/528ce7/"},{path:"/åç«¯/02.JavaEE/06.POI.html",redirect:"/pages/528ce7/"},{name:"v-1bb1ec60",path:"/pages/127f3b/",component:ol,beforeEnter:function(n,e,t){Zi("Layout","v-1bb1ec60").then(t)}},{path:"/pages/127f3b/index.html",redirect:"/pages/127f3b/"},{path:"/åç«¯/02.JavaEE/09.Maven é«çº§.html",redirect:"/pages/127f3b/"},{name:"v-61c16c55",path:"/pages/17e650/",component:ol,beforeEnter:function(n,e,t){Zi("Layout","v-61c16c55").then(t)}},{path:"/pages/17e650/index.html",redirect:"/pages/17e650/"},{path:"/åç«¯/02.JavaEE/07.Spring.html",redirect:"/pages/17e650/"},{name:"v-7d022df1",path:"/pages/dc966e/",component:ol,beforeEnter:function(n,e,t){Zi("Layout","v-7d022df1").then(t)}},{path:"/pages/dc966e/index.html",redirect:"/pages/dc966e/"},{path:"/åç«¯/02.JavaEE/10.Dubbo.html",redirect:"/pages/dc966e/"},{name:"v-14c62766",path:"/pages/8cd1ce/",component:ol,beforeEnter:function(n,e,t){Zi("Layout","v-14c62766").then(t)}},{path:"/pages/8cd1ce/index.html",redirect:"/pages/8cd1ce/"},{path:"/åç«¯/02.JavaEE/08.Spring MVC.html",redirect:"/pages/8cd1ce/"},{name:"v-758de2ee",path:"/pages/ca6c88/",component:ol,beforeEnter:function(n,e,t){Zi("Layout","v-758de2ee").then(t)}},{path:"/pages/ca6c88/index.html",redirect:"/pages/ca6c88/"},{path:"/åç«¯/02.JavaEE/12.Spring Security.html",redirect:"/pages/ca6c88/"},{name:"v-43b009de",path:"/pages/7bc195/",component:ol,beforeEnter:function(n,e,t){Zi("Layout","v-43b009de").then(t)}},{path:"/pages/7bc195/index.html",redirect:"/pages/7bc195/"},{path:"/åç«¯/02.JavaEE/11.Zookeeper.html",redirect:"/pages/7bc195/"},{name:"v-16cba74e",path:"/pages/4f5fb3/",component:ol,beforeEnter:function(n,e,t){Zi("Layout","v-16cba74e").then(t)}},{path:"/pages/4f5fb3/index.html",redirect:"/pages/4f5fb3/"},{path:"/åç«¯/02.JavaEE/13.Spring Boot.html",redirect:"/pages/4f5fb3/"},{name:"v-37078826",path:"/pages/3a5e24/",component:ol,beforeEnter:function(n,e,t){Zi("Layout","v-37078826").then(t)}},{path:"/pages/3a5e24/index.html",redirect:"/pages/3a5e24/"},{path:"/åç«¯/02.JavaEE/15.RabbitMQ.html",redirect:"/pages/3a5e24/"},{name:"v-0f5ad0f4",path:"/pages/da3871/",component:ol,beforeEnter:function(n,e,t){Zi("Layout","v-0f5ad0f4").then(t)}},{path:"/pages/da3871/index.html",redirect:"/pages/da3871/"},{path:"/åç«¯/02.JavaEE/16.RabbitMQ é«çº§.html",redirect:"/pages/da3871/"},{name:"v-3859f86a",path:"/pages/207023/",component:ol,beforeEnter:function(n,e,t){Zi("Layout","v-3859f86a").then(t)}},{path:"/pages/207023/index.html",redirect:"/pages/207023/"},{path:"/åç«¯/02.JavaEE/14.Spring Boot é«çº§.html",redirect:"/pages/207023/"},{name:"v-01a7b822",path:"/pages/c588b5/",component:ol,beforeEnter:function(n,e,t){Zi("Layout","v-01a7b822").then(t)}},{path:"/pages/c588b5/index.html",redirect:"/pages/c588b5/"},{path:"/åç«¯/02.JavaEE/18.Docker.html",redirect:"/pages/c588b5/"},{name:"v-22d9c6ec",path:"/pages/e886f8/",component:ol,beforeEnter:function(n,e,t){Zi("Layout","v-22d9c6ec").then(t)}},{path:"/pages/e886f8/index.html",redirect:"/pages/e886f8/"},{path:"/åç«¯/02.JavaEE/17.Spring Cloud.html",redirect:"/pages/e886f8/"},{name:"v-766b181e",path:"/pages/95da1a/",component:ol,beforeEnter:function(n,e,t){Zi("Layout","v-766b181e").then(t)}},{path:"/pages/95da1a/index.html",redirect:"/pages/95da1a/"},{path:"/åç«¯/02.JavaEE/19.ElasticSearch.html",redirect:"/pages/95da1a/"},{name:"v-bf6ac024",path:"/pages/cf92bb/",component:ol,beforeEnter:function(n,e,t){Zi("Layout","v-bf6ac024").then(t)}},{path:"/pages/cf92bb/index.html",redirect:"/pages/cf92bb/"},{path:"/åç«¯/02.JavaEE/20.ElasticSearch é«çº§.html",redirect:"/pages/cf92bb/"},{name:"v-44752817",path:"/pages/0aeef9/",component:ol,beforeEnter:function(n,e,t){Zi("Layout","v-44752817").then(t)}},{path:"/pages/0aeef9/index.html",redirect:"/pages/0aeef9/"},{path:"/åç«¯/03.Linux/03.Nginx.html",redirect:"/pages/0aeef9/"},{name:"v-06144067",path:"/pages/124a07/",component:ol,beforeEnter:function(n,e,t){Zi("Layout","v-06144067").then(t)}},{path:"/pages/124a07/index.html",redirect:"/pages/124a07/"},{path:"/åç«¯/03.Linux/01.Linux.html",redirect:"/pages/124a07/"},{name:"v-424bdfb7",path:"/pages/a70c4f/",component:ol,beforeEnter:function(n,e,t){Zi("Layout","v-424bdfb7").then(t)}},{path:"/pages/a70c4f/index.html",redirect:"/pages/a70c4f/"},{path:"/åç«¯/03.Linux/04.java.html",redirect:"/pages/a70c4f/"},{name:"v-73daf8d7",path:"/pages/f323f1/",component:ol,beforeEnter:function(n,e,t){Zi("Layout","v-73daf8d7").then(t)}},{path:"/pages/f323f1/index.html",redirect:"/pages/f323f1/"},{path:"/åç«¯/03.Linux/05.Tomcat.html",redirect:"/pages/f323f1/"},{name:"v-a6e0fd06",path:"/pages/e051f6/",component:ol,beforeEnter:function(n,e,t){Zi("Layout","v-a6e0fd06").then(t)}},{path:"/pages/e051f6/index.html",redirect:"/pages/e051f6/"},{path:"/åç«¯/04.SQL/01.å¸¸è§çæ°æ®åºäº§å.html",redirect:"/pages/e051f6/"},{name:"v-3d56846d",path:"/pages/f9e4a1/",component:ol,beforeEnter:function(n,e,t){Zi("Layout","v-3d56846d").then(t)}},{path:"/pages/f9e4a1/index.html",redirect:"/pages/f9e4a1/"},{path:"/åç«¯/03.Linux/02.shell.html",redirect:"/pages/f9e4a1/"},{name:"v-3072118a",path:"/pages/641ffa/",component:ol,beforeEnter:function(n,e,t){Zi("Layout","v-3072118a").then(t)}},{path:"/pages/641ffa/index.html",redirect:"/pages/641ffa/"},{path:"/åç«¯/04.SQL/04.MySQLæå¡ç«¯.html",redirect:"/pages/641ffa/"},{name:"v-31cc3bd2",path:"/pages/d2b3d3/",component:ol,beforeEnter:function(n,e,t){Zi("Layout","v-31cc3bd2").then(t)}},{path:"/pages/d2b3d3/index.html",redirect:"/pages/d2b3d3/"},{path:"/åç«¯/04.SQL/03.æ°æ®åºå­å¨æ°æ®çç¹ç¹.html",redirect:"/pages/d2b3d3/"},{name:"v-b2a04030",path:"/pages/4b2b60/",component:ol,beforeEnter:function(n,e,t){Zi("Layout","v-b2a04030").then(t)}},{path:"/pages/4b2b60/index.html",redirect:"/pages/4b2b60/"},{path:"/åç«¯/04.SQL/02.æ°æ®åºç¸å³æ¦å¿µ.html",redirect:"/pages/4b2b60/"},{name:"v-3a8393e0",path:"/pages/a4dffe/",component:ol,beforeEnter:function(n,e,t){Zi("Layout","v-3a8393e0").then(t)}},{path:"/pages/a4dffe/index.html",redirect:"/pages/a4dffe/"},{path:"/åç«¯/04.SQL/05.ç¯å¢åé.html",redirect:"/pages/a4dffe/"},{name:"v-4e1ae1c0",path:"/pages/8c64bc/",component:ol,beforeEnter:function(n,e,t){Zi("Layout","v-4e1ae1c0").then(t)}},{path:"/pages/8c64bc/index.html",redirect:"/pages/8c64bc/"},{path:"/åç«¯/04.SQL/06.å½ä»¤ç¬¦æä»¤.html",redirect:"/pages/8c64bc/"},{name:"v-3049bd10",path:"/pages/04fedb/",component:ol,beforeEnter:function(n,e,t){Zi("Layout","v-3049bd10").then(t)}},{path:"/pages/04fedb/index.html",redirect:"/pages/04fedb/"},{path:"/åç«¯/04.SQL/08.æ°æ®åº.html",redirect:"/pages/04fedb/"},{name:"v-2b35c500",path:"/pages/4c9417/",component:ol,beforeEnter:function(n,e,t){Zi("Layout","v-2b35c500").then(t)}},{path:"/pages/4c9417/index.html",redirect:"/pages/4c9417/"},{path:"/åç«¯/04.SQL/07.SQLè¯­å¥.html",redirect:"/pages/4c9417/"},{name:"v-64db6885",path:"/pages/de8702/",component:ol,beforeEnter:function(n,e,t){Zi("Layout","v-64db6885").then(t)}},{path:"/pages/de8702/index.html",redirect:"/pages/de8702/"},{path:"/åç«¯/04.SQL/10.çº¦æ.html",redirect:"/pages/de8702/"},{name:"v-16aed12b",path:"/pages/89e8d8/",component:ol,beforeEnter:function(n,e,t){Zi("Layout","v-16aed12b").then(t)}},{path:"/pages/89e8d8/index.html",redirect:"/pages/89e8d8/"},{path:"/åç«¯/04.SQL/11.å¤è¡¨æä½.html",redirect:"/pages/89e8d8/"},{name:"v-6265be4e",path:"/pages/5a2265/",component:ol,beforeEnter:function(n,e,t){Zi("Layout","v-6265be4e").then(t)}},{path:"/pages/5a2265/index.html",redirect:"/pages/5a2265/"},{path:"/åç«¯/04.SQL/09.è¡¨.html",redirect:"/pages/5a2265/"},{name:"v-d9c864d4",path:"/pages/336822/",component:ol,beforeEnter:function(n,e,t){Zi("Layout","v-d9c864d4").then(t)}},{path:"/pages/336822/index.html",redirect:"/pages/336822/"},{path:"/åç«¯/04.SQL/14.MySQL å­å¨è¿ç¨åå½æ°.html",redirect:"/pages/336822/"},{name:"v-95af4b10",path:"/pages/f561ab/",component:ol,beforeEnter:function(n,e,t){Zi("Layout","v-95af4b10").then(t)}},{path:"/pages/f561ab/index.html",redirect:"/pages/f561ab/"},{path:"/åç«¯/04.SQL/13.å¤ä»½.html",redirect:"/pages/f561ab/"},{name:"v-168103c0",path:"/pages/3293cf/",component:ol,beforeEnter:function(n,e,t){Zi("Layout","v-168103c0").then(t)}},{path:"/pages/3293cf/index.html",redirect:"/pages/3293cf/"},{path:"/åç«¯/04.SQL/12.è§å¾.html",redirect:"/pages/3293cf/"},{name:"v-6dca1220",path:"/pages/4c8706/",component:ol,beforeEnter:function(n,e,t){Zi("Layout","v-6dca1220").then(t)}},{path:"/pages/4c8706/index.html",redirect:"/pages/4c8706/"},{path:"/åç«¯/04.SQL/16.äºå¡.html",redirect:"/pages/4c8706/"},{name:"v-36a8fca6",path:"/pages/7d59ad/",component:ol,beforeEnter:function(n,e,t){Zi("Layout","v-36a8fca6").then(t)}},{path:"/pages/7d59ad/index.html",redirect:"/pages/7d59ad/"},{path:"/åç«¯/04.SQL/17.å­å¨å¼æ.html",redirect:"/pages/7d59ad/"},{name:"v-341ec21e",path:"/pages/108b35/",component:ol,beforeEnter:function(n,e,t){Zi("Layout","v-341ec21e").then(t)}},{path:"/pages/108b35/index.html",redirect:"/pages/108b35/"},{path:"/åç«¯/04.SQL/15.è§¦åå¨.html",redirect:"/pages/108b35/"},{name:"v-1cd8dcd0",path:"/pages/acc2dd/",component:ol,beforeEnter:function(n,e,t){Zi("Layout","v-1cd8dcd0").then(t)}},{path:"/pages/acc2dd/index.html",redirect:"/pages/acc2dd/"},{path:"/åç«¯/04.SQL/18.ç´¢å¼.html",redirect:"/pages/acc2dd/"},{name:"v-c42b5e22",path:"/pages/3ca264/",component:ol,beforeEnter:function(n,e,t){Zi("Layout","v-c42b5e22").then(t)}},{path:"/pages/3ca264/index.html",redirect:"/pages/3ca264/"},{path:"/åç«¯/04.SQL/20.MyCat ä¸­é´ä»¶.html",redirect:"/pages/3ca264/"},{name:"v-b10c11a2",path:"/pages/4a12e8/",component:ol,beforeEnter:function(n,e,t){Zi("Layout","v-b10c11a2").then(t)}},{path:"/pages/4a12e8/index.html",redirect:"/pages/4a12e8/"},{path:"/åç«¯/04.SQL/21.Nosql.html",redirect:"/pages/4a12e8/"},{name:"v-3a75541f",path:"/pages/3c034d/",component:ol,beforeEnter:function(n,e,t){Zi("Layout","v-3a75541f").then(t)}},{path:"/pages/3c034d/index.html",redirect:"/pages/3c034d/"},{path:"/åç«¯/04.SQL/19.é.html",redirect:"/pages/3c034d/"},{name:"v-47095aee",path:"/pages/4e4f7f/",component:ol,beforeEnter:function(n,e,t){Zi("Layout","v-47095aee").then(t)}},{path:"/pages/4e4f7f/index.html",redirect:"/pages/4e4f7f/"},{path:"/åç«¯/04.SQL/23.Redisé«çº§.html",redirect:"/pages/4e4f7f/"},{name:"v-309ca6de",path:"/pages/a002c8/",component:ol,beforeEnter:function(n,e,t){Zi("Layout","v-309ca6de").then(t)}},{path:"/pages/a002c8/index.html",redirect:"/pages/a002c8/"},{path:"/åç«¯/04.SQL/22.Redis.html",redirect:"/pages/a002c8/"},{name:"v-702958dc",path:"/pages/d37106/",component:ol,beforeEnter:function(n,e,t){Zi("Layout","v-702958dc").then(t)}},{path:"/pages/d37106/index.html",redirect:"/pages/d37106/"},{path:"/åç«¯/05.Python/04.æ³¨é.html",redirect:"/pages/d37106/"},{name:"v-16a2d958",path:"/pages/0c7ca5/",component:ol,beforeEnter:function(n,e,t){Zi("Layout","v-16a2d958").then(t)}},{path:"/pages/0c7ca5/index.html",redirect:"/pages/0c7ca5/"},{path:"/åç«¯/05.Python/02.close project.html",redirect:"/pages/0c7ca5/"},{name:"v-9c066f90",path:"/pages/f3c5b0/",component:ol,beforeEnter:function(n,e,t){Zi("Layout","v-9c066f90").then(t)}},{path:"/pages/f3c5b0/index.html",redirect:"/pages/f3c5b0/"},{path:"/åç«¯/05.Python/05.åéä»¥åæ°æ®ç±»å.html",redirect:"/pages/f3c5b0/"},{name:"v-0680b9de",path:"/pages/35c9ab/",component:ol,beforeEnter:function(n,e,t){Zi("Layout","v-0680b9de").then(t)}},{path:"/pages/35c9ab/index.html",redirect:"/pages/35c9ab/"},{path:"/åç«¯/05.Python/01.IDE.html",redirect:"/pages/35c9ab/"},{name:"v-410d528c",path:"/pages/ec9ba3/",component:ol,beforeEnter:function(n,e,t){Zi("Layout","v-410d528c").then(t)}},{path:"/pages/ec9ba3/index.html",redirect:"/pages/ec9ba3/"},{path:"/åç«¯/05.Python/03.äº¤äºæ§ç¼ç¨.html",redirect:"/pages/ec9ba3/"},{name:"v-1003aec2",path:"/pages/e5cb41/",component:ol,beforeEnter:function(n,e,t){Zi("Layout","v-1003aec2").then(t)}},{path:"/pages/e5cb41/index.html",redirect:"/pages/e5cb41/"},{path:"/åç«¯/04.SQL/24.MongoDB.html",redirect:"/pages/e5cb41/"},{name:"v-75630836",path:"/pages/11c241/",component:ol,beforeEnter:function(n,e,t){Zi("Layout","v-75630836").then(t)}},{path:"/pages/11c241/index.html",redirect:"/pages/11c241/"},{path:"/åç«¯/05.Python/08.éåç±»å.html",redirect:"/pages/11c241/"},{name:"v-8b08f0b2",path:"/pages/d7e80b/",component:ol,beforeEnter:function(n,e,t){Zi("Layout","v-8b08f0b2").then(t)}},{path:"/pages/d7e80b/index.html",redirect:"/pages/d7e80b/"},{path:"/åç«¯/05.Python/06.åè¡¨ç±»å.html",redirect:"/pages/d7e80b/"},{name:"v-aa36ff9c",path:"/pages/1f8618/",component:ol,beforeEnter:function(n,e,t){Zi("Layout","v-aa36ff9c").then(t)}},{path:"/pages/1f8618/index.html",redirect:"/pages/1f8618/"},{path:"/åç«¯/05.Python/10.æ¥çæ°æ®ç±»å.html",redirect:"/pages/1f8618/"},{name:"v-51da2d27",path:"/pages/bbada7/",component:ol,beforeEnter:function(n,e,t){Zi("Layout","v-51da2d27").then(t)}},{path:"/pages/bbada7/index.html",redirect:"/pages/bbada7/"},{path:"/åç«¯/05.Python/07.å­å¸ç±»å.html",redirect:"/pages/bbada7/"},{name:"v-55473949",path:"/pages/684f07/",component:ol,beforeEnter:function(n,e,t){Zi("Layout","v-55473949").then(t)}},{path:"/pages/684f07/index.html",redirect:"/pages/684f07/"},{path:"/åç«¯/05.Python/09.åç»ç±»å.html",redirect:"/pages/684f07/"},{name:"v-7b8967f0",path:"/pages/1d58f1/",component:ol,beforeEnter:function(n,e,t){Zi("Layout","v-7b8967f0").then(t)}},{path:"/pages/1d58f1/index.html",redirect:"/pages/1d58f1/"},{path:"/åç«¯/05.Python/12.è¾åº.html",redirect:"/pages/1d58f1/"},{name:"v-f2fe618e",path:"/pages/d9c568/",component:ol,beforeEnter:function(n,e,t){Zi("Layout","v-f2fe618e").then(t)}},{path:"/pages/d9c568/index.html",redirect:"/pages/d9c568/"},{path:"/åç«¯/05.Python/11.æ è¯ç¬¦.html",redirect:"/pages/d9c568/"},{name:"v-47dc7e48",path:"/pages/c9ca02/",component:ol,beforeEnter:function(n,e,t){Zi("Layout","v-47dc7e48").then(t)}},{path:"/pages/c9ca02/index.html",redirect:"/pages/c9ca02/"},{path:"/åç«¯/05.Python/13.è¾å¥.html",redirect:"/pages/c9ca02/"},{name:"v-38a8ef5e",path:"/pages/1e0ec6/",component:ol,beforeEnter:function(n,e,t){Zi("Layout","v-38a8ef5e").then(t)}},{path:"/pages/1e0ec6/index.html",redirect:"/pages/1e0ec6/"},{path:"/åç«¯/05.Python/16.binãoctãhexåç½®å½æ°.html",redirect:"/pages/1e0ec6/"},{name:"v-4601280a",path:"/pages/e533d0/",component:ol,beforeEnter:function(n,e,t){Zi("Layout","v-4601280a").then(t)}},{path:"/pages/e533d0/index.html",redirect:"/pages/e533d0/"},{path:"/åç«¯/05.Python/15.è¿å¶è½¬æ¢.html",redirect:"/pages/e533d0/"},{name:"v-457b85c0",path:"/pages/ebc10c/",component:ol,beforeEnter:function(n,e,t){Zi("Layout","v-457b85c0").then(t)}},{path:"/pages/ebc10c/index.html",redirect:"/pages/ebc10c/"},{path:"/åç«¯/05.Python/17.æ°æ®ç±»åçè½¬æ¢.html",redirect:"/pages/ebc10c/"},{name:"v-ceac6f68",path:"/pages/6019e1/",component:ol,beforeEnter:function(n,e,t){Zi("Layout","v-ceac6f68").then(t)}},{path:"/pages/6019e1/index.html",redirect:"/pages/6019e1/"},{path:"/åç«¯/05.Python/14.äºè¿å¶ å«è¿å¶ åè¿å¶ åå­è¿å¶.html",redirect:"/pages/6019e1/"},{name:"v-43b7262a",path:"/pages/acb0af/",component:ol,beforeEnter:function(n,e,t){Zi("Layout","v-43b7262a").then(t)}},{path:"/pages/acb0af/index.html",redirect:"/pages/acb0af/"},{path:"/åç«¯/05.Python/18.ç®æ°è¿ç®ç¬¦.html",redirect:"/pages/acb0af/"},{name:"v-314e9546",path:"/pages/687726/",component:ol,beforeEnter:function(n,e,t){Zi("Layout","v-314e9546").then(t)}},{path:"/pages/687726/index.html",redirect:"/pages/687726/"},{path:"/åç«¯/05.Python/19.åå².html",redirect:"/pages/687726/"},{name:"v-2e61c2f3",path:"/pages/a15165/",component:ol,beforeEnter:function(n,e,t){Zi("Layout","v-2e61c2f3").then(t)}},{path:"/pages/a15165/index.html",redirect:"/pages/a15165/"},{path:"/åç«¯/05.Python/21.æå4ä½æ°çåä½æ°.html",redirect:"/pages/a15165/"},{name:"v-05d97d43",path:"/pages/4d8423/",component:ol,beforeEnter:function(n,e,t){Zi("Layout","v-05d97d43").then(t)}},{path:"/pages/4d8423/index.html",redirect:"/pages/4d8423/"},{path:"/åç«¯/05.Python/22.é¸¡ååç¬¼.html",redirect:"/pages/4d8423/"},{name:"v-54d2601a",path:"/pages/c13570/",component:ol,beforeEnter:function(n,e,t){Zi("Layout","v-54d2601a").then(t)}},{path:"/pages/c13570/index.html",redirect:"/pages/c13570/"},{path:"/åç«¯/05.Python/20.äº¤æ¢åéçå¼.html",redirect:"/pages/c13570/"},{name:"v-36fd303c",path:"/pages/70c3fd/",component:ol,beforeEnter:function(n,e,t){Zi("Layout","v-36fd303c").then(t)}},{path:"/pages/70c3fd/index.html",redirect:"/pages/70c3fd/"},{path:"/åç«¯/05.Python/25.é»è¾è¿ç®ç¬¦.html",redirect:"/pages/70c3fd/"},{name:"v-74d7ff21",path:"/pages/661f38/",component:ol,beforeEnter:function(n,e,t){Zi("Layout","v-74d7ff21").then(t)}},{path:"/pages/661f38/index.html",redirect:"/pages/661f38/"},{path:"/åç«¯/05.Python/24.æ¯è¾è¿ç®ç¬¦.html",redirect:"/pages/661f38/"},{name:"v-635d2d7a",path:"/pages/8f779d/",component:ol,beforeEnter:function(n,e,t){Zi("Layout","v-635d2d7a").then(t)}},{path:"/pages/8f779d/index.html",redirect:"/pages/8f779d/"},{path:"/åç«¯/05.Python/26.ä½è¿ç®ç¬¦.html",redirect:"/pages/8f779d/"},{name:"v-1bd5106a",path:"/pages/bc04ac/",component:ol,beforeEnter:function(n,e,t){Zi("Layout","v-1bd5106a").then(t)}},{path:"/pages/bc04ac/index.html",redirect:"/pages/bc04ac/"},{path:"/åç«¯/05.Python/23.åçå¬å¼.html",redirect:"/pages/bc04ac/"},{name:"v-534da396",path:"/pages/9cbf41/",component:ol,beforeEnter:function(n,e,t){Zi("Layout","v-534da396").then(t)}},{path:"/pages/9cbf41/index.html",redirect:"/pages/9cbf41/"},{path:"/åç«¯/05.Python/29.if â¦elifâ¦elifçä½¿ç¨.html",redirect:"/pages/9cbf41/"},{name:"v-87e6b8fc",path:"/pages/689d0c/",component:ol,beforeEnter:function(n,e,t){Zi("Layout","v-87e6b8fc").then(t)}},{path:"/pages/689d0c/index.html",redirect:"/pages/689d0c/"},{path:"/åç«¯/05.Python/27.è¿ç®ç¬¦çä¼åçº§.html",redirect:"/pages/689d0c/"},{name:"v-07ac2091",path:"/pages/0f98fb/",component:ol,beforeEnter:function(n,e,t){Zi("Layout","v-07ac2091").then(t)}},{path:"/pages/0f98fb/index.html",redirect:"/pages/0f98fb/"},{path:"/åç«¯/05.Python/28.if else  åæ¯ æ¡ä»¶å¤æ­è¯­å¥.html",redirect:"/pages/0f98fb/"},{name:"v-0c44b074",path:"/pages/921d6f/",component:ol,beforeEnter:function(n,e,t){Zi("Layout","v-0c44b074").then(t)}},{path:"/pages/921d6f/index.html",redirect:"/pages/921d6f/"},{path:"/åç«¯/05.Python/32.è°è¯ä»£ç (Debug).html",redirect:"/pages/921d6f/"},{name:"v-50b2e256",path:"/pages/a08b12/",component:ol,beforeEnter:function(n,e,t){Zi("Layout","v-50b2e256").then(t)}},{path:"/pages/a08b12/index.html",redirect:"/pages/a08b12/"},{path:"/åç«¯/05.Python/30.ifä¸­çéæ§è½¬å.html",redirect:"/pages/a08b12/"},{name:"v-947b9e0a",path:"/pages/6be9fd/",component:ol,beforeEnter:function(n,e,t){Zi("Layout","v-947b9e0a").then(t)}},{path:"/pages/6be9fd/index.html",redirect:"/pages/6be9fd/"},{path:"/åç«¯/05.Python/31.ä¸åè¡¨è¾¾å¼.html",redirect:"/pages/6be9fd/"},{name:"v-6f5fde1c",path:"/pages/5f7ab5/",component:ol,beforeEnter:function(n,e,t){Zi("Layout","v-6f5fde1c").then(t)}},{path:"/pages/5f7ab5/index.html",redirect:"/pages/5f7ab5/"},{path:"/åç«¯/05.Python/34.çæ³æ¸¸æ.html",redirect:"/pages/5f7ab5/"},{name:"v-41675d98",path:"/pages/1f3eec/",component:ol,beforeEnter:function(n,e,t){Zi("Layout","v-41675d98").then(t)}},{path:"/pages/1f3eec/index.html",redirect:"/pages/1f3eec/"},{path:"/åç«¯/05.Python/33.passè¯­å¥.html",redirect:"/pages/1f3eec/"},{name:"v-f624614c",path:"/pages/559847/",component:ol,beforeEnter:function(n,e,t){Zi("Layout","v-f624614c").then(t)}},{path:"/pages/559847/index.html",redirect:"/pages/559847/"},{path:"/åç«¯/05.Python/35.éæºæ°.html",redirect:"/pages/559847/"},{name:"v-3cd48312",path:"/pages/aed4d8/",component:ol,beforeEnter:function(n,e,t){Zi("Layout","v-3cd48312").then(t)}},{path:"/pages/aed4d8/index.html",redirect:"/pages/aed4d8/"},{path:"/åç«¯/05.Python/36.å¾ªç¯.html",redirect:"/pages/aed4d8/"},{name:"v-2075c59e",path:"/pages/d3bc75/",component:ol,beforeEnter:function(n,e,t){Zi("Layout","v-2075c59e").then(t)}},{path:"/pages/d3bc75/index.html",redirect:"/pages/d3bc75/"},{path:"/åç«¯/05.Python/38.å¿«æ·é®.html",redirect:"/pages/d3bc75/"},{name:"v-9421b7d2",path:"/pages/2d9020/",component:ol,beforeEnter:function(n,e,t){Zi("Layout","v-9421b7d2").then(t)}},{path:"/pages/2d9020/index.html",redirect:"/pages/2d9020/"},{path:"/åç«¯/05.Python/39.æ´æ¹æä¸ªåéå¨é¨ä»£ç .html",redirect:"/pages/2d9020/"},{name:"v-88a93a4e",path:"/pages/6bc87f/",component:ol,beforeEnter:function(n,e,t){Zi("Layout","v-88a93a4e").then(t)}},{path:"/pages/6bc87f/index.html",redirect:"/pages/6bc87f/"},{path:"/åç«¯/05.Python/37.range çä½¿ç¨.html",redirect:"/pages/6bc87f/"},{name:"v-c0ebeed8",path:"/pages/f14379/",component:ol,beforeEnter:function(n,e,t){Zi("Layout","v-c0ebeed8").then(t)}},{path:"/pages/f14379/index.html",redirect:"/pages/f14379/"},{path:"/åç«¯/07.Pythonæ¨¡å/02.Beautifulsoup4.html",redirect:"/pages/f14379/"},{name:"v-689f8518",path:"/pages/cf7131/",component:ol,beforeEnter:function(n,e,t){Zi("Layout","v-689f8518").then(t)}},{path:"/pages/cf7131/index.html",redirect:"/pages/cf7131/"},{path:"/åç«¯/07.Pythonæ¨¡å/01.request.html",redirect:"/pages/cf7131/"},{name:"v-94fc8dd8",path:"/pages/4ab7a0/",component:ol,beforeEnter:function(n,e,t){Zi("Layout","v-94fc8dd8").then(t)}},{path:"/pages/4ab7a0/index.html",redirect:"/pages/4ab7a0/"},{path:"/åç«¯/07.Pythonæ¨¡å/04.jieba.html",redirect:"/pages/4ab7a0/"},{name:"v-30e5d4a2",path:"/pages/a3d900/",component:ol,beforeEnter:function(n,e,t){Zi("Layout","v-30e5d4a2").then(t)}},{path:"/pages/a3d900/index.html",redirect:"/pages/a3d900/"},{path:"/åç«¯/07.Pythonæ¨¡å/03.re æ­£åè¡¨è¾¾å¼.html",redirect:"/pages/a3d900/"},{name:"v-4a91f9f8",path:"/pages/34405e/",component:ol,beforeEnter:function(n,e,t){Zi("Layout","v-4a91f9f8").then(t)}},{path:"/pages/34405e/index.html",redirect:"/pages/34405e/"},{path:"/åç«¯/07.Pythonæ¨¡å/06.selenium.html",redirect:"/pages/34405e/"},{name:"v-5c159d57",path:"/pages/ddf9fb/",component:ol,beforeEnter:function(n,e,t){Zi("Layout","v-5c159d57").then(t)}},{path:"/pages/ddf9fb/index.html",redirect:"/pages/ddf9fb/"},{path:"/åç«¯/08.æºå¨å­¦ä¹ /01.æºå¨å­¦ä¹ .html",redirect:"/pages/ddf9fb/"},{name:"v-6748a4dc",path:"/pages/fd5355/",component:ol,beforeEnter:function(n,e,t){Zi("Layout","v-6748a4dc").then(t)}},{path:"/pages/fd5355/index.html",redirect:"/pages/fd5355/"},{path:"/åç«¯/07.Pythonæ¨¡å/07.time.html",redirect:"/pages/fd5355/"},{name:"v-16076614",path:"/pages/a6ad03/",component:ol,beforeEnter:function(n,e,t){Zi("Layout","v-16076614").then(t)}},{path:"/pages/a6ad03/index.html",redirect:"/pages/a6ad03/"},{path:"/åç«¯/07.Pythonæ¨¡å/08.Falsk.html",redirect:"/pages/a6ad03/"},{name:"v-3e534332",path:"/pages/f8134b/",component:ol,beforeEnter:function(n,e,t){Zi("Layout","v-3e534332").then(t)}},{path:"/pages/f8134b/index.html",redirect:"/pages/f8134b/"},{path:"/åç«¯/07.Pythonæ¨¡å/05.pymysql  æ°æ®åºè°ç¨.html",redirect:"/pages/f8134b/"},{name:"v-56a1eebf",path:"/pages/9e1ba1/",component:ol,beforeEnter:function(n,e,t){Zi("Layout","v-56a1eebf").then(t)}},{path:"/pages/9e1ba1/index.html",redirect:"/pages/9e1ba1/"},{path:"/åç«¯/08.æºå¨å­¦ä¹ /02.matplotlib.html",redirect:"/pages/9e1ba1/"},{name:"v-6c324d6f",path:"/pages/a58615/",component:ol,beforeEnter:function(n,e,t){Zi("Layout","v-6c324d6f").then(t)}},{path:"/pages/a58615/index.html",redirect:"/pages/a58615/"},{path:"/åç«¯/08.æºå¨å­¦ä¹ /03.Numpy.html",redirect:"/pages/a58615/"},{name:"v-c631dd4e",path:"/pages/3f7274/",component:ol,beforeEnter:function(n,e,t){Zi("Layout","v-c631dd4e").then(t)}},{path:"/pages/3f7274/index.html",redirect:"/pages/3f7274/"},{path:"/åç«¯/08.æºå¨å­¦ä¹ /04.Pandas.html",redirect:"/pages/3f7274/"},{name:"v-9c664796",path:"/pages/981612/",component:ol,beforeEnter:function(n,e,t){Zi("Layout","v-9c664796").then(t)}},{path:"/pages/981612/index.html",redirect:"/pages/981612/"},{path:"/å¤§æ°æ®/01.Hadoop/04.winutils.html",redirect:"/pages/981612/"},{name:"v-3b8fa256",path:"/pages/8e0c98/",component:ol,beforeEnter:function(n,e,t){Zi("Layout","v-3b8fa256").then(t)}},{path:"/pages/8e0c98/index.html",redirect:"/pages/8e0c98/"},{path:"/å¤§æ°æ®/01.Hadoop/01.Hadoop.html",redirect:"/pages/8e0c98/"},{name:"v-ef3e7878",path:"/pages/083fca/",component:ol,beforeEnter:function(n,e,t){Zi("Layout","v-ef3e7878").then(t)}},{path:"/pages/083fca/index.html",redirect:"/pages/083fca/"},{path:"/å¤§æ°æ®/01.Hadoop/02.ç¯å¢å®è£.html",redirect:"/pages/083fca/"},{name:"v-91bab1e0",path:"/pages/9ce9a0/",component:ol,beforeEnter:function(n,e,t){Zi("Layout","v-91bab1e0").then(t)}},{path:"/pages/9ce9a0/index.html",redirect:"/pages/9ce9a0/"},{path:"/å¤§æ°æ®/01.Hadoop/06.javaæä½.html",redirect:"/pages/9ce9a0/"},{name:"v-9c36cd5e",path:"/pages/7e6b01/",component:ol,beforeEnter:function(n,e,t){Zi("Layout","v-9c36cd5e").then(t)}},{path:"/pages/7e6b01/index.html",redirect:"/pages/7e6b01/"},{path:"/å¤§æ°æ®/01.Hadoop/05.IDEAä¸­åå»ºhadoopé¡¹ç®.html",redirect:"/pages/7e6b01/"},{name:"v-0cd4d5ee",path:"/pages/bbfc59/",component:ol,beforeEnter:function(n,e,t){Zi("Layout","v-0cd4d5ee").then(t)}},{path:"/pages/bbfc59/index.html",redirect:"/pages/bbfc59/"},{path:"/å¤§æ°æ®/01.Hadoop/07.HDFSçæ°æ®æµ.html",redirect:"/pages/bbfc59/"},{name:"v-4672ef15",path:"/pages/7afcbc/",component:ol,beforeEnter:function(n,e,t){Zi("Layout","v-4672ef15").then(t)}},{path:"/pages/7afcbc/index.html",redirect:"/pages/7afcbc/"},{path:"/å¤§æ°æ®/01.Hadoop/03.HDFS.html",redirect:"/pages/7afcbc/"},{name:"v-00dc2e8f",path:"/pages/785074/",component:ol,beforeEnter:function(n,e,t){Zi("Layout","v-00dc2e8f").then(t)}},{path:"/pages/785074/index.html",redirect:"/pages/785074/"},{path:"/å¤§æ°æ®/01.Hadoop/08.NameNode å·¥ä½æºå¶.html",redirect:"/pages/785074/"},{name:"v-724628f5",path:"/pages/49d0d4/",component:ol,beforeEnter:function(n,e,t){Zi("Layout","v-724628f5").then(t)}},{path:"/pages/49d0d4/index.html",redirect:"/pages/49d0d4/"},{path:"/å¤§æ°æ®/01.Hadoop/09.DataNode.html",redirect:"/pages/49d0d4/"},{name:"v-1c17faff",path:"/pages/070d96/",component:ol,beforeEnter:function(n,e,t){Zi("Layout","v-1c17faff").then(t)}},{path:"/pages/070d96/index.html",redirect:"/pages/070d96/"},{path:"/å¤§æ°æ®/01.Hadoop/10.MapReduce.html",redirect:"/pages/070d96/"},{name:"v-7f22fd75",path:"/pages/89b57e/",component:ol,beforeEnter:function(n,e,t){Zi("Layout","v-7f22fd75").then(t)}},{path:"/pages/89b57e/index.html",redirect:"/pages/89b57e/"},{path:"/å¤§æ°æ®/01.Hadoop/12.Yarn.html",redirect:"/pages/89b57e/"},{name:"v-2e69f406",path:"/pages/ce529c/",component:ol,beforeEnter:function(n,e,t){Zi("Layout","v-2e69f406").then(t)}},{path:"/pages/ce529c/index.html",redirect:"/pages/ce529c/"},{path:"/å¤§æ°æ®/01.Hadoop/13.Hadoopä¼ä¸ä¼å.html",redirect:"/pages/ce529c/"},{name:"v-5c5d9838",path:"/pages/1cc354/",component:ol,beforeEnter:function(n,e,t){Zi("Layout","v-5c5d9838").then(t)}},{path:"/pages/1cc354/index.html",redirect:"/pages/1cc354/"},{path:"/å¤§æ°æ®/01.Hadoop/15.æ¥å¿.html",redirect:"/pages/1cc354/"},{name:"v-f87607aa",path:"/pages/0dc6f9/",component:ol,beforeEnter:function(n,e,t){Zi("Layout","v-f87607aa").then(t)}},{path:"/pages/0dc6f9/index.html",redirect:"/pages/0dc6f9/"},{path:"/å¤§æ°æ®/01.Hadoop/16.Hadoop HAé«å¯ç¨.html",redirect:"/pages/0dc6f9/"},{name:"v-6594ad68",path:"/pages/8dd6c9/",component:ol,beforeEnter:function(n,e,t){Zi("Layout","v-6594ad68").then(t)}},{path:"/pages/8dd6c9/index.html",redirect:"/pages/8dd6c9/"},{path:"/å¤§æ°æ®/01.Hadoop/14.Hadoop æ°ç¹æ§.html",redirect:"/pages/8dd6c9/"},{name:"v-4b94238d",path:"/pages/65db7d/",component:ol,beforeEnter:function(n,e,t){Zi("Layout","v-4b94238d").then(t)}},{path:"/pages/65db7d/index.html",redirect:"/pages/65db7d/"},{path:"/å¤§æ°æ®/01.Hadoop/11.MapReduceåç.html",redirect:"/pages/65db7d/"},{name:"v-369ccb08",path:"/pages/f38fc8/",component:ol,beforeEnter:function(n,e,t){Zi("Layout","v-369ccb08").then(t)}},{path:"/pages/f38fc8/index.html",redirect:"/pages/f38fc8/"},{path:"/å¤§æ°æ®/02.Zookeeper/01.æ¦è¿°.html",redirect:"/pages/f38fc8/"},{name:"v-72b26eaf",path:"/pages/4a9c91/",component:ol,beforeEnter:function(n,e,t){Zi("Layout","v-72b26eaf").then(t)}},{path:"/pages/4a9c91/index.html",redirect:"/pages/4a9c91/"},{path:"/å¤§æ°æ®/02.Zookeeper/05.Api.html",redirect:"/pages/4a9c91/"},{name:"v-98591bee",path:"/pages/1597a2/",component:ol,beforeEnter:function(n,e,t){Zi("Layout","v-98591bee").then(t)}},{path:"/pages/1597a2/index.html",redirect:"/pages/1597a2/"},{path:"/å¤§æ°æ®/02.Zookeeper/02.éç¾¤æ­å»º.html",redirect:"/pages/1597a2/"},{name:"v-c1183f22",path:"/pages/75493d/",component:ol,beforeEnter:function(n,e,t){Zi("Layout","v-c1183f22").then(t)}},{path:"/pages/75493d/index.html",redirect:"/pages/75493d/"},{path:"/å¤§æ°æ®/02.Zookeeper/04.åé¨åç.html",redirect:"/pages/75493d/"},{name:"v-b7e4068e",path:"/pages/66f25c/",component:ol,beforeEnter:function(n,e,t){Zi("Layout","v-b7e4068e").then(t)}},{path:"/pages/66f25c/index.html",redirect:"/pages/66f25c/"},{path:"/å¤§æ°æ®/03.Hive/02.ç¯å¢.html",redirect:"/pages/66f25c/"},{name:"v-051079fa",path:"/pages/be648b/",component:ol,beforeEnter:function(n,e,t){Zi("Layout","v-051079fa").then(t)}},{path:"/pages/be648b/index.html",redirect:"/pages/be648b/"},{path:"/å¤§æ°æ®/02.Zookeeper/03.å®¢æ·ç«¯å½ä»¤è¡æä½.html",redirect:"/pages/be648b/"},{name:"v-00667d92",path:"/pages/2315d6/",component:ol,beforeEnter:function(n,e,t){Zi("Layout","v-00667d92").then(t)}},{path:"/pages/2315d6/index.html",redirect:"/pages/2315d6/"},{path:"/å¤§æ°æ®/03.Hive/01.ä»ç».html",redirect:"/pages/2315d6/"},{name:"v-752ff4e6",path:"/pages/f55408/",component:ol,beforeEnter:function(n,e,t){Zi("Layout","v-752ff4e6").then(t)}},{path:"/pages/f55408/index.html",redirect:"/pages/f55408/"},{path:"/å¤§æ°æ®/03.Hive/04.Hive ç±»å.html",redirect:"/pages/f55408/"},{name:"v-79c818bb",path:"/pages/5a826b/",component:ol,beforeEnter:function(n,e,t){Zi("Layout","v-79c818bb").then(t)}},{path:"/pages/5a826b/index.html",redirect:"/pages/5a826b/"},{path:"/å¤§æ°æ®/03.Hive/03.DBeaver.html",redirect:"/pages/5a826b/"},{name:"v-3874a2bf",path:"/pages/6652e3/",component:ol,beforeEnter:function(n,e,t){Zi("Layout","v-3874a2bf").then(t)}},{path:"/pages/6652e3/index.html",redirect:"/pages/6652e3/"},{path:"/å¤§æ°æ®/03.Hive/05.Hive å®¢æ·ç«¯å½ä»¤.html",redirect:"/pages/6652e3/"},{name:"v-7688bc37",path:"/pages/675adb/",component:ol,beforeEnter:function(n,e,t){Zi("Layout","v-7688bc37").then(t)}},{path:"/pages/675adb/index.html",redirect:"/pages/675adb/"},{path:"/å¤§æ°æ®/03.Hive/06.DDLæ°æ®å®ä¹.html",redirect:"/pages/675adb/"},{name:"v-132275ff",path:"/pages/ff1fce/",component:ol,beforeEnter:function(n,e,t){Zi("Layout","v-132275ff").then(t)}},{path:"/pages/ff1fce/index.html",redirect:"/pages/ff1fce/"},{path:"/å¤§æ°æ®/03.Hive/07.DML.html",redirect:"/pages/ff1fce/"},{name:"v-37a0dd10",path:"/pages/8f0a49/",component:ol,beforeEnter:function(n,e,t){Zi("Layout","v-37a0dd10").then(t)}},{path:"/pages/8f0a49/index.html",redirect:"/pages/8f0a49/"},{path:"/å¤§æ°æ®/03.Hive/09.å½æ°.html",redirect:"/pages/8f0a49/"},{name:"v-7abe8cca",path:"/pages/b1e5c6/",component:ol,beforeEnter:function(n,e,t){Zi("Layout","v-7abe8cca").then(t)}},{path:"/pages/b1e5c6/index.html",redirect:"/pages/b1e5c6/"},{path:"/å¤§æ°æ®/03.Hive/10.èªå®ä¹å½æ°.html",redirect:"/pages/b1e5c6/"},{name:"v-a20663ee",path:"/pages/9c39ac/",component:ol,beforeEnter:function(n,e,t){Zi("Layout","v-a20663ee").then(t)}},{path:"/pages/9c39ac/index.html",redirect:"/pages/9c39ac/"},{path:"/å¤§æ°æ®/03.Hive/11.åç¼©åå­å¨.html",redirect:"/pages/9c39ac/"},{name:"v-17274f0b",path:"/pages/73e227/",component:ol,beforeEnter:function(n,e,t){Zi("Layout","v-17274f0b").then(t)}},{path:"/pages/73e227/index.html",redirect:"/pages/73e227/"},{path:"/å¤§æ°æ®/03.Hive/08.æ¥è¯¢.html",redirect:"/pages/73e227/"},{name:"v-a7b2b846",path:"/pages/447a54/",component:ol,beforeEnter:function(n,e,t){Zi("Layout","v-a7b2b846").then(t)}},{path:"/pages/447a54/index.html",redirect:"/pages/447a54/"},{path:"/å¤§æ°æ®/03.Hive/12.ä¼ä¸ä¼å.html",redirect:"/pages/447a54/"},{name:"v-07e506ef",path:"/pages/b084db/",component:ol,beforeEnter:function(n,e,t){Zi("Layout","v-07e506ef").then(t)}},{path:"/pages/b084db/index.html",redirect:"/pages/b084db/"},{path:"/å¤§æ°æ®/04.Flume/01.Flume.html",redirect:"/pages/b084db/"},{name:"v-7aff2c77",path:"/pages/1aa014/",component:ol,beforeEnter:function(n,e,t){Zi("Layout","v-7aff2c77").then(t)}},{path:"/pages/1aa014/index.html",redirect:"/pages/1aa014/"},{path:"/å¤§æ°æ®/03.Hive/13.Hiveå®æ.html",redirect:"/pages/1aa014/"},{name:"v-9ed6a6cc",path:"/pages/e462b7/",component:ol,beforeEnter:function(n,e,t){Zi("Layout","v-9ed6a6cc").then(t)}},{path:"/pages/e462b7/index.html",redirect:"/pages/e462b7/"},{path:"/å¤§æ°æ®/04.Flume/03.Flumeå®è£.html",redirect:"/pages/e462b7/"},{name:"v-55b2d0b0",path:"/pages/c12064/",component:ol,beforeEnter:function(n,e,t){Zi("Layout","v-55b2d0b0").then(t)}},{path:"/pages/c12064/index.html",redirect:"/pages/c12064/"},{path:"/å¤§æ°æ®/04.Flume/04.å¥é¨æ¡ä¾.html",redirect:"/pages/c12064/"},{name:"v-73eab2aa",path:"/pages/6a0c06/",component:ol,beforeEnter:function(n,e,t){Zi("Layout","v-73eab2aa").then(t)}},{path:"/pages/6a0c06/index.html",redirect:"/pages/6a0c06/"},{path:"/å¤§æ°æ®/04.Flume/05.Flume è¿é¶.html",redirect:"/pages/6a0c06/"},{name:"v-6e080d03",path:"/pages/f8bd8e/",component:ol,beforeEnter:function(n,e,t){Zi("Layout","v-6e080d03").then(t)}},{path:"/pages/f8bd8e/index.html",redirect:"/pages/f8bd8e/"},{path:"/å¤§æ°æ®/04.Flume/02.Flimeåºç¡æ¶æ.html",redirect:"/pages/f8bd8e/"},{name:"v-1391410f",path:"/pages/872cdc/",component:ol,beforeEnter:function(n,e,t){Zi("Layout","v-1391410f").then(t)}},{path:"/pages/872cdc/index.html",redirect:"/pages/872cdc/"},{path:"/å¤§æ°æ®/05.Kafka/01.Kafka.html",redirect:"/pages/872cdc/"},{name:"v-210176a7",path:"/pages/8e2fbd/",component:ol,beforeEnter:function(n,e,t){Zi("Layout","v-210176a7").then(t)}},{path:"/pages/8e2fbd/index.html",redirect:"/pages/8e2fbd/"},{path:"/å¤§æ°æ®/04.Flume/06.èªå®ä¹ç»ä»¶.html",redirect:"/pages/8e2fbd/"},{name:"v-598b6c9d",path:"/pages/800f9f/",component:ol,beforeEnter:function(n,e,t){Zi("Layout","v-598b6c9d").then(t)}},{path:"/pages/800f9f/index.html",redirect:"/pages/800f9f/"},{path:"/å¤§æ°æ®/04.Flume/07.é¢è¯é¢.html",redirect:"/pages/800f9f/"},{name:"v-8c34a962",path:"/pages/3c04a9/",component:ol,beforeEnter:function(n,e,t){Zi("Layout","v-8c34a962").then(t)}},{path:"/pages/3c04a9/index.html",redirect:"/pages/3c04a9/"},{path:"/å¤§æ°æ®/05.Kafka/02.æ¶æ.html",redirect:"/pages/3c04a9/"},{name:"v-4254887a",path:"/pages/6bd0d7/",component:ol,beforeEnter:function(n,e,t){Zi("Layout","v-4254887a").then(t)}},{path:"/pages/6bd0d7/index.html",redirect:"/pages/6bd0d7/"},{path:"/å¤§æ°æ®/05.Kafka/03.Kafka å®è£.html",redirect:"/pages/6bd0d7/"},{name:"v-43f57a12",path:"/pages/ab6220/",component:ol,beforeEnter:function(n,e,t){Zi("Layout","v-43f57a12").then(t)}},{path:"/pages/ab6220/index.html",redirect:"/pages/ab6220/"},{path:"/å¤§æ°æ®/05.Kafka/04.å½ä»¤æä½.html",redirect:"/pages/ab6220/"},{name:"v-3f9e4bb2",path:"/pages/939509/",component:ol,beforeEnter:function(n,e,t){Zi("Layout","v-3f9e4bb2").then(t)}},{path:"/pages/939509/index.html",redirect:"/pages/939509/"},{path:"/å¤§æ°æ®/05.Kafka/06.Kafka API.html",redirect:"/pages/939509/"},{name:"v-3cd13c66",path:"/pages/6c830a/",component:ol,beforeEnter:function(n,e,t){Zi("Layout","v-3cd13c66").then(t)}},{path:"/pages/6c830a/index.html",redirect:"/pages/6c830a/"},{path:"/å¤§æ°æ®/05.Kafka/05.Kafkaåç.html",redirect:"/pages/6c830a/"},{name:"v-1e6e69af",path:"/pages/cf0e70/",component:ol,beforeEnter:function(n,e,t){Zi("Layout","v-1e6e69af").then(t)}},{path:"/pages/cf0e70/index.html",redirect:"/pages/cf0e70/"},{path:"/å¤§æ°æ®/05.Kafka/07.Flume å¯¹æ¥ Kafka.html",redirect:"/pages/cf0e70/"},{name:"v-6a373828",path:"/pages/f5b30c/",component:ol,beforeEnter:function(n,e,t){Zi("Layout","v-6a373828").then(t)}},{path:"/pages/f5b30c/index.html",redirect:"/pages/f5b30c/"},{path:"/å¤§æ°æ®/05.Kafka/08.Kafkaçæ§.html",redirect:"/pages/f5b30c/"},{name:"v-64817218",path:"/pages/c7cfc3/",component:ol,beforeEnter:function(n,e,t){Zi("Layout","v-64817218").then(t)}},{path:"/pages/c7cfc3/index.html",redirect:"/pages/c7cfc3/"},{path:"/å¤§æ°æ®/06.Azkaban/02.ä»»å¡è°åº¦.html",redirect:"/pages/c7cfc3/"},{name:"v-55a5d0e4",path:"/pages/394c5d/",component:ol,beforeEnter:function(n,e,t){Zi("Layout","v-55a5d0e4").then(t)}},{path:"/pages/394c5d/index.html",redirect:"/pages/394c5d/"},{path:"/å¤§æ°æ®/06.Azkaban/03.å®è£.html",redirect:"/pages/394c5d/"},{name:"v-266c9e22",path:"/pages/bac882/",component:ol,beforeEnter:function(n,e,t){Zi("Layout","v-266c9e22").then(t)}},{path:"/pages/bac882/index.html",redirect:"/pages/bac882/"},{path:"/å¤§æ°æ®/06.Azkaban/01.Azkaban.html",redirect:"/pages/bac882/"},{name:"v-3c82fd62",path:"/pages/310c39/",component:ol,beforeEnter:function(n,e,t){Zi("Layout","v-3c82fd62").then(t)}},{path:"/pages/310c39/index.html",redirect:"/pages/310c39/"},{path:"/å¤§æ°æ®/07.Hbase/01.Hbase.html",redirect:"/pages/310c39/"},{name:"v-c86974ba",path:"/pages/cf96cc/",component:ol,beforeEnter:function(n,e,t){Zi("Layout","v-c86974ba").then(t)}},{path:"/pages/cf96cc/index.html",redirect:"/pages/cf96cc/"},{path:"/å¤§æ°æ®/05.Kafka/09.Kafkaé¢è¯é¢.html",redirect:"/pages/cf96cc/"},{name:"v-3f1fc75e",path:"/pages/4ff79d/",component:ol,beforeEnter:function(n,e,t){Zi("Layout","v-3f1fc75e").then(t)}},{path:"/pages/4ff79d/index.html",redirect:"/pages/4ff79d/"},{path:"/å¤§æ°æ®/06.Azkaban/04.Azkabanå®æ.html",redirect:"/pages/4ff79d/"},{name:"v-c73f1002",path:"/pages/a8d091/",component:ol,beforeEnter:function(n,e,t){Zi("Layout","v-c73f1002").then(t)}},{path:"/pages/a8d091/index.html",redirect:"/pages/a8d091/"},{path:"/å¤§æ°æ®/07.Hbase/03.Hbase å®è£.html",redirect:"/pages/a8d091/"},{name:"v-d5889de6",path:"/pages/817c32/",component:ol,beforeEnter:function(n,e,t){Zi("Layout","v-d5889de6").then(t)}},{path:"/pages/817c32/index.html",redirect:"/pages/817c32/"},{path:"/å¤§æ°æ®/07.Hbase/02.Hbaseæ°æ®æ¨¡å.html",redirect:"/pages/817c32/"},{name:"v-13acc28d",path:"/pages/ec28f2/",component:ol,beforeEnter:function(n,e,t){Zi("Layout","v-13acc28d").then(t)}},{path:"/pages/ec28f2/index.html",redirect:"/pages/ec28f2/"},{path:"/å¤§æ°æ®/07.Hbase/05.Hbaseåç.html",redirect:"/pages/ec28f2/"},{name:"v-41cba2f2",path:"/pages/73c948/",component:ol,beforeEnter:function(n,e,t){Zi("Layout","v-41cba2f2").then(t)}},{path:"/pages/73c948/index.html",redirect:"/pages/73c948/"},{path:"/å¤§æ°æ®/07.Hbase/04.Hbase shell.html",redirect:"/pages/73c948/"},{name:"v-283892a2",path:"/pages/6dd88b/",component:ol,beforeEnter:function(n,e,t){Zi("Layout","v-283892a2").then(t)}},{path:"/pages/6dd88b/index.html",redirect:"/pages/6dd88b/"},{path:"/å¤§æ°æ®/07.Hbase/06.Phoenix.html",redirect:"/pages/6dd88b/"},{name:"v-5a8af3d8",path:"/pages/ce507c/",component:ol,beforeEnter:function(n,e,t){Zi("Layout","v-5a8af3d8").then(t)}},{path:"/pages/ce507c/index.html",redirect:"/pages/ce507c/"},{path:"/å¤§æ°æ®/07.Hbase/08.HBaseä¼å.html",redirect:"/pages/ce507c/"},{name:"v-2117d120",path:"/pages/e654ab/",component:ol,beforeEnter:function(n,e,t){Zi("Layout","v-2117d120").then(t)}},{path:"/pages/e654ab/index.html",redirect:"/pages/e654ab/"},{path:"/å¤§æ°æ®/07.Hbase/07.Hbaseä¸Hiveçéæ.html",redirect:"/pages/e654ab/"},{name:"v-d5c2e428",path:"/pages/a93b77/",component:ol,beforeEnter:function(n,e,t){Zi("Layout","v-d5c2e428").then(t)}},{path:"/pages/a93b77/index.html",redirect:"/pages/a93b77/"},{path:"/å¤§æ°æ®/08.Scala/02.Scalaå¥é¨.html",redirect:"/pages/a93b77/"},{name:"v-6a5e0750",path:"/pages/8b0acc/",component:ol,beforeEnter:function(n,e,t){Zi("Layout","v-6a5e0750").then(t)}},{path:"/pages/8b0acc/index.html",redirect:"/pages/8b0acc/"},{path:"/å¤§æ°æ®/08.Scala/03.æµç¨æ§å¶.html",redirect:"/pages/8b0acc/"},{name:"v-762d1d8f",path:"/pages/cc783e/",component:ol,beforeEnter:function(n,e,t){Zi("Layout","v-762d1d8f").then(t)}},{path:"/pages/cc783e/index.html",redirect:"/pages/cc783e/"},{path:"/å¤§æ°æ®/09.Spark/01.Spark.html",redirect:"/pages/cc783e/"},{name:"v-a108e506",path:"/pages/3223e3/",component:ol,beforeEnter:function(n,e,t){Zi("Layout","v-a108e506").then(t)}},{path:"/pages/3223e3/index.html",redirect:"/pages/3223e3/"},{path:"/å¤§æ°æ®/09.Spark/02.Spark å¥é¨.html",redirect:"/pages/3223e3/"},{name:"v-fc416092",path:"/pages/b7cb84/",component:ol,beforeEnter:function(n,e,t){Zi("Layout","v-fc416092").then(t)}},{path:"/pages/b7cb84/index.html",redirect:"/pages/b7cb84/"},{path:"/å¤§æ°æ®/08.Scala/04.å½æ°å¼ç¼ç¨.html",redirect:"/pages/b7cb84/"},{name:"v-dbe517a8",path:"/pages/d2afbe/",component:ol,beforeEnter:function(n,e,t){Zi("Layout","v-dbe517a8").then(t)}},{path:"/pages/d2afbe/index.html",redirect:"/pages/d2afbe/"},{path:"/å¤§æ°æ®/08.Scala/01.Scalaä»ç».html",redirect:"/pages/d2afbe/"},{name:"v-52219ca2",path:"/pages/a0eb57/",component:ol,beforeEnter:function(n,e,t){Zi("Layout","v-52219ca2").then(t)}},{path:"/pages/a0eb57/index.html",redirect:"/pages/a0eb57/"},{path:"/å¤§æ°æ®/09.Spark/03.SprakCore.html",redirect:"/pages/a0eb57/"},{name:"v-12efaf51",path:"/pages/0de4e9/",component:ol,beforeEnter:function(n,e,t){Zi("Layout","v-12efaf51").then(t)}},{path:"/pages/0de4e9/index.html",redirect:"/pages/0de4e9/"},{path:"/å¤§æ°æ®/09.Spark/04.SparkSQL.html",redirect:"/pages/0de4e9/"},{path:"*",component:ol}],sl={title:"",description:"",base:"/",headTags:[["link",{rel:"icon",href:"/img/favicon.ico"}],["link",{rel:"stylesheet",href:"//at.alicdn.com/t/font_3114978_qe0b39no76.css"}],["link",{rel:"stylesheet",href:"//at.alicdn.com/t/font_3114978_qe0b39no76.css"}],["meta",{name:"referrer",content:"no-referrer-when-downgrade"}],["link",{rel:"stylesheet",href:"https://at.alicdn.com/t/font_3077305_pt8umhrn4k9.css"}],["meta",{name:"keywords",content:"åç«¯åå®¢,ä¸ªäººææ¯åå®¢,åç«¯/åç«¯å¼å,åç«¯/åç«¯æ¡æ¶,webåç«¯,åç«¯é¢è¯é¢,ææ¯ææ¡£,å­¦ä¹ ,é¢è¯,Java,Scala,Hadoop,Spring,Spring Boot,Spring Cloud,js,ES6,TypeScript,vue,python,css3,html5,Node,git,github,markdown"}],["meta",{name:"baidu-site-verification",content:"7F55weZDDc"}],["meta",{name:"theme-color",content:"#11a8cd"}]],pages:[{title:"æåºæ¬çæ°æ®ç»æ",frontmatter:{title:"æåºæ¬çæ°æ®ç»æ",date:"2022-03-18T16:03:55.000Z",permalink:"/pages/38d7c8/",categories:[408,"æ°æ®ç»æ"],tags:[null]},regularPath:"/408/01.%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84/02.%E6%9C%80%E5%9F%BA%E6%9C%AC%E7%9A%84%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84.html",relativePath:"408/01.æ°æ®ç»æ/02.æåºæ¬çæ°æ®ç»æ.md",key:"v-28a7b348",path:"/pages/38d7c8/",headersStr:null,content:"# æåºæ¬çæ°æ®ç»æ\n\n 1. æ°ç»\n    \n    ä¾¿äºå¯»å ä¸ä¾¿äºå¢å æ°æ®\n\n 2. é¾è¡¨\n    \n    ä¾¿äºå¢å æ°æ® ä¸ä¾¿äºå¯»å",normalizedContent:"# æåºæ¬çæ°æ®ç»æ\n\n 1. æ°ç»\n    \n    ä¾¿äºå¯»å ä¸ä¾¿äºå¢å æ°æ®\n\n 2. é¾è¡¨\n    \n    ä¾¿äºå¢å æ°æ® ä¸ä¾¿äºå¯»å",charsets:{cjk:!0},lastUpdated:"2022/03/18, 16:09:17",lastUpdatedTimestamp:1647590957e3},{title:"randomçéæºè¡ä¸º",frontmatter:{title:"randomçéæºè¡ä¸º",date:"2022-03-18T16:03:55.000Z",permalink:"/pages/64e136/",categories:[408,"æ°æ®ç»æ"],tags:[null]},regularPath:"/408/01.%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84/04.random%E7%9A%84%E9%9A%8F%E6%9C%BA%E8%A1%8C%E4%B8%BA.html",relativePath:"408/01.æ°æ®ç»æ/04.randomçéæºè¡ä¸º.md",key:"v-7ab55fd6",path:"/pages/64e136/",headers:[{level:2,title:"ç»å®ä¸ä¸ª1~5ç­æ¦çéæºçå½æ° è¿åä¸ä¸ª7~15ç­æ¦ççæ°å½æ°",slug:"ç»å®ä¸ä¸ª1-5ç­æ¦çéæºçå½æ°-è¿åä¸ä¸ª7-15ç­æ¦ççæ°å½æ°",normalizedTitle:"ç»å®ä¸ä¸ª1~5ç­æ¦çéæºçå½æ° è¿åä¸ä¸ª7~15ç­æ¦ççæ°å½æ°",charIndex:394},{level:2,title:"ç»å®ä¸ä¸ª0~1ä¸ç­æ¦ççéæºå½æ° è¿å0~1ç­æ¦çéæºå½æ°",slug:"ç»å®ä¸ä¸ª0-1ä¸ç­æ¦ççéæºå½æ°-è¿å0-1ç­æ¦çéæºå½æ°",normalizedTitle:"ç»å®ä¸ä¸ª0~1ä¸ç­æ¦ççéæºå½æ° è¿å0~1ç­æ¦çéæºå½æ°",charIndex:808}],headersStr:"ç»å®ä¸ä¸ª1~5ç­æ¦çéæºçå½æ° è¿åä¸ä¸ª7~15ç­æ¦ççæ°å½æ° ç»å®ä¸ä¸ª0~1ä¸ç­æ¦ççéæºå½æ° è¿å0~1ç­æ¦çéæºå½æ°",content:"# randomçéæºè¡ä¸º\n\nMath.randomä¸­çéæºæ° ä¸ºä¼ªéæºæ° äº§çä¸ä¸ª [0,1) æµ®ç¹åæ°\n\nå¹¶ä¸æ¯ä¸ªæ°äº§ççæ¦ç ä¸ºç­æ¦ç çæçæ°å­æ¯ååçï¼ä¹å°±æ¯è¯´è¯¥åºé´åé¨çæ¯ä¸ªæ°å­çæçå çæ¯ç¸åç\n\nint sum = 0;\nfor (int i = 0; i <= 100000; i++) {\n    double ans =  Math.random();\n    if(ans < 0.3) {\n        sum++;\n    }\n}\n//äº§ç 100000 æ¬¡ [0,1)çéæºæ° å¦æå°äº0.3åè®¡æ°\n//æ¥è¯¢å°äº0.3åºç°çæ¦ç  ä¸º30%å·¦å³  æä»¥æä»¬å¯ä»¥å¤æ­MJath.randomçéæºè¡ä¸ºä¸ºç­æ¦çç \nSystem.out.println((double)sum /100000.0 );\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n\n\n\n# ç»å®ä¸ä¸ª1~5ç­æ¦çéæºçå½æ° è¿åä¸ä¸ª7~15ç­æ¦ççæ°å½æ°\n\né¦å1~5æ¯ç­æ¦çç æä»¬éè¦å°æ­¤å½æ°æ¹ä¸ºä¸ºåªè¿å 0 å 1 çç­æ¦çå½æ°\n\nå³å¦æç»å®çéæºå½æ°è¿åç»æä¸º3åéæ°çæéæºæ° ç´å°çæä¸ä¸º3çç»æ è¿æ ·æä»¬å°±å¯ä»¥è·å¾ä¸ä¸ª 0 ~ 1 ç­æ¦çéæºçæçå½æ°\n\n7 ~ 15 ä¸º9ä¸ªæ° åå¯¹åºçäºè¿å¶ä¸º 1 0 1 éè¦3ä¸ªäºè¿å¶ä½ æä»¬éè¦è°ç¨3æ¬¡æ¹é åç 0~1ç­æ¦çåçå¨\n\nç¬¬ä¸æ¬¡ç»æå·¦ä½ç§»2ä½ ç¬¬äºæ¬¡ç»æå·¦ä½ç§»1ä½ ç¬¬ä¸æ¬¡ç»æä¸ä½ç§», æåå°3æ¬¡ç»æç¸å ,è¿æ ·æä»¬è·å¾0~13çç­æ¦çå½æ°, å¹¶ä¸æä»¬è¿è¡æªå è¶è¿9çæ°éæ°è°ç¨ 0~13ç­æ¦çå½æ°\n\ndo{\n    int ans =  f4();//0~13ç­æ¦çå½æ°\n}while(ans > 9);\nreturn ans;\n\n\n1\n2\n3\n4\n\n\nè¿æ ·æä»¬è·å¾ä¸ä¸ª0~9çç­æ¦çåçå¨ æåè°ç¨0~9ç­æ¦çåçå¨ + 7åå®ææ­¤æ°å½æ°\n\n\n# ç»å®ä¸ä¸ª0~1ä¸ç­æ¦ççéæºå½æ° è¿å0~1ç­æ¦çéæºå½æ°\n\né¦å0~1æ¯ä¸ç­æ¦ç æä»¬éè¿è°ç¨ä¸¤æ¬¡æ­¤å½æ°\n\n0 0 æ¦çåä¸º p*p\n\n1 1 æ¦çåä¸º (1-p)*(1-p)\n\n0 1 æ¦çä¸º p*(1-p)\n\n1 0 æ¦çä¸º (1-p)*p\n\néè¿ç­é 01 å 10 ç»æå³å¯ä»¥è¿åä¸ä¸ªç­æ¦ççå½æ°\n\n01åè¿å0\n\n10åè¿å1\n\n// ç»å®ä¸ä¸ª 0å1ä¸ç­æ¦ççå½æ°\npublic static int x() {\n\treturn Math.random() < 0.8 ? 0 : 1;\n}\n\n// è¿åä¸ä¸ªç­æ¦ç0å1çæ°å½æ°\npublic static int x2() {\n\tint ans = 0;\n\tdo {\n\t\tans = x();\n\t} while (ans == x()); //å¦æä¸¤æ¬¡é½ç»æä¸º0æ1åéæ°è°ç¨xå½æ°\n    //åªæ ans = 0 x()è¿å1\n    //å ans = 1 x()è¿å0 æè¿åans\n\treturn ans;\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n",normalizedContent:"# randomçéæºè¡ä¸º\n\nmath.randomä¸­çéæºæ° ä¸ºä¼ªéæºæ° äº§çä¸ä¸ª [0,1) æµ®ç¹åæ°\n\nå¹¶ä¸æ¯ä¸ªæ°äº§ççæ¦ç ä¸ºç­æ¦ç çæçæ°å­æ¯ååçï¼ä¹å°±æ¯è¯´è¯¥åºé´åé¨çæ¯ä¸ªæ°å­çæçå çæ¯ç¸åç\n\nint sum = 0;\nfor (int i = 0; i <= 100000; i++) {\n    double ans =  math.random();\n    if(ans < 0.3) {\n        sum++;\n    }\n}\n//äº§ç 100000 æ¬¡ [0,1)çéæºæ° å¦æå°äº0.3åè®¡æ°\n//æ¥è¯¢å°äº0.3åºç°çæ¦ç  ä¸º30%å·¦å³  æä»¥æä»¬å¯ä»¥å¤æ­mjath.randomçéæºè¡ä¸ºä¸ºç­æ¦çç \nsystem.out.println((double)sum /100000.0 );\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n\n\n\n# ç»å®ä¸ä¸ª1~5ç­æ¦çéæºçå½æ° è¿åä¸ä¸ª7~15ç­æ¦ççæ°å½æ°\n\né¦å1~5æ¯ç­æ¦çç æä»¬éè¦å°æ­¤å½æ°æ¹ä¸ºä¸ºåªè¿å 0 å 1 çç­æ¦çå½æ°\n\nå³å¦æç»å®çéæºå½æ°è¿åç»æä¸º3åéæ°çæéæºæ° ç´å°çæä¸ä¸º3çç»æ è¿æ ·æä»¬å°±å¯ä»¥è·å¾ä¸ä¸ª 0 ~ 1 ç­æ¦çéæºçæçå½æ°\n\n7 ~ 15 ä¸º9ä¸ªæ° åå¯¹åºçäºè¿å¶ä¸º 1 0 1 éè¦3ä¸ªäºè¿å¶ä½ æä»¬éè¦è°ç¨3æ¬¡æ¹é åç 0~1ç­æ¦çåçå¨\n\nç¬¬ä¸æ¬¡ç»æå·¦ä½ç§»2ä½ ç¬¬äºæ¬¡ç»æå·¦ä½ç§»1ä½ ç¬¬ä¸æ¬¡ç»æä¸ä½ç§», æåå°3æ¬¡ç»æç¸å ,è¿æ ·æä»¬è·å¾0~13çç­æ¦çå½æ°, å¹¶ä¸æä»¬è¿è¡æªå è¶è¿9çæ°éæ°è°ç¨ 0~13ç­æ¦çå½æ°\n\ndo{\n    int ans =  f4();//0~13ç­æ¦çå½æ°\n}while(ans > 9);\nreturn ans;\n\n\n1\n2\n3\n4\n\n\nè¿æ ·æä»¬è·å¾ä¸ä¸ª0~9çç­æ¦çåçå¨ æåè°ç¨0~9ç­æ¦çåçå¨ + 7åå®ææ­¤æ°å½æ°\n\n\n# ç»å®ä¸ä¸ª0~1ä¸ç­æ¦ççéæºå½æ° è¿å0~1ç­æ¦çéæºå½æ°\n\né¦å0~1æ¯ä¸ç­æ¦ç æä»¬éè¿è°ç¨ä¸¤æ¬¡æ­¤å½æ°\n\n0 0 æ¦çåä¸º p*p\n\n1 1 æ¦çåä¸º (1-p)*(1-p)\n\n0 1 æ¦çä¸º p*(1-p)\n\n1 0 æ¦çä¸º (1-p)*p\n\néè¿ç­é 01 å 10 ç»æå³å¯ä»¥è¿åä¸ä¸ªç­æ¦ççå½æ°\n\n01åè¿å0\n\n10åè¿å1\n\n// ç»å®ä¸ä¸ª 0å1ä¸ç­æ¦ççå½æ°\npublic static int x() {\n\treturn math.random() < 0.8 ? 0 : 1;\n}\n\n// è¿åä¸ä¸ªç­æ¦ç0å1çæ°å½æ°\npublic static int x2() {\n\tint ans = 0;\n\tdo {\n\t\tans = x();\n\t} while (ans == x()); //å¦æä¸¤æ¬¡é½ç»æä¸º0æ1åéæ°è°ç¨xå½æ°\n    //åªæ ans = 0 x()è¿å1\n    //å ans = 1 x()è¿å0 æè¿åans\n\treturn ans;\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n",charsets:{cjk:!0},lastUpdated:"2022/03/18, 16:09:17",lastUpdatedTimestamp:1647590957e3},{title:"åç¼åæ°ç»",frontmatter:{title:"åç¼åæ°ç»",date:"2022-03-18T16:03:55.000Z",permalink:"/pages/3ad1d4/",categories:[408,"æ°æ®ç»æ"],tags:[null]},regularPath:"/408/01.%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84/03.%E5%89%8D%E7%BC%80%E5%92%8C%E6%95%B0%E7%BB%84.html",relativePath:"408/01.æ°æ®ç»æ/03.åç¼åæ°ç».md",key:"v-e58ada02",path:"/pages/3ad1d4/",headersStr:null,content:"# åç¼åæ°ç»\n\nåè®¾æä»¬éè¦æ±æå®æ°ç»ä¸­ l ~ r èå´åç´ çå\n\næ¹æ³ä¸:æä»¬ä½¿ç¨ä¸ä¸ªäºç»´æ°ç»å­å¨ææl-rçåç´ åçç»æ (éè¦n*n/2çç©ºé´)\n\næ¹æ³äº:ä½¿ç¨åç¼åæ°ç» æ±åº æ¯ä¸ªåç´  0~åç´ æ¬èº«çå(éè¦nçç©ºé´å­å¨ç»æ)\n\nå½æä»¬æ± 3 ~ 7 èå´çå æä»¬è¿å ans[7]å³0~7çç»æ åå» ans[2]å³0~2çç»æ å³å¯ä»¥å¿«éåå¾æå®èå´åçå\n\nsum[iÂ·Â·Â·j] = arr[0Â·Â·Â·j] - arr[0Â·Â·Â·i-1]\n\næ­¤æ¹æ³æä»¬ç§°ä¸º åç¼åæ°ç»",normalizedContent:"# åç¼åæ°ç»\n\nåè®¾æä»¬éè¦æ±æå®æ°ç»ä¸­ l ~ r èå´åç´ çå\n\næ¹æ³ä¸:æä»¬ä½¿ç¨ä¸ä¸ªäºç»´æ°ç»å­å¨ææl-rçåç´ åçç»æ (éè¦n*n/2çç©ºé´)\n\næ¹æ³äº:ä½¿ç¨åç¼åæ°ç» æ±åº æ¯ä¸ªåç´  0~åç´ æ¬èº«çå(éè¦nçç©ºé´å­å¨ç»æ)\n\nå½æä»¬æ± 3 ~ 7 èå´çå æä»¬è¿å ans[7]å³0~7çç»æ åå» ans[2]å³0~2çç»æ å³å¯ä»¥å¿«éåå¾æå®èå´åçå\n\nsum[iÂ·Â·Â·j] = arr[0Â·Â·Â·j] - arr[0Â·Â·Â·i-1]\n\næ­¤æ¹æ³æä»¬ç§°ä¸º åç¼åæ°ç»",charsets:{cjk:!0},lastUpdated:"2022/03/18, 16:09:17",lastUpdatedTimestamp:1647590957e3},{title:"ä½è¿ç®",frontmatter:{title:"ä½è¿ç®",date:"2022-03-18T16:03:55.000Z",permalink:"/pages/8e5251/",categories:[408,"æ°æ®ç»æ"],tags:[null]},regularPath:"/408/01.%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84/01.%E4%BD%8D%E8%BF%90%E7%AE%97.html",relativePath:"408/01.æ°æ®ç»æ/01.ä½è¿ç®.md",key:"v-89816e08",path:"/pages/8e5251/",headers:[{level:2,title:"åç ",slug:"åç ",normalizedTitle:"åç ",charIndex:315},{level:2,title:"åç ",slug:"åç ",normalizedTitle:"åç ",charIndex:390},{level:2,title:"è¡¥ç ",slug:"è¡¥ç ",normalizedTitle:"è¡¥ç ",charIndex:485},{level:2,title:"è´æ°çæå°å¼åè´ä¸ºå¤å°",slug:"è´æ°çæå°å¼åè´ä¸ºå¤å°",normalizedTitle:"è´æ°çæå°å¼åè´ä¸ºå¤å°",charIndex:628},{level:2,title:"æå°äºè¿å¶",slug:"æå°äºè¿å¶",normalizedTitle:"æå°äºè¿å¶",charIndex:1031}],headersStr:"åç  åç  è¡¥ç  è´æ°çæå°å¼åè´ä¸ºå¤å° æå°äºè¿å¶",content:'# ä½è¿ç®\n\nç¬¦å·    æè¿°     è¿ç®è§å\n&     ä¸      ä¸¤ä¸ªä½é½ä¸º1æ¶ï¼ç»ææä¸º1\n|     æ      ä¸¤ä¸ªä½é½ä¸º0æ¶ï¼ç»ææä¸º0\n^     å¼æ     ä¸¤ä¸ªä½ç¸åä¸º0ï¼ç¸å¼ä¸º1\n~     åå     0å1ï¼1å0\n<<    å·¦ç§»     åäºè¿ä½å¨é¨å·¦ç§»è¥å¹²ä½ï¼é«ä½ä¸¢å¼ï¼ä½ä½è¡¥0\n>>    å³ç§»     åäºè¿ä½å¨é¨å³ç§»è¥å¹²ä½ï¼å¯¹æ ç¬¦å·æ°ï¼é«ä½è¡¥0ï¼æç¬¦å·æ°ï¼åç¼è¯å¨å¤çæ¹æ³ä¸ä¸æ ·ï¼æçè¡¥ç¬¦å·ä½ï¼ç®æ¯å³ç§»ï¼ï¼æçè¡¥0ï¼é»è¾å³ç§»ï¼ï¼Javaä¸­ä¸ºç®æ¯å³ç§»æ ¹æ®ç¬¦åä½æ¥è¡¥ï¼å¦ä¸ºè´æ°åè¡¥1ï¼æ­£æ°è¡¥0ï¼\n>>>   é»è¾å³ç§»   åäºè¿ä½å¨é¨å³ç§»è¥å¹²ä½ï¼å¯¹æ ç¬¦å·æ°ï¼é«ä½è¡¥0ï¼æç¬¦å·æ°\n\n\n# åç \n\nåç å°±æ¯ç¬¦å·ä½å ä¸çå¼ ä»¥ä¸ä»¥8ä½æ¥å®ä¾\n\n+1çåç ä¸º\n0000 0001\n-1çåç ä¸º\n1000 0001\n\n\n1\n2\n3\n4\n\n\n\n# åç \n\næ­£æ°çåç æ¯å¶æ¬èº«\n\nè´æ°çåç æ¯å¨å¶åç çåºç¡ä¸, ç¬¦å·ä½ä¸åï¼å¶ä½åä¸ªä½åå\n\n+1çåç ä¸º\n0000 0001\n-1çåç ä¸º\n1111 1110\n\n\n1\n2\n3\n4\n\n\n\n# è¡¥ç \n\néå¸¸ä¸ä¸ªæ°çäºè¿å¶æ¯ä»¥è¡¥ç çå½¢å¼å±ç°\n\n 1. æ­£æ°çè¡¥ç å°±æ¯å¶æ¬èº«\n 2. è´æ°çè¡¥ç æ¯å¨å¶åç çåºç¡ä¸, ç¬¦å·ä½ä¸å, å¶ä½åä½åå, æå+1. (å³å¨åç çåºç¡ä¸+1)\n\n+1çè¡¥ç ä¸º\n0000 0001\n-1çè¡¥ç ä¸º\n1111 1111\n\n\n1\n2\n3\n4\n\n\n\n# è´æ°çæå°å¼åè´ä¸ºå¤å°\n\nå³è´æ°çæå°å¼ åå å+1\n\npublic static void main(String[] args) {\n\tint c = Integer.MIN_VALUE; \n\tint d = -c;\n\tint e = ~c + 1;\n\tSystem.out.println(c); //-2147483648\n\tSystem.out.println(d); //-2147483648\n\tSystem.out.println(e); //-2147483648\n    c = 0; \n\td = -c;\n\te = ~c + 1;\n\tSystem.out.println(c); //0\n\tSystem.out.println(d); //0\n\tSystem.out.println(e); //0\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n\n\n\n# æå°äºè¿å¶\n\npublic static void print(int num) {\n\tfor (int i = 31; i >=0; i--) {\n        //æ1å·¦ç§»nä½ ååæ°åä¸è¿ç® ä¸¤èä¸º1æ¶è¾åº1å¦åè¾åº\n\t\tSystem.out.print((num & (1 << i)) == 0 ? "0" : "1");\n\t}\n\tSystem.out.println();\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n',normalizedContent:'# ä½è¿ç®\n\nç¬¦å·    æè¿°     è¿ç®è§å\n&     ä¸      ä¸¤ä¸ªä½é½ä¸º1æ¶ï¼ç»ææä¸º1\n|     æ      ä¸¤ä¸ªä½é½ä¸º0æ¶ï¼ç»ææä¸º0\n^     å¼æ     ä¸¤ä¸ªä½ç¸åä¸º0ï¼ç¸å¼ä¸º1\n~     åå     0å1ï¼1å0\n<<    å·¦ç§»     åäºè¿ä½å¨é¨å·¦ç§»è¥å¹²ä½ï¼é«ä½ä¸¢å¼ï¼ä½ä½è¡¥0\n>>    å³ç§»     åäºè¿ä½å¨é¨å³ç§»è¥å¹²ä½ï¼å¯¹æ ç¬¦å·æ°ï¼é«ä½è¡¥0ï¼æç¬¦å·æ°ï¼åç¼è¯å¨å¤çæ¹æ³ä¸ä¸æ ·ï¼æçè¡¥ç¬¦å·ä½ï¼ç®æ¯å³ç§»ï¼ï¼æçè¡¥0ï¼é»è¾å³ç§»ï¼ï¼javaä¸­ä¸ºç®æ¯å³ç§»æ ¹æ®ç¬¦åä½æ¥è¡¥ï¼å¦ä¸ºè´æ°åè¡¥1ï¼æ­£æ°è¡¥0ï¼\n>>>   é»è¾å³ç§»   åäºè¿ä½å¨é¨å³ç§»è¥å¹²ä½ï¼å¯¹æ ç¬¦å·æ°ï¼é«ä½è¡¥0ï¼æç¬¦å·æ°\n\n\n# åç \n\nåç å°±æ¯ç¬¦å·ä½å ä¸çå¼ ä»¥ä¸ä»¥8ä½æ¥å®ä¾\n\n+1çåç ä¸º\n0000 0001\n-1çåç ä¸º\n1000 0001\n\n\n1\n2\n3\n4\n\n\n\n# åç \n\næ­£æ°çåç æ¯å¶æ¬èº«\n\nè´æ°çåç æ¯å¨å¶åç çåºç¡ä¸, ç¬¦å·ä½ä¸åï¼å¶ä½åä¸ªä½åå\n\n+1çåç ä¸º\n0000 0001\n-1çåç ä¸º\n1111 1110\n\n\n1\n2\n3\n4\n\n\n\n# è¡¥ç \n\néå¸¸ä¸ä¸ªæ°çäºè¿å¶æ¯ä»¥è¡¥ç çå½¢å¼å±ç°\n\n 1. æ­£æ°çè¡¥ç å°±æ¯å¶æ¬èº«\n 2. è´æ°çè¡¥ç æ¯å¨å¶åç çåºç¡ä¸, ç¬¦å·ä½ä¸å, å¶ä½åä½åå, æå+1. (å³å¨åç çåºç¡ä¸+1)\n\n+1çè¡¥ç ä¸º\n0000 0001\n-1çè¡¥ç ä¸º\n1111 1111\n\n\n1\n2\n3\n4\n\n\n\n# è´æ°çæå°å¼åè´ä¸ºå¤å°\n\nå³è´æ°çæå°å¼ åå å+1\n\npublic static void main(string[] args) {\n\tint c = integer.min_value; \n\tint d = -c;\n\tint e = ~c + 1;\n\tsystem.out.println(c); //-2147483648\n\tsystem.out.println(d); //-2147483648\n\tsystem.out.println(e); //-2147483648\n    c = 0; \n\td = -c;\n\te = ~c + 1;\n\tsystem.out.println(c); //0\n\tsystem.out.println(d); //0\n\tsystem.out.println(e); //0\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n\n\n\n# æå°äºè¿å¶\n\npublic static void print(int num) {\n\tfor (int i = 31; i >=0; i--) {\n        //æ1å·¦ç§»nä½ ååæ°åä¸è¿ç® ä¸¤èä¸º1æ¶è¾åº1å¦åè¾åº\n\t\tsystem.out.print((num & (1 << i)) == 0 ? "0" : "1");\n\t}\n\tsystem.out.println();\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n',charsets:{cjk:!0},lastUpdated:"2022/03/18, 16:09:17",lastUpdatedTimestamp:1647590957e3},{title:"å¯¹æ°å¨",frontmatter:{title:"å¯¹æ°å¨",date:"2022-03-18T16:03:55.000Z",permalink:"/pages/9c9f24/",categories:[408,"æ°æ®ç»æ"],tags:[null]},regularPath:"/408/01.%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84/05.%E5%AF%B9%E6%95%B0%E5%99%A8.html",relativePath:"408/01.æ°æ®ç»æ/05.å¯¹æ°å¨.md",key:"v-16106010",path:"/pages/9c9f24/",headersStr:null,content:"# å¯¹æ°å¨\n\n1.æä¸ä¸ªä½ æ³è¦æµçæ¹æ³aï¼ 2.å®ç°ä¸ä¸ªç»å¯¹æ­£ç¡®ä½æ¯å¤æåº¦ä¸å¥½çæ¹æ³bï¼ 3.å®ç°ä¸ä¸ªéæºæ ·æ¬äº§çå¨ï¼ 4.å®ç°å¯¹æ¯ç®æ³aåbçæ¹æ³ï¼ 5.ææ¹æ³aåæ¹æ³bæ¯å¯¹å¤æ¬¡æ¥éªè¯æ¹æ³aæ¯å¦æ­£ç¡®ï¼ 6.å¦ææä¸ä¸ªæ ·æ¬ä½¿å¾æ¯å¯¹åºéï¼æå°æ ·æ¬åææ¯åªä¸ªæ¹æ³åºéï¼ 7.å½æ ·æ¬æ°éå¾å¤æ¶æ¯å¯¹æµè¯ä¾ç¶æ­£ç¡®ï¼å¯ä»¥ç¡®å®æ¹æ³aå·²ç»æ­£ç¡®ã",normalizedContent:"# å¯¹æ°å¨\n\n1.æä¸ä¸ªä½ æ³è¦æµçæ¹æ³aï¼ 2.å®ç°ä¸ä¸ªç»å¯¹æ­£ç¡®ä½æ¯å¤æåº¦ä¸å¥½çæ¹æ³bï¼ 3.å®ç°ä¸ä¸ªéæºæ ·æ¬äº§çå¨ï¼ 4.å®ç°å¯¹æ¯ç®æ³aåbçæ¹æ³ï¼ 5.ææ¹æ³aåæ¹æ³bæ¯å¯¹å¤æ¬¡æ¥éªè¯æ¹æ³aæ¯å¦æ­£ç¡®ï¼ 6.å¦ææä¸ä¸ªæ ·æ¬ä½¿å¾æ¯å¯¹åºéï¼æå°æ ·æ¬åææ¯åªä¸ªæ¹æ³åºéï¼ 7.å½æ ·æ¬æ°éå¾å¤æ¶æ¯å¯¹æµè¯ä¾ç¶æ­£ç¡®ï¼å¯ä»¥ç¡®å®æ¹æ³aå·²ç»æ­£ç¡®ã",charsets:{cjk:!0},lastUpdated:"2022/03/18, 16:09:17",lastUpdatedTimestamp:1647590957e3},{title:"äºåæ³æ¥æ¾",frontmatter:{title:"äºåæ³æ¥æ¾",date:"2022-03-18T16:03:55.000Z",permalink:"/pages/06b58c/",categories:[408,"æ°æ®ç»æ"],tags:[null]},regularPath:"/408/01.%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84/06.%E4%BA%8C%E5%88%86%E6%B3%95%E6%9F%A5%E6%89%BE.html",relativePath:"408/01.æ°æ®ç»æ/06.äºåæ³æ¥æ¾.md",key:"v-159f3ccd",path:"/pages/06b58c/",headersStr:null,content:"# äºåæ³æ¥æ¾\n\näºåæ³æ¥æ¾ï¼ä¹ç§°ä¸ºæåæ³ï¼æ¯ä¸ç§å¨æåºæ°ç»ä¸­æ¥æ¾ç¹å®åç´ çæç´¢ç®æ³ã\n\nï¼1ï¼é¦åï¼ä»æ°ç»çä¸­é´åç´ å¼å§æç´¢ï¼å¦æè¯¥åç´ æ­£å¥½æ¯ç®æ åç´ ï¼åæç´¢è¿ç¨ç»æï¼å¦åæ§è¡ä¸ä¸æ­¥ã\n\nï¼2ï¼å¦æç®æ åç´ å¤§äº/å°äºä¸­é´åç´ ï¼åå¨æ°ç»å¤§äº/å°äºä¸­é´åç´ çé£ä¸ååºåæ¥æ¾ï¼ç¶åéå¤æ­¥éª¤ï¼1ï¼çæä½ã\n\nï¼3ï¼å¦ææä¸æ­¥æ°ç»ä¸ºç©ºï¼åè¡¨ç¤ºæ¾ä¸å°ç®æ åç´ ã\n\näºåæ³æ¥æ¾çæ¶é´å¤æåº¦O(logn)ã",normalizedContent:"# äºåæ³æ¥æ¾\n\näºåæ³æ¥æ¾ï¼ä¹ç§°ä¸ºæåæ³ï¼æ¯ä¸ç§å¨æåºæ°ç»ä¸­æ¥æ¾ç¹å®åç´ çæç´¢ç®æ³ã\n\nï¼1ï¼é¦åï¼ä»æ°ç»çä¸­é´åç´ å¼å§æç´¢ï¼å¦æè¯¥åç´ æ­£å¥½æ¯ç®æ åç´ ï¼åæç´¢è¿ç¨ç»æï¼å¦åæ§è¡ä¸ä¸æ­¥ã\n\nï¼2ï¼å¦æç®æ åç´ å¤§äº/å°äºä¸­é´åç´ ï¼åå¨æ°ç»å¤§äº/å°äºä¸­é´åç´ çé£ä¸ååºåæ¥æ¾ï¼ç¶åéå¤æ­¥éª¤ï¼1ï¼çæä½ã\n\nï¼3ï¼å¦ææä¸æ­¥æ°ç»ä¸ºç©ºï¼åè¡¨ç¤ºæ¾ä¸å°ç®æ åç´ ã\n\näºåæ³æ¥æ¾çæ¶é´å¤æåº¦o(logn)ã",charsets:{cjk:!0},lastUpdated:"2022/03/18, 16:09:17",lastUpdatedTimestamp:1647590957e3},{title:"æ¹æ³åæ°ä¼ éæ¯å¼è¿æ¯å¼ç¨",frontmatter:{title:"æ¹æ³åæ°ä¼ éæ¯å¼è¿æ¯å¼ç¨",date:"2022-03-18T16:03:55.000Z",permalink:"/pages/7e9265/",categories:[408,"æ°æ®ç»æ"],tags:[null]},regularPath:"/408/01.%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84/07.%E6%96%B9%E6%B3%95%E5%8F%82%E6%95%B0%E4%BC%A0%E9%80%92%E6%98%AF%E5%80%BC%E8%BF%98%E6%98%AF%E5%BC%95%E7%94%A8.html",relativePath:"408/01.æ°æ®ç»æ/07.æ¹æ³åæ°ä¼ éæ¯å¼è¿æ¯å¼ç¨.md",key:"v-2f6093d7",path:"/pages/7e9265/",headersStr:null,content:"# æ¹æ³åæ°ä¼ éæ¯å¼è¿æ¯å¼ç¨\n\n 1. å¦æä¸ºåºæ¬æ°æ®ç±»åï¼8ç§ï¼åä¸ºå¼ä¼ é\n 2. å¼ç¨ç±»åå¯åä¸ºç±»å¼ç¨ç±»åï¼ç±»ï¼ãæ¥å£å¼ç¨ç±»åï¼æ¥å£ï¼åæ°ç»å¼ç¨ç±»åï¼æ°ç»ï¼(å¶å®å¼ç¨ä¼ éæ¯ç¹æ®å¼ä¼ é,ä¼ éä¸ºåå­çå°å)\n 3. åè£ç±»æ¯è¾ç¹æ® javaä¼èªå¨æç®± è½ç¶å®åä¼ éæ¯å¼ç¨å°å ä½å½¢åå·²ç»æ¯æç®±åçåå®¹ ä¸¤èä¸ç¸åæ æ³ä½ä¿®æ¹\n\nç»è®º:\n\n 1. Javaåºæ¬æ°æ®ç±»åä¼ éåæ°æ¶æ¯å¼ä¼ éï¼\n    \n    å¼ç¨ç±»åä¼ éåæ°æ¶æ¯å¼ç¨ä¼ éã\n\n 2. å¼ä¼ éæ¶ï¼å°å®åçå¼ä¼ éä¸ä»½ç»å½¢åï¼\n    \n    å¼ç¨ä¼ éæ¶ï¼å°å®åçå°åå¼ä¼ éä¸ä»½ç»å½¢åã\n\n 3. å¼ä¼ éæ¶ï¼å®åæå®çå¼ä¼ éç»å¯¹åºçå½¢åï¼å½æ°æ¥æ¶çæ¯åå§å¼çä¸ä¸ªæ·è´ï¼æ­¤æ¶åå­ä¸­å­å¨ä¸¤ä¸ªç¸ç­çåºæ¬ç±»åï¼å³å®ååå½¢åï¼åé¢æ¹æ³ä¸­çæä½é½æ¯å¯¹å½¢åè¿ä¸ªå¼çä¿®æ¹ï¼ä¸å½±åå®åçå¼ã\n    \n    å¼ç¨ä¼ éæ¶ï¼å®åçå¼ç¨(å°åï¼èä¸æ¯åæ°çå¼)è¢«ä¼ éç»æ¹æ³ä¸­ç¸å¯¹åºçå½¢åï¼å½æ°æ¥æ¶çæ¯åå§å¼çåå­å°åï¼å¨æ¹æ³æ§è¡ä¸­ï¼å½¢ååå®ååå®¹ç¸åï¼æååä¸ååå­å°åï¼æ¹æ³æ§è¡ä¸­å¯¹å¼ç¨çæä½å°ä¼å½±åå°å®éå¯¹è±¡ã",normalizedContent:"# æ¹æ³åæ°ä¼ éæ¯å¼è¿æ¯å¼ç¨\n\n 1. å¦æä¸ºåºæ¬æ°æ®ç±»åï¼8ç§ï¼åä¸ºå¼ä¼ é\n 2. å¼ç¨ç±»åå¯åä¸ºç±»å¼ç¨ç±»åï¼ç±»ï¼ãæ¥å£å¼ç¨ç±»åï¼æ¥å£ï¼åæ°ç»å¼ç¨ç±»åï¼æ°ç»ï¼(å¶å®å¼ç¨ä¼ éæ¯ç¹æ®å¼ä¼ é,ä¼ éä¸ºåå­çå°å)\n 3. åè£ç±»æ¯è¾ç¹æ® javaä¼èªå¨æç®± è½ç¶å®åä¼ éæ¯å¼ç¨å°å ä½å½¢åå·²ç»æ¯æç®±åçåå®¹ ä¸¤èä¸ç¸åæ æ³ä½ä¿®æ¹\n\nç»è®º:\n\n 1. javaåºæ¬æ°æ®ç±»åä¼ éåæ°æ¶æ¯å¼ä¼ éï¼\n    \n    å¼ç¨ç±»åä¼ éåæ°æ¶æ¯å¼ç¨ä¼ éã\n\n 2. å¼ä¼ éæ¶ï¼å°å®åçå¼ä¼ éä¸ä»½ç»å½¢åï¼\n    \n    å¼ç¨ä¼ éæ¶ï¼å°å®åçå°åå¼ä¼ éä¸ä»½ç»å½¢åã\n\n 3. å¼ä¼ éæ¶ï¼å®åæå®çå¼ä¼ éç»å¯¹åºçå½¢åï¼å½æ°æ¥æ¶çæ¯åå§å¼çä¸ä¸ªæ·è´ï¼æ­¤æ¶åå­ä¸­å­å¨ä¸¤ä¸ªç¸ç­çåºæ¬ç±»åï¼å³å®ååå½¢åï¼åé¢æ¹æ³ä¸­çæä½é½æ¯å¯¹å½¢åè¿ä¸ªå¼çä¿®æ¹ï¼ä¸å½±åå®åçå¼ã\n    \n    å¼ç¨ä¼ éæ¶ï¼å®åçå¼ç¨(å°åï¼èä¸æ¯åæ°çå¼)è¢«ä¼ éç»æ¹æ³ä¸­ç¸å¯¹åºçå½¢åï¼å½æ°æ¥æ¶çæ¯åå§å¼çåå­å°åï¼å¨æ¹æ³æ§è¡ä¸­ï¼å½¢ååå®ååå®¹ç¸åï¼æååä¸ååå­å°åï¼æ¹æ³æ§è¡ä¸­å¯¹å¼ç¨çæä½å°ä¼å½±åå°å®éå¯¹è±¡ã",charsets:{cjk:!0},lastUpdated:"2022/03/18, 16:09:17",lastUpdatedTimestamp:1647590957e3},{title:"ä½å¾",frontmatter:{title:"ä½å¾",date:"2022-03-18T16:03:55.000Z",permalink:"/pages/d2cd3f/",categories:[408,"æ°æ®ç»æ"],tags:[null]},regularPath:"/408/01.%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84/09.%E4%BD%8D%E5%9B%BE.html",relativePath:"408/01.æ°æ®ç»æ/09.ä½å¾.md",key:"v-c36f6bfc",path:"/pages/d2cd3f/",headersStr:null,content:"# ä½å¾\n\nä¸ä¸ªintæ¯4å­è 32ä½,ä¸ä¸ªlongç±»åæ¯8å­è 64ä½ï¼æä»¬å¯ä»¥ä½¿ç¨1ä¸ªlongæ¯ä¸ä½è¡¨ç¤ºä¸ä¸ªæ°å­ å¯ä»¥å­å¨0~63 64ä¸ªæ°å­ï¼å¼è¾ä¸ä¸ªlongç±»åæ°ç»å°±å¯ä»¥å­å¨å¤ä¸ªæ°å­\n\n\n\n\tpublic static class BitMap {\n\t\tprivate long[] bits;\n\n\t\tpublic BitMap(int max) { //æå¤§èå´ ç¨äºå¼è¾æ°ç»ç©ºé´\n\t\t\tbits = new long[(max + 64) >> 6]; // ç¸å½(x+64) / 64\n\t\t}\n\n\t\tpublic void add(int num) {\n\t\t\t//num & 63 ç¸å¯¹åº num % 64 åªéç¨äº2çé¶ä¹\n\t\t\tbits[num >> 6] |= (1L << (num & 63));\n\t\t}\n\n\t\tpublic void delete(int num) {\n\t\t\t//1L << (num & 63) çç»æåè®¾ä¸º 1000000 ååååä¸º 01111111\n\t\t\tbits[num >> 6] &= ~(1L << (num & 63));\n\t\t}\n\n\t\tpublic boolean contains(int num) {\n\t\t\treturn (bits[num >> 6] & (1L << (num & 63))) != 0;\n\t\t}\n\n\t}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n",normalizedContent:"# ä½å¾\n\nä¸ä¸ªintæ¯4å­è 32ä½,ä¸ä¸ªlongç±»åæ¯8å­è 64ä½ï¼æä»¬å¯ä»¥ä½¿ç¨1ä¸ªlongæ¯ä¸ä½è¡¨ç¤ºä¸ä¸ªæ°å­ å¯ä»¥å­å¨0~63 64ä¸ªæ°å­ï¼å¼è¾ä¸ä¸ªlongç±»åæ°ç»å°±å¯ä»¥å­å¨å¤ä¸ªæ°å­\n\n\n\n\tpublic static class bitmap {\n\t\tprivate long[] bits;\n\n\t\tpublic bitmap(int max) { //æå¤§èå´ ç¨äºå¼è¾æ°ç»ç©ºé´\n\t\t\tbits = new long[(max + 64) >> 6]; // ç¸å½(x+64) / 64\n\t\t}\n\n\t\tpublic void add(int num) {\n\t\t\t//num & 63 ç¸å¯¹åº num % 64 åªéç¨äº2çé¶ä¹\n\t\t\tbits[num >> 6] |= (1l << (num & 63));\n\t\t}\n\n\t\tpublic void delete(int num) {\n\t\t\t//1l << (num & 63) çç»æåè®¾ä¸º 1000000 ååååä¸º 01111111\n\t\t\tbits[num >> 6] &= ~(1l << (num & 63));\n\t\t}\n\n\t\tpublic boolean contains(int num) {\n\t\t\treturn (bits[num >> 6] & (1l << (num & 63))) != 0;\n\t\t}\n\n\t}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n",charsets:{cjk:!0},lastUpdated:"2022/03/18, 16:09:17",lastUpdatedTimestamp:1647590957e3},{title:"ä½è¿ç®å®ç°ååè¿ç®",frontmatter:{title:"ä½è¿ç®å®ç°ååè¿ç®",date:"2022-03-18T16:03:55.000Z",permalink:"/pages/51bf81/",categories:[408,"æ°æ®ç»æ"],tags:[null]},regularPath:"/408/01.%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84/10.%E4%BD%8D%E8%BF%90%E7%AE%97%E5%AE%9E%E7%8E%B0%E5%9B%9B%E5%88%99%E8%BF%90%E7%AE%97.html",relativePath:"408/01.æ°æ®ç»æ/10.ä½è¿ç®å®ç°ååè¿ç®.md",key:"v-11649cf0",path:"/pages/51bf81/",headers:[{level:2,title:"å æ³",slug:"å æ³",normalizedTitle:"å æ³",charIndex:16},{level:2,title:"åæ³",slug:"åæ³",normalizedTitle:"åæ³",charIndex:492},{level:2,title:"ä¹æ³",slug:"ä¹æ³",normalizedTitle:"ä¹æ³",charIndex:628},{level:2,title:"é¤æ³",slug:"é¤æ³",normalizedTitle:"é¤æ³",charIndex:942},{level:2,title:"29. ä¸¤æ°ç¸é¤",slug:"_29-ä¸¤æ°ç¸é¤",normalizedTitle:"29. ä¸¤æ°ç¸é¤",charIndex:1418}],headersStr:"å æ³ åæ³ ä¹æ³ é¤æ³ 29. ä¸¤æ°ç¸é¤",content:"# ä½è¿ç®å®ç°ååè¿ç®\n\n\n# å æ³\n\nå¼æè¿ç® æ¯ä¸ä¸ªæ è¿ä½å æ³\n\nint a = 46; //0101110\nint b = 20; //0010100\nSystem.out.println(a^b); //58 ==> 0111010\nSystem.out.println(a&b); //4 ==> 0000100  è¿ä½ä½ç½®\nSystem.out.println((a&b) << 1);//8 ==>0001000   éè¦å·¦ç§»ä¸ä½ææ¯è¿ä½åçç»æ\n//ä¸æ­çæ è¿ä½å æ³ + è¿ä½ä¿¡æ¯ ç´å°è¿è¡ä¿¡æ¯ä¸ºç©ºåä¸º å æ³\n\n\n1\n2\n3\n4\n5\n6\n\n\nå®æ´åæ³\n\n\tpublic static int add(int a,int b) {\n\t\tint sum = a;\n\t\twhile (b != 0) { //ç´æ¥è¿ä½ä¿¡æ¯ä¸ºç©º\n\t\t\tsum = a ^ b; //æ è¿ä½ç¸å \n\t\t\tb = (a&b)<<1; // è¿ä½ä¿¡æ¯\n\t\t\ta = sum; //aåææ è¿ä½ä¿¡æ¯ å æ³çç»æ\n\t\t}\n\t\treturn sum;\n\t}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n\n\n\n# åæ³\n\na - b = a + (-b) = a + (~b + 1)\n\n//åæ³\n\tpublic static int sub(int a,int b) {\n\t\tb = add(~b,1);\n\t\treturn add(a,b);\n\t}\n\n\n1\n2\n3\n4\n5\n\n\n\n# ä¹æ³\n\n\n\nå¦æä¹æ°å½åä½ä¸º1ï¼ååè¢«ä¹æ°å·¦ç§»ä¸ä½çç»æå å°æç»ç»æä¸­ï¼å¦æå½åä½ä¸º0ï¼åå0å å°ä¹ç§¯ä¸­\n\n\t//ä¹æ³\n\tpublic static int multiply(int a, int b) {\n\t\tint sum = 0;\n\t\twhile (b != 0) {\n\t\t\tif ((b & 1) != 0) { //å¦æb ä¸ 1 ä¸ç­äº0åéè¦ç¸å \n\t\t\t\tsum = add(sum, a);\n\t\t\t}\n\t\t\ta = a << 1; //aå·¦ç§»ä¸ä½0è¡¥å¨\n\t\t\tb = b >>> 1; //bå³ç§»ä¸ä½\n\t\t}\n\t\treturn sum;\n\t}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n\n\n\n# é¤æ³\n\n\tpublic static int div(int a, int b) {\n\t\tint x = a < 0 ? add(~a, 1) : a; // å¤æ­æ¯å¦ä¸ºè´æ° å¦æ¯åè½¬ä¸ºç»å¯¹å¼è®¡ç®\n\t\tint y = b < 0 ? add(~b, 1) : b;\n\t\tint res = 0;\n\t\tfor (int i = 30; i >= 0; i = add(i, -1)) { // i-- ==> add(i,-1)\n\t\t\tif ((x >> i) >= y) { // å¦æxå³ç§»iä½ >= è¢«é¤æ° åè¿å¥åæ¯\n\t\t\t\tres |= (1 << i); // å°åæ°(ä½æ°)ç»æå¢å å°ansä¸­\n\t\t\t\tx = add(x, add(~y, 1) << i); // åænåçè¢«é¤æ°\n\t\t\t\t\n\t\t\t}\n\t\t}\n\t\treturn (a < 0 == b < 0) ? res : add(~res, 1); // å¤æ­abä¸¤æ°ç¬¦å·æ¯å¦ç¸ç­ ä¸ç¸ç­åè¿åç¸åæ°\n\t}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n\n\n\n# 29. ä¸¤æ°ç¸é¤\n\n\t// å æ³\n\tpublic static int add(int a, int b) {\n\t\tint sum = a;\n\t\twhile (b != 0) { // ç´æ¥è¿ä½ä¿¡æ¯ä¸ºç©º\n\t\t\tsum = a ^ b; // æ è¿ä½ç¸å \n\t\t\tb = (a & b) << 1; // è¿ä½ä¿¡æ¯\n\t\t\ta = sum; // aåææ è¿ä½ä¿¡æ¯ å æ³çç»æ\n\t\t}\n\t\treturn sum;\n\t}\n\n\t// åæ³\n\tpublic static int sub(int a, int b) {\n\t\tb = add(~b, 1); // åå+1\n\t\treturn add(a, b);\n\t}\n\n\t// ä¹æ³\n\tpublic static int multiply(int a, int b) {\n\t\tint sum = 0;\n\t\twhile (b != 0) {\n\t\t\tif ((b & 1) != 0) {\n\t\t\t\tsum = add(sum, a);\n\t\t\t}\n\t\t\ta = a << 1;\n\t\t\tb = b >>> 1;\n\t\t}\n\t\treturn sum;\n\t}\n\n\t// é¤æ³\n\tpublic static int div(int a, int b) {\n\t\tint x = a < 0 ? add(~a, 1) : a; // å¤æ­æ¯å¦ä¸ºè´æ° å¦æ¯åè½¬ä¸ºç»å¯¹å¼è®¡ç®\n\t\tint y = b < 0 ? add(~b, 1) : b;\n\t\tint res = 0;\n\t\tfor (int i = 30; i >= 0; i = add(i, -1)) { // i-- ==> add(i,-1)\n\t\t\tif ((x >> i) >= y) { // å¦æxå³ç§»iä½ >= è¢«é¤æ° åè¿å¥åæ¯\n\t\t\t\tres |= (1 << i); // å°åæ°(ä½æ°)ç»æå¢å å°ansä¸­\n\t\t\t\tx = add(x, add(~y, 1) << i); // åænåçè¢«é¤æ°\n\t\t\t\t\n\t\t\t}\n\t\t}\n\t\treturn (a < 0 == b < 0) ? res : add(~res, 1); // å¤æ­abä¸¤æ°ç¬¦å·æ¯å¦ç¸ç­ ä¸ç¸ç­åè¿åç¸åæ°\n\t}\n\n\tpublic static int divide(int a, int b) {\n\t\tif (a == Integer.MIN_VALUE && b == Integer.MIN_VALUE) { // aåbé½ä¸ºæå°å¼ è¿å1\n\t\t\treturn 1;\n\t\t} else if (b == Integer.MIN_VALUE) { // è¢«é¤æ°ä¸ºæå°å¼ è¿å0\n\t\t\treturn 0;\n\t\t} else if (a == Integer.MIN_VALUE) { // é¤æ°ä¸ºæå°å¼\n\t\t\tif (b == add(~1, 1)) { // è¢«é¤æ°ä¸º-1 è¿åæå¤§å¼\n\t\t\t\treturn Integer.MAX_VALUE;\n\t\t\t} else {\n\t\t\t\tint c = div(add(a, 1), b); // (a+1)/b = c\n\t\t\t\tint e = multiply(b, c); // b*c = e\n\t\t\t\tint f = add(a, add(~e, 1)); // a-(b*c) = f\n\t\t\t\tint q = div(f, b); // f/b = q\n\t\t\t\treturn add(c, q); // c+q\n\t\t\t}\n\t\t} else {\n\t\t\treturn div(a, b);\n\t\t}\n\t}\n\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n26\n27\n28\n29\n30\n31\n32\n33\n34\n35\n36\n37\n38\n39\n40\n41\n42\n43\n44\n45\n46\n47\n48\n49\n50\n51\n52\n53\n54\n55\n56\n57\n58\n59\n60\n61\n62\n63\n64\n65\n",normalizedContent:"# ä½è¿ç®å®ç°ååè¿ç®\n\n\n# å æ³\n\nå¼æè¿ç® æ¯ä¸ä¸ªæ è¿ä½å æ³\n\nint a = 46; //0101110\nint b = 20; //0010100\nsystem.out.println(a^b); //58 ==> 0111010\nsystem.out.println(a&b); //4 ==> 0000100  è¿ä½ä½ç½®\nsystem.out.println((a&b) << 1);//8 ==>0001000   éè¦å·¦ç§»ä¸ä½ææ¯è¿ä½åçç»æ\n//ä¸æ­çæ è¿ä½å æ³ + è¿ä½ä¿¡æ¯ ç´å°è¿è¡ä¿¡æ¯ä¸ºç©ºåä¸º å æ³\n\n\n1\n2\n3\n4\n5\n6\n\n\nå®æ´åæ³\n\n\tpublic static int add(int a,int b) {\n\t\tint sum = a;\n\t\twhile (b != 0) { //ç´æ¥è¿ä½ä¿¡æ¯ä¸ºç©º\n\t\t\tsum = a ^ b; //æ è¿ä½ç¸å \n\t\t\tb = (a&b)<<1; // è¿ä½ä¿¡æ¯\n\t\t\ta = sum; //aåææ è¿ä½ä¿¡æ¯ å æ³çç»æ\n\t\t}\n\t\treturn sum;\n\t}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n\n\n\n# åæ³\n\na - b = a + (-b) = a + (~b + 1)\n\n//åæ³\n\tpublic static int sub(int a,int b) {\n\t\tb = add(~b,1);\n\t\treturn add(a,b);\n\t}\n\n\n1\n2\n3\n4\n5\n\n\n\n# ä¹æ³\n\n\n\nå¦æä¹æ°å½åä½ä¸º1ï¼ååè¢«ä¹æ°å·¦ç§»ä¸ä½çç»æå å°æç»ç»æä¸­ï¼å¦æå½åä½ä¸º0ï¼åå0å å°ä¹ç§¯ä¸­\n\n\t//ä¹æ³\n\tpublic static int multiply(int a, int b) {\n\t\tint sum = 0;\n\t\twhile (b != 0) {\n\t\t\tif ((b & 1) != 0) { //å¦æb ä¸ 1 ä¸ç­äº0åéè¦ç¸å \n\t\t\t\tsum = add(sum, a);\n\t\t\t}\n\t\t\ta = a << 1; //aå·¦ç§»ä¸ä½0è¡¥å¨\n\t\t\tb = b >>> 1; //bå³ç§»ä¸ä½\n\t\t}\n\t\treturn sum;\n\t}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n\n\n\n# é¤æ³\n\n\tpublic static int div(int a, int b) {\n\t\tint x = a < 0 ? add(~a, 1) : a; // å¤æ­æ¯å¦ä¸ºè´æ° å¦æ¯åè½¬ä¸ºç»å¯¹å¼è®¡ç®\n\t\tint y = b < 0 ? add(~b, 1) : b;\n\t\tint res = 0;\n\t\tfor (int i = 30; i >= 0; i = add(i, -1)) { // i-- ==> add(i,-1)\n\t\t\tif ((x >> i) >= y) { // å¦æxå³ç§»iä½ >= è¢«é¤æ° åè¿å¥åæ¯\n\t\t\t\tres |= (1 << i); // å°åæ°(ä½æ°)ç»æå¢å å°ansä¸­\n\t\t\t\tx = add(x, add(~y, 1) << i); // åænåçè¢«é¤æ°\n\t\t\t\t\n\t\t\t}\n\t\t}\n\t\treturn (a < 0 == b < 0) ? res : add(~res, 1); // å¤æ­abä¸¤æ°ç¬¦å·æ¯å¦ç¸ç­ ä¸ç¸ç­åè¿åç¸åæ°\n\t}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n\n\n\n# 29. ä¸¤æ°ç¸é¤\n\n\t// å æ³\n\tpublic static int add(int a, int b) {\n\t\tint sum = a;\n\t\twhile (b != 0) { // ç´æ¥è¿ä½ä¿¡æ¯ä¸ºç©º\n\t\t\tsum = a ^ b; // æ è¿ä½ç¸å \n\t\t\tb = (a & b) << 1; // è¿ä½ä¿¡æ¯\n\t\t\ta = sum; // aåææ è¿ä½ä¿¡æ¯ å æ³çç»æ\n\t\t}\n\t\treturn sum;\n\t}\n\n\t// åæ³\n\tpublic static int sub(int a, int b) {\n\t\tb = add(~b, 1); // åå+1\n\t\treturn add(a, b);\n\t}\n\n\t// ä¹æ³\n\tpublic static int multiply(int a, int b) {\n\t\tint sum = 0;\n\t\twhile (b != 0) {\n\t\t\tif ((b & 1) != 0) {\n\t\t\t\tsum = add(sum, a);\n\t\t\t}\n\t\t\ta = a << 1;\n\t\t\tb = b >>> 1;\n\t\t}\n\t\treturn sum;\n\t}\n\n\t// é¤æ³\n\tpublic static int div(int a, int b) {\n\t\tint x = a < 0 ? add(~a, 1) : a; // å¤æ­æ¯å¦ä¸ºè´æ° å¦æ¯åè½¬ä¸ºç»å¯¹å¼è®¡ç®\n\t\tint y = b < 0 ? add(~b, 1) : b;\n\t\tint res = 0;\n\t\tfor (int i = 30; i >= 0; i = add(i, -1)) { // i-- ==> add(i,-1)\n\t\t\tif ((x >> i) >= y) { // å¦æxå³ç§»iä½ >= è¢«é¤æ° åè¿å¥åæ¯\n\t\t\t\tres |= (1 << i); // å°åæ°(ä½æ°)ç»æå¢å å°ansä¸­\n\t\t\t\tx = add(x, add(~y, 1) << i); // åænåçè¢«é¤æ°\n\t\t\t\t\n\t\t\t}\n\t\t}\n\t\treturn (a < 0 == b < 0) ? res : add(~res, 1); // å¤æ­abä¸¤æ°ç¬¦å·æ¯å¦ç¸ç­ ä¸ç¸ç­åè¿åç¸åæ°\n\t}\n\n\tpublic static int divide(int a, int b) {\n\t\tif (a == integer.min_value && b == integer.min_value) { // aåbé½ä¸ºæå°å¼ è¿å1\n\t\t\treturn 1;\n\t\t} else if (b == integer.min_value) { // è¢«é¤æ°ä¸ºæå°å¼ è¿å0\n\t\t\treturn 0;\n\t\t} else if (a == integer.min_value) { // é¤æ°ä¸ºæå°å¼\n\t\t\tif (b == add(~1, 1)) { // è¢«é¤æ°ä¸º-1 è¿åæå¤§å¼\n\t\t\t\treturn integer.max_value;\n\t\t\t} else {\n\t\t\t\tint c = div(add(a, 1), b); // (a+1)/b = c\n\t\t\t\tint e = multiply(b, c); // b*c = e\n\t\t\t\tint f = add(a, add(~e, 1)); // a-(b*c) = f\n\t\t\t\tint q = div(f, b); // f/b = q\n\t\t\t\treturn add(c, q); // c+q\n\t\t\t}\n\t\t} else {\n\t\t\treturn div(a, b);\n\t\t}\n\t}\n\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n26\n27\n28\n29\n30\n31\n32\n33\n34\n35\n36\n37\n38\n39\n40\n41\n42\n43\n44\n45\n46\n47\n48\n49\n50\n51\n52\n53\n54\n55\n56\n57\n58\n59\n60\n61\n62\n63\n64\n65\n",charsets:{cjk:!0},lastUpdated:"2022/03/18, 16:09:17",lastUpdatedTimestamp:1647590957e3},{title:"æåº",frontmatter:{title:"æåº",date:"2022-03-18T16:03:55.000Z",permalink:"/pages/0dcdc5/",categories:[408,"æ°æ®ç»æ"],tags:[null]},regularPath:"/408/01.%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84/12.%E6%8E%92%E5%BA%8F.html",relativePath:"408/01.æ°æ®ç»æ/12.æåº.md",key:"v-5bd2c1fd",path:"/pages/0dcdc5/",headers:[{level:3,title:"å½å¹¶æåº",slug:"å½å¹¶æåº",normalizedTitle:"å½å¹¶æåº",charIndex:9},{level:3,title:"å¿«éæåº",slug:"å¿«éæåº",normalizedTitle:"å¿«éæåº",charIndex:9057}],headersStr:"å½å¹¶æåº å¿«éæåº",content:'# æåº\n\n\n# å½å¹¶æåº\n\nè¯¥ç®æ³æ¯éç¨åæ²»æ³çä¸ä¸ªéå¸¸å¸åçåºç¨ãå°å·²æåºçå­åºååå¹¶ï¼å¾å°å®å¨æåºçåºåï¼å³åä½¿æ¯ä¸ªå­åºåæåºï¼åä½¿å­åºåæ®µé´æåºãè¥å°ä¸¤ä¸ªæåºè¡¨åå¹¶æä¸ä¸ªæåºè¡¨ï¼ç§°ä¸ºäºè·¯å½å¹¶ã\n\npublic static void mergeSort1(int[] arr) {\n\t\tif (arr == null || arr.length < 2) { // ä¸ºç©º æ å°äºä¸¤ä¸ªåç´ æ æ³æåº\n\t\t\treturn;\n\t\t}\n\t\tprocess(arr, 0, arr.length - 1);\n\t}\n\n\tpublic static void process(int[] arr, int l, int r) {\n\t\tif (l == r) { // åªæä¸ä¸ªåç´ \n\t\t\treturn;\n\t\t}\n\t\tint mid = l + ((r - l) / 2); // ä¸ºäºé²æ­¢è¶ç ç¸å½äº(l+r)/2\n\t\tprocess(arr, l, mid); // éå½åæ²»\n\t\tprocess(arr, mid + 1, r); // éå½\n\t\tmerge(arr, l, mid, r); // åå¹¶å­åºå\n\n\t}\n\n\tpublic static void merge(int[] arr, int l, int m, int r) {\n\t\tint[] prearr = new int[r - l + 1]; // å¼è¾å­å¨æåºå¥½çæ°ç» å·¦å³ç»æå¤å°ä¸ªåç´ å°±å¼è¾å¤å°ä¸ªä½ç½®\n\t\tint index = 0; // å­å¨æ°ç»æé\n\t\tint p1 = l; // å·¦ç»æé\n\t\tint p2 = m + 1; // å³ç»æé\n\t\twhile (p1 <= m && p2 <= r) { // é²æ­¢å·¦å³æéè¶ç\n\t\t\tprearr[index++] = arr[p1] <= arr[p2] ? arr[p1++] : arr[p2++]; // æ¯è¾å¤§å°\n\t\t}\n\t\twhile (p1 <= m) { // å·¦æéæªè¶ç\n\t\t\tprearr[index++] = arr[p1++];\n\t\t}\n\t\twhile (p2 <= r) { // å³æéæªè¶ç\n\t\t\tprearr[index++] = arr[p2++];\n\t\t}\n\t\t// å½å¹¶å°åå§æ°ç»\n\t\tfor (int i = 0; i < prearr.length; i++) {\n\t\t\tarr[l + i] = prearr[i];\n\t\t}\n\t}\n\n\t//ééå½\n\tpublic static void mergeSort2(int[] arr) {\n\t\tif (arr == null || arr.length < 2) { // ä¸ºç©ºæå°äº2ä¸ªåç´ \n\t\t\treturn;\n\t\t}\n\t\tint step = 1; // æ­¥é¿ä¸º 1 2 4 8 16 32 2çæ¬¡æ¹(å³å¤å°ä¸ªä¸ºä¸ç»)\n\t\tint N = arr.length; // é¿åº¦\n\t\twhile (step < N) { // å¦ææ­¥é¿ è¶è¿ é¿åº¦\n\t\t\tint L = 0; // å·¦æé\n\t\t\twhile (L < N) {\n\t\t\t\tint M = 0; // å³æééç½®\n\t\t\t\tif (N - L >= step) { // å³æéå°å·¦æé å¤§äºç­äºæ­¥é¿\n\t\t\t\t\tM = L + step - 1; // å³æéèµå¼\n\t\t\t\t} else {\n\t\t\t\t\tM = N - 1; // å¦åå³æéä¸º æ°ç»é¿åº¦-1 ä¸ºäºèµå¼æ°å¼æº¢åº\n\t\t\t\t}\n\t\t\t\tif (M == N - 1) { // å¦æå·¦ç»ç å³æéä¸ºæ°ç»ä¸­æåä¸ä¸ªå æ å³ç»æ¯è¾ ç´æ¥break\n\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t\tint R = 0; // å³ç»å³æé\n\t\t\t\tif (N - 1 - M >= step) { // å³ç»æ¯å¦è½åé½stepä¸ªåç´ \n\t\t\t\t\tR = M + step;\n\t\t\t\t} else { // æ æ³åé½ å³æéå°æ°ç»å°¾åç´ \n\t\t\t\t\tR = N - 1;\n\t\t\t\t}\n\t\t\t\tmerge(arr, L, M, R); // åå¹¶åºé´ Lä¸ºå·¦ç»å·¦æé Mä¸ºå·¦ç»å³æé M+1ä¸ºå³ç»å·¦æé Rä¸ºå³ç»å³æé\n\t\t\t\tif (R == N - 1) { // å³ç»å³æéå°æ°ç»å°¾ ç»ææ¬æ¬¡æ­¥é¿\n\t\t\t\t\tbreak;\n\t\t\t\t} else { // å¦åéæ°èµå¼å·¦ç»å·¦æé è¿è¡ä¸ä¸ªå¤§ç»çåºé´åå¹¶\n\t\t\t\t\tL = R + 1;\n\t\t\t\t}\n\t\t\t}\n\t\t\tif (step > N / 2) { // å½åæ­¥é¿ä¸è½åé½å·¦å³ä¸¤ç» è¿è¡åå¹¶åºé´\n\t\t\t\tbreak;\n\t\t\t}\n\t\t\tstep *= 2; // æ­¥é¿å¢å \n\t\t}\n\n\t}\n\t\n\t// ééå½æ¹æ³å®ç°\n\tpublic static void mergeSort3(int[] arr) {\n\t\tif (arr == null || arr.length < 2) {\n\t\t\treturn;\n\t\t}\n\t\tint N = arr.length;\n\t\tint mergeSize = 1;\n\t\twhile (mergeSize < N) {\n\t\t\tint L = 0;\n\t\t\twhile (L < N) {\n\t\t\t\tif (mergeSize >= N - L) { //å½åæ­¥é¿å¤§äºå©ä¸ä¸ºåå¹¶çåç´ \n\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t\tint M = L + mergeSize - 1; //å·¦ç»å³æé\n\t\t\t\tint R = M + Math.min(mergeSize, N - M - 1); //å³ç»å³æé\n\t\t\t\tmerge(arr, L, M, R);\n\t\t\t\tL = R + 1;\n\t\t\t}\n\t\t\tif (mergeSize > N / 2) {\n\t\t\t\tbreak;\n\t\t\t}\n\t\t\tmergeSize <<= 1;\n\t\t}\n\t}\n\n\t// for test\n\tpublic static int[] generateRandomArray(int maxSize, int maxValue) {\n\t\tint[] arr = new int[(int) ((maxSize + 1) * Math.random())];\n\t\tfor (int i = 0; i < arr.length; i++) {\n\t\t\tarr[i] = (int) ((maxValue + 1) * Math.random()) - (int) (maxValue * Math.random());\n\t\t}\n\t\treturn arr;\n\t}\n\n\t// for test\n\tpublic static int[] copyArray(int[] arr) {\n\t\tif (arr == null) {\n\t\t\treturn null;\n\t\t}\n\t\tint[] res = new int[arr.length];\n\t\tfor (int i = 0; i < arr.length; i++) {\n\t\t\tres[i] = arr[i];\n\t\t}\n\t\treturn res;\n\t}\n\n\t// for test\n\tpublic static boolean isEqual(int[] arr1, int[] arr2) {\n\t\tif ((arr1 == null && arr2 != null) || (arr1 != null && arr2 == null)) {\n\t\t\treturn false;\n\t\t}\n\t\tif (arr1 == null && arr2 == null) {\n\t\t\treturn true;\n\t\t}\n\t\tif (arr1.length != arr2.length) {\n\t\t\treturn false;\n\t\t}\n\t\tfor (int i = 0; i < arr1.length; i++) {\n\t\t\tif (arr1[i] != arr2[i]) {\n\t\t\t\treturn false;\n\t\t\t}\n\t\t}\n\t\treturn true;\n\t}\n\n\t// for test\n\tpublic static void printArray(int[] arr) {\n\t\tif (arr == null) {\n\t\t\treturn;\n\t\t}\n\t\tfor (int i = 0; i < arr.length; i++) {\n\t\t\tSystem.out.print(arr[i] + " ");\n\t\t}\n\t\tSystem.out.println();\n\t}\n\n\t// å¯¹æ°å¨\n\tpublic static void main(String[] args) {\n\t\tint testTime = 500000;\n\t\tint maxSize = 100;\n\t\tint maxValue = 100;\n\t\tSystem.out.println("æµè¯å¼å§");\n\t\tfor (int i = 0; i < testTime; i++) {\n\t\t\tint[] arr1 = generateRandomArray(maxSize, maxValue);\n\t\t\tint[] arr2 = copyArray(arr1);\n\t\t\tmergeSort1(arr1);\n\t\t\tmergeSort2(arr2);\n\t\t\tif (!isEqual(arr1, arr2)) {\n\t\t\t\tSystem.out.println("åºéäºï¼");\n\t\t\t\tprintArray(arr1);\n\t\t\t\tprintArray(arr2);\n\t\t\t\tbreak;\n\t\t\t}\n\t\t}\n\t\tSystem.out.println("æµè¯ç»æ");\n\t}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n26\n27\n28\n29\n30\n31\n32\n33\n34\n35\n36\n37\n38\n39\n40\n41\n42\n43\n44\n45\n46\n47\n48\n49\n50\n51\n52\n53\n54\n55\n56\n57\n58\n59\n60\n61\n62\n63\n64\n65\n66\n67\n68\n69\n70\n71\n72\n73\n74\n75\n76\n77\n78\n79\n80\n81\n82\n83\n84\n85\n86\n87\n88\n89\n90\n91\n92\n93\n94\n95\n96\n97\n98\n99\n100\n101\n102\n103\n104\n105\n106\n107\n108\n109\n110\n111\n112\n113\n114\n115\n116\n117\n118\n119\n120\n121\n122\n123\n124\n125\n126\n127\n128\n129\n130\n131\n132\n133\n134\n135\n136\n137\n138\n139\n140\n141\n142\n143\n144\n145\n146\n147\n148\n149\n150\n151\n152\n153\n154\n155\n156\n157\n158\n159\n160\n161\n162\n163\n164\n165\n166\n167\n168\n169\n170\n171\n172\n173\n174\n\n\n# æ±æ°ç»å°å\n\nç»ä¸ä¸ªæ°ç»arr[L-R]èå´æ¢è¦æå¥½åº,ä¹è¦è¿åæ¯ä¸ªåç´ å¨æåºåæ¯å½ååç´ å°çå\n\npublic static int smallSum(int[] arr) {\n\t\tif (arr == null || arr.length < 2) {\n\t\t\treturn 0;\n\t\t}\n\t\treturn process(arr, 0, arr.length - 1);\n\t}\n\n\tprivate static int process(int[] arr, int l, int r) {\n\t\tif (l == r) {\n\t\t\treturn 0;\n\t\t}\n\t\tint mid = l + ((r - l) >> 1);\n\t\treturn process(arr, l, mid) + process(arr, mid + 1, r) + merge(arr, l, mid, r);\n\t}\n\n\tprivate static int merge(int[] arr, int l, int mid, int r) {\n\t\tint[] arr2 = new int[r - l + 1];\n\t\tint i = 0;\n\t\tint p1 = l;\n\t\tint p2 = mid + 1;\n\t\tint ans = 0; // å½åå½å¹¶æå°å\n\t\twhile (p1 <= mid && p2 <= r) {\n\t\t\tans += arr[p1] < arr[p2] ? arr[p1] * (r - p2 + 1) : 0; // å¦æåæ¾å¥å·¦ç» åä»£è¡¨ær-p2+1ä¸ªåç´ å¤§äºå½åå·¦ç»çåç´  å¦åæ²¡ææå°\n\t\t\tarr2[i++] = arr[p1] < arr[p2] ? arr[p1++] : arr[p2++]; // æ¯è¾å¤§å°å½å¹¶ å¦ç­äºåæ¾å³ç»é¿åå°ç¸åå¼åç´ ç»è®¡å°r-p2+1ä¸­\n\t\t}\n\n\t\twhile (p1 <= mid) {\n\t\t\tarr2[i++] = arr[p1++];\n\t\t}\n\n\t\twhile (p2 <= r) {\n\t\t\tarr2[i++] = arr[p2++];\n\t\t}\n\n\t\tfor (i = 0; i < arr2.length; i++) {\n\t\t\tarr[l + i] = arr2[i];\n\t\t}\n\n\t\treturn ans;\n\t}\n\n\t// for test\n\tpublic static int comparator(int[] arr) {\n\t\tif (arr == null || arr.length < 2) {\n\t\t\treturn 0;\n\t\t}\n\t\tint res = 0;\n\t\tfor (int i = 1; i < arr.length; i++) {\n\t\t\tfor (int j = 0; j < i; j++) {\n\t\t\t\tres += arr[j] < arr[i] ? arr[j] : 0;\n\t\t\t}\n\t\t}\n\t\treturn res;\n\t}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n26\n27\n28\n29\n30\n31\n32\n33\n34\n35\n36\n37\n38\n39\n40\n41\n42\n43\n44\n45\n46\n47\n48\n49\n50\n51\n52\n53\n54\n\n\n# æ±æ°ç»ä¸­çéåºå¯¹æ°é\n\nç»å®ä¸ä¸ªæ°ç»arrï¼æ±æ°ç»çéåºå¯¹æ»æ°é\n\nå¨ä¸ä¸ªæ°ç»ä¸­ï¼ä»»ä½ä¸ä¸ªåé¢çæ°aï¼åä»»ä½ä¸ä¸ªåé¢çæ°bï¼å¦æ(a,b)æ¯éåºçï¼å°±ç§°ä¸ºéåºå¯¹\n\npublic static int reverPairNumber(int[] arr) {\n\t\tif (arr == null || arr.length == 0) {\n\t\t\treturn 0;\n\t\t}\n\t\treturn prcess(arr, 0, arr.length - 1);\n\t}\n\n\tpublic static int prcess(int[] arr, int l, int r) {\n\t\tif (l == r) {\n\t\t\treturn 0;\n\t\t}\n\t\tint m = l + ((r - l) >> 1);\n\t\treturn prcess(arr, l, m) + prcess(arr, m + 1, r) + merge(arr, l, m, r);\n\t}\n\n\tpublic static int merge(int[] arr, int l, int m, int r) {\n\t\tint ans = 0;\n\t\tint[] help = new int[r - l + 1];\n\t\t// åçéå\n\t\tint i = help.length - 1; // ä»å°¾é¨å¼å§\n\t\tint p1 = m; // å·¦è¾¹è¾¹ç\n\t\tint p2 = r; // å³ç»è¾¹ç\n\t\twhile (p1 >= l && p2 > m) {\n\t\t\tans += arr[p1] > arr[p2] ? (p2 - m) : 0; // å¦æå·¦è¾¹æéæ°å¤§äºå³è¾¹æéæ°åä¸ºéåºå¯¹\n\t\t\thelp[i--] = arr[p1] > arr[p2] ? arr[p1--] : arr[p2--];\n\t\t}\n\t\twhile (p1 >= l) {\n\t\t\thelp[i--] = arr[p1--];\n\t\t}\n\t\twhile (p2 > m) { // æ³¨æå°må°±åæ­¢\n\t\t\thelp[i--] = arr[p2--];\n\t\t}\n\t\tfor (int j = 0; j < help.length; j++) {\n\t\t\tarr[l + j] = help[j];\n\t\t}\n\t\treturn ans;\n\t}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n26\n27\n28\n29\n30\n31\n32\n33\n34\n35\n36\n37\n\n\n# 493. ç¿»è½¬å¯¹\n\nå¨ä¸ä¸ªæ°ç»ä¸­ï¼å¯¹äºä»»ä½ä¸ä¸ªæ°numï¼æ±æå¤å°ä¸ª(åé¢çæ°*2)ä¾ç¶<numï¼è¿åæ»ä¸ªæ°\n\næ¯å¦ï¼[3,1,7,0,2]\n3çåé¢æï¼1ï¼0\n1çåé¢æï¼0\n7çåé¢æï¼0ï¼2\n0çåé¢æ²¡æ\n2çåé¢æ²¡æ\næä»¥æ»å±æ5ä¸ª\n\n\n1\n2\n3\n4\n5\n6\n7\n\n\n# 327. åºé´åçä¸ªæ°\n\npublic int countRangeSum(int[] nums, int lower, int upper) {\n\t\tif (nums == null || nums.length == 0) {\n\t\t\treturn 0;\n\t\t}\n\t\t// åç¼åæ°ç»\n\t\tlong[] sum = new long[nums.length];\n\t\tsum[0] = nums[0];\n\t\tfor (int i = 1; i < nums.length; i++) {\n\t\t\tsum[i] = sum[i - 1] + nums[i];\n\n\t\t}\n\t\t// åæ°ç» å·²æ ç¨ ä¼ éåç¼åæ°ç»\n\t\treturn process(sum, 0, nums.length - 1, lower, upper);\n\t}\n\n\tprivate int process(long[] sum, int l, int r, int lower, int upper) {\n\t\tif (l == r) {\n\t\t\t// åªæä¸ä¸ªæ°æ¶ å¤æ­æ¯å¦å¨loweråupperèå´å æ¯åres+1\n\t\t\treturn sum[l] >= lower && sum[l] <= upper ? 1 : 0;\n\n\t\t}\n\t\tint m = l + ((r - l) >> 1);\n\t\t// éå½+åå¹¶\n\t\treturn process(sum, l, m, lower, upper) + process(sum, m + 1, r, lower, upper)\n\t\t\t\t+ merge(sum, l, m, r, lower, upper);\n\t}\n\n\tprivate int merge(long[] sum, int l, int m, int r, int lower, int upper) {\n\t\tint ans = 0;\n\t\tint windowL = l;\n\t\tint windowR = l; // [windowL, windowR)\n\t\tfor (int i = m + 1; i <= r; i++) { // ä»å³ç»å¼å§éå\n\t\t\tlong min = sum[i] - upper;\n\t\t\tlong max = sum[i] - lower;\n\t\t\twhile (windowR <= m && sum[windowR] <= max) {\n\t\t\t\twindowR++; // æ¾å°æå¤§å¼ä¸æ è¾¹ç\n\t\t\t}\n\t\t\twhile (windowL <= m && sum[windowL] < min) {\n\t\t\t\twindowL++; // æå°å¼ä¸æ è¾¹ç\n\t\t\t}\n\t\t\tans += windowR - windowL; // å³ç»å½ååç´ æå¤å°ä¸ªå¨èå´åç\n\t\t}\n\n\t\t//å½å¹¶\n\t\tlong[] help = new long[r - l + 1];\n\t\tint i = 0;\n\t\tint p1 = l;\n\t\tint p2 = m + 1;\n\t\twhile (p1 <= m && p2 <= r) {\n\t\t\thelp[i++] = sum[p1] <= sum[p2] ? sum[p1++] : sum[p2++];\n\t\t}\n\t\twhile (p1 <= m) {\n\t\t\thelp[i++] = sum[p1++];\n\t\t}\n\t\twhile (p2 <= r) {\n\t\t\thelp[i++] = sum[p2++];\n\t\t}\n\t\tfor (int j = 0; j < help.length; j++) {\n\t\t\tsum[l + j] = help[j];\n\t\t}\n\n\t\treturn ans;\n\t}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n26\n27\n28\n29\n30\n31\n32\n33\n34\n35\n36\n37\n38\n39\n40\n41\n42\n43\n44\n45\n46\n47\n48\n49\n50\n51\n52\n53\n54\n55\n56\n57\n58\n59\n60\n61\n62\n63\n\n\n\n# å¿«éæåº\n\n\t// éå½ç»å¸åæ³\n\tpublic static void QuickSort(int[] arr, int l, int r) {\n\t\tif (l >= r) {\n\t\t\treturn;\n\t\t}\n\t\tint left = l;\n\t\tint right = r;\n\t\tint base = arr[r]; // ä»¥æåä¸ä¸ªä¸ºåºå å¦æä»¥å¤´ä¸ºåºåååºè¯¥åæ¾å¤§äºåºå åæ¾å°äºåºåç\n\t\twhile (left < right) {\n\t\t\t// å°å°äºç­äºbaseçæ¾å°å·¦è¾¹ ååºè¯¥left++\n\t\t\twhile (arr[left] <= base && left < right) {\n\t\t\t\tleft++;\n\t\t\t}\n\t\t\t// å°å¤§äºç­äºbaseçæ¾å°å³è¾¹ åright--\n\t\t\twhile (arr[right] >= base && left < right) {\n\t\t\t\tright--;\n\t\t\t}\n\t\t\tif (left < right) {\n\t\t\t\t// äº¤æ¢\n\t\t\t\tint temp = arr[left];\n\t\t\t\tarr[left] = arr[right];\n\t\t\t\tarr[right] = temp;\n\t\t\t}\n\n\t\t}\n\t\tarr[r] = arr[left]; // å°å°äºåºåçæåä¸ä¸ªæ° äº¤æ¢å°baseä½ç½®\n\t\tarr[left] = base; // å°baseå¼ äº¤æ¢å°å°äºåºåçä½ç½®\n\t\t// æåå¤§é®é¢ éå½\n\t\tQuickSort(arr, l, left - 1);\n\t\tQuickSort(arr, right + 1, r);\n\n\t}\n\n\tpublic static void swap(int[] arr, int i, int j) {\n\t\tint tmp = arr[i];\n\t\tarr[i] = arr[j];\n\t\tarr[j] = tmp;\n\t}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n26\n27\n28\n29\n30\n31\n32\n33\n34\n35\n36\n37\n38\n',normalizedContent:'# æåº\n\n\n# å½å¹¶æåº\n\nè¯¥ç®æ³æ¯éç¨åæ²»æ³çä¸ä¸ªéå¸¸å¸åçåºç¨ãå°å·²æåºçå­åºååå¹¶ï¼å¾å°å®å¨æåºçåºåï¼å³åä½¿æ¯ä¸ªå­åºåæåºï¼åä½¿å­åºåæ®µé´æåºãè¥å°ä¸¤ä¸ªæåºè¡¨åå¹¶æä¸ä¸ªæåºè¡¨ï¼ç§°ä¸ºäºè·¯å½å¹¶ã\n\npublic static void mergesort1(int[] arr) {\n\t\tif (arr == null || arr.length < 2) { // ä¸ºç©º æ å°äºä¸¤ä¸ªåç´ æ æ³æåº\n\t\t\treturn;\n\t\t}\n\t\tprocess(arr, 0, arr.length - 1);\n\t}\n\n\tpublic static void process(int[] arr, int l, int r) {\n\t\tif (l == r) { // åªæä¸ä¸ªåç´ \n\t\t\treturn;\n\t\t}\n\t\tint mid = l + ((r - l) / 2); // ä¸ºäºé²æ­¢è¶ç ç¸å½äº(l+r)/2\n\t\tprocess(arr, l, mid); // éå½åæ²»\n\t\tprocess(arr, mid + 1, r); // éå½\n\t\tmerge(arr, l, mid, r); // åå¹¶å­åºå\n\n\t}\n\n\tpublic static void merge(int[] arr, int l, int m, int r) {\n\t\tint[] prearr = new int[r - l + 1]; // å¼è¾å­å¨æåºå¥½çæ°ç» å·¦å³ç»æå¤å°ä¸ªåç´ å°±å¼è¾å¤å°ä¸ªä½ç½®\n\t\tint index = 0; // å­å¨æ°ç»æé\n\t\tint p1 = l; // å·¦ç»æé\n\t\tint p2 = m + 1; // å³ç»æé\n\t\twhile (p1 <= m && p2 <= r) { // é²æ­¢å·¦å³æéè¶ç\n\t\t\tprearr[index++] = arr[p1] <= arr[p2] ? arr[p1++] : arr[p2++]; // æ¯è¾å¤§å°\n\t\t}\n\t\twhile (p1 <= m) { // å·¦æéæªè¶ç\n\t\t\tprearr[index++] = arr[p1++];\n\t\t}\n\t\twhile (p2 <= r) { // å³æéæªè¶ç\n\t\t\tprearr[index++] = arr[p2++];\n\t\t}\n\t\t// å½å¹¶å°åå§æ°ç»\n\t\tfor (int i = 0; i < prearr.length; i++) {\n\t\t\tarr[l + i] = prearr[i];\n\t\t}\n\t}\n\n\t//ééå½\n\tpublic static void mergesort2(int[] arr) {\n\t\tif (arr == null || arr.length < 2) { // ä¸ºç©ºæå°äº2ä¸ªåç´ \n\t\t\treturn;\n\t\t}\n\t\tint step = 1; // æ­¥é¿ä¸º 1 2 4 8 16 32 2çæ¬¡æ¹(å³å¤å°ä¸ªä¸ºä¸ç»)\n\t\tint n = arr.length; // é¿åº¦\n\t\twhile (step < n) { // å¦ææ­¥é¿ è¶è¿ é¿åº¦\n\t\t\tint l = 0; // å·¦æé\n\t\t\twhile (l < n) {\n\t\t\t\tint m = 0; // å³æééç½®\n\t\t\t\tif (n - l >= step) { // å³æéå°å·¦æé å¤§äºç­äºæ­¥é¿\n\t\t\t\t\tm = l + step - 1; // å³æéèµå¼\n\t\t\t\t} else {\n\t\t\t\t\tm = n - 1; // å¦åå³æéä¸º æ°ç»é¿åº¦-1 ä¸ºäºèµå¼æ°å¼æº¢åº\n\t\t\t\t}\n\t\t\t\tif (m == n - 1) { // å¦æå·¦ç»ç å³æéä¸ºæ°ç»ä¸­æåä¸ä¸ªå æ å³ç»æ¯è¾ ç´æ¥break\n\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t\tint r = 0; // å³ç»å³æé\n\t\t\t\tif (n - 1 - m >= step) { // å³ç»æ¯å¦è½åé½stepä¸ªåç´ \n\t\t\t\t\tr = m + step;\n\t\t\t\t} else { // æ æ³åé½ å³æéå°æ°ç»å°¾åç´ \n\t\t\t\t\tr = n - 1;\n\t\t\t\t}\n\t\t\t\tmerge(arr, l, m, r); // åå¹¶åºé´ lä¸ºå·¦ç»å·¦æé mä¸ºå·¦ç»å³æé m+1ä¸ºå³ç»å·¦æé rä¸ºå³ç»å³æé\n\t\t\t\tif (r == n - 1) { // å³ç»å³æéå°æ°ç»å°¾ ç»ææ¬æ¬¡æ­¥é¿\n\t\t\t\t\tbreak;\n\t\t\t\t} else { // å¦åéæ°èµå¼å·¦ç»å·¦æé è¿è¡ä¸ä¸ªå¤§ç»çåºé´åå¹¶\n\t\t\t\t\tl = r + 1;\n\t\t\t\t}\n\t\t\t}\n\t\t\tif (step > n / 2) { // å½åæ­¥é¿ä¸è½åé½å·¦å³ä¸¤ç» è¿è¡åå¹¶åºé´\n\t\t\t\tbreak;\n\t\t\t}\n\t\t\tstep *= 2; // æ­¥é¿å¢å \n\t\t}\n\n\t}\n\t\n\t// ééå½æ¹æ³å®ç°\n\tpublic static void mergesort3(int[] arr) {\n\t\tif (arr == null || arr.length < 2) {\n\t\t\treturn;\n\t\t}\n\t\tint n = arr.length;\n\t\tint mergesize = 1;\n\t\twhile (mergesize < n) {\n\t\t\tint l = 0;\n\t\t\twhile (l < n) {\n\t\t\t\tif (mergesize >= n - l) { //å½åæ­¥é¿å¤§äºå©ä¸ä¸ºåå¹¶çåç´ \n\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t\tint m = l + mergesize - 1; //å·¦ç»å³æé\n\t\t\t\tint r = m + math.min(mergesize, n - m - 1); //å³ç»å³æé\n\t\t\t\tmerge(arr, l, m, r);\n\t\t\t\tl = r + 1;\n\t\t\t}\n\t\t\tif (mergesize > n / 2) {\n\t\t\t\tbreak;\n\t\t\t}\n\t\t\tmergesize <<= 1;\n\t\t}\n\t}\n\n\t// for test\n\tpublic static int[] generaterandomarray(int maxsize, int maxvalue) {\n\t\tint[] arr = new int[(int) ((maxsize + 1) * math.random())];\n\t\tfor (int i = 0; i < arr.length; i++) {\n\t\t\tarr[i] = (int) ((maxvalue + 1) * math.random()) - (int) (maxvalue * math.random());\n\t\t}\n\t\treturn arr;\n\t}\n\n\t// for test\n\tpublic static int[] copyarray(int[] arr) {\n\t\tif (arr == null) {\n\t\t\treturn null;\n\t\t}\n\t\tint[] res = new int[arr.length];\n\t\tfor (int i = 0; i < arr.length; i++) {\n\t\t\tres[i] = arr[i];\n\t\t}\n\t\treturn res;\n\t}\n\n\t// for test\n\tpublic static boolean isequal(int[] arr1, int[] arr2) {\n\t\tif ((arr1 == null && arr2 != null) || (arr1 != null && arr2 == null)) {\n\t\t\treturn false;\n\t\t}\n\t\tif (arr1 == null && arr2 == null) {\n\t\t\treturn true;\n\t\t}\n\t\tif (arr1.length != arr2.length) {\n\t\t\treturn false;\n\t\t}\n\t\tfor (int i = 0; i < arr1.length; i++) {\n\t\t\tif (arr1[i] != arr2[i]) {\n\t\t\t\treturn false;\n\t\t\t}\n\t\t}\n\t\treturn true;\n\t}\n\n\t// for test\n\tpublic static void printarray(int[] arr) {\n\t\tif (arr == null) {\n\t\t\treturn;\n\t\t}\n\t\tfor (int i = 0; i < arr.length; i++) {\n\t\t\tsystem.out.print(arr[i] + " ");\n\t\t}\n\t\tsystem.out.println();\n\t}\n\n\t// å¯¹æ°å¨\n\tpublic static void main(string[] args) {\n\t\tint testtime = 500000;\n\t\tint maxsize = 100;\n\t\tint maxvalue = 100;\n\t\tsystem.out.println("æµè¯å¼å§");\n\t\tfor (int i = 0; i < testtime; i++) {\n\t\t\tint[] arr1 = generaterandomarray(maxsize, maxvalue);\n\t\t\tint[] arr2 = copyarray(arr1);\n\t\t\tmergesort1(arr1);\n\t\t\tmergesort2(arr2);\n\t\t\tif (!isequal(arr1, arr2)) {\n\t\t\t\tsystem.out.println("åºéäºï¼");\n\t\t\t\tprintarray(arr1);\n\t\t\t\tprintarray(arr2);\n\t\t\t\tbreak;\n\t\t\t}\n\t\t}\n\t\tsystem.out.println("æµè¯ç»æ");\n\t}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n26\n27\n28\n29\n30\n31\n32\n33\n34\n35\n36\n37\n38\n39\n40\n41\n42\n43\n44\n45\n46\n47\n48\n49\n50\n51\n52\n53\n54\n55\n56\n57\n58\n59\n60\n61\n62\n63\n64\n65\n66\n67\n68\n69\n70\n71\n72\n73\n74\n75\n76\n77\n78\n79\n80\n81\n82\n83\n84\n85\n86\n87\n88\n89\n90\n91\n92\n93\n94\n95\n96\n97\n98\n99\n100\n101\n102\n103\n104\n105\n106\n107\n108\n109\n110\n111\n112\n113\n114\n115\n116\n117\n118\n119\n120\n121\n122\n123\n124\n125\n126\n127\n128\n129\n130\n131\n132\n133\n134\n135\n136\n137\n138\n139\n140\n141\n142\n143\n144\n145\n146\n147\n148\n149\n150\n151\n152\n153\n154\n155\n156\n157\n158\n159\n160\n161\n162\n163\n164\n165\n166\n167\n168\n169\n170\n171\n172\n173\n174\n\n\n# æ±æ°ç»å°å\n\nç»ä¸ä¸ªæ°ç»arr[l-r]èå´æ¢è¦æå¥½åº,ä¹è¦è¿åæ¯ä¸ªåç´ å¨æåºåæ¯å½ååç´ å°çå\n\npublic static int smallsum(int[] arr) {\n\t\tif (arr == null || arr.length < 2) {\n\t\t\treturn 0;\n\t\t}\n\t\treturn process(arr, 0, arr.length - 1);\n\t}\n\n\tprivate static int process(int[] arr, int l, int r) {\n\t\tif (l == r) {\n\t\t\treturn 0;\n\t\t}\n\t\tint mid = l + ((r - l) >> 1);\n\t\treturn process(arr, l, mid) + process(arr, mid + 1, r) + merge(arr, l, mid, r);\n\t}\n\n\tprivate static int merge(int[] arr, int l, int mid, int r) {\n\t\tint[] arr2 = new int[r - l + 1];\n\t\tint i = 0;\n\t\tint p1 = l;\n\t\tint p2 = mid + 1;\n\t\tint ans = 0; // å½åå½å¹¶æå°å\n\t\twhile (p1 <= mid && p2 <= r) {\n\t\t\tans += arr[p1] < arr[p2] ? arr[p1] * (r - p2 + 1) : 0; // å¦æåæ¾å¥å·¦ç» åä»£è¡¨ær-p2+1ä¸ªåç´ å¤§äºå½åå·¦ç»çåç´  å¦åæ²¡ææå°\n\t\t\tarr2[i++] = arr[p1] < arr[p2] ? arr[p1++] : arr[p2++]; // æ¯è¾å¤§å°å½å¹¶ å¦ç­äºåæ¾å³ç»é¿åå°ç¸åå¼åç´ ç»è®¡å°r-p2+1ä¸­\n\t\t}\n\n\t\twhile (p1 <= mid) {\n\t\t\tarr2[i++] = arr[p1++];\n\t\t}\n\n\t\twhile (p2 <= r) {\n\t\t\tarr2[i++] = arr[p2++];\n\t\t}\n\n\t\tfor (i = 0; i < arr2.length; i++) {\n\t\t\tarr[l + i] = arr2[i];\n\t\t}\n\n\t\treturn ans;\n\t}\n\n\t// for test\n\tpublic static int comparator(int[] arr) {\n\t\tif (arr == null || arr.length < 2) {\n\t\t\treturn 0;\n\t\t}\n\t\tint res = 0;\n\t\tfor (int i = 1; i < arr.length; i++) {\n\t\t\tfor (int j = 0; j < i; j++) {\n\t\t\t\tres += arr[j] < arr[i] ? arr[j] : 0;\n\t\t\t}\n\t\t}\n\t\treturn res;\n\t}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n26\n27\n28\n29\n30\n31\n32\n33\n34\n35\n36\n37\n38\n39\n40\n41\n42\n43\n44\n45\n46\n47\n48\n49\n50\n51\n52\n53\n54\n\n\n# æ±æ°ç»ä¸­çéåºå¯¹æ°é\n\nç»å®ä¸ä¸ªæ°ç»arrï¼æ±æ°ç»çéåºå¯¹æ»æ°é\n\nå¨ä¸ä¸ªæ°ç»ä¸­ï¼ä»»ä½ä¸ä¸ªåé¢çæ°aï¼åä»»ä½ä¸ä¸ªåé¢çæ°bï¼å¦æ(a,b)æ¯éåºçï¼å°±ç§°ä¸ºéåºå¯¹\n\npublic static int reverpairnumber(int[] arr) {\n\t\tif (arr == null || arr.length == 0) {\n\t\t\treturn 0;\n\t\t}\n\t\treturn prcess(arr, 0, arr.length - 1);\n\t}\n\n\tpublic static int prcess(int[] arr, int l, int r) {\n\t\tif (l == r) {\n\t\t\treturn 0;\n\t\t}\n\t\tint m = l + ((r - l) >> 1);\n\t\treturn prcess(arr, l, m) + prcess(arr, m + 1, r) + merge(arr, l, m, r);\n\t}\n\n\tpublic static int merge(int[] arr, int l, int m, int r) {\n\t\tint ans = 0;\n\t\tint[] help = new int[r - l + 1];\n\t\t// åçéå\n\t\tint i = help.length - 1; // ä»å°¾é¨å¼å§\n\t\tint p1 = m; // å·¦è¾¹è¾¹ç\n\t\tint p2 = r; // å³ç»è¾¹ç\n\t\twhile (p1 >= l && p2 > m) {\n\t\t\tans += arr[p1] > arr[p2] ? (p2 - m) : 0; // å¦æå·¦è¾¹æéæ°å¤§äºå³è¾¹æéæ°åä¸ºéåºå¯¹\n\t\t\thelp[i--] = arr[p1] > arr[p2] ? arr[p1--] : arr[p2--];\n\t\t}\n\t\twhile (p1 >= l) {\n\t\t\thelp[i--] = arr[p1--];\n\t\t}\n\t\twhile (p2 > m) { // æ³¨æå°må°±åæ­¢\n\t\t\thelp[i--] = arr[p2--];\n\t\t}\n\t\tfor (int j = 0; j < help.length; j++) {\n\t\t\tarr[l + j] = help[j];\n\t\t}\n\t\treturn ans;\n\t}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n26\n27\n28\n29\n30\n31\n32\n33\n34\n35\n36\n37\n\n\n# 493. ç¿»è½¬å¯¹\n\nå¨ä¸ä¸ªæ°ç»ä¸­ï¼å¯¹äºä»»ä½ä¸ä¸ªæ°numï¼æ±æå¤å°ä¸ª(åé¢çæ°*2)ä¾ç¶<numï¼è¿åæ»ä¸ªæ°\n\næ¯å¦ï¼[3,1,7,0,2]\n3çåé¢æï¼1ï¼0\n1çåé¢æï¼0\n7çåé¢æï¼0ï¼2\n0çåé¢æ²¡æ\n2çåé¢æ²¡æ\næä»¥æ»å±æ5ä¸ª\n\n\n1\n2\n3\n4\n5\n6\n7\n\n\n# 327. åºé´åçä¸ªæ°\n\npublic int countrangesum(int[] nums, int lower, int upper) {\n\t\tif (nums == null || nums.length == 0) {\n\t\t\treturn 0;\n\t\t}\n\t\t// åç¼åæ°ç»\n\t\tlong[] sum = new long[nums.length];\n\t\tsum[0] = nums[0];\n\t\tfor (int i = 1; i < nums.length; i++) {\n\t\t\tsum[i] = sum[i - 1] + nums[i];\n\n\t\t}\n\t\t// åæ°ç» å·²æ ç¨ ä¼ éåç¼åæ°ç»\n\t\treturn process(sum, 0, nums.length - 1, lower, upper);\n\t}\n\n\tprivate int process(long[] sum, int l, int r, int lower, int upper) {\n\t\tif (l == r) {\n\t\t\t// åªæä¸ä¸ªæ°æ¶ å¤æ­æ¯å¦å¨loweråupperèå´å æ¯åres+1\n\t\t\treturn sum[l] >= lower && sum[l] <= upper ? 1 : 0;\n\n\t\t}\n\t\tint m = l + ((r - l) >> 1);\n\t\t// éå½+åå¹¶\n\t\treturn process(sum, l, m, lower, upper) + process(sum, m + 1, r, lower, upper)\n\t\t\t\t+ merge(sum, l, m, r, lower, upper);\n\t}\n\n\tprivate int merge(long[] sum, int l, int m, int r, int lower, int upper) {\n\t\tint ans = 0;\n\t\tint windowl = l;\n\t\tint windowr = l; // [windowl, windowr)\n\t\tfor (int i = m + 1; i <= r; i++) { // ä»å³ç»å¼å§éå\n\t\t\tlong min = sum[i] - upper;\n\t\t\tlong max = sum[i] - lower;\n\t\t\twhile (windowr <= m && sum[windowr] <= max) {\n\t\t\t\twindowr++; // æ¾å°æå¤§å¼ä¸æ è¾¹ç\n\t\t\t}\n\t\t\twhile (windowl <= m && sum[windowl] < min) {\n\t\t\t\twindowl++; // æå°å¼ä¸æ è¾¹ç\n\t\t\t}\n\t\t\tans += windowr - windowl; // å³ç»å½ååç´ æå¤å°ä¸ªå¨èå´åç\n\t\t}\n\n\t\t//å½å¹¶\n\t\tlong[] help = new long[r - l + 1];\n\t\tint i = 0;\n\t\tint p1 = l;\n\t\tint p2 = m + 1;\n\t\twhile (p1 <= m && p2 <= r) {\n\t\t\thelp[i++] = sum[p1] <= sum[p2] ? sum[p1++] : sum[p2++];\n\t\t}\n\t\twhile (p1 <= m) {\n\t\t\thelp[i++] = sum[p1++];\n\t\t}\n\t\twhile (p2 <= r) {\n\t\t\thelp[i++] = sum[p2++];\n\t\t}\n\t\tfor (int j = 0; j < help.length; j++) {\n\t\t\tsum[l + j] = help[j];\n\t\t}\n\n\t\treturn ans;\n\t}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n26\n27\n28\n29\n30\n31\n32\n33\n34\n35\n36\n37\n38\n39\n40\n41\n42\n43\n44\n45\n46\n47\n48\n49\n50\n51\n52\n53\n54\n55\n56\n57\n58\n59\n60\n61\n62\n63\n\n\n\n# å¿«éæåº\n\n\t// éå½ç»å¸åæ³\n\tpublic static void quicksort(int[] arr, int l, int r) {\n\t\tif (l >= r) {\n\t\t\treturn;\n\t\t}\n\t\tint left = l;\n\t\tint right = r;\n\t\tint base = arr[r]; // ä»¥æåä¸ä¸ªä¸ºåºå å¦æä»¥å¤´ä¸ºåºåååºè¯¥åæ¾å¤§äºåºå åæ¾å°äºåºåç\n\t\twhile (left < right) {\n\t\t\t// å°å°äºç­äºbaseçæ¾å°å·¦è¾¹ ååºè¯¥left++\n\t\t\twhile (arr[left] <= base && left < right) {\n\t\t\t\tleft++;\n\t\t\t}\n\t\t\t// å°å¤§äºç­äºbaseçæ¾å°å³è¾¹ åright--\n\t\t\twhile (arr[right] >= base && left < right) {\n\t\t\t\tright--;\n\t\t\t}\n\t\t\tif (left < right) {\n\t\t\t\t// äº¤æ¢\n\t\t\t\tint temp = arr[left];\n\t\t\t\tarr[left] = arr[right];\n\t\t\t\tarr[right] = temp;\n\t\t\t}\n\n\t\t}\n\t\tarr[r] = arr[left]; // å°å°äºåºåçæåä¸ä¸ªæ° äº¤æ¢å°baseä½ç½®\n\t\tarr[left] = base; // å°baseå¼ äº¤æ¢å°å°äºåºåçä½ç½®\n\t\t// æåå¤§é®é¢ éå½\n\t\tquicksort(arr, l, left - 1);\n\t\tquicksort(arr, right + 1, r);\n\n\t}\n\n\tpublic static void swap(int[] arr, int i, int j) {\n\t\tint tmp = arr[i];\n\t\tarr[i] = arr[j];\n\t\tarr[j] = tmp;\n\t}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n26\n27\n28\n29\n30\n31\n32\n33\n34\n35\n36\n37\n38\n',charsets:{cjk:!0},lastUpdated:"2022/03/18, 16:09:17",lastUpdatedTimestamp:1647590957e3},{title:"é¾è¡¨",frontmatter:{title:"é¾è¡¨",date:"2022-03-18T16:03:55.000Z",permalink:"/pages/d3b8b4/",categories:[408,"æ°æ®ç»æ"],tags:[null]},regularPath:"/408/01.%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84/08.%E9%93%BE%E8%A1%A8.html",relativePath:"408/01.æ°æ®ç»æ/08.é¾è¡¨.md",key:"v-6441954f",path:"/pages/d3b8b4/",headers:[{level:2,title:"åé¾è¡¨ååé¾è¡¨çåè½¬",slug:"åé¾è¡¨ååé¾è¡¨çåè½¬",normalizedTitle:"åé¾è¡¨ååé¾è¡¨çåè½¬",charIndex:9},{level:3,title:"åé¾è¡¨",slug:"åé¾è¡¨",normalizedTitle:"åé¾è¡¨",charIndex:9},{level:3,title:"åé¾è¡¨",slug:"åé¾è¡¨",normalizedTitle:"åé¾è¡¨",charIndex:13},{level:2,title:"åé¾è¡¨å®ç°æ åéå",slug:"åé¾è¡¨å®ç°æ åéå",normalizedTitle:"åé¾è¡¨å®ç°æ åéå",charIndex:2290},{level:3,title:"éå",slug:"éå",normalizedTitle:"éå",charIndex:2297},{level:3,title:"æ ",slug:"æ ",normalizedTitle:"æ ",charIndex:2295},{level:2,title:"åé¾è¡¨å®ç°åç«¯éå",slug:"åé¾è¡¨å®ç°åç«¯éå",normalizedTitle:"åé¾è¡¨å®ç°åç«¯éå",charIndex:4652},{level:2,title:"leecode é¾è¡¨é¢",slug:"leecode-é¾è¡¨é¢",normalizedTitle:"leecode é¾è¡¨é¢",charIndex:7012},{level:3,title:"K ä¸ªä¸ç»ç¿»è½¬é¾è¡¨",slug:"k-ä¸ªä¸ç»ç¿»è½¬é¾è¡¨",normalizedTitle:"k ä¸ªä¸ç»ç¿»è½¬é¾è¡¨",charIndex:7028},{level:3,title:"ä¸¤æ°ç¸å ",slug:"ä¸¤æ°ç¸å ",normalizedTitle:"ä¸¤æ°ç¸å ",charIndex:8685},{level:3,title:"åå¹¶ä¸¤ä¸ªæåºé¾è¡¨",slug:"åå¹¶ä¸¤ä¸ªæåºé¾è¡¨",normalizedTitle:"åå¹¶ä¸¤ä¸ªæåºé¾è¡¨",charIndex:10139}],headersStr:"åé¾è¡¨ååé¾è¡¨çåè½¬ åé¾è¡¨ åé¾è¡¨ åé¾è¡¨å®ç°æ åéå éå æ  åé¾è¡¨å®ç°åç«¯éå leecode é¾è¡¨é¢ K ä¸ªä¸ç»ç¿»è½¬é¾è¡¨ ä¸¤æ°ç¸å  åå¹¶ä¸¤ä¸ªæåºé¾è¡¨",content:'# é¾è¡¨\n\n\n# åé¾è¡¨ååé¾è¡¨çåè½¬\n\n\n# åé¾è¡¨\n\n\t// åé¾è¡¨\n\tpublic static class Node {\n\t\tint value;\n\t\tNode next;\n\n\t\tpublic Node(int value) {\n\t\t\tthis.value = value;\n\t\t}\n\t}\n\n\t// åè½¬åé¾è¡¨\n\tpublic static Node reversalNode(Node head) {\n\t\tNode next = null;\n\t\tNode pre = null;\n\t\twhile (head != null) {\n\t\t\tnext = head.next; // ç¼å­ä¸ä¸ä¸ªèç¹\n\t\t\thead.next = pre; // æ´æ¹å½åèç¹çä¸ä¸èç¹ä¸ºååèç¹\n\t\t\tpre = head; // ç¼å­å½åèç¹ä¸ºä¸ä¸èç¹\n\t\t\thead = next; // æ´æ°æ°çå½åèç¹\n\t\t}\n\t\treturn pre;\n\t}\n\n    public static void main(String[] args) {\n            // åé¾è¡¨åè½¬\n            Node n1 = new Node(1);\n            Node n2 = new Node(2);\n            Node n3 = new Node(3);\n            n1.next = n2;\n            n2.next = n3;\n            System.out.println(n1.value);\n            System.out.println(n1.next.value);\n            System.out.println(n1.next.next.value);\n            System.out.println("=============");\n            n1 = reversalNode(n1);\n            System.out.println(n1.value);\n            System.out.println(n1.next.value);\n            System.out.println(n1.next.next.value);\n            System.out.println("=============");\n    }\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n26\n27\n28\n29\n30\n31\n32\n33\n34\n35\n36\n37\n38\n39\n40\n\n\n\n# åé¾è¡¨\n\n\t// åé¾è¡¨\n\tpublic static class Node1 {\n\t\tint value;\n\t\tNode1 last;\n\t\tNode1 next;\n\n\t\tpublic Node1(int value) {\n\t\t\tthis.value = value;\n\t\t}\n\t}\n\n\t// åé¾è¡¨åè½¬\n\tpublic static Node1 reversalNode1(Node1 head) {\n\t\tNode1 next = null;\n\t\tNode1 pre = null;\n\t\twhile (head != null) {\n\t\t\tnext = head.next; //è®°å½ä¸ä¸ä¸ªèç¹\n\t\t\thead.next = pre; //ä¿®æ¹å½åèç¹çå³èç¹ ä¸ºä¸æ¬¡è®°å½çheadèç¹\n\t\t\thead.last = next; //ä¿®æ¹å½åèç¹çå·¦èç¹\n\t\t\tpre = head; //è®°å½å½åèç¹\n\t\t\thead = next; //ä¿®æ¹å½åèç¹ä½ç½®\n\t\t}\n\t\t\n\t\treturn pre; //è¿åå½åèç¹ å³å¤´èç¹\n\t}\n\tpublic static void main(String[] args) {\n\t\t// åé¾è¡¨åè½¬\n\t\tNode1 nn1 = new Node1(1);\n\t\tNode1 nn2 = new Node1(2);\n\t\tNode1 nn3 = new Node1(3);\n\t\tnn1.next = nn2;\n\t\tnn2.last = nn1;\n\t\tnn2.next = nn3;\n\t\tnn3.last = nn2;\n\t\tSystem.out.println(nn1.value);\n\t\tSystem.out.println(nn1.next.value);\n\t\tSystem.out.println(nn1.next.next.value);\n\t\tnn1 = reversalNode1(nn1);\n\t\tSystem.out.println("=============");\n\t\tSystem.out.println(nn1.value);\n\t\tSystem.out.println(nn1.next.value);\n\t\tSystem.out.println(nn1.next.next.value);\n\n\t}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n26\n27\n28\n29\n30\n31\n32\n33\n34\n35\n36\n37\n38\n39\n40\n41\n42\n43\n44\n\n\n\n# åé¾è¡¨å®ç°æ åéå\n\n\n# éå\n\n\tpublic static class Node<V> {\n\t\tV value;\n\t\tNode<V> next;\n\n\t\tpublic Node(V value) {\n\t\t\tthis.value = value;\n\t\t}\n\t}\n\n\t// éå\n\tpublic static class MyQueue<V> {\n\t\tNode<V> head;\n\t\tNode<V> tail;\n\t\tint size;\n\n\t\tpublic MyQueue() {\n\t\t\thead = null;\n\t\t\ttail = null;\n\t\t\tsize = 0;\n\t\t}\n\n\t\tpublic boolean isEmpty() {\n\t\t\treturn size == 0;\n\t\t}\n\n\t\tpublic int size() {\n\t\t\treturn size;\n\t\t}\n\n\t\t// æ·»å åç´ å°éåä¸­\n\t\tpublic void offer(V value) {\n\t\t\tNode<V> v = new Node<V>(value);\n\t\t\tif (tail == null) { // tailä¸ºnull åå½åéåä¸­æ²¡æåç´  ç´æ¥æ·»å \n\t\t\t\thead = v; // å¤´å°¾åæ¶æå æ°æ·»å åç´ \n\t\t\t\ttail = v;\n\t\t\t} else { // å½åéåæåç´ \n\t\t\t\ttail.next = v; // æ´æ°å°¾åç´ çä¸ä¸è·³ä¸ºæ·»å çæ°åç´ å°å\n\t\t\t\ttail = v; // ç¶ååæ´æ°å°¾åç´  ä¸ºæ·»å åç´ å°å\n\t\t\t}\n\t\t\tsize++; // é¿åº¦+1\n\t\t}\n\n\t\t// ä»éåä¸­å é¤åç´ \n\t\tpublic V poll() {\n\t\t\tV ans = null;\n\t\t\tif (head != null) {\n\t\t\t\tans = head.value; // è·åå¤´é¨åç´ å¼\n\t\t\t\thead = head.next; // å°å¤´é¨æåä¸ä¸ä¸ªåç´ \n\t\t\t\tsize--;\n\t\t\t}\n\t\t\tif (head == null) { // è¾¹çæåµ å½å¤´é¨å½åä¸ºnullæ¶ å°¾é¨ä¹æ åç´ \n\t\t\t\ttail = null;\n\t\t\t}\n\t\t\treturn ans;\n\t\t}\n\n\t\t// æ¥çéå¤´åç´ \n\t\tpublic V peek() {\n\t\t\tV ans = null;\n\t\t\tif (head != null) {\n\t\t\t\tans = head.value;\n\t\t\t}\n\t\t\treturn ans;\n\t\t}\n\t}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n26\n27\n28\n29\n30\n31\n32\n33\n34\n35\n36\n37\n38\n39\n40\n41\n42\n43\n44\n45\n46\n47\n48\n49\n50\n51\n52\n53\n54\n55\n56\n57\n58\n59\n60\n61\n62\n63\n64\n65\n\n\nå¨ä¸é¢å é¤çæä½ javaä¸­æèªå·±çåæ¶å¨ å æ­¤æä»¬æ éæå¨åæ¶æ ç¨å¯¹è±¡ åªéè¦ææ­¤å¯¹è±¡æ¹æä¸å¯è¾¾(å³æ æ³éè¿ä»»ä½éå¾è®¿é®å°æ­¤å¯¹è±¡,åjvmä¼èªå¨éæ¾è¯¥å¯¹è±¡)\n\n\n# æ \n\n\tpublic static class Node<V> {\n\t\tV value;\n\t\tNode<V> next;\n\n\t\tpublic Node(V value) {\n\t\t\tthis.value = value;\n\t\t}\n\t}\n\n\t//æ \n\tpublic static class MyStack<V>{\n\t\tint size;\n\t\tNode<V> head;\n\t\t\n\t\tpublic MyStack() {\n\t\t\thead = null;\n\t\t\tsize =0;\n\t\t}\n\t\t\n\t\tpublic boolean isEmpty() {\n\t\t\treturn size ==0;\n\t\t}\n\t\t\n\t\tpublic int size() {\n\t\t\treturn size;\n\t\t}\n\t\t\n\t\t//å¥æ \n\t\tpublic void pusu(V value) {\n\t\t\tNode<V> v = new Node<V>(value);\n\t\t\tif(head == null) { //æ ä¸­æ åç´ \n\t\t\t\thead = v; //æ·»å åç´ \n\t\t\t} else { //æ ä¸­æåç´ \n\t\t\t\thead.next = v; //åæ åº\n\t\t\t\thead = v;//æ´æ°æ é¡¶\n\t\t\t}\n\t\t\tsize++;\n\t\t}\n\t\t\n\t\t//åºæ \n\t\tpublic V pop() {\n\t\t\tV ans = null;\n\t\t\tif (head !=null) {\n\t\t\t\tans = head.value; //è·åæ é¡¶å¼\n\t\t\t\thead = head.next; //æ´æ°æ é¡¶åç´ ä¸ºä¸ä¸ªåç´ \n\t\t\t\tsize--;\n\t\t\t}\n\t\t\treturn ans;\n\t\t}\n\t\t\n\t\t//æ¥è¯¢æ é¡¶åç´ \n\t\tpublic V peek() {\n\t\t\tV ans = null;\n\t\t\tif(head !=null) {\n\t\t\t\tans = head.value;\n\t\t\t}\n\t\t\treturn ans;\n\t\t}\n\t\t\n\t}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n26\n27\n28\n29\n30\n31\n32\n33\n34\n35\n36\n37\n38\n39\n40\n41\n42\n43\n44\n45\n46\n47\n48\n49\n50\n51\n52\n53\n54\n55\n56\n57\n58\n59\n60\n\n\n\n# åé¾è¡¨å®ç°åç«¯éå\n\nä¸ºä»ä¹æ æ³ä½¿ç¨åé¾è¡¨å®ç°åç«¯éåï¼\n\n 1. åé¾è¡¨æ¯æä»éå¤´ä¸­å¢å æ¥åç´ \n 2. åé¾è¡¨åªæ¯æä»éå°¾å¢æ¥åç´ ï¼æ æ³å é¤åç´  å ä¸ºæ æ³ä»å½åéå°¾ä¸­å¿«éæ¥æ¾å°ä¸ä¸è·³çå°åï¼åªè½éåä¸æ¬¡åé¾è¡¨ãæ æ³åå°O(1)ï¼å ä¸ºå é¤æä½è¦éåä¸æ¬¡é¾è¡¨æ¶é´å¤æç¨åº¦ä¸ºO(n)\n 3. æä»¥æä»¬å¯ä»¥ä½¿ç¨åé¾è¡¨å¯ä»¥å®æO(1)çåç«¯éåçå¢å æ¥\n\n\tpublic static class Node<V> {\n\t\tV value;\n\t\tNode<V> fist;\n\t\tNode<V> last;\n\n\t\tpublic Node(V value) {\n\t\t\tthis.value = value;\n\t\t\tfist = null; // ä¸ä¸è·³\n\t\t\tlast = null; // ä¸ä¸è·³\n\t\t}\n\t}\n\n\tpublic static class DoubleQueue<V> {\n\t\tNode<V> head;\n\t\tNode<V> tail;\n\t\tint size;\n\n\t\tpublic DoubleQueue() {\n\t\t\thead = null;\n\t\t\ttail = null;\n\t\t\tsize = 0;\n\t\t}\n\n\t\tpublic boolean isEmpty() {\n\t\t\treturn size == 0;\n\t\t}\n\n\t\tpublic int size() {\n\t\t\treturn size;\n\t\t}\n\n\t\t// ä»éåå¤´æ·»å æå®åç´ \n\t\tpublic void addFist(V value) {\n\t\t\tNode<V> v = new Node<V>(value);\n\t\t\tif (head == null) { // å½åéåä¸ºç©º ç´æ¥æ·»å \n\t\t\t\thead = v;\n\t\t\t\ttail = v;\n\t\t\t} else { // ä»éå¤´æ·»å \n\t\t\t\thead.fist = v; // åéå¤´ä¸ä¸è·³ æ è®°ä¸ºå½ååç´ \n\t\t\t\tv.last = head; // å½ååç´  ä¸ä¸è·³ä¸ºæ§éå¤´\n\t\t\t\thead = v; // éå¤´ä¸ºå½ååç´ \n\t\t\t}\n\t\t\tsize++;\n\t\t}\n\n\t\t// ä»éåå°¾æ·»å æå®åç´ \n\t\tpublic void addLast(V value) {\n\t\t\tNode<V> v = new Node<V>(value);\n\t\t\tif (head == null) {\n\t\t\t\thead = v;\n\t\t\t\ttail = v;\n\t\t\t} else {\n\t\t\t\ttail.last = v; // æ§éå°¾ä¸ä¸è·³ä¸º æ·»å åç´ \n\t\t\t\tv.fist = tail; // æ·»å åç´ çä¸ä¸è·³ ä¸ºæ§éå°¾\n\t\t\t\ttail = v; // æ´æ°éå°¾\n\t\t\t}\n\t\t\tsize++;\n\t\t}\n\n\t\t// å é¤éå¤´åç´ \n\t\tpublic V pollFirst() {\n\t\t\tV ans = null;\n\t\t\tif (head != null) {\n\t\t\t\tans = head.value;\n\t\t\t\tsize--;\n\t\t\t}\n\t\t\tif (head == tail) { // è¾¹çæåµ åªæä¸ä¸ªåç´ \n\t\t\t\thead = null;\n\t\t\t\ttail = null;\n\t\t\t} else { \n\t\t\t\thead = head.fist;\n\t\t\t\thead.fist = null; // å°headä¸ä¸è·³æ è®°ä¸ºnull\n\t\t\t}\n\t\t\treturn ans;\n\t\t}\n\n\t\t// å é¤éå°¾åç´ \n\t\tpublic V pollLast() {\n\t\t\tV ans = null;\n\t\t\tif (head != null) { // æåç´ \n\t\t\t\tans = tail.value; // åå½åéå°¾åºå¼\n\t\t\t\tsize--;\n\t\t\t}\n\t\t\tif (tail == tail) { // è¾¹çæåµ åªæä¸ä¸ªåç´ \n\t\t\t\thead = null;\n\t\t\t\ttail = null;\n\t\t\t} else { \n\t\t\t\ttail = tail.fist; // æ´æ°éå°¾\n\t\t\t\ttail.last = null; // å½tailä¸ä¸ºnull æå°tallä¸ä¸è·³æ è®°ä¸ºnull\n\t\t\t}\n\t\t\treturn ans;\n\t\t}\n\n\t\t// æ¥çéå¤´\n\t\tpublic V peekFist() {\n\t\t\tV ans = null;\n\t\t\tif (head != null) {\n\t\t\t\tans = head.value;\n\t\t\t}\n\t\t\treturn ans;\n\t\t}\n\n\t\t// æ¥çéå°¾\n\t\tpublic V peekLast() {\n\t\t\tV ans = null;\n\t\t\tif (tail != null) {\n\t\t\t\tans = tail.value;\n\t\t\t}\n\t\t\treturn ans;\n\t\t}\n\t}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n26\n27\n28\n29\n30\n31\n32\n33\n34\n35\n36\n37\n38\n39\n40\n41\n42\n43\n44\n45\n46\n47\n48\n49\n50\n51\n52\n53\n54\n55\n56\n57\n58\n59\n60\n61\n62\n63\n64\n65\n66\n67\n68\n69\n70\n71\n72\n73\n74\n75\n76\n77\n78\n79\n80\n81\n82\n83\n84\n85\n86\n87\n88\n89\n90\n91\n92\n93\n94\n95\n96\n97\n98\n99\n100\n101\n102\n103\n104\n105\n106\n107\n108\n109\n110\n111\n\n\n\n# leecode é¾è¡¨é¢\n\n\n# K ä¸ªä¸ç»ç¿»è½¬é¾è¡¨\n\npublic class ListNode {\n\t\tint val;\n\t\tListNode next;\n\n\t\tListNode() {\n\t\t}\n\n\t\tListNode(int val) {\n\t\t\tthis.val = val;\n\t\t}\n\n\t\tListNode(int val, ListNode next) {\n\t\t\tthis.val = val;\n\t\t\tthis.next = next;\n\t\t}\n\t}\n\n\tpublic class Solution {\n\t\tpublic ListNode reverseKGroup(ListNode head, int k) {\n\t\t\tListNode start = head; // ç¼å­å½åé¾è¡¨å¤´\n\t\t\tListNode end = getKEnd(start, k); // è·åç¬¬ä¸ç»é¾è¡¨å°¾\n\t\t\tif (end == null) { // å¦ækä¸ªåç´ åæ²¡æé¾å°¾ è¯´æç¬¬ä¸ç»é¾è¡¨ï¼=kä¸ªåç´  æ æ³è¿è¡åè½¬ ç´æ¥è¿åå½åé¾è¡¨å³å¯\n\t\t\t\treturn head;\n\t\t\t}\n\t\t\t// ç¬¬ä¸ç»æ»¡è¶³kä¸ªåç´ è¿è¡åè½¬\n\t\t\thead = end; // å°å½åé¾è¡¨å¤´æåé¾è¡¨å°¾çåç´ \n\t\t\treverse(start, end); // è¿è¡åè½¬\n\t\t\tListNode lastEnd = start; // ä¸ä¸ç»èç¹å°¾\n\t\t\twhile (lastEnd.next != null) {\n\t\t\t\tstart = lastEnd.next; // ç¼å­å½åç»çé¾è¡¨å¤´\n\t\t\t\tend = getKEnd(start, k); // è·å¾å½åç»çé¾è¡¨å°¾\n\t\t\t\tif (end == null) {\n\t\t\t\t\treturn head;\n\t\t\t\t}\n\t\t\t\treverse(start, end); // æ»¡è¶³kä¸ª åè½¬å½åç»\n\t\t\t\tlastEnd.next = end; // å°ä¸ç»çé¾å°¾ æå å½åç»åè½¬åçé¾è¡¨å¤´\n\t\t\t\tlastEnd = start; // æ´æ°lastEndä¸ºå½åç»çé¾å°¾\n\t\t\t}\n\t\t\treturn head;\n\n\t\t}\n\n\t\tpublic ListNode getKEnd(ListNode pre, int k) {\n\t\t\twhile (--k != 0 && pre != null) { // è¿åå½åç»çæåä¸ä¸ªåç´ (å³æ°çé¾å¤´)\n\t\t\t\tpre = pre.next;\n\t\t\t}\n\t\t\treturn pre;\n\t\t}\n\n\t\tpublic void reverse(ListNode start, ListNode end) {\n\t\t\tend = end.next; // å°å½åendååç§»ä¸ä½(å³ä¸ä¸ç»çé¾å¤´,ä¸ä¸ç»æªåè½¬)\n\t\t\tListNode cur = start; // å½ååç´ \n\t\t\tListNode pre = null; // ç¼å­ä¸æ¬¡çä¿®æ¹è¿åç´ \n\t\t\tListNode next = null; // ä¸ä¸è·³åç´ \n\t\t\twhile (cur != end) {\n\t\t\t\tnext = cur.next; // ç¼å­ä¸ä¸è·³\n\t\t\t\tcur.next = pre; // æåä¸æ¬¡ä¿®æ¹åçåç´ \n\t\t\t\tpre = cur; // æ´æ°ä¿®æ¹åçåç´ \n\t\t\t\tcur = next; // æ´æ°å½ååç´ \n\t\t\t}\n\t\t\tstart.next = end; // å°å½åç»é¾å°¾ æåä¸ä¸ç»çé¾å¤´\n\t\t}\n\t}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n26\n27\n28\n29\n30\n31\n32\n33\n34\n35\n36\n37\n38\n39\n40\n41\n42\n43\n44\n45\n46\n47\n48\n49\n50\n51\n52\n53\n54\n55\n56\n57\n58\n59\n60\n61\n62\n63\n\n\n\n# ä¸¤æ°ç¸å \n\n\tpublic class ListNode {\n\t\tint val;\n\t\tListNode next;\n\n\t\tListNode() {\n\t\t}\n\n\t\tListNode(int val) {\n\t\t\tthis.val = val;\n\t\t}\n\n\t\tListNode(int val, ListNode next) {\n\t\t\tthis.val = val;\n\t\t\tthis.next = next;\n\t\t}\n\t}\n\n\tclass Solution {\n\t\tpublic ListNode addTwoNumbers(ListNode l1, ListNode l2) {\n\n\t\t\tListNode l = getSize(l1) > getSize(l2) ? l1 : l2; // æé¿çé¾è¡¨\n\t\t\tListNode s = l == l1 ? l2 : l1; // ç¬¬äºä¸ªé¾è¡¨ <= lçé¿åº¦\n\t\t\tint temp = 0; // è¿ä½æ è®° å¦æä¸º1åéè¦è¿1 0åä¸è¿1\n\t\t\tint cou = 0; // å­å¨æ¯æ¬¡è®¡ç®ç»æ\n\t\t\tListNode tl = l; // ç¼å­å½åé¿èç¹ åç´ \n\t\t\tListNode ts = s; // ç¼å­å½åç­èç¹ åç´ \n\t\t\tListNode pre = null;\n\t\t\t// å¤çç­çé¾è¡¨\n\t\t\twhile (ts != null) {\n\t\t\t\tcou = ts.val + tl.val + temp; // ç¸å ç»æ\n\t\t\t\ttemp = cou / 10; // æ¯å¦éè¦è¿1\n\t\t\t\ttl.val = cou % 10; // å­å¨å°èç¹ä¸­\n\t\t\t\tpre = tl; // ç¼å­å½åé¿çèç¹åç´  å ä¸ºæåè¿1 éè¦ä½¿ç¨è¯¥ç¼å­èç¹ä¸ä¸è·³ æåæ°çèç¹\n\t\t\t\t// ä¸ºä½è¦å¨é¿çåç­çé¾è¡¨ ä¸­è®°å½å½åèç¹å¢ å ä¸ºæå¯è½ç­åé¿çé¾è¡¨é¿åº¦ä¸è´ ç­çè·å®é¿ä¹è·å® åéè¦è¿1 ä¼åçç©ºæéå¼å¸¸\n\t\t\t\ttl = tl.next; // ä¸ä¸ä¸ªèç¹\n\t\t\t\tts = ts.next;\n\t\t\t}\n\t\t\t// å¤çé¿çé¾è¡¨\n\t\t\twhile (tl != null) {\n\t\t\t\tcou = tl.val + temp;\n\t\t\t\ttemp = cou / 10;\n\t\t\t\ttl.val = cou % 10;\n\t\t\t\tpre = tl;\n\t\t\t\ttl = tl.next;\n\t\t\t}\n\t\t\t// å¦æè¿ä½æ¯1 åéè¦æ°åå»ºèç¹\n\t\t\tif (temp != 0) {\n\t\t\t\tpre.next = new ListNode(1);\n\t\t\t}\n\t\t\treturn l;\n\n\t\t}\n\n\t\tpublic int getSize(ListNode head) {\n\t\t\tint size = 0;\n\t\t\twhile (head.next != null) {\n\t\t\t\tsize++;\n\t\t\t\thead = head.next;\n\t\t\t}\n\t\t\treturn size;\n\t\t}\n\t}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n26\n27\n28\n29\n30\n31\n32\n33\n34\n35\n36\n37\n38\n39\n40\n41\n42\n43\n44\n45\n46\n47\n48\n49\n50\n51\n52\n53\n54\n55\n56\n57\n58\n59\n60\n61\n62\n\n\n\n# åå¹¶ä¸¤ä¸ªæåºé¾è¡¨\n\npublic class ListNode {\n\t\tint val;\n\t\tListNode next;\n\n\t\tListNode() {\n\t\t}\n\n\t\tListNode(int val) {\n\t\t\tthis.val = val;\n\t\t}\n\n\t\tListNode(int val, ListNode next) {\n\t\t\tthis.val = val;\n\t\t\tthis.next = next;\n\t\t}\n\t}\n\n\tclass Solution {\n\t\tpublic ListNode mergeTwoLists(ListNode list1, ListNode list2) {\n\t\t\tif (list1 == null || list2 == null) { // å¦å¤ä¸ä¸ªé¾è¡¨ä¸ºç©ºç´æ¥è¿åéç©ºé¾è¡¨\n\t\t\t\treturn list1 == null ? list2 : list1;\n\t\t\t}\n\t\t\tListNode head = list1.val <= list2.val ? list1 : list2; // å¤´èç¹\n\t\t\tListNode l = head.next; // ä¸ä¸æ¡\n\t\t\tListNode s = head == list1 ? list2 : list1; // å¦å¤ä¸ä¸ªé¾è¡¨\n\t\t\tListNode pre = head;\n\t\t\twhile (l != null && s != null) {\n\t\t\t\tif (l.val <= s.val) {\n\t\t\t\t\tpre.next = l;\n\t\t\t\t\tl = l.next;\n\t\t\t\t} else {\n\t\t\t\t\tpre.next = s;\n\t\t\t\t\ts = s.next;\n\t\t\t\t}\n\t\t\t\tpre = pre.next;\n\t\t\t}\n\t\t\tpre.next = l == null ? s : l;\n\t\t\treturn head;\n\t\t}\n\t}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n26\n27\n28\n29\n30\n31\n32\n33\n34\n35\n36\n37\n38\n39\n40\n',normalizedContent:'# é¾è¡¨\n\n\n# åé¾è¡¨ååé¾è¡¨çåè½¬\n\n\n# åé¾è¡¨\n\n\t// åé¾è¡¨\n\tpublic static class node {\n\t\tint value;\n\t\tnode next;\n\n\t\tpublic node(int value) {\n\t\t\tthis.value = value;\n\t\t}\n\t}\n\n\t// åè½¬åé¾è¡¨\n\tpublic static node reversalnode(node head) {\n\t\tnode next = null;\n\t\tnode pre = null;\n\t\twhile (head != null) {\n\t\t\tnext = head.next; // ç¼å­ä¸ä¸ä¸ªèç¹\n\t\t\thead.next = pre; // æ´æ¹å½åèç¹çä¸ä¸èç¹ä¸ºååèç¹\n\t\t\tpre = head; // ç¼å­å½åèç¹ä¸ºä¸ä¸èç¹\n\t\t\thead = next; // æ´æ°æ°çå½åèç¹\n\t\t}\n\t\treturn pre;\n\t}\n\n    public static void main(string[] args) {\n            // åé¾è¡¨åè½¬\n            node n1 = new node(1);\n            node n2 = new node(2);\n            node n3 = new node(3);\n            n1.next = n2;\n            n2.next = n3;\n            system.out.println(n1.value);\n            system.out.println(n1.next.value);\n            system.out.println(n1.next.next.value);\n            system.out.println("=============");\n            n1 = reversalnode(n1);\n            system.out.println(n1.value);\n            system.out.println(n1.next.value);\n            system.out.println(n1.next.next.value);\n            system.out.println("=============");\n    }\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n26\n27\n28\n29\n30\n31\n32\n33\n34\n35\n36\n37\n38\n39\n40\n\n\n\n# åé¾è¡¨\n\n\t// åé¾è¡¨\n\tpublic static class node1 {\n\t\tint value;\n\t\tnode1 last;\n\t\tnode1 next;\n\n\t\tpublic node1(int value) {\n\t\t\tthis.value = value;\n\t\t}\n\t}\n\n\t// åé¾è¡¨åè½¬\n\tpublic static node1 reversalnode1(node1 head) {\n\t\tnode1 next = null;\n\t\tnode1 pre = null;\n\t\twhile (head != null) {\n\t\t\tnext = head.next; //è®°å½ä¸ä¸ä¸ªèç¹\n\t\t\thead.next = pre; //ä¿®æ¹å½åèç¹çå³èç¹ ä¸ºä¸æ¬¡è®°å½çheadèç¹\n\t\t\thead.last = next; //ä¿®æ¹å½åèç¹çå·¦èç¹\n\t\t\tpre = head; //è®°å½å½åèç¹\n\t\t\thead = next; //ä¿®æ¹å½åèç¹ä½ç½®\n\t\t}\n\t\t\n\t\treturn pre; //è¿åå½åèç¹ å³å¤´èç¹\n\t}\n\tpublic static void main(string[] args) {\n\t\t// åé¾è¡¨åè½¬\n\t\tnode1 nn1 = new node1(1);\n\t\tnode1 nn2 = new node1(2);\n\t\tnode1 nn3 = new node1(3);\n\t\tnn1.next = nn2;\n\t\tnn2.last = nn1;\n\t\tnn2.next = nn3;\n\t\tnn3.last = nn2;\n\t\tsystem.out.println(nn1.value);\n\t\tsystem.out.println(nn1.next.value);\n\t\tsystem.out.println(nn1.next.next.value);\n\t\tnn1 = reversalnode1(nn1);\n\t\tsystem.out.println("=============");\n\t\tsystem.out.println(nn1.value);\n\t\tsystem.out.println(nn1.next.value);\n\t\tsystem.out.println(nn1.next.next.value);\n\n\t}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n26\n27\n28\n29\n30\n31\n32\n33\n34\n35\n36\n37\n38\n39\n40\n41\n42\n43\n44\n\n\n\n# åé¾è¡¨å®ç°æ åéå\n\n\n# éå\n\n\tpublic static class node<v> {\n\t\tv value;\n\t\tnode<v> next;\n\n\t\tpublic node(v value) {\n\t\t\tthis.value = value;\n\t\t}\n\t}\n\n\t// éå\n\tpublic static class myqueue<v> {\n\t\tnode<v> head;\n\t\tnode<v> tail;\n\t\tint size;\n\n\t\tpublic myqueue() {\n\t\t\thead = null;\n\t\t\ttail = null;\n\t\t\tsize = 0;\n\t\t}\n\n\t\tpublic boolean isempty() {\n\t\t\treturn size == 0;\n\t\t}\n\n\t\tpublic int size() {\n\t\t\treturn size;\n\t\t}\n\n\t\t// æ·»å åç´ å°éåä¸­\n\t\tpublic void offer(v value) {\n\t\t\tnode<v> v = new node<v>(value);\n\t\t\tif (tail == null) { // tailä¸ºnull åå½åéåä¸­æ²¡æåç´  ç´æ¥æ·»å \n\t\t\t\thead = v; // å¤´å°¾åæ¶æå æ°æ·»å åç´ \n\t\t\t\ttail = v;\n\t\t\t} else { // å½åéåæåç´ \n\t\t\t\ttail.next = v; // æ´æ°å°¾åç´ çä¸ä¸è·³ä¸ºæ·»å çæ°åç´ å°å\n\t\t\t\ttail = v; // ç¶ååæ´æ°å°¾åç´  ä¸ºæ·»å åç´ å°å\n\t\t\t}\n\t\t\tsize++; // é¿åº¦+1\n\t\t}\n\n\t\t// ä»éåä¸­å é¤åç´ \n\t\tpublic v poll() {\n\t\t\tv ans = null;\n\t\t\tif (head != null) {\n\t\t\t\tans = head.value; // è·åå¤´é¨åç´ å¼\n\t\t\t\thead = head.next; // å°å¤´é¨æåä¸ä¸ä¸ªåç´ \n\t\t\t\tsize--;\n\t\t\t}\n\t\t\tif (head == null) { // è¾¹çæåµ å½å¤´é¨å½åä¸ºnullæ¶ å°¾é¨ä¹æ åç´ \n\t\t\t\ttail = null;\n\t\t\t}\n\t\t\treturn ans;\n\t\t}\n\n\t\t// æ¥çéå¤´åç´ \n\t\tpublic v peek() {\n\t\t\tv ans = null;\n\t\t\tif (head != null) {\n\t\t\t\tans = head.value;\n\t\t\t}\n\t\t\treturn ans;\n\t\t}\n\t}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n26\n27\n28\n29\n30\n31\n32\n33\n34\n35\n36\n37\n38\n39\n40\n41\n42\n43\n44\n45\n46\n47\n48\n49\n50\n51\n52\n53\n54\n55\n56\n57\n58\n59\n60\n61\n62\n63\n64\n65\n\n\nå¨ä¸é¢å é¤çæä½ javaä¸­æèªå·±çåæ¶å¨ å æ­¤æä»¬æ éæå¨åæ¶æ ç¨å¯¹è±¡ åªéè¦ææ­¤å¯¹è±¡æ¹æä¸å¯è¾¾(å³æ æ³éè¿ä»»ä½éå¾è®¿é®å°æ­¤å¯¹è±¡,åjvmä¼èªå¨éæ¾è¯¥å¯¹è±¡)\n\n\n# æ \n\n\tpublic static class node<v> {\n\t\tv value;\n\t\tnode<v> next;\n\n\t\tpublic node(v value) {\n\t\t\tthis.value = value;\n\t\t}\n\t}\n\n\t//æ \n\tpublic static class mystack<v>{\n\t\tint size;\n\t\tnode<v> head;\n\t\t\n\t\tpublic mystack() {\n\t\t\thead = null;\n\t\t\tsize =0;\n\t\t}\n\t\t\n\t\tpublic boolean isempty() {\n\t\t\treturn size ==0;\n\t\t}\n\t\t\n\t\tpublic int size() {\n\t\t\treturn size;\n\t\t}\n\t\t\n\t\t//å¥æ \n\t\tpublic void pusu(v value) {\n\t\t\tnode<v> v = new node<v>(value);\n\t\t\tif(head == null) { //æ ä¸­æ åç´ \n\t\t\t\thead = v; //æ·»å åç´ \n\t\t\t} else { //æ ä¸­æåç´ \n\t\t\t\thead.next = v; //åæ åº\n\t\t\t\thead = v;//æ´æ°æ é¡¶\n\t\t\t}\n\t\t\tsize++;\n\t\t}\n\t\t\n\t\t//åºæ \n\t\tpublic v pop() {\n\t\t\tv ans = null;\n\t\t\tif (head !=null) {\n\t\t\t\tans = head.value; //è·åæ é¡¶å¼\n\t\t\t\thead = head.next; //æ´æ°æ é¡¶åç´ ä¸ºä¸ä¸ªåç´ \n\t\t\t\tsize--;\n\t\t\t}\n\t\t\treturn ans;\n\t\t}\n\t\t\n\t\t//æ¥è¯¢æ é¡¶åç´ \n\t\tpublic v peek() {\n\t\t\tv ans = null;\n\t\t\tif(head !=null) {\n\t\t\t\tans = head.value;\n\t\t\t}\n\t\t\treturn ans;\n\t\t}\n\t\t\n\t}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n26\n27\n28\n29\n30\n31\n32\n33\n34\n35\n36\n37\n38\n39\n40\n41\n42\n43\n44\n45\n46\n47\n48\n49\n50\n51\n52\n53\n54\n55\n56\n57\n58\n59\n60\n\n\n\n# åé¾è¡¨å®ç°åç«¯éå\n\nä¸ºä»ä¹æ æ³ä½¿ç¨åé¾è¡¨å®ç°åç«¯éåï¼\n\n 1. åé¾è¡¨æ¯æä»éå¤´ä¸­å¢å æ¥åç´ \n 2. åé¾è¡¨åªæ¯æä»éå°¾å¢æ¥åç´ ï¼æ æ³å é¤åç´  å ä¸ºæ æ³ä»å½åéå°¾ä¸­å¿«éæ¥æ¾å°ä¸ä¸è·³çå°åï¼åªè½éåä¸æ¬¡åé¾è¡¨ãæ æ³åå°o(1)ï¼å ä¸ºå é¤æä½è¦éåä¸æ¬¡é¾è¡¨æ¶é´å¤æç¨åº¦ä¸ºo(n)\n 3. æä»¥æä»¬å¯ä»¥ä½¿ç¨åé¾è¡¨å¯ä»¥å®æo(1)çåç«¯éåçå¢å æ¥\n\n\tpublic static class node<v> {\n\t\tv value;\n\t\tnode<v> fist;\n\t\tnode<v> last;\n\n\t\tpublic node(v value) {\n\t\t\tthis.value = value;\n\t\t\tfist = null; // ä¸ä¸è·³\n\t\t\tlast = null; // ä¸ä¸è·³\n\t\t}\n\t}\n\n\tpublic static class doublequeue<v> {\n\t\tnode<v> head;\n\t\tnode<v> tail;\n\t\tint size;\n\n\t\tpublic doublequeue() {\n\t\t\thead = null;\n\t\t\ttail = null;\n\t\t\tsize = 0;\n\t\t}\n\n\t\tpublic boolean isempty() {\n\t\t\treturn size == 0;\n\t\t}\n\n\t\tpublic int size() {\n\t\t\treturn size;\n\t\t}\n\n\t\t// ä»éåå¤´æ·»å æå®åç´ \n\t\tpublic void addfist(v value) {\n\t\t\tnode<v> v = new node<v>(value);\n\t\t\tif (head == null) { // å½åéåä¸ºç©º ç´æ¥æ·»å \n\t\t\t\thead = v;\n\t\t\t\ttail = v;\n\t\t\t} else { // ä»éå¤´æ·»å \n\t\t\t\thead.fist = v; // åéå¤´ä¸ä¸è·³ æ è®°ä¸ºå½ååç´ \n\t\t\t\tv.last = head; // å½ååç´  ä¸ä¸è·³ä¸ºæ§éå¤´\n\t\t\t\thead = v; // éå¤´ä¸ºå½ååç´ \n\t\t\t}\n\t\t\tsize++;\n\t\t}\n\n\t\t// ä»éåå°¾æ·»å æå®åç´ \n\t\tpublic void addlast(v value) {\n\t\t\tnode<v> v = new node<v>(value);\n\t\t\tif (head == null) {\n\t\t\t\thead = v;\n\t\t\t\ttail = v;\n\t\t\t} else {\n\t\t\t\ttail.last = v; // æ§éå°¾ä¸ä¸è·³ä¸º æ·»å åç´ \n\t\t\t\tv.fist = tail; // æ·»å åç´ çä¸ä¸è·³ ä¸ºæ§éå°¾\n\t\t\t\ttail = v; // æ´æ°éå°¾\n\t\t\t}\n\t\t\tsize++;\n\t\t}\n\n\t\t// å é¤éå¤´åç´ \n\t\tpublic v pollfirst() {\n\t\t\tv ans = null;\n\t\t\tif (head != null) {\n\t\t\t\tans = head.value;\n\t\t\t\tsize--;\n\t\t\t}\n\t\t\tif (head == tail) { // è¾¹çæåµ åªæä¸ä¸ªåç´ \n\t\t\t\thead = null;\n\t\t\t\ttail = null;\n\t\t\t} else { \n\t\t\t\thead = head.fist;\n\t\t\t\thead.fist = null; // å°headä¸ä¸è·³æ è®°ä¸ºnull\n\t\t\t}\n\t\t\treturn ans;\n\t\t}\n\n\t\t// å é¤éå°¾åç´ \n\t\tpublic v polllast() {\n\t\t\tv ans = null;\n\t\t\tif (head != null) { // æåç´ \n\t\t\t\tans = tail.value; // åå½åéå°¾åºå¼\n\t\t\t\tsize--;\n\t\t\t}\n\t\t\tif (tail == tail) { // è¾¹çæåµ åªæä¸ä¸ªåç´ \n\t\t\t\thead = null;\n\t\t\t\ttail = null;\n\t\t\t} else { \n\t\t\t\ttail = tail.fist; // æ´æ°éå°¾\n\t\t\t\ttail.last = null; // å½tailä¸ä¸ºnull æå°tallä¸ä¸è·³æ è®°ä¸ºnull\n\t\t\t}\n\t\t\treturn ans;\n\t\t}\n\n\t\t// æ¥çéå¤´\n\t\tpublic v peekfist() {\n\t\t\tv ans = null;\n\t\t\tif (head != null) {\n\t\t\t\tans = head.value;\n\t\t\t}\n\t\t\treturn ans;\n\t\t}\n\n\t\t// æ¥çéå°¾\n\t\tpublic v peeklast() {\n\t\t\tv ans = null;\n\t\t\tif (tail != null) {\n\t\t\t\tans = tail.value;\n\t\t\t}\n\t\t\treturn ans;\n\t\t}\n\t}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n26\n27\n28\n29\n30\n31\n32\n33\n34\n35\n36\n37\n38\n39\n40\n41\n42\n43\n44\n45\n46\n47\n48\n49\n50\n51\n52\n53\n54\n55\n56\n57\n58\n59\n60\n61\n62\n63\n64\n65\n66\n67\n68\n69\n70\n71\n72\n73\n74\n75\n76\n77\n78\n79\n80\n81\n82\n83\n84\n85\n86\n87\n88\n89\n90\n91\n92\n93\n94\n95\n96\n97\n98\n99\n100\n101\n102\n103\n104\n105\n106\n107\n108\n109\n110\n111\n\n\n\n# leecode é¾è¡¨é¢\n\n\n# k ä¸ªä¸ç»ç¿»è½¬é¾è¡¨\n\npublic class listnode {\n\t\tint val;\n\t\tlistnode next;\n\n\t\tlistnode() {\n\t\t}\n\n\t\tlistnode(int val) {\n\t\t\tthis.val = val;\n\t\t}\n\n\t\tlistnode(int val, listnode next) {\n\t\t\tthis.val = val;\n\t\t\tthis.next = next;\n\t\t}\n\t}\n\n\tpublic class solution {\n\t\tpublic listnode reversekgroup(listnode head, int k) {\n\t\t\tlistnode start = head; // ç¼å­å½åé¾è¡¨å¤´\n\t\t\tlistnode end = getkend(start, k); // è·åç¬¬ä¸ç»é¾è¡¨å°¾\n\t\t\tif (end == null) { // å¦ækä¸ªåç´ åæ²¡æé¾å°¾ è¯´æç¬¬ä¸ç»é¾è¡¨ï¼=kä¸ªåç´  æ æ³è¿è¡åè½¬ ç´æ¥è¿åå½åé¾è¡¨å³å¯\n\t\t\t\treturn head;\n\t\t\t}\n\t\t\t// ç¬¬ä¸ç»æ»¡è¶³kä¸ªåç´ è¿è¡åè½¬\n\t\t\thead = end; // å°å½åé¾è¡¨å¤´æåé¾è¡¨å°¾çåç´ \n\t\t\treverse(start, end); // è¿è¡åè½¬\n\t\t\tlistnode lastend = start; // ä¸ä¸ç»èç¹å°¾\n\t\t\twhile (lastend.next != null) {\n\t\t\t\tstart = lastend.next; // ç¼å­å½åç»çé¾è¡¨å¤´\n\t\t\t\tend = getkend(start, k); // è·å¾å½åç»çé¾è¡¨å°¾\n\t\t\t\tif (end == null) {\n\t\t\t\t\treturn head;\n\t\t\t\t}\n\t\t\t\treverse(start, end); // æ»¡è¶³kä¸ª åè½¬å½åç»\n\t\t\t\tlastend.next = end; // å°ä¸ç»çé¾å°¾ æå å½åç»åè½¬åçé¾è¡¨å¤´\n\t\t\t\tlastend = start; // æ´æ°lastendä¸ºå½åç»çé¾å°¾\n\t\t\t}\n\t\t\treturn head;\n\n\t\t}\n\n\t\tpublic listnode getkend(listnode pre, int k) {\n\t\t\twhile (--k != 0 && pre != null) { // è¿åå½åç»çæåä¸ä¸ªåç´ (å³æ°çé¾å¤´)\n\t\t\t\tpre = pre.next;\n\t\t\t}\n\t\t\treturn pre;\n\t\t}\n\n\t\tpublic void reverse(listnode start, listnode end) {\n\t\t\tend = end.next; // å°å½åendååç§»ä¸ä½(å³ä¸ä¸ç»çé¾å¤´,ä¸ä¸ç»æªåè½¬)\n\t\t\tlistnode cur = start; // å½ååç´ \n\t\t\tlistnode pre = null; // ç¼å­ä¸æ¬¡çä¿®æ¹è¿åç´ \n\t\t\tlistnode next = null; // ä¸ä¸è·³åç´ \n\t\t\twhile (cur != end) {\n\t\t\t\tnext = cur.next; // ç¼å­ä¸ä¸è·³\n\t\t\t\tcur.next = pre; // æåä¸æ¬¡ä¿®æ¹åçåç´ \n\t\t\t\tpre = cur; // æ´æ°ä¿®æ¹åçåç´ \n\t\t\t\tcur = next; // æ´æ°å½ååç´ \n\t\t\t}\n\t\t\tstart.next = end; // å°å½åç»é¾å°¾ æåä¸ä¸ç»çé¾å¤´\n\t\t}\n\t}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n26\n27\n28\n29\n30\n31\n32\n33\n34\n35\n36\n37\n38\n39\n40\n41\n42\n43\n44\n45\n46\n47\n48\n49\n50\n51\n52\n53\n54\n55\n56\n57\n58\n59\n60\n61\n62\n63\n\n\n\n# ä¸¤æ°ç¸å \n\n\tpublic class listnode {\n\t\tint val;\n\t\tlistnode next;\n\n\t\tlistnode() {\n\t\t}\n\n\t\tlistnode(int val) {\n\t\t\tthis.val = val;\n\t\t}\n\n\t\tlistnode(int val, listnode next) {\n\t\t\tthis.val = val;\n\t\t\tthis.next = next;\n\t\t}\n\t}\n\n\tclass solution {\n\t\tpublic listnode addtwonumbers(listnode l1, listnode l2) {\n\n\t\t\tlistnode l = getsize(l1) > getsize(l2) ? l1 : l2; // æé¿çé¾è¡¨\n\t\t\tlistnode s = l == l1 ? l2 : l1; // ç¬¬äºä¸ªé¾è¡¨ <= lçé¿åº¦\n\t\t\tint temp = 0; // è¿ä½æ è®° å¦æä¸º1åéè¦è¿1 0åä¸è¿1\n\t\t\tint cou = 0; // å­å¨æ¯æ¬¡è®¡ç®ç»æ\n\t\t\tlistnode tl = l; // ç¼å­å½åé¿èç¹ åç´ \n\t\t\tlistnode ts = s; // ç¼å­å½åç­èç¹ åç´ \n\t\t\tlistnode pre = null;\n\t\t\t// å¤çç­çé¾è¡¨\n\t\t\twhile (ts != null) {\n\t\t\t\tcou = ts.val + tl.val + temp; // ç¸å ç»æ\n\t\t\t\ttemp = cou / 10; // æ¯å¦éè¦è¿1\n\t\t\t\ttl.val = cou % 10; // å­å¨å°èç¹ä¸­\n\t\t\t\tpre = tl; // ç¼å­å½åé¿çèç¹åç´  å ä¸ºæåè¿1 éè¦ä½¿ç¨è¯¥ç¼å­èç¹ä¸ä¸è·³ æåæ°çèç¹\n\t\t\t\t// ä¸ºä½è¦å¨é¿çåç­çé¾è¡¨ ä¸­è®°å½å½åèç¹å¢ å ä¸ºæå¯è½ç­åé¿çé¾è¡¨é¿åº¦ä¸è´ ç­çè·å®é¿ä¹è·å® åéè¦è¿1 ä¼åçç©ºæéå¼å¸¸\n\t\t\t\ttl = tl.next; // ä¸ä¸ä¸ªèç¹\n\t\t\t\tts = ts.next;\n\t\t\t}\n\t\t\t// å¤çé¿çé¾è¡¨\n\t\t\twhile (tl != null) {\n\t\t\t\tcou = tl.val + temp;\n\t\t\t\ttemp = cou / 10;\n\t\t\t\ttl.val = cou % 10;\n\t\t\t\tpre = tl;\n\t\t\t\ttl = tl.next;\n\t\t\t}\n\t\t\t// å¦æè¿ä½æ¯1 åéè¦æ°åå»ºèç¹\n\t\t\tif (temp != 0) {\n\t\t\t\tpre.next = new listnode(1);\n\t\t\t}\n\t\t\treturn l;\n\n\t\t}\n\n\t\tpublic int getsize(listnode head) {\n\t\t\tint size = 0;\n\t\t\twhile (head.next != null) {\n\t\t\t\tsize++;\n\t\t\t\thead = head.next;\n\t\t\t}\n\t\t\treturn size;\n\t\t}\n\t}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n26\n27\n28\n29\n30\n31\n32\n33\n34\n35\n36\n37\n38\n39\n40\n41\n42\n43\n44\n45\n46\n47\n48\n49\n50\n51\n52\n53\n54\n55\n56\n57\n58\n59\n60\n61\n62\n\n\n\n# åå¹¶ä¸¤ä¸ªæåºé¾è¡¨\n\npublic class listnode {\n\t\tint val;\n\t\tlistnode next;\n\n\t\tlistnode() {\n\t\t}\n\n\t\tlistnode(int val) {\n\t\t\tthis.val = val;\n\t\t}\n\n\t\tlistnode(int val, listnode next) {\n\t\t\tthis.val = val;\n\t\t\tthis.next = next;\n\t\t}\n\t}\n\n\tclass solution {\n\t\tpublic listnode mergetwolists(listnode list1, listnode list2) {\n\t\t\tif (list1 == null || list2 == null) { // å¦å¤ä¸ä¸ªé¾è¡¨ä¸ºç©ºç´æ¥è¿åéç©ºé¾è¡¨\n\t\t\t\treturn list1 == null ? list2 : list1;\n\t\t\t}\n\t\t\tlistnode head = list1.val <= list2.val ? list1 : list2; // å¤´èç¹\n\t\t\tlistnode l = head.next; // ä¸ä¸æ¡\n\t\t\tlistnode s = head == list1 ? list2 : list1; // å¦å¤ä¸ä¸ªé¾è¡¨\n\t\t\tlistnode pre = head;\n\t\t\twhile (l != null && s != null) {\n\t\t\t\tif (l.val <= s.val) {\n\t\t\t\t\tpre.next = l;\n\t\t\t\t\tl = l.next;\n\t\t\t\t} else {\n\t\t\t\t\tpre.next = s;\n\t\t\t\t\ts = s.next;\n\t\t\t\t}\n\t\t\t\tpre = pre.next;\n\t\t\t}\n\t\t\tpre.next = l == null ? s : l;\n\t\t\treturn head;\n\t\t}\n\t}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n26\n27\n28\n29\n30\n31\n32\n33\n34\n35\n36\n37\n38\n39\n40\n',charsets:{cjk:!0},lastUpdated:"2022/03/18, 16:09:17",lastUpdatedTimestamp:1647590957e3},{title:"æ¶é´å¤æåº¦",frontmatter:{title:"æ¶é´å¤æåº¦",date:"2022-03-18T16:03:55.000Z",permalink:"/pages/ef4d8b/",categories:[408,"æ°æ®ç»æ"],tags:[null]},regularPath:"/408/01.%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84/13.%E6%97%B6%E9%97%B4%E5%A4%8D%E6%9D%82%E5%BA%A6.html",relativePath:"408/01.æ°æ®ç»æ/13.æ¶é´å¤æåº¦.md",key:"v-2e467b68",path:"/pages/ef4d8b/",headersStr:null,content:"# æ¶é´å¤æåº¦\n\n 1. å¿½ç¥å¸¸æ°æ¶é´çæä½\n 2. ç¡®å®ç®æ³æ»æä½æ°åæ ·æ¬æ°éä¹é´çè¡¨è¾¾å¼å³ç³»\n 3. åªçè¡¨è¾¾å¼æé«é¶é¨å\n\nå¦ä¸ä¸ªéæ©æåºç®æ³ï¼æ¯æ¬¡é½è¦éån-1-nä¸ªæ°æ¥æ¾åºå½åå­æ°ç»ä¸­æå°å¼åäº¤æ¢ï¼0~n-1ã1~n-1ãÂ·Â·Â·ï¼èäº¤æ¢æå°å¼å°å½åä¸æ indexä¸ºå¸¸æ°æä½æ¯æ¬¡åºå®æ¶é´ï¼éåæä½ä¸ºç­å·®æ°ååå¬å¼ åç®ä¸ºaN^2*bN+cï¼åªçæé«é¶ä¸º2æ¬¡æ¹ï¼ç²ç¥ä¼°è®¡ä¸ºO(N^2)\n\nå¸¸è§çå¸¸æ°æä½:\n\n * ç®æ¯è¿ç®\n * ä½è¿ç®\n * èµå¼ãæ¯è¾ãèªå¢ãèªåç­\n * æ°ç»å¯»å\n\nåºå®æ¶é´ä¸ºå¸¸æ°æä½ï¼æ¶é´ä¸åºå®åä¸æ¯å¸¸æ°æä½\n\nå¦ææä¸ªç®æ³æµç¨çå¤æç¨åº¦ä¼æ ¹æ®æ°æ®ç¶åµä¸åèä¸åï¼é£ä¹å¿é¡»æç§æå·®æåµä¼°è®¡\n\nå¦æå¥æåº å¨æå·®çæåµä¸ æ°ç»ä¸­æ¯ä¸ªæ°é½è¦è¿è¡äº¤æ¢\n\nå¨æå¥æåºä¸­ï¼å½å¾æåºæ°ç»æ¯æåºæ¶ï¼æ¯æä¼çæåµï¼åªéå½åæ°è·åä¸ä¸ªæ°æ¯è¾ä¸ä¸å°±å¯ä»¥äºï¼è¿æ¶ä¸å±éè¦æ¯è¾N- 1æ¬¡ï¼æ¶é´å¤æåº¦ä¸º O(N)\n\næåçæåµæ¯å¾æåºæ°ç»æ¯éåºçï¼æ­¤æ¶éè¦æ¯è¾æ¬¡æ°æå¤ï¼æ»æ¬¡æ°è®°ä¸ºï¼1+2+3+â¦+N-1ï¼æä»¥ï¼æå¥æåºæåæåµä¸çæ¶é´å¤æåº¦ä¸ºO(N^2)",normalizedContent:"# æ¶é´å¤æåº¦\n\n 1. å¿½ç¥å¸¸æ°æ¶é´çæä½\n 2. ç¡®å®ç®æ³æ»æä½æ°åæ ·æ¬æ°éä¹é´çè¡¨è¾¾å¼å³ç³»\n 3. åªçè¡¨è¾¾å¼æé«é¶é¨å\n\nå¦ä¸ä¸ªéæ©æåºç®æ³ï¼æ¯æ¬¡é½è¦éån-1-nä¸ªæ°æ¥æ¾åºå½åå­æ°ç»ä¸­æå°å¼åäº¤æ¢ï¼0~n-1ã1~n-1ãÂ·Â·Â·ï¼èäº¤æ¢æå°å¼å°å½åä¸æ indexä¸ºå¸¸æ°æä½æ¯æ¬¡åºå®æ¶é´ï¼éåæä½ä¸ºç­å·®æ°ååå¬å¼ åç®ä¸ºan^2*bn+cï¼åªçæé«é¶ä¸º2æ¬¡æ¹ï¼ç²ç¥ä¼°è®¡ä¸ºo(n^2)\n\nå¸¸è§çå¸¸æ°æä½:\n\n * ç®æ¯è¿ç®\n * ä½è¿ç®\n * èµå¼ãæ¯è¾ãèªå¢ãèªåç­\n * æ°ç»å¯»å\n\nåºå®æ¶é´ä¸ºå¸¸æ°æä½ï¼æ¶é´ä¸åºå®åä¸æ¯å¸¸æ°æä½\n\nå¦ææä¸ªç®æ³æµç¨çå¤æç¨åº¦ä¼æ ¹æ®æ°æ®ç¶åµä¸åèä¸åï¼é£ä¹å¿é¡»æç§æå·®æåµä¼°è®¡\n\nå¦æå¥æåº å¨æå·®çæåµä¸ æ°ç»ä¸­æ¯ä¸ªæ°é½è¦è¿è¡äº¤æ¢\n\nå¨æå¥æåºä¸­ï¼å½å¾æåºæ°ç»æ¯æåºæ¶ï¼æ¯æä¼çæåµï¼åªéå½åæ°è·åä¸ä¸ªæ°æ¯è¾ä¸ä¸å°±å¯ä»¥äºï¼è¿æ¶ä¸å±éè¦æ¯è¾n- 1æ¬¡ï¼æ¶é´å¤æåº¦ä¸º o(n)\n\næåçæåµæ¯å¾æåºæ°ç»æ¯éåºçï¼æ­¤æ¶éè¦æ¯è¾æ¬¡æ°æå¤ï¼æ»æ¬¡æ°è®°ä¸ºï¼1+2+3+â¦+n-1ï¼æä»¥ï¼æå¥æåºæåæåµä¸çæ¶é´å¤æåº¦ä¸ºo(n^2)",charsets:{cjk:!0},lastUpdated:"2022/03/18, 16:09:17",lastUpdatedTimestamp:1647590957e3},{title:"äºåæ ",frontmatter:{title:"äºåæ ",date:"2022-03-18T16:03:55.000Z",permalink:"/pages/3e25e1/",categories:[408,"æ°æ®ç»æ"],tags:[null]},regularPath:"/408/01.%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84/11.%E4%BA%8C%E5%8F%89%E6%A0%91.html",relativePath:"408/01.æ°æ®ç»æ/11.äºåæ .md",key:"v-a61f04aa",path:"/pages/3e25e1/",headers:[{level:2,title:"éå½åº",slug:"éå½åº",normalizedTitle:"éå½åº",charIndex:10},{level:2,title:"100. ç¸åçæ ",slug:"_100-ç¸åçæ ",normalizedTitle:"100. ç¸åçæ ",charIndex:873},{level:2,title:"101. å¯¹ç§°äºåæ ",slug:"_101-å¯¹ç§°äºåæ ",normalizedTitle:"101. å¯¹ç§°äºåæ ",charIndex:1568},{level:2,title:"104. äºåæ çæå¤§æ·±åº¦",slug:"_104-äºåæ çæå¤§æ·±åº¦",normalizedTitle:"104. äºåæ çæå¤§æ·±åº¦",charIndex:2405},{level:2,title:"105. ä»ååºä¸ä¸­åºéååºåæé äºåæ ",slug:"_105-ä»ååºä¸ä¸­åºéååºåæé äºåæ ",normalizedTitle:"105. ä»ååºä¸ä¸­åºéååºåæé äºåæ ",charIndex:2934},{level:2,title:"107. äºåæ çå±åºéå II",slug:"_107-äºåæ çå±åºéå-ii",normalizedTitle:"107. äºåæ çå±åºéå ii",charIndex:4481},{level:2,title:"110. å¹³è¡¡äºåæ ",slug:"_110-å¹³è¡¡äºåæ ",normalizedTitle:"110. å¹³è¡¡äºåæ ",charIndex:5654},{level:2,title:"98. éªè¯äºåæç´¢æ ",slug:"_98-éªè¯äºåæç´¢æ ",normalizedTitle:"98. éªè¯äºåæç´¢æ ",charIndex:6937},{level:2,title:"112. è·¯å¾æ»å",slug:"_112-è·¯å¾æ»å",normalizedTitle:"112. è·¯å¾æ»å",charIndex:8834},{level:2,title:"113. è·¯å¾æ»å II",slug:"_113-è·¯å¾æ»å-ii",normalizedTitle:"113. è·¯å¾æ»å ii",charIndex:9911}],headersStr:"éå½åº 100. ç¸åçæ  101. å¯¹ç§°äºåæ  104. äºåæ çæå¤§æ·±åº¦ 105. ä»ååºä¸ä¸­åºéååºåæé äºåæ  107. äºåæ çå±åºéå II 110. å¹³è¡¡äºåæ  98. éªè¯äºåæç´¢æ  112. è·¯å¾æ»å 113. è·¯å¾æ»å II",content:'# äºåæ \n\n\n# éå½åº\n\nååºéå : å¤´èç¹ å·¦èç¹ å³èç¹\n\nä¸­åºéå : å·¦èç¹ å¤´èç¹ å³èç¹\n\nååºéå : å·¦èç¹ å³èç¹ å¤´èç¹\n\n\tpublic static class Node {\n\t\tpublic int val;\n\t\tpublic Node left;\n\t\tpublic Node right;\n\t\t\n\t\t\n\t\tpublic Node(int val) {\n\t\t\tthis.val = val;\n\t\t}\n\n\t}\n\t\n\tpublic static void f(Node head) {\n\t\tif(head == null) {\n\t\t\treturn;\n\t\t}\n\t\tSystem.out.println("ååºéå"+head.val); //å¤´èç¹ å·¦èç¹ å³èç¹\n\t\tf(head.left);\n//\t\tSystem.out.println("ä¸­åºéå"+head.val); //å·¦èç¹ å¤´èç¹ å³èç¹\n\t\tf(head.right);\n//\t\tSystem.out.println("ååºéå"+head.val); //å·¦èç¹ å³èç¹ å¤´èç¹\n\t}\n\t\n\tpublic static void main(String[] args) {\n\t\tNode head = new Node(1);\n\t\thead.left = new Node(2);\n\t\thead.right = new Node(3);\n\t\thead.left.left = new Node(4);\n\t\thead.left.right = new Node(5);\n\t\thead.right.left = new Node(6);\n\t\thead.right.right = new Node(8);\n\t\t\n\t\tf(head);\n\t\t\n\t}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n26\n27\n28\n29\n30\n31\n32\n33\n34\n35\n\n\n\n# 100. ç¸åçæ \n\n\tpublic class TreeNode {\n\t\tint val;\n\t\tTreeNode left;\n\t\tTreeNode right;\n\n\t\tTreeNode() {\n\t\t}\n\n\t\tTreeNode(int val) {\n\t\t\tthis.val = val;\n\t\t}\n\n\t\tTreeNode(int val, TreeNode left, TreeNode right) {\n\t\t\tthis.val = val;\n\t\t\tthis.left = left;\n\t\t\tthis.right = right;\n\t\t}\n\t}\n\n\tclass Solution {\n\t\tpublic boolean isSameTree(TreeNode p, TreeNode q) {\n\t\t\tif (p == null ^ q == null) { //æä¸ä¸ªä¸ºç©º å¦å¤ä¸ä¸ªä¸ä¸ºç©º è¿å\n\t\t\t\treturn false;\n\t\t\t}\n\t\t\tif (p == null && q == null) { //ä¸¤èé½ä¸ºç©º\n\t\t\t\treturn true;\n\t\t\t}\n\t\t\t//ä¸¤èå¼ç¸ç­ && å·¦æ ç¸ç­ && å³æ ç¸ç­\n\t\t\treturn p.val == q.val && isSameTree(p.left, q.left) && isSameTree(p.right, q.right);\n\t\t}\n\t}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n26\n27\n28\n29\n30\n31\n\n\n\n# 101. å¯¹ç§°äºåæ \n\n\tpublic class TreeNode {\n\t    int val;\n\t    TreeNode left;\n\t    TreeNode right;\n\t    TreeNode() {}\n\t    TreeNode(int val) { this.val = val; }\n\t    TreeNode(int val, TreeNode left, TreeNode right) {\n\t        this.val = val;\n\t        this.left = left;\n\t        this.right = right;\n\t    }\n\t}\n\t\n\tclass Solution {\n\t    public boolean isSymmetric(TreeNode root) {\n\t    \treturn isSameTree(root,root);//èªå·±ä¸èªå·±æ¯è¾\n\t    }\n\t    \n\t    public boolean isSameTree(TreeNode p, TreeNode q) {\n\t\t\tif (p == null ^ q == null) { //æä¸ä¸ªä¸ºç©º å¦å¤ä¸ä¸ªä¸ä¸ºç©º è¿å\n\t\t\t\treturn false;\n\t\t\t}\n\t\t\tif (p == null && q == null) { //ä¸¤èé½ä¸ºç©º\n\t\t\t\treturn true;\n\t\t\t}\n\t\t\t//ä¸¤èå¼ç¸ç­ && å·¦æ ä¸`å³æ ç¸ç­ && å³æ ä¸`å·¦æ ç¸ç­\n\t\t\treturn p.val == q.val && isSameTree(p.left, q.right) && isSameTree(p.right, q.left);\n\t\t}\n\t}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n26\n27\n28\n29\n\n\n\n# 104. äºåæ çæå¤§æ·±åº¦\n\n\tpublic class TreeNode {\n\t\tint val;\n\t\tTreeNode left;\n\t\tTreeNode right;\n\n\t\tTreeNode() {\n\t\t}\n\n\t\tTreeNode(int val) {\n\t\t\tthis.val = val;\n\t\t}\n\n\t\tTreeNode(int val, TreeNode left, TreeNode right) {\n\t\t\tthis.val = val;\n\t\t\tthis.left = left;\n\t\t\tthis.right = right;\n\t\t}\n\t}\n\n\tclass Solution {\n\t\tpublic int maxDepth(TreeNode root) {\n\t\t\tif (root == null) {\n\t\t\t\treturn 0;\n\t\t\t}\n\t\t\treturn Math.max(maxDepth(root.left), maxDepth(root.right)) + 1;\n\t\t}\n\t}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n26\n27\n\n\n\n# 105. ä»ååºä¸ä¸­åºéååºåæé äºåæ \n\n\tpublic class TreeNode {\n\t\tint val;\n\t\tTreeNode left;\n\t\tTreeNode right;\n\n\t\tTreeNode() {\n\t\t}\n\n\t\tTreeNode(int val) {\n\t\t\tthis.val = val;\n\t\t}\n\n\t\tTreeNode(int val, TreeNode left, TreeNode right) {\n\t\t\tthis.val = val;\n\t\t\tthis.left = left;\n\t\t\tthis.right = right;\n\t\t}\n\t}\n\n\tclass Solution {\n\n\t\tpublic TreeNode buildTree(int[] preorder, int[] inorder) {\n\t\t\tif (preorder == null || inorder == null || preorder.length != inorder.length) {\n\t\t\t\treturn null;\n\t\t\t}\n             Map<Integer, Integer> IndexMap = new HashMap<>();\n\t\t\tfor (int i = 0; i < inorder.length; i++) {\n\t\t\t\tIndexMap.put(inorder[i], i);\n\t\t\t}\n\n\t\t\treturn f(preorder, 0, preorder.length - 1, inorder, 0, inorder.length - 1,IndexMap);\n\t\t}\n\n\t\tprivate TreeNode f(int[] preorder, int l1, int r1, int[] inorder, int l2, int r2,Map<Integer, Integer> IndexMap) {\n\t\t\tif (l1 > r1) { //\n\t\t\t\treturn null;\n\t\t\t}\n\t\t\tTreeNode head = new TreeNode(preorder[l1]); // å¤´èç¹\n\t\t\tif (l1 == r1) { // åªæä¸ä¸ªåç´ æ¶\n\t\t\t\treturn head;\n\t\t\t}\n\t\t\tint index = IndexMap.get(preorder[l1]); // æ¥æ¾å½åå¤´èç¹å¨ä¸­åºéåæ°ç»çä½ç½®\n\t\t\t// å·¦æ æå»º l1+1å° l1 + index - l2 ä¸ºå·¦æ çååºéåèå´ \t\tl2å°index-1ä¸ºä¸­åºéåèå´\n\t\t\thead.left = f(preorder, l1 + 1, l1 + index - l2, inorder, l2, index - 1,IndexMap); // æ³¨æå·¦æ åå³æ æå»ºéç¨çéåèå´åç¸åé¿åº¦\n\t\t\t// å³æ æå»º l1 + index - l2(å³å·¦æ çç»æèå´) +1 å° r1ä¸ºå³æ ååºéåèå´ \t\tindex+1å°r2ä¸ºå³æ ä¸­åºéåçèå´\n\t\t\thead.right = f(preorder, l1 + index - l2 + 1, r1, inorder, index + 1, r2,IndexMap);\n\t\t\treturn head;\n\t\t}\n\t}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n26\n27\n28\n29\n30\n31\n32\n33\n34\n35\n36\n37\n38\n39\n40\n41\n42\n43\n44\n45\n46\n47\n48\n49\n\n\n\n# 107. äºåæ çå±åºéå II\n\npublic class TreeNode {\n\t\tint val;\n\t\tTreeNode left;\n\t\tTreeNode right;\n\n\t\tTreeNode() {\n\t\t}\n\n\t\tTreeNode(int val) {\n\t\t\tthis.val = val;\n\t\t}\n\n\t\tTreeNode(int val, TreeNode left, TreeNode right) {\n\t\t\tthis.val = val;\n\t\t\tthis.left = left;\n\t\t\tthis.right = right;\n\t\t}\n\t}\n\n\tclass Solution {\n\t\tpublic List<List<Integer>> levelOrderBottom(TreeNode root) {\n\t\t\tList<List<Integer>> ans = new ArrayList<>();\n\t\t\tif (root == null) { // æ ¹èç¹ä¸ºç©ºç´æ¥è¿åç©ºåè¡¨\n\t\t\t\treturn ans;\n\t\t\t}\n\t\t\tLinkedList<TreeNode> queue = new LinkedList<>();\n\t\t\tqueue.add(root); // å°å¤´èç¹å å¥éåä¸­\n\t\t\twhile (!queue.isEmpty()) {\n\t\t\t\tint size = queue.size(); // è·åéåå½åé¿åº¦\n\t\t\t\tList<Integer> tans = new LinkedList<>();\n\t\t\t\tfor (int i = 0; i < size; i++) {\n\t\t\t\t\tTreeNode temp = queue.poll();\n\t\t\t\t\ttans.add(temp.val); // è·åå¤´èç¹çå¼ æ¾å¥å±é¨éåä¸­\n\t\t\t\t\tif (temp.left != null) {\n\t\t\t\t\t\tqueue.add(temp.left); // å·¦èç¹éç©º å å¥å°éåä¸­\n\t\t\t\t\t}\n\t\t\t\t\tif (temp.right != null) {\n\t\t\t\t\t\tqueue.add(temp.right); // å³èç¹éç©º å å¥éåä¸­\n\t\t\t\t\t}\n\n\t\t\t\t}\n\t\t\t\tans.add(0, tans); // å°ä¸æ¬¡éåç¼å­å¤´èç¹æ¸ç©ºåçèç¹å¼å å¥å°ç»æéåä¸­\n\t\t\t}\n\t\t\treturn ans;\n\n\t\t}\n\t}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n26\n27\n28\n29\n30\n31\n32\n33\n34\n35\n36\n37\n38\n39\n40\n41\n42\n43\n44\n45\n46\n47\n\n\n\n# 110. å¹³è¡¡äºåæ \n\nå¹³è¡¡äºåæ :ä¸ä¸ªäºåæ æ¯ä¸ªèç¹ çå·¦å³ä¸¤ä¸ªå­æ çé«åº¦å·®çç»å¯¹å¼ä¸è¶è¿ 1 ã\n\n\tpublic class TreeNode {\n\t\tint val;\n\t\tTreeNode left;\n\t\tTreeNode right;\n\n\t\tTreeNode() {\n\t\t}\n\n\t\tTreeNode(int val) {\n\t\t\tthis.val = val;\n\t\t}\n\n\t\tTreeNode(int val, TreeNode left, TreeNode right) {\n\t\t\tthis.val = val;\n\t\t\tthis.left = left;\n\t\t\tthis.right = right;\n\t\t}\n\t}\n\n\tclass Solution {\n\t\tpublic boolean isBalanced(TreeNode root) {\n\t\t\treturn process(root).isBalanced; //ç´æ¥è¿årootèç¹çä¿¡æ¯\n\t\t}\n\n\t\tpublic class info {\n\t\t\tpublic boolean isBalanced; // æ¯å¦ä¸ºå¹³è¡¡äºåæ \n\t\t\tpublic int height; // é«åº¦\n\n\t\t\tpublic info(boolean isBalanced, int height) {\n\t\t\t\tthis.isBalanced = isBalanced;\n\t\t\t\tthis.height = height;\n\t\t\t}\n\n\t\t}\n\n\t\tpublic info process(TreeNode root) {\n\t\t\tif (root == null) { // ç©ºèç¹\n\t\t\t\treturn new info(true, 0);\n\t\t\t}\n\t\t\tinfo leftInfo = process(root.left); // å·¦æ ä¿¡æ¯\n\t\t\tinfo rightInfo = process(root.right); // å³æ ä¿¡æ¯\n\n\t\t\tint height = Math.max(leftInfo.height, rightInfo.height) + 1; // å½åèç¹é«åº¦ä¸º å·¦åå³æ æå¤§å¼ +1\n\t\t\tboolean isBalanced = leftInfo.isBalanced && rightInfo.isBalanced\n\t\t\t\t\t&& Math.abs(leftInfo.height - rightInfo.height) <= 1; //å·¦æ åå³æ ä¸ºå¹³è¡¡äºåæ  å¹¶ä¸ å·¦å³æ é«åº¦å·®ä¸å¤§äº1\n\t\t\treturn new info(isBalanced, height);\n\t\t}\n\n\t}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n26\n27\n28\n29\n30\n31\n32\n33\n34\n35\n36\n37\n38\n39\n40\n41\n42\n43\n44\n45\n46\n47\n48\n49\n\n\n\n# 98. éªè¯äºåæç´¢æ \n\næç´¢äºåæ :å·¦æ çå¼æ¯æ ¹èç¹çå¼å°ï¼å³æ çå¼æ¯æ ¹èç¹çå¼å¤§\n\nä¸é¢æç´¢äºåæ ä¸­åºéåæ¯éå¢é¡ºåº\n\n\tpublic class TreeNode {\n\t\tint val;\n\t\tTreeNode left;\n\t\tTreeNode right;\n\n\t\tTreeNode() {\n\t\t}\n\n\t\tTreeNode(int val) {\n\t\t\tthis.val = val;\n\t\t}\n\n\t\tTreeNode(int val, TreeNode left, TreeNode right) {\n\t\t\tthis.val = val;\n\t\t\tthis.left = left;\n\t\t\tthis.right = right;\n\t\t}\n\t}\n\n\tclass Solution {\n\t\tpublic boolean isValidBST(TreeNode root) {\n\t\t\treturn isBST(root).isBst;\n\t\t}\n\t\t\n\t\tpublic class info{\n\t\t\tboolean isBst;\n\t\t\tint max;\n\t\t\tint min;\n\t\t\tpublic info(boolean isBst, int max, int min) {\n\t\t\t\tthis.isBst = isBst;\n\t\t\t\tthis.max = max;\n\t\t\t\tthis.min = min;\n\t\t\t}\n\t\t\t\n\t\t}\n\t\t\n\t\tpublic info isBST(TreeNode root) {\n\t\t\tif(root == null) { //å¤´èç¹ä¸ºç©ºåè¿åç©º\n\t\t\t\treturn null;\n\t\t\t}\n\t\t\tinfo leftinfo = isBST(root.left); //éå½è¿å¥å·¦æ \n\t\t\tinfo rightinfo = isBST(root.right); //éå½è¿å¥å³æ \n\t\t\t\n\t\t\tint max = root.val; //åè®¾æå¤§å¼ä¸ºèªèº«\n\t\t\tint min = root.val;//åè®¾æå°å¼ä¸ºèªèº«\n\t\t\tif(leftinfo != null) { //å·¦æ éç©º\n\t\t\t\tmax = Math.max(max, leftinfo.max); //æåå·¦æ ä¿¡æ¯\n\t\t\t\tmin = Math.min(min, leftinfo.min);\n\t\t\t}\n\t\t\tif(rightinfo != null) {\n\t\t\t\tmax = Math.max(max, rightinfo.max); //æåå³æ ä¿¡æ¯\n\t\t\t\tmin = Math.min(min, rightinfo.min);\n\t\t\t}\n\t\t\t\n\t\t\tboolean bst = true; //ååè®¾ä¸ºæç´¢äºåæ \n\t\t\tif(leftinfo !=null && !leftinfo.isBst) { //å¦æå·¦æ ä¸æ»¡è¶³å å¤´èç¹æ è®°ä¸ºä¸æ¯äºåæ \n\t\t\t\tbst =false;\n\t\t\t}\n\t\t\tif(rightinfo !=null && !rightinfo.isBst) { //å¦æå³æ ä¸æ»¡è¶³å å¤´èç¹æ è®°ä¸ºä¸æ¯äºåæ \n\t\t\t\tbst =false;\n\t\t\t}\n\t\t\t\n\t\t\t\n\t\t\tboolean lefiBst = leftinfo == null ? true : (leftinfo.max < root.val); //å¦æå·¦æ ä¿¡æ¯ä¸ºç©ºè¿åture  å¦åå·¦æ æå¤§å¼å¿é¡»å°äºå½åèç¹å¼\n\t\t\tboolean rightBst = rightinfo == null ? true : (rightinfo.min > root.val);//å¦æå³æ ä¿¡æ¯ä¸ºç©ºè¿åture  å¦åå³æ æå°å¼å¿é¡»å¤§äºå½åèç¹å¼\n\t\t\tif(!lefiBst || !rightBst) { //ä¸æ»¡è¶³æç´¢äºåæ è§å\n\t\t\t\tbst = false;\n\t\t\t}\n\t\t\t\n\t\t\treturn new info(bst, max, min);\n\t\t}\n\t\t\n\t}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n26\n27\n28\n29\n30\n31\n32\n33\n34\n35\n36\n37\n38\n39\n40\n41\n42\n43\n44\n45\n46\n47\n48\n49\n50\n51\n52\n53\n54\n55\n56\n57\n58\n59\n60\n61\n62\n63\n64\n65\n66\n67\n68\n69\n70\n71\n72\n73\n\n\n\n# 112. è·¯å¾æ»å\n\npublic class TreeNode {\n\t\tint val;\n\t\tTreeNode left;\n\t\tTreeNode right;\n\n\t\tTreeNode() {\n\t\t}\n\n\t\tTreeNode(int val) {\n\t\t\tthis.val = val;\n\t\t}\n\n\t\tTreeNode(int val, TreeNode left, TreeNode right) {\n\t\t\tthis.val = val;\n\t\t\tthis.left = left;\n\t\t\tthis.right = right;\n\t\t}\n\t}\n\n\tclass Solution {\n\n\t\tpublic boolean isSum = false;\n\n\t\tpublic boolean hasPathSum(TreeNode root, int targetSum) {\n\t\t\tif(root ==null) { //æ ¹èç¹ä¸ºç©º ç´æ¥è¿åfalse\n\t\t\t\treturn false;\n\t\t\t}\n\t\t\ttree(root, 0, targetSum);\n\t\t\treturn isSum;\n\n\t\t}\n\n\t\tpublic void tree(TreeNode root, int preSum, int sum) {\n\t\t\tif (root.left == null && root.right == null) { //å½åå¤´èç¹å·¦å³å­èç¹é½ä¸ºç©º\n\t\t\t\tif (preSum + root.val == sum) { //å½åå¤´èç¹å¼ä¸ä¸æ¬¡sum ä¸ºtargetåæ¾å°\n\t\t\t\t\tisSum = true;\n\t\t\t\t}\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tpreSum += root.val; //ç´¯å å½åsum\n\t\t\tif (root.left != null) { //å·¦èç¹æå¶èç¹ éå½è¿å»\n\t\t\t\ttree(root.left, preSum, sum);\n\t\t\t}\n\t\t\tif (root.right != null) { //å³èç¹æå¶èç¹ éå½è¿å»\n\t\t\t\ttree(root.right, preSum, sum);\n\t\t\t}\n\t\t}\n\t}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n26\n27\n28\n29\n30\n31\n32\n33\n34\n35\n36\n37\n38\n39\n40\n41\n42\n43\n44\n45\n46\n47\n48\n49\n\n\n\n# 113. è·¯å¾æ»å II\n\n\tpublic class TreeNode {\n\t\tint val;\n\t\tTreeNode left;\n\t\tTreeNode right;\n\n\t\tTreeNode() {\n\t\t}\n\n\t\tTreeNode(int val) {\n\t\t\tthis.val = val;\n\t\t}\n\n\t\tTreeNode(int val, TreeNode left, TreeNode right) {\n\t\t\tthis.val = val;\n\t\t\tthis.left = left;\n\t\t\tthis.right = right;\n\t\t}\n\t}\n\n\tclass Solution {\n\t\tpublic List<List<Integer>> pathSum(TreeNode root, int targetSum) {\n\t\t\tList<List<Integer>> ans = new ArrayList<>();\n\t\t\tif (root == null) {\n\t\t\t\treturn ans;\n\t\t\t}\n\t\t\tArrayList<Integer> path = new ArrayList<>();\n\t\t\tprocess(root, path, 0, targetSum, ans);\n\t\t\treturn ans;\n\t\t}\n\n\t\tpublic void process(TreeNode root, ArrayList<Integer> path, int preSum, int sum, List<List<Integer>> ans) {\n\t\t\tif (root.left == null & root.right == null) {\n\t\t\t\tif (root.val + preSum == sum) {\n\t\t\t\t\tpath.add(root.val); // æ·»å å½åèç¹è·¯å¾\n//\t\t\t\t\tList<Integer> newPath = copy(path); // æ·è´\n\t\t\t\t\tList<Integer> newPath = (List<Integer>) path.clone(); // æ¬è´¨ä¸æ¯æµæ·è´ ä½éé¢å­å¨çæ¯å¼ æä»¥å¤å¶äºéé¢å¼ å¦éé¢å­å¨çæ¯å¼ç¨ä¸åºç¨æ·±æ·è´\n\t\t\t\t\t\n\t\t\t\t\tans.add(newPath); // æ·»å å°ç»æéåä¸­\n\t\t\t\t\tpath.remove(path.size() - 1); // å é¤å½åè·¯å¾\n\t\t\t\t}\n\t\t\t}\n\t\t\tpreSum += root.val; // ç´¯å  æ éåæº¯ å ä¸ºæ¯å¼ä¼ é ä¸æ¯å¼ç¨ä¼ é\n\t\t\tpath.add(root.val); // è®°å½èç¹\n\t\t\tif (root.left != null) { // éå½\n\t\t\t\tprocess(root.left, path, preSum, sum, ans);\n\t\t\t}\n\t\t\tif (root.right != null) { // éå½\n\t\t\t\tprocess(root.right, path, preSum, sum, ans);\n\t\t\t}\n\t\t\tpath.remove(path.size() - 1); // æ¢å¤ç°åº\n\t\t}\n\t\t\n\t}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n26\n27\n28\n29\n30\n31\n32\n33\n34\n35\n36\n37\n38\n39\n40\n41\n42\n43\n44\n45\n46\n47\n48\n49\n50\n51\n52\n53\n',normalizedContent:'# äºåæ \n\n\n# éå½åº\n\nååºéå : å¤´èç¹ å·¦èç¹ å³èç¹\n\nä¸­åºéå : å·¦èç¹ å¤´èç¹ å³èç¹\n\nååºéå : å·¦èç¹ å³èç¹ å¤´èç¹\n\n\tpublic static class node {\n\t\tpublic int val;\n\t\tpublic node left;\n\t\tpublic node right;\n\t\t\n\t\t\n\t\tpublic node(int val) {\n\t\t\tthis.val = val;\n\t\t}\n\n\t}\n\t\n\tpublic static void f(node head) {\n\t\tif(head == null) {\n\t\t\treturn;\n\t\t}\n\t\tsystem.out.println("ååºéå"+head.val); //å¤´èç¹ å·¦èç¹ å³èç¹\n\t\tf(head.left);\n//\t\tsystem.out.println("ä¸­åºéå"+head.val); //å·¦èç¹ å¤´èç¹ å³èç¹\n\t\tf(head.right);\n//\t\tsystem.out.println("ååºéå"+head.val); //å·¦èç¹ å³èç¹ å¤´èç¹\n\t}\n\t\n\tpublic static void main(string[] args) {\n\t\tnode head = new node(1);\n\t\thead.left = new node(2);\n\t\thead.right = new node(3);\n\t\thead.left.left = new node(4);\n\t\thead.left.right = new node(5);\n\t\thead.right.left = new node(6);\n\t\thead.right.right = new node(8);\n\t\t\n\t\tf(head);\n\t\t\n\t}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n26\n27\n28\n29\n30\n31\n32\n33\n34\n35\n\n\n\n# 100. ç¸åçæ \n\n\tpublic class treenode {\n\t\tint val;\n\t\ttreenode left;\n\t\ttreenode right;\n\n\t\ttreenode() {\n\t\t}\n\n\t\ttreenode(int val) {\n\t\t\tthis.val = val;\n\t\t}\n\n\t\ttreenode(int val, treenode left, treenode right) {\n\t\t\tthis.val = val;\n\t\t\tthis.left = left;\n\t\t\tthis.right = right;\n\t\t}\n\t}\n\n\tclass solution {\n\t\tpublic boolean issametree(treenode p, treenode q) {\n\t\t\tif (p == null ^ q == null) { //æä¸ä¸ªä¸ºç©º å¦å¤ä¸ä¸ªä¸ä¸ºç©º è¿å\n\t\t\t\treturn false;\n\t\t\t}\n\t\t\tif (p == null && q == null) { //ä¸¤èé½ä¸ºç©º\n\t\t\t\treturn true;\n\t\t\t}\n\t\t\t//ä¸¤èå¼ç¸ç­ && å·¦æ ç¸ç­ && å³æ ç¸ç­\n\t\t\treturn p.val == q.val && issametree(p.left, q.left) && issametree(p.right, q.right);\n\t\t}\n\t}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n26\n27\n28\n29\n30\n31\n\n\n\n# 101. å¯¹ç§°äºåæ \n\n\tpublic class treenode {\n\t    int val;\n\t    treenode left;\n\t    treenode right;\n\t    treenode() {}\n\t    treenode(int val) { this.val = val; }\n\t    treenode(int val, treenode left, treenode right) {\n\t        this.val = val;\n\t        this.left = left;\n\t        this.right = right;\n\t    }\n\t}\n\t\n\tclass solution {\n\t    public boolean issymmetric(treenode root) {\n\t    \treturn issametree(root,root);//èªå·±ä¸èªå·±æ¯è¾\n\t    }\n\t    \n\t    public boolean issametree(treenode p, treenode q) {\n\t\t\tif (p == null ^ q == null) { //æä¸ä¸ªä¸ºç©º å¦å¤ä¸ä¸ªä¸ä¸ºç©º è¿å\n\t\t\t\treturn false;\n\t\t\t}\n\t\t\tif (p == null && q == null) { //ä¸¤èé½ä¸ºç©º\n\t\t\t\treturn true;\n\t\t\t}\n\t\t\t//ä¸¤èå¼ç¸ç­ && å·¦æ ä¸`å³æ ç¸ç­ && å³æ ä¸`å·¦æ ç¸ç­\n\t\t\treturn p.val == q.val && issametree(p.left, q.right) && issametree(p.right, q.left);\n\t\t}\n\t}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n26\n27\n28\n29\n\n\n\n# 104. äºåæ çæå¤§æ·±åº¦\n\n\tpublic class treenode {\n\t\tint val;\n\t\ttreenode left;\n\t\ttreenode right;\n\n\t\ttreenode() {\n\t\t}\n\n\t\ttreenode(int val) {\n\t\t\tthis.val = val;\n\t\t}\n\n\t\ttreenode(int val, treenode left, treenode right) {\n\t\t\tthis.val = val;\n\t\t\tthis.left = left;\n\t\t\tthis.right = right;\n\t\t}\n\t}\n\n\tclass solution {\n\t\tpublic int maxdepth(treenode root) {\n\t\t\tif (root == null) {\n\t\t\t\treturn 0;\n\t\t\t}\n\t\t\treturn math.max(maxdepth(root.left), maxdepth(root.right)) + 1;\n\t\t}\n\t}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n26\n27\n\n\n\n# 105. ä»ååºä¸ä¸­åºéååºåæé äºåæ \n\n\tpublic class treenode {\n\t\tint val;\n\t\ttreenode left;\n\t\ttreenode right;\n\n\t\ttreenode() {\n\t\t}\n\n\t\ttreenode(int val) {\n\t\t\tthis.val = val;\n\t\t}\n\n\t\ttreenode(int val, treenode left, treenode right) {\n\t\t\tthis.val = val;\n\t\t\tthis.left = left;\n\t\t\tthis.right = right;\n\t\t}\n\t}\n\n\tclass solution {\n\n\t\tpublic treenode buildtree(int[] preorder, int[] inorder) {\n\t\t\tif (preorder == null || inorder == null || preorder.length != inorder.length) {\n\t\t\t\treturn null;\n\t\t\t}\n             map<integer, integer> indexmap = new hashmap<>();\n\t\t\tfor (int i = 0; i < inorder.length; i++) {\n\t\t\t\tindexmap.put(inorder[i], i);\n\t\t\t}\n\n\t\t\treturn f(preorder, 0, preorder.length - 1, inorder, 0, inorder.length - 1,indexmap);\n\t\t}\n\n\t\tprivate treenode f(int[] preorder, int l1, int r1, int[] inorder, int l2, int r2,map<integer, integer> indexmap) {\n\t\t\tif (l1 > r1) { //\n\t\t\t\treturn null;\n\t\t\t}\n\t\t\ttreenode head = new treenode(preorder[l1]); // å¤´èç¹\n\t\t\tif (l1 == r1) { // åªæä¸ä¸ªåç´ æ¶\n\t\t\t\treturn head;\n\t\t\t}\n\t\t\tint index = indexmap.get(preorder[l1]); // æ¥æ¾å½åå¤´èç¹å¨ä¸­åºéåæ°ç»çä½ç½®\n\t\t\t// å·¦æ æå»º l1+1å° l1 + index - l2 ä¸ºå·¦æ çååºéåèå´ \t\tl2å°index-1ä¸ºä¸­åºéåèå´\n\t\t\thead.left = f(preorder, l1 + 1, l1 + index - l2, inorder, l2, index - 1,indexmap); // æ³¨æå·¦æ åå³æ æå»ºéç¨çéåèå´åç¸åé¿åº¦\n\t\t\t// å³æ æå»º l1 + index - l2(å³å·¦æ çç»æèå´) +1 å° r1ä¸ºå³æ ååºéåèå´ \t\tindex+1å°r2ä¸ºå³æ ä¸­åºéåçèå´\n\t\t\thead.right = f(preorder, l1 + index - l2 + 1, r1, inorder, index + 1, r2,indexmap);\n\t\t\treturn head;\n\t\t}\n\t}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n26\n27\n28\n29\n30\n31\n32\n33\n34\n35\n36\n37\n38\n39\n40\n41\n42\n43\n44\n45\n46\n47\n48\n49\n\n\n\n# 107. äºåæ çå±åºéå ii\n\npublic class treenode {\n\t\tint val;\n\t\ttreenode left;\n\t\ttreenode right;\n\n\t\ttreenode() {\n\t\t}\n\n\t\ttreenode(int val) {\n\t\t\tthis.val = val;\n\t\t}\n\n\t\ttreenode(int val, treenode left, treenode right) {\n\t\t\tthis.val = val;\n\t\t\tthis.left = left;\n\t\t\tthis.right = right;\n\t\t}\n\t}\n\n\tclass solution {\n\t\tpublic list<list<integer>> levelorderbottom(treenode root) {\n\t\t\tlist<list<integer>> ans = new arraylist<>();\n\t\t\tif (root == null) { // æ ¹èç¹ä¸ºç©ºç´æ¥è¿åç©ºåè¡¨\n\t\t\t\treturn ans;\n\t\t\t}\n\t\t\tlinkedlist<treenode> queue = new linkedlist<>();\n\t\t\tqueue.add(root); // å°å¤´èç¹å å¥éåä¸­\n\t\t\twhile (!queue.isempty()) {\n\t\t\t\tint size = queue.size(); // è·åéåå½åé¿åº¦\n\t\t\t\tlist<integer> tans = new linkedlist<>();\n\t\t\t\tfor (int i = 0; i < size; i++) {\n\t\t\t\t\ttreenode temp = queue.poll();\n\t\t\t\t\ttans.add(temp.val); // è·åå¤´èç¹çå¼ æ¾å¥å±é¨éåä¸­\n\t\t\t\t\tif (temp.left != null) {\n\t\t\t\t\t\tqueue.add(temp.left); // å·¦èç¹éç©º å å¥å°éåä¸­\n\t\t\t\t\t}\n\t\t\t\t\tif (temp.right != null) {\n\t\t\t\t\t\tqueue.add(temp.right); // å³èç¹éç©º å å¥éåä¸­\n\t\t\t\t\t}\n\n\t\t\t\t}\n\t\t\t\tans.add(0, tans); // å°ä¸æ¬¡éåç¼å­å¤´èç¹æ¸ç©ºåçèç¹å¼å å¥å°ç»æéåä¸­\n\t\t\t}\n\t\t\treturn ans;\n\n\t\t}\n\t}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n26\n27\n28\n29\n30\n31\n32\n33\n34\n35\n36\n37\n38\n39\n40\n41\n42\n43\n44\n45\n46\n47\n\n\n\n# 110. å¹³è¡¡äºåæ \n\nå¹³è¡¡äºåæ :ä¸ä¸ªäºåæ æ¯ä¸ªèç¹ çå·¦å³ä¸¤ä¸ªå­æ çé«åº¦å·®çç»å¯¹å¼ä¸è¶è¿ 1 ã\n\n\tpublic class treenode {\n\t\tint val;\n\t\ttreenode left;\n\t\ttreenode right;\n\n\t\ttreenode() {\n\t\t}\n\n\t\ttreenode(int val) {\n\t\t\tthis.val = val;\n\t\t}\n\n\t\ttreenode(int val, treenode left, treenode right) {\n\t\t\tthis.val = val;\n\t\t\tthis.left = left;\n\t\t\tthis.right = right;\n\t\t}\n\t}\n\n\tclass solution {\n\t\tpublic boolean isbalanced(treenode root) {\n\t\t\treturn process(root).isbalanced; //ç´æ¥è¿årootèç¹çä¿¡æ¯\n\t\t}\n\n\t\tpublic class info {\n\t\t\tpublic boolean isbalanced; // æ¯å¦ä¸ºå¹³è¡¡äºåæ \n\t\t\tpublic int height; // é«åº¦\n\n\t\t\tpublic info(boolean isbalanced, int height) {\n\t\t\t\tthis.isbalanced = isbalanced;\n\t\t\t\tthis.height = height;\n\t\t\t}\n\n\t\t}\n\n\t\tpublic info process(treenode root) {\n\t\t\tif (root == null) { // ç©ºèç¹\n\t\t\t\treturn new info(true, 0);\n\t\t\t}\n\t\t\tinfo leftinfo = process(root.left); // å·¦æ ä¿¡æ¯\n\t\t\tinfo rightinfo = process(root.right); // å³æ ä¿¡æ¯\n\n\t\t\tint height = math.max(leftinfo.height, rightinfo.height) + 1; // å½åèç¹é«åº¦ä¸º å·¦åå³æ æå¤§å¼ +1\n\t\t\tboolean isbalanced = leftinfo.isbalanced && rightinfo.isbalanced\n\t\t\t\t\t&& math.abs(leftinfo.height - rightinfo.height) <= 1; //å·¦æ åå³æ ä¸ºå¹³è¡¡äºåæ  å¹¶ä¸ å·¦å³æ é«åº¦å·®ä¸å¤§äº1\n\t\t\treturn new info(isbalanced, height);\n\t\t}\n\n\t}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n26\n27\n28\n29\n30\n31\n32\n33\n34\n35\n36\n37\n38\n39\n40\n41\n42\n43\n44\n45\n46\n47\n48\n49\n\n\n\n# 98. éªè¯äºåæç´¢æ \n\næç´¢äºåæ :å·¦æ çå¼æ¯æ ¹èç¹çå¼å°ï¼å³æ çå¼æ¯æ ¹èç¹çå¼å¤§\n\nä¸é¢æç´¢äºåæ ä¸­åºéåæ¯éå¢é¡ºåº\n\n\tpublic class treenode {\n\t\tint val;\n\t\ttreenode left;\n\t\ttreenode right;\n\n\t\ttreenode() {\n\t\t}\n\n\t\ttreenode(int val) {\n\t\t\tthis.val = val;\n\t\t}\n\n\t\ttreenode(int val, treenode left, treenode right) {\n\t\t\tthis.val = val;\n\t\t\tthis.left = left;\n\t\t\tthis.right = right;\n\t\t}\n\t}\n\n\tclass solution {\n\t\tpublic boolean isvalidbst(treenode root) {\n\t\t\treturn isbst(root).isbst;\n\t\t}\n\t\t\n\t\tpublic class info{\n\t\t\tboolean isbst;\n\t\t\tint max;\n\t\t\tint min;\n\t\t\tpublic info(boolean isbst, int max, int min) {\n\t\t\t\tthis.isbst = isbst;\n\t\t\t\tthis.max = max;\n\t\t\t\tthis.min = min;\n\t\t\t}\n\t\t\t\n\t\t}\n\t\t\n\t\tpublic info isbst(treenode root) {\n\t\t\tif(root == null) { //å¤´èç¹ä¸ºç©ºåè¿åç©º\n\t\t\t\treturn null;\n\t\t\t}\n\t\t\tinfo leftinfo = isbst(root.left); //éå½è¿å¥å·¦æ \n\t\t\tinfo rightinfo = isbst(root.right); //éå½è¿å¥å³æ \n\t\t\t\n\t\t\tint max = root.val; //åè®¾æå¤§å¼ä¸ºèªèº«\n\t\t\tint min = root.val;//åè®¾æå°å¼ä¸ºèªèº«\n\t\t\tif(leftinfo != null) { //å·¦æ éç©º\n\t\t\t\tmax = math.max(max, leftinfo.max); //æåå·¦æ ä¿¡æ¯\n\t\t\t\tmin = math.min(min, leftinfo.min);\n\t\t\t}\n\t\t\tif(rightinfo != null) {\n\t\t\t\tmax = math.max(max, rightinfo.max); //æåå³æ ä¿¡æ¯\n\t\t\t\tmin = math.min(min, rightinfo.min);\n\t\t\t}\n\t\t\t\n\t\t\tboolean bst = true; //ååè®¾ä¸ºæç´¢äºåæ \n\t\t\tif(leftinfo !=null && !leftinfo.isbst) { //å¦æå·¦æ ä¸æ»¡è¶³å å¤´èç¹æ è®°ä¸ºä¸æ¯äºåæ \n\t\t\t\tbst =false;\n\t\t\t}\n\t\t\tif(rightinfo !=null && !rightinfo.isbst) { //å¦æå³æ ä¸æ»¡è¶³å å¤´èç¹æ è®°ä¸ºä¸æ¯äºåæ \n\t\t\t\tbst =false;\n\t\t\t}\n\t\t\t\n\t\t\t\n\t\t\tboolean lefibst = leftinfo == null ? true : (leftinfo.max < root.val); //å¦æå·¦æ ä¿¡æ¯ä¸ºç©ºè¿åture  å¦åå·¦æ æå¤§å¼å¿é¡»å°äºå½åèç¹å¼\n\t\t\tboolean rightbst = rightinfo == null ? true : (rightinfo.min > root.val);//å¦æå³æ ä¿¡æ¯ä¸ºç©ºè¿åture  å¦åå³æ æå°å¼å¿é¡»å¤§äºå½åèç¹å¼\n\t\t\tif(!lefibst || !rightbst) { //ä¸æ»¡è¶³æç´¢äºåæ è§å\n\t\t\t\tbst = false;\n\t\t\t}\n\t\t\t\n\t\t\treturn new info(bst, max, min);\n\t\t}\n\t\t\n\t}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n26\n27\n28\n29\n30\n31\n32\n33\n34\n35\n36\n37\n38\n39\n40\n41\n42\n43\n44\n45\n46\n47\n48\n49\n50\n51\n52\n53\n54\n55\n56\n57\n58\n59\n60\n61\n62\n63\n64\n65\n66\n67\n68\n69\n70\n71\n72\n73\n\n\n\n# 112. è·¯å¾æ»å\n\npublic class treenode {\n\t\tint val;\n\t\ttreenode left;\n\t\ttreenode right;\n\n\t\ttreenode() {\n\t\t}\n\n\t\ttreenode(int val) {\n\t\t\tthis.val = val;\n\t\t}\n\n\t\ttreenode(int val, treenode left, treenode right) {\n\t\t\tthis.val = val;\n\t\t\tthis.left = left;\n\t\t\tthis.right = right;\n\t\t}\n\t}\n\n\tclass solution {\n\n\t\tpublic boolean issum = false;\n\n\t\tpublic boolean haspathsum(treenode root, int targetsum) {\n\t\t\tif(root ==null) { //æ ¹èç¹ä¸ºç©º ç´æ¥è¿åfalse\n\t\t\t\treturn false;\n\t\t\t}\n\t\t\ttree(root, 0, targetsum);\n\t\t\treturn issum;\n\n\t\t}\n\n\t\tpublic void tree(treenode root, int presum, int sum) {\n\t\t\tif (root.left == null && root.right == null) { //å½åå¤´èç¹å·¦å³å­èç¹é½ä¸ºç©º\n\t\t\t\tif (presum + root.val == sum) { //å½åå¤´èç¹å¼ä¸ä¸æ¬¡sum ä¸ºtargetåæ¾å°\n\t\t\t\t\tissum = true;\n\t\t\t\t}\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tpresum += root.val; //ç´¯å å½åsum\n\t\t\tif (root.left != null) { //å·¦èç¹æå¶èç¹ éå½è¿å»\n\t\t\t\ttree(root.left, presum, sum);\n\t\t\t}\n\t\t\tif (root.right != null) { //å³èç¹æå¶èç¹ éå½è¿å»\n\t\t\t\ttree(root.right, presum, sum);\n\t\t\t}\n\t\t}\n\t}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n26\n27\n28\n29\n30\n31\n32\n33\n34\n35\n36\n37\n38\n39\n40\n41\n42\n43\n44\n45\n46\n47\n48\n49\n\n\n\n# 113. è·¯å¾æ»å ii\n\n\tpublic class treenode {\n\t\tint val;\n\t\ttreenode left;\n\t\ttreenode right;\n\n\t\ttreenode() {\n\t\t}\n\n\t\ttreenode(int val) {\n\t\t\tthis.val = val;\n\t\t}\n\n\t\ttreenode(int val, treenode left, treenode right) {\n\t\t\tthis.val = val;\n\t\t\tthis.left = left;\n\t\t\tthis.right = right;\n\t\t}\n\t}\n\n\tclass solution {\n\t\tpublic list<list<integer>> pathsum(treenode root, int targetsum) {\n\t\t\tlist<list<integer>> ans = new arraylist<>();\n\t\t\tif (root == null) {\n\t\t\t\treturn ans;\n\t\t\t}\n\t\t\tarraylist<integer> path = new arraylist<>();\n\t\t\tprocess(root, path, 0, targetsum, ans);\n\t\t\treturn ans;\n\t\t}\n\n\t\tpublic void process(treenode root, arraylist<integer> path, int presum, int sum, list<list<integer>> ans) {\n\t\t\tif (root.left == null & root.right == null) {\n\t\t\t\tif (root.val + presum == sum) {\n\t\t\t\t\tpath.add(root.val); // æ·»å å½åèç¹è·¯å¾\n//\t\t\t\t\tlist<integer> newpath = copy(path); // æ·è´\n\t\t\t\t\tlist<integer> newpath = (list<integer>) path.clone(); // æ¬è´¨ä¸æ¯æµæ·è´ ä½éé¢å­å¨çæ¯å¼ æä»¥å¤å¶äºéé¢å¼ å¦éé¢å­å¨çæ¯å¼ç¨ä¸åºç¨æ·±æ·è´\n\t\t\t\t\t\n\t\t\t\t\tans.add(newpath); // æ·»å å°ç»æéåä¸­\n\t\t\t\t\tpath.remove(path.size() - 1); // å é¤å½åè·¯å¾\n\t\t\t\t}\n\t\t\t}\n\t\t\tpresum += root.val; // ç´¯å  æ éåæº¯ å ä¸ºæ¯å¼ä¼ é ä¸æ¯å¼ç¨ä¼ é\n\t\t\tpath.add(root.val); // è®°å½èç¹\n\t\t\tif (root.left != null) { // éå½\n\t\t\t\tprocess(root.left, path, presum, sum, ans);\n\t\t\t}\n\t\t\tif (root.right != null) { // éå½\n\t\t\t\tprocess(root.right, path, presum, sum, ans);\n\t\t\t}\n\t\t\tpath.remove(path.size() - 1); // æ¢å¤ç°åº\n\t\t}\n\t\t\n\t}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n26\n27\n28\n29\n30\n31\n32\n33\n34\n35\n36\n37\n38\n39\n40\n41\n42\n43\n44\n45\n46\n47\n48\n49\n50\n51\n52\n53\n',charsets:{cjk:!0},lastUpdated:"2022/03/18, 16:09:17",lastUpdatedTimestamp:1647590957e3},{title:"å½æ¡£",frontmatter:{archivesPage:!0,title:"å½æ¡£",permalink:"/archives/",article:!1},regularPath:"/@pages/archivesPage.html",relativePath:"@pages/archivesPage.md",key:"v-1c0c6895",path:"/archives/",headersStr:null,content:"",normalizedContent:"",charsets:{},lastUpdated:"2022/03/18, 07:01:11",lastUpdatedTimestamp:1647558071e3},{title:"éååæ ",frontmatter:{title:"éååæ ",date:"2022-03-18T16:03:55.000Z",permalink:"/pages/3bda9f/",categories:[408,"æ°æ®ç»æ"],tags:[null]},regularPath:"/408/01.%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84/14.%E9%98%9F%E5%88%97%E5%92%8C%E6%A0%88.html",relativePath:"408/01.æ°æ®ç»æ/14.éååæ .md",key:"v-320a16ea",path:"/pages/3bda9f/",headers:[{level:2,title:"æ°ç»å®ç°éå",slug:"æ°ç»å®ç°éå",normalizedTitle:"æ°ç»å®ç°éå",charIndex:11},{level:2,title:"æ å®ç°éå",slug:"æ å®ç°éå",normalizedTitle:"æ å®ç°éå",charIndex:920},{level:2,title:"éåå®ç°æ ",slug:"éåå®ç°æ ",normalizedTitle:"éåå®ç°æ ",charIndex:2179}],headersStr:"æ°ç»å®ç°éå æ å®ç°éå éåå®ç°æ ",content:'# éååæ \n\n\n# æ°ç»å®ç°éå\n\npublic class MyQueue {\n\tprivate int[] arr;\n\tprivate int pushi;\n\tprivate int polli;\n\tprivate int size;\n\tprivate final int limit;\n\n\tpublic MyQueue(int limit) {\n\t\tthis.limit = limit;\n\t\tpushi = 0;// å¤´æé\n\t\tpolli = 0;// å°¾æé\n\t\tsize = 0;\n\t\tarr = new int[limit];\n\t}\n\n\tpublic void push(int value) {\n\t\tif (size == limit) {\n\t\t\tthrow new RuntimeException("éåå·²æ»¡ æ æ³ç»§ç»­æ·»å ");\n\t\t}\n\t\tsize++;\n\t\tarr[pushi] = value;\n\t\tpushi = nextIndex(pushi);\n\t}\n\n\tpublic int pop(int value) {\n\t\tif (size == 0) {\n\t\t\tthrow new RuntimeException("éåä¸ºç©º");\n\t\t}\n\t\tsize--;\n\t\tint ans = arr[polli];\n\t\tpolli = nextIndex(polli);\n\t\treturn ans;\n\n\t}\n\n\tpublic boolean isEmpty() {\n\t\treturn size == 0;\n\t}\n\n\tprivate int nextIndex(int index) {\n\t\t// index = (index+1) % limit;\n\t\treturn index < limit - 1 ? index + 1 : 0;\n\t}\n\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n26\n27\n28\n29\n30\n31\n32\n33\n34\n35\n36\n37\n38\n39\n40\n41\n42\n43\n44\n45\n\n\n\n# æ å®ç°éå\n\n// ä½¿ç¨ä¸¤ä¸ªæ å®ç°\n\tpublic static class Myqueue {\n\t\tprivate Stack<Integer> StackPull;\n\t\tprivate Stack<Integer> StackPop;\n       \n\tpublic Myqueue() {\n\t\tStackPull = new Stack<Integer>();\n\t\tStackPop = new Stack<Integer>();\n\t}\n\n\tpublic void push(int value) {\n\t\tStackPull.push(value);\n\t\tpushToPop();\n\t}\n\n\tprivate void pushToPop() {\n\t\tif (StackPop.isEmpty()) {\n\t\t\twhile (!StackPull.isEmpty()) {\n\t\t\t\tStackPop.push(StackPull.pop()); // å°æ é¡¶ åå° popæ ä¸­\n\t\t\t}\n\t\t}\n\n\t}\n\n\tpublic int pop() {\n\t\tif (StackPull.isEmpty() && StackPop.isEmpty()) {\n\t\t\tthrow new RuntimeException("éåä¸­æ åç´ ");\n\t\t}\n\t\tpushToPop();\n\t\treturn StackPop.pop();\n\t}\n\n\tpublic int peek() {\n\t\tif (StackPull.isEmpty() && StackPop.isEmpty()) {\n\t\t\tthrow new RuntimeException("éåä¸­æ åç´ ");\n\t\t}\n\t\tpushToPop();\n\t\treturn StackPop.peek();\n\t}\n\n}\n\npublic static void main(String[] args) {\n\tMyqueue test = new Myqueue();\n\ttest.push(1);\n\ttest.push(2);\n\ttest.push(5);\n\tSystem.out.println(test.peek());\n\tSystem.out.println(test.pop());\n\tSystem.out.println(test.peek());\n\tSystem.out.println(test.pop());\n\tSystem.out.println(test.peek());\n\tSystem.out.println(test.pop());\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n26\n27\n28\n29\n30\n31\n32\n33\n34\n35\n36\n37\n38\n39\n40\n41\n42\n43\n44\n45\n46\n47\n48\n49\n50\n51\n52\n53\n54\n\n\n\n# éåå®ç°æ \n\n// ä¸¤ä¸ªéåå®ç°\n\tpublic static class TwoQueueStack<T> {\n\t\tpublic Queue<T> queue;\n\t\tpublic Queue<T> help;\n\n\t\tpublic TwoQueueStack() {\n\t\t\tqueue = new LinkedList<>();\n\t\t\thelp = new LinkedList<>();\n\t\t}\n\n\t\tpublic void push(T value) {\n\t\t\tqueue.offer(value); // å å¥å°éå°¾\n\t\t}\n\n\t\tpublic T pop() {\n\t\t\twhile (queue.size() > 1) {\n\t\t\t\thelp.offer(queue.poll()); // é¤äºéå°¾çåç´  å¨é¨è½¬ç§»å°å¦å¤ä¸ä¸ªéåä¸­\n\t\t\t}\n\t\t\tT ans = queue.poll(); // å½åéå°¾åç´ ä¸ºæ é¡¶\n\t\t\tQueue<T> tep = queue; // ç¼å­å½åç©ºéå\n\t\t\tqueue = help; // éæ°è½¬ç§»å°queueä¸­\n\t\t\thelp = tep;\n\t\t\treturn ans;\n\t\t}\n\n\t\tpublic T peek() {\n\t\t\twhile (queue.size() > 1) {\n\t\t\t\thelp.offer(queue.poll());\n\t\t\t}\n\t\t\tT ans = queue.poll();\n\t\t\thelp.offer(ans); // ç±äºæ¯æ¥çæ é¡¶ æä»¥è·åå°å¼å éæ°æ·»å å°å¦å¤éåä¸­\n\t\t\tQueue<T> tep = queue;\n\t\t\tqueue = help;\n\t\t\thelp = tep;\n\t\t\treturn ans;\n\t\t}\n\n\t\tpublic boolean isEmpty() {\n\t\t\treturn queue.isEmpty();\n\t\t}\n\n\t}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n26\n27\n28\n29\n30\n31\n32\n33\n34\n35\n36\n37\n38\n39\n40\n41\n42\n',normalizedContent:'# éååæ \n\n\n# æ°ç»å®ç°éå\n\npublic class myqueue {\n\tprivate int[] arr;\n\tprivate int pushi;\n\tprivate int polli;\n\tprivate int size;\n\tprivate final int limit;\n\n\tpublic myqueue(int limit) {\n\t\tthis.limit = limit;\n\t\tpushi = 0;// å¤´æé\n\t\tpolli = 0;// å°¾æé\n\t\tsize = 0;\n\t\tarr = new int[limit];\n\t}\n\n\tpublic void push(int value) {\n\t\tif (size == limit) {\n\t\t\tthrow new runtimeexception("éåå·²æ»¡ æ æ³ç»§ç»­æ·»å ");\n\t\t}\n\t\tsize++;\n\t\tarr[pushi] = value;\n\t\tpushi = nextindex(pushi);\n\t}\n\n\tpublic int pop(int value) {\n\t\tif (size == 0) {\n\t\t\tthrow new runtimeexception("éåä¸ºç©º");\n\t\t}\n\t\tsize--;\n\t\tint ans = arr[polli];\n\t\tpolli = nextindex(polli);\n\t\treturn ans;\n\n\t}\n\n\tpublic boolean isempty() {\n\t\treturn size == 0;\n\t}\n\n\tprivate int nextindex(int index) {\n\t\t// index = (index+1) % limit;\n\t\treturn index < limit - 1 ? index + 1 : 0;\n\t}\n\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n26\n27\n28\n29\n30\n31\n32\n33\n34\n35\n36\n37\n38\n39\n40\n41\n42\n43\n44\n45\n\n\n\n# æ å®ç°éå\n\n// ä½¿ç¨ä¸¤ä¸ªæ å®ç°\n\tpublic static class myqueue {\n\t\tprivate stack<integer> stackpull;\n\t\tprivate stack<integer> stackpop;\n       \n\tpublic myqueue() {\n\t\tstackpull = new stack<integer>();\n\t\tstackpop = new stack<integer>();\n\t}\n\n\tpublic void push(int value) {\n\t\tstackpull.push(value);\n\t\tpushtopop();\n\t}\n\n\tprivate void pushtopop() {\n\t\tif (stackpop.isempty()) {\n\t\t\twhile (!stackpull.isempty()) {\n\t\t\t\tstackpop.push(stackpull.pop()); // å°æ é¡¶ åå° popæ ä¸­\n\t\t\t}\n\t\t}\n\n\t}\n\n\tpublic int pop() {\n\t\tif (stackpull.isempty() && stackpop.isempty()) {\n\t\t\tthrow new runtimeexception("éåä¸­æ åç´ ");\n\t\t}\n\t\tpushtopop();\n\t\treturn stackpop.pop();\n\t}\n\n\tpublic int peek() {\n\t\tif (stackpull.isempty() && stackpop.isempty()) {\n\t\t\tthrow new runtimeexception("éåä¸­æ åç´ ");\n\t\t}\n\t\tpushtopop();\n\t\treturn stackpop.peek();\n\t}\n\n}\n\npublic static void main(string[] args) {\n\tmyqueue test = new myqueue();\n\ttest.push(1);\n\ttest.push(2);\n\ttest.push(5);\n\tsystem.out.println(test.peek());\n\tsystem.out.println(test.pop());\n\tsystem.out.println(test.peek());\n\tsystem.out.println(test.pop());\n\tsystem.out.println(test.peek());\n\tsystem.out.println(test.pop());\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n26\n27\n28\n29\n30\n31\n32\n33\n34\n35\n36\n37\n38\n39\n40\n41\n42\n43\n44\n45\n46\n47\n48\n49\n50\n51\n52\n53\n54\n\n\n\n# éåå®ç°æ \n\n// ä¸¤ä¸ªéåå®ç°\n\tpublic static class twoqueuestack<t> {\n\t\tpublic queue<t> queue;\n\t\tpublic queue<t> help;\n\n\t\tpublic twoqueuestack() {\n\t\t\tqueue = new linkedlist<>();\n\t\t\thelp = new linkedlist<>();\n\t\t}\n\n\t\tpublic void push(t value) {\n\t\t\tqueue.offer(value); // å å¥å°éå°¾\n\t\t}\n\n\t\tpublic t pop() {\n\t\t\twhile (queue.size() > 1) {\n\t\t\t\thelp.offer(queue.poll()); // é¤äºéå°¾çåç´  å¨é¨è½¬ç§»å°å¦å¤ä¸ä¸ªéåä¸­\n\t\t\t}\n\t\t\tt ans = queue.poll(); // å½åéå°¾åç´ ä¸ºæ é¡¶\n\t\t\tqueue<t> tep = queue; // ç¼å­å½åç©ºéå\n\t\t\tqueue = help; // éæ°è½¬ç§»å°queueä¸­\n\t\t\thelp = tep;\n\t\t\treturn ans;\n\t\t}\n\n\t\tpublic t peek() {\n\t\t\twhile (queue.size() > 1) {\n\t\t\t\thelp.offer(queue.poll());\n\t\t\t}\n\t\t\tt ans = queue.poll();\n\t\t\thelp.offer(ans); // ç±äºæ¯æ¥çæ é¡¶ æä»¥è·åå°å¼å éæ°æ·»å å°å¦å¤éåä¸­\n\t\t\tqueue<t> tep = queue;\n\t\t\tqueue = help;\n\t\t\thelp = tep;\n\t\t\treturn ans;\n\t\t}\n\n\t\tpublic boolean isempty() {\n\t\t\treturn queue.isempty();\n\t\t}\n\n\t}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n26\n27\n28\n29\n30\n31\n32\n33\n34\n35\n36\n37\n38\n39\n40\n41\n42\n',charsets:{cjk:!0},lastUpdated:"2022/03/18, 16:09:17",lastUpdatedTimestamp:1647590957e3},{title:"åç±»",frontmatter:{categoriesPage:!0,title:"åç±»",permalink:"/categories/",article:!1},regularPath:"/@pages/categoriesPage.html",relativePath:"@pages/categoriesPage.md",key:"v-644b5bf5",path:"/categories/",headersStr:null,content:"",normalizedContent:"",charsets:{},lastUpdated:"2022/03/18, 07:01:11",lastUpdatedTimestamp:1647558071e3},{title:"æ ç­¾",frontmatter:{tagsPage:!0,title:"æ ç­¾",permalink:"/tags/",article:!1},regularPath:"/@pages/tagsPage.html",relativePath:"@pages/tagsPage.md",key:"v-6e67de15",path:"/tags/",headersStr:null,content:"",normalizedContent:"",charsets:{},lastUpdated:"2022/03/18, 07:01:11",lastUpdatedTimestamp:1647558071e3},{title:"å (ä¼åçº§éå)",frontmatter:{title:"å (ä¼åçº§éå)",date:"2022-03-18T16:03:56.000Z",permalink:"/pages/88e08c/",categories:[408,"æ°æ®ç»æ"],tags:[null]},regularPath:"/408/01.%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84/16.%E5%A0%86(%E4%BC%98%E5%85%88%E7%BA%A7%E9%98%9F%E5%88%97).html",relativePath:"408/01.æ°æ®ç»æ/16.å (ä¼åçº§éå).md",key:"v-055ee976",path:"/pages/88e08c/",headers:[{level:2,title:"ä¼åçº§éå(PriorityQueue)ä¸æ¯è¾å¨",slug:"ä¼åçº§éå-priorityqueue-ä¸æ¯è¾å¨",normalizedTitle:"ä¼åçº§éå(priorityqueue)ä¸æ¯è¾å¨",charIndex:199},{level:2,title:"æ°ç»å®ç°å ",slug:"æ°ç»å®ç°å ",normalizedTitle:"æ°ç»å®ç°å ",charIndex:1350},{level:2,title:"å æåº",slug:"å æåº",normalizedTitle:"å æåº",charIndex:1360},{level:2,title:"23. åå¹¶Kä¸ªååºé¾è¡¨",slug:"_23-åå¹¶kä¸ªååºé¾è¡¨",normalizedTitle:"23. åå¹¶kä¸ªååºé¾è¡¨",charIndex:1368}],headersStr:"ä¼åçº§éå(PriorityQueue)ä¸æ¯è¾å¨ æ°ç»å®ç°å  å æåº 23. åå¹¶Kä¸ªååºé¾è¡¨",content:'# å (ä¼åçº§éå)\n\nå (Heap)æ¯è®¡ç®æºç§å­¦ä¸­ä¸ç±»ç¹æ®çæ°æ®ç»æçç»ç§°ãå éå¸¸æ¯ä¸ä¸ªå¯ä»¥è¢«çåä¸æ£µå®å¨äºåæ çæ°ç»å¯¹è±¡ã\n\nå®å¨äºåæ ï¼å¶å­ç»ç¹åªè½åºç°å¨æä¸å±åæ¬¡ä¸å±ï¼ä¸æä¸å±çå¶å­ç»ç¹éä¸­å¨æ çå·¦é¨ãéè¦æ³¨æçæ¯ï¼æ»¡äºåæ è¯å®æ¯å®å¨äºåæ ï¼èå®å¨äºåæ ä¸ä¸å®æ¯æ»¡äºåæ ã\n\næ¯ä¸æ£µå­æ çæ ¹ç»ç¹æå¤§çå (å³æ ¹èç¹å¤§äºç­äºå­èç¹)å«åæå¤§å æå¤§æ ¹å ï¼æ ¹ç»ç¹æå°çå å«åæå°å æå°æ ¹å \n\n\n# ä¼åçº§éå(PriorityQueue)ä¸æ¯è¾å¨\n\n\n\tpublic static class MyComparator implements Comparator<Integer> {\n\n\t\t// è´æ°,ç¬¬ä¸ä¸ªåæ°å¨å\n\t\t// æ­£æ°,ç¬¬äºä¸ªåæ°å¨å\n\t\t// 0,ä¸ä½äº¤æ¢\n\t\t@Override\n\t\tpublic int compare(Integer o1, Integer o2) {\n\t\t\tif (o1 > o2) {\n\t\t\t\treturn -1;\n\t\t\t} else if (o2 > o1) {\n\t\t\t\treturn 1;\n\t\t\t} else {\n\t\t\t\treturn 0;\n\t\t\t}\n\t\t}\n\n\t}\n\n\tpublic static void main(String[] args) {\n\t\tPriorityQueue<Integer> heap = new PriorityQueue<>(); // é»è®¤å°æ ¹å çä¼åéå\n\t\theap.add(5);\n\t\theap.add(3);\n\t\theap.add(8);\n\t\theap.add(1);\n\t\tSystem.out.println(heap.peek()); // æ¥çéå¤´\n\t\tfor (Integer integer : heap) {\n\t\t\tSystem.out.print(integer + " ");\n\t\t}\n\t\tSystem.out.println();\n\n//\t\tPriorityQueue<Integer> heap2 = new PriorityQueue<>(new MyComparator()); // å¤§æ ¹å çä¼åéå æé æ¶ä¼ å¥æ¯è¾å¨\n\t\tPriorityQueue<Integer> heap2 = new PriorityQueue<>((o1,o2)-> o2-o1); // å¤§æ ¹å çä¼åéå æé æ¶ä¼ å¥æ¯è¾å¨\n\t\theap2.add(5);\n\t\theap2.add(3);\n\t\theap2.add(8);\n\t\theap2.add(1);\n\t\tSystem.out.println(heap2.peek()); // æ¥çéå¤´\n\t\tfor (Integer integer : heap2) {\n\t\t\tSystem.out.print(integer + " ");\n\t\t}\n\t\tSystem.out.println();\n\n\t}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n26\n27\n28\n29\n30\n31\n32\n33\n34\n35\n36\n37\n38\n39\n40\n41\n42\n43\n44\n\n\n\n# æ°ç»å®ç°å \n\n\n# å æåº\n\n\n# 23. åå¹¶Kä¸ªååºé¾è¡¨\n\npublic class ListNode {\n\t\tint val;\n\t\tListNode next;\n\n\t\tListNode() {\n\t\t}\n\n\t\tListNode(int val) {\n\t\t\tthis.val = val;\n\t\t}\n\n\t\tListNode(int val, ListNode next) {\n\t\t\tthis.val = val;\n\t\t\tthis.next = next;\n\t\t}\n\t}\n\n\tpublic ListNode mergeKLists(ListNode[] lists) {\n\t\tPriorityQueue<ListNode> heap = new PriorityQueue<ListNode>((o1, o2) -> o1.val - o2.val); //èªå®ä¹æ¯è¾å¨çæå°å \n\t\tfor (ListNode listNode : lists) { //éåé¾è¡¨æ°ç»\n\t\t\tif (listNode != null) { \n\t\t\t\theap.add(listNode); //éç©ºåpushå°æå°å \n\t\t\t}\n\t\t}\n\t\tif (heap.isEmpty()) { //å ä¸­æ²¡æ\n\t\t\treturn null;\n\t\t}\n\t\tListNode head = heap.poll(); // å¼¹åºæå°å å¤´\n\t\tListNode pre = head;\n\t\tif (pre.next != null) {\n\t\t\theap.add(pre.next); // å¦æpreä¸ä¸è·³ ä¸ä¸ºç©º ç´æ¥pushå°æå°å ä¸­\n\t\t}\n\t\twhile (!heap.isEmpty()) { //æå°å ä¸ä¸ºç©º\n\t\t\tListNode cur = heap.poll(); //å¼¹åºæ é¡¶ å³æå°å¼\n\t\t\tpre.next = cur; //ä¸ä¸è·³ è¿æ¥\n\t\t\tpre = cur; //æ´æ°å½åèç¹\n\t\t\tif (cur.next != null) { //å½åèç¹ ä¸ä¸è·³ä¸ä¸ºç©ºåæ·»å å°æå°å ä¸­\n\t\t\t\theap.add(cur.next);\n\t\t\t}\n\t\t}\n\t\treturn head;\n\n\t}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n26\n27\n28\n29\n30\n31\n32\n33\n34\n35\n36\n37\n38\n39\n40\n41\n42\n43\n',normalizedContent:'# å (ä¼åçº§éå)\n\nå (heap)æ¯è®¡ç®æºç§å­¦ä¸­ä¸ç±»ç¹æ®çæ°æ®ç»æçç»ç§°ãå éå¸¸æ¯ä¸ä¸ªå¯ä»¥è¢«çåä¸æ£µå®å¨äºåæ çæ°ç»å¯¹è±¡ã\n\nå®å¨äºåæ ï¼å¶å­ç»ç¹åªè½åºç°å¨æä¸å±åæ¬¡ä¸å±ï¼ä¸æä¸å±çå¶å­ç»ç¹éä¸­å¨æ çå·¦é¨ãéè¦æ³¨æçæ¯ï¼æ»¡äºåæ è¯å®æ¯å®å¨äºåæ ï¼èå®å¨äºåæ ä¸ä¸å®æ¯æ»¡äºåæ ã\n\næ¯ä¸æ£µå­æ çæ ¹ç»ç¹æå¤§çå (å³æ ¹èç¹å¤§äºç­äºå­èç¹)å«åæå¤§å æå¤§æ ¹å ï¼æ ¹ç»ç¹æå°çå å«åæå°å æå°æ ¹å \n\n\n# ä¼åçº§éå(priorityqueue)ä¸æ¯è¾å¨\n\n\n\tpublic static class mycomparator implements comparator<integer> {\n\n\t\t// è´æ°,ç¬¬ä¸ä¸ªåæ°å¨å\n\t\t// æ­£æ°,ç¬¬äºä¸ªåæ°å¨å\n\t\t// 0,ä¸ä½äº¤æ¢\n\t\t@override\n\t\tpublic int compare(integer o1, integer o2) {\n\t\t\tif (o1 > o2) {\n\t\t\t\treturn -1;\n\t\t\t} else if (o2 > o1) {\n\t\t\t\treturn 1;\n\t\t\t} else {\n\t\t\t\treturn 0;\n\t\t\t}\n\t\t}\n\n\t}\n\n\tpublic static void main(string[] args) {\n\t\tpriorityqueue<integer> heap = new priorityqueue<>(); // é»è®¤å°æ ¹å çä¼åéå\n\t\theap.add(5);\n\t\theap.add(3);\n\t\theap.add(8);\n\t\theap.add(1);\n\t\tsystem.out.println(heap.peek()); // æ¥çéå¤´\n\t\tfor (integer integer : heap) {\n\t\t\tsystem.out.print(integer + " ");\n\t\t}\n\t\tsystem.out.println();\n\n//\t\tpriorityqueue<integer> heap2 = new priorityqueue<>(new mycomparator()); // å¤§æ ¹å çä¼åéå æé æ¶ä¼ å¥æ¯è¾å¨\n\t\tpriorityqueue<integer> heap2 = new priorityqueue<>((o1,o2)-> o2-o1); // å¤§æ ¹å çä¼åéå æé æ¶ä¼ å¥æ¯è¾å¨\n\t\theap2.add(5);\n\t\theap2.add(3);\n\t\theap2.add(8);\n\t\theap2.add(1);\n\t\tsystem.out.println(heap2.peek()); // æ¥çéå¤´\n\t\tfor (integer integer : heap2) {\n\t\t\tsystem.out.print(integer + " ");\n\t\t}\n\t\tsystem.out.println();\n\n\t}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n26\n27\n28\n29\n30\n31\n32\n33\n34\n35\n36\n37\n38\n39\n40\n41\n42\n43\n44\n\n\n\n# æ°ç»å®ç°å \n\n\n# å æåº\n\n\n# 23. åå¹¶kä¸ªååºé¾è¡¨\n\npublic class listnode {\n\t\tint val;\n\t\tlistnode next;\n\n\t\tlistnode() {\n\t\t}\n\n\t\tlistnode(int val) {\n\t\t\tthis.val = val;\n\t\t}\n\n\t\tlistnode(int val, listnode next) {\n\t\t\tthis.val = val;\n\t\t\tthis.next = next;\n\t\t}\n\t}\n\n\tpublic listnode mergeklists(listnode[] lists) {\n\t\tpriorityqueue<listnode> heap = new priorityqueue<listnode>((o1, o2) -> o1.val - o2.val); //èªå®ä¹æ¯è¾å¨çæå°å \n\t\tfor (listnode listnode : lists) { //éåé¾è¡¨æ°ç»\n\t\t\tif (listnode != null) { \n\t\t\t\theap.add(listnode); //éç©ºåpushå°æå°å \n\t\t\t}\n\t\t}\n\t\tif (heap.isempty()) { //å ä¸­æ²¡æ\n\t\t\treturn null;\n\t\t}\n\t\tlistnode head = heap.poll(); // å¼¹åºæå°å å¤´\n\t\tlistnode pre = head;\n\t\tif (pre.next != null) {\n\t\t\theap.add(pre.next); // å¦æpreä¸ä¸è·³ ä¸ä¸ºç©º ç´æ¥pushå°æå°å ä¸­\n\t\t}\n\t\twhile (!heap.isempty()) { //æå°å ä¸ä¸ºç©º\n\t\t\tlistnode cur = heap.poll(); //å¼¹åºæ é¡¶ å³æå°å¼\n\t\t\tpre.next = cur; //ä¸ä¸è·³ è¿æ¥\n\t\t\tpre = cur; //æ´æ°å½åèç¹\n\t\t\tif (cur.next != null) { //å½åèç¹ ä¸ä¸è·³ä¸ä¸ºç©ºåæ·»å å°æå°å ä¸­\n\t\t\t\theap.add(cur.next);\n\t\t\t}\n\t\t}\n\t\treturn head;\n\n\t}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n26\n27\n28\n29\n30\n31\n32\n33\n34\n35\n36\n37\n38\n39\n40\n41\n42\n43\n',charsets:{cjk:!0},lastUpdated:"2022/03/18, 16:09:17",lastUpdatedTimestamp:1647590957e3},{title:"éå½",frontmatter:{title:"éå½",date:"2022-03-18T16:03:56.000Z",permalink:"/pages/fe2eaf/",categories:[408,"æ°æ®ç»æ"],tags:[null]},regularPath:"/408/01.%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84/15.%E9%80%92%E5%BD%92.html",relativePath:"408/01.æ°æ®ç»æ/15.éå½.md",key:"v-6ddb2230",path:"/pages/fe2eaf/",headers:[{level:2,title:"Masterå¬å¼",slug:"masterå¬å¼",normalizedTitle:"masterå¬å¼",charIndex:9}],headersStr:"Masterå¬å¼",content:"# éå½\n\n\n# Masterå¬å¼\n\néç¨èå´ä¸ºå­è¿ç¨è§æ¨¡ç¸ç­çæåµï¼å¦åä¸éç¨ã\n\nT(N) = a*T(N/b) + O(N^d)\n\n 1. log(b,a) > d ->å¤æåº¦ä¸ºOï¼N^log(b,a)ï¼\n 2. log(b,a) < d ->å¤æåº¦ä¸ºOï¼N^dï¼\n 3. log(b,a) = d ->å¤æåº¦ä¸ºOï¼N^d*logNï¼",normalizedContent:"# éå½\n\n\n# masterå¬å¼\n\néç¨èå´ä¸ºå­è¿ç¨è§æ¨¡ç¸ç­çæåµï¼å¦åä¸éç¨ã\n\nt(n) = a*t(n/b) + o(n^d)\n\n 1. log(b,a) > d ->å¤æåº¦ä¸ºoï¼n^log(b,a)ï¼\n 2. log(b,a) < d ->å¤æåº¦ä¸ºoï¼n^dï¼\n 3. log(b,a) = d ->å¤æåº¦ä¸ºoï¼n^d*lognï¼",charsets:{cjk:!0},lastUpdated:"2022/03/18, 16:09:17",lastUpdatedTimestamp:1647590957e3},{title:"Home",frontmatter:{home:!0,heroText:"Chiriri's blog",tagline:"Iekrä¸ªäººææ¯åå®¢ï¼å·ä½¿å²å·ã",pageClass:"vdoing-index-class"},regularPath:"/",relativePath:"index.md",key:"v-d520fc7e",path:"/",headersStr:null,content:"",normalizedContent:"",charsets:{},lastUpdated:"2022/03/18, 15:32:54",lastUpdatedTimestamp:1647588774e3},{title:"æåäºä¸ä¸ªæåæ¥èå°ç½é¡µï¼ç¥å¤§å®¶èå¹´æ´å¯",frontmatter:{title:"æåäºä¸ä¸ªæåæ¥èå°ç½é¡µï¼ç¥å¤§å®¶èå¹´æ´å¯",date:"2022-01-28T14:59:51.000Z",permalink:"/pages/829589/",titleTag:"åå",sidebar:"auto",categories:["éç¬"],tags:[null]},regularPath:"/_posts/%E9%9A%8F%E7%AC%94/%E6%88%91%E5%81%9A%E4%BA%86%E4%B8%80%E4%B8%AA%E6%89%8B%E5%86%99%E6%98%A5%E8%81%94%E5%B0%8F%E7%BD%91%E9%A1%B5%EF%BC%8C%E7%A5%9D%E5%A4%A7%E5%AE%B6%E8%99%8E%E5%B9%B4%E6%9A%B4%E5%AF%8C.html",relativePath:"_posts/éç¬/æåäºä¸ä¸ªæåæ¥èå°ç½é¡µï¼ç¥å¤§å®¶èå¹´æ´å¯.md",key:"v-0c3da0ac",path:"/pages/829589/",headers:[{level:3,title:"åè¨",slug:"åè¨",normalizedTitle:"åè¨",charIndex:33},{level:3,title:"äº§åææ",slug:"äº§åææ",normalizedTitle:"äº§åææ",charIndex:195},{level:3,title:"è®¾è®¡",slug:"è®¾è®¡",normalizedTitle:"è®¾è®¡",charIndex:478},{level:3,title:"å¼å",slug:"å¼å",normalizedTitle:"å¼å",charIndex:487}],excerpt:'<p>æåæ¥èï¼<a href="https://cl.xugaoyi.com/" target="_blank" rel="noopener noreferrer">https://cl.xugaoyi.com/<OutboundLink/></a></p>\n<h3 id="åè¨"><a class="header-anchor" href="#åè¨">#</a> åè¨</h3>\n<p>èå¹´æ¥èå¿«å°äºï¼é¦åç¥å¤§å®¶æ°å¹´å¿«ä¹ï¼è½»æ¾æ´å¯ã\næè¿å¨ç½ä¸ç»å¸¸çå°çææ¥èçæç« ï¼ä¸è¿è¿äºå°demoè¦ä¹åè½ç®é,è¦ä¹UIç¹å«âç¨åºåâï¼æ»¡è¶³ä¸äºææåçç¼åãå¹²èæèªå·±åä¸ä¸ªå§ï¼é¡ºä¾¿ç®åä½éªä¸ä¸vite+vue3ãï¼å ä¸ºé¡µé¢ç¸å¯¹ç®åï¼vueç»ä»¶é£æ ¼è¿æ¯ä½¿ç¨éé¡¹å¼apiï¼éç¹è¿æ¯æ³æäº§åå¿«éååºæ¥ãï¼</p>\n',headersStr:"åè¨ äº§åææ è®¾è®¡ å¼å",content:'æåæ¥èï¼https://cl.xugaoyi.com/\n\n\n# åè¨\n\nèå¹´æ¥èå¿«å°äºï¼é¦åç¥å¤§å®¶æ°å¹´å¿«ä¹ï¼è½»æ¾æ´å¯ã æè¿å¨ç½ä¸ç»å¸¸çå°çææ¥èçæç« ï¼ä¸è¿è¿äºå°demoè¦ä¹åè½ç®é,è¦ä¹UIç¹å«âç¨åºåâï¼æ»¡è¶³ä¸äºææåçç¼åãå¹²èæèªå·±åä¸ä¸ªå§ï¼é¡ºä¾¿ç®åä½éªä¸ä¸vite+vue3ãï¼å ä¸ºé¡µé¢ç¸å¯¹ç®åï¼vueç»ä»¶é£æ ¼è¿æ¯ä½¿ç¨éé¡¹å¼apiï¼éç¹è¿æ¯æ³æäº§åå¿«éååºæ¥ãï¼\n\n\n\n\n# äº§åææ\n\nåå«æåæ¥èåçææ¥èä¸¤å¤§åè½ï¼\n\n * æåæ¥è\n   \n   * æ¨¡æç¨ç¬åå­çå­è¿¹\n   * éæ©ç»ç¬é¢è²\n   * è°æ´ç»ç¬å¤§å°\n   * æ¸ç©ºç»å¸\n   * æ¤åç¬ç»\n   * åæ¢ä¸ãä¸èãæ¨ªæ¹ãç¦å­\n   * éæºåæ¢å¯¹èæç¤º\n   * é¢è§å¾çåä¸è½½\n   * è´´æ¥èæµ·æ¥åä¸è½½\n\n * çææ¨¡å¼\n   \n   * éæ©ç»ç¬é¢è²\n   * æéçæçå¯¹è\n   * è¾å¥å¯¹è\n   * éæºåæ¢å¯¹è\n   * è´´æ¥èæµ·æ¥åä¸è½½\n\n * å¶ä»\n   \n   * å¿«éåæ¢æ¨¡å¼æé®\n   * å¯æ§å¶çèæ¯é³ä¹\n   * å¾®ä¿¡åäº«ç½é¡µ\n\n\n# è®¾è®¡\n\n\n\n\n# å¼å\n\n * ææ¯æ \n   * vite (æå&æå»º)\n   * vue3 (é¡µé¢å¼å)\n   * vantï¼uiï¼\n   * sass (css)\n   * smooth-signature.js (å¸¦ç¬éæååº)\n\n<template>\n  <div class="wrap" :class="\'mode-\' + mode" @touchstart="handleTouchstart">\n    \x3c!-- åæ¢æ¨¡å¼æé® --\x3e\n    <div class="toggle-mode-btn" @click="toggleMode">\n      {{ mode === 1 ? \'æå\' : \'çæ\' }}\n      <i class="iconfont icon-qiehuan"></i>\n    </div>\n\n    \x3c!-- å·¥å·æ  --\x3e\n    <div\n      class="actions"\n      :style="{ borderTopRightRadius: colorListVisibility ? \'0\' : \'5px\' }"\n    >\n      \x3c!-- æåæ¨¡å¼æ¾ç¤º --\x3e\n      <template v-if="mode === 1">\n        \x3c!-- è°è²æ¿ --\x3e\n        <div class="palette btn-block">\n          <div\n            class="cur-color"\n            @click="togglePalette"\n            :style="{ background: colorList[curColorIndex] }"\n          ></div>\n          <ul class="colorList" v-show="colorListVisibility">\n            <li\n              v-for="(item, index) in colorList"\n              :key="item"\n              :style="{ background: item }"\n              @click="selectColor(index)"\n            ></li>\n          </ul>\n        </div>\n\n        \x3c!-- æ»å --\x3e\n        <div class="slider-box btn-block">\n          <van-slider\n            v-model="progress"\n            vertical\n            @change="changeProgress"\n            bar-height="28"\n            active-color="transparent"\n            :min="50"\n            :max="150"\n          >\n            <template #button>\n              <div class="custom-button"></div>\n            </template>\n          </van-slider>\n        </div>\n\n        \x3c!-- æ¸ç©º --\x3e\n        <div class="btn" @click="handleClear">\n          <i class="iconfont icon-lajitong"></i>\n        </div>\n\n        \x3c!-- æ¤é --\x3e\n        <div class="btn" @click="handleUndo">\n          <i class="iconfont icon-fanhui"></i>\n        </div>\n\n        <div class="line"></div>\n\n        \x3c!-- åæ¢ç»å¸çæé® --\x3e\n        <div\n          class="btn"\n          :class="{ \'cur-active\': curCanvasIndex === index }"\n          v-for="(item, index) in canvasList"\n          :key="item.name"\n          @click="changeCanvas(index)"\n        >\n          {{ item.name }}\n        </div>\n\n        <div class="line"></div>\n\n        <div class="btn prominent" @click="handlePreview">é¢è§</div>\n        <div class="btn prominent" @click="openPosters">è´´è</div>\n      </template>\n\n      \x3c!-- çææ¨¡å¼æ¾ç¤º --\x3e\n      <template v-else>\n        \x3c!-- éé¢è² --\x3e\n        <div\n          class="color-list-quick"\n          :class="{ active: curColorIndex === index }"\n          v-for="(item, index) in colorList"\n          :key="item"\n          :style="{ background: item }"\n          @click="selectColor(index)"\n        ></div>\n        <div class="line"></div>\n        <div class="btn" @click="showPickBox = true">æé</div>\n        <div class="btn" @click="showInputBox = true">è¾å¥</div>\n\n        \x3c!-- æéå¯¹èå¼¹çª --\x3e\n        <van-action-sheet v-model:show="showPickBox" title="è¯·æéå¯¹è">\n          <ul class="duilian-list">\n            <li\n              v-for="(item, index) in duilianList"\n              :key="index"\n              @click="handlePickDuilian(item)"\n            >\n              <span>{{ item.shang }}</span\n              >ï¼ <span>{{ item.xia }}</span\n              >ã\n              <span>{{ item.heng }}</span>\n            </li>\n          </ul>\n        </van-action-sheet>\n\n        \x3c!-- è¾å¥å¯¹èå¼¹çª --\x3e\n        <van-action-sheet v-model:show="showInputBox" title="è¯·è¾å¥å¯¹è">\n          <van-form @submit="handleSubmitInput">\n            <van-cell-group inset>\n              <van-field\n                v-model="shanglian"\n                name="shang"\n                label="ä¸è"\n                placeholder="ä¸è"\n                :rules="[\n                  {\n                    required: true,\n                    message: \'è¯·è¾å¥7ä½æ±å­ä¸è\',\n                    pattern: /^[\\u4e00-\\u9fa5]{7}$/\n                  }\n                ]"\n                clearable\n              />\n              <van-field\n                v-model="xialian"\n                name="xia"\n                label="ä¸è"\n                placeholder="ä¸è"\n                :rules="[\n                  {\n                    required: true,\n                    message: \'è¯·è¾å¥7ä½æ±å­ä¸è\',\n                    pattern: /^[\\u4e00-\\u9fa5]{7}$/\n                  }\n                ]"\n                clearable\n              />\n              <van-field\n                v-model="hengpi"\n                name="heng"\n                label="æ¨ªæ¹"\n                placeholder="æ¨ªæ¹"\n                :rules="[\n                  {\n                    required: true,\n                    message: \'è¯·è¾å¥4ä½æ±å­æ¨ªæ¹\',\n                    pattern: /^[\\u4e00-\\u9fa5]{4}$/\n                  }\n                ]"\n                clearable\n              />\n            </van-cell-group>\n            <div style="margin: 16px">\n              <van-button\n                round\n                block\n                type="primary"\n                native-type="submit"\n                color="linear-gradient(to right, #ff6034, #c33825)"\n              >\n                å®æ\n              </van-button>\n            </div>\n          </van-form>\n        </van-action-sheet>\n      </template>\n    </div>\n\n    \x3c!-- æ¨¡å¼1-æ¥èç»å¸ --\x3e\n    <div\n      v-show="mode === 1"\n      v-for="(item, index) in canvasList"\n      :key="item.name"\n    >\n      <canvas\n        class="canvas"\n        :class="item.className"\n        v-show="curCanvasIndex === index"\n        :style="{\n          marginTop:\n            item.height < clientHeight\n              ? `${(clientHeight - item.height) / 2}px`\n              : 0,\n          marginLeft:\n            item.width < clientWidth ? `${(clientWidth - item.width) / 2}px` : 0\n        }"\n      />\n    </div>\n\n    \x3c!-- æ¨¡å¼2-æ¥èç»å¸ --\x3e\n    <div v-show="mode === 2" class="canvas-mode-2">\n      <div class="row">\n        <canvas id="canvas-top" :width="200 * scale" :height="60 * scale" />\n      </div>\n      <div class="row">\n        <canvas id="canvas-left" :width="60 * scale" :height="364 * scale" />\n        <canvas id="canvas-right" :width="60 * scale" :height="364 * scale" />\n      </div>\n    </div>\n\n    \x3c!-- è´´æ¥èæé® --\x3e\n    <Button class="btn-posters" @click="openPosters" />\n\n    \x3c!-- footer-å½åå¯¹èæç¤º --\x3e\n    <footer v-if="duilian.shang">\n      <div class="refresh-btn" @click="handleRefresh(true)">\n        <i class="iconfont icon-shuaxin" :class="{ rotate: isRotate }"></i>\n      </div>\n      <dl class="duilian">\n        <dt>å¯¹è</dt>\n        <dd>\n          <div>{{ duilian.shang }}</div>\n          <div>{{ duilian.xia }}</div>\n        </dd>\n      </dl>\n      <dl>\n        <dt>æ¨ªæ¹</dt>\n        <dd>{{ duilian.heng }}</dd>\n      </dl>\n    </footer>\n\n    \x3c!-- åäº«æé® --\x3e\n    <div class="share-btn" v-if="isShowShareBtn" @click="isShowShareTip = true">\n      <i class="iconfont icon-fenxiang"></i>\n    </div>\n    \x3c!-- å¾®ä¿¡åäº«æç¤ºè¯­ --\x3e\n    <div\n      class="share-tip"\n      v-if="isShowShareTip"\n      @click="isShowShareTip = false"\n    >\n      ç¹å»å³ä¸è§æè¿ä¸ªå·¥å·åäº«ç»æå\n      <div class="hand">ð</div>\n    </div>\n\n    \x3c!-- ä¿å­tip --\x3e\n    <p v-if="isShowTip" class="download-tip">*é¿æå¾çä¿å­æè½¬å</p>\n\n    \x3c!-- çæ --\x3e\n    <div class="copyright">å¬ä¼å·ãæè¶£ç ç©¶ç¤¾ã Â©çæææ</div>\n\n    \x3c!-- è½½å¥å¾çåç´ ï¼ç¨äºå¿«éè´´å¾ä½¿ç¨, æ³¨æè®¾ç½®crossorigin="anonymous"è§£å³è·¨å --\x3e\n    <div v-if="isReadImages">\n      <img\n        crossorigin="anonymous"\n        v-for="(item, index) in bgList"\n        :src="item"\n        :key="item"\n        class="hide-img"\n        :id="`bg-img-` + index"\n      />\n      <img\n        crossorigin="anonymous"\n        class="hide-img"\n        id="qrcode"\n        src="https://cdn.jsdelivr.net/gh/xugaoyi/image_store2@master/img/qrcode.zul0pldsuao.png"\n      />\n    </div>\n\n    \x3c!-- èæ¯é³ä¹ --\x3e\n    <audio\n      src="https://cdn.jsdelivr.net/gh/xugaoyi/image_store2@master/cjxq.mp3"\n      id="bgm"\n      ref="bgm"\n      loop\n    />\n    <div\n      class="play-btn"\n      :class="{ paused: !isPlay }"\n      ref="playBtn"\n      @click="handlePlay"\n    >\n      <i class="iconfont icon-yinle"></i>\n    </div>\n  </div>\n\n  <div class="body-bg-img"></div>\n</template>\n\n<script>\nimport { ImagePreview, Notify } from \'vant\'\nimport { isWX, isMobile } from \'@/utils\'\nimport Button from \'@/components/Button.vue\'\nimport dl from \'@/assets/img/yh/dl.jpeg\'\nimport hp from \'@/assets/img/yh/hp.jpeg\'\nimport fz from \'@/assets/img/yh/fz.png\'\n\n// å¯¹èæ°æ®\nimport duilianList from \'@/mock/duilian\'\n\nconst PROPORTION = 0.37 // å¾çç¼©å°æ¯ä¾\nconst INSTANTIATE_NAME = \'signature\' // å®ä¾åç§°\nconst MIN_WIDTH = 3 // ç»ç¬æå°å®½\nconst MAX_WIDTH = 12 // ç»ç¬æå¤§å®½\n\n// æµ·æ¥èæ¯å¾å¤§å°\nconst BG_WIDTH = 750\nconst BG_HEIGHT = 1448\n\n// è´´å¾å®ä½åå¤§å°\nconst POSITION = [\n  { left: 57, top: 510, width: 90, height: 546 }, // ä¸è\n  { left: 600, top: 510, width: 90, height: 546 }, // ä¸è\n  { left: 225, top: 345, width: 300, height: 90 }, // æ¨ªå¹\n  { left: 460, top: 450, width: 130, height: 130 }, // ç¦å­\n]\n\nexport default {\n  name: "Home",\n  components: {\n    Button\n  },\n  data() {\n    return {\n      duilianList,\n      mode: Number(localStorage.getItem(\'mode\')) || 1, // 1 æåï¼2 çæ\n      curCanvasIndex: 0, // æ¾ç¤ºåªä¸ªç»å¸\n      progress: 100, // ç»ç¬å¤§å°çå»åº¦\n      clientWidth: document.documentElement.clientWidth,\n      clientHeight: document.documentElement.clientHeight,\n      canvasList: [\n        {\n          name: \'ä¸è\',\n          className: \'canvas-a\',\n          bgImage: dl,\n          width: 600 * PROPORTION,\n          height: 3640 * PROPORTION,\n        },\n        {\n          name: \'ä¸è\',\n          className: \'canvas-b\',\n          bgImage: dl,\n          width: 600 * PROPORTION,\n          height: 3640 * PROPORTION,\n        },\n        {\n          name: \'æ¨ªæ¹\',\n          className: \'canvas-c\',\n          bgImage: hp,\n          width: 2000 * PROPORTION,\n          height: 600 * PROPORTION,\n        },\n        {\n          name: \'ç¦å­\',\n          className: \'canvas-d\',\n          bgImage: fz,\n          width: 366,\n          height: 366,\n        }\n      ],\n      colorList: [\'#000000\', \'#ffd800\', \'#e8bd48\', \'#ddc08c\',],\n      curColorIndex: 0,\n      colorListVisibility: false, // ç»å¸é¢è²éæ©åè¡¨å¯è§æ§\n      isShowTip: false, // æ¯å¦æ¾ç¤ºåºé¨æç¤ºè¯­\n      duilian: {}, // å½åå¯¹èææ¬å¯¹è±¡\n      isRotate: false, // å·æ°iconæè½¬\n      bgList: [\n        \'https://cdn.jsdelivr.net/gh/xugaoyi/image_store@master/1.4j8qpdnq80i0.jpeg\',\n        \'https://cdn.jsdelivr.net/gh/xugaoyi/image_store@master/4.4460an8ag5o0.jpeg\',\n        \'https://cdn.jsdelivr.net/gh/xugaoyi/image_store@master/5.3axtl4xpvy00.jpeg\',\n        \'https://cdn.jsdelivr.net/gh/xugaoyi/image_store@master/6.2lnbphdqjaq0.jpeg\',\n      ],\n      isReadImages: false, // å»¶è¿å è½½å¾çç¨\n      isShowShareBtn: false, // æ¯å¦æ¾ç¤ºåäº«æé®\n      isShowShareTip: false, // æ¯å¦æ¾ç¤ºåäº«æç¤ºè¯­\n      isPlay: false, // æ¯å¦å¨æ­æ¾\n\n      // æ¨¡å¼2\n      canvasTop: null, // æ¨ªæ¹\n      canvasLeft: null, // ä¸è\n      canvasRight: null, // ä¸è\n      imgObj1: null, // æ¨ªæ¹å¾çå¯¹è±¡\n      imgObj2: null, // ä¸ä¸èå¾çå¯¹è±¡\n      scale: Math.max(window.devicePixelRatio || 1, 2), // ç¨äºå¢å ç»å¸æ¸æ°åº¦\n      showPickBox: false, // æéå¯¹èçå¼¹æ¡\n      showInputBox: false, // è¾å¥å¯¹èçå¼¹æ¡\n      shanglian: \'\', // è¾å¥çä¸è\n      xialian: \'\', // è¾å¥çä¸è\n      hengpi: \'\', // è¾å¥çæ¨ªæ¹\n    };\n  },\n  computed: {\n    // æ¨¡å¼1-å½åç»å¸å®ä¾\n    curCanvasInstantiate() {\n      return this[INSTANTIATE_NAME + this.curCanvasIndex]\n    }\n  },\n  created() {\n    // å¾®ä¿¡æµè§å¨æ¾ç¤ºåäº«æé®\n    this.isShowShareBtn = isWX()\n  },\n  mounted() {\n    if (!isMobile()) {\n      Notify({ type: \'warning\', message: \'è¯·ç¨ç§»å¨ç«¯æå¼è·å¾æä½³ä½éª\', duration: 6000, });\n    }\n\n    this.initMode1();\n\n    // åå§åå¯¹èæç¤º\n    this.handleRefresh();\n\n    this.initMode2();\n\n    // æé®æ·»å æ¿æ´»æ¶ååææclass\n    const btnEl = document.querySelectorAll(\'.btn,.btn-block\');\n    btnEl.forEach((item) => {\n      item.addEventListener(\'touchstart\', () => {\n        item.classList.add(\'btn-active\')\n      })\n      item.addEventListener(\'touchend\', () => {\n        setTimeout(() => {\n          item.classList.remove(\'btn-active\')\n        }, 100)\n      })\n    })\n\n    // å»¶è¿å è½½è´´å¾èæ¯\n    setTimeout(() => {\n      this.isReadImages = true\n    }, 1000)\n  },\n\n  watch: {\n    // åæ¢ç»ç¬é¢è²\n    curColorIndex() {\n      this.curCanvasInstantiate.color = this.colorList[this.curColorIndex]\n      if (this.mode === 2) {\n        this.refreshDuilian()\n      }\n    },\n    // åæ¢ç»å¸æ¶åºç¨å½åç»ç¬é¢è²åå¤§å°\n    curCanvasIndex() {\n      this.curCanvasInstantiate.color = this.colorList[this.curColorIndex]\n      this.handleChangeSize()\n      window.scrollTo(0, 0)\n    }\n  },\n\n  methods: {\n    initMode1() {\n      const { colorList, curColorIndex } = this\n      this.canvasList.forEach((item, index) => {\n        const options = {\n          width: item.width,\n          height: item.height,\n          minWidth: MIN_WIDTH, // ç»ç¬æå°å®½åº¦(px)\n          maxWidth: MAX_WIDTH, // ç»ç¬æå¤§å®½åº¦\n          minSpeed: 1.8, // ç»ç¬è¾¾å°æå°å®½åº¦æéæå°éåº¦(px/ms)ï¼åå¼èå´1.0-10.0\n          color: colorList[curColorIndex],\n          // æ°å¢çéç½®\n          bgImage: item.bgImage,\n        };\n\n        this[INSTANTIATE_NAME + index] = new SmoothSignature(document.querySelector(\'.\' + item.className), options);\n      })\n    },\n\n    initMode2() {\n      this.canvasTop = document.getElementById(\'canvas-top\').getContext(\'2d\')\n      this.canvasLeft = document.getElementById(\'canvas-left\').getContext(\'2d\')\n      this.canvasRight = document.getElementById(\'canvas-right\').getContext(\'2d\')\n\n      // è®¾å­ä½æ ·å¼\n      const font = "36px xs, cursive"\n      this.canvasTop.font = font\n      this.canvasLeft.font = font\n      this.canvasRight.font = font\n\n      // å¢å¼ºæ¸æ°åº¦\n      const { scale } = this\n      this.canvasTop.scale(scale, scale);\n      this.canvasLeft.scale(scale, scale);\n      this.canvasRight.scale(scale, scale);\n\n      // è®¾èæ¯å¾\n      this.imgObj1 = new Image()\n      this.imgObj2 = new Image()\n      this.imgObj1.src = hp\n      this.imgObj2.src = dl\n      this.imgObj1.onload = () => {\n        // è´´èæ¯\n        this.canvasTop.drawImage(this.imgObj1, 0, 0, 200, 60)\n\n        // å­ä½å è½½å®æå\n        document.fonts.ready.then(() => {\n          this.handleTopFillText()\n        });\n      }\n      this.imgObj2.onload = () => {\n        // è´´èæ¯\n        this.canvasLeft.drawImage(this.imgObj2, 0, 0, 60, 364)\n        this.canvasRight.drawImage(this.imgObj2, 0, 0, 60, 364)\n\n        // å­ä½å è½½å®æå\n        document.fonts.ready.then(() => {\n          this.handleLRFillText(this.canvasLeft, this.duilian.shang)\n          this.handleLRFillText(this.canvasRight, this.duilian.xia)\n        });\n      }\n    },\n\n    // æ¨¡å¼2-å·æ°å¯¹è\n    refreshDuilian() {\n      this.canvasTop.drawImage(this.imgObj1, 0, 0, 200, 60)\n      this.canvasLeft.drawImage(this.imgObj2, 0, 0, 60, 364)\n      this.canvasRight.drawImage(this.imgObj2, 0, 0, 60, 364)\n      this.handleTopFillText()\n      this.handleLRFillText(this.canvasLeft, this.duilian.shang)\n      this.handleLRFillText(this.canvasRight, this.duilian.xia)\n    },\n\n    // æ¨¡å¼2-è´´æ¨ªæ¹\n    handleTopFillText() {\n      // è´´ææ¬\n      this.canvasTop.fillStyle = this.colorList[this.curColorIndex]\n      if (this.duilian.heng) {\n        this.duilian.heng.split(\'\').forEach((item, index) => {\n          const left = 42 * (index + 1) - 22\n          this.canvasTop.fillText(item, left, 40)\n        })\n      }\n    },\n\n    // æ¨¡å¼2-è´´ä¸ä¸è\n    handleLRFillText(ctx, text) {\n      ctx.fillStyle = this.colorList[this.curColorIndex]\n      if (text) {\n        text.split(\'\').forEach((item, index) => {\n          const top = 50 * (index + 1) - 8\n          ctx.fillText(item, 13, top)\n        })\n      }\n    },\n\n    // åæ¢æ¨¡å¼\n    toggleMode() {\n      if (this.mode === 1) {\n        this.mode = 2\n        this.refreshDuilian()\n      } else {\n        this.mode = 1\n      }\n      localStorage.setItem(\'mode\', this.mode);\n    },\n\n    // æå¼è°è²æ¿\n    togglePalette() {\n      this.colorListVisibility = !this.colorListVisibility\n    },\n\n    // å³é­è°è²æ¿\n    handleTouchstart(e) {\n      // ä¸æ¯ç¹å»éæ©é¢è²æ¶\n      if (e.path[1]?.classList?.value !== \'colorList\' && e.target.classList?.value !== \'cur-color\') {\n        this.colorListVisibility = false\n      }\n    },\n\n    // éæ©é¢è²\n    selectColor(index) {\n      this.curColorIndex = index\n      this.colorListVisibility = false\n    },\n\n    // åæ¢ç»å¸\n    changeCanvas(index) {\n      this.curCanvasIndex = index\n    },\n\n    // æ¸ç©ºç»å¸\n    handleClear() {\n      this.curCanvasInstantiate.clear();\n    },\n\n    // æ¤éç¬ç»\n    handleUndo() {\n      this.curCanvasInstantiate.undo();\n    },\n\n    // é¢è§\n    handlePreview() {\n      this.showTopTip();\n      this.isShowTip = true\n      const _this = this\n      ImagePreview({\n        images: this.getImageList(),\n        closeable: true,\n        startPosition: this.curCanvasIndex,\n        onClose() {\n          _this.isShowTip = false\n        },\n      });\n    },\n\n    // æå¼æµ·æ¥é¢è§\n    openPosters() {\n      // åå»ºç»å¸\n      const canvas = document.createElement(\'canvas\');\n      canvas.width = BG_WIDTH\n      canvas.height = BG_HEIGHT\n      const ctx = canvas.getContext(\'2d\');\n      const resultImageList = [];\n\n      // æ¯å¦éèç¦å­\n      const isHideFu = this[INSTANTIATE_NAME + 3].isEmpty()\n      this.bgList.forEach((item, index) => {\n        // è´´èæ¯å¾\n        ctx.drawImage(document.getElementById(\'bg-img-\' + index), 0, 0, BG_WIDTH, BG_HEIGHT)\n\n        // è´´å¯¹è\n        if (this.mode === 1) {\n          this.canvasList.forEach((item, index) => {\n            if (index === 3 && isHideFu) return;\n            const dlCanvas = document.querySelector(\'.\' + item.className)\n            const { left, top, width, height } = POSITION[index]\n            ctx.drawImage(dlCanvas, left, top, width, height)\n          })\n        } else {\n          [\'canvas-left\', \'canvas-right\', \'canvas-top\'].forEach((item, index) => {\n            const dlCanvas = document.getElementById(item)\n            const { left, top, width, height } = POSITION[index]\n            ctx.drawImage(dlCanvas, left, top, width, height)\n          })\n        }\n\n        // è´´äºç»´ç \n        ctx.drawImage(document.getElementById("qrcode"), 40, 1280, 580, 136)\n\n        // è´´ææ¬\n        ctx.font = "18px sans-serif"\n        ctx.fillStyle = "#666666"\n        ctx.fillText(\'Â©å¬ä¼å·ãæè¶£ç ç©¶ç¤¾ã\', 550, 1420)\n\n        // å¯¼åºå¾ç\n        resultImageList.push(canvas.toDataURL(\'image/jpeg\', 0.8))\n      })\n\n      // æå¼å¾çé¢è§\n      this.isShowTip = true\n      const _this = this\n      ImagePreview({\n        images: resultImageList,\n        closeable: true,\n        onClose() {\n          _this.isShowTip = false\n        },\n      });\n      this.showTopTip();\n    },\n\n    // å¼¹åºé¡¶é¨æç¤ºè¯­\n    showTopTip() {\n      if (!sessionStorage.getItem(\'showTip\')) {\n        sessionStorage.setItem(\'showTip\', \'true\');\n        Notify({\n          message: \'é¿æå¾çå¯ä¿å­å°æ¬å°\',\n          color: \'#c33825\',\n          background: \'#eed3ae\',\n        });\n      }\n    },\n\n    // è·åå¯¹èå¾çåè¡¨\n    getImageList(type = \'image/png\') {\n      const imageList = []\n      this.canvasList.forEach((item, index) => {\n        if (index === 3) {\n          // `ç¦`å­å¿é¡»æ¯pngæ ¼å¼\n          type = \'image/png\'\n        }\n        imageList.push(this[INSTANTIATE_NAME + index].toDataURL(type, 0.8))\n      })\n      return imageList\n    },\n\n    // è¿åº¦æ¹åæ¶\n    changeProgress(progress) {\n      this.progress = progress\n      this.handleChangeSize()\n    },\n\n    // è°æ´ç»ç¬å¤§å°\n    handleChangeSize() {\n      const { progress } = this\n      this.curCanvasInstantiate.minWidth = MIN_WIDTH * progress / 100\n      this.curCanvasInstantiate.maxWidth = MAX_WIDTH * progress / 100\n    },\n\n    // å·æ°å¯¹è\n    handleRefresh(rotate) {\n      this.duilian = duilianList[Math.floor(Math.random() * duilianList.length)]\n\n      if (rotate) {\n        if (this.mode === 2) {\n          this.refreshDuilian()\n        }\n        // ä½¿iconæè½¬\n        this.isRotate = true\n        setTimeout(() => {\n          this.isRotate = false\n        }, 300)\n      }\n    },\n\n    // æ­æ¾èæ¯é³ä¹\n    handlePlay() {\n      const { bgm } = this.$refs\n      if (bgm.paused) {\n        bgm.play()\n        this.isPlay = true\n      } else {\n        bgm.pause()\n        this.isPlay = false\n      }\n    },\n\n    // å®æè¾å¥å¯¹è\n    handleSubmitInput(values) {\n      this.duilian = values\n      this.showInputBox = false\n      this.refreshDuilian()\n    },\n\n    // å®ææéå¯¹è\n    handlePickDuilian(item) {\n      this.duilian = item\n      this.showPickBox = false\n      this.refreshDuilian()\n    }\n  },\n};\n<\/script>\n\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n26\n27\n28\n29\n30\n31\n32\n33\n34\n35\n36\n37\n38\n39\n40\n41\n42\n43\n44\n45\n46\n47\n48\n49\n50\n51\n52\n53\n54\n55\n56\n57\n58\n59\n60\n61\n62\n63\n64\n65\n66\n67\n68\n69\n70\n71\n72\n73\n74\n75\n76\n77\n78\n79\n80\n81\n82\n83\n84\n85\n86\n87\n88\n89\n90\n91\n92\n93\n94\n95\n96\n97\n98\n99\n100\n101\n102\n103\n104\n105\n106\n107\n108\n109\n110\n111\n112\n113\n114\n115\n116\n117\n118\n119\n120\n121\n122\n123\n124\n125\n126\n127\n128\n129\n130\n131\n132\n133\n134\n135\n136\n137\n138\n139\n140\n141\n142\n143\n144\n145\n146\n147\n148\n149\n150\n151\n152\n153\n154\n155\n156\n157\n158\n159\n160\n161\n162\n163\n164\n165\n166\n167\n168\n169\n170\n171\n172\n173\n174\n175\n176\n177\n178\n179\n180\n181\n182\n183\n184\n185\n186\n187\n188\n189\n190\n191\n192\n193\n194\n195\n196\n197\n198\n199\n200\n201\n202\n203\n204\n205\n206\n207\n208\n209\n210\n211\n212\n213\n214\n215\n216\n217\n218\n219\n220\n221\n222\n223\n224\n225\n226\n227\n228\n229\n230\n231\n232\n233\n234\n235\n236\n237\n238\n239\n240\n241\n242\n243\n244\n245\n246\n247\n248\n249\n250\n251\n252\n253\n254\n255\n256\n257\n258\n259\n260\n261\n262\n263\n264\n265\n266\n267\n268\n269\n270\n271\n272\n273\n274\n275\n276\n277\n278\n279\n280\n281\n282\n283\n284\n285\n286\n287\n288\n289\n290\n291\n292\n293\n294\n295\n296\n297\n298\n299\n300\n301\n302\n303\n304\n305\n306\n307\n308\n309\n310\n311\n312\n313\n314\n315\n316\n317\n318\n319\n320\n321\n322\n323\n324\n325\n326\n327\n328\n329\n330\n331\n332\n333\n334\n335\n336\n337\n338\n339\n340\n341\n342\n343\n344\n345\n346\n347\n348\n349\n350\n351\n352\n353\n354\n355\n356\n357\n358\n359\n360\n361\n362\n363\n364\n365\n366\n367\n368\n369\n370\n371\n372\n373\n374\n375\n376\n377\n378\n379\n380\n381\n382\n383\n384\n385\n386\n387\n388\n389\n390\n391\n392\n393\n394\n395\n396\n397\n398\n399\n400\n401\n402\n403\n404\n405\n406\n407\n408\n409\n410\n411\n412\n413\n414\n415\n416\n417\n418\n419\n420\n421\n422\n423\n424\n425\n426\n427\n428\n429\n430\n431\n432\n433\n434\n435\n436\n437\n438\n439\n440\n441\n442\n443\n444\n445\n446\n447\n448\n449\n450\n451\n452\n453\n454\n455\n456\n457\n458\n459\n460\n461\n462\n463\n464\n465\n466\n467\n468\n469\n470\n471\n472\n473\n474\n475\n476\n477\n478\n479\n480\n481\n482\n483\n484\n485\n486\n487\n488\n489\n490\n491\n492\n493\n494\n495\n496\n497\n498\n499\n500\n501\n502\n503\n504\n505\n506\n507\n508\n509\n510\n511\n512\n513\n514\n515\n516\n517\n518\n519\n520\n521\n522\n523\n524\n525\n526\n527\n528\n529\n530\n531\n532\n533\n534\n535\n536\n537\n538\n539\n540\n541\n542\n543\n544\n545\n546\n547\n548\n549\n550\n551\n552\n553\n554\n555\n556\n557\n558\n559\n560\n561\n562\n563\n564\n565\n566\n567\n568\n569\n570\n571\n572\n573\n574\n575\n576\n577\n578\n579\n580\n581\n582\n583\n584\n585\n586\n587\n588\n589\n590\n591\n592\n593\n594\n595\n596\n597\n598\n599\n600\n601\n602\n603\n604\n605\n606\n607\n608\n609\n610\n611\n612\n613\n614\n615\n616\n617\n618\n619\n620\n621\n622\n623\n624\n625\n626\n627\n628\n629\n630\n631\n632\n633\n634\n635\n636\n637\n638\n639\n640\n641\n642\n643\n644\n645\n646\n647\n648\n649\n650\n651\n652\n653\n654\n655\n656\n657\n658\n659\n660\n661\n662\n663\n664\n665\n666\n667\n668\n669\n670\n671\n672\n673\n674\n675\n676\n677\n678\n679\n680\n681\n682\n683\n684\n685\n686\n687\n688\n689\n690\n691\n692\n693\n694\n695\n696\n697\n698\n699\n700\n701\n702\n703\n704\n705\n706\n707\n708\n709\n710\n711\n712\n713\n714\n715\n716\n717\n718\n719\n720\n721\n722\n723\n724\n725\n726\n727\n728\n729\n730\n731\n732\n733\n734\n735\n736\n737\n\n\næ´å¤æè¶£çå°ç½é¡µæ¬¢è¿å³æ³¨å¬ä¼å·æè¶£ç ç©¶ç¤¾:\n\n> æåæ¥è\n> FCå¨çº¿æ¨¡æå¨\n> ç±å½å¤´åçæå¨\n> å°è´¦è¯­é³çæå¨',normalizedContent:'æåæ¥èï¼https://cl.xugaoyi.com/\n\n\n# åè¨\n\nèå¹´æ¥èå¿«å°äºï¼é¦åç¥å¤§å®¶æ°å¹´å¿«ä¹ï¼è½»æ¾æ´å¯ã æè¿å¨ç½ä¸ç»å¸¸çå°çææ¥èçæç« ï¼ä¸è¿è¿äºå°demoè¦ä¹åè½ç®é,è¦ä¹uiç¹å«âç¨åºåâï¼æ»¡è¶³ä¸äºææåçç¼åãå¹²èæèªå·±åä¸ä¸ªå§ï¼é¡ºä¾¿ç®åä½éªä¸ä¸vite+vue3ãï¼å ä¸ºé¡µé¢ç¸å¯¹ç®åï¼vueç»ä»¶é£æ ¼è¿æ¯ä½¿ç¨éé¡¹å¼apiï¼éç¹è¿æ¯æ³æäº§åå¿«éååºæ¥ãï¼\n\n\n\n\n# äº§åææ\n\nåå«æåæ¥èåçææ¥èä¸¤å¤§åè½ï¼\n\n * æåæ¥è\n   \n   * æ¨¡æç¨ç¬åå­çå­è¿¹\n   * éæ©ç»ç¬é¢è²\n   * è°æ´ç»ç¬å¤§å°\n   * æ¸ç©ºç»å¸\n   * æ¤åç¬ç»\n   * åæ¢ä¸ãä¸èãæ¨ªæ¹ãç¦å­\n   * éæºåæ¢å¯¹èæç¤º\n   * é¢è§å¾çåä¸è½½\n   * è´´æ¥èæµ·æ¥åä¸è½½\n\n * çææ¨¡å¼\n   \n   * éæ©ç»ç¬é¢è²\n   * æéçæçå¯¹è\n   * è¾å¥å¯¹è\n   * éæºåæ¢å¯¹è\n   * è´´æ¥èæµ·æ¥åä¸è½½\n\n * å¶ä»\n   \n   * å¿«éåæ¢æ¨¡å¼æé®\n   * å¯æ§å¶çèæ¯é³ä¹\n   * å¾®ä¿¡åäº«ç½é¡µ\n\n\n# è®¾è®¡\n\n\n\n\n# å¼å\n\n * ææ¯æ \n   * vite (æå&æå»º)\n   * vue3 (é¡µé¢å¼å)\n   * vantï¼uiï¼\n   * sass (css)\n   * smooth-signature.js (å¸¦ç¬éæååº)\n\n<template>\n  <div class="wrap" :class="\'mode-\' + mode" @touchstart="handletouchstart">\n    \x3c!-- åæ¢æ¨¡å¼æé® --\x3e\n    <div class="toggle-mode-btn" @click="togglemode">\n      {{ mode === 1 ? \'æå\' : \'çæ\' }}\n      <i class="iconfont icon-qiehuan"></i>\n    </div>\n\n    \x3c!-- å·¥å·æ  --\x3e\n    <div\n      class="actions"\n      :style="{ bordertoprightradius: colorlistvisibility ? \'0\' : \'5px\' }"\n    >\n      \x3c!-- æåæ¨¡å¼æ¾ç¤º --\x3e\n      <template v-if="mode === 1">\n        \x3c!-- è°è²æ¿ --\x3e\n        <div class="palette btn-block">\n          <div\n            class="cur-color"\n            @click="togglepalette"\n            :style="{ background: colorlist[curcolorindex] }"\n          ></div>\n          <ul class="colorlist" v-show="colorlistvisibility">\n            <li\n              v-for="(item, index) in colorlist"\n              :key="item"\n              :style="{ background: item }"\n              @click="selectcolor(index)"\n            ></li>\n          </ul>\n        </div>\n\n        \x3c!-- æ»å --\x3e\n        <div class="slider-box btn-block">\n          <van-slider\n            v-model="progress"\n            vertical\n            @change="changeprogress"\n            bar-height="28"\n            active-color="transparent"\n            :min="50"\n            :max="150"\n          >\n            <template #button>\n              <div class="custom-button"></div>\n            </template>\n          </van-slider>\n        </div>\n\n        \x3c!-- æ¸ç©º --\x3e\n        <div class="btn" @click="handleclear">\n          <i class="iconfont icon-lajitong"></i>\n        </div>\n\n        \x3c!-- æ¤é --\x3e\n        <div class="btn" @click="handleundo">\n          <i class="iconfont icon-fanhui"></i>\n        </div>\n\n        <div class="line"></div>\n\n        \x3c!-- åæ¢ç»å¸çæé® --\x3e\n        <div\n          class="btn"\n          :class="{ \'cur-active\': curcanvasindex === index }"\n          v-for="(item, index) in canvaslist"\n          :key="item.name"\n          @click="changecanvas(index)"\n        >\n          {{ item.name }}\n        </div>\n\n        <div class="line"></div>\n\n        <div class="btn prominent" @click="handlepreview">é¢è§</div>\n        <div class="btn prominent" @click="openposters">è´´è</div>\n      </template>\n\n      \x3c!-- çææ¨¡å¼æ¾ç¤º --\x3e\n      <template v-else>\n        \x3c!-- éé¢è² --\x3e\n        <div\n          class="color-list-quick"\n          :class="{ active: curcolorindex === index }"\n          v-for="(item, index) in colorlist"\n          :key="item"\n          :style="{ background: item }"\n          @click="selectcolor(index)"\n        ></div>\n        <div class="line"></div>\n        <div class="btn" @click="showpickbox = true">æé</div>\n        <div class="btn" @click="showinputbox = true">è¾å¥</div>\n\n        \x3c!-- æéå¯¹èå¼¹çª --\x3e\n        <van-action-sheet v-model:show="showpickbox" title="è¯·æéå¯¹è">\n          <ul class="duilian-list">\n            <li\n              v-for="(item, index) in duilianlist"\n              :key="index"\n              @click="handlepickduilian(item)"\n            >\n              <span>{{ item.shang }}</span\n              >ï¼ <span>{{ item.xia }}</span\n              >ã\n              <span>{{ item.heng }}</span>\n            </li>\n          </ul>\n        </van-action-sheet>\n\n        \x3c!-- è¾å¥å¯¹èå¼¹çª --\x3e\n        <van-action-sheet v-model:show="showinputbox" title="è¯·è¾å¥å¯¹è">\n          <van-form @submit="handlesubmitinput">\n            <van-cell-group inset>\n              <van-field\n                v-model="shanglian"\n                name="shang"\n                label="ä¸è"\n                placeholder="ä¸è"\n                :rules="[\n                  {\n                    required: true,\n                    message: \'è¯·è¾å¥7ä½æ±å­ä¸è\',\n                    pattern: /^[\\u4e00-\\u9fa5]{7}$/\n                  }\n                ]"\n                clearable\n              />\n              <van-field\n                v-model="xialian"\n                name="xia"\n                label="ä¸è"\n                placeholder="ä¸è"\n                :rules="[\n                  {\n                    required: true,\n                    message: \'è¯·è¾å¥7ä½æ±å­ä¸è\',\n                    pattern: /^[\\u4e00-\\u9fa5]{7}$/\n                  }\n                ]"\n                clearable\n              />\n              <van-field\n                v-model="hengpi"\n                name="heng"\n                label="æ¨ªæ¹"\n                placeholder="æ¨ªæ¹"\n                :rules="[\n                  {\n                    required: true,\n                    message: \'è¯·è¾å¥4ä½æ±å­æ¨ªæ¹\',\n                    pattern: /^[\\u4e00-\\u9fa5]{4}$/\n                  }\n                ]"\n                clearable\n              />\n            </van-cell-group>\n            <div style="margin: 16px">\n              <van-button\n                round\n                block\n                type="primary"\n                native-type="submit"\n                color="linear-gradient(to right, #ff6034, #c33825)"\n              >\n                å®æ\n              </van-button>\n            </div>\n          </van-form>\n        </van-action-sheet>\n      </template>\n    </div>\n\n    \x3c!-- æ¨¡å¼1-æ¥èç»å¸ --\x3e\n    <div\n      v-show="mode === 1"\n      v-for="(item, index) in canvaslist"\n      :key="item.name"\n    >\n      <canvas\n        class="canvas"\n        :class="item.classname"\n        v-show="curcanvasindex === index"\n        :style="{\n          margintop:\n            item.height < clientheight\n              ? `${(clientheight - item.height) / 2}px`\n              : 0,\n          marginleft:\n            item.width < clientwidth ? `${(clientwidth - item.width) / 2}px` : 0\n        }"\n      />\n    </div>\n\n    \x3c!-- æ¨¡å¼2-æ¥èç»å¸ --\x3e\n    <div v-show="mode === 2" class="canvas-mode-2">\n      <div class="row">\n        <canvas id="canvas-top" :width="200 * scale" :height="60 * scale" />\n      </div>\n      <div class="row">\n        <canvas id="canvas-left" :width="60 * scale" :height="364 * scale" />\n        <canvas id="canvas-right" :width="60 * scale" :height="364 * scale" />\n      </div>\n    </div>\n\n    \x3c!-- è´´æ¥èæé® --\x3e\n    <button class="btn-posters" @click="openposters" />\n\n    \x3c!-- footer-å½åå¯¹èæç¤º --\x3e\n    <footer v-if="duilian.shang">\n      <div class="refresh-btn" @click="handlerefresh(true)">\n        <i class="iconfont icon-shuaxin" :class="{ rotate: isrotate }"></i>\n      </div>\n      <dl class="duilian">\n        <dt>å¯¹è</dt>\n        <dd>\n          <div>{{ duilian.shang }}</div>\n          <div>{{ duilian.xia }}</div>\n        </dd>\n      </dl>\n      <dl>\n        <dt>æ¨ªæ¹</dt>\n        <dd>{{ duilian.heng }}</dd>\n      </dl>\n    </footer>\n\n    \x3c!-- åäº«æé® --\x3e\n    <div class="share-btn" v-if="isshowsharebtn" @click="isshowsharetip = true">\n      <i class="iconfont icon-fenxiang"></i>\n    </div>\n    \x3c!-- å¾®ä¿¡åäº«æç¤ºè¯­ --\x3e\n    <div\n      class="share-tip"\n      v-if="isshowsharetip"\n      @click="isshowsharetip = false"\n    >\n      ç¹å»å³ä¸è§æè¿ä¸ªå·¥å·åäº«ç»æå\n      <div class="hand">ð</div>\n    </div>\n\n    \x3c!-- ä¿å­tip --\x3e\n    <p v-if="isshowtip" class="download-tip">*é¿æå¾çä¿å­æè½¬å</p>\n\n    \x3c!-- çæ --\x3e\n    <div class="copyright">å¬ä¼å·ãæè¶£ç ç©¶ç¤¾ã Â©çæææ</div>\n\n    \x3c!-- è½½å¥å¾çåç´ ï¼ç¨äºå¿«éè´´å¾ä½¿ç¨, æ³¨æè®¾ç½®crossorigin="anonymous"è§£å³è·¨å --\x3e\n    <div v-if="isreadimages">\n      <img\n        crossorigin="anonymous"\n        v-for="(item, index) in bglist"\n        :src="item"\n        :key="item"\n        class="hide-img"\n        :id="`bg-img-` + index"\n      />\n      <img\n        crossorigin="anonymous"\n        class="hide-img"\n        id="qrcode"\n        src="https://cdn.jsdelivr.net/gh/xugaoyi/image_store2@master/img/qrcode.zul0pldsuao.png"\n      />\n    </div>\n\n    \x3c!-- èæ¯é³ä¹ --\x3e\n    <audio\n      src="https://cdn.jsdelivr.net/gh/xugaoyi/image_store2@master/cjxq.mp3"\n      id="bgm"\n      ref="bgm"\n      loop\n    />\n    <div\n      class="play-btn"\n      :class="{ paused: !isplay }"\n      ref="playbtn"\n      @click="handleplay"\n    >\n      <i class="iconfont icon-yinle"></i>\n    </div>\n  </div>\n\n  <div class="body-bg-img"></div>\n</template>\n\n<script>\nimport { imagepreview, notify } from \'vant\'\nimport { iswx, ismobile } from \'@/utils\'\nimport button from \'@/components/button.vue\'\nimport dl from \'@/assets/img/yh/dl.jpeg\'\nimport hp from \'@/assets/img/yh/hp.jpeg\'\nimport fz from \'@/assets/img/yh/fz.png\'\n\n// å¯¹èæ°æ®\nimport duilianlist from \'@/mock/duilian\'\n\nconst proportion = 0.37 // å¾çç¼©å°æ¯ä¾\nconst instantiate_name = \'signature\' // å®ä¾åç§°\nconst min_width = 3 // ç»ç¬æå°å®½\nconst max_width = 12 // ç»ç¬æå¤§å®½\n\n// æµ·æ¥èæ¯å¾å¤§å°\nconst bg_width = 750\nconst bg_height = 1448\n\n// è´´å¾å®ä½åå¤§å°\nconst position = [\n  { left: 57, top: 510, width: 90, height: 546 }, // ä¸è\n  { left: 600, top: 510, width: 90, height: 546 }, // ä¸è\n  { left: 225, top: 345, width: 300, height: 90 }, // æ¨ªå¹\n  { left: 460, top: 450, width: 130, height: 130 }, // ç¦å­\n]\n\nexport default {\n  name: "home",\n  components: {\n    button\n  },\n  data() {\n    return {\n      duilianlist,\n      mode: number(localstorage.getitem(\'mode\')) || 1, // 1 æåï¼2 çæ\n      curcanvasindex: 0, // æ¾ç¤ºåªä¸ªç»å¸\n      progress: 100, // ç»ç¬å¤§å°çå»åº¦\n      clientwidth: document.documentelement.clientwidth,\n      clientheight: document.documentelement.clientheight,\n      canvaslist: [\n        {\n          name: \'ä¸è\',\n          classname: \'canvas-a\',\n          bgimage: dl,\n          width: 600 * proportion,\n          height: 3640 * proportion,\n        },\n        {\n          name: \'ä¸è\',\n          classname: \'canvas-b\',\n          bgimage: dl,\n          width: 600 * proportion,\n          height: 3640 * proportion,\n        },\n        {\n          name: \'æ¨ªæ¹\',\n          classname: \'canvas-c\',\n          bgimage: hp,\n          width: 2000 * proportion,\n          height: 600 * proportion,\n        },\n        {\n          name: \'ç¦å­\',\n          classname: \'canvas-d\',\n          bgimage: fz,\n          width: 366,\n          height: 366,\n        }\n      ],\n      colorlist: [\'#000000\', \'#ffd800\', \'#e8bd48\', \'#ddc08c\',],\n      curcolorindex: 0,\n      colorlistvisibility: false, // ç»å¸é¢è²éæ©åè¡¨å¯è§æ§\n      isshowtip: false, // æ¯å¦æ¾ç¤ºåºé¨æç¤ºè¯­\n      duilian: {}, // å½åå¯¹èææ¬å¯¹è±¡\n      isrotate: false, // å·æ°iconæè½¬\n      bglist: [\n        \'https://cdn.jsdelivr.net/gh/xugaoyi/image_store@master/1.4j8qpdnq80i0.jpeg\',\n        \'https://cdn.jsdelivr.net/gh/xugaoyi/image_store@master/4.4460an8ag5o0.jpeg\',\n        \'https://cdn.jsdelivr.net/gh/xugaoyi/image_store@master/5.3axtl4xpvy00.jpeg\',\n        \'https://cdn.jsdelivr.net/gh/xugaoyi/image_store@master/6.2lnbphdqjaq0.jpeg\',\n      ],\n      isreadimages: false, // å»¶è¿å è½½å¾çç¨\n      isshowsharebtn: false, // æ¯å¦æ¾ç¤ºåäº«æé®\n      isshowsharetip: false, // æ¯å¦æ¾ç¤ºåäº«æç¤ºè¯­\n      isplay: false, // æ¯å¦å¨æ­æ¾\n\n      // æ¨¡å¼2\n      canvastop: null, // æ¨ªæ¹\n      canvasleft: null, // ä¸è\n      canvasright: null, // ä¸è\n      imgobj1: null, // æ¨ªæ¹å¾çå¯¹è±¡\n      imgobj2: null, // ä¸ä¸èå¾çå¯¹è±¡\n      scale: math.max(window.devicepixelratio || 1, 2), // ç¨äºå¢å ç»å¸æ¸æ°åº¦\n      showpickbox: false, // æéå¯¹èçå¼¹æ¡\n      showinputbox: false, // è¾å¥å¯¹èçå¼¹æ¡\n      shanglian: \'\', // è¾å¥çä¸è\n      xialian: \'\', // è¾å¥çä¸è\n      hengpi: \'\', // è¾å¥çæ¨ªæ¹\n    };\n  },\n  computed: {\n    // æ¨¡å¼1-å½åç»å¸å®ä¾\n    curcanvasinstantiate() {\n      return this[instantiate_name + this.curcanvasindex]\n    }\n  },\n  created() {\n    // å¾®ä¿¡æµè§å¨æ¾ç¤ºåäº«æé®\n    this.isshowsharebtn = iswx()\n  },\n  mounted() {\n    if (!ismobile()) {\n      notify({ type: \'warning\', message: \'è¯·ç¨ç§»å¨ç«¯æå¼è·å¾æä½³ä½éª\', duration: 6000, });\n    }\n\n    this.initmode1();\n\n    // åå§åå¯¹èæç¤º\n    this.handlerefresh();\n\n    this.initmode2();\n\n    // æé®æ·»å æ¿æ´»æ¶ååææclass\n    const btnel = document.queryselectorall(\'.btn,.btn-block\');\n    btnel.foreach((item) => {\n      item.addeventlistener(\'touchstart\', () => {\n        item.classlist.add(\'btn-active\')\n      })\n      item.addeventlistener(\'touchend\', () => {\n        settimeout(() => {\n          item.classlist.remove(\'btn-active\')\n        }, 100)\n      })\n    })\n\n    // å»¶è¿å è½½è´´å¾èæ¯\n    settimeout(() => {\n      this.isreadimages = true\n    }, 1000)\n  },\n\n  watch: {\n    // åæ¢ç»ç¬é¢è²\n    curcolorindex() {\n      this.curcanvasinstantiate.color = this.colorlist[this.curcolorindex]\n      if (this.mode === 2) {\n        this.refreshduilian()\n      }\n    },\n    // åæ¢ç»å¸æ¶åºç¨å½åç»ç¬é¢è²åå¤§å°\n    curcanvasindex() {\n      this.curcanvasinstantiate.color = this.colorlist[this.curcolorindex]\n      this.handlechangesize()\n      window.scrollto(0, 0)\n    }\n  },\n\n  methods: {\n    initmode1() {\n      const { colorlist, curcolorindex } = this\n      this.canvaslist.foreach((item, index) => {\n        const options = {\n          width: item.width,\n          height: item.height,\n          minwidth: min_width, // ç»ç¬æå°å®½åº¦(px)\n          maxwidth: max_width, // ç»ç¬æå¤§å®½åº¦\n          minspeed: 1.8, // ç»ç¬è¾¾å°æå°å®½åº¦æéæå°éåº¦(px/ms)ï¼åå¼èå´1.0-10.0\n          color: colorlist[curcolorindex],\n          // æ°å¢çéç½®\n          bgimage: item.bgimage,\n        };\n\n        this[instantiate_name + index] = new smoothsignature(document.queryselector(\'.\' + item.classname), options);\n      })\n    },\n\n    initmode2() {\n      this.canvastop = document.getelementbyid(\'canvas-top\').getcontext(\'2d\')\n      this.canvasleft = document.getelementbyid(\'canvas-left\').getcontext(\'2d\')\n      this.canvasright = document.getelementbyid(\'canvas-right\').getcontext(\'2d\')\n\n      // è®¾å­ä½æ ·å¼\n      const font = "36px xs, cursive"\n      this.canvastop.font = font\n      this.canvasleft.font = font\n      this.canvasright.font = font\n\n      // å¢å¼ºæ¸æ°åº¦\n      const { scale } = this\n      this.canvastop.scale(scale, scale);\n      this.canvasleft.scale(scale, scale);\n      this.canvasright.scale(scale, scale);\n\n      // è®¾èæ¯å¾\n      this.imgobj1 = new image()\n      this.imgobj2 = new image()\n      this.imgobj1.src = hp\n      this.imgobj2.src = dl\n      this.imgobj1.onload = () => {\n        // è´´èæ¯\n        this.canvastop.drawimage(this.imgobj1, 0, 0, 200, 60)\n\n        // å­ä½å è½½å®æå\n        document.fonts.ready.then(() => {\n          this.handletopfilltext()\n        });\n      }\n      this.imgobj2.onload = () => {\n        // è´´èæ¯\n        this.canvasleft.drawimage(this.imgobj2, 0, 0, 60, 364)\n        this.canvasright.drawimage(this.imgobj2, 0, 0, 60, 364)\n\n        // å­ä½å è½½å®æå\n        document.fonts.ready.then(() => {\n          this.handlelrfilltext(this.canvasleft, this.duilian.shang)\n          this.handlelrfilltext(this.canvasright, this.duilian.xia)\n        });\n      }\n    },\n\n    // æ¨¡å¼2-å·æ°å¯¹è\n    refreshduilian() {\n      this.canvastop.drawimage(this.imgobj1, 0, 0, 200, 60)\n      this.canvasleft.drawimage(this.imgobj2, 0, 0, 60, 364)\n      this.canvasright.drawimage(this.imgobj2, 0, 0, 60, 364)\n      this.handletopfilltext()\n      this.handlelrfilltext(this.canvasleft, this.duilian.shang)\n      this.handlelrfilltext(this.canvasright, this.duilian.xia)\n    },\n\n    // æ¨¡å¼2-è´´æ¨ªæ¹\n    handletopfilltext() {\n      // è´´ææ¬\n      this.canvastop.fillstyle = this.colorlist[this.curcolorindex]\n      if (this.duilian.heng) {\n        this.duilian.heng.split(\'\').foreach((item, index) => {\n          const left = 42 * (index + 1) - 22\n          this.canvastop.filltext(item, left, 40)\n        })\n      }\n    },\n\n    // æ¨¡å¼2-è´´ä¸ä¸è\n    handlelrfilltext(ctx, text) {\n      ctx.fillstyle = this.colorlist[this.curcolorindex]\n      if (text) {\n        text.split(\'\').foreach((item, index) => {\n          const top = 50 * (index + 1) - 8\n          ctx.filltext(item, 13, top)\n        })\n      }\n    },\n\n    // åæ¢æ¨¡å¼\n    togglemode() {\n      if (this.mode === 1) {\n        this.mode = 2\n        this.refreshduilian()\n      } else {\n        this.mode = 1\n      }\n      localstorage.setitem(\'mode\', this.mode);\n    },\n\n    // æå¼è°è²æ¿\n    togglepalette() {\n      this.colorlistvisibility = !this.colorlistvisibility\n    },\n\n    // å³é­è°è²æ¿\n    handletouchstart(e) {\n      // ä¸æ¯ç¹å»éæ©é¢è²æ¶\n      if (e.path[1]?.classlist?.value !== \'colorlist\' && e.target.classlist?.value !== \'cur-color\') {\n        this.colorlistvisibility = false\n      }\n    },\n\n    // éæ©é¢è²\n    selectcolor(index) {\n      this.curcolorindex = index\n      this.colorlistvisibility = false\n    },\n\n    // åæ¢ç»å¸\n    changecanvas(index) {\n      this.curcanvasindex = index\n    },\n\n    // æ¸ç©ºç»å¸\n    handleclear() {\n      this.curcanvasinstantiate.clear();\n    },\n\n    // æ¤éç¬ç»\n    handleundo() {\n      this.curcanvasinstantiate.undo();\n    },\n\n    // é¢è§\n    handlepreview() {\n      this.showtoptip();\n      this.isshowtip = true\n      const _this = this\n      imagepreview({\n        images: this.getimagelist(),\n        closeable: true,\n        startposition: this.curcanvasindex,\n        onclose() {\n          _this.isshowtip = false\n        },\n      });\n    },\n\n    // æå¼æµ·æ¥é¢è§\n    openposters() {\n      // åå»ºç»å¸\n      const canvas = document.createelement(\'canvas\');\n      canvas.width = bg_width\n      canvas.height = bg_height\n      const ctx = canvas.getcontext(\'2d\');\n      const resultimagelist = [];\n\n      // æ¯å¦éèç¦å­\n      const ishidefu = this[instantiate_name + 3].isempty()\n      this.bglist.foreach((item, index) => {\n        // è´´èæ¯å¾\n        ctx.drawimage(document.getelementbyid(\'bg-img-\' + index), 0, 0, bg_width, bg_height)\n\n        // è´´å¯¹è\n        if (this.mode === 1) {\n          this.canvaslist.foreach((item, index) => {\n            if (index === 3 && ishidefu) return;\n            const dlcanvas = document.queryselector(\'.\' + item.classname)\n            const { left, top, width, height } = position[index]\n            ctx.drawimage(dlcanvas, left, top, width, height)\n          })\n        } else {\n          [\'canvas-left\', \'canvas-right\', \'canvas-top\'].foreach((item, index) => {\n            const dlcanvas = document.getelementbyid(item)\n            const { left, top, width, height } = position[index]\n            ctx.drawimage(dlcanvas, left, top, width, height)\n          })\n        }\n\n        // è´´äºç»´ç \n        ctx.drawimage(document.getelementbyid("qrcode"), 40, 1280, 580, 136)\n\n        // è´´ææ¬\n        ctx.font = "18px sans-serif"\n        ctx.fillstyle = "#666666"\n        ctx.filltext(\'Â©å¬ä¼å·ãæè¶£ç ç©¶ç¤¾ã\', 550, 1420)\n\n        // å¯¼åºå¾ç\n        resultimagelist.push(canvas.todataurl(\'image/jpeg\', 0.8))\n      })\n\n      // æå¼å¾çé¢è§\n      this.isshowtip = true\n      const _this = this\n      imagepreview({\n        images: resultimagelist,\n        closeable: true,\n        onclose() {\n          _this.isshowtip = false\n        },\n      });\n      this.showtoptip();\n    },\n\n    // å¼¹åºé¡¶é¨æç¤ºè¯­\n    showtoptip() {\n      if (!sessionstorage.getitem(\'showtip\')) {\n        sessionstorage.setitem(\'showtip\', \'true\');\n        notify({\n          message: \'é¿æå¾çå¯ä¿å­å°æ¬å°\',\n          color: \'#c33825\',\n          background: \'#eed3ae\',\n        });\n      }\n    },\n\n    // è·åå¯¹èå¾çåè¡¨\n    getimagelist(type = \'image/png\') {\n      const imagelist = []\n      this.canvaslist.foreach((item, index) => {\n        if (index === 3) {\n          // `ç¦`å­å¿é¡»æ¯pngæ ¼å¼\n          type = \'image/png\'\n        }\n        imagelist.push(this[instantiate_name + index].todataurl(type, 0.8))\n      })\n      return imagelist\n    },\n\n    // è¿åº¦æ¹åæ¶\n    changeprogress(progress) {\n      this.progress = progress\n      this.handlechangesize()\n    },\n\n    // è°æ´ç»ç¬å¤§å°\n    handlechangesize() {\n      const { progress } = this\n      this.curcanvasinstantiate.minwidth = min_width * progress / 100\n      this.curcanvasinstantiate.maxwidth = max_width * progress / 100\n    },\n\n    // å·æ°å¯¹è\n    handlerefresh(rotate) {\n      this.duilian = duilianlist[math.floor(math.random() * duilianlist.length)]\n\n      if (rotate) {\n        if (this.mode === 2) {\n          this.refreshduilian()\n        }\n        // ä½¿iconæè½¬\n        this.isrotate = true\n        settimeout(() => {\n          this.isrotate = false\n        }, 300)\n      }\n    },\n\n    // æ­æ¾èæ¯é³ä¹\n    handleplay() {\n      const { bgm } = this.$refs\n      if (bgm.paused) {\n        bgm.play()\n        this.isplay = true\n      } else {\n        bgm.pause()\n        this.isplay = false\n      }\n    },\n\n    // å®æè¾å¥å¯¹è\n    handlesubmitinput(values) {\n      this.duilian = values\n      this.showinputbox = false\n      this.refreshduilian()\n    },\n\n    // å®ææéå¯¹è\n    handlepickduilian(item) {\n      this.duilian = item\n      this.showpickbox = false\n      this.refreshduilian()\n    }\n  },\n};\n<\/script>\n\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n26\n27\n28\n29\n30\n31\n32\n33\n34\n35\n36\n37\n38\n39\n40\n41\n42\n43\n44\n45\n46\n47\n48\n49\n50\n51\n52\n53\n54\n55\n56\n57\n58\n59\n60\n61\n62\n63\n64\n65\n66\n67\n68\n69\n70\n71\n72\n73\n74\n75\n76\n77\n78\n79\n80\n81\n82\n83\n84\n85\n86\n87\n88\n89\n90\n91\n92\n93\n94\n95\n96\n97\n98\n99\n100\n101\n102\n103\n104\n105\n106\n107\n108\n109\n110\n111\n112\n113\n114\n115\n116\n117\n118\n119\n120\n121\n122\n123\n124\n125\n126\n127\n128\n129\n130\n131\n132\n133\n134\n135\n136\n137\n138\n139\n140\n141\n142\n143\n144\n145\n146\n147\n148\n149\n150\n151\n152\n153\n154\n155\n156\n157\n158\n159\n160\n161\n162\n163\n164\n165\n166\n167\n168\n169\n170\n171\n172\n173\n174\n175\n176\n177\n178\n179\n180\n181\n182\n183\n184\n185\n186\n187\n188\n189\n190\n191\n192\n193\n194\n195\n196\n197\n198\n199\n200\n201\n202\n203\n204\n205\n206\n207\n208\n209\n210\n211\n212\n213\n214\n215\n216\n217\n218\n219\n220\n221\n222\n223\n224\n225\n226\n227\n228\n229\n230\n231\n232\n233\n234\n235\n236\n237\n238\n239\n240\n241\n242\n243\n244\n245\n246\n247\n248\n249\n250\n251\n252\n253\n254\n255\n256\n257\n258\n259\n260\n261\n262\n263\n264\n265\n266\n267\n268\n269\n270\n271\n272\n273\n274\n275\n276\n277\n278\n279\n280\n281\n282\n283\n284\n285\n286\n287\n288\n289\n290\n291\n292\n293\n294\n295\n296\n297\n298\n299\n300\n301\n302\n303\n304\n305\n306\n307\n308\n309\n310\n311\n312\n313\n314\n315\n316\n317\n318\n319\n320\n321\n322\n323\n324\n325\n326\n327\n328\n329\n330\n331\n332\n333\n334\n335\n336\n337\n338\n339\n340\n341\n342\n343\n344\n345\n346\n347\n348\n349\n350\n351\n352\n353\n354\n355\n356\n357\n358\n359\n360\n361\n362\n363\n364\n365\n366\n367\n368\n369\n370\n371\n372\n373\n374\n375\n376\n377\n378\n379\n380\n381\n382\n383\n384\n385\n386\n387\n388\n389\n390\n391\n392\n393\n394\n395\n396\n397\n398\n399\n400\n401\n402\n403\n404\n405\n406\n407\n408\n409\n410\n411\n412\n413\n414\n415\n416\n417\n418\n419\n420\n421\n422\n423\n424\n425\n426\n427\n428\n429\n430\n431\n432\n433\n434\n435\n436\n437\n438\n439\n440\n441\n442\n443\n444\n445\n446\n447\n448\n449\n450\n451\n452\n453\n454\n455\n456\n457\n458\n459\n460\n461\n462\n463\n464\n465\n466\n467\n468\n469\n470\n471\n472\n473\n474\n475\n476\n477\n478\n479\n480\n481\n482\n483\n484\n485\n486\n487\n488\n489\n490\n491\n492\n493\n494\n495\n496\n497\n498\n499\n500\n501\n502\n503\n504\n505\n506\n507\n508\n509\n510\n511\n512\n513\n514\n515\n516\n517\n518\n519\n520\n521\n522\n523\n524\n525\n526\n527\n528\n529\n530\n531\n532\n533\n534\n535\n536\n537\n538\n539\n540\n541\n542\n543\n544\n545\n546\n547\n548\n549\n550\n551\n552\n553\n554\n555\n556\n557\n558\n559\n560\n561\n562\n563\n564\n565\n566\n567\n568\n569\n570\n571\n572\n573\n574\n575\n576\n577\n578\n579\n580\n581\n582\n583\n584\n585\n586\n587\n588\n589\n590\n591\n592\n593\n594\n595\n596\n597\n598\n599\n600\n601\n602\n603\n604\n605\n606\n607\n608\n609\n610\n611\n612\n613\n614\n615\n616\n617\n618\n619\n620\n621\n622\n623\n624\n625\n626\n627\n628\n629\n630\n631\n632\n633\n634\n635\n636\n637\n638\n639\n640\n641\n642\n643\n644\n645\n646\n647\n648\n649\n650\n651\n652\n653\n654\n655\n656\n657\n658\n659\n660\n661\n662\n663\n664\n665\n666\n667\n668\n669\n670\n671\n672\n673\n674\n675\n676\n677\n678\n679\n680\n681\n682\n683\n684\n685\n686\n687\n688\n689\n690\n691\n692\n693\n694\n695\n696\n697\n698\n699\n700\n701\n702\n703\n704\n705\n706\n707\n708\n709\n710\n711\n712\n713\n714\n715\n716\n717\n718\n719\n720\n721\n722\n723\n724\n725\n726\n727\n728\n729\n730\n731\n732\n733\n734\n735\n736\n737\n\n\næ´å¤æè¶£çå°ç½é¡µæ¬¢è¿å³æ³¨å¬ä¼å·æè¶£ç ç©¶ç¤¾:\n\n> æåæ¥è\n> fcå¨çº¿æ¨¡æå¨\n> ç±å½å¤´åçæå¨\n> å°è´¦è¯­é³çæå¨',charsets:{cjk:!0},lastUpdated:"2022/03/18, 07:01:11",lastUpdatedTimestamp:1647558071e3},{title:"BSæ¶æ",frontmatter:{title:"BSæ¶æ",date:"2022-03-18T00:54:47.000Z",permalink:"/pages/23186a/",categories:["åç«¯","Html"],tags:[null]},regularPath:"/%E5%89%8D%E7%AB%AF/01.html/01.BS%E6%9E%B6%E6%9E%84.html",relativePath:"åç«¯/01.html/01.BSæ¶æ.md",key:"v-60cd2f2a",path:"/pages/23186a/",headersStr:null,content:"# BSæ¶æ\n\n 1. èµæºåç±»\n    \n    1. éæèµæº\n       \n       ç¹ç¹ï¼\n       \n       ææç¨æ·è®¿é®ï¼å¾å°çç»ææ¯ä¸æ ·çï¼åºå®çï¼ã\n       \n       å¦ï¼ææ¬ï¼å¾çï¼é³é¢ï¼è§é¢ï¼HTMLï¼CSSï¼JavaScript\n    \n    2. å¨æèµæº\n       \n       ç¹ç¹ï¼\n       \n       ææç¨æ·è®¿é®ï¼å¾å°çç»æå¯è½ä¸ä¸æ ·ã\n       \n       å¦jsp/servletï¼phpï¼asp\n       \n       å¦æç¨æ·è¯·æ±çæ¯å¨æèµæºï¼æå¡å¨ä¼æ§è¡å¨æèµæºè½¬æ¢ä¸ºéæèµæºåéç»ç¨æ·æµè§å¨\n    \n    éæèµæºï¼\n    \n    Htmlï¼ç¨äºæ­å»ºåºç¡ç½é¡µï¼å±ç¤ºé¡µé¢çåå®¹\n    \n    CSS:ç¨äºç¾åé¡µé¢ï¼å¸å±é¡µé¢\n    \n    JavaScriptï¼æ§å¶é¡µé¢çåç´ ï¼è®©é¡µé¢æä¸äºå¨æçææ",normalizedContent:"# bsæ¶æ\n\n 1. èµæºåç±»\n    \n    1. éæèµæº\n       \n       ç¹ç¹ï¼\n       \n       ææç¨æ·è®¿é®ï¼å¾å°çç»ææ¯ä¸æ ·çï¼åºå®çï¼ã\n       \n       å¦ï¼ææ¬ï¼å¾çï¼é³é¢ï¼è§é¢ï¼htmlï¼cssï¼javascript\n    \n    2. å¨æèµæº\n       \n       ç¹ç¹ï¼\n       \n       ææç¨æ·è®¿é®ï¼å¾å°çç»æå¯è½ä¸ä¸æ ·ã\n       \n       å¦jsp/servletï¼phpï¼asp\n       \n       å¦æç¨æ·è¯·æ±çæ¯å¨æèµæºï¼æå¡å¨ä¼æ§è¡å¨æèµæºè½¬æ¢ä¸ºéæèµæºåéç»ç¨æ·æµè§å¨\n    \n    éæèµæºï¼\n    \n    htmlï¼ç¨äºæ­å»ºåºç¡ç½é¡µï¼å±ç¤ºé¡µé¢çåå®¹\n    \n    css:ç¨äºç¾åé¡µé¢ï¼å¸å±é¡µé¢\n    \n    javascriptï¼æ§å¶é¡µé¢çåç´ ï¼è®©é¡µé¢æä¸äºå¨æçææ",charsets:{cjk:!0}},{title:"HTML",frontmatter:{title:"HTML",date:"2022-03-18T00:54:47.000Z",permalink:"/pages/3ba523/",categories:["åç«¯","Html"],tags:[null]},regularPath:"/%E5%89%8D%E7%AB%AF/01.html/02.HTML.html",relativePath:"åç«¯/01.html/02.HTML.md",key:"v-2c5e7662",path:"/pages/3ba523/",headers:[{level:2,title:"åºæ¬æ ç­¾",slug:"åºæ¬æ ç­¾",normalizedTitle:"åºæ¬æ ç­¾",charIndex:549},{level:2,title:"ææ¬æ ç­¾",slug:"ææ¬æ ç­¾",normalizedTitle:"ææ¬æ ç­¾",charIndex:686},{level:2,title:"å¾çæ ç­¾",slug:"å¾çæ ç­¾",normalizedTitle:"å¾çæ ç­¾",charIndex:1018},{level:2,title:"åè¡¨æ ç­¾",slug:"åè¡¨æ ç­¾",normalizedTitle:"åè¡¨æ ç­¾",charIndex:1346},{level:2,title:"é¾æ¥æ ç­¾",slug:"é¾æ¥æ ç­¾",normalizedTitle:"é¾æ¥æ ç­¾",charIndex:2006},{level:2,title:"éç¹ å®ä½",slug:"éç¹-å®ä½",normalizedTitle:"éç¹ å®ä½",charIndex:2194},{level:2,title:"é¢æ ¼å¼æ ç­¾",slug:"é¢æ ¼å¼æ ç­¾",normalizedTitle:"é¢æ ¼å¼æ ç­¾",charIndex:2390},{level:2,title:"ç¹æ®å­ç¬¦",slug:"ç¹æ®å­ç¬¦",normalizedTitle:"ç¹æ®å­ç¬¦",charIndex:2446},{level:2,title:"åæ ç­¾",slug:"åæ ç­¾",normalizedTitle:"åæ ç­¾",charIndex:2488},{level:2,title:"è¡¨æ ¼æ ç­¾",slug:"è¡¨æ ¼æ ç­¾",normalizedTitle:"è¡¨æ ¼æ ç­¾",charIndex:2554},{level:2,title:"è·¯å¾",slug:"è·¯å¾",normalizedTitle:"è·¯å¾",charIndex:1039}],headersStr:"åºæ¬æ ç­¾ ææ¬æ ç­¾ å¾çæ ç­¾ åè¡¨æ ç­¾ é¾æ¥æ ç­¾ éç¹ å®ä½ é¢æ ¼å¼æ ç­¾ ç¹æ®å­ç¬¦ åæ ç­¾ è¡¨æ ¼æ ç­¾ è·¯å¾",content:'# HTML\n\n 1. æ¦å¿µï¼æ¯æç²¾å½©çç½é¡µå¼åè¯­è¨\n    \n    Hyper Text Markup Language è¶ææ¬æ è®°è¯­è¨\n    \n    è¶ææ¬ï¼è¶çº§ææ¬ï¼è¶é¾æ¥ï¼\n    \n    æ è®°è¯­è¨ ï¼ç±æ ç­¾ææçè¯­è¨<æ ç­¾åç§°>å¦htmlï¼xml\n    \n    æ è®°è¯­è¨ä¸æ¯ç¼ç¨è¯­è¨\n\n 2. è§è\n    \n    è¯­æ³ï¼\n    \n    1. htmlææ¡£åç¼å .htmlæè.htm\n    \n    2. æ ç­¾åä¸º\n       \n       1. å´å µæ ç­¾ï¼æå¼å§æ ç­¾åç»ææ ç­¾ãå¦>\n       2. èªé­åæ ç­¾ï¼å¼å§æ ç­¾åç»ææ ç­¾å¨ä¸èµ·ãå¦\n          \n    \n    3. æ ç­¾å¯ä»¥åµå¥ï¼\n       \n       éè¦æ­£ç¡®åµå¥ï¼ä¸è½ä½ ä¸­ææ ï¼æä¸­ä½ \n       \n       <a><b></a></b> #éè¯¯\n       <a><b></b></a> #æ­£ç¡®\n       \n       \n       1\n       2\n       \n    \n    4. å¨å¼å§æ ç­¾ä¸­å¯ä»¥å®ä¹å±æ§ï¼å±æ§æ¯ç±é®å¼å¯¹ææï¼å¼éè¦ç¨å¼å·ï¼ååé½å¯ï¼å¼èµ·æ¥\n    \n    5. htmlæ ç­¾ä¸åºåå¤§å°åï¼ä½æ¯å»ºè®®ä½¿ç¨å°å\n\n\n# åºæ¬æ ç­¾\n\nåºæ¬æ ç­¾ï¼ææhtmlæåºæ¬çæ ç­¾\n\n * htmlï¼htmlææ¡£çæ ¹æ ç­¾\n\n * headï¼å¤´æ ç­¾ãç¨äºæå®htmlææ¡£çä¸äºå±æ§ãå¼å¥å¤é¨çèµæº\n\n * titleï¼æ é¢æ ç­¾\n\n * body:ä½æ ç­¾\n\n * ï¼html5ä¸­å®ä¹è¯¥ææ¡£æ¯htmlææ¡£\n\n\n# ææ¬æ ç­¾\n\nåææ¬æå³çæ ç­¾\n\næ³¨é:\x3c!-- æ³¨éåå®¹ --\x3e \n<h1> -<h6>æ é¢æ ç­¾  ä¸åç­çº§çæ é¢\n<p>  æ®µè½æ ç­¾\n<br>ï¼æ¢è¡æ ç­¾\n<hr>  å±ç¤ºä¸æ¡æ°´å¹³çº¿ æ¥æå±æ§  coloré¢è² widthå®½åº¦ sizeé«åº¦ aignå¯¹é½æ¹å¼ ï¼centerå±ä¸­  leftå·¦å¯¹é½ rightå³å¯¹é½ï¼\n<b> / <strong> å­ä½å ç²\n<i> / <em> æä½\n<s> / <del> å é¤çº¿\n<u> / <ins> ä¸åçº¿\n<font> h5ä¸­å·²ç»æ·æ±° å­ä½æ ç­¾ æ¥æå±æ§  coloré¢è²  sizeå­ä½å¤§å°  faceå­ä½  \n<center> h5ä¸­å·²æ·æ±°  å±ä¸­æ ç­¾\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n\n\n\n# å¾çæ ç­¾\n\n   <img src="å¾çè·¯å¾" align="å¾çå¯¹é½æ¹å¼å¦å³å¯¹é½" alt="å¾çå è½½å¤±è´¥æ¾ç¤ºçæå­ widt="å®½åº¦åç´ å¤§å°" height="é«åº¦åç´ å¤§å°">\n\x3c!--\n   src:å¾çè·¯å¾  ç¸å¯¹è·¯å¾:ä»¥.å¼å¤´çè·¯å¾\n./:å¼å¤´çç®å½ä¸ºå½åç®å½  é»è®¤ä¸º./å¦./image/tv01.jpg\n   ../:ä»£è¡¨ä¸ä¸çº§ç®å½çæä»¶\n   align:å¾çç½é¡µæ¾ç½®ä½ç½®\n   alt:å¾çå è½½å¤±è´¥æ¾ç¤ºæå­\n   width:å®½åº¦ å³åç´ ç¹å¤§å°\n   height:é«åº¦\n   border:è®¾ç½®å¾åçè¾¹æ¡ç²ç»\n   title:é¼ æ æ¬æµ®å¨å¾çä¸æç¤ºçæå­\n--\x3e\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n\n\n\n# åè¡¨æ ç­¾\n\n\x3c!-- åè¡¨æ ç­¾  åæ åºåè¡¨åæåºåè¡¨--\x3e\n\x3c!-- æåºåè¡¨  ol:ä¸ºåè¡¨çåå¤´   li:ä¸ºæ¯ä¸ªåºåçåè£¹--\x3e\næåºåè¡¨\n<ol type="A" start="2">  \x3c!--typeå±æ§å®ä¹åºå·ç±»å   startå±æ§ä¸ºèµ·å§åºå· --\x3e\n    <li>ç¬¬ä¸è¡</li>\n    <li>ç¬¬äºè¡</li>\n    <li>ç¬¬ä¸è¡</li>\n    <li>ç¬¬åè¡</li>\n</ol>\n\x3c!-- æ åºåè¡¨  ul:ä¸ºåè¡¨çåå¤´   li:ä¸ºæ¯ä¸ªåºåçåè£¹--\x3e\næ åºåè¡¨\n<ul type="disc"> \x3c!-- typeåæ¶å¯ä»¥å®ä¹åè¡¨åºå·çå¾å  discå®å¿å  squareæ¹æ¡  circleå --\x3e\n    <li>ç¬¬ä¸è¡</li>\n    <li>ç¬¬äºè¡</li>\n    <li>ç¬¬ä¸è¡</li>\n <li>ç¬¬åè¡</li>\n </ul>\n \n \x3c!-- èªå®ä¹åè¡¨  dl:åè¡¨çåå¤´  dt:åè¯   dd:å´ç»çdtçåè¯æ¥è§£é --\x3e\n <dl>\n \t<td>è¬è</td>  \x3c!-- ä¸éå®ä¸º1ä¸ª  --\x3e\n \t<dd>å¤§ç½è</dd>\n \t<dd>éå¿è</dd>\n \t<dd>çè</dd>\n \t<td>è</td>\n \t<dd>çªè</dd>\n \t<dd>çè</dd>\n </dl>\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n26\n27\n28\n\n\n\n# é¾æ¥æ ç­¾\n\n<a>:å®ä¹ä¸ä¸ªè¶é¾æ¥\nå±æ§: href:æå®è®¿é®èµæºçurl(ç»ä¸èµæºå®ä½ç¬¦)  å¿é¡»æ¯http:// å¼å¤´   å¦ä¸ºç©ºé¾æ¥åå¡«å¥ # å·å³å¯\ntarget:æå®æå¼èµæºçæ¹å¼  1._self:é»è®¤å¼,å¨å½åé¡µé¢æå¼ 2._blank:å¨ç©ºç½é¡µé¢æå¼\n\n<base>:èªé­æ ç­¾,æ¾å¨headä¸­,å®ä¹ææçaæ ç­¾è·³è½¬æ¹å¼\n\n\n\n1\n2\n3\n4\n5\n6\n\n\n\n# éç¹ å®ä½\n\n1.ä½¿ç¨ç¸å¯¹åºçidåæ æ³¨å°è¦è·³è½¬çä½ç½®  å½åé¡µé¢è·³è½¬å°æå®åå®¹çä½ç½®\n<h3 id = "top">test</h3>\n\n2.ä½¿ç¨è¶é¾æ¥æ ç­¾ hrefè·³è½¬ä¸º#idå\n<a href="#top">çè·³è½¬</a>\n\n <h3 id="two">\n <a href="#two">:è·³è½¬é¾æ¥ è·³è½¬å°hrefæå®çidåé¢å¿é¡»è¦æ#\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n\n\n\n# é¢æ ¼å¼æ ç­¾\n\n<pre>\n   ä»  ä¹ ,\n   è¿ç©ºæ ¼ååè½¦é½è¯å«?\n</pre>\n\npreæ ç­¾æå­ä»ä¹æ ·å­ç¹æ®å­ç¬¦é½å¯ä»¥æ¾ç¤ºåºæ¥\n\n\n1\n2\n3\n4\n5\n6\n\n\n\n# ç¹æ®å­ç¬¦\n\n\n\n\n# åæ ç­¾\n\n<div>:æ¯ä¸ä¸ªdivæ²¾æ»¡ä¸æ´è¡ãåçº§æ ç­¾\n<span>:ææ¬ä¿¡æ¯å¨ä¸è¡å±ç¤º,è¡åæ ç­¾ åèæ ç­¾\n\n\n1\n2\n\n\n\n# è¡¨æ ¼æ ç­¾\n\n<table>:å®ä¹è¡¨æ ¼  æ¥æå±æ§  width:å®½åº¦  border:è¾¹æ¡ cellpadding:å®ä¹åå®¹åååæ ¼ä¹é´çè·ç¦».å¦ææå®ä¸º0åååæ ¼ççº¿åä¸ºä¸æ¡   cellspacing:å®ä¹ååæ ¼ä¹é´çè·ç¦».å¦ææå®ä¸º0åååæ ¼ççº¿åä¸ºä¸   bgcolor:è¡¨æ ¼èæ¯é¢è²  align:è¡¨æ ¼å¯¹é½æ¹å¼(leftå·¦å¯¹é½,centerå±ä¸­å¯¹é½,rightå³å¯¹é½)  valigh:è¡¨æ ¼åå®¹åç´åå®¹å¯¹é½æ¹å¼(beselineåºçº¿å¯¹é½,topä¸å¯¹é½,middleå±ä¸­å¯¹é½,bottomä¸å¯¹é½)\n<tr>:å®ä¹è¡  æ¥æå±æ§ bgcolor:è¡¨æ ¼èæ¯é¢è²  align:è¡¨æ ¼ååæ ¼åå®¹å¯¹é½æ¹å¼  \n<td>:å®ä¹ååæ ¼  æ¥æå±æ§ colspan:åå¹¶å   rowspan:åå¹¶è¡\n<th>:å®ä¹è¡¨å¤´ååæ ¼\n<caption> å®ä¹è¡¨æ ¼æ é¢\n<thead> è¡¨ç¤ºè¡¨æ ¼çå¤´é¨å\n<tbody> è¡¨ç¤ºè¡¨æ ¼ä½é¨å\n<tfoot> è¡¨ç¤ºè¡¨æ ¼å°¾é¨\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n\n\n\n# è·¯å¾\n\n 1. ç¸å¯¹è·¯å¾\n    \n    åçº§è·¯å¾\n    \n    ä¸çº§è·¯å¾ /\n    \n    ä¸çº§è·¯å¾ ../\n\n 2. ç»å¯¹è·¯å¾ :å®æ´è·¯å¾',normalizedContent:'# html\n\n 1. æ¦å¿µï¼æ¯æç²¾å½©çç½é¡µå¼åè¯­è¨\n    \n    hyper text markup language è¶ææ¬æ è®°è¯­è¨\n    \n    è¶ææ¬ï¼è¶çº§ææ¬ï¼è¶é¾æ¥ï¼\n    \n    æ è®°è¯­è¨ ï¼ç±æ ç­¾ææçè¯­è¨<æ ç­¾åç§°>å¦htmlï¼xml\n    \n    æ è®°è¯­è¨ä¸æ¯ç¼ç¨è¯­è¨\n\n 2. è§è\n    \n    è¯­æ³ï¼\n    \n    1. htmlææ¡£åç¼å .htmlæè.htm\n    \n    2. æ ç­¾åä¸º\n       \n       1. å´å µæ ç­¾ï¼æå¼å§æ ç­¾åç»ææ ç­¾ãå¦>\n       2. èªé­åæ ç­¾ï¼å¼å§æ ç­¾åç»ææ ç­¾å¨ä¸èµ·ãå¦\n          \n    \n    3. æ ç­¾å¯ä»¥åµå¥ï¼\n       \n       éè¦æ­£ç¡®åµå¥ï¼ä¸è½ä½ ä¸­ææ ï¼æä¸­ä½ \n       \n       <a><b></a></b> #éè¯¯\n       <a><b></b></a> #æ­£ç¡®\n       \n       \n       1\n       2\n       \n    \n    4. å¨å¼å§æ ç­¾ä¸­å¯ä»¥å®ä¹å±æ§ï¼å±æ§æ¯ç±é®å¼å¯¹ææï¼å¼éè¦ç¨å¼å·ï¼ååé½å¯ï¼å¼èµ·æ¥\n    \n    5. htmlæ ç­¾ä¸åºåå¤§å°åï¼ä½æ¯å»ºè®®ä½¿ç¨å°å\n\n\n# åºæ¬æ ç­¾\n\nåºæ¬æ ç­¾ï¼ææhtmlæåºæ¬çæ ç­¾\n\n * htmlï¼htmlææ¡£çæ ¹æ ç­¾\n\n * headï¼å¤´æ ç­¾ãç¨äºæå®htmlææ¡£çä¸äºå±æ§ãå¼å¥å¤é¨çèµæº\n\n * titleï¼æ é¢æ ç­¾\n\n * body:ä½æ ç­¾\n\n * ï¼html5ä¸­å®ä¹è¯¥ææ¡£æ¯htmlææ¡£\n\n\n# ææ¬æ ç­¾\n\nåææ¬æå³çæ ç­¾\n\næ³¨é:\x3c!-- æ³¨éåå®¹ --\x3e \n<h1> -<h6>æ é¢æ ç­¾  ä¸åç­çº§çæ é¢\n<p>  æ®µè½æ ç­¾\n<br>ï¼æ¢è¡æ ç­¾\n<hr>  å±ç¤ºä¸æ¡æ°´å¹³çº¿ æ¥æå±æ§  coloré¢è² widthå®½åº¦ sizeé«åº¦ aignå¯¹é½æ¹å¼ ï¼centerå±ä¸­  leftå·¦å¯¹é½ rightå³å¯¹é½ï¼\n<b> / <strong> å­ä½å ç²\n<i> / <em> æä½\n<s> / <del> å é¤çº¿\n<u> / <ins> ä¸åçº¿\n<font> h5ä¸­å·²ç»æ·æ±° å­ä½æ ç­¾ æ¥æå±æ§  coloré¢è²  sizeå­ä½å¤§å°  faceå­ä½  \n<center> h5ä¸­å·²æ·æ±°  å±ä¸­æ ç­¾\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n\n\n\n# å¾çæ ç­¾\n\n   <img src="å¾çè·¯å¾" align="å¾çå¯¹é½æ¹å¼å¦å³å¯¹é½" alt="å¾çå è½½å¤±è´¥æ¾ç¤ºçæå­ widt="å®½åº¦åç´ å¤§å°" height="é«åº¦åç´ å¤§å°">\n\x3c!--\n   src:å¾çè·¯å¾  ç¸å¯¹è·¯å¾:ä»¥.å¼å¤´çè·¯å¾\n./:å¼å¤´çç®å½ä¸ºå½åç®å½  é»è®¤ä¸º./å¦./image/tv01.jpg\n   ../:ä»£è¡¨ä¸ä¸çº§ç®å½çæä»¶\n   align:å¾çç½é¡µæ¾ç½®ä½ç½®\n   alt:å¾çå è½½å¤±è´¥æ¾ç¤ºæå­\n   width:å®½åº¦ å³åç´ ç¹å¤§å°\n   height:é«åº¦\n   border:è®¾ç½®å¾åçè¾¹æ¡ç²ç»\n   title:é¼ æ æ¬æµ®å¨å¾çä¸æç¤ºçæå­\n--\x3e\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n\n\n\n# åè¡¨æ ç­¾\n\n\x3c!-- åè¡¨æ ç­¾  åæ åºåè¡¨åæåºåè¡¨--\x3e\n\x3c!-- æåºåè¡¨  ol:ä¸ºåè¡¨çåå¤´   li:ä¸ºæ¯ä¸ªåºåçåè£¹--\x3e\næåºåè¡¨\n<ol type="a" start="2">  \x3c!--typeå±æ§å®ä¹åºå·ç±»å   startå±æ§ä¸ºèµ·å§åºå· --\x3e\n    <li>ç¬¬ä¸è¡</li>\n    <li>ç¬¬äºè¡</li>\n    <li>ç¬¬ä¸è¡</li>\n    <li>ç¬¬åè¡</li>\n</ol>\n\x3c!-- æ åºåè¡¨  ul:ä¸ºåè¡¨çåå¤´   li:ä¸ºæ¯ä¸ªåºåçåè£¹--\x3e\næ åºåè¡¨\n<ul type="disc"> \x3c!-- typeåæ¶å¯ä»¥å®ä¹åè¡¨åºå·çå¾å  discå®å¿å  squareæ¹æ¡  circleå --\x3e\n    <li>ç¬¬ä¸è¡</li>\n    <li>ç¬¬äºè¡</li>\n    <li>ç¬¬ä¸è¡</li>\n <li>ç¬¬åè¡</li>\n </ul>\n \n \x3c!-- èªå®ä¹åè¡¨  dl:åè¡¨çåå¤´  dt:åè¯   dd:å´ç»çdtçåè¯æ¥è§£é --\x3e\n <dl>\n \t<td>è¬è</td>  \x3c!-- ä¸éå®ä¸º1ä¸ª  --\x3e\n \t<dd>å¤§ç½è</dd>\n \t<dd>éå¿è</dd>\n \t<dd>çè</dd>\n \t<td>è</td>\n \t<dd>çªè</dd>\n \t<dd>çè</dd>\n </dl>\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n26\n27\n28\n\n\n\n# é¾æ¥æ ç­¾\n\n<a>:å®ä¹ä¸ä¸ªè¶é¾æ¥\nå±æ§: href:æå®è®¿é®èµæºçurl(ç»ä¸èµæºå®ä½ç¬¦)  å¿é¡»æ¯http:// å¼å¤´   å¦ä¸ºç©ºé¾æ¥åå¡«å¥ # å·å³å¯\ntarget:æå®æå¼èµæºçæ¹å¼  1._self:é»è®¤å¼,å¨å½åé¡µé¢æå¼ 2._blank:å¨ç©ºç½é¡µé¢æå¼\n\n<base>:èªé­æ ç­¾,æ¾å¨headä¸­,å®ä¹ææçaæ ç­¾è·³è½¬æ¹å¼\n\n\n\n1\n2\n3\n4\n5\n6\n\n\n\n# éç¹ å®ä½\n\n1.ä½¿ç¨ç¸å¯¹åºçidåæ æ³¨å°è¦è·³è½¬çä½ç½®  å½åé¡µé¢è·³è½¬å°æå®åå®¹çä½ç½®\n<h3 id = "top">test</h3>\n\n2.ä½¿ç¨è¶é¾æ¥æ ç­¾ hrefè·³è½¬ä¸º#idå\n<a href="#top">çè·³è½¬</a>\n\n <h3 id="two">\n <a href="#two">:è·³è½¬é¾æ¥ è·³è½¬å°hrefæå®çidåé¢å¿é¡»è¦æ#\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n\n\n\n# é¢æ ¼å¼æ ç­¾\n\n<pre>\n   ä»  ä¹ ,\n   è¿ç©ºæ ¼ååè½¦é½è¯å«?\n</pre>\n\npreæ ç­¾æå­ä»ä¹æ ·å­ç¹æ®å­ç¬¦é½å¯ä»¥æ¾ç¤ºåºæ¥\n\n\n1\n2\n3\n4\n5\n6\n\n\n\n# ç¹æ®å­ç¬¦\n\n\n\n\n# åæ ç­¾\n\n<div>:æ¯ä¸ä¸ªdivæ²¾æ»¡ä¸æ´è¡ãåçº§æ ç­¾\n<span>:ææ¬ä¿¡æ¯å¨ä¸è¡å±ç¤º,è¡åæ ç­¾ åèæ ç­¾\n\n\n1\n2\n\n\n\n# è¡¨æ ¼æ ç­¾\n\n<table>:å®ä¹è¡¨æ ¼  æ¥æå±æ§  width:å®½åº¦  border:è¾¹æ¡ cellpadding:å®ä¹åå®¹åååæ ¼ä¹é´çè·ç¦».å¦ææå®ä¸º0åååæ ¼ççº¿åä¸ºä¸æ¡   cellspacing:å®ä¹ååæ ¼ä¹é´çè·ç¦».å¦ææå®ä¸º0åååæ ¼ççº¿åä¸ºä¸   bgcolor:è¡¨æ ¼èæ¯é¢è²  align:è¡¨æ ¼å¯¹é½æ¹å¼(leftå·¦å¯¹é½,centerå±ä¸­å¯¹é½,rightå³å¯¹é½)  valigh:è¡¨æ ¼åå®¹åç´åå®¹å¯¹é½æ¹å¼(beselineåºçº¿å¯¹é½,topä¸å¯¹é½,middleå±ä¸­å¯¹é½,bottomä¸å¯¹é½)\n<tr>:å®ä¹è¡  æ¥æå±æ§ bgcolor:è¡¨æ ¼èæ¯é¢è²  align:è¡¨æ ¼ååæ ¼åå®¹å¯¹é½æ¹å¼  \n<td>:å®ä¹ååæ ¼  æ¥æå±æ§ colspan:åå¹¶å   rowspan:åå¹¶è¡\n<th>:å®ä¹è¡¨å¤´ååæ ¼\n<caption> å®ä¹è¡¨æ ¼æ é¢\n<thead> è¡¨ç¤ºè¡¨æ ¼çå¤´é¨å\n<tbody> è¡¨ç¤ºè¡¨æ ¼ä½é¨å\n<tfoot> è¡¨ç¤ºè¡¨æ ¼å°¾é¨\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n\n\n\n# è·¯å¾\n\n 1. ç¸å¯¹è·¯å¾\n    \n    åçº§è·¯å¾\n    \n    ä¸çº§è·¯å¾ /\n    \n    ä¸çº§è·¯å¾ ../\n\n 2. ç»å¯¹è·¯å¾ :å®æ´è·¯å¾',charsets:{cjk:!0}},{title:"HTML5",frontmatter:{title:"HTML5",date:"2022-03-18T00:54:47.000Z",permalink:"/pages/8600fc/",categories:["åç«¯","Html"],tags:[null]},regularPath:"/%E5%89%8D%E7%AB%AF/01.html/03.HTML5.html",relativePath:"åç«¯/01.html/03.HTML5.md",key:"v-7c2eb23b",path:"/pages/8600fc/",headers:[{level:2,title:"è¯­ä¹åæ ç­¾",slug:"è¯­ä¹åæ ç­¾",normalizedTitle:"è¯­ä¹åæ ç­¾",charIndex:12},{level:2,title:"å¤åªä½æ ç­¾",slug:"å¤åªä½æ ç­¾",normalizedTitle:"å¤åªä½æ ç­¾",charIndex:189},{level:3,title:"é³é¢æ ç­¾",slug:"é³é¢æ ç­¾",normalizedTitle:"é³é¢æ ç­¾",charIndex:199},{level:3,title:"è§é¢æ ç­¾",slug:"è§é¢æ ç­¾",normalizedTitle:"è§é¢æ ç­¾",charIndex:604},{level:2,title:"è¡¨åå±æ§",slug:"è¡¨åå±æ§",normalizedTitle:"è¡¨åå±æ§",charIndex:938},{level:2,title:"è¡¨å",slug:"è¡¨å",normalizedTitle:"è¡¨å",charIndex:938}],headersStr:"è¯­ä¹åæ ç­¾ å¤åªä½æ ç­¾ é³é¢æ ç­¾ è§é¢æ ç­¾ è¡¨åå±æ§ è¡¨å",content:'# HTML5\n\n\n# è¯­ä¹åæ ç­¾\n\nhtml5ä¸­ä¸ºäºæé«å¯è¯»æ§,æä¾äºä¸äºæ ç­¾,è¿äºæ ç­¾ä¸»è¦éå¯¹äºæç´¢å¼æç,ç§»å¨ç«¯ç»å¸¸ä½¿ç¨è¿äºæ ç­¾,å¨IE9ä¸­éè¦æè¿äºæ ç­¾è½¬ä¸ºååç´ .\n\n<header> å¤´é¨æ ç­¾\n<nav>å¯¼èªæ ç­¾\n<article>åå®¹æ ç­¾\n<section>åçº§æ ç­¾\n<aside>ä¾§è¾¹æ æ ç­¾\n<footer> å°¾é¨æ ç­¾\n\n\n\n1\n2\n3\n4\n5\n6\n7\n\n\n\n# å¤åªä½æ ç­¾\n\n\n# é³é¢æ ç­¾\n\nä½¿ç¨<audio>å³é®å­,æ¥æå±æ§\n\n * src:è·¯å¾ å¦:src:"../audio/xx.MP3"\n * controls:å¦æåºç°è¯¥å±æ§ååç¨æ·æ¾ç¤ºæ§ä»¶å¦æ­æ¾æé® å¦:controls="controls"\n * autoplay:é³é¢å è½½å®åèªå¨æ­æ¾ å¦:autoplay ="autoplay"\n * loop:å¾ªç¯æ­æ¾ å¦:loop="loop"\n\nä¸åçæµè§å¨æ¯æä¸åçé³é¢æ ¼å¼,æ¯å¦æçæµè§å¨æ¯æMP3æçåªæ¯æogg,æä»¬çè§£å³æ¹æ³æ¯ä¸ºä¸åæµè§å¨æä¾ä¸åçé³é¢æ ¼å¼\n\n <audio controls="controls">\n        <source src="xxx.mp3" type="audio/mpeg">\n        <source src="xx.ogg" type="audio/ogg" > \n    </audio>\n\n\n1\n2\n3\n4\n\n\n\n# è§é¢æ ç­¾\n\nä½¿ç¨<video>,æ¥æå±æ§\n\n * src:è·¯å¾ å¦:src:"../audio/xx.MP4"\n * controls:å¦æåºç°è¯¥å±æ§ååç¨æ·æ¾ç¤ºæ§ä»¶å¦æ­æ¾æé® å¦:controls="controls"\n * autoplay:è§é¢å è½½å®åèªå¨æ­æ¾ å¦:autoplay ="autoplay" è°·æ­ä¸­é»è®¤ç¦ç¨èªå¨æ­æ¾,åªééé³æ­æ¾å³å¯\n * loop:å¾ªç¯æ­æ¾ å¦:loop="loop"\n * poster:å è½½ç­å¾çå¾ç å¦:poster:"å¾çè·¯å¾"\n * muted:éé³æ­æ¾ å¦:muted="muted"\n * preload:æ¯å¦å è½½å®åæ­æ¾ å¦:preload="preload"\n\nåæ ·ææ ¼å¼å²çª,ä¸é³é¢å¤çæ¹æ³ä¸è´\n\n\n\n\n# è¡¨åå±æ§\n\n * type="email" :éå®ç¨æ·ä½¿ç¨emailç±»å\n * url; urlç±»å\n * date æ¥æç±»å\n * time æ¶é´ç±»å\n * month æç±»å\n * week å¨ç±»å\n * number; å¿é¡»ä¸ºæ°å­\n * tel ææºå·ç \n * search æç´¢æ¡ å¯ä»¥å¿«éæ¸é¤è¾å¥æ¡åå®¹\n * color é¢è²éæ©\n\n\n# è¡¨å\n\n * required:å¶åå®¹ä¸è½ä¸ºç©º å¦:required="required"\n * placeholder:æç¤ºææ¬,åæ å¨è¡¨åæå­å¨å¼åä¸æ¾ç¤º å¦:placeholder="è¯·è¾å¥ç¨æ·å"\n * autofocus:èªå¨èç¦,é¡µé¢å è½½å®åæ èªå¨èç¦å¨æ­¤è¡¨å å¦:autofocus="autofocus"\n * autocompleate:æµè§å¨æ ¹æ®ä¹åé®å¥çå¼,åºç°æç¤º, é»è®¤æ¯æå¼,æonåofféé¡¹,åæ¶éè¦å¨è¡¨ååè®¾ç½®nameå±æ§ å¦:autocompleate:off;\n * multiple:å¯ä»¥å¤éæä»¶æäº¤ å¦:multiple="multiple"',normalizedContent:'# html5\n\n\n# è¯­ä¹åæ ç­¾\n\nhtml5ä¸­ä¸ºäºæé«å¯è¯»æ§,æä¾äºä¸äºæ ç­¾,è¿äºæ ç­¾ä¸»è¦éå¯¹äºæç´¢å¼æç,ç§»å¨ç«¯ç»å¸¸ä½¿ç¨è¿äºæ ç­¾,å¨ie9ä¸­éè¦æè¿äºæ ç­¾è½¬ä¸ºååç´ .\n\n<header> å¤´é¨æ ç­¾\n<nav>å¯¼èªæ ç­¾\n<article>åå®¹æ ç­¾\n<section>åçº§æ ç­¾\n<aside>ä¾§è¾¹æ æ ç­¾\n<footer> å°¾é¨æ ç­¾\n\n\n\n1\n2\n3\n4\n5\n6\n7\n\n\n\n# å¤åªä½æ ç­¾\n\n\n# é³é¢æ ç­¾\n\nä½¿ç¨<audio>å³é®å­,æ¥æå±æ§\n\n * src:è·¯å¾ å¦:src:"../audio/xx.mp3"\n * controls:å¦æåºç°è¯¥å±æ§ååç¨æ·æ¾ç¤ºæ§ä»¶å¦æ­æ¾æé® å¦:controls="controls"\n * autoplay:é³é¢å è½½å®åèªå¨æ­æ¾ å¦:autoplay ="autoplay"\n * loop:å¾ªç¯æ­æ¾ å¦:loop="loop"\n\nä¸åçæµè§å¨æ¯æä¸åçé³é¢æ ¼å¼,æ¯å¦æçæµè§å¨æ¯æmp3æçåªæ¯æogg,æä»¬çè§£å³æ¹æ³æ¯ä¸ºä¸åæµè§å¨æä¾ä¸åçé³é¢æ ¼å¼\n\n <audio controls="controls">\n        <source src="xxx.mp3" type="audio/mpeg">\n        <source src="xx.ogg" type="audio/ogg" > \n    </audio>\n\n\n1\n2\n3\n4\n\n\n\n# è§é¢æ ç­¾\n\nä½¿ç¨<video>,æ¥æå±æ§\n\n * src:è·¯å¾ å¦:src:"../audio/xx.mp4"\n * controls:å¦æåºç°è¯¥å±æ§ååç¨æ·æ¾ç¤ºæ§ä»¶å¦æ­æ¾æé® å¦:controls="controls"\n * autoplay:è§é¢å è½½å®åèªå¨æ­æ¾ å¦:autoplay ="autoplay" è°·æ­ä¸­é»è®¤ç¦ç¨èªå¨æ­æ¾,åªééé³æ­æ¾å³å¯\n * loop:å¾ªç¯æ­æ¾ å¦:loop="loop"\n * poster:å è½½ç­å¾çå¾ç å¦:poster:"å¾çè·¯å¾"\n * muted:éé³æ­æ¾ å¦:muted="muted"\n * preload:æ¯å¦å è½½å®åæ­æ¾ å¦:preload="preload"\n\nåæ ·ææ ¼å¼å²çª,ä¸é³é¢å¤çæ¹æ³ä¸è´\n\n\n\n\n# è¡¨åå±æ§\n\n * type="email" :éå®ç¨æ·ä½¿ç¨emailç±»å\n * url; urlç±»å\n * date æ¥æç±»å\n * time æ¶é´ç±»å\n * month æç±»å\n * week å¨ç±»å\n * number; å¿é¡»ä¸ºæ°å­\n * tel ææºå·ç \n * search æç´¢æ¡ å¯ä»¥å¿«éæ¸é¤è¾å¥æ¡åå®¹\n * color é¢è²éæ©\n\n\n# è¡¨å\n\n * required:å¶åå®¹ä¸è½ä¸ºç©º å¦:required="required"\n * placeholder:æç¤ºææ¬,åæ å¨è¡¨åæå­å¨å¼åä¸æ¾ç¤º å¦:placeholder="è¯·è¾å¥ç¨æ·å"\n * autofocus:èªå¨èç¦,é¡µé¢å è½½å®åæ èªå¨èç¦å¨æ­¤è¡¨å å¦:autofocus="autofocus"\n * autocompleate:æµè§å¨æ ¹æ®ä¹åé®å¥çå¼,åºç°æç¤º, é»è®¤æ¯æå¼,æonåofféé¡¹,åæ¶éè¦å¨è¡¨ååè®¾ç½®nameå±æ§ å¦:autocompleate:off;\n * multiple:å¯ä»¥å¤éæä»¶æäº¤ å¦:multiple="multiple"',charsets:{cjk:!0}},{title:"è¡¨åæ ç­¾",frontmatter:{title:"è¡¨åæ ç­¾",date:"2022-03-18T00:54:47.000Z",permalink:"/pages/c2f00e/",categories:["åç«¯","Html"],tags:[null]},regularPath:"/%E5%89%8D%E7%AB%AF/01.html/04.%E8%A1%A8%E5%8D%95%E6%A0%87%E7%AD%BE.html",relativePath:"åç«¯/01.html/04.è¡¨åæ ç­¾.md",key:"v-5cb205ae",path:"/pages/c2f00e/",headers:[{level:2,title:"formè¡¨å",slug:"formè¡¨å",normalizedTitle:"formè¡¨å",charIndex:40},{level:2,title:"input:å¯ä»¥éè¿typeå±æ§å¼,æ¹ååç´ çæ ·å¼",slug:"input-å¯ä»¥éè¿typeå±æ§å¼-æ¹ååç´ çæ ·å¼",normalizedTitle:"input:å¯ä»¥éè¿typeå±æ§å¼,æ¹ååç´ çæ ·å¼",charIndex:643},{level:2,title:"label:æå®è¾å¥é¡¹çæå­æè¿°ä¿¡æ¯",slug:"label-æå®è¾å¥é¡¹çæå­æè¿°ä¿¡æ¯",normalizedTitle:"label:æå®è¾å¥é¡¹çæå­æè¿°ä¿¡æ¯",charIndex:1357},{level:2,title:"select:ä¸æåè¡¨",slug:"select-ä¸æåè¡¨",normalizedTitle:"select:ä¸æåè¡¨",charIndex:1465},{level:2,title:"textarea:ææ¬å",slug:"textarea-ææ¬å",normalizedTitle:"textarea:ææ¬å",charIndex:1776}],headersStr:"formè¡¨å input:å¯ä»¥éè¿typeå±æ§å¼,æ¹ååç´ çæ ·å¼ label:æå®è¾å¥é¡¹çæå­æè¿°ä¿¡æ¯ select:ä¸æåè¡¨ textarea:ææ¬å",content:'# è¡¨åæ ç­¾\n\nè¡¨å:ç¨äºééç¨æ·è¾å¥çæ°æ®ç.ç¨äºåæå¡å¨è¿è¡äº¤äº.\n\n\n# formè¡¨å\n\n<form action="#" method="get" name="f">\n    \x3c!--form ç¨äºå®ä¹è¡¨åç,å¯ä»¥å®ä¹ä¸ä¸ªèå´,èå´ä»£è¡¨ééç¨æ·çèå´\n        å±æ§:\n            action:æå®æäº¤æ°æ®çurl\n            method:æå®æäº¤æ¹å¼\n                åç±»:ä¸å±7ç§,æ2ç§æ¯è¾å¸¸ç¨\n                     get:\n                        1.è¯·æ±åæ°ä¼å¨å°åæ ä¸­æ¾ç¤º\n                        2.è¯·æ±åæ°çé¿çæ¯æéå¶ç\n                        3.ä¸å¤ªå®å¨\n                    post:\n                        1.è¯·æ±åæ°ä¸ä¼å¨å°åä¸­æ¾ç¤º,ä¼å°è£å¨è¯·æ±ä½ä¸­(httpåè®®)\n                        2.è¯·æ±åæ°çå¤§å°æ²¡æéå¶.\n                        3.è¾ä¸ºå®å¨\n                 è¡¨åé¡¹ä¸­çæ°æ®æ³è¦è¢«æäº¤,å¿é¡»æå®å¶nameå±æ§\n\t\t\tname:è¡¨ååå­\n\n    --\x3e\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n\n\n\n\nè¡¨åé¡¹æ ç­¾:\n\n\n# input:å¯ä»¥éè¿typeå±æ§å¼,æ¹ååç´ çæ ·å¼\n\n * typeå±æ§:\n\n * text:ææ¬è¾å¥æ¡,é»è®¤å¼\n   \n   * placeholder:æå®è¾å¥æ¡çæç¤ºä¿¡æ¯,å½è¾å¥æ¡çåå®¹åçåå,ä¼èªå¨æ¸ç©ºæç¤ºä¿¡æ¯\n\n * password:å¯ç è¾å¥æ¡\n\n * radio:åéæ¡\n   \n   * å±æ§:\n     * name:è¦æ³å®ç°åéå¤ä¸ªåéæ¡nameå±æ§å¿é¡»ç¸å\n     * value:ä¸è¬åç»æ¯ä¸ªåéæ¡æä¾valueå¼,æäº¤æ¶è¿åvalueå¼\n     * chec ked:è®¾ç½®é»è®¤æ¯å¦å¾é\n\n * checkbox:å¤éæ¡\n   \n   * å±æ§\n     * name:è¦æ³å®ç°åéå¤ä¸ªåéæ¡nameå±æ§å¿é¡»ç¸å\n     * value:ä¸è¬åç»æ¯ä¸ªåéæ¡æä¾valueå¼,æäº¤æ¶è¿åvalueå¼\n     * checked:è®¾ç½®é»è®¤æ¯å¦å¾é\n\n * file:æä»¶éæ©æ¡ ä¸ä¼ æä»¶ç¨\n\n * hidden:éèå,ç¨äºæäº¤ä¸äºä¿¡æ¯\n\n * æé®:\n   \n   * submit:æäº¤æé®,å¯ä»¥æäº¤è¡¨å\n   * button: æ®éæé®,éåå¶ä»JavaScriptä½¿ç¨\n   * image:è®©å¾çæä¸ºæé® srcä¸ºå¾çè·¯å¾\n   * reset:éç½®è¡¨åä¸­çææ¬\n\n * color:åè²å¨,è®¾ç½®nameå±æ§åå¯ä»¥æäº¤é¢è²è¡¨å\n\n * date:æ¥æ\n\n * datetime-local:å±æ§ä¸ºæ¥æ 24å°æ¶è¿å¶æ¶é´ è®¾ç½®nameå±æ§åæäº¤è¡¨åè¿åæ¥æåæ ¼å¼ååçæ¶é´\n\n * email: emailå±æ§ä¸ºé®ç®± nameå±æ§æäº¤è¡¨åè¿åå¼ ä¼åå¤æ­ç¨æ·çè¾å¥æ¯å¦åå«@ç¬¦å·\n\n\n# label:æå®è¾å¥é¡¹çæå­æè¿°ä¿¡æ¯\n\n * labelçforå±æ§ä¸è¬ååinputçidå±æ§ï¼,å¦æå¯¹åºäºåç¹å»labelåºåä¼èªå¨è®©inputè¾å¥æ¡è·åç¦ç¹\n * æèå¯ä»¥å¨labelæ ç­¾ä¸­å®ä¹è¾å¥æ¡\n\n\n# select:ä¸æåè¡¨\n\nçä»½:<select name="province">  \x3c!-- <select>ä¸æåè¡¨  nameå±æ§æäº¤è¡¨å--\x3e\n    <option value="1" >å¹¿ä¸</option>  \x3c!-- åè¡¨åç´ ç¨<option>åè£¹ è®¾ç½®valueåæäº¤valueå¼ å¦æä¸è®¾ç½®åè¿ååè£¹çæå­--\x3e\n    <option value="2" selected>ä¸æµ·</option>  \x3c!-- selectedå±æ§  å°æ¹åç´ è®¾ç½®ä¸ºé»è®¤éé¡¹  å¦ä¸æå®åé»è®¤ä¸ºä¸æåè¡¨ä¸­ç¬¬ä¸ä¸ªåç´ --\x3e\n    <option value="3">åäº¬</option>\n\n\n1\n2\n3\n4\n\n\n\n# textarea:ææ¬å\n\n * cols:æå®åæ°,æ¯ä¸è¡æå¤å°ä¸ªå­ç¬¦\n * rows:é»è®¤å¤å°',normalizedContent:'# è¡¨åæ ç­¾\n\nè¡¨å:ç¨äºééç¨æ·è¾å¥çæ°æ®ç.ç¨äºåæå¡å¨è¿è¡äº¤äº.\n\n\n# formè¡¨å\n\n<form action="#" method="get" name="f">\n    \x3c!--form ç¨äºå®ä¹è¡¨åç,å¯ä»¥å®ä¹ä¸ä¸ªèå´,èå´ä»£è¡¨ééç¨æ·çèå´\n        å±æ§:\n            action:æå®æäº¤æ°æ®çurl\n            method:æå®æäº¤æ¹å¼\n                åç±»:ä¸å±7ç§,æ2ç§æ¯è¾å¸¸ç¨\n                     get:\n                        1.è¯·æ±åæ°ä¼å¨å°åæ ä¸­æ¾ç¤º\n                        2.è¯·æ±åæ°çé¿çæ¯æéå¶ç\n                        3.ä¸å¤ªå®å¨\n                    post:\n                        1.è¯·æ±åæ°ä¸ä¼å¨å°åä¸­æ¾ç¤º,ä¼å°è£å¨è¯·æ±ä½ä¸­(httpåè®®)\n                        2.è¯·æ±åæ°çå¤§å°æ²¡æéå¶.\n                        3.è¾ä¸ºå®å¨\n                 è¡¨åé¡¹ä¸­çæ°æ®æ³è¦è¢«æäº¤,å¿é¡»æå®å¶nameå±æ§\n\t\t\tname:è¡¨ååå­\n\n    --\x3e\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n\n\n\n\nè¡¨åé¡¹æ ç­¾:\n\n\n# input:å¯ä»¥éè¿typeå±æ§å¼,æ¹ååç´ çæ ·å¼\n\n * typeå±æ§:\n\n * text:ææ¬è¾å¥æ¡,é»è®¤å¼\n   \n   * placeholder:æå®è¾å¥æ¡çæç¤ºä¿¡æ¯,å½è¾å¥æ¡çåå®¹åçåå,ä¼èªå¨æ¸ç©ºæç¤ºä¿¡æ¯\n\n * password:å¯ç è¾å¥æ¡\n\n * radio:åéæ¡\n   \n   * å±æ§:\n     * name:è¦æ³å®ç°åéå¤ä¸ªåéæ¡nameå±æ§å¿é¡»ç¸å\n     * value:ä¸è¬åç»æ¯ä¸ªåéæ¡æä¾valueå¼,æäº¤æ¶è¿åvalueå¼\n     * chec ked:è®¾ç½®é»è®¤æ¯å¦å¾é\n\n * checkbox:å¤éæ¡\n   \n   * å±æ§\n     * name:è¦æ³å®ç°åéå¤ä¸ªåéæ¡nameå±æ§å¿é¡»ç¸å\n     * value:ä¸è¬åç»æ¯ä¸ªåéæ¡æä¾valueå¼,æäº¤æ¶è¿åvalueå¼\n     * checked:è®¾ç½®é»è®¤æ¯å¦å¾é\n\n * file:æä»¶éæ©æ¡ ä¸ä¼ æä»¶ç¨\n\n * hidden:éèå,ç¨äºæäº¤ä¸äºä¿¡æ¯\n\n * æé®:\n   \n   * submit:æäº¤æé®,å¯ä»¥æäº¤è¡¨å\n   * button: æ®éæé®,éåå¶ä»javascriptä½¿ç¨\n   * image:è®©å¾çæä¸ºæé® srcä¸ºå¾çè·¯å¾\n   * reset:éç½®è¡¨åä¸­çææ¬\n\n * color:åè²å¨,è®¾ç½®nameå±æ§åå¯ä»¥æäº¤é¢è²è¡¨å\n\n * date:æ¥æ\n\n * datetime-local:å±æ§ä¸ºæ¥æ 24å°æ¶è¿å¶æ¶é´ è®¾ç½®nameå±æ§åæäº¤è¡¨åè¿åæ¥æåæ ¼å¼ååçæ¶é´\n\n * email: emailå±æ§ä¸ºé®ç®± nameå±æ§æäº¤è¡¨åè¿åå¼ ä¼åå¤æ­ç¨æ·çè¾å¥æ¯å¦åå«@ç¬¦å·\n\n\n# label:æå®è¾å¥é¡¹çæå­æè¿°ä¿¡æ¯\n\n * labelçforå±æ§ä¸è¬ååinputçidå±æ§ï¼,å¦æå¯¹åºäºåç¹å»labelåºåä¼èªå¨è®©inputè¾å¥æ¡è·åç¦ç¹\n * æèå¯ä»¥å¨labelæ ç­¾ä¸­å®ä¹è¾å¥æ¡\n\n\n# select:ä¸æåè¡¨\n\nçä»½:<select name="province">  \x3c!-- <select>ä¸æåè¡¨  nameå±æ§æäº¤è¡¨å--\x3e\n    <option value="1" >å¹¿ä¸</option>  \x3c!-- åè¡¨åç´ ç¨<option>åè£¹ è®¾ç½®valueåæäº¤valueå¼ å¦æä¸è®¾ç½®åè¿ååè£¹çæå­--\x3e\n    <option value="2" selected>ä¸æµ·</option>  \x3c!-- selectedå±æ§  å°æ¹åç´ è®¾ç½®ä¸ºé»è®¤éé¡¹  å¦ä¸æå®åé»è®¤ä¸ºä¸æåè¡¨ä¸­ç¬¬ä¸ä¸ªåç´ --\x3e\n    <option value="3">åäº¬</option>\n\n\n1\n2\n3\n4\n\n\n\n# textarea:ææ¬å\n\n * cols:æå®åæ°,æ¯ä¸è¡æå¤å°ä¸ªå­ç¬¦\n * rows:é»è®¤å¤å°',charsets:{cjk:!0}},{title:"CSS",frontmatter:{title:"CSS",date:"2022-03-18T00:54:47.000Z",permalink:"/pages/b3f43c/",categories:["åç«¯","Html"],tags:[null]},regularPath:"/%E5%89%8D%E7%AB%AF/01.html/05.CSS.html",relativePath:"åç«¯/01.html/05.CSS.md",key:"v-3aba634a",path:"/pages/b3f43c/",headers:[{level:2,title:"æ¦å¿µ:Cascading Style Sheets å±å æ ·å¼è¡¨",slug:"æ¦å¿µ-cascading-style-sheets-å±å æ ·å¼è¡¨",normalizedTitle:"æ¦å¿µ:cascading style sheets å±å æ ·å¼è¡¨",charIndex:25},{level:2,title:"cssè¯­æ³",slug:"cssè¯­æ³",normalizedTitle:"cssè¯­æ³",charIndex:690},{level:2,title:"éæ©å¨:ç­éå·æç¸ä¼¼ç¹å¾çåç´ ",slug:"éæ©å¨-ç­éå·æç¸ä¼¼ç¹å¾çåç´ ",normalizedTitle:"éæ©å¨:ç­éå·æç¸ä¼¼ç¹å¾çåç´ ",charIndex:797},{level:3,title:"å¤ç±»å",slug:"å¤ç±»å",normalizedTitle:"å¤ç±»å",charIndex:1522},{level:2,title:"æ©å±éæ©å¨",slug:"æ©å±éæ©å¨",normalizedTitle:"æ©å±éæ©å¨",charIndex:1647},{level:2,title:"æ ç­¾æ¾ç¤ºæ¨¡å¼(display)",slug:"æ ç­¾æ¾ç¤ºæ¨¡å¼-display",normalizedTitle:"æ ç­¾æ¾ç¤ºæ¨¡å¼(display)",charIndex:2145},{level:3,title:"ä»ä¹æ¯æ ç­¾æ¾ç¤ºæ¨¡å¼",slug:"ä»ä¹æ¯æ ç­¾æ¾ç¤ºæ¨¡å¼",normalizedTitle:"ä»ä¹æ¯æ ç­¾æ¾ç¤ºæ¨¡å¼",charIndex:2165},{level:3,title:"åçº§åç´ ",slug:"åçº§åç´ ",normalizedTitle:"åçº§åç´ ",charIndex:2225},{level:3,title:"è¡ååç´ ",slug:"è¡ååç´ ",normalizedTitle:"è¡ååç´ ",charIndex:2216},{level:3,title:"è¡åååç´ ",slug:"è¡åååç´ ",normalizedTitle:"è¡åååç´ ",charIndex:2534},{level:3,title:"æ ç­¾æ¾ç¤ºæ¨¡å¼è½¬æ¢",slug:"æ ç­¾æ¾ç¤ºæ¨¡å¼è½¬æ¢",normalizedTitle:"æ ç­¾æ¾ç¤ºæ¨¡å¼è½¬æ¢",charIndex:2662},{level:2,title:"ï¼fontï¼å­ä½",slug:"font-å­ä½",normalizedTitle:"ï¼fontï¼å­ä½",charIndex:2758},{level:2,title:"CCSå¤è§å±æ§ ææ¬(text)",slug:"ccså¤è§å±æ§-ææ¬-text",normalizedTitle:"ccså¤è§å±æ§ ææ¬(text)",charIndex:3188},{level:2,title:"è¡é«(line-height)",slug:"è¡é«-line-height",normalizedTitle:"è¡é«(line-height)",charIndex:3508},{level:2,title:"èæ¯(background)",slug:"èæ¯-background",normalizedTitle:"èæ¯(background)",charIndex:3687},{level:2,title:"CSS ä¸å¤§ç¹æ§",slug:"css-ä¸å¤§ç¹æ§",normalizedTitle:"css ä¸å¤§ç¹æ§",charIndex:4293},{level:3,title:"CSS å±å æ§",slug:"css-å±å æ§",normalizedTitle:"css å±å æ§",charIndex:4306},{level:3,title:"CSS ç»§æ¿æ§",slug:"css-ç»§æ¿æ§",normalizedTitle:"css ç»§æ¿æ§",charIndex:4352},{level:3,title:"CSS ä¼åçº§",slug:"css-ä¼åçº§",normalizedTitle:"css ä¼åçº§",charIndex:4473},{level:3,title:"æéå å ",slug:"æéå å ",normalizedTitle:"æéå å ",charIndex:4538},{level:2,title:"çå­æ¨¡å",slug:"çå­æ¨¡å",normalizedTitle:"çå­æ¨¡å",charIndex:4604},{level:3,title:"è¾¹æ¡",slug:"è¾¹æ¡",normalizedTitle:"è¾¹æ¡",charIndex:4613},{level:3,title:"å°ºå¯¸",slug:"å°ºå¯¸",normalizedTitle:"å°ºå¯¸",charIndex:5167},{level:3,title:"åè¾¹è·",slug:"åè¾¹è·",normalizedTitle:"åè¾¹è·",charIndex:2648},{level:3,title:"å¤è¾¹è·",slug:"å¤è¾¹è·",normalizedTitle:"å¤è¾¹è·",charIndex:2644},{level:3,title:"è®©åçº§çå­å±ä¸­æ°´å¹³å¯¹é½",slug:"è®©åçº§çå­å±ä¸­æ°´å¹³å¯¹é½",normalizedTitle:"è®©åçº§çå­å±ä¸­æ°´å¹³å¯¹é½",charIndex:5856},{level:3,title:"è®©æå­å±ä¸­åçå­å±ä¸­",slug:"è®©æå­å±ä¸­åçå­å±ä¸­",normalizedTitle:"è®©æå­å±ä¸­åçå­å±ä¸­",charIndex:5917},{level:3,title:"æå¥å¾çåèæ¯å¾ççåºå«",slug:"æå¥å¾çåèæ¯å¾ççåºå«",normalizedTitle:"æå¥å¾çåèæ¯å¾ççåºå«",charIndex:6005},{level:3,title:"æ¸é¤åç´ çé»è®¤çåå¤è¾¹è·",slug:"æ¸é¤åç´ çé»è®¤çåå¤è¾¹è·",normalizedTitle:"æ¸é¤åç´ çé»è®¤çåå¤è¾¹è·",charIndex:6125},{level:3,title:"å»æåè¡¨é»è®¤çæ ·å¼",slug:"å»æåè¡¨é»è®¤çæ ·å¼",normalizedTitle:"å»æåè¡¨é»è®¤çæ ·å¼",charIndex:6206},{level:3,title:"å¤è¾¹è·åå¹¶",slug:"å¤è¾¹è·åå¹¶",normalizedTitle:"å¤è¾¹è·åå¹¶",charIndex:6238},{level:3,title:"çå­æ¨¡åå¸å±ç¨³å®æ§",slug:"çå­æ¨¡åå¸å±ç¨³å®æ§",normalizedTitle:"çå­æ¨¡åå¸å±ç¨³å®æ§",charIndex:6586},{level:3,title:"çå­é´å½±",slug:"çå­é´å½±",normalizedTitle:"çå­é´å½±",charIndex:6676},{level:3,title:"å­çå­å¯ä»¥æ¯ç¶çå­å¤§",slug:"å­çå­å¯ä»¥æ¯ç¶çå­å¤§",normalizedTitle:"å­çå­å¯ä»¥æ¯ç¶çå­å¤§",charIndex:6780},{level:2,title:"æµ®å¨(float)",slug:"æµ®å¨-float",normalizedTitle:"æµ®å¨(float)",charIndex:6834},{level:3,title:"æµ®å¨åç´ ä¸ç¶çå­å³ç³»",slug:"æµ®å¨åç´ ä¸ç¶çå­å³ç³»",normalizedTitle:"æµ®å¨åç´ ä¸ç¶çå­å³ç³»",charIndex:7067},{level:3,title:"æ¸é¤æµ®å¨",slug:"æ¸é¤æµ®å¨",normalizedTitle:"æ¸é¤æµ®å¨",charIndex:7123},{level:2,title:"CSSå±æ§ä¹¦åé¡ºåº",slug:"csså±æ§ä¹¦åé¡ºåº",normalizedTitle:"csså±æ§ä¹¦åé¡ºåº",charIndex:7774},{level:2,title:"å®ä½(position)",slug:"å®ä½-position",normalizedTitle:"å®ä½(position)",charIndex:8092},{level:3,title:"è¾¹åç§»",slug:"è¾¹åç§»",normalizedTitle:"è¾¹åç§»",charIndex:8147},{level:3,title:"å®ä½æ¨¡å¼",slug:"å®ä½æ¨¡å¼",normalizedTitle:"å®ä½æ¨¡å¼",charIndex:8193},{level:2,title:"å¸å±æ»ç»",slug:"å¸å±æ»ç»",normalizedTitle:"å¸å±æ»ç»",charIndex:9121},{level:2,title:"display æ¾ç¤º",slug:"display-æ¾ç¤º",normalizedTitle:"display æ¾ç¤º",charIndex:9278},{level:2,title:"visibility å¯è§",slug:"visibility-å¯è§",normalizedTitle:"visibility å¯è§",charIndex:9371},{level:2,title:"overflow æº¢åº",slug:"overflow-æº¢åº",normalizedTitle:"overflow æº¢åº",charIndex:9457},{level:2,title:"CSSç¨æ·çé¢æ ·å¼",slug:"cssç¨æ·çé¢æ ·å¼",normalizedTitle:"cssç¨æ·çé¢æ ·å¼",charIndex:9628},{level:3,title:"é¼ æ æ ·å¼ cursor",slug:"é¼ æ æ ·å¼-cursor",normalizedTitle:"é¼ æ æ ·å¼ cursor",charIndex:9642},{level:3,title:"è½®å»çº¿ outline",slug:"è½®å»çº¿-outline",normalizedTitle:"è½®å»çº¿ outline",charIndex:9750},{level:3,title:"é²æ­¢ææ½ææ¬å resize",slug:"é²æ­¢ææ½ææ¬å-resize",normalizedTitle:"é²æ­¢ææ½ææ¬å resize",charIndex:9828},{level:2,title:"åç´å¯¹é½ vertical-align",slug:"åç´å¯¹é½-vertical-align",normalizedTitle:"åç´å¯¹é½ vertical-align",charIndex:9887},{level:2,title:"å»é¤å¾çåºé¨ç©ºç½ç¼é",slug:"å»é¤å¾çåºé¨ç©ºç½ç¼é",normalizedTitle:"å»é¤å¾çåºé¨ç©ºç½ç¼é",charIndex:10054},{level:2,title:"æº¢åºçæå­çç¥å·æ¾ç¤º",slug:"æº¢åºçæå­çç¥å·æ¾ç¤º",normalizedTitle:"æº¢åºçæå­çç¥å·æ¾ç¤º",charIndex:10206},{level:3,title:"white-space å¼ºå¶æå­ä¸è¡æ¾ç¤º",slug:"white-space-å¼ºå¶æå­ä¸è¡æ¾ç¤º",normalizedTitle:"white-space å¼ºå¶æå­ä¸è¡æ¾ç¤º",charIndex:10324},{level:3,title:"text-overflow  æå­ç¨çç¥å·ä»£è¡¨è¶åºçé¨å",slug:"text-overflow-æå­ç¨çç¥å·ä»£è¡¨è¶åºçé¨å",normalizedTitle:"text-overflow  æå­ç¨çç¥å·ä»£è¡¨è¶åºçé¨å",charIndex:null},{level:2,title:"CSSç²¾çµææ¯ (sprite)",slug:"cssç²¾çµææ¯-sprite",normalizedTitle:"cssç²¾çµææ¯ (sprite)",charIndex:10506},{level:2,title:"æ»å¨é¨",slug:"æ»å¨é¨",normalizedTitle:"æ»å¨é¨",charIndex:10682},{level:2,title:"marginè´å¼",slug:"marginè´å¼",normalizedTitle:"marginè´å¼",charIndex:10768},{level:2,title:"CSSä¸è§å½¢",slug:"cssä¸è§å½¢",normalizedTitle:"cssä¸è§å½¢",charIndex:10839}],headersStr:"æ¦å¿µ:Cascading Style Sheets å±å æ ·å¼è¡¨ cssè¯­æ³ éæ©å¨:ç­éå·æç¸ä¼¼ç¹å¾çåç´  å¤ç±»å æ©å±éæ©å¨ æ ç­¾æ¾ç¤ºæ¨¡å¼(display) ä»ä¹æ¯æ ç­¾æ¾ç¤ºæ¨¡å¼ åçº§åç´  è¡ååç´  è¡åååç´  æ ç­¾æ¾ç¤ºæ¨¡å¼è½¬æ¢ ï¼fontï¼å­ä½ CCSå¤è§å±æ§ ææ¬(text) è¡é«(line-height) èæ¯(background) CSS ä¸å¤§ç¹æ§ CSS å±å æ§ CSS ç»§æ¿æ§ CSS ä¼åçº§ æéå å  çå­æ¨¡å è¾¹æ¡ å°ºå¯¸ åè¾¹è· å¤è¾¹è· è®©åçº§çå­å±ä¸­æ°´å¹³å¯¹é½ è®©æå­å±ä¸­åçå­å±ä¸­ æå¥å¾çåèæ¯å¾ççåºå« æ¸é¤åç´ çé»è®¤çåå¤è¾¹è· å»æåè¡¨é»è®¤çæ ·å¼ å¤è¾¹è·åå¹¶ çå­æ¨¡åå¸å±ç¨³å®æ§ çå­é´å½± å­çå­å¯ä»¥æ¯ç¶çå­å¤§ æµ®å¨(float) æµ®å¨åç´ ä¸ç¶çå­å³ç³» æ¸é¤æµ®å¨ CSSå±æ§ä¹¦åé¡ºåº å®ä½(position) è¾¹åç§» å®ä½æ¨¡å¼ å¸å±æ»ç» display æ¾ç¤º visibility å¯è§ overflow æº¢åº CSSç¨æ·çé¢æ ·å¼ é¼ æ æ ·å¼ cursor è½®å»çº¿ outline é²æ­¢ææ½ææ¬å resize åç´å¯¹é½ vertical-align å»é¤å¾çåºé¨ç©ºç½ç¼é æº¢åºçæå­çç¥å·æ¾ç¤º white-space å¼ºå¶æå­ä¸è¡æ¾ç¤º text-overflow  æå­ç¨çç¥å·ä»£è¡¨è¶åºçé¨å CSSç²¾çµææ¯ (sprite) æ»å¨é¨ marginè´å¼ CSSä¸è§å½¢",content:'# CSS\n\nCSS:é¡µé¢ç¾ååå¸å±æ§å¶\n\n\n# æ¦å¿µ:Cascading Style Sheets å±å æ ·å¼è¡¨\n\n * å±å :å¤ä¸ªæ ·å¼å¯ä»¥ä½ç¨å¨åä¸ä¸ªhtmlçåç´ ä¸,åæ¶çæ\n\n 2. å¥½å¤\n\n * åè½å¼ºå¤§\n * å°åå®¹å±ç¤ºåæ ·å¼æ§å¶åç¦» 1. éä½è¦ååº¦.è§£è¦ 2. è®©åå·¥åä½æ´å®¹æ 3. æé«å¼åæç\n\n 3. CSSçä½¿ç¨:CSSä¸htmlç»åæ¹å¼\n\n * åèæ ·å¼:å¨æ ç­¾åä½¿ç¨styleçææå®cssä»£ç \n\n\x3c!-- æ¹å¼ä¸  åèæ¹å¼  å¨æ ç­¾åä½¿ç¨styleå±æ§æå®cssä»£ç  --\x3e\n<div style="color: cornflowerblue;">hello world</div>\n\n\n1\n2\n\n * åé¨æ ·å¼:å¨headæ ç­¾å,å®ä¹styleæ ç­¾,styleæ ç­¾çæ ç­¾ä½åå®¹å°±æ¯cssä»£ç \n\n \x3c!-- æ¹å¼äº åé¨æ ·å¼\n            * å¨headæ ç­¾å,å®ä¹styleæ ç­¾,styleæ ç­¾çæ ç­¾ä½åå®¹å°±æ¯cssä»£ç --\x3e\n<style>\n        div{\n            color: blueviolet;\n        }\n\n    </style>\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n\n * å¤é¨æ ·å¼: 1.å¨å¤é¨å®ä¹cssèµæºæä»¶ 2.å¨headæ ç­¾å,å®ä¹linkæ ç­¾,å¼ç¨å¤é¨çcssèµæº\n\n<link rel="stylesheet" href="css/å¤é¨.css">\n \x3c!-- éè¿<link>æ ç­¾ å¼ç¨å¤é¨cssæ ç­¾  relä¸º  hrefä¸ºcssè·¯å¾  --\x3e\n\n\n1\n2\n\n\n\n# cssè¯­æ³\n\n * æ ¼å¼:\n   \n   * éæ©å¨{\n     \n     å±æ§å1:å±æ§å¼1;\n     \n     å±æ§å2:å±æ§å¼2;\n     \n     â¦\n     \n     }\n   \n   * éæ©å¨:ç­éå·æç¸ä¼¼ç¹å¾çåç´  æ¯ä¸å¯¹å±æ§éè¦ä½¿ç¨åå·éå¼,æåä¸å¯¹å¯ä»¥ä¸å ;\n\n\n# éæ©å¨:ç­éå·æç¸ä¼¼ç¹å¾çåç´ \n\n * åç±»:\n   \n   * åºç¡éæ©å¨\n     \n     * idéæ©å¨:éæ©å·ä½idå±æ§å¼çåç´ ,å»ºè®®å¨ä¸ä¸ªhtmlé¡µé¢ä¸­idå¼å¯ä¸ è¯­æ³:#idå±æ§å¼{}\n       \n       #div1{  \x3c!--idéæ©å¨ æ ¹æ®idéæ©htmlæ ç­¾ --\x3e\n                   color: blue;\n               }\n       \n       \n       1\n       2\n       3\n       \n     \n     * åç´ éæ©å¨:éæ©å·æç¸åæ ç­¾åç§°çåç´  è¯­æ³:æ ç­¾åç§°{} æ³¨æ:idéæ©å¨ä¼åçº§é«äºåç´ éæ©å¨\n     \n     div{  \x3c!-- åç´ éæ©å¨  æ ¹æ®æ ç­¾åéæ©htmlæ ç­¾ --\x3e\n                 color: rebeccapurple;\n             }\n     \n     \n     \n     1\n     2\n     3\n     4\n     \n     * ç±»éæ©å¨:éæ©å·æç¸åclassçå±æ§å¼çåç´  è¯­æ³:.classå±æ§å¼{} æ³¨æ:ç±»éæ©å¨ä¼åçº§é«äºåç´ éæ©å¨ id>ç±»>åç´ \n     \n     .cls1{ \x3c!-- ç±»éæ©å¨  æ ¹æ®ç±»éæ©htmlæ ç­¾ --\x3e\n                 color: cornflowerblue;\n             }\n     \n     \n     1\n     2\n     3\n     \n\n\n# å¤ç±»å\n\nä¸ä¸ªæ ç­¾åªææ¥æä¸ä¸ªclasså±æ§\n\nä½classå±æ§è½åå¤ä¸ªå ç¨ç©ºæ ¼åå¼ æ¯ä¸ªç±»åé½è½åç¬è°ç¨css\n\n<span class="class1 class2"> </span>\n\n\n1\n\n\nidå¨é¡µé¢ä¸­ä¸è½éå¤ classå¯ä»¥\n\n\n# æ©å±éæ©å¨\n\n * éæ©ææåç´ : è¯­æ³:*{}\n\n * å¹¶ééæ©å¨: è¯­æ³:éæ©å¨1,éæ©å¨2{} å¦: .box1,.box2 {}\n\n * äº¤ééæ©å¨: åªéæ©è¯¥æ ç­¾å¹¶ä¸æ¯æ­¤éæ© å¨ç è¯­æ³:æ ç­¾åéæ©å¨{} å¦:div.box1{}\n\n * åä»£éæ©å¨: åç§°åå«éæ©å¨ ç­ééæ©å¨1åç´ ä¸çéæ©å¨åç´ \n\n * è¯­æ³: ç¶çº§ å­çº§{} å¦: .box box2{}\n\n * ç¶éæ©å¨: ç­ééæ©å¨2çç¶åç´ éæ©å¨1 åªéä¸ä¸çº§çåç´  æå¶ä»æ ç­¾åå«é½ä¸éæ© è¯­æ³:éæ©å¨1 > éæ©å¨2{} å¦: .box1 > p{}\n\n * å±æ§éæ©å¨:éæ©åç´ åç§°,å±æ§å=å±æ§å¼çåç´  è¯­æ³:åç´ åç§°[å±æ§å=âå±æ§å¼â]{}\n\n * ä¼ªç±»éæ©å¨:éæ©ä¸äºåç´ å·æçç¶æ è¯­æ³:åç´ :ç¶æ{} æ³¨æç¶æé¡ºåº å¦åä¼åºä¸å¿è¦çéè¯¯ lvha\n   \n   * ç¶æ:\n     \n     1. link:åå§åçç¶æ\n     \n     2. visited:è¢«è®¿é®è¿çç¶æ\n     \n     3. hover:é¼ æ æ¬æµ®ç¶æ\n     \n     4. active:å¨å¨è®¿é®ç¶æ\n\n\n# æ ç­¾æ¾ç¤ºæ¨¡å¼(display)\n\n\n# ä»ä¹æ¯æ ç­¾æ¾ç¤ºæ¨¡å¼\n\næ ç­¾ä¸ä»ä¹æ¹å¼è¿è¡æ¾ç¤ºå¦:divèªå·±å ä¸è¡ç§°ä¸ºååç´ ,spanä¸è¡å¯ä»¥æ¾å¤ä¸ªç§°ä¸ºè¡ååç´ \n\n\n# åçº§åç´ \n\nå¸¸è§çååç´ æ<h1>~<h6>ã<p>ã<div>ã<ul>ã<ol>ã<li>ç­\n\npåhãdtéé¢å°½éä¸è¦æ¾ååç´ \n\nç¹ç¹ï¼\n\n1. ç¬å ä¸è¡\n2. å®½åº¦é»è®¤æ¯ç¶çº§ç100%\n3. éé¢å¯ä»¥ååç´ åè¡ååç´ \n\n\n\n# è¡ååç´ \n\nå¸¸è§çè¡ååç´ æ<a>ã<strong>ã<b>ã<em>ã<i>ã<del>ã<s>ã<ins>ã<i>ã<span>ç­\n\nç¹ç¹ï¼\n\n 1. é«ãå®½ç´æ¥è®¾ç½®æ¯æ²¡æä»»ä½ææç\n 2. é»è®¤çå®½åº¦å°±æ¯å®æ¬èº«åå®¹çå®½åº¦\n 3. è¡ååç´ åªè½å®¹çº³ææ¬æå¶ä»è¡ååç´ \n 4. é¾æ¥æ ç­¾ä¸è½ååå«é¾æ¥æ ç­¾\n 5. ç¹æ®æåµaéé¢å¯ä»¥æ¾ååç´ ï¼ä½æ¯ç»aè½¬æ¢ä¸ä¸åçº§æ¨¡å¼æ´å¥½\n\n\n# è¡åååç´ \n\nå¨è¡ååç´ ä¸­æå ä¸ªç¹æ®çæ ç­¾<img>ã<input>ã<td>\n\nç¹ç¹ï¼\n\n1. åç¸é»çè¡ååç´ å¨ä¸è¡ä¸ï¼ä½æ¯ä¹é´ä¼æç©ºç½ç¼éãä¸è¡åå¯ä»¥æ¾ç¤ºå¤ä¸ª\n2. é»è®¤å®½åº¦å°±æ¯å®æ¬èº«åå®¹çå®½åº¦\n3. é«åº¦ãè¡é«ãå¤è¾¹è·ååè¾¹è·é½å¯ä»¥æ§å¶\n\n\n\n# æ ç­¾æ¾ç¤ºæ¨¡å¼è½¬æ¢\n\n * åè½¬åï¼dispalyï¼inline\n * è¡åè½¬åï¼displayï¼block\n * åãè¡ååç´ è½¬åç´ ä¸ºè¡ååï¼displayï¼inline-block\n\n\n# ï¼fontï¼å­ä½\n\n * font-size:å­ä½å¤§å° å¦: font-size:10px;\n * font-family:è®¾ç½®å­ä½ å¦:font-family:"å¾®è½¯éé»";\n * å¯ä»¥åæ¶æå®å¤ä¸ªå­ä½ç¨éå·åé,å½æµè§å¨ä¸æ¯æåé¢çå­ä½æ¶èªå¨éæ©åé¢çå­ä½ å¦:font-famil: Arial,"å®ä½","å¾®è½¯éé»"; å¦å­ä½åæç¹æ®å­ç¬¦æä¸­æè¦å å¼å·,å¯ä»¥ç¨Unicodeåä¸­æå­ä½å\n * \n * font-weight:å­ä½ç²ç» å¦:font-weight:normal; normal é»è®¤å¼(ä¸å ç²) bold(å ç²) 100-900 400ä¸ºé»è®¤ 700ä¸ºå ç²\n * font-style:è®¾ç½®æä½ å¦:font-style:italic; normalé»è®¤å¼ italicæä½\n * å¯ä»¥æ··æç»¼åä½¿ç¨ å¦: font: italic 700 20px "å®ä½"; æstyle-weight-size-familyé¡ºåº.\n * \n\n\n# CCSå¤è§å±æ§ ææ¬(text)\n\n * color:ææ¬é¢è² å¦:color:"#FFF" æ¯æè±æé¢è² åå­è¿å¶ rgb rgba\n\n * text-align:ææ¬å¯¹å¶æ¹å¼ å¦:text-align:center; leftå·¦å¯¹é½ right å³å¯¹é½ center å±ä¸­\n\n * line-height:è¡é´è· å¦:line-height:28px;\n\n * text-indext:é¦è¡ç¼©è¿ å¦:text-indext:2em; å¯ä»¥åpxä½å»ºè®®åem,emæ¯åæ°å³ç³»,1emä¸º1ä¸ªå­\n\n * text-decoration:ææ¬çè£é¥° ä¸è¬ç¨æ¥åæ¶è¶é¾æ¥çä¸åçº¿ å¦:text-decoration:none;\n\n * \n\n\n# è¡é«(line-height)\n\nä¸­æçè¡é«ä¸º ç¬¬ä¸è¡æå­çåºçº¿å°ç¬¬äºè¡æå­çåºçº¿çé«åº¦\n\nè±æçè¡é«ä¸º ç¬¬ä¸è¡è±æçåºçº¿å°ç¬¬äºè¡æå­çåºçº¿é«åº¦\n\nè¡é« = ä¸è·ç¦» + åå®¹é«åº¦ + ä¸è·ç¦»,æå­çè¡é«ç­äºçå­çé«åº¦åä¼åç´å±ä¸­(åè¡ææ¬)\n\n 1. è¡é«ç­äºé«åº¦ æå­ä¼åç´å±ä¸­\n 2. è¡é«å¤§äºé«åº¦ æå­ä¼åä¸\n 3. è¡é«å°äºé«åº¦ æå­ä¼åä¸\n\n\n# èæ¯(background)\n\n * background-color: èæ¯é¢è² å¦ï¼background-color:red\n * background-image:èæ¯å¾ç å¦:background-image:url(å¾çè·¯å¾);è·¯å¾ä¸éè¦å¼å·\n * background-repeat:èæ¯å¹³éº å¦ï¼background-repeat:no-rpeat;\n   * repeat é»è®¤çå¨xè½´åyè½´ä¸å¹³éº\n   * no-repeat ä¸å¹³éº\n   * repeat-x å¨xè½´å¹³éº\n   * repeat-y å¨yè½´å¹³éº\n * background-position:èæ¯ä½ç½® å¦ï¼backg-positionï¼10px centerï¼\n   * å¯ä»¥å¡«ç¾åç¾ æxyåæ \n   * ä¸¤ä¸ªä½ç½®ä¹å¯ä»¥åç»å¯¹ä½ç½® topãcenterãbottomãleftãright\n * background-attachmentï¼èæ¯éç å¦:background-attachmentï¼scroll;\n   * scroll èæ¯å¾éçå¯¹è±¡åå®¹æ»å¨\n   * fixed èæ¯å¾ååºå®\n * èæ¯ç®å: background:èæ¯é¢è² èæ¯å¾çå°å èæ¯å¹³éº èæ¯æ»å¨ èæ¯ä½ç½®;(æ²¡æä½ç½®é¡ºåº,å¯çç¥ä¸è¦çåæ°)\n * èæ¯åéæ:background-color :rgba(0,0,0,.3);\n\n\n# CSS ä¸å¤§ç¹æ§\n\n\n# CSS å±å æ§\n\nåé¢çæ ·å¼è¦çæåé¢çæ ·å¼ ä¸ä¼åçå²çª æ ·å¼ä¸å²çªä¸ä¼è¿è¡è¦ç\n\n\n# CSS ç»§æ¿æ§\n\nå­æ ç­¾ä¼ç»§æ¿ç¶æ ç­¾çæäºæ ·å¼,å¦ææ¬é¢è²åå­å·\n\næ³è¦è®¾ç½®ä¸ä¸ªå¯ç»§æ¿çå±æ§,åªéå°å®åºç¨äºç¶åç´ å³å¯.\n\nå­åç´ å¯ä»¥ç»§æ¿ç¶åç´ çæ ·å¼æ(text-ï¼font-ï¼line-è¿äºåç´ å¼å¤´çå¯ä»¥ç»§æ¿ï¼ä»¥åcolorå±æ§)\n\n\n# CSS ä¼åçº§\n\n\n\nç»§æ¿ï¼åç´ ï¼classï¼idï¼æ ç­¾åçstyleï¼!important(å°æ­¤CSSå±æ§è®¾ä¸ºæéè¦)\n\n\n# æéå å \n\nå¦:.box a{} æ­¤æ¶çæéä¸º 0,0,1,0 + 0,0,0,1 =0,0,1,1\n\nå¦è¶è¿10ä¸ä¼è¿å¶\n\n\n# çå­æ¨¡å\n\n\n# è¾¹æ¡\n\n * border-style: è¾¹æ¡ççº¿é£æ ¼ å¦:border-style:solid\n   * solid å®çº¿\n   * node æ²¡æè¾¹æ¡ é»è®¤å¼\n   * dashed èçº¿\n   * dotted ç¹çº¿\n * border-color:è¾¹æ¡é¢è² å¦:border-color:red\n   * border-width:è¾¹æ¡å®½åº¦ border-width:10px\n   * è¾¹æ¡ç®å: border: 1px solid red; (æ²¡æé¡ºåº)\n   * æå®åæ¹åçè¾¹æ¡ å¦:border-top-width:10px\n   * border-radius:è¾¹æ¡åè§è¿æ¸¡ å¦:border-radius:10px; æ border-radius:50%; ç©å½¢æ¯é«åº¦çä¸å.\n     * border-top-left\n     * border-top-right\n     * borde-bottom-left\n     * border-bottom-right\n     * ç®å border:å·¦ä¸è§ å³ä¸è§ å·¦ä¸è§ å³ä¸è§\n   * border-collapse:è¡¨æ ¼ ååæ ¼ th åå¹¶ç¸é»çè¾¹æ¡ å¦:border-collapse:collapse;\n\n\n# å°ºå¯¸\n\n * width:å®½åº¦\n * height:é«åº¦\n\n\n# åè¾¹è·\n\npaddingç¨æ¥è®¾ç½®åè¾¹è·,æè¾¹æ¡ä¸åå®¹ä¹é´çè·ç¦»\n\n 1. åå®¹ä¸è¾¹æ¡æäºè·ç¦»\n 2. çå­ä¼åå¤§\n\n * padding-left:å·¦åè¾¹è·\n * padding-right:å³åè¾¹è·\n * padding-top:ä¸åè¾¹è·\n * padding-bottom:ä¸åè¾¹è·\n * padding:ç®å\n   * padding: 1px 2px 3px 0px(ä¸ å³ ä¸ å·¦ é¡ºæ¶é)\n   * padding: 20px ä¸ä¸å·¦å³é½ä¸º20pxåè¾¹è·\n   * padding:10px 20px ä¸ä¸ä¸º10px å·¦å³ä¸º20px (å¦æ æå®åèªå¨ä¸ºå¯¹ç§°çåè¾¹è·)\n   * padding:10px 20px 30px ä¸ä¸º10 å·¦å³ä¸º20 ä¸ä¸º30 çåè¾¹è·\n\nçå­çå®éå¤§å° = åå®¹çå®½åº¦ é«åº¦ + åè¾¹è· + è¾¹æ¡ = çå­çå¤§å° - åè¾¹è· -è¾¹æ¡ =cssä¸­è®¾ç½®çå­çå¤§å°\n\nä¹å¯ä»¥è®¾ç½®çå­å±æ§ box-sizing: border-box;ä½¿å¾çå­å®éå¤§å°ç­äºè¾¹æ¡+åè¾¹è·çå¤§å°\n\n * paddingä¸å½±åçå­å¤§å°æåµ ç¹æ®æåµ\n   * å¦ææ²¡æç»ä¸ä¸ªçå­æå®å®½åº¦,æ­¤æ¶åç»è¿ä¸ªçå­paddingåä¸ä¼æå¼çå­\n\n\n# å¤è¾¹è·\n\nmarginå±æ§ç¨äºè®¾ç½®å¤è¾¹è·.marginå°±æ¯æ§å¶çå­åçå­ä¹é´çè·ç¦»\n\n * margin-left:å·¦å¤è¾¹è·\n * margin-right:å³å¤è¾¹è·\n * margin-top:ä¸å¤è¾¹è·\n * margin-bottom:ä¸å¤è¾¹è·\n\n\n# è®©åçº§çå­å±ä¸­æ°´å¹³å¯¹é½\n\n 1. å¿é¡»è¦è®¾ç½®å®½åº¦\n 2. è®¾ç½®marginå·¦å³ ä¸ºauto ä¸ä¸autoæ²¡æææ\n\n\n# è®©æå­å±ä¸­åçå­å±ä¸­\n\n 1. è®©çå­åæå­å±ä¸­æ¯ text-align:center,å¹¶ä¸è¿å¯ä»¥è®©è¡ååç´ åè¡ååå±ä¸­å¯¹é½\n 2. åçº§çå­å±ä¸­ å·¦å³å¤è¾¹è·auto\n\n\n# æå¥å¾çåèæ¯å¾ççåºå«\n\n 1. æå¥å¾ç æä»¬ç¨çæå¤ æ¯å¦äº§åå±ç¤º ç§»å¨ä½ç½®åªè½é çæ¨¡å padding margin\n 2. èæ¯å¾çæä»¬ä¸è¬ç¨äºå°å¾çèæ¯ æèè¶å¤§èæ¯å¾ç åªè½éè¿background-position\n\n\n# æ¸é¤åç´ çé»è®¤çåå¤è¾¹è·\n\n*{\n\npadding:0px;\n\nmargin:0px;\n\n}\n\nè¡ååç´ å°½éåªè®¾ç½®å·¦è¾¹åå¤è¾¹è·,å ä¸ºä¸ä¸åå¤è¾¹è·ä¸èµ·ä½ç¨\n\n\n# å»æåè¡¨é»è®¤çæ ·å¼\n\nlist-style:none;\n\n\n# å¤è¾¹è·åå¹¶\n\nä¸ä¸:å½ä¸ä¸ç¸é»çä¸¤ä¸ªååç´ ç¸éæ¶,å¦æä¸é¢çåç´ æmargin-bottom,ä¸é¢çæmargin-topæ¶,ä»ä»¬ä¹é´çåç´é´è·å¹¶ä¸æ¯bottom+topçå¼,èæ¯åå®ä»¬ä¸¤å¼ä¹é´æå¤§çå¼.å¦æ¶åå°ä¸ä¸ä¸¤ä¸ªå¤è¾¹è·åå¹¶å°½éåªç»ä¸ä¸ªåç´ å¤è¾¹è·\n\nåµå¥å¡é·:å½ä¸ä¸ªç¶çå­ä¸­çå­çå­,æ³äºç¶çå­ä¹é´æè·ç¦»,ä½åä¸æ³æç¶çå­æå¼,å¦æä»¬å¨å­çå­ä¸­è®¾ç½®å¤è¾¹è·top,åä¼åºç°ç¶çå­åä¸ç§»å¨äº,ä½å­çå­è¿æ¯ä¸ç¶çå­æ²¡æé´è·.\n\nè§£å³æ¹æ¡:\n\n\t1. å¨ç¶çå­ä¸­æå®ä¸ä¸ªtopè¾¹æ¡  å¦:border-top:1px solid transport;\n\t2. ç»ç¶çå­æå®ä¸ä¸ªåè¾¹è·top  å¦:padding-top : 1px;\n\t3. ç»ç¶çå­æ·»å overflow:hidden;\n\n\n\n# çå­æ¨¡åå¸å±ç¨³å®æ§\n\næä»¬ä¼åä½¿ç¨ width > padding > margin\n\nå ä¸ºwidthæç¨³å® paddingä¼å½±åçå­å¤§å° marginä¼åºç°åå¹¶å¡é·é®é¢\n\n\n# çå­é´å½±\n\n * box-shadow:æ°´å¹³é´å½±å¤§å° åç´é´å½±å¤§å° æ¨¡ç³å¤§å° é´å½±å¤§å° é´å½±é¢è² å/å¤é´å½±(é»è®¤ä¸ºå¤);\n * å¦:box-shadow:2px 2px 2px 2px #000;\n\n\n# å­çå­å¯ä»¥æ¯ç¶çå­å¤§\n\nå¦å­çå­æ²¡ææå®å¤§å°åä¼ç»§æ¿ç¶çå­å¤§å°\n\nä½æ¯å­çå­å¯ä»¥æå®æ¯ç¶çå­å¤§çå¼\n\n\n# æµ®å¨(float)\n\nfloat:ä½¿åç´ æµ®å¨ å¦:float:left;\n\n * none\n\n * left åå·¦æµ®å¨\n * right åå³æµ®å¨\n\næµ®å¨åç´ ä¼æ¼æµ®å¨æ®éæµä¸é¢,ä¸å ä½ç½®,è±æ \n\nç¹æ§:floatå±æ§ä¼æ¹ååç´ çdisplayå±æ§ ä¸è¡ååç¸ä¼¼ä½æ¯æ²¡æä¹é´æ²¡æç¼é å¦æç¶çå­è£ä¸ä¸æµ®å¨åç´  åä¼èªå¨æ¢è¡\n\nä¸è¬æä»¬ä¼ç»æµ®å¨çåç´ å¥ä¸ä¸ªæ åæµçç¶çå­,åå°å¯¹å¶ä»çæ åæµçå½±å\n\næµ®å¨åç´ åªä¼å½±ååé¢çæ åæµåç´  å¹¶ä¸ä¼å½±ååé¢çæ åæµåç´ \n\n\n# æµ®å¨åç´ ä¸ç¶çå­å³ç³»\n\nå¦æç¶çå­æè¾¹æ¡ æµ®å¨åç´ ä¸ä¼åçè¾¹æ¡\n\nå¦æç¶çå­æåè¾¹è· ä¹ä¸ä¼åçåè¾¹è·\n\n\n# æ¸é¤æµ®å¨\n\næ¸é¤æµ®å¨ä¸»è¦æ¯ä¸ºäºè§£å³ç¶åç´ å ä¸ºå­åç´ å¼èµ·åé¨é«åº¦ä¸º0çé®é¢.æ¸é¤æµ®å¨åç¶åç´ å°±ä¼æ ¹æ®æµ®å¨çå­åç´ èªå¨æ£æµé«åº¦.ç¶åç´ æäºé«åº¦å°±ä¸ä¼å½±åä¸é¢çæ åæµ.\n\nclear:both; æ¸é¤ä¸¤ä¾§çæµ®å¨å½±å ä¹å¯åç¬æ¸é¤ leftærightæµ®å¨\n\n# é¢å¤æ ç­¾æ³\n\nå¨æµ®å¨åç´ åé¢å¤æ·»å ä¸ä¸ªç©ºçæ ç­¾ç¨æ¥æ¸é¤æµ®å¨\n\nç¼ºç¹:ç»æåè¢«æä¹±\n\n# ç¶çº§æ·»å overflowå±æ§\n\nç»ç¶åç´ æ·»å  overflow: hidden | auto | scrollé½å¯ä»¥å®ç°æ¸é¤æµ®å¨\n\nç¼ºç¹:è¶åºç¶çå­çåå®¹è¢«åå²\n\n# ä½¿ç¨ä¼ªåç´ æ¸é¤æµ®å¨\n\nç¶çº§åç´ æ·»å ä¼ªåç´ \n\n.box:after {\n\tcontent:"";\n\tdisplay:block;\n\theight:0\n\tclear:both;\n\tvisibility:hidden;\n}\n.box{\n    *zoom:1;  /*IE6ã7ä¸æç */\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n\n\n# åä¼ªåç´ æ¸é¤æµ®å¨\n\n.box:before,\n.box:after {\n\tcontent:"";\n\tdisplay:table;\n}\n.box:aftr {\n    clear:both;\n}\n.box {\n    *zoom:1;  /*IE6ã7ä¸æç */\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n\n\n# ä»ä¹æ¶åç¨æ¸é¤æµ®å¨\n\n 1. ç¶åç´ æ²¡ æé«åº¦\n 2. å­åç´ æµ®å¨\n 3. å½±åä¸é¢å¸å±,æä»¬åºè¯¥æ¸é¤æµ®å¨.\n\n\n# CSSå±æ§ä¹¦åé¡ºåº\n\n 1. å¸å±å®ä½å±æ§ display/position/float/clear/visibility/overflow(displayå»ºè®®ç¬¬ä¸ä¸ªå)\n 2. èªèº«å±æ§ width/height/margin/padding/border/background\n 3. ææ¬å±æ§ color/font/text-decoration/text-align/vertical-align/white-space/break-word\n 4. å¶ä»å±æ§ content/cursor/border-radius/box-shadow/text-shadow/background-linear-gradient\n\n\n# å®ä½(position)\n\nå°çå­å®å¨æä¸ä¸ªä½ç½®,å¯ä»¥èªç±çæ¼æµ®å¨å¶ä»çå­(åæ¬æ åæµåæµ®å¨)çä¸é¢\n\n\n# è¾¹åç§»\n\néè¿topãbottomãleftãrightå±æ§å®ä¹åç´ çè¾¹åç§»ï¼\n\n\n\n\n# å®ä½æ¨¡å¼\n\npositionï¼å®ä½æ¨¡å¼ å¦ï¼positionï¼absoluteï¼\n\n * static éæå®ä½\n * relative ç¸å¯¹å®ä½\n * absolute ç»å¯¹å®ä½\n * fixed åºå®å®ä½\n * \n\n# éæå®ä½(static )\n\néæå®ä½å°±æ¯é»è®¤å®ä½æ¹å¼,ä¸ºæ å®ä½,æ²¡æè¾¹åç§»\n\néæå®ä½å ä¹ä¸ç¨\n\n# ç¸å¯¹å®ä½(relative)\n\nç¸å¯¹å®ä½æ¯åç´ å¯¹äº åæ¬å¨æ åæµçä½ç½®æ¥å®ä½\n\nåæ¥å¨æ åæµçä½ç½® å ä¸ åç§»å¼\n\nç¹ç¹:å¨åæ¥æ åæµçä½ç½®ä¸ç»§ç»­å æ,è½ç¶ä½ç½®å·²åçæ¹å,ä½åé¢çæ åæµè¿æ¯æ æ³å ç¨å®åæ¥çä½ç½®\n\n# ç»å¯¹å®ä½(absolute)\n\nç»å¯¹å®ä½æ¯åç´ ä»¥å¸¦å®ä½çç¶çº§åç´ æ¥ç§»å¨ä½ç½®ç\n\nå¦æç¶çº§åç´ æ²¡æå®ä½,åä»¥æµè§å¨ä¸ºåå®ä½\n\nå¦æç¶çº§æå®ä½,åä»¥ç¶çº§çä½ç½® å ä¸åç§»å¼æ¥å®ä½\n\nä¸ä¸å®éè¦ç¶çº§,åªè¦æ¯åµå¥åå«æ­¤å­åç´ åä»¥æ­¤åç´ ä¸ºåºååç§»å®ä½(å°±è¿åå)\n\nç¹ç¹:ç»å¯¹å®ä½åçåç´ ,å¨åæ¥æ åæµä¸­ä¸å ç¨ä½ç½®,åé¢çåç´ å¯ä»¥å ç¨å®åæ¥çä½ç½®\n\nå­ç»ç¶ç¸:å­çº§æ¯ç»å¯¹å®ä½,ç¶çº§è¦ç¨ç¸å¯¹å®ä½\n\n# åºå®å®ä½(fixed)\n\nåºå®å®ä½æ¯ç»å¯¹å®ä½çä¸ç§ç¹æ®å½¢å¼.\n\n 1. ä¸ä¼å ç¨åæ¥çä½ç½®\n 2. ä¸éçæ»å¨æ¡æ»å¨\n 3. è·ç¶çº§æ²¡æå³ç³»\n\n# ç»å¯¹å®ä½ççå­å±ä¸­\n\nç»å¯¹å®ä½ççå­æ¯ä¸è½ä½¿ç¨margin:auto è®¾ç½®å±ä¸­å¯¹é½ç\n\n 1. left:50% (å®ä½å°ç¶çå­çå³è¾¹çä¸å,å¶ä»æ¹åé½å¯ä»¥ç¨æ­¤æ¹æ³)\n 2. margin-left: è´çèªèº«å®½åº¦çä¸å; (åéèªèº«å®½åº¦çä¸å)\n\n# å å é¡ºåº(z-index)\n\nå¨å®ä½ä¸­,å¯è½ä¼åºç°çå­å±å ,åé¢ççå­ä¼åæåé¢ççå­,åæ¥èå±ä¸\n\næä»¬å¯ä»¥ä½¿ç¨z-index å±å ç­çº§å±æ§æ¥è°æ´çå­çå å é¡ºåº,é»è®¤å¼ä¸º0\n\n# å®ä½æ¹ådisplay å±æ§\n\nä¸ä¸ªè¡åçå­,å¦æå äºæµ®å¨ãåºå®å®ä½åç»å¯¹å®ä½ï¼ä¸ç¨è½¬æ¢ï¼å°±å¯ä»¥ç»è¿çå­ç´æ¥è®¾ç½®å®½åº¦åé«åº¦\n\n# ç»å¯¹å®ä½åæµ®å¨ä¸ä¼è§¦åå¤è¾¹è·åå¹¶\n\nä¹ååµå¥çå­ç»å­çå­margin-topä¼åºç°å¡é·é®é¢,æä»¬éè¿æ·»å ç¶çå­è¾¹æ¡\n\nç°å¨æä»¬å¯ä»¥æ·»å æ·»å æµ®å¨ æè ç»å¯¹å®ä½æ¥è§£å³è¿ä¸ªé®é¢,ç»äºç¶åç´ æå­åç´ é½å¯ä»¥\n\n\n# å¸å±æ»ç»\n\n 1. æ åæµ\n    * å¯ä»¥è®©çå­ä¸ä¸æå æè å·¦å³æå\n 2. æµ®å¨\n    * å¯ä»¥è®©å¤ä¸ªåçº§åç´  ä¸è¡æ¾ç¤º æè å·¦å³å¯¹é½çå­ æµ®å¨ççå­å°±æ¯æç§é¡ºåºå·¦å³æå\n 3. å®ä½\n    * å®ä½æå¤§çç¹ç¹æ¯æå±å çæ¦å¿µ,å°±æ¯å¯ä»¥è®©å¤ä¸ªçå­ åå å åæ¥æ¾ç¤º. ä½æ¯ç¾å½çå­éè¦æµéæ°å¼\n\n\n# display æ¾ç¤º\n\néèåç´ \n\ndisplay: none;\n\néèåç´ ,ä¸ä¿çä½ç½®\n\næ¾ç¤ºåç´ \n\ndisplay:black;\n\néåaæ ç­¾çhover å¯ä»¥æ§å¶éèæ¾ç¤º\n\n\n# visibility å¯è§\n\néèåç´ \n\nvisibility :hidden;\n\néèåç´ ,ä¿çåæ¬çä½ç½®\n\næ¾ç¤ºåç´ \n\nvisibility:visible;\n\n\n# overflow æº¢åº\n\næ£ç´¢æèè®¾ç½®å½åå¯¹è±¡çåå®¹è¶åºå¶æå®çé«åº¦åå®½åº¦ç®¡çå¦ä½æ¾ç¤º\n\noverflow:\n\n * visible ä¸åªååå®¹ä¹ä¸æ·»å æ»å¨æ¡ (é»è®¤)\n * hidden ä¸æ¾ç¤ºè¶åºçåå®¹,è¶åºé¨åéèæ (æº¢åºéè)\n * scrool ä¸ç®¡è¶åºå¤å°é½æ¾ç¤ºæ»å¨æ¡\n * auto è¶åºèªå¨æ¾ç¤ºæ»å¨æ¡,ä¸è¶åºä¸æ¾ç¤º\n\n\n# CSSç¨æ·çé¢æ ·å¼\n\n\n# é¼ æ æ ·å¼ cursor\n\nè®¾ç½®è¯¥åç´ å½åæ æåæ¶ é¼ æ æ ·å¼çå½¢ç¶\n\n * default é»è®¤åæ \n * pointer å°æ\n * move ç§»å¨\n * text ææ¬\n * not-allowed ç¦æ­¢\n\n\n# è½®å»çº¿ outline\n\nè¾å¥æ¡inputè¢«ç¨æ·éä¸­æ¶é«äº®æç¤ºçè½®å»,ä¸è¬æä»¬é½æ¯åæ¶è½®å»\n\noutline:0; æ outline:none;\n\n\n# é²æ­¢ææ½ææ¬å resize\n\nææ¬åé»è®¤çå¤§å°ç¨æ·æ¯å¯ä»¥ææ½,æä»¬ä¸è¬åæ¶ææ½\n\nresize:none;\n\n\n# åç´å¯¹é½ vertical-align\n\nvertical-align å®åªéå¯¹è¡ååç´  æ è¡åååç´  èµ·ä½ç¨ å¯¹ ååç´ ä¸èµ·ä»»ä½ä½ç¨\n\n * baseline åºçº¿å¯¹é½ é»è®¤å¾çä¼ä¸æå­åºçº¿å¯¹é½\n * middle åç´å±ä¸­ å¾çä¸æå­ä¸­çº¿å¯¹é½\n * top é¡¶é¨å¯¹é½ å¾çä¸æå­çé¡¶çº¿å¯¹é½\n * bottom åºé¨å¯¹é½\n\n\n# å»é¤å¾çåºé¨ç©ºç½ç¼é\n\nå ä¸ºå¾çé»è®¤æ¯ä¸æå­çåºçº¿å¯¹é½,èæçå­æ¯è¶åºçåºçº¿ç³»ç»ä¼èªå¨ç©ºåºè¿é¨åæ¥,æä»¬åªéè¦æå¾çä¸æå­åºçº¿ä»¥å¤çå¯¹é½å³å¯ä»¥è§£å³\n\nvertical-align:bottom/top/middle;\n\nç¬¬äºç§çæ¹æ³,æå¾ççè¡åååç´ è½¬æååç´ \n\ndisplay:block;\n\n\n# æº¢åºçæå­çç¥å·æ¾ç¤º\n\n 1. å¼ºå¶æå­å¨ä¸è¡åæ¾ç¤º white-space:nowrap;\n 2. è¶åºé¨åéè overflow:hidden;\n 3. è¶åºé¨åç¨çç¥å·ä»£æ¿ text-overflow:ellipsis;\n\n\n# white-space å¼ºå¶æå­ä¸è¡æ¾ç¤º\n\nwhite-space:\n\n * normal å½æå­è¶åºæ¶,èªå¨æ¢è¡ (é»è®¤)\n * nowrap å¼ºå¶ä¸è¡æ¾ç¤ºæå­ é¤äºbr\n\n\n# text-overflow æå­ç¨çç¥å·ä»£è¡¨è¶åºçé¨å\n\ntext-overflow:\n\n * clip ä¸æ¾ç¤ºçç¥å·(é»è®¤)\n * ellipsis è¶åºé¨åä»¥çç¥å·ä»£æ¿\n\n\n# CSSç²¾çµææ¯ (sprite)\n\nCSS ç²¾çµå¶å®æ¯å°ç½é¡µçä¸äºèæ¯å¾åæ´åå°ä¸å¼ å¤§å¾ä¸­(ç²¾çµå¾),æµè§å¨è¯·æ±æå¡ç«¯åªéè¦è¯·æ±ä¸æ¬¡å°±å¯ä»¥è¿åå¤ä¸ªèæ¯,ä¸åä½ç½®çå°å¾,æ ¹æ®ç²¾çµå¾çä½ç½®æ¥è®¾ç½®\n\nbackground-position:xåæ  yåæ ; (ä¸è¬èæ¯å®ä½é½æ¯è´å¼ )\n\nåç¨ä¸ä¸ªç¶çå­ææ´å¼ ç²¾çµå¾å è½½,åé¢åç¨å­çå­å®ä½å°éè¦çå¾\n\n\n# æ»å¨é¨\n\n 1. aæ ç­¾è®¾ç½®èæ¯å¾å·¦ä¾§ paddingæå¼åéçå·¦ä¾§å®½åº¦ä½¿æå­ä¸å·¦ä¾§æåè¾¹è·\n 2. spanæ ç­¾è®¾ç½®èæ¯å¾å³ä¾§ paddingæå¼å³ä¾§èæ¯åè¾¹è·\n\n\n# marginè´å¼\n\n2ä¸ªæµ®å¨ççå­è¾¹æ¡å¦ä½åå¹¶,æä»¬ä½¿ç¨è´å¼çmarginå¼å°±å¯ä»¥è§£å³æ­¤é®é¢,å¦:margin-left:-1px;\n\n\n# CSSä¸è§å½¢\n\nå½ä¸ä¸ªçå­é«åº¦åå®½åº¦ä¸º0æ¶,æä»¬ç»äºæå®çå¤§å°è¾¹æ¡,å®ä¼ä»¥ä¸è§å½¢çå½¢å¼åç°åºæ¥\n\næ³¨æçå­ç4ä¸ªè¾¹æ¡é½è¦æå®å¤§å°,æä»¬åªç»äºéè¦çè¾¹æ¡ä¿ç,å¶ä»æä»¬è®¾ç½®ä¸ºtransport éæè²å°±å¥½',normalizedContent:'# css\n\ncss:é¡µé¢ç¾ååå¸å±æ§å¶\n\n\n# æ¦å¿µ:cascading style sheets å±å æ ·å¼è¡¨\n\n * å±å :å¤ä¸ªæ ·å¼å¯ä»¥ä½ç¨å¨åä¸ä¸ªhtmlçåç´ ä¸,åæ¶çæ\n\n 2. å¥½å¤\n\n * åè½å¼ºå¤§\n * å°åå®¹å±ç¤ºåæ ·å¼æ§å¶åç¦» 1. éä½è¦ååº¦.è§£è¦ 2. è®©åå·¥åä½æ´å®¹æ 3. æé«å¼åæç\n\n 3. cssçä½¿ç¨:cssä¸htmlç»åæ¹å¼\n\n * åèæ ·å¼:å¨æ ç­¾åä½¿ç¨styleçææå®cssä»£ç \n\n\x3c!-- æ¹å¼ä¸  åèæ¹å¼  å¨æ ç­¾åä½¿ç¨styleå±æ§æå®cssä»£ç  --\x3e\n<div style="color: cornflowerblue;">hello world</div>\n\n\n1\n2\n\n * åé¨æ ·å¼:å¨headæ ç­¾å,å®ä¹styleæ ç­¾,styleæ ç­¾çæ ç­¾ä½åå®¹å°±æ¯cssä»£ç \n\n \x3c!-- æ¹å¼äº åé¨æ ·å¼\n            * å¨headæ ç­¾å,å®ä¹styleæ ç­¾,styleæ ç­¾çæ ç­¾ä½åå®¹å°±æ¯cssä»£ç --\x3e\n<style>\n        div{\n            color: blueviolet;\n        }\n\n    </style>\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n\n * å¤é¨æ ·å¼: 1.å¨å¤é¨å®ä¹cssèµæºæä»¶ 2.å¨headæ ç­¾å,å®ä¹linkæ ç­¾,å¼ç¨å¤é¨çcssèµæº\n\n<link rel="stylesheet" href="css/å¤é¨.css">\n \x3c!-- éè¿<link>æ ç­¾ å¼ç¨å¤é¨cssæ ç­¾  relä¸º  hrefä¸ºcssè·¯å¾  --\x3e\n\n\n1\n2\n\n\n\n# cssè¯­æ³\n\n * æ ¼å¼:\n   \n   * éæ©å¨{\n     \n     å±æ§å1:å±æ§å¼1;\n     \n     å±æ§å2:å±æ§å¼2;\n     \n     â¦\n     \n     }\n   \n   * éæ©å¨:ç­éå·æç¸ä¼¼ç¹å¾çåç´  æ¯ä¸å¯¹å±æ§éè¦ä½¿ç¨åå·éå¼,æåä¸å¯¹å¯ä»¥ä¸å ;\n\n\n# éæ©å¨:ç­éå·æç¸ä¼¼ç¹å¾çåç´ \n\n * åç±»:\n   \n   * åºç¡éæ©å¨\n     \n     * idéæ©å¨:éæ©å·ä½idå±æ§å¼çåç´ ,å»ºè®®å¨ä¸ä¸ªhtmlé¡µé¢ä¸­idå¼å¯ä¸ è¯­æ³:#idå±æ§å¼{}\n       \n       #div1{  \x3c!--idéæ©å¨ æ ¹æ®idéæ©htmlæ ç­¾ --\x3e\n                   color: blue;\n               }\n       \n       \n       1\n       2\n       3\n       \n     \n     * åç´ éæ©å¨:éæ©å·æç¸åæ ç­¾åç§°çåç´  è¯­æ³:æ ç­¾åç§°{} æ³¨æ:idéæ©å¨ä¼åçº§é«äºåç´ éæ©å¨\n     \n     div{  \x3c!-- åç´ éæ©å¨  æ ¹æ®æ ç­¾åéæ©htmlæ ç­¾ --\x3e\n                 color: rebeccapurple;\n             }\n     \n     \n     \n     1\n     2\n     3\n     4\n     \n     * ç±»éæ©å¨:éæ©å·æç¸åclassçå±æ§å¼çåç´  è¯­æ³:.classå±æ§å¼{} æ³¨æ:ç±»éæ©å¨ä¼åçº§é«äºåç´ éæ©å¨ id>ç±»>åç´ \n     \n     .cls1{ \x3c!-- ç±»éæ©å¨  æ ¹æ®ç±»éæ©htmlæ ç­¾ --\x3e\n                 color: cornflowerblue;\n             }\n     \n     \n     1\n     2\n     3\n     \n\n\n# å¤ç±»å\n\nä¸ä¸ªæ ç­¾åªææ¥æä¸ä¸ªclasså±æ§\n\nä½classå±æ§è½åå¤ä¸ªå ç¨ç©ºæ ¼åå¼ æ¯ä¸ªç±»åé½è½åç¬è°ç¨css\n\n<span class="class1 class2"> </span>\n\n\n1\n\n\nidå¨é¡µé¢ä¸­ä¸è½éå¤ classå¯ä»¥\n\n\n# æ©å±éæ©å¨\n\n * éæ©ææåç´ : è¯­æ³:*{}\n\n * å¹¶ééæ©å¨: è¯­æ³:éæ©å¨1,éæ©å¨2{} å¦: .box1,.box2 {}\n\n * äº¤ééæ©å¨: åªéæ©è¯¥æ ç­¾å¹¶ä¸æ¯æ­¤éæ© å¨ç è¯­æ³:æ ç­¾åéæ©å¨{} å¦:div.box1{}\n\n * åä»£éæ©å¨: åç§°åå«éæ©å¨ ç­ééæ©å¨1åç´ ä¸çéæ©å¨åç´ \n\n * è¯­æ³: ç¶çº§ å­çº§{} å¦: .box box2{}\n\n * ç¶éæ©å¨: ç­ééæ©å¨2çç¶åç´ éæ©å¨1 åªéä¸ä¸çº§çåç´  æå¶ä»æ ç­¾åå«é½ä¸éæ© è¯­æ³:éæ©å¨1 > éæ©å¨2{} å¦: .box1 > p{}\n\n * å±æ§éæ©å¨:éæ©åç´ åç§°,å±æ§å=å±æ§å¼çåç´  è¯­æ³:åç´ åç§°[å±æ§å=âå±æ§å¼â]{}\n\n * ä¼ªç±»éæ©å¨:éæ©ä¸äºåç´ å·æçç¶æ è¯­æ³:åç´ :ç¶æ{} æ³¨æç¶æé¡ºåº å¦åä¼åºä¸å¿è¦çéè¯¯ lvha\n   \n   * ç¶æ:\n     \n     1. link:åå§åçç¶æ\n     \n     2. visited:è¢«è®¿é®è¿çç¶æ\n     \n     3. hover:é¼ æ æ¬æµ®ç¶æ\n     \n     4. active:å¨å¨è®¿é®ç¶æ\n\n\n# æ ç­¾æ¾ç¤ºæ¨¡å¼(display)\n\n\n# ä»ä¹æ¯æ ç­¾æ¾ç¤ºæ¨¡å¼\n\næ ç­¾ä¸ä»ä¹æ¹å¼è¿è¡æ¾ç¤ºå¦:divèªå·±å ä¸è¡ç§°ä¸ºååç´ ,spanä¸è¡å¯ä»¥æ¾å¤ä¸ªç§°ä¸ºè¡ååç´ \n\n\n# åçº§åç´ \n\nå¸¸è§çååç´ æ<h1>~<h6>ã<p>ã<div>ã<ul>ã<ol>ã<li>ç­\n\npåhãdtéé¢å°½éä¸è¦æ¾ååç´ \n\nç¹ç¹ï¼\n\n1. ç¬å ä¸è¡\n2. å®½åº¦é»è®¤æ¯ç¶çº§ç100%\n3. éé¢å¯ä»¥ååç´ åè¡ååç´ \n\n\n\n# è¡ååç´ \n\nå¸¸è§çè¡ååç´ æ<a>ã<strong>ã<b>ã<em>ã<i>ã<del>ã<s>ã<ins>ã<i>ã<span>ç­\n\nç¹ç¹ï¼\n\n 1. é«ãå®½ç´æ¥è®¾ç½®æ¯æ²¡æä»»ä½ææç\n 2. é»è®¤çå®½åº¦å°±æ¯å®æ¬èº«åå®¹çå®½åº¦\n 3. è¡ååç´ åªè½å®¹çº³ææ¬æå¶ä»è¡ååç´ \n 4. é¾æ¥æ ç­¾ä¸è½ååå«é¾æ¥æ ç­¾\n 5. ç¹æ®æåµaéé¢å¯ä»¥æ¾ååç´ ï¼ä½æ¯ç»aè½¬æ¢ä¸ä¸åçº§æ¨¡å¼æ´å¥½\n\n\n# è¡åååç´ \n\nå¨è¡ååç´ ä¸­æå ä¸ªç¹æ®çæ ç­¾<img>ã<input>ã<td>\n\nç¹ç¹ï¼\n\n1. åç¸é»çè¡ååç´ å¨ä¸è¡ä¸ï¼ä½æ¯ä¹é´ä¼æç©ºç½ç¼éãä¸è¡åå¯ä»¥æ¾ç¤ºå¤ä¸ª\n2. é»è®¤å®½åº¦å°±æ¯å®æ¬èº«åå®¹çå®½åº¦\n3. é«åº¦ãè¡é«ãå¤è¾¹è·ååè¾¹è·é½å¯ä»¥æ§å¶\n\n\n\n# æ ç­¾æ¾ç¤ºæ¨¡å¼è½¬æ¢\n\n * åè½¬åï¼dispalyï¼inline\n * è¡åè½¬åï¼displayï¼block\n * åãè¡ååç´ è½¬åç´ ä¸ºè¡ååï¼displayï¼inline-block\n\n\n# ï¼fontï¼å­ä½\n\n * font-size:å­ä½å¤§å° å¦: font-size:10px;\n * font-family:è®¾ç½®å­ä½ å¦:font-family:"å¾®è½¯éé»";\n * å¯ä»¥åæ¶æå®å¤ä¸ªå­ä½ç¨éå·åé,å½æµè§å¨ä¸æ¯æåé¢çå­ä½æ¶èªå¨éæ©åé¢çå­ä½ å¦:font-famil: arial,"å®ä½","å¾®è½¯éé»"; å¦å­ä½åæç¹æ®å­ç¬¦æä¸­æè¦å å¼å·,å¯ä»¥ç¨unicodeåä¸­æå­ä½å\n * \n * font-weight:å­ä½ç²ç» å¦:font-weight:normal; normal é»è®¤å¼(ä¸å ç²) bold(å ç²) 100-900 400ä¸ºé»è®¤ 700ä¸ºå ç²\n * font-style:è®¾ç½®æä½ å¦:font-style:italic; normalé»è®¤å¼ italicæä½\n * å¯ä»¥æ··æç»¼åä½¿ç¨ å¦: font: italic 700 20px "å®ä½"; æstyle-weight-size-familyé¡ºåº.\n * \n\n\n# ccså¤è§å±æ§ ææ¬(text)\n\n * color:ææ¬é¢è² å¦:color:"#fff" æ¯æè±æé¢è² åå­è¿å¶ rgb rgba\n\n * text-align:ææ¬å¯¹å¶æ¹å¼ å¦:text-align:center; leftå·¦å¯¹é½ right å³å¯¹é½ center å±ä¸­\n\n * line-height:è¡é´è· å¦:line-height:28px;\n\n * text-indext:é¦è¡ç¼©è¿ å¦:text-indext:2em; å¯ä»¥åpxä½å»ºè®®åem,emæ¯åæ°å³ç³»,1emä¸º1ä¸ªå­\n\n * text-decoration:ææ¬çè£é¥° ä¸è¬ç¨æ¥åæ¶è¶é¾æ¥çä¸åçº¿ å¦:text-decoration:none;\n\n * \n\n\n# è¡é«(line-height)\n\nä¸­æçè¡é«ä¸º ç¬¬ä¸è¡æå­çåºçº¿å°ç¬¬äºè¡æå­çåºçº¿çé«åº¦\n\nè±æçè¡é«ä¸º ç¬¬ä¸è¡è±æçåºçº¿å°ç¬¬äºè¡æå­çåºçº¿é«åº¦\n\nè¡é« = ä¸è·ç¦» + åå®¹é«åº¦ + ä¸è·ç¦»,æå­çè¡é«ç­äºçå­çé«åº¦åä¼åç´å±ä¸­(åè¡ææ¬)\n\n 1. è¡é«ç­äºé«åº¦ æå­ä¼åç´å±ä¸­\n 2. è¡é«å¤§äºé«åº¦ æå­ä¼åä¸\n 3. è¡é«å°äºé«åº¦ æå­ä¼åä¸\n\n\n# èæ¯(background)\n\n * background-color: èæ¯é¢è² å¦ï¼background-color:red\n * background-image:èæ¯å¾ç å¦:background-image:url(å¾çè·¯å¾);è·¯å¾ä¸éè¦å¼å·\n * background-repeat:èæ¯å¹³éº å¦ï¼background-repeat:no-rpeat;\n   * repeat é»è®¤çå¨xè½´åyè½´ä¸å¹³éº\n   * no-repeat ä¸å¹³éº\n   * repeat-x å¨xè½´å¹³éº\n   * repeat-y å¨yè½´å¹³éº\n * background-position:èæ¯ä½ç½® å¦ï¼backg-positionï¼10px centerï¼\n   * å¯ä»¥å¡«ç¾åç¾ æxyåæ \n   * ä¸¤ä¸ªä½ç½®ä¹å¯ä»¥åç»å¯¹ä½ç½® topãcenterãbottomãleftãright\n * background-attachmentï¼èæ¯éç å¦:background-attachmentï¼scroll;\n   * scroll èæ¯å¾éçå¯¹è±¡åå®¹æ»å¨\n   * fixed èæ¯å¾ååºå®\n * èæ¯ç®å: background:èæ¯é¢è² èæ¯å¾çå°å èæ¯å¹³éº èæ¯æ»å¨ èæ¯ä½ç½®;(æ²¡æä½ç½®é¡ºåº,å¯çç¥ä¸è¦çåæ°)\n * èæ¯åéæ:background-color :rgba(0,0,0,.3);\n\n\n# css ä¸å¤§ç¹æ§\n\n\n# css å±å æ§\n\nåé¢çæ ·å¼è¦çæåé¢çæ ·å¼ ä¸ä¼åçå²çª æ ·å¼ä¸å²çªä¸ä¼è¿è¡è¦ç\n\n\n# css ç»§æ¿æ§\n\nå­æ ç­¾ä¼ç»§æ¿ç¶æ ç­¾çæäºæ ·å¼,å¦ææ¬é¢è²åå­å·\n\næ³è¦è®¾ç½®ä¸ä¸ªå¯ç»§æ¿çå±æ§,åªéå°å®åºç¨äºç¶åç´ å³å¯.\n\nå­åç´ å¯ä»¥ç»§æ¿ç¶åç´ çæ ·å¼æ(text-ï¼font-ï¼line-è¿äºåç´ å¼å¤´çå¯ä»¥ç»§æ¿ï¼ä»¥åcolorå±æ§)\n\n\n# css ä¼åçº§\n\n\n\nç»§æ¿ï¼åç´ ï¼classï¼idï¼æ ç­¾åçstyleï¼!important(å°æ­¤csså±æ§è®¾ä¸ºæéè¦)\n\n\n# æéå å \n\nå¦:.box a{} æ­¤æ¶çæéä¸º 0,0,1,0 + 0,0,0,1 =0,0,1,1\n\nå¦è¶è¿10ä¸ä¼è¿å¶\n\n\n# çå­æ¨¡å\n\n\n# è¾¹æ¡\n\n * border-style: è¾¹æ¡ççº¿é£æ ¼ å¦:border-style:solid\n   * solid å®çº¿\n   * node æ²¡æè¾¹æ¡ é»è®¤å¼\n   * dashed èçº¿\n   * dotted ç¹çº¿\n * border-color:è¾¹æ¡é¢è² å¦:border-color:red\n   * border-width:è¾¹æ¡å®½åº¦ border-width:10px\n   * è¾¹æ¡ç®å: border: 1px solid red; (æ²¡æé¡ºåº)\n   * æå®åæ¹åçè¾¹æ¡ å¦:border-top-width:10px\n   * border-radius:è¾¹æ¡åè§è¿æ¸¡ å¦:border-radius:10px; æ border-radius:50%; ç©å½¢æ¯é«åº¦çä¸å.\n     * border-top-left\n     * border-top-right\n     * borde-bottom-left\n     * border-bottom-right\n     * ç®å border:å·¦ä¸è§ å³ä¸è§ å·¦ä¸è§ å³ä¸è§\n   * border-collapse:è¡¨æ ¼ ååæ ¼ th åå¹¶ç¸é»çè¾¹æ¡ å¦:border-collapse:collapse;\n\n\n# å°ºå¯¸\n\n * width:å®½åº¦\n * height:é«åº¦\n\n\n# åè¾¹è·\n\npaddingç¨æ¥è®¾ç½®åè¾¹è·,æè¾¹æ¡ä¸åå®¹ä¹é´çè·ç¦»\n\n 1. åå®¹ä¸è¾¹æ¡æäºè·ç¦»\n 2. çå­ä¼åå¤§\n\n * padding-left:å·¦åè¾¹è·\n * padding-right:å³åè¾¹è·\n * padding-top:ä¸åè¾¹è·\n * padding-bottom:ä¸åè¾¹è·\n * padding:ç®å\n   * padding: 1px 2px 3px 0px(ä¸ å³ ä¸ å·¦ é¡ºæ¶é)\n   * padding: 20px ä¸ä¸å·¦å³é½ä¸º20pxåè¾¹è·\n   * padding:10px 20px ä¸ä¸ä¸º10px å·¦å³ä¸º20px (å¦æ æå®åèªå¨ä¸ºå¯¹ç§°çåè¾¹è·)\n   * padding:10px 20px 30px ä¸ä¸º10 å·¦å³ä¸º20 ä¸ä¸º30 çåè¾¹è·\n\nçå­çå®éå¤§å° = åå®¹çå®½åº¦ é«åº¦ + åè¾¹è· + è¾¹æ¡ = çå­çå¤§å° - åè¾¹è· -è¾¹æ¡ =cssä¸­è®¾ç½®çå­çå¤§å°\n\nä¹å¯ä»¥è®¾ç½®çå­å±æ§ box-sizing: border-box;ä½¿å¾çå­å®éå¤§å°ç­äºè¾¹æ¡+åè¾¹è·çå¤§å°\n\n * paddingä¸å½±åçå­å¤§å°æåµ ç¹æ®æåµ\n   * å¦ææ²¡æç»ä¸ä¸ªçå­æå®å®½åº¦,æ­¤æ¶åç»è¿ä¸ªçå­paddingåä¸ä¼æå¼çå­\n\n\n# å¤è¾¹è·\n\nmarginå±æ§ç¨äºè®¾ç½®å¤è¾¹è·.marginå°±æ¯æ§å¶çå­åçå­ä¹é´çè·ç¦»\n\n * margin-left:å·¦å¤è¾¹è·\n * margin-right:å³å¤è¾¹è·\n * margin-top:ä¸å¤è¾¹è·\n * margin-bottom:ä¸å¤è¾¹è·\n\n\n# è®©åçº§çå­å±ä¸­æ°´å¹³å¯¹é½\n\n 1. å¿é¡»è¦è®¾ç½®å®½åº¦\n 2. è®¾ç½®marginå·¦å³ ä¸ºauto ä¸ä¸autoæ²¡æææ\n\n\n# è®©æå­å±ä¸­åçå­å±ä¸­\n\n 1. è®©çå­åæå­å±ä¸­æ¯ text-align:center,å¹¶ä¸è¿å¯ä»¥è®©è¡ååç´ åè¡ååå±ä¸­å¯¹é½\n 2. åçº§çå­å±ä¸­ å·¦å³å¤è¾¹è·auto\n\n\n# æå¥å¾çåèæ¯å¾ççåºå«\n\n 1. æå¥å¾ç æä»¬ç¨çæå¤ æ¯å¦äº§åå±ç¤º ç§»å¨ä½ç½®åªè½é çæ¨¡å padding margin\n 2. èæ¯å¾çæä»¬ä¸è¬ç¨äºå°å¾çèæ¯ æèè¶å¤§èæ¯å¾ç åªè½éè¿background-position\n\n\n# æ¸é¤åç´ çé»è®¤çåå¤è¾¹è·\n\n*{\n\npadding:0px;\n\nmargin:0px;\n\n}\n\nè¡ååç´ å°½éåªè®¾ç½®å·¦è¾¹åå¤è¾¹è·,å ä¸ºä¸ä¸åå¤è¾¹è·ä¸èµ·ä½ç¨\n\n\n# å»æåè¡¨é»è®¤çæ ·å¼\n\nlist-style:none;\n\n\n# å¤è¾¹è·åå¹¶\n\nä¸ä¸:å½ä¸ä¸ç¸é»çä¸¤ä¸ªååç´ ç¸éæ¶,å¦æä¸é¢çåç´ æmargin-bottom,ä¸é¢çæmargin-topæ¶,ä»ä»¬ä¹é´çåç´é´è·å¹¶ä¸æ¯bottom+topçå¼,èæ¯åå®ä»¬ä¸¤å¼ä¹é´æå¤§çå¼.å¦æ¶åå°ä¸ä¸ä¸¤ä¸ªå¤è¾¹è·åå¹¶å°½éåªç»ä¸ä¸ªåç´ å¤è¾¹è·\n\nåµå¥å¡é·:å½ä¸ä¸ªç¶çå­ä¸­çå­çå­,æ³äºç¶çå­ä¹é´æè·ç¦»,ä½åä¸æ³æç¶çå­æå¼,å¦æä»¬å¨å­çå­ä¸­è®¾ç½®å¤è¾¹è·top,åä¼åºç°ç¶çå­åä¸ç§»å¨äº,ä½å­çå­è¿æ¯ä¸ç¶çå­æ²¡æé´è·.\n\nè§£å³æ¹æ¡:\n\n\t1. å¨ç¶çå­ä¸­æå®ä¸ä¸ªtopè¾¹æ¡  å¦:border-top:1px solid transport;\n\t2. ç»ç¶çå­æå®ä¸ä¸ªåè¾¹è·top  å¦:padding-top : 1px;\n\t3. ç»ç¶çå­æ·»å overflow:hidden;\n\n\n\n# çå­æ¨¡åå¸å±ç¨³å®æ§\n\næä»¬ä¼åä½¿ç¨ width > padding > margin\n\nå ä¸ºwidthæç¨³å® paddingä¼å½±åçå­å¤§å° marginä¼åºç°åå¹¶å¡é·é®é¢\n\n\n# çå­é´å½±\n\n * box-shadow:æ°´å¹³é´å½±å¤§å° åç´é´å½±å¤§å° æ¨¡ç³å¤§å° é´å½±å¤§å° é´å½±é¢è² å/å¤é´å½±(é»è®¤ä¸ºå¤);\n * å¦:box-shadow:2px 2px 2px 2px #000;\n\n\n# å­çå­å¯ä»¥æ¯ç¶çå­å¤§\n\nå¦å­çå­æ²¡ææå®å¤§å°åä¼ç»§æ¿ç¶çå­å¤§å°\n\nä½æ¯å­çå­å¯ä»¥æå®æ¯ç¶çå­å¤§çå¼\n\n\n# æµ®å¨(float)\n\nfloat:ä½¿åç´ æµ®å¨ å¦:float:left;\n\n * none\n\n * left åå·¦æµ®å¨\n * right åå³æµ®å¨\n\næµ®å¨åç´ ä¼æ¼æµ®å¨æ®éæµä¸é¢,ä¸å ä½ç½®,è±æ \n\nç¹æ§:floatå±æ§ä¼æ¹ååç´ çdisplayå±æ§ ä¸è¡ååç¸ä¼¼ä½æ¯æ²¡æä¹é´æ²¡æç¼é å¦æç¶çå­è£ä¸ä¸æµ®å¨åç´  åä¼èªå¨æ¢è¡\n\nä¸è¬æä»¬ä¼ç»æµ®å¨çåç´ å¥ä¸ä¸ªæ åæµçç¶çå­,åå°å¯¹å¶ä»çæ åæµçå½±å\n\næµ®å¨åç´ åªä¼å½±ååé¢çæ åæµåç´  å¹¶ä¸ä¼å½±ååé¢çæ åæµåç´ \n\n\n# æµ®å¨åç´ ä¸ç¶çå­å³ç³»\n\nå¦æç¶çå­æè¾¹æ¡ æµ®å¨åç´ ä¸ä¼åçè¾¹æ¡\n\nå¦æç¶çå­æåè¾¹è· ä¹ä¸ä¼åçåè¾¹è·\n\n\n# æ¸é¤æµ®å¨\n\næ¸é¤æµ®å¨ä¸»è¦æ¯ä¸ºäºè§£å³ç¶åç´ å ä¸ºå­åç´ å¼èµ·åé¨é«åº¦ä¸º0çé®é¢.æ¸é¤æµ®å¨åç¶åç´ å°±ä¼æ ¹æ®æµ®å¨çå­åç´ èªå¨æ£æµé«åº¦.ç¶åç´ æäºé«åº¦å°±ä¸ä¼å½±åä¸é¢çæ åæµ.\n\nclear:both; æ¸é¤ä¸¤ä¾§çæµ®å¨å½±å ä¹å¯åç¬æ¸é¤ leftærightæµ®å¨\n\n# é¢å¤æ ç­¾æ³\n\nå¨æµ®å¨åç´ åé¢å¤æ·»å ä¸ä¸ªç©ºçæ ç­¾ç¨æ¥æ¸é¤æµ®å¨\n\nç¼ºç¹:ç»æåè¢«æä¹±\n\n# ç¶çº§æ·»å overflowå±æ§\n\nç»ç¶åç´ æ·»å  overflow: hidden | auto | scrollé½å¯ä»¥å®ç°æ¸é¤æµ®å¨\n\nç¼ºç¹:è¶åºç¶çå­çåå®¹è¢«åå²\n\n# ä½¿ç¨ä¼ªåç´ æ¸é¤æµ®å¨\n\nç¶çº§åç´ æ·»å ä¼ªåç´ \n\n.box:after {\n\tcontent:"";\n\tdisplay:block;\n\theight:0\n\tclear:both;\n\tvisibility:hidden;\n}\n.box{\n    *zoom:1;  /*ie6ã7ä¸æç */\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n\n\n# åä¼ªåç´ æ¸é¤æµ®å¨\n\n.box:before,\n.box:after {\n\tcontent:"";\n\tdisplay:table;\n}\n.box:aftr {\n    clear:both;\n}\n.box {\n    *zoom:1;  /*ie6ã7ä¸æç */\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n\n\n# ä»ä¹æ¶åç¨æ¸é¤æµ®å¨\n\n 1. ç¶åç´ æ²¡ æé«åº¦\n 2. å­åç´ æµ®å¨\n 3. å½±åä¸é¢å¸å±,æä»¬åºè¯¥æ¸é¤æµ®å¨.\n\n\n# csså±æ§ä¹¦åé¡ºåº\n\n 1. å¸å±å®ä½å±æ§ display/position/float/clear/visibility/overflow(displayå»ºè®®ç¬¬ä¸ä¸ªå)\n 2. èªèº«å±æ§ width/height/margin/padding/border/background\n 3. ææ¬å±æ§ color/font/text-decoration/text-align/vertical-align/white-space/break-word\n 4. å¶ä»å±æ§ content/cursor/border-radius/box-shadow/text-shadow/background-linear-gradient\n\n\n# å®ä½(position)\n\nå°çå­å®å¨æä¸ä¸ªä½ç½®,å¯ä»¥èªç±çæ¼æµ®å¨å¶ä»çå­(åæ¬æ åæµåæµ®å¨)çä¸é¢\n\n\n# è¾¹åç§»\n\néè¿topãbottomãleftãrightå±æ§å®ä¹åç´ çè¾¹åç§»ï¼\n\n\n\n\n# å®ä½æ¨¡å¼\n\npositionï¼å®ä½æ¨¡å¼ å¦ï¼positionï¼absoluteï¼\n\n * static éæå®ä½\n * relative ç¸å¯¹å®ä½\n * absolute ç»å¯¹å®ä½\n * fixed åºå®å®ä½\n * \n\n# éæå®ä½(static )\n\néæå®ä½å°±æ¯é»è®¤å®ä½æ¹å¼,ä¸ºæ å®ä½,æ²¡æè¾¹åç§»\n\néæå®ä½å ä¹ä¸ç¨\n\n# ç¸å¯¹å®ä½(relative)\n\nç¸å¯¹å®ä½æ¯åç´ å¯¹äº åæ¬å¨æ åæµçä½ç½®æ¥å®ä½\n\nåæ¥å¨æ åæµçä½ç½® å ä¸ åç§»å¼\n\nç¹ç¹:å¨åæ¥æ åæµçä½ç½®ä¸ç»§ç»­å æ,è½ç¶ä½ç½®å·²åçæ¹å,ä½åé¢çæ åæµè¿æ¯æ æ³å ç¨å®åæ¥çä½ç½®\n\n# ç»å¯¹å®ä½(absolute)\n\nç»å¯¹å®ä½æ¯åç´ ä»¥å¸¦å®ä½çç¶çº§åç´ æ¥ç§»å¨ä½ç½®ç\n\nå¦æç¶çº§åç´ æ²¡æå®ä½,åä»¥æµè§å¨ä¸ºåå®ä½\n\nå¦æç¶çº§æå®ä½,åä»¥ç¶çº§çä½ç½® å ä¸åç§»å¼æ¥å®ä½\n\nä¸ä¸å®éè¦ç¶çº§,åªè¦æ¯åµå¥åå«æ­¤å­åç´ åä»¥æ­¤åç´ ä¸ºåºååç§»å®ä½(å°±è¿åå)\n\nç¹ç¹:ç»å¯¹å®ä½åçåç´ ,å¨åæ¥æ åæµä¸­ä¸å ç¨ä½ç½®,åé¢çåç´ å¯ä»¥å ç¨å®åæ¥çä½ç½®\n\nå­ç»ç¶ç¸:å­çº§æ¯ç»å¯¹å®ä½,ç¶çº§è¦ç¨ç¸å¯¹å®ä½\n\n# åºå®å®ä½(fixed)\n\nåºå®å®ä½æ¯ç»å¯¹å®ä½çä¸ç§ç¹æ®å½¢å¼.\n\n 1. ä¸ä¼å ç¨åæ¥çä½ç½®\n 2. ä¸éçæ»å¨æ¡æ»å¨\n 3. è·ç¶çº§æ²¡æå³ç³»\n\n# ç»å¯¹å®ä½ççå­å±ä¸­\n\nç»å¯¹å®ä½ççå­æ¯ä¸è½ä½¿ç¨margin:auto è®¾ç½®å±ä¸­å¯¹é½ç\n\n 1. left:50% (å®ä½å°ç¶çå­çå³è¾¹çä¸å,å¶ä»æ¹åé½å¯ä»¥ç¨æ­¤æ¹æ³)\n 2. margin-left: è´çèªèº«å®½åº¦çä¸å; (åéèªèº«å®½åº¦çä¸å)\n\n# å å é¡ºåº(z-index)\n\nå¨å®ä½ä¸­,å¯è½ä¼åºç°çå­å±å ,åé¢ççå­ä¼åæåé¢ççå­,åæ¥èå±ä¸\n\næä»¬å¯ä»¥ä½¿ç¨z-index å±å ç­çº§å±æ§æ¥è°æ´çå­çå å é¡ºåº,é»è®¤å¼ä¸º0\n\n# å®ä½æ¹ådisplay å±æ§\n\nä¸ä¸ªè¡åçå­,å¦æå äºæµ®å¨ãåºå®å®ä½åç»å¯¹å®ä½ï¼ä¸ç¨è½¬æ¢ï¼å°±å¯ä»¥ç»è¿çå­ç´æ¥è®¾ç½®å®½åº¦åé«åº¦\n\n# ç»å¯¹å®ä½åæµ®å¨ä¸ä¼è§¦åå¤è¾¹è·åå¹¶\n\nä¹ååµå¥çå­ç»å­çå­margin-topä¼åºç°å¡é·é®é¢,æä»¬éè¿æ·»å ç¶çå­è¾¹æ¡\n\nç°å¨æä»¬å¯ä»¥æ·»å æ·»å æµ®å¨ æè ç»å¯¹å®ä½æ¥è§£å³è¿ä¸ªé®é¢,ç»äºç¶åç´ æå­åç´ é½å¯ä»¥\n\n\n# å¸å±æ»ç»\n\n 1. æ åæµ\n    * å¯ä»¥è®©çå­ä¸ä¸æå æè å·¦å³æå\n 2. æµ®å¨\n    * å¯ä»¥è®©å¤ä¸ªåçº§åç´  ä¸è¡æ¾ç¤º æè å·¦å³å¯¹é½çå­ æµ®å¨ççå­å°±æ¯æç§é¡ºåºå·¦å³æå\n 3. å®ä½\n    * å®ä½æå¤§çç¹ç¹æ¯æå±å çæ¦å¿µ,å°±æ¯å¯ä»¥è®©å¤ä¸ªçå­ åå å åæ¥æ¾ç¤º. ä½æ¯ç¾å½çå­éè¦æµéæ°å¼\n\n\n# display æ¾ç¤º\n\néèåç´ \n\ndisplay: none;\n\néèåç´ ,ä¸ä¿çä½ç½®\n\næ¾ç¤ºåç´ \n\ndisplay:black;\n\néåaæ ç­¾çhover å¯ä»¥æ§å¶éèæ¾ç¤º\n\n\n# visibility å¯è§\n\néèåç´ \n\nvisibility :hidden;\n\néèåç´ ,ä¿çåæ¬çä½ç½®\n\næ¾ç¤ºåç´ \n\nvisibility:visible;\n\n\n# overflow æº¢åº\n\næ£ç´¢æèè®¾ç½®å½åå¯¹è±¡çåå®¹è¶åºå¶æå®çé«åº¦åå®½åº¦ç®¡çå¦ä½æ¾ç¤º\n\noverflow:\n\n * visible ä¸åªååå®¹ä¹ä¸æ·»å æ»å¨æ¡ (é»è®¤)\n * hidden ä¸æ¾ç¤ºè¶åºçåå®¹,è¶åºé¨åéèæ (æº¢åºéè)\n * scrool ä¸ç®¡è¶åºå¤å°é½æ¾ç¤ºæ»å¨æ¡\n * auto è¶åºèªå¨æ¾ç¤ºæ»å¨æ¡,ä¸è¶åºä¸æ¾ç¤º\n\n\n# cssç¨æ·çé¢æ ·å¼\n\n\n# é¼ æ æ ·å¼ cursor\n\nè®¾ç½®è¯¥åç´ å½åæ æåæ¶ é¼ æ æ ·å¼çå½¢ç¶\n\n * default é»è®¤åæ \n * pointer å°æ\n * move ç§»å¨\n * text ææ¬\n * not-allowed ç¦æ­¢\n\n\n# è½®å»çº¿ outline\n\nè¾å¥æ¡inputè¢«ç¨æ·éä¸­æ¶é«äº®æç¤ºçè½®å»,ä¸è¬æä»¬é½æ¯åæ¶è½®å»\n\noutline:0; æ outline:none;\n\n\n# é²æ­¢ææ½ææ¬å resize\n\nææ¬åé»è®¤çå¤§å°ç¨æ·æ¯å¯ä»¥ææ½,æä»¬ä¸è¬åæ¶ææ½\n\nresize:none;\n\n\n# åç´å¯¹é½ vertical-align\n\nvertical-align å®åªéå¯¹è¡ååç´  æ è¡åååç´  èµ·ä½ç¨ å¯¹ ååç´ ä¸èµ·ä»»ä½ä½ç¨\n\n * baseline åºçº¿å¯¹é½ é»è®¤å¾çä¼ä¸æå­åºçº¿å¯¹é½\n * middle åç´å±ä¸­ å¾çä¸æå­ä¸­çº¿å¯¹é½\n * top é¡¶é¨å¯¹é½ å¾çä¸æå­çé¡¶çº¿å¯¹é½\n * bottom åºé¨å¯¹é½\n\n\n# å»é¤å¾çåºé¨ç©ºç½ç¼é\n\nå ä¸ºå¾çé»è®¤æ¯ä¸æå­çåºçº¿å¯¹é½,èæçå­æ¯è¶åºçåºçº¿ç³»ç»ä¼èªå¨ç©ºåºè¿é¨åæ¥,æä»¬åªéè¦æå¾çä¸æå­åºçº¿ä»¥å¤çå¯¹é½å³å¯ä»¥è§£å³\n\nvertical-align:bottom/top/middle;\n\nç¬¬äºç§çæ¹æ³,æå¾ççè¡åååç´ è½¬æååç´ \n\ndisplay:block;\n\n\n# æº¢åºçæå­çç¥å·æ¾ç¤º\n\n 1. å¼ºå¶æå­å¨ä¸è¡åæ¾ç¤º white-space:nowrap;\n 2. è¶åºé¨åéè overflow:hidden;\n 3. è¶åºé¨åç¨çç¥å·ä»£æ¿ text-overflow:ellipsis;\n\n\n# white-space å¼ºå¶æå­ä¸è¡æ¾ç¤º\n\nwhite-space:\n\n * normal å½æå­è¶åºæ¶,èªå¨æ¢è¡ (é»è®¤)\n * nowrap å¼ºå¶ä¸è¡æ¾ç¤ºæå­ é¤äºbr\n\n\n# text-overflow æå­ç¨çç¥å·ä»£è¡¨è¶åºçé¨å\n\ntext-overflow:\n\n * clip ä¸æ¾ç¤ºçç¥å·(é»è®¤)\n * ellipsis è¶åºé¨åä»¥çç¥å·ä»£æ¿\n\n\n# cssç²¾çµææ¯ (sprite)\n\ncss ç²¾çµå¶å®æ¯å°ç½é¡µçä¸äºèæ¯å¾åæ´åå°ä¸å¼ å¤§å¾ä¸­(ç²¾çµå¾),æµè§å¨è¯·æ±æå¡ç«¯åªéè¦è¯·æ±ä¸æ¬¡å°±å¯ä»¥è¿åå¤ä¸ªèæ¯,ä¸åä½ç½®çå°å¾,æ ¹æ®ç²¾çµå¾çä½ç½®æ¥è®¾ç½®\n\nbackground-position:xåæ  yåæ ; (ä¸è¬èæ¯å®ä½é½æ¯è´å¼ )\n\nåç¨ä¸ä¸ªç¶çå­ææ´å¼ ç²¾çµå¾å è½½,åé¢åç¨å­çå­å®ä½å°éè¦çå¾\n\n\n# æ»å¨é¨\n\n 1. aæ ç­¾è®¾ç½®èæ¯å¾å·¦ä¾§ paddingæå¼åéçå·¦ä¾§å®½åº¦ä½¿æå­ä¸å·¦ä¾§æåè¾¹è·\n 2. spanæ ç­¾è®¾ç½®èæ¯å¾å³ä¾§ paddingæå¼å³ä¾§èæ¯åè¾¹è·\n\n\n# marginè´å¼\n\n2ä¸ªæµ®å¨ççå­è¾¹æ¡å¦ä½åå¹¶,æä»¬ä½¿ç¨è´å¼çmarginå¼å°±å¯ä»¥è§£å³æ­¤é®é¢,å¦:margin-left:-1px;\n\n\n# cssä¸è§å½¢\n\nå½ä¸ä¸ªçå­é«åº¦åå®½åº¦ä¸º0æ¶,æä»¬ç»äºæå®çå¤§å°è¾¹æ¡,å®ä¼ä»¥ä¸è§å½¢çå½¢å¼åç°åºæ¥\n\næ³¨æçå­ç4ä¸ªè¾¹æ¡é½è¦æå®å¤§å°,æä»¬åªç»äºéè¦çè¾¹æ¡ä¿ç,å¶ä»æä»¬è®¾ç½®ä¸ºtransport éæè²å°±å¥½',charsets:{cjk:!0}},{title:"html+cssç½é¡µ",frontmatter:{title:"html+cssç½é¡µ",date:"2022-03-18T00:54:47.000Z",permalink:"/pages/5bc756/",categories:["åç«¯","Html"],tags:[null]},regularPath:"/%E5%89%8D%E7%AB%AF/01.html/06.html+css%E7%BD%91%E9%A1%B5.html",relativePath:"åç«¯/01.html/06.html+cssç½é¡µ.md",key:"v-3ce17358",path:"/pages/5bc756/",headers:[{level:2,title:"favicon å¾æ ",slug:"favicon-å¾æ ",normalizedTitle:"favicon å¾æ ",charIndex:17},{level:2,title:"æç´¢å¼æä¼å",slug:"æç´¢å¼æä¼å",normalizedTitle:"æç´¢å¼æä¼å",charIndex:128},{level:2,title:"å­ä½å¾æ ",slug:"å­ä½å¾æ ",normalizedTitle:"å­ä½å¾æ ",charIndex:495},{level:3,title:"å£°æå­ä½",slug:"å£°æå­ä½",normalizedTitle:"å£°æå­ä½",charIndex:612},{level:2,title:"logoä¼å",slug:"logoä¼å",normalizedTitle:"logoä¼å",charIndex:826},{level:2,title:"cssè¿æ¸¡å¨ç»",slug:"cssè¿æ¸¡å¨ç»",normalizedTitle:"cssè¿æ¸¡å¨ç»",charIndex:1037},{level:2,title:"è¡¨åè·å¾ç¦ç¹",slug:"è¡¨åè·å¾ç¦ç¹",normalizedTitle:"è¡¨åè·å¾ç¦ç¹",charIndex:1726}],headersStr:"favicon å¾æ  æç´¢å¼æä¼å å­ä½å¾æ  å£°æå­ä½ logoä¼å cssè¿æ¸¡å¨ç» è¡¨åè·å¾ç¦ç¹",content:"# html+cssç½é¡µ\n\n\n# favicon å¾æ \n\nä½¿ç¨link ä¸­ç favicon æ¥å¼ç¨ ,éè¦å¨ç½é¡µæä»¶åæä»¶å¤¹ä¸çä¸ä¸ªfavicon.icoæä»¶å¾æ \n\nhttps://www.bitbug.net/index.php å¨çº¿è½¬æ¢å°å\n\n\n# æç´¢å¼æä¼å\n\n# title æ é¢\n\né¦é¡µæ é¢:ç½ç«å(äº§åå) - ç½ç«çä»ç»\n\nå»ºè®®ä¸è¶28ä¸ªæ±å­\n\n# description ç½ç«è¯´æ\n\nä½¿ç¨metaæ ç­¾ nameä¸ºdescription content ä»ç»åå®¹ å»ºè®®ä¸è¶120ä¸ªæ±å­\n\nå¦:\n\n<meta name=\"description\" content=\"ä»ç»åå®¹\">\n\n\n1\n\n\n# keywords å³é®å­\n\nä½¿ç¨meatæ ç­¾ nameä¸ºkeywords contentä¸ºå³é®å­ å³é®å­åºè¯¥éå¶å¨6-8ä¸ª\n\nå¦:\n\n <meta\n      name=\"keywords\"\n      content=\"ç½ä¸è´­ç©,ç½ä¸åå,ææº,ç¬è®°æ¬,çµè,MP3,CD,VCD,DV,ç¸æº,æ°ç ,éä»¶,æè¡¨,å­å¨å¡,åä¼è´­\"\n    /> \n\n\n1\n2\n3\n4\n\n\n\n# å­ä½å¾æ \n\nå©ç¨èªå®ä¹å­ä½åº,çæä¸ªæ§åå­ä½å¾æ ,åå°å¾çè¯·æ±\n\nhttp://icomoon.io æ åºåå»ºé¡¹ç® æ·»å å³å¯ä¸è½½å­ä½\n\nhttps://www.iconfont.cn/ é¿éçç¢éå­åº å¾åå»ºé¡¹ç®æè½ä¸è½½å­ä½\n\n\n# å£°æå­ä½\n\nå¨cssä¸­å£°æå­ä½æè½ä½¿ç¨èªå®ä¹å­ä½\n\n@font-face {\n\tfont-family:'èªå®ä¹åç§°';\n    src:url('å­ä½è·¯å¾'),url('è·¯å¾2');\n    font-weight:normal;\n    font-style:normal;\n}\n/* å¼ç¨å­ä½ */\ndiv {\n    font-family:'èªå®ä¹åç§°';\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n\n\n\n# logoä¼å\n\nlogoéé¢æ¾ä¸ä¸ªh1æ ç­¾ æé«æç´¢å¼ææé\n\nh1éé¢æ¾ä¸ä¸ªaæ ç­¾ ,å¯ä»¥è¿åå°é¦é¡µ,åç»aæ ç­¾ä¸ä¸ªå¤§å° å èæ¯å¾ç\n\naæ ç­¾ éé¢è¦æ¾æå­ (ç½ç«åç§°,ä½æå­ä¸è¦æ¾ç¤ºåºæ¥)\n\n * æ¹æ³1:ç¨text-iudent ç§»å¨çå­å¤é¢ åç¨overflow:hidden ç§»é¤æº¢åºé¨å\n * æ¹æ³2:ç¨font-size:0;\n\næå ç»é¾æ¥ä¸ä¸ª titleå±æ§ è¿æ ·é¼ æ æ¾ä¸å»å°±å¯ä»¥çå°æç¤ºæå­\n\n\n# cssè¿æ¸¡å¨ç»\n\ncssè¿æ¸¡å¨ç»ç¨transitionå³é®å­,ç»å¸¸ä¸:hoveréåä½¿ç¨\n\n * transition-property:è¿æ¸¡csså±æ§çåç§°\n * transition-duration:è¿æ¸¡ææè±è´¹çæ¶é´,é»è®¤ä¸º0\n   * æ³¨æè¦åæ¶é´åä½ å¯ä»¥å¡«å s æèms\n * transition-timing-function:è¿æ¸¡å¨ç»çæ¶é´æ²çº¿,é»è®¤ä¸ºease\n   * \n * transition-delay:è¿æ¸¡ææä½æ¶å¼å§,é»è®¤ä¸º0\n * transition: è¦è¿æ¸¡çå±æ§ è±è´¹æ¶é´ è¿å¨æ²çº¿ ä½æ¶å¼å§;\n   * å¯ä»¥æ¥æå¤ä¸ªè¿æ¸¡å¨ç»,ç¨éå·éå¼ä¸è½ä½¿ç¨åå·,åå·ä»£è¡¨transitionç»æ.\n   * allå±æ§,æä»¬transitionä¸­è¿æ¸¡çå±æ§å¯ä»¥ç¨allå³é®å­,ä»£è¡¨çææçå±æ§é½æ¥æè¿æ¸¡\n   * è¿æ¸¡å¨ç»åå¨åç´ æ¬èº«ä¸\n\nå¦:\n\ndiv {\n\twidth:400px;\n    height:150px;\n    backround-clor;pink;\n    transition: width 1s ease 0s,height 1s linear 0s;\n    /*å½é¼ æ æ¾å¨divä¸æ¶å®½åº¦åæ800px,transitionè¿æ¸¡å¨ç»å±æ§ä¸ºwidthå®½åº¦,æ¶é´ä¸º1s\n    \tååç´ å¯ä»¥æ¥æå¤ä¸ªè¿æ¸¡å¨ç»,ç¨éå·éå¼.\n    */\n}\n\ndiv:hover {\n    width:800px;\n    height:700px\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n\n\n\n# è¡¨åè·å¾ç¦ç¹\n\nå½æ­¤åç´ è·ååæ ç¦ç¹çæåµ\n\nä¼ªç±»éæ©å¨ ä¸­ç focus , å¤±å»ç¦ç¹å¤å\n\nå¦:\n\ninput:focus {\n    background-color:pink;\n}\n\n\n1\n2\n3\n",normalizedContent:"# html+cssç½é¡µ\n\n\n# favicon å¾æ \n\nä½¿ç¨link ä¸­ç favicon æ¥å¼ç¨ ,éè¦å¨ç½é¡µæä»¶åæä»¶å¤¹ä¸çä¸ä¸ªfavicon.icoæä»¶å¾æ \n\nhttps://www.bitbug.net/index.php å¨çº¿è½¬æ¢å°å\n\n\n# æç´¢å¼æä¼å\n\n# title æ é¢\n\né¦é¡µæ é¢:ç½ç«å(äº§åå) - ç½ç«çä»ç»\n\nå»ºè®®ä¸è¶28ä¸ªæ±å­\n\n# description ç½ç«è¯´æ\n\nä½¿ç¨metaæ ç­¾ nameä¸ºdescription content ä»ç»åå®¹ å»ºè®®ä¸è¶120ä¸ªæ±å­\n\nå¦:\n\n<meta name=\"description\" content=\"ä»ç»åå®¹\">\n\n\n1\n\n\n# keywords å³é®å­\n\nä½¿ç¨meatæ ç­¾ nameä¸ºkeywords contentä¸ºå³é®å­ å³é®å­åºè¯¥éå¶å¨6-8ä¸ª\n\nå¦:\n\n <meta\n      name=\"keywords\"\n      content=\"ç½ä¸è´­ç©,ç½ä¸åå,ææº,ç¬è®°æ¬,çµè,mp3,cd,vcd,dv,ç¸æº,æ°ç ,éä»¶,æè¡¨,å­å¨å¡,åä¼è´­\"\n    /> \n\n\n1\n2\n3\n4\n\n\n\n# å­ä½å¾æ \n\nå©ç¨èªå®ä¹å­ä½åº,çæä¸ªæ§åå­ä½å¾æ ,åå°å¾çè¯·æ±\n\nhttp://icomoon.io æ åºåå»ºé¡¹ç® æ·»å å³å¯ä¸è½½å­ä½\n\nhttps://www.iconfont.cn/ é¿éçç¢éå­åº å¾åå»ºé¡¹ç®æè½ä¸è½½å­ä½\n\n\n# å£°æå­ä½\n\nå¨cssä¸­å£°æå­ä½æè½ä½¿ç¨èªå®ä¹å­ä½\n\n@font-face {\n\tfont-family:'èªå®ä¹åç§°';\n    src:url('å­ä½è·¯å¾'),url('è·¯å¾2');\n    font-weight:normal;\n    font-style:normal;\n}\n/* å¼ç¨å­ä½ */\ndiv {\n    font-family:'èªå®ä¹åç§°';\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n\n\n\n# logoä¼å\n\nlogoéé¢æ¾ä¸ä¸ªh1æ ç­¾ æé«æç´¢å¼ææé\n\nh1éé¢æ¾ä¸ä¸ªaæ ç­¾ ,å¯ä»¥è¿åå°é¦é¡µ,åç»aæ ç­¾ä¸ä¸ªå¤§å° å èæ¯å¾ç\n\naæ ç­¾ éé¢è¦æ¾æå­ (ç½ç«åç§°,ä½æå­ä¸è¦æ¾ç¤ºåºæ¥)\n\n * æ¹æ³1:ç¨text-iudent ç§»å¨çå­å¤é¢ åç¨overflow:hidden ç§»é¤æº¢åºé¨å\n * æ¹æ³2:ç¨font-size:0;\n\næå ç»é¾æ¥ä¸ä¸ª titleå±æ§ è¿æ ·é¼ æ æ¾ä¸å»å°±å¯ä»¥çå°æç¤ºæå­\n\n\n# cssè¿æ¸¡å¨ç»\n\ncssè¿æ¸¡å¨ç»ç¨transitionå³é®å­,ç»å¸¸ä¸:hoveréåä½¿ç¨\n\n * transition-property:è¿æ¸¡csså±æ§çåç§°\n * transition-duration:è¿æ¸¡ææè±è´¹çæ¶é´,é»è®¤ä¸º0\n   * æ³¨æè¦åæ¶é´åä½ å¯ä»¥å¡«å s æèms\n * transition-timing-function:è¿æ¸¡å¨ç»çæ¶é´æ²çº¿,é»è®¤ä¸ºease\n   * \n * transition-delay:è¿æ¸¡ææä½æ¶å¼å§,é»è®¤ä¸º0\n * transition: è¦è¿æ¸¡çå±æ§ è±è´¹æ¶é´ è¿å¨æ²çº¿ ä½æ¶å¼å§;\n   * å¯ä»¥æ¥æå¤ä¸ªè¿æ¸¡å¨ç»,ç¨éå·éå¼ä¸è½ä½¿ç¨åå·,åå·ä»£è¡¨transitionç»æ.\n   * allå±æ§,æä»¬transitionä¸­è¿æ¸¡çå±æ§å¯ä»¥ç¨allå³é®å­,ä»£è¡¨çææçå±æ§é½æ¥æè¿æ¸¡\n   * è¿æ¸¡å¨ç»åå¨åç´ æ¬èº«ä¸\n\nå¦:\n\ndiv {\n\twidth:400px;\n    height:150px;\n    backround-clor;pink;\n    transition: width 1s ease 0s,height 1s linear 0s;\n    /*å½é¼ æ æ¾å¨divä¸æ¶å®½åº¦åæ800px,transitionè¿æ¸¡å¨ç»å±æ§ä¸ºwidthå®½åº¦,æ¶é´ä¸º1s\n    \tååç´ å¯ä»¥æ¥æå¤ä¸ªè¿æ¸¡å¨ç»,ç¨éå·éå¼.\n    */\n}\n\ndiv:hover {\n    width:800px;\n    height:700px\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n\n\n\n# è¡¨åè·å¾ç¦ç¹\n\nå½æ­¤åç´ è·ååæ ç¦ç¹çæåµ\n\nä¼ªç±»éæ©å¨ ä¸­ç focus , å¤±å»ç¦ç¹å¤å\n\nå¦:\n\ninput:focus {\n    background-color:pink;\n}\n\n\n1\n2\n3\n",charsets:{cjk:!0}},{title:"CSS3",frontmatter:{title:"CSS3",date:"2022-03-18T00:54:47.000Z",permalink:"/pages/54a5fa/",categories:["åç«¯","Html"],tags:[null]},regularPath:"/%E5%89%8D%E7%AB%AF/01.html/07.CSS3.html",relativePath:"åç«¯/01.html/07.CSS3.md",key:"v-2751208f",path:"/pages/54a5fa/",headers:[{level:2,title:"å±æ§éæ©å¨",slug:"å±æ§éæ©å¨",normalizedTitle:"å±æ§éæ©å¨",charIndex:11},{level:2,title:"ç»æä¼ªç±»éæ©å¨",slug:"ç»æä¼ªç±»éæ©å¨",normalizedTitle:"ç»æä¼ªç±»éæ©å¨",charIndex:571},{level:2,title:"ä¼ªç±»éæ©å¨",slug:"ä¼ªç±»éæ©å¨",normalizedTitle:"ä¼ªç±»éæ©å¨",charIndex:71},{level:2,title:"2Dè½¬æ¢",slug:"_2dè½¬æ¢",normalizedTitle:"2dè½¬æ¢",charIndex:1180},{level:3,title:"2Dç§»å¨",slug:"_2dç§»å¨",normalizedTitle:"2dç§»å¨",charIndex:1189},{level:3,title:"2Dæè½¬",slug:"_2dæè½¬",normalizedTitle:"2dæè½¬",charIndex:1459},{level:3,title:"2Dç¼©æ¾",slug:"_2dç¼©æ¾",normalizedTitle:"2dç¼©æ¾",charIndex:1617},{level:3,title:"ç¼©å",slug:"ç¼©å",normalizedTitle:"ç¼©å",charIndex:1821},{level:2,title:"å¨ç»",slug:"å¨ç»",normalizedTitle:"å¨ç»",charIndex:1884},{level:3,title:"å¨ç»å¸¸ç¨å±æ§",slug:"å¨ç»å¸¸ç¨å±æ§",normalizedTitle:"å¨ç»å¸¸ç¨å±æ§",charIndex:2288},{level:2,title:"3Dè½¬æ¢",slug:"_3dè½¬æ¢",normalizedTitle:"3dè½¬æ¢",charIndex:2938},{level:3,title:"3Dç§»å¨",slug:"_3dç§»å¨",normalizedTitle:"3dç§»å¨",charIndex:2947},{level:3,title:"éè§ perspective",slug:"éè§-perspective",normalizedTitle:"éè§ perspective",charIndex:3069},{level:3,title:"3Dæè½¬ rotate3d",slug:"_3dæè½¬-rotate3d",normalizedTitle:"3dæè½¬ rotate3d",charIndex:3142},{level:3,title:"3Dåç° transform-style",slug:"_3dåç°-transform-style",normalizedTitle:"3dåç° transform-style",charIndex:3343},{level:2,title:"æµè§å¨ç§æåç¼",slug:"æµè§å¨ç§æåç¼",normalizedTitle:"æµè§å¨ç§æåç¼",charIndex:3500},{level:2,title:"èæ¯çº¿æ§æ¸å",slug:"èæ¯çº¿æ§æ¸å",normalizedTitle:"èæ¯çº¿æ§æ¸å",charIndex:3616}],headersStr:"å±æ§éæ©å¨ ç»æä¼ªç±»éæ©å¨ ä¼ªç±»éæ©å¨ 2Dè½¬æ¢ 2Dç§»å¨ 2Dæè½¬ 2Dç¼©æ¾ ç¼©å å¨ç» å¨ç»å¸¸ç¨å±æ§ 3Dè½¬æ¢ 3Dç§»å¨ éè§ perspective 3Dæè½¬ rotate3d 3Dåç° transform-style æµè§å¨ç§æåç¼ èæ¯çº¿æ§æ¸å",content:'# CSS3\n\n\n# å±æ§éæ©å¨\n\nåç´ [å±æ§]{} éæ©æå®åç´ ä¸­æ¥æè¯¥å±æ§çåç´  å¦:button[disable]{};\n\nå±æ§éæ©å¨åä¼ªç±»éæ©å¨ä¸ç±»éæ©å¨æéä¸è´\n\n<style>\n      button {\n        cursor: pointer;\n      }\n\n      button[disabled] {\n        cursor: default;\n      }\n    </style>\n\n<button>æäº¤</button>\n    <button>æäº¤</button>\n    <button disabled="disabled">æäº¤</button>\n    <button disabled="disabled">æäº¤</button>\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n\n * E[att]; éæ©å·æattå±æ§çEåç´ \n * E[att="val"]; éæ©å·æattå±æ§å¹¶ä¸å¼ç­äºvalçEåç´ \n * E[att^="val"] éæ©å·æattå±æ§å¹¶ä¸å¼ä»¥valå¼å¤´çEåç´ \n * E[att$="val"] éæ©å·æattå±æ§å¹¶ä¸å¼ä»¥valç»å°¾çEåç´ \n * E[att*="val"] éæ©å·æattå±æ§å¹¶ä¸å¼åå«valçEåç´ \n\n\n# ç»æä¼ªç±»éæ©å¨\n\néæ©è¯¥åç´ ä¸­ æå®åç´ çç¬¬å ä¸ª å¦:FU E:nth-child(1){}\n\n * E:first-child å¹éç¶åç´ ä¸­ç¬¬ä¸ä¸ªå­åç´ E å¯ä»¥çç¥Eåç´ è¡¨ç¤ºallåç´  å¦:span:first-child\n * E:last-child å¹éæåä¸ä¸ªEåç´ \n * E:nth-child(n) å¹éç¬¬nä¸ªEåç´ \n   * nå¯ä»¥æ¯æ°å­\n   * nå¯ä»¥æ¯å³é®å­ å¦evenå¶æ° oddå¥æ°\n   * nå¯ä»¥å¬å¼,ä»0å¼å§è®¡ç® å¦:2nå¶æ° ä»0 2 4 6, n+5 ä» 5 6 7 8.-n+5 ä» 4 3 2 1\n   * ç¬¬0ä¸ªåç´ åè¶åºåç´ çä¸ªæ°ä¼è¢«å¿½ç¥,åç´ ä»1å¼å§\n   * å¦å¹éæå®åç´ ä¸ç¶ç±»åç´ ä¸­ç¬¬nå­©å­å¹¶ä¸æ¯åç´ åä¸ä¼å¹ééæ©å°\n * E:first-of-type éæ©æå®ç±»åçç¬¬ä¸ä¸ª å¦:span:first-of-type\n * E:last-of-type éæ©æå®ç±»åçæåä¸ä¸ª\n * E:nth-of-type(n) ä¸å­ç±»éæ©ä¸è´\n * &:not(:last-child) æé¤æåä¸ä¸ªå­ç±»\n\n\n# ä¼ªç±»éæ©å¨\n\n * ::before å¨åç´ åé¨çåé¢æå¥åå®¹\n * ::after å¨åç´ åé¨çåé¢æå¥åå®¹\n * é½å¿é¡»æ¥æcontentå±æ§\n * ä¼å¨åå®¹çåæå,åå»ºä¸ä¸ªçä¸è§çåç´ ,ä½æ¯å±äºè¡ååç´ \n * ä¼ªåç´ åæ ç­¾éæ©å¨ä¸æ ·,æéä¸º1\n\n\n# 2Dè½¬æ¢\n\n\n# 2Dç§»å¨\n\nä½¿ç¨transform:å³é®å­,ä¸ä¼å½±åå°å¶ä»åç´ çä½ç½®, å¯¹è¡åæ ç­¾æ²¡æææ,å¦æä½¿ç¨ç¾åç¾åä½æ¯ç¸å¯¹äºèªèº«åç´ çå°ºå¯¸(50%æ¯èªèº«å°ºå¯¸çä¸å).\n\n * translate(x,y); å¨åç´ åæ¥çä½ç½®ç§»å¨ç¸å¯¹åºçx yåæ  å¦:transform:translate(x,y);\n * translateX(n);\n * translateY(n);\n * è®©çå­éç½®å±ä¸­æ¹æ³:é¦åå­ç»ç¶ç¸,left:50%,ç¶åèªèº«å¤§å°çä¸å,ä¹å°±æ¯translateä¸­çtransform:translate(50%,0);\n\n\n# 2Dæè½¬\n\ntransform:rotate(åº¦æ°);\n\nåº¦æ°åä½ä¸ºdeg å¦:rotate(45deg)\n\nè§åº¦ä¸ºæ­£æ¶é¡ºæ¶é,éæ¶ä¸ºéæ¶é\n\ntransform-origin:x y ; é»è®¤çæè½¬ç¹ä¸ºåç´ çä¸­å¿ç¹(50%,50%) ,æ¯ææ¹ä½åè¯topãbottomãleftãrightãcenter\n\n\n# 2Dç¼©æ¾\n\ntransform:scale(x,y);\n\nx,yæçæ¯åæ¥å®½åº¦/é«åº¦åæ°,é»è®¤ä¸º1å;\n\nå¦æå®½åº¦åé«åº¦ååçåæ°ä¸æ ·å¯ä»¥ç®åä¸ºx å¦:transform:scale(2);\n\nç¼©æ¾ä¸ä¼å½±åå¶ä»çå­\n\nåæ ·æ¥æä¸­å¿ç¹\n\ntransform-origin:x y ; é»è®¤çç¼©æ¾ç¹ä¸ºåç´ çä¸­å¿ç¹(50%,50%) ,æ¯ææ¹ä½åè¯topãbottomãleftãrightãcenter\n\n\n# ç¼©å\n\ntransform:translate() rotate() scale()\n\nå¼ºè°é¡ºåºå³ç³»,ä½ç§»æ»æ¯å¨æå\n\n\n# å¨ç»\n\nä½¿ç¨keyframeså®ä¹å¨ç»\n\n@keyframes å¨ç»èªå®ä¹åç§° {\n    /*å¼å§ç¶æ*/\n\t0% {\n\t\twidth:100px;\n\t}\n    /*ç»æç¶æ*/\n\t100% {\n\t\twidth:200px;\n\t}\n}\n\n/*è°ç¨å¨ç»*/\ndiv {\n    width:200px;\n    height:200px;\n    \n    animation-name:å¨ç»åç§°;\n  \n    animation-duration:æç»­æ¶é´;\n        \n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n\n\n# å¨ç»åºå\n\nå¨ç»æå¤ä¸ªè¿ç¨ä»0%-100%,ä¹å¯ä»¥ä½¿ç¨form,toä»£æ¿0å100\n\næä»¬å¯ä»¥å®ä¹ä¸åç¾åç¾çè¿ç¨çå¨ç»ä¸ä¸ªå¨ç»ä¸­æå¤ä¸ªè¿æ¸¡å¨ç»\n\nå¦:0%ä¸ä¸ª 25%ä¸ä¸ª 75% 100%\n\n\n# å¨ç»å¸¸ç¨å±æ§\n\n * @keyframes: è§å®å¨ç»\n * animation-name: å¨ç»åç§°\n * animation-duration: æç»­æ¶é´\n * animation-timing-function:å¨ç»çéåº¦æ²çº¿ é»è®¤æ¯ease\n   * linear åé\n   * ease é»è®¤\n   * ease-in å¨ç»ç±ä½éå¼å§\n   * ease-out ä½éç»æ\n   * ease-in-out ä»¥ä½ä¿å¼å§åç»æ\n   * steps() æå®äºæ¶é´å½æ°ä¸­çé´éæ°é(æ­¥é¿),åèç³ææ´ä¸ªå¨ç»ååä¸ºè¥å¹²ä»½\n * animation-delay: è§å®å¨ç»ä½æ¶å¼å§ é»è®¤æ¯0 åä½ä¸ºs / ms\n * animation-iteration-count:å¨ç»æ­æ¾æ¬¡æ° é»è®¤ä¸º1,infiniteä¸ºæ éå¾ªç¯\n * animation-direction: è§å®å¨ç»æ¯å¦å¨ä¸ä¸å¨æéåæ­æ¾ é»è®¤ä¸ºnormal, alternateæ¯éæ­æ¾\n * animation-play-state: è§å®å¨ç»æ­æ¾æèæå é»è®¤ä¸º running æåä¸ºpause\n * animation-fill-mode: è§å®å¨ç»ç»æåç¶æ ä¿æä¸ºforwards åå°èµ·å§ä½ç½®ä¸ºbackwards\n * animation: å¨ç»çç®å\n   * animation: å¨ç»åç§° æç»­æ¶é´ è¿å¨æ²çº¿ ä½æ¶å¼å§ æ­æ¾æ¬¡æ° æ¯å¦åå å¨ç»èµ·å§æç»æç¶æ\n   * å¯ä»¥ä½¿ç¨å¤ä¸ªå¨ç»,ç¨éå·éå¼.\n\n\n# 3Dè½¬æ¢\n\n\n# 3Dç§»å¨\n\n * transform:translateX(x); å¾xè½´ç§»å¨\n * translateY å¾yç§»å¨\n * translateZ å¾Zç§»å¨\n * transform:translate3d(x,y,z) æå®ç§»å¨xyz\n\n\n# éè§ perspective\n\nåå¨è¢«3Dååç´ çç¶çå­é\n\nperspective:500px;\n\nå¿é¡»è¦æéè§æè½çå°zè½´ååçææ\n\n\n# 3Dæè½¬ rotate3d\n\n * transform:rotateX(45deg); æ²¿xè½´æ­£åæè½¬45åº¦\n * transform:rotateY(45deg); æ²¿yè½´æ­£åæè½¬45åº¦\n * transform:rotateZ(45deg); æ²¿zè½´æ­£åæè½¬45åº¦\n * transform:rotate3d(x,y,z,45deg); æ²¿èªå®ä¹è½´ æè½¬45åº¦ 1ä¸ºæ è®°æ­¤è½´æè½¬ é»è®¤ä¸º0\n\n\n# 3Dåç° transform-style\n\næ§å¶å­åç´ æ¯å¦å¼å¯ä¸ç»´ç«ä½ç¯å¢,å¦æä¸å¼å¯ ç¶çå­æè½¬ä¹å å­çå­ä¸ä¼ä¿ç3dææ\n\ntransform:flat é»è®¤å­åç´ ä¸å¼å¯3dç«ä½ç©ºé´\n\ntransform-style:preserve-3d; å­åç´ å¼å¯ç«ä½ç©ºé´\n\nåå¨ç¶çº§åç´ ä¸, ä½å½±åæ¯å­åç´ \n\n\n# æµè§å¨ç§æåç¼\n\n-moz-: firefox ç§æåç¼\n\n-ms-: ieæµè§å¨\n\n-webkit-: Safari åchrome\n\n-o- : Opera\n\nå¦: -ms-border:1px solid #ccc;\n\n\n# èæ¯çº¿æ§æ¸å\n\nbackground:linear-gradient(èµ·å§æ¹å,é¢è²1,é¢è²2,....);\n\n * èµ·å§æ¹åä¸ºæ¹ä½åè¯æåº¦æ° é»è®¤å¼ä¸ºtop\n * å¯ä»¥æå®å·¦ä¸è§ ç¨ç©ºæ ¼éå¼ å¦: top left,é¢è²1,é¢è²2\n * è¦å ä¸æµè§å¨çç§æåç¼ å¦:background:-webkit-linear-gradient(left,red,blue);',normalizedContent:'# css3\n\n\n# å±æ§éæ©å¨\n\nåç´ [å±æ§]{} éæ©æå®åç´ ä¸­æ¥æè¯¥å±æ§çåç´  å¦:button[disable]{};\n\nå±æ§éæ©å¨åä¼ªç±»éæ©å¨ä¸ç±»éæ©å¨æéä¸è´\n\n<style>\n      button {\n        cursor: pointer;\n      }\n\n      button[disabled] {\n        cursor: default;\n      }\n    </style>\n\n<button>æäº¤</button>\n    <button>æäº¤</button>\n    <button disabled="disabled">æäº¤</button>\n    <button disabled="disabled">æäº¤</button>\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n\n * e[att]; éæ©å·æattå±æ§çeåç´ \n * e[att="val"]; éæ©å·æattå±æ§å¹¶ä¸å¼ç­äºvalçeåç´ \n * e[att^="val"] éæ©å·æattå±æ§å¹¶ä¸å¼ä»¥valå¼å¤´çeåç´ \n * e[att$="val"] éæ©å·æattå±æ§å¹¶ä¸å¼ä»¥valç»å°¾çeåç´ \n * e[att*="val"] éæ©å·æattå±æ§å¹¶ä¸å¼åå«valçeåç´ \n\n\n# ç»æä¼ªç±»éæ©å¨\n\néæ©è¯¥åç´ ä¸­ æå®åç´ çç¬¬å ä¸ª å¦:fu e:nth-child(1){}\n\n * e:first-child å¹éç¶åç´ ä¸­ç¬¬ä¸ä¸ªå­åç´ e å¯ä»¥çç¥eåç´ è¡¨ç¤ºallåç´  å¦:span:first-child\n * e:last-child å¹éæåä¸ä¸ªeåç´ \n * e:nth-child(n) å¹éç¬¬nä¸ªeåç´ \n   * nå¯ä»¥æ¯æ°å­\n   * nå¯ä»¥æ¯å³é®å­ å¦evenå¶æ° oddå¥æ°\n   * nå¯ä»¥å¬å¼,ä»0å¼å§è®¡ç® å¦:2nå¶æ° ä»0 2 4 6, n+5 ä» 5 6 7 8.-n+5 ä» 4 3 2 1\n   * ç¬¬0ä¸ªåç´ åè¶åºåç´ çä¸ªæ°ä¼è¢«å¿½ç¥,åç´ ä»1å¼å§\n   * å¦å¹éæå®åç´ ä¸ç¶ç±»åç´ ä¸­ç¬¬nå­©å­å¹¶ä¸æ¯åç´ åä¸ä¼å¹ééæ©å°\n * e:first-of-type éæ©æå®ç±»åçç¬¬ä¸ä¸ª å¦:span:first-of-type\n * e:last-of-type éæ©æå®ç±»åçæåä¸ä¸ª\n * e:nth-of-type(n) ä¸å­ç±»éæ©ä¸è´\n * &:not(:last-child) æé¤æåä¸ä¸ªå­ç±»\n\n\n# ä¼ªç±»éæ©å¨\n\n * ::before å¨åç´ åé¨çåé¢æå¥åå®¹\n * ::after å¨åç´ åé¨çåé¢æå¥åå®¹\n * é½å¿é¡»æ¥æcontentå±æ§\n * ä¼å¨åå®¹çåæå,åå»ºä¸ä¸ªçä¸è§çåç´ ,ä½æ¯å±äºè¡ååç´ \n * ä¼ªåç´ åæ ç­¾éæ©å¨ä¸æ ·,æéä¸º1\n\n\n# 2dè½¬æ¢\n\n\n# 2dç§»å¨\n\nä½¿ç¨transform:å³é®å­,ä¸ä¼å½±åå°å¶ä»åç´ çä½ç½®, å¯¹è¡åæ ç­¾æ²¡æææ,å¦æä½¿ç¨ç¾åç¾åä½æ¯ç¸å¯¹äºèªèº«åç´ çå°ºå¯¸(50%æ¯èªèº«å°ºå¯¸çä¸å).\n\n * translate(x,y); å¨åç´ åæ¥çä½ç½®ç§»å¨ç¸å¯¹åºçx yåæ  å¦:transform:translate(x,y);\n * translatex(n);\n * translatey(n);\n * è®©çå­éç½®å±ä¸­æ¹æ³:é¦åå­ç»ç¶ç¸,left:50%,ç¶åèªèº«å¤§å°çä¸å,ä¹å°±æ¯translateä¸­çtransform:translate(50%,0);\n\n\n# 2dæè½¬\n\ntransform:rotate(åº¦æ°);\n\nåº¦æ°åä½ä¸ºdeg å¦:rotate(45deg)\n\nè§åº¦ä¸ºæ­£æ¶é¡ºæ¶é,éæ¶ä¸ºéæ¶é\n\ntransform-origin:x y ; é»è®¤çæè½¬ç¹ä¸ºåç´ çä¸­å¿ç¹(50%,50%) ,æ¯ææ¹ä½åè¯topãbottomãleftãrightãcenter\n\n\n# 2dç¼©æ¾\n\ntransform:scale(x,y);\n\nx,yæçæ¯åæ¥å®½åº¦/é«åº¦åæ°,é»è®¤ä¸º1å;\n\nå¦æå®½åº¦åé«åº¦ååçåæ°ä¸æ ·å¯ä»¥ç®åä¸ºx å¦:transform:scale(2);\n\nç¼©æ¾ä¸ä¼å½±åå¶ä»çå­\n\nåæ ·æ¥æä¸­å¿ç¹\n\ntransform-origin:x y ; é»è®¤çç¼©æ¾ç¹ä¸ºåç´ çä¸­å¿ç¹(50%,50%) ,æ¯ææ¹ä½åè¯topãbottomãleftãrightãcenter\n\n\n# ç¼©å\n\ntransform:translate() rotate() scale()\n\nå¼ºè°é¡ºåºå³ç³»,ä½ç§»æ»æ¯å¨æå\n\n\n# å¨ç»\n\nä½¿ç¨keyframeså®ä¹å¨ç»\n\n@keyframes å¨ç»èªå®ä¹åç§° {\n    /*å¼å§ç¶æ*/\n\t0% {\n\t\twidth:100px;\n\t}\n    /*ç»æç¶æ*/\n\t100% {\n\t\twidth:200px;\n\t}\n}\n\n/*è°ç¨å¨ç»*/\ndiv {\n    width:200px;\n    height:200px;\n    \n    animation-name:å¨ç»åç§°;\n  \n    animation-duration:æç»­æ¶é´;\n        \n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n\n\n# å¨ç»åºå\n\nå¨ç»æå¤ä¸ªè¿ç¨ä»0%-100%,ä¹å¯ä»¥ä½¿ç¨form,toä»£æ¿0å100\n\næä»¬å¯ä»¥å®ä¹ä¸åç¾åç¾çè¿ç¨çå¨ç»ä¸ä¸ªå¨ç»ä¸­æå¤ä¸ªè¿æ¸¡å¨ç»\n\nå¦:0%ä¸ä¸ª 25%ä¸ä¸ª 75% 100%\n\n\n# å¨ç»å¸¸ç¨å±æ§\n\n * @keyframes: è§å®å¨ç»\n * animation-name: å¨ç»åç§°\n * animation-duration: æç»­æ¶é´\n * animation-timing-function:å¨ç»çéåº¦æ²çº¿ é»è®¤æ¯ease\n   * linear åé\n   * ease é»è®¤\n   * ease-in å¨ç»ç±ä½éå¼å§\n   * ease-out ä½éç»æ\n   * ease-in-out ä»¥ä½ä¿å¼å§åç»æ\n   * steps() æå®äºæ¶é´å½æ°ä¸­çé´éæ°é(æ­¥é¿),åèç³ææ´ä¸ªå¨ç»ååä¸ºè¥å¹²ä»½\n * animation-delay: è§å®å¨ç»ä½æ¶å¼å§ é»è®¤æ¯0 åä½ä¸ºs / ms\n * animation-iteration-count:å¨ç»æ­æ¾æ¬¡æ° é»è®¤ä¸º1,infiniteä¸ºæ éå¾ªç¯\n * animation-direction: è§å®å¨ç»æ¯å¦å¨ä¸ä¸å¨æéåæ­æ¾ é»è®¤ä¸ºnormal, alternateæ¯éæ­æ¾\n * animation-play-state: è§å®å¨ç»æ­æ¾æèæå é»è®¤ä¸º running æåä¸ºpause\n * animation-fill-mode: è§å®å¨ç»ç»æåç¶æ ä¿æä¸ºforwards åå°èµ·å§ä½ç½®ä¸ºbackwards\n * animation: å¨ç»çç®å\n   * animation: å¨ç»åç§° æç»­æ¶é´ è¿å¨æ²çº¿ ä½æ¶å¼å§ æ­æ¾æ¬¡æ° æ¯å¦åå å¨ç»èµ·å§æç»æç¶æ\n   * å¯ä»¥ä½¿ç¨å¤ä¸ªå¨ç»,ç¨éå·éå¼.\n\n\n# 3dè½¬æ¢\n\n\n# 3dç§»å¨\n\n * transform:translatex(x); å¾xè½´ç§»å¨\n * translatey å¾yç§»å¨\n * translatez å¾zç§»å¨\n * transform:translate3d(x,y,z) æå®ç§»å¨xyz\n\n\n# éè§ perspective\n\nåå¨è¢«3dååç´ çç¶çå­é\n\nperspective:500px;\n\nå¿é¡»è¦æéè§æè½çå°zè½´ååçææ\n\n\n# 3dæè½¬ rotate3d\n\n * transform:rotatex(45deg); æ²¿xè½´æ­£åæè½¬45åº¦\n * transform:rotatey(45deg); æ²¿yè½´æ­£åæè½¬45åº¦\n * transform:rotatez(45deg); æ²¿zè½´æ­£åæè½¬45åº¦\n * transform:rotate3d(x,y,z,45deg); æ²¿èªå®ä¹è½´ æè½¬45åº¦ 1ä¸ºæ è®°æ­¤è½´æè½¬ é»è®¤ä¸º0\n\n\n# 3dåç° transform-style\n\næ§å¶å­åç´ æ¯å¦å¼å¯ä¸ç»´ç«ä½ç¯å¢,å¦æä¸å¼å¯ ç¶çå­æè½¬ä¹å å­çå­ä¸ä¼ä¿ç3dææ\n\ntransform:flat é»è®¤å­åç´ ä¸å¼å¯3dç«ä½ç©ºé´\n\ntransform-style:preserve-3d; å­åç´ å¼å¯ç«ä½ç©ºé´\n\nåå¨ç¶çº§åç´ ä¸, ä½å½±åæ¯å­åç´ \n\n\n# æµè§å¨ç§æåç¼\n\n-moz-: firefox ç§æåç¼\n\n-ms-: ieæµè§å¨\n\n-webkit-: safari åchrome\n\n-o- : opera\n\nå¦: -ms-border:1px solid #ccc;\n\n\n# èæ¯çº¿æ§æ¸å\n\nbackground:linear-gradient(èµ·å§æ¹å,é¢è²1,é¢è²2,....);\n\n * èµ·å§æ¹åä¸ºæ¹ä½åè¯æåº¦æ° é»è®¤å¼ä¸ºtop\n * å¯ä»¥æå®å·¦ä¸è§ ç¨ç©ºæ ¼éå¼ å¦: top left,é¢è²1,é¢è²2\n * è¦å ä¸æµè§å¨çç§æåç¼ å¦:background:-webkit-linear-gradient(left,red,blue);',charsets:{cjk:!0}},{title:"ç§»å¨å¸å±",frontmatter:{title:"ç§»å¨å¸å±",date:"2022-03-18T00:54:47.000Z",permalink:"/pages/dc74bd/",categories:["åç«¯","Html"],tags:[null]},regularPath:"/%E5%89%8D%E7%AB%AF/01.html/08.%E7%A7%BB%E5%8A%A8%E5%B8%83%E5%B1%80.html",relativePath:"åç«¯/01.html/08.ç§»å¨å¸å±.md",key:"v-0f768c01",path:"/pages/dc74bd/",headers:[{level:2,title:"è§å£ viewport",slug:"è§å£-viewport",normalizedTitle:"è§å£ viewport",charIndex:11},{level:3,title:"å¸å±è§å£ layout viewport",slug:"å¸å±è§å£-layout-viewport",normalizedTitle:"å¸å±è§å£ layout viewport",charIndex:27},{level:3,title:"è§è§è§å£ visual viewport",slug:"è§è§è§å£-visual-viewport",normalizedTitle:"è§è§è§å£ visual viewport",charIndex:88},{level:3,title:"çæ³è§å£ ideal viewport",slug:"çæ³è§å£-ideal-viewport",normalizedTitle:"çæ³è§å£ ideal viewport",charIndex:140},{level:2,title:"metaè§å£æ ç­¾",slug:"metaè§å£æ ç­¾",normalizedTitle:"metaè§å£æ ç­¾",charIndex:163},{level:2,title:"äºåå¾",slug:"äºåå¾",normalizedTitle:"äºåå¾",charIndex:536},{level:2,title:"èæ¯ç¼©æ¾ background-size",slug:"èæ¯ç¼©æ¾-background-size",normalizedTitle:"èæ¯ç¼©æ¾ background-size",charIndex:601},{level:2,title:"ç§»å¨ç«¯ CSSåå§å",slug:"ç§»å¨ç«¯-cssåå§å",normalizedTitle:"ç§»å¨ç«¯ cssåå§å",charIndex:811},{level:2,title:"CSS3 çå­æ¨¡å box-sizing",slug:"css3-çå­æ¨¡å-box-sizing",normalizedTitle:"css3 çå­æ¨¡å box-sizing",charIndex:867},{level:2,title:"ç§»å¨ç«¯ç¹æ®æ ·å¼",slug:"ç§»å¨ç«¯ç¹æ®æ ·å¼",normalizedTitle:"ç§»å¨ç«¯ç¹æ®æ ·å¼",charIndex:997},{level:2,title:"ç§»å¨ç«¯ææ¯éå",slug:"ç§»å¨ç«¯ææ¯éå",normalizedTitle:"ç§»å¨ç«¯ææ¯éå",charIndex:1234},{level:2,title:"flexå¸å±",slug:"flexå¸å±",normalizedTitle:"flexå¸å±",charIndex:1430},{level:3,title:"ç¶é¡¹å±æ§",slug:"ç¶é¡¹å±æ§",normalizedTitle:"ç¶é¡¹å±æ§",charIndex:1522},{level:3,title:"å­é¡¹å±æ§",slug:"å­é¡¹å±æ§",normalizedTitle:"å­é¡¹å±æ§",charIndex:2884},{level:2,title:"remå¸å±",slug:"remå¸å±",normalizedTitle:"remå¸å±",charIndex:3200},{level:3,title:"åªä½æ¥è¯¢",slug:"åªä½æ¥è¯¢",normalizedTitle:"åªä½æ¥è¯¢",charIndex:1371},{level:3,title:"remåç»ååªä½æ¥è¯¢",slug:"remåç»ååªä½æ¥è¯¢",normalizedTitle:"remåç»ååªä½æ¥è¯¢",charIndex:3867},{level:3,title:"pxè½¬remæä»¶",slug:"pxè½¬remæä»¶",normalizedTitle:"pxè½¬remæä»¶",charIndex:4206},{level:3,title:"å¼å¥èµæº",slug:"å¼å¥èµæº",normalizedTitle:"å¼å¥èµæº",charIndex:4253},{level:2,title:"Less",slug:"less",normalizedTitle:"less",charIndex:4493},{level:3,title:"Less å®è£",slug:"less-å®è£",normalizedTitle:"less å®è£",charIndex:4562},{level:3,title:"Less åé",slug:"less-åé",normalizedTitle:"less åé",charIndex:4803},{level:3,title:"Lessç¼è¯",slug:"lessç¼è¯",normalizedTitle:"lessç¼è¯",charIndex:4980},{level:3,title:"Lessåµå¥",slug:"lessåµå¥",normalizedTitle:"lessåµå¥",charIndex:5070},{level:3,title:"Lessè¿ç®",slug:"lessè¿ç®",normalizedTitle:"lessè¿ç®",charIndex:5414},{level:3,title:"Lesså¯¼å¥å¶ä»less",slug:"lesså¯¼å¥å¶ä»less",normalizedTitle:"lesså¯¼å¥å¶ä»less",charIndex:5611},{level:2,title:"Bootstrap",slug:"bootstrap",normalizedTitle:"bootstrap",charIndex:5666}],headersStr:"è§å£ viewport å¸å±è§å£ layout viewport è§è§è§å£ visual viewport çæ³è§å£ ideal viewport metaè§å£æ ç­¾ äºåå¾ èæ¯ç¼©æ¾ background-size ç§»å¨ç«¯ CSSåå§å CSS3 çå­æ¨¡å box-sizing ç§»å¨ç«¯ç¹æ®æ ·å¼ ç§»å¨ç«¯ææ¯éå flexå¸å± ç¶é¡¹å±æ§ å­é¡¹å±æ§ remå¸å± åªä½æ¥è¯¢ remåç»ååªä½æ¥è¯¢ pxè½¬remæä»¶ å¼å¥èµæº Less Less å®è£ Less åé Lessç¼è¯ Lessåµå¥ Lessè¿ç® Lesså¯¼å¥å¶ä»less Bootstrap",content:'# ç§»å¨å¸å±\n\n\n# è§å£ viewport\n\n\n# å¸å±è§å£ layout viewport\n\nå¸å±è§å£åè¾¨çè®¾ç½®ä¸º980px,ä½ä¸è¬åç´ å¾å°,å¯ä»¥éè¿æå¨ç¼©æ¾ç½é¡µ\n\n\n# è§è§è§å£ visual viewport\n\næä»¬å¯ä»¥éè¿ç¼©æ¾æ¥æä½è§è§è§å£,ä½ä¸ä¼å½±åå¸å±è§å£\n\n\n# çæ³è§å£ ideal viewport\n\néè¿metaè§å£æ ç­¾,åç¥ç½é¡µ,è®¾å¤æå¤å®½ç½é¡µæå¤å®½\n\n\n# metaè§å£æ ç­¾\n\n <meta\n      name="viewport"\n      content="width=device-width, initial-scale=1.0,user-scalable=no,maxium-scale=1.0,minimum-scale=1.0"\n    />\n\n\n1\n2\n3\n4\n\n * width: å®½åº¦è®¾ç½®æ¯viewportå®½åº¦,ç¹æ®å¼ä¸ºdevice-width å®½åº¦ä¸ºè®¾å¤å®½åº¦\n * initial-scale: åå§ç¼©æ¾æ¯ å¤§äº0çå¼\n * maximum-scale:æå¤§ç¼©æ¾æ¯ é»è®¤ä¸º1\n * minimum-scale:æå°ç¼©æ¾æ¯ é»è®¤ä¸º1\n * user-scaleable:ç¨æ·æ¯å¦å¯ä»¥ç¼©æ¾,yesæno (1æ0)\n\n\n# äºåå¾\n\npcç«¯1pxä¸º1ä¸ªç©çåç´ \n\nèææºä¸è¬é½ä¸º1pxä¸º2ä¸ªç©çåç´ \n\nä¸è¬ç§»å¨ç«¯é½ç»ä¸ä¸ª2Xåç»ä¸ä¸ª1åççå­è£\n\n\n# èæ¯ç¼©æ¾ background-size\n\nbackground-size: èæ¯å¾ççå®½åº¦ é«åº¦;\n\n * å¦åªåä¸ä¸ªåæ°ä¼ç­æ¯ä¾ç¼©æ¾\n * éé¢å¯ä»¥åç¾åç¾,ç¸å½äºç¶çå­çå°ºå¯¸\n * cover:æå¾æ©å±å°è¶³å¤å¤§ç´å°å¡«æ»¡çå­,ç­æ¯ç¼©æ¾,ä¼ä¸¢å¤±é¨åå¾å\n * contain:æä¼¸å°é«æå®½ç´å°å¡«æ»¡é«æå®½å°±åæ­¢æä¼¸,å¯è½ä¼æé¨åç©ºç½å¾åæ æ³å¡«å\n * ç§»å¨ç«¯ç2Xå¾ä¸è¬ç¨ä¸ä¸ª1Xççå­è£,ç¼©å°å°1Xæ¾ç½®å°èæ¯\n\n\n# ç§»å¨ç«¯ CSSåå§å\n\nhttp://necolas.github.io/normalize.css/\n\n\n# CSS3 çå­æ¨¡å box-sizing\n\nbox-sizing:border-box; æä¼ ç»çå­è½¬ä¸ºCSS3çå­\n\nä¼ ç»çå­ = width +border +padding çå¼\n\nCSS3çå­ = paddingåborderä¸ä¼å½±åçå­å¤§å°\n\n\n# ç§»å¨ç«¯ç¹æ®æ ·å¼\n\nå¦:ç§»å¨ç«¯è½¬ä¸ºcss3æ¨¡å\n\nbox-sizing:border-box;\n\n-webkit-box-sizing:border-box;\n\naæ åå¨ç§»å¨ç«¯ç¹å»ä¼æé«äº®æç¤º,æéè¦æ¸é¤\n\n-webkit-tap-highlight-color:transparent;\n\næ¸é¤iosçæé®æ ·å¼\n\n-webkit-appearance:none;\n\nç¦æ­¢é¿æå¼¹åºèå\n\nimg,a {\n\n-webkit-touch-callout:none;\n\n}\n\n\n# ç§»å¨ç«¯ææ¯éå\n\n * åç¬å¶ä½ç§»å¨ç«¯é¡µé¢\n   * æµå¼å¸å±(ç¾åç¾å¸å±)\n     * max-width:æå¤§å®½åº¦ æ max-height\n     * min-width:æå°å®½åº¦ æmin-height\n   * flex å¼¹æ§å¸å±\n   * less+rem+åªä½æ¥è¯¢å¸å±\n   * æ··åå¸å±\n * ååºå¼é¡µé¢å¼å®¹ç§»å¨ç«¯\n   * åªä½æ¥è¯¢\n   * botstarp\n\n\n# flexå¸å±\n\nå½ç¶çå­è®¾ä¸ºflexå¸å±å,å­åç´ çfloatãclearåvertical-alignå±æ§å¤±æ\n\néè¿ç»ç¶çå­æ·»å flexå±æ§ æ¥æ§å¶å­çå­çä½ç½®åæåæ¹å¼\n\n\n# ç¶é¡¹å±æ§\n\n# flex-direction:è®¾ç½®ä¸»è½´çæ¹å\n\n\n\nä¸»è½´ä¸ä¾§è½´ xè½´åyè½´\n\n * row:(é»è®¤å¼) ä»å·¦å°å³ é»è®¤ä¸»è½´ä¸ºx ä¾§è½´ä¸ºy å­åç´ æ¯è·çä¸»è½´æ¥æåç\n   \n   * display: flex;\n     flex-direction: row;\n     \n     \n     1\n     2\n     \n\n * row-reverse:ä»å³å°å·¦\n\n * column:ä»ä¸å°ä¸ ä¸»è½´ä¸ºy ä¾§è½´ä¸ºx\n   \n   * display: flex;\n     flex-direction: column; /* å°ä¸»è½´è®¾ç½®ä¸ºyè½´ åç´ ä»ä¸å°ä¸æå */\n     \n     \n     1\n     2\n     \n\n * column-revers:ä»ä¸å°ä¸\n\n# justify-content è®¾ç½®ä¸»è½´ä¸çå­åç´ æåæ¹å¼\n\nä½¿ç¨è¿ä¸ªå±æ§åä¸å®è¦ç¡®è®¤å¥½ä¸»è½´æ¯åªä¸ª\n\n * flex-start:(é»è®¤å¼) ä»å¤´é¨å¼å§æå å¦æä¸»è½´æ¯xè½´,åä»å·¦å°å³\n\n * flex-end: ä»å°¾é¨å¼å§æå\n\n * center:å¨ä¸»è½´å±ä¸­å¯¹é½ (å¦æä¸»è½´xè½´åæ¯æ°´å¹³å±ä¸­)\n\n * space-around:å¹³åå©ä½ç©ºé´\n   \n   * display: flex;\n     justify-content: space-around; /* å°ç¶çå­å¹³åååç»nä¸ªå­çå­çç©ºé´ */\n     \n     \n     1\n     2\n     \n   \n   * \n\n * space-between: åä¸¤è¾¹è´´è¾¹ åå¹³åå©ä½ç©ºé´\n   \n   * \n\n# flex-wrap:è®¾ç½®å­åç´ æ¯å¦æ¢è¡\n\né»è®¤æåµä¸,é¡¹ç®é½æ¯å¨è½´çº¿ä¸.ç±flex-wrapå®ä¹,é»è®¤ä¸æ¢è¡,å¦æè£ä¸å¼,ä¼ç¼©å° å­åç´ å®½åº¦,å å¥å°è½´çº¿ä¸æå\n\n * nowarp:(é»è®¤å¼) ä¸æ¢è¡\n\n * warp:æ¢è¡,å½ç¶çå­è£ä¸ä¸å,èªå¨æ¢è¡\n   \n   * display: flex;\n     flex-wrap: wawrp; /* å­åç´ éè¦åè®¾ç½®å¤§å°æä¼æ¢è¡ ä¸ç¶ä¼èªå¨åéå¤§å° */\n     \n     \n     1\n     2\n     \n\n# align-items:è®¾ç½®ä¾§è½´ä¸çå­åç´ æåæ¹å¼ (åè¡)\n\n * flex-start: é»è®¤å¼ ä»ä¸å°ä¸\n * flex-end:ä»ä¸å°ä¸\n * center:æ¤å¨ä¸èµ·å±ä¸­(åç´å±ä¸­)\n * stretch:æä¼¸ (å­çå­ä¸è¦ç»é«åº¦,ä¸ç¶æ²¡ææ)\n\n# align-content:è®¾ç½®ä¾§è½´ä¸çå­åç´ çæåæ¹å¼(å¤è¡)\n\nè¦éåflex-wrap:warp ä½¿ç¨,ä¸ç¶flexé¡¹ç®æ æ³å¤è¡æå\n\n * flex-start: é»è®¤å¼ å¨ä¾§è½´çå¤´å°å°¾æå\n * flex-end:å°¾å°å¤´æå\n * center:å¨ä¾§è½´ä¸­é´æå\n * space-around:å­é¡¹å¨ä¾§è½´å¹³åå©ä½ç©ºé´\n * space-between:å­é¡¹å¨ä¾§è½´åå¨å¤´åå°¾,åå¹³åå©ä½ç©ºé´\n * stretch:è®¾ç½®å­é¡¹åé«åº¦å¹³åç¶åç´ é«åº¦\n\n# flex-flow ç®åå±æ§\n\nå¯ä»¥å°è®¾ç½®ä¸»è½´ä¸æ¯å¦æ¢è¡è¿è¡ç®å\n\nå¦:flex-flow: column warp;\n\n\n# å­é¡¹å±æ§\n\n# flex å±æ§\n\nå®ä¹å­é¡¹åéå©ä½ç©ºé´,å å¤å°ä»½\n\nflex: n; é»è®¤ä¸º0 å¦:flex:2;\n\nä¹å¯ä»¥åç¾åç¾ ä¸ºç¶çå­å¤§å°çå¤å°\n\nå¦:flex:20%;\n\n# align-self æ§å¶å­é¡¹èªå·±å¨ä¾§è½´ä¸çæåæ¹å¼\n\nè®©å­é¡¹åç¬èªå·±ä¸ä¸ªæåæ¹å¼\n\nç»§æ¿ä¾§è½´ä¸çæåºæ¹å¼å±æ§\n\n * flex-start: é»è®¤å¼ ä»ä¸å°ä¸\n * flex-end:ä»ä¸å°ä¸\n * center:æ¤å¨ä¸èµ·å±ä¸­(åç´å±ä¸­)\n * stretch:æä¼¸ (å­çå­ä¸è¦ç»é«åº¦,ä¸ç¶æ²¡ææ)\n\n# order å±æ§å®ä¹é¡¹ç®çæåé¡ºåº\n\næ°å¼è¶å°,æåè¶é å,é»è®¤å¼ä¸º0\n\norder:n; å¯ä»¥ä¸ºè´æ° å¦:order:-1;\n\n\n# remå¸å±\n\nflexç¼ºé·:æå­åé«åº¦æ æ³èªéåº å ä¸ºæ¯æç¶çå­åä»½æ¥åéç èremå¯ä»¥æ´å¥½èªéåºæå­åé«åº¦\n\nemç¸å¯¹åºç¶åç´  çå­ä½å¤§å° æ¥ç­æ¯ç¼©æ¾ font-size =12 px; 10em =120px 1em =12px;\n\nrem ç¸å¯¹åºæ ¹åç´ (html) è®¾ç½®font-size=12px ; 10rem=120px 1rem=12px\n\nremçä¼ç¹å°±æ¯éè¿ä¿®æ¹htmléé¢çæå­å¤§å°æ¥\n\nrem éååªä½æ¥è¯¢ ä¿®æ¹htmlä¸­font-size å¤§å°\n\n\n# åªä½æ¥è¯¢\n\n@media åªä½ç±»å å³é®å­ (åªä½ç¹å¾) {\n\nCSS-Code;\n\n}\n\n * åªä½ç±»å\n   * all:ç¨äºæä»¥è®¾å¤\n   * print:ç¨æ·æå°åæå°é¢è§\n   * screen:ç¨äºçµèå±å¹,å¹³æ¿çµè,æºè½ææºç­\n * å³é®å­\n   * and:å¯å°å¤ä¸ªåªä½ç¹æ§è¿æ¥å°ä¸èµ·\n   * not:æé¤æä¸ªåªä½ç±»å\n   * onle:æå®æä¸ªåªä½ç±»å\n * åªä½ç¹æ§\n   * width:é¡µé¢å¯è§å®½åº¦\n   * min-width:é¡µé¢æå°å¯è§åºåå®½åº¦\n   * max-width:æå¤§å¯è§åºåå®½åº¦\n\n@media screen and print (max-width:800px){\n    body {\n        /*å½max-widthå°äºç­äº800æ¶ èæ¯é¢è²ä¸ºç²è²*/\n        background-color:pink;\n        \n    }\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n\n\n\n# remåç»ååªä½æ¥è¯¢\n\nremåä½æ¯è·çhtmlååç åªä½æ¥è¯¢+rem å°±å¯ä»¥å®ç°ä¸åè®¾å¤å®½åº¦ å®ç°èªéåº\n\n@media screen and (min-width:320px){\n    html {\n        font-size: 50px;\n    }\n}\n@media screen and (min-width:640px){\n    html {\n        font-size: 100px;\n    }\n}\n.div{\n    height: 1rem;\n    font-size: .5rem;\n    background-color: green;\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n\n\n\n# pxè½¬remæä»¶\n\nvscodeä¸è½½px to rem & rpx (cssrem)\n\n\n# å¼å¥èµæº\n\nå½æä»¬æ ·å¼æ¯è¾å¤ æä»¬å¯ä»¥éå¯¹ä¸åçè®¾å¤ä½¿ç¨ä¸åçcssæä»¶\n\næ ¹æ®linkä¸­å¤æ­è®¾å¤çå°ºå¯¸ å¼ç¨ä¸åçcssæä»¶\n\n<link rel="stylesheet" href="style320.css" media="screen and (min-width: 320px)">\n<link rel="stylesheet" href="style640.css" media="screen and (min-width: 640px)">\n\n\n1\n2\n\n\n\n# Less\n\nLess æ¯ ä¸é¨ css æ©å±è¯­è¨ æ¯CSSçé¢å¤çå¨\n\nå¸¸è§çCSSé¢å¤çå¨: Sass Less Stylus\n\n\n# Less å®è£\n\nnode.jsç¯å¢ä¸\n\nåå®è£node.js\n\nnpm install -g less\nlessc -v\n\n\n1\n2\n\n\næµè§å¨ç¯å¢ä½¿ç¨\n\n<link rel="stylesheet/less" type="text/css" href="styles.less" />\n<script src="//cdnjs.cloudflare.com/ajax/libs/less.js/3.11.1/less.min.js" ><\/script>\n\n\n1\n2\n\n\n\n# Less åé\n\nå¿é¡»@ä¸ºåç¼ ä¸è½åå«ç¹æ®å­ç¬¦ ä¸è½ä»¥æ°å­å¼å¤´ å¤§å°åææ\n\n/* @åéå:å¼ */\n@color: pink;\n@font14: 14px;\nbody {\n    background-color: @color; /* ä½¿ç¨åé */\n    font-size: @font14;\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n\n\n\n# Lessç¼è¯\n\næä»¬éè¦ææä»¬çlessæä»¶ç¼è¯æcssæä»¶ æè½å¨é¡µé¢ä¸­ä½¿ç¨\n\næä»¬å¯ä»¥å¨vscoeä¸­ä¸è½½ Easy LESSæä»¶ ä¿å­lessæä»¶åèªå¨çæcssæä»¶\n\n\n# Lessåµå¥\n\nLessä¸­å¯ä»¥è¿è¡åµå¥éæ©å¨ å¯ä»¥åå°æä»¬éå¤ä¹¦ååä»£ç±»éæ©å¨ç¶ç±»çåç§°\n\nåä»£éæ©å¨\n\n.div{\n    width: 200px\n        a{\n            color: red;\n            }\n}\n\n\n1\n2\n3\n4\n5\n6\n\n\nä¼ªç±» äº¤ééæ©å¨ ä¼ªåç´ éæ©å¨ æä»¬éè¦å¨åé¢å ä¸&æ¼æ¥\n\nä¼ªç±»éæ©å¨\n\na{\n    color: red;\n    &:hover{\n        color: blue;\n    }\n}\n\n\n1\n2\n3\n4\n5\n6\n\n\nä¼ªåç´ \n\na{\n    color: red;\n    &::before{\n        content: "";\n    }\n}\n\n\n1\n2\n3\n4\n5\n6\n\n\n\n# Lessè¿ç®\n\nä»»ä½æ°å­ é¢è² æ åéé½å¯ä»¥åä¸ååè¿ç®\n\n@font14: 14px;\nbody {\n    background-color: #666 - #222;\n    font-size:(@font14 + 5) / 2;\n    width: 1.6rem + 5px; /* å¦æä¸¤ä¸ªæ°åä½ä¸ç¸å ç»æä»¥ç¬¬ä¸æ°çåä½ä¸ºå  */\n}\n\n\n1\n2\n3\n4\n5\n6\n\n\n\n# Lesså¯¼å¥å¶ä»less\n\nå¯¼å¥common.less\n\n@import \'common\'\n\n\n1\n\n\n\n# Bootstrap',normalizedContent:'# ç§»å¨å¸å±\n\n\n# è§å£ viewport\n\n\n# å¸å±è§å£ layout viewport\n\nå¸å±è§å£åè¾¨çè®¾ç½®ä¸º980px,ä½ä¸è¬åç´ å¾å°,å¯ä»¥éè¿æå¨ç¼©æ¾ç½é¡µ\n\n\n# è§è§è§å£ visual viewport\n\næä»¬å¯ä»¥éè¿ç¼©æ¾æ¥æä½è§è§è§å£,ä½ä¸ä¼å½±åå¸å±è§å£\n\n\n# çæ³è§å£ ideal viewport\n\néè¿metaè§å£æ ç­¾,åç¥ç½é¡µ,è®¾å¤æå¤å®½ç½é¡µæå¤å®½\n\n\n# metaè§å£æ ç­¾\n\n <meta\n      name="viewport"\n      content="width=device-width, initial-scale=1.0,user-scalable=no,maxium-scale=1.0,minimum-scale=1.0"\n    />\n\n\n1\n2\n3\n4\n\n * width: å®½åº¦è®¾ç½®æ¯viewportå®½åº¦,ç¹æ®å¼ä¸ºdevice-width å®½åº¦ä¸ºè®¾å¤å®½åº¦\n * initial-scale: åå§ç¼©æ¾æ¯ å¤§äº0çå¼\n * maximum-scale:æå¤§ç¼©æ¾æ¯ é»è®¤ä¸º1\n * minimum-scale:æå°ç¼©æ¾æ¯ é»è®¤ä¸º1\n * user-scaleable:ç¨æ·æ¯å¦å¯ä»¥ç¼©æ¾,yesæno (1æ0)\n\n\n# äºåå¾\n\npcç«¯1pxä¸º1ä¸ªç©çåç´ \n\nèææºä¸è¬é½ä¸º1pxä¸º2ä¸ªç©çåç´ \n\nä¸è¬ç§»å¨ç«¯é½ç»ä¸ä¸ª2xåç»ä¸ä¸ª1åççå­è£\n\n\n# èæ¯ç¼©æ¾ background-size\n\nbackground-size: èæ¯å¾ççå®½åº¦ é«åº¦;\n\n * å¦åªåä¸ä¸ªåæ°ä¼ç­æ¯ä¾ç¼©æ¾\n * éé¢å¯ä»¥åç¾åç¾,ç¸å½äºç¶çå­çå°ºå¯¸\n * cover:æå¾æ©å±å°è¶³å¤å¤§ç´å°å¡«æ»¡çå­,ç­æ¯ç¼©æ¾,ä¼ä¸¢å¤±é¨åå¾å\n * contain:æä¼¸å°é«æå®½ç´å°å¡«æ»¡é«æå®½å°±åæ­¢æä¼¸,å¯è½ä¼æé¨åç©ºç½å¾åæ æ³å¡«å\n * ç§»å¨ç«¯ç2xå¾ä¸è¬ç¨ä¸ä¸ª1xççå­è£,ç¼©å°å°1xæ¾ç½®å°èæ¯\n\n\n# ç§»å¨ç«¯ cssåå§å\n\nhttp://necolas.github.io/normalize.css/\n\n\n# css3 çå­æ¨¡å box-sizing\n\nbox-sizing:border-box; æä¼ ç»çå­è½¬ä¸ºcss3çå­\n\nä¼ ç»çå­ = width +border +padding çå¼\n\ncss3çå­ = paddingåborderä¸ä¼å½±åçå­å¤§å°\n\n\n# ç§»å¨ç«¯ç¹æ®æ ·å¼\n\nå¦:ç§»å¨ç«¯è½¬ä¸ºcss3æ¨¡å\n\nbox-sizing:border-box;\n\n-webkit-box-sizing:border-box;\n\naæ åå¨ç§»å¨ç«¯ç¹å»ä¼æé«äº®æç¤º,æéè¦æ¸é¤\n\n-webkit-tap-highlight-color:transparent;\n\næ¸é¤iosçæé®æ ·å¼\n\n-webkit-appearance:none;\n\nç¦æ­¢é¿æå¼¹åºèå\n\nimg,a {\n\n-webkit-touch-callout:none;\n\n}\n\n\n# ç§»å¨ç«¯ææ¯éå\n\n * åç¬å¶ä½ç§»å¨ç«¯é¡µé¢\n   * æµå¼å¸å±(ç¾åç¾å¸å±)\n     * max-width:æå¤§å®½åº¦ æ max-height\n     * min-width:æå°å®½åº¦ æmin-height\n   * flex å¼¹æ§å¸å±\n   * less+rem+åªä½æ¥è¯¢å¸å±\n   * æ··åå¸å±\n * ååºå¼é¡µé¢å¼å®¹ç§»å¨ç«¯\n   * åªä½æ¥è¯¢\n   * botstarp\n\n\n# flexå¸å±\n\nå½ç¶çå­è®¾ä¸ºflexå¸å±å,å­åç´ çfloatãclearåvertical-alignå±æ§å¤±æ\n\néè¿ç»ç¶çå­æ·»å flexå±æ§ æ¥æ§å¶å­çå­çä½ç½®åæåæ¹å¼\n\n\n# ç¶é¡¹å±æ§\n\n# flex-direction:è®¾ç½®ä¸»è½´çæ¹å\n\n\n\nä¸»è½´ä¸ä¾§è½´ xè½´åyè½´\n\n * row:(é»è®¤å¼) ä»å·¦å°å³ é»è®¤ä¸»è½´ä¸ºx ä¾§è½´ä¸ºy å­åç´ æ¯è·çä¸»è½´æ¥æåç\n   \n   * display: flex;\n     flex-direction: row;\n     \n     \n     1\n     2\n     \n\n * row-reverse:ä»å³å°å·¦\n\n * column:ä»ä¸å°ä¸ ä¸»è½´ä¸ºy ä¾§è½´ä¸ºx\n   \n   * display: flex;\n     flex-direction: column; /* å°ä¸»è½´è®¾ç½®ä¸ºyè½´ åç´ ä»ä¸å°ä¸æå */\n     \n     \n     1\n     2\n     \n\n * column-revers:ä»ä¸å°ä¸\n\n# justify-content è®¾ç½®ä¸»è½´ä¸çå­åç´ æåæ¹å¼\n\nä½¿ç¨è¿ä¸ªå±æ§åä¸å®è¦ç¡®è®¤å¥½ä¸»è½´æ¯åªä¸ª\n\n * flex-start:(é»è®¤å¼) ä»å¤´é¨å¼å§æå å¦æä¸»è½´æ¯xè½´,åä»å·¦å°å³\n\n * flex-end: ä»å°¾é¨å¼å§æå\n\n * center:å¨ä¸»è½´å±ä¸­å¯¹é½ (å¦æä¸»è½´xè½´åæ¯æ°´å¹³å±ä¸­)\n\n * space-around:å¹³åå©ä½ç©ºé´\n   \n   * display: flex;\n     justify-content: space-around; /* å°ç¶çå­å¹³åååç»nä¸ªå­çå­çç©ºé´ */\n     \n     \n     1\n     2\n     \n   \n   * \n\n * space-between: åä¸¤è¾¹è´´è¾¹ åå¹³åå©ä½ç©ºé´\n   \n   * \n\n# flex-wrap:è®¾ç½®å­åç´ æ¯å¦æ¢è¡\n\né»è®¤æåµä¸,é¡¹ç®é½æ¯å¨è½´çº¿ä¸.ç±flex-wrapå®ä¹,é»è®¤ä¸æ¢è¡,å¦æè£ä¸å¼,ä¼ç¼©å° å­åç´ å®½åº¦,å å¥å°è½´çº¿ä¸æå\n\n * nowarp:(é»è®¤å¼) ä¸æ¢è¡\n\n * warp:æ¢è¡,å½ç¶çå­è£ä¸ä¸å,èªå¨æ¢è¡\n   \n   * display: flex;\n     flex-wrap: wawrp; /* å­åç´ éè¦åè®¾ç½®å¤§å°æä¼æ¢è¡ ä¸ç¶ä¼èªå¨åéå¤§å° */\n     \n     \n     1\n     2\n     \n\n# align-items:è®¾ç½®ä¾§è½´ä¸çå­åç´ æåæ¹å¼ (åè¡)\n\n * flex-start: é»è®¤å¼ ä»ä¸å°ä¸\n * flex-end:ä»ä¸å°ä¸\n * center:æ¤å¨ä¸èµ·å±ä¸­(åç´å±ä¸­)\n * stretch:æä¼¸ (å­çå­ä¸è¦ç»é«åº¦,ä¸ç¶æ²¡ææ)\n\n# align-content:è®¾ç½®ä¾§è½´ä¸çå­åç´ çæåæ¹å¼(å¤è¡)\n\nè¦éåflex-wrap:warp ä½¿ç¨,ä¸ç¶flexé¡¹ç®æ æ³å¤è¡æå\n\n * flex-start: é»è®¤å¼ å¨ä¾§è½´çå¤´å°å°¾æå\n * flex-end:å°¾å°å¤´æå\n * center:å¨ä¾§è½´ä¸­é´æå\n * space-around:å­é¡¹å¨ä¾§è½´å¹³åå©ä½ç©ºé´\n * space-between:å­é¡¹å¨ä¾§è½´åå¨å¤´åå°¾,åå¹³åå©ä½ç©ºé´\n * stretch:è®¾ç½®å­é¡¹åé«åº¦å¹³åç¶åç´ é«åº¦\n\n# flex-flow ç®åå±æ§\n\nå¯ä»¥å°è®¾ç½®ä¸»è½´ä¸æ¯å¦æ¢è¡è¿è¡ç®å\n\nå¦:flex-flow: column warp;\n\n\n# å­é¡¹å±æ§\n\n# flex å±æ§\n\nå®ä¹å­é¡¹åéå©ä½ç©ºé´,å å¤å°ä»½\n\nflex: n; é»è®¤ä¸º0 å¦:flex:2;\n\nä¹å¯ä»¥åç¾åç¾ ä¸ºç¶çå­å¤§å°çå¤å°\n\nå¦:flex:20%;\n\n# align-self æ§å¶å­é¡¹èªå·±å¨ä¾§è½´ä¸çæåæ¹å¼\n\nè®©å­é¡¹åç¬èªå·±ä¸ä¸ªæåæ¹å¼\n\nç»§æ¿ä¾§è½´ä¸çæåºæ¹å¼å±æ§\n\n * flex-start: é»è®¤å¼ ä»ä¸å°ä¸\n * flex-end:ä»ä¸å°ä¸\n * center:æ¤å¨ä¸èµ·å±ä¸­(åç´å±ä¸­)\n * stretch:æä¼¸ (å­çå­ä¸è¦ç»é«åº¦,ä¸ç¶æ²¡ææ)\n\n# order å±æ§å®ä¹é¡¹ç®çæåé¡ºåº\n\næ°å¼è¶å°,æåè¶é å,é»è®¤å¼ä¸º0\n\norder:n; å¯ä»¥ä¸ºè´æ° å¦:order:-1;\n\n\n# remå¸å±\n\nflexç¼ºé·:æå­åé«åº¦æ æ³èªéåº å ä¸ºæ¯æç¶çå­åä»½æ¥åéç èremå¯ä»¥æ´å¥½èªéåºæå­åé«åº¦\n\nemç¸å¯¹åºç¶åç´  çå­ä½å¤§å° æ¥ç­æ¯ç¼©æ¾ font-size =12 px; 10em =120px 1em =12px;\n\nrem ç¸å¯¹åºæ ¹åç´ (html) è®¾ç½®font-size=12px ; 10rem=120px 1rem=12px\n\nremçä¼ç¹å°±æ¯éè¿ä¿®æ¹htmléé¢çæå­å¤§å°æ¥\n\nrem éååªä½æ¥è¯¢ ä¿®æ¹htmlä¸­font-size å¤§å°\n\n\n# åªä½æ¥è¯¢\n\n@media åªä½ç±»å å³é®å­ (åªä½ç¹å¾) {\n\ncss-code;\n\n}\n\n * åªä½ç±»å\n   * all:ç¨äºæä»¥è®¾å¤\n   * print:ç¨æ·æå°åæå°é¢è§\n   * screen:ç¨äºçµèå±å¹,å¹³æ¿çµè,æºè½ææºç­\n * å³é®å­\n   * and:å¯å°å¤ä¸ªåªä½ç¹æ§è¿æ¥å°ä¸èµ·\n   * not:æé¤æä¸ªåªä½ç±»å\n   * onle:æå®æä¸ªåªä½ç±»å\n * åªä½ç¹æ§\n   * width:é¡µé¢å¯è§å®½åº¦\n   * min-width:é¡µé¢æå°å¯è§åºåå®½åº¦\n   * max-width:æå¤§å¯è§åºåå®½åº¦\n\n@media screen and print (max-width:800px){\n    body {\n        /*å½max-widthå°äºç­äº800æ¶ èæ¯é¢è²ä¸ºç²è²*/\n        background-color:pink;\n        \n    }\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n\n\n\n# remåç»ååªä½æ¥è¯¢\n\nremåä½æ¯è·çhtmlååç åªä½æ¥è¯¢+rem å°±å¯ä»¥å®ç°ä¸åè®¾å¤å®½åº¦ å®ç°èªéåº\n\n@media screen and (min-width:320px){\n    html {\n        font-size: 50px;\n    }\n}\n@media screen and (min-width:640px){\n    html {\n        font-size: 100px;\n    }\n}\n.div{\n    height: 1rem;\n    font-size: .5rem;\n    background-color: green;\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n\n\n\n# pxè½¬remæä»¶\n\nvscodeä¸è½½px to rem & rpx (cssrem)\n\n\n# å¼å¥èµæº\n\nå½æä»¬æ ·å¼æ¯è¾å¤ æä»¬å¯ä»¥éå¯¹ä¸åçè®¾å¤ä½¿ç¨ä¸åçcssæä»¶\n\næ ¹æ®linkä¸­å¤æ­è®¾å¤çå°ºå¯¸ å¼ç¨ä¸åçcssæä»¶\n\n<link rel="stylesheet" href="style320.css" media="screen and (min-width: 320px)">\n<link rel="stylesheet" href="style640.css" media="screen and (min-width: 640px)">\n\n\n1\n2\n\n\n\n# less\n\nless æ¯ ä¸é¨ css æ©å±è¯­è¨ æ¯cssçé¢å¤çå¨\n\nå¸¸è§çcssé¢å¤çå¨: sass less stylus\n\n\n# less å®è£\n\nnode.jsç¯å¢ä¸\n\nåå®è£node.js\n\nnpm install -g less\nlessc -v\n\n\n1\n2\n\n\næµè§å¨ç¯å¢ä½¿ç¨\n\n<link rel="stylesheet/less" type="text/css" href="styles.less" />\n<script src="//cdnjs.cloudflare.com/ajax/libs/less.js/3.11.1/less.min.js" ><\/script>\n\n\n1\n2\n\n\n\n# less åé\n\nå¿é¡»@ä¸ºåç¼ ä¸è½åå«ç¹æ®å­ç¬¦ ä¸è½ä»¥æ°å­å¼å¤´ å¤§å°åææ\n\n/* @åéå:å¼ */\n@color: pink;\n@font14: 14px;\nbody {\n    background-color: @color; /* ä½¿ç¨åé */\n    font-size: @font14;\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n\n\n\n# lessç¼è¯\n\næä»¬éè¦ææä»¬çlessæä»¶ç¼è¯æcssæä»¶ æè½å¨é¡µé¢ä¸­ä½¿ç¨\n\næä»¬å¯ä»¥å¨vscoeä¸­ä¸è½½ easy lessæä»¶ ä¿å­lessæä»¶åèªå¨çæcssæä»¶\n\n\n# lessåµå¥\n\nlessä¸­å¯ä»¥è¿è¡åµå¥éæ©å¨ å¯ä»¥åå°æä»¬éå¤ä¹¦ååä»£ç±»éæ©å¨ç¶ç±»çåç§°\n\nåä»£éæ©å¨\n\n.div{\n    width: 200px\n        a{\n            color: red;\n            }\n}\n\n\n1\n2\n3\n4\n5\n6\n\n\nä¼ªç±» äº¤ééæ©å¨ ä¼ªåç´ éæ©å¨ æä»¬éè¦å¨åé¢å ä¸&æ¼æ¥\n\nä¼ªç±»éæ©å¨\n\na{\n    color: red;\n    &:hover{\n        color: blue;\n    }\n}\n\n\n1\n2\n3\n4\n5\n6\n\n\nä¼ªåç´ \n\na{\n    color: red;\n    &::before{\n        content: "";\n    }\n}\n\n\n1\n2\n3\n4\n5\n6\n\n\n\n# lessè¿ç®\n\nä»»ä½æ°å­ é¢è² æ åéé½å¯ä»¥åä¸ååè¿ç®\n\n@font14: 14px;\nbody {\n    background-color: #666 - #222;\n    font-size:(@font14 + 5) / 2;\n    width: 1.6rem + 5px; /* å¦æä¸¤ä¸ªæ°åä½ä¸ç¸å ç»æä»¥ç¬¬ä¸æ°çåä½ä¸ºå  */\n}\n\n\n1\n2\n3\n4\n5\n6\n\n\n\n# lesså¯¼å¥å¶ä»less\n\nå¯¼å¥common.less\n\n@import \'common\'\n\n\n1\n\n\n\n# bootstrap',charsets:{cjk:!0}},{title:"vue è¡¥å",frontmatter:{title:"vue è¡¥å",date:"2022-03-18T00:55:26.000Z",permalink:"/pages/6af871/",categories:["åç«¯","Vue2"],tags:[null]},regularPath:"/%E5%89%8D%E7%AB%AF/02.Vue2/00.vue%20%E8%A1%A5%E5%85%85.html",relativePath:"åç«¯/02.Vue2/00.vue è¡¥å.md",key:"v-a103715e",path:"/pages/6af871/",headers:[{level:2,title:"è·åinputä¸­çå¼",slug:"è·åinputä¸­çå¼",normalizedTitle:"è·åinputä¸­çå¼",charIndex:13},{level:2,title:"V-once",slug:"v-once",normalizedTitle:"v-once",charIndex:180},{level:2,title:"è®¡ç®å±æ§ computed",slug:"è®¡ç®å±æ§-computed",normalizedTitle:"è®¡ç®å±æ§ computed",charIndex:257},{level:2,title:"çæ§ watch",slug:"çæ§-watch",normalizedTitle:"çæ§ watch",charIndex:419},{level:2,title:":class",slug:"class",normalizedTitle:":class",charIndex:600},{level:2,title:":Style",slug:"style",normalizedTitle:":style",charIndex:644},{level:2,title:"MVVMæ¨¡å",slug:"mvvmæ¨¡å",normalizedTitle:"mvvmæ¨¡å",charIndex:707},{level:2,title:"èæDOM DIFFç®æ³",slug:"èædom-diffç®æ³",normalizedTitle:"èædom diffç®æ³",charIndex:871},{level:2,title:"template",slug:"template",normalizedTitle:"template",charIndex:1033},{level:2,title:"å®ä¾å±æ§",slug:"å®ä¾å±æ§",normalizedTitle:"å®ä¾å±æ§",charIndex:1159},{level:2,title:"$ref",slug:"ref",normalizedTitle:"$ref",charIndex:1215},{level:2,title:"$mount",slug:"mount",normalizedTitle:"$mount",charIndex:1301},{level:2,title:"component ç»ä»¶å¨å±æ³¨å",slug:"component-ç»ä»¶å¨å±æ³¨å",normalizedTitle:"component ç»ä»¶å¨å±æ³¨å",charIndex:1345},{level:2,title:"components ç»ä»¶æ¬å°(å±é¨)æ³¨å",slug:"components-ç»ä»¶æ¬å°-å±é¨-æ³¨å",normalizedTitle:"components ç»ä»¶æ¬å°(å±é¨)æ³¨å",charIndex:1547},{level:2,title:"çå½å¨æ",slug:"çå½å¨æ",normalizedTitle:"çå½å¨æ",charIndex:1651},{level:2,title:"props",slug:"props",normalizedTitle:"props",charIndex:1407}],headersStr:"è·åinputä¸­çå¼ V-once è®¡ç®å±æ§ computed çæ§ watch :class :Style MVVMæ¨¡å èæDOM DIFFç®æ³ template å®ä¾å±æ§ $ref $mount component ç»ä»¶å¨å±æ³¨å components ç»ä»¶æ¬å°(å±é¨)æ³¨å çå½å¨æ props",content:'# vue è¡¥å\n\n\n# è·åinputä¸­çå¼\n\n<input @input="change"/>\n    \nmethods:{\n    // åç½®åæ° é»è®¤ä¼ åå½åäºä»¶å¯¹è±¡çå¼\n    change(event){\n        console.log(event.target.value)\n    }\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n\n\n\n# V-once\n\nåªæ¹åä¸æ¬¡è¿ä¸ªå¼,dataä¹ååçæ¹åä¹ä¸æ´æ°domä¸­çå·®å¼è¡¨è¾¾å¼çå¼\n\n<p v-once>{{data}}</p>\n\n\n1\n\n\n\n# è®¡ç®å±æ§ computed\n\nè®¡ç®å±æ§æ¯ä¸ä¸ªè½å°è®¡ç®ç»æç¼å­èµ·æ¥çå±æ§,ä¸ç¨æ¯æ¬¡è°ç¨èå»éæ°çæãä¸äºå¸¸ç¨çå½æ°ï¼å¯ä»¥ç¼å­èµ·æ¥ï¼å¨è°ç¨æ¶ç´æ¥ä½¿ç¨ç¼å­ä¸­çè¿ç¨ï¼ç»æï¼ï¼ä»¥æ­¤æ¥æé«æçã\n\ncomputed è½ç¶åæ¯ä¸ä¸ªæ¹æ³ï¼å½æ°ï¼ï¼ä½è°ç¨æ¶ï¼è°ç¨çcomputedä¸­çå±æ§ãè®¡ç®å±æ§ä¼è§æµåé¨æ°æ®ååèååèéæ°æ±å¼\n\n\n# çæ§ watch\n\nçæ§vueä¸­æä¸ªå±æ§çå¼çååï¼åçååæ¶èªå¨è°ç¨æ¹æ³\n\ndata:{\n    title:"hahaha",\n    data:"cscs"\n},\nwatch:{\n    title:function(){},\n    data:function(newValue,oldValue){}\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n\n\n\n# :class\n\n:class å¯ä»¥ç»å®å¤ä¸ªå¼ ä½¿ç¨æ°ç» ["fl","fr"]\n\n\n# :Style\n\n:style="{backgroundCloro:data}"\n\nå¿é¡»ä¸ºé©¼å³°å½åæ³,å¿é¡»ç¨è¡¨è¾¾å¼åè£¹\n\n\n# MVVMæ¨¡å\n\nModel View ViewModel æ¯ MVC æ¨¡å¼çæ¹è¿ç\n\nåç«¯ä¸­ JSå¯¹è±¡ä¸ºModel é¡µé¢ä¸º View ä¸¤èåå°äºæå¤§éåº¦çåç¦»\n\nå° ä¸¤èå³èèµ·æ¥å°±æ¯ViewModel å®æ¯æ¡¥æ¢\n\nViewModel è´è´£æmodelçæ°æ®åæ­¥å°viewæ¾ç¤º è¿è´è´£æviewçæ°æ®åæ­¥åmodel\n\n\n\n\n# èæDOM DIFFç®æ³\n\nå¨æ®éjsä¸­æä»¬æä½domåç´ ,å¨éè¿htmlè½¬ä¸ºDOMæ°,å¹¶ä¸éè¿document.getElementByidæ¥æ¾å°è¯¥åç´ ,å»ä¿®æ¹DOMæ çèç¹.\n\nèå¨Vueä¸­æ¯ç´æ¥ä¿®æ¹é¡µé¢ä¸­DOMåç´ ,æ­¤æ¶è¯¥åç´ èæçDOM,éè¿DIFFç®æ³æ¥å¦è®¡ç®åºèæçDOMä¸åæ¥çDOMçåºå«æ¥è¿è¡ä¿®æ¹\n\n\n# template\n\næ¨¡æ¿æ ç­¾\n\nå¨vueä¸­ç»å¸¸ç¨æ¨¡æ¿æ ç­¾æ¥åè£¹\n\ntemplateæ ç­¾å¤©çä¸å¯è§,ä½¿ç¨v-show:ä¸ºè®¾ç½®æ ·å¼ display:none æ²¡ææä¹,åªè½ä½¿ç¨v-if\n\ntemplateå¿é¡»è¦ä¸ä¸ªæ ¹åç´ <div>,å¦åä¸è½å®ä¾å\n\n\n# å®ä¾å±æ§\n\nvueå¨å±æ´é²å±æ§,æå¯ä»¥éè¿$å å±æ§å,è°ç¨vueä¸­çæ°æ®\n\nå¦:this.$data this.$ref\n\n\n# $ref\n\nç¸å½äºæ ç­¾ä¸­id,ä¸å¯éå¤, åªè¦è¯¥æ ç­¾ç»å®äºrefå±æ§åå¯ä»¥éè¿this.$refs.(refåç§°),å°±å¯ä»¥å¿«éä¿®æ¹æä¸ªåç´ çåå®¹\n\n\n# $mount\n\nç¸å½äºæè½½(å è½½) el,å®ç°äºé¡µé¢åç´ åvueå¯¹è±¡çå¨æç»å®\n\n\n# component ç»ä»¶å¨å±æ³¨å\n\nå¨å½åå®ä¾ä¸­,æ³¨åä¸ä¸ªç»ä»¶,å¯ä»¥å¨éé¢å®ä¹ template data methods props ç­ç­\n\næ¬å°æ³¨ååªç»å®(æè½½)vueçhtmlæè½ä½¿ç¨ç»ä»¶\n\néè¿Vue.component("ç»ä»¶å",{\n\nprops:[]\n\ndata(){},\n\nmethods(){},\n\ntemplate :"ä½¿ç¨<ç»ä»¶>æ ç­¾æ¶è§£æè¿éçæ ç­¾ é¢åè®¾ç½®å¥½"\n\n})\n\n\n# components ç»ä»¶æ¬å°(å±é¨)æ³¨å\n\néè¿vueå®ä¾ä¸­components æ³¨å ç»ä»¶å\n\nåªè½å¨è¿ä¸ªvueå®ä¾ä¸­ä½¿ç¨æ³¨åè¿çç»ä»¶\n\nå¦:\n\ncomponents: { ImgList },\n\n\n# çå½å¨æ\n\n\n\nä¸ä¸ªvueå¯¹è±¡ä¼ç»ååå§åãåå»ºãç»å®ãæ´æ°ãéæ¯ç­é¶æ®µï¼ä¸åçé¶æ®µé½ä¼è§¦åä¸åççå½å¨æhook\n\n 1. beforeCreate åå»ºå®ä¾ä¹åçé©å­\n 2. created å®ä¾åå»ºå®æåæ§è¡çé©å­\n 3. beforeMount å°ç¼è¯å®çhtmlæè½½å°VueçèæDOMæ¶è§¦åçé©å­\n 4. mounted ç¼è¯å¥½çHtmlæè½½å°é¡µé¢å®æåæ§è¡çé©å­\n 5. beforeUpdate ç»å®çèæDOMæ´æ°ä¹åçé©å­\n 6. updateed æ´æ°ä¹åçé©å­\n 7. beforeUmmount å®ä¾éæ¯ä¹åçé©å­\n 8. ummounted å®ä¾éæ¯åçé©å­\n\nimport { createApp } from \'vue\'\nconst app = createApp({})\n\n// æ³¨å\napp.directive(\'my-directive\', {\n  // æä»¤æ¯å·æä¸ç»çå½å¨æçé©å­ï¼\n  // å¨ç»å®åç´ ç attribute æäºä»¶çå¬å¨è¢«åºç¨ä¹åè°ç¨\n  created() {},\n  // å¨ç»å®åç´ çç¶ç»ä»¶æè½½ä¹åè°ç¨\n  beforeMount() {},\n  // ç»å®åç´ çç¶ç»ä»¶è¢«æè½½æ¶è°ç¨\n  mounted() {},\n  // å¨åå«ç»ä»¶ç VNode æ´æ°ä¹åè°ç¨\n  beforeUpdate() {},\n  // å¨åå«ç»ä»¶ç VNode åå¶å­ç»ä»¶ç VNode æ´æ°ä¹åè°ç¨\n  updated() {},\n  // å¨ç»å®åç´ çç¶ç»ä»¶å¸è½½ä¹åè°ç¨\n  beforeUnmount() {},\n  // å¸è½½ç»å®åç´ çç¶ç»ä»¶æ¶è°ç¨\n  unmounted() {}\n})\n\n// æ³¨å (åè½æä»¤)\napp.directive(\'my-directive\', () => {\n  // è¿å°è¢«ä½ä¸º `mounted` å `updated` è°ç¨\n})\n\n// getter, å¦æå·²æ³¨åï¼åè¿åæä»¤å®ä¹\nconst myDirective = app.directive(\'my-directive\')\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n26\n27\n28\n29\n\n\n\n# props\n\nç¶ä¼ å­\n\nå­ç»ä»¶å£°æ\n\nprops: {\n    ä¼ çåæ°å: {\n      type: åæ°çç±»å,\n      require: true  //ä¸è½ç©º\n    }\n  },\n\n\n1\n2\n3\n4\n5\n6\n\n\nç¶ç»ä»¶ æ³¨å å­ç»ä»¶ å¨æ ç­¾ä¸­ä¼ å\n\næ³¨åç»ä»¶\n\n components: {\n    ArtcleList\n  }\n\n\n1\n2\n3\n\n\nä¼ å\n\n<artcle-list :channel="channel"\n      />\n\n\n1\n2\n',normalizedContent:'# vue è¡¥å\n\n\n# è·åinputä¸­çå¼\n\n<input @input="change"/>\n    \nmethods:{\n    // åç½®åæ° é»è®¤ä¼ åå½åäºä»¶å¯¹è±¡çå¼\n    change(event){\n        console.log(event.target.value)\n    }\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n\n\n\n# v-once\n\nåªæ¹åä¸æ¬¡è¿ä¸ªå¼,dataä¹ååçæ¹åä¹ä¸æ´æ°domä¸­çå·®å¼è¡¨è¾¾å¼çå¼\n\n<p v-once>{{data}}</p>\n\n\n1\n\n\n\n# è®¡ç®å±æ§ computed\n\nè®¡ç®å±æ§æ¯ä¸ä¸ªè½å°è®¡ç®ç»æç¼å­èµ·æ¥çå±æ§,ä¸ç¨æ¯æ¬¡è°ç¨èå»éæ°çæãä¸äºå¸¸ç¨çå½æ°ï¼å¯ä»¥ç¼å­èµ·æ¥ï¼å¨è°ç¨æ¶ç´æ¥ä½¿ç¨ç¼å­ä¸­çè¿ç¨ï¼ç»æï¼ï¼ä»¥æ­¤æ¥æé«æçã\n\ncomputed è½ç¶åæ¯ä¸ä¸ªæ¹æ³ï¼å½æ°ï¼ï¼ä½è°ç¨æ¶ï¼è°ç¨çcomputedä¸­çå±æ§ãè®¡ç®å±æ§ä¼è§æµåé¨æ°æ®ååèååèéæ°æ±å¼\n\n\n# çæ§ watch\n\nçæ§vueä¸­æä¸ªå±æ§çå¼çååï¼åçååæ¶èªå¨è°ç¨æ¹æ³\n\ndata:{\n    title:"hahaha",\n    data:"cscs"\n},\nwatch:{\n    title:function(){},\n    data:function(newvalue,oldvalue){}\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n\n\n\n# :class\n\n:class å¯ä»¥ç»å®å¤ä¸ªå¼ ä½¿ç¨æ°ç» ["fl","fr"]\n\n\n# :style\n\n:style="{backgroundcloro:data}"\n\nå¿é¡»ä¸ºé©¼å³°å½åæ³,å¿é¡»ç¨è¡¨è¾¾å¼åè£¹\n\n\n# mvvmæ¨¡å\n\nmodel view viewmodel æ¯ mvc æ¨¡å¼çæ¹è¿ç\n\nåç«¯ä¸­ jså¯¹è±¡ä¸ºmodel é¡µé¢ä¸º view ä¸¤èåå°äºæå¤§éåº¦çåç¦»\n\nå° ä¸¤èå³èèµ·æ¥å°±æ¯viewmodel å®æ¯æ¡¥æ¢\n\nviewmodel è´è´£æmodelçæ°æ®åæ­¥å°viewæ¾ç¤º è¿è´è´£æviewçæ°æ®åæ­¥åmodel\n\n\n\n\n# èædom diffç®æ³\n\nå¨æ®éjsä¸­æä»¬æä½domåç´ ,å¨éè¿htmlè½¬ä¸ºdomæ°,å¹¶ä¸éè¿document.getelementbyidæ¥æ¾å°è¯¥åç´ ,å»ä¿®æ¹domæ çèç¹.\n\nèå¨vueä¸­æ¯ç´æ¥ä¿®æ¹é¡µé¢ä¸­domåç´ ,æ­¤æ¶è¯¥åç´ èæçdom,éè¿diffç®æ³æ¥å¦è®¡ç®åºèæçdomä¸åæ¥çdomçåºå«æ¥è¿è¡ä¿®æ¹\n\n\n# template\n\næ¨¡æ¿æ ç­¾\n\nå¨vueä¸­ç»å¸¸ç¨æ¨¡æ¿æ ç­¾æ¥åè£¹\n\ntemplateæ ç­¾å¤©çä¸å¯è§,ä½¿ç¨v-show:ä¸ºè®¾ç½®æ ·å¼ display:none æ²¡ææä¹,åªè½ä½¿ç¨v-if\n\ntemplateå¿é¡»è¦ä¸ä¸ªæ ¹åç´ <div>,å¦åä¸è½å®ä¾å\n\n\n# å®ä¾å±æ§\n\nvueå¨å±æ´é²å±æ§,æå¯ä»¥éè¿$å å±æ§å,è°ç¨vueä¸­çæ°æ®\n\nå¦:this.$data this.$ref\n\n\n# $ref\n\nç¸å½äºæ ç­¾ä¸­id,ä¸å¯éå¤, åªè¦è¯¥æ ç­¾ç»å®äºrefå±æ§åå¯ä»¥éè¿this.$refs.(refåç§°),å°±å¯ä»¥å¿«éä¿®æ¹æä¸ªåç´ çåå®¹\n\n\n# $mount\n\nç¸å½äºæè½½(å è½½) el,å®ç°äºé¡µé¢åç´ åvueå¯¹è±¡çå¨æç»å®\n\n\n# component ç»ä»¶å¨å±æ³¨å\n\nå¨å½åå®ä¾ä¸­,æ³¨åä¸ä¸ªç»ä»¶,å¯ä»¥å¨éé¢å®ä¹ template data methods props ç­ç­\n\næ¬å°æ³¨ååªç»å®(æè½½)vueçhtmlæè½ä½¿ç¨ç»ä»¶\n\néè¿vue.component("ç»ä»¶å",{\n\nprops:[]\n\ndata(){},\n\nmethods(){},\n\ntemplate :"ä½¿ç¨<ç»ä»¶>æ ç­¾æ¶è§£æè¿éçæ ç­¾ é¢åè®¾ç½®å¥½"\n\n})\n\n\n# components ç»ä»¶æ¬å°(å±é¨)æ³¨å\n\néè¿vueå®ä¾ä¸­components æ³¨å ç»ä»¶å\n\nåªè½å¨è¿ä¸ªvueå®ä¾ä¸­ä½¿ç¨æ³¨åè¿çç»ä»¶\n\nå¦:\n\ncomponents: { imglist },\n\n\n# çå½å¨æ\n\n\n\nä¸ä¸ªvueå¯¹è±¡ä¼ç»ååå§åãåå»ºãç»å®ãæ´æ°ãéæ¯ç­é¶æ®µï¼ä¸åçé¶æ®µé½ä¼è§¦åä¸åççå½å¨æhook\n\n 1. beforecreate åå»ºå®ä¾ä¹åçé©å­\n 2. created å®ä¾åå»ºå®æåæ§è¡çé©å­\n 3. beforemount å°ç¼è¯å®çhtmlæè½½å°vueçèædomæ¶è§¦åçé©å­\n 4. mounted ç¼è¯å¥½çhtmlæè½½å°é¡µé¢å®æåæ§è¡çé©å­\n 5. beforeupdate ç»å®çèædomæ´æ°ä¹åçé©å­\n 6. updateed æ´æ°ä¹åçé©å­\n 7. beforeummount å®ä¾éæ¯ä¹åçé©å­\n 8. ummounted å®ä¾éæ¯åçé©å­\n\nimport { createapp } from \'vue\'\nconst app = createapp({})\n\n// æ³¨å\napp.directive(\'my-directive\', {\n  // æä»¤æ¯å·æä¸ç»çå½å¨æçé©å­ï¼\n  // å¨ç»å®åç´ ç attribute æäºä»¶çå¬å¨è¢«åºç¨ä¹åè°ç¨\n  created() {},\n  // å¨ç»å®åç´ çç¶ç»ä»¶æè½½ä¹åè°ç¨\n  beforemount() {},\n  // ç»å®åç´ çç¶ç»ä»¶è¢«æè½½æ¶è°ç¨\n  mounted() {},\n  // å¨åå«ç»ä»¶ç vnode æ´æ°ä¹åè°ç¨\n  beforeupdate() {},\n  // å¨åå«ç»ä»¶ç vnode åå¶å­ç»ä»¶ç vnode æ´æ°ä¹åè°ç¨\n  updated() {},\n  // å¨ç»å®åç´ çç¶ç»ä»¶å¸è½½ä¹åè°ç¨\n  beforeunmount() {},\n  // å¸è½½ç»å®åç´ çç¶ç»ä»¶æ¶è°ç¨\n  unmounted() {}\n})\n\n// æ³¨å (åè½æä»¤)\napp.directive(\'my-directive\', () => {\n  // è¿å°è¢«ä½ä¸º `mounted` å `updated` è°ç¨\n})\n\n// getter, å¦æå·²æ³¨åï¼åè¿åæä»¤å®ä¹\nconst mydirective = app.directive(\'my-directive\')\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n26\n27\n28\n29\n\n\n\n# props\n\nç¶ä¼ å­\n\nå­ç»ä»¶å£°æ\n\nprops: {\n    ä¼ çåæ°å: {\n      type: åæ°çç±»å,\n      require: true  //ä¸è½ç©º\n    }\n  },\n\n\n1\n2\n3\n4\n5\n6\n\n\nç¶ç»ä»¶ æ³¨å å­ç»ä»¶ å¨æ ç­¾ä¸­ä¼ å\n\næ³¨åç»ä»¶\n\n components: {\n    artclelist\n  }\n\n\n1\n2\n3\n\n\nä¼ å\n\n<artcle-list :channel="channel"\n      />\n\n\n1\n2\n',charsets:{cjk:!0},lastUpdated:"2022/03/18, 07:01:11",lastUpdatedTimestamp:1647558071e3},{title:"JavaScript",frontmatter:{title:"JavaScript",date:"2022-03-18T00:54:47.000Z",permalink:"/pages/e5e5b8/",categories:["åç«¯","Html"],tags:[null]},regularPath:"/%E5%89%8D%E7%AB%AF/01.html/09.JavaScript.html",relativePath:"åç«¯/01.html/09.JavaScript.md",key:"v-2e5129d9",path:"/pages/e5e5b8/",headers:[{level:2,title:"å¼å¥æ¹å¼",slug:"å¼å¥æ¹å¼",normalizedTitle:"å¼å¥æ¹å¼",charIndex:97},{level:2,title:"æ³¨é",slug:"æ³¨é",normalizedTitle:"æ³¨é",charIndex:165},{level:2,title:"è¾å¥è¾åºè¯­å¥",slug:"è¾å¥è¾åºè¯­å¥",normalizedTitle:"è¾å¥è¾åºè¯­å¥",charIndex:204},{level:2,title:"åéåå¸¸é",slug:"åéåå¸¸é",normalizedTitle:"åéåå¸¸é",charIndex:365},{level:2,title:"åå§æ°æ®ç±»å",slug:"åå§æ°æ®ç±»å",normalizedTitle:"åå§æ°æ®ç±»å",charIndex:473},{level:3,title:"typeof æ¹æ³",slug:"typeof-æ¹æ³",normalizedTitle:"typeof æ¹æ³",charIndex:607},{level:2,title:"ç®æ°è¿ç®ç¬¦",slug:"ç®æ°è¿ç®ç¬¦",normalizedTitle:"ç®æ°è¿ç®ç¬¦",charIndex:643},{level:2,title:"æµç¨æ§å¶åå¾ªç¯è¯­å¥",slug:"æµç¨æ§å¶åå¾ªç¯è¯­å¥",normalizedTitle:"æµç¨æ§å¶åå¾ªç¯è¯­å¥",charIndex:723},{level:2,title:"æ°ç»",slug:"æ°ç»",normalizedTitle:"æ°ç»",charIndex:788},{level:2,title:"å½æ°",slug:"å½æ°",normalizedTitle:"å½æ°",charIndex:1034},{level:2,title:"DOM",slug:"dom",normalizedTitle:"dom",charIndex:41},{level:3,title:"Element  åç´ æä½",slug:"element-åç´ æä½",normalizedTitle:"element  åç´ æä½",charIndex:null},{level:2,title:"Attribute å±æ§çæä½",slug:"attribute-å±æ§çæä½",normalizedTitle:"attribute å±æ§çæä½",charIndex:1710},{level:2,title:"Text ææ¬æä½",slug:"text-ææ¬æä½",normalizedTitle:"text ææ¬æä½",charIndex:1941},{level:2,title:"äºä»¶",slug:"äºä»¶",normalizedTitle:"äºä»¶",charIndex:2025},{level:3,title:"ç»å®äºä»¶",slug:"ç»å®äºä»¶",normalizedTitle:"ç»å®äºä»¶",charIndex:2416},{level:2,title:"é¢åå¯¹è±¡",slug:"é¢åå¯¹è±¡",normalizedTitle:"é¢åå¯¹è±¡",charIndex:2775},{level:3,title:"å®ä¹åä½¿ç¨",slug:"å®ä¹åä½¿ç¨",normalizedTitle:"å®ä¹åä½¿ç¨",charIndex:2784},{level:3,title:"ç»§æ¿",slug:"ç»§æ¿",normalizedTitle:"ç»§æ¿",charIndex:3227},{level:3,title:"åç½®å¯¹è±¡",slug:"åç½®å¯¹è±¡",normalizedTitle:"åç½®å¯¹è±¡",charIndex:3532},{level:2,title:"BOM",slug:"bom",normalizedTitle:"bom",charIndex:37},{level:2,title:"jQuery",slug:"jquery",normalizedTitle:"jquery",charIndex:5528},{level:3,title:"jQueryå¯¹è±¡",slug:"jqueryå¯¹è±¡",normalizedTitle:"jqueryå¯¹è±¡",charIndex:5539},{level:3,title:"äºä»¶",slug:"äºä»¶-2",normalizedTitle:"äºä»¶",charIndex:2025},{level:3,title:"éå",slug:"éå",normalizedTitle:"éå",charIndex:5923},{level:3,title:"éæ©å¨",slug:"éæ©å¨",normalizedTitle:"éæ©å¨",charIndex:6102},{level:3,title:"DOM",slug:"dom-2",normalizedTitle:"dom",charIndex:41},{level:3,title:"BOM",slug:"bom-2",normalizedTitle:"bom",charIndex:37},{level:2,title:"AJAX",slug:"ajax",normalizedTitle:"ajax",charIndex:7587},{level:3,title:"JSå®ç°AJAX",slug:"jså®ç°ajax",normalizedTitle:"jså®ç°ajax",charIndex:7675},{level:3,title:"jQuery å®ç°AJAX",slug:"jquery-å®ç°ajax",normalizedTitle:"jquery å®ç°ajax",charIndex:8461},{level:3,title:"POST æ¹æ³",slug:"post-æ¹æ³",normalizedTitle:"post æ¹æ³",charIndex:8925},{level:3,title:"éç¨æ¹å¼",slug:"éç¨æ¹å¼",normalizedTitle:"éç¨æ¹å¼",charIndex:9110}],headersStr:"å¼å¥æ¹å¼ æ³¨é è¾å¥è¾åºè¯­å¥ åéåå¸¸é åå§æ°æ®ç±»å typeof æ¹æ³ ç®æ°è¿ç®ç¬¦ æµç¨æ§å¶åå¾ªç¯è¯­å¥ æ°ç» å½æ° DOM Element  åç´ æä½ Attribute å±æ§çæä½ Text ææ¬æä½ äºä»¶ ç»å®äºä»¶ é¢åå¯¹è±¡ å®ä¹åä½¿ç¨ ç»§æ¿ åç½®å¯¹è±¡ BOM jQuery jQueryå¯¹è±¡ äºä»¶ éå éæ©å¨ DOM BOM AJAX JSå®ç°AJAX jQuery å®ç°AJAX POST æ¹æ³ éç¨æ¹å¼",content:'# JavaScript\n\nJavaScript æ¯ECMAScript+BOM+DOM\n\nECMAScript:å®¢æ·ç«¯èæ¬è¯­è¨çæ å èæ¬è¯­è¨:ä¸éè¦ç¼è¯,å°±å¯ä»¥è¢«æµè§å¨è§£æè§£ææ§è¡\n\n\n# å¼å¥æ¹å¼\n\n * å¨htmlåé¨ ç±<script>æ ç­¾å¼å¥\n * å¤é¨å¼å¥ ç±<script src="jsè·¯å¾">æ ç­¾å¼å¥\n\n\n# æ³¨é\n\n * åè¡æ³¨é // åå®¹\n * å¤è¡æ³¨é /* åå®¹ */\n\n\n# è¾å¥è¾åºè¯­å¥\n\n * è¾å¥æ¡ prompt("æç¤ºåå®¹")\n * å¼¹åºè­¦åæ¡ alert("æç¤ºåå®¹")\n * æ§å¶å°è¾åº console.log("æ¾ç¤ºåå®¹")\n * é¡µé¢åå®¹è¾åº document.write("æ¾ç¤ºåå®¹")\n * å¼¹åºç¡®è®¤æ¡ ç¡®è®¤è¿ture åæ¶è¿false confirm("æç¤ºåå®¹")\n\n\n# åéåå¸¸é\n\nJavaScriptå±äºå¼±ç±»åè¯­è¨,å®ä¹åéæ¶ä¸åºåå·ä½çæ°æ®ç±»å\n\n * å®ä¹å±é¨åé let åéå = å¼\n * å®ä¹å¨å±åé åéå = å¼\n * å®ä¹å¸¸é const å¸¸éå = å¼\n\n\n# åå§æ°æ®ç±»å\n\n * boolean å¸å°ç±»å\n * null å£°ænullå¼çç¹æ®å³é®å­\n * undefined ä»£è¡¨åéæªå®ä¹\n * numbner æ´æ°æèæµ®ç¹æ°\n * string å­ç¬¦ä¸²\n * bigint å¤§æ´æ° å¦: let num =10n\n\n\n# typeof æ¹æ³\n\ntpyeof() ç¨äºå¤æ­åéçæ°æ®ç±»å\n\n\n# ç®æ°è¿ç®ç¬¦\n\n\n\n\n\nä¸JAVAæ²¡æå¤ªå¤§å·®å« å¤ä¸ªå¨ç­äº ===\n\nå­ç¬¦ä¸² å + è¿ç®æ¶ é½æ¯æ¼æ¥\n\nèä¸æ°å­å - * % ç­è¿ç®æ¶ä¼èªå¨è½¬æ¢ç±»å\n\n\n# æµç¨æ§å¶åå¾ªç¯è¯­å¥\n\n * ifè¯­å¥\n * switchè¯­å¥\n * forå¾ªç¯\n * whileå¾ªç¯ ä¸javaé½å·®ä¸å¤\n\n\n# æ°ç»\n\nä¸javaæ°ç»åºæ¬ä¸è´ , ä½æ°ç»ç±»ååé¿åº¦é½æ²¡æéå¶\n\n * let æ°ç»å =[åç´ 1 , åç´ 2, ...]\n * ç´¢å¼ ä»0å¼å§ æå¤§å°æ°ç»é¿åº¦-1 æ²¡æç´¢å¼è¶ç èä¸é¿åº¦æ²¡æéå¶ å¯ä»¥ç´æ¥è¶çèµå¼\n * æ°ç»é¿åº¦ æ°ç»å.length\n * æ°ç»é«çº§è¿ç®ç¬¦ ...\n   * æ°ç»å¤å¶ let arr2=[...arr]\n   * åå¹¶æ°ç» let arr4 =[...arr2,...arr3]\n   * å­ç¬¦ä¸²è½¬æ°ç» let arr5=[..."hello"]\n\n\n# å½æ°\n\nç±»ä¼¼äºæ¹æ³\n\n * function æ¹æ³å(åæ°) { return è¿åå¼}\n * å¯ååæ° function æ¹æ³å(...åæ°å) { return è¿åå¼}\n * å¿åå½æ° function(åæ°åè¡¨) {æ¹æ³ä½ }\n\n\n# DOM\n\nDOM(document object model) ææ¡£å¯¹è±¡æ¨¡å\n\nå°html ææ¡£çåä¸ªç»ææ¹æ³ , å°è£æå¯¹è±¡ . åå©è¿äºä¸è¥¿,å¯ä»¥å¯¹htmlææ¡£è¿è¡å¢å æ¹æ¥çå¨ææä½\n\n\n\n * Document ææ¡£å¯¹è±¡\n * Element åç´ å¯¹è±¡\n * Attribute å±æ§å¯¹è±¡\n * Text ææ¬å¯¹è±¡\n\n\n# Element åç´ æä½\n\n# è·ååç´ \n\n * getELmentByid(idå±æ§å¼) æ ¹æ®idè·åä¸ä¸ªåç´ \n * getELmentByTagName(æ ç­¾åç§°) æ ç­¾æ ç­¾åç§°è·åå¤ä¸ªåç´ \n * getELmentByName(nameå±æ§å¼) æ ¹æ®nameå±æ§è·åå¤ä¸ªåç´ \n * getELmentByClassName(classå±æ§å¼) æ ¹æ®classå±æ§è·åå¤ä¸ªåç´ \n * å­åç´ å¯¹è±¡.parentElemnetå±æ§ è·åå½ååç´ çç¶åç´ \n\n# æä½åç´ \n\n * createElemnt(æ ç­¾å) åå»ºä¸ä¸ªæ ç­¾ åå»ºåéè¦éåæ·»å ä½¿ç¨\n * appendChild(å­åç´ å¯¹è±¡) å°æå®å­åç´ æ·»å å°ç¶åç´ ä¸­\n * removeChild(å­åç´ å¯¹è±¡) ç¨ç¶åç´ å é¤æå®å­åç´ \n * replaceChild(æ°åç´ å¯¹è±¡,æ§åç´ å¯¹è±¡) ç¨æ°åç´ æ¿æ¢æ§åç´ \n\n\n# Attribute å±æ§çæä½\n\n * setAttribute(å±æ§å,å±æ§å¼) è®¾ç½®å±æ§\n * getAttribute(å±æ§å) æ ¹æ®å±æ§åè·åå±æ§å¼\n * removeAttribute(å±æ§å) æ ¹æ®ç­éåç§»é¤æå®çå±æ§\n * styleå±æ§ ä¸ºåç´ æ·»å æ ·å¼ å¦: div.style.color = "red"\n * classNameå±æ§ æ·»å æå®æ ·å¼ (å¶å®æ¯ä¸ºåç´ æ·»å classå±æ§) å¦: div.className = "div"\n\n\n# Text ææ¬æä½\n\n * innerText åªæ·»å ææ¬åå®¹,ä¸è§£ææ ç­¾\n * innerHTML æ·»å ææ¬åå®¹,å¹¶è§£ææ ç­¾ å¦<a> è§£æä¸ºæ ç­¾èä¸æ¯ææ¬\n\n\n# äºä»¶\n\näºä»¶æå½æäºç»ä»¶æ§è¡äºæäºæä½å,ä¼è§¦åæäºä»£ç çæ§è¡\n\n * onload æä¸ªé¡µé¢æèå¾åè¢«å®æå è½½\n * onsubmit å½è¡¨åæäº¤æ¶è§¦å\n * onclick é¼ æ ç¹å»äºä»¶\n * ondblclick é¼ æ åå»åå»\n * onblur åç´ å¤±å»ç¦ç¹\n * onfocus åç´ è·å¾ç¦ç¹\n * onchange ç¨æ·æ¹ååçåå®¹\n\n----------------------------------------\n\n * onkeydown æä¸ªé®ççé®è¢«æä¸\n * onkeypress æä¸ªé®ççé®è¢«æä¸æèæä½\n * onkeyup æä¸ªé®ççé®è¢«æ¾å¼\n * onmouserdown æä¸ªé¼ æ æé®è¢«æä¸\n * onmouseup æä¸ªé¼ æ æé®è¢«æ¾å¼\n * onmouseover é¼ æ è¢«ç§»å°æåç´ ä¹ä¸\n * onmouserout é¼ æ ä»æåç´ ç§»å¼\n\n\n# ç»å®äºä»¶\n\n * éè¿æ ç­¾ä¸­äºä»¶å±æ§ç»å®\n   \n   * <button id="up" onclick="up()"></button>\n     \n     \n     1\n     \n\n * éè¿DOMåç´ å±æ§ç»å®\n   \n   * document.getElementById("down").onclick = function(){\n             let img =  document.getElementById("img")\n             img.setAttribute("src","../../åä¼è´­/img/arrow-prev.png")\n         }\n     \n     \n     1\n     2\n     3\n     4\n     \n\n\n# é¢åå¯¹è±¡\n\n\n# å®ä¹åä½¿ç¨\n\nclass ç±»å{\n    //æé æ¹æ³\n    constructor(åéåè¡¨){\n        åéèµå¼\n    }\n\n    æ¹æ³å(åæ°åè¡¨){\n        æ¹æ³ä½\n        return è¿åå¼\n    }\n}\n\n//ä½¿ç¨\nlet å¯¹è±¡å = new ç±»å(å®éåéå¼)\nå¯¹è±¡å.æ¹æ³å()\n\n\nclass Person {\n  constructor(name, age) {\n    this.name = name\n    this.age = age\n  }\n\n  show(){\n    document.write(this.name + " " + this.age)\n  }\n}\n\nlet P = new Person("ZZ",19)\nP.show()\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n26\n27\n28\n29\n30\n\n\n\n# ç»§æ¿\n\nextendså³é®å­ é¡¶çº§ç¶ç±» object\n\nclass worker extends Person {\n  constructor(name, age, salary) {\n    super(name, age)\n    this.salary = salary\n  }\n\n  show() {\n    document.write(this.name + \' \' + this.age + \' \' + this.salary)\n  }\n}\n\nlet w =new worker("qq",22,33)\nw.show()\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n\n\n\n# åç½®å¯¹è±¡\n\n * Number\n   * parseFloat() å°ä¼ å¥çå­ç¬¦ä¸²æµ®ç¹æ°è½¬ä¸ºæµ®ç¹æ°\n   * parseInt() å°ä¼ å¥çå­ç¬¦ä¸²æ´æ°è½¬ä¸ºæ´æ° ä»å·¦å°å³è½¬å ä¸ç´è½¬æ¢å°æéæ°å­å­ç¬¦åæ­¢ å¦200a13bc åè½¬ä¸º200 åé¢çå¿½ç¥\n * Math\n   * ceil(x) åä¸åæ´\n   * floor(x) åä¸åæ´\n   * round(x) åèäºå¥ææ¥è¿çæ´æ°\n   * random() éæºæ°è¿å [0.0 , 1.0) ä¹é´çæ°\n   * pow(x,y) å¹è¿ç®xçyæ¬¡æ¹\n * Date\n   * Date() æ ¹æ®å½åæ¶é´åå»ºå¯¹è±¡\n   * Date(value) æ ¹æ®æå®æ¯«ç§å¼åå»ºå¯¹è±¡\n   * Date(year,month,[day,hours,minutes,seconds,milliseconds])\n     * getFullYear() è·åå¹´\n     * getMonth() è·åæ ä»0-11\n     * getDate() è·åå¤©\n     * getHours() è·åå°æ¶\n     * getMinutes() è·åç§\n     * getTime() è¿åæ¶é´æ³ 1970å¹´1æ1æ¥å°nowçæ¯«ç§æ°\n     * toLocaleString() è¿åæ¬å°æ¥ææ ¼å¼çå­ç¬¦ä¸²\n * String\n   * String(value) æ ¹æ®æå®å­ç¬¦ä¸²åå»ºå¯¹è±¡\n   * let s = "å­ç¬¦ä¸²" èµå¼\n     * lengthå±æ§ é¿åº¦\n     * charAt(index) è·åæå®ç´¢å¼çå­ç¬¦\n     * indexOf(value) æ¥æ¾æå®å­ç¬¦çç´¢å¼ æ²¡æä¸º-1\n     * substring(start,end) æªåå­ç¬¦ä¸² (å«å¤´ä¸å«å°¾)\n     * split(value) åå²å­ç¬¦ä¸² è¿åæ°ç»\n     * replace(old,new) å­ç¬¦ä¸²æ¿æ¢\n * RegExp æ­£åè¡¨è¾¾å¼\n   * RegExp(è§å) æ ¹æ®è§ååå»ºå¯¹è±¡\n   * let reg = /^è§å$/ èµå¼\n     * test(å¹éçå­ç¬¦ä¸²) æ ¹æ®æå®è§åéªè¯å­ç¬¦ä¸²æ¯å¦ç¬¦å è¿åå¸å°å¼\n   * \n * Array\n   * push(åç´ ) æ·»å åç´ å°æ«å°¾\n   * pop() å é¤æ«å°¾çåç´ \n   * shift() å é¤æ°ç»æåé¢çåç´ \n   * includes(åç´ ) å¤æ­æ°ç»æ¯å¦åå«æ­¤åç´ \n   * reverse() åè½¬æ°ç»\n   * sort() æåºæ°ç»\n * Set åç´ å¯ä¸ å­åé¡ºåºä¸è´\n   * Set() åå»ºsetå¯¹è±¡\n     * add(åç´ ) æ·»å åç´ \n     * sizeé¡ºåº è·åé¿åº¦\n     * keys() è·åè¿­ä»£å¨å¯¹è±¡\n       * next().value è·åè¿­ä»£å¨åç´ \n     * delete(åç´ ) å é¤æå®åç´ \n * Map å­åé¡ºåºä¸è´\n   * Map() åå»ºMapå¯¹è±¡\n     * set(key,value) æ·»å åç´ \n     * sizeå±æ§ è·åé¿åº¦\n     * get(key) æ ¹æ®keyè·åvalue\n     * entries() è·åè¿­ä»£å¨å¯¹è±¡\n       * next().value è·åè¿­ä»£å¨åç´  é®å¼å¯¹\n     * delete(key) æ ¹æ®keyå é¤é®å¼å¯¹\n * JSON(JavaScript Object Notation)\n   * stringify(å¯¹è±¡) å°æå®å¯¹è±¡è½¬ä¸ºjsonå­ç¬¦ä¸²\n   * parse(å­ç¬¦ä¸²) å°JSONå­ç¬¦ä¸² è½¬ä¸ºjså¯¹è±¡\n * decodeURIComponent(string s) å°urlå­ç¬¦è½¬ä¸ºUTF-8\n\n\n# BOM\n\nBOM(Browser Object Model) æµè§å¨å¯¹è±¡æ¨¡å å°æµè§å¨çåä¸ªç»æé¨åå°è£æä¸åçå¯¹è±¡\n\n * Windows çªå£å¯¹è±¡\n   \n   * å®æ¶å¨\n     * setTimeout(åè½,æ¯«ç§å¼) è®¾ç½®ä¸æ¬¡æ§å®æ¶å¨ è¿åä¸ä¸ªå¯ä¸æ è¯\n     * clearTimeout(æ è¯) åæ¶ä¸æ¬¡æ§å®æ¶å¨\n     * setInterval(åè½,æ¯«ç§å¼) è®¾ç½®å¾ªç¯å®æ¶å¨ è¿åä¸ä¸ªå¯ä¸æ è¯\n     * clearInterval(æ è¯) åæ¶å¾ªç¯å®æ¶å¨\n   * å è½½äºä»¶\n     * window.onload å¨é¡µé¢å è½½å®æ¯åè§¦åæ­¤äºä»¶\n\n * Location å°åæ å¯¹è±¡\n   \n   * hrefå±æ§ è®¾ç½®æ°çURL ä½¿æµè§å¨è¯»åå¹¶æ¾ç¤ºæ°çURL\n\n * History åå²è®°å½å¯¹è±¡\n\n * Navigator æµè§å¨å¯¹è±¡\n\n * Screen æ¾ç¤ºå¨å±å¹å¯¹è±¡\n\n\n# jQuery\n\n\n# jQueryå¯¹è±¡\n\n * $(JSç DOM å¯¹è±¡) JSå¯¹è±¡åjQueryå¯¹è±¡è½¬æ¢\n * jQuery å¯¹è±¡[ç´¢å¼] jQueryå¯¹è±¡è½¬ä¸ºjså¯¹è±¡\n * jQuery å¯¹è±¡.get(ç´¢å¼) jQueryå¯¹è±¡è½¬ä¸ºjså¯¹è±¡\n\n\n# äºä»¶\n\n * å»æjsä¸­.onçè¯­å¥ å¦: onclick ===> click jQueryå¯¹è±¡.click(åè½)\n\n * ç»å®äºä»¶ jQueryå¯¹è±¡.on(äºä»¶åç§°,æ§è¡çåè½)\n\n * è§£ç»äºä»¶ jQueryå¯¹è±¡.off(äºä»¶åç§°) å¦æä¸æå®äºä»¶åç§°,åä¼å°æ­¤å¯¹è±¡ææäºä»¶é½è§£ç»\n\n# äºä»¶åæ¢\n\néè¦ç»åä¸ä¸ªå¯¹è±¡ç»å®å¤ä¸ªäºä»¶,å¹¶ä¸å¤ä¸ªäºä»¶æååé¡ºåºå³ç³»\n\n * åç¬å®ä¹\n   $(åç´ ).äºä»¶æ¹æ³å1(åè½) $(åç´ ).äºä»¶æ¹æ³å2(åè½)\n * é¾å¼å®ä¹ $(åç´ ).äºä»¶æ¹æ³å1(åè½).äºä»¶æ¹æ³å2(åè½)\n\n\n# éå\n\n * forå¾ªç¯\n\n * å¯¹è±¡.each(function(index,ele)) æ¹æ³ indexä¸ºç´¢å¼ eleä¸ºåç´ \n\n * $.each(å®¹å¨å¯¹è±¡,function(index,ele){}) æ¹æ³ å $(åç´ ) è·åå®¹å¨å¯¹è±¡åä½¿ç¨\n\n * for(ele of å®¹å¨å¯¹è±¡){} æ¹æ³ å¢å¼ºfor å $(åç´ ) è·åå®¹å¨å¯¹è±¡åä½¿ç¨\n\n\n# éæ©å¨\n\n * åºæ¬éæ©å¨\n   \n   * $("åç´ åç§°") æ ¹æ®åç´ è·ååç´ å¯¹è±¡æ°ç»\n   * $("#idçå±æ§å¼") æ ¹æ®idè·ååç´ å¯¹è±¡\n   * $(".classçå±æ§å¼") æ ¹æ®classè·ååç´ å¯¹è±¡æ°ç»\n\n * å±çº§éæ©å¨\n   \n   * $("A B") åä»£éæ©å¨ Aåç´ ä¸é¢ææçBåç´  (åå«Bçå­åç´ )\n   * $("A > B") å­ä»£éæ©å¨ Aä¸çææB (ä¸åå«Bçå­çº§)\n   * $("A + B") åå¼éæ©å¨ Aä¸ç¸é»æè¿çB\n   * $("A ~ B") åå¼éæ©å¨ Aç¸é»çææB\n\n * å±æ§éæ©å¨\n   \n   * $("A[å±æ§å]") å±æ§éæ©å¨ æ ¹æ®æå®å±æ§åè·ååç´ å¯¹è±¡æ°ç»\n   * $("A[å±æ§å]=å±æ§å¼") æ ¹æ®æå®å±æ§ååå¼è·ååç´ æ°ç»\n\n * è¿æ»¤å¨éæ©å¨\n   \n   * \n\n * è¡¨åå±æ§éæ©å¨\n   \n   * $("A:enabled") è·åå¯ç¨åç´ \n   * $("A:disable") è·åä¸å¯ç¨åç´ \n   * $("A:checked") è·ååé/å¤éæ¡è¢«éä¸­çåç´ \n   * $("A:selected") è·åä¸ææ¡éä¸­çåç´ \n\n\n# DOM\n\n# æä½ææ¬\n\n * html() è·åæ ç­¾çææ¬\n * html(value) è®¾ç½®æ ç­¾çææ¬åå®¹, è§£ææ ç­¾\n\n# æä½å¯¹è±¡\n\n * $("åç´ ") åå»ºæå®åç´  å¦ä¸å­å¨ååå»º å¦å­å¨æ¯è·ååç´ \n   \n   * let span = $("<span>ææ¬</span>")\n     \n     \n     1\n     \n\n * append(element) æ·»å ä¸ºæåä¸ä¸ªå­åç´  æ·»å å¯¹è±¡ä¸º element\n\n * appendTo(element) æ·»å ä¸ºæåä¸ä¸ªå­åç´  æ·»å å¯¹è±¡ä¸º è°ç¨å¯¹è±¡\n\n * prepend(element) æ·»å ä¸ºç¬¬ä¸ä¸ªå­åç´  æ·»å å¯¹è±¡ä¸º element\n\n * prependTo(element) æ·»å ä¸ºç¬¬ä¸ä¸ªå­åç´  æ·»å å¯¹è±¡ä¸º è°ç¨å¯¹è±¡\n\n * before(element) æ·»å å°å½ååç´ çåé¢ ç±æ·»å å¯¹è±¡è°ç¨ åå¼å³ç³»\n\n * after(element) æ·»å å°å½ååç´ çåé¢ åå¼å³ç³»\n\n * remove() å é¤æå®åç´  å¯èªå·±å èªå·±\n\n * empty() æ¸ç©ºæå®åç´ çææå­åç´  ä½è°ç¨å¯¹è±¡è¿æ¯å­å¨ç\n\n# æä½æ ·å¼\n\n * css(name) æ ¹æ®æ ·å¼åç§°è·åcssæ ·å¼\n * css(name,value) è®¾ç½®cssæ ·å¼\n * addClass(value) æ·»å ç±»å\n * removeClass(value) ç§»é¤ç±»å\n * toggleClass(value) å¦æ²¡ææå®ç±»ååæ·»å  å¦æåå é¤\n * hide() éèåç´ \n * show() æ¾ç¤ºåç´ \n\n# æä½å±æ§\n\n * attr(name,[value]) è·å/è®¾ç½®å±æ§çå¼ å¦åªä¼ nameåä¸ºè·å\n * prop(name,[value]) è·å/è®¾ç½®å±æ§çå¼(checked,selected)\n\n\n# BOM\n\n * $(function(){}) é¡µé¢å è½½äºä»¶\n   \n   * $(windows) è·åå½åçªå£å¯¹è±¡\n     \n     * scroll() é¼ æ æ»å¨äºä»¶\n     * height() å½åçªå£çé«åº¦\n     * scrollTop() æ»å¨æ¡ä¸ä¸æ»å¨çè·ç¦»\n\n * $(document).height() å½åææ¡£çé«åº¦\n\n\n\n\n# AJAX\n\nAJAX(Asynchronous JavaScript And XML) å¼æ­¥çJavaScriptåXML æ¯å¤ä¸ªææ¯ç»¼å ç¨äºå¿«éåå»ºå¨æç½é¡µçææ¯\n\n\n# JSå®ç°AJAX\n\n//åå»º XMLHttpRequestæ ¸å¿å¯¹è±¡\nlet xmlHttp = new XMLHttpRequest()\n\n//æå¼é¾æ¥     è¯·æ±æ¹å¼   url        æ¯å¦å¼æ­¥\nxmlHttp.open(\'GET\', \'userServlet\', true)\n\n//åéè¯·æ±\nxmlHttp.send()\n\n//å¤çååº\nxmlHttp.onreadystatechange = function(){\n    if(xmlHttp.readyState === 4 && xmlHttp.status === 200){\n        //å¤æ­è¯·æ±åååºæ¯å¦æå\n    }\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n\n * XMLHttpRequest æ ¸å¿å¯¹è±¡ ç¨äºå¨åå°åæå¡å¨äº¤æ¢æ°æ® å¯ä»¥å¨ä¸éæ°å è½½æ´ä¸ªç½é¡µçæåµä¸,å¯¹ç½é¡µçæé¨åè¿è¡æ´æ°\n   * open(method,url,async) æå¼é¾æ¥\n     * method è¯·æ±çç±»å GETæèPOST\n     * url è¯·æ±èµæºçè·¯å¾\n     * async trueä¸ºå¼æ­¥ falseä¸ºåæ­¥\n   * send(String params) åéè¯·æ±\n     * params è¯·æ±çåæ°(POSTè¯·æ±ä¸ç¨)\n   * onreadystatechange å¤çååº\n   * readyState\n     * 0 -è¯·æ±æªåå§å 1-æå¡å¨è¿æ¥å·²å»ºç« 2-è¯·æ±å·²æ¥å 3-è¯·æ±å¤çä¸­ 4-è¯·æ±å·²å®æ,ä¸ååºå·²ç»å°±ç»ª\n   * status\n     * 200-ååºå·²ç»å¨é¨OK\n   * responseText è·åå­ç¬¦ä¸²å½¢å¼çååºæ°æ®\n   * responseXML è·åXMLå½¢å¼çååºæ°æ®\n\n\n# jQuery å®ç°AJAX\n\n# GETæ¹å¼\n\n * $.get(url,[data],[callback],[type])\n   * url è¯·æ±çèµæºè·¯å¾\n   * data åéç»æå¡å¨ç«¯çè¯·æ±åæ° å¯ä»¥æ¯é®å¼å¯¹ æ jså¯¹è±¡\n   * callback å½è¯·æ±æååçåè°å½æ° ä¸è¬åé»è¾ä»£ç \n   * type é¢æçè¿åæ°æ®çç±»å xml,html,js,json,textç­\n\n    $(\'#username\').blur(function () {\n      $.get(\n        \'url\',\n        \'username=\' + username,\n        function (data) {\n                        //dataä¸ºæå¡ç«¯ä¼ åæ¥çæ°æ®\n          document.write(data)\n        },\n        \'text\'\n      )\n    })\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n\n\n\n# POST æ¹æ³\n\n * $.post(url,[data],[callback],[type])\n   * url è¯·æ±çèµæºè·¯å¾\n   * data åéç»æå¡å¨ç«¯çè¯·æ±åæ° å¯ä»¥æ¯é®å¼å¯¹ æ jså¯¹è±¡\n   * callback å½è¯·æ±æååçåè°å½æ° ä¸è¬åé»è¾ä»£ç \n   * type é¢æçè¿åæ°æ®çç±»å xml,html,js,json,textç­\n\n\n# éç¨æ¹å¼\n\n * $.ajax({name:value,name:value,...})\n   * url è¯·æ±çèµæºè·¯å¾\n   * async æ¯å¦å¼æ­¥è¯·æ± é»è®¤ä¸ºtureå¼æ­¥\n   * data åéå°æå¡å¨çæ°æ®\n   * type è¯·æ±æ¹å¼ postæget é»è®¤ä¸ºget\n   * dataType è¿åæ°æ®çç±»å\n   * success è¯·æ±æåçåè°å½æ°\n   * error è¯·æ±å¤±è´¥æ¶çåè°å½æ°\n\n$.ajax({\n  url: \'urlå°å\',\n  async: true,\n  data: \'username=\' + username,\n  type: \'get\',\n  dataType: \'text\',\n  success: function (data) {\n    print(data)\n  },\n  error: function () {\n    console.error()\n  },\n})\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n',normalizedContent:'# javascript\n\njavascript æ¯ecmascript+bom+dom\n\necmascript:å®¢æ·ç«¯èæ¬è¯­è¨çæ å èæ¬è¯­è¨:ä¸éè¦ç¼è¯,å°±å¯ä»¥è¢«æµè§å¨è§£æè§£ææ§è¡\n\n\n# å¼å¥æ¹å¼\n\n * å¨htmlåé¨ ç±<script>æ ç­¾å¼å¥\n * å¤é¨å¼å¥ ç±<script src="jsè·¯å¾">æ ç­¾å¼å¥\n\n\n# æ³¨é\n\n * åè¡æ³¨é // åå®¹\n * å¤è¡æ³¨é /* åå®¹ */\n\n\n# è¾å¥è¾åºè¯­å¥\n\n * è¾å¥æ¡ prompt("æç¤ºåå®¹")\n * å¼¹åºè­¦åæ¡ alert("æç¤ºåå®¹")\n * æ§å¶å°è¾åº console.log("æ¾ç¤ºåå®¹")\n * é¡µé¢åå®¹è¾åº document.write("æ¾ç¤ºåå®¹")\n * å¼¹åºç¡®è®¤æ¡ ç¡®è®¤è¿ture åæ¶è¿false confirm("æç¤ºåå®¹")\n\n\n# åéåå¸¸é\n\njavascriptå±äºå¼±ç±»åè¯­è¨,å®ä¹åéæ¶ä¸åºåå·ä½çæ°æ®ç±»å\n\n * å®ä¹å±é¨åé let åéå = å¼\n * å®ä¹å¨å±åé åéå = å¼\n * å®ä¹å¸¸é const å¸¸éå = å¼\n\n\n# åå§æ°æ®ç±»å\n\n * boolean å¸å°ç±»å\n * null å£°ænullå¼çç¹æ®å³é®å­\n * undefined ä»£è¡¨åéæªå®ä¹\n * numbner æ´æ°æèæµ®ç¹æ°\n * string å­ç¬¦ä¸²\n * bigint å¤§æ´æ° å¦: let num =10n\n\n\n# typeof æ¹æ³\n\ntpyeof() ç¨äºå¤æ­åéçæ°æ®ç±»å\n\n\n# ç®æ°è¿ç®ç¬¦\n\n\n\n\n\nä¸javaæ²¡æå¤ªå¤§å·®å« å¤ä¸ªå¨ç­äº ===\n\nå­ç¬¦ä¸² å + è¿ç®æ¶ é½æ¯æ¼æ¥\n\nèä¸æ°å­å - * % ç­è¿ç®æ¶ä¼èªå¨è½¬æ¢ç±»å\n\n\n# æµç¨æ§å¶åå¾ªç¯è¯­å¥\n\n * ifè¯­å¥\n * switchè¯­å¥\n * forå¾ªç¯\n * whileå¾ªç¯ ä¸javaé½å·®ä¸å¤\n\n\n# æ°ç»\n\nä¸javaæ°ç»åºæ¬ä¸è´ , ä½æ°ç»ç±»ååé¿åº¦é½æ²¡æéå¶\n\n * let æ°ç»å =[åç´ 1 , åç´ 2, ...]\n * ç´¢å¼ ä»0å¼å§ æå¤§å°æ°ç»é¿åº¦-1 æ²¡æç´¢å¼è¶ç èä¸é¿åº¦æ²¡æéå¶ å¯ä»¥ç´æ¥è¶çèµå¼\n * æ°ç»é¿åº¦ æ°ç»å.length\n * æ°ç»é«çº§è¿ç®ç¬¦ ...\n   * æ°ç»å¤å¶ let arr2=[...arr]\n   * åå¹¶æ°ç» let arr4 =[...arr2,...arr3]\n   * å­ç¬¦ä¸²è½¬æ°ç» let arr5=[..."hello"]\n\n\n# å½æ°\n\nç±»ä¼¼äºæ¹æ³\n\n * function æ¹æ³å(åæ°) { return è¿åå¼}\n * å¯ååæ° function æ¹æ³å(...åæ°å) { return è¿åå¼}\n * å¿åå½æ° function(åæ°åè¡¨) {æ¹æ³ä½ }\n\n\n# dom\n\ndom(document object model) ææ¡£å¯¹è±¡æ¨¡å\n\nå°html ææ¡£çåä¸ªç»ææ¹æ³ , å°è£æå¯¹è±¡ . åå©è¿äºä¸è¥¿,å¯ä»¥å¯¹htmlææ¡£è¿è¡å¢å æ¹æ¥çå¨ææä½\n\n\n\n * document ææ¡£å¯¹è±¡\n * element åç´ å¯¹è±¡\n * attribute å±æ§å¯¹è±¡\n * text ææ¬å¯¹è±¡\n\n\n# element åç´ æä½\n\n# è·ååç´ \n\n * getelmentbyid(idå±æ§å¼) æ ¹æ®idè·åä¸ä¸ªåç´ \n * getelmentbytagname(æ ç­¾åç§°) æ ç­¾æ ç­¾åç§°è·åå¤ä¸ªåç´ \n * getelmentbyname(nameå±æ§å¼) æ ¹æ®nameå±æ§è·åå¤ä¸ªåç´ \n * getelmentbyclassname(classå±æ§å¼) æ ¹æ®classå±æ§è·åå¤ä¸ªåç´ \n * å­åç´ å¯¹è±¡.parentelemnetå±æ§ è·åå½ååç´ çç¶åç´ \n\n# æä½åç´ \n\n * createelemnt(æ ç­¾å) åå»ºä¸ä¸ªæ ç­¾ åå»ºåéè¦éåæ·»å ä½¿ç¨\n * appendchild(å­åç´ å¯¹è±¡) å°æå®å­åç´ æ·»å å°ç¶åç´ ä¸­\n * removechild(å­åç´ å¯¹è±¡) ç¨ç¶åç´ å é¤æå®å­åç´ \n * replacechild(æ°åç´ å¯¹è±¡,æ§åç´ å¯¹è±¡) ç¨æ°åç´ æ¿æ¢æ§åç´ \n\n\n# attribute å±æ§çæä½\n\n * setattribute(å±æ§å,å±æ§å¼) è®¾ç½®å±æ§\n * getattribute(å±æ§å) æ ¹æ®å±æ§åè·åå±æ§å¼\n * removeattribute(å±æ§å) æ ¹æ®ç­éåç§»é¤æå®çå±æ§\n * styleå±æ§ ä¸ºåç´ æ·»å æ ·å¼ å¦: div.style.color = "red"\n * classnameå±æ§ æ·»å æå®æ ·å¼ (å¶å®æ¯ä¸ºåç´ æ·»å classå±æ§) å¦: div.classname = "div"\n\n\n# text ææ¬æä½\n\n * innertext åªæ·»å ææ¬åå®¹,ä¸è§£ææ ç­¾\n * innerhtml æ·»å ææ¬åå®¹,å¹¶è§£ææ ç­¾ å¦<a> è§£æä¸ºæ ç­¾èä¸æ¯ææ¬\n\n\n# äºä»¶\n\näºä»¶æå½æäºç»ä»¶æ§è¡äºæäºæä½å,ä¼è§¦åæäºä»£ç çæ§è¡\n\n * onload æä¸ªé¡µé¢æèå¾åè¢«å®æå è½½\n * onsubmit å½è¡¨åæäº¤æ¶è§¦å\n * onclick é¼ æ ç¹å»äºä»¶\n * ondblclick é¼ æ åå»åå»\n * onblur åç´ å¤±å»ç¦ç¹\n * onfocus åç´ è·å¾ç¦ç¹\n * onchange ç¨æ·æ¹ååçåå®¹\n\n----------------------------------------\n\n * onkeydown æä¸ªé®ççé®è¢«æä¸\n * onkeypress æä¸ªé®ççé®è¢«æä¸æèæä½\n * onkeyup æä¸ªé®ççé®è¢«æ¾å¼\n * onmouserdown æä¸ªé¼ æ æé®è¢«æä¸\n * onmouseup æä¸ªé¼ æ æé®è¢«æ¾å¼\n * onmouseover é¼ æ è¢«ç§»å°æåç´ ä¹ä¸\n * onmouserout é¼ æ ä»æåç´ ç§»å¼\n\n\n# ç»å®äºä»¶\n\n * éè¿æ ç­¾ä¸­äºä»¶å±æ§ç»å®\n   \n   * <button id="up" onclick="up()"></button>\n     \n     \n     1\n     \n\n * éè¿domåç´ å±æ§ç»å®\n   \n   * document.getelementbyid("down").onclick = function(){\n             let img =  document.getelementbyid("img")\n             img.setattribute("src","../../åä¼è´­/img/arrow-prev.png")\n         }\n     \n     \n     1\n     2\n     3\n     4\n     \n\n\n# é¢åå¯¹è±¡\n\n\n# å®ä¹åä½¿ç¨\n\nclass ç±»å{\n    //æé æ¹æ³\n    constructor(åéåè¡¨){\n        åéèµå¼\n    }\n\n    æ¹æ³å(åæ°åè¡¨){\n        æ¹æ³ä½\n        return è¿åå¼\n    }\n}\n\n//ä½¿ç¨\nlet å¯¹è±¡å = new ç±»å(å®éåéå¼)\nå¯¹è±¡å.æ¹æ³å()\n\n\nclass person {\n  constructor(name, age) {\n    this.name = name\n    this.age = age\n  }\n\n  show(){\n    document.write(this.name + " " + this.age)\n  }\n}\n\nlet p = new person("zz",19)\np.show()\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n26\n27\n28\n29\n30\n\n\n\n# ç»§æ¿\n\nextendså³é®å­ é¡¶çº§ç¶ç±» object\n\nclass worker extends person {\n  constructor(name, age, salary) {\n    super(name, age)\n    this.salary = salary\n  }\n\n  show() {\n    document.write(this.name + \' \' + this.age + \' \' + this.salary)\n  }\n}\n\nlet w =new worker("qq",22,33)\nw.show()\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n\n\n\n# åç½®å¯¹è±¡\n\n * number\n   * parsefloat() å°ä¼ å¥çå­ç¬¦ä¸²æµ®ç¹æ°è½¬ä¸ºæµ®ç¹æ°\n   * parseint() å°ä¼ å¥çå­ç¬¦ä¸²æ´æ°è½¬ä¸ºæ´æ° ä»å·¦å°å³è½¬å ä¸ç´è½¬æ¢å°æéæ°å­å­ç¬¦åæ­¢ å¦200a13bc åè½¬ä¸º200 åé¢çå¿½ç¥\n * math\n   * ceil(x) åä¸åæ´\n   * floor(x) åä¸åæ´\n   * round(x) åèäºå¥ææ¥è¿çæ´æ°\n   * random() éæºæ°è¿å [0.0 , 1.0) ä¹é´çæ°\n   * pow(x,y) å¹è¿ç®xçyæ¬¡æ¹\n * date\n   * date() æ ¹æ®å½åæ¶é´åå»ºå¯¹è±¡\n   * date(value) æ ¹æ®æå®æ¯«ç§å¼åå»ºå¯¹è±¡\n   * date(year,month,[day,hours,minutes,seconds,milliseconds])\n     * getfullyear() è·åå¹´\n     * getmonth() è·åæ ä»0-11\n     * getdate() è·åå¤©\n     * gethours() è·åå°æ¶\n     * getminutes() è·åç§\n     * gettime() è¿åæ¶é´æ³ 1970å¹´1æ1æ¥å°nowçæ¯«ç§æ°\n     * tolocalestring() è¿åæ¬å°æ¥ææ ¼å¼çå­ç¬¦ä¸²\n * string\n   * string(value) æ ¹æ®æå®å­ç¬¦ä¸²åå»ºå¯¹è±¡\n   * let s = "å­ç¬¦ä¸²" èµå¼\n     * lengthå±æ§ é¿åº¦\n     * charat(index) è·åæå®ç´¢å¼çå­ç¬¦\n     * indexof(value) æ¥æ¾æå®å­ç¬¦çç´¢å¼ æ²¡æä¸º-1\n     * substring(start,end) æªåå­ç¬¦ä¸² (å«å¤´ä¸å«å°¾)\n     * split(value) åå²å­ç¬¦ä¸² è¿åæ°ç»\n     * replace(old,new) å­ç¬¦ä¸²æ¿æ¢\n * regexp æ­£åè¡¨è¾¾å¼\n   * regexp(è§å) æ ¹æ®è§ååå»ºå¯¹è±¡\n   * let reg = /^è§å$/ èµå¼\n     * test(å¹éçå­ç¬¦ä¸²) æ ¹æ®æå®è§åéªè¯å­ç¬¦ä¸²æ¯å¦ç¬¦å è¿åå¸å°å¼\n   * \n * array\n   * push(åç´ ) æ·»å åç´ å°æ«å°¾\n   * pop() å é¤æ«å°¾çåç´ \n   * shift() å é¤æ°ç»æåé¢çåç´ \n   * includes(åç´ ) å¤æ­æ°ç»æ¯å¦åå«æ­¤åç´ \n   * reverse() åè½¬æ°ç»\n   * sort() æåºæ°ç»\n * set åç´ å¯ä¸ å­åé¡ºåºä¸è´\n   * set() åå»ºsetå¯¹è±¡\n     * add(åç´ ) æ·»å åç´ \n     * sizeé¡ºåº è·åé¿åº¦\n     * keys() è·åè¿­ä»£å¨å¯¹è±¡\n       * next().value è·åè¿­ä»£å¨åç´ \n     * delete(åç´ ) å é¤æå®åç´ \n * map å­åé¡ºåºä¸è´\n   * map() åå»ºmapå¯¹è±¡\n     * set(key,value) æ·»å åç´ \n     * sizeå±æ§ è·åé¿åº¦\n     * get(key) æ ¹æ®keyè·åvalue\n     * entries() è·åè¿­ä»£å¨å¯¹è±¡\n       * next().value è·åè¿­ä»£å¨åç´  é®å¼å¯¹\n     * delete(key) æ ¹æ®keyå é¤é®å¼å¯¹\n * json(javascript object notation)\n   * stringify(å¯¹è±¡) å°æå®å¯¹è±¡è½¬ä¸ºjsonå­ç¬¦ä¸²\n   * parse(å­ç¬¦ä¸²) å°jsonå­ç¬¦ä¸² è½¬ä¸ºjså¯¹è±¡\n * decodeuricomponent(string s) å°urlå­ç¬¦è½¬ä¸ºutf-8\n\n\n# bom\n\nbom(browser object model) æµè§å¨å¯¹è±¡æ¨¡å å°æµè§å¨çåä¸ªç»æé¨åå°è£æä¸åçå¯¹è±¡\n\n * windows çªå£å¯¹è±¡\n   \n   * å®æ¶å¨\n     * settimeout(åè½,æ¯«ç§å¼) è®¾ç½®ä¸æ¬¡æ§å®æ¶å¨ è¿åä¸ä¸ªå¯ä¸æ è¯\n     * cleartimeout(æ è¯) åæ¶ä¸æ¬¡æ§å®æ¶å¨\n     * setinterval(åè½,æ¯«ç§å¼) è®¾ç½®å¾ªç¯å®æ¶å¨ è¿åä¸ä¸ªå¯ä¸æ è¯\n     * clearinterval(æ è¯) åæ¶å¾ªç¯å®æ¶å¨\n   * å è½½äºä»¶\n     * window.onload å¨é¡µé¢å è½½å®æ¯åè§¦åæ­¤äºä»¶\n\n * location å°åæ å¯¹è±¡\n   \n   * hrefå±æ§ è®¾ç½®æ°çurl ä½¿æµè§å¨è¯»åå¹¶æ¾ç¤ºæ°çurl\n\n * history åå²è®°å½å¯¹è±¡\n\n * navigator æµè§å¨å¯¹è±¡\n\n * screen æ¾ç¤ºå¨å±å¹å¯¹è±¡\n\n\n# jquery\n\n\n# jqueryå¯¹è±¡\n\n * $(jsç dom å¯¹è±¡) jså¯¹è±¡åjqueryå¯¹è±¡è½¬æ¢\n * jquery å¯¹è±¡[ç´¢å¼] jqueryå¯¹è±¡è½¬ä¸ºjså¯¹è±¡\n * jquery å¯¹è±¡.get(ç´¢å¼) jqueryå¯¹è±¡è½¬ä¸ºjså¯¹è±¡\n\n\n# äºä»¶\n\n * å»æjsä¸­.onçè¯­å¥ å¦: onclick ===> click jqueryå¯¹è±¡.click(åè½)\n\n * ç»å®äºä»¶ jqueryå¯¹è±¡.on(äºä»¶åç§°,æ§è¡çåè½)\n\n * è§£ç»äºä»¶ jqueryå¯¹è±¡.off(äºä»¶åç§°) å¦æä¸æå®äºä»¶åç§°,åä¼å°æ­¤å¯¹è±¡ææäºä»¶é½è§£ç»\n\n# äºä»¶åæ¢\n\néè¦ç»åä¸ä¸ªå¯¹è±¡ç»å®å¤ä¸ªäºä»¶,å¹¶ä¸å¤ä¸ªäºä»¶æååé¡ºåºå³ç³»\n\n * åç¬å®ä¹\n   $(åç´ ).äºä»¶æ¹æ³å1(åè½) $(åç´ ).äºä»¶æ¹æ³å2(åè½)\n * é¾å¼å®ä¹ $(åç´ ).äºä»¶æ¹æ³å1(åè½).äºä»¶æ¹æ³å2(åè½)\n\n\n# éå\n\n * forå¾ªç¯\n\n * å¯¹è±¡.each(function(index,ele)) æ¹æ³ indexä¸ºç´¢å¼ eleä¸ºåç´ \n\n * $.each(å®¹å¨å¯¹è±¡,function(index,ele){}) æ¹æ³ å $(åç´ ) è·åå®¹å¨å¯¹è±¡åä½¿ç¨\n\n * for(ele of å®¹å¨å¯¹è±¡){} æ¹æ³ å¢å¼ºfor å $(åç´ ) è·åå®¹å¨å¯¹è±¡åä½¿ç¨\n\n\n# éæ©å¨\n\n * åºæ¬éæ©å¨\n   \n   * $("åç´ åç§°") æ ¹æ®åç´ è·ååç´ å¯¹è±¡æ°ç»\n   * $("#idçå±æ§å¼") æ ¹æ®idè·ååç´ å¯¹è±¡\n   * $(".classçå±æ§å¼") æ ¹æ®classè·ååç´ å¯¹è±¡æ°ç»\n\n * å±çº§éæ©å¨\n   \n   * $("a b") åä»£éæ©å¨ aåç´ ä¸é¢ææçbåç´  (åå«bçå­åç´ )\n   * $("a > b") å­ä»£éæ©å¨ aä¸çææb (ä¸åå«bçå­çº§)\n   * $("a + b") åå¼éæ©å¨ aä¸ç¸é»æè¿çb\n   * $("a ~ b") åå¼éæ©å¨ aç¸é»çææb\n\n * å±æ§éæ©å¨\n   \n   * $("a[å±æ§å]") å±æ§éæ©å¨ æ ¹æ®æå®å±æ§åè·ååç´ å¯¹è±¡æ°ç»\n   * $("a[å±æ§å]=å±æ§å¼") æ ¹æ®æå®å±æ§ååå¼è·ååç´ æ°ç»\n\n * è¿æ»¤å¨éæ©å¨\n   \n   * \n\n * è¡¨åå±æ§éæ©å¨\n   \n   * $("a:enabled") è·åå¯ç¨åç´ \n   * $("a:disable") è·åä¸å¯ç¨åç´ \n   * $("a:checked") è·ååé/å¤éæ¡è¢«éä¸­çåç´ \n   * $("a:selected") è·åä¸ææ¡éä¸­çåç´ \n\n\n# dom\n\n# æä½ææ¬\n\n * html() è·åæ ç­¾çææ¬\n * html(value) è®¾ç½®æ ç­¾çææ¬åå®¹, è§£ææ ç­¾\n\n# æä½å¯¹è±¡\n\n * $("åç´ ") åå»ºæå®åç´  å¦ä¸å­å¨ååå»º å¦å­å¨æ¯è·ååç´ \n   \n   * let span = $("<span>ææ¬</span>")\n     \n     \n     1\n     \n\n * append(element) æ·»å ä¸ºæåä¸ä¸ªå­åç´  æ·»å å¯¹è±¡ä¸º element\n\n * appendto(element) æ·»å ä¸ºæåä¸ä¸ªå­åç´  æ·»å å¯¹è±¡ä¸º è°ç¨å¯¹è±¡\n\n * prepend(element) æ·»å ä¸ºç¬¬ä¸ä¸ªå­åç´  æ·»å å¯¹è±¡ä¸º element\n\n * prependto(element) æ·»å ä¸ºç¬¬ä¸ä¸ªå­åç´  æ·»å å¯¹è±¡ä¸º è°ç¨å¯¹è±¡\n\n * before(element) æ·»å å°å½ååç´ çåé¢ ç±æ·»å å¯¹è±¡è°ç¨ åå¼å³ç³»\n\n * after(element) æ·»å å°å½ååç´ çåé¢ åå¼å³ç³»\n\n * remove() å é¤æå®åç´  å¯èªå·±å èªå·±\n\n * empty() æ¸ç©ºæå®åç´ çææå­åç´  ä½è°ç¨å¯¹è±¡è¿æ¯å­å¨ç\n\n# æä½æ ·å¼\n\n * css(name) æ ¹æ®æ ·å¼åç§°è·åcssæ ·å¼\n * css(name,value) è®¾ç½®cssæ ·å¼\n * addclass(value) æ·»å ç±»å\n * removeclass(value) ç§»é¤ç±»å\n * toggleclass(value) å¦æ²¡ææå®ç±»ååæ·»å  å¦æåå é¤\n * hide() éèåç´ \n * show() æ¾ç¤ºåç´ \n\n# æä½å±æ§\n\n * attr(name,[value]) è·å/è®¾ç½®å±æ§çå¼ å¦åªä¼ nameåä¸ºè·å\n * prop(name,[value]) è·å/è®¾ç½®å±æ§çå¼(checked,selected)\n\n\n# bom\n\n * $(function(){}) é¡µé¢å è½½äºä»¶\n   \n   * $(windows) è·åå½åçªå£å¯¹è±¡\n     \n     * scroll() é¼ æ æ»å¨äºä»¶\n     * height() å½åçªå£çé«åº¦\n     * scrolltop() æ»å¨æ¡ä¸ä¸æ»å¨çè·ç¦»\n\n * $(document).height() å½åææ¡£çé«åº¦\n\n\n\n\n# ajax\n\najax(asynchronous javascript and xml) å¼æ­¥çjavascriptåxml æ¯å¤ä¸ªææ¯ç»¼å ç¨äºå¿«éåå»ºå¨æç½é¡µçææ¯\n\n\n# jså®ç°ajax\n\n//åå»º xmlhttprequestæ ¸å¿å¯¹è±¡\nlet xmlhttp = new xmlhttprequest()\n\n//æå¼é¾æ¥     è¯·æ±æ¹å¼   url        æ¯å¦å¼æ­¥\nxmlhttp.open(\'get\', \'userservlet\', true)\n\n//åéè¯·æ±\nxmlhttp.send()\n\n//å¤çååº\nxmlhttp.onreadystatechange = function(){\n    if(xmlhttp.readystate === 4 && xmlhttp.status === 200){\n        //å¤æ­è¯·æ±åååºæ¯å¦æå\n    }\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n\n * xmlhttprequest æ ¸å¿å¯¹è±¡ ç¨äºå¨åå°åæå¡å¨äº¤æ¢æ°æ® å¯ä»¥å¨ä¸éæ°å è½½æ´ä¸ªç½é¡µçæåµä¸,å¯¹ç½é¡µçæé¨åè¿è¡æ´æ°\n   * open(method,url,async) æå¼é¾æ¥\n     * method è¯·æ±çç±»å getæèpost\n     * url è¯·æ±èµæºçè·¯å¾\n     * async trueä¸ºå¼æ­¥ falseä¸ºåæ­¥\n   * send(string params) åéè¯·æ±\n     * params è¯·æ±çåæ°(postè¯·æ±ä¸ç¨)\n   * onreadystatechange å¤çååº\n   * readystate\n     * 0 -è¯·æ±æªåå§å 1-æå¡å¨è¿æ¥å·²å»ºç« 2-è¯·æ±å·²æ¥å 3-è¯·æ±å¤çä¸­ 4-è¯·æ±å·²å®æ,ä¸ååºå·²ç»å°±ç»ª\n   * status\n     * 200-ååºå·²ç»å¨é¨ok\n   * responsetext è·åå­ç¬¦ä¸²å½¢å¼çååºæ°æ®\n   * responsexml è·åxmlå½¢å¼çååºæ°æ®\n\n\n# jquery å®ç°ajax\n\n# getæ¹å¼\n\n * $.get(url,[data],[callback],[type])\n   * url è¯·æ±çèµæºè·¯å¾\n   * data åéç»æå¡å¨ç«¯çè¯·æ±åæ° å¯ä»¥æ¯é®å¼å¯¹ æ jså¯¹è±¡\n   * callback å½è¯·æ±æååçåè°å½æ° ä¸è¬åé»è¾ä»£ç \n   * type é¢æçè¿åæ°æ®çç±»å xml,html,js,json,textç­\n\n    $(\'#username\').blur(function () {\n      $.get(\n        \'url\',\n        \'username=\' + username,\n        function (data) {\n                        //dataä¸ºæå¡ç«¯ä¼ åæ¥çæ°æ®\n          document.write(data)\n        },\n        \'text\'\n      )\n    })\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n\n\n\n# post æ¹æ³\n\n * $.post(url,[data],[callback],[type])\n   * url è¯·æ±çèµæºè·¯å¾\n   * data åéç»æå¡å¨ç«¯çè¯·æ±åæ° å¯ä»¥æ¯é®å¼å¯¹ æ jså¯¹è±¡\n   * callback å½è¯·æ±æååçåè°å½æ° ä¸è¬åé»è¾ä»£ç \n   * type é¢æçè¿åæ°æ®çç±»å xml,html,js,json,textç­\n\n\n# éç¨æ¹å¼\n\n * $.ajax({name:value,name:value,...})\n   * url è¯·æ±çèµæºè·¯å¾\n   * async æ¯å¦å¼æ­¥è¯·æ± é»è®¤ä¸ºtureå¼æ­¥\n   * data åéå°æå¡å¨çæ°æ®\n   * type è¯·æ±æ¹å¼ postæget é»è®¤ä¸ºget\n   * datatype è¿åæ°æ®çç±»å\n   * success è¯·æ±æåçåè°å½æ°\n   * error è¯·æ±å¤±è´¥æ¶çåè°å½æ°\n\n$.ajax({\n  url: \'urlå°å\',\n  async: true,\n  data: \'username=\' + username,\n  type: \'get\',\n  datatype: \'text\',\n  success: function (data) {\n    print(data)\n  },\n  error: function () {\n    console.error()\n  },\n})\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n',charsets:{cjk:!0}},{title:"å®è£Vue CLI",frontmatter:{title:"å®è£Vue CLI",date:"2022-03-18T00:55:10.000Z",permalink:"/pages/758bea/",categories:["åç«¯","Vue2"],tags:[null]},regularPath:"/%E5%89%8D%E7%AB%AF/02.Vue2/01.%E5%AE%89%E8%A3%85Vue%20CLI.html",relativePath:"åç«¯/02.Vue2/01.å®è£Vue CLI.md",key:"v-64afecb3",path:"/pages/758bea/",headers:[{level:2,title:"åå»ºVue CLI é¡¹ç®",slug:"åå»ºvue-cli-é¡¹ç®",normalizedTitle:"åå»ºvue cli é¡¹ç®",charIndex:72},{level:2,title:"å¯å¨Vue CLIé¡¹ç®",slug:"å¯å¨vue-clié¡¹ç®",normalizedTitle:"å¯å¨vue clié¡¹ç®",charIndex:124},{level:2,title:"å®è£ Element",slug:"å®è£-element",normalizedTitle:"å®è£ element",charIndex:169}],headersStr:"åå»ºVue CLI é¡¹ç® å¯å¨Vue CLIé¡¹ç® å®è£ Element",content:"# å®è£Vue CLI\n\nnpm install -g @vue/cli\n\n\n1\n\n\næ¥ççæ¬\n\nvue --version\n\n\n1\n\n\n\n# åå»ºVue CLI é¡¹ç®\n\nè¿å¥å°è¦æ¾å¨é¡¹ç®çæä»¶å¤¹\n\nvue create é¡¹ç®å\n\n\n1\n\n\n\n# å¯å¨Vue CLIé¡¹ç®\n\nè¿å¥é¡¹ç®æä»¶å¤¹\n\nnpm run serve\n\n\n1\n\n\n\n# å®è£ Element\n\nç¨cmdæå¼é¡¹ç®æä»¶å¤¹ä¸­å®è£\n\nnpm i element-ui -S\n\n\n1\n",normalizedContent:"# å®è£vue cli\n\nnpm install -g @vue/cli\n\n\n1\n\n\næ¥ççæ¬\n\nvue --version\n\n\n1\n\n\n\n# åå»ºvue cli é¡¹ç®\n\nè¿å¥å°è¦æ¾å¨é¡¹ç®çæä»¶å¤¹\n\nvue create é¡¹ç®å\n\n\n1\n\n\n\n# å¯å¨vue clié¡¹ç®\n\nè¿å¥é¡¹ç®æä»¶å¤¹\n\nnpm run serve\n\n\n1\n\n\n\n# å®è£ element\n\nç¨cmdæå¼é¡¹ç®æä»¶å¤¹ä¸­å®è£\n\nnpm i element-ui -s\n\n\n1\n",charsets:{cjk:!0},lastUpdated:"2022/03/18, 07:01:11",lastUpdatedTimestamp:1647558071e3},{title:"Elment",frontmatter:{title:"Elment",date:"2022-03-18T00:55:10.000Z",permalink:"/pages/cb74f3/",categories:["åç«¯","Vue2"],tags:[null]},regularPath:"/%E5%89%8D%E7%AB%AF/02.Vue2/03.Elment.html",relativePath:"åç«¯/02.Vue2/03.Elment.md",key:"v-97656b46",path:"/pages/cb74f3/",headers:[{level:2,title:"è¡¨åéªè¯",slug:"è¡¨åéªè¯",normalizedTitle:"è¡¨åéªè¯",charIndex:13},{level:2,title:"ç»è¡¨åæ·»å éªè¯å±æ§",slug:"ç»è¡¨åæ·»å éªè¯å±æ§",normalizedTitle:"ç»è¡¨åæ·»å éªè¯å±æ§",charIndex:22},{level:2,title:"éªè¯è§å",slug:"éªè¯è§å",normalizedTitle:"éªè¯è§å",charIndex:87},{level:2,title:"triggeréªè¯æ¶æº",slug:"triggeréªè¯æ¶æº",normalizedTitle:"triggeréªè¯æ¶æº",charIndex:702},{level:2,title:"æå¨è§¦åéªè¯è¡¨å",slug:"æå¨è§¦åéªè¯è¡¨å",normalizedTitle:"æå¨è§¦åéªè¯è¡¨å",charIndex:759},{level:2,title:"èªå®ä¹å®ä¹è§å",slug:"èªå®ä¹å®ä¹è§å",normalizedTitle:"èªå®ä¹å®ä¹è§å",charIndex:1110}],headersStr:"è¡¨åéªè¯ ç»è¡¨åæ·»å éªè¯å±æ§ éªè¯è§å triggeréªè¯æ¶æº æå¨è§¦åéªè¯è¡¨å èªå®ä¹å®ä¹è§å",content:"# Elment\n\n\n# è¡¨åéªè¯\n\n\n# ç»è¡¨åæ·»å éªè¯å±æ§\n\n:rules å®ä¹å¼å§è¡¨åéªè¯ å¦: :rules=\"formRules\"\n\néè¦ç»å®vueä¸­çdataæ°æ®éªè¯è§å,å¹¶ä¸formè¡¨åå¿é¡»è¦æ:modelç»å®å¼\n\néªè¯å­åç´ ç»å®ä¸ºå­åç´ çpropåç§°\n\n 1. å¿é¡»ç» el-from ç»ä»¶ç»å® model ä¸ºè¡¨åæ°æ®å¯¹è±¡\n 2. ç»æ ¡å­éªè¯çè¡¨åé¡¹ el-form-item ç»å® prop å±æ§ éè¦èªå®ä¹åç§°\n 3. éè¿ el-from ç»ä»¶ç rules å±æ§éç½®éªè¯è§å\n\n\n# éªè¯è§å\n\néªè¯è§åéç½®å¸¸ç¨çæä»¥ä¸å ä¸ª\n\n * required å¿é¡»ç ä¸è½ä¸ºç©º\n\n * pattern æ­£åè¡¨è¾¾å¼ ^ä»¥ä»ä¹å¼å¤´ç $ä»¥ä»ä¹ç»å°¾ç \\d{n}å¤å°ä½æ°å­ å¦:/^1[3|5|7|8|9]\\d{9}$/ ä»¥1å¼å¤´ ç¬¬äºä½ä¸º2ã5ã7ã8ã9ç 9ä½é¿åº¦ ä»¥ç©ºä¸ºç»å°¾ç\n   \n   { pattern: /^1[3|5|7|8|9]\\d{9}$/, message: 'è¯·è¾å¥æ­£ç¡®çå·ç æ ¼å¼', trigger: 'change' }\n   \n   // $ä»¥ä»ä¹ç»æ   å¦:ä»¥abcç»æ   abc$  æè [abc]$\n   \n   \n   1\n   2\n   3\n   \n\n * range ä½¿ç¨minåmaxå®ä¹èå´ å¦: { min: 6, max: 6, message: 'è¯·è¾å¥æ­£ç¡®çéªè¯ç æ ¼å¼', trigger: 'blur' } è¿ä¸ªæ¯è¾ç¹æ®ä¸ç¨æå®typeç±»å\n\n * validator èªå®ä¹ å¦:validator:èªå®ä¹å½æ°å\n\n\n\n\n# triggeréªè¯æ¶æº\n\n * blur å½è¾å¥æ¡å¤±å»ç¦ç¹æ¶éªè¯\n * change å½è¾å¥æ¡æ¹ååéªè¯\n\n\n# æå¨è§¦åéªè¯è¡¨å\n\n 1. ç»el-form è®¾ç½® ref èµ·åå­\n 2. éè¿ ref è·å el-form ç»ç»,è°ç¨ç»ä»¶çvalidateè¿è¡éªè¯\n\n this.$refs.loginForm.validate((valid, err) => {\n        // è¿åä¸¤ä¸ªåæ°  valid ä¸ä¸ªå¸å°å¼æ¯å¦éè¿éªè¯   err éªè¯çå·ä½éç½®\n        // æä»¥æä»¬å¯ä»¥éè¿è¿åçå¸å°å¼æ¥å¤æ­è¡¨åæ¯å¦éè¿éªè¯\n        if (!valid) {\n          return  //ä¸éè¿è¿å\n        }\n     //éè¿è°ç¨apiæ¥å£éªè¯ç¨æ·ä¿¡æ¯\n        this.login()\n      })\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n\n\n\n# èªå®ä¹å®ä¹è§å\n\n{\n          validator: (rule, value, callback) => {\n          // å®ä¹éªè¯è§å  ruleä¸ºè¡¨åçè¯¦ç»ä¿¡æ¯  valueä¸ºå¸å°\n          // éªè¯éè¿: callback()   éªè¯å¤±è´¥:callback(new Error('èªå®ä¹éè¯¯æ¶æ¯æç¤º'))\n            // console.log(value)\n            if (value) {\n              callback()\n            } else {\n              callback(new Error('è¯·åæç¨æ·åè®®'))\n            }\n          },\n          trigger: 'change'\n        }\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n",normalizedContent:"# elment\n\n\n# è¡¨åéªè¯\n\n\n# ç»è¡¨åæ·»å éªè¯å±æ§\n\n:rules å®ä¹å¼å§è¡¨åéªè¯ å¦: :rules=\"formrules\"\n\néè¦ç»å®vueä¸­çdataæ°æ®éªè¯è§å,å¹¶ä¸formè¡¨åå¿é¡»è¦æ:modelç»å®å¼\n\néªè¯å­åç´ ç»å®ä¸ºå­åç´ çpropåç§°\n\n 1. å¿é¡»ç» el-from ç»ä»¶ç»å® model ä¸ºè¡¨åæ°æ®å¯¹è±¡\n 2. ç»æ ¡å­éªè¯çè¡¨åé¡¹ el-form-item ç»å® prop å±æ§ éè¦èªå®ä¹åç§°\n 3. éè¿ el-from ç»ä»¶ç rules å±æ§éç½®éªè¯è§å\n\n\n# éªè¯è§å\n\néªè¯è§åéç½®å¸¸ç¨çæä»¥ä¸å ä¸ª\n\n * required å¿é¡»ç ä¸è½ä¸ºç©º\n\n * pattern æ­£åè¡¨è¾¾å¼ ^ä»¥ä»ä¹å¼å¤´ç $ä»¥ä»ä¹ç»å°¾ç \\d{n}å¤å°ä½æ°å­ å¦:/^1[3|5|7|8|9]\\d{9}$/ ä»¥1å¼å¤´ ç¬¬äºä½ä¸º2ã5ã7ã8ã9ç 9ä½é¿åº¦ ä»¥ç©ºä¸ºç»å°¾ç\n   \n   { pattern: /^1[3|5|7|8|9]\\d{9}$/, message: 'è¯·è¾å¥æ­£ç¡®çå·ç æ ¼å¼', trigger: 'change' }\n   \n   // $ä»¥ä»ä¹ç»æ   å¦:ä»¥abcç»æ   abc$  æè [abc]$\n   \n   \n   1\n   2\n   3\n   \n\n * range ä½¿ç¨minåmaxå®ä¹èå´ å¦: { min: 6, max: 6, message: 'è¯·è¾å¥æ­£ç¡®çéªè¯ç æ ¼å¼', trigger: 'blur' } è¿ä¸ªæ¯è¾ç¹æ®ä¸ç¨æå®typeç±»å\n\n * validator èªå®ä¹ å¦:validator:èªå®ä¹å½æ°å\n\n\n\n\n# triggeréªè¯æ¶æº\n\n * blur å½è¾å¥æ¡å¤±å»ç¦ç¹æ¶éªè¯\n * change å½è¾å¥æ¡æ¹ååéªè¯\n\n\n# æå¨è§¦åéªè¯è¡¨å\n\n 1. ç»el-form è®¾ç½® ref èµ·åå­\n 2. éè¿ ref è·å el-form ç»ç»,è°ç¨ç»ä»¶çvalidateè¿è¡éªè¯\n\n this.$refs.loginform.validate((valid, err) => {\n        // è¿åä¸¤ä¸ªåæ°  valid ä¸ä¸ªå¸å°å¼æ¯å¦éè¿éªè¯   err éªè¯çå·ä½éç½®\n        // æä»¥æä»¬å¯ä»¥éè¿è¿åçå¸å°å¼æ¥å¤æ­è¡¨åæ¯å¦éè¿éªè¯\n        if (!valid) {\n          return  //ä¸éè¿è¿å\n        }\n     //éè¿è°ç¨apiæ¥å£éªè¯ç¨æ·ä¿¡æ¯\n        this.login()\n      })\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n\n\n\n# èªå®ä¹å®ä¹è§å\n\n{\n          validator: (rule, value, callback) => {\n          // å®ä¹éªè¯è§å  ruleä¸ºè¡¨åçè¯¦ç»ä¿¡æ¯  valueä¸ºå¸å°\n          // éªè¯éè¿: callback()   éªè¯å¤±è´¥:callback(new error('èªå®ä¹éè¯¯æ¶æ¯æç¤º'))\n            // console.log(value)\n            if (value) {\n              callback()\n            } else {\n              callback(new error('è¯·åæç¨æ·åè®®'))\n            }\n          },\n          trigger: 'change'\n        }\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n",charsets:{cjk:!0},lastUpdated:"2022/03/18, 07:01:11",lastUpdatedTimestamp:1647558071e3},{title:"Axios",frontmatter:{title:"Axios",date:"2022-03-18T00:55:10.000Z",permalink:"/pages/e17f8f/",categories:["åç«¯","Vue2"],tags:[null]},regularPath:"/%E5%89%8D%E7%AB%AF/02.Vue2/04.Axios.html",relativePath:"åç«¯/02.Vue2/04.Axios.md",key:"v-128ad24a",path:"/pages/e17f8f/",headers:[{level:2,title:"å®è£ axios",slug:"å®è£-axios",normalizedTitle:"å®è£ axios",charIndex:12},{level:2,title:"å°è£è¯·æ±æ¨¡å",slug:"å°è£è¯·æ±æ¨¡å",normalizedTitle:"å°è£è¯·æ±æ¨¡å",charIndex:66},{level:2,title:"è§£å³axiosä¸­è½¬æjså¯¹è±¡åintè¶åºèå´",slug:"è§£å³axiosä¸­è½¬æjså¯¹è±¡åintè¶åºèå´",normalizedTitle:"è§£å³axiosä¸­è½¬æjså¯¹è±¡åintè¶åºèå´",charIndex:670},{level:2,title:"å¸¸è§çaxioséç½®",slug:"å¸¸è§çaxioséç½®",normalizedTitle:"å¸¸è§çaxioséç½®",charIndex:1185}],headersStr:"å®è£ axios å°è£è¯·æ±æ¨¡å è§£å³axiosä¸­è½¬æjså¯¹è±¡åintè¶åºèå´ å¸¸è§çaxioséç½®",content:"# Axios\n\n\n# å®è£ axios\n\nåæ ·å¨é¡¹ç®æä»¶å¤¹ä¸­ç¨nodeå®è£axios\n\nnpm i axios\n\n\n1\n\n\n\n# å°è£è¯·æ±æ¨¡å\n\nä¸ºäºæ¹ä¾¿,æä»¬æaxiosåç¬å°è£ä¸ä¸ªæ¨¡åç¨äºé¡¹ç®ä¸­è¯·æ±æä½\n\n// åºäº axios å°è£çè¯·æ±æ¨¡å\nimport axios from 'axios'\n\n// åå»ºä¸ä¸ªaxioså®ä¾  æä»¬éè¿è¿ä¸ªå®ä¾å»ç½è¯·æ±,æéè¦çéç½®éç½®åç»è¿ä¸ªå®ä¾æ¥å¤ç\nconst request = axios.create({\n  baseURL: 'http://api-toutiao-web.itheima.net' // è¯·æ±çåºæ¬è·¯å¾ åç¼\n})\n\n// å¯¼åºè¯·æ±æ¹æ³\nexport default request\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n\n\nå¨å¤é¨è°ç¨\n\n//å¯¼å¥æ¨¡å\nimport requset from '@/utils/request'\n\n//å®ä¹æ¹æ³\n requset({\n        method: 'è¯·æ±æ¹å¼',\n        url: 'è¯·æ±å°ååç¼',\n        data: 'ä¼ å¥åæ°'\n      }).then(res => {\n     //æåæ¶è¿åç»æ\n        console.log(res)\n      }).catch(err => {\n     //å¤±è´¥ç»æ\n        console.log(err)\n      })\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n\n\n\n# è§£å³axiosä¸­è½¬æjså¯¹è±¡åintè¶åºèå´\n\næä»¬æ¥å£è¿åçæç« æ°æ®id æ¯jsonå­ç¬¦ä¸² axiosé»è®¤å°jsonå­ç¬¦ä¸²è½¬æjså¯¹è±¡æ¥æ¹ä¾¿ä½¿ç¨,ä½æ¯è½¬äºä¹å idè¶åºäºjsä¸­çintèå´å¼åçäºæ¹å\n\næä»¬å¯ä»¥ä½¿ç¨json-bigintä¸ä¸ªåæ¥è§£å³è¿ä¸ªé®é¢\n\n# å®è£\nnpm install json-bigint\n\n\n1\n2\n\n\n# parse å°jsonå­ç¬¦ä¸²è½¬ä¸ºjson-bigintç±»å\n\nå°jsonå­ç¬¦ä¸²è½¬ä¸ºjson-bigintç±»å\n\nconst str = '{'id':12354564698748972134}'\n// è½¬æ¢\nJSONbig.parse(str)\n\n//è¯»åå¹¶è½¬ä¸ºå­ç¬¦ä¸²\nJSONbig.parse(str).id.toString()\n\n\n1\n2\n3\n4\n5\n6\n\n\n# stringfy æjson-bigintç±»åè½¬åjså¯¹è±¡\n\næjson-bigintç±»åè½¬åjså¯¹è±¡\n\nconst data = JSONbig.parse('{'id':12354564698748972134}')\n\n// è½¬æ¢\nJSONbig.stringifly(data)\n\n\n1\n2\n3\n4\n\n\n\n# å¸¸è§çaxioséç½®\n\naxios({\n    method:'æ¹æ³',\n    path:'url',\n    \n    headers: {\n    'åå­' : 'å¼'\n},\n    data : {\n        'åå­' : 'å¼'\n    },\n    parms : {\n        'åå­' : 'å¼'\n    }\n})\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n\n * method:æ¹æ³\n   * GET ä¸è¬ç¨äºæ¥è¯¢\n   * POST ä¸è¬ç¨äºæ·»å \n   * PUT ä¸è¬ç¨äºä¿®æ¹,å®æ´æ¿æ¢\n   * DELETE ä¸è¬ç¨äºå é¤\n   * PATCH ä¸è¬ç¨äºä¿®æ¹,å±é¨ä¿®æ¹\n * path:è¯·æ±è·¯å¾\n * è¿åç¶æç \n   * 200 ok\n   * 400 è¯·æ±åæ°éè¯¯\n   * 403 ç¨æ·éè®¤è¯,æ æéç»é\n   * 507 æå¡å¨æ°æ®åºå¼å¸¸\n * è¯·æ±åæ°\n   * è¯·æ±å¤´ Headers : ä½¿ç¨ headers: { å: å¼ }\n   * æ¥è¯¢åæ° Query : ä½¿ç¨ parms: { } Queryåæ°axiosä¼è½¬æä¸º key=value&key=value çæ°æ®æ ¼å¼ä»¥ ? åå² url åé¢ä¼ éç»æ¥å£\n   * è¯·æ±ä½ Body : axioos éè¿ data : { }\n   * è·¯å¾åæ° : è¯·æ±è·¯ç±ä¸­ç åå·: xxx è¡¨ç¤ºè·¯å¾åæ°,ä½¿ç¨æ¶æ:xxxæ¿æ¢æ,å¦: url/:xxx ä¼ 123åå°±å url/123 å­é¢ææä¸æ¼æ¥urlè·¯å¾",normalizedContent:"# axios\n\n\n# å®è£ axios\n\nåæ ·å¨é¡¹ç®æä»¶å¤¹ä¸­ç¨nodeå®è£axios\n\nnpm i axios\n\n\n1\n\n\n\n# å°è£è¯·æ±æ¨¡å\n\nä¸ºäºæ¹ä¾¿,æä»¬æaxiosåç¬å°è£ä¸ä¸ªæ¨¡åç¨äºé¡¹ç®ä¸­è¯·æ±æä½\n\n// åºäº axios å°è£çè¯·æ±æ¨¡å\nimport axios from 'axios'\n\n// åå»ºä¸ä¸ªaxioså®ä¾  æä»¬éè¿è¿ä¸ªå®ä¾å»ç½è¯·æ±,æéè¦çéç½®éç½®åç»è¿ä¸ªå®ä¾æ¥å¤ç\nconst request = axios.create({\n  baseurl: 'http://api-toutiao-web.itheima.net' // è¯·æ±çåºæ¬è·¯å¾ åç¼\n})\n\n// å¯¼åºè¯·æ±æ¹æ³\nexport default request\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n\n\nå¨å¤é¨è°ç¨\n\n//å¯¼å¥æ¨¡å\nimport requset from '@/utils/request'\n\n//å®ä¹æ¹æ³\n requset({\n        method: 'è¯·æ±æ¹å¼',\n        url: 'è¯·æ±å°ååç¼',\n        data: 'ä¼ å¥åæ°'\n      }).then(res => {\n     //æåæ¶è¿åç»æ\n        console.log(res)\n      }).catch(err => {\n     //å¤±è´¥ç»æ\n        console.log(err)\n      })\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n\n\n\n# è§£å³axiosä¸­è½¬æjså¯¹è±¡åintè¶åºèå´\n\næä»¬æ¥å£è¿åçæç« æ°æ®id æ¯jsonå­ç¬¦ä¸² axiosé»è®¤å°jsonå­ç¬¦ä¸²è½¬æjså¯¹è±¡æ¥æ¹ä¾¿ä½¿ç¨,ä½æ¯è½¬äºä¹å idè¶åºäºjsä¸­çintèå´å¼åçäºæ¹å\n\næä»¬å¯ä»¥ä½¿ç¨json-bigintä¸ä¸ªåæ¥è§£å³è¿ä¸ªé®é¢\n\n# å®è£\nnpm install json-bigint\n\n\n1\n2\n\n\n# parse å°jsonå­ç¬¦ä¸²è½¬ä¸ºjson-bigintç±»å\n\nå°jsonå­ç¬¦ä¸²è½¬ä¸ºjson-bigintç±»å\n\nconst str = '{'id':12354564698748972134}'\n// è½¬æ¢\njsonbig.parse(str)\n\n//è¯»åå¹¶è½¬ä¸ºå­ç¬¦ä¸²\njsonbig.parse(str).id.tostring()\n\n\n1\n2\n3\n4\n5\n6\n\n\n# stringfy æjson-bigintç±»åè½¬åjså¯¹è±¡\n\næjson-bigintç±»åè½¬åjså¯¹è±¡\n\nconst data = jsonbig.parse('{'id':12354564698748972134}')\n\n// è½¬æ¢\njsonbig.stringifly(data)\n\n\n1\n2\n3\n4\n\n\n\n# å¸¸è§çaxioséç½®\n\naxios({\n    method:'æ¹æ³',\n    path:'url',\n    \n    headers: {\n    'åå­' : 'å¼'\n},\n    data : {\n        'åå­' : 'å¼'\n    },\n    parms : {\n        'åå­' : 'å¼'\n    }\n})\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n\n * method:æ¹æ³\n   * get ä¸è¬ç¨äºæ¥è¯¢\n   * post ä¸è¬ç¨äºæ·»å \n   * put ä¸è¬ç¨äºä¿®æ¹,å®æ´æ¿æ¢\n   * delete ä¸è¬ç¨äºå é¤\n   * patch ä¸è¬ç¨äºä¿®æ¹,å±é¨ä¿®æ¹\n * path:è¯·æ±è·¯å¾\n * è¿åç¶æç \n   * 200 ok\n   * 400 è¯·æ±åæ°éè¯¯\n   * 403 ç¨æ·éè®¤è¯,æ æéç»é\n   * 507 æå¡å¨æ°æ®åºå¼å¸¸\n * è¯·æ±åæ°\n   * è¯·æ±å¤´ headers : ä½¿ç¨ headers: { å: å¼ }\n   * æ¥è¯¢åæ° query : ä½¿ç¨ parms: { } queryåæ°axiosä¼è½¬æä¸º key=value&key=value çæ°æ®æ ¼å¼ä»¥ ? åå² url åé¢ä¼ éç»æ¥å£\n   * è¯·æ±ä½ body : axioos éè¿ data : { }\n   * è·¯å¾åæ° : è¯·æ±è·¯ç±ä¸­ç åå·: xxx è¡¨ç¤ºè·¯å¾åæ°,ä½¿ç¨æ¶æ:xxxæ¿æ¢æ,å¦: url/:xxx ä¼ 123åå°±å url/123 å­é¢ææä¸æ¼æ¥urlè·¯å¾",charsets:{cjk:!0},lastUpdated:"2022/03/18, 07:01:11",lastUpdatedTimestamp:1647558071e3},{title:"å¨Vue CLIä¸­å¯¼å¥ Elment",frontmatter:{title:"å¨Vue CLIä¸­å¯¼å¥ Elment",date:"2022-03-18T00:55:10.000Z",permalink:"/pages/3b8d98/",categories:["åç«¯","Vue2"],tags:[null]},regularPath:"/%E5%89%8D%E7%AB%AF/02.Vue2/02.%E5%9C%A8Vue%20CLI%E4%B8%AD%E5%AF%BC%E5%85%A5%20Elment.html",relativePath:"åç«¯/02.Vue2/02.å¨Vue CLIä¸­å¯¼å¥ Elment.md",key:"v-7e57676a",path:"/pages/3b8d98/",headersStr:null,content:"# å¨Vue CLIä¸­å¯¼å¥ Elment\n\nå¨Vueé¡¹ç®ä¸­çmain.jsä¸­å å¥\n\nimport ElementUI from 'element-ui';\nimport 'element-ui/lib/theme-chalk/index.css';\n\nVue.use(ElementUI);\n\n\n\n1\n2\n3\n4\n5\n",normalizedContent:"# å¨vue cliä¸­å¯¼å¥ elment\n\nå¨vueé¡¹ç®ä¸­çmain.jsä¸­å å¥\n\nimport elementui from 'element-ui';\nimport 'element-ui/lib/theme-chalk/index.css';\n\nvue.use(elementui);\n\n\n\n1\n2\n3\n4\n5\n",charsets:{cjk:!0},lastUpdated:"2022/03/18, 07:01:11",lastUpdatedTimestamp:1647558071e3},{title:"github æ¨é",frontmatter:{title:"github æ¨é",date:"2022-03-18T00:55:10.000Z",permalink:"/pages/56d54a/",categories:["åç«¯","Vue2"],tags:[null]},regularPath:"/%E5%89%8D%E7%AB%AF/02.Vue2/06.github%20%E6%8E%A8%E9%80%81.html",relativePath:"åç«¯/02.Vue2/06.github æ¨é.md",key:"v-c9e2e0d2",path:"/pages/56d54a/",headersStr:null,content:"# github æ¨é\n\n# åå§åæ¬åº\ngit init\n\n# ææä»¶æ·»å å°æå­åº\ngit add æä»¶å¤¹(.ä¸ºå½åæå¼çç®å½)\n\n# ææå­åºçæä»¶æäº¤å°æ¬å°åº\ngit commit -m 'first commit'\n\n# æ·»å è¿ç¨åºèµ·å«å\ngit remote add å«å githubåºè¿æ¥\n\n# æ¨éå°è¿ç¨åº\ngit push -u å«å master(åæ¯å)\n\n# è®°ä½æ¬æ¬¡æ¨éçéç½® ä¸ä¸æ¬¡å¯ä»¥ç´æ¥ git push\ngit push -u å«å åæ¯\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n",normalizedContent:"# github æ¨é\n\n# åå§åæ¬åº\ngit init\n\n# ææä»¶æ·»å å°æå­åº\ngit add æä»¶å¤¹(.ä¸ºå½åæå¼çç®å½)\n\n# ææå­åºçæä»¶æäº¤å°æ¬å°åº\ngit commit -m 'first commit'\n\n# æ·»å è¿ç¨åºèµ·å«å\ngit remote add å«å githubåºè¿æ¥\n\n# æ¨éå°è¿ç¨åº\ngit push -u å«å master(åæ¯å)\n\n# è®°ä½æ¬æ¬¡æ¨éçéç½® ä¸ä¸æ¬¡å¯ä»¥ç´æ¥ git push\ngit push -u å«å åæ¯\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n",charsets:{cjk:!0},lastUpdated:"2022/03/18, 07:01:11",lastUpdatedTimestamp:1647558071e3},{title:"éç½®Vueè·¯ç±",frontmatter:{title:"éç½®Vueè·¯ç±",date:"2022-03-18T00:55:10.000Z",permalink:"/pages/efa853/",categories:["åç«¯","Vue2"],tags:[null]},regularPath:"/%E5%89%8D%E7%AB%AF/02.Vue2/05.%E9%85%8D%E7%BD%AEVue%E8%B7%AF%E7%94%B1.html",relativePath:"åç«¯/02.Vue2/05.éç½®Vueè·¯ç±.md",key:"v-68e1016a",path:"/pages/efa853/",headersStr:null,content:"# éç½®Vueè·¯ç±\n\n1.åå®ä¹ä¸ä¸ªæ°çé¡µé¢\n\n<template>\n  <div class=\"login-container\">\n      <h2>ç»éé¡µé¢</h2>\n    <router-view/>\n  </div>\n</template>\n<script>\nexport default {\n  name: 'LoginIndex',\n  data () {\n    return {\n      num: 1\n    }\n  }\n}\n<\/script>\n\n<style lang=\"less\"></style>\n\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n\n\n2.å¨routerçindex.jsä¸­ å¼ç¨ å¹¶éç½®\n\nimport Login from '@/views/login'   //å¼ç¨é¡µé¢æä»¶\n//@ å¨vue cliä¸­è¡¨ç¤ºsrcä¸­çæä»¶  æ³¨æè¦@åé¢å ææ \n\n//å¨routesæ°ç»ä¸­æ·»å è·¯ç±å¨å°å åå­ åä»¶\nconst routes = [{\n  path: '/login',\n  name: 'login',\n  component: Login\n}\n]\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n\n 3. æå¨è·³è½¬è®¿é®æµè¯",normalizedContent:"# éç½®vueè·¯ç±\n\n1.åå®ä¹ä¸ä¸ªæ°çé¡µé¢\n\n<template>\n  <div class=\"login-container\">\n      <h2>ç»éé¡µé¢</h2>\n    <router-view/>\n  </div>\n</template>\n<script>\nexport default {\n  name: 'loginindex',\n  data () {\n    return {\n      num: 1\n    }\n  }\n}\n<\/script>\n\n<style lang=\"less\"></style>\n\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n\n\n2.å¨routerçindex.jsä¸­ å¼ç¨ å¹¶éç½®\n\nimport login from '@/views/login'   //å¼ç¨é¡µé¢æä»¶\n//@ å¨vue cliä¸­è¡¨ç¤ºsrcä¸­çæä»¶  æ³¨æè¦@åé¢å ææ \n\n//å¨routesæ°ç»ä¸­æ·»å è·¯ç±å¨å°å åå­ åä»¶\nconst routes = [{\n  path: '/login',\n  name: 'login',\n  component: login\n}\n]\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n\n 3. æå¨è·³è½¬è®¿é®æµè¯",charsets:{cjk:!0},lastUpdated:"2022/03/18, 07:01:11",lastUpdatedTimestamp:1647558071e3},{title:"å®è£ elment-tiptap",frontmatter:{title:"å®è£ elment-tiptap",date:"2022-03-18T00:55:10.000Z",permalink:"/pages/93608e/",categories:["åç«¯","Vue2"],tags:[null]},regularPath:"/%E5%89%8D%E7%AB%AF/02.Vue2/07.%E5%AE%89%E8%A3%85%20elment-tiptap.html",relativePath:"åç«¯/02.Vue2/07.å®è£ elment-tiptap.md",key:"v-3e34a8f6",path:"/pages/93608e/",headers:[{level:2,title:"å¨å±å¼ç¨",slug:"å¨å±å¼ç¨",normalizedTitle:"å¨å±å¼ç¨",charIndex:132},{level:2,title:"å±é¨å¼ç¨",slug:"å±é¨å¼ç¨",normalizedTitle:"å±é¨å¼ç¨",charIndex:1470}],headersStr:"å¨å±å¼ç¨ å±é¨å¼ç¨",content:"# å®è£ elment-tiptap\n\nnpm install --save element-tiptap\n\n\n1\n\n\nhttps://github.com/Leecason/element-tiptap/blob/master/README_ZH.md\n\n\n# å¨å±å¼ç¨\n\nimport { ElementTiptapPlugin } from 'element-tiptap';\nimport 'element-tiptap/lib/index.css';\n\n\nVue.use(ElementTiptapPlugin, {\n  lang: \"zh\", // è§ i18n   å¿é¡»è®¾ç½®langå¦åæ¥é\n  spellcheck: true, // å¯è¢« editor åå prop éå\n});\n// ç°å¨ä½ å·²ç»å¨å¨å±æ³¨åäº `el-tiptap` ç»ä»¶ã\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n\n\n<template>\n  <div>\n    <el-tiptap\n      v-model=\"content\"\n      :extensions=\"extensions\"\n    />\n  </div>\n</template>\n\n<script>\nimport {\n  // éè¦ç extensions\n  Doc,\n  Text,\n  Paragraph,\n  Heading,\n  Bold,\n  Underline,\n  Italic,\n  Strike,\n  ListItem,\n  BulletList,\n  OrderedList,\n} from 'element-tiptap';\n\nexport default {\n  data () {\n    // ç¼è¾å¨ç extensions\n    // å®ä»¬å°ä¼æç§ä½ å£°æçé¡ºåºè¢«æ·»å å°èåæ åæ°æ³¡èåä¸­\n    return {\n      extensions: [\n        new Doc(),\n        new Text(),\n        new Paragraph(),\n        new Heading({ level: 5 }),\n        new Bold({ bubble: true }), // å¨æ°æ³¡èåä¸­æ¸²æèåæé®\n        new Underline({ bubble: true, menubar: false }), // å¨æ°æ³¡èåèä¸å¨èåæ ä¸­æ¸²æèåæé®\n        new Italic(),\n        new Strike(),\n        new ListItem(),\n        new BulletList(),\n        new OrderedList(),\n      ],\n      // ç¼è¾å¨çåå®¹\n      content: `\n        <h1>Heading</h1>\n        <p>This Editor is awesome!</p>\n      `,\n    };\n  },\n},\n<\/script>\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n26\n27\n28\n29\n30\n31\n32\n33\n34\n35\n36\n37\n38\n39\n40\n41\n42\n43\n44\n45\n46\n47\n48\n49\n50\n51\n52\n\n\n\n# å±é¨å¼ç¨\n\n<template>\n  <div>\n    <el-tiptap\n      v-model=\"content\"\n      :extensions=\"extensions\"\n\t\t lang: 'zh',\n    />\n  </div>\n</template>\n\n<script>\nimport {\n  // éè¦ç extensions\n  ElementTiptap ,\n  Doc,\n  Text,\n  Paragraph,\n  Heading,\n  Bold,\n  Underline,\n  Italic,\n  Strike,\n  ListItem,\n  BulletList,\n  OrderedList,\n} from 'element-tiptap';\nimport 'element-tiptap/lib/index.css';\n\nexport default {\n  data () {\n    // ç¼è¾å¨ç extensions\n    // å®ä»¬å°ä¼æç§ä½ å£°æçé¡ºåºè¢«æ·»å å°èåæ åæ°æ³¡èåä¸­\n    return {\n      extensions: [\n        new Doc(),\n        new Text(),\n        new Paragraph(),\n        new Heading({ level: 5 }),\n        new Bold({ bubble: true }), // å¨æ°æ³¡èåä¸­æ¸²æèåæé®\n        new Underline({ bubble: true, menubar: false }), // å¨æ°æ³¡èåèä¸å¨èåæ ä¸­æ¸²æèåæé®\n        new Italic(),\n        new Strike(),\n        new ListItem(),\n        new BulletList(),\n        new OrderedList(),\n      ],\n      // ç¼è¾å¨çåå®¹\n      content: `\n        <h1>Heading</h1>\n        <p>This Editor is awesome!</p>\n      `,\n    };\n  },\n},\n<\/script>\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n26\n27\n28\n29\n30\n31\n32\n33\n34\n35\n36\n37\n38\n39\n40\n41\n42\n43\n44\n45\n46\n47\n48\n49\n50\n51\n52\n53\n54\n55\n",normalizedContent:"# å®è£ elment-tiptap\n\nnpm install --save element-tiptap\n\n\n1\n\n\nhttps://github.com/leecason/element-tiptap/blob/master/readme_zh.md\n\n\n# å¨å±å¼ç¨\n\nimport { elementtiptapplugin } from 'element-tiptap';\nimport 'element-tiptap/lib/index.css';\n\n\nvue.use(elementtiptapplugin, {\n  lang: \"zh\", // è§ i18n   å¿é¡»è®¾ç½®langå¦åæ¥é\n  spellcheck: true, // å¯è¢« editor åå prop éå\n});\n// ç°å¨ä½ å·²ç»å¨å¨å±æ³¨åäº `el-tiptap` ç»ä»¶ã\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n\n\n<template>\n  <div>\n    <el-tiptap\n      v-model=\"content\"\n      :extensions=\"extensions\"\n    />\n  </div>\n</template>\n\n<script>\nimport {\n  // éè¦ç extensions\n  doc,\n  text,\n  paragraph,\n  heading,\n  bold,\n  underline,\n  italic,\n  strike,\n  listitem,\n  bulletlist,\n  orderedlist,\n} from 'element-tiptap';\n\nexport default {\n  data () {\n    // ç¼è¾å¨ç extensions\n    // å®ä»¬å°ä¼æç§ä½ å£°æçé¡ºåºè¢«æ·»å å°èåæ åæ°æ³¡èåä¸­\n    return {\n      extensions: [\n        new doc(),\n        new text(),\n        new paragraph(),\n        new heading({ level: 5 }),\n        new bold({ bubble: true }), // å¨æ°æ³¡èåä¸­æ¸²æèåæé®\n        new underline({ bubble: true, menubar: false }), // å¨æ°æ³¡èåèä¸å¨èåæ ä¸­æ¸²æèåæé®\n        new italic(),\n        new strike(),\n        new listitem(),\n        new bulletlist(),\n        new orderedlist(),\n      ],\n      // ç¼è¾å¨çåå®¹\n      content: `\n        <h1>heading</h1>\n        <p>this editor is awesome!</p>\n      `,\n    };\n  },\n},\n<\/script>\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n26\n27\n28\n29\n30\n31\n32\n33\n34\n35\n36\n37\n38\n39\n40\n41\n42\n43\n44\n45\n46\n47\n48\n49\n50\n51\n52\n\n\n\n# å±é¨å¼ç¨\n\n<template>\n  <div>\n    <el-tiptap\n      v-model=\"content\"\n      :extensions=\"extensions\"\n\t\t lang: 'zh',\n    />\n  </div>\n</template>\n\n<script>\nimport {\n  // éè¦ç extensions\n  elementtiptap ,\n  doc,\n  text,\n  paragraph,\n  heading,\n  bold,\n  underline,\n  italic,\n  strike,\n  listitem,\n  bulletlist,\n  orderedlist,\n} from 'element-tiptap';\nimport 'element-tiptap/lib/index.css';\n\nexport default {\n  data () {\n    // ç¼è¾å¨ç extensions\n    // å®ä»¬å°ä¼æç§ä½ å£°æçé¡ºåºè¢«æ·»å å°èåæ åæ°æ³¡èåä¸­\n    return {\n      extensions: [\n        new doc(),\n        new text(),\n        new paragraph(),\n        new heading({ level: 5 }),\n        new bold({ bubble: true }), // å¨æ°æ³¡èåä¸­æ¸²æèåæé®\n        new underline({ bubble: true, menubar: false }), // å¨æ°æ³¡èåèä¸å¨èåæ ä¸­æ¸²æèåæé®\n        new italic(),\n        new strike(),\n        new listitem(),\n        new bulletlist(),\n        new orderedlist(),\n      ],\n      // ç¼è¾å¨çåå®¹\n      content: `\n        <h1>heading</h1>\n        <p>this editor is awesome!</p>\n      `,\n    };\n  },\n},\n<\/script>\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n26\n27\n28\n29\n30\n31\n32\n33\n34\n35\n36\n37\n38\n39\n40\n41\n42\n43\n44\n45\n46\n47\n48\n49\n50\n51\n52\n53\n54\n55\n",charsets:{cjk:!0},lastUpdated:"2022/03/18, 07:01:11",lastUpdatedTimestamp:1647558071e3},{title:"è®©ä¸¤ä¸ªç»ä»¶ä¹é´éè®¯",frontmatter:{title:"è®©ä¸¤ä¸ªç»ä»¶ä¹é´éè®¯",date:"2022-03-18T00:55:10.000Z",permalink:"/pages/e5e482/",categories:["åç«¯","Vue2"],tags:[null]},regularPath:"/%E5%89%8D%E7%AB%AF/02.Vue2/09.%E8%AE%A9%E4%B8%A4%E4%B8%AA%E7%BB%84%E4%BB%B6%E4%B9%8B%E9%97%B4%E9%80%9A%E8%AE%AF.html",relativePath:"åç«¯/02.Vue2/09.è®©ä¸¤ä¸ªç»ä»¶ä¹é´éè®¯.md",key:"v-0b21a7f6",path:"/pages/e5e482/",headersStr:null,content:"# è®©ä¸¤ä¸ªç»ä»¶ä¹é´éè®¯\n\n// å¨å±éä¿¡æ»çº¿\n// å¯ä»¥è®©ä»»ä½ç»ä»¶ä¹é´ç¸äºéä¿¡\n\nimport Vue from 'vue'\n\nexport default new Vue()\n\n// a ç»ä»¶ è¦ç» b ç»ä»¶ åéæ°æ®\n\n// b æ³¨åéä¿¡äºä»¶\n// import globalBus  from './global-bus'\n// globalBus.$on('èªå®ä¹åç§°', () => {\n// åå®¹\n// })\n\n// a åå¸éä¿¡äºä»¶\n// import globalBus from './global-bus'\n// globalBus.$emit('èªå®ä¹åç§°',ä¼ éçæ°æ®)\n\n// ä¸¤ç«¯çäºä»¶åç§°å¿é¡»ä¸è´\n\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n",normalizedContent:"# è®©ä¸¤ä¸ªç»ä»¶ä¹é´éè®¯\n\n// å¨å±éä¿¡æ»çº¿\n// å¯ä»¥è®©ä»»ä½ç»ä»¶ä¹é´ç¸äºéä¿¡\n\nimport vue from 'vue'\n\nexport default new vue()\n\n// a ç»ä»¶ è¦ç» b ç»ä»¶ åéæ°æ®\n\n// b æ³¨åéä¿¡äºä»¶\n// import globalbus  from './global-bus'\n// globalbus.$on('èªå®ä¹åç§°', () => {\n// åå®¹\n// })\n\n// a åå¸éä¿¡äºä»¶\n// import globalbus from './global-bus'\n// globalbus.$emit('èªå®ä¹åç§°',ä¼ éçæ°æ®)\n\n// ä¸¤ç«¯çäºä»¶åç§°å¿é¡»ä¸è´\n\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n",charsets:{cjk:!0},lastUpdated:"2022/03/18, 07:01:11",lastUpdatedTimestamp:1647558071e3},{title:"å®è£echart",frontmatter:{title:"å®è£echart",date:"2022-03-18T00:55:10.000Z",permalink:"/pages/812e04/",categories:["åç«¯","Vue2"],tags:[null]},regularPath:"/%E5%89%8D%E7%AB%AF/02.Vue2/10.%E5%AE%89%E8%A3%85echart.html",relativePath:"åç«¯/02.Vue2/10.å®è£echart.md",key:"v-bb4076c0",path:"/pages/812e04/",headers:[{level:2,title:"å¼å¥",slug:"å¼å¥",normalizedTitle:"å¼å¥",charIndex:48}],headersStr:"å¼å¥",content:"# å®è£echart\n\nnpm install echarts --save\n\n\n1\n\n\n\n# å¼å¥\n\n//import echarts from 'echarts'  ä¼æ¥éä¸æ¸æ¥ä»ä¹æåµ\nimport * as echarts from 'echarts'\n\n\n1\n2\n",normalizedContent:"# å®è£echart\n\nnpm install echarts --save\n\n\n1\n\n\n\n# å¼å¥\n\n//import echarts from 'echarts'  ä¼æ¥éä¸æ¸æ¥ä»ä¹æåµ\nimport * as echarts from 'echarts'\n\n\n1\n2\n",charsets:{cjk:!0},lastUpdated:"2022/03/18, 07:01:11",lastUpdatedTimestamp:1647558071e3},{title:"å®è£ cropperjs å¾çè£åå·¥å·",frontmatter:{title:"å®è£ cropperjs å¾çè£åå·¥å·",date:"2022-03-18T00:55:10.000Z",permalink:"/pages/f0d787/",categories:["åç«¯","Vue2"],tags:[null]},regularPath:"/%E5%89%8D%E7%AB%AF/02.Vue2/08.%E5%AE%89%E8%A3%85%20cropperjs%20%E5%9B%BE%E7%89%87%E8%A3%81%E5%88%87%E5%B7%A5%E5%85%B7.html",relativePath:"åç«¯/02.Vue2/08.å®è£ cropperjs å¾çè£åå·¥å·.md",key:"v-e39cdcd2",path:"/pages/f0d787/",headersStr:null,content:"# å®è£ cropperjs å¾çè£åå·¥å·\n\n npm install cropperjs\n\n\n1\n",normalizedContent:"# å®è£ cropperjs å¾çè£åå·¥å·\n\n npm install cropperjs\n\n\n1\n",charsets:{cjk:!0},lastUpdated:"2022/03/18, 07:01:11",lastUpdatedTimestamp:1647558071e3},{title:"æä»¶å¯¹è±¡",frontmatter:{title:"æä»¶å¯¹è±¡",date:"2022-03-18T00:55:10.000Z",permalink:"/pages/2bf2c3/",categories:["åç«¯","Vue2"],tags:[null]},regularPath:"/%E5%89%8D%E7%AB%AF/02.Vue2/11.%E6%96%87%E4%BB%B6%E5%AF%B9%E8%B1%A1.html",relativePath:"åç«¯/02.Vue2/11.æä»¶å¯¹è±¡.md",key:"v-fbf30870",path:"/pages/2bf2c3/",headersStr:null,content:"# æä»¶å¯¹è±¡\n\n\x3c!-- é»è®¤æ¯åæä»¶ä¸ä¼   èµäº multileå±æ§å¯ä»¥å¤æä»¶ä¸ä¼  --\x3e\n<input type='file' id='file'  multile>  \n<button onclick='sendFile()'>ä¸ä¼ æä»¶</button>\n<img id='img' src='' widhth='200'>\n\n\n1\n2\n3\n4\n\n\nfunction SsendFile() {\n    const file = document.querySelector('#file')\n    console.log(file)   //è·åinputæé®\n    console.log(file.files)   // è·å¾æä»¶å¯¹è±¡ ç¨æ·ä¸ä¼ çæä»¶é½å¨éé¢\n    const fileObj =file.files[0]  //åªæåæä»¶åä¸ºç¬¬0ä¸ª å¦æå¤ä¸ªéè¦éå filesä¼ªæ°ç»\n    \n    //é¢è§ å¦æ¯å¾çæä»¶,å¯ä»¥å¤çå¾çé¢è§\n    const blob = windows.URL.createObjectURL(fileObj)\n    console.log(blob)  //è¿åçå¾çurl ç´æ¥ç¨img èµäºsrc\n    document.querySelector('#img').src = blob\n    \n    \n    // åéè¯·æ±\n    // ç¶åææä»¶å¯¹è±¡ æ¾å° FormData ä¸­æäº¤ç»åç«¯\n    const fd = new FormData()\n    fd.append('æ¥å£è¦æ±çåè¯',fileObj)\n    //ç¨ajax æè axios åèµ·è¯·æ±\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n",normalizedContent:"# æä»¶å¯¹è±¡\n\n\x3c!-- é»è®¤æ¯åæä»¶ä¸ä¼   èµäº multileå±æ§å¯ä»¥å¤æä»¶ä¸ä¼  --\x3e\n<input type='file' id='file'  multile>  \n<button onclick='sendfile()'>ä¸ä¼ æä»¶</button>\n<img id='img' src='' widhth='200'>\n\n\n1\n2\n3\n4\n\n\nfunction ssendfile() {\n    const file = document.queryselector('#file')\n    console.log(file)   //è·åinputæé®\n    console.log(file.files)   // è·å¾æä»¶å¯¹è±¡ ç¨æ·ä¸ä¼ çæä»¶é½å¨éé¢\n    const fileobj =file.files[0]  //åªæåæä»¶åä¸ºç¬¬0ä¸ª å¦æå¤ä¸ªéè¦éå filesä¼ªæ°ç»\n    \n    //é¢è§ å¦æ¯å¾çæä»¶,å¯ä»¥å¤çå¾çé¢è§\n    const blob = windows.url.createobjecturl(fileobj)\n    console.log(blob)  //è¿åçå¾çurl ç´æ¥ç¨img èµäºsrc\n    document.queryselector('#img').src = blob\n    \n    \n    // åéè¯·æ±\n    // ç¶åææä»¶å¯¹è±¡ æ¾å° formdata ä¸­æäº¤ç»åç«¯\n    const fd = new formdata()\n    fd.append('æ¥å£è¦æ±çåè¯',fileobj)\n    //ç¨ajax æè axios åèµ·è¯·æ±\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n",charsets:{cjk:!0},lastUpdated:"2022/03/18, 07:01:11",lastUpdatedTimestamp:1647558071e3},{title:"æååå¸",frontmatter:{title:"æååå¸",date:"2022-03-18T00:55:10.000Z",permalink:"/pages/fc097d/",categories:["åç«¯","Vue2"],tags:[null]},regularPath:"/%E5%89%8D%E7%AB%AF/02.Vue2/12.%E6%89%93%E5%8C%85%E5%8F%91%E5%B8%83.html",relativePath:"åç«¯/02.Vue2/12.æååå¸.md",key:"v-332cf74c",path:"/pages/fc097d/",headers:[{level:2,title:"æ¬å°é¢è§æµè¯æåç»æ",slug:"æ¬å°é¢è§æµè¯æåç»æ",normalizedTitle:"æ¬å°é¢è§æµè¯æåç»æ",charIndex:138},{level:2,title:"GitHub Pages",slug:"github-pages",normalizedTitle:"github pages",charIndex:513},{level:2,title:"GitHub åå",slug:"github-åå",normalizedTitle:"github åå",charIndex:530},{level:3,title:"èªå®ä¹åå",slug:"èªå®ä¹åå",normalizedTitle:"èªå®ä¹åå",charIndex:682},{level:2,title:"å°æä»¬çé¡¹ç®é¨ç½²å° GitHub pages",slug:"å°æä»¬çé¡¹ç®é¨ç½²å°-github-pages",normalizedTitle:"å°æä»¬çé¡¹ç®é¨ç½²å° github pages",charIndex:745}],headersStr:"æ¬å°é¢è§æµè¯æåç»æ GitHub Pages GitHub åå èªå®ä¹åå å°æä»¬çé¡¹ç®é¨ç½²å° GitHub pages",content:"# æååå¸\n\nå¨åå¸ä¸çº¿å,æä»¬éè¦æ§è¡æå»ºæå,æ.lessã.vueã.js ç¸å³èµæºè¿è¡ç¼è¯æå,è½¬ææµè§å¨å¯ä»¥ç´æ¥è¯å«è¿è¡çæ®écssãjsãhtml\n\n# yarn run build æè yarn build\nnpm run build\n\n\n1\n2\n\n\n\n# æ¬å°é¢è§æµè¯æåç»æ\n\nä¸è½ç´æ¥æ¬å°åå»æå¼index.htmlè¿è¡\n\nå°distæ¾å°ä¸ä¸ªwebæå¡å¨ä¸­è¿è¡æµè¯å¦\n\n * Ngxin\n * Apache\n * tomacat\n * IIS\n * Node.js\n\nè¿éæä»¬ä½¿ç¨Vueå®æ¹æ¨èçServe https://cli.vuejs.org/zh/guide/deployment.html#%E9%80%9A%E7%94%A8%E6%8C%87%E5%8D%97\n\nå¿é¡»è¦æååå¹¶ä¸æ¬å°ædistç®å½\n\nnpm install -g serve # å¨å±å®è£çå®è£åä¸ç¨å®è£\n# -s åæ°çæææ¯å°å¶æ¶è®¾å¨ Single-Page Application æ¨¡å¼ä¸\n# è¿ä¸ªæ¨¡å¼ä¼å¤çå³å°æå°çè·¯ç±é®é¢\nserve -s dist  # ä»¥ç®¡çåèº«ä»½è¿è¡è¿è¡\n\n\n1\n2\n3\n4\n\n\n\n# GitHub Pages\n\n\n# GitHub åå\n\næ¯ä¸ªç¨æ·æä¾äºåè´¹çåå\n\n * ç¨æ·å.github.io/ä»åºå/\n\nå¦ææ³è¦å¿½ç¥åé¢çä»åºååæ° å¦:ç¨æ·.github.io,åéè¦æä»åºåå½åä¸ºç¨æ·å.github.ioï¼GitHubé»è®¤ä¼èªå¨ç»è¿ä¸ªä»åºæç®¡ï¼æä¸åªè½æä¸ä¸ªï¼è¿ä¸ªä»åºï¼å ä¸ºæ¯ä¸ªç¨æ·åªæä¸ä¸ªååã\n\n\n# èªå®ä¹åå\n\n 1. åååå°æ·»å ä¸ä¸ªCNAME è®°å½\n 2. å¨é¡¹ç®ä¸­æ·»å ä¸ä¸ªCNAMEæä»¶ï¼å¹¶å¡«å¥èªå®ä¹ååå°å\n\n\n# å°æä»¬çé¡¹ç®é¨ç½²å° GitHub pages\n\n 1. å ä¸ºé¡¹ç®ä¸­æ¥å£é½æ¯httpåè®®,èGitHubä¸å¼ºå¶å¼å¯https,å¨httpsä¸­æ æ³ååºhttpè¯·æ±,æä»¥æä»¬è¦åå¤ä¸ä¸ªèªå·±çååæè½ä½¿ç¨htppæhtpps\n\n 2. æ å°CNAMEè®°å½å°githubé¡¹ç®ä¸­\n\n 3. çæä»¤ç\n    \n    1. ç¨æ·è®¾ç½®\n    2. å¼åèéé¡¹\n    3. çæå¯é¥\n    4. \n    5. çæ å¤å¶token\n\n 4. æ¨éå¹¶å¨é¡¹ç®ä¸­è®¾ç½®ä¸­è®¾ç½®secret æçæçä»¤çå¤å¶å°æ°å»ºçsecretä¸­\n    \n    1. \n    2. NAME: ACCESS_TOKEN TOKEN: TOKEN\n\n 5. å¨é¡¹ç®ä¸­æ·»å  .github/workflow/mian.yml\n    \n    \n    name: build and deploy\n    \n    # å½ master åæ¯ push ä»£ç çæ¶åè§¦å workflow\n    on:\n      push:\n        branches:\n        - master\n    \n    jobs:\n      build-deploy:\n        runs-on: ubuntu-latest\n        steps:\n        # ä¸è½½ä»åºä»£ç \n        - uses: actions/checkout@v2\n    \n        # ç¼å­ä¾èµ\n        - name: Get yarn cache\n          id: yarn-cache\n          run: echo \"::set-output name=dir::$(yarn cache dir)\"\n        - uses: actions/cache@v1\n          with:\n            path: ${{ steps.yarn-cache.outputs.dir }}\n            key: ${{ runner.os }}-yarn-${{ hashFiles('**/yarn.lock') }}\n            restore-keys: |\n              ${{ runner.os }}-yarn-\n    \n        # å®è£ä¾èµ\n        - run: yarn\n    \n        # æåæå»º\n        - run: yarn build\n    \n        # åå¸å° GitHub Pages\n        - name: Deploy\n          uses: peaceiris/actions-gh-pages@v2\n          env:\n            PERSONAL_TOKEN: ${{ secrets.ACCESS_TOKEN }} # è®¿é®ç§é¥\n            PUBLISH_BRANCH: gh-pages # æ¨éåæ¯\n            PUBLISH_DIR: ./dist # é¨ç½²ç®å½\n    \n    \n    1\n    2\n    3\n    4\n    5\n    6\n    7\n    8\n    9\n    10\n    11\n    12\n    13\n    14\n    15\n    16\n    17\n    18\n    19\n    20\n    21\n    22\n    23\n    24\n    25\n    26\n    27\n    28\n    29\n    30\n    31\n    32\n    33\n    34\n    35\n    36\n    37\n    38\n    39\n    40\n    \n    \n    > GitHub Action å·¥ä½æµ\n\n 6. public ä¸­ æ·»å  CNAME èªå®ä¹ååçåå",normalizedContent:"# æååå¸\n\nå¨åå¸ä¸çº¿å,æä»¬éè¦æ§è¡æå»ºæå,æ.lessã.vueã.js ç¸å³èµæºè¿è¡ç¼è¯æå,è½¬ææµè§å¨å¯ä»¥ç´æ¥è¯å«è¿è¡çæ®écssãjsãhtml\n\n# yarn run build æè yarn build\nnpm run build\n\n\n1\n2\n\n\n\n# æ¬å°é¢è§æµè¯æåç»æ\n\nä¸è½ç´æ¥æ¬å°åå»æå¼index.htmlè¿è¡\n\nå°distæ¾å°ä¸ä¸ªwebæå¡å¨ä¸­è¿è¡æµè¯å¦\n\n * ngxin\n * apache\n * tomacat\n * iis\n * node.js\n\nè¿éæä»¬ä½¿ç¨vueå®æ¹æ¨èçserve https://cli.vuejs.org/zh/guide/deployment.html#%e9%80%9a%e7%94%a8%e6%8c%87%e5%8d%97\n\nå¿é¡»è¦æååå¹¶ä¸æ¬å°ædistç®å½\n\nnpm install -g serve # å¨å±å®è£çå®è£åä¸ç¨å®è£\n# -s åæ°çæææ¯å°å¶æ¶è®¾å¨ single-page application æ¨¡å¼ä¸\n# è¿ä¸ªæ¨¡å¼ä¼å¤çå³å°æå°çè·¯ç±é®é¢\nserve -s dist  # ä»¥ç®¡çåèº«ä»½è¿è¡è¿è¡\n\n\n1\n2\n3\n4\n\n\n\n# github pages\n\n\n# github åå\n\næ¯ä¸ªç¨æ·æä¾äºåè´¹çåå\n\n * ç¨æ·å.github.io/ä»åºå/\n\nå¦ææ³è¦å¿½ç¥åé¢çä»åºååæ° å¦:ç¨æ·.github.io,åéè¦æä»åºåå½åä¸ºç¨æ·å.github.ioï¼githubé»è®¤ä¼èªå¨ç»è¿ä¸ªä»åºæç®¡ï¼æä¸åªè½æä¸ä¸ªï¼è¿ä¸ªä»åºï¼å ä¸ºæ¯ä¸ªç¨æ·åªæä¸ä¸ªååã\n\n\n# èªå®ä¹åå\n\n 1. åååå°æ·»å ä¸ä¸ªcname è®°å½\n 2. å¨é¡¹ç®ä¸­æ·»å ä¸ä¸ªcnameæä»¶ï¼å¹¶å¡«å¥èªå®ä¹ååå°å\n\n\n# å°æä»¬çé¡¹ç®é¨ç½²å° github pages\n\n 1. å ä¸ºé¡¹ç®ä¸­æ¥å£é½æ¯httpåè®®,ègithubä¸å¼ºå¶å¼å¯https,å¨httpsä¸­æ æ³ååºhttpè¯·æ±,æä»¥æä»¬è¦åå¤ä¸ä¸ªèªå·±çååæè½ä½¿ç¨htppæhtpps\n\n 2. æ å°cnameè®°å½å°githubé¡¹ç®ä¸­\n\n 3. çæä»¤ç\n    \n    1. ç¨æ·è®¾ç½®\n    2. å¼åèéé¡¹\n    3. çæå¯é¥\n    4. \n    5. çæ å¤å¶token\n\n 4. æ¨éå¹¶å¨é¡¹ç®ä¸­è®¾ç½®ä¸­è®¾ç½®secret æçæçä»¤çå¤å¶å°æ°å»ºçsecretä¸­\n    \n    1. \n    2. name: access_token token: token\n\n 5. å¨é¡¹ç®ä¸­æ·»å  .github/workflow/mian.yml\n    \n    \n    name: build and deploy\n    \n    # å½ master åæ¯ push ä»£ç çæ¶åè§¦å workflow\n    on:\n      push:\n        branches:\n        - master\n    \n    jobs:\n      build-deploy:\n        runs-on: ubuntu-latest\n        steps:\n        # ä¸è½½ä»åºä»£ç \n        - uses: actions/checkout@v2\n    \n        # ç¼å­ä¾èµ\n        - name: get yarn cache\n          id: yarn-cache\n          run: echo \"::set-output name=dir::$(yarn cache dir)\"\n        - uses: actions/cache@v1\n          with:\n            path: ${{ steps.yarn-cache.outputs.dir }}\n            key: ${{ runner.os }}-yarn-${{ hashfiles('**/yarn.lock') }}\n            restore-keys: |\n              ${{ runner.os }}-yarn-\n    \n        # å®è£ä¾èµ\n        - run: yarn\n    \n        # æåæå»º\n        - run: yarn build\n    \n        # åå¸å° github pages\n        - name: deploy\n          uses: peaceiris/actions-gh-pages@v2\n          env:\n            personal_token: ${{ secrets.access_token }} # è®¿é®ç§é¥\n            publish_branch: gh-pages # æ¨éåæ¯\n            publish_dir: ./dist # é¨ç½²ç®å½\n    \n    \n    1\n    2\n    3\n    4\n    5\n    6\n    7\n    8\n    9\n    10\n    11\n    12\n    13\n    14\n    15\n    16\n    17\n    18\n    19\n    20\n    21\n    22\n    23\n    24\n    25\n    26\n    27\n    28\n    29\n    30\n    31\n    32\n    33\n    34\n    35\n    36\n    37\n    38\n    39\n    40\n    \n    \n    > github action å·¥ä½æµ\n\n 6. public ä¸­ æ·»å  cname èªå®ä¹ååçåå",charsets:{cjk:!0},lastUpdated:"2022/03/18, 07:01:11",lastUpdatedTimestamp:1647558071e3},{title:"webpack",frontmatter:{title:"webpack",date:"2022-03-18T00:55:10.000Z",permalink:"/pages/b60752/",categories:["åç«¯","Vue2"],tags:[null]},regularPath:"/%E5%89%8D%E7%AB%AF/02.Vue2/13.webpack.html",relativePath:"åç«¯/02.Vue2/13.webpack.md",key:"v-56d6aafb",path:"/pages/b60752/",headers:[{level:2,title:"webpack å¥é¨",slug:"webpack-å¥é¨",normalizedTitle:"webpack å¥é¨",charIndex:251},{level:3,title:"å¼ç¨",slug:"å¼ç¨",normalizedTitle:"å¼ç¨",charIndex:15},{level:3,title:"å¯¼åº",slug:"å¯¼åº",normalizedTitle:"å¯¼åº",charIndex:307},{level:3,title:"å®è£",slug:"å®è£",normalizedTitle:"å®è£",charIndex:363},{level:3,title:"webpack.config.js éç½® ä»£ç åç¦»",slug:"webpack-config-js-éç½®-ä»£ç åç¦»",normalizedTitle:"webpack.config.js éç½® ä»£ç åç¦»",charIndex:897},{level:2,title:"webpack æ¯æå¥½å ç§æ¨¡å",slug:"webpack-æ¯æå¥½å ç§æ¨¡å",normalizedTitle:"webpack æ¯æå¥½å ç§æ¨¡å",charIndex:3299},{level:2,title:"èªå¨æ¸é¤distç®å½",slug:"èªå¨æ¸é¤distç®å½",normalizedTitle:"èªå¨æ¸é¤distç®å½",charIndex:3371},{level:2,title:"ES6 è½¬ ES5",slug:"es6-è½¬-es5",normalizedTitle:"es6 è½¬ es5",charIndex:3535},{level:3,title:"API å¼å®¹å¤ç",slug:"api-å¼å®¹å¤ç",normalizedTitle:"api å¼å®¹å¤ç",charIndex:3955},{level:3,title:"å¼å¯ç¼å­",slug:"å¼å¯ç¼å­",normalizedTitle:"å¼å¯ç¼å­",charIndex:4268},{level:2,title:"Using source maps æºä»£ç å°å¾å¯¼èª",slug:"using-source-maps-æºä»£ç å°å¾å¯¼èª",normalizedTitle:"using source maps æºä»£ç å°å¾å¯¼èª",charIndex:4584},{level:2,title:"watch çå¬èªå¨æå",slug:"watch-çå¬èªå¨æå",normalizedTitle:"watch çå¬èªå¨æå",charIndex:4898},{level:2,title:"webpack-dev-server çå¬èªå¨æåå¹¶èªå¨å·æ°",slug:"webpack-dev-server-çå¬èªå¨æåå¹¶èªå¨å·æ°",normalizedTitle:"webpack-dev-server çå¬èªå¨æåå¹¶èªå¨å·æ°",charIndex:5064},{level:2,title:"ç­æ´æ°",slug:"ç­æ´æ°",normalizedTitle:"ç­æ´æ°",charIndex:5407},{level:2,title:"æå Vue",slug:"æå-vue",normalizedTitle:"æå vue",charIndex:5625},{level:2,title:"resolve.extensions æé¡ºåºå è½½è§£æè¿äºåç¼å",slug:"resolve-extensions-æé¡ºåºå è½½è§£æè¿äºåç¼å",normalizedTitle:"resolve.extensions æé¡ºåºå è½½è§£æè¿äºåç¼å",charIndex:6261},{level:2,title:"å¨webpackä¸­ä¸è½ä½¿ç¨@å®åäºsrcæä»¶å¤¹",slug:"å¨webpackä¸­ä¸è½ä½¿ç¨-å®åäºsrcæä»¶å¤¹",normalizedTitle:"å¨webpackä¸­ä¸è½ä½¿ç¨@å®åäºsrcæä»¶å¤¹",charIndex:6503},{level:2,title:"ä½¿ç¨ ESLint",slug:"ä½¿ç¨-eslint",normalizedTitle:"ä½¿ç¨ eslint",charIndex:6730},{level:3,title:"éæ©ESLint çä»£ç è§è",slug:"éæ©eslint-çä»£ç è§è",normalizedTitle:"éæ©eslint çä»£ç è§è",charIndex:7939}],headersStr:"webpack å¥é¨ å¼ç¨ å¯¼åº å®è£ webpack.config.js éç½® ä»£ç åç¦» webpack æ¯æå¥½å ç§æ¨¡å èªå¨æ¸é¤distç®å½ ES6 è½¬ ES5 API å¼å®¹å¤ç å¼å¯ç¼å­ Using source maps æºä»£ç å°å¾å¯¼èª watch çå¬èªå¨æå webpack-dev-server çå¬èªå¨æåå¹¶èªå¨å·æ° ç­æ´æ° æå Vue resolve.extensions æé¡ºåºå è½½è§£æè¿äºåç¼å å¨webpackä¸­ä¸è½ä½¿ç¨@å®åäºsrcæä»¶å¤¹ ä½¿ç¨ ESLint éæ©ESLint çä»£ç è§è",content:"# webpack\n\nä»¥åæä»¬å¼ç¨å¤é¨èµæºé½æ¯ç¨<script>æ ç­¾å¼å¥\n\n<script src='vue.js'><\/script>\n\n\n1\n\n 1. å¼ç¨äºæ²¡æä½¿ç¨ æµªè´¹èµæº\n 2. æ²¡æå¼ç¨ å¹¶åå»ºå®ä¾ æ¥éä¸ææ¾ å¹¶ä¸ ç½é¡µæ æ³å è½½\n 3. å¼ç¨å¤ªå¤ç¬¼ç»\n\nç°å¨æä»¬ä½¿ç¨webpackæä»¬éæ©ç´æ¥ä½¿ç¨ å³é®å­ import\n\nimport 'vue' from './vue'\n\n\n1\n\n\nå¹¶æ¥æå¯¼å,æå»ºç­å¼ºå¤§çåè½\n\nhttps://webpack.docschina.org/\n\n\n# webpack å¥é¨\n\n\n# å¼ç¨\n\nimport bar from './bar.js';\n\n\n1\n\n\n\n# å¯¼åº\n\nexport default function bar() {\n  //\n}\n\n\n1\n2\n3\n\n\n\n# å®è£\n\n# çæçé»è®¤çpackage.json\n\nå¨é¡¹ç®ç®å½ä¸\n\nnpm init -y\n\n\n1\n\n\n# å®è£ webpack\n\nnpm install --save-dev webpack-cli webpack\n\n\n1\n\n\n# çæmain.js æå\n\n.\\node_modules\\.bin\\webpack\n\n\n1\n\n\n# ä¿®æ¹package.json ç®åæåå½ä»¤\n\n//ä¿®æ¹\"scriptä¸­çå¯¹è±¡\"\n\"scripts\":{\n    \"build\":\".\\node_modules\\.bin\\webpack\"  //ä¹å¯ä»¥ç´æ¥åä¸º \"build\":\"webpack\"  buildèªå®ä¹åç§°\n}\n\n\n1\n2\n3\n4\n\n\n#ä¹åæä»¬å¯ä»¥ä½¿ç¨ç®åå½ä»¤æåäº\nnpm run build\n\n\n1\n2\n\n\n * # è¿æä¸ç§æ¹æ³æ¯package.jsonä¸­çscriptä¸ºç©º,ä¼èªå¨æ¥æ¾é¡¹ç®ä¸­çwebpack\n\n# ç¶åç¨ä»¥ä¸ä»£ç æå\nnpx webpack\n\n\n1\n2\n\n\nä¹åæä»¬å¨indexä¸­ç´æ¥å è½½main.jså°±å¥½äº,webpackå·²ç»æwebpackæä»¶å¤¹ä¸­çæåäº\n\n<script src='main.js'><\/script>\n\n\n1\n\n\n\n# webpack.config.js éç½® ä»£ç åç¦»\n\n# æåçå¥å£\n\nè®¾ç½®é¢è¦æåçæä»¶,webpackä¼æ ¹æ®éé¢çåå®¹éå±å¼å¥\n\n module.exports = {\n     entry: 'è¦æåçæä»¶',\n }\n\n\n1\n2\n3\n\n\n# æåçåºå£\n\nè®¾ç½®æååçä»£ç å­æ¾çè·¯å¾\n\nmodule.exports = {\n\toutput: {\n   \t filename: 'main.js',  //æååçæä»¶å,ç¸å¯¹è·¯å¾\n    \tpath: path.resolve(__dirname, 'dist'),  \n        // å­æ¾å°å½åé¡¹ç®çdistç®å½,å¿é¡»å¾æ¯ä¸ä¸ªç»å¯¹è·¯å¾,å¦åæ¥é\n        //path.resovle(__dirname,'dist') è·åå½åæä»¶æå±ç®å½çç»å¯¹è·¯å¾åæ¼æ¥åé¢ç\n   \t}\n }\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n\n\n# æåæ¨¡å¼\n\ndevelopmemt: å¼åç¯å¢æå»º,ç¼è¯éåº¦å¿«,æ²¡æåç¼©\n\nproduction:çäº§ç¯å¢æå»º,ç¼è¯éåº¦æ¢,è´¨éæ¯è¾å¥½,åç¼©ä½ç§¯\n\nmodule.exports = {\n    entry: 'è¦æåçæä»¶',\n\toutput: {\n   \t filename: 'main.js',  //æååçæä»¶å,ç¸å¯¹è·¯å¾\n    \tpath: path.resolve(__dirname, 'dist'),  \n        // å­æ¾å°å½åé¡¹ç®çdistç®å½,å¿é¡»å¾æ¯ä¸ä¸ªç»å¯¹è·¯å¾,å¦åæ¥é\n        //path.resovle(__dirname,'dist') è·åå½åæä»¶æå±ç®å½çç»å¯¹è·¯å¾åæ¼æ¥åé¢ç\n   \t},\n    mode:'development'  //æåæ¨¡å¼,é»è®¤ä¸ºçäº§ç¯å¢\n }\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n\n\n# æåCSS\n\nwebpackæ¬èº«åªå«©çè§£ JavaScript å JSON æä»¶\n\néè¦å®è£ style-loader å css-loader\n\nnpm install --save-dev style-loader css-loader\n\n\n1\n\n\nå¹¶å¨module.exportsä¸­è¿½å ä»¥ä¸ä»£ç ,å¹¶æåæä¸ºJavaScriptæ¨¡åä¸­\n\nmodule: {\n    rules: [\n        // å½å¹éå°cssæä»¶çæ¶å,ä½¿ç¨style-loaderåcss-loaderå¤ç,èªå¨æå¥å°indexä¸­<head>éé¢\n      {\n        test: /\\.css$/i,\n        use: ['style-loader', 'css-loader'],\n      },\n    ],\n  },\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n\n\nå¶ä»ç±»åæä»¶æ¨¡åæ´å¤è¯·æ¥è¯¢å®æ¹æå https://webpack.docschina.org/loaders/\n\n# æå less\n\nå®è£\n\nnpm install less less-loader --save-dev\n\n\n1\n\n\nè¿½å  module å¯¹è±¡\n\nrules: [\n      {\n        test: /\\.less$/i,\n        loader: [ 'style-loader','css-loader', 'less-loader']\n          //1. less-loader æless ç¼è¯ä¸º css\n          //2. css-loader æcss è½¬ä¸º JavaScript æ¨¡å\n          //3. style-loader å¨ä»£ç è¿è¡æé´æcss æå¥é¡µé¢çheadä¸­\n      },\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n\n\n# æåå¾ç\n\nè¿½å å° module webpack5åç½®è¿ä¸ªloader\n\n      {\n        test: /\\.(png|svg|jpg|jpeg|gif)$/i,\n        type: 'asset/resource',\n      },\n\n\n1\n2\n3\n4\n\n\nå¼ç¨\n\nimport Icon from './icon.png';\n\n  // å°å¾åæ·»å å°æä»¬å·²ç»å­å¨ç div ä¸­ã\n  const myIcon = new Image();\n  myIcon.src = Icon;\n\n  element.appendChild(myIcon);\n\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n\n\næèæindexä¹æå\n\n# æåç½é¡µ\n\nå®è£æ¨¡å\n\nnpm install --save-dev html-webpack-plugin\n\n\n1\n\n\nè¿½å moudule æä»¶å±æ§\n\n  plugins: [\n    new HtmlWebpackPlugin({\n      title: 'èªå®ä¹åç§°',   // èªå¨çæä¸ä¸ªæ°çhtmlæä»¶  å¹¶ä¸èªå¨å¼ç¨æåçjsæä»¶\n    }),\n  ]\n\n\n1\n2\n3\n4\n5\n\n\n  plugins: [\n    new HtmlWebpackPlugin({\n      title: './index.html',   // åºäºæä»¬æå®çhtmlçæä¸ä¸ªæååçhtml,ä¸ç¨å¼ç¨æåçjsæä»¶,æååwebpackä¼èªå¨å¯¼å¥\n    }),\n  ]\n\n\n1\n2\n3\n4\n5\n\n\n# æåå­ä½\n\nè¿½å moudule æä»¶å±æ§\n\n      {\n        test: /\\.(woff|woff2|eot|ttf|otf)$/i,\n        type: 'asset/resource',\n      },\n\n\n1\n2\n3\n4\n\n\n\n# webpack æ¯æå¥½å ç§æ¨¡å\n\n * ECMAScript 6 æ¨¡å\n * CommonJS æ¨¡å\n * node\n * AMDæ¨¡å\n\n\n# èªå¨æ¸é¤distç®å½\n\næåçè¿ç¨å¹¶ä¸ä¼æ¸é¤åæ¥åæçæä»¶,å¦æç¸åæä»¶åè¦ç\n\n\n\n module.exports = {\n   output: {\n    clean: true,  // æä»¬åªéè¦å¨outputä¸­è¿½ä¸ä¸ªåæ°æ¢å¯ æ¯æ¬¡æåèªå¨æ¸é¤distç®å½\n   },\n };\n\n\n1\n2\n3\n4\n5\n6\n7\n\n\n\n# ES6 è½¬ ES5\n\nIEä¸­ä¸æ¯æ ES6 æäºè¯­æ³ æä»¥è¦è½¬ä¸ºES5\n\nbabelæ¯ä¸æ¬¾ä¸é¨å°ES6è½¬ES5 ç ç¼è¯å·¥å·\n\n1.å®è£\n\n# å¦æå·²ç»å®è£è¿webpack,æåé¢çwebpackå»æ\nnpm install -D babel-loader @babel/core @babel/preset-env webpack\n\n\n1\n2\n\n\n2.è¿½å module\n\n {\n      test: /\\.m?js$/,\n      exclude: /(node_modules|bower_components)/,\n      use: {\n        loader: 'babel-loader',\n        options: {\n          presets: ['@babel/preset-env']\n        }\n      }\n    }\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n\n\n\n# API å¼å®¹å¤ç\n\nBabel é»è®¤åªè½è½¬æ¢åºæ¬ç ESC è¯­æ³ å¦:const let ç®­å¤´å½æ° è§£æèµå¼\n\nå®ä¸ä¼å¤ç ECMAScript 6 ä¸­ æ°å¢çAPIæ¹æ³,å¦æ°ç»ä¸­ç includesæ¹æ³ å­ç¬¦ä¸²çrawæ¹æ³\n\nhttps://www.babeljs.cn/docs/babel-polyfill\n\nå®è£\n\nnpm install --save @babel/polyfill\n\n\n1\n\n\nå¨webpack.configä¸­module.exportè¿½å \n\nmodule.exports = {\n  entry: [\"@babel/polyfill\", \"./app/js\"],\n};\n\n\n1\n2\n3\n\n\n\n# å¼å¯ç¼å­\n\nbabel æåéå¸¸èæ¶,å»ºè®®å¼å¯ç¼å­ç¨ä»¥æé«æåçæç\n\n {\n      test: /\\.m?js$/,\n      exclude: /(node_modules|bower_components)/,\n      use: {\n        loader: 'babel-loader',\n        options: {\n          presets: ['@babel/preset-env'],\n              cacheDirectory:true  // å¼å¯ç¼å­\n        }\n      }\n    }\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n\n\n\n# Using source maps æºä»£ç å°å¾å¯¼èª\n\næä»¬æååçè°è¯æ¾ç¤ºçè¡æ°ä¸æªæåçæä»¶è¡æ°ä¸å¹é,æä»¬å¯ä»¥æ·»å æºä»£ç å°å¾å¯¼èª\n\n module.exports = {\n   devtool: 'inline-source-map',  //è¿½å ,æºä»£ç å°å¾å¯¼èª\n }\n\n\n1\n2\n3\n\n\ninline-source-map æ source-map æ°æ®åæåç»æ å­å¨å¨åä¸æä»¶ä¸,ä¸å¤ªæ¨è,ä½ç§¯è¿å¤§\n\nsource-map: æ source-map æ°æ® çæå°ç¬ç«ç.mapæä»¶ä¸­\n\n module.exports = {\n   devtool: 'source-map',  \n }\n\n\n1\n2\n3\n\n\n\n# watch çå¬èªå¨æå\n\nå½é¡¹ç®ä¸­æä¿®æ¹åèªå¨æå\n\nå¨packge.jsonæä»¶ä¸­è¿½å \n\n\"scripts\":{\n\t\"build-watch\":\"èªå®ä¹åç§° --watch --config webpack.config.js\"\n}\n\n\n1\n2\n3\n\n\nç¶åæåä¸ä¸\n\nnpm run build-watch\n\n\n1\n\n\n\n# webpack-dev-server çå¬èªå¨æåå¹¶èªå¨å·æ°\n\nå¼å¯ä¸ä¸ªwebæå¡å¨,å½é¡¹ç®ä¸­æä¿®æ¹åèªå¨æåå¹¶èªå¨å·æ°æµè§å¨\n\nmodle.experts = {\n     devServer: {\n    contentBase: './dist',  // devServeræå¡çå¬è¿ä¸ªæåç®å½\n  },\n}\n\n\n1\n2\n3\n4\n5\n\n\nå¹¶å¨packge.jsonè¿½å \n\n\"start\": \"webpack serve --open --config webpack.config.js\",  //--open æ¯èªå¨æå¼æµè§å¨ å¯ä»¥çåæ°   --config webpack.config.js å¦æéç½®é¡¹ä¸ºwebpack.config.jsåä¸éè¦è¿ä¸ª\n\n\n1\n\n\n\n# ç­æ´æ°\n\nwebpack-dev-serveré»è®¤æ¯å·æ°æ´ä¸ªé¡µé¢å®ç°æ´æ°ãæä»¬æä¸ç§æ´å¥½çæ¹å¼ ç­æ´æ°, å¯ä»¥å¨ä¸å·æ°é¡µé¢çæåµä¸æ´æ°åå®¹åå\n\nåªéè¦å¨devserverä¸­æ·»å hot:trueå³å¯\n\nmodle.experts = {\n     devServer: {\n    contentBase: './dist', \n         hot:true // å¼å¯ç­æ´æ°\n  },\n}\n\n\n1\n2\n3\n4\n5\n6\n\n\n\n# æå Vue\n\né¡¹ç®ä¸­å®è£\n\nnpm i vue\n\n\n1\n\n\nå¨webpackå®è£vue-loader å vue-template-compiler vueæåæ¨¡å\n\nnpm install -D vue-loader vue-template-compiler\n\n\n1\n\n\nå¨webpackéç½®ä¸­å¼ç¨ https://vue-loader.vuejs.org/zh/guide/#%E6%89%8B%E5%8A%A8%E8%AE%BE%E7%BD%AE\n\nconst { VueLoaderPlugin } = require('vue-loader')\n\n// å¹¶å¨module.exportsä¸­è¿½å \n plugins: [\n    // è¯·ç¡®ä¿å¼å¥è¿ä¸ªæä»¶ï¼\n    new VueLoaderPlugin()\n  ]\n\n// å¹¶å¨rulesæ·»å æä»¶å¹éè§å\n  {\n        test: /\\.vue$/,\n        loader: 'vue-loader'\n      }\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n\n 1. å¨webpackä¸­çVueç»ä»¶ importè¦å ä¸åç¼,æ æ³åcliä¸­å¿½ç¥åç¼\n 2. å¨vueä½¿ç¨less ä¹éè¦è¿è¡éç½®\n 3. æloaderæ¢æuse:['style-loader','css-loader', 'less-loader','vue-loader'] é¡ºåºæ¯ä»åå°å\n\n\n# resolve.extensions æé¡ºåºå è½½è§£æè¿äºåç¼å\n\nmodule.exports = {\n  //...\n  resolve: {\n    // extensions: ['.js', '.json', '.wasm'],  // é»è®¤å¼\n      extensions:['.js', '.json','.vue','.css']\n  },\n};\n\n\n1\n2\n3\n4\n5\n6\n7\n\n\néç½®å®å importæ¶æ©å±åå¯ä»¥å¿½ç¥ æä½ èªå®ä¹çé¡ºåºæ¥è§£æ ä»åå°å\n\n\n# å¨webpackä¸­ä¸è½ä½¿ç¨@å®åäºsrcæä»¶å¤¹\n\næä»¬å¯ä»¥ä½¿ç¨webpackä¸­çresolve.aliasåå»º import æ require çå«åï¼æ¥ç¡®ä¿æ¨¡åå¼å¥åå¾æ´ç®å\n\n resolve: {\n    alias: {\n      //å«å : è·¯å¾   èªå®ä¹åç§°æ¯ç¹æ®å­ç¬¦è¦ç¨å¼å·æ¬èµ·\n      '@': path.resolve(__dirname, './src'),\n    },\n  },\n\n\n1\n2\n3\n4\n5\n6\n\n\n\n# ä½¿ç¨ ESLint\n\nESLint æ¯ç¨äºJavaScriptä»£ç æ ¼å¼æ ¡éªå·¥å·\n\n 1. å®è£\n\nnpm install eslint-loader --save-dev\nnpm install eslint --save-dev\n\n\n1\n2\n\n 2. è¿½å webpack.json\n\nmodule.exports = {\n  // ...\n  module: {\n    rules: [\n      {\n        test: /\\.js$/,\n        exclude: /node_modules/,\n        loader: 'eslint-loader',\n        options: {\n          // eslint options (if necessary)\n        },\n      },\n    ],\n  },\n  // ...\n};\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n\n\nå¦æä½¿ç¨äºES6 è½¬ ES5 æ¨¡å ä¼ä¸ ESLint äº§çå²çª,æä»¬æ³è¦ä¼åæESLint æ ¡éªæ¾å¨åé¢,ä½éç½®éé¡¹ä¸æ¯æç§ä¹¦åé¡ºåºæ¥æ§è¡ç,æä»¥æä»¬éè¦ætest ä¸º js æä»¶ç loaderéç½® æ¢useéç½®,use:['babel-loader', ,'eslint-loader']\n\nmodule.exports = {\n  // ...\n  module: {\n    rules: [\n      {\n        test: /\\.js$/,\n        exclude: /node_modules/,\n        use: ['babel-loader', 'eslint-loader'],\n      },\n    ],\n  },\n  // ...\n};\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n\n\nä¹å¯æåä¹¦å\n\nmodule.exports = {\n  // ...\n  module: {\n    rules: [\n      {\n        enforce: 'pre',   // å¼ºå¶ æå\n        test: /\\.js$/,\n        exclude: /node_modules/,\n        loader: 'eslint-loader',\n      },\n      {\n        test: /\\.js$/,\n        exclude: /node_modules/,\n        loader: 'babel-loader',\n      },\n    ],\n  },\n  // ...\n};\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n\n\n\n# éæ©ESLint çä»£ç è§è\n\næå¼eslintå½ä»¤ç¬¦\n\n.\\node_modules\\.bin\\eslint.cmd --init\n# æè npx eslint --init è¯¦æç®åè¯·ç å®è£ä¸­çä¿®æ¹package.json ç®åæåå½ä»¤\n\n\n1\n2\n",normalizedContent:"# webpack\n\nä»¥åæä»¬å¼ç¨å¤é¨èµæºé½æ¯ç¨<script>æ ç­¾å¼å¥\n\n<script src='vue.js'><\/script>\n\n\n1\n\n 1. å¼ç¨äºæ²¡æä½¿ç¨ æµªè´¹èµæº\n 2. æ²¡æå¼ç¨ å¹¶åå»ºå®ä¾ æ¥éä¸ææ¾ å¹¶ä¸ ç½é¡µæ æ³å è½½\n 3. å¼ç¨å¤ªå¤ç¬¼ç»\n\nç°å¨æä»¬ä½¿ç¨webpackæä»¬éæ©ç´æ¥ä½¿ç¨ å³é®å­ import\n\nimport 'vue' from './vue'\n\n\n1\n\n\nå¹¶æ¥æå¯¼å,æå»ºç­å¼ºå¤§çåè½\n\nhttps://webpack.docschina.org/\n\n\n# webpack å¥é¨\n\n\n# å¼ç¨\n\nimport bar from './bar.js';\n\n\n1\n\n\n\n# å¯¼åº\n\nexport default function bar() {\n  //\n}\n\n\n1\n2\n3\n\n\n\n# å®è£\n\n# çæçé»è®¤çpackage.json\n\nå¨é¡¹ç®ç®å½ä¸\n\nnpm init -y\n\n\n1\n\n\n# å®è£ webpack\n\nnpm install --save-dev webpack-cli webpack\n\n\n1\n\n\n# çæmain.js æå\n\n.\\node_modules\\.bin\\webpack\n\n\n1\n\n\n# ä¿®æ¹package.json ç®åæåå½ä»¤\n\n//ä¿®æ¹\"scriptä¸­çå¯¹è±¡\"\n\"scripts\":{\n    \"build\":\".\\node_modules\\.bin\\webpack\"  //ä¹å¯ä»¥ç´æ¥åä¸º \"build\":\"webpack\"  buildèªå®ä¹åç§°\n}\n\n\n1\n2\n3\n4\n\n\n#ä¹åæä»¬å¯ä»¥ä½¿ç¨ç®åå½ä»¤æåäº\nnpm run build\n\n\n1\n2\n\n\n * # è¿æä¸ç§æ¹æ³æ¯package.jsonä¸­çscriptä¸ºç©º,ä¼èªå¨æ¥æ¾é¡¹ç®ä¸­çwebpack\n\n# ç¶åç¨ä»¥ä¸ä»£ç æå\nnpx webpack\n\n\n1\n2\n\n\nä¹åæä»¬å¨indexä¸­ç´æ¥å è½½main.jså°±å¥½äº,webpackå·²ç»æwebpackæä»¶å¤¹ä¸­çæåäº\n\n<script src='main.js'><\/script>\n\n\n1\n\n\n\n# webpack.config.js éç½® ä»£ç åç¦»\n\n# æåçå¥å£\n\nè®¾ç½®é¢è¦æåçæä»¶,webpackä¼æ ¹æ®éé¢çåå®¹éå±å¼å¥\n\n module.exports = {\n     entry: 'è¦æåçæä»¶',\n }\n\n\n1\n2\n3\n\n\n# æåçåºå£\n\nè®¾ç½®æååçä»£ç å­æ¾çè·¯å¾\n\nmodule.exports = {\n\toutput: {\n   \t filename: 'main.js',  //æååçæä»¶å,ç¸å¯¹è·¯å¾\n    \tpath: path.resolve(__dirname, 'dist'),  \n        // å­æ¾å°å½åé¡¹ç®çdistç®å½,å¿é¡»å¾æ¯ä¸ä¸ªç»å¯¹è·¯å¾,å¦åæ¥é\n        //path.resovle(__dirname,'dist') è·åå½åæä»¶æå±ç®å½çç»å¯¹è·¯å¾åæ¼æ¥åé¢ç\n   \t}\n }\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n\n\n# æåæ¨¡å¼\n\ndevelopmemt: å¼åç¯å¢æå»º,ç¼è¯éåº¦å¿«,æ²¡æåç¼©\n\nproduction:çäº§ç¯å¢æå»º,ç¼è¯éåº¦æ¢,è´¨éæ¯è¾å¥½,åç¼©ä½ç§¯\n\nmodule.exports = {\n    entry: 'è¦æåçæä»¶',\n\toutput: {\n   \t filename: 'main.js',  //æååçæä»¶å,ç¸å¯¹è·¯å¾\n    \tpath: path.resolve(__dirname, 'dist'),  \n        // å­æ¾å°å½åé¡¹ç®çdistç®å½,å¿é¡»å¾æ¯ä¸ä¸ªç»å¯¹è·¯å¾,å¦åæ¥é\n        //path.resovle(__dirname,'dist') è·åå½åæä»¶æå±ç®å½çç»å¯¹è·¯å¾åæ¼æ¥åé¢ç\n   \t},\n    mode:'development'  //æåæ¨¡å¼,é»è®¤ä¸ºçäº§ç¯å¢\n }\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n\n\n# æåcss\n\nwebpackæ¬èº«åªå«©çè§£ javascript å json æä»¶\n\néè¦å®è£ style-loader å css-loader\n\nnpm install --save-dev style-loader css-loader\n\n\n1\n\n\nå¹¶å¨module.exportsä¸­è¿½å ä»¥ä¸ä»£ç ,å¹¶æåæä¸ºjavascriptæ¨¡åä¸­\n\nmodule: {\n    rules: [\n        // å½å¹éå°cssæä»¶çæ¶å,ä½¿ç¨style-loaderåcss-loaderå¤ç,èªå¨æå¥å°indexä¸­<head>éé¢\n      {\n        test: /\\.css$/i,\n        use: ['style-loader', 'css-loader'],\n      },\n    ],\n  },\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n\n\nå¶ä»ç±»åæä»¶æ¨¡åæ´å¤è¯·æ¥è¯¢å®æ¹æå https://webpack.docschina.org/loaders/\n\n# æå less\n\nå®è£\n\nnpm install less less-loader --save-dev\n\n\n1\n\n\nè¿½å  module å¯¹è±¡\n\nrules: [\n      {\n        test: /\\.less$/i,\n        loader: [ 'style-loader','css-loader', 'less-loader']\n          //1. less-loader æless ç¼è¯ä¸º css\n          //2. css-loader æcss è½¬ä¸º javascript æ¨¡å\n          //3. style-loader å¨ä»£ç è¿è¡æé´æcss æå¥é¡µé¢çheadä¸­\n      },\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n\n\n# æåå¾ç\n\nè¿½å å° module webpack5åç½®è¿ä¸ªloader\n\n      {\n        test: /\\.(png|svg|jpg|jpeg|gif)$/i,\n        type: 'asset/resource',\n      },\n\n\n1\n2\n3\n4\n\n\nå¼ç¨\n\nimport icon from './icon.png';\n\n  // å°å¾åæ·»å å°æä»¬å·²ç»å­å¨ç div ä¸­ã\n  const myicon = new image();\n  myicon.src = icon;\n\n  element.appendchild(myicon);\n\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n\n\næèæindexä¹æå\n\n# æåç½é¡µ\n\nå®è£æ¨¡å\n\nnpm install --save-dev html-webpack-plugin\n\n\n1\n\n\nè¿½å moudule æä»¶å±æ§\n\n  plugins: [\n    new htmlwebpackplugin({\n      title: 'èªå®ä¹åç§°',   // èªå¨çæä¸ä¸ªæ°çhtmlæä»¶  å¹¶ä¸èªå¨å¼ç¨æåçjsæä»¶\n    }),\n  ]\n\n\n1\n2\n3\n4\n5\n\n\n  plugins: [\n    new htmlwebpackplugin({\n      title: './index.html',   // åºäºæä»¬æå®çhtmlçæä¸ä¸ªæååçhtml,ä¸ç¨å¼ç¨æåçjsæä»¶,æååwebpackä¼èªå¨å¯¼å¥\n    }),\n  ]\n\n\n1\n2\n3\n4\n5\n\n\n# æåå­ä½\n\nè¿½å moudule æä»¶å±æ§\n\n      {\n        test: /\\.(woff|woff2|eot|ttf|otf)$/i,\n        type: 'asset/resource',\n      },\n\n\n1\n2\n3\n4\n\n\n\n# webpack æ¯æå¥½å ç§æ¨¡å\n\n * ecmascript 6 æ¨¡å\n * commonjs æ¨¡å\n * node\n * amdæ¨¡å\n\n\n# èªå¨æ¸é¤distç®å½\n\næåçè¿ç¨å¹¶ä¸ä¼æ¸é¤åæ¥åæçæä»¶,å¦æç¸åæä»¶åè¦ç\n\n\n\n module.exports = {\n   output: {\n    clean: true,  // æä»¬åªéè¦å¨outputä¸­è¿½ä¸ä¸ªåæ°æ¢å¯ æ¯æ¬¡æåèªå¨æ¸é¤distç®å½\n   },\n };\n\n\n1\n2\n3\n4\n5\n6\n7\n\n\n\n# es6 è½¬ es5\n\nieä¸­ä¸æ¯æ es6 æäºè¯­æ³ æä»¥è¦è½¬ä¸ºes5\n\nbabelæ¯ä¸æ¬¾ä¸é¨å°es6è½¬es5 ç ç¼è¯å·¥å·\n\n1.å®è£\n\n# å¦æå·²ç»å®è£è¿webpack,æåé¢çwebpackå»æ\nnpm install -d babel-loader @babel/core @babel/preset-env webpack\n\n\n1\n2\n\n\n2.è¿½å module\n\n {\n      test: /\\.m?js$/,\n      exclude: /(node_modules|bower_components)/,\n      use: {\n        loader: 'babel-loader',\n        options: {\n          presets: ['@babel/preset-env']\n        }\n      }\n    }\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n\n\n\n# api å¼å®¹å¤ç\n\nbabel é»è®¤åªè½è½¬æ¢åºæ¬ç esc è¯­æ³ å¦:const let ç®­å¤´å½æ° è§£æèµå¼\n\nå®ä¸ä¼å¤ç ecmascript 6 ä¸­ æ°å¢çapiæ¹æ³,å¦æ°ç»ä¸­ç includesæ¹æ³ å­ç¬¦ä¸²çrawæ¹æ³\n\nhttps://www.babeljs.cn/docs/babel-polyfill\n\nå®è£\n\nnpm install --save @babel/polyfill\n\n\n1\n\n\nå¨webpack.configä¸­module.exportè¿½å \n\nmodule.exports = {\n  entry: [\"@babel/polyfill\", \"./app/js\"],\n};\n\n\n1\n2\n3\n\n\n\n# å¼å¯ç¼å­\n\nbabel æåéå¸¸èæ¶,å»ºè®®å¼å¯ç¼å­ç¨ä»¥æé«æåçæç\n\n {\n      test: /\\.m?js$/,\n      exclude: /(node_modules|bower_components)/,\n      use: {\n        loader: 'babel-loader',\n        options: {\n          presets: ['@babel/preset-env'],\n              cachedirectory:true  // å¼å¯ç¼å­\n        }\n      }\n    }\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n\n\n\n# using source maps æºä»£ç å°å¾å¯¼èª\n\næä»¬æååçè°è¯æ¾ç¤ºçè¡æ°ä¸æªæåçæä»¶è¡æ°ä¸å¹é,æä»¬å¯ä»¥æ·»å æºä»£ç å°å¾å¯¼èª\n\n module.exports = {\n   devtool: 'inline-source-map',  //è¿½å ,æºä»£ç å°å¾å¯¼èª\n }\n\n\n1\n2\n3\n\n\ninline-source-map æ source-map æ°æ®åæåç»æ å­å¨å¨åä¸æä»¶ä¸,ä¸å¤ªæ¨è,ä½ç§¯è¿å¤§\n\nsource-map: æ source-map æ°æ® çæå°ç¬ç«ç.mapæä»¶ä¸­\n\n module.exports = {\n   devtool: 'source-map',  \n }\n\n\n1\n2\n3\n\n\n\n# watch çå¬èªå¨æå\n\nå½é¡¹ç®ä¸­æä¿®æ¹åèªå¨æå\n\nå¨packge.jsonæä»¶ä¸­è¿½å \n\n\"scripts\":{\n\t\"build-watch\":\"èªå®ä¹åç§° --watch --config webpack.config.js\"\n}\n\n\n1\n2\n3\n\n\nç¶åæåä¸ä¸\n\nnpm run build-watch\n\n\n1\n\n\n\n# webpack-dev-server çå¬èªå¨æåå¹¶èªå¨å·æ°\n\nå¼å¯ä¸ä¸ªwebæå¡å¨,å½é¡¹ç®ä¸­æä¿®æ¹åèªå¨æåå¹¶èªå¨å·æ°æµè§å¨\n\nmodle.experts = {\n     devserver: {\n    contentbase: './dist',  // devserveræå¡çå¬è¿ä¸ªæåç®å½\n  },\n}\n\n\n1\n2\n3\n4\n5\n\n\nå¹¶å¨packge.jsonè¿½å \n\n\"start\": \"webpack serve --open --config webpack.config.js\",  //--open æ¯èªå¨æå¼æµè§å¨ å¯ä»¥çåæ°   --config webpack.config.js å¦æéç½®é¡¹ä¸ºwebpack.config.jsåä¸éè¦è¿ä¸ª\n\n\n1\n\n\n\n# ç­æ´æ°\n\nwebpack-dev-serveré»è®¤æ¯å·æ°æ´ä¸ªé¡µé¢å®ç°æ´æ°ãæä»¬æä¸ç§æ´å¥½çæ¹å¼ ç­æ´æ°, å¯ä»¥å¨ä¸å·æ°é¡µé¢çæåµä¸æ´æ°åå®¹åå\n\nåªéè¦å¨devserverä¸­æ·»å hot:trueå³å¯\n\nmodle.experts = {\n     devserver: {\n    contentbase: './dist', \n         hot:true // å¼å¯ç­æ´æ°\n  },\n}\n\n\n1\n2\n3\n4\n5\n6\n\n\n\n# æå vue\n\né¡¹ç®ä¸­å®è£\n\nnpm i vue\n\n\n1\n\n\nå¨webpackå®è£vue-loader å vue-template-compiler vueæåæ¨¡å\n\nnpm install -d vue-loader vue-template-compiler\n\n\n1\n\n\nå¨webpackéç½®ä¸­å¼ç¨ https://vue-loader.vuejs.org/zh/guide/#%e6%89%8b%e5%8a%a8%e8%ae%be%e7%bd%ae\n\nconst { vueloaderplugin } = require('vue-loader')\n\n// å¹¶å¨module.exportsä¸­è¿½å \n plugins: [\n    // è¯·ç¡®ä¿å¼å¥è¿ä¸ªæä»¶ï¼\n    new vueloaderplugin()\n  ]\n\n// å¹¶å¨rulesæ·»å æä»¶å¹éè§å\n  {\n        test: /\\.vue$/,\n        loader: 'vue-loader'\n      }\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n\n 1. å¨webpackä¸­çvueç»ä»¶ importè¦å ä¸åç¼,æ æ³åcliä¸­å¿½ç¥åç¼\n 2. å¨vueä½¿ç¨less ä¹éè¦è¿è¡éç½®\n 3. æloaderæ¢æuse:['style-loader','css-loader', 'less-loader','vue-loader'] é¡ºåºæ¯ä»åå°å\n\n\n# resolve.extensions æé¡ºåºå è½½è§£æè¿äºåç¼å\n\nmodule.exports = {\n  //...\n  resolve: {\n    // extensions: ['.js', '.json', '.wasm'],  // é»è®¤å¼\n      extensions:['.js', '.json','.vue','.css']\n  },\n};\n\n\n1\n2\n3\n4\n5\n6\n7\n\n\néç½®å®å importæ¶æ©å±åå¯ä»¥å¿½ç¥ æä½ èªå®ä¹çé¡ºåºæ¥è§£æ ä»åå°å\n\n\n# å¨webpackä¸­ä¸è½ä½¿ç¨@å®åäºsrcæä»¶å¤¹\n\næä»¬å¯ä»¥ä½¿ç¨webpackä¸­çresolve.aliasåå»º import æ require çå«åï¼æ¥ç¡®ä¿æ¨¡åå¼å¥åå¾æ´ç®å\n\n resolve: {\n    alias: {\n      //å«å : è·¯å¾   èªå®ä¹åç§°æ¯ç¹æ®å­ç¬¦è¦ç¨å¼å·æ¬èµ·\n      '@': path.resolve(__dirname, './src'),\n    },\n  },\n\n\n1\n2\n3\n4\n5\n6\n\n\n\n# ä½¿ç¨ eslint\n\neslint æ¯ç¨äºjavascriptä»£ç æ ¼å¼æ ¡éªå·¥å·\n\n 1. å®è£\n\nnpm install eslint-loader --save-dev\nnpm install eslint --save-dev\n\n\n1\n2\n\n 2. è¿½å webpack.json\n\nmodule.exports = {\n  // ...\n  module: {\n    rules: [\n      {\n        test: /\\.js$/,\n        exclude: /node_modules/,\n        loader: 'eslint-loader',\n        options: {\n          // eslint options (if necessary)\n        },\n      },\n    ],\n  },\n  // ...\n};\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n\n\nå¦æä½¿ç¨äºes6 è½¬ es5 æ¨¡å ä¼ä¸ eslint äº§çå²çª,æä»¬æ³è¦ä¼åæeslint æ ¡éªæ¾å¨åé¢,ä½éç½®éé¡¹ä¸æ¯æç§ä¹¦åé¡ºåºæ¥æ§è¡ç,æä»¥æä»¬éè¦ætest ä¸º js æä»¶ç loaderéç½® æ¢useéç½®,use:['babel-loader', ,'eslint-loader']\n\nmodule.exports = {\n  // ...\n  module: {\n    rules: [\n      {\n        test: /\\.js$/,\n        exclude: /node_modules/,\n        use: ['babel-loader', 'eslint-loader'],\n      },\n    ],\n  },\n  // ...\n};\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n\n\nä¹å¯æåä¹¦å\n\nmodule.exports = {\n  // ...\n  module: {\n    rules: [\n      {\n        enforce: 'pre',   // å¼ºå¶ æå\n        test: /\\.js$/,\n        exclude: /node_modules/,\n        loader: 'eslint-loader',\n      },\n      {\n        test: /\\.js$/,\n        exclude: /node_modules/,\n        loader: 'babel-loader',\n      },\n    ],\n  },\n  // ...\n};\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n\n\n\n# éæ©eslint çä»£ç è§è\n\næå¼eslintå½ä»¤ç¬¦\n\n.\\node_modules\\.bin\\eslint.cmd --init\n# æè npx eslint --init è¯¦æç®åè¯·ç å®è£ä¸­çä¿®æ¹package.json ç®åæåå½ä»¤\n\n\n1\n2\n",charsets:{cjk:!0},lastUpdated:"2022/03/18, 09:00:59",lastUpdatedTimestamp:1647565259e3},{title:"vue çæ¬",frontmatter:{title:"vue çæ¬",date:"2022-03-18T00:55:10.000Z",permalink:"/pages/0a8d91/",categories:["åç«¯","Vue2"],tags:[null]},regularPath:"/%E5%89%8D%E7%AB%AF/02.Vue2/14.vue%20%E7%89%88%E6%9C%AC.html",relativePath:"åç«¯/02.Vue2/14.vue çæ¬.md",key:"v-5e457954",path:"/pages/0a8d91/",headers:[{level:2,title:"æ¥çå½åé¡¹ç®vue cliçæ¬",slug:"æ¥çå½åé¡¹ç®vue-cliçæ¬",normalizedTitle:"æ¥çå½åé¡¹ç®vue cliçæ¬",charIndex:13},{level:2,title:"åçº§å½å vue cli çæ¬",slug:"åçº§å½å-vue-cli-çæ¬",normalizedTitle:"åçº§å½å vue cli çæ¬",charIndex:53}],headersStr:"æ¥çå½åé¡¹ç®vue cliçæ¬ åçº§å½å vue cli çæ¬",content:"# vue çæ¬\n\n\n# æ¥çå½åé¡¹ç®vue cliçæ¬\n\nvue --version\n\n\n1\n\n\n\n# åçº§å½å vue cli çæ¬\n\nè®°å¾åå­å¨å°æ¬å°åºååçº§\n\nvue upgrade\n\n\n1\n",normalizedContent:"# vue çæ¬\n\n\n# æ¥çå½åé¡¹ç®vue cliçæ¬\n\nvue --version\n\n\n1\n\n\n\n# åçº§å½å vue cli çæ¬\n\nè®°å¾åå­å¨å°æ¬å°åºååçº§\n\nvue upgrade\n\n\n1\n",charsets:{cjk:!0},lastUpdated:"2022/03/18, 07:01:11",lastUpdatedTimestamp:1647558071e3},{title:"ä¼åæå",frontmatter:{title:"ä¼åæå",date:"2022-03-18T00:55:10.000Z",permalink:"/pages/b8f860/",categories:["åç«¯","Vue2"],tags:[null]},regularPath:"/%E5%89%8D%E7%AB%AF/02.Vue2/15.%E4%BC%98%E5%8C%96%E6%89%93%E5%8C%85.html",relativePath:"åç«¯/02.Vue2/15.ä¼åæå.md",key:"v-060fb40c",path:"/pages/b8f860/",headers:[{level:2,title:"éè¿ report æ¥çä¸ååæåèæ¶",slug:"éè¿-report-æ¥çä¸ååæåèæ¶",normalizedTitle:"éè¿ report æ¥çä¸ååæåèæ¶",charIndex:11},{level:2,title:"Gzipåç¼©",slug:"gzipåç¼©",normalizedTitle:"gzipåç¼©",charIndex:192},{level:2,title:"ä¸æåç¬¬ä¸æ¹å",slug:"ä¸æåç¬¬ä¸æ¹å",normalizedTitle:"ä¸æåç¬¬ä¸æ¹å",charIndex:620}],headersStr:"éè¿ report æ¥çä¸ååæåèæ¶ Gzipåç¼© ä¸æåç¬¬ä¸æ¹å",content:"# ä¼åæå\n\n\n# éè¿ report æ¥çä¸ååæåèæ¶\n\nå¨package.json ä¸­scriptsçbuild:'vue-cli-service build --report' å ä¸--reportéç½®\n\nnpm run build  # æå\n\n\n1\n\n\næåæååå¨distæä»¶å¤¹çreport.htmlå¹¶å¨æµè§å¨ä¸­æå¼,éè¿å¾å½¢çåæ,å¯ä»¥çå°æ¯ä¸ªåçå æ¯.\n\n\n# Gzipåç¼©\n\nHTTPåè®®ä¸çGZIPç¼ç è½å¸®å©æä»¬åç¼©ç½ç«èµæºæä»¶,åå°è¦ä¼ è¾çæä»¶å¤§å°,ä½¿æµéåå°å è½½æ´å¿«\n\nå¦ä½å¼å¯?å®éè¦ååç«¯éç½®æè½ä½¿ç¨.åç«¯è¦ææå¡å¨è½¯ä»¶å¼å¯Gzipåç¼©åè½(ä¸»æµçæå¡å¨è½¯ä»¶é»è®¤é½æ¯å¼å¯Gzip),å®¢æ·ç«¯ä¸éè¦åä»»ä½å¤ç,åå³äºæµè§å¨(å¤ªæ§çæµè§å¨å¯è½ä¸æ¯æ)\n\nå¦ä½æ£æµåå®¹æ¯å¦å·²å¼å¯äºGzipåç¼©?å¯ä»¥æ¥çååºå¤´æ¯å¦æä»¥ä¸éç½®\n\nContent-Encoding: gzip\n\n\n1\n\n\nä½¿ç¨ Vue CLI å®æ¹æ¨èçserve å½ä»¤è¡å·¥å·\n\n#1. å®è£ å·¥å·\nnpm install --global serve\n\n# æ¥ççæ¬\nserve --version\n\n# å¨æåç»æç®å½æ§è¡ä¸é¢å½ä»¤å¯å¨ä¸ä¸ª http éææå¡(é»è®¤å¼å¯ Gzip åç¼©å¯å¨æå¡)\nserve -s ./\n\n# ç¦ç¨gzip ä½¿ç¨ -uåæ°\nserve -s -u ./\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n\n\n\n# ä¸æåç¬¬ä¸æ¹å\n\néè¿<script src=''>æ ç­¾å¼ç¨çç¬¬ä¸æ¹,wepackä¸åä»»ä½å¤ç\n\næä»¥æä»¬å¯ä»¥éè¿cdnæ¥å è½½ç¬¬ä¸æ¹,ä¼åæåéåº¦.\n\nhttps://www.jsdelivr.com/\n\næ³¨ææ¨¡åçæ¬ è¯¦ç»æ¨¡åä¿¡æ¯package.json\n\n<link rel='stylesheet' href='https://cdn.jsdelivr.net/npm/element-ui@2.15.3/lib/theme-chalk/index.css'>\n    \x3c!-- åå è½½cssæ ·å¼ åå¼å¥vue åå¼å¥ element --\x3e\n<script src='https://cdn.jsdelivr.net/npm/vue@2.6.14/dist/vue.js'><\/script>\n<script src='https://cdn.jsdelivr.net/npm/element-ui@2.15.3/lib/index.js'><\/script>\n\n\n1\n2\n3\n4\n\n\nå è½½å®å,æ¯æ æ³ç´æ¥ä½¿ç¨ç å ä¸ºæä»¬éè¿importå¯¼å¥\n\næä»¥æå¾åå¨vue.config.jsä¸­è¿½å \n\nmodule.exports = {\n    configureWebpack:{\nextenals:{\n    // å ä¸ºå¨index.html å è½½ç æä»¥å¾å¨å±æ´é²\n    // å±æ§å : å è½½çåå\n    \t'vue' : 'Vue',\n    \t'elment-ui': 'ELEMENT'\n\t\t}\n    }\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n",normalizedContent:"# ä¼åæå\n\n\n# éè¿ report æ¥çä¸ååæåèæ¶\n\nå¨package.json ä¸­scriptsçbuild:'vue-cli-service build --report' å ä¸--reportéç½®\n\nnpm run build  # æå\n\n\n1\n\n\næåæååå¨distæä»¶å¤¹çreport.htmlå¹¶å¨æµè§å¨ä¸­æå¼,éè¿å¾å½¢çåæ,å¯ä»¥çå°æ¯ä¸ªåçå æ¯.\n\n\n# gzipåç¼©\n\nhttpåè®®ä¸çgzipç¼ç è½å¸®å©æä»¬åç¼©ç½ç«èµæºæä»¶,åå°è¦ä¼ è¾çæä»¶å¤§å°,ä½¿æµéåå°å è½½æ´å¿«\n\nå¦ä½å¼å¯?å®éè¦ååç«¯éç½®æè½ä½¿ç¨.åç«¯è¦ææå¡å¨è½¯ä»¶å¼å¯gzipåç¼©åè½(ä¸»æµçæå¡å¨è½¯ä»¶é»è®¤é½æ¯å¼å¯gzip),å®¢æ·ç«¯ä¸éè¦åä»»ä½å¤ç,åå³äºæµè§å¨(å¤ªæ§çæµè§å¨å¯è½ä¸æ¯æ)\n\nå¦ä½æ£æµåå®¹æ¯å¦å·²å¼å¯äºgzipåç¼©?å¯ä»¥æ¥çååºå¤´æ¯å¦æä»¥ä¸éç½®\n\ncontent-encoding: gzip\n\n\n1\n\n\nä½¿ç¨ vue cli å®æ¹æ¨èçserve å½ä»¤è¡å·¥å·\n\n#1. å®è£ å·¥å·\nnpm install --global serve\n\n# æ¥ççæ¬\nserve --version\n\n# å¨æåç»æç®å½æ§è¡ä¸é¢å½ä»¤å¯å¨ä¸ä¸ª http éææå¡(é»è®¤å¼å¯ gzip åç¼©å¯å¨æå¡)\nserve -s ./\n\n# ç¦ç¨gzip ä½¿ç¨ -uåæ°\nserve -s -u ./\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n\n\n\n# ä¸æåç¬¬ä¸æ¹å\n\néè¿<script src=''>æ ç­¾å¼ç¨çç¬¬ä¸æ¹,wepackä¸åä»»ä½å¤ç\n\næä»¥æä»¬å¯ä»¥éè¿cdnæ¥å è½½ç¬¬ä¸æ¹,ä¼åæåéåº¦.\n\nhttps://www.jsdelivr.com/\n\næ³¨ææ¨¡åçæ¬ è¯¦ç»æ¨¡åä¿¡æ¯package.json\n\n<link rel='stylesheet' href='https://cdn.jsdelivr.net/npm/element-ui@2.15.3/lib/theme-chalk/index.css'>\n    \x3c!-- åå è½½cssæ ·å¼ åå¼å¥vue åå¼å¥ element --\x3e\n<script src='https://cdn.jsdelivr.net/npm/vue@2.6.14/dist/vue.js'><\/script>\n<script src='https://cdn.jsdelivr.net/npm/element-ui@2.15.3/lib/index.js'><\/script>\n\n\n1\n2\n3\n4\n\n\nå è½½å®å,æ¯æ æ³ç´æ¥ä½¿ç¨ç å ä¸ºæä»¬éè¿importå¯¼å¥\n\næä»¥æå¾åå¨vue.config.jsä¸­è¿½å \n\nmodule.exports = {\n    configurewebpack:{\nextenals:{\n    // å ä¸ºå¨index.html å è½½ç æä»¥å¾å¨å±æ´é²\n    // å±æ§å : å è½½çåå\n    \t'vue' : 'vue',\n    \t'elment-ui': 'element'\n\t\t}\n    }\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n",charsets:{cjk:!0},lastUpdated:"2022/03/18, 09:00:59",lastUpdatedTimestamp:1647565259e3},{title:"vue å¾å½¢çé¢",frontmatter:{title:"vue å¾å½¢çé¢",date:"2022-03-18T00:55:10.000Z",permalink:"/pages/c64d65/",categories:["åç«¯","Vue2"],tags:[null]},regularPath:"/%E5%89%8D%E7%AB%AF/02.Vue2/16.vue%20%E5%9B%BE%E5%BD%A2%E7%95%8C%E9%9D%A2.html",relativePath:"åç«¯/02.Vue2/16.vue å¾å½¢çé¢.md",key:"v-c91d0ee8",path:"/pages/c64d65/",headersStr:null,content:"# vue å¾å½¢çé¢\n\nvue ui\n\n\n1\n\n\nèªå¨å¨8000ç«¯å£å¯å¨ä¸ä¸ªvueçuiå¾å½¢çé¢ å¯ä»¥åå»ºé¡¹ç® ç®¡çé¡¹ç® å¯¼å¥é¡¹ç®",normalizedContent:"# vue å¾å½¢çé¢\n\nvue ui\n\n\n1\n\n\nèªå¨å¨8000ç«¯å£å¯å¨ä¸ä¸ªvueçuiå¾å½¢çé¢ å¯ä»¥åå»ºé¡¹ç® ç®¡çé¡¹ç® å¯¼å¥é¡¹ç®",charsets:{cjk:!0},lastUpdated:"2022/03/18, 07:01:11",lastUpdatedTimestamp:1647558071e3},{title:"è·¯ç±æå è½½",frontmatter:{title:"è·¯ç±æå è½½",date:"2022-03-18T00:55:10.000Z",permalink:"/pages/27ac6a/",categories:["åç«¯","Vue2"],tags:[null]},regularPath:"/%E5%89%8D%E7%AB%AF/02.Vue2/17.%E8%B7%AF%E7%94%B1%E6%87%92%E5%8A%A0%E8%BD%BD.html",relativePath:"åç«¯/02.Vue2/17.è·¯ç±æå è½½.md",key:"v-6cbdabde",path:"/pages/27ac6a/",headers:[{level:2,title:"æç»ä»¶æç»åå",slug:"æç»ä»¶æç»åå",normalizedTitle:"æç»ä»¶æç»åå",charIndex:305}],headersStr:"æç»ä»¶æç»åå",content:"# è·¯ç±æå è½½\n\nè·¯ç±æå è½½ ä¸»è¦éå¯¹äºæä»¬èªå·±çä»£ç ,é»è®¤æåµä¸æä»¬åçä»£ç ä¼è¢«æåå°app.xxx.jsä¸­,å¦ææä»¬çä»£ç éå¸¸å¤,æåçæä»¶è¶æ¥è¶å¤§,å¤ªå¤§ä¼å½±åé¦æ¬¡å è½½éåº¦.æä»¥æä»¬å¯ä»¥éè¿è·¯ç±æå è½½æ¥ä¼åå®\n\n//æä»¬é»è®¤æ¯import èªå®ä¹åç§° from ç»ä»¶è·¯å¾ åªéå¯¹æ¬å°å è½½çå¼ç¨\nimport Login from '@/views/login/'\n\n\n1\n2\n\n\n// æä»¬éè¿ç®­å¤´å½æ°æ¥å¼ç¨  webpack å°±ä¼æææç®­å¤´å½æ°å¼ç¨ å è½½çèµæºåå²æä¸ä¸ªä¸ªç¬ç«çä»£ç æä»¶å\nconst Login = () => import ('@/views/login/')\n\n\n1\n2\n\n\n\n# æç»ä»¶æç»åå\n\n// /* webpackChunkName: \"group-foo\" */ ä¸ºåç»å³é®å­  group-foo ä¸ºç»å\nconst Login = () => import(/* webpackChunkName: \"group-foo\" */ '@/views/login/')\n\n\n1\n2\n\n\nå½è¿ä¸ªç»æä¸ä¸ªæ¨¡åå è½½äºåæ­¤ç»æææ¨¡åé½å è½½äº",normalizedContent:"# è·¯ç±æå è½½\n\nè·¯ç±æå è½½ ä¸»è¦éå¯¹äºæä»¬èªå·±çä»£ç ,é»è®¤æåµä¸æä»¬åçä»£ç ä¼è¢«æåå°app.xxx.jsä¸­,å¦ææä»¬çä»£ç éå¸¸å¤,æåçæä»¶è¶æ¥è¶å¤§,å¤ªå¤§ä¼å½±åé¦æ¬¡å è½½éåº¦.æä»¥æä»¬å¯ä»¥éè¿è·¯ç±æå è½½æ¥ä¼åå®\n\n//æä»¬é»è®¤æ¯import èªå®ä¹åç§° from ç»ä»¶è·¯å¾ åªéå¯¹æ¬å°å è½½çå¼ç¨\nimport login from '@/views/login/'\n\n\n1\n2\n\n\n// æä»¬éè¿ç®­å¤´å½æ°æ¥å¼ç¨  webpack å°±ä¼æææç®­å¤´å½æ°å¼ç¨ å è½½çèµæºåå²æä¸ä¸ªä¸ªç¬ç«çä»£ç æä»¶å\nconst login = () => import ('@/views/login/')\n\n\n1\n2\n\n\n\n# æç»ä»¶æç»åå\n\n// /* webpackchunkname: \"group-foo\" */ ä¸ºåç»å³é®å­  group-foo ä¸ºç»å\nconst login = () => import(/* webpackchunkname: \"group-foo\" */ '@/views/login/')\n\n\n1\n2\n\n\nå½è¿ä¸ªç»æä¸ä¸ªæ¨¡åå è½½äºåæ­¤ç»æææ¨¡åé½å è½½äº",charsets:{cjk:!0},lastUpdated:"2022/03/18, 07:01:11",lastUpdatedTimestamp:1647558071e3},{title:"ç¼å­åå¹¶è¡å¤ç",frontmatter:{title:"ç¼å­åå¹¶è¡å¤ç",date:"2022-03-18T00:55:10.000Z",permalink:"/pages/14f647/",categories:["åç«¯","Vue2"],tags:[null]},regularPath:"/%E5%89%8D%E7%AB%AF/02.Vue2/19.%E7%BC%93%E5%AD%98%E5%92%8C%E5%B9%B6%E8%A1%8C%E5%A4%84%E7%90%86.html",relativePath:"åç«¯/02.Vue2/19.ç¼å­åå¹¶è¡å¤ç.md",key:"v-1b1a2fda",path:"/pages/14f647/",headersStr:null,content:"# ç¼å­åå¹¶è¡å¤ç\n\nVue CLI åç½®äº\n\ncache-loader ä¼é»è®¤ä¸ºvue/bable/typescrip å¼å¯,æä»¶ç¼å­ä¼å¨ node_modules/.cache ä¸­,å¦ç¼è¯é¢å°é®é¢å¯ä»¥å°è¯åå é¤ç¼å­ç®å½\n\nthread-loader ä¼å¨å¤æ ¸cpuçæºå¨ä¸ä¸ºbabel/typescript è½¬è¯å¼å¯",normalizedContent:"# ç¼å­åå¹¶è¡å¤ç\n\nvue cli åç½®äº\n\ncache-loader ä¼é»è®¤ä¸ºvue/bable/typescrip å¼å¯,æä»¶ç¼å­ä¼å¨ node_modules/.cache ä¸­,å¦ç¼è¯é¢å°é®é¢å¯ä»¥å°è¯åå é¤ç¼å­ç®å½\n\nthread-loader ä¼å¨å¤æ ¸cpuçæºå¨ä¸ä¸ºbabel/typescript è½¬è¯å¼å¯",charsets:{cjk:!0},lastUpdated:"2022/03/18, 07:01:11",lastUpdatedTimestamp:1647558071e3},{title:"element æéå¼ç¨",frontmatter:{title:"element æéå¼ç¨",date:"2022-03-18T00:55:10.000Z",permalink:"/pages/1bc0dd/",categories:["åç«¯","Vue2"],tags:[null]},regularPath:"/%E5%89%8D%E7%AB%AF/02.Vue2/18.element%20%E6%8C%89%E9%9C%80%E5%BC%95%E7%94%A8.html",relativePath:"åç«¯/02.Vue2/18.element æéå¼ç¨.md",key:"v-6d96d148",path:"/pages/1bc0dd/",headersStr:null,content:'# element æéå¼ç¨\n\nå®è£\n\nnpm install babel-plugin-component -D\n\n\n1\n\n\nç¶åï¼å° .babelrc ä¿®æ¹ä¸ºï¼\n\n{\n  "presets": [["es2015", { "modules": false }]],\n  "plugins": [\n    [\n      "component",\n      {\n        "libraryName": "element-ui",\n        "styleLibraryName": "theme-chalk"\n      }\n    ]\n  ]\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n\n\næç»ä»¶å¼ç¨\n\nimport { Button, Select } from \'element-ui\';\n\nVue.component(Button.name, Button);\nVue.component(Select.name, Select);\n\n\n1\n2\n3\n4\n',normalizedContent:'# element æéå¼ç¨\n\nå®è£\n\nnpm install babel-plugin-component -d\n\n\n1\n\n\nç¶åï¼å° .babelrc ä¿®æ¹ä¸ºï¼\n\n{\n  "presets": [["es2015", { "modules": false }]],\n  "plugins": [\n    [\n      "component",\n      {\n        "libraryname": "element-ui",\n        "stylelibraryname": "theme-chalk"\n      }\n    ]\n  ]\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n\n\næç»ä»¶å¼ç¨\n\nimport { button, select } from \'element-ui\';\n\nvue.component(button.name, button);\nvue.component(select.name, select);\n\n\n1\n2\n3\n4\n',charsets:{cjk:!0},lastUpdated:"2022/03/18, 07:01:11",lastUpdatedTimestamp:1647558071e3},{title:"JavaScript å¼æ­¥ç¼ç¨",frontmatter:{title:"JavaScript å¼æ­¥ç¼ç¨",date:"2022-03-18T00:55:10.000Z",permalink:"/pages/195534/",categories:["åç«¯","Vue2"],tags:[null]},regularPath:"/%E5%89%8D%E7%AB%AF/02.Vue2/20.JavaScript%20%E5%BC%82%E6%AD%A5%E7%BC%96%E7%A8%8B.html",relativePath:"åç«¯/02.Vue2/20.JavaScript å¼æ­¥ç¼ç¨.md",key:"v-49d4e880",path:"/pages/195534/",headers:[{level:3,title:"å®æ¶å¨",slug:"å®æ¶å¨",normalizedTitle:"å®æ¶å¨",charIndex:22},{level:3,title:"ajaxè¯·æ±",slug:"ajaxè¯·æ±",normalizedTitle:"ajaxè¯·æ±",charIndex:185},{level:2,title:"1. callback åè°å½æ°",slug:"_1-callback-åè°å½æ°",normalizedTitle:"1. callback åè°å½æ°",charIndex:490},{level:2,title:"2. Promise",slug:"_2-promise",normalizedTitle:"2. promise",charIndex:717},{level:2,title:"3.Generator çæå¨å½æ°(æ·æ±°äº)",slug:"_3-generator-çæå¨å½æ°-æ·æ±°äº",normalizedTitle:"3.generator çæå¨å½æ°(æ·æ±°äº)",charIndex:870},{level:2,title:"4. Async å½æ° (æ¨è)",slug:"_4-async-å½æ°-æ¨è",normalizedTitle:"4. async å½æ° (æ¨è)",charIndex:897},{level:3,title:"Async ç è¿åå¼",slug:"async-ç-è¿åå¼",normalizedTitle:"async ç è¿åå¼",charIndex:1595},{level:2,title:"async å½æ°çéè¯¯å¤ç",slug:"async-å½æ°çéè¯¯å¤ç",normalizedTitle:"async å½æ°çéè¯¯å¤ç",charIndex:2136}],headersStr:"å®æ¶å¨ ajaxè¯·æ± 1. callback åè°å½æ° 2. Promise 3.Generator çæå¨å½æ°(æ·æ±°äº) 4. Async å½æ° (æ¨è) Async ç è¿åå¼ async å½æ°çéè¯¯å¤ç",content:"# JavaScript å¼æ­¥ç¼ç¨\n\n\n# å®æ¶å¨\n\nconsole.log(1)\n\nsetTimeout() => {\n    console.log(2)\n}\n\nconsole.log(3)\n\n// è¾åºç»ææ¯ 1 3 2  \n// å¾ä¸æ§è¡æ¶ ä¸ä¼ç­å¾setTimeoutå®æ¶å¨çç»æ èæ¯ç´æ¥åä¸ç»§ç»­æ§è¡\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n\n\n\n# ajaxè¯·æ±\n\n//æ è®ºæ¯ä½¿ç¨åçç XMLHttpRequest è¿æ¯ Jquery çajax è¿æ¯æ¯ axios é½æ¯å¼æ­¥ç\n\n$.ajax({\n    method:'',\n    url:'',\n    success: function(data) {\n        // data å°±æ¯ååºç»æ\n    }\n})\n\n// å¼æ­¥ä»£ç  å¾å¾é½ä¼´éä¸ä¸ªåè°å½æ°æ¥æ¥åç»æ  åå¤´è°ç¨\naxios({\n    methos:'',\n    url:''\n}).then(res => {\n    \n})\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n\n\n\n# 1. callback åè°å½æ°\n\nææ¶å,æä»¬éè¦å¨å¼æ­¥æä½çç»æä¸­æ§è¡å¦å¤ä¸ä¸ªå¼æ­¥æä½\n\naxios({\n    methos:'',\n    url:''\n}).then(res => {\n    axios({\n    methos:'',\n    url:''\n\t\t}).then(res => {\n \n\t\t\t})\n})\n\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n\n\nå½åºç°ç±»åä¸é¢çåµå¥å¼æ­¥æ¶,éå¸¸ä¸ä¾¿äºéè¯»åçè§£\n\n\n# 2. Promise\n\nnew Promist((resovle,reject) => {\n    setTimeout(() => {\n        resolve()  // å¨Promiseä¸­ æåresolve å¤±è´¥ reject\n    },1000)\n})\n\n\n1\n2\n3\n4\n5\n\n\n\n# 3.Generator çæå¨å½æ°(æ·æ±°äº)\n\n\n# 4. Async å½æ° (æ¨è)\n\næäº Async å½æ°,å¯ä»¥æå¤§äºç®åæä»¬çå¼æ­¥æä½,åææ¯ä½ çå¼æ­¥æä½æ¯æPromise\n\nå¦axiosæ¯æPromiose,æä»¥æä»¬å¯ä»¥ä½¿ç¨asyncå½æ°è°ç¨ä¼åå®, ä»»ä½å¼æ­¥å¦ææ¯æpromiseåé½å¯ä»¥ä½¿ç¨Asyncå½æ°æ¥ä½¿ç¨\n\naxios({\n    methos:'',\n    url:''\n}).then(res => {\n    \n})\n\n// async åªè½ç¨äºå½æ° åªè¦æ¯å½æ°é½å¯ä»¥è¢«æ è®°ä¸ºasync,æ è®ºè¿ä¸ªå½æ°æ¯ä»ä¹å½¢å¼\nasync function main () {\n    // éè¿ async-await æä»¬å¯ä»¥åå±åæ­¥ä¸æ ·æ¥åå¼æ­¥ä»£ç  \n    \t\t\t\t\t\t// ä½¿ç¨awaitå³é®å­çç¶å½æ°å¿é¡»å async\n    const res =await axios({  //awaitç­å¾,åªæ await åé¢çæä½ç»æäº,ä»£ç æä¼ç»§ç»­å¾åæ§è¡\n         methos:'',\n   \t\t url:''\n    })\n    \n    console.log(res)\n    \n    \n     const res2 =await axios({  //res2ä¸ä¼é©¬ä¸æ§è¡ è¦ç­ res è¯·æ±ç»æåæä¼æ§è¡\n         methos:'',\n   \t\t url:''\n    })\n     \n     console.log(res2)\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n26\n\n\n\n# Async ç è¿åå¼\n\nasync function main() {\n    return 123\n    //ç¸å¯¹åº async ä¸ä¼æä¸æ¯promiseå¯¹è±¡çè¿åå¼è¿å\n    //return new Promise(resolve => {\n    //resolve(123)\n//})\n}\n\nconst data = main()\nconsole.log(data)   //è¿åä¸ºä¸ä¸ª Promiseå¯¹è±¡\n// async å§ç»è¿åä¸ä¸ªPromiseå¯¹è±¡ å¦æè¿ä¸ªè¿åå¼ä¸æ¯Promiseå¯¹è±¡åå°è£æPromiseå¯¹è±¡\n\n//ç¬¬ä¸ç§æ¹å¼è·åå¼ ç¨thenè·å\nmian().then(data => {\n    console.log(data)  //promiseå¯¹è±¡ç¨thenè¿åç»æ\n})\n\n//ç¬¬äºç§æ¹å¼è·åå¼  ç¨awaitè·å\nasync function main2(){\n    const data = await mian()\n    console.log(data)\n}\n\nmain2()\n\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n\n\n\n# async å½æ°çéè¯¯å¤ç\n\nä½¿ç¨catchæè·å¼å¸¸\n\nasync function main() {\n    JSON.parse('123124')\n    return 123\n}\n\nmain().then(res => {\n    console.log(123)\n}).catch(err => {\n    console.log('åçå¼å¸¸',errw)\n})\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n\n\næ¨èä½¿ç¨ try-catch æè·\n\nasync function main2() {\n    try{\n        // å¦ætry éé¢çä»£ç éå°å¼å¸¸,ååæ­¢æ§è¡tryéé¢ä¸é¢çä»£ç ,è¿å¥catch\n        const data =await main()\n        console.log(data)\n    } catch (err) {\n        console.log('å¼å¸¸')\n    }\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n",normalizedContent:"# javascript å¼æ­¥ç¼ç¨\n\n\n# å®æ¶å¨\n\nconsole.log(1)\n\nsettimeout() => {\n    console.log(2)\n}\n\nconsole.log(3)\n\n// è¾åºç»ææ¯ 1 3 2  \n// å¾ä¸æ§è¡æ¶ ä¸ä¼ç­å¾settimeoutå®æ¶å¨çç»æ èæ¯ç´æ¥åä¸ç»§ç»­æ§è¡\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n\n\n\n# ajaxè¯·æ±\n\n//æ è®ºæ¯ä½¿ç¨åçç xmlhttprequest è¿æ¯ jquery çajax è¿æ¯æ¯ axios é½æ¯å¼æ­¥ç\n\n$.ajax({\n    method:'',\n    url:'',\n    success: function(data) {\n        // data å°±æ¯ååºç»æ\n    }\n})\n\n// å¼æ­¥ä»£ç  å¾å¾é½ä¼´éä¸ä¸ªåè°å½æ°æ¥æ¥åç»æ  åå¤´è°ç¨\naxios({\n    methos:'',\n    url:''\n}).then(res => {\n    \n})\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n\n\n\n# 1. callback åè°å½æ°\n\nææ¶å,æä»¬éè¦å¨å¼æ­¥æä½çç»æä¸­æ§è¡å¦å¤ä¸ä¸ªå¼æ­¥æä½\n\naxios({\n    methos:'',\n    url:''\n}).then(res => {\n    axios({\n    methos:'',\n    url:''\n\t\t}).then(res => {\n \n\t\t\t})\n})\n\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n\n\nå½åºç°ç±»åä¸é¢çåµå¥å¼æ­¥æ¶,éå¸¸ä¸ä¾¿äºéè¯»åçè§£\n\n\n# 2. promise\n\nnew promist((resovle,reject) => {\n    settimeout(() => {\n        resolve()  // å¨promiseä¸­ æåresolve å¤±è´¥ reject\n    },1000)\n})\n\n\n1\n2\n3\n4\n5\n\n\n\n# 3.generator çæå¨å½æ°(æ·æ±°äº)\n\n\n# 4. async å½æ° (æ¨è)\n\næäº async å½æ°,å¯ä»¥æå¤§äºç®åæä»¬çå¼æ­¥æä½,åææ¯ä½ çå¼æ­¥æä½æ¯æpromise\n\nå¦axiosæ¯æpromiose,æä»¥æä»¬å¯ä»¥ä½¿ç¨asyncå½æ°è°ç¨ä¼åå®, ä»»ä½å¼æ­¥å¦ææ¯æpromiseåé½å¯ä»¥ä½¿ç¨asyncå½æ°æ¥ä½¿ç¨\n\naxios({\n    methos:'',\n    url:''\n}).then(res => {\n    \n})\n\n// async åªè½ç¨äºå½æ° åªè¦æ¯å½æ°é½å¯ä»¥è¢«æ è®°ä¸ºasync,æ è®ºè¿ä¸ªå½æ°æ¯ä»ä¹å½¢å¼\nasync function main () {\n    // éè¿ async-await æä»¬å¯ä»¥åå±åæ­¥ä¸æ ·æ¥åå¼æ­¥ä»£ç  \n    \t\t\t\t\t\t// ä½¿ç¨awaitå³é®å­çç¶å½æ°å¿é¡»å async\n    const res =await axios({  //awaitç­å¾,åªæ await åé¢çæä½ç»æäº,ä»£ç æä¼ç»§ç»­å¾åæ§è¡\n         methos:'',\n   \t\t url:''\n    })\n    \n    console.log(res)\n    \n    \n     const res2 =await axios({  //res2ä¸ä¼é©¬ä¸æ§è¡ è¦ç­ res è¯·æ±ç»æåæä¼æ§è¡\n         methos:'',\n   \t\t url:''\n    })\n     \n     console.log(res2)\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n26\n\n\n\n# async ç è¿åå¼\n\nasync function main() {\n    return 123\n    //ç¸å¯¹åº async ä¸ä¼æä¸æ¯promiseå¯¹è±¡çè¿åå¼è¿å\n    //return new promise(resolve => {\n    //resolve(123)\n//})\n}\n\nconst data = main()\nconsole.log(data)   //è¿åä¸ºä¸ä¸ª promiseå¯¹è±¡\n// async å§ç»è¿åä¸ä¸ªpromiseå¯¹è±¡ å¦æè¿ä¸ªè¿åå¼ä¸æ¯promiseå¯¹è±¡åå°è£æpromiseå¯¹è±¡\n\n//ç¬¬ä¸ç§æ¹å¼è·åå¼ ç¨thenè·å\nmian().then(data => {\n    console.log(data)  //promiseå¯¹è±¡ç¨thenè¿åç»æ\n})\n\n//ç¬¬äºç§æ¹å¼è·åå¼  ç¨awaitè·å\nasync function main2(){\n    const data = await mian()\n    console.log(data)\n}\n\nmain2()\n\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n\n\n\n# async å½æ°çéè¯¯å¤ç\n\nä½¿ç¨catchæè·å¼å¸¸\n\nasync function main() {\n    json.parse('123124')\n    return 123\n}\n\nmain().then(res => {\n    console.log(123)\n}).catch(err => {\n    console.log('åçå¼å¸¸',errw)\n})\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n\n\næ¨èä½¿ç¨ try-catch æè·\n\nasync function main2() {\n    try{\n        // å¦ætry éé¢çä»£ç éå°å¼å¸¸,ååæ­¢æ§è¡tryéé¢ä¸é¢çä»£ç ,è¿å¥catch\n        const data =await main()\n        console.log(data)\n    } catch (err) {\n        console.log('å¼å¸¸')\n    }\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n",charsets:{cjk:!0},lastUpdated:"2022/03/18, 07:01:11",lastUpdatedTimestamp:1647558071e3},{title:"JRE(Java Runtime Enviroment)",frontmatter:{title:"JRE(Java Runtime Enviroment)",date:"2022-03-18T00:48:40.000Z",permalink:"/pages/0c8879/",categories:["åç«¯","Java"],tags:[null]},regularPath:"/%E5%90%8E%E7%AB%AF/01.JavaSE/02.JRE(Java%20Runtime%20Enviroment).html",relativePath:"åç«¯/01.JavaSE/02.JRE(Java Runtime Enviroment).md",key:"v-58b13ad2",path:"/pages/0c8879/",headersStr:null,content:"# JRE(Java Runtime Enviroment)\n\næ¯Java ç¨åºçè¿è¡æ¶ç¯å¢ ï¼åå«Jvm åè¿è¡æ¶æéè¦çæ ¸å¿ç±»åºã",normalizedContent:"# jre(java runtime enviroment)\n\næ¯java ç¨åºçè¿è¡æ¶ç¯å¢ ï¼åå«jvm åè¿è¡æ¶æéè¦çæ ¸å¿ç±»åºã",charsets:{cjk:!0},lastUpdated:"2022/03/18, 07:01:11",lastUpdatedTimestamp:1647558071e3},{title:"javaè·¨å¹³å°åç",frontmatter:{title:"javaè·¨å¹³å°åç",date:"2022-03-18T00:48:40.000Z",permalink:"/pages/df8281/",categories:["åç«¯","Java"],tags:[null]},regularPath:"/%E5%90%8E%E7%AB%AF/01.JavaSE/01.java%E8%B7%A8%E5%B9%B3%E5%8F%B0%E5%8E%9F%E7%90%86.html",relativePath:"åç«¯/01.JavaSE/01.javaè·¨å¹³å°åç.md",key:"v-4574a8d8",path:"/pages/df8281/",headersStr:null,content:"# javaè·¨å¹³å°åç\n\nä½¿ç¨ä¸åå¹³å°çjvm(Jvm Java Virtual Machine) javaèææºå³å¯ä»¥å¨ä¸åå¹³å°è¿è¡",normalizedContent:"# javaè·¨å¹³å°åç\n\nä½¿ç¨ä¸åå¹³å°çjvm(jvm java virtual machine) javaèææºå³å¯ä»¥å¨ä¸åå¹³å°è¿è¡",charsets:{cjk:!0},lastUpdated:"2022/03/18, 07:01:11",lastUpdatedTimestamp:1647558071e3},{title:"JDK(Java Development Kit)",frontmatter:{title:"JDK(Java Development Kit)",date:"2022-03-18T00:48:40.000Z",permalink:"/pages/d217f4/",categories:["åç«¯","Java"],tags:[null]},regularPath:"/%E5%90%8E%E7%AB%AF/01.JavaSE/03.JDK(Java%20Development%20Kit).html",relativePath:"åç«¯/01.JavaSE/03.JDK(Java Development Kit).md",key:"v-42fdff6b",path:"/pages/d217f4/",headersStr:null,content:"# JDK(Java Development Kit)\n\næ¯javaç¨åºå¼åå·¥å·å,åå«JREåå¼åäººåä½¿ç¨çå·¥å·ã\n\nå¶ä¸­çå¼åå·¥å·:ç¼è¯å·¥å·(javac.exe)åè¿è¡å·¥å·(java.exe)ã\n\nå¦æè¦å¼åä¸ä¸ªå¨æ°çjavaç¨åºï¼é£ä¹å¿é¡»å®è£JDK\n\n",normalizedContent:"# jdk(java development kit)\n\næ¯javaç¨åºå¼åå·¥å·å,åå«jreåå¼åäººåä½¿ç¨çå·¥å·ã\n\nå¶ä¸­çå¼åå·¥å·:ç¼è¯å·¥å·(javac.exe)åè¿è¡å·¥å·(java.exe)ã\n\nå¦æè¦å¼åä¸ä¸ªå¨æ°çjavaç¨åºï¼é£ä¹å¿é¡»å®è£jdk\n\n",charsets:{cjk:!0},lastUpdated:"2022/03/18, 07:01:11",lastUpdatedTimestamp:1647558071e3},{title:"å¸¸ç¨doså½ä»¤",frontmatter:{title:"å¸¸ç¨doså½ä»¤",date:"2022-03-18T00:48:40.000Z",permalink:"/pages/47da21/",categories:["åç«¯","Java"],tags:[null]},regularPath:"/%E5%90%8E%E7%AB%AF/01.JavaSE/04.%E5%B8%B8%E7%94%A8dos%E5%91%BD%E4%BB%A4.html",relativePath:"åç«¯/01.JavaSE/04.å¸¸ç¨doså½ä»¤.md",key:"v-3191e504",path:"/pages/47da21/",headersStr:null,content:"# å¸¸ç¨doså½ä»¤\n\nåæ¢çç¬¦ d:\n\næ¥çå½åè·¯å¾çæææä»¶å¤¹åæä»¶ dir\n\nè¿å¥å½åè·¯å¾çæä»¶å¤¹ cd æä»¶å¤¹å\n\nè¿åè·¯å¾çä¸ä¸ä¸ªæä»¶å¤¹ cd ..\n\nè¿å¥å¤çº§ç®å½ cd æä»¶å¤¹å\\æä»¶å¤¹å\n\nåéå°çç¬¦ç®å½ cd\\\n\næ¸å± cls\n\néåº exit",normalizedContent:"# å¸¸ç¨doså½ä»¤\n\nåæ¢çç¬¦ d:\n\næ¥çå½åè·¯å¾çæææä»¶å¤¹åæä»¶ dir\n\nè¿å¥å½åè·¯å¾çæä»¶å¤¹ cd æä»¶å¤¹å\n\nè¿åè·¯å¾çä¸ä¸ä¸ªæä»¶å¤¹ cd ..\n\nè¿å¥å¤çº§ç®å½ cd æä»¶å¤¹å\\æä»¶å¤¹å\n\nåéå°çç¬¦ç®å½ cd\\\n\næ¸å± cls\n\néåº exit",charsets:{cjk:!0},lastUpdated:"2022/03/18, 07:01:11",lastUpdatedTimestamp:1647558071e3},{title:"éç½®ç³»ç»pathç¯å¢åé",frontmatter:{title:"éç½®ç³»ç»pathç¯å¢åé",date:"2022-03-18T00:48:41.000Z",permalink:"/pages/3ee21a/",categories:["åç«¯","Java"],tags:[null]},regularPath:"/%E5%90%8E%E7%AB%AF/01.JavaSE/05.%E9%85%8D%E7%BD%AE%E7%B3%BB%E7%BB%9Fpath%E7%8E%AF%E5%A2%83%E5%8F%98%E9%87%8F.html",relativePath:"åç«¯/01.JavaSE/05.éç½®ç³»ç»pathç¯å¢åé.md",key:"v-471ff6aa",path:"/pages/3ee21a/",headersStr:null,content:"# éç½®ç³»ç»pathç¯å¢åé\n\n 1. å¨pathåéä¸­æ°å»º JAVA_HOME åé å¼ä¸º javaå®è£ä¸çbin\n 2. æ°å»º CLASSPATH åé .;%JAVA_HOME%\\lib;%JAVA_HOME%\\lib\\tools.jar",normalizedContent:"# éç½®ç³»ç»pathç¯å¢åé\n\n 1. å¨pathåéä¸­æ°å»º java_home åé å¼ä¸º javaå®è£ä¸çbin\n 2. æ°å»º classpath åé .;%java_home%\\lib;%java_home%\\lib\\tools.jar",charsets:{cjk:!0},lastUpdated:"2022/03/18, 07:01:11",lastUpdatedTimestamp:1647558071e3},{title:"å¼åè¿è¡æµç¨",frontmatter:{title:"å¼åè¿è¡æµç¨",date:"2022-03-18T00:48:41.000Z",permalink:"/pages/417c2d/",categories:["åç«¯","Java"],tags:[null]},regularPath:"/%E5%90%8E%E7%AB%AF/01.JavaSE/06.%E5%BC%80%E5%8F%91%E8%BF%90%E8%A1%8C%E6%B5%81%E7%A8%8B.html",relativePath:"åç«¯/01.JavaSE/06.å¼åè¿è¡æµç¨.md",key:"v-7d9a1627",path:"/pages/417c2d/",headersStr:null,content:"# å¼åè¿è¡æµç¨\n\n1.ç¼åç¨åº\n\n2.ç¼è¯ç¨åº å½ä»¤ç¬¦ä¸ä½¿ç¨ javac æä»¶å.java è¿è¡ç¼è¯ ç¼è¯å®æåèªå¨çæclassæä»¶\n\n3.è¿è¡ç¨åº java ç±»å å³å¯å®æè¿è¡",normalizedContent:"# å¼åè¿è¡æµç¨\n\n1.ç¼åç¨åº\n\n2.ç¼è¯ç¨åº å½ä»¤ç¬¦ä¸ä½¿ç¨ javac æä»¶å.java è¿è¡ç¼è¯ ç¼è¯å®æåèªå¨çæclassæä»¶\n\n3.è¿è¡ç¨åº java ç±»å å³å¯å®æè¿è¡",charsets:{cjk:!0},lastUpdated:"2022/03/18, 07:01:11",lastUpdatedTimestamp:1647558071e3},{title:"åºç¡è¯­æ³",frontmatter:{title:"åºç¡è¯­æ³",date:"2022-03-18T00:48:36.000Z",permalink:"/pages/97d4f2/",categories:["åç«¯","Java"],tags:[null]},regularPath:"/%E5%90%8E%E7%AB%AF/01.JavaSE/08.%E5%9F%BA%E7%A1%80%E8%AF%AD%E6%B3%95.html",relativePath:"åç«¯/01.JavaSE/08.åºç¡è¯­æ³.md",key:"v-d7039bcc",path:"/pages/97d4f2/",headers:[{level:2,title:"JAVAç¨åºä¸­æåºæ¬çç»æåä½æ¯ç±».",slug:"javaç¨åºä¸­æåºæ¬çç»æåä½æ¯ç±»",normalizedTitle:"javaç¨åºä¸­æåºæ¬çç»æåä½æ¯ç±».",charIndex:55}],headersStr:"JAVAç¨åºä¸­æåºæ¬çç»æåä½æ¯ç±».",content:"# åºç¡è¯­æ³\n\næ³¨é åè¡æ³¨é// å¤è¡æ³¨é ä»¥/*å¼å§ ä»¥*/ç»æ ææ¡£æ³¨é /**å¼å§ */ç»æ\n\n\n# JAVAç¨åºä¸­æåºæ¬çç»æåä½æ¯ç±».\n\nç±»çå®ä¹æ ¼å¼ï¼\n\npublic class ç±»å{\n    //mianæ¹æ³æ¯ç¨åºçäººå£æ¹æ³,ä»£ç çæ§è¡æ¯ä»mainæ¹æ³å¼å§\n    public static void main(){\n        \n    }\n}\n\n\n1\n2\n3\n4\n5\n6\n",normalizedContent:"# åºç¡è¯­æ³\n\næ³¨é åè¡æ³¨é// å¤è¡æ³¨é ä»¥/*å¼å§ ä»¥*/ç»æ ææ¡£æ³¨é /**å¼å§ */ç»æ\n\n\n# javaç¨åºä¸­æåºæ¬çç»æåä½æ¯ç±».\n\nç±»çå®ä¹æ ¼å¼ï¼\n\npublic class ç±»å{\n    //mianæ¹æ³æ¯ç¨åºçäººå£æ¹æ³,ä»£ç çæ§è¡æ¯ä»mainæ¹æ³å¼å§\n    public static void main(){\n        \n    }\n}\n\n\n1\n2\n3\n4\n5\n6\n",charsets:{cjk:!0},lastUpdated:"2022/03/18, 07:01:11",lastUpdatedTimestamp:1647558071e3},{title:"ç¼åè§èé®é¢",frontmatter:{title:"ç¼åè§èé®é¢",date:"2022-03-18T00:48:41.000Z",permalink:"/pages/977c49/",categories:["åç«¯","Java"],tags:[null]},regularPath:"/%E5%90%8E%E7%AB%AF/01.JavaSE/07.%E7%BC%96%E5%86%99%E8%A7%84%E8%8C%83%E9%97%AE%E9%A2%98.html",relativePath:"åç«¯/01.JavaSE/07.ç¼åè§èé®é¢.md",key:"v-a07ea332",path:"/pages/977c49/",headersStr:null,content:"# ç¼åè§èé®é¢\n\n1.ä¸­è±æç¬¦åé®é¢ å¼å·é®é¢ï¼ä¸pythonä¸åjavaä¸­çå­ç¬¦ä¸²ç¨åå¼å·å¼ç¨ä¸è½ä½¿ç¨åå¼å·å¼å· â â\n\n2.åè¯æ¼åé®é¢",normalizedContent:"# ç¼åè§èé®é¢\n\n1.ä¸­è±æç¬¦åé®é¢ å¼å·é®é¢ï¼ä¸pythonä¸åjavaä¸­çå­ç¬¦ä¸²ç¨åå¼å·å¼ç¨ä¸è½ä½¿ç¨åå¼å·å¼å· â â\n\n2.åè¯æ¼åé®é¢",charsets:{cjk:!0},lastUpdated:"2022/03/18, 07:01:11",lastUpdatedTimestamp:1647558071e3},{title:"å³é®å­",frontmatter:{title:"å³é®å­",date:"2022-03-18T00:48:36.000Z",permalink:"/pages/d2d164/",categories:["åç«¯","Java"],tags:[null]},regularPath:"/%E5%90%8E%E7%AB%AF/01.JavaSE/09.%E5%85%B3%E9%94%AE%E5%AD%97.html",relativePath:"åç«¯/01.JavaSE/09.å³é®å­.md",key:"v-66e73294",path:"/pages/d2d164/",headersStr:null,content:"# å³é®å­\n\nå³é®å­çå­æ¯å¨é¨å°å",normalizedContent:"# å³é®å­\n\nå³é®å­çå­æ¯å¨é¨å°å",charsets:{cjk:!0},lastUpdated:"2022/03/18, 07:01:11",lastUpdatedTimestamp:1647558071e3},{title:"å¸¸é",frontmatter:{title:"å¸¸é",date:"2022-03-18T00:48:36.000Z",permalink:"/pages/10baa9/",categories:["åç«¯","Java"],tags:[null]},regularPath:"/%E5%90%8E%E7%AB%AF/01.JavaSE/10.%E5%B8%B8%E9%87%8F.html",relativePath:"åç«¯/01.JavaSE/10.å¸¸é.md",key:"v-2474d88f",path:"/pages/10baa9/",headersStr:null,content:"# å¸¸é\n\nå¸¸éçåç±»\n\n1.å­ç¬¦ä¸²å¸¸é ç¨åå¼å·æ¬èµ·æ¥çåå®¹ âââHello Worldâ\n\n2.æ´æ°å¸¸é æ´æ° 1,12,34\n\n3.å°æ°å¸¸é å¸¦å°æ°çæ°å­ 13.1,3.14\n\n4.å­ç¬¦å¸¸é ç¨åå¼å·æ¬èµ·æ¥çåå®¹ âaâ ,â0â\n\n5.å¸å°å¸¸é å¸å°å¼ï¼è¡¨ç¤ºçå åªæä¸¤ä¸ªå¼:true,false\n\n6.ç©ºå¸¸é ä¸ä¸ªç¹æ®çå¼ï¼ç©ºå¼ å¼æ¯ï¼null\n\nç©ºå¸¸éæ¯ä¸è½ç´æ¥è¾åºç\n\nå¨åéåé¢å ä¸finalå³é®å­å³å¼ç¨ä¸ºå¸¸é æ æ³æ´æ¹æ°å¼\n\nfinal int r=5;\n\nfinalä¿®é¥°åºæ¬æ°æ®ç±»åçåéæ¶ï¼å¿é¡»èµäºåå§å¼ä¸ä¸è½è¢«æ¹åï¼ä¿®é¥°å¼ç¨åéæ¶ï¼è¯¥å¼ç¨åéä¸è½åæåå¶ä»å¯¹è±¡",normalizedContent:"# å¸¸é\n\nå¸¸éçåç±»\n\n1.å­ç¬¦ä¸²å¸¸é ç¨åå¼å·æ¬èµ·æ¥çåå®¹ âââhello worldâ\n\n2.æ´æ°å¸¸é æ´æ° 1,12,34\n\n3.å°æ°å¸¸é å¸¦å°æ°çæ°å­ 13.1,3.14\n\n4.å­ç¬¦å¸¸é ç¨åå¼å·æ¬èµ·æ¥çåå®¹ âaâ ,â0â\n\n5.å¸å°å¸¸é å¸å°å¼ï¼è¡¨ç¤ºçå åªæä¸¤ä¸ªå¼:true,false\n\n6.ç©ºå¸¸é ä¸ä¸ªç¹æ®çå¼ï¼ç©ºå¼ å¼æ¯ï¼null\n\nç©ºå¸¸éæ¯ä¸è½ç´æ¥è¾åºç\n\nå¨åéåé¢å ä¸finalå³é®å­å³å¼ç¨ä¸ºå¸¸é æ æ³æ´æ¹æ°å¼\n\nfinal int r=5;\n\nfinalä¿®é¥°åºæ¬æ°æ®ç±»åçåéæ¶ï¼å¿é¡»èµäºåå§å¼ä¸ä¸è½è¢«æ¹åï¼ä¿®é¥°å¼ç¨åéæ¶ï¼è¯¥å¼ç¨åéä¸è½åæåå¶ä»å¯¹è±¡",charsets:{cjk:!0},lastUpdated:"2022/03/18, 07:01:11",lastUpdatedTimestamp:1647558071e3},{title:"æ°æ®ç±»å",frontmatter:{title:"æ°æ®ç±»å",date:"2022-03-18T00:48:36.000Z",permalink:"/pages/ec81f9/",categories:["åç«¯","Java"],tags:[null]},regularPath:"/%E5%90%8E%E7%AB%AF/01.JavaSE/11.%E6%95%B0%E6%8D%AE%E7%B1%BB%E5%9E%8B.html",relativePath:"åç«¯/01.JavaSE/11.æ°æ®ç±»å.md",key:"v-951a5208",path:"/pages/ec81f9/",headersStr:null,content:"# æ°æ®ç±»å\n\nä¸ãåºæ¬æ°æ®ç±»å\n\n 1. æ°å¼å\n    * æ´æ°(byte,short,int,long)\n    * æµ®ç¹æ°(float,double)\n    * å­ç¬¦(char)\n 2. éæ°å¼å\n    * å¸å°(boolean)\n\näºãå¼ç¨æ°æ®ç±»å\n\n 1. ç±»(class)\n 2. æ¥å£(interface)\n 3. æ°ç»([])",normalizedContent:"# æ°æ®ç±»å\n\nä¸ãåºæ¬æ°æ®ç±»å\n\n 1. æ°å¼å\n    * æ´æ°(byte,short,int,long)\n    * æµ®ç¹æ°(float,double)\n    * å­ç¬¦(char)\n 2. éæ°å¼å\n    * å¸å°(boolean)\n\näºãå¼ç¨æ°æ®ç±»å\n\n 1. ç±»(class)\n 2. æ¥å£(interface)\n 3. æ°ç»([])",charsets:{cjk:!0},lastUpdated:"2022/03/18, 07:01:11",lastUpdatedTimestamp:1647558071e3},{title:"æ°å¼ååå®¹å ç¨ååæ´èå´",frontmatter:{title:"æ°å¼ååå®¹å ç¨ååæ´èå´",date:"2022-03-18T00:48:36.000Z",permalink:"/pages/3f6e03/",categories:["åç«¯","Java"],tags:[null]},regularPath:"/%E5%90%8E%E7%AB%AF/01.JavaSE/12.%E6%95%B0%E5%80%BC%E5%9E%8B%E5%86%85%E5%AE%B9%E5%8D%A0%E7%94%A8%E5%92%8C%E5%8F%96%E6%95%B4%E8%8C%83%E5%9B%B4.html",relativePath:"åç«¯/01.JavaSE/12.æ°å¼ååå®¹å ç¨ååæ´èå´.md",key:"v-ca23bd78",path:"/pages/3f6e03/",headers:[{level:2,title:"æ´æ°",slug:"æ´æ°",normalizedTitle:"æ´æ°",charIndex:19},{level:2,title:"æµ®ç¹æ°",slug:"æµ®ç¹æ°",normalizedTitle:"æµ®ç¹æ°",charIndex:110},{level:2,title:"å­ç¬¦",slug:"å­ç¬¦",normalizedTitle:"å­ç¬¦",charIndex:293},{level:2,title:"å¸å°",slug:"å¸å°",normalizedTitle:"å¸å°",charIndex:327}],headersStr:"æ´æ° æµ®ç¹æ° å­ç¬¦ å¸å°",content:"# æ°å¼ååå®¹å ç¨ååæ´èå´\n\n\n# æ´æ°\n\nbyte 1 -128~127\n\nshort 2 -32768~32767\n\nintï¼é»è®¤ï¼ 4 -2^31~2^31-1\n\nlong 8 -2^63~2^63-1\n\n\n# æµ®ç¹æ°\n\nfloat 4 -3.402823E+38~-1.401298E-45\n\n1.401298E-45~3.402823E+38\n\ndoubleï¼é»è®¤ï¼ 8 -1.797693E+308~-4.9000000E-324\n\n4.9000000E-324~1.797693E+308\n\n//E+38è¡¨ç¤ºä¹ä»¥10ç38æ¬¡æ¹ï¼E-45è¡¨ç¤ºä¹ä»¥10çè´45æ¬¡æ¹\n\n\n# å­ç¬¦\n\nchar 2 0-65535 æ­¤ä¸ºunicodeç \n\n\n# å¸å°\n\nboolean 1 true,flase",normalizedContent:"# æ°å¼ååå®¹å ç¨ååæ´èå´\n\n\n# æ´æ°\n\nbyte 1 -128~127\n\nshort 2 -32768~32767\n\nintï¼é»è®¤ï¼ 4 -2^31~2^31-1\n\nlong 8 -2^63~2^63-1\n\n\n# æµ®ç¹æ°\n\nfloat 4 -3.402823e+38~-1.401298e-45\n\n1.401298e-45~3.402823e+38\n\ndoubleï¼é»è®¤ï¼ 8 -1.797693e+308~-4.9000000e-324\n\n4.9000000e-324~1.797693e+308\n\n//e+38è¡¨ç¤ºä¹ä»¥10ç38æ¬¡æ¹ï¼e-45è¡¨ç¤ºä¹ä»¥10çè´45æ¬¡æ¹\n\n\n# å­ç¬¦\n\nchar 2 0-65535 æ­¤ä¸ºunicodeç \n\n\n# å¸å°\n\nboolean 1 true,flase",charsets:{cjk:!0},lastUpdated:"2022/03/18, 07:01:11",lastUpdatedTimestamp:1647558071e3},{title:"æ è¯ç¬¦",frontmatter:{title:"æ è¯ç¬¦",date:"2022-03-18T00:48:37.000Z",permalink:"/pages/fcb871/",categories:["åç«¯","Java"],tags:[null]},regularPath:"/%E5%90%8E%E7%AB%AF/01.JavaSE/14.%E6%A0%87%E8%AF%86%E7%AC%A6.html",relativePath:"åç«¯/01.JavaSE/14.æ è¯ç¬¦.md",key:"v-d8c50dce",path:"/pages/fcb871/",headersStr:null,content:"# æ è¯ç¬¦\n\næ è¯ç¬¦ï¼ç»ç±»ï¼æ¹æ³ï¼åéèµ·åå­çç¬¦å·\n\nç±æ°å­ãå­æ¯ãä¸åçº¿ãç¾åç¬¦($)ç»æç\n\nä¸è½ä»¥æ°å­å¼å¤´ï¼ä¸è½ä¸ºå³é®å­ï¼åºåå¤§å°å\n\nå°é©¼å³°å½åæ³(éå¯¹æ¹æ³ãåéå½å)\n\n1.æ è¯ç¬¦æ¯ä¸ä¸ªåè¯æ¶ï¼é¦å­æ¯å°å name\n\n2.ç±å¤ä¸ªåè¯ç»ææ¶ï¼ç¬¬ä¸ä¸ªåè¯é¦å­æ¯å°åï¼å¶ä»çé¦å­æ¯å¤§å\n\nfirstName\n\nå¤§é©¼å³°å½åæ³(éå¯¹ç±»)\n\n1.é¦å­æ¯å¤§ Student\n\n2.æ¯ä¸ªåè¯é¦å­æ¯å¤§å GoodStudent",normalizedContent:"# æ è¯ç¬¦\n\næ è¯ç¬¦ï¼ç»ç±»ï¼æ¹æ³ï¼åéèµ·åå­çç¬¦å·\n\nç±æ°å­ãå­æ¯ãä¸åçº¿ãç¾åç¬¦($)ç»æç\n\nä¸è½ä»¥æ°å­å¼å¤´ï¼ä¸è½ä¸ºå³é®å­ï¼åºåå¤§å°å\n\nå°é©¼å³°å½åæ³(éå¯¹æ¹æ³ãåéå½å)\n\n1.æ è¯ç¬¦æ¯ä¸ä¸ªåè¯æ¶ï¼é¦å­æ¯å°å name\n\n2.ç±å¤ä¸ªåè¯ç»ææ¶ï¼ç¬¬ä¸ä¸ªåè¯é¦å­æ¯å°åï¼å¶ä»çé¦å­æ¯å¤§å\n\nfirstname\n\nå¤§é©¼å³°å½åæ³(éå¯¹ç±»)\n\n1.é¦å­æ¯å¤§ student\n\n2.æ¯ä¸ªåè¯é¦å­æ¯å¤§å goodstudent",charsets:{cjk:!0},lastUpdated:"2022/03/18, 07:01:11",lastUpdatedTimestamp:1647558071e3},{title:"ç®æ¯è¿ç®ç¬¦",frontmatter:{title:"ç®æ¯è¿ç®ç¬¦",date:"2022-03-18T00:48:37.000Z",permalink:"/pages/a3cd43/",categories:["åç«¯","Java"],tags:[null]},regularPath:"/%E5%90%8E%E7%AB%AF/01.JavaSE/16.%E7%AE%97%E6%9C%AF%E8%BF%90%E7%AE%97%E7%AC%A6.html",relativePath:"åç«¯/01.JavaSE/16.ç®æ¯è¿ç®ç¬¦.md",key:"v-32a3ec34",path:"/pages/a3cd43/",headersStr:null,content:"# ç®æ¯è¿ç®ç¬¦\n\nè¿ç®ç¬¦ï¼å¯¹å¸¸éæèåéè¿è¡æä½çç¬¦å·\n\nè¡¨è¾¾å¼ï¼ç¨è¿ç®ç¬¦æå¸¸éæèåéè¿æ¥èµ·æ¥\n\n+ - * / %\n\næ´æ°ç¸é¤åªè½å¾å°æ´æ°ï¼å¿é¡»è½¬è¦æä¸ä¸ªæµ®ç¹å°æ°æè½å¾åºå°æ°ç»æ",normalizedContent:"# ç®æ¯è¿ç®ç¬¦\n\nè¿ç®ç¬¦ï¼å¯¹å¸¸éæèåéè¿è¡æä½çç¬¦å·\n\nè¡¨è¾¾å¼ï¼ç¨è¿ç®ç¬¦æå¸¸éæèåéè¿æ¥èµ·æ¥\n\n+ - * / %\n\næ´æ°ç¸é¤åªè½å¾å°æ´æ°ï¼å¿é¡»è½¬è¦æä¸ä¸ªæµ®ç¹å°æ°æè½å¾åºå°æ°ç»æ",charsets:{cjk:!0},lastUpdated:"2022/03/18, 07:01:11",lastUpdatedTimestamp:1647558071e3},{title:"ç±»åè½¬æ¢",frontmatter:{title:"ç±»åè½¬æ¢",date:"2022-03-18T00:48:37.000Z",permalink:"/pages/b2c2df/",categories:["åç«¯","Java"],tags:[null]},regularPath:"/%E5%90%8E%E7%AB%AF/01.JavaSE/15.%E7%B1%BB%E5%9E%8B%E8%BD%AC%E6%8D%A2.html",relativePath:"åç«¯/01.JavaSE/15.ç±»åè½¬æ¢.md",key:"v-49a02e0f",path:"/pages/b2c2df/",headersStr:null,content:"# ç±»åè½¬æ¢\n\n 1. èªå¨ç±»åè½¬æ¢\n    \n    æä¸ä¸ªè¡¨ç¤ºæ°æ®èå´å°çæ°å¼æèåéèµå¼ç»å¦ä¸ä¸ªè¡¨ç¤ºæ°æ®èå´å¤§çåé\n    \n    double d = 10;\n\n2.å¼ºå¶ç±»åè½¬æ¢\n\nint k = (int)88.88;  //java: ä¸å¼å®¹çç±»å: ä»doubleè½¬æ¢å°intå¯è½ä¼ææå¤±  éå¨æ°å¼åé¢æ·»å (æ¬²è½¬æ¢çç±»åå)\nSystem.out.println(k);  //88  å¼ºå¶è½¬æ¢æintç±»å ä¸¢å¤±äºå°æ°ç¹åçæ°å­\n\n\n1\n2\n",normalizedContent:"# ç±»åè½¬æ¢\n\n 1. èªå¨ç±»åè½¬æ¢\n    \n    æä¸ä¸ªè¡¨ç¤ºæ°æ®èå´å°çæ°å¼æèåéèµå¼ç»å¦ä¸ä¸ªè¡¨ç¤ºæ°æ®èå´å¤§çåé\n    \n    double d = 10;\n\n2.å¼ºå¶ç±»åè½¬æ¢\n\nint k = (int)88.88;  //java: ä¸å¼å®¹çç±»å: ä»doubleè½¬æ¢å°intå¯è½ä¼ææå¤±  éå¨æ°å¼åé¢æ·»å (æ¬²è½¬æ¢çç±»åå)\nsystem.out.println(k);  //88  å¼ºå¶è½¬æ¢æintç±»å ä¸¢å¤±äºå°æ°ç¹åçæ°å­\n\n\n1\n2\n",charsets:{cjk:!0},lastUpdated:"2022/03/18, 07:01:11",lastUpdatedTimestamp:1647558071e3},{title:"èªå¢èªåè¿ç®ç¬¦",frontmatter:{title:"èªå¢èªåè¿ç®ç¬¦",date:"2022-03-18T00:48:37.000Z",permalink:"/pages/a4bf30/",categories:["åç«¯","Java"],tags:[null]},regularPath:"/%E5%90%8E%E7%AB%AF/01.JavaSE/17.%E8%87%AA%E5%A2%9E%E8%87%AA%E5%87%8F%E8%BF%90%E7%AE%97%E7%AC%A6.html",relativePath:"åç«¯/01.JavaSE/17.èªå¢èªåè¿ç®ç¬¦.md",key:"v-c93d1656",path:"/pages/a4bf30/",headersStr:null,content:"# èªå¢èªåè¿ç®ç¬¦\n\ni++; ++i;\n\ni-â; -âi;\n\nåéèªå¢/èªå 1\n\nå¦æè¦èµå¼ç»åéå®ç°èªå¢èªå ++å¾æ¾åé¢",normalizedContent:"# èªå¢èªåè¿ç®ç¬¦\n\ni++; ++i;\n\ni-â; -âi;\n\nåéèªå¢/èªå 1\n\nå¦æè¦èµå¼ç»åéå®ç°èªå¢èªå ++å¾æ¾åé¢",charsets:{cjk:!0},lastUpdated:"2022/03/18, 07:01:11",lastUpdatedTimestamp:1647558071e3},{title:"å³ç³»è¿ç®ç¬¦",frontmatter:{title:"å³ç³»è¿ç®ç¬¦",date:"2022-03-18T00:48:37.000Z",permalink:"/pages/a5f46a/",categories:["åç«¯","Java"],tags:[null]},regularPath:"/%E5%90%8E%E7%AB%AF/01.JavaSE/18.%E5%85%B3%E7%B3%BB%E8%BF%90%E7%AE%97%E7%AC%A6.html",relativePath:"åç«¯/01.JavaSE/18.å³ç³»è¿ç®ç¬¦.md",key:"v-bc7f093e",path:"/pages/a5f46a/",headersStr:null,content:"# å³ç³»è¿ç®ç¬¦\n\n * == å¤æ­2ä¸ªå¯¹è±¡çå¼æ¯å¦ç¸ç­\n * != ä¸ç­äº\n * > å¤§äº\n * >= å¤§äºç­äº\n * ï¼ å°äº\n * <= å°äºç­äº",normalizedContent:"# å³ç³»è¿ç®ç¬¦\n\n * == å¤æ­2ä¸ªå¯¹è±¡çå¼æ¯å¦ç¸ç­\n * != ä¸ç­äº\n * > å¤§äº\n * >= å¤§äºç­äº\n * ï¼ å°äº\n * <= å°äºç­äº",charsets:{cjk:!0},lastUpdated:"2022/03/18, 07:01:11",lastUpdatedTimestamp:1647558071e3},{title:"ç­è·¯é»è¾è¿ç®ç¬¦",frontmatter:{title:"ç­è·¯é»è¾è¿ç®ç¬¦",date:"2022-03-18T00:48:37.000Z",permalink:"/pages/5cf2b5/",categories:["åç«¯","Java"],tags:[null]},regularPath:"/%E5%90%8E%E7%AB%AF/01.JavaSE/20.%E7%9F%AD%E8%B7%AF%E9%80%BB%E8%BE%91%E8%BF%90%E7%AE%97%E7%AC%A6.html",relativePath:"åç«¯/01.JavaSE/20.ç­è·¯é»è¾è¿ç®ç¬¦.md",key:"v-6d95328a",path:"/pages/5cf2b5/",headersStr:null,content:"# ç­è·¯é»è¾è¿ç®ç¬¦\n\n&& ç­è·¯ä¸ï¼æ£ç´¢ä¸ä¸ªä¸ºfalseçå¼ï¼å¦ææ¾å°åfalseåé¢çè¡¨è¾¾å¼é½ä¸ä¼ç»§ç»­æ§è¡ï¼åªä¼æ§è¡falseåé¢ç\n\n|| ç­è·¯æï¼æ£ç´¢ä¸ä¸ªä¸ºtrueçå¼ï¼å¦ææ¾å°åtureåé¢çè¡¨è¾¾å¼é½ä¸ä¼ç»§ç»­æ§è¡ï¼åªä¼æ§è¡tureåé¢ç",normalizedContent:"# ç­è·¯é»è¾è¿ç®ç¬¦\n\n&& ç­è·¯ä¸ï¼æ£ç´¢ä¸ä¸ªä¸ºfalseçå¼ï¼å¦ææ¾å°åfalseåé¢çè¡¨è¾¾å¼é½ä¸ä¼ç»§ç»­æ§è¡ï¼åªä¼æ§è¡falseåé¢ç\n\n|| ç­è·¯æï¼æ£ç´¢ä¸ä¸ªä¸ºtrueçå¼ï¼å¦ææ¾å°åtureåé¢çè¡¨è¾¾å¼é½ä¸ä¼ç»§ç»­æ§è¡ï¼åªä¼æ§è¡tureåé¢ç",charsets:{cjk:!0},lastUpdated:"2022/03/18, 07:01:11",lastUpdatedTimestamp:1647558071e3},{title:"ä¸åè¿ç®ç¬¦",frontmatter:{title:"ä¸åè¿ç®ç¬¦",date:"2022-03-18T00:48:37.000Z",permalink:"/pages/ad2097/",categories:["åç«¯","Java"],tags:[null]},regularPath:"/%E5%90%8E%E7%AB%AF/01.JavaSE/21.%E4%B8%89%E5%85%83%E8%BF%90%E7%AE%97%E7%AC%A6.html",relativePath:"åç«¯/01.JavaSE/21.ä¸åè¿ç®ç¬¦.md",key:"v-1a9db526",path:"/pages/ad2097/",headersStr:null,content:"# ä¸åè¿ç®ç¬¦\n\næ ¼å¼ï¼å³ç³»è¡¨è¾¾å¼ï¼è¡¨è¾¾å¼1ï¼è¡¨è¾¾å¼2ï¼\n\na > b ? a : b;\n\nå¦è¡¨è¾¾å¼ä¸ºtrueï¼åè¡¨è¾¾å¼1ä¸ºè¿ç®ç»æ\n\nå¦è¡¨è¾¾å¼ä¸ºflaseï¼åè¡¨è¾¾å¼2ä¸ºè¿ç®ç»æ",normalizedContent:"# ä¸åè¿ç®ç¬¦\n\næ ¼å¼ï¼å³ç³»è¡¨è¾¾å¼ï¼è¡¨è¾¾å¼1ï¼è¡¨è¾¾å¼2ï¼\n\na > b ? a : b;\n\nå¦è¡¨è¾¾å¼ä¸ºtrueï¼åè¡¨è¾¾å¼1ä¸ºè¿ç®ç»æ\n\nå¦è¡¨è¾¾å¼ä¸ºflaseï¼åè¡¨è¾¾å¼2ä¸ºè¿ç®ç»æ",charsets:{cjk:!0},lastUpdated:"2022/03/18, 07:01:11",lastUpdatedTimestamp:1647558071e3},{title:"æ°æ®è¾å¥",frontmatter:{title:"æ°æ®è¾å¥",date:"2022-03-18T00:48:37.000Z",permalink:"/pages/9ca53c/",categories:["åç«¯","Java"],tags:[null]},regularPath:"/%E5%90%8E%E7%AB%AF/01.JavaSE/22.%E6%95%B0%E6%8D%AE%E8%BE%93%E5%85%A5.html",relativePath:"åç«¯/01.JavaSE/22.æ°æ®è¾å¥.md",key:"v-06fb6608",path:"/pages/9ca53c/",headersStr:null,content:"# æ°æ®è¾å¥\n\n 1. å¯¼å\n    \n    import java.util.Scanner;\n    \n    å¯¼åçå¨ä½å¿é¡»åºç°å¨ç±»å®ä¹çä¸è¾¹\n\n 2. åå»ºå¯¹è±¡\n    \n    Scanner sc =new Scanner(System.in);\n    \n    åªæscæ¯åéåï¼å¯ä»¥åï¼å¶ä»çé½ä¸åè®¸å\n\n 3. æ¥åæ°æ®\n    \n    int i = sc.nextInt();\n    \n    åªæiæ¯åéåï¼å¯ä»¥åï¼å¶ä»çä¹ä¸åè®¸å",normalizedContent:"# æ°æ®è¾å¥\n\n 1. å¯¼å\n    \n    import java.util.scanner;\n    \n    å¯¼åçå¨ä½å¿é¡»åºç°å¨ç±»å®ä¹çä¸è¾¹\n\n 2. åå»ºå¯¹è±¡\n    \n    scanner sc =new scanner(system.in);\n    \n    åªæscæ¯åéåï¼å¯ä»¥åï¼å¶ä»çé½ä¸åè®¸å\n\n 3. æ¥åæ°æ®\n    \n    int i = sc.nextint();\n    \n    åªæiæ¯åéåï¼å¯ä»¥åï¼å¶ä»çä¹ä¸åè®¸å",charsets:{cjk:!0},lastUpdated:"2022/03/18, 07:01:11",lastUpdatedTimestamp:1647558071e3},{title:"é»è¾è¿ç®ç¬¦",frontmatter:{title:"é»è¾è¿ç®ç¬¦",date:"2022-03-18T00:48:37.000Z",permalink:"/pages/ae5f03/",categories:["åç«¯","Java"],tags:[null]},regularPath:"/%E5%90%8E%E7%AB%AF/01.JavaSE/19.%E9%80%BB%E8%BE%91%E8%BF%90%E7%AE%97%E7%AC%A6.html",relativePath:"åç«¯/01.JavaSE/19.é»è¾è¿ç®ç¬¦.md",key:"v-4f1cfdc2",path:"/pages/ae5f03/",headersStr:null,content:"# é»è¾è¿ç®ç¬¦\n\né»è¾è¿ç®ç¬¦æ¯ç¨æ¥è¿æ¥å³ç³»è¡¨è¾¾å¼çè¿ç®ç¬¦\n\n& é»è¾ä¸\n\n| é»è¾æ\n\n^ é»è¾å¼æ\n\n! é»è¾é æå¹å·è¦ä½¿ç¨å¨è¡¨è¾¾å¼åé¢å¦(! (l > k) );",normalizedContent:"# é»è¾è¿ç®ç¬¦\n\né»è¾è¿ç®ç¬¦æ¯ç¨æ¥è¿æ¥å³ç³»è¡¨è¾¾å¼çè¿ç®ç¬¦\n\n& é»è¾ä¸\n\n| é»è¾æ\n\n^ é»è¾å¼æ\n\n! é»è¾é æå¹å·è¦ä½¿ç¨å¨è¡¨è¾¾å¼åé¢å¦(! (l > k) );",charsets:{cjk:!0},lastUpdated:"2022/03/18, 07:01:11",lastUpdatedTimestamp:1647558071e3},{title:"æµç¨æ§å¶",frontmatter:{title:"æµç¨æ§å¶",date:"2022-03-18T00:48:37.000Z",permalink:"/pages/fc3701/",categories:["åç«¯","Java"],tags:[null]},regularPath:"/%E5%90%8E%E7%AB%AF/01.JavaSE/23.%E6%B5%81%E7%A8%8B%E6%8E%A7%E5%88%B6.html",relativePath:"åç«¯/01.JavaSE/23.æµç¨æ§å¶.md",key:"v-631835ec",path:"/pages/fc3701/",headers:[{level:2,title:"é¡ºåºç»æ",slug:"é¡ºåºç»æ",normalizedTitle:"é¡ºåºç»æ",charIndex:11},{level:2,title:"ifè¯­å¥",slug:"ifè¯­å¥",normalizedTitle:"ifè¯­å¥",charIndex:45},{level:2,title:"switchè¯­å¥",slug:"switchè¯­å¥",normalizedTitle:"switchè¯­å¥",charIndex:376},{level:3,title:"caseç©¿é",slug:"caseç©¿é",normalizedTitle:"caseç©¿é",charIndex:667}],headersStr:"é¡ºåºç»æ ifè¯­å¥ switchè¯­å¥ caseç©¿é",content:'# æµç¨æ§å¶\n\n\n# é¡ºåºç»æ\n\næ²¡æç¹å®çè¯­æ³ç»æï¼æç§ä»£ç çç¼åé¡ºåºä¾æ¬¡æ§è¡\n\n\n# ifè¯­å¥\n\næ ¼å¼:\n\nif(å³ç³»è¡¨è¾¾å¼){\n\nè¯­å¥ä½;\n\n}\n\nå³ç³»è¡¨è¾¾å¼å¼ä¸ºtrueå°±æ§è¡è¯­å¥ä½\n\nå³ç³»è¡¨è¾¾å¼å¼ä¸ºfalseå°±ä¸æ§è¡è¯­å¥ä½ï¼ç»§ç»­æ§è¡ifè¯­å¥åçè¯­å¥\n\nif è¯­å¥æ ¼å¼2\n\nif(å³ç³»è¡¨è¾¾å¼){\n\nè¯­å¥ä½;\n\n} else {\n\nè¯­å¥ä½2;\n\n}\n\nå³ç³»è¡¨è¾¾å¼å¼ä¸ºtrueå°±æ§è¡è¯­å¥ä½1\n\nå³ç³»è¡¨è¾¾å¼å¼ä¸ºfalseå°±æ§è¡è¯­å¥ä½2\n\nif è¯­å¥æ ¼å¼3\n\nif(å³ç³»è¡¨è¾¾å¼1){\n\nè¯­å¥ä½1;\n\n} else if (å³ç³»è¡¨è¾¾å¼2){\n\nè¯­å¥ä½2;\n\n}\n\nâ¦\n\nelse{\n\nè¯­å¥ä½n\n\n}\n\né¦åè®¡ç®å³ç³»è¡¨è¾¾å¼1çå¼\n\nå¦ä¸ºtrueåæ§è¡è¯­å¥ä½1ï¼å¦ä¸ºfalseåå¤æ­å³ç³»è¡¨è¾¾å¼2ï¼ç´å°elseifå¨ä¸ºfalseææ§è¡elseä¸­çè¯­å¥ä½\n\n\n# switchè¯­å¥\n\næ ¼å¼ï¼\n\nswitch(è¡¨è¾¾å¼){\n\ncase å¼1ï¼\n\nè¯­å¥ä½1ï¼\n\nbreakï¼\n\ncase å¼2ï¼\n\nè¯­å¥ä½1ï¼\n\nbreakï¼\n\ncase å¼nï¼\n\nè¯­å¥ä½nï¼\n\nbreakï¼\n\nâ¦\n\ndefault:\n\nè¯­å¥ä½n+1;\n\n[break];\n\n}\n\nè¡¨è¾¾å¼:åå¼ä¸ºbyteãshortãintãcharï¼jdk5ä»¥åå¯ä»¥æ¯æä¸¾ï¼jdk7ä»¥åå¯ä»¥æ¯Stringã\n\ncaseï¼åé¢è·çæ¯è¦åè¡¨è¾¾å¼è¿è¡æ¯è¾çå¼\n\nbreakï¼è¡¨ç¤ºä¸­æ­/ç»æï¼ç¨æ¥ç»æswitchè¯­å¥\n\ndefaultï¼è¡¨ç¤ºææcaseé½ä¸å¹éçæ¶åæ§è¡è¯¥åå®¹ï¼è·elseå·®ä¸å¤\n\n\n\n\n# caseç©¿é\n\nå¦æcaseçè¯­å¥ä½åé¢ä¸åbreakï¼å°ä¼åºç°ç©¿éç°è±¡ï¼å¨ä¸å¤æ­ä¸ä¸ä¸ªcaseå¼çæåµä¸ï¼ç»§ç»­å¾ ä¸æ§è¡ç´å°éå°breakæèswitcè¯­å¥ç»æ\n\nå¦:\n\nswitch (n){\n\ncase 1:\n\ncase 2:\n\ncase 3:\n\nSystem.out.println("123");\n\nbreak;\n\n}\n\nå¦æcase1æç«åå¾ä¸æ§è¡case2ãcase3éçè¯­å¥ä½ç¶åbreakç»æ',normalizedContent:'# æµç¨æ§å¶\n\n\n# é¡ºåºç»æ\n\næ²¡æç¹å®çè¯­æ³ç»æï¼æç§ä»£ç çç¼åé¡ºåºä¾æ¬¡æ§è¡\n\n\n# ifè¯­å¥\n\næ ¼å¼:\n\nif(å³ç³»è¡¨è¾¾å¼){\n\nè¯­å¥ä½;\n\n}\n\nå³ç³»è¡¨è¾¾å¼å¼ä¸ºtrueå°±æ§è¡è¯­å¥ä½\n\nå³ç³»è¡¨è¾¾å¼å¼ä¸ºfalseå°±ä¸æ§è¡è¯­å¥ä½ï¼ç»§ç»­æ§è¡ifè¯­å¥åçè¯­å¥\n\nif è¯­å¥æ ¼å¼2\n\nif(å³ç³»è¡¨è¾¾å¼){\n\nè¯­å¥ä½;\n\n} else {\n\nè¯­å¥ä½2;\n\n}\n\nå³ç³»è¡¨è¾¾å¼å¼ä¸ºtrueå°±æ§è¡è¯­å¥ä½1\n\nå³ç³»è¡¨è¾¾å¼å¼ä¸ºfalseå°±æ§è¡è¯­å¥ä½2\n\nif è¯­å¥æ ¼å¼3\n\nif(å³ç³»è¡¨è¾¾å¼1){\n\nè¯­å¥ä½1;\n\n} else if (å³ç³»è¡¨è¾¾å¼2){\n\nè¯­å¥ä½2;\n\n}\n\nâ¦\n\nelse{\n\nè¯­å¥ä½n\n\n}\n\né¦åè®¡ç®å³ç³»è¡¨è¾¾å¼1çå¼\n\nå¦ä¸ºtrueåæ§è¡è¯­å¥ä½1ï¼å¦ä¸ºfalseåå¤æ­å³ç³»è¡¨è¾¾å¼2ï¼ç´å°elseifå¨ä¸ºfalseææ§è¡elseä¸­çè¯­å¥ä½\n\n\n# switchè¯­å¥\n\næ ¼å¼ï¼\n\nswitch(è¡¨è¾¾å¼){\n\ncase å¼1ï¼\n\nè¯­å¥ä½1ï¼\n\nbreakï¼\n\ncase å¼2ï¼\n\nè¯­å¥ä½1ï¼\n\nbreakï¼\n\ncase å¼nï¼\n\nè¯­å¥ä½nï¼\n\nbreakï¼\n\nâ¦\n\ndefault:\n\nè¯­å¥ä½n+1;\n\n[break];\n\n}\n\nè¡¨è¾¾å¼:åå¼ä¸ºbyteãshortãintãcharï¼jdk5ä»¥åå¯ä»¥æ¯æä¸¾ï¼jdk7ä»¥åå¯ä»¥æ¯stringã\n\ncaseï¼åé¢è·çæ¯è¦åè¡¨è¾¾å¼è¿è¡æ¯è¾çå¼\n\nbreakï¼è¡¨ç¤ºä¸­æ­/ç»æï¼ç¨æ¥ç»æswitchè¯­å¥\n\ndefaultï¼è¡¨ç¤ºææcaseé½ä¸å¹éçæ¶åæ§è¡è¯¥åå®¹ï¼è·elseå·®ä¸å¤\n\n\n\n\n# caseç©¿é\n\nå¦æcaseçè¯­å¥ä½åé¢ä¸åbreakï¼å°ä¼åºç°ç©¿éç°è±¡ï¼å¨ä¸å¤æ­ä¸ä¸ä¸ªcaseå¼çæåµä¸ï¼ç»§ç»­å¾ ä¸æ§è¡ç´å°éå°breakæèswitcè¯­å¥ç»æ\n\nå¦:\n\nswitch (n){\n\ncase 1:\n\ncase 2:\n\ncase 3:\n\nsystem.out.println("123");\n\nbreak;\n\n}\n\nå¦æcase1æç«åå¾ä¸æ§è¡case2ãcase3éçè¯­å¥ä½ç¶åbreakç»æ',charsets:{cjk:!0},lastUpdated:"2022/03/18, 07:01:11",lastUpdatedTimestamp:1647558071e3},{title:"åé",frontmatter:{title:"åé",date:"2022-03-18T00:48:37.000Z",permalink:"/pages/558212/",categories:["åç«¯","Java"],tags:[null]},regularPath:"/%E5%90%8E%E7%AB%AF/01.JavaSE/13.%E5%8F%98%E9%87%8F.html",relativePath:"åç«¯/01.JavaSE/13.åé.md",key:"v-5ef65d74",path:"/pages/558212/",headers:[{level:2,title:"åéçå®ä¹",slug:"åéçå®ä¹",normalizedTitle:"åéçå®ä¹",charIndex:9},{level:2,title:"åéçä½¿ç¨",slug:"åéçä½¿ç¨",normalizedTitle:"åéçä½¿ç¨",charIndex:47}],headersStr:"åéçå®ä¹ åéçä½¿ç¨",content:"# åé\n\n\n# åéçå®ä¹\n\næ°æ®ç±»å åéå = åéå¼\n\nint a = 10\n\n\n# åéçä½¿ç¨\n\nåå¼åä¿®æ¹å¼\n\nåå¼æ ¼å¼ï¼ åéå\n\na\n\nä¿®æ¹å¼æ ¼å¼ï¼åéå=åéå¼\n\na = 20",normalizedContent:"# åé\n\n\n# åéçå®ä¹\n\næ°æ®ç±»å åéå = åéå¼\n\nint a = 10\n\n\n# åéçä½¿ç¨\n\nåå¼åä¿®æ¹å¼\n\nåå¼æ ¼å¼ï¼ åéå\n\na\n\nä¿®æ¹å¼æ ¼å¼ï¼åéå=åéå¼\n\na = 20",charsets:{cjk:!0},lastUpdated:"2022/03/18, 07:01:11",lastUpdatedTimestamp:1647558071e3},{title:"ideaä¸­çè¾å©é®",frontmatter:{title:"ideaä¸­çè¾å©é®",date:"2022-03-18T00:48:37.000Z",permalink:"/pages/3455ab/",categories:["åç«¯","Java"],tags:[null]},regularPath:"/%E5%90%8E%E7%AB%AF/01.JavaSE/25.idea%E4%B8%AD%E7%9A%84%E8%BE%85%E5%8A%A9%E9%94%AE.html",relativePath:"åç«¯/01.JavaSE/25.ideaä¸­çè¾å©é®.md",key:"v-d2053d44",path:"/pages/3455ab/",headers:[{level:2,title:"ç±»ä¸­åå»ºæ¹æ³",slug:"ç±»ä¸­åå»ºæ¹æ³",normalizedTitle:"ç±»ä¸­åå»ºæ¹æ³",charIndex:182}],headersStr:"ç±»ä¸­åå»ºæ¹æ³",content:"# ideaä¸­çè¾å©é®\n\nå¿«éçæè¯­å¥\n\n 1. å¿«éçæmian()æ¹æ³ï¼psvm åè½¦\n 2. å¿«éçæè¾åºè¯­å¥ï¼sout åè½¦\n\nåå®¹è¾å©é®\n\nCtrl+Alt+space (åå®¹æç¤º/ä»£ç è¡¥å¨)\n\nå¿«æ·é®\n\nåè¡æ³¨é ctrl+/\n\nå¤è¡æ³¨é ctrl+shift+/\n\næ ¼å¼å ctrl+alt+l\n\nå¿«éè¡¥å¨ç±»åååéå ctrl+alt+v\n\n\n# ç±»ä¸­åå»ºæ¹æ³\n\nalt + insert å¯å¿«éåå»ºæé æ¹æ³ãsetågetæ¹æ³",normalizedContent:"# ideaä¸­çè¾å©é®\n\nå¿«éçæè¯­å¥\n\n 1. å¿«éçæmian()æ¹æ³ï¼psvm åè½¦\n 2. å¿«éçæè¾åºè¯­å¥ï¼sout åè½¦\n\nåå®¹è¾å©é®\n\nctrl+alt+space (åå®¹æç¤º/ä»£ç è¡¥å¨)\n\nå¿«æ·é®\n\nåè¡æ³¨é ctrl+/\n\nå¤è¡æ³¨é ctrl+shift+/\n\næ ¼å¼å ctrl+alt+l\n\nå¿«éè¡¥å¨ç±»åååéå ctrl+alt+v\n\n\n# ç±»ä¸­åå»ºæ¹æ³\n\nalt + insert å¯å¿«éåå»ºæé æ¹æ³ãsetågetæ¹æ³",charsets:{cjk:!0},lastUpdated:"2022/03/18, 07:01:11",lastUpdatedTimestamp:1647558071e3},{title:"é¢åå¯¹è±¡åºç¡",frontmatter:{title:"é¢åå¯¹è±¡åºç¡",date:"2022-03-18T00:48:37.000Z",permalink:"/pages/0a58cf/",categories:["åç«¯","Java"],tags:[null]},regularPath:"/%E5%90%8E%E7%AB%AF/01.JavaSE/28.%E9%9D%A2%E5%90%91%E5%AF%B9%E8%B1%A1%E5%9F%BA%E7%A1%80.html",relativePath:"åç«¯/01.JavaSE/28.é¢åå¯¹è±¡åºç¡.md",key:"v-3ec3ce6e",path:"/pages/0a58cf/",headers:[{level:2,title:"ç±»åå¯¹è±¡",slug:"ç±»åå¯¹è±¡",normalizedTitle:"ç±»åå¯¹è±¡",charIndex:13},{level:2,title:"ç±»çå®ä¹",slug:"ç±»çå®ä¹",normalizedTitle:"ç±»çå®ä¹",charIndex:187},{level:2,title:"å¯¹è±¡çä½¿ç¨",slug:"å¯¹è±¡çä½¿ç¨",normalizedTitle:"å¯¹è±¡çä½¿ç¨",charIndex:286},{level:2,title:"å¯¹è±¡åå­å¾",slug:"å¯¹è±¡åå­å¾",normalizedTitle:"å¯¹è±¡åå­å¾",charIndex:465},{level:3,title:"åä¸ªå¯¹è±¡ new ä¸ä¸ªåå­å°åï¼ç¬æçï¼ æåç±»",slug:"åä¸ªå¯¹è±¡-new-ä¸ä¸ªåå­å°å-ç¬æç-æåç±»",normalizedTitle:"åä¸ªå¯¹è±¡ new ä¸ä¸ªåå­å°åï¼ç¬æçï¼ æåç±»",charIndex:475},{level:3,title:"å¤ä¸ªå¯¹è±¡ ç¬¬ä¸ä¸ªå¯¹è±¡newä¸ä¸ªåå­å°å",slug:"å¤ä¸ªå¯¹è±¡-ç¬¬ä¸ä¸ªå¯¹è±¡newä¸ä¸ªåå­å°å",normalizedTitle:"å¤ä¸ªå¯¹è±¡ ç¬¬ä¸ä¸ªå¯¹è±¡newä¸ä¸ªåå­å°å",charIndex:564},{level:3,title:"å¤ä¸ªå¯¹è±¡æåç¸å",slug:"å¤ä¸ªå¯¹è±¡æåç¸å",normalizedTitle:"å¤ä¸ªå¯¹è±¡æåç¸å",charIndex:661},{level:2,title:"æååéåå±é¨åé",slug:"æååéåå±é¨åé",normalizedTitle:"æååéåå±é¨åé",charIndex:859},{level:2,title:"å°è£",slug:"å°è£",normalizedTitle:"å°è£",charIndex:875},{level:2,title:"thiså³é®å­ä½¿ç¨",slug:"thiså³é®å­ä½¿ç¨",normalizedTitle:"thiså³é®å­ä½¿ç¨",charIndex:1158},{level:2,title:"å°è£æ¦å¿µ",slug:"å°è£æ¦å¿µ",normalizedTitle:"å°è£æ¦å¿µ",charIndex:1295},{level:2,title:"æé æ¹æ³",slug:"æé æ¹æ³",normalizedTitle:"æé æ¹æ³",charIndex:1480}],headersStr:"ç±»åå¯¹è±¡ ç±»çå®ä¹ å¯¹è±¡çä½¿ç¨ å¯¹è±¡åå­å¾ åä¸ªå¯¹è±¡ new ä¸ä¸ªåå­å°åï¼ç¬æçï¼ æåç±» å¤ä¸ªå¯¹è±¡ ç¬¬ä¸ä¸ªå¯¹è±¡newä¸ä¸ªåå­å°å å¤ä¸ªå¯¹è±¡æåç¸å æååéåå±é¨åé å°è£ thiså³é®å­ä½¿ç¨ å°è£æ¦å¿µ æé æ¹æ³",content:"# é¢åå¯¹è±¡åºç¡\n\n\n# ç±»åå¯¹è±¡\n\n 1. é¢åå¯¹è±¡ æè®¡ç®æºå³æ³¨çç®æ \n\n 2. ç±»\n    \n    ç±»æ¯å¯¹è±¡çæ°æ®ç±»å\n    \n    ç±»æ¯å·æç¸åå±æ§åè¡ä¸ºçä¸ç»å¯¹è±¡çéå\n\n 3. å¯¹è±¡çå±æ§\n    \n    å¯¹è±¡å·æçåç§ç¹å¾ï¼æ¯ä¸ªå±æ§å¤§é½æ¥æç¹å®çå¼\n\n 4. å¯¹è±¡çè¡ä¸º\n    \n    å¯¹è±¡è½å¤æ§è¡çæä½\n\nç±»æ¯å¯¹è±¡çæ½è±¡ï¼å¯¹è±¡æ¯ç±»çå®ä½\n\n\n# ç±»çå®ä¹\n\nç±»æ¯javaç¨åºçåºæ¬ç»æåä½\n\npublic class ç±»å{\n\n//æååé\n\nåé1çæ°æ®ç±»å åé1;\n\nåé2çæ°æ®ç±»å åé2;\n\n//æåæ¹æ³\n\næ¹æ³1;\n\n}\n\n\n# å¯¹è±¡çä½¿ç¨\n\nåå»ºå¯¹è±¡\n\nç±»å å¯¹è±¡å = new ç±»å();\n\nObjectTest01 P =new ObjectTest01();\n\nä½¿ç¨å¯¹è±¡\n\n 1. ä½¿ç¨æååé\n    \n    æ ¼å¼ï¼å¯¹è±¡å.åéå\n    \n    p.barand\n\n 2. ä½¿ç¨æåæ¹æ³\n    \n    æ ¼å¼ï¼å¯¹è±¡å.æ¹æ³å\n    \n    p.call()\n\n\n# å¯¹è±¡åå­å¾\n\n\n# åä¸ªå¯¹è±¡ new ä¸ä¸ªåå­å°åï¼ç¬æçï¼ æåç±»\n\næååé å æåæ¹æ³é½æ¯ç¬ç¨çä¸ä¸å¶ä»åçå²çªï¼åªæ¯æåè°ç¨\n\næåæ¹æ³ å¯¹è±¡è°ç¨æ§è¡å®å ä¼ä»æ åå­æ¶å¤±ï¼æ¸ç©ºï¼\n\n\n# å¤ä¸ªå¯¹è±¡ ç¬¬ä¸ä¸ªå¯¹è±¡newä¸ä¸ªåå­å°å\n\nç¬¬äºä¸ªå¯¹è±¡ newä¸ä¸ªåå­å°å\n\nä¸¤ä¸ªå¯¹è±¡åå«æåä¸åçåå­å°åä½æ¹æ³åä»£ç ç¸åï¼äºç¸ä¹åæ å½±å\n\nå¦è¿æå¯¹è±¡ç³è¯·æ°çåå­è¿æ¯æ å½±åï¼åèµ°åç\n\n\n# å¤ä¸ªå¯¹è±¡æåç¸å\n\nç¬¬ä¸ä¸ªå¯¹è±¡newä¸ä¸ªåå­å°å\n\nå°ç¬¬ä¸ä¸ªå¯¹è±¡çå°åèµå¼ç»ç¬¬äºä¸ªå¯¹è±¡\n\nä¸¤ä¸ªå¯¹è±¡æåçåå­å°åé½æ¯ç¸åçï¼å ä¸ºç¬¬äºä¸ªå¯¹è±¡çåå­æ¯ç±ç¬¬ä¸ä¸ªå¯¹è±¡ç³è¯·çåå­èµå¼ç\n\nç¬¬ä¸ä¸ªå¯¹è±¡ ç³è¯·æ°çåå­å°å\n\nObjectTest01 P =new ObjectTest01();\n\nç¬¬äºä¸ªå¯¹è±¡ å°ç¬¬ä¸ä¸ªå¯¹è±¡ç³è¯·çåå­å°åèµå¼ç»ç¬¬äºä¸ªå¯¹è±¡ä½¿ç¨\n\nObjectTest01 P2 = p;\n\n\n# æååéåå±é¨åé\n\n\n\n\n# å°è£\n\nprivateå³é®å­\n\næ¯ä¸ä¸ªæéä¿®é¥°ç¬¦ï¼å¯ä»¥ä¿®é¥°æå(æååéåæåæ¹æ³)\n\nä½ç¨æ¯ä¿æ¤æåä¸è¢«å«çç±»ä½¿ç¨ï¼è¢«privateä¿®é¥°çæååªå¨æ¬ç±»ä¸­æè½è®¿é®\n\nå¦éè¦ç±»å¤é¨ä½¿ç¨åéè¦å®ä¹javaåé¨æ¹æ³ get/setæ¹æ³\n\nset è¢«ä¿®é¥°çåéå é¦å­æ¯è¦å¤§åå¦setAge\n\næ ¼å¼: pulic void setXxx(æ°æ®ç±»å åé){\n\n\n\n}\n\nsetæ¯ä¼ éåæ°\n\ngetæ¯è¿ååæ°\n\nget è¢«ä¿®é¥°çåéå é¦å­æ¯è¦å¤§åå¦getAge\n\npulic è¿åå¼çç±»å getXxx (){\n\nreturn è¢«ä¿®é¥°çåéå\n\n}\n\n\n\nç±»å¤ç´æ¥\n\n\n# thiså³é®å­ä½¿ç¨\n\nç¨thisä¿®é¥°çåéç¨äºæä»£æååé\n\nå¦å¨ç±»æ¹æ³ä¸­ åæ°åæååéåç§°ä¸è´åç³»ç»è®¤ä¸ºä»£ç æä»£çä¸ºæ¹æ³ä¸­çå±é¨åéï¼å½¢åï¼ï¼éè¦å thisä¿®é¥°æä»£ä¸ºæååé\n\nthis è§£å³å±é¨åééèæååé\n\næ¹æ³è¢«åªä¸ªå¯¹è±¡è°ç¨äºï¼thiså°±ä»£è¡¨åªä¸ªå¯¹è±¡\n\n\n# å°è£æ¦å¿µ\n\nå°è£æ¯é¢åå¯¹è±¡ä¸å¤§ç¹å¾ä¹ä¸ï¼å°è£ï¼ç»§æ¿ï¼å¤æï¼\n\nå°è£çåå\n\nå°ç±»çæäºä¿¡æ¯éèå¨ç±»åé¨ï¼ä¸åè®¸å¤é¨ç´æ¥è®¿é®ï¼èæ¯éè¿ç±»æä¾çæ¹æ³æ¥å®ç°å¯¹éèä¿¡æ¯çæä½åè®¿é®\n\næååéprivateï¼æä¾å¯¹åºçgetXxx()/setXxx()æ¹æ³\n\nå°è£çå¥½å¤\n\néè¿æ¹æ³æ¥æ§å¶æååéçæä½ï¼æé«äºä»£ç çå®å¨æ§\n\næä»£ç ç¨æ¹æ³è¿è¡å°è£ï¼æé«äºä»£ç çå¤ç¨æ§ã\n\n\n# æé æ¹æ³\n\næé æ¹æ³æ¯ä¸ç§ç¹æ®çæ¹æ³\n\nä½ç¨ï¼åå»ºå¯¹è±¡ ä¸»è¦æ¯å®æå¯¹è±¡æ°æ®çåå§å\n\npublic class ç±»å{\n\nä¿®é¥°ç¬¦ ç±»å(åæ°){\n\n}\n\n}\n\næ³¨æäºé¡¹\n\næé æ¹æ³çåå»º\n\nå½ç±»ä¸­æ²¡æåå»ºæ åæé æ¹æ³ç³»ç»é»è®¤çèªå¨çææ åæé æ¹æ³\n\nå¦æå®ä¹äºæé æ¹æ³ï¼ç³»ç»å°ä¸åæä¾é»è®¤çæé æ¹æ³\n\npubilc ç±»å(åæ°){\n\n}\n\næé æ¹æ³çéè½½\n\nå¦æå®ä¹äºå¸¦åæ°çæé æ¹æ³ï¼è¿è¦ä½¿ç¨æ åæé æ¹æ³ï¼å¿é¡»ååä¸ä¸ªæ åæ°æé æ¹æ³ï¼å ä¸ºç³»ç»ä¸åæä¾é»è®¤çæ åæ°æé æ¹æ³\n\nå»ºè®®æ è®ºæ¯å¦ä½¿ç¨ï¼é½æå·¥ä¹¦åæ åæé æ¹æ³",normalizedContent:"# é¢åå¯¹è±¡åºç¡\n\n\n# ç±»åå¯¹è±¡\n\n 1. é¢åå¯¹è±¡ æè®¡ç®æºå³æ³¨çç®æ \n\n 2. ç±»\n    \n    ç±»æ¯å¯¹è±¡çæ°æ®ç±»å\n    \n    ç±»æ¯å·æç¸åå±æ§åè¡ä¸ºçä¸ç»å¯¹è±¡çéå\n\n 3. å¯¹è±¡çå±æ§\n    \n    å¯¹è±¡å·æçåç§ç¹å¾ï¼æ¯ä¸ªå±æ§å¤§é½æ¥æç¹å®çå¼\n\n 4. å¯¹è±¡çè¡ä¸º\n    \n    å¯¹è±¡è½å¤æ§è¡çæä½\n\nç±»æ¯å¯¹è±¡çæ½è±¡ï¼å¯¹è±¡æ¯ç±»çå®ä½\n\n\n# ç±»çå®ä¹\n\nç±»æ¯javaç¨åºçåºæ¬ç»æåä½\n\npublic class ç±»å{\n\n//æååé\n\nåé1çæ°æ®ç±»å åé1;\n\nåé2çæ°æ®ç±»å åé2;\n\n//æåæ¹æ³\n\næ¹æ³1;\n\n}\n\n\n# å¯¹è±¡çä½¿ç¨\n\nåå»ºå¯¹è±¡\n\nç±»å å¯¹è±¡å = new ç±»å();\n\nobjecttest01 p =new objecttest01();\n\nä½¿ç¨å¯¹è±¡\n\n 1. ä½¿ç¨æååé\n    \n    æ ¼å¼ï¼å¯¹è±¡å.åéå\n    \n    p.barand\n\n 2. ä½¿ç¨æåæ¹æ³\n    \n    æ ¼å¼ï¼å¯¹è±¡å.æ¹æ³å\n    \n    p.call()\n\n\n# å¯¹è±¡åå­å¾\n\n\n# åä¸ªå¯¹è±¡ new ä¸ä¸ªåå­å°åï¼ç¬æçï¼ æåç±»\n\næååé å æåæ¹æ³é½æ¯ç¬ç¨çä¸ä¸å¶ä»åçå²çªï¼åªæ¯æåè°ç¨\n\næåæ¹æ³ å¯¹è±¡è°ç¨æ§è¡å®å ä¼ä»æ åå­æ¶å¤±ï¼æ¸ç©ºï¼\n\n\n# å¤ä¸ªå¯¹è±¡ ç¬¬ä¸ä¸ªå¯¹è±¡newä¸ä¸ªåå­å°å\n\nç¬¬äºä¸ªå¯¹è±¡ newä¸ä¸ªåå­å°å\n\nä¸¤ä¸ªå¯¹è±¡åå«æåä¸åçåå­å°åä½æ¹æ³åä»£ç ç¸åï¼äºç¸ä¹åæ å½±å\n\nå¦è¿æå¯¹è±¡ç³è¯·æ°çåå­è¿æ¯æ å½±åï¼åèµ°åç\n\n\n# å¤ä¸ªå¯¹è±¡æåç¸å\n\nç¬¬ä¸ä¸ªå¯¹è±¡newä¸ä¸ªåå­å°å\n\nå°ç¬¬ä¸ä¸ªå¯¹è±¡çå°åèµå¼ç»ç¬¬äºä¸ªå¯¹è±¡\n\nä¸¤ä¸ªå¯¹è±¡æåçåå­å°åé½æ¯ç¸åçï¼å ä¸ºç¬¬äºä¸ªå¯¹è±¡çåå­æ¯ç±ç¬¬ä¸ä¸ªå¯¹è±¡ç³è¯·çåå­èµå¼ç\n\nç¬¬ä¸ä¸ªå¯¹è±¡ ç³è¯·æ°çåå­å°å\n\nobjecttest01 p =new objecttest01();\n\nç¬¬äºä¸ªå¯¹è±¡ å°ç¬¬ä¸ä¸ªå¯¹è±¡ç³è¯·çåå­å°åèµå¼ç»ç¬¬äºä¸ªå¯¹è±¡ä½¿ç¨\n\nobjecttest01 p2 = p;\n\n\n# æååéåå±é¨åé\n\n\n\n\n# å°è£\n\nprivateå³é®å­\n\næ¯ä¸ä¸ªæéä¿®é¥°ç¬¦ï¼å¯ä»¥ä¿®é¥°æå(æååéåæåæ¹æ³)\n\nä½ç¨æ¯ä¿æ¤æåä¸è¢«å«çç±»ä½¿ç¨ï¼è¢«privateä¿®é¥°çæååªå¨æ¬ç±»ä¸­æè½è®¿é®\n\nå¦éè¦ç±»å¤é¨ä½¿ç¨åéè¦å®ä¹javaåé¨æ¹æ³ get/setæ¹æ³\n\nset è¢«ä¿®é¥°çåéå é¦å­æ¯è¦å¤§åå¦setage\n\næ ¼å¼: pulic void setxxx(æ°æ®ç±»å åé){\n\n\n\n}\n\nsetæ¯ä¼ éåæ°\n\ngetæ¯è¿ååæ°\n\nget è¢«ä¿®é¥°çåéå é¦å­æ¯è¦å¤§åå¦getage\n\npulic è¿åå¼çç±»å getxxx (){\n\nreturn è¢«ä¿®é¥°çåéå\n\n}\n\n\n\nç±»å¤ç´æ¥\n\n\n# thiså³é®å­ä½¿ç¨\n\nç¨thisä¿®é¥°çåéç¨äºæä»£æååé\n\nå¦å¨ç±»æ¹æ³ä¸­ åæ°åæååéåç§°ä¸è´åç³»ç»è®¤ä¸ºä»£ç æä»£çä¸ºæ¹æ³ä¸­çå±é¨åéï¼å½¢åï¼ï¼éè¦å thisä¿®é¥°æä»£ä¸ºæååé\n\nthis è§£å³å±é¨åééèæååé\n\næ¹æ³è¢«åªä¸ªå¯¹è±¡è°ç¨äºï¼thiså°±ä»£è¡¨åªä¸ªå¯¹è±¡\n\n\n# å°è£æ¦å¿µ\n\nå°è£æ¯é¢åå¯¹è±¡ä¸å¤§ç¹å¾ä¹ä¸ï¼å°è£ï¼ç»§æ¿ï¼å¤æï¼\n\nå°è£çåå\n\nå°ç±»çæäºä¿¡æ¯éèå¨ç±»åé¨ï¼ä¸åè®¸å¤é¨ç´æ¥è®¿é®ï¼èæ¯éè¿ç±»æä¾çæ¹æ³æ¥å®ç°å¯¹éèä¿¡æ¯çæä½åè®¿é®\n\næååéprivateï¼æä¾å¯¹åºçgetxxx()/setxxx()æ¹æ³\n\nå°è£çå¥½å¤\n\néè¿æ¹æ³æ¥æ§å¶æååéçæä½ï¼æé«äºä»£ç çå®å¨æ§\n\næä»£ç ç¨æ¹æ³è¿è¡å°è£ï¼æé«äºä»£ç çå¤ç¨æ§ã\n\n\n# æé æ¹æ³\n\næé æ¹æ³æ¯ä¸ç§ç¹æ®çæ¹æ³\n\nä½ç¨ï¼åå»ºå¯¹è±¡ ä¸»è¦æ¯å®æå¯¹è±¡æ°æ®çåå§å\n\npublic class ç±»å{\n\nä¿®é¥°ç¬¦ ç±»å(åæ°){\n\n}\n\n}\n\næ³¨æäºé¡¹\n\næé æ¹æ³çåå»º\n\nå½ç±»ä¸­æ²¡æåå»ºæ åæé æ¹æ³ç³»ç»é»è®¤çèªå¨çææ åæé æ¹æ³\n\nå¦æå®ä¹äºæé æ¹æ³ï¼ç³»ç»å°ä¸åæä¾é»è®¤çæé æ¹æ³\n\npubilc ç±»å(åæ°){\n\n}\n\næé æ¹æ³çéè½½\n\nå¦æå®ä¹äºå¸¦åæ°çæé æ¹æ³ï¼è¿è¦ä½¿ç¨æ åæé æ¹æ³ï¼å¿é¡»ååä¸ä¸ªæ åæ°æé æ¹æ³ï¼å ä¸ºç³»ç»ä¸åæä¾é»è®¤çæ åæ°æé æ¹æ³\n\nå»ºè®®æ è®ºæ¯å¦ä½¿ç¨ï¼é½æå·¥ä¹¦åæ åæé æ¹æ³",charsets:{cjk:!0},lastUpdated:"2022/03/18, 07:01:11",lastUpdatedTimestamp:1647558071e3},{title:"å¾ªç¯è¯­å¥",frontmatter:{title:"å¾ªç¯è¯­å¥",date:"2022-03-18T00:48:37.000Z",permalink:"/pages/db81b2/",categories:["åç«¯","Java"],tags:[null]},regularPath:"/%E5%90%8E%E7%AB%AF/01.JavaSE/24.%E5%BE%AA%E7%8E%AF%E8%AF%AD%E5%8F%A5.html",relativePath:"åç«¯/01.JavaSE/24.å¾ªç¯è¯­å¥.md",key:"v-6cdcad60",path:"/pages/db81b2/",headers:[{level:2,title:"forå¾ªç¯",slug:"forå¾ªç¯",normalizedTitle:"forå¾ªç¯",charIndex:11},{level:2,title:"whileå¾ªç¯",slug:"whileå¾ªç¯",normalizedTitle:"whileå¾ªç¯",charIndex:189},{level:2,title:"doâ¦whileå¾ªç¯",slug:"do-whileå¾ªç¯",normalizedTitle:"doâ¦whileå¾ªç¯",charIndex:248},{level:2,title:"è·³è½¬æ§å¶è¯­å¥",slug:"è·³è½¬æ§å¶è¯­å¥",normalizedTitle:"è·³è½¬æ§å¶è¯­å¥",charIndex:374},{level:2,title:"å¾ªç¯åµå¥",slug:"å¾ªç¯åµå¥",normalizedTitle:"å¾ªç¯åµå¥",charIndex:447},{level:2,title:"Random",slug:"random",normalizedTitle:"random",charIndex:490}],headersStr:"forå¾ªç¯ whileå¾ªç¯ doâ¦whileå¾ªç¯ è·³è½¬æ§å¶è¯­å¥ å¾ªç¯åµå¥ Random",content:"# å¾ªç¯è¯­å¥\n\n\n# forå¾ªç¯\n\næ ¼å¼:\n\nfor(åå§åè¯­å¥;æ¡ä»¶å¤æ­è¯­å¥;æ¡ä»¶æ§å¶è¯­å¥){\n\nå¾ªç¯ä½è¯­å¥;\n\n}\n\nåå§åè¯­å¥ï¼å¯æ¯ä¸æ¡æå¤æ¡è¯­å¥ï¼è¿äºè¯­å¥å¯ä»¥å®æä¸äºåå§åæä½\n\næ¡ä»¶å¤æ­è¯­å¥ï¼è¿éä½¿ç¨ä¸ä¸ªç»æå¼ä¸ºbooleanç±»åçè¡¨è¾¾å¼\n\næ¡ä»¶æ§å¶è¯­å¥ï¼è¿ééå¸¸ä½¿ç¨ä¸æ¡è¯­å¥æ¥æ¹ååéçå¼ï¼ä»èè¾¾å°æ§å¶å¾ªç¯æ¯å¦ç»§ç»­åä¸æ§è¡ç»æãå¸¸è§i++ï¼iâè¿æ ·çæä½ã\n\n\n# whileå¾ªç¯\n\næ ¼å¼:\n\nwhile (æ¡ä»¶å¤æ­è¯­å¥){\n\nå¾ªç¯ä½è¯­å¥;\n\nå¯çç¥ï¼æ¡ä»¶æ§å¶è¯­å¥;ï¼\n\n}\n\n\n# doâ¦whileå¾ªç¯\n\næ ¼å¼:\n\ndo{\n\nå¾ªç¯ä½è¯­å¥;\n\nå¯çç¥(æ¡ä»¶æ§å¶è¯­å¥);\n\n}while(æ¡ä»¶å¤æ­è¯­å¥);\n\ndoâ¦whileå¾ªç¯ é¦åä¼æ§è¡ä¸æ¬¡doéé¢çè¯­å¥ï¼ç¶åå¤æ­whileçæ¡ä»¶ï¼å¦ä¸ºtrueåè¿åå°doï¼falseåç»æ\n\n\n# è·³è½¬æ§å¶è¯­å¥\n\ncontunue ç¨äºå¾ªç¯ä¸­ï¼åºäºæ¡ä»¶æ§å¶ï¼è·³è¿ææ¬¡å¾ªç¯ä½åå®¹çæ§è¡ï¼ç»§ç»­ä¸ä¸æ¬¡æ§è¡\n\nbreak ç¨äºç»æå½åæ´ä¸ªå¾ªç¯\n\n\n# å¾ªç¯åµå¥\n\nfor(){\n\nfor(){\n\n}\n\n}\n\nè·pythonå·®ä¸å¤\n\n\n# Random\n\näº§çä¸ä¸ªéæºæ°\n\nimport java.util.Random; å¯¼å¥randomçå\n\nRandom r =new Random(); åå»ºä¸ä¸ªå¯¹è±¡\n\nint number = r.nextInt(10); è·å0-9çéæºæ°ï¼ä¸åå«10",normalizedContent:"# å¾ªç¯è¯­å¥\n\n\n# forå¾ªç¯\n\næ ¼å¼:\n\nfor(åå§åè¯­å¥;æ¡ä»¶å¤æ­è¯­å¥;æ¡ä»¶æ§å¶è¯­å¥){\n\nå¾ªç¯ä½è¯­å¥;\n\n}\n\nåå§åè¯­å¥ï¼å¯æ¯ä¸æ¡æå¤æ¡è¯­å¥ï¼è¿äºè¯­å¥å¯ä»¥å®æä¸äºåå§åæä½\n\næ¡ä»¶å¤æ­è¯­å¥ï¼è¿éä½¿ç¨ä¸ä¸ªç»æå¼ä¸ºbooleanç±»åçè¡¨è¾¾å¼\n\næ¡ä»¶æ§å¶è¯­å¥ï¼è¿ééå¸¸ä½¿ç¨ä¸æ¡è¯­å¥æ¥æ¹ååéçå¼ï¼ä»èè¾¾å°æ§å¶å¾ªç¯æ¯å¦ç»§ç»­åä¸æ§è¡ç»æãå¸¸è§i++ï¼iâè¿æ ·çæä½ã\n\n\n# whileå¾ªç¯\n\næ ¼å¼:\n\nwhile (æ¡ä»¶å¤æ­è¯­å¥){\n\nå¾ªç¯ä½è¯­å¥;\n\nå¯çç¥ï¼æ¡ä»¶æ§å¶è¯­å¥;ï¼\n\n}\n\n\n# doâ¦whileå¾ªç¯\n\næ ¼å¼:\n\ndo{\n\nå¾ªç¯ä½è¯­å¥;\n\nå¯çç¥(æ¡ä»¶æ§å¶è¯­å¥);\n\n}while(æ¡ä»¶å¤æ­è¯­å¥);\n\ndoâ¦whileå¾ªç¯ é¦åä¼æ§è¡ä¸æ¬¡doéé¢çè¯­å¥ï¼ç¶åå¤æ­whileçæ¡ä»¶ï¼å¦ä¸ºtrueåè¿åå°doï¼falseåç»æ\n\n\n# è·³è½¬æ§å¶è¯­å¥\n\ncontunue ç¨äºå¾ªç¯ä¸­ï¼åºäºæ¡ä»¶æ§å¶ï¼è·³è¿ææ¬¡å¾ªç¯ä½åå®¹çæ§è¡ï¼ç»§ç»­ä¸ä¸æ¬¡æ§è¡\n\nbreak ç¨äºç»æå½åæ´ä¸ªå¾ªç¯\n\n\n# å¾ªç¯åµå¥\n\nfor(){\n\nfor(){\n\n}\n\n}\n\nè·pythonå·®ä¸å¤\n\n\n# random\n\näº§çä¸ä¸ªéæºæ°\n\nimport java.util.random; å¯¼å¥randomçå\n\nrandom r =new random(); åå»ºä¸ä¸ªå¯¹è±¡\n\nint number = r.nextint(10); è·å0-9çéæºæ°ï¼ä¸åå«10",charsets:{cjk:!0},lastUpdated:"2022/03/18, 07:01:11",lastUpdatedTimestamp:1647558071e3},{title:"æ åç±»",frontmatter:{title:"æ åç±»",date:"2022-03-18T00:48:37.000Z",permalink:"/pages/ab994e/",categories:["åç«¯","Java"],tags:[null]},regularPath:"/%E5%90%8E%E7%AB%AF/01.JavaSE/29.%E6%A0%87%E5%87%86%E7%B1%BB.html",relativePath:"åç«¯/01.JavaSE/29.æ åç±».md",key:"v-9df1bfda",path:"/pages/ab994e/",headersStr:null,content:"# æ åç±»\n\n 1. æååé\n    \n    ä½¿ç¨privateä¿®é¥°\n\n 2. æé æ¹æ³\n    \n    æä¾ä¸ä¸ªæ åæé æ¹æ³\n    \n    æä¾ä¸ä¸ªå¸¦å¤ä¸ªåæ°çæé æ¹æ³\n\n 3. æåæ¹æ³\n    \n    æä¾æ¯ä¸ä¸ªæååéå¯¹åºçsetXxx()/getXxx()\n    \n    æä¾ä¸ä¸ªæ¾ç¤ºå¯¹è±¡ä¿¡æ¯çshow()\n\n 4. åå»ºå¯¹è±¡å¹¶ä¸ºå¶æååéèµå¼çä¸¤ç§æ¹å¼\n    \n    æ åæé æ¹æ³åå»ºå¯¹è±¡åä½¿ç¨setXxx()èµå¼\n    \n    ä½¿ç¨å¸¦åæé æ¹æ³ç´æ¥åå»ºå¸¦æå±æ§å¼çå¯¹è±¡",normalizedContent:"# æ åç±»\n\n 1. æååé\n    \n    ä½¿ç¨privateä¿®é¥°\n\n 2. æé æ¹æ³\n    \n    æä¾ä¸ä¸ªæ åæé æ¹æ³\n    \n    æä¾ä¸ä¸ªå¸¦å¤ä¸ªåæ°çæé æ¹æ³\n\n 3. æåæ¹æ³\n    \n    æä¾æ¯ä¸ä¸ªæååéå¯¹åºçsetxxx()/getxxx()\n    \n    æä¾ä¸ä¸ªæ¾ç¤ºå¯¹è±¡ä¿¡æ¯çshow()\n\n 4. åå»ºå¯¹è±¡å¹¶ä¸ºå¶æååéèµå¼çä¸¤ç§æ¹å¼\n    \n    æ åæé æ¹æ³åå»ºå¯¹è±¡åä½¿ç¨setxxx()èµå¼\n    \n    ä½¿ç¨å¸¦åæé æ¹æ³ç´æ¥åå»ºå¸¦æå±æ§å¼çå¯¹è±¡",charsets:{cjk:!0},lastUpdated:"2022/03/18, 07:01:11",lastUpdatedTimestamp:1647558071e3},{title:"æ¹æ³",frontmatter:{title:"æ¹æ³",date:"2022-03-18T00:48:37.000Z",permalink:"/pages/8361e2/",categories:["åç«¯","Java"],tags:[null]},regularPath:"/%E5%90%8E%E7%AB%AF/01.JavaSE/27.%E6%96%B9%E6%B3%95.html",relativePath:"åç«¯/01.JavaSE/27.æ¹æ³.md",key:"v-e78fc5d0",path:"/pages/8361e2/",headers:[{level:2,title:"æ¹æ³å®ä¹åè°ç¨",slug:"æ¹æ³å®ä¹åè°ç¨",normalizedTitle:"æ¹æ³å®ä¹åè°ç¨",charIndex:105},{level:2,title:"å¸¦åæ°æ¹æ³å®ä¹åè°ç¨",slug:"å¸¦åæ°æ¹æ³å®ä¹åè°ç¨",normalizedTitle:"å¸¦åæ°æ¹æ³å®ä¹åè°ç¨",charIndex:170},{level:2,title:"å½¢ååå®å",slug:"å½¢ååå®å",normalizedTitle:"å½¢ååå®å",charIndex:368},{level:2,title:"å¸¦è¿åå¼æ¹æ³çå®ä¹åè°ç¨",slug:"å¸¦è¿åå¼æ¹æ³çå®ä¹åè°ç¨",normalizedTitle:"å¸¦è¿åå¼æ¹æ³çå®ä¹åè°ç¨",charIndex:404},{level:2,title:"æ¹æ³çæ³¨æäºé¡¹",slug:"æ¹æ³çæ³¨æäºé¡¹",normalizedTitle:"æ¹æ³çæ³¨æäºé¡¹",charIndex:528},{level:2,title:"æ¹æ³çéç¨æ ¼å¼",slug:"æ¹æ³çéç¨æ ¼å¼",normalizedTitle:"æ¹æ³çéç¨æ ¼å¼",charIndex:619},{level:2,title:"æ¹æ³éè½½",slug:"æ¹æ³éè½½",normalizedTitle:"æ¹æ³éè½½",charIndex:743},{level:2,title:"æ¹æ³çåæ°ä¼ é",slug:"æ¹æ³çåæ°ä¼ é",normalizedTitle:"æ¹æ³çåæ°ä¼ é",charIndex:881}],headersStr:"æ¹æ³å®ä¹åè°ç¨ å¸¦åæ°æ¹æ³å®ä¹åè°ç¨ å½¢ååå®å å¸¦è¿åå¼æ¹æ³çå®ä¹åè°ç¨ æ¹æ³çæ³¨æäºé¡¹ æ¹æ³çéç¨æ ¼å¼ æ¹æ³éè½½ æ¹æ³çåæ°ä¼ é",content:"# æ¹æ³\n\næ¹æ³(method)æ¯å°å·æç¬ç«åè½çä»£ç åç»ç»æä¸ºä¸ä¸ªæ´ä½ï¼ä½¿å¶å·æç¹æ®åè½çä»£ç é\n\næ¹æ³å¿é¡»ååå»ºæè½ä½¿ç¨ï¼ç§°ä¸ºæ¹æ³å®ä¹\n\næ¹æ³åå»ºåå¹¶ä¸æ¯ç´æ¥è¿è¡çï¼éè¦æå¨ä½¿ç¨åææ§è¡ï¼ç§°ä¸ºè°ç¨\n\n\n# æ¹æ³å®ä¹åè°ç¨\n\næ ¼å¼\n\npublic static void æ¹æ³å(){\n\n//æ¹æ³ä½\n\n}\n\nè°ç¨\n\næ¹æ³å();\n\n\n# å¸¦åæ°æ¹æ³å®ä¹åè°ç¨\n\næ ¼å¼:public static void æ¹æ³å(åæ°){â¦}\n\nåä¸ªåæ°:public static void æ¹æ³å(æ°æ®ç±»å åéå){â¦}\n\nå¤ä¸ªåæ°:public static void æ¹æ³å(æ°æ®ç±»å åéå1,æ°æ®ç±»å åéå2,â¦){â¦}\n\næ³¨æï¼åæ°ä¸­çæ°æ®ç±»åä¸åéåé½ä¸è½ç¼ºå°ï¼å¤ä¸ªåæ°ä¹é´ä½¿ç¨éå·åé\n\nè°ç¨\n\næ¹æ³å(åæ°,åæ°2)\n\n\n# å½¢ååå®å\n\nå½¢åï¼æ¹æ³å®ä¹ä¸­çåæ°\n\nå®åï¼æ¹æ³è°ç¨ä¸­çåæ°\n\n\n# å¸¦è¿åå¼æ¹æ³çå®ä¹åè°ç¨\n\npubilc static æ°æ®ç±»å æ¹æ³å(åæ°){\n\nreturn æ°æ®;\n\n}\n\næ¹æ³å®ä¹æ¯returnåé¢çè¿åå¼è¦ä¸æ¹æ³å®ä¹ä¸çæ°æ®ç±»åä¸è´ï¼å¦åä¼æ¥é\n\nè°ç¨\n\næ°æ®ç±»å åéå =æ¹æ³å(åæ°);\n\n\n# æ¹æ³çæ³¨æäºé¡¹\n\næ¹æ³ä¸è½åµå¥å®ä¹\n\nvoidè¡¨ç¤ºæ è¿åå¼ï¼å¯ä»¥çç¥returnï¼ä¹å¯åç¬ä¹¦åreturn,åé¢ä¸å æ°æ®\n\næ§è¡returnåæ¹æ³ä¸­åé¢çä»£ç å°ä¸ååä¸æ§è¡\n\n\n# æ¹æ³çéç¨æ ¼å¼\n\npubilc static è¿åå¼ç±»å æ¹æ³å(åæ°){\n\næ¹æ³ä½;\n\nreturn æ°æ®;\n\n}\n\npubic static ä¿®é¥°ç¬¦ï¼ç®ååè®°ä½è¿ä¸ªæ ¼å¼\n\nå®ä¹æ¹æ³æ¶ï¼è¦æç¡®è¿åå¼ç±»åå¦æ²¡åvoidï¼æç¡®åæ°ç±»ååæ°é\n\n\n# æ¹æ³éè½½\n\næ¹æ³éè½½æåä¸ä¸ªç±»ä¸­å®ä¹å¤ä¸ªæ¹æ³ä¹é´çå³ç³»ï¼æ»¡è¶³ä»¥ä¸æ¡ä»¶åææéè½½\n\n 1. å¤ä¸ªæ¹æ³å¨åä¸ä¸ªç±»ä¸­\n 2. å¤ä¸ªæ¹æ³å·æç¸åçæ¹æ³\n 3. å¤ä¸ªæ¹æ³åæ°ä¸åï¼ç±»åä¸åæèæ°éä¸å\n\nä¸è¿åå¼æ å³\n\nå¨è°ç¨çæ¶åï¼javaèææºä¼éè¿åæ°çä¸åæ¥åºåååç\n\n\n# æ¹æ³çåæ°ä¼ é\n\nå¯¹äºåºæ¬æ°æ®ç±»åçåæ°ï¼å½¢å¼åæ°çæ¹åï¼ä¸å½±åå®éåæ°çå¼\n\næ¹æ³ä¸­çåéä¸ºå±é¨åéï¼æ¹æ³åå¼çæ¹åä¸å½±åå®éå¤çå¼\n\nå¼ç¨ç±»å\n\nå¯¹äºå¼ç¨ç±»åçåæ°ï¼å½¢å¼åæ°çæ¹åï¼å½±åå®éåæ°çå¼\n\nSystem.out.println(âåå®¹â); è¾åºåå®¹å¹¶æ¢\n\nSystem.out.print(âåå®¹â); è¾åºåå®¹ä¸æ¢è¡\n\nSystem.out.println(); èµ·å°æ¢è¡çä½ä¸",normalizedContent:"# æ¹æ³\n\næ¹æ³(method)æ¯å°å·æç¬ç«åè½çä»£ç åç»ç»æä¸ºä¸ä¸ªæ´ä½ï¼ä½¿å¶å·æç¹æ®åè½çä»£ç é\n\næ¹æ³å¿é¡»ååå»ºæè½ä½¿ç¨ï¼ç§°ä¸ºæ¹æ³å®ä¹\n\næ¹æ³åå»ºåå¹¶ä¸æ¯ç´æ¥è¿è¡çï¼éè¦æå¨ä½¿ç¨åææ§è¡ï¼ç§°ä¸ºè°ç¨\n\n\n# æ¹æ³å®ä¹åè°ç¨\n\næ ¼å¼\n\npublic static void æ¹æ³å(){\n\n//æ¹æ³ä½\n\n}\n\nè°ç¨\n\næ¹æ³å();\n\n\n# å¸¦åæ°æ¹æ³å®ä¹åè°ç¨\n\næ ¼å¼:public static void æ¹æ³å(åæ°){â¦}\n\nåä¸ªåæ°:public static void æ¹æ³å(æ°æ®ç±»å åéå){â¦}\n\nå¤ä¸ªåæ°:public static void æ¹æ³å(æ°æ®ç±»å åéå1,æ°æ®ç±»å åéå2,â¦){â¦}\n\næ³¨æï¼åæ°ä¸­çæ°æ®ç±»åä¸åéåé½ä¸è½ç¼ºå°ï¼å¤ä¸ªåæ°ä¹é´ä½¿ç¨éå·åé\n\nè°ç¨\n\næ¹æ³å(åæ°,åæ°2)\n\n\n# å½¢ååå®å\n\nå½¢åï¼æ¹æ³å®ä¹ä¸­çåæ°\n\nå®åï¼æ¹æ³è°ç¨ä¸­çåæ°\n\n\n# å¸¦è¿åå¼æ¹æ³çå®ä¹åè°ç¨\n\npubilc static æ°æ®ç±»å æ¹æ³å(åæ°){\n\nreturn æ°æ®;\n\n}\n\næ¹æ³å®ä¹æ¯returnåé¢çè¿åå¼è¦ä¸æ¹æ³å®ä¹ä¸çæ°æ®ç±»åä¸è´ï¼å¦åä¼æ¥é\n\nè°ç¨\n\næ°æ®ç±»å åéå =æ¹æ³å(åæ°);\n\n\n# æ¹æ³çæ³¨æäºé¡¹\n\næ¹æ³ä¸è½åµå¥å®ä¹\n\nvoidè¡¨ç¤ºæ è¿åå¼ï¼å¯ä»¥çç¥returnï¼ä¹å¯åç¬ä¹¦åreturn,åé¢ä¸å æ°æ®\n\næ§è¡returnåæ¹æ³ä¸­åé¢çä»£ç å°ä¸ååä¸æ§è¡\n\n\n# æ¹æ³çéç¨æ ¼å¼\n\npubilc static è¿åå¼ç±»å æ¹æ³å(åæ°){\n\næ¹æ³ä½;\n\nreturn æ°æ®;\n\n}\n\npubic static ä¿®é¥°ç¬¦ï¼ç®ååè®°ä½è¿ä¸ªæ ¼å¼\n\nå®ä¹æ¹æ³æ¶ï¼è¦æç¡®è¿åå¼ç±»åå¦æ²¡åvoidï¼æç¡®åæ°ç±»ååæ°é\n\n\n# æ¹æ³éè½½\n\næ¹æ³éè½½æåä¸ä¸ªç±»ä¸­å®ä¹å¤ä¸ªæ¹æ³ä¹é´çå³ç³»ï¼æ»¡è¶³ä»¥ä¸æ¡ä»¶åææéè½½\n\n 1. å¤ä¸ªæ¹æ³å¨åä¸ä¸ªç±»ä¸­\n 2. å¤ä¸ªæ¹æ³å·æç¸åçæ¹æ³\n 3. å¤ä¸ªæ¹æ³åæ°ä¸åï¼ç±»åä¸åæèæ°éä¸å\n\nä¸è¿åå¼æ å³\n\nå¨è°ç¨çæ¶åï¼javaèææºä¼éè¿åæ°çä¸åæ¥åºåååç\n\n\n# æ¹æ³çåæ°ä¼ é\n\nå¯¹äºåºæ¬æ°æ®ç±»åçåæ°ï¼å½¢å¼åæ°çæ¹åï¼ä¸å½±åå®éåæ°çå¼\n\næ¹æ³ä¸­çåéä¸ºå±é¨åéï¼æ¹æ³åå¼çæ¹åä¸å½±åå®éå¤çå¼\n\nå¼ç¨ç±»å\n\nå¯¹äºå¼ç¨ç±»åçåæ°ï¼å½¢å¼åæ°çæ¹åï¼å½±åå®éåæ°çå¼\n\nsystem.out.println(âåå®¹â); è¾åºåå®¹å¹¶æ¢\n\nsystem.out.print(âåå®¹â); è¾åºåå®¹ä¸æ¢è¡\n\nsystem.out.println(); èµ·å°æ¢è¡çä½ä¸",charsets:{cjk:!0},lastUpdated:"2022/03/18, 07:01:11",lastUpdatedTimestamp:1647558071e3},{title:"æ°ç»",frontmatter:{title:"æ°ç»",date:"2022-03-18T00:48:37.000Z",permalink:"/pages/add390/",categories:["åç«¯","Java"],tags:[null]},regularPath:"/%E5%90%8E%E7%AB%AF/01.JavaSE/26.%E6%95%B0%E7%BB%84.html",relativePath:"åç«¯/01.JavaSE/26.æ°ç».md",key:"v-5aca27e4",path:"/pages/add390/",headers:[{level:2,title:"æ ¼å¼",slug:"æ ¼å¼",normalizedTitle:"æ ¼å¼",charIndex:40},{level:2,title:"æ°ç»åå§å",slug:"æ°ç»åå§å",normalizedTitle:"æ°ç»åå§å",charIndex:143},{level:2,title:"å¨æåå§å",slug:"å¨æåå§å",normalizedTitle:"å¨æåå§å",charIndex:212},{level:2,title:"æ°ç»åç´ è®¿é®",slug:"æ°ç»åç´ è®¿é®",normalizedTitle:"æ°ç»åç´ è®¿é®",charIndex:313},{level:2,title:"åå­åé",slug:"åå­åé",normalizedTitle:"åå­åé",charIndex:387},{level:2,title:"éæåå§å",slug:"éæåå§å",normalizedTitle:"éæåå§å",charIndex:601},{level:2,title:"æ°æ®æä½ä¸­çæ³¨æäºé¡¹",slug:"æ°æ®æä½ä¸­çæ³¨æäºé¡¹",normalizedTitle:"æ°æ®æä½ä¸­çæ³¨æäºé¡¹",charIndex:758},{level:2,title:"è·åæ°ç»åç´ æ°é",slug:"è·åæ°ç»åç´ æ°é",normalizedTitle:"è·åæ°ç»åç´ æ°é",charIndex:879},{level:2,title:"è·åæå¼",slug:"è·åæå¼",normalizedTitle:"è·åæå¼",charIndex:931}],headersStr:"æ ¼å¼ æ°ç»åå§å å¨æåå§å æ°ç»åç´ è®¿é® åå­åé éæåå§å æ°æ®æä½ä¸­çæ³¨æäºé¡¹ è·åæ°ç»åç´ æ°é è·åæå¼",content:"# æ°ç»\n\næ°ç»(array)æ¯ä¸ç§ç¨äºå­å¨å¤ä¸ªç¸åç±»åæ°æ®çå­å¨æ¨¡å\n\n\n# æ ¼å¼\n\næ°æ®ç±»å[] åéå å¦:int[] arr\n\nå®ä¹äºä¸ä¸ªintç±»åçæ°ç»ï¼æ°ç»åæ¯arr\n\næ°æ®ç±»å åéå[] å¦:int arr[]\n\nå®ä¹äºä¸ä¸ªintç±»åçåéï¼åéåæ¯arræ°ç»\n\n\n# æ°ç»åå§å\n\njavaä¸­çæ°ç»å¿é¡»ååå§åï¼ç¶åæè½ä½¿ç¨\n\næè°åå§åï¼å°±æ¯ä¸ºæ°ç»ä¸­çæ°ç»åç´ åéåå­ç©ºé´ï¼å¹¶ä¸ºæ¯ä¸ªæ°ç»åç´ èµå¼\n\n\n# å¨æåå§å\n\nåå§åæ¶åªæå®æ°ç»é¿åº¦ï¼ç±ç³»ç»ä¸ºæ°ç»åéåå§å¼ï¼é»è®¤å¼ä¸º0\n\næ ¼å¼ï¼\n\næ°æ®ç±»å[] åéå = new æ°æ®ç±»å[æ°ç»é¿åº¦];\n\nint[] arr = new int[3];\n\n\n# æ°ç»åç´ è®¿é®\n\næ°ç»åéè®¿é®æ¹å¼\n\næ ¼å¼:æ°ç»å\n\næ°ç»åå®¹ä¿å­çæ°æ®çè®¿é®æ¹å¼\n\næ ¼å¼:æ°ç»å[ç´¢å¼]\n\nç´¢å¼æ¯æ°ç»ä¸­æ°æ®çç¼å·ï¼ä¸æ ï¼\n\n\n# åå­åé\n\næ°ç»å¨åå§åæ¶ï¼ä¼ä¸ºå­å¨ç©ºé´æ·»å é»è®¤å¼\n\næ´æ°ï¼é»è®¤å¼0\n\næµ®ç¹æ°ï¼é»è®¤å¼0.0\n\nå¸å°å¼ï¼false\n\nå­ç¬¦ä¸²ï¼é»è®¤ä¸ºç©ºå­ç¬¦\n\nå¼ç¨æ°æ®ç±»åï¼é»è®¤å¼æ¯null\n\næ åå­ï¼å­å¨å±é¨åé\n\nå³å®ä¹å¨æ¹æ³ä¸­çåéï¼ä¾å¦ï¼arr ä½¿ç¨å®æ¯ï¼ç«å³æ¶å¤±\n\nå åå­ï¼å­å¨newåºæ¥çåå®¹(å®ä½ï¼å¯¹è±¡)\n\næ°ç»å¨åå§åæ¶ï¼ä¼ä¸ºå­å¨ç©ºé´æ·»å é»è®¤å¼\n\næ¯ä¸ªnewåºæ¥çä¸è¥¿é½æä¸ä¸ªå°åå¼ï¼ä½¿ç¨å®æ¯ï¼ä¼å¨åå¾åæ¶å¨ç©ºé²æ¶è¢«åæ¶\n\n\n# éæåå§å\n\nåå§åæ¶æå®æ¯ä¸ªæ°ç»åç´ çåå§å¼ï¼ç±ç³»ç»å³å®æ°ç»é¿åº¦\n\næ ¼å¼:æ°æ®ç±»å[] åéå =new æ°æ®ç±»å[]{æ°æ®1ï¼æ°æ®2ï¼â¦};\n\nint[] arr = new int[]{1,2,3}\n\nç®åæ ¼å¼:æ°æ®ç±»å[]åéå ={æ°æ®1ï¼æ°æ®2ï¼â¦};\n\nint[] arr ={1,2,3}\n\n\n# æ°æ®æä½ä¸­çæ³¨æäºé¡¹\n\n 1. ç´¢å¼è¶ç å³ä¸æ è¶é¿æ°ç»çé¿åº¦\n 2. ç©ºæéå¼å¸¸ è®¿é®çæ°ç»å·²ç»ä¸åæåå åå­çæ°æ®ï¼é æç©ºæéå¼å¸¸ å³ä¿®æ¹äºåarrçåå­ä¸ºnullï¼nullä¸ºç©ºå¼ï¼ä¸ºå¼ç¨æ°æ®ç±»åçé»è®¤å¼ï¼è¡¨ç¤ºä¸æåä»»ä½ææå¯¹è±¡\n\n\n# è·åæ°ç»åç´ æ°é\n\næ ¼å¼ï¼æ°ç»å.length\n\nå¦ arr.length\n\nè·åçæ¯åç´ æ°é\n\n\n# è·åæå¼\n\nä½¿ç¨éååifè¯­å¥æ¥å®ç°\n\nå®ä¹ä¸ä¸ªç¼å­åéèµ·å§å¼ä¸ºæ°ç»çç¬¬0ä¸ªï¼å ä¸ºæ°ç»éåä»ç¬¬0ä¸ªå¼å§éå\n\nif å¤æ­å¾ªç¯éåçåç´ è¿è¡ æ¯è¾è¿ç® ç¬¦åæ¡ä»¶åèµå¼ç»ç¼å­åé\n\nå¾ªç¯ä¸ç´å°ç»æï¼è¾åºç¼å­åé",normalizedContent:"# æ°ç»\n\næ°ç»(array)æ¯ä¸ç§ç¨äºå­å¨å¤ä¸ªç¸åç±»åæ°æ®çå­å¨æ¨¡å\n\n\n# æ ¼å¼\n\næ°æ®ç±»å[] åéå å¦:int[] arr\n\nå®ä¹äºä¸ä¸ªintç±»åçæ°ç»ï¼æ°ç»åæ¯arr\n\næ°æ®ç±»å åéå[] å¦:int arr[]\n\nå®ä¹äºä¸ä¸ªintç±»åçåéï¼åéåæ¯arræ°ç»\n\n\n# æ°ç»åå§å\n\njavaä¸­çæ°ç»å¿é¡»ååå§åï¼ç¶åæè½ä½¿ç¨\n\næè°åå§åï¼å°±æ¯ä¸ºæ°ç»ä¸­çæ°ç»åç´ åéåå­ç©ºé´ï¼å¹¶ä¸ºæ¯ä¸ªæ°ç»åç´ èµå¼\n\n\n# å¨æåå§å\n\nåå§åæ¶åªæå®æ°ç»é¿åº¦ï¼ç±ç³»ç»ä¸ºæ°ç»åéåå§å¼ï¼é»è®¤å¼ä¸º0\n\næ ¼å¼ï¼\n\næ°æ®ç±»å[] åéå = new æ°æ®ç±»å[æ°ç»é¿åº¦];\n\nint[] arr = new int[3];\n\n\n# æ°ç»åç´ è®¿é®\n\næ°ç»åéè®¿é®æ¹å¼\n\næ ¼å¼:æ°ç»å\n\næ°ç»åå®¹ä¿å­çæ°æ®çè®¿é®æ¹å¼\n\næ ¼å¼:æ°ç»å[ç´¢å¼]\n\nç´¢å¼æ¯æ°ç»ä¸­æ°æ®çç¼å·ï¼ä¸æ ï¼\n\n\n# åå­åé\n\næ°ç»å¨åå§åæ¶ï¼ä¼ä¸ºå­å¨ç©ºé´æ·»å é»è®¤å¼\n\næ´æ°ï¼é»è®¤å¼0\n\næµ®ç¹æ°ï¼é»è®¤å¼0.0\n\nå¸å°å¼ï¼false\n\nå­ç¬¦ä¸²ï¼é»è®¤ä¸ºç©ºå­ç¬¦\n\nå¼ç¨æ°æ®ç±»åï¼é»è®¤å¼æ¯null\n\næ åå­ï¼å­å¨å±é¨åé\n\nå³å®ä¹å¨æ¹æ³ä¸­çåéï¼ä¾å¦ï¼arr ä½¿ç¨å®æ¯ï¼ç«å³æ¶å¤±\n\nå åå­ï¼å­å¨newåºæ¥çåå®¹(å®ä½ï¼å¯¹è±¡)\n\næ°ç»å¨åå§åæ¶ï¼ä¼ä¸ºå­å¨ç©ºé´æ·»å é»è®¤å¼\n\næ¯ä¸ªnewåºæ¥çä¸è¥¿é½æä¸ä¸ªå°åå¼ï¼ä½¿ç¨å®æ¯ï¼ä¼å¨åå¾åæ¶å¨ç©ºé²æ¶è¢«åæ¶\n\n\n# éæåå§å\n\nåå§åæ¶æå®æ¯ä¸ªæ°ç»åç´ çåå§å¼ï¼ç±ç³»ç»å³å®æ°ç»é¿åº¦\n\næ ¼å¼:æ°æ®ç±»å[] åéå =new æ°æ®ç±»å[]{æ°æ®1ï¼æ°æ®2ï¼â¦};\n\nint[] arr = new int[]{1,2,3}\n\nç®åæ ¼å¼:æ°æ®ç±»å[]åéå ={æ°æ®1ï¼æ°æ®2ï¼â¦};\n\nint[] arr ={1,2,3}\n\n\n# æ°æ®æä½ä¸­çæ³¨æäºé¡¹\n\n 1. ç´¢å¼è¶ç å³ä¸æ è¶é¿æ°ç»çé¿åº¦\n 2. ç©ºæéå¼å¸¸ è®¿é®çæ°ç»å·²ç»ä¸åæåå åå­çæ°æ®ï¼é æç©ºæéå¼å¸¸ å³ä¿®æ¹äºåarrçåå­ä¸ºnullï¼nullä¸ºç©ºå¼ï¼ä¸ºå¼ç¨æ°æ®ç±»åçé»è®¤å¼ï¼è¡¨ç¤ºä¸æåä»»ä½ææå¯¹è±¡\n\n\n# è·åæ°ç»åç´ æ°é\n\næ ¼å¼ï¼æ°ç»å.length\n\nå¦ arr.length\n\nè·åçæ¯åç´ æ°é\n\n\n# è·åæå¼\n\nä½¿ç¨éååifè¯­å¥æ¥å®ç°\n\nå®ä¹ä¸ä¸ªç¼å­åéèµ·å§å¼ä¸ºæ°ç»çç¬¬0ä¸ªï¼å ä¸ºæ°ç»éåä»ç¬¬0ä¸ªå¼å§éå\n\nif å¤æ­å¾ªç¯éåçåç´ è¿è¡ æ¯è¾è¿ç® ç¬¦åæ¡ä»¶åèµå¼ç»ç¼å­åé\n\nå¾ªç¯ä¸ç´å°ç»æï¼è¾åºç¼å­åé",charsets:{cjk:!0},lastUpdated:"2022/03/18, 07:01:11",lastUpdatedTimestamp:1647558071e3},{title:"å­ç¬¦ä¸²",frontmatter:{title:"å­ç¬¦ä¸²",date:"2022-03-18T00:48:37.000Z",permalink:"/pages/8a171b/",categories:["åç«¯","Java"],tags:[null]},regularPath:"/%E5%90%8E%E7%AB%AF/01.JavaSE/30.%E5%AD%97%E7%AC%A6%E4%B8%B2.html",relativePath:"åç«¯/01.JavaSE/30.å­ç¬¦ä¸².md",key:"v-1f373500",path:"/pages/8a171b/",headers:[{level:2,title:"API",slug:"api",normalizedTitle:"api",charIndex:10},{level:2,title:"String",slug:"string",normalizedTitle:"string",charIndex:96},{level:2,title:"String æé æ¹æ³",slug:"string-æé æ¹æ³",normalizedTitle:"string æé æ¹æ³",charIndex:320},{level:2,title:"String å¯¹è±¡çç¹ç¹",slug:"string-å¯¹è±¡çç¹ç¹",normalizedTitle:"string å¯¹è±¡çç¹ç¹",charIndex:498},{level:2,title:"å­ç¬¦ä¸²çæ¯è¾",slug:"å­ç¬¦ä¸²çæ¯è¾",normalizedTitle:"å­ç¬¦ä¸²çæ¯è¾",charIndex:616},{level:2,title:"éåå­ç¬¦ä¸²",slug:"éåå­ç¬¦ä¸²",normalizedTitle:"éåå­ç¬¦ä¸²",charIndex:772},{level:2,title:"ç»è®¡å­ç¬¦æ¬¡æ°",slug:"ç»è®¡å­ç¬¦æ¬¡æ°",normalizedTitle:"ç»è®¡å­ç¬¦æ¬¡æ°",charIndex:937},{level:2,title:"StringBuilder",slug:"stringbuilder",normalizedTitle:"stringbuilder",charIndex:1082},{level:3,title:"æé æ¹æ³",slug:"æé æ¹æ³",normalizedTitle:"æé æ¹æ³",charIndex:327},{level:3,title:"æ·»å ååè½¬æ¹æ³",slug:"æ·»å ååè½¬æ¹æ³",normalizedTitle:"æ·»å ååè½¬æ¹æ³",charIndex:1313},{level:3,title:"é¾å¼ç¼ç¨",slug:"é¾å¼ç¼ç¨",normalizedTitle:"é¾å¼ç¼ç¨",charIndex:1416},{level:2,title:"Stringä¸Stringbuilderç¸äºè½¬æ¢",slug:"stringä¸stringbuilderç¸äºè½¬æ¢",normalizedTitle:"stringä¸stringbuilderç¸äºè½¬æ¢",charIndex:1581}],headersStr:"API String String æé æ¹æ³ String å¯¹è±¡çç¹ç¹ å­ç¬¦ä¸²çæ¯è¾ éåå­ç¬¦ä¸² ç»è®¡å­ç¬¦æ¬¡æ° StringBuilder æé æ¹æ³ æ·»å ååè½¬æ¹æ³ é¾å¼ç¼ç¨ Stringä¸Stringbuilderç¸äºè½¬æ¢",content:"# å­ç¬¦ä¸²\n\n\n# API\n\næ¦è¿°API(Application Progarmming Interface)ï¼åºç¨ç¨åºç¼ç¨æ¥å£\n\nsc.nextLine()è¿åæ¯ä¸ä¸ªå­ç¬¦ä¸²ç±»åçå¼\n\n\n# String\n\nString ç±»å¨java.langåä¸ï¼ä½¿ç¨çæ¶åä¸éè¦å¯¼å\n\nStringç±»ä»£è¡¨å­ç¬¦ä¸²ï¼javaä¸­ææçå­ç¬¦ä¸²æå­é½è¢«ä¸ºæ­¤ç±»çå®ä¾ï¼javaä¸­ææåå¼å·å­ç¬¦ä¸²çå¶æ°Stringç±»çå¯¹è±¡\n\nå­ç¬¦ä¸²ä¸å¯åï¼å®ä»¬çå¼å¨åå»ºåä¸è½è¢«æ´æ¹\n\nè½ç¶Stringçå¼æ¯ä¸å¯åï¼ä½å®ä»¬å¯ä»¥è¢«å±äº«\n\nå­ç¬¦ä¸²ææä¸ç¸å½äºå­ç¬¦ä¸²æ°æ®(char[]),ä½æ¯åºå±åçæ¯å­èæ°æ®(byte[])\n\nJDK8ä»¥åæ¯å­ç¬¦æ°æ®ï¼JDK9åä»¥åæ¯å­èæ°ç»\n\n\n# String æé æ¹æ³\n\npubilic String() åå»ºä¸ä¸ªç©ºç½å­ç¬¦ä¸²å¯¹è±¡ï¼ä¸å«æä»»ä½åå®¹\n\npubilc String(char[] chs) æ ¹æ®å­ç¬¦æ°ç»çåå®¹ï¼æ¥åå»ºå­ç¬¦ä¸²å¯¹è±¡\n\npubilc String(byte[] bys) æ ¹æ®å­èæ°ç»çåå®¹ï¼æ¥åå»ºå­ç¬¦ä¸²å¯¹è±¡\n\nString s =âabcâ ç´æ¥ä»¥èµå¼æ¹å¼åå»ºå­ç¬¦ä¸²å¯¹è±¡\n\n\n# String å¯¹è±¡çç¹ç¹\n\néè¿newåå»ºçå­ç¬¦ä¸²å¯¹è±¡ï¼æ¯æ¬¡newé½ä¼ç³è¯·ä¸ä¸ªåå­ç©ºé´ï¼è½ç¶åå­ç¸åä½åå®¹å°åä¸ç¸å\n\nä»¥ââèµå¼æ¹å¼åå»ºçå­ç¬¦ä¸²å¯¹è±¡ï¼åªæå­ç¬¦åºåç¸åï¼jvmé½åªä¼å»ºç«ä¸ä¸ªStringå¯¹è±¡ï¼å¹¶å¨å­ç¬¦ä¸²æ± ä¸­ç»´æ¤\n\n\n# å­ç¬¦ä¸²çæ¯è¾\n\nä½¿ç¨==ä½æ¯è¾\n\nåºæ¬ç±»åï¼æ¯è¾çæ¯æ°æ®å¼æ¯å¦ç¸å\n\nå¼ç¨ç±»åï¼æ¯è¾çæ¯å°åå¼æ¯å¦ç¸å\n\nå­ç¬¦ä¸²æ¯å¯¹è±¡ï¼å®æ¯è¾åå®¹æ¯å¦ç¸åï¼æ¯éè¿ä¸ä¸ªæ¹æ³æ¥å®ç°çï¼è¿ä¸ªæ¹æ³å«:equals()\n\npublic boolean equals(Object anObject)ï¼å°æ­¤å­ç¬¦ä¸²ä¸æå®å¯¹è±¡è¿è¡æ¯è¾\n\n\n# éåå­ç¬¦ä¸²\n\næ ¹æ®ç´¢å¼è·åå­ç¬¦ä¸²çæå®å­ç¬¦\n\npublic char charAt(int index);\n\nè¿åæå®ç´¢å¼åºçcharå¼ï¼å­ç¬¦ä¸²çç´¢å¼ä¹ä»0å¼å§\n\nè·åå­ç¬¦ä¸²çé¿åº¦\n\npublic int lengh(); è¿åæ­¤å­ç¬¦ä¸²çé¿åº¦\n\næ°ç»çé¿åº¦ï¼æ°ç»å.length\n\nå­ç¬¦ä¸²çé¿åº¦ï¼å­ç¬¦ä¸²å¯¹è±¡.length\n\n\n# ç»è®¡å­ç¬¦æ¬¡æ°\n\nåå¦chæ¯ä¸ä¸ªå­ç¬¦ï¼æè¦å¤æ­å®å±äºå¤§åå­æ¯ï¼å°åå­æ¯ï¼è¿æ¯æ°å­ï¼ç´æ¥å¤æ­è¯¥å­ç¬¦æ¯å¦å¨å¯¹åºçèå´å³å¯\nå¤§åå­æ¯ï¼ch>='A' && ch<='Z'\nå°åå­æ¯ï¼ ch>='a' && ch<='z'\næ°å­ï¼ ch>='0' && ch<='9'\n\n\n1\n2\n3\n4\n\n\n\n# StringBuilder\n\nå¦æå¯¹å­ç¬¦ä¸²è¿è¡æ¼æ¥æä½ï¼å ä¸ºå­ç¬¦ä¸²æ¯ä¸å¯åç±»åï¼æ¯æ¬¡æ¼æ¥é½ä¼æå»ºä¸ä¸ªæ°çstringå¯¹è±¡ï¼æä»¬å¯ä»¥ä½¿ç¨StringBuilderç±»æ¥è§£å³æµªè´¹åå­ç©ºé´é®é¢\n\nStringBuilderæ¯ä¸ä¸ªå¯åçå­ç¬¦ä¸²ç±»\n\n\n# æé æ¹æ³\n\npubilc StringBuilder() åå»ºä¸ä¸ªç©ºç½çå¯åå­ç¬¦ä¸²å¯¹è±¡ï¼æ²¡æä»»ä½åå®¹\n\npubilc StringBuilder(String str) æ ¹æ®å­ç¬¦ä¸²çåå®¹ï¼æ¥åå»ºå¯åå­ç¬¦ä¸²å¯¹è±¡\n\n\n# æ·»å ååè½¬æ¹æ³\n\npublic StringBuilder append(ä»»æç±»å);æ·»å æ°æ®ï¼å¹¶è¿åå¯¹è±¡æ¬èº«\n\npublic StringBuilder reverse(); è¿åç¸åçå­ç¬¦åºå\n\n\n# é¾å¼ç¼ç¨\n\nå¦æä¸ä¸ªå¯¹è±¡è¢«è°ç¨åè¿åå¯¹è±¡èªå·±æ¬èº«ï¼é£ä¹å¯ä»¥æ ¹æ®è¿åçå¯¹è±¡ç»§ç»­è°ç¨æ¹æ³\n\nå¦str.append().append().append().append();\n\nå ä¸ºstræ¯ StringBuilderå¯¹è±¡ï¼è StringBuilderå¯¹è±¡çappendæ¹æ³æ¯æ·»å æ°æ®åå¹¶è¿åå¯¹è±¡æ¬èº«ï¼æä»¥å¯ä»¥åä¸ºé¾å¼ç¼ç¨\n\n\n# Stringä¸Stringbuilderç¸äºè½¬æ¢\n\npublic String toString() éè¿tostring() å¯ä»¥æstringbuilder è½¬æ¢ä¸ºstring\n\npubilc stringbuilder(string s) éè¿æé æ¹æ³å¯ä»¥å®ç°æstringè½¬æ¢ä¸ºstringbuilder",normalizedContent:"# å­ç¬¦ä¸²\n\n\n# api\n\næ¦è¿°api(application progarmming interface)ï¼åºç¨ç¨åºç¼ç¨æ¥å£\n\nsc.nextline()è¿åæ¯ä¸ä¸ªå­ç¬¦ä¸²ç±»åçå¼\n\n\n# string\n\nstring ç±»å¨java.langåä¸ï¼ä½¿ç¨çæ¶åä¸éè¦å¯¼å\n\nstringç±»ä»£è¡¨å­ç¬¦ä¸²ï¼javaä¸­ææçå­ç¬¦ä¸²æå­é½è¢«ä¸ºæ­¤ç±»çå®ä¾ï¼javaä¸­ææåå¼å·å­ç¬¦ä¸²çå¶æ°stringç±»çå¯¹è±¡\n\nå­ç¬¦ä¸²ä¸å¯åï¼å®ä»¬çå¼å¨åå»ºåä¸è½è¢«æ´æ¹\n\nè½ç¶stringçå¼æ¯ä¸å¯åï¼ä½å®ä»¬å¯ä»¥è¢«å±äº«\n\nå­ç¬¦ä¸²ææä¸ç¸å½äºå­ç¬¦ä¸²æ°æ®(char[]),ä½æ¯åºå±åçæ¯å­èæ°æ®(byte[])\n\njdk8ä»¥åæ¯å­ç¬¦æ°æ®ï¼jdk9åä»¥åæ¯å­èæ°ç»\n\n\n# string æé æ¹æ³\n\npubilic string() åå»ºä¸ä¸ªç©ºç½å­ç¬¦ä¸²å¯¹è±¡ï¼ä¸å«æä»»ä½åå®¹\n\npubilc string(char[] chs) æ ¹æ®å­ç¬¦æ°ç»çåå®¹ï¼æ¥åå»ºå­ç¬¦ä¸²å¯¹è±¡\n\npubilc string(byte[] bys) æ ¹æ®å­èæ°ç»çåå®¹ï¼æ¥åå»ºå­ç¬¦ä¸²å¯¹è±¡\n\nstring s =âabcâ ç´æ¥ä»¥èµå¼æ¹å¼åå»ºå­ç¬¦ä¸²å¯¹è±¡\n\n\n# string å¯¹è±¡çç¹ç¹\n\néè¿newåå»ºçå­ç¬¦ä¸²å¯¹è±¡ï¼æ¯æ¬¡newé½ä¼ç³è¯·ä¸ä¸ªåå­ç©ºé´ï¼è½ç¶åå­ç¸åä½åå®¹å°åä¸ç¸å\n\nä»¥ââèµå¼æ¹å¼åå»ºçå­ç¬¦ä¸²å¯¹è±¡ï¼åªæå­ç¬¦åºåç¸åï¼jvmé½åªä¼å»ºç«ä¸ä¸ªstringå¯¹è±¡ï¼å¹¶å¨å­ç¬¦ä¸²æ± ä¸­ç»´æ¤\n\n\n# å­ç¬¦ä¸²çæ¯è¾\n\nä½¿ç¨==ä½æ¯è¾\n\nåºæ¬ç±»åï¼æ¯è¾çæ¯æ°æ®å¼æ¯å¦ç¸å\n\nå¼ç¨ç±»åï¼æ¯è¾çæ¯å°åå¼æ¯å¦ç¸å\n\nå­ç¬¦ä¸²æ¯å¯¹è±¡ï¼å®æ¯è¾åå®¹æ¯å¦ç¸åï¼æ¯éè¿ä¸ä¸ªæ¹æ³æ¥å®ç°çï¼è¿ä¸ªæ¹æ³å«:equals()\n\npublic boolean equals(object anobject)ï¼å°æ­¤å­ç¬¦ä¸²ä¸æå®å¯¹è±¡è¿è¡æ¯è¾\n\n\n# éåå­ç¬¦ä¸²\n\næ ¹æ®ç´¢å¼è·åå­ç¬¦ä¸²çæå®å­ç¬¦\n\npublic char charat(int index);\n\nè¿åæå®ç´¢å¼åºçcharå¼ï¼å­ç¬¦ä¸²çç´¢å¼ä¹ä»0å¼å§\n\nè·åå­ç¬¦ä¸²çé¿åº¦\n\npublic int lengh(); è¿åæ­¤å­ç¬¦ä¸²çé¿åº¦\n\næ°ç»çé¿åº¦ï¼æ°ç»å.length\n\nå­ç¬¦ä¸²çé¿åº¦ï¼å­ç¬¦ä¸²å¯¹è±¡.length\n\n\n# ç»è®¡å­ç¬¦æ¬¡æ°\n\nåå¦chæ¯ä¸ä¸ªå­ç¬¦ï¼æè¦å¤æ­å®å±äºå¤§åå­æ¯ï¼å°åå­æ¯ï¼è¿æ¯æ°å­ï¼ç´æ¥å¤æ­è¯¥å­ç¬¦æ¯å¦å¨å¯¹åºçèå´å³å¯\nå¤§åå­æ¯ï¼ch>='a' && ch<='z'\nå°åå­æ¯ï¼ ch>='a' && ch<='z'\næ°å­ï¼ ch>='0' && ch<='9'\n\n\n1\n2\n3\n4\n\n\n\n# stringbuilder\n\nå¦æå¯¹å­ç¬¦ä¸²è¿è¡æ¼æ¥æä½ï¼å ä¸ºå­ç¬¦ä¸²æ¯ä¸å¯åç±»åï¼æ¯æ¬¡æ¼æ¥é½ä¼æå»ºä¸ä¸ªæ°çstringå¯¹è±¡ï¼æä»¬å¯ä»¥ä½¿ç¨stringbuilderç±»æ¥è§£å³æµªè´¹åå­ç©ºé´é®é¢\n\nstringbuilderæ¯ä¸ä¸ªå¯åçå­ç¬¦ä¸²ç±»\n\n\n# æé æ¹æ³\n\npubilc stringbuilder() åå»ºä¸ä¸ªç©ºç½çå¯åå­ç¬¦ä¸²å¯¹è±¡ï¼æ²¡æä»»ä½åå®¹\n\npubilc stringbuilder(string str) æ ¹æ®å­ç¬¦ä¸²çåå®¹ï¼æ¥åå»ºå¯åå­ç¬¦ä¸²å¯¹è±¡\n\n\n# æ·»å ååè½¬æ¹æ³\n\npublic stringbuilder append(ä»»æç±»å);æ·»å æ°æ®ï¼å¹¶è¿åå¯¹è±¡æ¬èº«\n\npublic stringbuilder reverse(); è¿åç¸åçå­ç¬¦åºå\n\n\n# é¾å¼ç¼ç¨\n\nå¦æä¸ä¸ªå¯¹è±¡è¢«è°ç¨åè¿åå¯¹è±¡èªå·±æ¬èº«ï¼é£ä¹å¯ä»¥æ ¹æ®è¿åçå¯¹è±¡ç»§ç»­è°ç¨æ¹æ³\n\nå¦str.append().append().append().append();\n\nå ä¸ºstræ¯ stringbuilderå¯¹è±¡ï¼è stringbuilderå¯¹è±¡çappendæ¹æ³æ¯æ·»å æ°æ®åå¹¶è¿åå¯¹è±¡æ¬èº«ï¼æä»¥å¯ä»¥åä¸ºé¾å¼ç¼ç¨\n\n\n# stringä¸stringbuilderç¸äºè½¬æ¢\n\npublic string tostring() éè¿tostring() å¯ä»¥æstringbuilder è½¬æ¢ä¸ºstring\n\npubilc stringbuilder(string s) éè¿æé æ¹æ³å¯ä»¥å®ç°æstringè½¬æ¢ä¸ºstringbuilder",charsets:{cjk:!0},lastUpdated:"2022/03/18, 07:01:11",lastUpdatedTimestamp:1647558071e3},{title:"ArrayListéå",frontmatter:{title:"ArrayListéå",date:"2022-03-18T00:48:37.000Z",permalink:"/pages/ab65fb/",categories:["åç«¯","Java"],tags:[null]},regularPath:"/%E5%90%8E%E7%AB%AF/01.JavaSE/31.ArrayList%E9%9B%86%E5%90%88.html",relativePath:"åç«¯/01.JavaSE/31.ArrayListéå.md",key:"v-625e23c3",path:"/pages/ab65fb/",headers:[{level:2,title:"ArrayList æé æ¹æ³åæ·»å æ¹æ³",slug:"arraylist-æé æ¹æ³åæ·»å æ¹æ³",normalizedTitle:"arraylist æé æ¹æ³åæ·»å æ¹æ³",charIndex:140},{level:2,title:"éåArrayList",slug:"éåarraylist",normalizedTitle:"éåarraylist",charIndex:306},{level:2,title:"ArrayList éåå¸¸ç¨æ¹æ³",slug:"arraylist-éåå¸¸ç¨æ¹æ³",normalizedTitle:"arraylist éåå¸¸ç¨æ¹æ³",charIndex:367}],headersStr:"ArrayList æé æ¹æ³åæ·»å æ¹æ³ éåArrayList ArrayList éåå¸¸ç¨æ¹æ³",content:"# ArrayListéå\n\néåç±»çç¹ç¹ï¼æä¾ä¸ç§å­å¨ç©ºé´å¯åçå­å¨æ¨¡åï¼å­å¨çæ°æ®å®¹éå¯ä»¥åçæ¹å\n\nArrayList<E>ï¼\n\nå¯è°æ´å¤§å°çæ°ç»å®ç°\n\n<E>:æ¯ä¸ç§ç¹æ®çæ°æ®ç±»åï¼æ³å å¦ArrayList<String>ï¼ArrayList<Student>\n\n\n# ArrayList æé æ¹æ³åæ·»å æ¹æ³\n\npublic ArrayList() åå»ºä¸ä¸ªç©ºçéåå¯¹è±¡\n\npublic boolean add(E e) å°æå®çåç´ è¿½å å°æ­¤éåçæ«å°¾\n\npublic void add(int indexï¼E elemnet) å¨æ­¤éåä¸­çæå®ä½ç½®æå¥æå®çåç´ ,ä¸å¯è¶è¿éåçé¿åº¦å¦åæ¥é\n\n\n# éåArrayList\n\nè·åéåçæ¯ä¸ä¸ªåç´  get(int index);\n\nè·åéåçé¿åº¦ size();\n\n\n# ArrayList éåå¸¸ç¨æ¹æ³\n\npubilc boolean remove(Object o) å é¤æå®çåç´ ï¼è¿åä¸ä¸ªå¸å°å¼\n\npubilc E remove(int index) å é¤æå®ç´¢å¼çåç´ ï¼è¿åè¢«å é¤çåç´ \n\npubilc E set(int index,E elemnt) ä¿®æ¹æå®ç´¢å¼å¤çåç´ ï¼è¿åè¢«ä¿®æ¹çåç´ \n\npublic E get(int index) è¿åæå®ç´¢å¼å¤çåç´ \n\npubilc int size() è¿åéåä¸­çåç´ çä¸ªæ°",normalizedContent:"# arraylistéå\n\néåç±»çç¹ç¹ï¼æä¾ä¸ç§å­å¨ç©ºé´å¯åçå­å¨æ¨¡åï¼å­å¨çæ°æ®å®¹éå¯ä»¥åçæ¹å\n\narraylist<e>ï¼\n\nå¯è°æ´å¤§å°çæ°ç»å®ç°\n\n<e>:æ¯ä¸ç§ç¹æ®çæ°æ®ç±»åï¼æ³å å¦arraylist<string>ï¼arraylist<student>\n\n\n# arraylist æé æ¹æ³åæ·»å æ¹æ³\n\npublic arraylist() åå»ºä¸ä¸ªç©ºçéåå¯¹è±¡\n\npublic boolean add(e e) å°æå®çåç´ è¿½å å°æ­¤éåçæ«å°¾\n\npublic void add(int indexï¼e elemnet) å¨æ­¤éåä¸­çæå®ä½ç½®æå¥æå®çåç´ ,ä¸å¯è¶è¿éåçé¿åº¦å¦åæ¥é\n\n\n# éåarraylist\n\nè·åéåçæ¯ä¸ä¸ªåç´  get(int index);\n\nè·åéåçé¿åº¦ size();\n\n\n# arraylist éåå¸¸ç¨æ¹æ³\n\npubilc boolean remove(object o) å é¤æå®çåç´ ï¼è¿åä¸ä¸ªå¸å°å¼\n\npubilc e remove(int index) å é¤æå®ç´¢å¼çåç´ ï¼è¿åè¢«å é¤çåç´ \n\npubilc e set(int index,e elemnt) ä¿®æ¹æå®ç´¢å¼å¤çåç´ ï¼è¿åè¢«ä¿®æ¹çåç´ \n\npublic e get(int index) è¿åæå®ç´¢å¼å¤çåç´ \n\npubilc int size() è¿åéåä¸­çåç´ çä¸ªæ°",charsets:{cjk:!0},lastUpdated:"2022/03/18, 07:01:11",lastUpdatedTimestamp:1647558071e3},{title:"ä¿®é¥°ç¬¦",frontmatter:{title:"ä¿®é¥°ç¬¦",date:"2022-03-18T00:48:38.000Z",permalink:"/pages/f3b824/",categories:["åç«¯","Java"],tags:[null]},regularPath:"/%E5%90%8E%E7%AB%AF/01.JavaSE/33.%E4%BF%AE%E9%A5%B0%E7%AC%A6.html",relativePath:"åç«¯/01.JavaSE/33.ä¿®é¥°ç¬¦.md",key:"v-7189a78a",path:"/pages/f3b824/",headers:[{level:2,title:"å",slug:"å",normalizedTitle:"å",charIndex:10},{level:3,title:"å®ä¹æ ¼å¼",slug:"å®ä¹æ ¼å¼",normalizedTitle:"å®ä¹æ ¼å¼",charIndex:38}],headersStr:"å å®ä¹æ ¼å¼",content:"# ä¿®é¥°ç¬¦\n\n\n# å\n\nåçæ¦å¿µå¶å®å°±æ¯æä»¶å¤¹,å¯¹ç±»è¿è¡åç±»ç®¡ç\n\n\n# å®ä¹æ ¼å¼\n\næ ¼å¼:package åå;(å¤çº§åç¨.åå¼) å¦æpackage åå1.åå2;",normalizedContent:"# ä¿®é¥°ç¬¦\n\n\n# å\n\nåçæ¦å¿µå¶å®å°±æ¯æä»¶å¤¹,å¯¹ç±»è¿è¡åç±»ç®¡ç\n\n\n# å®ä¹æ ¼å¼\n\næ ¼å¼:package åå;(å¤çº§åç¨.åå¼) å¦æpackage åå1.åå2;",charsets:{cjk:!0},lastUpdated:"2022/03/18, 07:01:11",lastUpdatedTimestamp:1647558071e3},{title:"ç»§æ¿",frontmatter:{title:"ç»§æ¿",date:"2022-03-18T00:48:37.000Z",permalink:"/pages/c7fa91/",categories:["åç«¯","Java"],tags:[null]},regularPath:"/%E5%90%8E%E7%AB%AF/01.JavaSE/32.%E7%BB%A7%E6%89%BF.html",relativePath:"åç«¯/01.JavaSE/32.ç»§æ¿.md",key:"v-5945b915",path:"/pages/c7fa91/",headers:[{level:2,title:"ç»§æ¿çå¥½å¤ä¸å¼ç«¯",slug:"ç»§æ¿çå¥½å¤ä¸å¼ç«¯",normalizedTitle:"ç»§æ¿çå¥½å¤ä¸å¼ç«¯",charIndex:160},{level:2,title:"ç»§æ¿ä¸­åéçè®¿é®ç¹ç¹",slug:"ç»§æ¿ä¸­åéçè®¿é®ç¹ç¹",normalizedTitle:"ç»§æ¿ä¸­åéçè®¿é®ç¹ç¹",charIndex:444},{level:2,title:"super",slug:"super",normalizedTitle:"super",charIndex:539},{level:2,title:"ç»§æ¿ä¸­æé æ¹æ³çè®¿é®ç¹ç¹",slug:"ç»§æ¿ä¸­æé æ¹æ³çè®¿é®ç¹ç¹",normalizedTitle:"ç»§æ¿ä¸­æé æ¹æ³çè®¿é®ç¹ç¹",charIndex:623},{level:2,title:"ç»§æ¿ä¸­æåæ¹æ³çè®¿é®ç¹ç¹",slug:"ç»§æ¿ä¸­æåæ¹æ³çè®¿é®ç¹ç¹",normalizedTitle:"ç»§æ¿ä¸­æåæ¹æ³çè®¿é®ç¹ç¹",charIndex:856},{level:2,title:"æ¹æ³éå",slug:"æ¹æ³éå",normalizedTitle:"æ¹æ³éå",charIndex:938},{level:3,title:"æ¦è¿°",slug:"æ¦è¿°",normalizedTitle:"æ¦è¿°",charIndex:947},{level:3,title:"æ ¡éªæ¯å¦æ¯æ¹æ³éå",slug:"æ ¡éªæ¯å¦æ¯æ¹æ³éå",normalizedTitle:"æ ¡éªæ¯å¦æ¯æ¹æ³éå",charIndex:1007},{level:3,title:"æ³¨æäºé¡¹",slug:"æ³¨æäºé¡¹",normalizedTitle:"æ³¨æäºé¡¹",charIndex:1059},{level:2,title:"ç»§æ¿æ³¨æäºé¡¹",slug:"ç»§æ¿æ³¨æäºé¡¹",normalizedTitle:"ç»§æ¿æ³¨æäºé¡¹",charIndex:1180}],headersStr:"ç»§æ¿çå¥½å¤ä¸å¼ç«¯ ç»§æ¿ä¸­åéçè®¿é®ç¹ç¹ super ç»§æ¿ä¸­æé æ¹æ³çè®¿é®ç¹ç¹ ç»§æ¿ä¸­æåæ¹æ³çè®¿é®ç¹ç¹ æ¹æ³éå æ¦è¿° æ ¡éªæ¯å¦æ¯æ¹æ³éå æ³¨æäºé¡¹ ç»§æ¿æ³¨æäºé¡¹",content:"# ç»§æ¿\n\nç»§æ¿æ¯é¢åå¯¹è±¡ä¸å¤§ç¹å¾ä¹ä¸ãå¯ä»¥ä½¿å¾å­ç±»å·æç¶ç±»çå±æ§åæ¹æ³ï¼è¿å¯ä»¥å¨å­ç±»ä¸­éæ°å®ä¹ï¼è¿½å å±æ§åæ¹æ³\n\næ ¼å¼ï¼pubilc class å­ç±»å extends ç¶ç±»å{}\n\nå¦ï¼public class Zi extends Fu{}\n\nFuï¼æ¯ç¶ç±»ï¼åç§°ä¸ºåºç±»ï¼è¶ç±»\n\nZiï¼æ¯å­ç±»ï¼åç§°ä¸ºæ´¾çç±»\n\n\n# ç»§æ¿çå¥½å¤ä¸å¼ç«¯\n\nå¥½å¤\n\næé«äºä»£ç çå¤ç¨æ§(å¤ä¸ªç±»ç¸åçæåæèæ¹æ³å¯ä»¥æ¾å°åä¸ä¸ªç±»ä¸­)\n\næé«äºä»£ç çç»´æ¤æ§ï¼å¦ææ¹æ³çä»£ç éè¦ä¿®æ¹ï¼ä¿®æ¹ä¸å¤å³å¯ï¼\n\nå¼ç«¯\n\nç»§æ¿è®©ç±»ä¸ç±»ä¹é´äº§çäºå³ç³»ï¼ç±»çè¦åæ§å¢å¼ºäºï¼å½ç¶ç±»åçååæ¶å­ç±»ä¹ä¸å¾ä¸è·çååï¼åå¼±äºå­ç±»çç¬ç«æ§\n\nä»ä¹æ¶åä½¿ç¨ç»§æ¿ï¼\n\nç»§æ¿ä½ç°çå³ç³»ï¼is a\n\nåè®¾æ³ï¼ææä¸¤ä¸ªç±»AåBï¼å¦æä»ä»¬æ»¡è¶³Aæ¯Bçä¸ç§ï¼æèBæ¯Açä¸ç§ï¼å°±è¯´æä»ä»¬å­å¨ç»§æ¿å³ç³»ï¼è¿ä¸ªæ¶åå°±å¯ä»¥èèä½¿ç¨ç»§æ¿ï¼å¦åä¸è½æ»¥ç¨ç»§æ¿ï¼å ä¸ºä¸ç¡®å®ç¶ç±»ä»ä¹æ¶åæ¹åï¼èå­ç±»æ¯å¦éè¦è¿äºç»§æ¿çå±æ§ææ¹æ³ã\n\nç¸å¯¹äºç¶ç±»å¿é¡»æ¯å­ç±»ççå­é\n\n\n# ç»§æ¿ä¸­åéçè®¿é®ç¹ç¹\n\nå¨å­ç±»æ¹æ³ä¸­è®¿é®ä¸ä¸ªåéçè®¿é®é¡ºåºæ¯\n\n 1. å­ç±»å±é¨èå´æ¾\n 2. å­ç±»æåèå´æ¾\n 3. ç¶ç±»æåèå´æ¾\n 4. å¦æé½æ²¡æåæ¥éï¼ä¸èèç¶ç±»çç¶ç±»ï¼\n\n\n# super\n\nsuperå³é®å­ç¨æ³ä¸thiså³é®å­çç¨æ³ç¸ä¼¼\n\nthis:ä»£è¡¨æ¬ç±»å¯¹è±¡çå¼ç¨\n\nsuper:ä»£è¡¨ç¶ç±»å­å¨ç©ºé´çæ è¯ï¼ä¹å¯ä»¥çè§£ä¸ºç¶ç±»å¯¹è±¡å¼ç¨ï¼\n\n\n# ç»§æ¿ä¸­æé æ¹æ³çè®¿é®ç¹ç¹\n\nå­ç±»ä¸­ææçæé æ¹æ³é»è®¤é½ä¼è®¿é®ç¶ç±»ä¸­æ åçæé æ¹æ³\n\nå ä¸ºå­ç±»ä¼ç»§æ¿ç¶ç±»ä¸­çæ°æ®ï¼å¯è½è¿ä¼ä½¿ç¨ç¶ç±»çæ°æ®ãæä»¥å¨å­ç±»åå§ååï¼ä¸å®è¦åå®æç¶ç±»æ°æ®çåå§å\n\næ¯ä¸ä¸ªå­ç±»æé æ¹æ³çç¬¬ä¸æ¡è¯­å¥é»è®¤é½æ¯ï¼super()ï¼å¦æç¶ç±»ä¸­å¹¶æ²¡ææ åæé æ¹æ³åæ¥é\n\nsuper()è°ç¨çæ¯ç¶ç±»çæé æ¹æ³\n\nå¦æç¶ç±»ä¸­æ²¡ææ åæé æ¹æ³\n\nåªæå¸¦åæé æ¹æ³åéè¿ä½¿ç¨superå³é®å­å»è°ç¨ç¶ç±»ä¸­çä»£è¯æé æ¹æ³\n\nå»ºè®®å¨ç¶ç±»ä¸­æä¾ä¸ä¸ªæ åæé æ¹æ³\n\n\n# ç»§æ¿ä¸­æåæ¹æ³çè®¿é®ç¹ç¹\n\néè¿å­ç±»å¯¹è±¡è®¿é®ä¸ä¸ªæ¹æ³é¡ºåº\n\n 1. å­ç±»æåèå´æ¾\n 2. ç¶ç±»æåèå´æ¾\n 3. å¦æé½æ²¡æåæ¥éï¼ä¸èèç¶ç±»çç¶ç±»jï¼\n\n\n# æ¹æ³éå\n\n\n# æ¦è¿°\n\nå­ç±»ä¸­åºç°äºåç¶ç±»ä¸æ¨¡ä¸æ ·çæ¹æ³å£°æ\n\nå¹¶å¨å­ç±»éåæ¹æ³å¯ä»¥å¨æ¹æ³ä¸­ä½¿ç¨superå³é®å­è°ç¨ç¶ç±»çæ¹æ³\n\n\n# æ ¡éªæ¯å¦æ¯æ¹æ³éå\n\nå¨éåæé æ¹æ³ä¸æ¹å ä¸@ovrride å¦ææ¥éåæ­¤å­ç±»æé æ¹æ³ä¸æ¯éå\n\n\n# æ³¨æäºé¡¹\n\n 1. ç¶ç±»ä¸­çç§ææ¹æ³æ¯ä¸åè®¸éåç\n\n 2. å£°ææ¹æ³ç¶ç±»ä¸å­ç±»å¿é¡»ç¸å å¦ä¸å publicå³é®å­ ç³»ç»é»è®¤ä¹æ¯æå£°æå³é®å­,ä½ä¸ç¨publicæéé«\n    \n    (public > é»è®¤ > private)\n\n\n# ç»§æ¿æ³¨æäºé¡¹\n\n 1. ä¸ä¸ªå­ç±»ä¸è½ç»§æ¿å¤ä¸ªç¶ç±» åªæç»§æ¿ä¸ä¸ªç¶ç±»\n 2. å¯ä»¥ä½¿ç¨åµå¥å­ç±»ç»§æ¿ç¶ç±»,ç¶ç±»ç»§æ¿ç¶ç±»çç¶ç±»(å¤å±ç»§æ¿)",normalizedContent:"# ç»§æ¿\n\nç»§æ¿æ¯é¢åå¯¹è±¡ä¸å¤§ç¹å¾ä¹ä¸ãå¯ä»¥ä½¿å¾å­ç±»å·æç¶ç±»çå±æ§åæ¹æ³ï¼è¿å¯ä»¥å¨å­ç±»ä¸­éæ°å®ä¹ï¼è¿½å å±æ§åæ¹æ³\n\næ ¼å¼ï¼pubilc class å­ç±»å extends ç¶ç±»å{}\n\nå¦ï¼public class zi extends fu{}\n\nfuï¼æ¯ç¶ç±»ï¼åç§°ä¸ºåºç±»ï¼è¶ç±»\n\nziï¼æ¯å­ç±»ï¼åç§°ä¸ºæ´¾çç±»\n\n\n# ç»§æ¿çå¥½å¤ä¸å¼ç«¯\n\nå¥½å¤\n\næé«äºä»£ç çå¤ç¨æ§(å¤ä¸ªç±»ç¸åçæåæèæ¹æ³å¯ä»¥æ¾å°åä¸ä¸ªç±»ä¸­)\n\næé«äºä»£ç çç»´æ¤æ§ï¼å¦ææ¹æ³çä»£ç éè¦ä¿®æ¹ï¼ä¿®æ¹ä¸å¤å³å¯ï¼\n\nå¼ç«¯\n\nç»§æ¿è®©ç±»ä¸ç±»ä¹é´äº§çäºå³ç³»ï¼ç±»çè¦åæ§å¢å¼ºäºï¼å½ç¶ç±»åçååæ¶å­ç±»ä¹ä¸å¾ä¸è·çååï¼åå¼±äºå­ç±»çç¬ç«æ§\n\nä»ä¹æ¶åä½¿ç¨ç»§æ¿ï¼\n\nç»§æ¿ä½ç°çå³ç³»ï¼is a\n\nåè®¾æ³ï¼ææä¸¤ä¸ªç±»aåbï¼å¦æä»ä»¬æ»¡è¶³aæ¯bçä¸ç§ï¼æèbæ¯açä¸ç§ï¼å°±è¯´æä»ä»¬å­å¨ç»§æ¿å³ç³»ï¼è¿ä¸ªæ¶åå°±å¯ä»¥èèä½¿ç¨ç»§æ¿ï¼å¦åä¸è½æ»¥ç¨ç»§æ¿ï¼å ä¸ºä¸ç¡®å®ç¶ç±»ä»ä¹æ¶åæ¹åï¼èå­ç±»æ¯å¦éè¦è¿äºç»§æ¿çå±æ§ææ¹æ³ã\n\nç¸å¯¹äºç¶ç±»å¿é¡»æ¯å­ç±»ççå­é\n\n\n# ç»§æ¿ä¸­åéçè®¿é®ç¹ç¹\n\nå¨å­ç±»æ¹æ³ä¸­è®¿é®ä¸ä¸ªåéçè®¿é®é¡ºåºæ¯\n\n 1. å­ç±»å±é¨èå´æ¾\n 2. å­ç±»æåèå´æ¾\n 3. ç¶ç±»æåèå´æ¾\n 4. å¦æé½æ²¡æåæ¥éï¼ä¸èèç¶ç±»çç¶ç±»ï¼\n\n\n# super\n\nsuperå³é®å­ç¨æ³ä¸thiså³é®å­çç¨æ³ç¸ä¼¼\n\nthis:ä»£è¡¨æ¬ç±»å¯¹è±¡çå¼ç¨\n\nsuper:ä»£è¡¨ç¶ç±»å­å¨ç©ºé´çæ è¯ï¼ä¹å¯ä»¥çè§£ä¸ºç¶ç±»å¯¹è±¡å¼ç¨ï¼\n\n\n# ç»§æ¿ä¸­æé æ¹æ³çè®¿é®ç¹ç¹\n\nå­ç±»ä¸­ææçæé æ¹æ³é»è®¤é½ä¼è®¿é®ç¶ç±»ä¸­æ åçæé æ¹æ³\n\nå ä¸ºå­ç±»ä¼ç»§æ¿ç¶ç±»ä¸­çæ°æ®ï¼å¯è½è¿ä¼ä½¿ç¨ç¶ç±»çæ°æ®ãæä»¥å¨å­ç±»åå§ååï¼ä¸å®è¦åå®æç¶ç±»æ°æ®çåå§å\n\næ¯ä¸ä¸ªå­ç±»æé æ¹æ³çç¬¬ä¸æ¡è¯­å¥é»è®¤é½æ¯ï¼super()ï¼å¦æç¶ç±»ä¸­å¹¶æ²¡ææ åæé æ¹æ³åæ¥é\n\nsuper()è°ç¨çæ¯ç¶ç±»çæé æ¹æ³\n\nå¦æç¶ç±»ä¸­æ²¡ææ åæé æ¹æ³\n\nåªæå¸¦åæé æ¹æ³åéè¿ä½¿ç¨superå³é®å­å»è°ç¨ç¶ç±»ä¸­çä»£è¯æé æ¹æ³\n\nå»ºè®®å¨ç¶ç±»ä¸­æä¾ä¸ä¸ªæ åæé æ¹æ³\n\n\n# ç»§æ¿ä¸­æåæ¹æ³çè®¿é®ç¹ç¹\n\néè¿å­ç±»å¯¹è±¡è®¿é®ä¸ä¸ªæ¹æ³é¡ºåº\n\n 1. å­ç±»æåèå´æ¾\n 2. ç¶ç±»æåèå´æ¾\n 3. å¦æé½æ²¡æåæ¥éï¼ä¸èèç¶ç±»çç¶ç±»jï¼\n\n\n# æ¹æ³éå\n\n\n# æ¦è¿°\n\nå­ç±»ä¸­åºç°äºåç¶ç±»ä¸æ¨¡ä¸æ ·çæ¹æ³å£°æ\n\nå¹¶å¨å­ç±»éåæ¹æ³å¯ä»¥å¨æ¹æ³ä¸­ä½¿ç¨superå³é®å­è°ç¨ç¶ç±»çæ¹æ³\n\n\n# æ ¡éªæ¯å¦æ¯æ¹æ³éå\n\nå¨éåæé æ¹æ³ä¸æ¹å ä¸@ovrride å¦ææ¥éåæ­¤å­ç±»æé æ¹æ³ä¸æ¯éå\n\n\n# æ³¨æäºé¡¹\n\n 1. ç¶ç±»ä¸­çç§ææ¹æ³æ¯ä¸åè®¸éåç\n\n 2. å£°ææ¹æ³ç¶ç±»ä¸å­ç±»å¿é¡»ç¸å å¦ä¸å publicå³é®å­ ç³»ç»é»è®¤ä¹æ¯æå£°æå³é®å­,ä½ä¸ç¨publicæéé«\n    \n    (public > é»è®¤ > private)\n\n\n# ç»§æ¿æ³¨æäºé¡¹\n\n 1. ä¸ä¸ªå­ç±»ä¸è½ç»§æ¿å¤ä¸ªç¶ç±» åªæç»§æ¿ä¸ä¸ªç¶ç±»\n 2. å¯ä»¥ä½¿ç¨åµå¥å­ç±»ç»§æ¿ç¶ç±»,ç¶ç±»ç»§æ¿ç¶ç±»çç¶ç±»(å¤å±ç»§æ¿)",charsets:{cjk:!0},lastUpdated:"2022/03/18, 07:01:11",lastUpdatedTimestamp:1647558071e3},{title:"æéä¿®é¥°ç¬¦",frontmatter:{title:"æéä¿®é¥°ç¬¦",date:"2022-03-18T00:48:38.000Z",permalink:"/pages/047301/",categories:["åç«¯","Java"],tags:[null]},regularPath:"/%E5%90%8E%E7%AB%AF/01.JavaSE/34.%E6%9D%83%E9%99%90%E4%BF%AE%E9%A5%B0%E7%AC%A6.html",relativePath:"åç«¯/01.JavaSE/34.æéä¿®é¥°ç¬¦.md",key:"v-71d4b5e7",path:"/pages/047301/",headersStr:null,content:"# æéä¿®é¥°ç¬¦\n\npublic > protected > é»è®¤ > privater",normalizedContent:"# æéä¿®é¥°ç¬¦\n\npublic > protected > é»è®¤ > privater",charsets:{cjk:!0},lastUpdated:"2022/03/18, 07:01:11",lastUpdatedTimestamp:1647558071e3},{title:"ç¶æä¿®é¥°ç¬¦",frontmatter:{title:"ç¶æä¿®é¥°ç¬¦",date:"2022-03-18T00:48:38.000Z",permalink:"/pages/392033/",categories:["åç«¯","Java"],tags:[null]},regularPath:"/%E5%90%8E%E7%AB%AF/01.JavaSE/35.%E7%8A%B6%E6%80%81%E4%BF%AE%E9%A5%B0%E7%AC%A6.html",relativePath:"åç«¯/01.JavaSE/35.ç¶æä¿®é¥°ç¬¦.md",key:"v-78697e58",path:"/pages/392033/",headers:[{level:2,title:"final",slug:"final",normalizedTitle:"final",charIndex:12},{level:2,title:"static",slug:"static",normalizedTitle:"static",charIndex:203},{level:3,title:"è®¿é®ç¹ç¹",slug:"è®¿é®ç¹ç¹",normalizedTitle:"è®¿é®ç¹ç¹",charIndex:274}],headersStr:"final static è®¿é®ç¹ç¹",content:"# ç¶æä¿®é¥°ç¬¦\n\n\n# final\n\nfinalå³é®å­æ¯æç»ææ,å¯ä»¥ä¿®é¥°æåæ¹æ³,æååé,ç±»\n\n 1. è¢«finalä¿®é¥°åçæ¹æ³ æ æ³è¢«éå\n 2. è¢«finalä¿®é¥°åçæååé æ æ³éæ°èµå¼\n 3. è¢«finalä¿®é¥°åçç±»æ æ³æä¸ºç¶ç±»è¢«ç»§æ¿\n\nå¦æfinalä¿®é¥°æ¯å¸¸è§åé,åè¯¥åéä¸è½è¢«éæ°èµå¼\n\nå¦æfinalä¿®é¥°æ¯å¼ç¨ååé,åè¯¥åéæåçå°åå¼ä¸è½è¢«æ´æ¹,ä½æåå°åçåé¨è½è¢«ä¿®æ¹.\n\n\n# static\n\nè¢«staticä¿®é¥°åçåéä¼è¢«ç±»çææå¯¹è±¡å±äº«\n\néè¿ç±»åæèå¯¹è±¡æ¥ç»§ç»­ ä¿®æ¹å¼,ä¼ä¸ç´ä¿å­å¨ç±»ä¸­,ææå¯¹è±¡é½è½è®¿é®\n\n\n# è®¿é®ç¹ç¹\n\néææ¹æ³ æ æ³è®¿é®ä¸æ¯éæçæ¹æ³ååé\n\nééææ¹æ³ å¯ä»¥è®¿é®éæåééæçæ¹æ³ååé",normalizedContent:"# ç¶æä¿®é¥°ç¬¦\n\n\n# final\n\nfinalå³é®å­æ¯æç»ææ,å¯ä»¥ä¿®é¥°æåæ¹æ³,æååé,ç±»\n\n 1. è¢«finalä¿®é¥°åçæ¹æ³ æ æ³è¢«éå\n 2. è¢«finalä¿®é¥°åçæååé æ æ³éæ°èµå¼\n 3. è¢«finalä¿®é¥°åçç±»æ æ³æä¸ºç¶ç±»è¢«ç»§æ¿\n\nå¦æfinalä¿®é¥°æ¯å¸¸è§åé,åè¯¥åéä¸è½è¢«éæ°èµå¼\n\nå¦æfinalä¿®é¥°æ¯å¼ç¨ååé,åè¯¥åéæåçå°åå¼ä¸è½è¢«æ´æ¹,ä½æåå°åçåé¨è½è¢«ä¿®æ¹.\n\n\n# static\n\nè¢«staticä¿®é¥°åçåéä¼è¢«ç±»çææå¯¹è±¡å±äº«\n\néè¿ç±»åæèå¯¹è±¡æ¥ç»§ç»­ ä¿®æ¹å¼,ä¼ä¸ç´ä¿å­å¨ç±»ä¸­,ææå¯¹è±¡é½è½è®¿é®\n\n\n# è®¿é®ç¹ç¹\n\néææ¹æ³ æ æ³è®¿é®ä¸æ¯éæçæ¹æ³ååé\n\nééææ¹æ³ å¯ä»¥è®¿é®éæåééæçæ¹æ³ååé",charsets:{cjk:!0},lastUpdated:"2022/03/18, 07:01:11",lastUpdatedTimestamp:1647558071e3},{title:"æ½è±¡",frontmatter:{title:"æ½è±¡",date:"2022-03-18T00:48:38.000Z",permalink:"/pages/a12790/",categories:["åç«¯","Java"],tags:[null]},regularPath:"/%E5%90%8E%E7%AB%AF/01.JavaSE/37.%E6%8A%BD%E8%B1%A1.html",relativePath:"åç«¯/01.JavaSE/37.æ½è±¡.md",key:"v-5d5bf6b5",path:"/pages/a12790/",headers:[{level:3,title:"ç¹ç¹",slug:"ç¹ç¹",normalizedTitle:"ç¹ç¹",charIndex:170}],headersStr:"ç¹ç¹",content:"# æ½è±¡\n\n 1. abstract å³é®å­\n\n 2. ä¸ä¸ªæ²¡ææ¹æ³ä½çæ¹æ³åºè¯¥å®ä¹ä¸ºæ½è±¡æ¹æ³,å¦æç±»ä¸­ææ½è±¡æ¹æ³,åç±»å¿é¡»å®ä¹ä¸ºæ½è±¡ç±»\n\n 3. æ½è±¡ç±»ä¸­ä¸ä¸å®ææ½è±¡æ¹æ³\n\n 4. æ½è±¡ç±»ä¸è½å®ä¾å,ä½å¯ä»¥åç§å¤æçå½¢å¼,éè¿å­ç±»å¯¹è±¡å®ä¾å,ç§°ä¸ºæ½è±¡ç±»å¤æ\n\n 5. æ½è±¡ç±»çå­ç±» è¦ä¹å®ä¹ä¸ºæ½è±¡ç±» è¦ä¹éåæ½è±¡ç±»ä¸­æææ½è±¡æ¹æ³\n\n\n# ç¹ç¹\n\næååé: å¯ä»¥æ¯å¸¸éååé\n\næé æ¹æ³:ææé æ¹æ³,ä½ä¸è½å®ä¾å,ç¨äºå­ç±»è®¿é®ç¶ç±»æ°æ®çåå§å\n\næåæ¹æ³:å¯ææ½è±¡æ¹æ³,ç¨äºéå®å­ç±»å¿é¡»å®ææäºå¨ä½.ä¹å¯ä»¥æéæ½è±¡æ¹æ³,æé«ä»£ç å¤ç¨æ§",normalizedContent:"# æ½è±¡\n\n 1. abstract å³é®å­\n\n 2. ä¸ä¸ªæ²¡ææ¹æ³ä½çæ¹æ³åºè¯¥å®ä¹ä¸ºæ½è±¡æ¹æ³,å¦æç±»ä¸­ææ½è±¡æ¹æ³,åç±»å¿é¡»å®ä¹ä¸ºæ½è±¡ç±»\n\n 3. æ½è±¡ç±»ä¸­ä¸ä¸å®ææ½è±¡æ¹æ³\n\n 4. æ½è±¡ç±»ä¸è½å®ä¾å,ä½å¯ä»¥åç§å¤æçå½¢å¼,éè¿å­ç±»å¯¹è±¡å®ä¾å,ç§°ä¸ºæ½è±¡ç±»å¤æ\n\n 5. æ½è±¡ç±»çå­ç±» è¦ä¹å®ä¹ä¸ºæ½è±¡ç±» è¦ä¹éåæ½è±¡ç±»ä¸­æææ½è±¡æ¹æ³\n\n\n# ç¹ç¹\n\næååé: å¯ä»¥æ¯å¸¸éååé\n\næé æ¹æ³:ææé æ¹æ³,ä½ä¸è½å®ä¾å,ç¨äºå­ç±»è®¿é®ç¶ç±»æ°æ®çåå§å\n\næåæ¹æ³:å¯ææ½è±¡æ¹æ³,ç¨äºéå®å­ç±»å¿é¡»å®ææäºå¨ä½.ä¹å¯ä»¥æéæ½è±¡æ¹æ³,æé«ä»£ç å¤ç¨æ§",charsets:{cjk:!0},lastUpdated:"2022/03/18, 07:01:11",lastUpdatedTimestamp:1647558071e3},{title:"æ¥å£",frontmatter:{title:"æ¥å£",date:"2022-03-18T00:48:38.000Z",permalink:"/pages/db4705/",categories:["åç«¯","Java"],tags:[null]},regularPath:"/%E5%90%8E%E7%AB%AF/01.JavaSE/38.%E6%8E%A5%E5%8F%A3.html",relativePath:"åç«¯/01.JavaSE/38.æ¥å£.md",key:"v-7d483deb",path:"/pages/db4705/",headers:[{level:2,title:"ç¹ç¹",slug:"ç¹ç¹",normalizedTitle:"ç¹ç¹",charIndex:61},{level:2,title:"æåç¹ç¹",slug:"æåç¹ç¹",normalizedTitle:"æåç¹ç¹",charIndex:295}],headersStr:"ç¹ç¹ æåç¹ç¹",content:"# æ¥å£\n\næ¦è¿°\n\næ¥å£æ¯ä¸ç§å¬å±çè§èæ å,åªè¦ç¬¦åè§èæ å,é½æ¯éç¨,javaä¸­çæ¥å£æ´å¤æéå¨å¯¹è¡ä¸ºçæ½è±¡\n\n\n# ç¹ç¹\n\nä½¿ç¨å³é®å­ interface ä¿®é¥°\n\nå¦:public interface æ¥å£å{}\n\nç±»å®ç°æ¥å£(ç±»ä¼¼ç»§æ¿)ç¨implementså³é®å­\n\nå¦:public class ç±»å implements æ¥å£å{}\n\næ¥å£ä¸è½è¢«å®ä¾å,è·å¤æçæ¹å¼ä¸æ ·,éè¿ç±»å¯¹è±¡å®ä¾å,ç§°ä¸ºæ¥å£å¤æ\n\nå¤æçå½¢å¼:å·ä½ç±»å¤æ,æ½è±¡ç±»å¤æ,æ¥å£å¤æ\n\nå¤æçåæ:\n\n 1. æç»§æ¿æå®ç°å³ç³»;\n 2. ææ¹æ³éå;\n 3. æç¶ç±»ææ¥å£å¼ç¨æå å­ç±»æå®ç° ç±»å¯¹è±¡\n\n\n# æåç¹ç¹\n\næååé: åªè½å¸¸é é»è®¤ä¿®é¥°ç¬¦:public static final\n\næé æ¹æ³:æ¥å£æ²¡ææé æ¹æ³,å ä¸ºæ¥å£çä¸»è¦æ¯å¯¹è¡ä¸ºè¿è¡æ½è±¡ç,æ¯æ²¡æå·ä½å­å¨\n\nä¸ä¸ªç±»å¦ææ²¡æç¶ç±»,é»è®¤ç»§æ¿èªobjectç±»\n\næåæ¹æ³:åªè½æ¯æ½è±¡æ¹æ³ é»è®¤ä¿®é¥°ç¬¦:public abstract",normalizedContent:"# æ¥å£\n\næ¦è¿°\n\næ¥å£æ¯ä¸ç§å¬å±çè§èæ å,åªè¦ç¬¦åè§èæ å,é½æ¯éç¨,javaä¸­çæ¥å£æ´å¤æéå¨å¯¹è¡ä¸ºçæ½è±¡\n\n\n# ç¹ç¹\n\nä½¿ç¨å³é®å­ interface ä¿®é¥°\n\nå¦:public interface æ¥å£å{}\n\nç±»å®ç°æ¥å£(ç±»ä¼¼ç»§æ¿)ç¨implementså³é®å­\n\nå¦:public class ç±»å implements æ¥å£å{}\n\næ¥å£ä¸è½è¢«å®ä¾å,è·å¤æçæ¹å¼ä¸æ ·,éè¿ç±»å¯¹è±¡å®ä¾å,ç§°ä¸ºæ¥å£å¤æ\n\nå¤æçå½¢å¼:å·ä½ç±»å¤æ,æ½è±¡ç±»å¤æ,æ¥å£å¤æ\n\nå¤æçåæ:\n\n 1. æç»§æ¿æå®ç°å³ç³»;\n 2. ææ¹æ³éå;\n 3. æç¶ç±»ææ¥å£å¼ç¨æå å­ç±»æå®ç° ç±»å¯¹è±¡\n\n\n# æåç¹ç¹\n\næååé: åªè½å¸¸é é»è®¤ä¿®é¥°ç¬¦:public static final\n\næé æ¹æ³:æ¥å£æ²¡ææé æ¹æ³,å ä¸ºæ¥å£çä¸»è¦æ¯å¯¹è¡ä¸ºè¿è¡æ½è±¡ç,æ¯æ²¡æå·ä½å­å¨\n\nä¸ä¸ªç±»å¦ææ²¡æç¶ç±»,é»è®¤ç»§æ¿èªobjectç±»\n\næåæ¹æ³:åªè½æ¯æ½è±¡æ¹æ³ é»è®¤ä¿®é¥°ç¬¦:public abstract",charsets:{cjk:!0},lastUpdated:"2022/03/18, 07:01:11",lastUpdatedTimestamp:1647558071e3},{title:"å¤æ",frontmatter:{title:"å¤æ",date:"2022-03-18T00:48:38.000Z",permalink:"/pages/6407a8/",categories:["åç«¯","Java"],tags:[null]},regularPath:"/%E5%90%8E%E7%AB%AF/01.JavaSE/36.%E5%A4%9A%E6%80%81.html",relativePath:"åç«¯/01.JavaSE/36.å¤æ.md",key:"v-4e5c8b8d",path:"/pages/6407a8/",headers:[{level:2,title:"å¤æçåæ",slug:"å¤æçåæ",normalizedTitle:"å¤æçåæ",charIndex:31},{level:2,title:"å¤æä¸­æåè®¿é®ç¹ç¹",slug:"å¤æä¸­æåè®¿é®ç¹ç¹",normalizedTitle:"å¤æä¸­æåè®¿é®ç¹ç¹",charIndex:83},{level:2,title:"å¤æå¥½å¤åå¼ç«¯",slug:"å¤æå¥½å¤åå¼ç«¯",normalizedTitle:"å¤æå¥½å¤åå¼ç«¯",charIndex:232},{level:2,title:"å¤æä¸­çè½¬å",slug:"å¤æä¸­çè½¬å",normalizedTitle:"å¤æä¸­çè½¬å",charIndex:302}],headersStr:"å¤æçåæ å¤æä¸­æåè®¿é®ç¹ç¹ å¤æå¥½å¤åå¼ç«¯ å¤æä¸­çè½¬å",content:"# å¤æ\n\nåä¸ä¸ªå¯¹è±¡,å¨ä¸åæ¶å»è¡¨ç°åºæ¥çä¸åå½¢æ\n\n\n# å¤æçåæ\n\n 1. æç»§æ¿/å®ç°å³ç³»\n\n 2. ææ¹æ³éå\n\n 3. æç¶ç±»å¼ç¨æåå­ç±»å¯¹è±¡\n\n\n# å¤æä¸­æåè®¿é®ç¹ç¹\n\næååé:ç¼è¯çå·¦è¾¹,æ§è¡çå·¦è¾¹\n\næååéå¿é¡»æ¯å¼ç¨ç±»ä¸­æçæè½ç¼è¯ å¹¶ä¸è¾åºæ¯å¼ç¨ç±»çå¼\n\næåæ¹æ³:ç¼è¯çå·¦è¾¹,æ§è¡çå³è¾¹\n\næåæ¹æ³å¿é¡»æ¯å¼ç¨ç±»ä¸­æçæè½ç¼è¯ å¹¶ä¸å¦å¯¹è±¡ä¸­éåäºæ­¤æ¹æ³ åè¾åºå¯¹è±¡ä¸­çæ¹æ³ å¦åè¾åºå¼ç¨ä¸­çæ¹æ³\n\næåæ¹æ³æéå,æååéæ²¡æ\n\n\n# å¤æå¥½å¤åå¼ç«¯\n\nå¥½å¤æ¯ å®ä¹ä¸ªæ¹æ³ä½¿ç¨ç¶ç±»ä½ä¸ºåæ°,ä½¿ç¨æ¶åªéå°å­ç±»ä¼ è¿å°±å¯ä»¥ä½¿ç¨\n\nå¼ç«¯æ¯ æ æ³ä½¿ç¨å­ç±»ç¹æèç¶ç±»ä¸­æ²¡æçæ¹æ³\n\n\n# å¤æä¸­çè½¬å\n\nåä¸è½¬å\n\nä»å­å°ç¶ ç¶ç±»å¼ç¨æåå­ç±»å¯¹è±¡\n\nåä¸è½¬å\n\nä»ç¶å°å­ ç¶ç±»å¼ç¨è½¬ä¸ºå­ç±»å¯¹è±¡",normalizedContent:"# å¤æ\n\nåä¸ä¸ªå¯¹è±¡,å¨ä¸åæ¶å»è¡¨ç°åºæ¥çä¸åå½¢æ\n\n\n# å¤æçåæ\n\n 1. æç»§æ¿/å®ç°å³ç³»\n\n 2. ææ¹æ³éå\n\n 3. æç¶ç±»å¼ç¨æåå­ç±»å¯¹è±¡\n\n\n# å¤æä¸­æåè®¿é®ç¹ç¹\n\næååé:ç¼è¯çå·¦è¾¹,æ§è¡çå·¦è¾¹\n\næååéå¿é¡»æ¯å¼ç¨ç±»ä¸­æçæè½ç¼è¯ å¹¶ä¸è¾åºæ¯å¼ç¨ç±»çå¼\n\næåæ¹æ³:ç¼è¯çå·¦è¾¹,æ§è¡çå³è¾¹\n\næåæ¹æ³å¿é¡»æ¯å¼ç¨ç±»ä¸­æçæè½ç¼è¯ å¹¶ä¸å¦å¯¹è±¡ä¸­éåäºæ­¤æ¹æ³ åè¾åºå¯¹è±¡ä¸­çæ¹æ³ å¦åè¾åºå¼ç¨ä¸­çæ¹æ³\n\næåæ¹æ³æéå,æååéæ²¡æ\n\n\n# å¤æå¥½å¤åå¼ç«¯\n\nå¥½å¤æ¯ å®ä¹ä¸ªæ¹æ³ä½¿ç¨ç¶ç±»ä½ä¸ºåæ°,ä½¿ç¨æ¶åªéå°å­ç±»ä¼ è¿å°±å¯ä»¥ä½¿ç¨\n\nå¼ç«¯æ¯ æ æ³ä½¿ç¨å­ç±»ç¹æèç¶ç±»ä¸­æ²¡æçæ¹æ³\n\n\n# å¤æä¸­çè½¬å\n\nåä¸è½¬å\n\nä»å­å°ç¶ ç¶ç±»å¼ç¨æåå­ç±»å¯¹è±¡\n\nåä¸è½¬å\n\nä»ç¶å°å­ ç¶ç±»å¼ç¨è½¬ä¸ºå­ç±»å¯¹è±¡",charsets:{cjk:!0},lastUpdated:"2022/03/18, 07:01:11",lastUpdatedTimestamp:1647558071e3},{title:"æ½è±¡ç±»ä¸æ¥å£çåºå«",frontmatter:{title:"æ½è±¡ç±»ä¸æ¥å£çåºå«",date:"2022-03-18T00:48:38.000Z",permalink:"/pages/102423/",categories:["åç«¯","Java"],tags:[null]},regularPath:"/%E5%90%8E%E7%AB%AF/01.JavaSE/40.%E6%8A%BD%E8%B1%A1%E7%B1%BB%E4%B8%8E%E6%8E%A5%E5%8F%A3%E7%9A%84%E5%8C%BA%E5%88%AB.html",relativePath:"åç«¯/01.JavaSE/40.æ½è±¡ç±»ä¸æ¥å£çåºå«.md",key:"v-38d33902",path:"/pages/102423/",headersStr:null,content:"# æ½è±¡ç±»ä¸æ¥å£çåºå«\n\næååºå«:\n\næ½è±¡ç±» åé,å¸¸é;ææé æ¹æ³;ææ½è±¡æ¹æ³;ä¹æéæ½è±¡æ¹æ³\n\næ¥å£ å¸¸é;æ½è±¡æ¹æ³\n\nå³ç³»åºå«:\n\nç±»ä¸ç±» ç»§æ¿,åç»§æ¿\n\nç±»ä¸æ¥å£ å®ç°,å¯åå®ç°,ä¹å¯å¤å®ç°\n\næ¥å£ä¸æ¥å£ ç»§æ¿,åç»§æ¿,å¤ç»§æ¿\n\nè®¾è®¡çå¿µåºå«:\n\næ½è±¡ç±» å¯¹ç±»æ½è±¡,åæ¬å±æ§ãè¡ä¸º\n\næ¥å£ å¯¹è¡ä¸ºæ½è±¡ï¼ä¸»è¦æ¯è¡ä¸º\n\næ½è±¡ç±»æ¯å¯¹äºç©çæ½è±¡,èæ¥å£æ¯å¯¹è¡ä¸ºçæ½è±¡",normalizedContent:"# æ½è±¡ç±»ä¸æ¥å£çåºå«\n\næååºå«:\n\næ½è±¡ç±» åé,å¸¸é;ææé æ¹æ³;ææ½è±¡æ¹æ³;ä¹æéæ½è±¡æ¹æ³\n\næ¥å£ å¸¸é;æ½è±¡æ¹æ³\n\nå³ç³»åºå«:\n\nç±»ä¸ç±» ç»§æ¿,åç»§æ¿\n\nç±»ä¸æ¥å£ å®ç°,å¯åå®ç°,ä¹å¯å¤å®ç°\n\næ¥å£ä¸æ¥å£ ç»§æ¿,åç»§æ¿,å¤ç»§æ¿\n\nè®¾è®¡çå¿µåºå«:\n\næ½è±¡ç±» å¯¹ç±»æ½è±¡,åæ¬å±æ§ãè¡ä¸º\n\næ¥å£ å¯¹è¡ä¸ºæ½è±¡ï¼ä¸»è¦æ¯è¡ä¸º\n\næ½è±¡ç±»æ¯å¯¹äºç©çæ½è±¡,èæ¥å£æ¯å¯¹è¡ä¸ºçæ½è±¡",charsets:{cjk:!0},lastUpdated:"2022/03/18, 07:01:11",lastUpdatedTimestamp:1647558071e3},{title:"ç±»åæ¥å£çå³ç³»",frontmatter:{title:"ç±»åæ¥å£çå³ç³»",date:"2022-03-18T00:48:38.000Z",permalink:"/pages/b47784/",categories:["åç«¯","Java"],tags:[null]},regularPath:"/%E5%90%8E%E7%AB%AF/01.JavaSE/39.%E7%B1%BB%E5%92%8C%E6%8E%A5%E5%8F%A3%E7%9A%84%E5%85%B3%E7%B3%BB.html",relativePath:"åç«¯/01.JavaSE/39.ç±»åæ¥å£çå³ç³».md",key:"v-45335061",path:"/pages/b47784/",headersStr:null,content:"# ç±»åæ¥å£çå³ç³»\n\nç±»åç±»çå³ç³»:\n\nç»§æ¿å³ç³»,åªè½åç»§æ¿,ä½æ¯å¯ä»¥å¤å±ç»§æ¿\n\nç±»åæ¥å£çå³ç³»:\n\nå®ç°å³ç³»,å¯ä»¥åå®ç°,ä¹å¯ä»¥å¤å®ç°,è¿å¯ä»¥åç»§æ¿ä¸ä¸ªç±»åæ¶å®ç°å¤ä¸ªæ¥å£\n\næ¥å£åæ¥å£çå³ç³»:\n\nç»§æ¿å³ç³»,å¯ä»¥åç»§æ¿,ä¹å¯ä»¥å¤ç»§æ¿",normalizedContent:"# ç±»åæ¥å£çå³ç³»\n\nç±»åç±»çå³ç³»:\n\nç»§æ¿å³ç³»,åªè½åç»§æ¿,ä½æ¯å¯ä»¥å¤å±ç»§æ¿\n\nç±»åæ¥å£çå³ç³»:\n\nå®ç°å³ç³»,å¯ä»¥åå®ç°,ä¹å¯ä»¥å¤å®ç°,è¿å¯ä»¥åç»§æ¿ä¸ä¸ªç±»åæ¶å®ç°å¤ä¸ªæ¥å£\n\næ¥å£åæ¥å£çå³ç³»:\n\nç»§æ¿å³ç³»,å¯ä»¥åç»§æ¿,ä¹å¯ä»¥å¤ç»§æ¿",charsets:{cjk:!0},lastUpdated:"2022/03/18, 07:01:11",lastUpdatedTimestamp:1647558071e3},{title:"åé¨ç±»",frontmatter:{title:"åé¨ç±»",date:"2022-03-18T00:48:38.000Z",permalink:"/pages/86e52c/",categories:["åç«¯","Java"],tags:[null]},regularPath:"/%E5%90%8E%E7%AB%AF/01.JavaSE/42.%E5%86%85%E9%83%A8%E7%B1%BB.html",relativePath:"åç«¯/01.JavaSE/42.åé¨ç±».md",key:"v-2f94f67c",path:"/pages/86e52c/",headers:[{level:2,title:"æååé¨ç±»",slug:"æååé¨ç±»",normalizedTitle:"æååé¨ç±»",charIndex:128},{level:2,title:"å±é¨åé¨ç±»",slug:"å±é¨åé¨ç±»",normalizedTitle:"å±é¨åé¨ç±»",charIndex:183},{level:2,title:"å¿ååé¨ç±»",slug:"å¿ååé¨ç±»",normalizedTitle:"å¿ååé¨ç±»",charIndex:222},{level:2,title:"lambdaè¡¨è¾¾å¼",slug:"lambdaè¡¨è¾¾å¼",normalizedTitle:"lambdaè¡¨è¾¾å¼",charIndex:1032},{level:3,title:"lambdaè¡¨è¾¾å¼ççç¥",slug:"lambdaè¡¨è¾¾å¼ççç¥",normalizedTitle:"lambdaè¡¨è¾¾å¼ççç¥",charIndex:3120}],headersStr:"æååé¨ç±» å±é¨åé¨ç±» å¿ååé¨ç±» lambdaè¡¨è¾¾å¼ lambdaè¡¨è¾¾å¼ççç¥",content:'# åé¨ç±»\n\nä¸ä¸ªç±»ä¸­åé¨ä¸­å®ä¹äºä¸ä¸ªç±»B\n\nå¦:public class A{\n\npublic class b{\n\n}\n\n}\n\nåé¨ç±»çè®¿é®ç¹ç¹\n\n 1. åé¨ç±»å¯ä»¥ç´æ¥è®¿é®å¤é¨ç±»çæå,åæ¬ç§æ\n 2. å¤é¨äºä½ è¦è®¿é®åé¨ç±»æå,å¿é¡»åå»ºå¯¹è±¡\n\n\n# æååé¨ç±»\n\nå¦æ¯å¬å±åå¯ä»¥åå»ºå¯¹è±¡\n\naç±»å.bç±»å i=new aç±»å().new bç±»å();\n\n\n# å±é¨åé¨ç±»\n\nå±é¨ç±»å¤çæ¯æ æ³ç´æ¥è®¿é®ç\n\néè¦å¨åé¨åå»ºå¯¹è±¡å¹¶ä½¿ç¨\n\n\n# å¿ååé¨ç±»\n\nå¿ååé¨ç±» æ¯ä¸è´¯ç»§æ¿äºè¯¥ç±»æèå®ç°äºè¯¥æ¥å£çå­ç±»å¿åå¯¹è±¡\n\nnew ç±»åææ¥å£å(){\n\néåæ¹æ³;\n\n};\n\nå¿ååé¨ç±»å¯ä»¥ç´æ¥è°ç¨æ¹æ³ åªéè¦å¨å¿ååé¨ç±»åè°ç¨\n\nnew Inter(){\n    @Override\n    public void show() {\n        System.out.println("å¿ååé¨ç±»");\n    }\n}.show();  //å¿ååé¨ç±»éè¦å¨å¿ååé¨ç±»åç´æ¥è°ç¨åé¨ç±»çæ¹æ³\n\n\n1\n2\n3\n4\n5\n6\n\n\nå¿ååé¨ç±»æ¬è´¨ä¸ä¹æ¯ä¸ä¸ªç±» ä½æ¯æ¯å¿åæ æ³ ç´æ¥è°ç¨\n\nä½æä»¬å¯ä»¥éè¿å¤æå®ç°åå»ºå¯¹è±¡ æ¥è°ç¨\n\nInter i =  new Inter(){  //å¿ååé¨ç±»ä¹å¯ä»¥ä½¿ç¨å¤æåå»ºå¯¹è±¡\n     @Override\n     public void show() {\n         System.out.println("å¿ååé¨ç±»");\n     }\n };  //å¿ååé¨ç±»éè¦å¨å¿ååé¨ç±»åç´æ¥è°ç¨åé¨ç±»çæ¹æ³\n\n i.show();  //è°ç¨æ¹æ³\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n\n\nå¦æä¸ä¸ªæ¹æ³éè¦æä¾ä¸ä¸ªæ¥å£å¹¶ä½¿ç¨å®,æä»¬å¯ä»¥å¨æ¹æ³ä¸­ç´æ¥newä¸ä¸ªå¿ååé¨ç±»å¹¶éåæ¥å£çæ¹æ³\n\npublic void in(Inter inter){\n        inter.show();\n    }\n\nOuter op =new Outer();\nop.in(new Inter() {\n            @Override\n            public void show() {\n                System.out.println("å¨æ¹æ³ä¸­ç´æ¥newä¸ä¸ªå¿ååé¨ç±»");\n            }\n        });\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n\n\n\n# lambdaè¡¨è¾¾å¼\n\nlambdaè¡¨è¾¾å¼,æä»¬ä¸é¢ä½¿ç¨ç´æ¥newä¸ä¸ªå¿ååé¨ç±»ç»è¿ä¸ªæ¹æ³,æä»¬ä¹å¯ä»¥éè¿lambdaè¡¨è¾¾å¼ç´æ¥ä¼ ä¸ä¸ª\n\nä½¿ç¨lambdaè¡¨è¾¾å¼çåæ\n\n 1. æä¸ä¸ªæ¥å£\n 2. æ¥å£ä¸­æä¸ä»æä¸ä¸ªæ½è±¡æ¹æ³\n\nè¯­æ³: (åæ°) -> {éåæ¹æ³};\n\npublic class lambda {\n\n\n    public static void main(String[] args) {\n        goswimming(() -> {\n            System.out.println("lambda");\n        });\n    }\n\n    public static void goswimming(Swimming swimming){\n        swimming.swim();\n    }\n\n}\n\ninterface Swimming {  // è¦æ±å¿é¡»ä¸ºæ¥å£å®ç°\n    void swim();  // åªè½æä¸ä¸ªæ½è±¡æ¹æ³\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n\n\nå¸¦åæ è¿åå¼\n\npublic class lambda2 {\n    public static void main(String[] args) {\n        useStringHandler(new StringHandler() {\n            @Override\n            public void pringMessage(String msg) {\n                System.out.println("newå¿ååé¨ç±» " + msg);\n            }\n        });\n\n\n        useStringHandler((String msg) -> {\n            System.out.println("lambdaä¼ å " + msg);\n        });\n    }\n\n    public static void useStringHandler(StringHandler stringHandler) {\n        stringHandler.pringMessage("é»è®¤å¼");\n    }\n}\n\ninterface StringHandler {\n    void pringMessage(String msg);\n}\n\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n\n\nå¸¦è¿åå¼çlambdaè¡¨è¾¾å¼\n\nå¿é¡»return\n\nimport java.util.Random;\n\npublic class lambda3 {\n    public static void main(String[] args) {\n\n        useRandomNumHandler(() -> {\n            Random r =new Random();\n            int num = r.nextInt(10)+1;\n            return num;\n        });\n    }\n\n    public static void useRandomNumHandler(RandomNumHandler randomNumHandler){\n        int result = randomNumHandler.getNumber();\n        System.out.println(result);\n    }\n\n\n}\n\n\n\ninterface RandomNumHandler{\n    int getNumber();\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n\n\nå¸¦åä¸å¸¦è¿åå¼\n\npublic class lambda4 {\n    public static void main(String[] args) {\n        useCalculator(( a , b) -> a+b);\n    }\n\n    public static void useCalculator(Calculator calculator){\n        int result = calculator.calc(10,20);\n        System.out.println(result);\n    }\n\n}\n\ninterface Calculator{\n    int calc(int a,int b);\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n\n\n\n# lambdaè¡¨è¾¾å¼ççç¥\n\n * åæ°ç±»åå¯ä»¥çç¥,ä½æå¤ä¸ªä¸åçåæ°ç±»åæ¶ä¸è½çç¥\n\n * å¦æåæ°åªæä¸ä¸ª,åå°æ¬å·å¯ä»¥çç¥,æ²¡æåæ°åä¸è½çç¥å¿é¡»ä¹¦å()\n\n * å¦æä»£ç åçè¯­å¥åªæä¸æ¡,å¯ä»¥çç¥å¤§æ¬å·ååå·çè³æ¯returnè¯­å¥\n\n * m m,kkhj ;bnhjuo9p[\'inmji0op];[\n\n * khJU <KINM]\'ç¼è¯ä¹åä¼çæä¸ä¸ªåç¬ç.classæä»¶\n\n * lambdaè¡¨è¾¾å¼ï¼ç¼è¯ä¹åï¼ä¸ä¼çæ.classæä»¶ï¼å¯¹åºçå­èç ä¼å¨è¿è¡æ¶å¨æçæ',normalizedContent:'# åé¨ç±»\n\nä¸ä¸ªç±»ä¸­åé¨ä¸­å®ä¹äºä¸ä¸ªç±»b\n\nå¦:public class a{\n\npublic class b{\n\n}\n\n}\n\nåé¨ç±»çè®¿é®ç¹ç¹\n\n 1. åé¨ç±»å¯ä»¥ç´æ¥è®¿é®å¤é¨ç±»çæå,åæ¬ç§æ\n 2. å¤é¨äºä½ è¦è®¿é®åé¨ç±»æå,å¿é¡»åå»ºå¯¹è±¡\n\n\n# æååé¨ç±»\n\nå¦æ¯å¬å±åå¯ä»¥åå»ºå¯¹è±¡\n\naç±»å.bç±»å i=new aç±»å().new bç±»å();\n\n\n# å±é¨åé¨ç±»\n\nå±é¨ç±»å¤çæ¯æ æ³ç´æ¥è®¿é®ç\n\néè¦å¨åé¨åå»ºå¯¹è±¡å¹¶ä½¿ç¨\n\n\n# å¿ååé¨ç±»\n\nå¿ååé¨ç±» æ¯ä¸è´¯ç»§æ¿äºè¯¥ç±»æèå®ç°äºè¯¥æ¥å£çå­ç±»å¿åå¯¹è±¡\n\nnew ç±»åææ¥å£å(){\n\néåæ¹æ³;\n\n};\n\nå¿ååé¨ç±»å¯ä»¥ç´æ¥è°ç¨æ¹æ³ åªéè¦å¨å¿ååé¨ç±»åè°ç¨\n\nnew inter(){\n    @override\n    public void show() {\n        system.out.println("å¿ååé¨ç±»");\n    }\n}.show();  //å¿ååé¨ç±»éè¦å¨å¿ååé¨ç±»åç´æ¥è°ç¨åé¨ç±»çæ¹æ³\n\n\n1\n2\n3\n4\n5\n6\n\n\nå¿ååé¨ç±»æ¬è´¨ä¸ä¹æ¯ä¸ä¸ªç±» ä½æ¯æ¯å¿åæ æ³ ç´æ¥è°ç¨\n\nä½æä»¬å¯ä»¥éè¿å¤æå®ç°åå»ºå¯¹è±¡ æ¥è°ç¨\n\ninter i =  new inter(){  //å¿ååé¨ç±»ä¹å¯ä»¥ä½¿ç¨å¤æåå»ºå¯¹è±¡\n     @override\n     public void show() {\n         system.out.println("å¿ååé¨ç±»");\n     }\n };  //å¿ååé¨ç±»éè¦å¨å¿ååé¨ç±»åç´æ¥è°ç¨åé¨ç±»çæ¹æ³\n\n i.show();  //è°ç¨æ¹æ³\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n\n\nå¦æä¸ä¸ªæ¹æ³éè¦æä¾ä¸ä¸ªæ¥å£å¹¶ä½¿ç¨å®,æä»¬å¯ä»¥å¨æ¹æ³ä¸­ç´æ¥newä¸ä¸ªå¿ååé¨ç±»å¹¶éåæ¥å£çæ¹æ³\n\npublic void in(inter inter){\n        inter.show();\n    }\n\nouter op =new outer();\nop.in(new inter() {\n            @override\n            public void show() {\n                system.out.println("å¨æ¹æ³ä¸­ç´æ¥newä¸ä¸ªå¿ååé¨ç±»");\n            }\n        });\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n\n\n\n# lambdaè¡¨è¾¾å¼\n\nlambdaè¡¨è¾¾å¼,æä»¬ä¸é¢ä½¿ç¨ç´æ¥newä¸ä¸ªå¿ååé¨ç±»ç»è¿ä¸ªæ¹æ³,æä»¬ä¹å¯ä»¥éè¿lambdaè¡¨è¾¾å¼ç´æ¥ä¼ ä¸ä¸ª\n\nä½¿ç¨lambdaè¡¨è¾¾å¼çåæ\n\n 1. æä¸ä¸ªæ¥å£\n 2. æ¥å£ä¸­æä¸ä»æä¸ä¸ªæ½è±¡æ¹æ³\n\nè¯­æ³: (åæ°) -> {éåæ¹æ³};\n\npublic class lambda {\n\n\n    public static void main(string[] args) {\n        goswimming(() -> {\n            system.out.println("lambda");\n        });\n    }\n\n    public static void goswimming(swimming swimming){\n        swimming.swim();\n    }\n\n}\n\ninterface swimming {  // è¦æ±å¿é¡»ä¸ºæ¥å£å®ç°\n    void swim();  // åªè½æä¸ä¸ªæ½è±¡æ¹æ³\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n\n\nå¸¦åæ è¿åå¼\n\npublic class lambda2 {\n    public static void main(string[] args) {\n        usestringhandler(new stringhandler() {\n            @override\n            public void pringmessage(string msg) {\n                system.out.println("newå¿ååé¨ç±» " + msg);\n            }\n        });\n\n\n        usestringhandler((string msg) -> {\n            system.out.println("lambdaä¼ å " + msg);\n        });\n    }\n\n    public static void usestringhandler(stringhandler stringhandler) {\n        stringhandler.pringmessage("é»è®¤å¼");\n    }\n}\n\ninterface stringhandler {\n    void pringmessage(string msg);\n}\n\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n\n\nå¸¦è¿åå¼çlambdaè¡¨è¾¾å¼\n\nå¿é¡»return\n\nimport java.util.random;\n\npublic class lambda3 {\n    public static void main(string[] args) {\n\n        userandomnumhandler(() -> {\n            random r =new random();\n            int num = r.nextint(10)+1;\n            return num;\n        });\n    }\n\n    public static void userandomnumhandler(randomnumhandler randomnumhandler){\n        int result = randomnumhandler.getnumber();\n        system.out.println(result);\n    }\n\n\n}\n\n\n\ninterface randomnumhandler{\n    int getnumber();\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n\n\nå¸¦åä¸å¸¦è¿åå¼\n\npublic class lambda4 {\n    public static void main(string[] args) {\n        usecalculator(( a , b) -> a+b);\n    }\n\n    public static void usecalculator(calculator calculator){\n        int result = calculator.calc(10,20);\n        system.out.println(result);\n    }\n\n}\n\ninterface calculator{\n    int calc(int a,int b);\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n\n\n\n# lambdaè¡¨è¾¾å¼ççç¥\n\n * åæ°ç±»åå¯ä»¥çç¥,ä½æå¤ä¸ªä¸åçåæ°ç±»åæ¶ä¸è½çç¥\n\n * å¦æåæ°åªæä¸ä¸ª,åå°æ¬å·å¯ä»¥çç¥,æ²¡æåæ°åä¸è½çç¥å¿é¡»ä¹¦å()\n\n * å¦æä»£ç åçè¯­å¥åªæä¸æ¡,å¯ä»¥çç¥å¤§æ¬å·ååå·çè³æ¯returnè¯­å¥\n\n * m m,kkhj ;bnhjuo9p[\'inmji0op];[\n\n * khju <kinm]\'ç¼è¯ä¹åä¼çæä¸ä¸ªåç¬ç.classæä»¶\n\n * lambdaè¡¨è¾¾å¼ï¼ç¼è¯ä¹åï¼ä¸ä¼çæ.classæä»¶ï¼å¯¹åºçå­èç ä¼å¨è¿è¡æ¶å¨æçæ',charsets:{cjk:!0},lastUpdated:"2022/03/18, 07:01:11",lastUpdatedTimestamp:1647558071e3},{title:"Api",frontmatter:{title:"Api",date:"2022-03-18T00:48:38.000Z",permalink:"/pages/a4cd8f/",categories:["åç«¯","Java"],tags:[null]},regularPath:"/%E5%90%8E%E7%AB%AF/01.JavaSE/43.Api.html",relativePath:"åç«¯/01.JavaSE/43.Api.md",key:"v-35580351",path:"/pages/a4cd8f/",headers:[{level:2,title:"Sytem",slug:"sytem",normalizedTitle:"sytem",charIndex:10},{level:3,title:"è·åå½åæ¶é´æ³",slug:"è·åå½åæ¶é´æ³",normalizedTitle:"è·åå½åæ¶é´æ³",charIndex:20},{level:3,title:"å¤å¶æ°ç»",slug:"å¤å¶æ°ç»",normalizedTitle:"å¤å¶æ°ç»",charIndex:65},{level:2,title:"Objects",slug:"objects",normalizedTitle:"objects",charIndex:125},{level:3,title:"toSting(å¯¹è±¡)",slug:"tosting-å¯¹è±¡",normalizedTitle:"tosting(å¯¹è±¡)",charIndex:137},{level:3,title:"Objects.toSring(å¯¹è±¡,é»è®¤å­ç¬¦ä¸²)",slug:"objects-tosring-å¯¹è±¡-é»è®¤å­ç¬¦ä¸²",normalizedTitle:"objects.tosring(å¯¹è±¡,é»è®¤å­ç¬¦ä¸²)",charIndex:166},{level:3,title:"isNull(å¯¹è±¡)",slug:"isnull-å¯¹è±¡",normalizedTitle:"isnull(å¯¹è±¡)",charIndex:233},{level:3,title:"nonNull(å¯¹è±¡)",slug:"nonnull-å¯¹è±¡",normalizedTitle:"nonnull(å¯¹è±¡)",charIndex:264},{level:2,title:"BigDecimal",slug:"bigdecimal",normalizedTitle:"bigdecimal",charIndex:297},{level:2,title:"Integer",slug:"integer",normalizedTitle:"integer",charIndex:383},{level:2,title:"èªå¨è£ç®±",slug:"èªå¨è£ç®±",normalizedTitle:"èªå¨è£ç®±",charIndex:395},{level:2,title:"èªå¨æç®±",slug:"èªå¨æç®±",normalizedTitle:"èªå¨æç®±",charIndex:472},{level:2,title:"parseIntå­ç¬¦ä¸²è½¬Integer",slug:"parseintå­ç¬¦ä¸²è½¬integer",normalizedTitle:"parseintå­ç¬¦ä¸²è½¬integer",charIndex:533},{level:2,title:"Integerè½¬å­ç¬¦ä¸²",slug:"integerè½¬å­ç¬¦ä¸²",normalizedTitle:"integerè½¬å­ç¬¦ä¸²",charIndex:582},{level:2,title:"SimpleDateFormat",slug:"simpledateformat",normalizedTitle:"simpledateformat",charIndex:626},{level:3,title:"format",slug:"format",normalizedTitle:"format",charIndex:647},{level:3,title:"parse",slug:"parse",normalizedTitle:"parse",charIndex:533},{level:3,title:"DateTimeFormatter",slug:"datetimeformatter",normalizedTitle:"datetimeformatter",charIndex:1094},{level:2,title:"LocalDateTime",slug:"localdatetime",normalizedTitle:"localdatetime",charIndex:1232},{level:3,title:"now()",slug:"now",normalizedTitle:"now()",charIndex:1519},{level:3,title:"of(int year, Month month, int dayOfMonth, int hour, int minute)",slug:"of-int-year-month-month-int-dayofmonth-int-hour-int-minute",normalizedTitle:"of(int year, month month, int dayofmonth, int hour, int minute)",charIndex:1537},{level:2,title:"Period ä¸¤ä¸ªæ¥æçé´é",slug:"period-ä¸¤ä¸ªæ¥æçé´é",normalizedTitle:"period ä¸¤ä¸ªæ¥æçé´é",charIndex:1764},{level:2,title:"Duration ä¸¤ä¸ªæ¶é´çé´é",slug:"duration-ä¸¤ä¸ªæ¶é´çé´é",normalizedTitle:"duration ä¸¤ä¸ªæ¶é´çé´é",charIndex:2164}],headersStr:"Sytem è·åå½åæ¶é´æ³ å¤å¶æ°ç» Objects toSting(å¯¹è±¡) Objects.toSring(å¯¹è±¡,é»è®¤å­ç¬¦ä¸²) isNull(å¯¹è±¡) nonNull(å¯¹è±¡) BigDecimal Integer èªå¨è£ç®± èªå¨æç®± parseIntå­ç¬¦ä¸²è½¬Integer Integerè½¬å­ç¬¦ä¸² SimpleDateFormat format parse DateTimeFormatter LocalDateTime now() of(int year, Month month, int dayOfMonth, int hour, int minute) Period ä¸¤ä¸ªæ¥æçé´é Duration ä¸¤ä¸ªæ¶é´çé´é",content:'# Api\n\n\n# Sytem\n\n\n# è·åå½åæ¶é´æ³\n\nSystem.currentTimeMillis()\n\n\n1\n\n\n\n# å¤å¶æ°ç»\n\nSystem.arraycopy(æºæ°ç»,å¼å§ç´¢å¼,ç®çæ°ç»,å¼å§ç´¢å¼,å¤å¶åç´ ä¸ªæ°);\n\n\n1\n\n\n\n# Objects\n\n\n# toSting(å¯¹è±¡)\n\nå°å¯¹è±¡ä»¥å­ç¬¦ä¸²å½¢å¼æ¾ç¤º\n\n\n# Objects.toSring(å¯¹è±¡,é»è®¤å­ç¬¦ä¸²)\n\nè¿åå¯¹è±¡ä»¥å­ç¬¦ä¸²å½¢å¼,å¦æä¼ å¥çå¯¹è±¡ä¸ºç©ºåè¿åç¬¬äºä¸ªåæ°,é»è®¤çå­ç¬¦ä¸²\n\n\n# isNull(å¯¹è±¡)\n\nå¤æ­å¯¹è±¡æ¯å¦ä¸ºç©º è¿åå¸å°å¼\n\n\n# nonNull(å¯¹è±¡)\n\nå¤æ­å¯¹è±¡æ¯å¦ä¸ä¸ºç©º è¿åå¸å°å¼\n\n\n# BigDecimal\n\n 1. åå»ºBigDecimalå»ºè®®ä½¿ç¨å­ç¬¦ä¸²åå»º,ç¨æ°å­ä¼æåå·®\n 2. å¦æé¤ä¸å°½çæ°è¯·ç¨divide(é¤æ°,ä¿çå¤å°ä½,èå¥æ¨¡å¼);\n\n\n# Integer\n\n\n# èªå¨è£ç®±\n\nå½æä¸ä¸ªåºæ¬æ°æ®ç±»å èµå¼ ç»ä¸ä¸ªå¯¹è±¡æ¶,javaåºå±ä¼èªå¨å¸®æä»¬è°ç¨valuofæ¹æ³\n\nå¦:\n\nInteger in = 100;\n\n\n# èªå¨æç®±\n\nå°ä¸ä¸ªåè£ç±»åå¯¹è±¡èµå¼ç»ä¸ä¸ªå¯¹åºçåºæ¬å¯¹è±¡,javaä¼èªå¨å¸®æä»¬æç®±,å³\n\nint in2= in;\n\n\n# parseIntå­ç¬¦ä¸²è½¬Integer\n\nInteger.parseInt("123")\n\n\n# Integerè½¬å­ç¬¦ä¸²\n\nä½¿ç¨å­ç¬¦ä¸²æ¼æ¥\n\næString.valueof()\n\n\n# SimpleDateFormat\n\n\n# format\n\n Date d1 =new Date();\n        SimpleDateFormat sdf =new SimpleDateFormat("yyyy-MM-dd HH:mm:ss");\n\n        String d2= sdf.format(d1);   //å°dateå¯¹è±¡æ ¼å¼åä¸ºSimpleDateFormatæå®æ ¼å¼\n        System.out.println(d2);\n\n\n1\n2\n3\n4\n5\n\n\n\n# parse\n\ntry {\n            Date d3 =sdf.parse(d2);  // è¦ä½¿ç¨å¼å¸¸å¤çåè£¹  parseå°æ ¼å¼åçå¯¹è±¡è½¬ådate\n            System.out.println(d3);\n        } catch (ParseException e) {\n            e.printStackTrace();\n        }\n\n\n\n1\n2\n3\n4\n5\n6\n7\n\n\n\n# DateTimeFormatter\n\nString s ="2021å¹´7æ6æ¥ 21:45:13";\n\nDateTimeFormatter pattern = DateTimeFormatter.ofPattern("yyyyå¹´Mædæ¥ HH:mm:ss");  //æ ¼å¼å\nLocalDateTime loca = LocalDateTime.parse(s,pattern);  // å°æå®çæ ¼å¼ååæå®æ¶é´ åå»ºä¸ä¸ªlocaldatetime\nLocalDateTime l =loca.plusDays(1);  // ä½¿ç¨locatime ç plusdays æ¹æ³ æ·»å 1å¤©\nString result =l.format(pattern);  //åå°locatime æ ¼å¼åä¸ºæå®æ ¼å¼ è¿åå­ç¬¦ä¸²\nSystem.out.println(result);\n\n\n1\n2\n3\n4\n5\n6\n7\n\n\n\n# LocalDateTime\n\n\n# now()\n\nè·åå½åæ¶é´\n\n\n# of(int year, Month month, int dayOfMonth, int hour, int minute)\n\næå®å¹´ææ¥ æ¶åç§\n\n# get\n\nè¯¦æçapi è·åå¹´ æ æ¥ æ¶ å ç§\n\n# with\n\nç´æ¥è®¾ç½®æå® è¿åä¸ä¸ªå¯æ¬\n\nå¹´ æ æ¥ æ¶ å ç§\n\n# plus\n\næ·»å æå®çæ¶é´ å¹´ æ æ¥ æ¶ å ç§ è¿åä¸ä¸ªå¯æ¬ å¯ä»¥ä¸ºè´æ°\n\n# min\n\nåå°æå®çæ¶é´ å¹´ æ æ¥ æ¶ å ç§ è¿åä¸ä¸ªå¯æ¬ å¯ä»¥ä¸ºè´æ°\n\n\n# Period ä¸¤ä¸ªæ¥æçé´é\n\n LocalDate start = LocalDate.of(2021,7,7);\n        LocalDate end = LocalDate.of(2021,8,27);\n        Period bw= Period.between(start,end);  // è¦2ä¸ªlocadateç±» å³å¹´ææ¥ å¼å§åç»æ\n        System.out.println(bw); // æ»ç¸éæ¶é´\n        System.out.println(bw.getDays());  // ç¸éå¤©æ°\n        System.out.println(bw.getYears());  // ç¸éå¹´ä»½\n        System.out.println(bw.getMonths());  // ç¸éæä»½\n\n\n1\n2\n3\n4\n5\n6\n7\n\n\n\n# Duration ä¸¤ä¸ªæ¶é´çé´é\n\nLocalDateTime start = LocalDateTime.of(2021, 7, 7, 11, 22, 55);\n        LocalDateTime end = LocalDateTime.of(2021, 8, 27, 16, 12, 5);\n\n        Duration bw = Duration.between(start, end);\n        System.out.println(bw);  // ç¸éå¤å°hå¤å°må¤å°s\n\n        System.out.println(bw.toSeconds());  // é´éç§\n        System.out.println(bw.toMillis());  // é´éæ¯«ç§\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n',normalizedContent:'# api\n\n\n# sytem\n\n\n# è·åå½åæ¶é´æ³\n\nsystem.currenttimemillis()\n\n\n1\n\n\n\n# å¤å¶æ°ç»\n\nsystem.arraycopy(æºæ°ç»,å¼å§ç´¢å¼,ç®çæ°ç»,å¼å§ç´¢å¼,å¤å¶åç´ ä¸ªæ°);\n\n\n1\n\n\n\n# objects\n\n\n# tosting(å¯¹è±¡)\n\nå°å¯¹è±¡ä»¥å­ç¬¦ä¸²å½¢å¼æ¾ç¤º\n\n\n# objects.tosring(å¯¹è±¡,é»è®¤å­ç¬¦ä¸²)\n\nè¿åå¯¹è±¡ä»¥å­ç¬¦ä¸²å½¢å¼,å¦æä¼ å¥çå¯¹è±¡ä¸ºç©ºåè¿åç¬¬äºä¸ªåæ°,é»è®¤çå­ç¬¦ä¸²\n\n\n# isnull(å¯¹è±¡)\n\nå¤æ­å¯¹è±¡æ¯å¦ä¸ºç©º è¿åå¸å°å¼\n\n\n# nonnull(å¯¹è±¡)\n\nå¤æ­å¯¹è±¡æ¯å¦ä¸ä¸ºç©º è¿åå¸å°å¼\n\n\n# bigdecimal\n\n 1. åå»ºbigdecimalå»ºè®®ä½¿ç¨å­ç¬¦ä¸²åå»º,ç¨æ°å­ä¼æåå·®\n 2. å¦æé¤ä¸å°½çæ°è¯·ç¨divide(é¤æ°,ä¿çå¤å°ä½,èå¥æ¨¡å¼);\n\n\n# integer\n\n\n# èªå¨è£ç®±\n\nå½æä¸ä¸ªåºæ¬æ°æ®ç±»å èµå¼ ç»ä¸ä¸ªå¯¹è±¡æ¶,javaåºå±ä¼èªå¨å¸®æä»¬è°ç¨valuofæ¹æ³\n\nå¦:\n\ninteger in = 100;\n\n\n# èªå¨æç®±\n\nå°ä¸ä¸ªåè£ç±»åå¯¹è±¡èµå¼ç»ä¸ä¸ªå¯¹åºçåºæ¬å¯¹è±¡,javaä¼èªå¨å¸®æä»¬æç®±,å³\n\nint in2= in;\n\n\n# parseintå­ç¬¦ä¸²è½¬integer\n\ninteger.parseint("123")\n\n\n# integerè½¬å­ç¬¦ä¸²\n\nä½¿ç¨å­ç¬¦ä¸²æ¼æ¥\n\næstring.valueof()\n\n\n# simpledateformat\n\n\n# format\n\n date d1 =new date();\n        simpledateformat sdf =new simpledateformat("yyyy-mm-dd hh:mm:ss");\n\n        string d2= sdf.format(d1);   //å°dateå¯¹è±¡æ ¼å¼åä¸ºsimpledateformatæå®æ ¼å¼\n        system.out.println(d2);\n\n\n1\n2\n3\n4\n5\n\n\n\n# parse\n\ntry {\n            date d3 =sdf.parse(d2);  // è¦ä½¿ç¨å¼å¸¸å¤çåè£¹  parseå°æ ¼å¼åçå¯¹è±¡è½¬ådate\n            system.out.println(d3);\n        } catch (parseexception e) {\n            e.printstacktrace();\n        }\n\n\n\n1\n2\n3\n4\n5\n6\n7\n\n\n\n# datetimeformatter\n\nstring s ="2021å¹´7æ6æ¥ 21:45:13";\n\ndatetimeformatter pattern = datetimeformatter.ofpattern("yyyyå¹´mædæ¥ hh:mm:ss");  //æ ¼å¼å\nlocaldatetime loca = localdatetime.parse(s,pattern);  // å°æå®çæ ¼å¼ååæå®æ¶é´ åå»ºä¸ä¸ªlocaldatetime\nlocaldatetime l =loca.plusdays(1);  // ä½¿ç¨locatime ç plusdays æ¹æ³ æ·»å 1å¤©\nstring result =l.format(pattern);  //åå°locatime æ ¼å¼åä¸ºæå®æ ¼å¼ è¿åå­ç¬¦ä¸²\nsystem.out.println(result);\n\n\n1\n2\n3\n4\n5\n6\n7\n\n\n\n# localdatetime\n\n\n# now()\n\nè·åå½åæ¶é´\n\n\n# of(int year, month month, int dayofmonth, int hour, int minute)\n\næå®å¹´ææ¥ æ¶åç§\n\n# get\n\nè¯¦æçapi è·åå¹´ æ æ¥ æ¶ å ç§\n\n# with\n\nç´æ¥è®¾ç½®æå® è¿åä¸ä¸ªå¯æ¬\n\nå¹´ æ æ¥ æ¶ å ç§\n\n# plus\n\næ·»å æå®çæ¶é´ å¹´ æ æ¥ æ¶ å ç§ è¿åä¸ä¸ªå¯æ¬ å¯ä»¥ä¸ºè´æ°\n\n# min\n\nåå°æå®çæ¶é´ å¹´ æ æ¥ æ¶ å ç§ è¿åä¸ä¸ªå¯æ¬ å¯ä»¥ä¸ºè´æ°\n\n\n# period ä¸¤ä¸ªæ¥æçé´é\n\n localdate start = localdate.of(2021,7,7);\n        localdate end = localdate.of(2021,8,27);\n        period bw= period.between(start,end);  // è¦2ä¸ªlocadateç±» å³å¹´ææ¥ å¼å§åç»æ\n        system.out.println(bw); // æ»ç¸éæ¶é´\n        system.out.println(bw.getdays());  // ç¸éå¤©æ°\n        system.out.println(bw.getyears());  // ç¸éå¹´ä»½\n        system.out.println(bw.getmonths());  // ç¸éæä»½\n\n\n1\n2\n3\n4\n5\n6\n7\n\n\n\n# duration ä¸¤ä¸ªæ¶é´çé´é\n\nlocaldatetime start = localdatetime.of(2021, 7, 7, 11, 22, 55);\n        localdatetime end = localdatetime.of(2021, 8, 27, 16, 12, 5);\n\n        duration bw = duration.between(start, end);\n        system.out.println(bw);  // ç¸éå¤å°hå¤å°må¤å°s\n\n        system.out.println(bw.toseconds());  // é´éç§\n        system.out.println(bw.tomillis());  // é´éæ¯«ç§\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n',charsets:{cjk:!0},lastUpdated:"2022/03/18, 07:01:11",lastUpdatedTimestamp:1647558071e3},{title:"å¼å¸¸",frontmatter:{title:"å¼å¸¸",date:"2022-03-18T00:48:38.000Z",permalink:"/pages/236d5b/",categories:["åç«¯","Java"],tags:[null]},regularPath:"/%E5%90%8E%E7%AB%AF/01.JavaSE/44.%E5%BC%82%E5%B8%B8.html",relativePath:"åç«¯/01.JavaSE/44.å¼å¸¸.md",key:"v-4fd19c04",path:"/pages/236d5b/",headers:[{level:2,title:"throwså£°æå¼å¸¸",slug:"throwså£°æå¼å¸¸",normalizedTitle:"throwså£°æå¼å¸¸",charIndex:9},{level:2,title:"throwæåºå¼å¸¸",slug:"throwæåºå¼å¸¸",normalizedTitle:"throwæåºå¼å¸¸",charIndex:231},{level:2,title:"try catch",slug:"try-catch",normalizedTitle:"try catch",charIndex:369},{level:3,title:"å¤ä¸ªcatch",slug:"å¤ä¸ªcatch",normalizedTitle:"å¤ä¸ªcatch",charIndex:666},{level:3,title:"ææææå¼å¸¸ Exception",slug:"ææææå¼å¸¸-exception",normalizedTitle:"ææææå¼å¸¸ exception",charIndex:1087},{level:3,title:"errorä¸­çåé¨æ¹æ³",slug:"errorä¸­çåé¨æ¹æ³",normalizedTitle:"errorä¸­çåé¨æ¹æ³",charIndex:1309},{level:2,title:"èªå®ä¹å¼å¸¸",slug:"èªå®ä¹å¼å¸¸",normalizedTitle:"èªå®ä¹å¼å¸¸",charIndex:1841}],headersStr:"throwså£°æå¼å¸¸ throwæåºå¼å¸¸ try catch å¤ä¸ªcatch ææææå¼å¸¸ Exception errorä¸­çåé¨æ¹æ³ èªå®ä¹å¼å¸¸",content:'# å¼å¸¸\n\n\n# throwså£°æå¼å¸¸\n\nå¨æ¹æ³å®ä¹å¤ å£°æ è¦æè·çå¼å¸¸\n\nä½¿ç¨throwså³é®å­ å  å¼å¸¸å\n\npublic static void method() throws  NullPointerException{\n        int[] arr =null;\n        System.out.println(arr[2]);\n    }\n\n\n1\n2\n3\n4\n\n\nè¿è¡æ¶å¼å¸¸å¯ä»¥çç¥,ä½ç¼è¯æ¶å¼å¸¸ä¸è½çç¥å£°æ,å¦åä¸è½æ­£å¸¸æ§è¡\n\n\n# throwæåºå¼å¸¸\n\nä½¿ç¨ thorw new å³é®å­ å  å¼å¸¸ å¯ä»¥å¨ä»£ç åä¸­ç´æ¥æåºä¸ä¸ªå¼å¸¸\n\nSystem.out.println("æ¥ä¸æ¥è¦newä¸ä¸ªå¼å¸¸");\n        throw new NullPointerException();\n\n\n1\n2\n\n\n\n# try catch\n\ntry {\n            pringArr(arr);  // å¯è½ä¼åçå¼å¸¸çä»£ç å\n            System.out.println("åçå¼å¸¸åå¼å¸¸è¯­å¥tryåé¢çä»£ç ä¸ä¼ç»§ç»­æ§è¡");\n        } catch (NullPointerException a){\n            System.out.println("æè·å°å¼å¸¸");  // å¦ææè·å°å¼å¸¸æ§è¡çä»£ç å\n        }\n        System.out.println("æè·å°å¼å¸¸åå¹¶ä¸ä¼ç»æèææº");\n\n\n1\n2\n3\n4\n5\n6\n7\n\n\n\n# å¤ä¸ªcatch\n\ntry {\n            System.out.println(Integer.parseInt("123"));\n            System.out.println(2 / 0);\n            //catch å¯ä»¥æå¤ä¸ª ,ç¨æ¥æè·å¤ä¸ªå¼å¸¸\n        } catch (NumberFormatException err) {\n            System.out.println("æ ¼å¼åå¼å¸¸");\n        } catch (ArithmeticException err) {\n            System.out.println("æ°å­è¿ç®å¼å¸¸");\n        }\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n\n\nå¦æå¤ä¸ªå¼å¸¸ä¸­å­å¨å­ç¶ç±»,é£ä¹ç¶ç±»å¼å¸¸åºè¯¥åå¨æå,å ä¸ºå¦æåå¨æåé¢ä¼ææå°ææçå­ç±»å¼å¸¸,åé¢çå­ç±»å¼å¸¸è¯­å¥å¹¶æ²¡æä»»ä½ææ.\n\n\n# ææææå¼å¸¸ Exception\n\ntry {\n    System.out.println(Integer.parseInt("123"));\n    System.out.println(2 / 0);\n} catch (Exception err) {\n    System.out.println("ææææå¼å¸¸");\n    //ä¸æ¨èä½¿ç¨,å ä¸ºæä»¬æè·ä¸åå¼å¸¸å¯è½ä¼æä¸åçå¤çæ¹å¼\n} \n\n\n1\n2\n3\n4\n5\n6\n7\n\n\n\n# errorä¸­çåé¨æ¹æ³\n\n * getMessage() è¿åå¼å¸¸çä¿¡æ¯\n * toString() è¿åå¼å¸¸çç±»å åä¿¡æ¯\n * printStackTrace() å°å¼å¸¸ä¿¡æ¯ä»¥çº¢è²å­ä½åç°å¨æ§å¶å°ä¸­,ä¸é»è®¤å¼å¸¸æ¥éä¸å,è¿äºæ¹æ³å¹¶ä¸ä¼ç»æèææº\n\ntry {\n    int[] arr ={1,2,3,4};\n    System.out.println(arr[10]);\n} catch (ArrayIndexOutOfBoundsException e) {\n    String message = e.getMessage();  // è¿åå¼å¸¸çä¿¡æ¯\n    System.out.println(message);\n\n    String s = e.toString();  //è¿åå¼å¸¸çç±»å åä¿¡æ¯\n    System.out.println(s);\n\n    e.printStackTrace();   // å°å¼å¸¸ä¿¡æ¯ä»¥çº¢è²å­ä½åç°å¨æ§å¶å°ä¸­,ä¸é»è®¤å¼å¸¸æ¥éä¸å,è¿äºæ¹æ³å¹¶ä¸ä¼ç»æèææº\n    System.out.println("123");\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n\n\n\n# èªå®ä¹å¼å¸¸\n\nèªå®ä¹å¼å¸¸ åªéè¦ç»äºä¸ä¸ª æ åæé æ¹æ³ å å¸¦åæé æ¹æ³ å¹¶ä¸ç»§æ¿è¿è¡æ¶å¼å¸¸æç¼è¯æ¶å¼å¸¸å³å¯\n\npublic class AgeOutofBoundsException extends RuntimeException {\n        public AgeOutofBoundsException() {\n\n        }\n\n        public AgeOutofBoundsException(String message) {\n            super(message);\n        }\n    }\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n',normalizedContent:'# å¼å¸¸\n\n\n# throwså£°æå¼å¸¸\n\nå¨æ¹æ³å®ä¹å¤ å£°æ è¦æè·çå¼å¸¸\n\nä½¿ç¨throwså³é®å­ å  å¼å¸¸å\n\npublic static void method() throws  nullpointerexception{\n        int[] arr =null;\n        system.out.println(arr[2]);\n    }\n\n\n1\n2\n3\n4\n\n\nè¿è¡æ¶å¼å¸¸å¯ä»¥çç¥,ä½ç¼è¯æ¶å¼å¸¸ä¸è½çç¥å£°æ,å¦åä¸è½æ­£å¸¸æ§è¡\n\n\n# throwæåºå¼å¸¸\n\nä½¿ç¨ thorw new å³é®å­ å  å¼å¸¸ å¯ä»¥å¨ä»£ç åä¸­ç´æ¥æåºä¸ä¸ªå¼å¸¸\n\nsystem.out.println("æ¥ä¸æ¥è¦newä¸ä¸ªå¼å¸¸");\n        throw new nullpointerexception();\n\n\n1\n2\n\n\n\n# try catch\n\ntry {\n            pringarr(arr);  // å¯è½ä¼åçå¼å¸¸çä»£ç å\n            system.out.println("åçå¼å¸¸åå¼å¸¸è¯­å¥tryåé¢çä»£ç ä¸ä¼ç»§ç»­æ§è¡");\n        } catch (nullpointerexception a){\n            system.out.println("æè·å°å¼å¸¸");  // å¦ææè·å°å¼å¸¸æ§è¡çä»£ç å\n        }\n        system.out.println("æè·å°å¼å¸¸åå¹¶ä¸ä¼ç»æèææº");\n\n\n1\n2\n3\n4\n5\n6\n7\n\n\n\n# å¤ä¸ªcatch\n\ntry {\n            system.out.println(integer.parseint("123"));\n            system.out.println(2 / 0);\n            //catch å¯ä»¥æå¤ä¸ª ,ç¨æ¥æè·å¤ä¸ªå¼å¸¸\n        } catch (numberformatexception err) {\n            system.out.println("æ ¼å¼åå¼å¸¸");\n        } catch (arithmeticexception err) {\n            system.out.println("æ°å­è¿ç®å¼å¸¸");\n        }\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n\n\nå¦æå¤ä¸ªå¼å¸¸ä¸­å­å¨å­ç¶ç±»,é£ä¹ç¶ç±»å¼å¸¸åºè¯¥åå¨æå,å ä¸ºå¦æåå¨æåé¢ä¼ææå°ææçå­ç±»å¼å¸¸,åé¢çå­ç±»å¼å¸¸è¯­å¥å¹¶æ²¡æä»»ä½ææ.\n\n\n# ææææå¼å¸¸ exception\n\ntry {\n    system.out.println(integer.parseint("123"));\n    system.out.println(2 / 0);\n} catch (exception err) {\n    system.out.println("ææææå¼å¸¸");\n    //ä¸æ¨èä½¿ç¨,å ä¸ºæä»¬æè·ä¸åå¼å¸¸å¯è½ä¼æä¸åçå¤çæ¹å¼\n} \n\n\n1\n2\n3\n4\n5\n6\n7\n\n\n\n# errorä¸­çåé¨æ¹æ³\n\n * getmessage() è¿åå¼å¸¸çä¿¡æ¯\n * tostring() è¿åå¼å¸¸çç±»å åä¿¡æ¯\n * printstacktrace() å°å¼å¸¸ä¿¡æ¯ä»¥çº¢è²å­ä½åç°å¨æ§å¶å°ä¸­,ä¸é»è®¤å¼å¸¸æ¥éä¸å,è¿äºæ¹æ³å¹¶ä¸ä¼ç»æèææº\n\ntry {\n    int[] arr ={1,2,3,4};\n    system.out.println(arr[10]);\n} catch (arrayindexoutofboundsexception e) {\n    string message = e.getmessage();  // è¿åå¼å¸¸çä¿¡æ¯\n    system.out.println(message);\n\n    string s = e.tostring();  //è¿åå¼å¸¸çç±»å åä¿¡æ¯\n    system.out.println(s);\n\n    e.printstacktrace();   // å°å¼å¸¸ä¿¡æ¯ä»¥çº¢è²å­ä½åç°å¨æ§å¶å°ä¸­,ä¸é»è®¤å¼å¸¸æ¥éä¸å,è¿äºæ¹æ³å¹¶ä¸ä¼ç»æèææº\n    system.out.println("123");\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n\n\n\n# èªå®ä¹å¼å¸¸\n\nèªå®ä¹å¼å¸¸ åªéè¦ç»äºä¸ä¸ª æ åæé æ¹æ³ å å¸¦åæé æ¹æ³ å¹¶ä¸ç»§æ¿è¿è¡æ¶å¼å¸¸æç¼è¯æ¶å¼å¸¸å³å¯\n\npublic class ageoutofboundsexception extends runtimeexception {\n        public ageoutofboundsexception() {\n\n        }\n\n        public ageoutofboundsexception(string message) {\n            super(message);\n        }\n    }\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n',charsets:{cjk:!0},lastUpdated:"2022/03/18, 07:01:11",lastUpdatedTimestamp:1647558071e3},{title:"éå",frontmatter:{title:"éå",date:"2022-03-18T00:48:38.000Z",permalink:"/pages/f58543/",categories:["åç«¯","Java"],tags:[null]},regularPath:"/%E5%90%8E%E7%AB%AF/01.JavaSE/45.%E9%9B%86%E5%90%88.html",relativePath:"åç«¯/01.JavaSE/45.éå.md",key:"v-61452fab",path:"/pages/f58543/",headers:[{level:2,title:"collectio",slug:"collectio",normalizedTitle:"collectio",charIndex:9},{level:3,title:"removeIf",slug:"removeif",normalizedTitle:"removeif",charIndex:23},{level:2,title:"è¿­ä»£å¨",slug:"è¿­ä»£å¨",normalizedTitle:"è¿­ä»£å¨",charIndex:375},{level:3,title:"iterator()",slug:"iterator",normalizedTitle:"iterator()",charIndex:383},{level:3,title:"hasNext()",slug:"hasnext",normalizedTitle:"hasnext()",charIndex:456},{level:3,title:"next()",slug:"next",normalizedTitle:"next()",charIndex:507},{level:2,title:"å¢å¼ºforå¾ªç¯",slug:"å¢å¼ºforå¾ªç¯",normalizedTitle:"å¢å¼ºforå¾ªç¯",charIndex:626},{level:2,title:"List",slug:"list",normalizedTitle:"list",charIndex:139},{level:2,title:"ååé¾è¡¨",slug:"ååé¾è¡¨",normalizedTitle:"ååé¾è¡¨",charIndex:855},{level:2,title:"ååé¾è¡¨",slug:"ååé¾è¡¨",normalizedTitle:"ååé¾è¡¨",charIndex:1051},{level:2,title:"ArrayList æºç ",slug:"arraylist-æºç ",normalizedTitle:"arraylist æºç ",charIndex:1167},{level:3,title:"éåArrayList",slug:"éåarraylist",normalizedTitle:"éåarraylist",charIndex:1380}],headersStr:"collectio removeIf è¿­ä»£å¨ iterator() hasNext() next() å¢å¼ºforå¾ªç¯ List ååé¾è¡¨ ååé¾è¡¨ ArrayList æºç  éåArrayList",content:'# éå\n\n\n# collectio\n\n\n# removeIf\n\nremoveIf()æ¹æ³åºå±ä¼éåéå,å¾å°éåä¸­çæ¯ä¸ä¸ªåç´ \n\nå¦æè¿åä¸ä¸ªtrueåå é¤è¯¥ä¼ å¥çåç´ å é¤\n\nå¯ä»¥ä½¿ç¨lambdaå½æ°\n\nCollection<String> array = new ArrayList<>();\n        array.add("aaa");\n        array.add("bbb");\n        array.add("cccc");\n        array.removeIf(\n                (String s) ->\n                        s.length() == 3\n                \n        );\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n\n\n\n# è¿­ä»£å¨\n\n\n# iterator()\n\nè¿åéåä¸­çè¿­ä»£å¨å¯¹è±¡\n\nIterator<String> it = list.iterator();\n\n\n1\n\n\n\n# hasNext()\n\nå¤æ­å½åä½ç½®æ¯å¦æåç´ å¯è¢«ååº\n\næè¿åtrue æ²¡æåè¿åfalse\n\n\n# next()\n\nå°è¿­ä»£å¨å¯¹è±¡æåä¸ä¸ä¸ªåç´ ,å¹¶è¿åå½ååç´ \n\nwhile (it.hasNext()){\n            System.out.println(it.next());\n        }\n\n\n1\n2\n3\n\n\n\n# å¢å¼ºforå¾ªç¯\n\nææç(Collection)ååéåé½å¯ä»¥ä½¿ç¨è¿­ä»£å¨æå¢å¼ºfor,ååéåæ æ³ä½¿ç¨\n\nfor(String s : list){\n    System.out.println(s);\n}\n\n\n1\n2\n3\n\n\n\n# List\n\næ¥è¯¢æ°æ®,æ°ç»éè¿å°åå¼åç´¢å¼å®ä½åç´ ,æ¥è¯¢ä»»ææ°æ®èæ¶ç¸å,æ¥è¯¢éåº¦å¿«\n\nå é¤æ°æ®,è¦å°è¢«å æ°æ®å é¤,åæ¶åé¢ä¸ªæ¯ä¸ªæ°æ®åç§»,å é¤æçä½\n\næ·»å æ°æ®,æ·»å ä½ç½®åçæ¯ä¸ªæ°æ®åç§»,åæ·»å åç´ ,æ·»å æçæä½\n\n\n# ååé¾è¡¨\n\né¾è¡¨éè¿æ¯ä¸ªç»ç¹(åç´ )æåä¸ä¸ä¸ªç»ç¹çå°åå¼æ¥å½¢æé¾è¡¨,å¦åªæ1ä¸ªç»ç¹åè¯¥ç»ç¹çæåå°åä¸ºç©º(ç»æç»ç¹)\n\næ¥è¯¢æ°æ®,(æ è®ºæ¥è¯¢æ¯ä½ç½®è¿æ¯åç´ )åªè½ä»å¤´ç»ç¹ä¸ç´æ¥è¯¢å°è¢«æ¥ç»ç¹,æ¥è¯¢æçæ¢\n\nå é¤æ°æ®,åªéè¦ä¿®æ¹è¢«å é¤ç»ç¹åä¸ä¸ªç»ç¹çæåå°åä¸ºè¢«å ç»ç¹çåä¸ä¸ªç»ç¹å³å¯.å é¤æçå¿«\n\næ·»å æ°æ®,æ·»å ç»ç¹ä¸å é¤ç»ç¹ç±»å,åªéå¨æ·»å ä½ç½®æ´æ¹ååç»ç¹çæåå°åå³å¯.æ·»å æçå¿«\n\n\n# ååé¾è¡¨\n\nååé¾è¡¨æ¯ä¸ªç»ç¹åªå­å¨ å¼åä¸ä¸ä¸ªç»ç¹çå°å.\n\nèååä¿ç3ä¸ªæ°æ®,åå«ä¸º,åä¸ä¸ªç»ç¹çå°å å¼ ä¸ä¸ä¸ªç»ç¹çå°å.è¿æ ·æä»¬å¯ä»¥ä»åæ¾å°åæä»åæ¾å°å.æ¥è¯¢ä½ç½®çæ¶åä¼å¤æ­ç¦»å¤´ç»ç¹è¿è¿æ¯å°¾ç»ç¹è¿æ¥è¿è¡é¾è¡¨æ¥è¯¢\n\n\n# ArrayList æºç \n\né»è®¤ç©ºåæé æ¹æ³ æ¯åå»ºä¸ä¸ªé¿åº¦ä¸º0çæ°ç»\n\nå½è°ç¨addæ¹æ³ä¼æé¿åº¦ä¸º0çArrayListåå§åä¸ºé¿åº¦ä¸º10,å¹¶ä¸é½ä¸ºnull, æºç æ¹æ³åä¸ºelementData\n\nå¹¶ä¸ä¼æä¸ä¸ªåésize æ è®°å½åæ°ç»åç´ é¿åº¦\n\nå¦æsizeè¶åºäºé»è®¤é¿åº¦10æèå½åæ°ç»é¿åº¦,åä¼èªå¨æ©å®¹,æ©å®¹ä¸ºå½åæ°ç»é¿åº¦1.5åçå¤§å°,æ©å®¹åçæ°ç»ä¸ºç©º,æåæ¥çæ°ç»æ·è´å°æ°çæ°ç»ä¸­,å¹¶ä¸sizeä¿æä¸å.\n\n\n# éåArrayList\n\nArrayListä¸­æä¾äºsizeæ¹æ³,ç´æ¥è¿åå½åsize(å³ä¸ºæåä¸ä¸ªåç´ çä¸æ ),èä¸æ¯è¿åArrayListçé¿åº¦',normalizedContent:'# éå\n\n\n# collectio\n\n\n# removeif\n\nremoveif()æ¹æ³åºå±ä¼éåéå,å¾å°éåä¸­çæ¯ä¸ä¸ªåç´ \n\nå¦æè¿åä¸ä¸ªtrueåå é¤è¯¥ä¼ å¥çåç´ å é¤\n\nå¯ä»¥ä½¿ç¨lambdaå½æ°\n\ncollection<string> array = new arraylist<>();\n        array.add("aaa");\n        array.add("bbb");\n        array.add("cccc");\n        array.removeif(\n                (string s) ->\n                        s.length() == 3\n                \n        );\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n\n\n\n# è¿­ä»£å¨\n\n\n# iterator()\n\nè¿åéåä¸­çè¿­ä»£å¨å¯¹è±¡\n\niterator<string> it = list.iterator();\n\n\n1\n\n\n\n# hasnext()\n\nå¤æ­å½åä½ç½®æ¯å¦æåç´ å¯è¢«ååº\n\næè¿åtrue æ²¡æåè¿åfalse\n\n\n# next()\n\nå°è¿­ä»£å¨å¯¹è±¡æåä¸ä¸ä¸ªåç´ ,å¹¶è¿åå½ååç´ \n\nwhile (it.hasnext()){\n            system.out.println(it.next());\n        }\n\n\n1\n2\n3\n\n\n\n# å¢å¼ºforå¾ªç¯\n\nææç(collection)ååéåé½å¯ä»¥ä½¿ç¨è¿­ä»£å¨æå¢å¼ºfor,ååéåæ æ³ä½¿ç¨\n\nfor(string s : list){\n    system.out.println(s);\n}\n\n\n1\n2\n3\n\n\n\n# list\n\næ¥è¯¢æ°æ®,æ°ç»éè¿å°åå¼åç´¢å¼å®ä½åç´ ,æ¥è¯¢ä»»ææ°æ®èæ¶ç¸å,æ¥è¯¢éåº¦å¿«\n\nå é¤æ°æ®,è¦å°è¢«å æ°æ®å é¤,åæ¶åé¢ä¸ªæ¯ä¸ªæ°æ®åç§»,å é¤æçä½\n\næ·»å æ°æ®,æ·»å ä½ç½®åçæ¯ä¸ªæ°æ®åç§»,åæ·»å åç´ ,æ·»å æçæä½\n\n\n# ååé¾è¡¨\n\né¾è¡¨éè¿æ¯ä¸ªç»ç¹(åç´ )æåä¸ä¸ä¸ªç»ç¹çå°åå¼æ¥å½¢æé¾è¡¨,å¦åªæ1ä¸ªç»ç¹åè¯¥ç»ç¹çæåå°åä¸ºç©º(ç»æç»ç¹)\n\næ¥è¯¢æ°æ®,(æ è®ºæ¥è¯¢æ¯ä½ç½®è¿æ¯åç´ )åªè½ä»å¤´ç»ç¹ä¸ç´æ¥è¯¢å°è¢«æ¥ç»ç¹,æ¥è¯¢æçæ¢\n\nå é¤æ°æ®,åªéè¦ä¿®æ¹è¢«å é¤ç»ç¹åä¸ä¸ªç»ç¹çæåå°åä¸ºè¢«å ç»ç¹çåä¸ä¸ªç»ç¹å³å¯.å é¤æçå¿«\n\næ·»å æ°æ®,æ·»å ç»ç¹ä¸å é¤ç»ç¹ç±»å,åªéå¨æ·»å ä½ç½®æ´æ¹ååç»ç¹çæåå°åå³å¯.æ·»å æçå¿«\n\n\n# ååé¾è¡¨\n\nååé¾è¡¨æ¯ä¸ªç»ç¹åªå­å¨ å¼åä¸ä¸ä¸ªç»ç¹çå°å.\n\nèååä¿ç3ä¸ªæ°æ®,åå«ä¸º,åä¸ä¸ªç»ç¹çå°å å¼ ä¸ä¸ä¸ªç»ç¹çå°å.è¿æ ·æä»¬å¯ä»¥ä»åæ¾å°åæä»åæ¾å°å.æ¥è¯¢ä½ç½®çæ¶åä¼å¤æ­ç¦»å¤´ç»ç¹è¿è¿æ¯å°¾ç»ç¹è¿æ¥è¿è¡é¾è¡¨æ¥è¯¢\n\n\n# arraylist æºç \n\né»è®¤ç©ºåæé æ¹æ³ æ¯åå»ºä¸ä¸ªé¿åº¦ä¸º0çæ°ç»\n\nå½è°ç¨addæ¹æ³ä¼æé¿åº¦ä¸º0çarrayliståå§åä¸ºé¿åº¦ä¸º10,å¹¶ä¸é½ä¸ºnull, æºç æ¹æ³åä¸ºelementdata\n\nå¹¶ä¸ä¼æä¸ä¸ªåésize æ è®°å½åæ°ç»åç´ é¿åº¦\n\nå¦æsizeè¶åºäºé»è®¤é¿åº¦10æèå½åæ°ç»é¿åº¦,åä¼èªå¨æ©å®¹,æ©å®¹ä¸ºå½åæ°ç»é¿åº¦1.5åçå¤§å°,æ©å®¹åçæ°ç»ä¸ºç©º,æåæ¥çæ°ç»æ·è´å°æ°çæ°ç»ä¸­,å¹¶ä¸sizeä¿æä¸å.\n\n\n# éåarraylist\n\narraylistä¸­æä¾äºsizeæ¹æ³,ç´æ¥è¿åå½åsize(å³ä¸ºæåä¸ä¸ªåç´ çä¸æ ),èä¸æ¯è¿åarraylistçé¿åº¦',charsets:{cjk:!0},lastUpdated:"2022/03/18, 07:01:11",lastUpdatedTimestamp:1647558071e3},{title:"ç±»åä½ä¸ºå½¢ååè¿åå¼",frontmatter:{title:"ç±»åä½ä¸ºå½¢ååè¿åå¼",date:"2022-03-18T00:48:38.000Z",permalink:"/pages/384827/",categories:["åç«¯","Java"],tags:[null]},regularPath:"/%E5%90%8E%E7%AB%AF/01.JavaSE/41.%E7%B1%BB%E5%90%8D%E4%BD%9C%E4%B8%BA%E5%BD%A2%E5%8F%82%E5%92%8C%E8%BF%94%E5%9B%9E%E5%80%BC.html",relativePath:"åç«¯/01.JavaSE/41.ç±»åä½ä¸ºå½¢ååè¿åå¼.md",key:"v-44cc2c9e",path:"/pages/384827/",headers:[{level:2,title:"æ½è±¡ç±»ä½ä¸ºå½¢ååè¿åå¼",slug:"æ½è±¡ç±»ä½ä¸ºå½¢ååè¿åå¼",normalizedTitle:"æ½è±¡ç±»ä½ä¸ºå½¢ååè¿åå¼",charIndex:64},{level:2,title:"æ¥å£ä½ä¸ºå½¢ååè¿åå¼",slug:"æ¥å£ä½ä¸ºå½¢ååè¿åå¼",normalizedTitle:"æ¥å£ä½ä¸ºå½¢ååè¿åå¼",charIndex:108}],headersStr:"æ½è±¡ç±»ä½ä¸ºå½¢ååè¿åå¼ æ¥å£ä½ä¸ºå½¢ååè¿åå¼",content:"# ç±»åä½ä¸ºå½¢ååè¿åå¼\n\nå½¢åä¸ºç±»åæ¶ åéè¦ä¼ éä¸ä¸ªå®ä¾åçå¯¹è±¡\n\nè¿åå¼ä¸ºç±»åæ¶ åreturnä¸ä¸ªå®ä¾åçå¯¹è±¡\n\n\n# æ½è±¡ç±»ä½ä¸ºå½¢ååè¿åå¼\n\næ½è±¡ç±»éè¦ç¨å¤æå½¢å¼åå»ºå¯¹è±¡ æè½ä¼ å\n\nè¿åå¼ä¸è´\n\n\n# æ¥å£ä½ä¸ºå½¢ååè¿åå¼\n\néè¦éåæ¥å£çæ¹æ³ å¹¶ä»¥å¤æå½¢å¼ ä¼ å\n\nè¿åå¼ä¸è´",normalizedContent:"# ç±»åä½ä¸ºå½¢ååè¿åå¼\n\nå½¢åä¸ºç±»åæ¶ åéè¦ä¼ éä¸ä¸ªå®ä¾åçå¯¹è±¡\n\nè¿åå¼ä¸ºç±»åæ¶ åreturnä¸ä¸ªå®ä¾åçå¯¹è±¡\n\n\n# æ½è±¡ç±»ä½ä¸ºå½¢ååè¿åå¼\n\næ½è±¡ç±»éè¦ç¨å¤æå½¢å¼åå»ºå¯¹è±¡ æè½ä¼ å\n\nè¿åå¼ä¸è´\n\n\n# æ¥å£ä½ä¸ºå½¢ååè¿åå¼\n\néè¦éåæ¥å£çæ¹æ³ å¹¶ä»¥å¤æå½¢å¼ ä¼ å\n\nè¿åå¼ä¸è´",charsets:{cjk:!0},lastUpdated:"2022/03/18, 07:01:11",lastUpdatedTimestamp:1647558071e3},{title:"Setéå",frontmatter:{title:"Setéå",date:"2022-03-18T00:48:38.000Z",permalink:"/pages/5137f9/",categories:["åç«¯","Java"],tags:[null]},regularPath:"/%E5%90%8E%E7%AB%AF/01.JavaSE/47.Set%E9%9B%86%E5%90%88.html",relativePath:"åç«¯/01.JavaSE/47.Setéå.md",key:"v-83d6ea7a",path:"/pages/5137f9/",headers:[{level:2,title:"treesetéå",slug:"treesetéå",normalizedTitle:"treesetéå",charIndex:49},{level:2,title:"èªç¶æåºComparableçä½¿ç¨",slug:"èªç¶æåºcomparableçä½¿ç¨",normalizedTitle:"èªç¶æåºcomparableçä½¿ç¨",charIndex:133},{level:2,title:"æ¯è¾å¨æåº Comparatorä½¿ç¨",slug:"æ¯è¾å¨æåº-comparatorä½¿ç¨",normalizedTitle:"æ¯è¾å¨æåº comparatorä½¿ç¨",charIndex:550}],headersStr:"treesetéå èªç¶æåºComparableçä½¿ç¨ æ¯è¾å¨æåº Comparatorä½¿ç¨",content:"# Setéå\n\nSetçç¹ç¹:\n\n 1. å»é¤éå¤\n 2. å­å¨æ åº\n 3. æ²¡æç´¢å¼\n\n\n# treesetéå\n\nå¯ä»¥å°åç´ æç§è§åè¿è¡æåº,å¹¶ä¸æ¥æsetçç¹å¾\n\næ³è¦ä½¿ç¨èªå®ä¹ç±»åå¹¶ä¿å­å°treesetå¿é¡»æå®æåºè§å,å¦åæ æ³ä½¿ç¨treeset\n\n\n# èªç¶æåºComparableçä½¿ç¨\n\n 1. å¦æè¿åå¼ä¸ºè´æ°,è¡¨ç¤ºå½åå­å¥åç´ æ¯è¾å°å¼,å­å·¦è¾¹\n 2. å¦æè¿åå¼ä¸º0,è¡¨ç¤ºä¸å½ååç´ éå¤äº,ä¸å­å¨\n 3. å¦æè¿åå¼ä¸ºæ­£æ°,è¡¨ç¤ºå½åæ¯è¾å¤§å¼,å­å³è¾¹\n\nTreesetçæ åæé æ¹æ³ä½¿ç¨çæ¯èªç¶æåºå¯¹åç´ è¿è¡æåº\n\nèªå®ä¹ç±»å¿é¡»ç»§æ¿Comparableæ¥å£ æ³åä¸ºèªå®ä¹ç±»,éåæ¥å£ä¸­çcompareToæ¹æ³ è¿åä¸ä¸ªintç±»å\n\npublic class Student  implements Comparable<Student>{\n  private int age;\n\n@Override\n    public int compareTo(Student o) {\n        // this ä¸ºå½åå­å¨çåç´   oä¸ºå·²å­å¨éåä¸­çåç´ \n        return this.age- o.age;\n    }\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n\n\n\n# æ¯è¾å¨æåº Comparatorä½¿ç¨\n\nTreesetçå¸¦åæé æ¹æ³ä½¿ç¨çæ¯è¾å¨æåºå¯¹åç´ è¿è¡æåº\n\nTreeSet<Student> ts = new TreeSet<>(new Comparator<Student>() {\n    @Override\n    public int compare(Student o1, Student o2) {\n        // o1ä¸ºå½åå°è¦å­å¥çåç´   o2ä¸ºéåä¸­çåç´ \n        return o1.getAge() - o2.getAge();\n    }\n});\n\n\n//å¯ä»¥åælambdaè¡¨è¾¾å¼\nTreeSet<Student> ts2 = new TreeSet<>((o1, o2) -> {\n            return o1.getAge() - o2.getAge();\n        });\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n",normalizedContent:"# setéå\n\nsetçç¹ç¹:\n\n 1. å»é¤éå¤\n 2. å­å¨æ åº\n 3. æ²¡æç´¢å¼\n\n\n# treesetéå\n\nå¯ä»¥å°åç´ æç§è§åè¿è¡æåº,å¹¶ä¸æ¥æsetçç¹å¾\n\næ³è¦ä½¿ç¨èªå®ä¹ç±»åå¹¶ä¿å­å°treesetå¿é¡»æå®æåºè§å,å¦åæ æ³ä½¿ç¨treeset\n\n\n# èªç¶æåºcomparableçä½¿ç¨\n\n 1. å¦æè¿åå¼ä¸ºè´æ°,è¡¨ç¤ºå½åå­å¥åç´ æ¯è¾å°å¼,å­å·¦è¾¹\n 2. å¦æè¿åå¼ä¸º0,è¡¨ç¤ºä¸å½ååç´ éå¤äº,ä¸å­å¨\n 3. å¦æè¿åå¼ä¸ºæ­£æ°,è¡¨ç¤ºå½åæ¯è¾å¤§å¼,å­å³è¾¹\n\ntreesetçæ åæé æ¹æ³ä½¿ç¨çæ¯èªç¶æåºå¯¹åç´ è¿è¡æåº\n\nèªå®ä¹ç±»å¿é¡»ç»§æ¿comparableæ¥å£ æ³åä¸ºèªå®ä¹ç±»,éåæ¥å£ä¸­çcomparetoæ¹æ³ è¿åä¸ä¸ªintç±»å\n\npublic class student  implements comparable<student>{\n  private int age;\n\n@override\n    public int compareto(student o) {\n        // this ä¸ºå½åå­å¨çåç´   oä¸ºå·²å­å¨éåä¸­çåç´ \n        return this.age- o.age;\n    }\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n\n\n\n# æ¯è¾å¨æåº comparatorä½¿ç¨\n\ntreesetçå¸¦åæé æ¹æ³ä½¿ç¨çæ¯è¾å¨æåºå¯¹åç´ è¿è¡æåº\n\ntreeset<student> ts = new treeset<>(new comparator<student>() {\n    @override\n    public int compare(student o1, student o2) {\n        // o1ä¸ºå½åå°è¦å­å¥çåç´   o2ä¸ºéåä¸­çåç´ \n        return o1.getage() - o2.getage();\n    }\n});\n\n\n//å¯ä»¥åælambdaè¡¨è¾¾å¼\ntreeset<student> ts2 = new treeset<>((o1, o2) -> {\n            return o1.getage() - o2.getage();\n        });\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n",charsets:{cjk:!0},lastUpdated:"2022/03/18, 07:01:11",lastUpdatedTimestamp:1647558071e3},{title:"æ ",frontmatter:{title:"æ ",date:"2022-03-18T00:48:39.000Z",permalink:"/pages/6e8f69/",categories:["åç«¯","Java"],tags:[null]},regularPath:"/%E5%90%8E%E7%AB%AF/01.JavaSE/48.%E6%A0%91.html",relativePath:"åç«¯/01.JavaSE/48.æ .md",key:"v-1bb60fa3",path:"/pages/6e8f69/",headers:[{level:2,title:"äºåæ ",slug:"äºåæ ",normalizedTitle:"äºåæ ",charIndex:8},{level:2,title:"äºåæ¥æ¾æ ",slug:"äºåæ¥æ¾æ ",normalizedTitle:"äºåæ¥æ¾æ ",charIndex:107},{level:3,title:"æ·»å èç¹",slug:"æ·»å èç¹",normalizedTitle:"æ·»å èç¹",charIndex:216},{level:2,title:"å¹³è¡¡äºåæ ",slug:"å¹³è¡¡äºåæ ",normalizedTitle:"å¹³è¡¡äºåæ ",charIndex:291},{level:3,title:"å·¦æ",slug:"å·¦æ",normalizedTitle:"å·¦æ",charIndex:347},{level:3,title:"å³æ",slug:"å³æ",normalizedTitle:"å³æ",charIndex:599},{level:2,title:"çº¢é»æ ",slug:"çº¢é»æ ",normalizedTitle:"çº¢é»æ ",charIndex:946},{level:3,title:"çº¢é»è§å",slug:"çº¢é»è§å",normalizedTitle:"çº¢é»è§å",charIndex:1031},{level:3,title:"æ·»å èç¹",slug:"æ·»å èç¹-2",normalizedTitle:"æ·»å èç¹",charIndex:216},{level:3,title:"æ»ç»",slug:"æ»ç»",normalizedTitle:"æ»ç»",charIndex:1590}],headersStr:"äºåæ  äºåæ¥æ¾æ  æ·»å èç¹ å¹³è¡¡äºåæ  å·¦æ å³æ çº¢é»æ  çº¢é»è§å æ·»å èç¹ æ»ç»",content:'# æ \n\n\n# äºåæ \n\næ¯ä¸ªä¸ªèç¹å­æ¾4ä¸ªå±æ§åå«ä¸º ç¶èç¹å°å å¼ å·¦å­èç¹å°å å³å­èç¹å°å\n\nåº¦: æ¯ä¸ªèç¹çå­èç¹æ°é å·¦å³å­èç¹çæ»æ°\n\nå¨äºåæ ä¸­,ä»»æä¸ä¸ªèç¹çåº¦è¦å°äºç­äº2\n\næ¥æ¾æçæ¢\n\n\n# äºåæ¥æ¾æ \n\näºåæ¥æ¾æ ,åç§°äºåæåºæ æäºåæç´¢æ \n\nç¹ç¹:\n\n 1. æ¯ä¸ªèç¹æå¤æä¸¤ä¸ªå­èç¹\n 2. æ¯ä¸ªèç¹çå·¦å­ç»ç¹é½æ¯å°äºèªèº«ç\n 3. æ¯ä¸ªèç¹çå³å­ç»ç¹é½æ¯å¤§äºèªèº«ç\n\næ¥æ¾æçæ¯æ®éäºåæ å¿«\n\n\n# æ·»å èç¹\n\nè§å:\n\n 1. å°çå­å·¦è¾¹\n 2. å¤§çå­å³è¾¹\n 3. ä¸æ ·çä¸å­\n\né¦åä¸æ ¹èç¹åæ¯è¾,åéå±æ¯è¾\n\næ¥è¯¢æçæ¯äºåæ¥æ¾æ å¿«\n\n\n# å¹³è¡¡äºåæ \n\n * äºåæ å·¦å³ä¸¤ä¸ªå­æ çé«åº¦å·®ä¸è¶è¿1\n * ä»»æèç¹çå·¦å³ä¸¤ä¸ªå­æ é½æ¯ä¸é¢å¹³è¡¡äºåæ \n\n\n# å·¦æ\n\nå½æ·»å ä¸ä¸ªèç¹ç ´åäºå¹³è¡¡äºåæ è§åæ¶,å¹¶ä¸æ¯æ·»å å¨æ ¹èç¹å³è¾¹,æä»¬å¯ä»¥éè¿å·¦ææ¥æ¢å¤å¹³è¡¡äºåæ .\n\nåªéè¦ææ ¹èç¹åå·¦ä¸æ¹ææ¯,å¹¶ä¸è¿æ¥çææèç¹è·çç§»å¨å³å¯.\n\nå½æ·»å 12èç¹æ¶ç ´åäºå¹³è¡¡äºåæ äº\n\n\n\næä»¬éè¿å·¦ææ¥æ¢å¤å¹³è¡¡,ææ ¹èç¹çå³å­èç¹å¾ä¸æ\n\n\n\n# å¦æè¢«æçº§çèç¹å·²æå·¦èç¹\n\n\n\nåå¿½ç¥å·¦å­èç¹å­å¨,åæçº§,ç¶åæ¾ç½®å¨ååçæ ¹èç¹çå³å­èç¹\n\n\n\nå·¦æ:å°±æ¯å°æ ¹èç¹çå³ä¾§å¾å·¦æ,ååçå³å­èç¹åææ°çç¶èç¹,å¹¶æå¤ä½çå·¦å­èç¹åºè®©,ç»å·²ç»éçº§çæ ¹èç¹å½å³å­èç¹\n\n\n\n\n# å³æ\n\n\n\nå³æ:å°æ ¹èç¹çå·¦ä¾§å¾å³æ,å·¦å­èç¹åæäºæ°çç¶èç¹,å¹¶æå¤ä½çå³å­èç¹åºè®©,ç»å·²ç»éçº§æ ¹èç¹å½å·¦å­èç¹\n\n# å·¦å·¦\n\nå½æ ¹èç¹å·¦å­æ çå·¦å­æ æèç¹æå¥,å¯¼è´äºåæ ä¸å¹³è¡¡\n\næä»¬åªéè¦å°æ­¤äºåæ å³ææ¢å¯\n\n\n\n# å³å³\n\nå½æ ¹èç¹å·¦å­æ çå³å­æ æèç¹æå¥,å¯¼è´äºåæ ä¸å¹³è¡¡\n\næä»¬åç°ååé ä¸æ¬¡çå³ææ¯æ æ³æ¢å¤å¹³è¡¡ç¶æ\n\n\n\n\n\næä»¬éè¦å°5å½ä¸ºæ ¹èç¹ å·¦æä¸æ¬¡\n\n\n\nåç±æ ¹èç¹7 å³æä¸æ¬¡\n\n\n\n# å³å³\n\nå½æ ¹èç¹å³å­æ çå³å­æ æèç¹æå¥,å¯¼è´äºåæ ä¸å¹³è¡¡\n\næä»¬åªéè¦å°æ­¤äºåæ å·¦ææ¢å¯\n\n\n\n# å³å·¦\n\nå½æ ¹èç¹å³å­æ çå·¦å­æ æèç¹æå¥,å¯¼è´äºåæ ä¸å¹³è¡¡\n\næä»¬åç°ååé ä¸æ¬¡çå·¦ææ¯æ æ³æ¢å¤å¹³è¡¡ç¶æ\n\n\n\næ10å½ä¸ºæ ¹èç¹,å³æä¸æ¬¡\n\n\n\nåä»¥æ ¹èç¹ å·¦æ\n\n\n\n\n# çº¢é»æ \n\nçº¢é»æ åç§°å¹³è¡¡äºåBæ \n\nå®æ¯ä¸ç§ç¹è²çäºåæ¥æ¾æ ,çº¢é»æ çæ¯ä¸ªèç¹ä¸é½æå­å¨ä½è¡¨ç¤ºèç¹çé¢è²\n\næ¯ä¸ä¸ªèç¹å¯ä»¥æ¯çº¢æé»;çº¢é»æ ä¸æ¯é«åº¦å¹³è¡¡ç,å®çå¹³è¡¡æ¯éè¿"çº¢é»è§å"è¿è¡å®ç°ç\n\nèå¹³è¡¡äºåæ æ¯é«åº¦å¹³è¡¡ç,å½å·¦å³å­æ é«åº¦å·®è¶è¿1æ¶åè§¦åæè½¬\n\nèçº¢é»æ æ¯æ ¹æ®å®äºççº¢é»è§åè§¦åæè½¬ç\n\n\n# çº¢é»è§å\n\n 1. æ¯ä¸ä¸ªèç¹ææ¯çº¢è²,æèæ¯é»è²\n 2. æ ¹èç¹å¿é¡»æ¯é»è²\n 3. å¦æä¸ä¸ªèç¹æ²¡æå­èç¹æèç¶èç¹,åè¯¥èç¹ç¸åºçæéå±æ§å¼ä¸ºNil,è¿äºNilè§ä¸ºå¶èç¹,æ¯ä¸ªå¶èç¹(Nil)æ¯é»è²ç\n 4. å¦ææä¸ªèç¹æ¯çº¢è²ç,é£ä¹å®çå­èç¹å¿é¡»æ¯é»è²(ä¸è½åºç°ä¸¤ä¸ªçº¢è²èç¹ç¸è¿çæåµ)\n 5. å¯¹æ¯ä¸ªèç¹,ä»è¯¥èç¹å°å¶ææåä»£èç¹çç®åè·¯å¾ä¸,ååå«ç¸åæ°ç®çé»è²èç¹\n\n\n# æ·»å èç¹\n\næ·»å èç¹æ¶,é»è®¤ä¸ºçº¢è²,æçæ¯ä¸ºé»è²è¦é«\n\nå¹¶éµå¾ªäºåæ¥æ¾æ çè§å\n\n# å½ç¶èç¹ä¹æ¯çº¢è²,ååèç¹ä¹æ¯çº¢è²\n\nå ä¸ºé»è®¤æ¯æ·»å çº¢è²,å¦æç¶èç¹ä¸ºçº¢è²,ååèç¹ä¹ä¸ºçº¢è²\n\n 1. ç¶èç¹æ¹ä¸ºé»è²\n 2. åå(ç¥ç¶èç¹çå·¦/å³å­èç¹)èç¹æ¹ä¸ºé»è²\n 3. å°ç¥ç¶èç¹æ¹ä¸ºçº¢è²\n 4. å¦æç¥ç¶èç¹ä¸ºæ ¹èç¹åéæ°ååé»è²\n\n# å½ç¶èç¹ä¹æ¯çº¢è²,ååèç¹æ¯é»è²\n\n 1. å°ç¶èç¹æ¹ä¸ºé»è²\n 2. å°ç¥ç¶èç¹æ¹ä¸ºçº¢è²\n 3. ä»¥ç¥ç¶èç¹ä¸ºæ¯ç¹è¿è¡æè½¬\n    * å·¦èç¹å¤§äºåå³æ\n    * å³èç¹å¤§äºåå·¦æ\n    * å¯ä»¥æNilåå¿½ç¥,æè½¬å®ååå åå¶èç¹,æ¯è¾å¥½çè§£\n\n\n# æ»ç»\n\n',normalizedContent:'# æ \n\n\n# äºåæ \n\næ¯ä¸ªä¸ªèç¹å­æ¾4ä¸ªå±æ§åå«ä¸º ç¶èç¹å°å å¼ å·¦å­èç¹å°å å³å­èç¹å°å\n\nåº¦: æ¯ä¸ªèç¹çå­èç¹æ°é å·¦å³å­èç¹çæ»æ°\n\nå¨äºåæ ä¸­,ä»»æä¸ä¸ªèç¹çåº¦è¦å°äºç­äº2\n\næ¥æ¾æçæ¢\n\n\n# äºåæ¥æ¾æ \n\näºåæ¥æ¾æ ,åç§°äºåæåºæ æäºåæç´¢æ \n\nç¹ç¹:\n\n 1. æ¯ä¸ªèç¹æå¤æä¸¤ä¸ªå­èç¹\n 2. æ¯ä¸ªèç¹çå·¦å­ç»ç¹é½æ¯å°äºèªèº«ç\n 3. æ¯ä¸ªèç¹çå³å­ç»ç¹é½æ¯å¤§äºèªèº«ç\n\næ¥æ¾æçæ¯æ®éäºåæ å¿«\n\n\n# æ·»å èç¹\n\nè§å:\n\n 1. å°çå­å·¦è¾¹\n 2. å¤§çå­å³è¾¹\n 3. ä¸æ ·çä¸å­\n\né¦åä¸æ ¹èç¹åæ¯è¾,åéå±æ¯è¾\n\næ¥è¯¢æçæ¯äºåæ¥æ¾æ å¿«\n\n\n# å¹³è¡¡äºåæ \n\n * äºåæ å·¦å³ä¸¤ä¸ªå­æ çé«åº¦å·®ä¸è¶è¿1\n * ä»»æèç¹çå·¦å³ä¸¤ä¸ªå­æ é½æ¯ä¸é¢å¹³è¡¡äºåæ \n\n\n# å·¦æ\n\nå½æ·»å ä¸ä¸ªèç¹ç ´åäºå¹³è¡¡äºåæ è§åæ¶,å¹¶ä¸æ¯æ·»å å¨æ ¹èç¹å³è¾¹,æä»¬å¯ä»¥éè¿å·¦ææ¥æ¢å¤å¹³è¡¡äºåæ .\n\nåªéè¦ææ ¹èç¹åå·¦ä¸æ¹ææ¯,å¹¶ä¸è¿æ¥çææèç¹è·çç§»å¨å³å¯.\n\nå½æ·»å 12èç¹æ¶ç ´åäºå¹³è¡¡äºåæ äº\n\n\n\næä»¬éè¿å·¦ææ¥æ¢å¤å¹³è¡¡,ææ ¹èç¹çå³å­èç¹å¾ä¸æ\n\n\n\n# å¦æè¢«æçº§çèç¹å·²æå·¦èç¹\n\n\n\nåå¿½ç¥å·¦å­èç¹å­å¨,åæçº§,ç¶åæ¾ç½®å¨ååçæ ¹èç¹çå³å­èç¹\n\n\n\nå·¦æ:å°±æ¯å°æ ¹èç¹çå³ä¾§å¾å·¦æ,ååçå³å­èç¹åææ°çç¶èç¹,å¹¶æå¤ä½çå·¦å­èç¹åºè®©,ç»å·²ç»éçº§çæ ¹èç¹å½å³å­èç¹\n\n\n\n\n# å³æ\n\n\n\nå³æ:å°æ ¹èç¹çå·¦ä¾§å¾å³æ,å·¦å­èç¹åæäºæ°çç¶èç¹,å¹¶æå¤ä½çå³å­èç¹åºè®©,ç»å·²ç»éçº§æ ¹èç¹å½å·¦å­èç¹\n\n# å·¦å·¦\n\nå½æ ¹èç¹å·¦å­æ çå·¦å­æ æèç¹æå¥,å¯¼è´äºåæ ä¸å¹³è¡¡\n\næä»¬åªéè¦å°æ­¤äºåæ å³ææ¢å¯\n\n\n\n# å³å³\n\nå½æ ¹èç¹å·¦å­æ çå³å­æ æèç¹æå¥,å¯¼è´äºåæ ä¸å¹³è¡¡\n\næä»¬åç°ååé ä¸æ¬¡çå³ææ¯æ æ³æ¢å¤å¹³è¡¡ç¶æ\n\n\n\n\n\næä»¬éè¦å°5å½ä¸ºæ ¹èç¹ å·¦æä¸æ¬¡\n\n\n\nåç±æ ¹èç¹7 å³æä¸æ¬¡\n\n\n\n# å³å³\n\nå½æ ¹èç¹å³å­æ çå³å­æ æèç¹æå¥,å¯¼è´äºåæ ä¸å¹³è¡¡\n\næä»¬åªéè¦å°æ­¤äºåæ å·¦ææ¢å¯\n\n\n\n# å³å·¦\n\nå½æ ¹èç¹å³å­æ çå·¦å­æ æèç¹æå¥,å¯¼è´äºåæ ä¸å¹³è¡¡\n\næä»¬åç°ååé ä¸æ¬¡çå·¦ææ¯æ æ³æ¢å¤å¹³è¡¡ç¶æ\n\n\n\næ10å½ä¸ºæ ¹èç¹,å³æä¸æ¬¡\n\n\n\nåä»¥æ ¹èç¹ å·¦æ\n\n\n\n\n# çº¢é»æ \n\nçº¢é»æ åç§°å¹³è¡¡äºåbæ \n\nå®æ¯ä¸ç§ç¹è²çäºåæ¥æ¾æ ,çº¢é»æ çæ¯ä¸ªèç¹ä¸é½æå­å¨ä½è¡¨ç¤ºèç¹çé¢è²\n\næ¯ä¸ä¸ªèç¹å¯ä»¥æ¯çº¢æé»;çº¢é»æ ä¸æ¯é«åº¦å¹³è¡¡ç,å®çå¹³è¡¡æ¯éè¿"çº¢é»è§å"è¿è¡å®ç°ç\n\nèå¹³è¡¡äºåæ æ¯é«åº¦å¹³è¡¡ç,å½å·¦å³å­æ é«åº¦å·®è¶è¿1æ¶åè§¦åæè½¬\n\nèçº¢é»æ æ¯æ ¹æ®å®äºççº¢é»è§åè§¦åæè½¬ç\n\n\n# çº¢é»è§å\n\n 1. æ¯ä¸ä¸ªèç¹ææ¯çº¢è²,æèæ¯é»è²\n 2. æ ¹èç¹å¿é¡»æ¯é»è²\n 3. å¦æä¸ä¸ªèç¹æ²¡æå­èç¹æèç¶èç¹,åè¯¥èç¹ç¸åºçæéå±æ§å¼ä¸ºnil,è¿äºnilè§ä¸ºå¶èç¹,æ¯ä¸ªå¶èç¹(nil)æ¯é»è²ç\n 4. å¦ææä¸ªèç¹æ¯çº¢è²ç,é£ä¹å®çå­èç¹å¿é¡»æ¯é»è²(ä¸è½åºç°ä¸¤ä¸ªçº¢è²èç¹ç¸è¿çæåµ)\n 5. å¯¹æ¯ä¸ªèç¹,ä»è¯¥èç¹å°å¶ææåä»£èç¹çç®åè·¯å¾ä¸,ååå«ç¸åæ°ç®çé»è²èç¹\n\n\n# æ·»å èç¹\n\næ·»å èç¹æ¶,é»è®¤ä¸ºçº¢è²,æçæ¯ä¸ºé»è²è¦é«\n\nå¹¶éµå¾ªäºåæ¥æ¾æ çè§å\n\n# å½ç¶èç¹ä¹æ¯çº¢è²,ååèç¹ä¹æ¯çº¢è²\n\nå ä¸ºé»è®¤æ¯æ·»å çº¢è²,å¦æç¶èç¹ä¸ºçº¢è²,ååèç¹ä¹ä¸ºçº¢è²\n\n 1. ç¶èç¹æ¹ä¸ºé»è²\n 2. åå(ç¥ç¶èç¹çå·¦/å³å­èç¹)èç¹æ¹ä¸ºé»è²\n 3. å°ç¥ç¶èç¹æ¹ä¸ºçº¢è²\n 4. å¦æç¥ç¶èç¹ä¸ºæ ¹èç¹åéæ°ååé»è²\n\n# å½ç¶èç¹ä¹æ¯çº¢è²,ååèç¹æ¯é»è²\n\n 1. å°ç¶èç¹æ¹ä¸ºé»è²\n 2. å°ç¥ç¶èç¹æ¹ä¸ºçº¢è²\n 3. ä»¥ç¥ç¶èç¹ä¸ºæ¯ç¹è¿è¡æè½¬\n    * å·¦èç¹å¤§äºåå³æ\n    * å³èç¹å¤§äºåå·¦æ\n    * å¯ä»¥ænilåå¿½ç¥,æè½¬å®ååå åå¶èç¹,æ¯è¾å¥½çè§£\n\n\n# æ»ç»\n\n',charsets:{cjk:!0},lastUpdated:"2022/03/18, 07:01:11",lastUpdatedTimestamp:1647558071e3},{title:"TreeSetéå",frontmatter:{title:"TreeSetéå",date:"2022-03-18T00:48:39.000Z",permalink:"/pages/8b6f0f/",categories:["åç«¯","Java"],tags:[null]},regularPath:"/%E5%90%8E%E7%AB%AF/01.JavaSE/49.TreeSet%E9%81%8D%E5%8E%86.html",relativePath:"åç«¯/01.JavaSE/49.TreeSetéå.md",key:"v-3336a5d0",path:"/pages/8b6f0f/",headersStr:null,content:"# TreeSetéå\n\nåè·åå·¦è¾¹,åè·åä¸­é´,åè·åå³è¾¹",normalizedContent:"# treesetéå\n\nåè·åå·¦è¾¹,åè·åä¸­é´,åè·åå³è¾¹",charsets:{cjk:!0},lastUpdated:"2022/03/18, 07:01:11",lastUpdatedTimestamp:1647558071e3},{title:"åå¸å¼",frontmatter:{title:"åå¸å¼",date:"2022-03-18T00:48:39.000Z",permalink:"/pages/1793cd/",categories:["åç«¯","Java"],tags:[null]},regularPath:"/%E5%90%8E%E7%AB%AF/01.JavaSE/50.%E5%93%88%E5%B8%8C%E5%80%BC.html",relativePath:"åç«¯/01.JavaSE/50.åå¸å¼.md",key:"v-36833f0c",path:"/pages/1793cd/",headersStr:null,content:"# åå¸å¼\n\nåå¸å¼(åå¸ç å¼):æ¯JDKæ ¹æ®å¯¹è±¡çå°åæèå±æ§å¼,ç®åºæ¥çintç±»åçæ´æ°\n\nobjectç±»ä¸­æä¸ä¸ªæ¹æ³å¯ä»¥è·åå¯¹è±¡çåå¸å¼:\n\nStudent s1 =new Student();\nint hash = s1.hashCode();\nSystem.out.println(hash);\n\n\n1\n2\n3\n\n\næä»¬å¯ä»¥éè¿éåhashCodeæ¹æ³,éè¿å¯¹è±¡çå±æ§å¼æ¥çæhashcode\n\n@Override\npublic int hashCode() {\n    int result = name != null ? name.hashCode() : 0;\n    result = 31 * result + age;\n    // å¦æå¯¹è±¡çå¼å¨é¨ä¸è´åhashcodeä¹ä¸è´\n    return result;\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n",normalizedContent:"# åå¸å¼\n\nåå¸å¼(åå¸ç å¼):æ¯jdkæ ¹æ®å¯¹è±¡çå°åæèå±æ§å¼,ç®åºæ¥çintç±»åçæ´æ°\n\nobjectç±»ä¸­æä¸ä¸ªæ¹æ³å¯ä»¥è·åå¯¹è±¡çåå¸å¼:\n\nstudent s1 =new student();\nint hash = s1.hashcode();\nsystem.out.println(hash);\n\n\n1\n2\n3\n\n\næä»¬å¯ä»¥éè¿éåhashcodeæ¹æ³,éè¿å¯¹è±¡çå±æ§å¼æ¥çæhashcode\n\n@override\npublic int hashcode() {\n    int result = name != null ? name.hashcode() : 0;\n    result = 31 * result + age;\n    // å¦æå¯¹è±¡çå¼å¨é¨ä¸è´åhashcodeä¹ä¸è´\n    return result;\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n",charsets:{cjk:!0},lastUpdated:"2022/03/18, 07:01:11",lastUpdatedTimestamp:1647558071e3},{title:"æ³å",frontmatter:{title:"æ³å",date:"2022-03-18T00:48:38.000Z",permalink:"/pages/d6e1c4/",categories:["åç«¯","Java"],tags:[null]},regularPath:"/%E5%90%8E%E7%AB%AF/01.JavaSE/46.%E6%B3%9B%E5%9E%8B.html",relativePath:"åç«¯/01.JavaSE/46.æ³å.md",key:"v-4a502c6c",path:"/pages/d6e1c4/",headers:[{level:2,title:"æ³åæ ¼å¼",slug:"æ³åæ ¼å¼",normalizedTitle:"æ³åæ ¼å¼",charIndex:52},{level:2,title:"æ³åå¯ä»¥ä½¿ç¨å¨",slug:"æ³åå¯ä»¥ä½¿ç¨å¨",normalizedTitle:"æ³åå¯ä»¥ä½¿ç¨å¨",charIndex:160},{level:2,title:"ä½¿ç¨æ³åæ¹æ³",slug:"ä½¿ç¨æ³åæ¹æ³",normalizedTitle:"ä½¿ç¨æ³åæ¹æ³",charIndex:1214},{level:2,title:"ç±»åééç¬¦",slug:"ç±»åééç¬¦",normalizedTitle:"ç±»åééç¬¦",charIndex:1563},{level:3,title:"ç±»åééç¬¦ä¸é",slug:"ç±»åééç¬¦ä¸é",normalizedTitle:"ç±»åééç¬¦ä¸é",charIndex:1694},{level:3,title:"ç±»åééç¬¦ä¸é",slug:"ç±»åééç¬¦ä¸é",normalizedTitle:"ç±»åééç¬¦ä¸é",charIndex:1840}],headersStr:"æ³åæ ¼å¼ æ³åå¯ä»¥ä½¿ç¨å¨ ä½¿ç¨æ³åæ¹æ³ ç±»åééç¬¦ ç±»åééç¬¦ä¸é ç±»åééç¬¦ä¸é",content:'# æ³å\n\næ³åæ¯JDK5ä¸­å¼å¥çç¹æ§,å®æè¿è¡æé´çé®é¢æåå°äºç¼è¯æé´,é¿åäºå¼ºå¶ç±»åè½¬æ¢\n\n\n# æ³åæ ¼å¼\n\n<ç±»å> æç§åéè§åä¹¦åå³å¯ å¦: <E> <T>\n\n<ç±»å1,ç±»å2...> å¤ä¸ªæ³åæ ¼å¼,å¤ä¸ªæ³åä¹é´ç¨éå·éå¼ å¦:<E,T,Q>\n\nå¦æè¯¥æ³åæªæ¥æ¶å°æå®ç±»å,åé»è®¤ä¸ºobjectç±»å\n\n\n# æ³åå¯ä»¥ä½¿ç¨å¨\n\n 1. ç±»åé¢ æ³åç±»\n    \n    public static class f<e> {\n            int a;\n        }\n    public static void main(String[] args) {\n            f<Integer> fa = new f<>();  // å¨ç±»åé¢å ä¸<> æå®æ³å  newåºæ¥çç±»åªè½ä½¿ç¨æå®ç±»åå¯¹è±¡,å¦åä¼åºç°ç¼è¯æ¶é®é¢(æ³åæè¿è¡æ¶é®é¢æåå°ç¼è¯æ¶)\n    \n        }\n    \n    \n    1\n    2\n    3\n    4\n    5\n    6\n    7\n    \n\n 2. æ¹æ³ç³æä¸ æ³åæ¹æ³\n    \n    æ¹æ³å®ä¹ä¸ä¸ªæ³å å¨è¿åå¼åé¢å ä¸æ³å\n    \n    public <E> e getA(e E) {\n                return E;\n            }\n    \n    \n    1\n    2\n    3\n    \n\n 3. æ¥å£åé¢ æ³åæ¥å£\n    \n    å¨æ¥å£ååé¢å®ä¹æ³å\n    \n    public interface in<e>{\n            e show(e E);\n        }\n    \n    \n    1\n    2\n    3\n    \n    \n    ç±»å®ç°\n    \n    // å®ç°ç±»ä¸ç»æå®ç±»å æ­¤ç±»ä¹éè¦æä¸ºæ³åç±»\n    public class fa1<e> implements in<e>{\n        @Override\n        public e show(e E) {\n            return null;\n        }\n    }\n    \n    // å®ç°ç±»ç»äºæå®æ°æ®ç±»å\n    public class fa2 implements in<Integer>{\n        @Override\n        public Integer show(Integer E) {\n            return null;\n        }\n    }\n    \n    \n    1\n    2\n    3\n    4\n    5\n    6\n    7\n    8\n    9\n    10\n    11\n    12\n    13\n    14\n    15\n    \n\n\n# ä½¿ç¨æ³åæ¹æ³\n\npublic static void main(String[] args) {\n        ArrayList<String> list =new ArrayList<>();\n        list.add("å¯¹å¯¹å¯¹");\n        list.add("å¯¹å¯¹å¯¹2");\n        list.add("å¯¹å¯¹å¯¹3");\n        String[] strings = list.toArray(list.toArray(new String[0]));  // éè¦ä¼ ä¸ä¸ªæ³åæå®çç±»åå¯¹è±¡\n        System.out.println(Arrays.toString(strings));\n    }\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n\n\n\n# ç±»åééç¬¦\n\n<?> å¯ä»¥å¹éä»»ä½ç±»å\n\nArrayList<?>:å¯ä»¥å¹éä»»ä½ç±»å,ä½æ¯ArrayListä¸è½æ·»å åç´ ,è·ååºæ¥çä¹æ¯ç¶ç±»ç±»å\n\npublic static void method1(ArrayList<?> list){}\n\n\n1\n\n\n\n# ç±»åééç¬¦ä¸é\n\n<? extends ç±»å>\n\nArrayList<? extends Number>:è¡¨ç¤ºå®çç±»åæ¯Numberæå¶ä»å­ç±»\n\npublic static void method2(ArrayList<? extends  Number> list){}\n\n\n1\n\n\n\n# ç±»åééç¬¦ä¸é\n\n<? super ç±»å>\n\nArrayList<? super Number>:è¡¨ç¤ºå®çç±»åæ¯NuberæNumberç¶ç±»\n\npublic static void method3(ArrayList<? super Number> list){}\n\n\n1\n\n\n',normalizedContent:'# æ³å\n\næ³åæ¯jdk5ä¸­å¼å¥çç¹æ§,å®æè¿è¡æé´çé®é¢æåå°äºç¼è¯æé´,é¿åäºå¼ºå¶ç±»åè½¬æ¢\n\n\n# æ³åæ ¼å¼\n\n<ç±»å> æç§åéè§åä¹¦åå³å¯ å¦: <e> <t>\n\n<ç±»å1,ç±»å2...> å¤ä¸ªæ³åæ ¼å¼,å¤ä¸ªæ³åä¹é´ç¨éå·éå¼ å¦:<e,t,q>\n\nå¦æè¯¥æ³åæªæ¥æ¶å°æå®ç±»å,åé»è®¤ä¸ºobjectç±»å\n\n\n# æ³åå¯ä»¥ä½¿ç¨å¨\n\n 1. ç±»åé¢ æ³åç±»\n    \n    public static class f<e> {\n            int a;\n        }\n    public static void main(string[] args) {\n            f<integer> fa = new f<>();  // å¨ç±»åé¢å ä¸<> æå®æ³å  newåºæ¥çç±»åªè½ä½¿ç¨æå®ç±»åå¯¹è±¡,å¦åä¼åºç°ç¼è¯æ¶é®é¢(æ³åæè¿è¡æ¶é®é¢æåå°ç¼è¯æ¶)\n    \n        }\n    \n    \n    1\n    2\n    3\n    4\n    5\n    6\n    7\n    \n\n 2. æ¹æ³ç³æä¸ æ³åæ¹æ³\n    \n    æ¹æ³å®ä¹ä¸ä¸ªæ³å å¨è¿åå¼åé¢å ä¸æ³å\n    \n    public <e> e geta(e e) {\n                return e;\n            }\n    \n    \n    1\n    2\n    3\n    \n\n 3. æ¥å£åé¢ æ³åæ¥å£\n    \n    å¨æ¥å£ååé¢å®ä¹æ³å\n    \n    public interface in<e>{\n            e show(e e);\n        }\n    \n    \n    1\n    2\n    3\n    \n    \n    ç±»å®ç°\n    \n    // å®ç°ç±»ä¸ç»æå®ç±»å æ­¤ç±»ä¹éè¦æä¸ºæ³åç±»\n    public class fa1<e> implements in<e>{\n        @override\n        public e show(e e) {\n            return null;\n        }\n    }\n    \n    // å®ç°ç±»ç»äºæå®æ°æ®ç±»å\n    public class fa2 implements in<integer>{\n        @override\n        public integer show(integer e) {\n            return null;\n        }\n    }\n    \n    \n    1\n    2\n    3\n    4\n    5\n    6\n    7\n    8\n    9\n    10\n    11\n    12\n    13\n    14\n    15\n    \n\n\n# ä½¿ç¨æ³åæ¹æ³\n\npublic static void main(string[] args) {\n        arraylist<string> list =new arraylist<>();\n        list.add("å¯¹å¯¹å¯¹");\n        list.add("å¯¹å¯¹å¯¹2");\n        list.add("å¯¹å¯¹å¯¹3");\n        string[] strings = list.toarray(list.toarray(new string[0]));  // éè¦ä¼ ä¸ä¸ªæ³åæå®çç±»åå¯¹è±¡\n        system.out.println(arrays.tostring(strings));\n    }\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n\n\n\n# ç±»åééç¬¦\n\n<?> å¯ä»¥å¹éä»»ä½ç±»å\n\narraylist<?>:å¯ä»¥å¹éä»»ä½ç±»å,ä½æ¯arraylistä¸è½æ·»å åç´ ,è·ååºæ¥çä¹æ¯ç¶ç±»ç±»å\n\npublic static void method1(arraylist<?> list){}\n\n\n1\n\n\n\n# ç±»åééç¬¦ä¸é\n\n<? extends ç±»å>\n\narraylist<? extends number>:è¡¨ç¤ºå®çç±»åæ¯numberæå¶ä»å­ç±»\n\npublic static void method2(arraylist<? extends  number> list){}\n\n\n1\n\n\n\n# ç±»åééç¬¦ä¸é\n\n<? super ç±»å>\n\narraylist<? super number>:è¡¨ç¤ºå®çç±»åæ¯nuberænumberç¶ç±»\n\npublic static void method3(arraylist<? super number> list){}\n\n\n1\n\n\n',charsets:{cjk:!0},lastUpdated:"2022/03/18, 07:01:11",lastUpdatedTimestamp:1647558071e3},{title:"HashSetéå",frontmatter:{title:"HashSetéå",date:"2022-03-18T00:48:39.000Z",permalink:"/pages/642d0a/",categories:["åç«¯","Java"],tags:[null]},regularPath:"/%E5%90%8E%E7%AB%AF/01.JavaSE/52.HashSet%E9%9B%86%E5%90%88.html",relativePath:"åç«¯/01.JavaSE/52.HashSetéå.md",key:"v-33880d43",path:"/pages/642d0a/",headers:[{level:2,title:"åç",slug:"åç",normalizedTitle:"åç",charIndex:77},{level:3,title:"1.7çæ¬åç",slug:"_1-7çæ¬åç",normalizedTitle:"1.7çæ¬åç",charIndex:84},{level:3,title:"1.8çæ¬ åç",slug:"_1-8çæ¬-åç",normalizedTitle:"1.8çæ¬ åç",charIndex:324}],headersStr:"åç 1.7çæ¬åç 1.8çæ¬ åç",content:"# HashSetéå\n\nç¹ç¹:\n\n * åºå±æ°æ®ç»ææ¯åå¸è¡¨\n * ä¸è½ä¿è¯å­å¨åååºé¡ºåºå®å¨ä¸è´\n * æ²¡æç´¢å¼,ä¸è½ä½¿ç¨æ®éforå¾ªç¯éå\n\n\n# åç\n\n\n# 1.7çæ¬åç\n\nåºå±ä¸ºåå¸è¡¨ ç¨æ°ç»+é¾è¡¨å®ç°\n\n 1. åå»ºä¸ä¸ªé»è®¤é¿åº¦16,é»è®¤å è½½å  0.75 çæ°ç»,æ°ç»åä¸ºtable\n    * å è½½å :å½æ°ç»å­äº16*0.75=12ä¸ªåç´ æ¶,æ°ç»ä¼æ©å®¹ä¸ºååçä¸¤å\n 2. æ ¹æ®åç´ çåå¸å¼è·æ°ç»çé¿åº¦è®¡ç®åºåºå­å¥çä½ç½®\n 3. å¤æ­å½åä½ç½®æ¯å¦ä¸ºnull,å¦ææ¯nullç´æ¥å­å¥\n 4. å¦æä¸ä¸ºnull,åä»£è¡¨å·²æåç´ ,åè°ç¨equalsæ¹æ³æ¯è¾å±æ§å¼\n 5. å¦ä¸ä¸è´,åå­å¥æ°ç»,èåç´ æå¨æ°åç´ ä¸é¢(é¾è¡¨)\n\n\n\n\n# 1.8çæ¬ åç\n\nåºå±ç»æä¸º:åå¸è¡¨ åºå±ä¸ºæ°ç»ãé¾è¡¨åçº¢é»æ çç»åä½\n\n1.8çæ¬ä¼åäº,å½å­æ¾ä½ç½®ä¸è´æ¶,é¾è¡¨è¿é¿ éè¦å¯¹é¾è¡¨æ¯ä¸ªåç´ è¿è¡æ¯è¾ å½é¾è¡¨é¿åº¦è¿é¿æçä¸å¤ªçæ³\n\næä»¥å¨é¾è¡¨ä¸­æ·»å çº¢é»æ æ¥è¿è¡ä¼å, å½é¾è¡¨é¿åº¦ä¸º8æ¶,(> 8)åæ·»å ä¼èªå¨è½¬æä¸ºçº¢é»æ \n\n\n\næµç¨å¾\n\n",normalizedContent:"# hashsetéå\n\nç¹ç¹:\n\n * åºå±æ°æ®ç»ææ¯åå¸è¡¨\n * ä¸è½ä¿è¯å­å¨åååºé¡ºåºå®å¨ä¸è´\n * æ²¡æç´¢å¼,ä¸è½ä½¿ç¨æ®éforå¾ªç¯éå\n\n\n# åç\n\n\n# 1.7çæ¬åç\n\nåºå±ä¸ºåå¸è¡¨ ç¨æ°ç»+é¾è¡¨å®ç°\n\n 1. åå»ºä¸ä¸ªé»è®¤é¿åº¦16,é»è®¤å è½½å  0.75 çæ°ç»,æ°ç»åä¸ºtable\n    * å è½½å :å½æ°ç»å­äº16*0.75=12ä¸ªåç´ æ¶,æ°ç»ä¼æ©å®¹ä¸ºååçä¸¤å\n 2. æ ¹æ®åç´ çåå¸å¼è·æ°ç»çé¿åº¦è®¡ç®åºåºå­å¥çä½ç½®\n 3. å¤æ­å½åä½ç½®æ¯å¦ä¸ºnull,å¦ææ¯nullç´æ¥å­å¥\n 4. å¦æä¸ä¸ºnull,åä»£è¡¨å·²æåç´ ,åè°ç¨equalsæ¹æ³æ¯è¾å±æ§å¼\n 5. å¦ä¸ä¸è´,åå­å¥æ°ç»,èåç´ æå¨æ°åç´ ä¸é¢(é¾è¡¨)\n\n\n\n\n# 1.8çæ¬ åç\n\nåºå±ç»æä¸º:åå¸è¡¨ åºå±ä¸ºæ°ç»ãé¾è¡¨åçº¢é»æ çç»åä½\n\n1.8çæ¬ä¼åäº,å½å­æ¾ä½ç½®ä¸è´æ¶,é¾è¡¨è¿é¿ éè¦å¯¹é¾è¡¨æ¯ä¸ªåç´ è¿è¡æ¯è¾ å½é¾è¡¨é¿åº¦è¿é¿æçä¸å¤ªçæ³\n\næä»¥å¨é¾è¡¨ä¸­æ·»å çº¢é»æ æ¥è¿è¡ä¼å, å½é¾è¡¨é¿åº¦ä¸º8æ¶,(> 8)åæ·»å ä¼èªå¨è½¬æä¸ºçº¢é»æ \n\n\n\næµç¨å¾\n\n",charsets:{cjk:!0},lastUpdated:"2022/03/18, 07:01:11",lastUpdatedTimestamp:1647558071e3},{title:"åå¸è¡¨",frontmatter:{title:"åå¸è¡¨",date:"2022-03-18T00:48:39.000Z",permalink:"/pages/7525b1/",categories:["åç«¯","Java"],tags:[null]},regularPath:"/%E5%90%8E%E7%AB%AF/01.JavaSE/51.%E5%93%88%E5%B8%8C%E8%A1%A8.html",relativePath:"åç«¯/01.JavaSE/51.åå¸è¡¨.md",key:"v-3495bce5",path:"/pages/7525b1/",headersStr:null,content:"# åå¸è¡¨\n\nJDK8ä¹å,åºå±éç¨ æ°ç»+é¾è¡¨ å®ç°\n\nJDK8ä»¥å,åºå±è¿è¡ä¼å. ç± æ°ç»+é¾è¡¨+çº¢é»æ  å®ç°.",normalizedContent:"# åå¸è¡¨\n\njdk8ä¹å,åºå±éç¨ æ°ç»+é¾è¡¨ å®ç°\n\njdk8ä»¥å,åºå±è¿è¡ä¼å. ç± æ°ç»+é¾è¡¨+çº¢é»æ  å®ç°.",charsets:{cjk:!0},lastUpdated:"2022/03/18, 07:01:11",lastUpdatedTimestamp:1647558071e3},{title:"å¯ååæ°",frontmatter:{title:"å¯ååæ°",date:"2022-03-18T00:48:39.000Z",permalink:"/pages/4fb557/",categories:["åç«¯","Java"],tags:[null]},regularPath:"/%E5%90%8E%E7%AB%AF/01.JavaSE/54.%E5%8F%AF%E5%8F%98%E5%8F%82%E6%95%B0.html",relativePath:"åç«¯/01.JavaSE/54.å¯ååæ°.md",key:"v-25108381",path:"/pages/4fb557/",headersStr:null,content:"# å¯ååæ°\n\nå¯ååæ°:å°±æ¯å½¢åçä¸ªæ°æ¯å¯ä»¥åæ¢ç\n\npublic static void main(String[] args) {\n    int sum = getSum(1,5,5,3135,156,1456,1);\n    System.out.println(sum);\n}\npublic static int getSum(int... arr){\n    int sum = 0;\n    for (int i : arr) {\n        sum +=i;\n    }\n    return sum;\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n\n\næ³¨æ:\n\n * åºå±å¶å®å°±æ¯ä¸ä¸ªæ°ç»å­å¨\n\n * å¯ååæ°å¿é¡»åå¨æå",normalizedContent:"# å¯ååæ°\n\nå¯ååæ°:å°±æ¯å½¢åçä¸ªæ°æ¯å¯ä»¥åæ¢ç\n\npublic static void main(string[] args) {\n    int sum = getsum(1,5,5,3135,156,1456,1);\n    system.out.println(sum);\n}\npublic static int getsum(int... arr){\n    int sum = 0;\n    for (int i : arr) {\n        sum +=i;\n    }\n    return sum;\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n\n\næ³¨æ:\n\n * åºå±å¶å®å°±æ¯ä¸ä¸ªæ°ç»å­å¨\n\n * å¯ååæ°å¿é¡»åå¨æå",charsets:{cjk:!0},lastUpdated:"2022/03/18, 07:01:11",lastUpdatedTimestamp:1647558071e3},{title:"åå»ºä¸å¯åçéå",frontmatter:{title:"åå»ºä¸å¯åçéå",date:"2022-03-18T00:48:39.000Z",permalink:"/pages/7db438/",categories:["åç«¯","Java"],tags:[null]},regularPath:"/%E5%90%8E%E7%AB%AF/01.JavaSE/55.%E5%88%9B%E5%BB%BA%E4%B8%8D%E5%8F%AF%E5%8F%98%E7%9A%84%E9%9B%86%E5%90%88.html",relativePath:"åç«¯/01.JavaSE/55.åå»ºä¸å¯åçéå.md",key:"v-241961c2",path:"/pages/7db438/",headersStr:null,content:'# åå»ºä¸å¯åçéå\n\nList Set Map ä¸­ä½¿ç¨ofæ¹æ³åå»ºä¸ä¸ªä¸å¯ååçéå\n\nè¯¥éåæ æ³æ·»å åç´ ,æ´æ¹,å é¤\n\n List<Integer> integers = List.of(1, 2, 3, 65, 7);\n        System.out.println(integers);\n\n        //å¯ä»¥éè¿ofæ¥æ¹éæ·»å åç´ \n        ArrayList<Integer> list = new ArrayList<>(List.of(1, 2, 3, 65, 7));\n        list.add(1);\n        System.out.println(list);\n\n        // ä¸è½æ·»å éå¤çåç´ å¦åofä¼æ¥é\n        Set<String> set = Set.of("a","b");\n        System.out.println(set);\n\n        Map<String, Integer> key1 = Map.of("key1", 123, "key2", 456);\n        System.out.println(key1);\n\n        Map<String, Integer> stringIntegerMap = Map.ofEntries(Map.entry("key1", 444), Map.entry("key2", 4444));\n        System.out.println(stringIntegerMap);\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n',normalizedContent:'# åå»ºä¸å¯åçéå\n\nlist set map ä¸­ä½¿ç¨ofæ¹æ³åå»ºä¸ä¸ªä¸å¯ååçéå\n\nè¯¥éåæ æ³æ·»å åç´ ,æ´æ¹,å é¤\n\n list<integer> integers = list.of(1, 2, 3, 65, 7);\n        system.out.println(integers);\n\n        //å¯ä»¥éè¿ofæ¥æ¹éæ·»å åç´ \n        arraylist<integer> list = new arraylist<>(list.of(1, 2, 3, 65, 7));\n        list.add(1);\n        system.out.println(list);\n\n        // ä¸è½æ·»å éå¤çåç´ å¦åofä¼æ¥é\n        set<string> set = set.of("a","b");\n        system.out.println(set);\n\n        map<string, integer> key1 = map.of("key1", 123, "key2", 456);\n        system.out.println(key1);\n\n        map<string, integer> stringintegermap = map.ofentries(map.entry("key1", 444), map.entry("key2", 4444));\n        system.out.println(stringintegermap);\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n',charsets:{cjk:!0},lastUpdated:"2022/03/18, 07:01:11",lastUpdatedTimestamp:1647558071e3},{title:"Map éå",frontmatter:{title:"Map éå",date:"2022-03-18T00:48:39.000Z",permalink:"/pages/b8041f/",categories:["åç«¯","Java"],tags:[null]},regularPath:"/%E5%90%8E%E7%AB%AF/01.JavaSE/53.Map%20%E9%9B%86%E5%90%88.html",relativePath:"åç«¯/01.JavaSE/53.Map éå.md",key:"v-58c7430c",path:"/pages/b8041f/",headers:[{level:2,title:"éåmap",slug:"éåmap",normalizedTitle:"éåmap",charIndex:82},{level:3,title:"entrySet",slug:"entryset",normalizedTitle:"entryset",charIndex:244},{level:3,title:"forEach",slug:"foreach",normalizedTitle:"foreach",charIndex:481},{level:2,title:"HashSet åç",slug:"hashset-åç",normalizedTitle:"hashset åç",charIndex:591},{level:2,title:"TreeMap åç",slug:"treemap-åç",normalizedTitle:"treemap åç",charIndex:618}],headersStr:"éåmap entrySet forEach HashSet åç TreeMap åç",content:'# Map éå\n\nMapä¸­ key value ä¸ºä¸å¯¹,å¿é¡»å­å¨ä¸ºé®å¼å¯¹\n\nMapä¸­çputæ¹æ³,å¦ææ­¤keyå·²ç»æå¼,åä¼æ¿æ¢æ­¤keyä¸­å¼,å¹¶è¿åæ§å¼\n\n\n# éåmap\n\n# keySet\n\néè¿keySet()è·åæækey\n\nSet<String> strings = map.keySet();\nfor (String string : strings) {\n    System.out.println(map.get(string));\n}\n\n\n1\n2\n3\n4\n\n\n\n# entrySet\n\néè¿entrySetè·åææé®å¼å¯¹\n\nSet<Map.Entry<String, String>> entries = map.entrySet();\nfor (Map.Entry<String, String> entry : entries) {\n    System.out.println(entry.getValue());\n    System.out.println(entry.getKey());\n}\n\n\n1\n2\n3\n4\n5\n\n\n\n# forEach\n\nmap.forEach((String key, String value) -> {\n    System.out.println(key+"  "+value);\n});\n\n\n1\n2\n3\n\n\n\n# HashSet åç\n\nä¸HashSetä¸è´\n\n\n# TreeMap åç\n\nä¸TreeSet å·®ä¸å¤\n\nèç¹å­å¨çä¸ºé®å¼å¯¹,å¹¶ä¸åªå¯¹é®è¿æåº,å¼ä¸å½±å',normalizedContent:'# map éå\n\nmapä¸­ key value ä¸ºä¸å¯¹,å¿é¡»å­å¨ä¸ºé®å¼å¯¹\n\nmapä¸­çputæ¹æ³,å¦ææ­¤keyå·²ç»æå¼,åä¼æ¿æ¢æ­¤keyä¸­å¼,å¹¶è¿åæ§å¼\n\n\n# éåmap\n\n# keyset\n\néè¿keyset()è·åæækey\n\nset<string> strings = map.keyset();\nfor (string string : strings) {\n    system.out.println(map.get(string));\n}\n\n\n1\n2\n3\n4\n\n\n\n# entryset\n\néè¿entrysetè·åææé®å¼å¯¹\n\nset<map.entry<string, string>> entries = map.entryset();\nfor (map.entry<string, string> entry : entries) {\n    system.out.println(entry.getvalue());\n    system.out.println(entry.getkey());\n}\n\n\n1\n2\n3\n4\n5\n\n\n\n# foreach\n\nmap.foreach((string key, string value) -> {\n    system.out.println(key+"  "+value);\n});\n\n\n1\n2\n3\n\n\n\n# hashset åç\n\nä¸hashsetä¸è´\n\n\n# treemap åç\n\nä¸treeset å·®ä¸å¤\n\nèç¹å­å¨çä¸ºé®å¼å¯¹,å¹¶ä¸åªå¯¹é®è¿æåº,å¼ä¸å½±å',charsets:{cjk:!0},lastUpdated:"2022/03/18, 07:01:11",lastUpdatedTimestamp:1647558071e3},{title:"Streamæµ",frontmatter:{title:"Streamæµ",date:"2022-03-18T00:48:39.000Z",permalink:"/pages/46103a/",categories:["åç«¯","Java"],tags:[null]},regularPath:"/%E5%90%8E%E7%AB%AF/01.JavaSE/56.Stream%E6%B5%81.html",relativePath:"åç«¯/01.JavaSE/56.Streamæµ.md",key:"v-88879b54",path:"/pages/46103a/",headers:[{level:2,title:"è·åStreamæµ(åå»ºæµ)",slug:"è·åstreamæµ-åå»ºæµ",normalizedTitle:"è·åstreamæµ(åå»ºæµ)",charIndex:14},{level:2,title:"filter è¿æ»¤ (ä¸­é´æµ)",slug:"filter-è¿æ»¤-ä¸­é´æµ",normalizedTitle:"filter è¿æ»¤ (ä¸­é´æµ)",charIndex:932},{level:3,title:"testæ¹æ³",slug:"testæ¹æ³",normalizedTitle:"testæ¹æ³",charIndex:974},{level:2,title:"limit æªå",slug:"limit-æªå",normalizedTitle:"limit æªå",charIndex:1266},{level:2,title:"skip è·³è¿",slug:"skip-è·³è¿",normalizedTitle:"skip è·³è¿",charIndex:1361},{level:2,title:"concat åå¹¶ ä¸¤ä¸ªstreamæµ",slug:"concat-åå¹¶-ä¸¤ä¸ªstreamæµ",normalizedTitle:"concat åå¹¶ ä¸¤ä¸ªstreamæµ",charIndex:1454},{level:2,title:"distinct å»é¤æµä¸­éå¤åç´ ",slug:"distinct-å»é¤æµä¸­éå¤åç´ ",normalizedTitle:"distinct å»é¤æµä¸­éå¤åç´ ",charIndex:1634},{level:2,title:"forEach å¯¹æµä¸­æ¯ä¸ªåç´ çæä½(ç»ææµ)",slug:"foreach-å¯¹æµä¸­æ¯ä¸ªåç´ çæä½-ç»ææµ",normalizedTitle:"foreach å¯¹æµä¸­æ¯ä¸ªåç´ çæä½(ç»ææµ)",charIndex:1746},{level:2,title:"count æµä¸­åç´ çä¸ªæ°",slug:"count-æµä¸­åç´ çä¸ªæ°",normalizedTitle:"count æµä¸­åç´ çä¸ªæ°",charIndex:1969},{level:2,title:"Streamæµ æ¶éæ¹æ³",slug:"streamæµ-æ¶éæ¹æ³",normalizedTitle:"streamæµ æ¶éæ¹æ³",charIndex:2072},{level:3,title:"collect()",slug:"collect",normalizedTitle:"collect()",charIndex:2134}],headersStr:"è·åStreamæµ(åå»ºæµ) filter è¿æ»¤ (ä¸­é´æµ) testæ¹æ³ limit æªå skip è·³è¿ concat åå¹¶ ä¸¤ä¸ªstreamæµ distinct å»é¤æµä¸­éå¤åç´  forEach å¯¹æµä¸­æ¯ä¸ªåç´ çæä½(ç»ææµ) count æµä¸­åç´ çä¸ªæ° Streamæµ æ¶éæ¹æ³ collect()",content:'# Streamæµ\n\n\n# è·åStreamæµ(åå»ºæµ)\n\nè½ä½¿ç¨streamæµçç±»å\n\n * åä¾éå\n   \n   * ä½¿ç¨Collectionæ¥å£ä¸­ç strema()æ¹æ³\n   \n   * ArrayList<Integer> list = new ArrayList<>(List.of(1, 2, 3, 65, 7));\n     Stream<Integer> stream = list.stream();\n     stream.forEach(s -> System.out.println(s));\n     // ä¹å¯ä½¿ç¨é¾å¼ç¼ç¨\n     list.stream().forEach(s -> System.out.println(s));\n     \n     \n     1\n     2\n     3\n     4\n     5\n     \n\n * ååéå\n   \n   * é´æ¥ççææµ:åéè¿keySetæèentrySetè·åä¸ä¸ªSetéå,åè·åStreamæµ\n   \n   * Map<String, Integer> key1 = Map.of("key1", 123, "key2", 456);\n     key1.entrySet().stream().forEach(s -> System.out.println(s));\n     \n     \n     1\n     2\n     \n\n * æ°ç»\n   \n   * Arraysä¸­çéææ¹æ³streamçææµ\n   \n   * int[] arr ={1,4,6,7,5,8};\n     Arrays.stream(arr).forEach(s -> System.out.println(s));\n     \n     \n     1\n     2\n     \n\n * åç§æ°æ®ç±»åçå¤ä¸ªæ°æ®\n   \n   * ä½¿ç¨Streamçofæ¹æ³ ä¸ä¸å¯åéåç±»ä¼¼\n   \n   * Stream.of(1,5,7,9,9).forEach(s -> System.out.println(s));\n     \n     \n     1\n     \n\n\n# filter è¿æ»¤ (ä¸­é´æµ)\n\nfilteræ¹æ³ä¼è·åæµä¸­ç æ¯ä¸ä¸ªæ°æ®\n\n\n# testæ¹æ³\n\nä¼ éä¸ä¸ªStreamæµä¸­çåç´ ,è¿åä¸ä¸ªå¸å°å¼,å¦æ¯trueåå½åæ°æ®ä¿ç,å¦ä¸ºfalseåæ°æ®ä¸ä¿ç\n\nlist.stream().filter(new Predicate<String>() {\n    @Override\n    public boolean test(String s) {\n        boolean result = s.startsWith("å¼ ");\n        return result;\n    }\n}).forEach(s -> System.out.println(s));\n\n\n1\n2\n3\n4\n5\n6\n7\n\n\n\n# limit æªå\n\næªåsteamæµä¸­ånä¸ªåç´ \n\nlist.stream().limit(2).forEach(s -> System.out.println(s));\n\n\n1\n\n\n\n# skip è·³è¿\n\nè·³è¿steamæµä¸­ånä¸ªåç´ \n\nlist.stream().skip(3).forEach(s -> System.out.println(s));\n\n\n1\n\n\n\n# concat åå¹¶ ä¸¤ä¸ªstreamæµ\n\nStream<String> stream = list.stream();\nStream<String> stream2 = list.stream();\nStream.concat(stream,stream2).forEach(s -> System.out.println(s));\n\n\n1\n2\n3\n\n\n\n# distinct å»é¤æµä¸­éå¤åç´ \n\nä¾èµäºhashcodeåequalsæ¹æ³\n\nlist.stream().distinct().forEach(s -> System.out.println(s));\n\n\n1\n\n\n\n# forEach å¯¹æµä¸­æ¯ä¸ªåç´ çæä½(ç»ææµ)\n\nforEach å¯¹æ­¤æµä¸­æ¯ä¸ªåç´ æ§è¡æå®æä½, åªæä¸ä¸ªæ½è±¡æ¹æ³accept()\n\nlist.stream().forEach(new Consumer<String>() {\n    @Override\n    public void accept(String s) {\n        System.out.println(s);\n    }\n});\n\n\n1\n2\n3\n4\n5\n6\n\n\n\n# count æµä¸­åç´ çä¸ªæ°\n\nè¿åä¸ä¸ªlongç±»åçæ°\n\nlong count = list.stream().count();\nSystem.out.println(count);\n\n\n1\n2\n\n\n\n# Streamæµ æ¶éæ¹æ³\n\nå¨Streamæµæ æ³ç´æ¥ä¿®æ¹éå/æ°ç»ç­æ°æ®æºä¸­æ°æ®,åå»ºStreamæµä¸å½±åååæ°æ®\n\n\n# collect()\n\n# toList\n\nList<String> collect = list.stream().skip(1).collect(Collectors.toList());\n\n\n\n1\n2\n\n\n# toSet\n\nSet<String> collect1 = list.stream().limit(2).collect(Collectors.toSet());\n\n\n\n1\n2\n\n\n# toMap\n\nMap<Character, Character> collect2 = list.stream().limit(2).collect(Collectors.toMap(\n        s -> s.charAt(1) // key\n        , s -> s.charAt(0) // value\n));\n\n\n1\n2\n3\n4\n',normalizedContent:'# streamæµ\n\n\n# è·åstreamæµ(åå»ºæµ)\n\nè½ä½¿ç¨streamæµçç±»å\n\n * åä¾éå\n   \n   * ä½¿ç¨collectionæ¥å£ä¸­ç strema()æ¹æ³\n   \n   * arraylist<integer> list = new arraylist<>(list.of(1, 2, 3, 65, 7));\n     stream<integer> stream = list.stream();\n     stream.foreach(s -> system.out.println(s));\n     // ä¹å¯ä½¿ç¨é¾å¼ç¼ç¨\n     list.stream().foreach(s -> system.out.println(s));\n     \n     \n     1\n     2\n     3\n     4\n     5\n     \n\n * ååéå\n   \n   * é´æ¥ççææµ:åéè¿keysetæèentrysetè·åä¸ä¸ªsetéå,åè·åstreamæµ\n   \n   * map<string, integer> key1 = map.of("key1", 123, "key2", 456);\n     key1.entryset().stream().foreach(s -> system.out.println(s));\n     \n     \n     1\n     2\n     \n\n * æ°ç»\n   \n   * arraysä¸­çéææ¹æ³streamçææµ\n   \n   * int[] arr ={1,4,6,7,5,8};\n     arrays.stream(arr).foreach(s -> system.out.println(s));\n     \n     \n     1\n     2\n     \n\n * åç§æ°æ®ç±»åçå¤ä¸ªæ°æ®\n   \n   * ä½¿ç¨streamçofæ¹æ³ ä¸ä¸å¯åéåç±»ä¼¼\n   \n   * stream.of(1,5,7,9,9).foreach(s -> system.out.println(s));\n     \n     \n     1\n     \n\n\n# filter è¿æ»¤ (ä¸­é´æµ)\n\nfilteræ¹æ³ä¼è·åæµä¸­ç æ¯ä¸ä¸ªæ°æ®\n\n\n# testæ¹æ³\n\nä¼ éä¸ä¸ªstreamæµä¸­çåç´ ,è¿åä¸ä¸ªå¸å°å¼,å¦æ¯trueåå½åæ°æ®ä¿ç,å¦ä¸ºfalseåæ°æ®ä¸ä¿ç\n\nlist.stream().filter(new predicate<string>() {\n    @override\n    public boolean test(string s) {\n        boolean result = s.startswith("å¼ ");\n        return result;\n    }\n}).foreach(s -> system.out.println(s));\n\n\n1\n2\n3\n4\n5\n6\n7\n\n\n\n# limit æªå\n\næªåsteamæµä¸­ånä¸ªåç´ \n\nlist.stream().limit(2).foreach(s -> system.out.println(s));\n\n\n1\n\n\n\n# skip è·³è¿\n\nè·³è¿steamæµä¸­ånä¸ªåç´ \n\nlist.stream().skip(3).foreach(s -> system.out.println(s));\n\n\n1\n\n\n\n# concat åå¹¶ ä¸¤ä¸ªstreamæµ\n\nstream<string> stream = list.stream();\nstream<string> stream2 = list.stream();\nstream.concat(stream,stream2).foreach(s -> system.out.println(s));\n\n\n1\n2\n3\n\n\n\n# distinct å»é¤æµä¸­éå¤åç´ \n\nä¾èµäºhashcodeåequalsæ¹æ³\n\nlist.stream().distinct().foreach(s -> system.out.println(s));\n\n\n1\n\n\n\n# foreach å¯¹æµä¸­æ¯ä¸ªåç´ çæä½(ç»ææµ)\n\nforeach å¯¹æ­¤æµä¸­æ¯ä¸ªåç´ æ§è¡æå®æä½, åªæä¸ä¸ªæ½è±¡æ¹æ³accept()\n\nlist.stream().foreach(new consumer<string>() {\n    @override\n    public void accept(string s) {\n        system.out.println(s);\n    }\n});\n\n\n1\n2\n3\n4\n5\n6\n\n\n\n# count æµä¸­åç´ çä¸ªæ°\n\nè¿åä¸ä¸ªlongç±»åçæ°\n\nlong count = list.stream().count();\nsystem.out.println(count);\n\n\n1\n2\n\n\n\n# streamæµ æ¶éæ¹æ³\n\nå¨streamæµæ æ³ç´æ¥ä¿®æ¹éå/æ°ç»ç­æ°æ®æºä¸­æ°æ®,åå»ºstreamæµä¸å½±åååæ°æ®\n\n\n# collect()\n\n# tolist\n\nlist<string> collect = list.stream().skip(1).collect(collectors.tolist());\n\n\n\n1\n2\n\n\n# toset\n\nset<string> collect1 = list.stream().limit(2).collect(collectors.toset());\n\n\n\n1\n2\n\n\n# tomap\n\nmap<character, character> collect2 = list.stream().limit(2).collect(collectors.tomap(\n        s -> s.charat(1) // key\n        , s -> s.charat(0) // value\n));\n\n\n1\n2\n3\n4\n',charsets:{cjk:!0},lastUpdated:"2022/03/18, 07:01:11",lastUpdatedTimestamp:1647558071e3},{title:"File",frontmatter:{title:"File",date:"2022-03-18T00:48:39.000Z",permalink:"/pages/48b908/",categories:["åç«¯","Java"],tags:[null]},regularPath:"/%E5%90%8E%E7%AB%AF/01.JavaSE/58.File.html",relativePath:"åç«¯/01.JavaSE/58.File.md",key:"v-96b98cee",path:"/pages/48b908/",headers:[{level:2,title:"åå»ºæä»¶",slug:"åå»ºæä»¶",normalizedTitle:"åå»ºæä»¶",charIndex:309},{level:2,title:"åå»ºæä»¶å¤¹",slug:"åå»ºæä»¶å¤¹",normalizedTitle:"åå»ºæä»¶å¤¹",charIndex:427},{level:2,title:"åå»ºå¤çº§æä»¶å¤¹",slug:"åå»ºå¤çº§æä»¶å¤¹",normalizedTitle:"åå»ºå¤çº§æä»¶å¤¹",charIndex:469},{level:2,title:"å é¤",slug:"å é¤",normalizedTitle:"å é¤",charIndex:502},{level:2,title:"å¤æ­æ¯å¦ä¸ºç®å½",slug:"å¤æ­æ¯å¦ä¸ºç®å½",normalizedTitle:"å¤æ­æ¯å¦ä¸ºç®å½",charIndex:578},{level:2,title:"å¤æ­æ¯å¦ä¸ºæä»¶",slug:"å¤æ­æ¯å¦ä¸ºæä»¶",normalizedTitle:"å¤æ­æ¯å¦ä¸ºæä»¶",charIndex:636},{level:2,title:"å¤æ­æ­¤è·¯å¾æ¯å¦å­å¨",slug:"å¤æ­æ­¤è·¯å¾æ¯å¦å­å¨",normalizedTitle:"å¤æ­æ­¤è·¯å¾æ¯å¦å­å¨",charIndex:686},{level:2,title:"è·åfileå¯¹è±¡çæä»¶å/æä»¶å¤¹å",slug:"è·åfileå¯¹è±¡çæä»¶å-æä»¶å¤¹å",normalizedTitle:"è·åfileå¯¹è±¡çæä»¶å/æä»¶å¤¹å",charIndex:741},{level:2,title:"è·åfileå¯¹è±¡ä¸ææçæä»¶",slug:"è·åfileå¯¹è±¡ä¸ææçæä»¶",normalizedTitle:"è·åfileå¯¹è±¡ä¸ææçæä»¶",charIndex:802}],headersStr:"åå»ºæä»¶ åå»ºæä»¶å¤¹ åå»ºå¤çº§æä»¶å¤¹ å é¤ å¤æ­æ¯å¦ä¸ºç®å½ å¤æ­æ¯å¦ä¸ºæä»¶ å¤æ­æ­¤è·¯å¾æ¯å¦å­å¨ è·åfileå¯¹è±¡çæä»¶å/æä»¶å¤¹å è·åfileå¯¹è±¡ä¸ææçæä»¶",content:'# File\n\næä»¶åç®å½å¯ä»¥éè¿Fileå°è£æå¯¹è±¡\n\nä¸ä¸ªæé æ¹æ³\n\n 1. æä»¶è·¯å¾\n    \n    File f = new File("C:\\\\a.txt");\n    \n    \n    1\n    \n\n 2. è·¯å¾+æä»¶å\n    \n    File f2 = new File("C:\\\\","a.txt");\n    \n    \n    1\n    \n\n 3. fileå¯¹è±¡+æä»¶å\n    \n    File test = new File("C:\\\\");\n    File f3 = new File(test,"a.txt");\n    \n    \n    1\n    2\n    \n\n\n# åå»ºæä»¶\n\nboolean newFile = f.createNewFile();\nSystem.out.println(newFile);\n\n\n1\n2\n\n\nå¨æå®è·¯å¾åå»ºæå®æä»¶,å¦ææä»¶å­å¨åä¸åå»º,åå»ºæåè¿åtrue\n\n\n# åå»ºæä»¶å¤¹\n\ntest.mkdir();\n\n\n1\n\n\nåæ ·ä¼è¿åä¸ä¸ªå¸å°æ»\n\n\n# åå»ºå¤çº§æä»¶å¤¹\n\ntest.mkdirs();\n\n\n1\n\n\n\n# å é¤\n\ntest.delete();\n\n\n1\n\n\nå¯ä»¥å é¤æä»¶/ç©ºæä»¶å¤¹,å é¤åä¸ç»è¿åæ¶ç«,å¦ææä»¶å¤¹åæä¸è¥¿è½æåé¨æä»¶åå é¤åå é¤æä»¶å¤¹\n\n\n# å¤æ­æ¯å¦ä¸ºç®å½\n\nSystem.out.println(test.isDirectory());\n\n\n1\n\n\n\n# å¤æ­æ¯å¦ä¸ºæä»¶\n\nSystem.out.println(f.isFile());\n\n\n1\n\n\n\n# å¤æ­æ­¤è·¯å¾æ¯å¦å­å¨\n\nSystem.out.println(test.exists());\n\n\n1\n\n\n\n# è·åfileå¯¹è±¡çæä»¶å/æä»¶å¤¹å\n\nSystem.out.println(f.getName());\n\n\n1\n\n\n\n# è·åfileå¯¹è±¡ä¸ææçæä»¶\n\nFile file = new File("D:\\\\");\nFile[] files = file.listFiles();\n\n\n1\n2\n\n\né»è®¤è·åææéèçæä»¶,è¿åä¸ä¸ªfileæ°ç»,å¦æfileå¯¹è±¡ä¸ºæä»¶åä¼è¿ånull,å¦éè¦æéæè½è®¿é®åæ æ³è·å',normalizedContent:'# file\n\næä»¶åç®å½å¯ä»¥éè¿fileå°è£æå¯¹è±¡\n\nä¸ä¸ªæé æ¹æ³\n\n 1. æä»¶è·¯å¾\n    \n    file f = new file("c:\\\\a.txt");\n    \n    \n    1\n    \n\n 2. è·¯å¾+æä»¶å\n    \n    file f2 = new file("c:\\\\","a.txt");\n    \n    \n    1\n    \n\n 3. fileå¯¹è±¡+æä»¶å\n    \n    file test = new file("c:\\\\");\n    file f3 = new file(test,"a.txt");\n    \n    \n    1\n    2\n    \n\n\n# åå»ºæä»¶\n\nboolean newfile = f.createnewfile();\nsystem.out.println(newfile);\n\n\n1\n2\n\n\nå¨æå®è·¯å¾åå»ºæå®æä»¶,å¦ææä»¶å­å¨åä¸åå»º,åå»ºæåè¿åtrue\n\n\n# åå»ºæä»¶å¤¹\n\ntest.mkdir();\n\n\n1\n\n\nåæ ·ä¼è¿åä¸ä¸ªå¸å°æ»\n\n\n# åå»ºå¤çº§æä»¶å¤¹\n\ntest.mkdirs();\n\n\n1\n\n\n\n# å é¤\n\ntest.delete();\n\n\n1\n\n\nå¯ä»¥å é¤æä»¶/ç©ºæä»¶å¤¹,å é¤åä¸ç»è¿åæ¶ç«,å¦ææä»¶å¤¹åæä¸è¥¿è½æåé¨æä»¶åå é¤åå é¤æä»¶å¤¹\n\n\n# å¤æ­æ¯å¦ä¸ºç®å½\n\nsystem.out.println(test.isdirectory());\n\n\n1\n\n\n\n# å¤æ­æ¯å¦ä¸ºæä»¶\n\nsystem.out.println(f.isfile());\n\n\n1\n\n\n\n# å¤æ­æ­¤è·¯å¾æ¯å¦å­å¨\n\nsystem.out.println(test.exists());\n\n\n1\n\n\n\n# è·åfileå¯¹è±¡çæä»¶å/æä»¶å¤¹å\n\nsystem.out.println(f.getname());\n\n\n1\n\n\n\n# è·åfileå¯¹è±¡ä¸ææçæä»¶\n\nfile file = new file("d:\\\\");\nfile[] files = file.listfiles();\n\n\n1\n2\n\n\né»è®¤è·åææéèçæä»¶,è¿åä¸ä¸ªfileæ°ç»,å¦æfileå¯¹è±¡ä¸ºæä»¶åä¼è¿ånull,å¦éè¦æéæè½è®¿é®åæ æ³è·å',charsets:{cjk:!0},lastUpdated:"2022/03/18, 07:01:11",lastUpdatedTimestamp:1647558071e3},{title:"æ¹æ³å¼ç¨",frontmatter:{title:"æ¹æ³å¼ç¨",date:"2022-03-18T00:48:39.000Z",permalink:"/pages/566611/",categories:["åç«¯","Java"],tags:[null]},regularPath:"/%E5%90%8E%E7%AB%AF/01.JavaSE/57.%E6%96%B9%E6%B3%95%E5%BC%95%E7%94%A8.html",relativePath:"åç«¯/01.JavaSE/57.æ¹æ³å¼ç¨.md",key:"v-3d06de88",path:"/pages/566611/",headersStr:null,content:"# æ¹æ³å¼ç¨\n\njdk8ä¸­ä½¿ç¨äº::çç¨æ³ãå°±æ¯ææ¹æ³å½ååæ°ä¼ å°streamåé¨ï¼ä½¿streamçæ¯ä¸ªåç´ é½ä¼ å¥å°è¯¥æ¹æ³éé¢æ§è¡ä¸ä¸ï¼ååå·è¿ç®å°±æ¯Javaä¸­ç[æ¹æ³å¼ç¨],[æ¹æ³å¼ç¨]çæ ¼å¼æ¯\n\næ¹æ³å¼ç¨ï¼è¥Lamdbaä½ä¸­çåå®¹å·²ç»ææ¹æ³å·²ç»å®ç°äºï¼æä»¬å¯ä»¥ä½¿ç¨æ¹æ³å¼ç¨\n\nä¸ç§ç±»åï¼å¯¹è±¡ï¼ï¼å®ä¾æ¹æ³å ï¼ç±»ï¼ï¼éææ¹æ³åï¼ç±»ï¼ï¼å®ä¾æ¹æ³å\n\nç±»å       è¯­æ³                 å¯¹åºçLAMBDAè¡¨è¾¾å¼\néææ¹æ³å¼ç¨   ç±»å::staticMethod   (args) -> ç±»å.staticMethod(args)\nå®ä¾æ¹æ³å¼ç¨   inst::instMethod   (args) -> inst.instMethod(args)\nå¯¹è±¡æ¹æ³å¼ç¨   ç±»å::instMethod     (inst,args) -> ç±»å.instMethod(args)\næå»ºæ¹æ³å¼ç¨   ç±»å::new            (args) -> new ç±»å(args)\n\nperson -> person.getAge();\n\nPersonï¼ï¼getAge\n    \nnew HashMap<>()\n//ç­ä»·äº\nHsahMap :: new\n\n\n1\n2\n3\n4\n5\n6\n7\n",normalizedContent:"# æ¹æ³å¼ç¨\n\njdk8ä¸­ä½¿ç¨äº::çç¨æ³ãå°±æ¯ææ¹æ³å½ååæ°ä¼ å°streamåé¨ï¼ä½¿streamçæ¯ä¸ªåç´ é½ä¼ å¥å°è¯¥æ¹æ³éé¢æ§è¡ä¸ä¸ï¼ååå·è¿ç®å°±æ¯javaä¸­ç[æ¹æ³å¼ç¨],[æ¹æ³å¼ç¨]çæ ¼å¼æ¯\n\næ¹æ³å¼ç¨ï¼è¥lamdbaä½ä¸­çåå®¹å·²ç»ææ¹æ³å·²ç»å®ç°äºï¼æä»¬å¯ä»¥ä½¿ç¨æ¹æ³å¼ç¨\n\nä¸ç§ç±»åï¼å¯¹è±¡ï¼ï¼å®ä¾æ¹æ³å ï¼ç±»ï¼ï¼éææ¹æ³åï¼ç±»ï¼ï¼å®ä¾æ¹æ³å\n\nç±»å       è¯­æ³                 å¯¹åºçlambdaè¡¨è¾¾å¼\néææ¹æ³å¼ç¨   ç±»å::staticmethod   (args) -> ç±»å.staticmethod(args)\nå®ä¾æ¹æ³å¼ç¨   inst::instmethod   (args) -> inst.instmethod(args)\nå¯¹è±¡æ¹æ³å¼ç¨   ç±»å::instmethod     (inst,args) -> ç±»å.instmethod(args)\næå»ºæ¹æ³å¼ç¨   ç±»å::new            (args) -> new ç±»å(args)\n\nperson -> person.getage();\n\npersonï¼ï¼getage\n    \nnew hashmap<>()\n//ç­ä»·äº\nhsahmap :: new\n\n\n1\n2\n3\n4\n5\n6\n7\n",charsets:{cjk:!0},lastUpdated:"2022/03/18, 07:01:11",lastUpdatedTimestamp:1647558071e3},{title:"å¤çº¿ç¨é«çº§",frontmatter:{title:"å¤çº¿ç¨é«çº§",date:"2022-03-18T00:48:39.000Z",permalink:"/pages/c73ee4/",categories:["åç«¯","Java"],tags:[null]},regularPath:"/%E5%90%8E%E7%AB%AF/01.JavaSE/60.%E5%A4%9A%E7%BA%BF%E7%A8%8B%E9%AB%98%E7%BA%A7.html",relativePath:"åç«¯/01.JavaSE/60.å¤çº¿ç¨é«çº§.md",key:"v-05bbaf37",path:"/pages/c73ee4/",headers:[{level:2,title:"çº¿ç¨ç¶æ",slug:"çº¿ç¨ç¶æ",normalizedTitle:"çº¿ç¨ç¶æ",charIndex:12},{level:2,title:"çº¿ç¨æ± ",slug:"çº¿ç¨æ± ",normalizedTitle:"çº¿ç¨æ± ",charIndex:23},{level:3,title:"åå»ºçº¿ç¨æ± ",slug:"åå»ºçº¿ç¨æ± ",normalizedTitle:"åå»ºçº¿ç¨æ± ",charIndex:31},{level:3,title:"æäº¤ submit",slug:"æäº¤-submit",normalizedTitle:"æäº¤ submit",charIndex:261},{level:3,title:"éæ¯ shutdown",slug:"éæ¯-shutdown",normalizedTitle:"éæ¯ shutdown",charIndex:288},{level:2,title:"ThreadPoolExecutor  èªå®ä¹çº¿ç¨æ± ",slug:"threadpoolexecutor-èªå®ä¹çº¿ç¨æ± ",normalizedTitle:"threadpoolexecutor  èªå®ä¹çº¿ç¨æ± ",charIndex:null},{level:2,title:"Volatile",slug:"volatile",normalizedTitle:"volatile",charIndex:1186},{level:3,title:"ä½¿ç¨Synchronizedåæ­¥ä»£ç å",slug:"ä½¿ç¨synchronizedåæ­¥ä»£ç å",normalizedTitle:"ä½¿ç¨synchronizedåæ­¥ä»£ç å",charIndex:1428},{level:2,title:"åå­æ§",slug:"åå­æ§",normalizedTitle:"åå­æ§",charIndex:1564},{level:3,title:"åå­ç±» Atomic",slug:"åå­ç±»-atomic",normalizedTitle:"åå­ç±» atomic",charIndex:1721},{level:3,title:"Synchronized ä¸ CAS çåºå«(ä¹è§éåæ²è§é)",slug:"synchronized-ä¸-cas-çåºå«-ä¹è§éåæ²è§é",normalizedTitle:"synchronized ä¸ cas çåºå«(ä¹è§éåæ²è§é)",charIndex:2302},{level:2,title:"Hashtable",slug:"hashtable",normalizedTitle:"hashtable",charIndex:2568},{level:2,title:"ConcurrentHashMap",slug:"concurrenthashmap",normalizedTitle:"concurrenthashmap",charIndex:2745},{level:3,title:"JDK1.7åç",slug:"jdk1-7åç",normalizedTitle:"jdk1.7åç",charIndex:2833},{level:3,title:"JDK1.8åç",slug:"jdk1-8åç",normalizedTitle:"jdk1.8åç",charIndex:3318},{level:2,title:"CountDownLatch",slug:"countdownlatch",normalizedTitle:"countdownlatch",charIndex:3642},{level:2,title:"Semaphore",slug:"semaphore",normalizedTitle:"semaphore",charIndex:3818}],headersStr:"çº¿ç¨ç¶æ çº¿ç¨æ±  åå»ºçº¿ç¨æ±  æäº¤ submit éæ¯ shutdown ThreadPoolExecutor  èªå®ä¹çº¿ç¨æ±  Volatile ä½¿ç¨Synchronizedåæ­¥ä»£ç å åå­æ§ åå­ç±» Atomic Synchronized ä¸ CAS çåºå«(ä¹è§éåæ²è§é) Hashtable ConcurrentHashMap JDK1.7åç JDK1.8åç CountDownLatch Semaphore",content:"# å¤çº¿ç¨é«çº§\n\n\n# çº¿ç¨ç¶æ\n\n\n\n\n# çº¿ç¨æ± \n\n\n# åå»ºçº¿ç¨æ± \n\nåå»ºä¸å³é»è®¤ççº¿ç¨æ± ,é»è®¤ä¸ºç©º,(ç©ºåæé æ¹æ³)é»è®¤æ°éæå¤å¯ä»¥å®¹çº³intçæå¤§å¼ä¸ªçº¿ç¨\n\nExecutorService executorService = Executors.newCachedThreadPool(5);\n\n\n1\n\n\nå¸¦åæé ä¸ºè¯¥çº¿ç¨æ± æå®æ°éççº¿ç¨æ± ,å¹¶ä¸æ¯çº¿ç¨æ± åå»ºå°±æ¥ææå®æ°éççº¿ç¨,èæ¯è¯¥çº¿ç¨æ± å¯ä»¥æ¥æçº¿ç¨çä¸é\n\nExecutorsç±»ä¸ºåå»ºçº¿ç¨æ± å¯¹è±¡ç±»\n\nExecutorServiceç±»ä¸ºæ§å¶çº¿ç¨æ± ç±»\n\n\n# æäº¤ submit\n\næçº¿ç¨æäº¤ç»çº¿ç¨æ± å¤ç\n\n\n# éæ¯ shutdown\n\nå³é­çº¿ç¨æ± \n\nexecutorService.shutdown();\n\n\n1\n\n\n\n# ThreadPoolExecutor èªå®ä¹çº¿ç¨æ± \n\n        ThreadPoolExecutor pool = new ThreadPoolExecutor(2,5,2, TimeUnit.SECONDS,new ArrayBlockingQueue<>(10),Executors.defaultThreadFactory(),new ThreadPoolExecutor.AbortPolicy());\n\n\n\n1\n2\n\n\nå±æ7ä¸ªåæ°\n\n 1. æ ¸å¿çº¿ç¨æ°é int ä¸è½å°äº0\n 2. æå¤§çº¿ç¨æ° int ä¸è½å°äºç­äº0.å¹¶ä¸å¤§äºç­äºæ ¸å¿æ°\n 3. ç©ºé²çº¿ç¨æå¤§å­æ´»æ¶é´ int ä¸è½å°äº0\n 4. æ¶é´åä½ Enum TimeUnitä¸­çå¸¸é\n 5. ä»»å¡éå ä¼ éä¸ä¸ªé»å¡éå ä¸è½ä¸ºnull å¦æsubmitççº¿ç¨è¿å¤åä¼ç¼å­å°éåä¸­\n 6. åå»ºçº¿ç¨å·¥ç¨ æä»¬ä½¿ç¨é»è®¤ççº¿ç¨æ± åå»º Executors.defaultThreadFactory() ä¸è½ä¸ºnull\n 7. ä»»å¡çæç»ç­ç¥(å³è¶åºæå¤§çº¿ç¨æ°å¦ä½å¤ç) æä»¬ä½¿ç¨new ThreadPoolExecutor.AbortPolicy()è¶åºåæç» ä¸è½ä¸ºnull å½submitçº¿ç¨æ°éè¶åºäºæå¤§çº¿ç¨æ°+ä»»å¡éåè¾¹çæ¶ è§¦å æç»ç­ç¥\n    * ThreadPoolExecutor.AbortPolicy: ä¸¢å¼ä»»å¡å¹¶æåºRejectedExecutionExceptionå¼å¸¸. é»è®¤çcl\n    * ThreadPoolExecutor.DiscardPolicy: ä¸¢å¼ä»»å¡ ä½ä¸æåºå¼å¸¸ ä¸å¤ªæ¨èä½¿ç¨\n    * ThreadPoolExecutor.DiscardOldestPolicy: æå¼éåä¸­ç­å¾æä¹çä»»å¡ ç¶åæå½åä»»å¡å å¥éåä¸­\n    * ThreadPoolExecutor.CallerRunsPolicy: è°åº¦ä»»å¡çrun()æ¹æ³ç»è¿çº¿ç¨æ± ç´æ¥æ§è¡\n\n\n# Volatile\n\n 1. å åå­æ¯å¯ä¸ç,æ¯ä¸ä¸ªçº¿ç¨é½æèªå·±ççº¿ç¨æ \n 2. æ¯ä¸ªçº¿ç¨å¨ä½¿ç¨å éé¢åéçæ¶å,é½ä¼åæ·è´ä¸ä¸ªåéçå¯æ¬ä¸­.\n 3. å¨çº¿ç¨ä¸­,æ¯ä¸æ¬¡ä½¿ç¨é½æ¯ä»åéå¯æ¬ä¸­è·å\n\nå¦æAçº¿ç¨ ä¿®æ¹äºå ä¸­å±äº«çåéå¼,å¶ä»çº¿ç¨ä¸ä¸å®è½åæ¶çä½¿ç¨ææ°çå¼\n\nä½¿ç¨Volatileå³é®å­å¯ä»¥è§£å³è¿ä¸ªé®é¢,å¼ºå¶çº¿ç¨æ¯æ¬¡ä½¿ç¨æ¶,é½ä¼åå»çä¸ä¸å±äº«åºåä¸­ææ°å¼\n\nåªéè¦å±äº«æ°æ®åé¢å ä¸Volatileå³é®å­\n\nVolatile int count = 100;\n\n\n1\n\n\n\n# ä½¿ç¨Synchronizedåæ­¥ä»£ç å\n\nä½¿ç¨Synchronizedåæ­¥ä»£ç å,ä¹å¯ä»¥è§£å³æ­¤é®é¢\n\n 1. çº¿ç¨è·åé\n 2. æ¸ç©ºåéå¯æ¬\n 3. æ·è´å±äº«åéä¸­ææ°çå¼å°å¯æ¬ä¸­\n 4. æ§è¡ä»£ç \n 5. å°ä¿®æ¹ååéå¯æ¬ä¸­çå¼èµå¼ç»å±äº«æ°æ®\n 6. éæ¾é\n\n\n# åå­æ§\n\nåå­æ§æçæ¯å¨ä¸æ¬¡æå¤æ¬¡æä½ä¸­,è¦ä¹ææçæä½å¨é¨æ§è¡å¹¶ä¸ä¸ä¼åå°ä»»ä½å ç´ èä¸­æ­,è¦ä¹ææçæä½é½ä¸æ§è¡,å¤ä¸ªæä½æ¯ä¸ä¸ªä¸å¯ä»¥åå²çæ´ä½\n\næä»¬å¯ä»¥ä½¿ç¨Synchronized é æ¥å¼ºå¶åè®®ç»ä¸å±äº«æ°æ®çå¯ä¸æ§\n\nèVolatileåªæ¯è®©çº¿ç¨å¨æ§è¡æ¶æ£æµå¨å±äº«æ°æ®ä¸­æ£æµææ°çå¼å¹¶åæ­¥ å¯æ¬ä¸­\n\n\n# åå­ç±» Atomic\n\nJDK1.5æä¾äºä¸ä¸ªåå­ç±» Atomic è¯¥ç±»ä¸ççå®ç°ç±»é½å¯ä»¥å®ç°åå­æ§,æ¹ä¾¿ç¨åºåå¨å¤çº¿ç¨ç¯å¢ä¸ï¼æ éçè¿è¡åå­æä½ãåå­åéçåºå±ä½¿ç¨äºå¤çå¨æä¾çåå­æä»¤ï¼ä½æ¯ä¸åçCPUæ¶æå¯è½æä¾çåå­æä»¤ä¸ä¸æ ·ï¼ä¹æå¯è½éè¦æç§å½¢å¼çåé¨é,æä»¥è¯¥æ¹æ³ä¸è½ç»å¯¹ä¿è¯çº¿ç¨ä¸è¢«é»å¡ã\n\n# AtomicInteger\n\n * AtomicInteger(): ç©ºåæé æ¹æ³ é»è®¤ä¸º0\n * AtomicInteger(int initialValue): å¸¦åæé æ¹æ³ æå®å¼åå­å\n * get(): è·åå¼\n * getAndIncrement(): ä»¥åå­æ¹å¼å +1 å¹¶ä¸è¿åèªå¢åçå¼\n * incrementAndGet(): ä»¥åå­æ¹å¼å +1 å¹¶ä¸è¿åèªå¢åçå¼\n * addAndGet(int data): ä»¥åå­æ¹å¼ ä¸æå®å¼ç¸å  å¹¶è¿åç»æ\n * getAndSet(int value): ä»¥åå­æ¹å¼ è®¾ç½®åå­åä¸ºæå®å¼ å¹¶è¿åæ§çå¼\n\nåç:\n\nèªæé + CAS ç®æ³\n\nCASç®æ³:æ3ä¸ªæä½æ°(åå­å¼V , æ§çé¢æå¼A , è¦ä¿®æ¹çå¼B )\n\nå½æ§çé¢æA == åå­å¼ æ­¤æ¶ä¿®æ¹æå å°Væ¹ä¸ºB\n\nå½æ§çé¢æA != åå­å¼ ä¿®æ¹å¤±è´¥ ä¸åä»»ä½æä½\n\nå¹¶éæ°è·åç°å¨çææ°å¼(è¿ä¸ªå¨ä½ç§°ä¸ºèªæ)\n\n\n\n\n# Synchronized ä¸ CAS çåºå«(ä¹è§éåæ²è§é)\n\nç¸åç¹: å¨å¤çº¿ç¨åºåä¸,é½å¯ä»¥ä¿è¯å±äº«æ°æ®çå®å¨æ§\n\nä¸åç¹:\n\n * Synchronized æ»æ¯ä»æåçè§åº¦åºå,è®¤ä¸ºæ¯æ¬¡è·åæ°æ®çæ¶å,å«äººé½æå¯è½ä¿®æ¹.æä»¥å¨æ¯æ¬¡æä½å±äº«æ°æ®ä¹å,é½ä¼ä¸é.(æ²è§é)\n * CAS æ¯ä¹è§çè§åº¦åºå,åè®¾æ¯æ¬¡è·åæ°æ®å«äººé½ä¸ä¼ä¿®æ¹,æä»¥ä¸ä¼ä¸é.åªä¸è¿å¨ä¿®æ¹å±äº«æ°æ®çæ¶å,ä¼å»æ£æ¥ä¸ä¸,å«äººææ²¡æä¿®æ¹è¿è¿ä¸ªæ°æ®. (ä¹è§é) å¦æå«äººä¿®æ¹è¿,é£ä¹åæ¬¡è·åææ°çå¼ å¦æå«äººæ²¡æä¿®æ¹è¿,é£ä¹ç´æ¥ä¿®æ¹å±äº«æ°æ®çå¼\n\n\n# Hashtable\n\nå¨å¤çº¿ç¨ä¸ä½¿ç¨HashMapä¸æ¯çº¿ç¨å®å¨çï¼å¨å¤çº¿ç¨å¹¶åçç¯å¢ä¸ï¼å¯è½ä¼äº§çæ­»éç­é®é¢ã\n\n 1. Hashtableéç¨æ²è§é Synchronized çå½¢å¼ä¿è¯æ°æ®çå®å¨æ§\n 2. åªææçº¿ç¨è®¿é®,ä¼å°æ´å¼ è¡¨å¨é¨éèµ·æ¥,æä»¥Hashtableæçä½ä¸\n 3. åºå±åçä¸hashmapä¸æ ·ä¹æ¯æ°ç»+é¾è¡¨å®ç°,å¶ä»æ å¼\n\n\n# ConcurrentHashMap\n\nå¦æmapéåè¦ä½¿ç¨å¤çº¿ç¨æä»¬å¯ä»¥ä½¿ç¨ConcurrentHashMap,å®çº¿ç¨å®å¨,æçè¾é«\n\nHashtableå·²ç»è¢«æ·æ±°äº\n\n\n# JDK1.7åç\n\n 1. åå»ºä¸ä¸ªé»è®¤é¿åº¦ä¸º16,é»è®¤å è½½å  ä½0.75çæ°ç» æ°ç»åä¸º Segmewnt æ æ³æ©å®¹\n 2. ååå»ºä¸ä¸ªé¿åº¦ä¸º2çå°æ°ç»(æ°ç»åä¸ºHashEntey) æå°åå¼èµå¼ç»Segmewntæ°ç»ä¸­çç´¢å¼0 (æ¨¡æ¿) å¶ä»ç´¢å¼é½ä¸ºnull\n 3. æ ¹æ®é®çåå¸å¼è®¡ç®åº Segmewnt æ°ç»ç´¢å¼\n 4. å¦ææ­¤ç´¢å¼ä¸ºç©º å°±ä¼åå»ºä¸ä¸ªé¿åº¦é»è®¤ä¸º2çæ°ç» å¹¶æè¿ä¸ªå°æ°ç»çå°åå¼ èµå¼ç» è¯¥ç´¢å¼\n 5. åæ¬¡å©ç¨é®çåå¸å¼è®¡ç®åºå¨ å°æ°ç» åºå­å¥çç´¢å¼(äºæ¬¡åå¸)\n 6. å¦æä¸ºç©º,åç´æ¥æ·»å  å¦éç©ºåequalsæ¯è¾ ä¸ååå­å¥ (é¾è¡¨å½¢å¼æè½½å¨æ°åç´ ä¸é¢)\n 7. å°æ°ç»çå è½½å  åæ ·ä¸º0.75 å½è¶è¿äº2*0.75=1.5 å¼ºè½¬ä¸ºint=1 ä¼èªå¨æ©å®¹2å\n 8. Segmewntæ°ç»æ æ³æ©å®¹(æå®ä¸º16) å ä¸ºåªæHashEnteyå°æ°ç»å¨æ©å®¹\n 9. ConcurrentHashMap éè¿Segmewnt ç´¢å¼ æ¥å é(æ²è§é Synchronized ) æä»¥å¨JDK1.7 é»è®¤æåµä¸,æå¤åè®¸ 16ä¸ªçº¿ç¨åæ¶è®¿é®\n\n\n# JDK1.8åç\n\nåºå±ç»æ:åå¸è¡¨(æ°ç» é¾è¡¨ çº¢é»æ ç»åä½)\n\nç»åCASæºå¶ + Synchronized åæ­¥ä»£ç åå½¢å¼æ¥ä¿è¯çº¿ç¨å®å¨\n\n 1. å¦æä½¿ç¨ç©ºåæé æ¹æ³åå»ºConcurrentHashMap,åä»ä¹äºæé½ä¸å. åªæå¨ç¬¬ä¸æ¬¡æ·»å åç´ æ¶ååå»ºåå¸è¡¨\n 2. è®¡ç®åºå½ååç´ åºå­å¥çç´¢å¼\n 3. å¦æè¯¥ç´¢å¼ä¸ºä¸ºnull,åå©ç¨CASç®æ³,å°æ¬ç»ç¹æ·»å å°æ°ç»ä¸­\n 4. å¦æè¯¥ç´¢å¼ä¸ä¸ºnull,åå©ç¨Volatileå³é®å­è·åå½åä½ç½®ææ°çç»ç¹å°å,æè½½å°å®çä¸é¢,åæé¾è¡¨\n 5. å½é¾è¡¨é¿åº¦å¤§äºç­äº8æ¶,èªå¨è½¬æçº¢é»æ \n 6. ä»¥é¾è¡¨æçº¢é»æ å¤´ç»ç¹ä¸ºéå¯¹è±¡,éåæ²è§é(Synchronized)ä¿è¯å¤çº¿ç¨æ°æ®çå®å¨æ§\n\n\n# CountDownLatch\n\nè®©æä¸æ¡çº¿ç¨ç­å¾å¶ä»çº¿ç¨æ§è¡å®æ¯ä¹åå¨æ§è¡.\n\n * CountDownLatch(int count): å¸¦åæé æ¹æ³ ä¼ éçº¿ç¨æ°,è¡¨ç¤ºç­å¾çº¿ç¨æ° å®ä¹ä¸ä¸ªè®¡æ°å¨\n * await(): è®©çº¿ç¨ç­å¾ ç­å¾å¶ä»çº¿ç¨æ§è¡å®æ¯åææ§è¡ è®¡æ°å¨ä¸º0æ§è¡\n * countDown(): å½åçº¿ç¨æ§è¡å®æ¯ å°è®¡æ°å¨-1\n\n\n# Semaphore\n\nå¯ä»¥æ§å¶è®¿é®ç¹å®èµæºççº¿ç¨æ°é å¨çº¿ç¨ç±»ä¸­åå»ºå¹¶ä½¿ç¨\n\n * Semaphore(int permits): å¸¦åæé æ¹æ³ æå¤åè®¸å¤å°æ¡çº¿ç¨åæ¶æ§è¡\n * acquire(): è·åéä¿¡è¯\n * release(): å½è¿éä¿¡è¯",normalizedContent:"# å¤çº¿ç¨é«çº§\n\n\n# çº¿ç¨ç¶æ\n\n\n\n\n# çº¿ç¨æ± \n\n\n# åå»ºçº¿ç¨æ± \n\nåå»ºä¸å³é»è®¤ççº¿ç¨æ± ,é»è®¤ä¸ºç©º,(ç©ºåæé æ¹æ³)é»è®¤æ°éæå¤å¯ä»¥å®¹çº³intçæå¤§å¼ä¸ªçº¿ç¨\n\nexecutorservice executorservice = executors.newcachedthreadpool(5);\n\n\n1\n\n\nå¸¦åæé ä¸ºè¯¥çº¿ç¨æ± æå®æ°éççº¿ç¨æ± ,å¹¶ä¸æ¯çº¿ç¨æ± åå»ºå°±æ¥ææå®æ°éççº¿ç¨,èæ¯è¯¥çº¿ç¨æ± å¯ä»¥æ¥æçº¿ç¨çä¸é\n\nexecutorsç±»ä¸ºåå»ºçº¿ç¨æ± å¯¹è±¡ç±»\n\nexecutorserviceç±»ä¸ºæ§å¶çº¿ç¨æ± ç±»\n\n\n# æäº¤ submit\n\næçº¿ç¨æäº¤ç»çº¿ç¨æ± å¤ç\n\n\n# éæ¯ shutdown\n\nå³é­çº¿ç¨æ± \n\nexecutorservice.shutdown();\n\n\n1\n\n\n\n# threadpoolexecutor èªå®ä¹çº¿ç¨æ± \n\n        threadpoolexecutor pool = new threadpoolexecutor(2,5,2, timeunit.seconds,new arrayblockingqueue<>(10),executors.defaultthreadfactory(),new threadpoolexecutor.abortpolicy());\n\n\n\n1\n2\n\n\nå±æ7ä¸ªåæ°\n\n 1. æ ¸å¿çº¿ç¨æ°é int ä¸è½å°äº0\n 2. æå¤§çº¿ç¨æ° int ä¸è½å°äºç­äº0.å¹¶ä¸å¤§äºç­äºæ ¸å¿æ°\n 3. ç©ºé²çº¿ç¨æå¤§å­æ´»æ¶é´ int ä¸è½å°äº0\n 4. æ¶é´åä½ enum timeunitä¸­çå¸¸é\n 5. ä»»å¡éå ä¼ éä¸ä¸ªé»å¡éå ä¸è½ä¸ºnull å¦æsubmitççº¿ç¨è¿å¤åä¼ç¼å­å°éåä¸­\n 6. åå»ºçº¿ç¨å·¥ç¨ æä»¬ä½¿ç¨é»è®¤ççº¿ç¨æ± åå»º executors.defaultthreadfactory() ä¸è½ä¸ºnull\n 7. ä»»å¡çæç»ç­ç¥(å³è¶åºæå¤§çº¿ç¨æ°å¦ä½å¤ç) æä»¬ä½¿ç¨new threadpoolexecutor.abortpolicy()è¶åºåæç» ä¸è½ä¸ºnull å½submitçº¿ç¨æ°éè¶åºäºæå¤§çº¿ç¨æ°+ä»»å¡éåè¾¹çæ¶ è§¦å æç»ç­ç¥\n    * threadpoolexecutor.abortpolicy: ä¸¢å¼ä»»å¡å¹¶æåºrejectedexecutionexceptionå¼å¸¸. é»è®¤çcl\n    * threadpoolexecutor.discardpolicy: ä¸¢å¼ä»»å¡ ä½ä¸æåºå¼å¸¸ ä¸å¤ªæ¨èä½¿ç¨\n    * threadpoolexecutor.discardoldestpolicy: æå¼éåä¸­ç­å¾æä¹çä»»å¡ ç¶åæå½åä»»å¡å å¥éåä¸­\n    * threadpoolexecutor.callerrunspolicy: è°åº¦ä»»å¡çrun()æ¹æ³ç»è¿çº¿ç¨æ± ç´æ¥æ§è¡\n\n\n# volatile\n\n 1. å åå­æ¯å¯ä¸ç,æ¯ä¸ä¸ªçº¿ç¨é½æèªå·±ççº¿ç¨æ \n 2. æ¯ä¸ªçº¿ç¨å¨ä½¿ç¨å éé¢åéçæ¶å,é½ä¼åæ·è´ä¸ä¸ªåéçå¯æ¬ä¸­.\n 3. å¨çº¿ç¨ä¸­,æ¯ä¸æ¬¡ä½¿ç¨é½æ¯ä»åéå¯æ¬ä¸­è·å\n\nå¦æaçº¿ç¨ ä¿®æ¹äºå ä¸­å±äº«çåéå¼,å¶ä»çº¿ç¨ä¸ä¸å®è½åæ¶çä½¿ç¨ææ°çå¼\n\nä½¿ç¨volatileå³é®å­å¯ä»¥è§£å³è¿ä¸ªé®é¢,å¼ºå¶çº¿ç¨æ¯æ¬¡ä½¿ç¨æ¶,é½ä¼åå»çä¸ä¸å±äº«åºåä¸­ææ°å¼\n\nåªéè¦å±äº«æ°æ®åé¢å ä¸volatileå³é®å­\n\nvolatile int count = 100;\n\n\n1\n\n\n\n# ä½¿ç¨synchronizedåæ­¥ä»£ç å\n\nä½¿ç¨synchronizedåæ­¥ä»£ç å,ä¹å¯ä»¥è§£å³æ­¤é®é¢\n\n 1. çº¿ç¨è·åé\n 2. æ¸ç©ºåéå¯æ¬\n 3. æ·è´å±äº«åéä¸­ææ°çå¼å°å¯æ¬ä¸­\n 4. æ§è¡ä»£ç \n 5. å°ä¿®æ¹ååéå¯æ¬ä¸­çå¼èµå¼ç»å±äº«æ°æ®\n 6. éæ¾é\n\n\n# åå­æ§\n\nåå­æ§æçæ¯å¨ä¸æ¬¡æå¤æ¬¡æä½ä¸­,è¦ä¹ææçæä½å¨é¨æ§è¡å¹¶ä¸ä¸ä¼åå°ä»»ä½å ç´ èä¸­æ­,è¦ä¹ææçæä½é½ä¸æ§è¡,å¤ä¸ªæä½æ¯ä¸ä¸ªä¸å¯ä»¥åå²çæ´ä½\n\næä»¬å¯ä»¥ä½¿ç¨synchronized é æ¥å¼ºå¶åè®®ç»ä¸å±äº«æ°æ®çå¯ä¸æ§\n\nèvolatileåªæ¯è®©çº¿ç¨å¨æ§è¡æ¶æ£æµå¨å±äº«æ°æ®ä¸­æ£æµææ°çå¼å¹¶åæ­¥ å¯æ¬ä¸­\n\n\n# åå­ç±» atomic\n\njdk1.5æä¾äºä¸ä¸ªåå­ç±» atomic è¯¥ç±»ä¸ççå®ç°ç±»é½å¯ä»¥å®ç°åå­æ§,æ¹ä¾¿ç¨åºåå¨å¤çº¿ç¨ç¯å¢ä¸ï¼æ éçè¿è¡åå­æä½ãåå­åéçåºå±ä½¿ç¨äºå¤çå¨æä¾çåå­æä»¤ï¼ä½æ¯ä¸åçcpuæ¶æå¯è½æä¾çåå­æä»¤ä¸ä¸æ ·ï¼ä¹æå¯è½éè¦æç§å½¢å¼çåé¨é,æä»¥è¯¥æ¹æ³ä¸è½ç»å¯¹ä¿è¯çº¿ç¨ä¸è¢«é»å¡ã\n\n# atomicinteger\n\n * atomicinteger(): ç©ºåæé æ¹æ³ é»è®¤ä¸º0\n * atomicinteger(int initialvalue): å¸¦åæé æ¹æ³ æå®å¼åå­å\n * get(): è·åå¼\n * getandincrement(): ä»¥åå­æ¹å¼å +1 å¹¶ä¸è¿åèªå¢åçå¼\n * incrementandget(): ä»¥åå­æ¹å¼å +1 å¹¶ä¸è¿åèªå¢åçå¼\n * addandget(int data): ä»¥åå­æ¹å¼ ä¸æå®å¼ç¸å  å¹¶è¿åç»æ\n * getandset(int value): ä»¥åå­æ¹å¼ è®¾ç½®åå­åä¸ºæå®å¼ å¹¶è¿åæ§çå¼\n\nåç:\n\nèªæé + cas ç®æ³\n\ncasç®æ³:æ3ä¸ªæä½æ°(åå­å¼v , æ§çé¢æå¼a , è¦ä¿®æ¹çå¼b )\n\nå½æ§çé¢æa == åå­å¼ æ­¤æ¶ä¿®æ¹æå å°væ¹ä¸ºb\n\nå½æ§çé¢æa != åå­å¼ ä¿®æ¹å¤±è´¥ ä¸åä»»ä½æä½\n\nå¹¶éæ°è·åç°å¨çææ°å¼(è¿ä¸ªå¨ä½ç§°ä¸ºèªæ)\n\n\n\n\n# synchronized ä¸ cas çåºå«(ä¹è§éåæ²è§é)\n\nç¸åç¹: å¨å¤çº¿ç¨åºåä¸,é½å¯ä»¥ä¿è¯å±äº«æ°æ®çå®å¨æ§\n\nä¸åç¹:\n\n * synchronized æ»æ¯ä»æåçè§åº¦åºå,è®¤ä¸ºæ¯æ¬¡è·åæ°æ®çæ¶å,å«äººé½æå¯è½ä¿®æ¹.æä»¥å¨æ¯æ¬¡æä½å±äº«æ°æ®ä¹å,é½ä¼ä¸é.(æ²è§é)\n * cas æ¯ä¹è§çè§åº¦åºå,åè®¾æ¯æ¬¡è·åæ°æ®å«äººé½ä¸ä¼ä¿®æ¹,æä»¥ä¸ä¼ä¸é.åªä¸è¿å¨ä¿®æ¹å±äº«æ°æ®çæ¶å,ä¼å»æ£æ¥ä¸ä¸,å«äººææ²¡æä¿®æ¹è¿è¿ä¸ªæ°æ®. (ä¹è§é) å¦æå«äººä¿®æ¹è¿,é£ä¹åæ¬¡è·åææ°çå¼ å¦æå«äººæ²¡æä¿®æ¹è¿,é£ä¹ç´æ¥ä¿®æ¹å±äº«æ°æ®çå¼\n\n\n# hashtable\n\nå¨å¤çº¿ç¨ä¸ä½¿ç¨hashmapä¸æ¯çº¿ç¨å®å¨çï¼å¨å¤çº¿ç¨å¹¶åçç¯å¢ä¸ï¼å¯è½ä¼äº§çæ­»éç­é®é¢ã\n\n 1. hashtableéç¨æ²è§é synchronized çå½¢å¼ä¿è¯æ°æ®çå®å¨æ§\n 2. åªææçº¿ç¨è®¿é®,ä¼å°æ´å¼ è¡¨å¨é¨éèµ·æ¥,æä»¥hashtableæçä½ä¸\n 3. åºå±åçä¸hashmapä¸æ ·ä¹æ¯æ°ç»+é¾è¡¨å®ç°,å¶ä»æ å¼\n\n\n# concurrenthashmap\n\nå¦æmapéåè¦ä½¿ç¨å¤çº¿ç¨æä»¬å¯ä»¥ä½¿ç¨concurrenthashmap,å®çº¿ç¨å®å¨,æçè¾é«\n\nhashtableå·²ç»è¢«æ·æ±°äº\n\n\n# jdk1.7åç\n\n 1. åå»ºä¸ä¸ªé»è®¤é¿åº¦ä¸º16,é»è®¤å è½½å  ä½0.75çæ°ç» æ°ç»åä¸º segmewnt æ æ³æ©å®¹\n 2. ååå»ºä¸ä¸ªé¿åº¦ä¸º2çå°æ°ç»(æ°ç»åä¸ºhashentey) æå°åå¼èµå¼ç»segmewntæ°ç»ä¸­çç´¢å¼0 (æ¨¡æ¿) å¶ä»ç´¢å¼é½ä¸ºnull\n 3. æ ¹æ®é®çåå¸å¼è®¡ç®åº segmewnt æ°ç»ç´¢å¼\n 4. å¦ææ­¤ç´¢å¼ä¸ºç©º å°±ä¼åå»ºä¸ä¸ªé¿åº¦é»è®¤ä¸º2çæ°ç» å¹¶æè¿ä¸ªå°æ°ç»çå°åå¼ èµå¼ç» è¯¥ç´¢å¼\n 5. åæ¬¡å©ç¨é®çåå¸å¼è®¡ç®åºå¨ å°æ°ç» åºå­å¥çç´¢å¼(äºæ¬¡åå¸)\n 6. å¦æä¸ºç©º,åç´æ¥æ·»å  å¦éç©ºåequalsæ¯è¾ ä¸ååå­å¥ (é¾è¡¨å½¢å¼æè½½å¨æ°åç´ ä¸é¢)\n 7. å°æ°ç»çå è½½å  åæ ·ä¸º0.75 å½è¶è¿äº2*0.75=1.5 å¼ºè½¬ä¸ºint=1 ä¼èªå¨æ©å®¹2å\n 8. segmewntæ°ç»æ æ³æ©å®¹(æå®ä¸º16) å ä¸ºåªæhashenteyå°æ°ç»å¨æ©å®¹\n 9. concurrenthashmap éè¿segmewnt ç´¢å¼ æ¥å é(æ²è§é synchronized ) æä»¥å¨jdk1.7 é»è®¤æåµä¸,æå¤åè®¸ 16ä¸ªçº¿ç¨åæ¶è®¿é®\n\n\n# jdk1.8åç\n\nåºå±ç»æ:åå¸è¡¨(æ°ç» é¾è¡¨ çº¢é»æ ç»åä½)\n\nç»åcasæºå¶ + synchronized åæ­¥ä»£ç åå½¢å¼æ¥ä¿è¯çº¿ç¨å®å¨\n\n 1. å¦æä½¿ç¨ç©ºåæé æ¹æ³åå»ºconcurrenthashmap,åä»ä¹äºæé½ä¸å. åªæå¨ç¬¬ä¸æ¬¡æ·»å åç´ æ¶ååå»ºåå¸è¡¨\n 2. è®¡ç®åºå½ååç´ åºå­å¥çç´¢å¼\n 3. å¦æè¯¥ç´¢å¼ä¸ºä¸ºnull,åå©ç¨casç®æ³,å°æ¬ç»ç¹æ·»å å°æ°ç»ä¸­\n 4. å¦æè¯¥ç´¢å¼ä¸ä¸ºnull,åå©ç¨volatileå³é®å­è·åå½åä½ç½®ææ°çç»ç¹å°å,æè½½å°å®çä¸é¢,åæé¾è¡¨\n 5. å½é¾è¡¨é¿åº¦å¤§äºç­äº8æ¶,èªå¨è½¬æçº¢é»æ \n 6. ä»¥é¾è¡¨æçº¢é»æ å¤´ç»ç¹ä¸ºéå¯¹è±¡,éåæ²è§é(synchronized)ä¿è¯å¤çº¿ç¨æ°æ®çå®å¨æ§\n\n\n# countdownlatch\n\nè®©æä¸æ¡çº¿ç¨ç­å¾å¶ä»çº¿ç¨æ§è¡å®æ¯ä¹åå¨æ§è¡.\n\n * countdownlatch(int count): å¸¦åæé æ¹æ³ ä¼ éçº¿ç¨æ°,è¡¨ç¤ºç­å¾çº¿ç¨æ° å®ä¹ä¸ä¸ªè®¡æ°å¨\n * await(): è®©çº¿ç¨ç­å¾ ç­å¾å¶ä»çº¿ç¨æ§è¡å®æ¯åææ§è¡ è®¡æ°å¨ä¸º0æ§è¡\n * countdown(): å½åçº¿ç¨æ§è¡å®æ¯ å°è®¡æ°å¨-1\n\n\n# semaphore\n\nå¯ä»¥æ§å¶è®¿é®ç¹å®èµæºççº¿ç¨æ°é å¨çº¿ç¨ç±»ä¸­åå»ºå¹¶ä½¿ç¨\n\n * semaphore(int permits): å¸¦åæé æ¹æ³ æå¤åè®¸å¤å°æ¡çº¿ç¨åæ¶æ§è¡\n * acquire(): è·åéä¿¡è¯\n * release(): å½è¿éä¿¡è¯",charsets:{cjk:!0},lastUpdated:"2022/03/18, 07:01:11",lastUpdatedTimestamp:1647558071e3},{title:"å¤çº¿ç¨",frontmatter:{title:"å¤çº¿ç¨",date:"2022-03-18T00:48:39.000Z",permalink:"/pages/606294/",categories:["åç«¯","Java"],tags:[null]},regularPath:"/%E5%90%8E%E7%AB%AF/01.JavaSE/59.%E5%A4%9A%E7%BA%BF%E7%A8%8B.html",relativePath:"åç«¯/01.JavaSE/59.å¤çº¿ç¨.md",key:"v-97dc2282",path:"/pages/606294/",headers:[{level:2,title:"å¹¶è¡åå¹¶å",slug:"å¹¶è¡åå¹¶å",normalizedTitle:"å¹¶è¡åå¹¶å",charIndex:10},{level:2,title:"è¿ç¨åçº¿ç¨",slug:"è¿ç¨åçº¿ç¨",normalizedTitle:"è¿ç¨åçº¿ç¨",charIndex:74},{level:3,title:"è¿ç¨",slug:"è¿ç¨",normalizedTitle:"è¿ç¨",charIndex:74},{level:3,title:"çº¿ç¨",slug:"çº¿ç¨",normalizedTitle:"çº¿ç¨",charIndex:3},{level:2,title:"ç»§æ¿Thread",slug:"ç»§æ¿thread",normalizedTitle:"ç»§æ¿thread",charIndex:243},{level:2,title:"Runnableæ¥å£",slug:"runnableæ¥å£",normalizedTitle:"runnableæ¥å£",charIndex:634},{level:2,title:"Callableæ¥å£ä¸Future",slug:"callableæ¥å£ä¸future",normalizedTitle:"callableæ¥å£ä¸future",charIndex:1041},{level:2,title:"Thread",slug:"thread",normalizedTitle:"thread",charIndex:245},{level:3,title:"getName",slug:"getname",normalizedTitle:"getname",charIndex:1807},{level:3,title:"setName",slug:"setname",normalizedTitle:"setname",charIndex:1847},{level:3,title:"currentThread",slug:"currentthread",normalizedTitle:"currentthread",charIndex:1925},{level:2,title:"çº¿ç¨ä¼ç ",slug:"çº¿ç¨ä¼ç ",normalizedTitle:"çº¿ç¨ä¼ç ",charIndex:2077},{level:2,title:"çº¿ç¨è°åº¦",slug:"çº¿ç¨è°åº¦",normalizedTitle:"çº¿ç¨è°åº¦",charIndex:2133},{level:2,title:"çº¿ç¨çä¼åçº§",slug:"çº¿ç¨çä¼åçº§",normalizedTitle:"çº¿ç¨çä¼åçº§",charIndex:2253},{level:3,title:"getProiority",slug:"getproiority",normalizedTitle:"getproiority",charIndex:2264},{level:3,title:"setPriority",slug:"setpriority",normalizedTitle:"setpriority",charIndex:2336},{level:2,title:"åå°çº¿ç¨/å®æ¤çº¿ç¨",slug:"åå°çº¿ç¨-å®æ¤çº¿ç¨",normalizedTitle:"åå°çº¿ç¨/å®æ¤çº¿ç¨",charIndex:2440},{level:3,title:"setDaemon",slug:"setdaemon",normalizedTitle:"setdaemon",charIndex:2454},{level:2,title:"çº¿ç¨çå®å¨é®é¢",slug:"çº¿ç¨çå®å¨é®é¢",normalizedTitle:"çº¿ç¨çå®å¨é®é¢",charIndex:2527},{level:3,title:"åæ­¥ä»£ç å",slug:"åæ­¥ä»£ç å",normalizedTitle:"åæ­¥ä»£ç å",charIndex:2539},{level:3,title:"åæ­¥æ¹æ³",slug:"åæ­¥æ¹æ³",normalizedTitle:"åæ­¥æ¹æ³",charIndex:2798},{level:2,title:"Locké",slug:"locké",normalizedTitle:"locké",charIndex:2891},{level:3,title:"lock",slug:"lock",normalizedTitle:"lock",charIndex:2963},{level:3,title:"unlock",slug:"unlock",normalizedTitle:"unlock",charIndex:3031},{level:2,title:"æ­»é",slug:"æ­»é",normalizedTitle:"æ­»é",charIndex:3068},{level:2,title:"çæèæ¶è´¹è(ç­å¾ å¤éæºå¶)",slug:"çæèæ¶è´¹è-ç­å¾-å¤éæºå¶",normalizedTitle:"çæèæ¶è´¹è(ç­å¾ å¤éæºå¶)",charIndex:3125},{level:3,title:"ç­å¾ wait",slug:"ç­å¾-wait",normalizedTitle:"ç­å¾ wait",charIndex:3145},{level:3,title:"å¤é notify",slug:"å¤é-notify",normalizedTitle:"å¤é notify",charIndex:3186},{level:3,title:"å¤éææ  notifyall",slug:"å¤éææ-notifyall",normalizedTitle:"å¤éææ  notifyall",charIndex:null},{level:2,title:"é»å¡éåå®ç°ç­å¾å¤éæºå¶",slug:"é»å¡éåå®ç°ç­å¾å¤éæºå¶",normalizedTitle:"é»å¡éåå®ç°ç­å¾å¤éæºå¶",charIndex:3337},{level:3,title:"ArrayBlockingQueue",slug:"arrayblockingqueue",normalizedTitle:"arrayblockingqueue",charIndex:3354},{level:3,title:"LinkedBlockingQueue",slug:"linkedblockingqueue",normalizedTitle:"linkedblockingqueue",charIndex:3486}],headersStr:"å¹¶è¡åå¹¶å è¿ç¨åçº¿ç¨ è¿ç¨ çº¿ç¨ ç»§æ¿Thread Runnableæ¥å£ Callableæ¥å£ä¸Future Thread getName setName currentThread çº¿ç¨ä¼ç  çº¿ç¨è°åº¦ çº¿ç¨çä¼åçº§ getProiority setPriority åå°çº¿ç¨/å®æ¤çº¿ç¨ setDaemon çº¿ç¨çå®å¨é®é¢ åæ­¥ä»£ç å åæ­¥æ¹æ³ Locké lock unlock æ­»é çæèæ¶è´¹è(ç­å¾ å¤éæºå¶) ç­å¾ wait å¤é notify å¤éææ  notifyall é»å¡éåå®ç°ç­å¾å¤éæºå¶ ArrayBlockingQueue LinkedBlockingQueue",content:'# å¤çº¿ç¨\n\n\n# å¹¶è¡åå¹¶å\n\nå¹¶è¡:å¨åä¸æ¶å»,æå¤ä¸ªæä»¤å¨å¤ä¸ªcpuä¸åæ¶æ§è¡\n\nå¹¶å:å¨åä¸æ¶å»,æå¤ä¸ªæä»¤å¨åä¸ªCPUä¸äº¤æ¿æ§è¡\n\n\n# è¿ç¨åçº¿ç¨\n\n\n# è¿ç¨\n\nè¿ç¨:æ¯æ­£å¨è¿è¡çè½¯ä»¶\n\nç¬ç«æ§:è¿ç¨æ¯ä¸è´¯è½ç¬ç«è¿è¡çåºæ¬åä½\n\nå¨ææ§:è¿ç¨çå®è´¨æ¯ç¨åºçä¸æ¬¡æ§è¡è¿ç¨\n\nå¹¶åæ§:ä»»ä½è¿ç¨é½å¯ä»¥åå¶ä»è¿ç¨ä¸èµ·å¹¶åæ§è¡\n\n\n# çº¿ç¨\n\nçº¿ç¨:æ¯è¿ç¨ä¸­çåä¸ªé¡ºåºæ§å¶æµ,æ¯ä¸æ¡æ§è¡è·¯å¾\n\n * åçº¿ç¨:ä¸ä¸ªè¿ç¨åªæä¸æ¡æ§è¡è·¯å¾\n * å¤çº¿ç¨:ä¸ä¸ªè¿ç¨æ¥æå¤ä¸ªæ§è¡è·¯å¾\n\n\n# ç»§æ¿Thread\n\n * ç±»ç»§æ¿Threadç±»\n\n * éårun()æ¹æ³\n\n * public static class xian extends Thread {\n       @Override\n       public void run() {\n           super.run();\n       }\n   }\n   \n   \n   1\n   2\n   3\n   4\n   5\n   6\n   \n\n * åå»ºç±»å¯¹è±¡\n\n * è°ç¨ç¨start()æ¹æ³ å¯å¨çº¿ç¨ äº¤ç±JVMè°ç¨æ­¤çº¿ç¨çrun()æ¹æ³\n\n * public static void main(String[] args) {\n       xian x = new xian();\n       x.start();\n   }\n   \n   \n   1\n   2\n   3\n   4\n   \n\n\n# Runnableæ¥å£\n\n * ç±»å®ç°Runnableæ¥å£\n\n * éårunæ¹æ³\n\n * public static class xian2 implements Runnable{\n       @Override\n       public void run() {\n           System.out.println("çº¿ç¨å¯å¨");\n       }\n   }\n   \n   \n   1\n   2\n   3\n   4\n   5\n   6\n   \n\n * åå»ºç±»å¯¹è±¡\n\n * xian2 x =new xian2();\n   \n   \n   1\n   \n\n * åå»ºThreadç±»å¯¹è±¡,æç±»å¯¹è±¡ä½ä¸ºæé æ¹æ³çåæ°\n\n * Thread t1 =new Thread(x);\n   \n   \n   1\n   \n\n * å¯å¨çº¿ç¨\n\n * t1.start();\n   \n   \n   1\n   \n\n\n# Callableæ¥å£ä¸Future\n\n * ç±»å®ç°Callableæ¥å£\n\n * éåcall()æ¹æ³\n\n * // æ¥å£çæ³åæ¯callæ¹æ³è¿åçç±»å\n       public static class xian3 implements Callable<String> {\n           @Override\n           public String call() throws Exception {\n               //è¿åçä¸ºçº¿ç¨æ§è¡å®æ¯çç»æ,æ§è¡è¯­å¥å¨æ¹æ³ä½å\n               return "ä½ å¥½å¤çº¿ç¨";\n           }\n       }\n   \n   \n   1\n   2\n   3\n   4\n   5\n   6\n   7\n   8\n   \n\n * åå»ºç±»å¯¹è±¡\n\n * xian3 x = new xian3();\n   \n   \n   1\n   \n\n * åå»ºFutureçå®ç°ç±»FutureTaskå¯¹è±¡,å¹¶å°ç±»å¯¹è±¡ä½ä¸ºæé æ¹æ³åæ°ä¼ é\n\n * FutureTask<String> ft = new FutureTask<>(x);\n   \n   \n   1\n   \n\n * åå»ºThreadç±»å¯¹è±¡,å¹¶æFutureTaskå¯¹è±¡ä½ä¸ºæé æ¹æ³åæ°ä¼ é\n\n * Thread t1 = new Thread(ft);\n   \n   \n   1\n   \n\n * å¯å¨çº¿ç¨\n\n * t1.start();\n   \n   \n   1\n   \n\n// è·åçº¿ç¨æ§è¡å®æ¯çç»æ,getæ¹æ³ä¸å®å¨çº¿ç¨å¯å¨ä¹å,å¦ågetä¸é¢è¯­å¥ä¸æ§è¡\nString s = ft.get();\nSystem.out.println(s);\n\n\n1\n2\n3\n\n\n\n# Thread\n\n\n# getName\n\nè·åçº¿ç¨åç§°,çº¿ç¨æé»è®¤åç§°ä¸º Thread-çº¿ç¨æ°\n\n\n# setName\n\nä¹å¯ä»¥éè¿æé æ¹æ³è®¾ç½®çº¿ç¨åç§°\n\nTheadç±»ä¸­å¸¦æå¸¦åæé æ¹æ³,å¯ä»¥ç»çº¿ç¨è®¾ç½®åç§°,ä½æ¯ç»§æ¿çç±»å¿é¡»ä½¿ç¨superå³é®å­å¼ç¨.\n\n\n# currentThread\n\nè¿åå½åæ­£å¨æ§è¡ççº¿ç¨å¯¹è±¡\n\nString name = Thread.currentThread().getName();\n\n\n1\n\n\nå¦æRunnableæ¥å£æCallbleæ¥å£æ³è¦ä½¿ç¨Threadçæ¹æ³å¯ä»¥\n\nåææå°å½åæ§è¡ççº¿ç¨ åä½¿ç¨Threadçæ¹æ³\n\n\n# çº¿ç¨ä¼ç \n\nsleep()æ¹æ³ è®©çº¿ç¨ä¼ç æå®æ¯«ç§\n\nThread.sleep(1000);\n\n\n1\n\n\n\n# çº¿ç¨è°åº¦\n\n * åæ¶è°åº¦æ¨¡å:ææçº¿ç¨è½®æµä½¿ç¨couçä½¿ç¨æ,å¹³ååéæ¯ä¸ªçº¿ç¨å ç¨cpuçæ¶é´ç\n * æ¢å å¼è°åº¦æ¨¡å:ä¼åè®©ä¼åçº§é«ççº¿ç¨ä½¿ç¨cpu,å¦æä¼åçº§ç¸å,é£ä¹ä¼éæºéæ©ä¸ä¸ª,ä¼åçº§é«ççº¿ç¨è·åcpuæ¶é´çç¸å¯¹å¤ä¸äº\n\n\n# çº¿ç¨çä¼åçº§\n\n\n# getProiority\n\nè·åæå®çº¿ç¨çä¼åçº§\n\nThread.currentThread().getPriority()\n\n\n1\n\n\n\n# setPriority\n\nè®¾ç½®æå®çº¿ç¨çä¼åçº§\n\né»è®¤ä¸º5 èå´1-10\n\nThread.currentThread().setPriority(6);\n\n\n1\n\n\nä¼åçº§é«ä¸ä»£è¡¨è¿è¡çæ¶é´ç¸å¯¹åå°\n\n\n# åå°çº¿ç¨/å®æ¤çº¿ç¨\n\n\n# setDaemon\n\néè¦ä¼ éä¸ä¸ªå¸å°å¼,trueä¸ºè®¾ç½®ä¸ºå®æ¤çº¿ç¨\n\nå½æ®éçº¿ç¨æ§è¡å®å,é£ä¹å®æ¤çº¿ç¨æ²¡æç»§ç»­æ§è¡ä¸å»çå¿è¦(èªå¨ç»æ)\n\n\n# çº¿ç¨çå®å¨é®é¢\n\n\n# åæ­¥ä»£ç å\n\néå¤æ¡è¯­å¥æä½å±äº«æ°æ®,å¯ä»¥ä½¿ç¨åæ­¥ä»£ç åå®ç°\n\nObject obj =new Object();\n// ä¼ éä»»æå¯¹è±¡,æ³¨æè¦æ¯å¯ä¸ç,å¦åçº¿ç¨è®¤ä¸ºæ¯ä¸åçåæ­¥é\nsynchronized (obj){\n    // çº¿ç¨å±äº«çæä½æ°æ®\n}\n\n\n1\n2\n3\n4\n5\n\n\né»è®¤æåµæ¯æå¼ç,åªè¦æä¸ä¸ªçº¿ç¨è¿å»æ§è¡ä»£ç äº,éå°±ä¼å³é­,åªæç­ä»£ç åæ§è¡å®æ¯æéæ°æå¼\n\nåæ­¥çå¥½å¤:\n\nè§£å³äºå¤çº¿ç¨çæ°æ®å®å¨é®é¢\n\nå¼ç«¯:\n\nå½çº¿ç¨è¿å¤æ¶,å ä¸ºæ¯ä¸ªçº¿ç¨é½ä¼å¤æ­åæ­¥ä¸çé,èè´¹ç³»ç»èµæº,è¿è¡æçéä½\n\n\n# åæ­¥æ¹æ³\n\nå¨æ¹æ³è¿åå¼åé¢å ä¸å³é®å­synchronized,è¯¥æ¹æ³çææä»£ç é½å ä¸é\n\næ­¤åæ­¥æ¹æ³éå¯¹è±¡ä¸ºthis\n\nå¦ææ­¤åæ­¥æ¹æ³ æ¯éæç åéå¯¹è±¡ä¸º ç±»å.class\n\n\n# Locké\n\nLockæ¯æ¥å£ä¸è½ç´æ¥å®ä¾å,æä»¬éè¿å®çå®ç°ç±»ReentrantLockæ¥å®ä¾å\n\nprivate ReentrantLock lock =new ReentrantLock();\n\n\n1\n\n\n\n# lock\n\nlock.lock();\n\n\n1\n\n\nå é\n\n\n# unlock\n\nlock.unlock();\n\n\n1\n\n\néæ¾é\n\n\n# æ­»é\n\nçº¿ç¨æ­»éæ¯æç±äºä¸¤ä¸ªæèå¤ä¸ªçº¿ç¨äºç¸ææå¯¹è±¡æéè¦çèµæº,å¯¼è´è¿äºçº¿ç¨å¤äºç­å¾ç¶æ,æ æ³åå¾æ§è¡\n\n\n# çæèæ¶è´¹è(ç­å¾ å¤éæºå¶)\n\n\n# ç­å¾ wait\n\nåæ­¥ä»£ç åä¸­éçå¯¹è±¡æ¯ä»ä¹å waitæ¹æ³å¨è¯¥å¯¹è±¡è°ç¨\n\n\n# å¤é notify\n\nä¼éæºå¤éè¯¥è¿ç¨éçä»»æçº¿ç¨\n\n\n# å¤éææ notifyall\n\néçæ­¥éª¤:\n\n 1. while(true) æ­»å¾ªç¯\n 2. synchronized åæ­¥é,éå¯¹è±¡è¦å¯ä¸\n 3. å¤æ­,å±äº«æ°æ®æ¯å¦ç»æ ç»æçæä½\n 4. å¤æ­,å±äº«æ°æ®æ¯å¦ç»æ æ²¡æç»æçæä½\n\n\n# é»å¡éåå®ç°ç­å¾å¤éæºå¶\n\n\n# ArrayBlockingQueue\n\nåºå±æ¯æ°ç»,æç,åå»ºæ¶éè¿å¸¦åæé æ¹æ³,å®ä¹è¯¥é»å¡éåçè¾¹ç\n\n# put\n\nput("åç´ "),å­å¨,åºå±ælocké\n\n# take\n\ntake()ååº,å¦æåä¸åºåä¼ä¸ç´ç­å¾,ç´å°ä¸ä¸å³åç´ putè¿é»å¡éå\n\n\n# LinkedBlockingQueue\n\nåºå±æ¯é¾è¡¨,æ ç.ä½ä¸æ¯çæ­£çæ ç,é»è®¤æå¤§ä¸ºintçæå¤§å¼,ä¹å¯ä»¥éè¿å¸¦åæé æ¹æ³,å®ä¹é»å¡éåçè¾¹ç',normalizedContent:'# å¤çº¿ç¨\n\n\n# å¹¶è¡åå¹¶å\n\nå¹¶è¡:å¨åä¸æ¶å»,æå¤ä¸ªæä»¤å¨å¤ä¸ªcpuä¸åæ¶æ§è¡\n\nå¹¶å:å¨åä¸æ¶å»,æå¤ä¸ªæä»¤å¨åä¸ªcpuä¸äº¤æ¿æ§è¡\n\n\n# è¿ç¨åçº¿ç¨\n\n\n# è¿ç¨\n\nè¿ç¨:æ¯æ­£å¨è¿è¡çè½¯ä»¶\n\nç¬ç«æ§:è¿ç¨æ¯ä¸è´¯è½ç¬ç«è¿è¡çåºæ¬åä½\n\nå¨ææ§:è¿ç¨çå®è´¨æ¯ç¨åºçä¸æ¬¡æ§è¡è¿ç¨\n\nå¹¶åæ§:ä»»ä½è¿ç¨é½å¯ä»¥åå¶ä»è¿ç¨ä¸èµ·å¹¶åæ§è¡\n\n\n# çº¿ç¨\n\nçº¿ç¨:æ¯è¿ç¨ä¸­çåä¸ªé¡ºåºæ§å¶æµ,æ¯ä¸æ¡æ§è¡è·¯å¾\n\n * åçº¿ç¨:ä¸ä¸ªè¿ç¨åªæä¸æ¡æ§è¡è·¯å¾\n * å¤çº¿ç¨:ä¸ä¸ªè¿ç¨æ¥æå¤ä¸ªæ§è¡è·¯å¾\n\n\n# ç»§æ¿thread\n\n * ç±»ç»§æ¿threadç±»\n\n * éårun()æ¹æ³\n\n * public static class xian extends thread {\n       @override\n       public void run() {\n           super.run();\n       }\n   }\n   \n   \n   1\n   2\n   3\n   4\n   5\n   6\n   \n\n * åå»ºç±»å¯¹è±¡\n\n * è°ç¨ç¨start()æ¹æ³ å¯å¨çº¿ç¨ äº¤ç±jvmè°ç¨æ­¤çº¿ç¨çrun()æ¹æ³\n\n * public static void main(string[] args) {\n       xian x = new xian();\n       x.start();\n   }\n   \n   \n   1\n   2\n   3\n   4\n   \n\n\n# runnableæ¥å£\n\n * ç±»å®ç°runnableæ¥å£\n\n * éårunæ¹æ³\n\n * public static class xian2 implements runnable{\n       @override\n       public void run() {\n           system.out.println("çº¿ç¨å¯å¨");\n       }\n   }\n   \n   \n   1\n   2\n   3\n   4\n   5\n   6\n   \n\n * åå»ºç±»å¯¹è±¡\n\n * xian2 x =new xian2();\n   \n   \n   1\n   \n\n * åå»ºthreadç±»å¯¹è±¡,æç±»å¯¹è±¡ä½ä¸ºæé æ¹æ³çåæ°\n\n * thread t1 =new thread(x);\n   \n   \n   1\n   \n\n * å¯å¨çº¿ç¨\n\n * t1.start();\n   \n   \n   1\n   \n\n\n# callableæ¥å£ä¸future\n\n * ç±»å®ç°callableæ¥å£\n\n * éåcall()æ¹æ³\n\n * // æ¥å£çæ³åæ¯callæ¹æ³è¿åçç±»å\n       public static class xian3 implements callable<string> {\n           @override\n           public string call() throws exception {\n               //è¿åçä¸ºçº¿ç¨æ§è¡å®æ¯çç»æ,æ§è¡è¯­å¥å¨æ¹æ³ä½å\n               return "ä½ å¥½å¤çº¿ç¨";\n           }\n       }\n   \n   \n   1\n   2\n   3\n   4\n   5\n   6\n   7\n   8\n   \n\n * åå»ºç±»å¯¹è±¡\n\n * xian3 x = new xian3();\n   \n   \n   1\n   \n\n * åå»ºfutureçå®ç°ç±»futuretaskå¯¹è±¡,å¹¶å°ç±»å¯¹è±¡ä½ä¸ºæé æ¹æ³åæ°ä¼ é\n\n * futuretask<string> ft = new futuretask<>(x);\n   \n   \n   1\n   \n\n * åå»ºthreadç±»å¯¹è±¡,å¹¶æfuturetaskå¯¹è±¡ä½ä¸ºæé æ¹æ³åæ°ä¼ é\n\n * thread t1 = new thread(ft);\n   \n   \n   1\n   \n\n * å¯å¨çº¿ç¨\n\n * t1.start();\n   \n   \n   1\n   \n\n// è·åçº¿ç¨æ§è¡å®æ¯çç»æ,getæ¹æ³ä¸å®å¨çº¿ç¨å¯å¨ä¹å,å¦ågetä¸é¢è¯­å¥ä¸æ§è¡\nstring s = ft.get();\nsystem.out.println(s);\n\n\n1\n2\n3\n\n\n\n# thread\n\n\n# getname\n\nè·åçº¿ç¨åç§°,çº¿ç¨æé»è®¤åç§°ä¸º thread-çº¿ç¨æ°\n\n\n# setname\n\nä¹å¯ä»¥éè¿æé æ¹æ³è®¾ç½®çº¿ç¨åç§°\n\ntheadç±»ä¸­å¸¦æå¸¦åæé æ¹æ³,å¯ä»¥ç»çº¿ç¨è®¾ç½®åç§°,ä½æ¯ç»§æ¿çç±»å¿é¡»ä½¿ç¨superå³é®å­å¼ç¨.\n\n\n# currentthread\n\nè¿åå½åæ­£å¨æ§è¡ççº¿ç¨å¯¹è±¡\n\nstring name = thread.currentthread().getname();\n\n\n1\n\n\nå¦ærunnableæ¥å£æcallbleæ¥å£æ³è¦ä½¿ç¨threadçæ¹æ³å¯ä»¥\n\nåææå°å½åæ§è¡ççº¿ç¨ åä½¿ç¨threadçæ¹æ³\n\n\n# çº¿ç¨ä¼ç \n\nsleep()æ¹æ³ è®©çº¿ç¨ä¼ç æå®æ¯«ç§\n\nthread.sleep(1000);\n\n\n1\n\n\n\n# çº¿ç¨è°åº¦\n\n * åæ¶è°åº¦æ¨¡å:ææçº¿ç¨è½®æµä½¿ç¨couçä½¿ç¨æ,å¹³ååéæ¯ä¸ªçº¿ç¨å ç¨cpuçæ¶é´ç\n * æ¢å å¼è°åº¦æ¨¡å:ä¼åè®©ä¼åçº§é«ççº¿ç¨ä½¿ç¨cpu,å¦æä¼åçº§ç¸å,é£ä¹ä¼éæºéæ©ä¸ä¸ª,ä¼åçº§é«ççº¿ç¨è·åcpuæ¶é´çç¸å¯¹å¤ä¸äº\n\n\n# çº¿ç¨çä¼åçº§\n\n\n# getproiority\n\nè·åæå®çº¿ç¨çä¼åçº§\n\nthread.currentthread().getpriority()\n\n\n1\n\n\n\n# setpriority\n\nè®¾ç½®æå®çº¿ç¨çä¼åçº§\n\né»è®¤ä¸º5 èå´1-10\n\nthread.currentthread().setpriority(6);\n\n\n1\n\n\nä¼åçº§é«ä¸ä»£è¡¨è¿è¡çæ¶é´ç¸å¯¹åå°\n\n\n# åå°çº¿ç¨/å®æ¤çº¿ç¨\n\n\n# setdaemon\n\néè¦ä¼ éä¸ä¸ªå¸å°å¼,trueä¸ºè®¾ç½®ä¸ºå®æ¤çº¿ç¨\n\nå½æ®éçº¿ç¨æ§è¡å®å,é£ä¹å®æ¤çº¿ç¨æ²¡æç»§ç»­æ§è¡ä¸å»çå¿è¦(èªå¨ç»æ)\n\n\n# çº¿ç¨çå®å¨é®é¢\n\n\n# åæ­¥ä»£ç å\n\néå¤æ¡è¯­å¥æä½å±äº«æ°æ®,å¯ä»¥ä½¿ç¨åæ­¥ä»£ç åå®ç°\n\nobject obj =new object();\n// ä¼ éä»»æå¯¹è±¡,æ³¨æè¦æ¯å¯ä¸ç,å¦åçº¿ç¨è®¤ä¸ºæ¯ä¸åçåæ­¥é\nsynchronized (obj){\n    // çº¿ç¨å±äº«çæä½æ°æ®\n}\n\n\n1\n2\n3\n4\n5\n\n\né»è®¤æåµæ¯æå¼ç,åªè¦æä¸ä¸ªçº¿ç¨è¿å»æ§è¡ä»£ç äº,éå°±ä¼å³é­,åªæç­ä»£ç åæ§è¡å®æ¯æéæ°æå¼\n\nåæ­¥çå¥½å¤:\n\nè§£å³äºå¤çº¿ç¨çæ°æ®å®å¨é®é¢\n\nå¼ç«¯:\n\nå½çº¿ç¨è¿å¤æ¶,å ä¸ºæ¯ä¸ªçº¿ç¨é½ä¼å¤æ­åæ­¥ä¸çé,èè´¹ç³»ç»èµæº,è¿è¡æçéä½\n\n\n# åæ­¥æ¹æ³\n\nå¨æ¹æ³è¿åå¼åé¢å ä¸å³é®å­synchronized,è¯¥æ¹æ³çææä»£ç é½å ä¸é\n\næ­¤åæ­¥æ¹æ³éå¯¹è±¡ä¸ºthis\n\nå¦ææ­¤åæ­¥æ¹æ³ æ¯éæç åéå¯¹è±¡ä¸º ç±»å.class\n\n\n# locké\n\nlockæ¯æ¥å£ä¸è½ç´æ¥å®ä¾å,æä»¬éè¿å®çå®ç°ç±»reentrantlockæ¥å®ä¾å\n\nprivate reentrantlock lock =new reentrantlock();\n\n\n1\n\n\n\n# lock\n\nlock.lock();\n\n\n1\n\n\nå é\n\n\n# unlock\n\nlock.unlock();\n\n\n1\n\n\néæ¾é\n\n\n# æ­»é\n\nçº¿ç¨æ­»éæ¯æç±äºä¸¤ä¸ªæèå¤ä¸ªçº¿ç¨äºç¸ææå¯¹è±¡æéè¦çèµæº,å¯¼è´è¿äºçº¿ç¨å¤äºç­å¾ç¶æ,æ æ³åå¾æ§è¡\n\n\n# çæèæ¶è´¹è(ç­å¾ å¤éæºå¶)\n\n\n# ç­å¾ wait\n\nåæ­¥ä»£ç åä¸­éçå¯¹è±¡æ¯ä»ä¹å waitæ¹æ³å¨è¯¥å¯¹è±¡è°ç¨\n\n\n# å¤é notify\n\nä¼éæºå¤éè¯¥è¿ç¨éçä»»æçº¿ç¨\n\n\n# å¤éææ notifyall\n\néçæ­¥éª¤:\n\n 1. while(true) æ­»å¾ªç¯\n 2. synchronized åæ­¥é,éå¯¹è±¡è¦å¯ä¸\n 3. å¤æ­,å±äº«æ°æ®æ¯å¦ç»æ ç»æçæä½\n 4. å¤æ­,å±äº«æ°æ®æ¯å¦ç»æ æ²¡æç»æçæä½\n\n\n# é»å¡éåå®ç°ç­å¾å¤éæºå¶\n\n\n# arrayblockingqueue\n\nåºå±æ¯æ°ç»,æç,åå»ºæ¶éè¿å¸¦åæé æ¹æ³,å®ä¹è¯¥é»å¡éåçè¾¹ç\n\n# put\n\nput("åç´ "),å­å¨,åºå±ælocké\n\n# take\n\ntake()ååº,å¦æåä¸åºåä¼ä¸ç´ç­å¾,ç´å°ä¸ä¸å³åç´ putè¿é»å¡éå\n\n\n# linkedblockingqueue\n\nåºå±æ¯é¾è¡¨,æ ç.ä½ä¸æ¯çæ­£çæ ç,é»è®¤æå¤§ä¸ºintçæå¤§å¼,ä¹å¯ä»¥éè¿å¸¦åæé æ¹æ³,å®ä¹é»å¡éåçè¾¹ç',charsets:{cjk:!0},lastUpdated:"2022/03/18, 07:01:11",lastUpdatedTimestamp:1647558071e3},{title:"ç½ç»ç¼ç¨",frontmatter:{title:"ç½ç»ç¼ç¨",date:"2022-03-18T00:48:39.000Z",permalink:"/pages/fc7fd4/",categories:["åç«¯","Java"],tags:[null]},regularPath:"/%E5%90%8E%E7%AB%AF/01.JavaSE/61.%E7%BD%91%E7%BB%9C%E7%BC%96%E7%A8%8B.html",relativePath:"åç«¯/01.JavaSE/61.ç½ç»ç¼ç¨.md",key:"v-74f764f4",path:"/pages/fc7fd4/",headers:[{level:2,title:"InetAddress",slug:"inetaddress",normalizedTitle:"inetaddress",charIndex:11},{level:2,title:"IP",slug:"ip",normalizedTitle:"ip",charIndex:142},{level:2,title:"ç«¯å£",slug:"ç«¯å£",normalizedTitle:"ç«¯å£",charIndex:295},{level:2,title:"åè®®",slug:"åè®®",normalizedTitle:"åè®®",charIndex:349},{level:3,title:"UDPåè®®",slug:"udpåè®®",normalizedTitle:"udpåè®®",charIndex:378},{level:3,title:"TCPåè®®",slug:"tcpåè®®",normalizedTitle:"tcpåè®®",charIndex:472},{level:2,title:"UDPéä¿¡ç¨åº",slug:"udpéä¿¡ç¨åº",normalizedTitle:"udpéä¿¡ç¨åº",charIndex:559},{level:3,title:"åéç«¯",slug:"åéç«¯",normalizedTitle:"åéç«¯",charIndex:571},{level:3,title:"æ¥æ¶ç«¯",slug:"æ¥æ¶ç«¯",normalizedTitle:"æ¥æ¶ç«¯",charIndex:1081},{level:3,title:"ç»æ­",slug:"ç»æ­",normalizedTitle:"ç»æ­",charIndex:1660},{level:3,title:"å¹¿æ­",slug:"å¹¿æ­",normalizedTitle:"å¹¿æ­",charIndex:2332},{level:2,title:"TCPéä¿¡ç¨åº",slug:"tcpéä¿¡ç¨åº",normalizedTitle:"tcpéä¿¡ç¨åº",charIndex:2437},{level:3,title:"å®¢æ·ç«¯",slug:"å®¢æ·ç«¯",normalizedTitle:"å®¢æ·ç«¯",charIndex:1674},{level:3,title:"æå¡ç«¯",slug:"æå¡ç«¯",normalizedTitle:"æå¡ç«¯",charIndex:2872},{level:3,title:"åç",slug:"åç",normalizedTitle:"åç",charIndex:3280},{level:2,title:"ä¸æ¬¡æ¡æ",slug:"ä¸æ¬¡æ¡æ",normalizedTitle:"ä¸æ¬¡æ¡æ",charIndex:3335},{level:2,title:"åæ¬¡æ¥æ",slug:"åæ¬¡æ¥æ",normalizedTitle:"åæ¬¡æ¥æ",charIndex:3457},{level:2,title:"UUID",slug:"uuid",normalizedTitle:"uuid",charIndex:3623}],headersStr:"InetAddress IP ç«¯å£ åè®® UDPåè®® TCPåè®® UDPéä¿¡ç¨åº åéç«¯ æ¥æ¶ç«¯ ç»æ­ å¹¿æ­ TCPéä¿¡ç¨åº å®¢æ·ç«¯ æå¡ç«¯ åç ä¸æ¬¡æ¡æ åæ¬¡æ¥æ UUID",content:'# ç½ç»ç¼ç¨\n\n\n# InetAddress\n\n * getByName(String host): æ ¹æ®ipå°å/ä¸»æºå è¿åä¸ä¸ªInetAddresså¯¹è±¡\n * getHostName(): è¿åä¸»æºå\n * getHostAddress(): ä»¥å­ç¬¦ä¸²å½¢å¼è¿åipå°å\n\n\n# IP\n\nIPv4: 32bit (4å­è) ç¹ååè¿å¶è¡¨ç¤ºæ³\n\nIPV6: 128bit(8å­è) åååå­è¿å¶è¡¨ç¤ºæ³\n\nåå·åå¦æè¿ä¸º0å¯ä»¥çç¥ å¦ :0025 å¯ä»¥è¡¨ç¤ºä¸º:25\n\nå¦æä¸­é´æå¤ä¸ªè¿ç»­çåå·å¯ä»¥ç®åä¸º2ä¸ªåå· å¦: FF01:0:0:0:0:1101 åä¸º FF01::1101\n\n\n# ç«¯å£\n\nç«¯å£:åºç¨ç¨åºå¨è®¾å¤ä¸­å¯ä¸æ è¯\n\nç«¯å£å·:ä¸¤ä¸ªå­èè¡¨ç¤ºçæ´æ°,åå¼èå´ 0 ~ 65535\n\n\n# åè®®\n\nåè®®:è¿æ¥åéä¿¡çè§åè¢«ç§°ä¸ºç½ç»éä¿¡åè®®\n\n\n# UDPåè®®\n\n * ç¨æ·æ°æ®æ¥åè®®(User Datagram Protocol)\n * UDPæ¯é¢åæ è¿æ¥éä¿¡åè®® è¿æ¥å¿«,æå¤§å°éå¶ä¸æ¬¡æå¤åç64k,æ°æ®ä¸å®å¨,æä¸¢å¤±æ°æ®\n\n\n# TCPåè®®\n\n * ä¼ è¾æ§å¶åè®®(Transmission Control Protocol)\n * TCPåè®®æ¯é¢åè¿æ¥çéä¿¡åè®® éåº¦æ¢,æ²¡æå¤§å°éå¶,æ°æ®å®å¨\n\n\n# UDPéä¿¡ç¨åº\n\n\n# åéç«¯\n\n * DatagramSocket() : æ åæé æ¹æ³\n * DatagramPacket(byte[] æ°æ®æ°ç», è¦ä¼ è¾æ°ç»çé¿åº¦, ç®æ å°åå¯¹è±¡ , ç«¯å£å·):å¸¦åæé æ¹æ³ æåæ°æ®\n * send(DatagramPacket æåçæ°ç»): åéæ°æ®\n * close(): å³é­éä¿¡\n\n// updåé\nDatagramSocket ds = new DatagramSocket();\n\n//æ°æ®å¼\nString s = "ä½ å¥½ä¸ç";\nbyte[] bytes = s.getBytes();\nInetAddress byName = InetAddress.getByName("127.0.0.1");\nint port = 10000;\n\n// æåæ°æ®\nDatagramPacket dp = new DatagramPacket(bytes, bytes.length, byName, port);\n\n// åéæ°æ®\nds.send(dp);\n\n// å³é­\nds.close();\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n\n\n\n# æ¥æ¶ç«¯\n\n * DatagramSocket(int ç«¯å£å·) : å¸¦åæé æ¹æ³ æ¥æ¶æ°æ®çç«¯å£\n * DatagramPacket((byte[] æ°æ®æ°ç», è¦æ¥æ¶æ°ç»çé¿åº¦): å¸¦åæé æ¹æ³ æ¥æ¶å®¹å¨\n * receive(DatagramPacket æ¥æ¶å®¹å¨): æ¥æ¶æ°æ® å¦ææ¥æ¶ä¸æ°æ®ä¼ä¸ç´ç­å¾(é»å¡)ä¸é¢çä»£ç ä¸ä¼æ§è¡\n * getData(): è·åè¦æ¥æ¶å°çæ°æ® è¿åä¸ºä¸ä¸ªå­èæ°ç»\n * getLength(): è·åè¦åéçæ°æ®çé¿åº¦ææ¥æ¶å°çæ°æ®çé¿åº¦ã\n * close(): å³é­éä¿¡\n\n// æ¥æ¶ç«¯å»ºç«æ¥æ¶\nDatagramSocket ds =new DatagramSocket(10000);\n\n// æ¥æ¶å®¹å¨\nbyte[] bytes =new byte[1024];\nDatagramPacket dp =new DatagramPacket(bytes,bytes.length);\n\n// æ¥æ¶æ°æ®\nds.receive(dp);\nint lenth = dp.getLength();\n\nSystem.out.println(new String(bytes,0,lenth));\n\n// å³é­éä¿¡\nds.close();\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n\n\n\n# ç»æ­\n\nä¸é¢1å¯¹1 æå¡å¨å¯¹å®¢æ·ç«¯ ç§°ä¸ºåæ­\n\nç»æ­åç§°å¤æ­ æç¹å®æèå´åå®¢æ·ç«¯è¿è¡åé\n\nç»æ­å°å:224.0.0.0 ~ 239.255.255.255 å¶ä¸­ 244.0.0.0 ~ 224.0.0.255 ä¸ºé¢ççç»æ­å°å\n\n * åéç«¯ ä¸ 1å¯¹1 æ å¼ æ³¨ægetByname ä¸ºç»æ­å°å\n\n * æ¥æ¶ç«¯ åå»º MulticastSocket å¯¹è±¡\n   \n   * joinGroup(InetAddress å¯¹è±¡): æå½åå®¢æ·ç«¯å å¥å°ç»æ­ç»ä¸­\n\n * MulticastSocket ms = new MulticastSocket(10000);\n   \n   ms.joinGroup(InetAddress.getByName("224.1.1.1"));\n   \n   byte[] bytes =new byte[1024];\n   DatagramPacket dp =new DatagramPacket(bytes,bytes.length);\n   \n   \n   \n   ms.receive(dp);\n   int lenth = dp.getLength();\n   \n   System.out.println(new String(bytes,0,lenth));\n   \n   ms.close();\n   \n   \n   1\n   2\n   3\n   4\n   5\n   6\n   7\n   8\n   9\n   10\n   11\n   12\n   13\n   14\n   15\n   \n\n\n# å¹¿æ­\n\nå°æ°æ®åéå°ææå®¢æ·ç«¯\n\nå¹¿æ­å°å:255.255.255.255\n\n * åéç«¯ ä¸ 1å¯¹1 æ å¼ æ³¨ægetByname ä¸ºå¹¿æ­å°å\n * æ¥æ¶ç«¯ ä¸ 1å¯¹1 æ å¼ å ä¸ºå¹¿æ­æ¯æ å·®å«çåé\n\n\n# TCPéä¿¡ç¨åº\n\nTCPéä¿¡åè®®æ¯ä¸ç§å¯é çç½ç»åè®®,å®å¨éä¿¡çä¸¤ç«¯åå»ºç«ä¸ä¸ªSocketå¯¹è±¡\n\néä¿¡ä¹åè¦ç¡®ä¿è¿æ¥å·²ç»å»ºç«\n\n\n# å®¢æ·ç«¯\n\n * Socket(string host, int port): å¸¦åæé æ¹æ³\n * getOutputStream(): è·åä¸ä¸ªIOæµ è¿åä¸ä¸ªOutputStreamå¯¹è±¡\n   * write(): åå¥(ä¼ è¾)æ°æ®\n * close(): å¨å³é­æµçæ¶å ä¼ç»å¯¹æ¹åéä¸ä¸ªç»ææ è®°å¨ä½\n\nSocket sk =new Socket("127.0.0.1",10000);\n\nOutputStream outputStream = sk.getOutputStream();\n\noutputStream.write("hello".getBytes(StandardCharsets.UTF_8));\n\noutputStream.close();\nsk.close();\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n\n\n\n# æå¡ç«¯\n\n * ServerSocket(int port ) : å¸¦åæé æ¹æ³\n * accept(): è¿åä¸ä¸ªSocketå¯¹è±¡ ä¼æé»å¡ç°è±¡\n * getInputStream(): è·åè¾å¥æµ\n * read(): è¯»åæµä¸­çæ°æ® è¿åå¼ä¸ºä¸ä¸ªint ä¼æé»å¡ç°è±¡\n\nServerSocket ss =new ServerSocket(10000);\n\nSocket accept = ss.accept();\n\nInputStream inputStream = accept.getInputStream();\nint b;\nwhile ((b = inputStream.read()) != -1){\n    System.out.println((char) b);\n}\n\naccept.close();\nss.close();\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n\n\n\n# åç\n\n 1. acceptæ¹æ³æ¯é»å¡ç,ä½ç¨æ¯ç­å¾å®¢æ·ç«¯è¿æ¥\n 2. å®¢æç«¯åå»ºå¯¹è±¡å¹¶è¿æ¥æå¡å¨,æ­¤æ¶æ¯éè¿ä¸æ¬¡æ¡æåè®®ä¿è¯è·æå¡å¨ä¹é´çè¿æ¥\n 3. éå¯¹å®¢æ·ç«¯æ¥è®²,æ¯å¾å¤å,æä»¥æ¯è¾åºæµ éå¯¹æå¡å¨æ¥è®²,æ¯å¾éè¯»,æä»¥æ¯è¾å¥æµ\n 4. readæ¹æ³ä¹æ¯é»å¡\n 5. å¨å³é­æµçæ¶å,è¿å¤äºä¸ä¸ªå¾æå¡å¨åç»ææ è®°çå¨ä½\n 6. æåä¸æ­¥æ­å¼è¿æ¥,éè¿åæ¬¡æ¥æåè®®ä¿è¯è¿æ¥ç»æ­¢\n\n\n# ä¸æ¬¡æ¡æ\n\n\n\n 1. åæå¡å¨ååºè¿æ¥è¯·æ±\n 2. æå¡å¨åå®¢æ·ç«¯è¿åä¸ä¸ªååº\n 3. å®¢æ·ç«¯åæ¬¡åæå¡å¨ååºç¡®è®¤ä¿¡æ¯\n\n\n# åæ¬¡æ¥æ\n\n\n\n 1. å®¢æ·ç«¯åæå¡å¨ååºåæ¶è¯·æ±\n 2. æå¡å¨åå®¢æ·ç«¯è¿åä¸ä¸ªååº\n 3. æå¡å¨åå®¢æ·ç«¯ååºç¡®è®¤åæ¶ä¿¡æ¯\n 4. å®¢æ·ç«¯åæ¬¡åéç¡®è®¤æ¶æ¯\n\n\n# UUID\n\njavaæä¾UUIDç±» å¯ä»¥æ¹ä¾¿ççæuuid\n\n * randomUUID(): ä¼ªéæº è¿åä¸ä¸ªUUIDå¯¹è±¡\n * toString(): å°UUIDå¯¹è±¡è½¬æString',normalizedContent:'# ç½ç»ç¼ç¨\n\n\n# inetaddress\n\n * getbyname(string host): æ ¹æ®ipå°å/ä¸»æºå è¿åä¸ä¸ªinetaddresså¯¹è±¡\n * gethostname(): è¿åä¸»æºå\n * gethostaddress(): ä»¥å­ç¬¦ä¸²å½¢å¼è¿åipå°å\n\n\n# ip\n\nipv4: 32bit (4å­è) ç¹ååè¿å¶è¡¨ç¤ºæ³\n\nipv6: 128bit(8å­è) åååå­è¿å¶è¡¨ç¤ºæ³\n\nåå·åå¦æè¿ä¸º0å¯ä»¥çç¥ å¦ :0025 å¯ä»¥è¡¨ç¤ºä¸º:25\n\nå¦æä¸­é´æå¤ä¸ªè¿ç»­çåå·å¯ä»¥ç®åä¸º2ä¸ªåå· å¦: ff01:0:0:0:0:1101 åä¸º ff01::1101\n\n\n# ç«¯å£\n\nç«¯å£:åºç¨ç¨åºå¨è®¾å¤ä¸­å¯ä¸æ è¯\n\nç«¯å£å·:ä¸¤ä¸ªå­èè¡¨ç¤ºçæ´æ°,åå¼èå´ 0 ~ 65535\n\n\n# åè®®\n\nåè®®:è¿æ¥åéä¿¡çè§åè¢«ç§°ä¸ºç½ç»éä¿¡åè®®\n\n\n# udpåè®®\n\n * ç¨æ·æ°æ®æ¥åè®®(user datagram protocol)\n * udpæ¯é¢åæ è¿æ¥éä¿¡åè®® è¿æ¥å¿«,æå¤§å°éå¶ä¸æ¬¡æå¤åç64k,æ°æ®ä¸å®å¨,æä¸¢å¤±æ°æ®\n\n\n# tcpåè®®\n\n * ä¼ è¾æ§å¶åè®®(transmission control protocol)\n * tcpåè®®æ¯é¢åè¿æ¥çéä¿¡åè®® éåº¦æ¢,æ²¡æå¤§å°éå¶,æ°æ®å®å¨\n\n\n# udpéä¿¡ç¨åº\n\n\n# åéç«¯\n\n * datagramsocket() : æ åæé æ¹æ³\n * datagrampacket(byte[] æ°æ®æ°ç», è¦ä¼ è¾æ°ç»çé¿åº¦, ç®æ å°åå¯¹è±¡ , ç«¯å£å·):å¸¦åæé æ¹æ³ æåæ°æ®\n * send(datagrampacket æåçæ°ç»): åéæ°æ®\n * close(): å³é­éä¿¡\n\n// updåé\ndatagramsocket ds = new datagramsocket();\n\n//æ°æ®å¼\nstring s = "ä½ å¥½ä¸ç";\nbyte[] bytes = s.getbytes();\ninetaddress byname = inetaddress.getbyname("127.0.0.1");\nint port = 10000;\n\n// æåæ°æ®\ndatagrampacket dp = new datagrampacket(bytes, bytes.length, byname, port);\n\n// åéæ°æ®\nds.send(dp);\n\n// å³é­\nds.close();\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n\n\n\n# æ¥æ¶ç«¯\n\n * datagramsocket(int ç«¯å£å·) : å¸¦åæé æ¹æ³ æ¥æ¶æ°æ®çç«¯å£\n * datagrampacket((byte[] æ°æ®æ°ç», è¦æ¥æ¶æ°ç»çé¿åº¦): å¸¦åæé æ¹æ³ æ¥æ¶å®¹å¨\n * receive(datagrampacket æ¥æ¶å®¹å¨): æ¥æ¶æ°æ® å¦ææ¥æ¶ä¸æ°æ®ä¼ä¸ç´ç­å¾(é»å¡)ä¸é¢çä»£ç ä¸ä¼æ§è¡\n * getdata(): è·åè¦æ¥æ¶å°çæ°æ® è¿åä¸ºä¸ä¸ªå­èæ°ç»\n * getlength(): è·åè¦åéçæ°æ®çé¿åº¦ææ¥æ¶å°çæ°æ®çé¿åº¦ã\n * close(): å³é­éä¿¡\n\n// æ¥æ¶ç«¯å»ºç«æ¥æ¶\ndatagramsocket ds =new datagramsocket(10000);\n\n// æ¥æ¶å®¹å¨\nbyte[] bytes =new byte[1024];\ndatagrampacket dp =new datagrampacket(bytes,bytes.length);\n\n// æ¥æ¶æ°æ®\nds.receive(dp);\nint lenth = dp.getlength();\n\nsystem.out.println(new string(bytes,0,lenth));\n\n// å³é­éä¿¡\nds.close();\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n\n\n\n# ç»æ­\n\nä¸é¢1å¯¹1 æå¡å¨å¯¹å®¢æ·ç«¯ ç§°ä¸ºåæ­\n\nç»æ­åç§°å¤æ­ æç¹å®æèå´åå®¢æ·ç«¯è¿è¡åé\n\nç»æ­å°å:224.0.0.0 ~ 239.255.255.255 å¶ä¸­ 244.0.0.0 ~ 224.0.0.255 ä¸ºé¢ççç»æ­å°å\n\n * åéç«¯ ä¸ 1å¯¹1 æ å¼ æ³¨ægetbyname ä¸ºç»æ­å°å\n\n * æ¥æ¶ç«¯ åå»º multicastsocket å¯¹è±¡\n   \n   * joingroup(inetaddress å¯¹è±¡): æå½åå®¢æ·ç«¯å å¥å°ç»æ­ç»ä¸­\n\n * multicastsocket ms = new multicastsocket(10000);\n   \n   ms.joingroup(inetaddress.getbyname("224.1.1.1"));\n   \n   byte[] bytes =new byte[1024];\n   datagrampacket dp =new datagrampacket(bytes,bytes.length);\n   \n   \n   \n   ms.receive(dp);\n   int lenth = dp.getlength();\n   \n   system.out.println(new string(bytes,0,lenth));\n   \n   ms.close();\n   \n   \n   1\n   2\n   3\n   4\n   5\n   6\n   7\n   8\n   9\n   10\n   11\n   12\n   13\n   14\n   15\n   \n\n\n# å¹¿æ­\n\nå°æ°æ®åéå°ææå®¢æ·ç«¯\n\nå¹¿æ­å°å:255.255.255.255\n\n * åéç«¯ ä¸ 1å¯¹1 æ å¼ æ³¨ægetbyname ä¸ºå¹¿æ­å°å\n * æ¥æ¶ç«¯ ä¸ 1å¯¹1 æ å¼ å ä¸ºå¹¿æ­æ¯æ å·®å«çåé\n\n\n# tcpéä¿¡ç¨åº\n\ntcpéä¿¡åè®®æ¯ä¸ç§å¯é çç½ç»åè®®,å®å¨éä¿¡çä¸¤ç«¯åå»ºç«ä¸ä¸ªsocketå¯¹è±¡\n\néä¿¡ä¹åè¦ç¡®ä¿è¿æ¥å·²ç»å»ºç«\n\n\n# å®¢æ·ç«¯\n\n * socket(string host, int port): å¸¦åæé æ¹æ³\n * getoutputstream(): è·åä¸ä¸ªioæµ è¿åä¸ä¸ªoutputstreamå¯¹è±¡\n   * write(): åå¥(ä¼ è¾)æ°æ®\n * close(): å¨å³é­æµçæ¶å ä¼ç»å¯¹æ¹åéä¸ä¸ªç»ææ è®°å¨ä½\n\nsocket sk =new socket("127.0.0.1",10000);\n\noutputstream outputstream = sk.getoutputstream();\n\noutputstream.write("hello".getbytes(standardcharsets.utf_8));\n\noutputstream.close();\nsk.close();\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n\n\n\n# æå¡ç«¯\n\n * serversocket(int port ) : å¸¦åæé æ¹æ³\n * accept(): è¿åä¸ä¸ªsocketå¯¹è±¡ ä¼æé»å¡ç°è±¡\n * getinputstream(): è·åè¾å¥æµ\n * read(): è¯»åæµä¸­çæ°æ® è¿åå¼ä¸ºä¸ä¸ªint ä¼æé»å¡ç°è±¡\n\nserversocket ss =new serversocket(10000);\n\nsocket accept = ss.accept();\n\ninputstream inputstream = accept.getinputstream();\nint b;\nwhile ((b = inputstream.read()) != -1){\n    system.out.println((char) b);\n}\n\naccept.close();\nss.close();\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n\n\n\n# åç\n\n 1. acceptæ¹æ³æ¯é»å¡ç,ä½ç¨æ¯ç­å¾å®¢æ·ç«¯è¿æ¥\n 2. å®¢æç«¯åå»ºå¯¹è±¡å¹¶è¿æ¥æå¡å¨,æ­¤æ¶æ¯éè¿ä¸æ¬¡æ¡æåè®®ä¿è¯è·æå¡å¨ä¹é´çè¿æ¥\n 3. éå¯¹å®¢æ·ç«¯æ¥è®²,æ¯å¾å¤å,æä»¥æ¯è¾åºæµ éå¯¹æå¡å¨æ¥è®²,æ¯å¾éè¯»,æä»¥æ¯è¾å¥æµ\n 4. readæ¹æ³ä¹æ¯é»å¡\n 5. å¨å³é­æµçæ¶å,è¿å¤äºä¸ä¸ªå¾æå¡å¨åç»ææ è®°çå¨ä½\n 6. æåä¸æ­¥æ­å¼è¿æ¥,éè¿åæ¬¡æ¥æåè®®ä¿è¯è¿æ¥ç»æ­¢\n\n\n# ä¸æ¬¡æ¡æ\n\n\n\n 1. åæå¡å¨ååºè¿æ¥è¯·æ±\n 2. æå¡å¨åå®¢æ·ç«¯è¿åä¸ä¸ªååº\n 3. å®¢æ·ç«¯åæ¬¡åæå¡å¨ååºç¡®è®¤ä¿¡æ¯\n\n\n# åæ¬¡æ¥æ\n\n\n\n 1. å®¢æ·ç«¯åæå¡å¨ååºåæ¶è¯·æ±\n 2. æå¡å¨åå®¢æ·ç«¯è¿åä¸ä¸ªååº\n 3. æå¡å¨åå®¢æ·ç«¯ååºç¡®è®¤åæ¶ä¿¡æ¯\n 4. å®¢æ·ç«¯åæ¬¡åéç¡®è®¤æ¶æ¯\n\n\n# uuid\n\njavaæä¾uuidç±» å¯ä»¥æ¹ä¾¿ççæuuid\n\n * randomuuid(): ä¼ªéæº è¿åä¸ä¸ªuuidå¯¹è±¡\n * tostring(): å°uuidå¯¹è±¡è½¬æstring',charsets:{cjk:!0},lastUpdated:"2022/03/18, 07:01:11",lastUpdatedTimestamp:1647558071e3},{title:"åå°",frontmatter:{title:"åå°",date:"2022-03-18T00:48:39.000Z",permalink:"/pages/b3e612/",categories:["åç«¯","Java"],tags:[null]},regularPath:"/%E5%90%8E%E7%AB%AF/01.JavaSE/63.%E5%8F%8D%E5%B0%84.html",relativePath:"åç«¯/01.JavaSE/63.åå°.md",key:"v-54b65e0e",path:"/pages/b3e612/",headers:[{level:2,title:"è·åclassç±»çå¯¹è±¡",slug:"è·åclassç±»çå¯¹è±¡",normalizedTitle:"è·åclassç±»çå¯¹è±¡",charIndex:119},{level:3,title:"Class.forName()",slug:"class-forname",normalizedTitle:"class.forname()",charIndex:135},{level:3,title:"ç±»å.class",slug:"ç±»å-class",normalizedTitle:"ç±»å.class",charIndex:265},{level:3,title:"å¯¹è±¡.getclass()",slug:"å¯¹è±¡-getclass",normalizedTitle:"å¯¹è±¡.getclass()",charIndex:361},{level:2,title:"è·åConstructorå¯¹è±¡",slug:"è·åconstructorå¯¹è±¡",normalizedTitle:"è·åconstructorå¯¹è±¡",charIndex:490},{level:3,title:"getConstructors()",slug:"getconstructors",normalizedTitle:"getconstructors()",charIndex:545},{level:3,title:"getDeclaredConstructors()",slug:"getdeclaredconstructors",normalizedTitle:"getdeclaredconstructors()",charIndex:822},{level:3,title:"getConstructor()",slug:"getconstructor",normalizedTitle:"getconstructor()",charIndex:1068},{level:3,title:"getDeclaredConstructor()",slug:"getdeclaredconstructor",normalizedTitle:"getdeclaredconstructor()",charIndex:1254},{level:2,title:"newInstance() åå»ºå¯¹è±¡",slug:"newinstance-åå»ºå¯¹è±¡",normalizedTitle:"newinstance() åå»ºå¯¹è±¡",charIndex:1301},{level:3,title:"è¢«parivateä¿®é¥°çæåµ",slug:"è¢«parivateä¿®é¥°çæåµ",normalizedTitle:"è¢«parivateä¿®é¥°çæåµ",charIndex:1571},{level:2,title:"è·ååå°çæååé",slug:"è·ååå°çæååé",normalizedTitle:"è·ååå°çæååé",charIndex:2121},{level:3,title:"èµå¼",slug:"èµå¼",normalizedTitle:"èµå¼",charIndex:2672},{level:2,title:"è·åæåæ¹æ³",slug:"è·åæåæ¹æ³",normalizedTitle:"è·åæåæ¹æ³",charIndex:2972}],headersStr:"è·åclassç±»çå¯¹è±¡ Class.forName() ç±»å.class å¯¹è±¡.getclass() è·åConstructorå¯¹è±¡ getConstructors() getDeclaredConstructors() getConstructor() getDeclaredConstructor() newInstance() åå»ºå¯¹è±¡ è¢«parivateä¿®é¥°çæåµ è·ååå°çæååé èµå¼ è·åæåæ¹æ³",content:'# åå°\n\nå©ç¨åå°æä»¬å¯ä»¥ä½¿ç¨ä»»æä¸ä¸ªç±»ä¸­ç,æææ¹æ³åå±æ§,æ è§ä¿®é¥°ç¬¦\n\nç¨åå°åå»ºå¯¹è±¡,åå°è°ç¨æååé/æ¹æ³\n\nå©ç¨åå°å¯ä»¥æ è§ä¿®é¥°ç¬¦è·åç±»éé¢ææçå±æ§åæ¹æ³\n\nåè·åéç½®æä»¶ä¸­çä¿¡æ¯,å¨æè·åä¿¡æ¯å¹¶åå»ºå¯¹è±¡åè°ç¨æ¹æ³\n\n\n# è·åclassç±»çå¯¹è±¡\n\n\n# Class.forName()\n\nClass<?> aClass = Class.forName("ç¬è®°.åå°.Studen");\nSystem.out.println(aClass);\n\n\n1\n2\n\n\néè¿forNameä¼ éå¨ç±»å(åå+ç±»å)è·å\n\n\n# ç±»å.class\n\nClass<Studen> studenClass = Studen.class;\nSystem.out.println(studenClass);\n\n\n1\n2\n\n\n\n# å¯¹è±¡.getclass()\n\nStuden s =new Studen();\nClass<? extends Studen> aClass1 = s.getClass();\nSystem.out.println(aClass1);\n\n\n1\n2\n3\n\n\n\n# è·åConstructorå¯¹è±¡\n\nConstructorä¸ºæé æ¹æ³å¯¹è±¡,å¨åå°ä¸­æææ¹æ³å±æ§é½ä¸ºå¯¹è±¡\n\n\n# getConstructors()\n\nè¯¥æ¹æ³è·åè¯¥classææçå¬å±æé æ¹æ³\n\nClass<?> aClass = Class.forName("ç¬è®°.åå°.Studen");\n// è·åè¯¥classææçå¬å±æé æ¹æ³\nConstructor<?>[] constructors = aClass.getConstructors();\nfor (Constructor<?> constructor : constructors) {\n    System.out.println(constructor);\n}\n\n\n1\n2\n3\n4\n5\n6\n\n\n\n# getDeclaredConstructors()\n\nè¿åææçæé æ¹æ³,æ è§ä¿®é¥°ç¬¦\n\nConstructor<?>[] declaredConstructors = aClass.getDeclaredConstructors();\nfor (Constructor<?> declaredConstructor : declaredConstructors) {\n    System.out.println(declaredConstructor);\n}\n\n\n1\n2\n3\n4\n\n\n\n# getConstructor()\n\nè¿åæå®çå¬å±æé æ¹æ³,å¿é¡»è¦ä¸ç±»ä¸­çæé æ¹æ³å½¢åä¸è´,å¦åæ æ³æ¾å°æå®æé æ¹æ³,å¹¶æåºå¼å¸¸\n\nConstructor<?> constructor = aClass.getConstructor(String.class,int.class);\nSystem.out.println(constructor);\n\n\n1\n2\n\n\n\n# getDeclaredConstructor()\n\nè¿ååä¸ªæå®æé æ¹æ³ æ è§ä¿®é¥°ç¬¦\n\n\n# newInstance() åå»ºå¯¹è±¡\n\nè·åå°æé æ¹æ³åæä»¬å¯ä»¥ä½¿ç¨ newInstance() æ¥åå»ºå¯¹è±¡ è¯¥æ¹æ³è¿åä¸ä¸ªå¯¹è±¡ é»è®¤ä¸ºobjectç±»å,éè¦å¼ºè½¬ä¸ºç±»çç±»å\n\nStuden zhangsan = (Studen) declaredConstructor.newInstance("zhangsan", 23);\nSystem.out.println(zhangsan);\n\n\n1\n2\n\n\nå¦ææé æ¹æ³ä¸ºç©ºå æä»¬å¯ä»¥ç´æ¥å¨è·åclasså çclasså¯¹è±¡ç´æ¥newInstance(),è¯¥æ¹æ³å·²ç»è¿æ¶,ä¸æ¨èä½¿ç¨\n\n\n# è¢«parivateä¿®é¥°çæåµ\n\nå¦æè¯¥åå°å¯¹è±¡ä¸æ¯å¬å±ä¿®é¥°ç¬¦,ååå»ºå¯¹è±¡æ¶ä¼åçå¼å¸¸,éè¦ä¸´æ¶åæ¶è®¿é®æ£æ¥\n\n * setAccessible(boolean ); ä¸´æ¶åæ¶è®¿é®æ£æ¥ æ´ååå°\n\n * // è·åclassç±»\n   Class<?> aClass1 = Class.forName("ç¬è®°.åå°.Studen");\n   \n   // è·åæææé æ¹æ³\n   Constructor<?> declaredConstructor1 = aClass1.getDeclaredConstructor(String.class);\n   \n   // ä¸´æ¶åæ¶è®¿é®æ£æ¥\n   declaredConstructor1.setAccessible(true);\n   \n   // åå»ºå¯¹è±¡ å¹¶ å¼ºè½¬æStudenç±»\n   Studen lisi = (Studen) declaredConstructor1.newInstance("lisi");\n   \n   System.out.println(lisi);\n   \n   \n   1\n   2\n   3\n   4\n   5\n   6\n   7\n   8\n   9\n   10\n   11\n   12\n   13\n   \n\n\n# è·ååå°çæååé\n\n * getFields(); è¿åææå¬å±çæååéå¯¹è±¡çæ°ç»\n\n * getDeclaredFields(): è¿åæææååéçæ°ç» æ è§ä¿®é¥°ç¬¦\n\n * getField(String name); æå®æååéåå­ è¿ååä¸ªå¬å±æååéå¯¹è±¡\n\n * getDeclaredField(String name): è¿ååä¸ªå¬å±æååéå¯¹è±¡ æ è§ä¿®é¥°ç¬¦\n\n * Class<?> aClass1 = Class.forName("ç¬è®°.åå°.Studen");\n   \n   \n   Field[] fields = aClass1.getFields();\n   for (Field field : fields) {\n       System.out.println(field);\n   }\n   \n   Field age = aClass1.getDeclaredField("age");\n           System.out.println(age);\n   \n   \n   1\n   2\n   3\n   4\n   5\n   6\n   7\n   8\n   9\n   10\n   \n\næ³¨æ è·åçæååéå¿é¡»çå®å­å¨ å¦åä¼æ¥é å¹¶ä¸æ³¨æä¿®é¥°ç¬¦\n\n\n# èµå¼\n\n * set(object obj,object value): èµå¼\n\n * get(object obj): è·åå¼\n\n * Field w = aClass1.getField("w");\n   \n   w.set(lisi,123);\n   System.out.println(w.get(lisi));\n   \n   \n   1\n   2\n   3\n   4\n   \n\næ³¨æ:\n\n 1. å¯¹è±¡åæ°ä¼ é newinstance()æ¹æ³åå»ºçå¯¹è±¡\n\n 2. å¦æä¸ºç§æå±æ§ å¿é¡»ä¸´æ¶åæ¶è®¿é®æ£æ¥ setAccessible(boolean ) åè·åfieldå¯¹è±¡ååæ¶æ£æ¥\n\n\n# è·åæåæ¹æ³\n\n * getMethods(): è¿åææå¬å±æåæ¹æ³å¯¹è±¡çæ°ç»,åæ¬ç»§æ¿ç\n\n * getDeclaredMethods(): è¿åææçæåæ¹æ³å¯¹è±¡çæ°ç»,ä¸åæ¬ç»§æ¿çæ¹æ³\n\n * getMethod(String name,Class<?>... parmeterTypres): è¿åæå®åç§°çå¬å±æåæ¹æ³ Classä¸ºå½¢å å¿é¡»ä¼ éç±»åçclasså¯¹è±¡\n\n * geDeclaredtMethod(String name,Class<?>... parmeterTypres): è¿åæå®åç§°çæåæ¹æ³\n\n * Method setName = aClass1.getMethod("setName", String.class);\n   System.out.println(setName);\n   \n   \n   1\n   2\n   \n\n# ä½¿ç¨åå°åæ¹æ³\n\n * invoke(object obj,object args): è¿è¡æå®æ¹æ³\n   \n   * åæ°ä¸: ç¨objå¯¹è±¡è°ç¨è¯¥æ¹æ³ newinstanceåºæ¥çå¯¹è±¡\n   * åæ°äº:è°ç¨æ¹æ³çä¼ éåæ°(å¯ç)\n\n * Method setName = aClass1.getMethod("setName", String.class);\n   \n   Studen lisi = (Studen) declaredConstructor1.newInstance("lisi");\n   \n   setName.invoke(lisi,"haha");\n   \n   \n   1\n   2\n   3\n   4\n   5\n   ',normalizedContent:'# åå°\n\nå©ç¨åå°æä»¬å¯ä»¥ä½¿ç¨ä»»æä¸ä¸ªç±»ä¸­ç,æææ¹æ³åå±æ§,æ è§ä¿®é¥°ç¬¦\n\nç¨åå°åå»ºå¯¹è±¡,åå°è°ç¨æååé/æ¹æ³\n\nå©ç¨åå°å¯ä»¥æ è§ä¿®é¥°ç¬¦è·åç±»éé¢ææçå±æ§åæ¹æ³\n\nåè·åéç½®æä»¶ä¸­çä¿¡æ¯,å¨æè·åä¿¡æ¯å¹¶åå»ºå¯¹è±¡åè°ç¨æ¹æ³\n\n\n# è·åclassç±»çå¯¹è±¡\n\n\n# class.forname()\n\nclass<?> aclass = class.forname("ç¬è®°.åå°.studen");\nsystem.out.println(aclass);\n\n\n1\n2\n\n\néè¿fornameä¼ éå¨ç±»å(åå+ç±»å)è·å\n\n\n# ç±»å.class\n\nclass<studen> studenclass = studen.class;\nsystem.out.println(studenclass);\n\n\n1\n2\n\n\n\n# å¯¹è±¡.getclass()\n\nstuden s =new studen();\nclass<? extends studen> aclass1 = s.getclass();\nsystem.out.println(aclass1);\n\n\n1\n2\n3\n\n\n\n# è·åconstructorå¯¹è±¡\n\nconstructorä¸ºæé æ¹æ³å¯¹è±¡,å¨åå°ä¸­æææ¹æ³å±æ§é½ä¸ºå¯¹è±¡\n\n\n# getconstructors()\n\nè¯¥æ¹æ³è·åè¯¥classææçå¬å±æé æ¹æ³\n\nclass<?> aclass = class.forname("ç¬è®°.åå°.studen");\n// è·åè¯¥classææçå¬å±æé æ¹æ³\nconstructor<?>[] constructors = aclass.getconstructors();\nfor (constructor<?> constructor : constructors) {\n    system.out.println(constructor);\n}\n\n\n1\n2\n3\n4\n5\n6\n\n\n\n# getdeclaredconstructors()\n\nè¿åææçæé æ¹æ³,æ è§ä¿®é¥°ç¬¦\n\nconstructor<?>[] declaredconstructors = aclass.getdeclaredconstructors();\nfor (constructor<?> declaredconstructor : declaredconstructors) {\n    system.out.println(declaredconstructor);\n}\n\n\n1\n2\n3\n4\n\n\n\n# getconstructor()\n\nè¿åæå®çå¬å±æé æ¹æ³,å¿é¡»è¦ä¸ç±»ä¸­çæé æ¹æ³å½¢åä¸è´,å¦åæ æ³æ¾å°æå®æé æ¹æ³,å¹¶æåºå¼å¸¸\n\nconstructor<?> constructor = aclass.getconstructor(string.class,int.class);\nsystem.out.println(constructor);\n\n\n1\n2\n\n\n\n# getdeclaredconstructor()\n\nè¿ååä¸ªæå®æé æ¹æ³ æ è§ä¿®é¥°ç¬¦\n\n\n# newinstance() åå»ºå¯¹è±¡\n\nè·åå°æé æ¹æ³åæä»¬å¯ä»¥ä½¿ç¨ newinstance() æ¥åå»ºå¯¹è±¡ è¯¥æ¹æ³è¿åä¸ä¸ªå¯¹è±¡ é»è®¤ä¸ºobjectç±»å,éè¦å¼ºè½¬ä¸ºç±»çç±»å\n\nstuden zhangsan = (studen) declaredconstructor.newinstance("zhangsan", 23);\nsystem.out.println(zhangsan);\n\n\n1\n2\n\n\nå¦ææé æ¹æ³ä¸ºç©ºå æä»¬å¯ä»¥ç´æ¥å¨è·åclasså çclasså¯¹è±¡ç´æ¥newinstance(),è¯¥æ¹æ³å·²ç»è¿æ¶,ä¸æ¨èä½¿ç¨\n\n\n# è¢«parivateä¿®é¥°çæåµ\n\nå¦æè¯¥åå°å¯¹è±¡ä¸æ¯å¬å±ä¿®é¥°ç¬¦,ååå»ºå¯¹è±¡æ¶ä¼åçå¼å¸¸,éè¦ä¸´æ¶åæ¶è®¿é®æ£æ¥\n\n * setaccessible(boolean ); ä¸´æ¶åæ¶è®¿é®æ£æ¥ æ´ååå°\n\n * // è·åclassç±»\n   class<?> aclass1 = class.forname("ç¬è®°.åå°.studen");\n   \n   // è·åæææé æ¹æ³\n   constructor<?> declaredconstructor1 = aclass1.getdeclaredconstructor(string.class);\n   \n   // ä¸´æ¶åæ¶è®¿é®æ£æ¥\n   declaredconstructor1.setaccessible(true);\n   \n   // åå»ºå¯¹è±¡ å¹¶ å¼ºè½¬æstudenç±»\n   studen lisi = (studen) declaredconstructor1.newinstance("lisi");\n   \n   system.out.println(lisi);\n   \n   \n   1\n   2\n   3\n   4\n   5\n   6\n   7\n   8\n   9\n   10\n   11\n   12\n   13\n   \n\n\n# è·ååå°çæååé\n\n * getfields(); è¿åææå¬å±çæååéå¯¹è±¡çæ°ç»\n\n * getdeclaredfields(): è¿åæææååéçæ°ç» æ è§ä¿®é¥°ç¬¦\n\n * getfield(string name); æå®æååéåå­ è¿ååä¸ªå¬å±æååéå¯¹è±¡\n\n * getdeclaredfield(string name): è¿ååä¸ªå¬å±æååéå¯¹è±¡ æ è§ä¿®é¥°ç¬¦\n\n * class<?> aclass1 = class.forname("ç¬è®°.åå°.studen");\n   \n   \n   field[] fields = aclass1.getfields();\n   for (field field : fields) {\n       system.out.println(field);\n   }\n   \n   field age = aclass1.getdeclaredfield("age");\n           system.out.println(age);\n   \n   \n   1\n   2\n   3\n   4\n   5\n   6\n   7\n   8\n   9\n   10\n   \n\næ³¨æ è·åçæååéå¿é¡»çå®å­å¨ å¦åä¼æ¥é å¹¶ä¸æ³¨æä¿®é¥°ç¬¦\n\n\n# èµå¼\n\n * set(object obj,object value): èµå¼\n\n * get(object obj): è·åå¼\n\n * field w = aclass1.getfield("w");\n   \n   w.set(lisi,123);\n   system.out.println(w.get(lisi));\n   \n   \n   1\n   2\n   3\n   4\n   \n\næ³¨æ:\n\n 1. å¯¹è±¡åæ°ä¼ é newinstance()æ¹æ³åå»ºçå¯¹è±¡\n\n 2. å¦æä¸ºç§æå±æ§ å¿é¡»ä¸´æ¶åæ¶è®¿é®æ£æ¥ setaccessible(boolean ) åè·åfieldå¯¹è±¡ååæ¶æ£æ¥\n\n\n# è·åæåæ¹æ³\n\n * getmethods(): è¿åææå¬å±æåæ¹æ³å¯¹è±¡çæ°ç»,åæ¬ç»§æ¿ç\n\n * getdeclaredmethods(): è¿åææçæåæ¹æ³å¯¹è±¡çæ°ç»,ä¸åæ¬ç»§æ¿çæ¹æ³\n\n * getmethod(string name,class<?>... parmetertypres): è¿åæå®åç§°çå¬å±æåæ¹æ³ classä¸ºå½¢å å¿é¡»ä¼ éç±»åçclasså¯¹è±¡\n\n * gedeclaredtmethod(string name,class<?>... parmetertypres): è¿åæå®åç§°çæåæ¹æ³\n\n * method setname = aclass1.getmethod("setname", string.class);\n   system.out.println(setname);\n   \n   \n   1\n   2\n   \n\n# ä½¿ç¨åå°åæ¹æ³\n\n * invoke(object obj,object args): è¿è¡æå®æ¹æ³\n   \n   * åæ°ä¸: ç¨objå¯¹è±¡è°ç¨è¯¥æ¹æ³ newinstanceåºæ¥çå¯¹è±¡\n   * åæ°äº:è°ç¨æ¹æ³çä¼ éåæ°(å¯ç)\n\n * method setname = aclass1.getmethod("setname", string.class);\n   \n   studen lisi = (studen) declaredconstructor1.newinstance("lisi");\n   \n   setname.invoke(lisi,"haha");\n   \n   \n   1\n   2\n   3\n   4\n   5\n   ',charsets:{cjk:!0},lastUpdated:"2022/03/18, 07:01:11",lastUpdatedTimestamp:1647558071e3},{title:"ç±»å è½½å¨",frontmatter:{title:"ç±»å è½½å¨",date:"2022-03-18T00:48:39.000Z",permalink:"/pages/a33e90/",categories:["åç«¯","Java"],tags:[null]},regularPath:"/%E5%90%8E%E7%AB%AF/01.JavaSE/62.%E7%B1%BB%E5%8A%A0%E8%BD%BD%E5%99%A8.html",relativePath:"åç«¯/01.JavaSE/62.ç±»å è½½å¨.md",key:"v-3769da1c",path:"/pages/a33e90/",headers:[{level:2,title:"ç±»å è½½æ¶æº",slug:"ç±»å è½½æ¶æº",normalizedTitle:"ç±»å è½½æ¶æº",charIndex:36},{level:2,title:"ç±»å è½½çè¿ç¨",slug:"ç±»å è½½çè¿ç¨",normalizedTitle:"ç±»å è½½çè¿ç¨",charIndex:196},{level:2,title:"ç±»å è½½å¨çåç±»",slug:"ç±»å è½½å¨çåç±»",normalizedTitle:"ç±»å è½½å¨çåç±»",charIndex:217},{level:2,title:"åäº²å§æ´¾æ¨¡å",slug:"åäº²å§æ´¾æ¨¡å",normalizedTitle:"åäº²å§æ´¾æ¨¡å",charIndex:309},{level:2,title:"ClassLoader",slug:"classloader",normalizedTitle:"classloader",charIndex:322}],headersStr:"ç±»å è½½æ¶æº ç±»å è½½çè¿ç¨ ç±»å è½½å¨çåç±» åäº²å§æ´¾æ¨¡å ClassLoader",content:"# ç±»å è½½å¨\n\nç±»å è½½å¨:è´è´£å°.classæä»¶ å è½½å°åå­ä¸­\n\n\n# ç±»å è½½æ¶æº\n\n 1. åå»ºç±»çå®ä¾(å¯¹è±¡)\n 2. è°ç¨ç±»çç±»æ¹æ³\n 3. è®¿é®ç±»æèæ¥å£çç±»åé,æèä¸ºè¯¥ç±»åéèµå¼\n 4. ä½¿ç¨åå°æ¹å¼æ¥å¼ºå¶åå»ºæä¸ªç±»æèæ¥å£å¯¹åºçjava.lang.Classå¯¹è±¡\n 5. åå§åæä¸ªç±»çå­ç±»\n 6. ç´æ¥ä½¿ç¨java.exeå½ä»¤æ¥è¿è¡æä¸ªä¸»ç±»\n\nç¨å°å°±å è½½,ä¸ç¨ä¸å è½½\n\n\n# ç±»å è½½çè¿ç¨\n\n\n\n\n\n\n\n\n\n\n\n\n# ç±»å è½½å¨çåç±»\n\nå¯å¨ç±»å è½½å¨: èææºåç½®çç±»å è½½å¨ åºå±C++ç¼åç\n\nå¹³å°ç±»å è½½å¨: è´è´£å è½½JDKä¸­ä¸äºç¹æ®çæ¨¡å\n\nç³»ç»ç±»å è½½å¨: è´è´£å è½½ç¨æ·ç±»è·¯å¾ä¸ææå®çç±»åº\n\n\n# åäº²å§æ´¾æ¨¡å\n\n\n\n\n# ClassLoader\n\næ³¨æé»è®¤æ¯é¡¹ç®çç¬¬ä¸å±src\n\n * getSystemClassLoader() : è·åç³»ç»ç±»å è½½å¨ è¿åå¼ä¸ºClassLoader\n   \n   * getResourceAsStream(String name): å©ç¨å è½½å¨å»å è½½ä¸ä¸ªæå®çæä»¶ åæ°ä¸ºè·¯å¾ è¿åä¸ºå­èæµ",normalizedContent:"# ç±»å è½½å¨\n\nç±»å è½½å¨:è´è´£å°.classæä»¶ å è½½å°åå­ä¸­\n\n\n# ç±»å è½½æ¶æº\n\n 1. åå»ºç±»çå®ä¾(å¯¹è±¡)\n 2. è°ç¨ç±»çç±»æ¹æ³\n 3. è®¿é®ç±»æèæ¥å£çç±»åé,æèä¸ºè¯¥ç±»åéèµå¼\n 4. ä½¿ç¨åå°æ¹å¼æ¥å¼ºå¶åå»ºæä¸ªç±»æèæ¥å£å¯¹åºçjava.lang.classå¯¹è±¡\n 5. åå§åæä¸ªç±»çå­ç±»\n 6. ç´æ¥ä½¿ç¨java.exeå½ä»¤æ¥è¿è¡æä¸ªä¸»ç±»\n\nç¨å°å°±å è½½,ä¸ç¨ä¸å è½½\n\n\n# ç±»å è½½çè¿ç¨\n\n\n\n\n\n\n\n\n\n\n\n\n# ç±»å è½½å¨çåç±»\n\nå¯å¨ç±»å è½½å¨: èææºåç½®çç±»å è½½å¨ åºå±c++ç¼åç\n\nå¹³å°ç±»å è½½å¨: è´è´£å è½½jdkä¸­ä¸äºç¹æ®çæ¨¡å\n\nç³»ç»ç±»å è½½å¨: è´è´£å è½½ç¨æ·ç±»è·¯å¾ä¸ææå®çç±»åº\n\n\n# åäº²å§æ´¾æ¨¡å\n\n\n\n\n# classloader\n\næ³¨æé»è®¤æ¯é¡¹ç®çç¬¬ä¸å±src\n\n * getsystemclassloader() : è·åç³»ç»ç±»å è½½å¨ è¿åå¼ä¸ºclassloader\n   \n   * getresourceasstream(string name): å©ç¨å è½½å¨å»å è½½ä¸ä¸ªæå®çæä»¶ åæ°ä¸ºè·¯å¾ è¿åä¸ºå­èæµ",charsets:{cjk:!0},lastUpdated:"2022/03/18, 07:01:11",lastUpdatedTimestamp:1647558071e3},{title:"XML",frontmatter:{title:"XML",date:"2022-03-18T00:48:39.000Z",permalink:"/pages/6bad64/",categories:["åç«¯","Java"],tags:[null]},regularPath:"/%E5%90%8E%E7%AB%AF/01.JavaSE/64.XML.html",relativePath:"åç«¯/01.JavaSE/64.XML.md",key:"v-6611a25e",path:"/pages/6bad64/",headers:[{level:2,title:"XML æ ç­¾",slug:"xml-æ ç­¾",normalizedTitle:"xml æ ç­¾",charIndex:26},{level:2,title:"ææ¡£å£°æ",slug:"ææ¡£å£°æ",normalizedTitle:"ææ¡£å£°æ",charIndex:195},{level:3,title:"CDATA",slug:"cdata",normalizedTitle:"cdata",charIndex:386},{level:2,title:"è§£æXML",slug:"è§£æxml",normalizedTitle:"è§£æxml",charIndex:437},{level:3,title:"DOMå¯¹è±¡æ¨¡å",slug:"domå¯¹è±¡æ¨¡å",normalizedTitle:"domå¯¹è±¡æ¨¡å",charIndex:447},{level:3,title:"DOM4J",slug:"dom4j",normalizedTitle:"dom4j",charIndex:521},{level:2,title:"çº¦æ",slug:"çº¦æ",normalizedTitle:"çº¦æ",charIndex:1368},{level:3,title:"DTDçº¦æ",slug:"dtdçº¦æ",normalizedTitle:"dtdçº¦æ",charIndex:1397},{level:3,title:"schema",slug:"schema",normalizedTitle:"schema",charIndex:1709}],headersStr:"XML æ ç­¾ ææ¡£å£°æ CDATA è§£æXML DOMå¯¹è±¡æ¨¡å DOM4J çº¦æ DTDçº¦æ schema",content:'# XML\n\nXMLæ¯ä¸ç§å¯æ©å±çæ è®°è¯­è¨\n\n\n# XML æ ç­¾\n\n * æ ç­¾ç±ä¸å¯¹å°æ¬å·ååæ³æ è¯ç¬¦ç»æ å¦: <student>\n * æ ç­¾å¿é¡»æå¯¹åºç° å¼å§æ ç­¾ä¸ç»ææ ç­¾\n * ç¹æ®æ ç­¾å¯ä»¥ä¸æå¯¹,ä½å¿é¡»æç»ææ ç­¾ èªé­æ ç­¾\n * æ ç­¾ä¸­å¯ä»¥å®ä¹å±æ§,å±æ§åæ ç­¾åä¹é´ç©ºæ ¼éå¼,å±æ§å¼å¿é¡»ç¨å¼å·å¼èµ·æ¥ å¦: html<student age="12"> </student>\n\n\n# ææ¡£å£°æ\n\nææ¡£å£°æå¿é¡»æ¯ç¬¬ä¸è¡ç¬¬ä¸å\n\n<?xml version= "1.0" encoding= "UTF-8" standalone= "yes"?>\n\n\n1\n\n * version: è¯¥å±æ§å¿é¡»å­å¨\n * encoding: å¯ç\n * standalone: å¯ç æè¿°xmlæä»¶æ¯å¦ä¾èµå¶ä»çxmlæä»¶,åå¼ä¸ºyes/no\n * ä¸ä¸ªxmlææ¡£åªæä¸ä¸ªæ ¹æ ç­¾\n\n\n# CDATA\n\n<![CDATA[ åå®¹ ]]>\n\n\n1\n\n\nè¯¥æ ç­¾å¯ä»¥å¿½ç¥ç¹æ®å­ç¬¦,ç´æ¥æ¾ç¤º\n\n\n# è§£æXML\n\n\n# DOMå¯¹è±¡æ¨¡å\n\nå°±æ¯æææ¡£çåä¸ªç»æé¨åçåæå¯¹åºçå¯¹è±¡\n\nä¼æxmlæä»¶å¨é¨å è½½å°åå­\n\nå¨åå­ä¸­å½¢æä¸ä¸ªæ å½¢ç»æ,åè·åå¯¹åºçå¼\n\n\n\n\n# DOM4J\n\nDom For Java æ¯ä¸å¥XMLçè§£æçAPI-dom4j\n\n// è·åè§£æå¨å¯¹è±¡\nSAXReader saxReader = new SAXReader();\n// è§£æå è½½xmlæä»¶\nDocument read = saxReader.read(new File("../java\\\\src\\\\ç¬è®°\\\\_xml\\\\xml\\\\student.xml"));\n\n// è¯»åæ ¹æ ç­¾\nElement rootElement = read.getRootElement();\n\n// è·åæ ¹æ ç­¾ä¸ ææstudentæ ç­¾\nList<Element> student = rootElement.elements("student");\nfor (Element element : student) {\n    // è·åstudentæ ç­¾çå±æ§\n    Attribute id = element.attribute("id");\n\n    //è·åidçå¼\n    String value = id.getValue();\n    System.out.println(value);\n\n    //è·ånameæ ç­¾çtextææ¬\n    Element name = element.element("name");\n    String text = name.getText();\n    System.out.println(text);\n\n    //è·åage\n    Element age = element.element("age");\n    String text1 = age.getText();\n    System.out.println(text1);\n\n\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n26\n27\n28\n29\n30\n\n\n\n# çº¦æ\n\nç¨æ¥éå®xmlæä»¶ä¸­å¯ä½¿ç¨çæ ç­¾ä»¥åå±æ§\n\n\n# DTDçº¦æ\n\n\n\n# å¼å¥DTDçº¦æ\n\n 1. æ¬å°å¼ç¨ å¨xmlæä»¶å£°æä¸é¢\n    \n    <!DOCTYPE æ ¹åç´ åç§° SYSTEM \'DTDéç½®æä»¶è·¯å¾\'>\n    \n    \n    1\n    \n\n 2. xmlä¸­å¼ç¨\n    \n    <!DOCTYPE æ ¹åç´ åç§° [\n       DTDéç½®å±æ§\n    ]>\n    \n    \n    1\n    2\n    3\n    \n\n 3. ç½ç»ä¸­å¼å¥\n    \n    <!DOCTYPE æ ¹åç´ åç§° PUBLIC "DTDæä»¶çåç§°" "DTDæä»¶çurl">\n    \n    \n    1\n    \n\n# è¯­æ³è§å\n\n\n\n# å±æ§è§å\n\n\n\n\n# schema\n\n\n\n\n\n# å¼å¥\n\n\n\n# å®ä¹å±æ§\n\n',normalizedContent:'# xml\n\nxmlæ¯ä¸ç§å¯æ©å±çæ è®°è¯­è¨\n\n\n# xml æ ç­¾\n\n * æ ç­¾ç±ä¸å¯¹å°æ¬å·ååæ³æ è¯ç¬¦ç»æ å¦: <student>\n * æ ç­¾å¿é¡»æå¯¹åºç° å¼å§æ ç­¾ä¸ç»ææ ç­¾\n * ç¹æ®æ ç­¾å¯ä»¥ä¸æå¯¹,ä½å¿é¡»æç»ææ ç­¾ èªé­æ ç­¾\n * æ ç­¾ä¸­å¯ä»¥å®ä¹å±æ§,å±æ§åæ ç­¾åä¹é´ç©ºæ ¼éå¼,å±æ§å¼å¿é¡»ç¨å¼å·å¼èµ·æ¥ å¦: html<student age="12"> </student>\n\n\n# ææ¡£å£°æ\n\nææ¡£å£°æå¿é¡»æ¯ç¬¬ä¸è¡ç¬¬ä¸å\n\n<?xml version= "1.0" encoding= "utf-8" standalone= "yes"?>\n\n\n1\n\n * version: è¯¥å±æ§å¿é¡»å­å¨\n * encoding: å¯ç\n * standalone: å¯ç æè¿°xmlæä»¶æ¯å¦ä¾èµå¶ä»çxmlæä»¶,åå¼ä¸ºyes/no\n * ä¸ä¸ªxmlææ¡£åªæä¸ä¸ªæ ¹æ ç­¾\n\n\n# cdata\n\n<![cdata[ åå®¹ ]]>\n\n\n1\n\n\nè¯¥æ ç­¾å¯ä»¥å¿½ç¥ç¹æ®å­ç¬¦,ç´æ¥æ¾ç¤º\n\n\n# è§£æxml\n\n\n# domå¯¹è±¡æ¨¡å\n\nå°±æ¯æææ¡£çåä¸ªç»æé¨åçåæå¯¹åºçå¯¹è±¡\n\nä¼æxmlæä»¶å¨é¨å è½½å°åå­\n\nå¨åå­ä¸­å½¢æä¸ä¸ªæ å½¢ç»æ,åè·åå¯¹åºçå¼\n\n\n\n\n# dom4j\n\ndom for java æ¯ä¸å¥xmlçè§£æçapi-dom4j\n\n// è·åè§£æå¨å¯¹è±¡\nsaxreader saxreader = new saxreader();\n// è§£æå è½½xmlæä»¶\ndocument read = saxreader.read(new file("../java\\\\src\\\\ç¬è®°\\\\_xml\\\\xml\\\\student.xml"));\n\n// è¯»åæ ¹æ ç­¾\nelement rootelement = read.getrootelement();\n\n// è·åæ ¹æ ç­¾ä¸ ææstudentæ ç­¾\nlist<element> student = rootelement.elements("student");\nfor (element element : student) {\n    // è·åstudentæ ç­¾çå±æ§\n    attribute id = element.attribute("id");\n\n    //è·åidçå¼\n    string value = id.getvalue();\n    system.out.println(value);\n\n    //è·ånameæ ç­¾çtextææ¬\n    element name = element.element("name");\n    string text = name.gettext();\n    system.out.println(text);\n\n    //è·åage\n    element age = element.element("age");\n    string text1 = age.gettext();\n    system.out.println(text1);\n\n\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n26\n27\n28\n29\n30\n\n\n\n# çº¦æ\n\nç¨æ¥éå®xmlæä»¶ä¸­å¯ä½¿ç¨çæ ç­¾ä»¥åå±æ§\n\n\n# dtdçº¦æ\n\n\n\n# å¼å¥dtdçº¦æ\n\n 1. æ¬å°å¼ç¨ å¨xmlæä»¶å£°æä¸é¢\n    \n    <!doctype æ ¹åç´ åç§° system \'dtdéç½®æä»¶è·¯å¾\'>\n    \n    \n    1\n    \n\n 2. xmlä¸­å¼ç¨\n    \n    <!doctype æ ¹åç´ åç§° [\n       dtdéç½®å±æ§\n    ]>\n    \n    \n    1\n    2\n    3\n    \n\n 3. ç½ç»ä¸­å¼å¥\n    \n    <!doctype æ ¹åç´ åç§° public "dtdæä»¶çåç§°" "dtdæä»¶çurl">\n    \n    \n    1\n    \n\n# è¯­æ³è§å\n\n\n\n# å±æ§è§å\n\n\n\n\n# schema\n\n\n\n\n\n# å¼å¥\n\n\n\n# å®ä¹å±æ§\n\n',charsets:{cjk:!0},lastUpdated:"2022/03/18, 07:01:11",lastUpdatedTimestamp:1647558071e3},{title:"æ¥å¿",frontmatter:{title:"æ¥å¿",date:"2022-03-18T00:48:40.000Z",permalink:"/pages/344d91/",categories:["åç«¯","Java"],tags:[null]},regularPath:"/%E5%90%8E%E7%AB%AF/01.JavaSE/68.%E6%97%A5%E5%BF%97.html",relativePath:"åç«¯/01.JavaSE/68.æ¥å¿.md",key:"v-642b486a",path:"/pages/344d91/",headers:[{level:2,title:"è®°å½å¨",slug:"è®°å½å¨",normalizedTitle:"è®°å½å¨",charIndex:115},{level:2,title:"éç½®",slug:"éç½®",normalizedTitle:"éç½®",charIndex:164},{level:3,title:"æ ¹Logger",slug:"æ ¹logger",normalizedTitle:"æ ¹logger",charIndex:222},{level:3,title:"appender",slug:"appender",normalizedTitle:"appender",charIndex:253},{level:3,title:"Layout",slug:"layout",normalizedTitle:"layout",charIndex:1030}],headersStr:"è®°å½å¨ éç½® æ ¹Logger appender Layout",content:"# æ¥å¿\n\n * Logger.getLogger(ç±» å­èç ): ä½¿ç¨log4jçapiè·åæ¥å¿å¯¹è±¡ ä¸æ¨èä½¿ç¨\n * LoggerFactory.getLogger(ç±» å­èç ): ä½¿ç¨slf4jçapiè·åæ¥å¿å¯¹è±¡\n\n\n# è®°å½å¨\n\n * DEBUG\n * INFO\n * WARN\n * EEROR\n * FATAL\n\néç½®è§å:åªè¾åºçº§å«ä¸ä½äºè®¾å®çº§å«çæ¥å¿ä¿¡æ¯\n\n\n# éç½®\n\nåå»º log4j.properties æä»¶\n\n\n# æ ¹Logger\n\nlog4j.rootLogger=æ¥å¿çº§å«,appenderName1,appenderName2,...\n\næ¥å¿çº§å«:OFFãFATALãEERORãWARNãINFOãDEBUGãALLæèèªå®ä¹çº§å«\n\nappenderName1:æå®æ¥å¿ä¿¡æ¯è¦è¾åºå°åªé,å¯ä»¥åæ¶æå®å¤ä¸ªè¾åºç®çå°\n\nå¦:log4j.rootLogger=info,ca,fa\n\n\n# appender\n\norg.apache.log4j.ConsoleAppender:è¾åºå°æ§å¶å°\n\norg.apache.log4j.FileAppender:è¾åºå°æä»¶\n\nå¦:log4j.appender.ca=org.apache.log4j.ConsoleAppender\n\n# æ§å¶å°\n\n * ImmediateFlush=true: æææ¶æ¯é½ä¼è¢«ç«å³è¾åº,é»è®¤ä¸ºtrue,falseä¸è¾åº\n * Target=System.err: é»è®¤å¼ä¸ºSystem.out å¨æ§å¶å°æå°æ¶æ¾ç¤ºçé¢è²çº§å« errä¸ºçº¢è²è­¦å é»è®¤ä¸ºé»è²\n\nå¦:\n\nlog4j.appender.ca.ImmediateFlush=true\nlog4j.appender.ca.Target=System.out\n\n\n1\n2\n\n\n# æä»¶\n\n * ImmediateFlush=true: æææ¶æ¯é½ä¼è¢«ç«å³è¾åº,é»è®¤ä¸ºtrue,falseä¸è¾åº\n * Append=false: é»è®¤å¼ä¸ºtrue, trueä¸ºå°æ¥å¿è¿½å å°æä»¶ä¸­,falseä¸ºè¦çåå¥\n * File=è·¯å¾: å°ä¿¡æ¯è¾åºå°æå®çlogging.log4jæä»¶ä¸­\n\nå¦:\n\nlog4j.appender.ca.ImmediateFlush=true\nlog4j.appender.ca.Append=true\nlog4j.appender.ca.File=D:/\n\n\n1\n2\n3\n\n\n\n# Layout\n\n * org.apache.log4j.PatternLayout: èªå®ä¹å¸å±æ¨¡å¼ æ¯è¾å¸¸ç¨\n   * ConversionPattern=%m%n : èªå®ä¹è§å\n   * \n * org.apache.log4j.SimpleLayout: åå«æ¥å¿ä¿¡æ¯ççº§å«åä¿¡æ¯å­ç¬¦ä¸²\n * org.apache.log4j.TTCCLayout: åå«æ¥å¿äº§çæ¶é´ çº¿ç¨ ç±»å« ç­ä¿¡æ¯\n\nå¦: log4j.appender.ca.layout=org.apache.log4j.PatternLayout",normalizedContent:"# æ¥å¿\n\n * logger.getlogger(ç±» å­èç ): ä½¿ç¨log4jçapiè·åæ¥å¿å¯¹è±¡ ä¸æ¨èä½¿ç¨\n * loggerfactory.getlogger(ç±» å­èç ): ä½¿ç¨slf4jçapiè·åæ¥å¿å¯¹è±¡\n\n\n# è®°å½å¨\n\n * debug\n * info\n * warn\n * eeror\n * fatal\n\néç½®è§å:åªè¾åºçº§å«ä¸ä½äºè®¾å®çº§å«çæ¥å¿ä¿¡æ¯\n\n\n# éç½®\n\nåå»º log4j.properties æä»¶\n\n\n# æ ¹logger\n\nlog4j.rootlogger=æ¥å¿çº§å«,appendername1,appendername2,...\n\næ¥å¿çº§å«:offãfatalãeerorãwarnãinfoãdebugãallæèèªå®ä¹çº§å«\n\nappendername1:æå®æ¥å¿ä¿¡æ¯è¦è¾åºå°åªé,å¯ä»¥åæ¶æå®å¤ä¸ªè¾åºç®çå°\n\nå¦:log4j.rootlogger=info,ca,fa\n\n\n# appender\n\norg.apache.log4j.consoleappender:è¾åºå°æ§å¶å°\n\norg.apache.log4j.fileappender:è¾åºå°æä»¶\n\nå¦:log4j.appender.ca=org.apache.log4j.consoleappender\n\n# æ§å¶å°\n\n * immediateflush=true: æææ¶æ¯é½ä¼è¢«ç«å³è¾åº,é»è®¤ä¸ºtrue,falseä¸è¾åº\n * target=system.err: é»è®¤å¼ä¸ºsystem.out å¨æ§å¶å°æå°æ¶æ¾ç¤ºçé¢è²çº§å« errä¸ºçº¢è²è­¦å é»è®¤ä¸ºé»è²\n\nå¦:\n\nlog4j.appender.ca.immediateflush=true\nlog4j.appender.ca.target=system.out\n\n\n1\n2\n\n\n# æä»¶\n\n * immediateflush=true: æææ¶æ¯é½ä¼è¢«ç«å³è¾åº,é»è®¤ä¸ºtrue,falseä¸è¾åº\n * append=false: é»è®¤å¼ä¸ºtrue, trueä¸ºå°æ¥å¿è¿½å å°æä»¶ä¸­,falseä¸ºè¦çåå¥\n * file=è·¯å¾: å°ä¿¡æ¯è¾åºå°æå®çlogging.log4jæä»¶ä¸­\n\nå¦:\n\nlog4j.appender.ca.immediateflush=true\nlog4j.appender.ca.append=true\nlog4j.appender.ca.file=d:/\n\n\n1\n2\n3\n\n\n\n# layout\n\n * org.apache.log4j.patternlayout: èªå®ä¹å¸å±æ¨¡å¼ æ¯è¾å¸¸ç¨\n   * conversionpattern=%m%n : èªå®ä¹è§å\n   * \n * org.apache.log4j.simplelayout: åå«æ¥å¿ä¿¡æ¯ççº§å«åä¿¡æ¯å­ç¬¦ä¸²\n * org.apache.log4j.ttcclayout: åå«æ¥å¿äº§çæ¶é´ çº¿ç¨ ç±»å« ç­ä¿¡æ¯\n\nå¦: log4j.appender.ca.layout=org.apache.log4j.patternlayout",charsets:{cjk:!0},lastUpdated:"2022/03/18, 07:01:11",lastUpdatedTimestamp:1647558071e3},{title:"æä¸¾",frontmatter:{title:"æä¸¾",date:"2022-03-18T00:48:39.000Z",permalink:"/pages/19426f/",categories:["åç«¯","Java"],tags:[null]},regularPath:"/%E5%90%8E%E7%AB%AF/01.JavaSE/65.%E6%9E%9A%E4%B8%BE.html",relativePath:"åç«¯/01.JavaSE/65.æä¸¾.md",key:"v-29319666",path:"/pages/19426f/",headersStr:null,content:'# æä¸¾\n\næ¯æå°éåçå¼ä¸ä¸ååºæ¥,åéçå¼åªéäºåä¸¾åºæ¥çå¼çèå´å\n\npublic enum s{\n    æä¸¾é¡¹1,æä¸¾é¡¹2;\n}\n\n\n1\n2\n3\n\n\nä½¿ç¨å³é®å­enumåå»ºä¸ä¸ªenum\n\n\n\n * name(); è·åæä¸¾é¡¹çåç§°\n\n * ordinal(); è¿åæä¸¾é¡¹å¨æä¸¾ç±»ä¸­çç´¢å¼å¼\n\n * compareTO(E o); æ¯è¾ä¸¤ä¸ªæä¸¾é¡¹,è¿åçæ¯ç´¢å¼å¼çå·®å¼\n\n * toString(); è¿åæä¸¾å¸¸éçåç§°\n\n * valueOf(class<T> type,String name); è·åæå®æä¸¾ç±»ä¸­çæå®åç§°çæä¸¾å¼\n   \n   * Enum.valueOf(s.class,"æä¸¾é¡¹åç§°")\n     \n     \n     1\n     \n\n * values(); è·åè¯¥æä¸¾ç±»ä¸­çæææä¸¾é¡¹',normalizedContent:'# æä¸¾\n\næ¯æå°éåçå¼ä¸ä¸ååºæ¥,åéçå¼åªéäºåä¸¾åºæ¥çå¼çèå´å\n\npublic enum s{\n    æä¸¾é¡¹1,æä¸¾é¡¹2;\n}\n\n\n1\n2\n3\n\n\nä½¿ç¨å³é®å­enumåå»ºä¸ä¸ªenum\n\n\n\n * name(); è·åæä¸¾é¡¹çåç§°\n\n * ordinal(); è¿åæä¸¾é¡¹å¨æä¸¾ç±»ä¸­çç´¢å¼å¼\n\n * compareto(e o); æ¯è¾ä¸¤ä¸ªæä¸¾é¡¹,è¿åçæ¯ç´¢å¼å¼çå·®å¼\n\n * tostring(); è¿åæä¸¾å¸¸éçåç§°\n\n * valueof(class<t> type,string name); è·åæå®æä¸¾ç±»ä¸­çæå®åç§°çæä¸¾å¼\n   \n   * enum.valueof(s.class,"æä¸¾é¡¹åç§°")\n     \n     \n     1\n     \n\n * values(); è·åè¯¥æä¸¾ç±»ä¸­çæææä¸¾é¡¹',charsets:{cjk:!0},lastUpdated:"2022/03/18, 07:01:11",lastUpdatedTimestamp:1647558071e3},{title:"ååæµè¯",frontmatter:{title:"ååæµè¯",date:"2022-03-18T00:48:40.000Z",permalink:"/pages/7ba344/",categories:["åç«¯","Java"],tags:[null]},regularPath:"/%E5%90%8E%E7%AB%AF/01.JavaSE/67.%E5%8D%95%E5%85%83%E6%B5%8B%E8%AF%95.html",relativePath:"åç«¯/01.JavaSE/67.ååæµè¯.md",key:"v-ea37ced6",path:"/pages/7ba344/",headersStr:null,content:"# ååæµè¯\n\n * æä»¬åç¨Junitå·¥å·ä½¿ç¨,å°junitçjaråå¯¼å¥å°å·¥ç¨ä¸­\n * ç¼åæµè¯æ¹æ³å¿é¡»æ¯å¬å±çæ åæ°æ è¿åå¼çééææ¹æ³\n * éè¿@Testæ³¨è§£ æ¥æ è®°è¯¥æ¹æ³æ¯æµè¯æ¹æ³\n   * @Test: æµè¯è¯¥æ¹æ³\n   * @Before: å¨æµè¯çæ¹æ³åè¿è¡\n   * @After: å¨æµè¯çæ¹æ³åè¿è¡\n * å³é®éè¿junitè¿è¡è¯¥æ¹æ³",normalizedContent:"# ååæµè¯\n\n * æä»¬åç¨junitå·¥å·ä½¿ç¨,å°junitçjaråå¯¼å¥å°å·¥ç¨ä¸­\n * ç¼åæµè¯æ¹æ³å¿é¡»æ¯å¬å±çæ åæ°æ è¿åå¼çééææ¹æ³\n * éè¿@testæ³¨è§£ æ¥æ è®°è¯¥æ¹æ³æ¯æµè¯æ¹æ³\n   * @test: æµè¯è¯¥æ¹æ³\n   * @before: å¨æµè¯çæ¹æ³åè¿è¡\n   * @after: å¨æµè¯çæ¹æ³åè¿è¡\n * å³é®éè¿junitè¿è¡è¯¥æ¹æ³",charsets:{cjk:!0},lastUpdated:"2022/03/18, 07:01:11",lastUpdatedTimestamp:1647558071e3},{title:"HTTPåè®®",frontmatter:{title:"HTTPåè®®",date:"2022-03-18T00:48:40.000Z",permalink:"/pages/a7a164/",categories:["åç«¯","Java"],tags:[null]},regularPath:"/%E5%90%8E%E7%AB%AF/01.JavaSE/69.HTTP%E5%8D%8F%E8%AE%AE.html",relativePath:"åç«¯/01.JavaSE/69.HTTPåè®®.md",key:"v-068038d1",path:"/pages/a7a164/",headers:[{level:2,title:"è¯·æ±ç»æé¨å",slug:"è¯·æ±ç»æé¨å",normalizedTitle:"è¯·æ±ç»æé¨å",charIndex:13},{level:2,title:"è¯·æ±æ¹å¼",slug:"è¯·æ±æ¹å¼",normalizedTitle:"è¯·æ±æ¹å¼",charIndex:33},{level:2,title:"ååºçç»æé¨å",slug:"ååºçç»æé¨å",normalizedTitle:"ååºçç»æé¨å",charIndex:163}],headersStr:"è¯·æ±ç»æé¨å è¯·æ±æ¹å¼ ååºçç»æé¨å",content:"# HTTPåè®®\n\n\n# è¯·æ±ç»æé¨å\n\n * è¯·æ±è¡\n   * è¯·æ±æ¹å¼ æäº¤è·¯å¾(æäº¤åæ°) HTTP/çæ¬\n * è¯·æ±å¤´\n   * \n * è¯·æ±ç©ºè¡\n   * æ®éæ¢è¡ åºå«è¯·æ±å¤´åè¯·æ±ä½\n * è¯·æ±ä½\n   * åªæpostè¯·æ±ææè¯·æ±ä½ ,ç¨äºæ¾ç¤ºæäº¤åæ°\n\n\n# è¯·æ±æ¹å¼\n\n * GET\n * POST\n\n\n# ååºçç»æé¨å\n\n * ååºè¡\n   * è¯·æ±æ¹å¼ HTTP/çæ¬å· ç¶æç  ç¶ææè¿°\n   * \n * ååºå¤´\n   * \n * ååºç©ºè¡\n   * æ®éæ¢è¡ åºåååºå¤´åååºä½\n * ååºä½\n   * å°èµæºæä»¶åéç»å®¢æ·ç«¯æµè§å¨è¿è¡è§£æ",normalizedContent:"# httpåè®®\n\n\n# è¯·æ±ç»æé¨å\n\n * è¯·æ±è¡\n   * è¯·æ±æ¹å¼ æäº¤è·¯å¾(æäº¤åæ°) http/çæ¬\n * è¯·æ±å¤´\n   * \n * è¯·æ±ç©ºè¡\n   * æ®éæ¢è¡ åºå«è¯·æ±å¤´åè¯·æ±ä½\n * è¯·æ±ä½\n   * åªæpostè¯·æ±ææè¯·æ±ä½ ,ç¨äºæ¾ç¤ºæäº¤åæ°\n\n\n# è¯·æ±æ¹å¼\n\n * get\n * post\n\n\n# ååºçç»æé¨å\n\n * ååºè¡\n   * è¯·æ±æ¹å¼ http/çæ¬å· ç¶æç  ç¶ææè¿°\n   * \n * ååºå¤´\n   * \n * ååºç©ºè¡\n   * æ®éæ¢è¡ åºåååºå¤´åååºä½\n * ååºä½\n   * å°èµæºæä»¶åéç»å®¢æ·ç«¯æµè§å¨è¿è¡è§£æ",charsets:{cjk:!0},lastUpdated:"2022/03/18, 07:01:11",lastUpdatedTimestamp:1647558071e3},{title:"ååºå¯¹è±¡",frontmatter:{title:"ååºå¯¹è±¡",date:"2022-03-18T00:48:40.000Z",permalink:"/pages/d35ebd/",categories:["åç«¯","Java"],tags:[null]},regularPath:"/%E5%90%8E%E7%AB%AF/01.JavaSE/72.%E5%93%8D%E5%BA%94%E5%AF%B9%E8%B1%A1.html",relativePath:"åç«¯/01.JavaSE/72.ååºå¯¹è±¡.md",key:"v-24b2db86",path:"/pages/d35ebd/",headers:[{level:2,title:"å¸¸è§ç¶æç ",slug:"å¸¸è§ç¶æç ",normalizedTitle:"å¸¸è§ç¶æç ",charIndex:32},{level:2,title:"å­èæµååºæ¶æ¯",slug:"å­èæµååºæ¶æ¯",normalizedTitle:"å­èæµååºæ¶æ¯",charIndex:139},{level:2,title:"å­ç¬¦æµååºæ¶æ¯",slug:"å­ç¬¦æµååºæ¶æ¯",normalizedTitle:"å­ç¬¦æµååºæ¶æ¯",charIndex:246},{level:2,title:"è®¾ç½®ç¼å­",slug:"è®¾ç½®ç¼å­",normalizedTitle:"è®¾ç½®ç¼å­",charIndex:370},{level:2,title:"å®æ¶å·æ°",slug:"å®æ¶å·æ°",normalizedTitle:"å®æ¶å·æ°",charIndex:639},{level:2,title:"è¯·æ±éå®å",slug:"è¯·æ±éå®å",normalizedTitle:"è¯·æ±éå®å",charIndex:846},{level:2,title:"æä»¶ä¸è½½",slug:"æä»¶ä¸è½½",normalizedTitle:"æä»¶ä¸è½½",charIndex:1094}],headersStr:"å¸¸è§ç¶æç  å­èæµååºæ¶æ¯ å­ç¬¦æµååºæ¶æ¯ è®¾ç½®ç¼å­ å®æ¶å·æ° è¯·æ±éå®å æä»¶ä¸è½½",content:'# ååºå¯¹è±¡\n\nåé¦ç»æ,æå¡å¨ç»å®¢æç«¯æµè§å¨åé¦ç»æ\n\n\n# å¸¸è§ç¶æç \n\n * 200 æå\n * 302 éå®å\n * 304 è¯·æ±èµæºæªæ¹å,ä½¿ç¨ç¼å­\n * 400 è¯·æ±éè¯¯\n * 404 è¯·æ±èµæºæªæ¾å°\n * 405 è¯·æ±æ¹å¼ä¸æ¯æ\n * 500 æå¡å¨éè¯¯\n\n\n# å­èæµååºæ¶æ¯\n\n * getOutpitStream() è·åååºå­èè¾åºæµå¯¹è±¡\n * setContentType("text/html;charset=UTF-8") è®¾ç½®ååºåå®¹ç±»å ä»¥åå­ç¬¦ç¼ç \n\n\n# å­ç¬¦æµååºæ¶æ¯\n\n * getWriter() è·åå­ç¬¦æµè¾åºå¯¹è±¡\n   * write(obj) åå¥æ°æ®ç»å®¢æ·ç«¯\n * setContentType("text/html;charset=UTF-8") è®¾ç½®ååºåå®¹ç±»å ä»¥åå­ç¬¦ç¼ç \n\n\n# è®¾ç½®ç¼å­\n\nå¯¹äºä¸ç»å¸¸ååçæ°æ®,æå¯ä»¥è®¾ç½®åççç¼å­æ¶é´,ä»¥é¿åæµè§å¨é¢ç¹è¯·æ±æå¡å¨\n\n * setDateHeader(String name,long time) è®¾ç½®æ¶æ¯å¤´æ·»å ç¼å­,æ¶é´åä½æ¯«ç§\n   \n   * response.setDateHeader("Expires",System.currentTimeMillis() + 1*60*60*1000);\n     // Expiresä¸ºè¿ææ¶é´å³é®å­  timeä¸ºå½åæ¶é´ + éè¦æç»­çæ¶é´\n     \n     \n     1\n     2\n     \n\n\n# å®æ¶å·æ°\n\nè¿äºæå®æ¶é´å,é¡µé¢èªå¨è¿è¡è·³è½¬\n\n * setHeader(String name,String value) è®¾ç½®æ¶æ¯å¤´å®æ¶å·æ°\n   \n   * response.setHeader("Refresh","3;URL=/login.html")\n     // Refresh å·æ°å³é®å­   3ä¸º3s  URLä¸ºèæè·¯å¾\n     \n     \n     1\n     2\n     \n\n\n# è¯·æ±éå®å\n\nå®¢æ·ç«¯çä¸æ¬¡è¯·æ±å°è¾¾å,åç°éè¦åå©å¶ä»Servletæ¥å®ç°åè½\n\nä¸è¯·æ±è½¬åä¸ä¸æ ·,å°åæ ä¼æ¹å,ä¸¤æ¬¡è¯·æ±åè¯·æ±åå¯¹è±¡ä¸è½å±äº«æ°æ®,å¯ä»¥éå®åå¶ä»æå¡å¨\n\n * sendRedirect(String name) è®¾ç½®éå®å\n   \n   * response.sendRedirect(request.getContextPath() + "/demo02");\n     // èæè·¯å¾æèæå¡å¨URL\n     \n     \n     1\n     2\n     \n\n\n# æä»¶ä¸è½½\n\n * setHeader(String name,String value)\n   \n   * response.setHeader("Content-Type","application/octet-stream")\n     //  è®¾ç½®ååºå¤´æ¯æçç±»å Content-Typeæ¶æ¯å¤´åç§°æ¯æçç±»å\n     // application/octet-stream æ¶æ¯å¤´åæ° åºç¨çç±»åä¸ºå­èæµ\n     response.setHeader("Content-Dispostition","attachment;filename=xxx.zip")\n     // è®¾ç½®ååºå¤´ä»¥ä¸è½½æ¹å¼æå¼éä»¶  \n     //  Content-Dispostition  å¤çå½¢å¼\n     // attachment;filename=xxx.zip   ä»¥éä»¶å½¢å¼å¤ç å¹¶æå®ä¸è½½æä»¶çåè¯\n     \n     \n     1\n     2\n     3\n     4\n     5\n     6\n     7\n     ',normalizedContent:'# ååºå¯¹è±¡\n\nåé¦ç»æ,æå¡å¨ç»å®¢æç«¯æµè§å¨åé¦ç»æ\n\n\n# å¸¸è§ç¶æç \n\n * 200 æå\n * 302 éå®å\n * 304 è¯·æ±èµæºæªæ¹å,ä½¿ç¨ç¼å­\n * 400 è¯·æ±éè¯¯\n * 404 è¯·æ±èµæºæªæ¾å°\n * 405 è¯·æ±æ¹å¼ä¸æ¯æ\n * 500 æå¡å¨éè¯¯\n\n\n# å­èæµååºæ¶æ¯\n\n * getoutpitstream() è·åååºå­èè¾åºæµå¯¹è±¡\n * setcontenttype("text/html;charset=utf-8") è®¾ç½®ååºåå®¹ç±»å ä»¥åå­ç¬¦ç¼ç \n\n\n# å­ç¬¦æµååºæ¶æ¯\n\n * getwriter() è·åå­ç¬¦æµè¾åºå¯¹è±¡\n   * write(obj) åå¥æ°æ®ç»å®¢æ·ç«¯\n * setcontenttype("text/html;charset=utf-8") è®¾ç½®ååºåå®¹ç±»å ä»¥åå­ç¬¦ç¼ç \n\n\n# è®¾ç½®ç¼å­\n\nå¯¹äºä¸ç»å¸¸ååçæ°æ®,æå¯ä»¥è®¾ç½®åççç¼å­æ¶é´,ä»¥é¿åæµè§å¨é¢ç¹è¯·æ±æå¡å¨\n\n * setdateheader(string name,long time) è®¾ç½®æ¶æ¯å¤´æ·»å ç¼å­,æ¶é´åä½æ¯«ç§\n   \n   * response.setdateheader("expires",system.currenttimemillis() + 1*60*60*1000);\n     // expiresä¸ºè¿ææ¶é´å³é®å­  timeä¸ºå½åæ¶é´ + éè¦æç»­çæ¶é´\n     \n     \n     1\n     2\n     \n\n\n# å®æ¶å·æ°\n\nè¿äºæå®æ¶é´å,é¡µé¢èªå¨è¿è¡è·³è½¬\n\n * setheader(string name,string value) è®¾ç½®æ¶æ¯å¤´å®æ¶å·æ°\n   \n   * response.setheader("refresh","3;url=/login.html")\n     // refresh å·æ°å³é®å­   3ä¸º3s  urlä¸ºèæè·¯å¾\n     \n     \n     1\n     2\n     \n\n\n# è¯·æ±éå®å\n\nå®¢æ·ç«¯çä¸æ¬¡è¯·æ±å°è¾¾å,åç°éè¦åå©å¶ä»servletæ¥å®ç°åè½\n\nä¸è¯·æ±è½¬åä¸ä¸æ ·,å°åæ ä¼æ¹å,ä¸¤æ¬¡è¯·æ±åè¯·æ±åå¯¹è±¡ä¸è½å±äº«æ°æ®,å¯ä»¥éå®åå¶ä»æå¡å¨\n\n * sendredirect(string name) è®¾ç½®éå®å\n   \n   * response.sendredirect(request.getcontextpath() + "/demo02");\n     // èæè·¯å¾æèæå¡å¨url\n     \n     \n     1\n     2\n     \n\n\n# æä»¶ä¸è½½\n\n * setheader(string name,string value)\n   \n   * response.setheader("content-type","application/octet-stream")\n     //  è®¾ç½®ååºå¤´æ¯æçç±»å content-typeæ¶æ¯å¤´åç§°æ¯æçç±»å\n     // application/octet-stream æ¶æ¯å¤´åæ° åºç¨çç±»åä¸ºå­èæµ\n     response.setheader("content-dispostition","attachment;filename=xxx.zip")\n     // è®¾ç½®ååºå¤´ä»¥ä¸è½½æ¹å¼æå¼éä»¶  \n     //  content-dispostition  å¤çå½¢å¼\n     // attachment;filename=xxx.zip   ä»¥éä»¶å½¢å¼å¤ç å¹¶æå®ä¸è½½æä»¶çåè¯\n     \n     \n     1\n     2\n     3\n     4\n     5\n     6\n     7\n     ',charsets:{cjk:!0},lastUpdated:"2022/03/18, 07:01:11",lastUpdatedTimestamp:1647558071e3},{title:"æ³¨è§£",frontmatter:{title:"æ³¨è§£",date:"2022-03-18T00:48:39.000Z",permalink:"/pages/1bf317/",categories:["åç«¯","Java"],tags:[null]},regularPath:"/%E5%90%8E%E7%AB%AF/01.JavaSE/66.%E6%B3%A8%E8%A7%A3.html",relativePath:"åç«¯/01.JavaSE/66.æ³¨è§£.md",key:"v-0c6ac868",path:"/pages/1bf317/",headers:[{level:2,title:"èªå®ä¹æ³¨è§£",slug:"èªå®ä¹æ³¨è§£",normalizedTitle:"èªå®ä¹æ³¨è§£",charIndex:106},{level:2,title:"åæ³¨è§£",slug:"åæ³¨è§£",normalizedTitle:"åæ³¨è§£",charIndex:319},{level:2,title:"è·åæ¹æ³ä¸­æ¯å¦å­å¨æå®æ³¨è§£",slug:"è·åæ¹æ³ä¸­æ¯å¦å­å¨æå®æ³¨è§£",normalizedTitle:"è·åæ¹æ³ä¸­æ¯å¦å­å¨æå®æ³¨è§£",charIndex:609}],headersStr:"èªå®ä¹æ³¨è§£ åæ³¨è§£ è·åæ¹æ³ä¸­æ¯å¦å­å¨æå®æ³¨è§£",content:"# æ³¨è§£\n\nä½ç¨:å¯¹æä»¬çç¨åºè¿è¡æ æ³¨åè§£é\n\n * @Override: æè¿°å­ç±»éåç¶ç±»çæ¹æ³\n * @Deprecated: æè¿°æ¹æ³å·²è¿æ¶\n * @SuppressWarinings: åå¶è­¦å\n\n\n# èªå®ä¹æ³¨è§£\n\npublic @interface æ³¨è§£åç§°{\n    // ç±»å:åºæ¬æ°æ®ç±»å String Class æ³¨è§£ æä¸¾ ä»¥ä¸ç±»åçä¸ç»´æ°ç»å¦ intæ°ç» æä¸¾æ°ç»...ç­ç­\n    public å±æ§ç±»å å±æ§å () default é»è®¤å¼;\n}\n\n\n1\n2\n3\n4\n\n\nå¦æ²¡æç»åºé»è®¤å¼,åå¨ä½¿ç¨è¯¥æ³¨è§£æ¶è¦ä¼ éå¼\n\nå¦æè¯¥æ³¨è§£åªæä¸ä¸ªvalueæ³¨è§£æ²¡æé»è®¤å¼,åä½¿ç¨è¯¥æ³¨è§£æ¶ä¼ éåæ°å¯ä»¥çç¥name\n\n\n# åæ³¨è§£\n\næè¿°æ³¨è§£çæ³¨è§£\n\n * @Target: æå®äºæ³¨è§£è½å¨åªéä½¿ç¨\n   * ElementType.FIELD: æååé\n   * ElementType.TYPE: ç±»\n   * ElementType.METHOD: æ¹æ³\n * @Retention: æ³¨è§£ççå½å¨æ(ä¿çæ¶é´)\n   * RetentionPolicy.RUNTIME: å¦ææ²¡ææå®æ¶é´,ååªè½å¨javaä¸­å­æ´»,ç¼è¯æclassæä»¶åæ³¨è§£æ¶å¤±\n * @Inherited: è¡¨ç¤ºä¿®é¥°çèªå®ä¹æ³¨è§£å¯ä»¥è¢«å­ç±»ç»§æ¿\n * @Documented: è¡¨ç¤ºè¯¥èªå®ä¹æ³¨è§£,ä¼åºç°å¨APIææ¡£éé¢\n\n\n# è·åæ¹æ³ä¸­æ¯å¦å­å¨æå®æ³¨è§£\n\n * isAnnotationPresent(æ³¨è§£çå­èç ): å¤æ­æ¹æ³ä¸­æ¯å¦ææå®æ³¨è§£ è¿åå¸å°å¼ æ³¨æä½¿ç¨æ¹æ¹æ³å¤æ­æ¶,æ³¨è§£è¦è®¾ç½®çå½å¨æä¿çå°è¿è¡æé´ @Retention(RetentionPolicy.RUNTIME)",normalizedContent:"# æ³¨è§£\n\nä½ç¨:å¯¹æä»¬çç¨åºè¿è¡æ æ³¨åè§£é\n\n * @override: æè¿°å­ç±»éåç¶ç±»çæ¹æ³\n * @deprecated: æè¿°æ¹æ³å·²è¿æ¶\n * @suppresswarinings: åå¶è­¦å\n\n\n# èªå®ä¹æ³¨è§£\n\npublic @interface æ³¨è§£åç§°{\n    // ç±»å:åºæ¬æ°æ®ç±»å string class æ³¨è§£ æä¸¾ ä»¥ä¸ç±»åçä¸ç»´æ°ç»å¦ intæ°ç» æä¸¾æ°ç»...ç­ç­\n    public å±æ§ç±»å å±æ§å () default é»è®¤å¼;\n}\n\n\n1\n2\n3\n4\n\n\nå¦æ²¡æç»åºé»è®¤å¼,åå¨ä½¿ç¨è¯¥æ³¨è§£æ¶è¦ä¼ éå¼\n\nå¦æè¯¥æ³¨è§£åªæä¸ä¸ªvalueæ³¨è§£æ²¡æé»è®¤å¼,åä½¿ç¨è¯¥æ³¨è§£æ¶ä¼ éåæ°å¯ä»¥çç¥name\n\n\n# åæ³¨è§£\n\næè¿°æ³¨è§£çæ³¨è§£\n\n * @target: æå®äºæ³¨è§£è½å¨åªéä½¿ç¨\n   * elementtype.field: æååé\n   * elementtype.type: ç±»\n   * elementtype.method: æ¹æ³\n * @retention: æ³¨è§£ççå½å¨æ(ä¿çæ¶é´)\n   * retentionpolicy.runtime: å¦ææ²¡ææå®æ¶é´,ååªè½å¨javaä¸­å­æ´»,ç¼è¯æclassæä»¶åæ³¨è§£æ¶å¤±\n * @inherited: è¡¨ç¤ºä¿®é¥°çèªå®ä¹æ³¨è§£å¯ä»¥è¢«å­ç±»ç»§æ¿\n * @documented: è¡¨ç¤ºè¯¥èªå®ä¹æ³¨è§£,ä¼åºç°å¨apiææ¡£éé¢\n\n\n# è·åæ¹æ³ä¸­æ¯å¦å­å¨æå®æ³¨è§£\n\n * isannotationpresent(æ³¨è§£çå­èç ): å¤æ­æ¹æ³ä¸­æ¯å¦ææå®æ³¨è§£ è¿åå¸å°å¼ æ³¨æä½¿ç¨æ¹æ¹æ³å¤æ­æ¶,æ³¨è§£è¦è®¾ç½®çå½å¨æä¿çå°è¿è¡æé´ @retention(retentionpolicy.runtime)",charsets:{cjk:!0},lastUpdated:"2022/03/18, 07:01:11",lastUpdatedTimestamp:1647558071e3},{title:"è¯·æ±å¯¹è±¡",frontmatter:{title:"è¯·æ±å¯¹è±¡",date:"2022-03-18T00:48:40.000Z",permalink:"/pages/83bc98/",categories:["åç«¯","Java"],tags:[null]},regularPath:"/%E5%90%8E%E7%AB%AF/01.JavaSE/71.%E8%AF%B7%E6%B1%82%E5%AF%B9%E8%B1%A1.html",relativePath:"åç«¯/01.JavaSE/71.è¯·æ±å¯¹è±¡.md",key:"v-3c977991",path:"/pages/83bc98/",headers:[{level:2,title:"è·åè·¯å¾",slug:"è·åè·¯å¾",normalizedTitle:"è·åè·¯å¾",charIndex:42},{level:2,title:"è·åè¯·æ±å¤´",slug:"è·åè¯·æ±å¤´",normalizedTitle:"è·åè¯·æ±å¤´",charIndex:230},{level:2,title:"è·åè¯·æ±åæ°ä¿¡æ¯",slug:"è·åè¯·æ±åæ°ä¿¡æ¯",normalizedTitle:"è·åè¯·æ±åæ°ä¿¡æ¯",charIndex:358},{level:2,title:"è·åè¯·æ±åæ°å¹¶å°è£ä¸ºå¯¹è±¡",slug:"è·åè¯·æ±åæ°å¹¶å°è£ä¸ºå¯¹è±¡",normalizedTitle:"è·åè¯·æ±åæ°å¹¶å°è£ä¸ºå¯¹è±¡",charIndex:518},{level:2,title:"éè¿æµå¯¹è±¡è·åè¯·æ±ä¿¡æ¯",slug:"éè¿æµå¯¹è±¡è·åè¯·æ±ä¿¡æ¯",normalizedTitle:"éè¿æµå¯¹è±¡è·åè¯·æ±ä¿¡æ¯",charIndex:730},{level:2,title:"ä¸­æä¹±ç é®é¢",slug:"ä¸­æä¹±ç é®é¢",normalizedTitle:"ä¸­æä¹±ç é®é¢",charIndex:811},{level:2,title:"è¯·æ±å",slug:"è¯·æ±å",normalizedTitle:"è¯·æ±å",charIndex:962},{level:3,title:"è¯·æ±è½¬å",slug:"è¯·æ±è½¬å",normalizedTitle:"è¯·æ±è½¬å",charIndex:999},{level:3,title:"è¯·æ±åå«",slug:"è¯·æ±åå«",normalizedTitle:"è¯·æ±åå«",charIndex:1341}],headersStr:"è·åè·¯å¾ è·åè¯·æ±å¤´ è·åè¯·æ±åæ°ä¿¡æ¯ è·åè¯·æ±åæ°å¹¶å°è£ä¸ºå¯¹è±¡ éè¿æµå¯¹è±¡è·åè¯·æ±ä¿¡æ¯ ä¸­æä¹±ç é®é¢ è¯·æ±å è¯·æ±è½¬å è¯·æ±åå«",content:'# è¯·æ±å¯¹è±¡\n\nè·åèµæº,å¨BS æ¶æä¸­å°±æ¯å®¢æ·ç«¯æµè§å¨åæå¡å¨ç«¯ååºè¯¢é®\n\n\n# è·åè·¯å¾\n\n * getContextPath() è·åèæç®å½åç§°\n * getServletPath() è·åServletæ å°è·¯å¾\n * getRemoteAddr() è·åè®¿é®èip\n * getQueryString() è·åè¯·æ±çæ¶æ¯æ°æ®\n * getRequestURI() è·åç»ä¸èµæºæ è¯ç¬¦\n * getRequestURL() è·åç»ä¸èµæºå®ä½ç¬¦\n\n\n# è·åè¯·æ±å¤´\n\n * getHeader(string name) æ ¹æ®è¯·æ±å¤´åç§°è·åå¼\n * getHeaders(string name) æ ¹æ®è¯·æ±å¤´åç§°è·åå¤ä¸ªå¼ è¿åæä¸¾\n * getHeaderNames() è·åææè¯·æ±å¤´åç§° è¿åæä¸¾\n\n\n# è·åè¯·æ±åæ°ä¿¡æ¯\n\n * getParameter(string name) æ ¹æ®åç§°è·åæ°æ®\n * getParameterValues(String name) æ ¹æ®åç§°è·åæææ°æ®\n * getParameterNames() è·åææåç§°\n * getParameterMap() è·åææåæ°çé®å¼å¯¹\n\n\n# è·åè¯·æ±åæ°å¹¶å°è£ä¸ºå¯¹è±¡\n\n * æå¨å°è£å¯¹è±¡ newä¸ä¸ª\n * åå°å°è£å¯¹è±¡\n   * pd = new PropertyDescriptor(name,ç±»å¯¹è±¡.class) æ ¹æ®nameè·åè¯¥å¯¹è±¡çæååéæ¹æ³\n   * pd.getWriteMethod().invoke(ç±»å¯¹è±¡,ä¼ éçåæ°)\n * å·¥å·ç±»å°è£å¯¹è±¡ Beanutils\n   * Beanutils.popilate(ç±»å¯¹è±¡,ä¼ éçåæ°);\n\n\n# éè¿æµå¯¹è±¡è·åè¯·æ±ä¿¡æ¯\n\n * åªæ¯æpostè¯·æ±\n * getReader() è·åå­ç¬¦è¾å¥æµ\n * getInputStream() è·åå­èè¾å¥æµ\n\n\n# ä¸­æä¹±ç é®é¢\n\n * GET æ¹å¼ å¨Tomcat8å·²ç»è§£å³\n\n * POST éè¿ setChararerEnocding("UTF-8")è§£å³\n   \n   * request.setCharacterEncoding("UTF-8");\n     \n     \n     1\n     \n\n\n# è¯·æ±å\n\nåç§°requestå å¯ä»¥å¨ä¸æ¬¡è¯·æ±èå´åè¿è¡å±äº«æ°æ®,ä¸è¬ç¨äºè¯·æ±è½¬åçå¤ä¸ªèµæºä¸­å±äº«æ°æ®\n\n * setAttribute(String name , object vlaue) åè¯·æ±åå¯¹è±¡ä¸­å­å¨æ°æ®\n * getAttribute(string name) æ ¹æ®åç§°è·åè¯·æ±åçæ°æ®\n * removeAttribute(String name) æ ¹æ®åç§°å é¤è¯·æ±åçæ°æ®\n\n\n# è¯·æ±è½¬å\n\nå®¢æç«¯çè¯·æ±å°è¾¾å,åç°éè¦å¶ä»Servletæ¥å®ç°åè½,åéè¦è½¬åæ°æ®\n\n * getRequestDispatcher(String name èæè·¯å¾) è·åè¯·æ±è°åº¦å¯¹è±¡\n   \n   * forward(HttpServletRequest request, HttpServletResponse response) å®ç°è½¬å\n\n\n# è¯·æ±åå«\n\nå¯ä»¥åå¹¶å¶ä»Servletä¸­çåè½ä¸èµ·ååºç»å®¢æ·ç«¯\n\n * getRequestDispatcher(String name èæè·¯å¾) è·åè¯·æ±è°åº¦å¯¹è±¡\n   * include(HttpServletRequest request, HttpServletResponse response) å®ç°åå«',normalizedContent:'# è¯·æ±å¯¹è±¡\n\nè·åèµæº,å¨bs æ¶æä¸­å°±æ¯å®¢æ·ç«¯æµè§å¨åæå¡å¨ç«¯ååºè¯¢é®\n\n\n# è·åè·¯å¾\n\n * getcontextpath() è·åèæç®å½åç§°\n * getservletpath() è·åservletæ å°è·¯å¾\n * getremoteaddr() è·åè®¿é®èip\n * getquerystring() è·åè¯·æ±çæ¶æ¯æ°æ®\n * getrequesturi() è·åç»ä¸èµæºæ è¯ç¬¦\n * getrequesturl() è·åç»ä¸èµæºå®ä½ç¬¦\n\n\n# è·åè¯·æ±å¤´\n\n * getheader(string name) æ ¹æ®è¯·æ±å¤´åç§°è·åå¼\n * getheaders(string name) æ ¹æ®è¯·æ±å¤´åç§°è·åå¤ä¸ªå¼ è¿åæä¸¾\n * getheadernames() è·åææè¯·æ±å¤´åç§° è¿åæä¸¾\n\n\n# è·åè¯·æ±åæ°ä¿¡æ¯\n\n * getparameter(string name) æ ¹æ®åç§°è·åæ°æ®\n * getparametervalues(string name) æ ¹æ®åç§°è·åæææ°æ®\n * getparameternames() è·åææåç§°\n * getparametermap() è·åææåæ°çé®å¼å¯¹\n\n\n# è·åè¯·æ±åæ°å¹¶å°è£ä¸ºå¯¹è±¡\n\n * æå¨å°è£å¯¹è±¡ newä¸ä¸ª\n * åå°å°è£å¯¹è±¡\n   * pd = new propertydescriptor(name,ç±»å¯¹è±¡.class) æ ¹æ®nameè·åè¯¥å¯¹è±¡çæååéæ¹æ³\n   * pd.getwritemethod().invoke(ç±»å¯¹è±¡,ä¼ éçåæ°)\n * å·¥å·ç±»å°è£å¯¹è±¡ beanutils\n   * beanutils.popilate(ç±»å¯¹è±¡,ä¼ éçåæ°);\n\n\n# éè¿æµå¯¹è±¡è·åè¯·æ±ä¿¡æ¯\n\n * åªæ¯æpostè¯·æ±\n * getreader() è·åå­ç¬¦è¾å¥æµ\n * getinputstream() è·åå­èè¾å¥æµ\n\n\n# ä¸­æä¹±ç é®é¢\n\n * get æ¹å¼ å¨tomcat8å·²ç»è§£å³\n\n * post éè¿ setchararerenocding("utf-8")è§£å³\n   \n   * request.setcharacterencoding("utf-8");\n     \n     \n     1\n     \n\n\n# è¯·æ±å\n\nåç§°requestå å¯ä»¥å¨ä¸æ¬¡è¯·æ±èå´åè¿è¡å±äº«æ°æ®,ä¸è¬ç¨äºè¯·æ±è½¬åçå¤ä¸ªèµæºä¸­å±äº«æ°æ®\n\n * setattribute(string name , object vlaue) åè¯·æ±åå¯¹è±¡ä¸­å­å¨æ°æ®\n * getattribute(string name) æ ¹æ®åç§°è·åè¯·æ±åçæ°æ®\n * removeattribute(string name) æ ¹æ®åç§°å é¤è¯·æ±åçæ°æ®\n\n\n# è¯·æ±è½¬å\n\nå®¢æç«¯çè¯·æ±å°è¾¾å,åç°éè¦å¶ä»servletæ¥å®ç°åè½,åéè¦è½¬åæ°æ®\n\n * getrequestdispatcher(string name èæè·¯å¾) è·åè¯·æ±è°åº¦å¯¹è±¡\n   \n   * forward(httpservletrequest request, httpservletresponse response) å®ç°è½¬å\n\n\n# è¯·æ±åå«\n\nå¯ä»¥åå¹¶å¶ä»servletä¸­çåè½ä¸èµ·ååºç»å®¢æ·ç«¯\n\n * getrequestdispatcher(string name èæè·¯å¾) è·åè¯·æ±è°åº¦å¯¹è±¡\n   * include(httpservletrequest request, httpservletresponse response) å®ç°åå«',charsets:{cjk:!0},lastUpdated:"2022/03/18, 07:01:11",lastUpdatedTimestamp:1647558071e3},{title:"Cookie",frontmatter:{title:"Cookie",date:"2022-03-18T00:48:40.000Z",permalink:"/pages/133dfe/",categories:["åç«¯","Java"],tags:[null]},regularPath:"/%E5%90%8E%E7%AB%AF/01.JavaSE/73.Cookie.html",relativePath:"åç«¯/01.JavaSE/73.Cookie.md",key:"v-5d9b9aeb",path:"/pages/133dfe/",headers:[{level:2,title:"æ·»å åè·åCookie",slug:"æ·»å åè·åcookie",normalizedTitle:"æ·»å åè·åcookie",charIndex:135},{level:2,title:"è§å",slug:"è§å",normalizedTitle:"è§å",charIndex:334}],headersStr:"æ·»å åè·åCookie è§å",content:'# Cookie\n\nä¼è¯:æµè§å¨åæå¡å¨ä¹é´çå¤æ¬¡è¯·æ±åååº\n\nCookie:å®¢æ·ç«¯ä¼è¯ç®¡çææ¯ æè¦å±äº«çæ°æ®ä¿å­å°å®¢æ·ç«¯\n\n\n\n * Cookie(String name,String value) åå»ºCookieå¯¹è±¡\n * æååéçgetåsetæ¹æ³\n\n\n# æ·»å åè·åCookie\n\næ·»å éè¦åå©ååºå¯¹è±¡æ¥æ·»å \n\n * addCookie(Cookie cookie) åå®¢æ·ç«¯æ·»å cookie\n\nresponse.addCookie(new Cookie("name","value"));\n\n\n1\n\n\nè·åéè¦åå©è¯·æ±å¯¹è±¡æ¥è·å\n\n * getCookies() è·åææçcookie\n\nrequest.getCookies();\n\n\n1\n\n\n\n# è§å\n\n * æ°ééå¶\n   * æ¯ä¸ªç½ç«æå¤åªè½æ20ä¸ªCookie,å¹¶ä¸å¤§å°ä¸è½è¶4KB ææç½ç«Cookieæ»æ°ä¸è½è¶300ä¸ª\n * å½åéå¶\n   * åç§°åªè½ä¿æ¤ASCCIç å­æ¯ æ°å­å­ç¬¦ ä¸è½æéå· åå· ç©ºæ ¼ å ä»¥$å¼å¤´\n   * å¼ä¸æ¯æä¸­æ\n * å­æ´»æ¶é´éå¶\n   * è´æ° å½åä¼è¯ææ æµè§å¨å³é­åæ¸é¤\n   * 0 ç«å³æ¸é¤\n   * æ­£æ´æ° ä»¥ç§ä¸ºåä½è®¾ç½®çå­æ´»æ¶é´\n * è®¿é®è·¯å¾éå¶\n   * åèªç¬¬ä¸è®¿é®èµæºè·¯å¾åç¼ åªè¦ä»¥è¿ä¸ªè·¯å¾å¼å¤´å°±å¯ä»¥è®¿é®å°cookie\n   * èªå®ä¹è·¯å¾: setPath() è®¾ç½®æå®è·¯å¾',normalizedContent:'# cookie\n\nä¼è¯:æµè§å¨åæå¡å¨ä¹é´çå¤æ¬¡è¯·æ±åååº\n\ncookie:å®¢æ·ç«¯ä¼è¯ç®¡çææ¯ æè¦å±äº«çæ°æ®ä¿å­å°å®¢æ·ç«¯\n\n\n\n * cookie(string name,string value) åå»ºcookieå¯¹è±¡\n * æååéçgetåsetæ¹æ³\n\n\n# æ·»å åè·åcookie\n\næ·»å éè¦åå©ååºå¯¹è±¡æ¥æ·»å \n\n * addcookie(cookie cookie) åå®¢æ·ç«¯æ·»å cookie\n\nresponse.addcookie(new cookie("name","value"));\n\n\n1\n\n\nè·åéè¦åå©è¯·æ±å¯¹è±¡æ¥è·å\n\n * getcookies() è·åææçcookie\n\nrequest.getcookies();\n\n\n1\n\n\n\n# è§å\n\n * æ°ééå¶\n   * æ¯ä¸ªç½ç«æå¤åªè½æ20ä¸ªcookie,å¹¶ä¸å¤§å°ä¸è½è¶4kb ææç½ç«cookieæ»æ°ä¸è½è¶300ä¸ª\n * å½åéå¶\n   * åç§°åªè½ä¿æ¤ascciç å­æ¯ æ°å­å­ç¬¦ ä¸è½æéå· åå· ç©ºæ ¼ å ä»¥$å¼å¤´\n   * å¼ä¸æ¯æä¸­æ\n * å­æ´»æ¶é´éå¶\n   * è´æ° å½åä¼è¯ææ æµè§å¨å³é­åæ¸é¤\n   * 0 ç«å³æ¸é¤\n   * æ­£æ´æ° ä»¥ç§ä¸ºåä½è®¾ç½®çå­æ´»æ¶é´\n * è®¿é®è·¯å¾éå¶\n   * åèªç¬¬ä¸è®¿é®èµæºè·¯å¾åç¼ åªè¦ä»¥è¿ä¸ªè·¯å¾å¼å¤´å°±å¯ä»¥è®¿é®å°cookie\n   * èªå®ä¹è·¯å¾: setpath() è®¾ç½®æå®è·¯å¾',charsets:{cjk:!0},lastUpdated:"2022/03/18, 07:01:11",lastUpdatedTimestamp:1647558071e3},{title:"Servlet",frontmatter:{title:"Servlet",date:"2022-03-18T00:48:40.000Z",permalink:"/pages/9c9dd6/",categories:["åç«¯","Java"],tags:[null]},regularPath:"/%E5%90%8E%E7%AB%AF/01.JavaSE/70.Servlet.html",relativePath:"åç«¯/01.JavaSE/70.Servlet.md",key:"v-7703b171",path:"/pages/9c9dd6/",headers:[{level:2,title:"ç»§æ¿GenericServlet",slug:"ç»§æ¿genericservlet",normalizedTitle:"ç»§æ¿genericservlet",charIndex:14},{level:2,title:"ç»§æ¿ HttpServlet",slug:"ç»§æ¿-httpservlet",normalizedTitle:"ç»§æ¿ httpservlet",charIndex:667},{level:2,title:"çå½å¨æ",slug:"çå½å¨æ",normalizedTitle:"çå½å¨æ",charIndex:781},{level:2,title:"çº¿ç¨å®å¨é®é¢",slug:"çº¿ç¨å®å¨é®é¢",normalizedTitle:"çº¿ç¨å®å¨é®é¢",charIndex:841},{level:2,title:"æ å°æ¹å¼",slug:"æ å°æ¹å¼",normalizedTitle:"æ å°æ¹å¼",charIndex:958},{level:2,title:"åå»ºæ¶æº",slug:"åå»ºæ¶æº",normalizedTitle:"åå»ºæ¶æº",charIndex:1161},{level:2,title:"ServletConfig",slug:"servletconfig",normalizedTitle:"servletconfig",charIndex:1650},{level:3,title:"è·åæ¹æ³",slug:"è·åæ¹æ³",normalizedTitle:"è·åæ¹æ³",charIndex:2039},{level:2,title:"ServletContext",slug:"servletcontext",normalizedTitle:"servletcontext",charIndex:2374},{level:3,title:"éç½®",slug:"éç½®",normalizedTitle:"éç½®",charIndex:84},{level:3,title:"æ¹æ³",slug:"æ¹æ³",normalizedTitle:"æ¹æ³",charIndex:68},{level:3,title:"æ³¨è§£",slug:"æ³¨è§£",normalizedTitle:"æ³¨è§£",charIndex:3055},{level:3,title:"æå¨åå»ºå®¹å¨",slug:"æå¨åå»ºå®¹å¨",normalizedTitle:"æå¨åå»ºå®¹å¨",charIndex:3266}],headersStr:"ç»§æ¿GenericServlet ç»§æ¿ HttpServlet çå½å¨æ çº¿ç¨å®å¨é®é¢ æ å°æ¹å¼ åå»ºæ¶æº ServletConfig è·åæ¹æ³ ServletContext éç½® æ¹æ³ æ³¨è§£ æå¨åå»ºå®¹å¨",content:'# Servlet\n\n\n# ç»§æ¿GenericServlet\n\n * ç»§æ¿GenericServlet\n\n * éå serviece æ¹æ³\n\n * å¨web.xmlä¸­éç½® servlet\n   \n   * \x3c!--    å£°æ--\x3e\n     <servlet>\n         \x3c!--        ç±»å--\x3e\n         <servlet-name>servletDemo</servlet-name>\n         \x3c!--        ç±»è·¯å¾--\x3e\n         <servlet-class>com.example.demo.demo</servlet-class>\n     </servlet>\n     \x3c!--    æ å°--\x3e\n     <servlet-mapping>\n         \x3c!--    ä¸ç±»åä¸è´--\x3e\n         <servlet-name>servletDemo</servlet-name>\n         \x3c!--        ç½é¡µè®¿é®é¾æ¥è·¯å¾--\x3e\n         <url-pattern>/demo</url-pattern>\n     </servlet-mapping>\n     \n     \n     1\n     2\n     3\n     4\n     5\n     6\n     7\n     8\n     9\n     10\n     11\n     12\n     13\n     14\n     \n\n * éå¯é¡¹ç®\n\n\n# ç»§æ¿ HttpServlet\n\n * ç»§æ¿HttpServlet\n * éå doGet å doPost æ¹æ³ (å¯ä»¥å¨doPostä¸­è°ç¨doGetæ¹æ³)\n * å¨web.xmlä¸­éç½® servlet\n * éå¯é¡¹ç®\n\n\n# çå½å¨æ\n\n * åºç init()\n * è¿ç¨ doGet serviece\n * éæ¯ destroy()\n\n\n# çº¿ç¨å®å¨é®é¢\n\nserviece éç¨æ¯åä¾æ¨¡å¼, æ´ä¸ªåºç¨ä¸­åªæä¸ä¸ªå®ä¾å¯¹è±¡,æä»¬ç§°ä¸ºåä¾æ¨¡å¼\n\n * å¦æåªæ¯ä½¿ç¨èä¸ä¿®æ¹\n * å°åéçº§å«éå° å±é¨åé å¨dogetä¸­\n * ä½¿ç¨ synchronized åæ­¥ä»£ç å\n\n\n# æ å°æ¹å¼\n\n * å®æ´åç§°\n\n * /å¼å¤´ + ééç¬¦ ä»¥ä»ä¹ä»ä¹å¼å¤´\n   \n   * <servlet-name>/demo/*</servlet-name>\n     \n     \n     1\n     \n\n * ééç¬¦ + åºå®ç»å°¾ ä»¥ä»ä¹ä»ä¹ç»å°¾\n   \n   * <servlet-name>*.qwq</servlet-name>\n     \n     \n     1\n     \n\n\n# åå»ºæ¶æº\n\n * ç¬¬ä¸æ¬¡è®¿é®æ¶åå»º\n   * åå°å¯¹æå¡å¨åå­çæµªè´¹,è®¿é®æ¶æåå»º\n * æå¡å¨å è½½æ¶åå»º\n   * æååå»ºå¥½å¯¹è±¡,æé«é¦æ¬¡æ§è¡çæç å¯¹åå®¹å ç¨è¾å¤§\n\nå¨web.xmlä¸­éç½® servlet ç load-on-startup\n\n<servlet>\n    <servlet-name>servletDemo</servlet-name>\n    <servlet-class>com.example.demo.demo</servlet-class>      \n    \x3c!-- æ­£æ´æ°ä¸ºå è½½æ¶åå»ºå¼è¶å¤§ä¼åçº§è¶é«  è´æ°æä¸åä¸ºç¬¬ä¸æ¬¡è®¿é®æ¶åå»º --\x3e\n    <load-on-startup>1</load-on-startup>\n</servlet>\n<servlet-mapping>\n    <servlet-name>servletDemo</servlet-name>\n    <url-pattern>/demo</url-pattern>\n</servlet-mapping>\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n\n\n\n# ServletConfig\n\nå¨servletæ ç­¾ä¸­ éè¿init-paramæ ç­¾ æ¥éç½®\n\nä»¥é®å¼å¯¹æ¹å¼éç½® param-name å param-value\n\n<servlet>\n    <servlet-name>servletDemo</servlet-name>\n    <servlet-class>com.example.demo.demo</servlet-class>\n    <init-param>\n        <param-name>encoding</param-name>\n        <param-value>UTF-8</param-value>\n    </init-param>\n    <load-on-startup>1</load-on-startup>\n</servlet>\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n\n\n\n# è·åæ¹æ³\n\n * è·åServletConfigå¯¹è±¡\n   \n   * private ServletConfig config;\n     // å¨initæ¹æ³ä¸­\n     public void init(ServletConfig config) { }\n     \n     \n     1\n     2\n     3\n     \n\n * getInitParameter(String name) æ ¹æ®keyè·åvalue\n\n * getInitParmeterNames() è·åææåæ°åç§°çæä¸¾\n\n * getServletName() è·åServlet,åç§°\n\n * getServltContext() è·åServltContextå¯¹è±¡\n\n\n# ServletContext\n\nServletContextæ¯åºç¨ä¸ä¸æå¯¹è±¡(åºç¨åå¯¹è±¡).æ¯ä¸ªåºç¨åªæä¸ä¸ªServletContextå¯¹è±¡\n\n\n# éç½®\n\nå¨<web-app> æ ç­¾ä¸­ éè¿ <context-param>æ ç­¾è¿è¡éç½®\n\nä»¥é®å¼å¯¹ <param-name> å <param-value> è¿è¡éç½®\n\n<web-app xmlns="http://xmlns.jcp.org/xml/ns/javaee">\n<context-param>\n        <param-name>key</param-name>\n        <param-value>value</param-value>\n    </context-param>\n</web-app>\n\n\n1\n2\n3\n4\n5\n6\n\n\n\n# æ¹æ³\n\n * getServletContext() è·åå½ååºç¨çServletContextå¯¹è±¡\n * getInitparameter(String name) æ ¹æ®åç§°è·åå¨å±éç½®åæ°\n * getContextPath() è·åå½ååºç¨è®¿é®çèæç®å½\n * getRealPath(String path) æ ¹æ®èæç®å½è·åç»å¯¹è·¯å¾\n * \n * setAttribute(String name,Object value) ååºç¨åå¯¹è±¡ä¸­å­å¨æ°æ®\n * getAttribute(string name) æ ¹æ®åç§°è·ååºç¨åä¸­çæ°æ®\n * removeAttribute(string name) æ ¹æ®åç§°ç§»é¤åºç¨åä¸­çæ°æ®\n\n\n# æ³¨è§£\n\nServlet 3.0 æ¯æ æ³¨è§£åXMLéç½®, è¦æ±tomcat 9 å javaee8\n\nä»¥åæä»¬åä¸ä¸ªç±»éè¦å¨xmlä¸­éç½®è¯¥ç±»çè·¯å¾ãåç§°ãé¾æ¥\n\n * @WebServlet æ³¨è§£éç½®Servlet\n\n * å¨è¯¥ç±»ä¸é¢ä½¿ç¨\n\n * @WebServlet(name = "helloServlet", value = "/hello-servlet")\n   \n   \n   1\n   \n\n * \n\n\n# æå¨åå»ºå®¹å¨\n\n * å®ä¹ä¸ä¸ªç±» ç»§æ¿HttpServlet\n * éå dogetådopostæ¹æ³\n * å®ä¹ä¸ä¸ªç±» å®ç° ServletContainerInitializer æ¥å£\n * å¨srcç®å½ä¸åå»ºä¸ä¸ª META-INF å\n * å¨ META-INF å åå»ºä¸ä¸ªservices å\n * å¨ services å ä¸åå»ºä¸ä¸ª javax.servlet.ServletContainerInitializer çæä»¶ æ åç¼æä»¶\n * æä»¶ä¸­çåå®¹ä¸ºå®¹å¨å®ç°ç±»çå¨ç±»å\n * å¨å®¹å¨å®ç°ç±»ä¸­ ç onStarup æ¹æ³ ä¸­å®ææ³¨å Servlet\n   * åå»ºè¦æ³¨åçservletå¯¹è±¡\n   * res = serveletContext.addServlet(name,å¯¹è±¡)\n   * res.addMapping(è®¿é®è·¯å¾)\n * éå¯é¡¹ç®',normalizedContent:'# servlet\n\n\n# ç»§æ¿genericservlet\n\n * ç»§æ¿genericservlet\n\n * éå serviece æ¹æ³\n\n * å¨web.xmlä¸­éç½® servlet\n   \n   * \x3c!--    å£°æ--\x3e\n     <servlet>\n         \x3c!--        ç±»å--\x3e\n         <servlet-name>servletdemo</servlet-name>\n         \x3c!--        ç±»è·¯å¾--\x3e\n         <servlet-class>com.example.demo.demo</servlet-class>\n     </servlet>\n     \x3c!--    æ å°--\x3e\n     <servlet-mapping>\n         \x3c!--    ä¸ç±»åä¸è´--\x3e\n         <servlet-name>servletdemo</servlet-name>\n         \x3c!--        ç½é¡µè®¿é®é¾æ¥è·¯å¾--\x3e\n         <url-pattern>/demo</url-pattern>\n     </servlet-mapping>\n     \n     \n     1\n     2\n     3\n     4\n     5\n     6\n     7\n     8\n     9\n     10\n     11\n     12\n     13\n     14\n     \n\n * éå¯é¡¹ç®\n\n\n# ç»§æ¿ httpservlet\n\n * ç»§æ¿httpservlet\n * éå doget å dopost æ¹æ³ (å¯ä»¥å¨dopostä¸­è°ç¨dogetæ¹æ³)\n * å¨web.xmlä¸­éç½® servlet\n * éå¯é¡¹ç®\n\n\n# çå½å¨æ\n\n * åºç init()\n * è¿ç¨ doget serviece\n * éæ¯ destroy()\n\n\n# çº¿ç¨å®å¨é®é¢\n\nserviece éç¨æ¯åä¾æ¨¡å¼, æ´ä¸ªåºç¨ä¸­åªæä¸ä¸ªå®ä¾å¯¹è±¡,æä»¬ç§°ä¸ºåä¾æ¨¡å¼\n\n * å¦æåªæ¯ä½¿ç¨èä¸ä¿®æ¹\n * å°åéçº§å«éå° å±é¨åé å¨dogetä¸­\n * ä½¿ç¨ synchronized åæ­¥ä»£ç å\n\n\n# æ å°æ¹å¼\n\n * å®æ´åç§°\n\n * /å¼å¤´ + ééç¬¦ ä»¥ä»ä¹ä»ä¹å¼å¤´\n   \n   * <servlet-name>/demo/*</servlet-name>\n     \n     \n     1\n     \n\n * ééç¬¦ + åºå®ç»å°¾ ä»¥ä»ä¹ä»ä¹ç»å°¾\n   \n   * <servlet-name>*.qwq</servlet-name>\n     \n     \n     1\n     \n\n\n# åå»ºæ¶æº\n\n * ç¬¬ä¸æ¬¡è®¿é®æ¶åå»º\n   * åå°å¯¹æå¡å¨åå­çæµªè´¹,è®¿é®æ¶æåå»º\n * æå¡å¨å è½½æ¶åå»º\n   * æååå»ºå¥½å¯¹è±¡,æé«é¦æ¬¡æ§è¡çæç å¯¹åå®¹å ç¨è¾å¤§\n\nå¨web.xmlä¸­éç½® servlet ç load-on-startup\n\n<servlet>\n    <servlet-name>servletdemo</servlet-name>\n    <servlet-class>com.example.demo.demo</servlet-class>      \n    \x3c!-- æ­£æ´æ°ä¸ºå è½½æ¶åå»ºå¼è¶å¤§ä¼åçº§è¶é«  è´æ°æä¸åä¸ºç¬¬ä¸æ¬¡è®¿é®æ¶åå»º --\x3e\n    <load-on-startup>1</load-on-startup>\n</servlet>\n<servlet-mapping>\n    <servlet-name>servletdemo</servlet-name>\n    <url-pattern>/demo</url-pattern>\n</servlet-mapping>\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n\n\n\n# servletconfig\n\nå¨servletæ ç­¾ä¸­ éè¿init-paramæ ç­¾ æ¥éç½®\n\nä»¥é®å¼å¯¹æ¹å¼éç½® param-name å param-value\n\n<servlet>\n    <servlet-name>servletdemo</servlet-name>\n    <servlet-class>com.example.demo.demo</servlet-class>\n    <init-param>\n        <param-name>encoding</param-name>\n        <param-value>utf-8</param-value>\n    </init-param>\n    <load-on-startup>1</load-on-startup>\n</servlet>\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n\n\n\n# è·åæ¹æ³\n\n * è·åservletconfigå¯¹è±¡\n   \n   * private servletconfig config;\n     // å¨initæ¹æ³ä¸­\n     public void init(servletconfig config) { }\n     \n     \n     1\n     2\n     3\n     \n\n * getinitparameter(string name) æ ¹æ®keyè·åvalue\n\n * getinitparmeternames() è·åææåæ°åç§°çæä¸¾\n\n * getservletname() è·åservlet,åç§°\n\n * getservltcontext() è·åservltcontextå¯¹è±¡\n\n\n# servletcontext\n\nservletcontextæ¯åºç¨ä¸ä¸æå¯¹è±¡(åºç¨åå¯¹è±¡).æ¯ä¸ªåºç¨åªæä¸ä¸ªservletcontextå¯¹è±¡\n\n\n# éç½®\n\nå¨<web-app> æ ç­¾ä¸­ éè¿ <context-param>æ ç­¾è¿è¡éç½®\n\nä»¥é®å¼å¯¹ <param-name> å <param-value> è¿è¡éç½®\n\n<web-app xmlns="http://xmlns.jcp.org/xml/ns/javaee">\n<context-param>\n        <param-name>key</param-name>\n        <param-value>value</param-value>\n    </context-param>\n</web-app>\n\n\n1\n2\n3\n4\n5\n6\n\n\n\n# æ¹æ³\n\n * getservletcontext() è·åå½ååºç¨çservletcontextå¯¹è±¡\n * getinitparameter(string name) æ ¹æ®åç§°è·åå¨å±éç½®åæ°\n * getcontextpath() è·åå½ååºç¨è®¿é®çèæç®å½\n * getrealpath(string path) æ ¹æ®èæç®å½è·åç»å¯¹è·¯å¾\n * \n * setattribute(string name,object value) ååºç¨åå¯¹è±¡ä¸­å­å¨æ°æ®\n * getattribute(string name) æ ¹æ®åç§°è·ååºç¨åä¸­çæ°æ®\n * removeattribute(string name) æ ¹æ®åç§°ç§»é¤åºç¨åä¸­çæ°æ®\n\n\n# æ³¨è§£\n\nservlet 3.0 æ¯æ æ³¨è§£åxmléç½®, è¦æ±tomcat 9 å javaee8\n\nä»¥åæä»¬åä¸ä¸ªç±»éè¦å¨xmlä¸­éç½®è¯¥ç±»çè·¯å¾ãåç§°ãé¾æ¥\n\n * @webservlet æ³¨è§£éç½®servlet\n\n * å¨è¯¥ç±»ä¸é¢ä½¿ç¨\n\n * @webservlet(name = "helloservlet", value = "/hello-servlet")\n   \n   \n   1\n   \n\n * \n\n\n# æå¨åå»ºå®¹å¨\n\n * å®ä¹ä¸ä¸ªç±» ç»§æ¿httpservlet\n * éå dogetådopostæ¹æ³\n * å®ä¹ä¸ä¸ªç±» å®ç° servletcontainerinitializer æ¥å£\n * å¨srcç®å½ä¸åå»ºä¸ä¸ª meta-inf å\n * å¨ meta-inf å åå»ºä¸ä¸ªservices å\n * å¨ services å ä¸åå»ºä¸ä¸ª javax.servlet.servletcontainerinitializer çæä»¶ æ åç¼æä»¶\n * æä»¶ä¸­çåå®¹ä¸ºå®¹å¨å®ç°ç±»çå¨ç±»å\n * å¨å®¹å¨å®ç°ç±»ä¸­ ç onstarup æ¹æ³ ä¸­å®ææ³¨å servlet\n   * åå»ºè¦æ³¨åçservletå¯¹è±¡\n   * res = serveletcontext.addservlet(name,å¯¹è±¡)\n   * res.addmapping(è®¿é®è·¯å¾)\n * éå¯é¡¹ç®',charsets:{cjk:!0},lastUpdated:"2022/03/18, 07:01:11",lastUpdatedTimestamp:1647558071e3},{title:"JDBC",frontmatter:{title:"JDBC",date:"2022-03-18T00:51:47.000Z",permalink:"/pages/544a3f/",categories:["åç«¯","JavaEE"],tags:[null]},regularPath:"/%E5%90%8E%E7%AB%AF/02.JavaEE/01.JDBC.html",relativePath:"åç«¯/02.JavaEE/01.JDBC.md",key:"v-7a01132d",path:"/pages/544a3f/",headers:[{level:2,title:"DriverManager è¿æ¥",slug:"drivermanager-è¿æ¥",normalizedTitle:"drivermanager è¿æ¥",charIndex:768},{level:2,title:"Connection è¿æ¥å¯¹è±¡",slug:"connection-è¿æ¥å¯¹è±¡",normalizedTitle:"connection è¿æ¥å¯¹è±¡",charIndex:999},{level:2,title:"Statement æ§è¡è¯­å¥",slug:"statement-æ§è¡è¯­å¥",normalizedTitle:"statement æ§è¡è¯­å¥",charIndex:1224},{level:2,title:"ResultSet ç»æ",slug:"resultset-ç»æ",normalizedTitle:"resultset ç»æ",charIndex:1423},{level:2,title:"å·¥å·ç±»",slug:"å·¥å·ç±»",normalizedTitle:"å·¥å·ç±»",charIndex:1568},{level:2,title:"SQLæ³¨å¥æ»å»",slug:"sqlæ³¨å¥æ»å»",normalizedTitle:"sqlæ³¨å¥æ»å»",charIndex:4350},{level:2,title:"æ°æ®åºè¿æ¥æ± ",slug:"æ°æ®åºè¿æ¥æ± ",normalizedTitle:"æ°æ®åºè¿æ¥æ± ",charIndex:4886},{level:2,title:"èªå®ä¹æ°æ®åºè¿æ¥æ± ",slug:"èªå®ä¹æ°æ®åºè¿æ¥æ± ",normalizedTitle:"èªå®ä¹æ°æ®åºè¿æ¥æ± ",charIndex:4950},{level:3,title:"å½è¿è¿æ¥",slug:"å½è¿è¿æ¥",normalizedTitle:"å½è¿è¿æ¥",charIndex:5759},{level:2,title:"å¨æä»£ç",slug:"å¨æä»£ç",normalizedTitle:"å¨æä»£ç",charIndex:7110},{level:2,title:"ä»¥å¨æä»£ç è§åè¿æ¥",slug:"ä»¥å¨æä»£ç-è§åè¿æ¥",normalizedTitle:"ä»¥å¨æä»£ç è§åè¿æ¥",charIndex:8274},{level:2,title:"å¼æºæ°æ®åºè¿æ¥æ± ",slug:"å¼æºæ°æ®åºè¿æ¥æ± ",normalizedTitle:"å¼æºæ°æ®åºè¿æ¥æ± ",charIndex:9208},{level:3,title:"C3P0",slug:"c3p0",normalizedTitle:"c3p0",charIndex:9221},{level:3,title:"Druid",slug:"druid",normalizedTitle:"druid",charIndex:9510},{level:2,title:"èªå®ä¹JDBCæ¡æ¶",slug:"èªå®ä¹jdbcæ¡æ¶",normalizedTitle:"èªå®ä¹jdbcæ¡æ¶",charIndex:9957}],headersStr:"DriverManager è¿æ¥ Connection è¿æ¥å¯¹è±¡ Statement æ§è¡è¯­å¥ ResultSet ç»æ å·¥å·ç±» SQLæ³¨å¥æ»å» æ°æ®åºè¿æ¥æ±  èªå®ä¹æ°æ®åºè¿æ¥æ±  å½è¿è¿æ¥ å¨æä»£ç ä»¥å¨æä»£ç è§åè¿æ¥ å¼æºæ°æ®åºè¿æ¥æ±  C3P0 Druid èªå®ä¹JDBCæ¡æ¶",content:'# JDBC\n\n * å¯¼å¥mysql-connector-java.jarå\n\n * æ³¨åé©±å¨\n   \n   * Class.forName("com.mysql.jdbc.Driver");\n     \n     \n     1\n     \n\n * å»ºç«è¿æ¥\n   \n   *  Connection con = DriverManager.getConnection("jdbc:mysql://127.0.0.1:3306/mysql", "root", "123456");\n     \n     \n     1\n     \n\n * è·åå¯¹è±¡\n   \n   * Statement stat = con.createStatement();\n     \n     \n     1\n     \n\n * æ§è¡sqlè¯­å¥\n   \n   * String sql ="select * from help_relation";\n     ResultSet result = stat.executeQuery(sql);\n     \n     \n     1\n     2\n     \n\n * å¤çç»æ\n   \n   *  while (result.next()){\n     System.out.println(result.getInt("help_topic_id")+"\\t"+ result.getString("help_keyword_id"));\n     }\n     \n     \n     1\n     2\n     3\n     \n\n * å³é­è¿æ¥\n   \n   * con.close();\n      stat.close();\n     \n     \n     1\n     2\n     \n\n\n# DriverManager è¿æ¥\n\nDriverManageré©±å¨ç®¡çå¯¹è±¡\n\n * æ³¨åé©±å¨ registerDriver(Driver river) æ³¨åç»å®çé©±å¨ å¨ä¸é¢æ³¨åä¸­æä»¬ä½¿ç¨class.fornameä½¿ç¨äºä¸ä¸Driverè¿ä¸ªç±»,é»è®¤è¢«ä½¿ç¨å°±æ³¨åé©±å¨ å¿é¡»æ¯mysql5ä¹åæå¯ä»¥çç¥è¿ä¸ªæ³¨å\n * è·åæ°æ®è¿æ¥ getConnection(url , user , password) urlä¸ºjdbc:mysql://ip:ç«¯å£/åºå\n\n\n# Connection è¿æ¥å¯¹è±¡\n\nConnectionæ°æ®åºè¿æ¥å¯¹è±¡\n\n * è·åæ®éæ§è¡èå¯¹è±¡ createStatement()\n * è·åé¢ç¼è¯æ§è¡èå¯¹è±¡ prepareStatement(String sql)\n * å¼å¯äºå¡ setAutoCommit(boolean autoCommit); åæ°ä¸ºfalse åå¼å¯äºå¡\n * æäº¤äºå¡ commit()\n * åæ»äºå¡ rollback()\n * éæ¾èµæº close();\n\n\n# Statement æ§è¡è¯­å¥\n\nStatementæ§è¡sqlè¯­å¥çå¯¹è±¡\n\n * å¢å æ¹ executeUpdate(String sql) è¿åä¸ä¸ªint å½±åçè¡æ° å¯ä»¥æ§è¡ insertãupdateãdeleteè¯­å¥\n * æ¥è¯¢ executeQueryï¼String sqlï¼ è¿åå¼resultsetå¯¹è±¡ å°è£æ¥è¯¢çç»æ å¯ä»¥æ§è¡selectè¯­å¥\n * éæ¾èµæº close()\n\n\n# ResultSet ç»æ\n\nResultSetç»æéå¯¹è±¡\n\n * å¤æ­ç»ææ¯å¦è¿ææ°æ® next() ææ°æ®è¿åture,å¹¶ç´¢å¼åä¸ç§»å¨ä¸è¡\n * getæ°æ®ç±»å("åå") è¿åæå®åçæå®æ°æ®ç±»åç»æ å¦getInt() getString()\n * éæ¾èµæº close()\n\n\n# å·¥å·ç±»\n\nå¨srcä¸åå»ºconfig.properties æä»¶\n\ndriverClass=com.mysql.jdbc.Driver\nurl=jdbc:mysql://127.0.0.1:3306/mysql\nusername=root\npassword=123456\n\n\n1\n2\n3\n4\n\n\nimport java.io.IOException;\nimport java.io.InputStream;\nimport java.sql.*;\nimport java.util.Properties;\n\npublic class JDBCUtils {\n    private JDBCUtils() {\n    }\n\n    //2.å£°æéè¦çéç½®åé\n    private static String driverClass;\n    private static String url;\n    private static String usename;\n    private static String password;\n    private static Connection con;\n\n    //3.æä¾éæä»£ç å è¯»åéç½®æä»¶ä¸ºåéèµå¼\n    static {\n        try {\n            InputStream is = JDBCUtils.class.getClassLoader().getResourceAsStream("config.properties");\n            Properties prop = new Properties();\n            prop.load(is);\n\n            driverClass = prop.getProperty("driverClass");\n            url = prop.getProperty("url");\n            usename = prop.getProperty("usename");\n            password = prop.getProperty("password");\n\n            //æ³¨åé©±å¨\n\n            Class.forName(driverClass);\n\n\n        } catch (Exception e) {\n            e.printStackTrace();\n        }\n\n    }\n\n\n    public static Connection getConnection() {\n        try {\n            con = DriverManager.getConnection(url, usename, password);\n        } catch (SQLException throwables) {\n            throwables.printStackTrace();\n        }\n\n        return con;\n    }\n\n    public static void close(Connection con, Statement stat, ResultSet rs) {\n        if (con != null) {\n            try {\n                con.close();\n            } catch (SQLException throwables) {\n                throwables.printStackTrace();\n            }\n        }\n\n        if (stat != null) {\n            try {\n                stat.close();\n            } catch (SQLException throwables) {\n                throwables.printStackTrace();\n            }\n        }\n\n        if (rs != null) {\n            try {\n                rs.close();\n            } catch (SQLException throwables) {\n                throwables.printStackTrace();\n            }\n        }\n\n    }\n\n    public static void close(Connection con, Statement stat) {\n        if (con != null) {\n            try {\n                con.close();\n            } catch (SQLException throwables) {\n                throwables.printStackTrace();\n            }\n        }\n\n        if (stat != null) {\n            try {\n                stat.close();\n            } catch (SQLException throwables) {\n                throwables.printStackTrace();\n            }\n        }\n\n\n    }\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n26\n27\n28\n29\n30\n31\n32\n33\n34\n35\n36\n37\n38\n39\n40\n41\n42\n43\n44\n45\n46\n47\n48\n49\n50\n51\n52\n53\n54\n55\n56\n57\n58\n59\n60\n61\n62\n63\n64\n65\n66\n67\n68\n69\n70\n71\n72\n73\n74\n75\n76\n77\n78\n79\n80\n81\n82\n83\n84\n85\n86\n87\n88\n89\n90\n91\n92\n93\n94\n95\n96\n97\n\n\nå¶å®å°±æ¯å°è£ä¸ä¸ªè¿æ¥åå³é­å·¥å·ç±»æ¹æ³\n\n\n# SQLæ³¨å¥æ»å»\n\nå¨ä¹åæä»¬ä½¿ç¨Statementå¯¹è±¡æ§è¡sqlè¯­å¥å¹¶ä¸sqlè¯­å¥æ¯æ¼æ¥å­ç¬¦ä¸²èæç ä¸å®å¨\n\nä¸ºäºè§£å³è¿ä¸ªé®é¢æä»¬ä½¿ç¨ PreparedStatementé¢ç¼è¯æ§è¡èå¯¹è±¡ å¹¶ä¸åæ°ä»¥?å½¢å¼ä½ä¸ºå ä½ç¬¦\n\nä¸ºå ä½ç¬¦ é®å· èµå¼çæ¹æ³: setXxx(åæ°1,åæ°2)\n\n * Xxx ä¸ºæ°æ®çç±»å\n * åæ°1 ä¸º ?çä¸æ  ä»1å¼å§\n * åæ°2 ä¸º ?çå®éåæ°\n\nåç½®setObject()\n\nConnection con = DriverManager.getConnection("jdbc:mysql://127.0.0.1:3306/mysql", "root", "123456");\nString sql = "delete from  user where name = ?";\nPreparedStatement pstm = con.prepareStatement(sql);\npstm.setString(1,"å¼ ä¸");\n\n\n1\n2\n3\n4\n\n\næ§è¡SQLè¯­å¥\n\n * æ§è¡ inser update delete è¯­å¥ executeUpdate();\n * æ§è¡ select è¯­å¥ executeQuery();\n\n\n# æ°æ®åºè¿æ¥æ± \n\næ°æ®åºè¿æ¥æ± è´è´£åé ç®¡ç éæ¾æ°æ®åºè¿æ¥ å®åè®¸ç¨åºéå¤ä½¿ç¨ä¸ä¸ªç°æçæ°æ®åºè¿æ¥ èä¸æ¯éæ°å»ºç«ä¸ä¸ª\n\n\n# èªå®ä¹æ°æ®åºè¿æ¥æ± \n\n * ç»§æ¿ DataSource æ¥å£\n * åå¤ä¸ä¸ªå®¹å¨ ç¨äºä¿å­å¤ä¸ªè¿æ¥å¯¹è±¡\n * å®ä¹éæä»£ç å è·åå¤ä¸ªè¿æ¥å¯¹è±¡å¹¶æ¾å¥å®¹å¨ä¸­\n * éågetConnection()æ¹æ³ ç¨äºè·åä¸ä¸ªè¿æ¥å¯¹è±¡\n * å®ä¹ä¸ä¸ªgetSizeæ¹æ³ è·åè¿æ¥æ± å®¹å¨çå¤§å°\n\n// åå¤ä¸ä¸ªå®¹å¨  ç¨äºä¿å­å¤ä¸ªè¿æ¥å¯¹è±¡\nprivate static List<Connection> pool = Collections.synchronizedList(new ArrayList<>());\n\n//å®ä¹éæä»£ç å  è·åå¤ä¸ªè¿æ¥å¯¹è±¡å¹¶æ¾å¥å®¹å¨ä¸­\nstatic {\n    for(int i=1;i<=10;i++){\n        Connection con = JDBCUtils.getConnection();\n        pool.add(con);\n\n    }\n}\n\n//éågetConnection()æ¹æ³  ç¨äºè·åä¸ä¸ªè¿æ¥å¯¹è±¡\n@Override\npublic Connection getConnection() throws SQLException {\n    if(pool.size() > 0 ){\n        Connection con = pool.remove(0);\n        return con;\n    }else {\n        throw new RuntimeException("è¿æ¥æ°æ®å·²ç¨å°½");\n    }\n}\n\n//å®ä¹ä¸ä¸ªgetSizeæ¹æ³ è·åè¿æ¥æ± å®¹å¨çå¤§å°\npublic int getSize(){\n    return pool.size();\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n26\n27\n\n\n\n# å½è¿è¿æ¥\n\næè¿æ¥å¯¹è±¡å½è¿ç»è¿æ¥æ± \n\n# ç»§æ¿æ¹å¼\n\næå°éè¿è¿æ¥æ± åå»ºçè¿å¯¹è±¡ç class\n\nSystem.out.println(con.getClass());\n//class com.mysql.cj.jdbc.ConnectionImpl\n\n\n1\n2\n\n\næ¥ä¸å®ä¹ä¸ä¸ªç±» ç»§æ¿ ConnectionImpl ç±»\n\npublic class return01 extends ConnectionImpl {\n    private Connection con;\n    private List<Connection> pool;\n\n\n    public return01(HostInfo hostInfo, Connection con, List<Connection> pool) throws SQLException {\n        super(hostInfo);\n        this.con = con;\n        this.pool = pool;\n    }\n\n    // éåcloseæ¹æ³ å°è¿æ¥å¯¹è±¡ éåå½è¿å®¹å¨ä¸­\n    @Override\n    public void close() throws SQLException {\n        pool.add(con);\n    }\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n\n\nä½DriverManager è·åçè¿æ¯ ConnectionImpl è¿ä¸ªå¯¹è±¡, ç»§æ¿è¿ç§æ¹æ³è¡ä¸éç\n\n# è£é¥°è®¾è®¡æ¨¡å¼\n\n * å®ç° Connection æ¥å£\n\n// å®ä¹è¿æ¥å¯¹è±¡åè¿æ¥å®¹å¨çæååé\n    private Connection con;\n    private List<Connection> pool;\n\n    //éè¿æåæé æ¹æ³ä¸ºæååéèµå¼\n    public return02(Connection con,List<Connection> pool){\n        this.con=con;\n        this.pool=pool;\n    }\n\n    // éåcloseæ¹æ³\n    @Override\n    public void close() throws SQLException {\n        pool.add(con);\n    }\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n\n\nå¶ä»æ¹æ³è°ç¨åæ¬æ¹æ³\n\nè£é¥°è®¾è®¡æ¨¡å¼å°±æ¯ éåéè¦çæ¹æ³ å¶ä»æ¹æ³åè°ç¨åæ¥ç±»çæ¹æ³\n\n# ééå¨è®¾è®¡æ¨¡å¼\n\nééå¨è®¾è®¡æ¨¡å¼ å®ç°æ¥å£çæææ¹æ³ é¤äºéè¦çæ¹æ³ ç¶ååå»ºä¸ä¸ªç±» ç»§æ¿è¯¥å®ç°ç±» åéæ°æªå®ç°çæ¹æ³ (ä½¿ç¨ä¸­é´ä»¶)\n\n * å®ä¹ééç±» å®ç° Connection æ¥å£ å®ä¹ä¸ºä¸ä¸ªæ½è±¡ç±»\n * å®ä¹è¿æ¥å¯¹è±¡çæååé Connection con\n * éè¿æåæé æ¹æ³èµå¼\n * éåæææ½è±¡æ¹æ³ é¤äºclose\n * ç»§æ¿ééç±» æååé Connection å è¿æ¥å®¹å¨\n * éè¿æåæé æ¹æ³èµå¼\n * éåcloseæ¹æ³\n\n\n# å¨æä»£ç\n\nå¨ä¸æ¹åç®æ å¯¹è±¡æ¹æ³çæåµä¸å¯¹æ¹æ³è¿è¡å¢å¼º\n\nè¢«ä»£çå¯¹è±¡: çå®çå¯¹è±¡\n\nä»£çå¯¹è±¡: åå®¹ä¸­çä¸ä¸ªå¯¹è±¡\n\nä»£çå¯¹è±¡å¿é¡»åè¢«ä»£çå¯¹è±¡å®ç°ç¸åçæ¥å£\n\n        Student st = new Student();\n\n    /*\n        åæ°1 ä¸º ç±»å è½½å¨   åè¢«ä»£çå¯¹è±¡ä½¿ç¨ç¸åçç±»å è½½å¨\n        åæ°2 ä¸º æ¥å£ç±»åClassæ°ç»  åè¢«ä»£çå¯¹è±¡ä½¿ç¨ç¸åçæ¥å£\n        åæ°3 ä¸º ä»£çè§å å®æä»£çå¢å¼ºçåè½\n     */\n        StudentInterface proxySt =(StudentInterface) Proxy.newProxyInstance(st.getClass().getClassLoader(), new Class[]{StudentInterface.class}, new InvocationHandler() {\n            /*\n                Studentç±»ä¸­ææçæ¹æ³é½ç»è¿invokeæ¹æ³\n                æä»¬éè¿å¯¹æ¹æ³ç»§ç»­å¤æ­\n             */\n            @Override\n            public Object invoke(Object proxy, Method method, Object[] args) throws Throwable {\n                //methodä¸ºç±»æ§è¡æä¸ªæ¹æ³   argsä¸ºæ¹æ³çå®éåæ°\n                if (method.getName().equals("study")) {\n                    // å¤æ­ä¸ºæä¸ªæ¹æ³\n                    System.out.println("hello world");\n                    return null;\n                } else {\n                    // å¦ä¸æ¯åæåæ¬æ¹æ³æ§è¡\n                    return method.invoke(st,args);\n                }\n            }\n        });\n\n        // ä»£çå¯¹è±¡æ§è¡æ¹æ³\n        proxySt.eat("è");\n        proxySt.study();\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n26\n27\n28\n29\n\n\n\n# ä»¥å¨æä»£ç è§åè¿æ¥\n\n //éågetConnection()æ¹æ³  ç¨äºè·åä¸ä¸ªè¿æ¥å¯¹è±¡\n    @Override\n    public Connection getConnection() throws SQLException {\n        if (pool.size() > 0) {\n            Connection con = pool.remove(0);\n\n            Connection proxycon= (Connection) Proxy.newProxyInstance(con.getClass().getClassLoader(), new Class[]{Connection.class}, new InvocationHandler() {\n                @Override\n                public Object invoke(Object proxy, Method method, Object[] args) throws Throwable {\n                    if(method.getName().equals("close")){\n                        pool.add(con);\n                        return null;\n                    }else {\n                        return method.invoke(con,args);\n                    }\n                }\n            });\n            return proxycon;\n        } else {\n            throw new RuntimeException("è¿æ¥æ°æ®å·²ç¨å°½");\n        }\n    }\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n\n\n\n# å¼æºæ°æ®åºè¿æ¥æ± \n\n\n# C3P0\n\n 1. å¯¼å¥jarå\n\n 2. å¯¼å¥éç½®æä»¶å°srcç®å½ä¸\n\n 3. åå»º C3P0 è¿æ¥æ± å¯¹è±¡\n    \n    DataSource dataSource=new ComboPooledDataSource();\n    \n    \n    1\n    \n\n 4. è·åæ°æ®åºè¿æ¥å¹¶ä½¿ç¨\n    \n    Connection con = dataSource.getConnection();\n    \n    \n    1\n    \n\néç½®æä»¶ä¼èªå¨å è½½ å¿é¡»å½åä¸º c3p0-config.xml æ c3p0-config.properties\n\n\n# Druid\n\n * å¯¼å¥jarå\n\n * éè¿propertieséå å è½½éç½®æä»¶\n   \n   InputStream is = druiddemo01.class.getClassLoader().getResourceAsStream("ç¬è®°/jdbc/src/druid.properties");\n   Properties prop =new Properties();\n   prop.load(is);\n   \n   \n   1\n   2\n   3\n   \n\n * éDruidè¿æ¥æ± å·¥åç±»è·åè¿æ¥æ± å¯¹è±¡\n   \n   DataSource dataSource = DruidDataSourceFactory.createDataSource(prop);\n   \n   \n   1\n   \n\n * éè¿è¿æ¥æ± è·åæ°æ®åºå¯¹è±¡\n   \n   Connection con = dataSource.getConnection();\n   \n   \n   1\n   \n\n\n# èªå®ä¹JDBCæ¡æ¶\n\n * DataBaseMetaData æ°æ®åºçæºä¿¡æ¯\n   * getDatabaseProductName() è·åæ°æ®åºäº§åçåç§°\n   * getDatabaseProductVersion() è·åæ°æ®åºäº§åççæ¬å·\n * getParameterMetaData() åæ°çæºä¿¡æ¯ é¢ç¼è¯å¯¹è±¡è·åæ¹æ³\n   * getParameterCount() è·åsqlè¯­å¥ä¸­åæ°çä¸ªæ°\n * getMetaData() è·åç»æéçæºä¿¡æ¯ éè¿ç»æéå¯¹è±¡è·å\n   * getColumnCount() è·ååçæ»æ°\n   * getColumnName(int i) è·ååå',normalizedContent:'# jdbc\n\n * å¯¼å¥mysql-connector-java.jarå\n\n * æ³¨åé©±å¨\n   \n   * class.forname("com.mysql.jdbc.driver");\n     \n     \n     1\n     \n\n * å»ºç«è¿æ¥\n   \n   *  connection con = drivermanager.getconnection("jdbc:mysql://127.0.0.1:3306/mysql", "root", "123456");\n     \n     \n     1\n     \n\n * è·åå¯¹è±¡\n   \n   * statement stat = con.createstatement();\n     \n     \n     1\n     \n\n * æ§è¡sqlè¯­å¥\n   \n   * string sql ="select * from help_relation";\n     resultset result = stat.executequery(sql);\n     \n     \n     1\n     2\n     \n\n * å¤çç»æ\n   \n   *  while (result.next()){\n     system.out.println(result.getint("help_topic_id")+"\\t"+ result.getstring("help_keyword_id"));\n     }\n     \n     \n     1\n     2\n     3\n     \n\n * å³é­è¿æ¥\n   \n   * con.close();\n      stat.close();\n     \n     \n     1\n     2\n     \n\n\n# drivermanager è¿æ¥\n\ndrivermanageré©±å¨ç®¡çå¯¹è±¡\n\n * æ³¨åé©±å¨ registerdriver(driver river) æ³¨åç»å®çé©±å¨ å¨ä¸é¢æ³¨åä¸­æä»¬ä½¿ç¨class.fornameä½¿ç¨äºä¸ä¸driverè¿ä¸ªç±»,é»è®¤è¢«ä½¿ç¨å°±æ³¨åé©±å¨ å¿é¡»æ¯mysql5ä¹åæå¯ä»¥çç¥è¿ä¸ªæ³¨å\n * è·åæ°æ®è¿æ¥ getconnection(url , user , password) urlä¸ºjdbc:mysql://ip:ç«¯å£/åºå\n\n\n# connection è¿æ¥å¯¹è±¡\n\nconnectionæ°æ®åºè¿æ¥å¯¹è±¡\n\n * è·åæ®éæ§è¡èå¯¹è±¡ createstatement()\n * è·åé¢ç¼è¯æ§è¡èå¯¹è±¡ preparestatement(string sql)\n * å¼å¯äºå¡ setautocommit(boolean autocommit); åæ°ä¸ºfalse åå¼å¯äºå¡\n * æäº¤äºå¡ commit()\n * åæ»äºå¡ rollback()\n * éæ¾èµæº close();\n\n\n# statement æ§è¡è¯­å¥\n\nstatementæ§è¡sqlè¯­å¥çå¯¹è±¡\n\n * å¢å æ¹ executeupdate(string sql) è¿åä¸ä¸ªint å½±åçè¡æ° å¯ä»¥æ§è¡ insertãupdateãdeleteè¯­å¥\n * æ¥è¯¢ executequeryï¼string sqlï¼ è¿åå¼resultsetå¯¹è±¡ å°è£æ¥è¯¢çç»æ å¯ä»¥æ§è¡selectè¯­å¥\n * éæ¾èµæº close()\n\n\n# resultset ç»æ\n\nresultsetç»æéå¯¹è±¡\n\n * å¤æ­ç»ææ¯å¦è¿ææ°æ® next() ææ°æ®è¿åture,å¹¶ç´¢å¼åä¸ç§»å¨ä¸è¡\n * getæ°æ®ç±»å("åå") è¿åæå®åçæå®æ°æ®ç±»åç»æ å¦getint() getstring()\n * éæ¾èµæº close()\n\n\n# å·¥å·ç±»\n\nå¨srcä¸åå»ºconfig.properties æä»¶\n\ndriverclass=com.mysql.jdbc.driver\nurl=jdbc:mysql://127.0.0.1:3306/mysql\nusername=root\npassword=123456\n\n\n1\n2\n3\n4\n\n\nimport java.io.ioexception;\nimport java.io.inputstream;\nimport java.sql.*;\nimport java.util.properties;\n\npublic class jdbcutils {\n    private jdbcutils() {\n    }\n\n    //2.å£°æéè¦çéç½®åé\n    private static string driverclass;\n    private static string url;\n    private static string usename;\n    private static string password;\n    private static connection con;\n\n    //3.æä¾éæä»£ç å è¯»åéç½®æä»¶ä¸ºåéèµå¼\n    static {\n        try {\n            inputstream is = jdbcutils.class.getclassloader().getresourceasstream("config.properties");\n            properties prop = new properties();\n            prop.load(is);\n\n            driverclass = prop.getproperty("driverclass");\n            url = prop.getproperty("url");\n            usename = prop.getproperty("usename");\n            password = prop.getproperty("password");\n\n            //æ³¨åé©±å¨\n\n            class.forname(driverclass);\n\n\n        } catch (exception e) {\n            e.printstacktrace();\n        }\n\n    }\n\n\n    public static connection getconnection() {\n        try {\n            con = drivermanager.getconnection(url, usename, password);\n        } catch (sqlexception throwables) {\n            throwables.printstacktrace();\n        }\n\n        return con;\n    }\n\n    public static void close(connection con, statement stat, resultset rs) {\n        if (con != null) {\n            try {\n                con.close();\n            } catch (sqlexception throwables) {\n                throwables.printstacktrace();\n            }\n        }\n\n        if (stat != null) {\n            try {\n                stat.close();\n            } catch (sqlexception throwables) {\n                throwables.printstacktrace();\n            }\n        }\n\n        if (rs != null) {\n            try {\n                rs.close();\n            } catch (sqlexception throwables) {\n                throwables.printstacktrace();\n            }\n        }\n\n    }\n\n    public static void close(connection con, statement stat) {\n        if (con != null) {\n            try {\n                con.close();\n            } catch (sqlexception throwables) {\n                throwables.printstacktrace();\n            }\n        }\n\n        if (stat != null) {\n            try {\n                stat.close();\n            } catch (sqlexception throwables) {\n                throwables.printstacktrace();\n            }\n        }\n\n\n    }\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n26\n27\n28\n29\n30\n31\n32\n33\n34\n35\n36\n37\n38\n39\n40\n41\n42\n43\n44\n45\n46\n47\n48\n49\n50\n51\n52\n53\n54\n55\n56\n57\n58\n59\n60\n61\n62\n63\n64\n65\n66\n67\n68\n69\n70\n71\n72\n73\n74\n75\n76\n77\n78\n79\n80\n81\n82\n83\n84\n85\n86\n87\n88\n89\n90\n91\n92\n93\n94\n95\n96\n97\n\n\nå¶å®å°±æ¯å°è£ä¸ä¸ªè¿æ¥åå³é­å·¥å·ç±»æ¹æ³\n\n\n# sqlæ³¨å¥æ»å»\n\nå¨ä¹åæä»¬ä½¿ç¨statementå¯¹è±¡æ§è¡sqlè¯­å¥å¹¶ä¸sqlè¯­å¥æ¯æ¼æ¥å­ç¬¦ä¸²èæç ä¸å®å¨\n\nä¸ºäºè§£å³è¿ä¸ªé®é¢æä»¬ä½¿ç¨ preparedstatementé¢ç¼è¯æ§è¡èå¯¹è±¡ å¹¶ä¸åæ°ä»¥?å½¢å¼ä½ä¸ºå ä½ç¬¦\n\nä¸ºå ä½ç¬¦ é®å· èµå¼çæ¹æ³: setxxx(åæ°1,åæ°2)\n\n * xxx ä¸ºæ°æ®çç±»å\n * åæ°1 ä¸º ?çä¸æ  ä»1å¼å§\n * åæ°2 ä¸º ?çå®éåæ°\n\nåç½®setobject()\n\nconnection con = drivermanager.getconnection("jdbc:mysql://127.0.0.1:3306/mysql", "root", "123456");\nstring sql = "delete from  user where name = ?";\npreparedstatement pstm = con.preparestatement(sql);\npstm.setstring(1,"å¼ ä¸");\n\n\n1\n2\n3\n4\n\n\næ§è¡sqlè¯­å¥\n\n * æ§è¡ inser update delete è¯­å¥ executeupdate();\n * æ§è¡ select è¯­å¥ executequery();\n\n\n# æ°æ®åºè¿æ¥æ± \n\næ°æ®åºè¿æ¥æ± è´è´£åé ç®¡ç éæ¾æ°æ®åºè¿æ¥ å®åè®¸ç¨åºéå¤ä½¿ç¨ä¸ä¸ªç°æçæ°æ®åºè¿æ¥ èä¸æ¯éæ°å»ºç«ä¸ä¸ª\n\n\n# èªå®ä¹æ°æ®åºè¿æ¥æ± \n\n * ç»§æ¿ datasource æ¥å£\n * åå¤ä¸ä¸ªå®¹å¨ ç¨äºä¿å­å¤ä¸ªè¿æ¥å¯¹è±¡\n * å®ä¹éæä»£ç å è·åå¤ä¸ªè¿æ¥å¯¹è±¡å¹¶æ¾å¥å®¹å¨ä¸­\n * éågetconnection()æ¹æ³ ç¨äºè·åä¸ä¸ªè¿æ¥å¯¹è±¡\n * å®ä¹ä¸ä¸ªgetsizeæ¹æ³ è·åè¿æ¥æ± å®¹å¨çå¤§å°\n\n// åå¤ä¸ä¸ªå®¹å¨  ç¨äºä¿å­å¤ä¸ªè¿æ¥å¯¹è±¡\nprivate static list<connection> pool = collections.synchronizedlist(new arraylist<>());\n\n//å®ä¹éæä»£ç å  è·åå¤ä¸ªè¿æ¥å¯¹è±¡å¹¶æ¾å¥å®¹å¨ä¸­\nstatic {\n    for(int i=1;i<=10;i++){\n        connection con = jdbcutils.getconnection();\n        pool.add(con);\n\n    }\n}\n\n//éågetconnection()æ¹æ³  ç¨äºè·åä¸ä¸ªè¿æ¥å¯¹è±¡\n@override\npublic connection getconnection() throws sqlexception {\n    if(pool.size() > 0 ){\n        connection con = pool.remove(0);\n        return con;\n    }else {\n        throw new runtimeexception("è¿æ¥æ°æ®å·²ç¨å°½");\n    }\n}\n\n//å®ä¹ä¸ä¸ªgetsizeæ¹æ³ è·åè¿æ¥æ± å®¹å¨çå¤§å°\npublic int getsize(){\n    return pool.size();\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n26\n27\n\n\n\n# å½è¿è¿æ¥\n\næè¿æ¥å¯¹è±¡å½è¿ç»è¿æ¥æ± \n\n# ç»§æ¿æ¹å¼\n\næå°éè¿è¿æ¥æ± åå»ºçè¿å¯¹è±¡ç class\n\nsystem.out.println(con.getclass());\n//class com.mysql.cj.jdbc.connectionimpl\n\n\n1\n2\n\n\næ¥ä¸å®ä¹ä¸ä¸ªç±» ç»§æ¿ connectionimpl ç±»\n\npublic class return01 extends connectionimpl {\n    private connection con;\n    private list<connection> pool;\n\n\n    public return01(hostinfo hostinfo, connection con, list<connection> pool) throws sqlexception {\n        super(hostinfo);\n        this.con = con;\n        this.pool = pool;\n    }\n\n    // éåcloseæ¹æ³ å°è¿æ¥å¯¹è±¡ éåå½è¿å®¹å¨ä¸­\n    @override\n    public void close() throws sqlexception {\n        pool.add(con);\n    }\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n\n\nä½drivermanager è·åçè¿æ¯ connectionimpl è¿ä¸ªå¯¹è±¡, ç»§æ¿è¿ç§æ¹æ³è¡ä¸éç\n\n# è£é¥°è®¾è®¡æ¨¡å¼\n\n * å®ç° connection æ¥å£\n\n// å®ä¹è¿æ¥å¯¹è±¡åè¿æ¥å®¹å¨çæååé\n    private connection con;\n    private list<connection> pool;\n\n    //éè¿æåæé æ¹æ³ä¸ºæååéèµå¼\n    public return02(connection con,list<connection> pool){\n        this.con=con;\n        this.pool=pool;\n    }\n\n    // éåcloseæ¹æ³\n    @override\n    public void close() throws sqlexception {\n        pool.add(con);\n    }\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n\n\nå¶ä»æ¹æ³è°ç¨åæ¬æ¹æ³\n\nè£é¥°è®¾è®¡æ¨¡å¼å°±æ¯ éåéè¦çæ¹æ³ å¶ä»æ¹æ³åè°ç¨åæ¥ç±»çæ¹æ³\n\n# ééå¨è®¾è®¡æ¨¡å¼\n\nééå¨è®¾è®¡æ¨¡å¼ å®ç°æ¥å£çæææ¹æ³ é¤äºéè¦çæ¹æ³ ç¶ååå»ºä¸ä¸ªç±» ç»§æ¿è¯¥å®ç°ç±» åéæ°æªå®ç°çæ¹æ³ (ä½¿ç¨ä¸­é´ä»¶)\n\n * å®ä¹ééç±» å®ç° connection æ¥å£ å®ä¹ä¸ºä¸ä¸ªæ½è±¡ç±»\n * å®ä¹è¿æ¥å¯¹è±¡çæååé connection con\n * éè¿æåæé æ¹æ³èµå¼\n * éåæææ½è±¡æ¹æ³ é¤äºclose\n * ç»§æ¿ééç±» æååé connection å è¿æ¥å®¹å¨\n * éè¿æåæé æ¹æ³èµå¼\n * éåcloseæ¹æ³\n\n\n# å¨æä»£ç\n\nå¨ä¸æ¹åç®æ å¯¹è±¡æ¹æ³çæåµä¸å¯¹æ¹æ³è¿è¡å¢å¼º\n\nè¢«ä»£çå¯¹è±¡: çå®çå¯¹è±¡\n\nä»£çå¯¹è±¡: åå®¹ä¸­çä¸ä¸ªå¯¹è±¡\n\nä»£çå¯¹è±¡å¿é¡»åè¢«ä»£çå¯¹è±¡å®ç°ç¸åçæ¥å£\n\n        student st = new student();\n\n    /*\n        åæ°1 ä¸º ç±»å è½½å¨   åè¢«ä»£çå¯¹è±¡ä½¿ç¨ç¸åçç±»å è½½å¨\n        åæ°2 ä¸º æ¥å£ç±»åclassæ°ç»  åè¢«ä»£çå¯¹è±¡ä½¿ç¨ç¸åçæ¥å£\n        åæ°3 ä¸º ä»£çè§å å®æä»£çå¢å¼ºçåè½\n     */\n        studentinterface proxyst =(studentinterface) proxy.newproxyinstance(st.getclass().getclassloader(), new class[]{studentinterface.class}, new invocationhandler() {\n            /*\n                studentç±»ä¸­ææçæ¹æ³é½ç»è¿invokeæ¹æ³\n                æä»¬éè¿å¯¹æ¹æ³ç»§ç»­å¤æ­\n             */\n            @override\n            public object invoke(object proxy, method method, object[] args) throws throwable {\n                //methodä¸ºç±»æ§è¡æä¸ªæ¹æ³   argsä¸ºæ¹æ³çå®éåæ°\n                if (method.getname().equals("study")) {\n                    // å¤æ­ä¸ºæä¸ªæ¹æ³\n                    system.out.println("hello world");\n                    return null;\n                } else {\n                    // å¦ä¸æ¯åæåæ¬æ¹æ³æ§è¡\n                    return method.invoke(st,args);\n                }\n            }\n        });\n\n        // ä»£çå¯¹è±¡æ§è¡æ¹æ³\n        proxyst.eat("è");\n        proxyst.study();\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n26\n27\n28\n29\n\n\n\n# ä»¥å¨æä»£ç è§åè¿æ¥\n\n //éågetconnection()æ¹æ³  ç¨äºè·åä¸ä¸ªè¿æ¥å¯¹è±¡\n    @override\n    public connection getconnection() throws sqlexception {\n        if (pool.size() > 0) {\n            connection con = pool.remove(0);\n\n            connection proxycon= (connection) proxy.newproxyinstance(con.getclass().getclassloader(), new class[]{connection.class}, new invocationhandler() {\n                @override\n                public object invoke(object proxy, method method, object[] args) throws throwable {\n                    if(method.getname().equals("close")){\n                        pool.add(con);\n                        return null;\n                    }else {\n                        return method.invoke(con,args);\n                    }\n                }\n            });\n            return proxycon;\n        } else {\n            throw new runtimeexception("è¿æ¥æ°æ®å·²ç¨å°½");\n        }\n    }\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n\n\n\n# å¼æºæ°æ®åºè¿æ¥æ± \n\n\n# c3p0\n\n 1. å¯¼å¥jarå\n\n 2. å¯¼å¥éç½®æä»¶å°srcç®å½ä¸\n\n 3. åå»º c3p0 è¿æ¥æ± å¯¹è±¡\n    \n    datasource datasource=new combopooleddatasource();\n    \n    \n    1\n    \n\n 4. è·åæ°æ®åºè¿æ¥å¹¶ä½¿ç¨\n    \n    connection con = datasource.getconnection();\n    \n    \n    1\n    \n\néç½®æä»¶ä¼èªå¨å è½½ å¿é¡»å½åä¸º c3p0-config.xml æ c3p0-config.properties\n\n\n# druid\n\n * å¯¼å¥jarå\n\n * éè¿propertieséå å è½½éç½®æä»¶\n   \n   inputstream is = druiddemo01.class.getclassloader().getresourceasstream("ç¬è®°/jdbc/src/druid.properties");\n   properties prop =new properties();\n   prop.load(is);\n   \n   \n   1\n   2\n   3\n   \n\n * édruidè¿æ¥æ± å·¥åç±»è·åè¿æ¥æ± å¯¹è±¡\n   \n   datasource datasource = druiddatasourcefactory.createdatasource(prop);\n   \n   \n   1\n   \n\n * éè¿è¿æ¥æ± è·åæ°æ®åºå¯¹è±¡\n   \n   connection con = datasource.getconnection();\n   \n   \n   1\n   \n\n\n# èªå®ä¹jdbcæ¡æ¶\n\n * databasemetadata æ°æ®åºçæºä¿¡æ¯\n   * getdatabaseproductname() è·åæ°æ®åºäº§åçåç§°\n   * getdatabaseproductversion() è·åæ°æ®åºäº§åççæ¬å·\n * getparametermetadata() åæ°çæºä¿¡æ¯ é¢ç¼è¯å¯¹è±¡è·åæ¹æ³\n   * getparametercount() è·åsqlè¯­å¥ä¸­åæ°çä¸ªæ°\n * getmetadata() è·åç»æéçæºä¿¡æ¯ éè¿ç»æéå¯¹è±¡è·å\n   * getcolumncount() è·ååçæ»æ°\n   * getcolumnname(int i) è·ååå',charsets:{cjk:!0},lastUpdated:"2022/03/18, 07:01:11",lastUpdatedTimestamp:1647558071e3},{title:"Session",frontmatter:{title:"Session",date:"2022-03-18T00:48:40.000Z",permalink:"/pages/83bc22/",categories:["åç«¯","Java"],tags:[null]},regularPath:"/%E5%90%8E%E7%AB%AF/01.JavaSE/74.Session.html",relativePath:"åç«¯/01.JavaSE/74.Session.md",key:"v-47db4091",path:"/pages/83bc22/",headers:[{level:2,title:"è·å httpSession",slug:"è·å-httpsession",normalizedTitle:"è·å httpsession",charIndex:75},{level:2,title:"Sessionæ¹æ³",slug:"sessionæ¹æ³",normalizedTitle:"sessionæ¹æ³",charIndex:194}],headersStr:"è·å httpSession Sessionæ¹æ³",content:"# Session\n\næå¡å¨ç«¯ä¼è¯ç®¡çææ¯ æ¬è´¨ä¹æ¯å®¢æ·ç«¯ä¼è¯ç®¡çææ¯\n\nå¨å®¢æ·ç«¯ä¿å­çæ¯ä¸ä¸ªç¹æ®æ è¯,èå±äº«çæ°æ®ä¿å­å°æå¡å¨ç«¯åå­å¯¹è±¡ä¸­\n\n\n# è·å httpSession\n\n * getSession() è·å httpSession å¯¹è±¡\n * getSession(boolean create) è·åhttpSession å¯¹è±¡,æªè·åæ¯å¦èªå¨åå»º é»è®¤ä¸ºture\n\n\n# Sessionæ¹æ³\n\néè¦åå©è¯·æ±å¯¹è±¡ä¸­çgetSession() è¿åä¸ä¸ªhttpSession å¯¹è±¡\n\n * setAttribute(String,Object value) è®¾ç½®å±äº«æ°æ®\n * getAttribute(String name) è·åå±äº«æ°æ®\n * removeAttribute(String name) ç§»é¤å±äº«æ°æ®\n * getId() è·åå¯ä¸æ è¯åç§°\n * Invalidate() è®©sessionç«å³å¤±æ",normalizedContent:"# session\n\næå¡å¨ç«¯ä¼è¯ç®¡çææ¯ æ¬è´¨ä¹æ¯å®¢æ·ç«¯ä¼è¯ç®¡çææ¯\n\nå¨å®¢æ·ç«¯ä¿å­çæ¯ä¸ä¸ªç¹æ®æ è¯,èå±äº«çæ°æ®ä¿å­å°æå¡å¨ç«¯åå­å¯¹è±¡ä¸­\n\n\n# è·å httpsession\n\n * getsession() è·å httpsession å¯¹è±¡\n * getsession(boolean create) è·åhttpsession å¯¹è±¡,æªè·åæ¯å¦èªå¨åå»º é»è®¤ä¸ºture\n\n\n# sessionæ¹æ³\n\néè¦åå©è¯·æ±å¯¹è±¡ä¸­çgetsession() è¿åä¸ä¸ªhttpsession å¯¹è±¡\n\n * setattribute(string,object value) è®¾ç½®å±äº«æ°æ®\n * getattribute(string name) è·åå±äº«æ°æ®\n * removeattribute(string name) ç§»é¤å±äº«æ°æ®\n * getid() è·åå¯ä¸æ è¯åç§°\n * invalidate() è®©sessionç«å³å¤±æ",charsets:{cjk:!0},lastUpdated:"2022/03/18, 07:01:11",lastUpdatedTimestamp:1647558071e3},{title:"MyBatis",frontmatter:{title:"MyBatis",date:"2022-03-18T00:51:47.000Z",permalink:"/pages/c1aa2b/",categories:["åç«¯","JavaEE"],tags:[null]},regularPath:"/%E5%90%8E%E7%AB%AF/02.JavaEE/02.MyBatis.html",relativePath:"åç«¯/02.JavaEE/02.MyBatis.md",key:"v-60e0d3b1",path:"/pages/c1aa2b/",headers:[{level:2,title:"ORM",slug:"orm",normalizedTitle:"orm",charIndex:163},{level:2,title:"ä½¿ç¨",slug:"ä½¿ç¨",normalizedTitle:"ä½¿ç¨",charIndex:161},{level:2,title:"Resources  å è½½èµæºå·¥å·ç±»",slug:"resources-å è½½èµæºå·¥å·ç±»",normalizedTitle:"resources  å è½½èµæºå·¥å·ç±»",charIndex:null},{level:2,title:"SqlSessionFactoryBuilder å·¥åå¯¹è±¡åè½ç±»",slug:"sqlsessionfactorybuilder-å·¥åå¯¹è±¡åè½ç±»",normalizedTitle:"sqlsessionfactorybuilder å·¥åå¯¹è±¡åè½ç±»",charIndex:2589},{level:2,title:"SqlSessionFactory  å¯¹è±¡",slug:"sqlsessionfactory-å¯¹è±¡",normalizedTitle:"sqlsessionfactory  å¯¹è±¡",charIndex:null},{level:2,title:"SqlSession",slug:"sqlsession",normalizedTitle:"sqlsession",charIndex:2172},{level:2,title:"æ å°éç½®æä»¶",slug:"æ å°éç½®æä»¶",normalizedTitle:"æ å°éç½®æä»¶",charIndex:280},{level:2,title:"æ ¸å¿éç½®æä»¶",slug:"æ ¸å¿éç½®æä»¶",normalizedTitle:"æ ¸å¿éç½®æä»¶",charIndex:745},{level:2,title:"æ°æ®åºè¿æ¥éç½®å¼å¥",slug:"æ°æ®åºè¿æ¥éç½®å¼å¥",normalizedTitle:"æ°æ®åºè¿æ¥éç½®å¼å¥",charIndex:5318},{level:2,title:"èµ·å«å",slug:"èµ·å«å",normalizedTitle:"èµ·å«å",charIndex:6787},{level:2,title:"LOG4J",slug:"log4j",normalizedTitle:"log4j",charIndex:7094},{level:2,title:"åå±ææ³",slug:"åå±ææ³",normalizedTitle:"åå±ææ³",charIndex:7217},{level:2,title:"æ¥å£ä»£ç",slug:"æ¥å£ä»£ç",normalizedTitle:"æ¥å£ä»£ç",charIndex:2880},{level:3,title:"æºç åæ",slug:"æºç åæ",normalizedTitle:"æºç åæ",charIndex:7670},{level:2,title:"å¨æSQL",slug:"å¨æsql",normalizedTitle:"å¨æsql",charIndex:7853},{level:2,title:"SQL çæ®µæ½å",slug:"sql-çæ®µæ½å",normalizedTitle:"sql çæ®µæ½å",charIndex:8708},{level:2,title:"è·åèªå¢çID åæå¥æ°æ®",slug:"è·åèªå¢çid-åæå¥æ°æ®",normalizedTitle:"è·åèªå¢çid åæå¥æ°æ®",charIndex:9002},{level:2,title:"åé¡µæä»¶",slug:"åé¡µæä»¶",normalizedTitle:"åé¡µæä»¶",charIndex:9433},{level:3,title:"Pageinfo å°è£åé¡µç¸å³åæ°çåè½ç±»",slug:"pageinfo-å°è£åé¡µç¸å³åæ°çåè½ç±»",normalizedTitle:"pageinfo å°è£åé¡µç¸å³åæ°çåè½ç±»",charIndex:9867},{level:2,title:"å¤è¡¨æä½",slug:"å¤è¡¨æä½",normalizedTitle:"å¤è¡¨æä½",charIndex:10166},{level:3,title:"ä¸å¯¹ä¸",slug:"ä¸å¯¹ä¸",normalizedTitle:"ä¸å¯¹ä¸",charIndex:10175},{level:3,title:"ä¸å¯¹å¤",slug:"ä¸å¯¹å¤",normalizedTitle:"ä¸å¯¹å¤",charIndex:11526},{level:3,title:"å¤å¯¹å¤",slug:"å¤å¯¹å¤",normalizedTitle:"å¤å¯¹å¤",charIndex:12395},{level:2,title:"æ³¨è§£",slug:"æ³¨è§£",normalizedTitle:"æ³¨è§£",charIndex:58},{level:3,title:"å¤è¡¨æä½",slug:"å¤è¡¨æä½-2",normalizedTitle:"å¤è¡¨æä½",charIndex:10166},{level:2,title:"SQL æå»º",slug:"sql-æå»º",normalizedTitle:"sql æå»º",charIndex:16138}],headersStr:"ORM ä½¿ç¨ Resources  å è½½èµæºå·¥å·ç±» SqlSessionFactoryBuilder å·¥åå¯¹è±¡åè½ç±» SqlSessionFactory  å¯¹è±¡ SqlSession æ å°éç½®æä»¶ æ ¸å¿éç½®æä»¶ æ°æ®åºè¿æ¥éç½®å¼å¥ èµ·å«å LOG4J åå±ææ³ æ¥å£ä»£ç æºç åæ å¨æSQL SQL çæ®µæ½å è·åèªå¢çID åæå¥æ°æ® åé¡µæä»¶ Pageinfo å°è£åé¡µç¸å³åæ°çåè½ç±» å¤è¡¨æä½ ä¸å¯¹ä¸ ä¸å¯¹å¤ å¤å¯¹å¤ æ³¨è§£ å¤è¡¨æä½ SQL æå»º",content:'# MyBatis\n\nMyBatis æ¯åºäº JAVA çæä¹å±æ¡æ¶,å®åé¨å°è£äº JDBC\n\néè¿ xml æè æ³¨è§£ æ¹å¼ä½¿å°è¦çæ§è¡åç§ statement éç½®èµ·æ¥ , å¹¶éè¿ javaå¯¹è±¡åstatementä¸­SQLçå¨æåæ°è¿è¡æ å°çææç»æ§è¡çSQLè¯­å¥\n\næ§è¡å®SQLè¯­å¥ å¹¶å°ç»ææ å°ä¸ºjavaå¯¹è±¡è¿å ä½¿ç¨ORM ææ³è§£å³é®é¢\n\n\n# ORM\n\nObject Relational Mapping å¯¹è±¡å³ç³»æ å° æä¹åæ°æ®åå®ä½å¯¹è±¡çæ å°æ¨¡å¼\n\n\n# ä½¿ç¨\n\n * å¯¼å¥ mybatis.jar åmysql.jar\n\n * å¨srcä¸åå»ºæ å°éç½®æä»¶ åå­æ æè°\n   \n   * <?xml version="1.0" encoding="UTF-8"?>\n     <!DOCTYPE mapper\n             PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"\n             "http://mybatis.org/dtd/mybatis-3-mapper.dtd">\n     \n     <mapper namespace="StudentMapper">\n         <select id="any" resultType="com.xxx..xx">\n             select * from mysql\n         </select>\n     </mapper>\n     \n     \n     1\n     2\n     3\n     4\n     5\n     6\n     7\n     8\n     9\n     10\n     \n\n * å¨srcä¸åå»ºæ ¸å¿éç½®æä»¶\n   \n   * <?xml version="1.0" encoding="UTF-8"?>\n     <!DOCTYPE configuration\n             PUBLIC "-//mybatis.org//DTD Config 3.0//EN"\n             "http://mybatis.org/dtd/mybatis-3-config.dtd">\n     \n     <configuration>\n     \x3c!--    é»è®¤éç½®--\x3e\n         <environments default="ie">\n     \x3c!--        éç½®å--\x3e\n             <environment id="ie">\n                 \n                 <transactionManager type="JDBC"></transactionManager>\n                 <dataSource type="POOLED">\n     \x3c!--                é©±å¨--\x3e\n                     <property name="driver" value="com.mysql.jdbc.Driver"/>\n                     <property name="url" value="jdbc:mysql://127.0.0.1:3306/mysql"/>\n                     <property name="username" value="root"/>\n                     <property name="password" value="123456"/>\n                 </dataSource>\n             </environment>\n         </environments>\n     \n     \x3c!--    æ å°ç±»--\x3e\n         <mappers>\n     \x3c!--        æ å°ç±»åç§°--\x3e\n             <mapper resource="StudentMapper.xml"/> \n         </mappers>\n     </configuration>\n     \n     \n     1\n     2\n     3\n     4\n     5\n     6\n     7\n     8\n     9\n     10\n     11\n     12\n     13\n     14\n     15\n     16\n     17\n     18\n     19\n     20\n     21\n     22\n     23\n     24\n     25\n     26\n     27\n     28\n     \n\n * å æ ¸å¿éç½®æä»¶\n   \n   * InputStream is = Resources.getResourceAsStream("MyBatisConfig.xml");\n     \n     \n     1\n     \n\n * è·åsqlsession å·¥åå¯¹è±¡\n   \n   * SqlSessionFactory build = new SqlSessionFactoryBuilder().build(is);\n     \n     \n     1\n     \n\n * æ§è¡æ å°éç½®æä»¶çsqlè¯­å¥\n   \n   * List<Object> objects = sqlSession.selectList("StudentMapper.any");\n     \n     \n     1\n     \n\n * éæ¾èµæº\n   \n   * sqlSession.close();\n     is.close();\n     \n     \n     1\n     2\n     \n\n\n# Resources å è½½èµæºå·¥å·ç±»\n\n * Resources.getResourceAsStream(String fileName) éè¿ç±»å è½½å¨è¿åæå®èµæºçå­èè¾å¥æµ ä¸è·åç±»å è½½ å è½½æå®èµæºå­èè¾å¥æµä¸æ ·\n\n\n# SqlSessionFactoryBuilder å·¥åå¯¹è±¡åè½ç±»\n\n * new SqlSessionFactoryBuilder().build(is); éè¿æå®èµæºå­èè¾å¥æµè·åSqlSessionFactoryå·¥åå¯¹è±¡\n\n\n# SqlSessionFactory å¯¹è±¡\n\n * openSession() è·åsqlsession æå»ºèå¯¹è±¡ å¹¶å¼å¯æå¨æäº¤äºå¡\n * openSession(boolean auotoCommit) è·åsqlsession æå»ºèå¯¹è±¡ trueä¸ºèªå¨æäº¤äºå¡\n\n\n# SqlSession\n\næå»ºèå¯¹è±¡æ¥å£ ç¨äºæ§è¡ SQL ç®¡çäºå¡ æ¥å£ä»£ç\n\n * selectList(String Statement , object parameter) æ§è¡æ¥è¯¢è¯­å¥ å¹¶è¿ålistéå\n * selectList(String Statement , object parameter) æ§è¡æ¥è¯¢è¯­å¥ è¿åä¸ä¸ªç»æå¯¹è±¡\n * inser(String Statement , object parameter) æ§è¡æ°å¢è¯­å¥,è¿åå½±åè¡æ°\n * update(String Statement , object parameter) æ§è¡ä¿®æ¹è¯­å¥,è¿åå½±åè¡æ°\n * delete(String Statement , object parameter) æ§è¡å é¤è¯­å¥,è¿åå½±åè¡æ°\n * commit() æäº¤äºå¡\n * rollback() åæ»äºå¡\n * getMapper(Class<T> cls) è·åæå®æ¥å£çä»£çå®ç°ç±»å¯¹è±¡\n * close() éæ¾èµæº\n\n\n# æ å°éç½®æä»¶\n\n * mapper æ ¸å¿æ ¹æ ç­¾\n   * namespaceå±æ§ åç§°ç©ºé´\n * select æ¥è¯¢æ ç­¾\n   * idå±æ§ å¯ä¸æ è¯\n   * resultTypeå±æ§ æå®ç»ææ å°å¯¹è±¡ç±»å ç±»è·¯å¾ å¢å æ¹å¯ä»¥ä¸æå®ç±»å ä¸ºè¿åçæ¯ä¸ä¸ªå½±åè¡æ°\n   * parameterTypeå±æ§ æå®åæ°æ å°å¯¹è±¡ç±»å æå®æ§è¡æ¶ä¼ éçparameterç±»å\n   * SQLè¯­å¥è·ååæ° #{å±æ§å}\n\n<?xml version="1.0" encoding="UTF-8"?>\n<!DOCTYPE mapper\n        PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"\n        "http://mybatis.org/dtd/mybatis-3-mapper.dtd">\n\n<mapper namespace="StudentMapper">\n    <select id="any" resultType="com.xxx..xx" parameterType="java.lang.long">\n        select * from mysql where id = #{id}\n    </select>\n        \n    <insert id="insert" parameterType="ç¬è®°.jdbc.src.Student">\n\n        insert into studen value (#{id},#{name},#{age})\n        -- ä»Student ä¸­ä¼ é id name ageå±æ§\n    </insert>\n</mapper>\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n\n\n\n# æ ¸å¿éç½®æä»¶\n\n<?xml version="1.0" encoding="UTF-8"?>\n<!DOCTYPE configuration\n        PUBLIC "-//mybatis.org//DTD Config 3.0//EN"\n        "http://mybatis.org/dtd/mybatis-3-config.dtd">\n\x3c!--        configurationæ ¹æ ç­¾--\x3e\n<configuration>\n\x3c!--  environmentséç½®æ°æ®åºç¯å¢  defaultå±æ§æå®ä½¿ç¨åªä¸ä¸ª--\x3e\n    <environments default="ie">\n\x3c!--        environmentéç½®æ°æ®åºç¯å¢  idå±æ§å¯ä¸æ è¯--\x3e\n        <environment id="ie">\n\x3c!--            transactionManageräºå¡ç®¡ç  typeå±æ§ éç¨jdbcé»è®¤çäºå¡ç®¡ç--\x3e\n            <transactionManager type="JDBC"></transactionManager>\n\x3c!--           dataSourceæ°æ®æºä¿¡æ¯  typeå±æ§ è¿æ¥æ±     --\x3e\n            <dataSource type="POOLED">\n\x3c!--                propertyè¿æ¥æ°æ®åºçéç½®ä¿¡æ¯--\x3e\n                <property name="driver" value="com.mysql.jdbc.Driver"/>\n                <property name="url" value="jdbc:mysql://127.0.0.1:3306/mysql"/>\n                <property name="username" value="root"/>\n                <property name="password" value="123456"/>\n            </dataSource>\n        </environment>\n    </environments>\n\n\x3c!--    mapperså¼å¥æ å°éç½®æä»¶--\x3e\n    <mappers>\n\x3c!--        mapper å¼å¥æå®çæ å°éç½® resourceå±æ§ æå®æ å°éç½®æä»¶çååç§°--\x3e\n        <mapper resource="StudentMapper.xml"/>\n    </mappers>\n</configuration>\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n26\n27\n28\n29\n\n\n\n# æ°æ®åºè¿æ¥éç½®å¼å¥\n\n * <properties> å¼å¥æ°æ®åºè¿æ¥éç½®æä»¶æ ç­¾\n   * resourceå±æ§ æ°æ®åºè¿æ¥éç½®æä»¶è·¯å¾\n * è·åè¿æ¥åæ°\n   * ${é®å}\n\ndriver=com.mysql.jdbc.Driver\nurl=jdbc:mysql://127.0.0.1:3306/mysql\nusername=root\npassword=123456\n\n\n1\n2\n3\n4\n\n\n<?xml version="1.0" encoding="UTF-8"?>\n<!DOCTYPE configuration\n        PUBLIC "-//mybatis.org//DTD Config 3.0//EN"\n        "http://mybatis.org/dtd/mybatis-3-config.dtd">\n\x3c!--        configurationæ ¹æ ç­¾--\x3e\n<configuration>\n\x3c!--  environmentséç½®æ°æ®åºç¯å¢  defaultå±æ§æå®ä½¿ç¨åªä¸ä¸ª--\x3e\n    <properties resource="ç¬è®°/mybatis/src/config.properties">\n    <environments default="ie">\n\x3c!--        environmentéç½®æ°æ®åºç¯å¢  idå±æ§å¯ä¸æ è¯--\x3e\n        <environment id="ie">\n\x3c!--            transactionManageräºå¡ç®¡ç  typeå±æ§ éç¨jdbcé»è®¤çäºå¡ç®¡ç--\x3e\n            <transactionManager type="JDBC"></transactionManager>\n\x3c!--           dataSourceæ°æ®æºä¿¡æ¯  typeå±æ§ è¿æ¥æ±     --\x3e\n            <dataSource type="POOLED">\n\x3c!--                propertyè¿æ¥æ°æ®åºçéç½®ä¿¡æ¯--\x3e\n                <property name="driver" value="${driver}"/>\n                <property name="url" value="${url}"/>\n                <property name="username" value="${username}"/>\n                <property name="password" value="${password}"/>\n            </dataSource>\n        </environment>\n    </environments>\n\n\x3c!--    mapperså¼å¥æ å°éç½®æä»¶--\x3e\n    <mappers>\n\x3c!--        mapper å¼å¥æå®çæ å°éç½® resourceå±æ§ æå®æ å°éç½®æä»¶çååç§°--\x3e\n        <mapper resource="StudentMapper.xml"/>\n    </mappers>\n</configuration>\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n26\n27\n28\n29\n30\n\n\n\n# èµ·å«å\n\nå¨æ å°éç½®ä¸­ æä»¬resultTypeå±æ§éè¦æä¾ ç±»çå¨è·¯å¾ å¯ä»¥å¨æ ¸å¿éç½®æä»¶ä¸­èµ·å«åæ¥ç®å\n\n * <typeAliaser> ä¸ºå¨ç±»åèµ·å«åçç¶æ ç­¾\n * <typeAlias> ä¸ºå¨ç±»åèµ·æ­¥åçå­æ ç­¾\n   * å±æ§:\n     * type æå®å¨ç±»å\n     * alias æå®å«å\n * <package> ä¸ºæå®åä¸ææç±»èµ·å«çå­æ ç­¾ å«åå°±æ¯ç±»å\n\n<typeAliases>\n    <typeAlias type="ç¬è®°.jdbc.src.Student" alias="student"></typeAlias>\n</typeAliases>\n\n\n1\n2\n3\n\n\n\n\n\n# LOG4J\n\nå¨æ ¸å¿éç½®æä»¶æ·»å \n\n<settings>\n    <setting name="logImpl" value="log4j"/>\n</settings>\n\n\n1\n2\n3\n\n\nå¹¶éç½®å¥½log4j.properties éç½®\n\n\n# åå±ææ³\n\næ§å¶å±(controller) ====> ä¸å¡å±(service) ====> æä¹å±(dao)\n\næä¹å± å¯¹æ¥æ°æ®åº\n\nä¸å¡å± å¤çä¸å¡é»è¾ æ­¤å¤åªæ¯ææ¶ç´æ¥è°ç¨daoå±çæ¹æ³\n\næ§å¶å± ä½¿ç¨ testç±»\n\n\n# æ¥å£ä»£ç\n\néè¿æ¥å£ä»£ç æä»¬åªéè¦ådaoå±çæ¥å£ ç±MyBatis æ¡æ¶æ ¹æ®æ¥å£çå®ä¹æ¥åå»ºæ¥å£çå¨æä»£çå¯¹è±¡\n\n * æ å°éç½®æä»¶ä¸­çåç§°ç©ºé´å¿é¡»ä¸daoå±æ¥å£çå¨ç±»åç¸å\n * æ å°éç½®æä»¶ä¸­çå¢å æ¹æ¥çidå±æ§å¿é¡»ådaoå±æ¥å£çæ¹æ³åç¸å\n * æ å°éç½®æä»¶ä¸­çå¢å æ¹æ¥æ ç­¾çparameterTypeå±æ§å¿é¡»ådaoå±æ¥å£æ¹æ³çåæ°ç¸å\n * æ å°éç½®æä»¶ä¸­çå¢å æ¹æ¥æ ç­¾çresultTypeå±æ§å¿é¡»ådaoå±æ¥å£çè¿åå¼ç¸å\n\ngetMapper(Class<T> cls) è·åæå®æ¥å£çä»£çå®ç°ç±»å¯¹è±¡\n\nmybatisdemo01 mapper = sqlSession.getMapper(mybatisdemo01.class);\n\n\n1\n\n\n\n# æºç åæ\n\néè¿getMapper()æ¹æ³ è·åå° org.apache.ibatis.binding.MapperProxy ä»£çå¯¹è±¡ åºå±ä½¿ç¨ JDK çå¨æä»£çææ¯ å¸®æä»¬å®ç°ä»£çå®ç°ç±»å¯¹è±¡\n\næ§è¡æ¹æ³æ¶è°ç¨äº mapperMethod.execute()æ¹æ³ éè¿switchè¯­å¥ å¤æ­æä½ç±»åæ¯å¢å æ¹æ¥æä½\n\néè¿SqlSession æ¹æ³æ¥æ§è¡\n\n\n# å¨æSQL\n\nå¯ä»¥æ ¹æ®SQLè¯­å¥å¨ææ ¹æ®æ¡ä»¶æ¥è¯¢\n\n * <where> æ¡ä»¶æ ç­¾ å¦ææå¨ææ¡ä»¶ åä½¿ç¨è¯¥æ ç­¾æ¿ä»£whereå³é®å­\n * <if> æ¡ä»¶å¤æ­æ ç­¾ testå±æ§ æ¡ä»¶æ§å¶ å¦ææç«åæ¼æ¥SQLè¯­å¥\n\n<select id="dongtaisql" resultType="studen">\n    select * from stden\n    <where>\n        <if test="id != null">\n            id = #{id}\n        </if>\n        <if test="age != null">\n            and age = #{age}\n        </if>\n    </where>\n</select>\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n\n * <foreach> å¾ªç¯éåæ ç­¾ éç¨äºå¤ä¸ªåæ°æèçå³ç³»\n   * collectionå±æ§ åæ°å®¹å¨ç±»å(listéå arrayæ°ç»)\n   * openå±æ§ å¼å§çsqlè¯­å¥\n   * closeå±æ§ ç»æçsqlè¯­å¥\n   * itemå±æ§ åæ°åéå\n   * separatorå±æ§ åéç¬¦\n\n\x3c!-- select * forme studen id in(1,2,3)--\x3e\n<select id="selectbyids" resultType="studen" parameterType="list">\n    select * from studen\n    <where>\n        <foreach collection="list" open="id in(" close=")" separator="," item="id">\n            #{id}\n        </foreach>\n    </where>\n</select>\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n\n\n\n# SQL çæ®µæ½å\n\nå°ä¸äºéå¤æ§çSQLè¯­å¥è¿è¡æ½å è¾¾å°å¤ç¨çææ\n\n * <sql> æ ç­¾ æ½åsqlè¯­å¥æ ç­¾ idå±æ§å¯ä¸æ è¯\n * <include> å¼å¥sqlçæ®µæ ç­¾ refidå±æ§éè¦å¼ç¨çæ®µçå¯ä¸æ è¯\n\n<sql id="select">select * from studen</sql>\n<select id="qsq" resultType="student" parameterType="student">\n<include refid="select"></include> where id = #{id}\n</select>\n\n\n1\n2\n3\n4\n\n\n\n# è·åèªå¢çID åæå¥æ°æ®\n\nåæ§è¡LAST_INSERT_ID() è¿åä¸ä¸ªidå¹¶å°è£å¨å¯¹è±¡ åæ§è¡inserè¯­å¥\n\n<insert id="add" parameterType="com.itheima.pojo.CheckGroup">\n    <selectKey resultType="java.lang.Integer" order="AFTER" keyProperty="id">\n        select LAST_INSERT_ID()\n    </selectKey>\n    insert into t_checkgroup(code, name, sex, helpCode, remark, attention)\n    values (#{code}, #{name}, #{sex}, #{helpCode}, #{remark}, #{attention})\n</insert>\n\n\n1\n2\n3\n4\n5\n6\n7\n\n\n\n# åé¡µæä»¶\n\nmybatisä¸å¸¦åé¡µåè½ç mysqlä¸­åé¡µä½¿ç¨ limit è¯­å¥ ä¸åçæ°æ®åºå®ç°çå³é®å­ä¹ä¸å\n\nPageHelper ç¬¬ä¸æ¹åé¡µå©æ\n\n * å¯¼å¥jarå pagehelper.jar jsqlparser.jar\n\n * å¨æ ¸å¿éç½®æä»¶ä¸­éæåé¡µå©æ\n   \n   * <plugins>\n             <plugin interceptor="com.github.pagehelper.PageInterceptor"></plugin>\n     \t</plugins>\n     \n     \n     1\n     2\n     3\n     \n\n * å¨æµè¯ç±»ä¸­ä½¿ç¨åé¡µåè½\n   \n   * PageHelper.startPage(1,3);\n     // PageHelper.startPage(ç¬¬å é¡µ,æ¯é¡µæ¾ç¤ºå¤å°ä¸ª);  è®¾ç½®åé¡µåæ°\n     \n     \n     1\n     2\n     \n\n\n# Pageinfo å°è£åé¡µç¸å³åæ°çåè½ç±»\n\n * getTotal() è·åæ»æ¡æ°\n * getPages() è·åæ»é¡µæ°\n * getPageNum() è·åå½åé¡µ\n * getPageSize() è·åæ¯é¡µæ¾ç¤ºæ¡æ°\n * getPrePage() è·åä¸ä¸é¡µ\n * getNextPage() è·åä¸ä¸é¡µ\n * islsFiresPage() è·åæ¯å¦æ¯ç¬¬ä¸é¡µ\n * islsLastPage() è·åæ¯å¦æ¯æåä¸é¡µ\n\nPageInfo<Student> info =new PageInfo<>(list);\nint total = info.getTotal();\n\n\n1\n2\n\n\n\n# å¤è¡¨æä½\n\n\n# ä¸å¯¹ä¸\n\n<mapper namespace="1v1">\n    \x3c!--\n        resultMap éç½®å­æ®µåå®ä½å¯¹è±¡å±æ§çæ å°å³ç³»\n        idä¸ºå¯ä¸æ è¯\n        typeä¸ºæ å°å¯¹è±¡è·¯å¾\n    --\x3e\n    <resultMap id="oneToOne" type="card">\n        \x3c!--\n            idä¸ºä¸»é®æ ç­¾  columnä¸ºè¡¨ä¸­åå   propertyä¸ºå¯¹è±¡å±æ§åç§°\n            resultä¸ºå¶ä»åæ ç­¾\n        --\x3e\n        <id column="cid" property="id"/>\n        <result column="number" property="number" />\n                \x3c!--\n                        association: éç½®è¢«åå«å¯¹è±¡çæ å°å³ç³»   å¯¹è±¡åçå¯¹è±¡\n                        property: è¢«åå«å¯¹è±¡çåéå   å¯¹è±¡åçå¯¹è±¡åéåæ¯ä»ä¹\n                        javaType:è¢«åå«å¯¹è±¡çæ°æ®ç±»å\n                --\x3e\n        <association property="prs" javaType="person">\n            <id column="pid" property="id"></id>\n            <result column="name" property="name"/>\n            <result column="age" property="age"/>\n\n        </association>\n    </resultMap>\n        \x3c!--\n            resultMap ä¸ºå¤è¡¨æä½æ å°\n         --\x3e\n    <select id="selectall" resultMap="oneToOne">\n        select c.id cid,number,pid,name,age from card c,person p where c.pid=p.id;\n    </select>\n</mapper>\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n26\n27\n28\n29\n30\n31\n32\n\n * <resultMap> éç½®å­æ®µåå®ä½å¯¹è±¡å±æ§çæ å°å³ç³»\n   * idå±æ§ å¯ä¸æ è¯\n   * typeå±æ§ å®ä½å¯¹è±¡ç±»å\n * <id> éç½®ä¸»é®æ å°å³ç³»æ ç­¾\n * <result> éç½®éä¸»é®æ å°å³ç³»æ ç­¾\n   * columnå±æ§ è¡¨ä¸­å­æ®µåç§°\n   * propertyå±æ§ å®ä½å¯¹è±¡åéåç§°\n * <association> éç½®è¢«åå«å¯¹è±¡çæ å°å³ç³»æ ç­¾\n   * propertyå±æ§ è¢«åå«å¯¹è±¡çåéå\n   * javaTypeå±æ§ è¢«åå«å¯¹è±¡çæ°æ®ç±»å\n\n\n# ä¸å¯¹å¤\n\n<mapper>\n    <resultMap id="onetomany" type="classes">\n        <id column="cid" property="id"/>\n        <result column="canem" property="name"/>\n\n        \x3c!--\n            collection: éç½®è¢«åå«çéåå¯¹è±¡æ å°å³ç³»\n            propertyå±æ§  è¢«åå«éåå¯¹è±¡çåéå\n            ofTypeå±æ§  è¢«åå«éåå¯¹è±¡åç´ çæ°æ®ç±»å\n            --\x3e\n        <collection property="students" ofType="student">\n            <id column="sid" property="id"/>\n            <result column="sname" property="name"/>\n            <result column="sage" property="age"/>\n        </collection>\n    </resultMap>\n    <select id="selectall" resultMap="onetomany">\n        select c.id cid,c.name cname,s.id sid,s.name sname,s.age sage from classes c,student s where c.id=s.id\n    </select>\n</mapper>\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n\n * <collection> éç½®è¢«åå«çéåå¯¹è±¡æ å°å³ç³»\n   * propertyå±æ§ è¢«åå«éåå¯¹è±¡çåéå\n   * ofTypeå±æ§ è¢«åå«éåå¯¹è±¡åç´ çæ°æ®ç±»å\n\n\n# å¤å¯¹å¤\n\n<mapper>\n    <resultMap id="manytomany" type="sstdent">\n        <id column="sid" property="id"/>\n        <result column="sname" property="name"/>\n        <result column="sage" property="age"/>\n        <collection property="coures" ofType="corse">\n            <id column="cid" property="id"/>\n            <result column="cname" property="name"/>\n        </collection>\n    </resultMap>\n    <select id="selectall" resultMap="manytomany">\n        select  sc.sid,s.name sname,s.age sage,sc.cid,c.name cname from stdent s,course c,stu,_cr sc where sc.sid=s.id and sc.cid=c.id\n    </select>\n</mapper>\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n\n\n<collection> éç½®è¢«åå«çéåå¯¹è±¡æ å°å³ç³»\n\n * propertyå±æ§ è¢«åå«éåå¯¹è±¡çåéå\n * ofTypeå±æ§ è¢«åå«éåå¯¹è±¡åç´ çæ°æ®ç±»å\n\n\n# æ³¨è§£\n\n * @Select("æ¥è¯¢çSQLè¯­å¥") æå®åæ°è¿æ¯#{key}\n * @Insert("æ°å¢çSQLè¯­å¥") å¦:@Insert("inser into student value (#{id},#{age},#{name})")\n * @Update("ä¿®æ¹çSQLè¯­å¥")\n * @Delete("å é¤çSQLè¯­å¥")\n\néè¿æ³¨è§£å½¢å¼çæä½ ä¸éè¦åå»ºæ å°éç½®æä»¶ æ å°éç½®åå®¹ åå¨æ ¸å¿éç½®æä»¶ä¸­\n\n<mappers>\n    \t\x3c!-- nameä¸ºæ¥å£æå¨çåè·¯å¾ å¯ä»¥æå®ç±»æèæå®åä¸çææç±» --\x3e\n        <package name="com.xxx.xxx.stdentmapper"/>\n</mappers>\n\n\n1\n2\n3\n4\n\n\n\n# å¤è¡¨æä½\n\n# ä¸å¯¹ä¸\n\n@Select("select * fome card")\n    @Results({\n            @Result(column = "id" ,property = "id"),\n            @Result(column = "number" , property = "number"),\n            @Result(\n                    property = "p",   // è¢«åå«å¯¹è±¡çåéå\n                    javaType = Person.class,  // è¢«åå«å¯¹è±¡çå®ç°æ°æ®ç±»åç±»\n                    column = "pid",  // æ ¹æ®ä¸é¢selectæ¥è¯¢åºæ¥è¡¨ä¸­çåªä¸ªå­æ®µæ¥æ¥è¯¢ç¬¬äºä¸ªè¡¨\n                    /*\n                     one = @one()  ä¸å¯¹ä¸åæ³\n                     selectå±æ§  æå®è°ç¨åªä¸ªæ¥å£çåªä¸ªæ¹æ³\n                     */\n                    one = @One(select = "com.xxx.xxxæ¥å£.selectByidæ¹æ³")\n            )\n    })\n    List<Card> selectAll();\n\n//@oneæ³¨è§£è°ç¨çæ¥å£æ¹æ³\n    @Select("select * from person where id=#{id}")\n    Person selectByid(Integer id);\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n\n * @Results å°è£æ å°å³ç³»çç¶æ³¨è§£ Result[] vlue() å®ä¹äºResultæ°ç»\n   * @Result å°è£æ å°å³ç³»çå­æ³¨è§£\n     * columnå±æ§ æ¥è¯¢åºçè¡¨ä¸­å­æ®µåç§°\n     * propertyå±æ§ å®ä½å¯¹è±¡ä¸­çå±æ§åç§°\n     * javaTypeå±æ§ è¢«åå«å¯¹è±¡çæ°æ®ç±»å\n     * one å±æ§ ä¸å¯¹ä¸æ¥è¯¢\n       * @Oneä¸å¯¹ä¸æ¥è¯¢æ³¨è§£\n         * selectå±æ§ æåè¦è°ç¨æä¸ªæ¥å£ä¸­çæ¹æ³\n\n# ä¸å¯¹å¤\n\n//ä¸å¯¹å¤\n@Select("select * fome classes")\n@Results({\n        @Result(column = "id" ,property = "id"),\n        @Result(column = "number" , property = "number"),\n        @Result(\n                property = "students",   // è¢«åå«å¯¹è±¡çåéå\n                javaType = List.class,  // è¢«åå«å¯¹è±¡çå®ç°æ°æ®ç±»åç±»\n                column = "id",  // æ ¹æ®ä¸é¢selectæ¥è¯¢åºæ¥è¡¨ä¸­çåªä¸ªå­æ®µæ¥æ¥è¯¢ç¬¬äºä¸ªè¡¨\n\n        /*                    many = @Many()  ä¸å¯¹å¤åæ³\n                selectå±æ§  æå®è°ç¨åªä¸ªæ¥å£çåªä¸ªæ¹æ³*/\n                many= @Many(select = "com.xxx.xxxæ¥å£.xxxæ¹æ³")\n        )\n})\nList<Classes> selectAll();\n\n//@oneæ³¨è§£è°ç¨çæ¥å£æ¹æ³\n@Select("select * from student where cid=#{cid}")\nList<Student> selectByid(Integer cid);\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n\n * manyå±æ§ ä¸å¯¹å¤æ¥è¯¢\n   * @Manyä¸å¯¹å¤æ¥è¯¢æ³¨è§£\n     * selectå±æ§ æåè¦è°ç¨æä¸ªæ¥å£ä¸­çæ¹æ³\n\n# å¤å¯¹å¤\n\n//å¤å¯¹å¤\n@Select("select distinct s.id,s.name fome studebt s,stu_cr sc where sc.sid = s.id")\n@Results({\n        @Result(column = "id" ,property = "id"),\n        @Result(column = "number" , property = "number"),\n        @Result(\n                property = "students",   // è¢«åå«å¯¹è±¡çåéå\n                javaType = List.class,  // è¢«åå«å¯¹è±¡çå®ç°æ°æ®ç±»åç±»\n                column = "id",  // æ ¹æ®ä¸é¢selectæ¥è¯¢åºæ¥è¡¨ä¸­çåªä¸ªå­æ®µæ¥æ¥è¯¢ç¬¬äºä¸ªè¡¨\n\n                /*                  many = @Many()  ä¸å¯¹å¤åæ³\n                selectå±æ§  æå®è°ç¨åªä¸ªæ¥å£çåªä¸ªæ¹æ³*/\n                        many= @Many(select = "com.xxx.xxxæ¥å£.xxxæ¹æ³")\n        )\n})\nList<Student> selectAll();\n\n//@oneæ³¨è§£è°ç¨çæ¥å£æ¹æ³\n@Select("select c.id,c.name from stu_cr sc,course c where sc.cid=c.id and sc.sid=#{id}")\nList<Course> selectByid(Integer id);\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n\n * manyå±æ§ ä¸å¯¹å¤æ¥è¯¢\n   * @Manyä¸å¯¹å¤æ¥è¯¢æ³¨è§£\n     * selectå±æ§ æåè¦è°ç¨æä¸ªæ¥å£ä¸­çæ¹æ³\n\n\n# SQL æå»º\n\n\n\npublic static void main(String[] args) {\n    System.out.println(getSelectall());\n    //SELECT *\n    //FROM student\n}\n\npublic static String getSelectall(){\n    return new SQL(){\n        {\n            SELECT("*");\n            FROM("student");\n        }\n    }.toString();\n\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n\n\n * @SelectProvider(type = SQLæé çç±».class , mehod = "è¦æ§è¡ç±»ä¸­æ¹æ³") æ¥è¯¢\n\n * @InsertProvider((type = SQLæé çç±».class , mehod = "è¦æ§è¡ç±»ä¸­æ¹æ³") æ°å¢\n   \n   public static String getInsert(Student stu){\n           return new SQL(){\n               {\n                   INSERT_INTO("student");\n                   INTO_VALUES("#{id},#{age},#{name}");\n               }\n           }.toString();\n   \n       }\n   \n   \n   1\n   2\n   3\n   4\n   5\n   6\n   7\n   8\n   9\n   \n\n * @UpdateProvider((type = SQLæé çç±».class , mehod = "è¦æ§è¡ç±»ä¸­æ¹æ³") æ´æ°\n\n * @DeleteProvider((type = SQLæé çç±».class , mehod = "è¦æ§è¡ç±»ä¸­æ¹æ³") å é¤',normalizedContent:'# mybatis\n\nmybatis æ¯åºäº java çæä¹å±æ¡æ¶,å®åé¨å°è£äº jdbc\n\néè¿ xml æè æ³¨è§£ æ¹å¼ä½¿å°è¦çæ§è¡åç§ statement éç½®èµ·æ¥ , å¹¶éè¿ javaå¯¹è±¡åstatementä¸­sqlçå¨æåæ°è¿è¡æ å°çææç»æ§è¡çsqlè¯­å¥\n\næ§è¡å®sqlè¯­å¥ å¹¶å°ç»ææ å°ä¸ºjavaå¯¹è±¡è¿å ä½¿ç¨orm ææ³è§£å³é®é¢\n\n\n# orm\n\nobject relational mapping å¯¹è±¡å³ç³»æ å° æä¹åæ°æ®åå®ä½å¯¹è±¡çæ å°æ¨¡å¼\n\n\n# ä½¿ç¨\n\n * å¯¼å¥ mybatis.jar åmysql.jar\n\n * å¨srcä¸åå»ºæ å°éç½®æä»¶ åå­æ æè°\n   \n   * <?xml version="1.0" encoding="utf-8"?>\n     <!doctype mapper\n             public "-//mybatis.org//dtd mapper 3.0//en"\n             "http://mybatis.org/dtd/mybatis-3-mapper.dtd">\n     \n     <mapper namespace="studentmapper">\n         <select id="any" resulttype="com.xxx..xx">\n             select * from mysql\n         </select>\n     </mapper>\n     \n     \n     1\n     2\n     3\n     4\n     5\n     6\n     7\n     8\n     9\n     10\n     \n\n * å¨srcä¸åå»ºæ ¸å¿éç½®æä»¶\n   \n   * <?xml version="1.0" encoding="utf-8"?>\n     <!doctype configuration\n             public "-//mybatis.org//dtd config 3.0//en"\n             "http://mybatis.org/dtd/mybatis-3-config.dtd">\n     \n     <configuration>\n     \x3c!--    é»è®¤éç½®--\x3e\n         <environments default="ie">\n     \x3c!--        éç½®å--\x3e\n             <environment id="ie">\n                 \n                 <transactionmanager type="jdbc"></transactionmanager>\n                 <datasource type="pooled">\n     \x3c!--                é©±å¨--\x3e\n                     <property name="driver" value="com.mysql.jdbc.driver"/>\n                     <property name="url" value="jdbc:mysql://127.0.0.1:3306/mysql"/>\n                     <property name="username" value="root"/>\n                     <property name="password" value="123456"/>\n                 </datasource>\n             </environment>\n         </environments>\n     \n     \x3c!--    æ å°ç±»--\x3e\n         <mappers>\n     \x3c!--        æ å°ç±»åç§°--\x3e\n             <mapper resource="studentmapper.xml"/> \n         </mappers>\n     </configuration>\n     \n     \n     1\n     2\n     3\n     4\n     5\n     6\n     7\n     8\n     9\n     10\n     11\n     12\n     13\n     14\n     15\n     16\n     17\n     18\n     19\n     20\n     21\n     22\n     23\n     24\n     25\n     26\n     27\n     28\n     \n\n * å æ ¸å¿éç½®æä»¶\n   \n   * inputstream is = resources.getresourceasstream("mybatisconfig.xml");\n     \n     \n     1\n     \n\n * è·åsqlsession å·¥åå¯¹è±¡\n   \n   * sqlsessionfactory build = new sqlsessionfactorybuilder().build(is);\n     \n     \n     1\n     \n\n * æ§è¡æ å°éç½®æä»¶çsqlè¯­å¥\n   \n   * list<object> objects = sqlsession.selectlist("studentmapper.any");\n     \n     \n     1\n     \n\n * éæ¾èµæº\n   \n   * sqlsession.close();\n     is.close();\n     \n     \n     1\n     2\n     \n\n\n# resources å è½½èµæºå·¥å·ç±»\n\n * resources.getresourceasstream(string filename) éè¿ç±»å è½½å¨è¿åæå®èµæºçå­èè¾å¥æµ ä¸è·åç±»å è½½ å è½½æå®èµæºå­èè¾å¥æµä¸æ ·\n\n\n# sqlsessionfactorybuilder å·¥åå¯¹è±¡åè½ç±»\n\n * new sqlsessionfactorybuilder().build(is); éè¿æå®èµæºå­èè¾å¥æµè·åsqlsessionfactoryå·¥åå¯¹è±¡\n\n\n# sqlsessionfactory å¯¹è±¡\n\n * opensession() è·åsqlsession æå»ºèå¯¹è±¡ å¹¶å¼å¯æå¨æäº¤äºå¡\n * opensession(boolean auotocommit) è·åsqlsession æå»ºèå¯¹è±¡ trueä¸ºèªå¨æäº¤äºå¡\n\n\n# sqlsession\n\næå»ºèå¯¹è±¡æ¥å£ ç¨äºæ§è¡ sql ç®¡çäºå¡ æ¥å£ä»£ç\n\n * selectlist(string statement , object parameter) æ§è¡æ¥è¯¢è¯­å¥ å¹¶è¿ålistéå\n * selectlist(string statement , object parameter) æ§è¡æ¥è¯¢è¯­å¥ è¿åä¸ä¸ªç»æå¯¹è±¡\n * inser(string statement , object parameter) æ§è¡æ°å¢è¯­å¥,è¿åå½±åè¡æ°\n * update(string statement , object parameter) æ§è¡ä¿®æ¹è¯­å¥,è¿åå½±åè¡æ°\n * delete(string statement , object parameter) æ§è¡å é¤è¯­å¥,è¿åå½±åè¡æ°\n * commit() æäº¤äºå¡\n * rollback() åæ»äºå¡\n * getmapper(class<t> cls) è·åæå®æ¥å£çä»£çå®ç°ç±»å¯¹è±¡\n * close() éæ¾èµæº\n\n\n# æ å°éç½®æä»¶\n\n * mapper æ ¸å¿æ ¹æ ç­¾\n   * namespaceå±æ§ åç§°ç©ºé´\n * select æ¥è¯¢æ ç­¾\n   * idå±æ§ å¯ä¸æ è¯\n   * resulttypeå±æ§ æå®ç»ææ å°å¯¹è±¡ç±»å ç±»è·¯å¾ å¢å æ¹å¯ä»¥ä¸æå®ç±»å ä¸ºè¿åçæ¯ä¸ä¸ªå½±åè¡æ°\n   * parametertypeå±æ§ æå®åæ°æ å°å¯¹è±¡ç±»å æå®æ§è¡æ¶ä¼ éçparameterç±»å\n   * sqlè¯­å¥è·ååæ° #{å±æ§å}\n\n<?xml version="1.0" encoding="utf-8"?>\n<!doctype mapper\n        public "-//mybatis.org//dtd mapper 3.0//en"\n        "http://mybatis.org/dtd/mybatis-3-mapper.dtd">\n\n<mapper namespace="studentmapper">\n    <select id="any" resulttype="com.xxx..xx" parametertype="java.lang.long">\n        select * from mysql where id = #{id}\n    </select>\n        \n    <insert id="insert" parametertype="ç¬è®°.jdbc.src.student">\n\n        insert into studen value (#{id},#{name},#{age})\n        -- ä»student ä¸­ä¼ é id name ageå±æ§\n    </insert>\n</mapper>\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n\n\n\n# æ ¸å¿éç½®æä»¶\n\n<?xml version="1.0" encoding="utf-8"?>\n<!doctype configuration\n        public "-//mybatis.org//dtd config 3.0//en"\n        "http://mybatis.org/dtd/mybatis-3-config.dtd">\n\x3c!--        configurationæ ¹æ ç­¾--\x3e\n<configuration>\n\x3c!--  environmentséç½®æ°æ®åºç¯å¢  defaultå±æ§æå®ä½¿ç¨åªä¸ä¸ª--\x3e\n    <environments default="ie">\n\x3c!--        environmentéç½®æ°æ®åºç¯å¢  idå±æ§å¯ä¸æ è¯--\x3e\n        <environment id="ie">\n\x3c!--            transactionmanageräºå¡ç®¡ç  typeå±æ§ éç¨jdbcé»è®¤çäºå¡ç®¡ç--\x3e\n            <transactionmanager type="jdbc"></transactionmanager>\n\x3c!--           datasourceæ°æ®æºä¿¡æ¯  typeå±æ§ è¿æ¥æ±     --\x3e\n            <datasource type="pooled">\n\x3c!--                propertyè¿æ¥æ°æ®åºçéç½®ä¿¡æ¯--\x3e\n                <property name="driver" value="com.mysql.jdbc.driver"/>\n                <property name="url" value="jdbc:mysql://127.0.0.1:3306/mysql"/>\n                <property name="username" value="root"/>\n                <property name="password" value="123456"/>\n            </datasource>\n        </environment>\n    </environments>\n\n\x3c!--    mapperså¼å¥æ å°éç½®æä»¶--\x3e\n    <mappers>\n\x3c!--        mapper å¼å¥æå®çæ å°éç½® resourceå±æ§ æå®æ å°éç½®æä»¶çååç§°--\x3e\n        <mapper resource="studentmapper.xml"/>\n    </mappers>\n</configuration>\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n26\n27\n28\n29\n\n\n\n# æ°æ®åºè¿æ¥éç½®å¼å¥\n\n * <properties> å¼å¥æ°æ®åºè¿æ¥éç½®æä»¶æ ç­¾\n   * resourceå±æ§ æ°æ®åºè¿æ¥éç½®æä»¶è·¯å¾\n * è·åè¿æ¥åæ°\n   * ${é®å}\n\ndriver=com.mysql.jdbc.driver\nurl=jdbc:mysql://127.0.0.1:3306/mysql\nusername=root\npassword=123456\n\n\n1\n2\n3\n4\n\n\n<?xml version="1.0" encoding="utf-8"?>\n<!doctype configuration\n        public "-//mybatis.org//dtd config 3.0//en"\n        "http://mybatis.org/dtd/mybatis-3-config.dtd">\n\x3c!--        configurationæ ¹æ ç­¾--\x3e\n<configuration>\n\x3c!--  environmentséç½®æ°æ®åºç¯å¢  defaultå±æ§æå®ä½¿ç¨åªä¸ä¸ª--\x3e\n    <properties resource="ç¬è®°/mybatis/src/config.properties">\n    <environments default="ie">\n\x3c!--        environmentéç½®æ°æ®åºç¯å¢  idå±æ§å¯ä¸æ è¯--\x3e\n        <environment id="ie">\n\x3c!--            transactionmanageräºå¡ç®¡ç  typeå±æ§ éç¨jdbcé»è®¤çäºå¡ç®¡ç--\x3e\n            <transactionmanager type="jdbc"></transactionmanager>\n\x3c!--           datasourceæ°æ®æºä¿¡æ¯  typeå±æ§ è¿æ¥æ±     --\x3e\n            <datasource type="pooled">\n\x3c!--                propertyè¿æ¥æ°æ®åºçéç½®ä¿¡æ¯--\x3e\n                <property name="driver" value="${driver}"/>\n                <property name="url" value="${url}"/>\n                <property name="username" value="${username}"/>\n                <property name="password" value="${password}"/>\n            </datasource>\n        </environment>\n    </environments>\n\n\x3c!--    mapperså¼å¥æ å°éç½®æä»¶--\x3e\n    <mappers>\n\x3c!--        mapper å¼å¥æå®çæ å°éç½® resourceå±æ§ æå®æ å°éç½®æä»¶çååç§°--\x3e\n        <mapper resource="studentmapper.xml"/>\n    </mappers>\n</configuration>\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n26\n27\n28\n29\n30\n\n\n\n# èµ·å«å\n\nå¨æ å°éç½®ä¸­ æä»¬resulttypeå±æ§éè¦æä¾ ç±»çå¨è·¯å¾ å¯ä»¥å¨æ ¸å¿éç½®æä»¶ä¸­èµ·å«åæ¥ç®å\n\n * <typealiaser> ä¸ºå¨ç±»åèµ·å«åçç¶æ ç­¾\n * <typealias> ä¸ºå¨ç±»åèµ·æ­¥åçå­æ ç­¾\n   * å±æ§:\n     * type æå®å¨ç±»å\n     * alias æå®å«å\n * <package> ä¸ºæå®åä¸ææç±»èµ·å«çå­æ ç­¾ å«åå°±æ¯ç±»å\n\n<typealiases>\n    <typealias type="ç¬è®°.jdbc.src.student" alias="student"></typealias>\n</typealiases>\n\n\n1\n2\n3\n\n\n\n\n\n# log4j\n\nå¨æ ¸å¿éç½®æä»¶æ·»å \n\n<settings>\n    <setting name="logimpl" value="log4j"/>\n</settings>\n\n\n1\n2\n3\n\n\nå¹¶éç½®å¥½log4j.properties éç½®\n\n\n# åå±ææ³\n\næ§å¶å±(controller) ====> ä¸å¡å±(service) ====> æä¹å±(dao)\n\næä¹å± å¯¹æ¥æ°æ®åº\n\nä¸å¡å± å¤çä¸å¡é»è¾ æ­¤å¤åªæ¯ææ¶ç´æ¥è°ç¨daoå±çæ¹æ³\n\næ§å¶å± ä½¿ç¨ testç±»\n\n\n# æ¥å£ä»£ç\n\néè¿æ¥å£ä»£ç æä»¬åªéè¦ådaoå±çæ¥å£ ç±mybatis æ¡æ¶æ ¹æ®æ¥å£çå®ä¹æ¥åå»ºæ¥å£çå¨æä»£çå¯¹è±¡\n\n * æ å°éç½®æä»¶ä¸­çåç§°ç©ºé´å¿é¡»ä¸daoå±æ¥å£çå¨ç±»åç¸å\n * æ å°éç½®æä»¶ä¸­çå¢å æ¹æ¥çidå±æ§å¿é¡»ådaoå±æ¥å£çæ¹æ³åç¸å\n * æ å°éç½®æä»¶ä¸­çå¢å æ¹æ¥æ ç­¾çparametertypeå±æ§å¿é¡»ådaoå±æ¥å£æ¹æ³çåæ°ç¸å\n * æ å°éç½®æä»¶ä¸­çå¢å æ¹æ¥æ ç­¾çresulttypeå±æ§å¿é¡»ådaoå±æ¥å£çè¿åå¼ç¸å\n\ngetmapper(class<t> cls) è·åæå®æ¥å£çä»£çå®ç°ç±»å¯¹è±¡\n\nmybatisdemo01 mapper = sqlsession.getmapper(mybatisdemo01.class);\n\n\n1\n\n\n\n# æºç åæ\n\néè¿getmapper()æ¹æ³ è·åå° org.apache.ibatis.binding.mapperproxy ä»£çå¯¹è±¡ åºå±ä½¿ç¨ jdk çå¨æä»£çææ¯ å¸®æä»¬å®ç°ä»£çå®ç°ç±»å¯¹è±¡\n\næ§è¡æ¹æ³æ¶è°ç¨äº mappermethod.execute()æ¹æ³ éè¿switchè¯­å¥ å¤æ­æä½ç±»åæ¯å¢å æ¹æ¥æä½\n\néè¿sqlsession æ¹æ³æ¥æ§è¡\n\n\n# å¨æsql\n\nå¯ä»¥æ ¹æ®sqlè¯­å¥å¨ææ ¹æ®æ¡ä»¶æ¥è¯¢\n\n * <where> æ¡ä»¶æ ç­¾ å¦ææå¨ææ¡ä»¶ åä½¿ç¨è¯¥æ ç­¾æ¿ä»£whereå³é®å­\n * <if> æ¡ä»¶å¤æ­æ ç­¾ testå±æ§ æ¡ä»¶æ§å¶ å¦ææç«åæ¼æ¥sqlè¯­å¥\n\n<select id="dongtaisql" resulttype="studen">\n    select * from stden\n    <where>\n        <if test="id != null">\n            id = #{id}\n        </if>\n        <if test="age != null">\n            and age = #{age}\n        </if>\n    </where>\n</select>\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n\n * <foreach> å¾ªç¯éåæ ç­¾ éç¨äºå¤ä¸ªåæ°æèçå³ç³»\n   * collectionå±æ§ åæ°å®¹å¨ç±»å(listéå arrayæ°ç»)\n   * openå±æ§ å¼å§çsqlè¯­å¥\n   * closeå±æ§ ç»æçsqlè¯­å¥\n   * itemå±æ§ åæ°åéå\n   * separatorå±æ§ åéç¬¦\n\n\x3c!-- select * forme studen id in(1,2,3)--\x3e\n<select id="selectbyids" resulttype="studen" parametertype="list">\n    select * from studen\n    <where>\n        <foreach collection="list" open="id in(" close=")" separator="," item="id">\n            #{id}\n        </foreach>\n    </where>\n</select>\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n\n\n\n# sql çæ®µæ½å\n\nå°ä¸äºéå¤æ§çsqlè¯­å¥è¿è¡æ½å è¾¾å°å¤ç¨çææ\n\n * <sql> æ ç­¾ æ½åsqlè¯­å¥æ ç­¾ idå±æ§å¯ä¸æ è¯\n * <include> å¼å¥sqlçæ®µæ ç­¾ refidå±æ§éè¦å¼ç¨çæ®µçå¯ä¸æ è¯\n\n<sql id="select">select * from studen</sql>\n<select id="qsq" resulttype="student" parametertype="student">\n<include refid="select"></include> where id = #{id}\n</select>\n\n\n1\n2\n3\n4\n\n\n\n# è·åèªå¢çid åæå¥æ°æ®\n\nåæ§è¡last_insert_id() è¿åä¸ä¸ªidå¹¶å°è£å¨å¯¹è±¡ åæ§è¡inserè¯­å¥\n\n<insert id="add" parametertype="com.itheima.pojo.checkgroup">\n    <selectkey resulttype="java.lang.integer" order="after" keyproperty="id">\n        select last_insert_id()\n    </selectkey>\n    insert into t_checkgroup(code, name, sex, helpcode, remark, attention)\n    values (#{code}, #{name}, #{sex}, #{helpcode}, #{remark}, #{attention})\n</insert>\n\n\n1\n2\n3\n4\n5\n6\n7\n\n\n\n# åé¡µæä»¶\n\nmybatisä¸å¸¦åé¡µåè½ç mysqlä¸­åé¡µä½¿ç¨ limit è¯­å¥ ä¸åçæ°æ®åºå®ç°çå³é®å­ä¹ä¸å\n\npagehelper ç¬¬ä¸æ¹åé¡µå©æ\n\n * å¯¼å¥jarå pagehelper.jar jsqlparser.jar\n\n * å¨æ ¸å¿éç½®æä»¶ä¸­éæåé¡µå©æ\n   \n   * <plugins>\n             <plugin interceptor="com.github.pagehelper.pageinterceptor"></plugin>\n     \t</plugins>\n     \n     \n     1\n     2\n     3\n     \n\n * å¨æµè¯ç±»ä¸­ä½¿ç¨åé¡µåè½\n   \n   * pagehelper.startpage(1,3);\n     // pagehelper.startpage(ç¬¬å é¡µ,æ¯é¡µæ¾ç¤ºå¤å°ä¸ª);  è®¾ç½®åé¡µåæ°\n     \n     \n     1\n     2\n     \n\n\n# pageinfo å°è£åé¡µç¸å³åæ°çåè½ç±»\n\n * gettotal() è·åæ»æ¡æ°\n * getpages() è·åæ»é¡µæ°\n * getpagenum() è·åå½åé¡µ\n * getpagesize() è·åæ¯é¡µæ¾ç¤ºæ¡æ°\n * getprepage() è·åä¸ä¸é¡µ\n * getnextpage() è·åä¸ä¸é¡µ\n * islsfirespage() è·åæ¯å¦æ¯ç¬¬ä¸é¡µ\n * islslastpage() è·åæ¯å¦æ¯æåä¸é¡µ\n\npageinfo<student> info =new pageinfo<>(list);\nint total = info.gettotal();\n\n\n1\n2\n\n\n\n# å¤è¡¨æä½\n\n\n# ä¸å¯¹ä¸\n\n<mapper namespace="1v1">\n    \x3c!--\n        resultmap éç½®å­æ®µåå®ä½å¯¹è±¡å±æ§çæ å°å³ç³»\n        idä¸ºå¯ä¸æ è¯\n        typeä¸ºæ å°å¯¹è±¡è·¯å¾\n    --\x3e\n    <resultmap id="onetoone" type="card">\n        \x3c!--\n            idä¸ºä¸»é®æ ç­¾  columnä¸ºè¡¨ä¸­åå   propertyä¸ºå¯¹è±¡å±æ§åç§°\n            resultä¸ºå¶ä»åæ ç­¾\n        --\x3e\n        <id column="cid" property="id"/>\n        <result column="number" property="number" />\n                \x3c!--\n                        association: éç½®è¢«åå«å¯¹è±¡çæ å°å³ç³»   å¯¹è±¡åçå¯¹è±¡\n                        property: è¢«åå«å¯¹è±¡çåéå   å¯¹è±¡åçå¯¹è±¡åéåæ¯ä»ä¹\n                        javatype:è¢«åå«å¯¹è±¡çæ°æ®ç±»å\n                --\x3e\n        <association property="prs" javatype="person">\n            <id column="pid" property="id"></id>\n            <result column="name" property="name"/>\n            <result column="age" property="age"/>\n\n        </association>\n    </resultmap>\n        \x3c!--\n            resultmap ä¸ºå¤è¡¨æä½æ å°\n         --\x3e\n    <select id="selectall" resultmap="onetoone">\n        select c.id cid,number,pid,name,age from card c,person p where c.pid=p.id;\n    </select>\n</mapper>\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n26\n27\n28\n29\n30\n31\n32\n\n * <resultmap> éç½®å­æ®µåå®ä½å¯¹è±¡å±æ§çæ å°å³ç³»\n   * idå±æ§ å¯ä¸æ è¯\n   * typeå±æ§ å®ä½å¯¹è±¡ç±»å\n * <id> éç½®ä¸»é®æ å°å³ç³»æ ç­¾\n * <result> éç½®éä¸»é®æ å°å³ç³»æ ç­¾\n   * columnå±æ§ è¡¨ä¸­å­æ®µåç§°\n   * propertyå±æ§ å®ä½å¯¹è±¡åéåç§°\n * <association> éç½®è¢«åå«å¯¹è±¡çæ å°å³ç³»æ ç­¾\n   * propertyå±æ§ è¢«åå«å¯¹è±¡çåéå\n   * javatypeå±æ§ è¢«åå«å¯¹è±¡çæ°æ®ç±»å\n\n\n# ä¸å¯¹å¤\n\n<mapper>\n    <resultmap id="onetomany" type="classes">\n        <id column="cid" property="id"/>\n        <result column="canem" property="name"/>\n\n        \x3c!--\n            collection: éç½®è¢«åå«çéåå¯¹è±¡æ å°å³ç³»\n            propertyå±æ§  è¢«åå«éåå¯¹è±¡çåéå\n            oftypeå±æ§  è¢«åå«éåå¯¹è±¡åç´ çæ°æ®ç±»å\n            --\x3e\n        <collection property="students" oftype="student">\n            <id column="sid" property="id"/>\n            <result column="sname" property="name"/>\n            <result column="sage" property="age"/>\n        </collection>\n    </resultmap>\n    <select id="selectall" resultmap="onetomany">\n        select c.id cid,c.name cname,s.id sid,s.name sname,s.age sage from classes c,student s where c.id=s.id\n    </select>\n</mapper>\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n\n * <collection> éç½®è¢«åå«çéåå¯¹è±¡æ å°å³ç³»\n   * propertyå±æ§ è¢«åå«éåå¯¹è±¡çåéå\n   * oftypeå±æ§ è¢«åå«éåå¯¹è±¡åç´ çæ°æ®ç±»å\n\n\n# å¤å¯¹å¤\n\n<mapper>\n    <resultmap id="manytomany" type="sstdent">\n        <id column="sid" property="id"/>\n        <result column="sname" property="name"/>\n        <result column="sage" property="age"/>\n        <collection property="coures" oftype="corse">\n            <id column="cid" property="id"/>\n            <result column="cname" property="name"/>\n        </collection>\n    </resultmap>\n    <select id="selectall" resultmap="manytomany">\n        select  sc.sid,s.name sname,s.age sage,sc.cid,c.name cname from stdent s,course c,stu,_cr sc where sc.sid=s.id and sc.cid=c.id\n    </select>\n</mapper>\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n\n\n<collection> éç½®è¢«åå«çéåå¯¹è±¡æ å°å³ç³»\n\n * propertyå±æ§ è¢«åå«éåå¯¹è±¡çåéå\n * oftypeå±æ§ è¢«åå«éåå¯¹è±¡åç´ çæ°æ®ç±»å\n\n\n# æ³¨è§£\n\n * @select("æ¥è¯¢çsqlè¯­å¥") æå®åæ°è¿æ¯#{key}\n * @insert("æ°å¢çsqlè¯­å¥") å¦:@insert("inser into student value (#{id},#{age},#{name})")\n * @update("ä¿®æ¹çsqlè¯­å¥")\n * @delete("å é¤çsqlè¯­å¥")\n\néè¿æ³¨è§£å½¢å¼çæä½ ä¸éè¦åå»ºæ å°éç½®æä»¶ æ å°éç½®åå®¹ åå¨æ ¸å¿éç½®æä»¶ä¸­\n\n<mappers>\n    \t\x3c!-- nameä¸ºæ¥å£æå¨çåè·¯å¾ å¯ä»¥æå®ç±»æèæå®åä¸çææç±» --\x3e\n        <package name="com.xxx.xxx.stdentmapper"/>\n</mappers>\n\n\n1\n2\n3\n4\n\n\n\n# å¤è¡¨æä½\n\n# ä¸å¯¹ä¸\n\n@select("select * fome card")\n    @results({\n            @result(column = "id" ,property = "id"),\n            @result(column = "number" , property = "number"),\n            @result(\n                    property = "p",   // è¢«åå«å¯¹è±¡çåéå\n                    javatype = person.class,  // è¢«åå«å¯¹è±¡çå®ç°æ°æ®ç±»åç±»\n                    column = "pid",  // æ ¹æ®ä¸é¢selectæ¥è¯¢åºæ¥è¡¨ä¸­çåªä¸ªå­æ®µæ¥æ¥è¯¢ç¬¬äºä¸ªè¡¨\n                    /*\n                     one = @one()  ä¸å¯¹ä¸åæ³\n                     selectå±æ§  æå®è°ç¨åªä¸ªæ¥å£çåªä¸ªæ¹æ³\n                     */\n                    one = @one(select = "com.xxx.xxxæ¥å£.selectbyidæ¹æ³")\n            )\n    })\n    list<card> selectall();\n\n//@oneæ³¨è§£è°ç¨çæ¥å£æ¹æ³\n    @select("select * from person where id=#{id}")\n    person selectbyid(integer id);\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n\n * @results å°è£æ å°å³ç³»çç¶æ³¨è§£ result[] vlue() å®ä¹äºresultæ°ç»\n   * @result å°è£æ å°å³ç³»çå­æ³¨è§£\n     * columnå±æ§ æ¥è¯¢åºçè¡¨ä¸­å­æ®µåç§°\n     * propertyå±æ§ å®ä½å¯¹è±¡ä¸­çå±æ§åç§°\n     * javatypeå±æ§ è¢«åå«å¯¹è±¡çæ°æ®ç±»å\n     * one å±æ§ ä¸å¯¹ä¸æ¥è¯¢\n       * @oneä¸å¯¹ä¸æ¥è¯¢æ³¨è§£\n         * selectå±æ§ æåè¦è°ç¨æä¸ªæ¥å£ä¸­çæ¹æ³\n\n# ä¸å¯¹å¤\n\n//ä¸å¯¹å¤\n@select("select * fome classes")\n@results({\n        @result(column = "id" ,property = "id"),\n        @result(column = "number" , property = "number"),\n        @result(\n                property = "students",   // è¢«åå«å¯¹è±¡çåéå\n                javatype = list.class,  // è¢«åå«å¯¹è±¡çå®ç°æ°æ®ç±»åç±»\n                column = "id",  // æ ¹æ®ä¸é¢selectæ¥è¯¢åºæ¥è¡¨ä¸­çåªä¸ªå­æ®µæ¥æ¥è¯¢ç¬¬äºä¸ªè¡¨\n\n        /*                    many = @many()  ä¸å¯¹å¤åæ³\n                selectå±æ§  æå®è°ç¨åªä¸ªæ¥å£çåªä¸ªæ¹æ³*/\n                many= @many(select = "com.xxx.xxxæ¥å£.xxxæ¹æ³")\n        )\n})\nlist<classes> selectall();\n\n//@oneæ³¨è§£è°ç¨çæ¥å£æ¹æ³\n@select("select * from student where cid=#{cid}")\nlist<student> selectbyid(integer cid);\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n\n * manyå±æ§ ä¸å¯¹å¤æ¥è¯¢\n   * @manyä¸å¯¹å¤æ¥è¯¢æ³¨è§£\n     * selectå±æ§ æåè¦è°ç¨æä¸ªæ¥å£ä¸­çæ¹æ³\n\n# å¤å¯¹å¤\n\n//å¤å¯¹å¤\n@select("select distinct s.id,s.name fome studebt s,stu_cr sc where sc.sid = s.id")\n@results({\n        @result(column = "id" ,property = "id"),\n        @result(column = "number" , property = "number"),\n        @result(\n                property = "students",   // è¢«åå«å¯¹è±¡çåéå\n                javatype = list.class,  // è¢«åå«å¯¹è±¡çå®ç°æ°æ®ç±»åç±»\n                column = "id",  // æ ¹æ®ä¸é¢selectæ¥è¯¢åºæ¥è¡¨ä¸­çåªä¸ªå­æ®µæ¥æ¥è¯¢ç¬¬äºä¸ªè¡¨\n\n                /*                  many = @many()  ä¸å¯¹å¤åæ³\n                selectå±æ§  æå®è°ç¨åªä¸ªæ¥å£çåªä¸ªæ¹æ³*/\n                        many= @many(select = "com.xxx.xxxæ¥å£.xxxæ¹æ³")\n        )\n})\nlist<student> selectall();\n\n//@oneæ³¨è§£è°ç¨çæ¥å£æ¹æ³\n@select("select c.id,c.name from stu_cr sc,course c where sc.cid=c.id and sc.sid=#{id}")\nlist<course> selectbyid(integer id);\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n\n * manyå±æ§ ä¸å¯¹å¤æ¥è¯¢\n   * @manyä¸å¯¹å¤æ¥è¯¢æ³¨è§£\n     * selectå±æ§ æåè¦è°ç¨æä¸ªæ¥å£ä¸­çæ¹æ³\n\n\n# sql æå»º\n\n\n\npublic static void main(string[] args) {\n    system.out.println(getselectall());\n    //select *\n    //from student\n}\n\npublic static string getselectall(){\n    return new sql(){\n        {\n            select("*");\n            from("student");\n        }\n    }.tostring();\n\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n\n\n * @selectprovider(type = sqlæé çç±».class , mehod = "è¦æ§è¡ç±»ä¸­æ¹æ³") æ¥è¯¢\n\n * @insertprovider((type = sqlæé çç±».class , mehod = "è¦æ§è¡ç±»ä¸­æ¹æ³") æ°å¢\n   \n   public static string getinsert(student stu){\n           return new sql(){\n               {\n                   insert_into("student");\n                   into_values("#{id},#{age},#{name}");\n               }\n           }.tostring();\n   \n       }\n   \n   \n   1\n   2\n   3\n   4\n   5\n   6\n   7\n   8\n   9\n   \n\n * @updateprovider((type = sqlæé çç±».class , mehod = "è¦æ§è¡ç±»ä¸­æ¹æ³") æ´æ°\n\n * @deleteprovider((type = sqlæé çç±».class , mehod = "è¦æ§è¡ç±»ä¸­æ¹æ³") å é¤',charsets:{cjk:!0},lastUpdated:"2022/03/18, 09:00:59",lastUpdatedTimestamp:1647565259e3},{title:"Jedis",frontmatter:{title:"Jedis",date:"2022-03-18T00:51:47.000Z",permalink:"/pages/40c5ff/",categories:["åç«¯","JavaEE"],tags:[null]},regularPath:"/%E5%90%8E%E7%AB%AF/02.JavaEE/04.Jedis.html",relativePath:"åç«¯/02.JavaEE/04.Jedis.md",key:"v-6a96a0b1",path:"/pages/40c5ff/",headers:[{level:2,title:"è¿æ¥æ± ",slug:"è¿æ¥æ± ",normalizedTitle:"è¿æ¥æ± ",charIndex:268},{level:2,title:"æä¹å",slug:"æä¹å",normalizedTitle:"æä¹å",charIndex:1164},{level:3,title:"RDB",slug:"rdb",normalizedTitle:"rdb",charIndex:1174},{level:3,title:"AOF",slug:"aof",normalizedTitle:"aof",charIndex:1613}],headersStr:"è¿æ¥æ±  æä¹å RDB AOF",content:'# Jedis\n\nJava è¿æ¥ redis æå¡ JedisãSpringData RedisãLettuce\n\n * å¯¼å¥jarå\n\n//è·åè¿æ¥\nJedis jedis =new Jedis("192.168.130.128",6379);\njedis.auth("123456");\n\n//æ§è¡\njedis.set("name2","123");\nSystem.out.println(jedis.get("name"));\n\n//å³é­è¿æ¥\njedis.close();\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n\n\n\n# è¿æ¥æ± \n\nå¯¼å¥jedis.jar commons-pool.jar\n\nprivate static int MaxTotal, maxIdel, port;\nprivate static String host;\nprivate static JedisPoolConfig jpc;\nprivate static JedisPool jp;\n\nstatic {\n    ResourceBundle bundle = ResourceBundle.getBundle("ç¬è®°/redis/src/redis");\n    MaxTotal = Integer.parseInt(bundle.getString("redis.maxTotal"));\n    maxIdel = Integer.parseInt(bundle.getString("redis.maxIdel"));\n    host = bundle.getString("redis.host");\n    port = Integer.parseInt(bundle.getString("redis.port"));\n    jpc = new JedisPoolConfig();\n    jpc.setMaxTotal(MaxTotal);\n    jpc.setMaxIdle(maxIdel);\n    jp = new JedisPool(jpc, host, port, 2000, "123456");\n\n\n\n}\n\npublic static Jedis getJedis() {\n    return jp.getResource();\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n\n\nåå»º redis.properties\n\nredis.maxTotal=50\nredis.maxIdel=10\nredis.host=192.168.130.128\nredis.port=6379\n\n\n1\n2\n3\n4\n\n\n\n# æä¹å\n\n\n\n\n# RDB\n\n * save ä¿å­\n\ndbfilename "dump-6379.rdb"  #rdbå¿«ç§ä¿å­çæä»¶å  ä¸è®¾ç½®ä¹æé»è®¤åå½saveæ§è¡æ¶\nrdbcopression yes  #å­å¨å°æ¬å°æ¯å¦åç¼© é»è®¤ä¸ºyes noåä¸åç¼©\nrdbchecksum yes #è®¾ç½®è¯»åæä»¶è¿ç¨æ¯å¦è¿è¡RDBæ ¼å¼æ ¡éª é»è®¤ä¸ºyes  \n\n\n1\n2\n3\n\n\nsaveæä»¤ä¼é»å¡å½åæå¡å¨ç´å°RDBå®æ çº¿ä¸ä¸å»ºè®®ä½¿ç¨\n\n * bgsave åå°ä¿å­\n\n\n\n * save second changes è®¾ç½®èªå¨æä¹å æ»¡è¶³éå®æ¶é´åkeyçååæ°æ®åè¿è¡save\n\n#å¨rediséç½®æä»¶ä¸­è®¾ç½®\nsave second changes  #è®¾ç½®èªå¨æä¹å  å¦:save 10 2  10ç§ä¸­2ä¸ªkeyåçåå èªå¨ä¿å­\n\n\n1\n2\n\n\n\n\n\n\n * debug reload æå¡å¨è¿è¡è¿ç¨ä¸­éå¯ ä¹ä¼æ§è¡ä¸æ¬¡RDB\n * shutdown save å³é­æå¡å¨å¹¶save\n\n\n# AOF\n\néç½®æä»¶\n\nappendonly yes #å¼å¯AOFæä¹å  é»è®¤ä¸ºnoä¸å¼å¯\nappendfilename appendonly-6379.aof # ä¿å­æä»¶å æé»è®¤å\nappendfsync always|everysec|no  #AOFåæ°æ®ç­ç¥ é»è®¤ä¸ºeverysec\n#always æ¯æ¬¡åå¥æä½åæ­¥å°AOFä¸­\n#everysec æ¯ç§å°ç¼å²åºçåæ­¥å°AOF\n#no ç³»ç»æ§å¶ æ´ä¸ªè¿ç¨ä¸å¯æ§\n\n\n1\n2\n3\n4\n5\n6\n\n\nRDBåAOFé½æ¯å½±åäºæ°æ®åºçæ°æ®æä½è®°å½\n\n * bgrewriteaof åå°éåaof å°aofæä»¶è¿è¡åç¼©ç®ååå¹¶\n\n\n\n',normalizedContent:'# jedis\n\njava è¿æ¥ redis æå¡ jedisãspringdata redisãlettuce\n\n * å¯¼å¥jarå\n\n//è·åè¿æ¥\njedis jedis =new jedis("192.168.130.128",6379);\njedis.auth("123456");\n\n//æ§è¡\njedis.set("name2","123");\nsystem.out.println(jedis.get("name"));\n\n//å³é­è¿æ¥\njedis.close();\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n\n\n\n# è¿æ¥æ± \n\nå¯¼å¥jedis.jar commons-pool.jar\n\nprivate static int maxtotal, maxidel, port;\nprivate static string host;\nprivate static jedispoolconfig jpc;\nprivate static jedispool jp;\n\nstatic {\n    resourcebundle bundle = resourcebundle.getbundle("ç¬è®°/redis/src/redis");\n    maxtotal = integer.parseint(bundle.getstring("redis.maxtotal"));\n    maxidel = integer.parseint(bundle.getstring("redis.maxidel"));\n    host = bundle.getstring("redis.host");\n    port = integer.parseint(bundle.getstring("redis.port"));\n    jpc = new jedispoolconfig();\n    jpc.setmaxtotal(maxtotal);\n    jpc.setmaxidle(maxidel);\n    jp = new jedispool(jpc, host, port, 2000, "123456");\n\n\n\n}\n\npublic static jedis getjedis() {\n    return jp.getresource();\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n\n\nåå»º redis.properties\n\nredis.maxtotal=50\nredis.maxidel=10\nredis.host=192.168.130.128\nredis.port=6379\n\n\n1\n2\n3\n4\n\n\n\n# æä¹å\n\n\n\n\n# rdb\n\n * save ä¿å­\n\ndbfilename "dump-6379.rdb"  #rdbå¿«ç§ä¿å­çæä»¶å  ä¸è®¾ç½®ä¹æé»è®¤åå½saveæ§è¡æ¶\nrdbcopression yes  #å­å¨å°æ¬å°æ¯å¦åç¼© é»è®¤ä¸ºyes noåä¸åç¼©\nrdbchecksum yes #è®¾ç½®è¯»åæä»¶è¿ç¨æ¯å¦è¿è¡rdbæ ¼å¼æ ¡éª é»è®¤ä¸ºyes  \n\n\n1\n2\n3\n\n\nsaveæä»¤ä¼é»å¡å½åæå¡å¨ç´å°rdbå®æ çº¿ä¸ä¸å»ºè®®ä½¿ç¨\n\n * bgsave åå°ä¿å­\n\n\n\n * save second changes è®¾ç½®èªå¨æä¹å æ»¡è¶³éå®æ¶é´åkeyçååæ°æ®åè¿è¡save\n\n#å¨rediséç½®æä»¶ä¸­è®¾ç½®\nsave second changes  #è®¾ç½®èªå¨æä¹å  å¦:save 10 2  10ç§ä¸­2ä¸ªkeyåçåå èªå¨ä¿å­\n\n\n1\n2\n\n\n\n\n\n\n * debug reload æå¡å¨è¿è¡è¿ç¨ä¸­éå¯ ä¹ä¼æ§è¡ä¸æ¬¡rdb\n * shutdown save å³é­æå¡å¨å¹¶save\n\n\n# aof\n\néç½®æä»¶\n\nappendonly yes #å¼å¯aofæä¹å  é»è®¤ä¸ºnoä¸å¼å¯\nappendfilename appendonly-6379.aof # ä¿å­æä»¶å æé»è®¤å\nappendfsync always|everysec|no  #aofåæ°æ®ç­ç¥ é»è®¤ä¸ºeverysec\n#always æ¯æ¬¡åå¥æä½åæ­¥å°aofä¸­\n#everysec æ¯ç§å°ç¼å²åºçåæ­¥å°aof\n#no ç³»ç»æ§å¶ æ´ä¸ªè¿ç¨ä¸å¯æ§\n\n\n1\n2\n3\n4\n5\n6\n\n\nrdbåaofé½æ¯å½±åäºæ°æ®åºçæ°æ®æä½è®°å½\n\n * bgrewriteaof åå°éåaof å°aofæä»¶è¿è¡åç¼©ç®ååå¹¶\n\n\n\n',charsets:{cjk:!0},lastUpdated:"2022/03/18, 07:01:11",lastUpdatedTimestamp:1647558071e3},{title:"JSP",frontmatter:{title:"JSP",date:"2022-03-18T00:48:40.000Z",permalink:"/pages/427528/",categories:["åç«¯","Java"],tags:[null]},regularPath:"/%E5%90%8E%E7%AB%AF/01.JavaSE/75.JSP.html",relativePath:"åç«¯/01.JavaSE/75.JSP.md",key:"v-33e328d1",path:"/pages/427528/",headers:[{level:2,title:"è¯­æ³",slug:"è¯­æ³",normalizedTitle:"è¯­æ³",charIndex:10},{level:2,title:"æä»¤",slug:"æä»¤",normalizedTitle:"æä»¤",charIndex:180},{level:2,title:"ç»è",slug:"ç»è",normalizedTitle:"ç»è",charIndex:340},{level:2,title:"MVC æ¨¡å",slug:"mvc-æ¨¡å",normalizedTitle:"mvc æ¨¡å",charIndex:523},{level:2,title:"EL è¡¨è¾¾å¼",slug:"el-è¡¨è¾¾å¼",normalizedTitle:"el è¡¨è¾¾å¼",charIndex:536},{level:3,title:"è·åæ°æ®",slug:"è·åæ°æ®",normalizedTitle:"è·åæ°æ®",charIndex:551},{level:3,title:"æ³¨æäºé¡¹",slug:"æ³¨æäºé¡¹",normalizedTitle:"æ³¨æäºé¡¹",charIndex:920},{level:3,title:"è¿ç®ç¬¦",slug:"è¿ç®ç¬¦",normalizedTitle:"è¿ç®ç¬¦",charIndex:983},{level:3,title:"EL è¡¨è¾¾å¼éå¼å¯¹è±¡",slug:"el-è¡¨è¾¾å¼éå¼å¯¹è±¡",normalizedTitle:"el è¡¨è¾¾å¼éå¼å¯¹è±¡",charIndex:997},{level:2,title:"JSTL",slug:"jstl",normalizedTitle:"jstl",charIndex:1014},{level:3,title:"æ ¸å¿æ ç­¾åº",slug:"æ ¸å¿æ ç­¾åº",normalizedTitle:"æ ¸å¿æ ç­¾åº",charIndex:1070},{level:2,title:"Filter",slug:"filter",normalizedTitle:"filter",charIndex:1231},{level:3,title:"FilterChain",slug:"filterchain",normalizedTitle:"filterchain",charIndex:1290},{level:3,title:"çå½å¨æ",slug:"çå½å¨æ",normalizedTitle:"çå½å¨æ",charIndex:464},{level:3,title:"FilterConfig",slug:"filterconfig",normalizedTitle:"filterconfig",charIndex:1915},{level:3,title:"è¿æ»¤å¨äºç§æ¦æªè¡ä¸º",slug:"è¿æ»¤å¨äºç§æ¦æªè¡ä¸º",normalizedTitle:"è¿æ»¤å¨äºç§æ¦æªè¡ä¸º",charIndex:2527}],headersStr:"è¯­æ³ æä»¤ ç»è MVC æ¨¡å EL è¡¨è¾¾å¼ è·åæ°æ® æ³¨æäºé¡¹ è¿ç®ç¬¦ EL è¡¨è¾¾å¼éå¼å¯¹è±¡ JSTL æ ¸å¿æ ç­¾åº Filter FilterChain çå½å¨æ FilterConfig è¿æ»¤å¨äºç§æ¦æªè¡ä¸º",content:'# JSP\n\n\n# è¯­æ³\n\n * æ³¨é <%-- åå®¹ --%>\n * javaä»£ç å <% javaä»£ç  %>\n * jspè¡¨è¾¾å¼ <%= è¡¨è¾¾å¼ %> ç¸å¯¹åºout.println()\n * jspå£°æ <%! å£°æåéæèæ¹æ³ %> <%! String str ="abc"; %> å¦æå ! åå£°ææ¯æååé ä¸å åæ¯å±é¨åé æ¹æ³å¿é¡»å !\n\n\n# æä»¤\n\n * pageæä»¤ éç½® <%@ page å±æ§å=å±æ§å¼ å±æ§å=å±æ§å¼ %>\n   * \n * includeæä»¤ åå«å¶ä»é¡µé¢ <%@ include file=åå«çé¡µé¢ %>\n * taglibæä»¤ å¯ä»¥å¼å¥å¤é¨æ ç­¾åº <%@ taglib uri=æ ç­¾åºçå°å prefix=åç¼åç§° %>\n\n\n# ç»è\n\n * ä¹å¤§éå¼å¯¹è±¡ ä¸éè¦åå»º,jspå·²ç»å¸®æä»¬åå»ºäº\n   \n   * \n\n * PageContext å¯¹è±¡ æ¯JSPç¬æ,å¨Servletä¸­æ²¡æ æ¯åå¤§åå¯¹è±¡ä¸­çé¡µé¢åå¯¹è±¡,è¿å¯ä»¥æä½å¶ä»ä¸ä¸ªåå¯¹è±¡ä¸­çå±æ§ è¿å¯ä»¥è·åå¶å«ä¸ªéå¼å¯¹è±¡ çå½å¨æéçJSP æ¯ä¸ä¸ªJSPé½æä¸ä¸ªPageContext å¯¹è±¡\n\n * åå¤§åå¯¹è±¡\n   \n   * \n\n\n# MVC æ¨¡å\n\n\n\n\n# EL è¡¨è¾¾å¼\n\nå¨JSPé¡µé¢ä¸­è·åæ°æ® è®©æä»¬çJSPè±ç¦»javaä»£ç ååJSPè¡¨è¾¾å¼\n\n${è¡¨è¾¾å¼åå®¹} ç­æäº <% out.println(request.getAttribute("user"))%>å<%=request.getAttribute("user") %>\n\nåªè¦æ¯åå¤§åçåå®¹é½å¯ä»¥è·ååºæ¥\n\nåç¨setAttribute() å±äº«æ°æ®\n\n\n# è·åæ°æ®\n\n * åºæ¬æ°æ®\n   * ${name}\n * èªå®ä¹å¯¹è±¡æ°æ®\n   * ${å¯¹è±¡å}\n   * ${å¯¹è±¡å.å±æ§å} è°ç¨ç¸å¯¹åºçgetæ¹æ³\n * æ°ç»ç±»åæ°æ®\n   * ${arr}\n   * ${arr[0]}\n * Listéåæ°æ®\n   * ${list}\n   * ${list[0]}\n * Mapéåæ°æ®\n   * ${map}\n   * ${map.key}\n\n\n# æ³¨æäºé¡¹\n\n * æ²¡æç©ºæéå¼å¸¸\n * æ²¡æç´¢å¼è¶çå¼å¸¸\n * æ²¡æå­ç¬¦ä¸²çæ¼æ¥\n * è·ååå¤§åå¯¹è±¡æ¯ä»å°å°å¤§æ¥æ¾\n\n\n# è¿ç®ç¬¦\n\n\n\n\n\n\n\n\n# EL è¡¨è¾¾å¼éå¼å¯¹è±¡\n\n\n\n\n# JSTL\n\nJSP æ åæ ç­¾åº å¯ä»¥å©ç¨è¿äºæ ç­¾åä»£JSPé¡µé¢ä¸çJAVA ä»£ç  ä»èæé«çå¯è¯»æ§\n\n\n\n\n# æ ¸å¿æ ç­¾åº\n\n\n\n 1. å¯¼å¥jstl.jaråå¹¶æ·»å å°é¡¹ç®ä¸­\n\n 2. å¨jspä¸­æ·»å \n    \n    <%@ taglib uri="http://java.sun.com/jsp/jst1/core" prefix="èªå®ä¹æ ç­¾"%>\n    \n    \n    1\n    \n\n 3. ä½¿ç¨jstlæ ç­¾\n\n\n# Filter\n\nè¿æ»¤å¨, Filteræ¯ç¨æ¥è¿æ»¤è¯·æ±èµæºåèµæºååºçå¯¹è±¡ , å¹¶ä¸æéæ±æ¥å¤çä¸åçè¯·æ±\n\n\n\n\n# FilterChain\n\n\n\n * ç»§æ¿javax.servlet.Filter\n\n * éådoFilter()æ¹æ³\n\n * å¤çé»è¾\n\n * ä½¿ç¨FilterChainçdodoFilteræ¾è¡\n\n * ä½¿ç¨æ³¨è§£ @WebFilter("æ¦æªçè·¯å¾") æ¦æªéè¦æ¦æªè¯·æ±çè·¯å¾\n   \n   * ä½¿ç¨éç½®æä»¶æ¹å¼ å¨web.xml ä¸ä¹åservletç±»ä¼¼\n   \n   * <filter>\n         <filter-name>demo</filter-name>\n         <filter-class>com.example.demo.demo</filter-class>\n     </filter>\n     <filter-mapping>\n         <filter-name>demo</filter-name>\n         <url-pattern>/*</url-pattern>\n     </filter-mapping>\n     \n     \n     1\n     2\n     3\n     4\n     5\n     6\n     7\n     8\n     \n\nå¤ä¸ªè¿æ»¤å¨,åå³äºè¿æ»¤å¨æ å°çé¡ºåº\n\n\n# çå½å¨æ\n\n * åå»º å½åºç¨ä»·å¼å®ä¾åå¯¹è±¡å¹¶æ§è¡initæ¹æ³\n * è¿ç¨ æ§è¡doFilteræ¹æ³\n * éæ¯ å½åºç¨å¸è½½æèæå¡å¨åæ­¢ æ§è¡ destroy æ¹æ³\n\n\n# FilterConfig\n\nFilterConfigæ¯ä¸ä¸ªæ¥å£ ä»£è¡¨è¿æ»¤å¨çéç½®å¯¹è±¡ å¯ä»¥å è½½ä¸äºåå§ååæ° ä¸éè¦åå»º ç±æå¡å¨éè¿initæ¹æ³ä¼ éæä¾\n\n * getFilterName() è·åè¿æ»¤å¨åç§°\n\n * getInitParameter(String key) æ ¹æ®keyè·åvalue\n   \n   * <filter>\n         <filter-name>demo</filter-name>\n         <filter-class>com.example.demo.demo</filter-class>\n         \x3c!-- éè¦æ·»å init-paramæ ç­¾--\x3e\n         <init-param>\n             <param-name>key</param-name>\n             <param-value>value</param-value>\n         </init-param>\n     </filter>\n     \n     \n     1\n     2\n     3\n     4\n     5\n     6\n     7\n     8\n     9\n     \n\n * getInitParameterNames() è·åææåæ°çkey\n\n * getrServletContext() è·ååºç¨ä¸ä¸æå¯¹è±¡\n\n\n# è¿æ»¤å¨äºç§æ¦æªè¡ä¸º\n\nFilterè¿æ»¤å¨é»è®¤æ¦æªçæ¯è¯·æ±,å¦éè¦æ¦æªè¯·æ±è½¬å è¯·æ±åå« éè¦å¨éç½®æä»¶éç½®\n\n\n\n\x3c!-- å¨å±éè¯¯é¡µé¢ --\x3e\n<error-page>\n    \t\x3c!-- éè¯¯ç±»å--\x3e\n        <exception-type>java.lang.Exception</exception-type>\n    \t\x3c!-- åçéè¯¯åè·³è½¬é¡µé¢ èæè·¯å¾ --\x3e\n        <location>/err.jsp</location>\n    </error-page>\n    <error-page>\n        \x3c!--  éè¯¯ä»£ç  --\x3e\n        <error-code>404</error-code>\n        <location>/err.jsp</location>\n    </error-page>\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n',normalizedContent:'# jsp\n\n\n# è¯­æ³\n\n * æ³¨é <%-- åå®¹ --%>\n * javaä»£ç å <% javaä»£ç  %>\n * jspè¡¨è¾¾å¼ <%= è¡¨è¾¾å¼ %> ç¸å¯¹åºout.println()\n * jspå£°æ <%! å£°æåéæèæ¹æ³ %> <%! string str ="abc"; %> å¦æå ! åå£°ææ¯æååé ä¸å åæ¯å±é¨åé æ¹æ³å¿é¡»å !\n\n\n# æä»¤\n\n * pageæä»¤ éç½® <%@ page å±æ§å=å±æ§å¼ å±æ§å=å±æ§å¼ %>\n   * \n * includeæä»¤ åå«å¶ä»é¡µé¢ <%@ include file=åå«çé¡µé¢ %>\n * taglibæä»¤ å¯ä»¥å¼å¥å¤é¨æ ç­¾åº <%@ taglib uri=æ ç­¾åºçå°å prefix=åç¼åç§° %>\n\n\n# ç»è\n\n * ä¹å¤§éå¼å¯¹è±¡ ä¸éè¦åå»º,jspå·²ç»å¸®æä»¬åå»ºäº\n   \n   * \n\n * pagecontext å¯¹è±¡ æ¯jspç¬æ,å¨servletä¸­æ²¡æ æ¯åå¤§åå¯¹è±¡ä¸­çé¡µé¢åå¯¹è±¡,è¿å¯ä»¥æä½å¶ä»ä¸ä¸ªåå¯¹è±¡ä¸­çå±æ§ è¿å¯ä»¥è·åå¶å«ä¸ªéå¼å¯¹è±¡ çå½å¨æéçjsp æ¯ä¸ä¸ªjspé½æä¸ä¸ªpagecontext å¯¹è±¡\n\n * åå¤§åå¯¹è±¡\n   \n   * \n\n\n# mvc æ¨¡å\n\n\n\n\n# el è¡¨è¾¾å¼\n\nå¨jspé¡µé¢ä¸­è·åæ°æ® è®©æä»¬çjspè±ç¦»javaä»£ç ååjspè¡¨è¾¾å¼\n\n${è¡¨è¾¾å¼åå®¹} ç­æäº <% out.println(request.getattribute("user"))%>å<%=request.getattribute("user") %>\n\nåªè¦æ¯åå¤§åçåå®¹é½å¯ä»¥è·ååºæ¥\n\nåç¨setattribute() å±äº«æ°æ®\n\n\n# è·åæ°æ®\n\n * åºæ¬æ°æ®\n   * ${name}\n * èªå®ä¹å¯¹è±¡æ°æ®\n   * ${å¯¹è±¡å}\n   * ${å¯¹è±¡å.å±æ§å} è°ç¨ç¸å¯¹åºçgetæ¹æ³\n * æ°ç»ç±»åæ°æ®\n   * ${arr}\n   * ${arr[0]}\n * listéåæ°æ®\n   * ${list}\n   * ${list[0]}\n * mapéåæ°æ®\n   * ${map}\n   * ${map.key}\n\n\n# æ³¨æäºé¡¹\n\n * æ²¡æç©ºæéå¼å¸¸\n * æ²¡æç´¢å¼è¶çå¼å¸¸\n * æ²¡æå­ç¬¦ä¸²çæ¼æ¥\n * è·ååå¤§åå¯¹è±¡æ¯ä»å°å°å¤§æ¥æ¾\n\n\n# è¿ç®ç¬¦\n\n\n\n\n\n\n\n\n# el è¡¨è¾¾å¼éå¼å¯¹è±¡\n\n\n\n\n# jstl\n\njsp æ åæ ç­¾åº å¯ä»¥å©ç¨è¿äºæ ç­¾åä»£jspé¡µé¢ä¸çjava ä»£ç  ä»èæé«çå¯è¯»æ§\n\n\n\n\n# æ ¸å¿æ ç­¾åº\n\n\n\n 1. å¯¼å¥jstl.jaråå¹¶æ·»å å°é¡¹ç®ä¸­\n\n 2. å¨jspä¸­æ·»å \n    \n    <%@ taglib uri="http://java.sun.com/jsp/jst1/core" prefix="èªå®ä¹æ ç­¾"%>\n    \n    \n    1\n    \n\n 3. ä½¿ç¨jstlæ ç­¾\n\n\n# filter\n\nè¿æ»¤å¨, filteræ¯ç¨æ¥è¿æ»¤è¯·æ±èµæºåèµæºååºçå¯¹è±¡ , å¹¶ä¸æéæ±æ¥å¤çä¸åçè¯·æ±\n\n\n\n\n# filterchain\n\n\n\n * ç»§æ¿javax.servlet.filter\n\n * éådofilter()æ¹æ³\n\n * å¤çé»è¾\n\n * ä½¿ç¨filterchainçdodofilteræ¾è¡\n\n * ä½¿ç¨æ³¨è§£ @webfilter("æ¦æªçè·¯å¾") æ¦æªéè¦æ¦æªè¯·æ±çè·¯å¾\n   \n   * ä½¿ç¨éç½®æä»¶æ¹å¼ å¨web.xml ä¸ä¹åservletç±»ä¼¼\n   \n   * <filter>\n         <filter-name>demo</filter-name>\n         <filter-class>com.example.demo.demo</filter-class>\n     </filter>\n     <filter-mapping>\n         <filter-name>demo</filter-name>\n         <url-pattern>/*</url-pattern>\n     </filter-mapping>\n     \n     \n     1\n     2\n     3\n     4\n     5\n     6\n     7\n     8\n     \n\nå¤ä¸ªè¿æ»¤å¨,åå³äºè¿æ»¤å¨æ å°çé¡ºåº\n\n\n# çå½å¨æ\n\n * åå»º å½åºç¨ä»·å¼å®ä¾åå¯¹è±¡å¹¶æ§è¡initæ¹æ³\n * è¿ç¨ æ§è¡dofilteræ¹æ³\n * éæ¯ å½åºç¨å¸è½½æèæå¡å¨åæ­¢ æ§è¡ destroy æ¹æ³\n\n\n# filterconfig\n\nfilterconfigæ¯ä¸ä¸ªæ¥å£ ä»£è¡¨è¿æ»¤å¨çéç½®å¯¹è±¡ å¯ä»¥å è½½ä¸äºåå§ååæ° ä¸éè¦åå»º ç±æå¡å¨éè¿initæ¹æ³ä¼ éæä¾\n\n * getfiltername() è·åè¿æ»¤å¨åç§°\n\n * getinitparameter(string key) æ ¹æ®keyè·åvalue\n   \n   * <filter>\n         <filter-name>demo</filter-name>\n         <filter-class>com.example.demo.demo</filter-class>\n         \x3c!-- éè¦æ·»å init-paramæ ç­¾--\x3e\n         <init-param>\n             <param-name>key</param-name>\n             <param-value>value</param-value>\n         </init-param>\n     </filter>\n     \n     \n     1\n     2\n     3\n     4\n     5\n     6\n     7\n     8\n     9\n     \n\n * getinitparameternames() è·åææåæ°çkey\n\n * getrservletcontext() è·ååºç¨ä¸ä¸æå¯¹è±¡\n\n\n# è¿æ»¤å¨äºç§æ¦æªè¡ä¸º\n\nfilterè¿æ»¤å¨é»è®¤æ¦æªçæ¯è¯·æ±,å¦éè¦æ¦æªè¯·æ±è½¬å è¯·æ±åå« éè¦å¨éç½®æä»¶éç½®\n\n\n\n\x3c!-- å¨å±éè¯¯é¡µé¢ --\x3e\n<error-page>\n    \t\x3c!-- éè¯¯ç±»å--\x3e\n        <exception-type>java.lang.exception</exception-type>\n    \t\x3c!-- åçéè¯¯åè·³è½¬é¡µé¢ èæè·¯å¾ --\x3e\n        <location>/err.jsp</location>\n    </error-page>\n    <error-page>\n        \x3c!--  éè¯¯ä»£ç  --\x3e\n        <error-code>404</error-code>\n        <location>/err.jsp</location>\n    </error-page>\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n',charsets:{cjk:!0},lastUpdated:"2022/03/18, 09:00:59",lastUpdatedTimestamp:1647565259e3},{title:"Listener",frontmatter:{title:"Listener",date:"2022-03-18T00:48:40.000Z",permalink:"/pages/70e34e/",categories:["åç«¯","Java"],tags:[null]},regularPath:"/%E5%90%8E%E7%AB%AF/01.JavaSE/76.Listener.html",relativePath:"åç«¯/01.JavaSE/76.Listener.md",key:"v-257128de",path:"/pages/70e34e/",headers:[{level:2,title:"è§å¯èæ¨¡å¼",slug:"è§å¯èæ¨¡å¼",normalizedTitle:"è§å¯èæ¨¡å¼",charIndex:71},{level:2,title:"çå¬å¯¹è±¡",slug:"çå¬å¯¹è±¡",normalizedTitle:"çå¬å¯¹è±¡",charIndex:143},{level:2,title:"çå¬åå¯¹è±¡å±æ§",slug:"çå¬åå¯¹è±¡å±æ§",normalizedTitle:"çå¬åå¯¹è±¡å±æ§",charIndex:642},{level:2,title:"çå¬ä¼è¯ç¸å³çæç¥åçå¬å¨",slug:"çå¬ä¼è¯ç¸å³çæç¥åçå¬å¨",normalizedTitle:"çå¬ä¼è¯ç¸å³çæç¥åçå¬å¨",charIndex:1431},{level:2,title:"éç½®çå¬å¨",slug:"éç½®çå¬å¨",normalizedTitle:"éç½®çå¬å¨",charIndex:1800}],headersStr:"è§å¯èæ¨¡å¼ çå¬å¯¹è±¡ çå¬åå¯¹è±¡å±æ§ çå¬ä¼è¯ç¸å³çæç¥åçå¬å¨ éç½®çå¬å¨",content:'# Listener\n\nçå¬å¨ ææçå¬å¨é½æ¯åºäºè§å¯èè®¾è®¡æ¨¡å¼ç\n\nå¯ä»¥å¯¹ å¯¹è±¡çåå»ºéæ¯ åå¯¹è±¡ä¸­å±æ§åå ä¼è¯ç¸å³åå®¹è¿è¡çå¬\n\n\n# è§å¯èæ¨¡å¼\n\n * äºä»¶æº: è§¦åäºä»¶çå¯¹è±¡\n * äºä»¶: è§¦åçå¨ä½,å°è£äºäºä»¶æº\n * çå¬å¨: å½äºä»¶æºè§¦åäºä»¶å,å¯ä»¥å®æåè½\n\n\n# çå¬å¯¹è±¡\n\n * ServletContextListener ç¨äºçå¬ServletContextå¯¹è±¡çåå»ºåéæ¯\n   * contextInitialized(ServletContextEvent sce) å¯¹è±¡åå»ºæ¶æ§è¡è¯¥æ¹æ³\n   * contextDestroyed(ServletContextEvent sce) å¯¹è±¡éæ¯æ¶æ§è¡è¯¥æ¹æ³\n * HttpSessionListener çå¬HttpSessionå¯¹è±¡çåå»ºåéæ¯\n   * sessionCreated(HttpsessionEvent se) å¯¹è±¡åå»ºæ¶æ§è¡è¯¥æ¹æ³\n   * sessionDestroyed(HttpsessionEvent se) å¯¹è±¡éæ¯æ¶æ§è¡è¯¥æ¹æ³\n * ServletRequestListener çå¬ServletRequestçåå»ºåéæ¯\n   * requestInitialized(ServletRequestEvent sre) å¯¹è±¡åå»ºæ¶æ§è¡è¯¥æ¹æ³\n   * requestDestroyed(ServletRequestEvent sre) å¯¹è±¡éæ¯æ¶æ§è¡è¯¥æ¹æ³\n\n\n# çå¬åå¯¹è±¡å±æ§\n\n * ServletContextAttributeListener çå¬ServletContextåºç¨åä¸­çå±æ§åå\n   * attributeAdded(ServletContextAttributeEvent scae) åä¸­æ·»å å±æ§æ§è¡è¯¥æ¹æ³\n   * attributeRemoved(ServletContextAttributeEvent scae) åä¸­ç§»é¤å±æ§æ§è¡è¯¥æ¹æ³\n   * attributeReplaced(ServletContextAttributeEvent scae) åä¸­æ¿æ¢å±æ§æ§è¡è¯¥æ¹æ³\n * HttpSessionAttributeListener çå¬HttpSession ä¼è¯åä¸­çå±æ§åå\n   * attributeAdded(HttpSessionBindingEvent se) åä¸­æ·»å å±æ§æ§è¡è¯¥æ¹æ³\n   * attributeRemoved(HttpSessionBindingEvent se) åä¸­ç§»é¤å±æ§æ§è¡è¯¥æ¹æ³\n   * attributeReplaced(HttpSessionBindingEvent se) åä¸­æ¿æ¢å±æ§æ§è¡è¯¥æ¹æ³\n * ServletRequestAttributeListener çå¬ServletRequest è¯·æ±åä¸­çå±æ§åå\n   * attributeAdded(ServletRequestAttributeEvent srae) åä¸­æ·»å å±æ§æ§è¡è¯¥æ¹æ³\n   * attributeRemoved(ServletRequestAttributeEvent srae) åä¸­ç§»é¤å±æ§æ§è¡è¯¥æ¹æ³\n   * attributeReplaced(ServletRequestAttributeEvent srae) åä¸­æ¿æ¢å±æ§æ§è¡è¯¥æ¹æ³\n\n\n# çå¬ä¼è¯ç¸å³çæç¥åçå¬å¨\n\n * HttpSessionBindListener æç¥å¯¹è±¡åä¼è¯åç»å®ççå¬å¨\n   \n   * valueBound(HttpSessionBindEvent event) æ°æ®æ·»å å°ä¼è¯åä¸­(ç»å®)æ§è¡æ¹æ³\n   * valueUnbound(HttpSessionBindEvent event) æ°æ®ç§»é¤å°ä¼è¯åä¸­(è§£ç»)æ§è¡æ¹æ³\n\n * HttpSessionActivationListener æç¥ä¼è¯åä¸­å¯¹è±¡éååæ´»åççå¬å¨\n   \n   * seesionWillPassivate(HttpSessionEvent se) ä¼è¯åä¸­æ°æ®éåæ¶æ§è¡è¯¥æ¹æ³\n   * seesionDidActivate(HttpSessionEvent se) ä¼è¯åä¸­æ°æ®æ´»åæ¶æ§è¡è¯¥æ¹æ³\n\n\n# éç½®çå¬å¨\n\n * æ³¨è§£æ è¯ @WebListener\n   \n   * æ¦æªå¤ä¸ªæå®é¡µé¢@WebListener (value = {"/xxx","/xxx"})\n\n * web.xmléç½®\n   \n   * <listener>\n         <listener-class>com.example.demo</listener-class>\n     </listener>\n     \n     \n     1\n     2\n     3\n     ',normalizedContent:'# listener\n\nçå¬å¨ ææçå¬å¨é½æ¯åºäºè§å¯èè®¾è®¡æ¨¡å¼ç\n\nå¯ä»¥å¯¹ å¯¹è±¡çåå»ºéæ¯ åå¯¹è±¡ä¸­å±æ§åå ä¼è¯ç¸å³åå®¹è¿è¡çå¬\n\n\n# è§å¯èæ¨¡å¼\n\n * äºä»¶æº: è§¦åäºä»¶çå¯¹è±¡\n * äºä»¶: è§¦åçå¨ä½,å°è£äºäºä»¶æº\n * çå¬å¨: å½äºä»¶æºè§¦åäºä»¶å,å¯ä»¥å®æåè½\n\n\n# çå¬å¯¹è±¡\n\n * servletcontextlistener ç¨äºçå¬servletcontextå¯¹è±¡çåå»ºåéæ¯\n   * contextinitialized(servletcontextevent sce) å¯¹è±¡åå»ºæ¶æ§è¡è¯¥æ¹æ³\n   * contextdestroyed(servletcontextevent sce) å¯¹è±¡éæ¯æ¶æ§è¡è¯¥æ¹æ³\n * httpsessionlistener çå¬httpsessionå¯¹è±¡çåå»ºåéæ¯\n   * sessioncreated(httpsessionevent se) å¯¹è±¡åå»ºæ¶æ§è¡è¯¥æ¹æ³\n   * sessiondestroyed(httpsessionevent se) å¯¹è±¡éæ¯æ¶æ§è¡è¯¥æ¹æ³\n * servletrequestlistener çå¬servletrequestçåå»ºåéæ¯\n   * requestinitialized(servletrequestevent sre) å¯¹è±¡åå»ºæ¶æ§è¡è¯¥æ¹æ³\n   * requestdestroyed(servletrequestevent sre) å¯¹è±¡éæ¯æ¶æ§è¡è¯¥æ¹æ³\n\n\n# çå¬åå¯¹è±¡å±æ§\n\n * servletcontextattributelistener çå¬servletcontextåºç¨åä¸­çå±æ§åå\n   * attributeadded(servletcontextattributeevent scae) åä¸­æ·»å å±æ§æ§è¡è¯¥æ¹æ³\n   * attributeremoved(servletcontextattributeevent scae) åä¸­ç§»é¤å±æ§æ§è¡è¯¥æ¹æ³\n   * attributereplaced(servletcontextattributeevent scae) åä¸­æ¿æ¢å±æ§æ§è¡è¯¥æ¹æ³\n * httpsessionattributelistener çå¬httpsession ä¼è¯åä¸­çå±æ§åå\n   * attributeadded(httpsessionbindingevent se) åä¸­æ·»å å±æ§æ§è¡è¯¥æ¹æ³\n   * attributeremoved(httpsessionbindingevent se) åä¸­ç§»é¤å±æ§æ§è¡è¯¥æ¹æ³\n   * attributereplaced(httpsessionbindingevent se) åä¸­æ¿æ¢å±æ§æ§è¡è¯¥æ¹æ³\n * servletrequestattributelistener çå¬servletrequest è¯·æ±åä¸­çå±æ§åå\n   * attributeadded(servletrequestattributeevent srae) åä¸­æ·»å å±æ§æ§è¡è¯¥æ¹æ³\n   * attributeremoved(servletrequestattributeevent srae) åä¸­ç§»é¤å±æ§æ§è¡è¯¥æ¹æ³\n   * attributereplaced(servletrequestattributeevent srae) åä¸­æ¿æ¢å±æ§æ§è¡è¯¥æ¹æ³\n\n\n# çå¬ä¼è¯ç¸å³çæç¥åçå¬å¨\n\n * httpsessionbindlistener æç¥å¯¹è±¡åä¼è¯åç»å®ççå¬å¨\n   \n   * valuebound(httpsessionbindevent event) æ°æ®æ·»å å°ä¼è¯åä¸­(ç»å®)æ§è¡æ¹æ³\n   * valueunbound(httpsessionbindevent event) æ°æ®ç§»é¤å°ä¼è¯åä¸­(è§£ç»)æ§è¡æ¹æ³\n\n * httpsessionactivationlistener æç¥ä¼è¯åä¸­å¯¹è±¡éååæ´»åççå¬å¨\n   \n   * seesionwillpassivate(httpsessionevent se) ä¼è¯åä¸­æ°æ®éåæ¶æ§è¡è¯¥æ¹æ³\n   * seesiondidactivate(httpsessionevent se) ä¼è¯åä¸­æ°æ®æ´»åæ¶æ§è¡è¯¥æ¹æ³\n\n\n# éç½®çå¬å¨\n\n * æ³¨è§£æ è¯ @weblistener\n   \n   * æ¦æªå¤ä¸ªæå®é¡µé¢@weblistener (value = {"/xxx","/xxx"})\n\n * web.xmléç½®\n   \n   * <listener>\n         <listener-class>com.example.demo</listener-class>\n     </listener>\n     \n     \n     1\n     2\n     3\n     ',charsets:{cjk:!0},lastUpdated:"2022/03/18, 07:01:11",lastUpdatedTimestamp:1647558071e3},{title:"Jackson",frontmatter:{title:"Jackson",date:"2022-03-18T00:51:47.000Z",permalink:"/pages/df2f58/",categories:["åç«¯","JavaEE"],tags:[null]},regularPath:"/%E5%90%8E%E7%AB%AF/02.JavaEE/03.Jackson.html",relativePath:"åç«¯/02.JavaEE/03.Jackson.md",key:"v-2bbcab5e",path:"/pages/df2f58/",headersStr:null,content:'# Jackson\n\nåæ \n\n    <dependency>\n      <groupId>com.fasterxml.jackson.core</groupId>\n      <artifactId>jackson-databind</artifactId>\n      <version>2.9.0</version>\n    </dependency>\n    <dependency>\n      <groupId>com.fasterxml.jackson.core</groupId>\n      <artifactId>jackson-core</artifactId>\n      <version>2.9.0</version>\n    </dependency>\n    <dependency>\n      <groupId>com.fasterxml.jackson.core</groupId>\n      <artifactId>jackson-annotations</artifactId>\n      <version>2.9.0</version>\n    </dependency>\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n\n\nJacksonæ¯æJSON è½¬ä¸ºjavaå¯¹è±¡æèéåçä¸ä¸ªå·¥å·ç±»\n\nSpringMVC è½¬æ¢é»è®¤ä½¿ç¨ Jackson\n\n * ObjectMapper å®ç°JSONå­ç¬¦ä¸²åå¯¹è±¡ä¹é´çè½¬æ¢\n   * writeValueAsString(object obj) å°javaå¯¹è±¡è½¬ä¸ºjsonå­ç¬¦ä¸²\n   * <T> T readValue(String json,class<T> valueTType) å°jsonå­ç¬¦ä¸²è½¬ä¸ºjavaå¯¹è±¡\n   * <T> T readValue(String json,TypeReferncevalueTType) å°jsonå­ç¬¦ä¸²è½¬ä¸ºjavaå¯¹è±¡\n * TypeReference å¯¹éåæ³åçååºåå\n\nprivate ObjectMapper mapper =new ObjectMapper();\nuser user = new user("å¼ ä¸",23);\n//å¯¹è±¡è½¬json\nString json = mapper.writeValueAsString(user);\nSystem.out.println(json);\n\n//jsonè½¬å¯¹è±¡\nuser user1 = mapper.readValue(json, user.class);\nSystem.out.println(user1);\n\n//mapè½¬json\nHashMap<String,String> map =new HashMap<>();\nmap.put("å§å","å¼ ä¸");\nmap.put("æ§å«","ç·");\nString s = mapper.writeValueAsString(map);\nSystem.out.println(s);\n\n//jsonè½¬map\nHashMap<String,String> hashMap = mapper.readValue(s, HashMap.class);\nSystem.out.println(hashMap);\n\n//map<String,user> è½¬json\nHashMap<String,user> map2 =new HashMap<>();\nmap2.put("ä¸ç­",new user("å¼ ä¸",23));\nmap2.put("äºç­",new user("æå",23));\nString s1 = mapper.writeValueAsString(map2);\nSystem.out.println(s1);\n\n\n//jsonè½¬ map<String,user>\nHashMap<String,user> map3=mapper.readValue(s1,new TypeReference<HashMap<String,user>>(){});\nSystem.out.println(map3);\n\n//List<String> æ¢json\nArrayList<String> list=new ArrayList<>();\nlist.add("å¼ ä¸");\nlist.add("æå");\nString s2 = mapper.writeValueAsString(list);\nSystem.out.println(s2);\n\n//List<String> è½¬json\nArrayList arrayList = mapper.readValue(s2, ArrayList.class);\nSystem.out.println(arrayList);\n\n//List<user> æ¢json\nArrayList<user> list2=new ArrayList<>();\nlist2.add(new user("å¼ ä¸",23));\nlist2.add(new user("çäº",22));\nString s3 = mapper.writeValueAsString(list2);\nSystem.out.println(s3);\n\n//List<user> è½¬json\nArrayList<user> arrayList2 = mapper.readValue(s3, new TypeReference<ArrayList<user>>(){});\nSystem.out.println(arrayList2);\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n26\n27\n28\n29\n30\n31\n32\n33\n34\n35\n36\n37\n38\n39\n40\n41\n42\n43\n44\n45\n46\n47\n48\n49\n50\n51\n52\n53\n54\n',normalizedContent:'# jackson\n\nåæ \n\n    <dependency>\n      <groupid>com.fasterxml.jackson.core</groupid>\n      <artifactid>jackson-databind</artifactid>\n      <version>2.9.0</version>\n    </dependency>\n    <dependency>\n      <groupid>com.fasterxml.jackson.core</groupid>\n      <artifactid>jackson-core</artifactid>\n      <version>2.9.0</version>\n    </dependency>\n    <dependency>\n      <groupid>com.fasterxml.jackson.core</groupid>\n      <artifactid>jackson-annotations</artifactid>\n      <version>2.9.0</version>\n    </dependency>\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n\n\njacksonæ¯æjson è½¬ä¸ºjavaå¯¹è±¡æèéåçä¸ä¸ªå·¥å·ç±»\n\nspringmvc è½¬æ¢é»è®¤ä½¿ç¨ jackson\n\n * objectmapper å®ç°jsonå­ç¬¦ä¸²åå¯¹è±¡ä¹é´çè½¬æ¢\n   * writevalueasstring(object obj) å°javaå¯¹è±¡è½¬ä¸ºjsonå­ç¬¦ä¸²\n   * <t> t readvalue(string json,class<t> valuettype) å°jsonå­ç¬¦ä¸²è½¬ä¸ºjavaå¯¹è±¡\n   * <t> t readvalue(string json,typereferncevaluettype) å°jsonå­ç¬¦ä¸²è½¬ä¸ºjavaå¯¹è±¡\n * typereference å¯¹éåæ³åçååºåå\n\nprivate objectmapper mapper =new objectmapper();\nuser user = new user("å¼ ä¸",23);\n//å¯¹è±¡è½¬json\nstring json = mapper.writevalueasstring(user);\nsystem.out.println(json);\n\n//jsonè½¬å¯¹è±¡\nuser user1 = mapper.readvalue(json, user.class);\nsystem.out.println(user1);\n\n//mapè½¬json\nhashmap<string,string> map =new hashmap<>();\nmap.put("å§å","å¼ ä¸");\nmap.put("æ§å«","ç·");\nstring s = mapper.writevalueasstring(map);\nsystem.out.println(s);\n\n//jsonè½¬map\nhashmap<string,string> hashmap = mapper.readvalue(s, hashmap.class);\nsystem.out.println(hashmap);\n\n//map<string,user> è½¬json\nhashmap<string,user> map2 =new hashmap<>();\nmap2.put("ä¸ç­",new user("å¼ ä¸",23));\nmap2.put("äºç­",new user("æå",23));\nstring s1 = mapper.writevalueasstring(map2);\nsystem.out.println(s1);\n\n\n//jsonè½¬ map<string,user>\nhashmap<string,user> map3=mapper.readvalue(s1,new typereference<hashmap<string,user>>(){});\nsystem.out.println(map3);\n\n//list<string> æ¢json\narraylist<string> list=new arraylist<>();\nlist.add("å¼ ä¸");\nlist.add("æå");\nstring s2 = mapper.writevalueasstring(list);\nsystem.out.println(s2);\n\n//list<string> è½¬json\narraylist arraylist = mapper.readvalue(s2, arraylist.class);\nsystem.out.println(arraylist);\n\n//list<user> æ¢json\narraylist<user> list2=new arraylist<>();\nlist2.add(new user("å¼ ä¸",23));\nlist2.add(new user("çäº",22));\nstring s3 = mapper.writevalueasstring(list2);\nsystem.out.println(s3);\n\n//list<user> è½¬json\narraylist<user> arraylist2 = mapper.readvalue(s3, new typereference<arraylist<user>>(){});\nsystem.out.println(arraylist2);\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n26\n27\n28\n29\n30\n31\n32\n33\n34\n35\n36\n37\n38\n39\n40\n41\n42\n43\n44\n45\n46\n47\n48\n49\n50\n51\n52\n53\n54\n',charsets:{cjk:!0},lastUpdated:"2022/03/18, 09:00:59",lastUpdatedTimestamp:1647565259e3},{title:"Maven",frontmatter:{title:"Maven",date:"2022-03-18T00:51:47.000Z",permalink:"/pages/682f06/",categories:["åç«¯","JavaEE"],tags:[null]},regularPath:"/%E5%90%8E%E7%AB%AF/02.JavaEE/05.Maven.html",relativePath:"åç«¯/02.JavaEE/05.Maven.md",key:"v-73c846de",path:"/pages/682f06/",headers:[{level:2,title:"ç¯å¢åé",slug:"ç¯å¢åé",normalizedTitle:"ç¯å¢åé",charIndex:95},{level:2,title:"åæ ",slug:"åæ ",normalizedTitle:"åæ ",charIndex:169},{level:2,title:"ä»åºéç½®",slug:"ä»åºéç½®",normalizedTitle:"ä»åºéç½®",charIndex:260},{level:3,title:"è¿ç¨ä»åºéç½®",slug:"è¿ç¨ä»åºéç½®",normalizedTitle:"è¿ç¨ä»åºéç½®",charIndex:474},{level:2,title:"æå»º",slug:"æå»º",normalizedTitle:"æå»º",charIndex:739},{level:2,title:"ä¾èµç®¡ç",slug:"ä¾èµç®¡ç",normalizedTitle:"ä¾èµç®¡ç",charIndex:837},{level:3,title:"å¯éä¾èµ",slug:"å¯éä¾èµ",normalizedTitle:"å¯éä¾èµ",charIndex:1228},{level:3,title:"æé¤ä¾èµ",slug:"æé¤ä¾èµ",normalizedTitle:"æé¤ä¾èµ",charIndex:1529},{level:2,title:"ä¾èµèå´",slug:"ä¾èµèå´",normalizedTitle:"ä¾èµèå´",charIndex:2059},{level:2,title:"çå½å¨æ",slug:"çå½å¨æ",normalizedTitle:"çå½å¨æ",charIndex:2124},{level:3,title:"æä»¶",slug:"æä»¶",normalizedTitle:"æä»¶",charIndex:2255}],headersStr:"ç¯å¢åé åæ  ä»åºéç½® è¿ç¨ä»åºéç½® æå»º ä¾èµç®¡ç å¯éä¾èµ æé¤ä¾èµ ä¾èµèå´ çå½å¨æ æä»¶",content:'# Maven\n\nMaven æ¯ä¸ä¸ªé¡¹ç®ç®¡çå·¥å· ,å°é¡¹ç®å¼ååç®¡çè¿ç¨æ½è±¡æä¸ä¸ªé¡¹ç®å¯¹è±¡æ¨¡å(POM)\n\nPOM(Project Object Model) é¡¹ç®å¯¹è±¡æ¨¡å\n\n\n\n\n\n\n# ç¯å¢åé\n\néç½® MAVEN_HOME = MAVENç®å½\n\nç¶åå¨pathä¸­ éç½® %MAVEN_HOME%\\bin\n\nmvn\n\n\n1\n\n\n\n# åæ \n\nMavenä¸­çåæ ç¨äºæè¿°ä»åºä¸­èµæºçä½ç½®\n\nhttps://repo1.maven.org/maven2/\n\nhttps://mvnrepository.com/\n\n\n# ä»åºéç½®\n\nèªå®ä¹æ¬å°ä»åº é»è®¤ä¸º c:/ç¨æ·/.m2 ç®å½ä¸\n\nåå»º repository ç®å½ å¹¶æmavenä¸­confçsettings.xmlæ¾å°åçº§ä¸­\n\n\x3c!-- éç½® settings --\x3e\n<localRepository>D:\\compile\\maven\\repository</localRepository>\n\n\n1\n2\n\n\nç¶åæä¿®æ¹åçsettingsåæ ·è¦çæ maven confä¸çæä»¶\n\n\n# è¿ç¨ä»åºéç½®\n\né»è®¤è¿ç¨ä»åºé½æ¯å¨https://repo1.maven.org/maven2/ æä»¬æ¢æé¿éå·´å·´çéå\n\néç½®åæ ·æ¯ settings.xml ä¸­\n\n<mirror>\n      <id>aliyunmaven</id>\n      <mirrorOf>*</mirrorOf>\n      <name>é¿éäºå¬å±ä»åº</name>\n      <url>https://maven.aliyun.com/repository/public</url>\n</mirror>\n\n\n1\n2\n3\n4\n5\n6\n\n\n\n# æå»º\n\n * mvn compile ç¼è¯\n * mvn clean æ¸ç\n * mvn test æµè¯\n * mvn package æå\n * mvn install å®è£å°æ¬å°ä»åº\n\n\n# ä¾èµç®¡ç\n\n\x3c!-- ä¾èµç¶æ ç­¾ --\x3e\n<dependencies>\n    \x3c!-- ä¾èµå­æ ç­¾æ¯ä¸ªä¾èµéè¦ç¨dependencyåè£¹ --\x3e\n    <dependency>\n        \x3c!-- æå±ç¾¤ç»id --\x3e\n        <groupId>com.alibaba</groupId>\n        \x3c!-- æå±é¡¹ç®id --\x3e\n        <artifactId>fastjson</artifactId>\n        \x3c!-- çæ¬å· --\x3e\n        <version>1.2.75</version>\n    </dependency>\n</dependencies>    \n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n\n\nå¯ä»¥è¿è¡ä¾èµä¼ é å³ä¾èµå¯ä»¥å è½½å¦å¤ä¸ä¸ªé¡¹ç®ä¸­ä¾èµ åªéè¦æä¾ç¾¤ç»idåé¡¹ç®id\n\n\n\n\n# å¯éä¾èµ\n\nå¯ä»¥éæ©å¯¹å¤éèæå®çä¾èµèµæº åªæä¾èµä¼ éæè½ç¨\n\n<dependencies>\n    <dependency>\n        <groupId>com.alibaba</groupId>\n        <artifactId>fastjson</artifactId>\n        <version>1.2.75</version>\n        \x3c!-- å¯¹å¤æ¯å¦éè --\x3e\n        <optional>true</optional>\n    </dependency>\n</dependencies>    \n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n\n\n\n# æé¤ä¾èµ\n\næé¤æå®çä¾èµ é»åå\n\n<dependencies>\n    <dependency>\n        <groupId>ä¾èµä¼ éä¸çº§è·¯å¾</groupId>\n        <artifactId>fastjson</artifactId>\n        <version>1.2.75</version>\n    </dependency>\n        \x3c!-- æé¤ä¾èµ --\x3e\n        <exclusions>\n            <exclusion>\n                 \x3c!-- æå±ç¾¤ç»id --\x3e\n                <groupId>org.antlr</groupId>\n                 \x3c!-- æå±é¡¹ç®id --\x3e\n                <artifactId>antlr4-runtime</artifactId>\n            </exclusion>\n        </exclusions>    \n</dependencies>  \n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n\n\n\n# ä¾èµèå´\n\nä¾èµçjaré»è®¤å¨ä»»ä½å°æ¹é½å¯ä»¥ç¨ ä½¿ç¨scopeæ ç­¾è®¾å®å¶ä½ç¨èå´\n\n\n\nä¾èµä¼ é ä½ç¨èå´ä¹ä¼æå½±å\n\n\n\n\n# çå½å¨æ\n\n * clean æ¸çå·¥ä½\n   * pre-clean\n   * clean\n   * post-clea\n * default æå»º\n   * \n   * æ§è¡åªä¸ªæå»º å°±æ§è¡å°é£ä¸ªæå»ºå°±ç»æ ä¸é¢çä¸ä¼æ§è¡\n * site\n   * \n\n\n# æä»¶\n\nhttps://maven.apache.org/plugins/index.html\n\næä»¶ä¸çå½å¨æåçé¶æ®µç»å® æ§è¡å°å¯¹åºçå½å¨æå°±æ§è¡å¯¹åºçæä»¶ç»ä½ \n\n<project xmlns="http://maven.apache.org/POM/4.0.0" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"\n         xsi:schemaLocation="http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd">\n    <build>\n        <plugins>\n            <plugin>\n                <groupId>org.springframework.boot</groupId>\n                <artifactId>spring-boot-maven-plugin</artifactId>\n                <executions>\n                    <execution>\n                        \x3c!-- æ­¤æä»¶å¨ä»ä¹çå½å¨æè¿è¡ --\x3e\n                        <phase>generate-test-resources</phase>\n                    </execution>\n                </executions>\n            </plugin>\n        </plugins>\n    </build>\n</project>\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n',normalizedContent:'# maven\n\nmaven æ¯ä¸ä¸ªé¡¹ç®ç®¡çå·¥å· ,å°é¡¹ç®å¼ååç®¡çè¿ç¨æ½è±¡æä¸ä¸ªé¡¹ç®å¯¹è±¡æ¨¡å(pom)\n\npom(project object model) é¡¹ç®å¯¹è±¡æ¨¡å\n\n\n\n\n\n\n# ç¯å¢åé\n\néç½® maven_home = mavenç®å½\n\nç¶åå¨pathä¸­ éç½® %maven_home%\\bin\n\nmvn\n\n\n1\n\n\n\n# åæ \n\nmavenä¸­çåæ ç¨äºæè¿°ä»åºä¸­èµæºçä½ç½®\n\nhttps://repo1.maven.org/maven2/\n\nhttps://mvnrepository.com/\n\n\n# ä»åºéç½®\n\nèªå®ä¹æ¬å°ä»åº é»è®¤ä¸º c:/ç¨æ·/.m2 ç®å½ä¸\n\nåå»º repository ç®å½ å¹¶æmavenä¸­confçsettings.xmlæ¾å°åçº§ä¸­\n\n\x3c!-- éç½® settings --\x3e\n<localrepository>d:\\compile\\maven\\repository</localrepository>\n\n\n1\n2\n\n\nç¶åæä¿®æ¹åçsettingsåæ ·è¦çæ maven confä¸çæä»¶\n\n\n# è¿ç¨ä»åºéç½®\n\né»è®¤è¿ç¨ä»åºé½æ¯å¨https://repo1.maven.org/maven2/ æä»¬æ¢æé¿éå·´å·´çéå\n\néç½®åæ ·æ¯ settings.xml ä¸­\n\n<mirror>\n      <id>aliyunmaven</id>\n      <mirrorof>*</mirrorof>\n      <name>é¿éäºå¬å±ä»åº</name>\n      <url>https://maven.aliyun.com/repository/public</url>\n</mirror>\n\n\n1\n2\n3\n4\n5\n6\n\n\n\n# æå»º\n\n * mvn compile ç¼è¯\n * mvn clean æ¸ç\n * mvn test æµè¯\n * mvn package æå\n * mvn install å®è£å°æ¬å°ä»åº\n\n\n# ä¾èµç®¡ç\n\n\x3c!-- ä¾èµç¶æ ç­¾ --\x3e\n<dependencies>\n    \x3c!-- ä¾èµå­æ ç­¾æ¯ä¸ªä¾èµéè¦ç¨dependencyåè£¹ --\x3e\n    <dependency>\n        \x3c!-- æå±ç¾¤ç»id --\x3e\n        <groupid>com.alibaba</groupid>\n        \x3c!-- æå±é¡¹ç®id --\x3e\n        <artifactid>fastjson</artifactid>\n        \x3c!-- çæ¬å· --\x3e\n        <version>1.2.75</version>\n    </dependency>\n</dependencies>    \n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n\n\nå¯ä»¥è¿è¡ä¾èµä¼ é å³ä¾èµå¯ä»¥å è½½å¦å¤ä¸ä¸ªé¡¹ç®ä¸­ä¾èµ åªéè¦æä¾ç¾¤ç»idåé¡¹ç®id\n\n\n\n\n# å¯éä¾èµ\n\nå¯ä»¥éæ©å¯¹å¤éèæå®çä¾èµèµæº åªæä¾èµä¼ éæè½ç¨\n\n<dependencies>\n    <dependency>\n        <groupid>com.alibaba</groupid>\n        <artifactid>fastjson</artifactid>\n        <version>1.2.75</version>\n        \x3c!-- å¯¹å¤æ¯å¦éè --\x3e\n        <optional>true</optional>\n    </dependency>\n</dependencies>    \n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n\n\n\n# æé¤ä¾èµ\n\næé¤æå®çä¾èµ é»åå\n\n<dependencies>\n    <dependency>\n        <groupid>ä¾èµä¼ éä¸çº§è·¯å¾</groupid>\n        <artifactid>fastjson</artifactid>\n        <version>1.2.75</version>\n    </dependency>\n        \x3c!-- æé¤ä¾èµ --\x3e\n        <exclusions>\n            <exclusion>\n                 \x3c!-- æå±ç¾¤ç»id --\x3e\n                <groupid>org.antlr</groupid>\n                 \x3c!-- æå±é¡¹ç®id --\x3e\n                <artifactid>antlr4-runtime</artifactid>\n            </exclusion>\n        </exclusions>    \n</dependencies>  \n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n\n\n\n# ä¾èµèå´\n\nä¾èµçjaré»è®¤å¨ä»»ä½å°æ¹é½å¯ä»¥ç¨ ä½¿ç¨scopeæ ç­¾è®¾å®å¶ä½ç¨èå´\n\n\n\nä¾èµä¼ é ä½ç¨èå´ä¹ä¼æå½±å\n\n\n\n\n# çå½å¨æ\n\n * clean æ¸çå·¥ä½\n   * pre-clean\n   * clean\n   * post-clea\n * default æå»º\n   * \n   * æ§è¡åªä¸ªæå»º å°±æ§è¡å°é£ä¸ªæå»ºå°±ç»æ ä¸é¢çä¸ä¼æ§è¡\n * site\n   * \n\n\n# æä»¶\n\nhttps://maven.apache.org/plugins/index.html\n\næä»¶ä¸çå½å¨æåçé¶æ®µç»å® æ§è¡å°å¯¹åºçå½å¨æå°±æ§è¡å¯¹åºçæä»¶ç»ä½ \n\n<project xmlns="http://maven.apache.org/pom/4.0.0" xmlns:xsi="http://www.w3.org/2001/xmlschema-instance"\n         xsi:schemalocation="http://maven.apache.org/pom/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd">\n    <build>\n        <plugins>\n            <plugin>\n                <groupid>org.springframework.boot</groupid>\n                <artifactid>spring-boot-maven-plugin</artifactid>\n                <executions>\n                    <execution>\n                        \x3c!-- æ­¤æä»¶å¨ä»ä¹çå½å¨æè¿è¡ --\x3e\n                        <phase>generate-test-resources</phase>\n                    </execution>\n                </executions>\n            </plugin>\n        </plugins>\n    </build>\n</project>\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n',charsets:{cjk:!0},lastUpdated:"2022/03/18, 07:01:11",lastUpdatedTimestamp:1647558071e3},{title:"POI",frontmatter:{title:"POI",date:"2022-03-18T00:51:47.000Z",permalink:"/pages/528ce7/",categories:["åç«¯","JavaEE"],tags:[null]},regularPath:"/%E5%90%8E%E7%AB%AF/02.JavaEE/06.POI.html",relativePath:"åç«¯/02.JavaEE/06.POI.md",key:"v-e1af82de",path:"/pages/528ce7/",headersStr:null,content:'# POI\n\n<dependency>\n      <groupId>org.apache.poi</groupId>\n      <artifactId>poi</artifactId>\n      <version>4.0.1</version>\n    </dependency>\n    <dependency>\n      <groupId>org.apache.poi</groupId>\n      <artifactId>poi-ooxml</artifactId>\n      <version>4.0.1</version>\n    </dependency>\n    <dependency>\n      <groupId>org.apache.poi</groupId>\n      <artifactId>poi-ooxml-schemas</artifactId>\n      <version>4.0.1</version>\n    </dependency>\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n\n\nEjavaææ§xcel\n\nJXL: æ¯æxlsæä»¶æä½\n\nPOI: æ¯æxlsä¸xlsxæä»¶æä½\n\n//è·åå¯¹åºçexcelæä»¶  å·¥ä½ç°¿æä»¶\nXSSFWorkbook wb =new XSSFWorkbook();\n\n//åå»ºå·¥èµè¡¨\nXSSFSheet sheet = wb.createSheet();//åå»ºä¸ä¸ªç©ºå­è¡¨\nwb.createSheet("s1"); //åå»ºä¸ä¸ªæå®å­è¡¨\n\nXSSFRow row = sheet.createRow(1);//åå»ºå·¥ä½è¡¨çè¡å¯¹è±¡  ç´¢å¼ä»0å¼å§  è¿åä¸ä¸ªè¡å¯¹è±¡\nXSSFCell cell = row.createCell(1);  //ä½¿ç¨è¡å¯¹è±¡åå»ºåå¯¹è±¡ ç´¢å¼ä»0å¼å§ è¿åååæ ¼å¯¹è±¡\ncell.setCellValue("test");   //ååæ ¼å¯¹è±¡setå¼\n//è·ååå ç±»åè¦å¯¹åº\nString stringCellValue = cell.getStringCellValue();\nSystem.out.println(stringCellValue);\n\n//ä¿å­ä¸ºæä»¶\nFile file =new File("test.xlsx");\nOutputStream os =new FileOutputStream(file);\nwb.write(os);\nwb.close();\nos.close();\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n\n\n * è·åexecelæä»¶\n   \n   * //çç©ºæèæä»¶ä¸å­å¨åèªå¨åå»ºæ°æä»¶\n     XSSFWorkbook wb =new XSSFWorkbook("test.xlsx");\n     \n     \n     1\n     2\n     \n\n * åå»ºå·¥ä½è¡¨\n   \n   * XSSFSheet sheet = wb.createSheet()  //å¯æå®åç§°\n     \n     \n     1\n     \n\n * è·åè¡å¯¹è±¡ ç´¢å¼ä»0å¼å§\n   \n   * XSSFRow row = sheet.createRow(0);\n     \n     \n     1\n     \n\n * è·åå(ååæ ¼)å¯¹è±¡ ç´¢å¼ä»0å¼å§\n   \n   * XSSFCell cell = row.createCell(0);\n     \n     \n     1\n     \n\n * è®¾ç½®åååå®¹\n   \n   * cell.setCellValue("test");   //ååæ ¼å¯¹è±¡setå¼\n     \n     \n     1\n     \n\n * è·åååæ ¼åå®¹ åå®¹ç±»åè¦ä¸æ¹æ³ä¸è´\n   \n   * String stringCellValue = cell.getStringCellValue();\n     \n     \n     1\n     \n\n * ä¿å­ä¸ºæä»¶\n   \n   * File file =new File("test.xlsx");\n     OutputStream os =new FileOutputStream(file);\n     wb.write(os);\n     \n     \n     1\n     2\n     3\n     \n\n * å³é­ close()æ¹æ³\n\n * åå¹¶ååæ ¼ æå®æä¸ªè¡¨çè¡å\n   \n   * sheet.addMergedRegion(new CellRangeAddress(1,1,1,12));\n     \n     \n     1\n     \n\n * è®¾ç½®æ ·å¼\n   \n   * XSSFCellStyle cellStyle = wb.createCellStyle();  //åå»ºæ ·å¼å¯¹è±¡\n     cellStyle.setAlignment(HorizontalAlignment.CENTER);  //æ°´å¹³å¯¹é½\n     cellStyle.setVerticalAlignment(VerticalAlignment.CENTER);  //åç´å¯¹é½\n     \n     cell_1.setCellStyle(cellStyle);\n     \n     \n     1\n     2\n     3\n     4\n     5\n     \n   \n   * cs_field.setBorderTop(BorderStyle.THIN);  //è®¾ç½®ä¸è¾¹æ¡\n     cs_field.setBorderBottom(BorderStyle.THIN);  //ä¸è¾¹æ¡\n     cs_field.setBorderLeft(BorderStyle.THIN);  //å·¦è¾¹æ¡\n     cs_field.setBorderRight(BorderStyle.THIN);  //å³è¾¹æ¡\n     \n     \n     \n     1\n     2\n     3\n     4\n     5\n     ',normalizedContent:'# poi\n\n<dependency>\n      <groupid>org.apache.poi</groupid>\n      <artifactid>poi</artifactid>\n      <version>4.0.1</version>\n    </dependency>\n    <dependency>\n      <groupid>org.apache.poi</groupid>\n      <artifactid>poi-ooxml</artifactid>\n      <version>4.0.1</version>\n    </dependency>\n    <dependency>\n      <groupid>org.apache.poi</groupid>\n      <artifactid>poi-ooxml-schemas</artifactid>\n      <version>4.0.1</version>\n    </dependency>\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n\n\nejavaææ§xcel\n\njxl: æ¯æxlsæä»¶æä½\n\npoi: æ¯æxlsä¸xlsxæä»¶æä½\n\n//è·åå¯¹åºçexcelæä»¶  å·¥ä½ç°¿æä»¶\nxssfworkbook wb =new xssfworkbook();\n\n//åå»ºå·¥èµè¡¨\nxssfsheet sheet = wb.createsheet();//åå»ºä¸ä¸ªç©ºå­è¡¨\nwb.createsheet("s1"); //åå»ºä¸ä¸ªæå®å­è¡¨\n\nxssfrow row = sheet.createrow(1);//åå»ºå·¥ä½è¡¨çè¡å¯¹è±¡  ç´¢å¼ä»0å¼å§  è¿åä¸ä¸ªè¡å¯¹è±¡\nxssfcell cell = row.createcell(1);  //ä½¿ç¨è¡å¯¹è±¡åå»ºåå¯¹è±¡ ç´¢å¼ä»0å¼å§ è¿åååæ ¼å¯¹è±¡\ncell.setcellvalue("test");   //ååæ ¼å¯¹è±¡setå¼\n//è·ååå ç±»åè¦å¯¹åº\nstring stringcellvalue = cell.getstringcellvalue();\nsystem.out.println(stringcellvalue);\n\n//ä¿å­ä¸ºæä»¶\nfile file =new file("test.xlsx");\noutputstream os =new fileoutputstream(file);\nwb.write(os);\nwb.close();\nos.close();\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n\n\n * è·åexecelæä»¶\n   \n   * //çç©ºæèæä»¶ä¸å­å¨åèªå¨åå»ºæ°æä»¶\n     xssfworkbook wb =new xssfworkbook("test.xlsx");\n     \n     \n     1\n     2\n     \n\n * åå»ºå·¥ä½è¡¨\n   \n   * xssfsheet sheet = wb.createsheet()  //å¯æå®åç§°\n     \n     \n     1\n     \n\n * è·åè¡å¯¹è±¡ ç´¢å¼ä»0å¼å§\n   \n   * xssfrow row = sheet.createrow(0);\n     \n     \n     1\n     \n\n * è·åå(ååæ ¼)å¯¹è±¡ ç´¢å¼ä»0å¼å§\n   \n   * xssfcell cell = row.createcell(0);\n     \n     \n     1\n     \n\n * è®¾ç½®åååå®¹\n   \n   * cell.setcellvalue("test");   //ååæ ¼å¯¹è±¡setå¼\n     \n     \n     1\n     \n\n * è·åååæ ¼åå®¹ åå®¹ç±»åè¦ä¸æ¹æ³ä¸è´\n   \n   * string stringcellvalue = cell.getstringcellvalue();\n     \n     \n     1\n     \n\n * ä¿å­ä¸ºæä»¶\n   \n   * file file =new file("test.xlsx");\n     outputstream os =new fileoutputstream(file);\n     wb.write(os);\n     \n     \n     1\n     2\n     3\n     \n\n * å³é­ close()æ¹æ³\n\n * åå¹¶ååæ ¼ æå®æä¸ªè¡¨çè¡å\n   \n   * sheet.addmergedregion(new cellrangeaddress(1,1,1,12));\n     \n     \n     1\n     \n\n * è®¾ç½®æ ·å¼\n   \n   * xssfcellstyle cellstyle = wb.createcellstyle();  //åå»ºæ ·å¼å¯¹è±¡\n     cellstyle.setalignment(horizontalalignment.center);  //æ°´å¹³å¯¹é½\n     cellstyle.setverticalalignment(verticalalignment.center);  //åç´å¯¹é½\n     \n     cell_1.setcellstyle(cellstyle);\n     \n     \n     1\n     2\n     3\n     4\n     5\n     \n   \n   * cs_field.setbordertop(borderstyle.thin);  //è®¾ç½®ä¸è¾¹æ¡\n     cs_field.setborderbottom(borderstyle.thin);  //ä¸è¾¹æ¡\n     cs_field.setborderleft(borderstyle.thin);  //å·¦è¾¹æ¡\n     cs_field.setborderright(borderstyle.thin);  //å³è¾¹æ¡\n     \n     \n     \n     1\n     2\n     3\n     4\n     5\n     ',charsets:{cjk:!0},lastUpdated:"2022/03/18, 07:01:11",lastUpdatedTimestamp:1647558071e3},{title:"Maven é«çº§",frontmatter:{title:"Maven é«çº§",date:"2022-03-18T00:51:47.000Z",permalink:"/pages/127f3b/",categories:["åç«¯","JavaEE"],tags:[null]},regularPath:"/%E5%90%8E%E7%AB%AF/02.JavaEE/09.Maven%20%E9%AB%98%E7%BA%A7.html",relativePath:"åç«¯/02.JavaEE/09.Maven é«çº§.md",key:"v-1bb1ec60",path:"/pages/127f3b/",headers:[{level:2,title:"åæ¨¡åå¼åä¸è®¾è®¡",slug:"åæ¨¡åå¼åä¸è®¾è®¡",normalizedTitle:"åæ¨¡åå¼åä¸è®¾è®¡",charIndex:15},{level:2,title:"èå",slug:"èå",normalizedTitle:"èå",charIndex:114},{level:2,title:"ç»§æ¿",slug:"ç»§æ¿",normalizedTitle:"ç»§æ¿",charIndex:492},{level:2,title:"å±æ§",slug:"å±æ§",normalizedTitle:"å±æ§",charIndex:1060},{level:2,title:"çæ¬ç®¡ç",slug:"çæ¬ç®¡ç",normalizedTitle:"çæ¬ç®¡ç",charIndex:1539},{level:2,title:"èµæºæä»¶",slug:"èµæºæä»¶",normalizedTitle:"èµæºæä»¶",charIndex:1584},{level:2,title:"å¤ç¯å¢å¼å",slug:"å¤ç¯å¢å¼å",normalizedTitle:"å¤ç¯å¢å¼å",charIndex:2227},{level:2,title:"è·³è¿æµè¯",slug:"è·³è¿æµè¯",normalizedTitle:"è·³è¿æµè¯",charIndex:3025},{level:2,title:"ç§æ",slug:"ç§æ",normalizedTitle:"ç§æ",charIndex:3096},{level:3,title:"ç§æèµæºè·å",slug:"ç§æèµæºè·å",normalizedTitle:"ç§æèµæºè·å",charIndex:3218},{level:3,title:"èµæºåå¸",slug:"èµæºåå¸",normalizedTitle:"èµæºåå¸",charIndex:3231}],headersStr:"åæ¨¡åå¼åä¸è®¾è®¡ èå ç»§æ¿ å±æ§ çæ¬ç®¡ç èµæºæä»¶ å¤ç¯å¢å¼å è·³è¿æµè¯ ç§æ ç§æèµæºè·å èµæºåå¸",content:"# Maven é«çº§\n\n\n# åæ¨¡åå¼åä¸è®¾è®¡\n\n 1. å°ä¸å½åå±æ å³çåå®¹æ¸é¤æ\n 2. å¨pom.xmlå°å¦å¤å±çå¯¼å¥åæ \n 3. compile é¢ç¼è¯ä¸ä¸ æ¯å¦åºé\n 4. ç¶åinstall æåæåæ \n\n\n\n\n# èå\n\nå½ä¸ä¸ªå·¥ç¨æå»º å¶ä»åæ¨¡åçå·¥ç¨é½ä¼è·éçæå»º\n\nå¨ä¸»å·¥ç¨ç®¡ç ä¸­çpom.xml\n\n    \x3c!--    å®ä¹è¯¥å·¥ç¨ç¨äºè¿è¡æå»ºç®¡ç--\x3e\n    <packaging>pom</packaging>\n\n    \x3c!--    ç®¡çå·¥ç¨çåè¡¨--\x3e\n    <modules>\n        \x3c!--        å·ä½çå·¥ç¨åç§°--\x3e\n        <module>../ssm_dao</module>\n        <module>../ssm_pojo</module>\n        <module>../ssm_service</module>\n        <module>../ssm_controller</module>\n    </modules>\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n\n\n\n# ç»§æ¿\n\nå¨ç¶å·¥ç¨ä¸­ å®ä¹ å£°æä¾èµ\n\n<dependencyManagement>\n        \x3c!--        ææçä¾èµå--\x3e\n        <dependencies>\n\n        </dependencies>\n    </dependencyManagement>\n\n\n1\n2\n3\n4\n5\n6\n\n\næä»¶ç»§æ¿\n\n<pluginManagement>\n            <plugins></plugins>\n        </pluginManagement>\n\n\n1\n2\n3\n\n\nå¨å­å·¥ç¨çpom ä¸­å®ä¹ç¶å·¥ç¨\n\n    <parent>\n        <groupId>com.itheima</groupId>\n        <artifactId>springmvc_validator</artifactId>\n        <version>1.0-SNAPSHOT</version>\n        \x3c!--        ç¶å·¥ç¨çpomæä»¶--\x3e\n        <relativePath>../ssm/pom.xml</relativePath>\n    </parent>\n\n\n1\n2\n3\n4\n5\n6\n7\n\n\nå¨å­å·¥ç¨ææçä¾èµåªæç¶å·¥ç¨æç é½å¯ä»¥ä¸åçæ¬å·\n\n\n# å±æ§\n\nå®ä¹å±æ§\n\n    \x3c!--    å®ä¹å±æ§--\x3e\n    <properties>\n        \x3c!--        æ ç­¾åä¸ºå±æ§å  å¼ä¸ºå±æ§å¼--\x3e\n        <spring.version>5.1.9.RELEASE</spring.version>\n    </properties>\n\n\n1\n2\n3\n4\n5\n\n\nä½¿ç¨å±æ§\n\n        <dependency>\n            <groupId>org.springframework</groupId>\n            <artifactId>spring-context</artifactId>\n            \x3c!--            ä½¿ç¨${å±æ§å} æ¥è·åå¼--\x3e\n            <version>${spring.version}</version>\n        </dependency>\n\n\n1\n2\n3\n4\n5\n6\n\n\n${version} æ¯mavenåé¨æä¾ç å½åpomå·¥ç¨ççæ¬å· æä»¬å¨ç»§æ¿\n\n\n# çæ¬ç®¡ç\n\n * snapshot(å¿«ç§çæ¬)\n * release(åå¸çæ¬)\n\n\n# èµæºæä»¶\n\nå¨POMå¤çèµæºæä»¶ä¸­ä½¿ç¨å®ä¹å¥½çå±æ§å¼\n\nå®ä¹å±æ§\n\n    \x3c!--    å®ä¹å±æ§--\x3e\n    <properties>\n        \x3c!--        æ ç­¾åä¸ºå±æ§å  å¼ä¸ºå±æ§å¼--\x3e\n        <jdbc.url>jdbc:mysql://localhost:3306/ssm_db</jdbc.url>\n    </properties>\n\n\n1\n2\n3\n4\n5\n\n\nå¼å¯èµæºéç½®å è½½ å¦ææ¯testæµè¯ç®å½ä¸çèµæºæä»¶å¨<resource> åå«å¨åçæ ç­¾åé¢é½å ä¸test\n\n   <build>  \n\t\t\t<resource>\n                \x3c!--            èµæºæä»¶çè·¯å¾--\x3e\n       \t <directory>${project.basedir}/src/main/resources</directory>\n                <filtering>true</filtering>\n            </resource>\n        </resources>\n    </build>\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n\n\nå¨èµæºæä»¶ä¸­å¼ç¨\n\njdbc.driver=com.mysql.jdbc.Driver\njdbc.url=${jdbc.url}\njdbc.username=root\njdbc.password=123456\n\n\n1\n2\n3\n4\n\n\n\n# å¤ç¯å¢å¼å\n\nä¸åç¯å¢ä½¿ç¨å®ä¹å¥½çå¤ä¸ªå±æ§å¼\n\n    \x3c!--åå»ºå¤ç¯å¢--\x3e\n    <profiles>\n        <profile>\n            \x3c!--            å®ä¹ç¯å¢å¯¹åºçå¯ä¸åç§°--\x3e\n            <id>pro_eny</id>\n            \x3c!--å®ä¹ç¯å¢ä¸­ä¸ç¨çå±æ§å¼--\x3e\n            <properties>\n                <jdbc.url>jdbc:mysql://localhost:3306/ssm_db</jdbc.url>\n            </properties>\n            \x3c!--            é»è®¤ç¯å¢ trueä¸ºé»è®¤--\x3e\n            <activation>\n                <activeByDefault>true</activeByDefault>\n            </activation>\n        </profile>\n\n        <profile>\n            <id>dep_env</id>\n            <properties>\n                <jdbc.url>jdbc:mysql://localhost:3307/ssm_db</jdbc.url>\n            </properties>\n        </profile>\n    </profiles>\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n\n\nä½¿ç¨ç¯å¢\n\nmvn install -P å¯¹åºç¯å¢id\n\nmvn install -P dep_env\n\n\n1\n\n\n\n# è·³è¿æµè¯\n\n * å¨IDEçMaven ä¸­ ætest è·³è¿\n * å½ä»¤è¡ mvm install -D skipTests\n * \n\n\n# ç§æ\n\nNexus\n\nhttps://help.sonatype.com/repomanager3/download\n\nè¿è¡binä¸çnexus\n\nnexus /run nexus\n\n\n1\n\n\nå¯å¨å®æå localhost:8081\n\n\n# ç§æèµæºè·å\n\n\n\n\n# èµæºåå¸\n\n\n\næèIDAä¸­ mavenç deploy\n\nidå¯¹åºæ¬å°çmavenå¯¹åºserversçusernameåpassword",normalizedContent:"# maven é«çº§\n\n\n# åæ¨¡åå¼åä¸è®¾è®¡\n\n 1. å°ä¸å½åå±æ å³çåå®¹æ¸é¤æ\n 2. å¨pom.xmlå°å¦å¤å±çå¯¼å¥åæ \n 3. compile é¢ç¼è¯ä¸ä¸ æ¯å¦åºé\n 4. ç¶åinstall æåæåæ \n\n\n\n\n# èå\n\nå½ä¸ä¸ªå·¥ç¨æå»º å¶ä»åæ¨¡åçå·¥ç¨é½ä¼è·éçæå»º\n\nå¨ä¸»å·¥ç¨ç®¡ç ä¸­çpom.xml\n\n    \x3c!--    å®ä¹è¯¥å·¥ç¨ç¨äºè¿è¡æå»ºç®¡ç--\x3e\n    <packaging>pom</packaging>\n\n    \x3c!--    ç®¡çå·¥ç¨çåè¡¨--\x3e\n    <modules>\n        \x3c!--        å·ä½çå·¥ç¨åç§°--\x3e\n        <module>../ssm_dao</module>\n        <module>../ssm_pojo</module>\n        <module>../ssm_service</module>\n        <module>../ssm_controller</module>\n    </modules>\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n\n\n\n# ç»§æ¿\n\nå¨ç¶å·¥ç¨ä¸­ å®ä¹ å£°æä¾èµ\n\n<dependencymanagement>\n        \x3c!--        ææçä¾èµå--\x3e\n        <dependencies>\n\n        </dependencies>\n    </dependencymanagement>\n\n\n1\n2\n3\n4\n5\n6\n\n\næä»¶ç»§æ¿\n\n<pluginmanagement>\n            <plugins></plugins>\n        </pluginmanagement>\n\n\n1\n2\n3\n\n\nå¨å­å·¥ç¨çpom ä¸­å®ä¹ç¶å·¥ç¨\n\n    <parent>\n        <groupid>com.itheima</groupid>\n        <artifactid>springmvc_validator</artifactid>\n        <version>1.0-snapshot</version>\n        \x3c!--        ç¶å·¥ç¨çpomæä»¶--\x3e\n        <relativepath>../ssm/pom.xml</relativepath>\n    </parent>\n\n\n1\n2\n3\n4\n5\n6\n7\n\n\nå¨å­å·¥ç¨ææçä¾èµåªæç¶å·¥ç¨æç é½å¯ä»¥ä¸åçæ¬å·\n\n\n# å±æ§\n\nå®ä¹å±æ§\n\n    \x3c!--    å®ä¹å±æ§--\x3e\n    <properties>\n        \x3c!--        æ ç­¾åä¸ºå±æ§å  å¼ä¸ºå±æ§å¼--\x3e\n        <spring.version>5.1.9.release</spring.version>\n    </properties>\n\n\n1\n2\n3\n4\n5\n\n\nä½¿ç¨å±æ§\n\n        <dependency>\n            <groupid>org.springframework</groupid>\n            <artifactid>spring-context</artifactid>\n            \x3c!--            ä½¿ç¨${å±æ§å} æ¥è·åå¼--\x3e\n            <version>${spring.version}</version>\n        </dependency>\n\n\n1\n2\n3\n4\n5\n6\n\n\n${version} æ¯mavenåé¨æä¾ç å½åpomå·¥ç¨ççæ¬å· æä»¬å¨ç»§æ¿\n\n\n# çæ¬ç®¡ç\n\n * snapshot(å¿«ç§çæ¬)\n * release(åå¸çæ¬)\n\n\n# èµæºæä»¶\n\nå¨pomå¤çèµæºæä»¶ä¸­ä½¿ç¨å®ä¹å¥½çå±æ§å¼\n\nå®ä¹å±æ§\n\n    \x3c!--    å®ä¹å±æ§--\x3e\n    <properties>\n        \x3c!--        æ ç­¾åä¸ºå±æ§å  å¼ä¸ºå±æ§å¼--\x3e\n        <jdbc.url>jdbc:mysql://localhost:3306/ssm_db</jdbc.url>\n    </properties>\n\n\n1\n2\n3\n4\n5\n\n\nå¼å¯èµæºéç½®å è½½ å¦ææ¯testæµè¯ç®å½ä¸çèµæºæä»¶å¨<resource> åå«å¨åçæ ç­¾åé¢é½å ä¸test\n\n   <build>  \n\t\t\t<resource>\n                \x3c!--            èµæºæä»¶çè·¯å¾--\x3e\n       \t <directory>${project.basedir}/src/main/resources</directory>\n                <filtering>true</filtering>\n            </resource>\n        </resources>\n    </build>\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n\n\nå¨èµæºæä»¶ä¸­å¼ç¨\n\njdbc.driver=com.mysql.jdbc.driver\njdbc.url=${jdbc.url}\njdbc.username=root\njdbc.password=123456\n\n\n1\n2\n3\n4\n\n\n\n# å¤ç¯å¢å¼å\n\nä¸åç¯å¢ä½¿ç¨å®ä¹å¥½çå¤ä¸ªå±æ§å¼\n\n    \x3c!--åå»ºå¤ç¯å¢--\x3e\n    <profiles>\n        <profile>\n            \x3c!--            å®ä¹ç¯å¢å¯¹åºçå¯ä¸åç§°--\x3e\n            <id>pro_eny</id>\n            \x3c!--å®ä¹ç¯å¢ä¸­ä¸ç¨çå±æ§å¼--\x3e\n            <properties>\n                <jdbc.url>jdbc:mysql://localhost:3306/ssm_db</jdbc.url>\n            </properties>\n            \x3c!--            é»è®¤ç¯å¢ trueä¸ºé»è®¤--\x3e\n            <activation>\n                <activebydefault>true</activebydefault>\n            </activation>\n        </profile>\n\n        <profile>\n            <id>dep_env</id>\n            <properties>\n                <jdbc.url>jdbc:mysql://localhost:3307/ssm_db</jdbc.url>\n            </properties>\n        </profile>\n    </profiles>\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n\n\nä½¿ç¨ç¯å¢\n\nmvn install -p å¯¹åºç¯å¢id\n\nmvn install -p dep_env\n\n\n1\n\n\n\n# è·³è¿æµè¯\n\n * å¨ideçmaven ä¸­ ætest è·³è¿\n * å½ä»¤è¡ mvm install -d skiptests\n * \n\n\n# ç§æ\n\nnexus\n\nhttps://help.sonatype.com/repomanager3/download\n\nè¿è¡binä¸çnexus\n\nnexus /run nexus\n\n\n1\n\n\nå¯å¨å®æå localhost:8081\n\n\n# ç§æèµæºè·å\n\n\n\n\n# èµæºåå¸\n\n\n\næèidaä¸­ mavenç deploy\n\nidå¯¹åºæ¬å°çmavenå¯¹åºserversçusernameåpassword",charsets:{cjk:!0},lastUpdated:"2022/03/18, 09:00:59",lastUpdatedTimestamp:1647565259e3},{title:"Spring",frontmatter:{title:"Spring",date:"2022-03-18T00:51:47.000Z",permalink:"/pages/17e650/",categories:["åç«¯","JavaEE"],tags:[null]},regularPath:"/%E5%90%8E%E7%AB%AF/02.JavaEE/07.Spring.html",relativePath:"åç«¯/02.JavaEE/07.Spring.md",key:"v-61c16c55",path:"/pages/17e650/",headers:[{level:2,title:"IoC åè½¬",slug:"ioc-åè½¬",normalizedTitle:"ioc åè½¬",charIndex:68},{level:3,title:"è¦åä¸åè",slug:"è¦åä¸åè",normalizedTitle:"è¦åä¸åè",charIndex:174},{level:3,title:"å·¥åæ¨¡å¼",slug:"å·¥åæ¨¡å¼",normalizedTitle:"å·¥åæ¨¡å¼",charIndex:309},{level:3,title:"åå»ºé¡¹ç®",slug:"åå»ºé¡¹ç®",normalizedTitle:"åå»ºé¡¹ç®",charIndex:320},{level:3,title:"bean",slug:"bean",normalizedTitle:"bean",charIndex:780},{level:2,title:"DI ä¾èµæ³¨å¥",slug:"di-ä¾èµæ³¨å¥",normalizedTitle:"di ä¾èµæ³¨å¥",charIndex:2786},{level:3,title:"setæ³¨å¥",slug:"setæ³¨å¥",normalizedTitle:"setæ³¨å¥",charIndex:2868},{level:3,title:"æé å¨æ³¨å¥",slug:"æé å¨æ³¨å¥",normalizedTitle:"æé å¨æ³¨å¥",charIndex:4442},{level:3,title:"éåç±»åæ°æ®æ³¨å¥",slug:"éåç±»åæ°æ®æ³¨å¥",normalizedTitle:"éåç±»åæ°æ®æ³¨å¥",charIndex:5292},{level:3,title:"på½åç©ºé´ ç®åéç½®",slug:"på½åç©ºé´-ç®åéç½®",normalizedTitle:"på½åç©ºé´ ç®åéç½®",charIndex:6995},{level:3,title:"SpEL ELè¡¨è¾¾å¼",slug:"spel-elè¡¨è¾¾å¼",normalizedTitle:"spel elè¡¨è¾¾å¼",charIndex:7789},{level:3,title:"propertiesæä»¶",slug:"propertiesæä»¶",normalizedTitle:"propertiesæä»¶",charIndex:7849},{level:3,title:"import å¢éå¼å",slug:"import-å¢éå¼å",normalizedTitle:"import å¢éå¼å",charIndex:8965},{level:3,title:"å®¹å¨è¿è¡æ¶å è½½å¤ä¸ªIoCéç½®",slug:"å®¹å¨è¿è¡æ¶å è½½å¤ä¸ªiocéç½®",normalizedTitle:"å®¹å¨è¿è¡æ¶å è½½å¤ä¸ªiocéç½®",charIndex:9061},{level:3,title:"beanæ³¨æäºé¡¹",slug:"beanæ³¨æäºé¡¹",normalizedTitle:"beanæ³¨æäºé¡¹",charIndex:9198},{level:3,title:"ApplicationContextå¯¹è±¡",slug:"applicationcontextå¯¹è±¡",normalizedTitle:"applicationcontextå¯¹è±¡",charIndex:9308},{level:3,title:"ç¬¬ä¸æ¹èµæºbeanéç½®",slug:"ç¬¬ä¸æ¹èµæºbeanéç½®",normalizedTitle:"ç¬¬ä¸æ¹èµæºbeanéç½®",charIndex:9335},{level:3,title:"Spring+MyBatis",slug:"spring-mybatis",normalizedTitle:"spring+mybatis",charIndex:10152},{level:2,title:"æ³¨è§£",slug:"æ³¨è§£",normalizedTitle:"æ³¨è§£",charIndex:13492},{level:2,title:"æ°æ³¨è§£",slug:"æ°æ³¨è§£",normalizedTitle:"æ°æ³¨è§£",charIndex:13696},{level:2,title:"å è½½æ§å¶",slug:"å è½½æ§å¶",normalizedTitle:"å è½½æ§å¶",charIndex:14335},{level:2,title:"æ´åJunit",slug:"æ´åjunit",normalizedTitle:"æ´åjunit",charIndex:14405},{level:2,title:"Iocåºå±æ ¸å¿åç",slug:"iocåºå±æ ¸å¿åç",normalizedTitle:"iocåºå±æ ¸å¿åç",charIndex:15520},{level:2,title:"ç»ä»¶æ«æè¿æ»¤å¨",slug:"ç»ä»¶æ«æè¿æ»¤å¨",normalizedTitle:"ç»ä»¶æ«æè¿æ»¤å¨",charIndex:15542},{level:3,title:"èªå®ä¹ç»ä»¶è¿æ»¤å¨",slug:"èªå®ä¹ç»ä»¶è¿æ»¤å¨",normalizedTitle:"èªå®ä¹ç»ä»¶è¿æ»¤å¨",charIndex:15818},{level:2,title:"èªå®ä¹å¯¼å¥å¨",slug:"èªå®ä¹å¯¼å¥å¨",normalizedTitle:"èªå®ä¹å¯¼å¥å¨",charIndex:16860},{level:2,title:"èªå®ä¹æ³¨åå¨",slug:"èªå®ä¹æ³¨åå¨",normalizedTitle:"èªå®ä¹æ³¨åå¨",charIndex:17664},{level:2,title:"beanåå§åè¿ç¨",slug:"beanåå§åè¿ç¨",normalizedTitle:"beanåå§åè¿ç¨",charIndex:19008},{level:2,title:"AOP",slug:"aop",normalizedTitle:"aop",charIndex:19026},{level:3,title:"AOPçå¨æä»£çå¯¹è±¡",slug:"aopçå¨æä»£çå¯¹è±¡",normalizedTitle:"aopçå¨æä»£çå¯¹è±¡",charIndex:19182},{level:3,title:"XMLéç½®",slug:"xmléç½®",normalizedTitle:"xmléç½®",charIndex:19460},{level:3,title:"æ³¨è§£",slug:"æ³¨è§£-2",normalizedTitle:"æ³¨è§£",charIndex:13492},{level:3,title:"éæä»£ç",slug:"éæä»£ç",normalizedTitle:"éæä»£ç",charIndex:26315},{level:3,title:"JDKå¨æä»£ç",slug:"jdkå¨æä»£ç",normalizedTitle:"jdkå¨æä»£ç",charIndex:26766},{level:3,title:"CGLIB",slug:"cglib",normalizedTitle:"cglib",charIndex:27590},{level:3,title:"AOPåºå± åæ¢å¨æä»£çæ¹å¼",slug:"aopåºå±-åæ¢å¨æä»£çæ¹å¼",normalizedTitle:"aopåºå± åæ¢å¨æä»£çæ¹å¼",charIndex:28823},{level:3,title:"ç»å¥æ¶æº",slug:"ç»å¥æ¶æº",normalizedTitle:"ç»å¥æ¶æº",charIndex:29135},{level:2,title:"äºå¡",slug:"äºå¡",normalizedTitle:"äºå¡",charIndex:29146},{level:3,title:"äºå¡æ ¸å¿å¯¹è±¡",slug:"äºå¡æ ¸å¿å¯¹è±¡",normalizedTitle:"äºå¡æ ¸å¿å¯¹è±¡",charIndex:29236},{level:3,title:"ç¼ç¨å¼äºå¡",slug:"ç¼ç¨å¼äºå¡",normalizedTitle:"ç¼ç¨å¼äºå¡",charIndex:29249},{level:3,title:"AOPæ¹é ç¼ç¨å¼äºå¡",slug:"aopæ¹é ç¼ç¨å¼äºå¡",normalizedTitle:"aopæ¹é ç¼ç¨å¼äºå¡",charIndex:30085},{level:3,title:"å£°æå¼äºå¡",slug:"å£°æå¼äºå¡",normalizedTitle:"å£°æå¼äºå¡",charIndex:31140},{level:3,title:"äºå¡ä¼ æ­è¡ä¸º",slug:"äºå¡ä¼ æ­è¡ä¸º",normalizedTitle:"äºå¡ä¼ æ­è¡ä¸º",charIndex:33680},{level:3,title:"æ³¨è§£äºå¡",slug:"æ³¨è§£äºå¡",normalizedTitle:"æ³¨è§£äºå¡",charIndex:33872},{level:2,title:"Springæ¨¡æ¿å¯¹è±¡",slug:"springæ¨¡æ¿å¯¹è±¡",normalizedTitle:"springæ¨¡æ¿å¯¹è±¡",charIndex:34546},{level:3,title:"JdbcTemplate",slug:"jdbctemplate",normalizedTitle:"jdbctemplate",charIndex:34561}],headersStr:"IoC åè½¬ è¦åä¸åè å·¥åæ¨¡å¼ åå»ºé¡¹ç® bean DI ä¾èµæ³¨å¥ setæ³¨å¥ æé å¨æ³¨å¥ éåç±»åæ°æ®æ³¨å¥ på½åç©ºé´ ç®åéç½® SpEL ELè¡¨è¾¾å¼ propertiesæä»¶ import å¢éå¼å å®¹å¨è¿è¡æ¶å è½½å¤ä¸ªIoCéç½® beanæ³¨æäºé¡¹ ApplicationContextå¯¹è±¡ ç¬¬ä¸æ¹èµæºbeanéç½® Spring+MyBatis æ³¨è§£ æ°æ³¨è§£ å è½½æ§å¶ æ´åJunit Iocåºå±æ ¸å¿åç ç»ä»¶æ«æè¿æ»¤å¨ èªå®ä¹ç»ä»¶è¿æ»¤å¨ èªå®ä¹å¯¼å¥å¨ èªå®ä¹æ³¨åå¨ beanåå§åè¿ç¨ AOP AOPçå¨æä»£çå¯¹è±¡ XMLéç½® æ³¨è§£ éæä»£ç JDKå¨æä»£ç CGLIB AOPåºå± åæ¢å¨æä»£çæ¹å¼ ç»å¥æ¶æº äºå¡ äºå¡æ ¸å¿å¯¹è±¡ ç¼ç¨å¼äºå¡ AOPæ¹é ç¼ç¨å¼äºå¡ å£°æå¼äºå¡ äºå¡ä¼ æ­è¡ä¸º æ³¨è§£äºå¡ Springæ¨¡æ¿å¯¹è±¡ JdbcTemplate",content:'# Spring\n\nSpringæ¯åå±çJavaSE/EEåºç¨ full-stackè½»éçº§ ä¸ç«å¼ å¼æºæ¡æ¶\n\nä½ç³»ç»æ:\n\n\n\n\n# IoC åè½¬\n\nIoC(Inversion Of Control) æ§å¶åè½¬,Springååæ§å¶åºç¨ç¨åºæéè¦ä½¿ç¨çå¤é¨èµæº\n\nSpringæ§å¶çèµæºå¨é¨æ¾ç½®å¨Springå®¹å¨ä¸­,è¯¥å®¹å¨ç§°ä¸ºIoCå®¹å¨\n\n\n# è¦åä¸åè\n\nè¦å(Coupling): ä»£ç ä¹¦åè¿ç¨ä¸­æä½¿ç¨ææ¯çç»åç´§å¯åº¦,ç¨äºè¡¡éè½¯ä»¶ä¸­åä¸ªæ¨¡åä¹é´çäºèç¨åº¦\n\nåè(Cohesion):ä»£ç ä¹¦åè¿ç¨ä¸­åä¸ªæ¨¡ååé¨åç»æé¨åé´çèç³»,ç¨äºè¡¡éè½¯ä»¶ä¸­åä¸ªåè½æ¨¡ååé¨çåè½èç³»\n\næä»¬è¿½æ± é«åè ä½è¦å\n\n\n# å·¥åæ¨¡å¼\n\n\n\n\n# åå»ºé¡¹ç®\n\n * åå»ºmavené¡¹ç®\n\n * å¯¼å¥æ¨¡å\n   \n   *     <dependencies>\n             <dependency>\n                 <groupId>org.springframework</groupId>\n                 <artifactId>spring-context</artifactId>\n                 <version>5.1.9.RELEASE</version>\n             </dependency>\n         </dependencies>\n     \n     \n     1\n     2\n     3\n     4\n     5\n     6\n     7\n     \n\n * å¨resourcesä¸­åå»ºapplicationContext.xmlæä»¶\n   \n   * <?xml version="1.0" encoding="UTF-8"?>\n     <beans xmlns="http://www.springframework.org/schema/beans"\n            xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"\n            xsi:schemaLocation="http://www.springframework.org/schema/beans\n             https://www.springframework.org/schema/beans/spring-beans.xsd">\n     \x3c!--   beanä¸ºæ å°æ ç­¾ åå»ºspringæ§å¶çèµæº  idä¸ºæä½ç©ºé´  classä¸ºå®ç°ç±»å¼ç¨è·¯å¾--\x3e\n         <bean id="userService" class="com.itheima.service.impl.UserServiceImpl"/>\n     </beans>\n     \n     \n     1\n     2\n     3\n     4\n     5\n     6\n     7\n     8\n     \n\n * ä½¿ç¨æ¹æ³\n   \n   * //2.å è½½éç½®æä»¶\n             ApplicationContext ctx =new ClassPathXmlApplicationContext("applicationContext.xml");\n             //3.è·åèµæº\n             UserService userService = (UserService) ctx.getBean("userService");\n     \n             userService.save();\n     \n     \n     1\n     2\n     3\n     4\n     5\n     6\n     \n\n\n# bean\n\n * <bean>æ ç­¾ å®ä¹springä¸­çèµæº, æ­¤æ ç­¾å®ä¹çèµæºå°åå°springæ§å¶\n   \n   * idå±æ§ beançåè¯ éè¿idå¼è·åå°bean\n   \n   * classå±æ§ beançç±»å\n   \n   * nameå±æ§ beançå«å æä»¬å¯ä»¥éè¿idæènameæ¥è·åå°bean å¹¶ä¸nameå¯ä»¥èµ·å¤ä¸ªå«å å«åä¹é´ç¨éå·éå¼\n   \n   * scopeå±æ§ å®ä¹beançä½ç¨èå´\n     \n     * singletonå¼ è®¾ç½®åå»ºåºçå¯¹è±¡ä¿å­å¨springå®¹å¨ä¸­ æ¯ä¸ä¸ªåä¾å¯¹è±¡ é»è®¤å¼ åä¾æ¶åå»ºspringå®¹å¨æ¶å°±å è½½beanç»å®çç±»\n     * prototypeå¼ è®¾ç½®åå»ºåºçå¯¹è±¡ä¿å­å¨springå®¹å¨ä¸­ æ¯ä¸ä¸ª**éåä¾å¯¹è±¡ ** éåä¾åæ¯å¨getBeanæ¶åå»ºç±»\n     * requestãsessionãapplicationãwebsocketå¼ è®¾ç½®åå»ºåºçå¯¹è±¡æ¾ç½®å¨webå®¹å¨å¯¹åºçä½ç½®\n   \n   * init-method beanå¯¹è±¡åå§åæ¶æ§è¡æå®æ¹æ³\n     \n     * å¼ä¸ºbeanå¯¹åºçç±»ä¸­çå·ä½æ¹æ³å\n   \n   * destroy-method beanå¯¹è±¡éæ¯æ¶æ§è¡æå®æ¹æ³\n     \n     * å¼ä¸ºbeanå¯¹åºçç±»ä¸­çå·ä½æ¹æ³å åªæClassPathXmlApplicationContextææcloseæ¹æ³ springé»è®¤èªå¨éæ¯ä½éæ¯æ¹æ³ä¸ä¼æ§è¡\n     * \n   \n   * factory-methodå±æ§\n     \n     * å¼ä¸ºéæå·¥åä¸­åå»ºå¯¹è±¡çæ¹æ³\n   \n   * factory-beanå±æ§\n     \n     * å¼ä¸ºå®ä¾å·¥åçid éè¦åç¨ä¸ä¸ªbeanç»å®å®ä¾å·¥åç±» ç¶åç¬¬äºä¸ªbeançfactory-beanä¸ºç¬¬ä¸ä¸ªbeançid ç¶åç¨factory-methodè°ç¨å¶å®ä¾å·¥åçæ¹æ³\n     \n     * \x3c!--    factory-bea  å®ä¾å·¥ååå»ºå¯¹è±¡  éè¦beanåç»å®å®ä¾å·¥åç±» ç¶åç¬¬äºä¸ªbeançfactory-beaä¸ºå®ä¾å·¥åçid ç¶åfactory-methodè°ç¨å¶åå»ºå¯¹è±¡æ¹æ³--\x3e\n           <bean id="userService3" class="com.itheima.service.UserServiceFactory2" />\n           <bean factory-bean="userService3" factory-method="getService"/>\n       \n       \n       1\n       2\n       3\n       \n\n\n# DI ä¾èµæ³¨å¥\n\nDI(Dependency Injection) ä¾èµæ³¨å¥,åºç¨ç¨åºè¿è¡ä¾èµçèµæºç±Springä¸ºå¶æä¾,èµæºè¿å¥åºç¨ç¨åºçæ¹å¼ç§°ä¸ºæ³¨å¥\n\n\n# setæ³¨å¥\n\n * <property>æ ç­¾ ä½¿ç¨setæ¹æ³çå½¢å¼ä¸ºbeanæä¾èµæº æ¯beançå­æ ç­¾\n   * nameå±æ§\n     * å¼ä¸ºå¯¹åºbeanä¸­çå±æ§å è¦è¯¥å±æ§å¿é¡»ä¸ºç§æå±æ§åæ¶æä¾setæ¹æ³\n   * valueå±æ§\n     * å¼ä¸ºnameç»å®å±æ§ç å¼ è®¾å®éå¼ç¨ç±»åå±æ§çå¼\n   * refå±æ§\n     * å¼ä¸ºå¼ç¨ç±»åå±æ§å¯¹è±¡beançid ä¸è½ä¸valueåæ¶ä½¿ç¨\n\néç½®\n\n    <bean id="userService" class="com.itheima.service.impl.UserServiceImpl">\n\x3c!--        å°è¦æ³¨å¥çå¼ç¨ç±»ååééè¿propertyå±æ§è¿è¡æ³¨å¥ å¯¹åºçnameæ¯è¦æ³¨å¥çåéå  ä½¿ç¨refå£°æè¦æ³¨å¥çbeançid  --\x3e\n        <property name="userDao" ref="userDao"></property>\n\x3c!--        å¦æè¦æ³¨å¥çåéä¸ºä¸ä¸ªå¼ æä»¬éè¿valueæ¥è®¾ç½® åæ ·éè¦å¨ç±»ä¸­è®¾ç½®ç§æåé åsetæ¹æ³--\x3e\n        <property name="num" value="13"/>\n    </bean>\n\n\x3c!--    å°è¦æ³¨å¥çèµæºå£°æä¸ºbean--\x3e\n    <bean id="userDao" class="com.itheima.dao.impl.UserDaoImpl"/>\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n\n\nåè½¬èµæºæ³¨å¥\n\nimport com.itheima.dao.UserDao;\nimport com.itheima.service.UserService;\n\npublic class UserServiceImpl implements UserService {\n    private UserDao userDao;\n    private int num;\n\n    //å¯¹éè¦è¿è¡æ³¨å¥çåéæ·»å setæ¹æ³\n    public void setUserDao(UserDao userDao) {\n        this.userDao = userDao;\n    }\n\n    public void setNum(int num) {\n        this.num = num;\n    }\n\n    @Override\n    public void save() {\n        userDao.save();\n        System.out.println("running...");\n        System.out.println(num);\n    }\n\n\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n\n\nè°ç¨\n\npublic class UserApp {\n    public static void main(String[] args) {\n        //2.å è½½éç½®æä»¶\n        ApplicationContext ctx =new ClassPathXmlApplicationContext("applicationContext.xml");\n        //3.è·åèµæº\n        UserService userService = (UserService) ctx.getBean("userService");\n        userService.save();\n    }\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n\n\n\n\n\n# æé å¨æ³¨å¥\n\n * <constructor-arg> æ ç­¾ ä½¿ç¨æé æ¹æ³çå½¢å¼ä¸ºbeanæä¾èµæº æ¯beançå­æ ç­¾\n   * nameå±æ§\n     * å¼ä¸ºå¯¹åºbeanä¸­çå±æ§å è¦è¯¥å±æ§å¿é¡»ä¸ºç§æå±æ§åæ¶æä¾setæ¹æ³\n   * valueå±æ§\n     * å¼ä¸ºnameç»å®å±æ§ç å¼ è®¾å®éå¼ç¨ç±»åå±æ§çå¼\n   * refå±æ§\n     * å¼ä¸ºå¼ç¨ç±»åå±æ§å¯¹è±¡beançid ä¸è½ä¸valueåæ¶ä½¿ç¨\n   * typeå±æ§\n     * å¼ä¸ºè®¾å®æé æ¹æ³åæ°çç±»å ç¨äºèµå¼ç»æå®çåéç±»å æ¨èä½¿ç¨nanmeæå®åé\n   * indexå±æ§\n     * å¼ä¸ºè®¾å®æé æ¹æ³åæ°çä½ç½® ç¨äºèµå¼ç»æå® æé æ¹æ³ä¸­ åéçindex ä»0å¼å§ æ¨èä½¿ç¨nameæå®åé\n\nè¢«æ³¨å¥ç±»è¦å£°ææé æ¹æ³å¹¶èµå¼\n\nprivate UserDao userDao;\nprivate int num;\npublic UserServiceImpl(UserDao userDao,int num){\n        this.userDao=userDao;\n        this.num=num;\n    }\n\n\n1\n2\n3\n4\n5\n6\n\n\nbeanéç½®\n\n\x3c!--    æé æ¹æ³æ³¨å¥--\x3e\n\x3c!--    æ³¨å¥ç±»--\x3e\n    <bean id="userDao" class="com.itheima.dao.impl.UserDaoImpl"/>\n\x3c!--è¢«æ³¨å¥çç±»--\x3e\n    <bean id="userService" class="com.itheima.service.impl.UserServiceImpl">\n        <constructor-arg ref="userDao" />\n        <constructor-arg name="num" value="456"/>\n    </bean>\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n\n\n\n# éåç±»åæ°æ®æ³¨å¥\n\nå¦ <array>ã<list>ã<set>ã<map>ã<props>ç­éå æ¯å½å±äºpropertyæconstructor-argæ ç­¾çå­æ ç­¾\n\n * <list>\n   \n   * <value>æ ç­¾\n     * å¼ä¸ºåç´ å¯¹äºçå¼\n\n * <props>\n   \n   * <prop>æ ç­¾\n     * keyå±æ§\n       * å¼ä¸ºå±æ§å\n     * å¼ä¸ºåç´ å¯¹äºçå¼\n\n * <array>\n\n * <value>æ ç­¾\n   \n   * å¼ä¸ºåç´ å¯¹äºçå¼\n\n * <set>\n   \n   * <value>æ ç­¾\n     * å¼ä¸ºåç´ å¯¹äºçå¼\n\n * <map>\n   \n   * <enrty>æ ç­¾\n     * keyå±æ§\n       * å¼ä¸ºkey\n     * valueå±æ§\n       * å¼ä¸ºå¼\n\n    \x3c!--    éåæ³¨å¥--\x3e\n    <bean id="userDao" class="com.itheima.dao.impl.UserDaoImpl"/>\n\n    <bean id="userService" class="com.itheima.service.impl.UserServiceImpl">\n        <property name="userDao" ref="userDao"/>\n        <property name="bookDao" ref="bookDao"/>\n    </bean>\n\n    <bean id="bookDao" class="com.itheima.dao.impl.BookDaoImpl">\n        <property name="al">\n            <list>\n                <value>helll</value>\n                <value>world</value>\n            </list>\n        </property>\n        <property name="properties">\n            <props>\n                <prop key="name">age</prop>\n                <prop key="value">19</prop>\n            </props>\n        </property>\n        <property name="arr">\n            <array>\n                <value>123</value>\n                <value>456</value>\n            </array>\n        </property>\n        <property name="hs">\n            <set>\n                <value>111</value>\n                <value>222</value>\n            </set>\n        </property>\n        <property name="hm">\n            <map>\n                <entry key="name" value="zhangsan"/>\n                <entry key="name" value="lisi"/>\n            </map>\n        </property>\n    </bean>\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n26\n27\n28\n29\n30\n31\n32\n33\n34\n35\n36\n37\n38\n39\n40\n\n\n\n# på½åç©ºé´ ç®åéç½®\n\nå¢å å±æ§ xmlns:p="http://www.springframework.org/schema/p" éç½®på½åç©ºé´\n\n<beans xmlns="http://www.springframework.org/schema/beans"\n       xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"\n       xmlns:p="http://www.springframework.org/schema/p"\n       xsi:schemaLocation="http://www.springframework.org/schema/beans\n        https://www.springframework.org/schema/beans/spring-beans.xsd">\n\n\n1\n2\n3\n4\n5\n\n\npå½åç©ºé´ä¸ºbeanæ³¨å¥å±æ§å¼ æ¿ä»£property\n\n\x3c!--    ä¸¤ä¸ªbeanä¸æ ·ç--\x3e\n   <bean id="userService" class="com.itheima.service.impl.UserServiceImpl" p:bookDao-ref="bookDao" p:userDao-ref="userDao" />\n\n    <bean id="userService" class="com.itheima.service.impl.UserServiceImpl">\n        <property name="userDao" ref="userDao"/>\n        <property name="bookDao" ref="bookDao"/>\n    </bean>\n\n\n1\n2\n3\n4\n5\n6\n7\n\n\n\n# SpEL ELè¡¨è¾¾å¼\n\nspringéè¿ELè¡¨è¾¾å¼çæ¯æ,ç»ä¸å±æ§æ³¨å¥æ ¼å¼\n\n\n\nå¨valueä¸­ä¹¦åelè¡¨è¾¾å¼\n\n\n# propertiesæä»¶\n\nå¢å å±æ§ xmlns:context="http://www.springframework.org/schema/context"\n\nå¹¶å ä¸çº¦æ http://www.springframework.org/schema/context https://www.springframework.org/schema/context/spring-context.xsd\n\n<beans xmlns="http://www.springframework.org/schema/beans"\n       xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"\n       xmlns:p="http://www.springframework.org/schema/p"\n       xmlns:context="http://www.springframework.org/schema/context"\n       xsi:schemaLocation="\n       http://www.springframework.org/schema/beans\n        https://www.springframework.org/schema/beans/spring-beans.xsd\n       http://www.springframework.org/schema/context\n        https://www.springframework.org/schema/context/spring-context.xsd\n">\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n\n\nå contextå½åç©ºé´çæ¯æ\n\n    \x3c!--   contextå½åç©ºé´ å è½½ç±»è·¯å¾ä¸ ææçpropertiesæä»¶  å è½½åä½¿ç¨${å±æ§å} --\x3e\n    <context:property-placeholder location="classpath:*.properties"/>\n <bean id="userService" class="com.itheima.service.impl.UserServiceImpl">\n            <constructor-arg ref="userDao" />\n            <constructor-arg name="num" value="${age}"/>\n        </bean>--\x3e\n\n\n1\n2\n3\n4\n5\n6\n\n\n\n# import å¢éå¼å\n\nxmlä¸­éè¿<import>æ ç­¾æä»¬å¯ä»¥å¼å¥å¤é¨çIoCéç½®\n\n * <impoprt>æ ç­¾ å¼ç¨å¤é¨IoCéç½®\n   * resourceå±æ§ éç½®æä»¶å\n\n\n# å®¹å¨è¿è¡æ¶å è½½å¤ä¸ªIoCéç½®\n\nApplicationContext ctx =new ClassPathXmlApplicationContext("applicationContext.xml","applicationContext2.xml");\n\n\n1\n\n\n\n# beanæ³¨æäºé¡¹\n\n * idæ¯å¯ä¸ç åä¸æä»¶ä¸­ä¸åè®¸å­å¨ç¸åid èä¸åæä»¶ä¸­åå®ä¹è¦çåé¢ç\n * å¯¼å¥éç½®æä»¶å¯ä»¥çè§£ä¸º å°éç½®æä»¶å¤å¶ç²è´´å°å¯¹åºä½ç½®\n * å¯¼å¥éç½®æä»¶é¡ºåºä¸åå¯è½å¯¼è´ç¨åºè¿è¡ç»æä¸å\n\n\n# ApplicationContextå¯¹è±¡\n\n\n\n\n# ç¬¬ä¸æ¹èµæºbeanéç½®\n\næ·»å druidæ¨¡å druidæ¯é¿éå·´å·´å¼åçjdbcè¿æ¥æ± ç»ä»¶\n\n        <dependency>\n            <groupId>com.alibaba</groupId>\n            <artifactId>druid</artifactId>\n            <version>1.1.21</version>\n        </dependency>\n\n\n1\n2\n3\n4\n5\n\n\néç½®æä»¶\n\n    <bean id="dataSource" class="com.alibaba.druid.pool.DruidDataSource">\n        <property name="driverClassName" value="com.mysql.jdbc.Driver"/>\n        <property name="url" value="jdbc:mysql://localhost:3306/heima_mm"/>\n        <property name="username" value="root"/>\n        <property name="password" value="123456"/>\n    </bean>\n\n\n1\n2\n3\n4\n5\n6\n\n\nåå»º\n\nApplicationContext ctx =new ClassPathXmlApplicationContext("applicationContext.xml");\nDruidDataSource dataSource = (DruidDataSource) ctx.getBean("dataSource");\nSystem.out.println(dataSource);\n\n\n1\n2\n3\n\n\nçæ¸æ¥ ç¬¬ä¸æ¹ç±»çç±»å å±æ§å setæ¹æ³\n\n\n# Spring+MyBatis\n\napplicationContext.xml\n\n<beans xmlns="http://www.springframework.org/schema/beans"\n       xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"\n       xmlns:p="http://www.springframework.org/schema/p"\n       xmlns:context="http://www.springframework.org/schema/context"\n       xsi:schemaLocation="\n       http://www.springframework.org/schema/beans\n        https://www.springframework.org/schema/beans/spring-beans.xsd\n       http://www.springframework.org/schema/context\n        https://www.springframework.org/schema/context/spring-context.xsd\n">\n\n    <context:property-placeholder location="classpath:*.properties"/>\n\n    <bean id="dataSource" class="com.alibaba.druid.pool.DruidDataSource">\n        <property name="driverClassName" value="${jdbc.driver}"/>\n        <property name="url" value="${jdbc.url}"/>\n        <property name="username" value="${jdbc.username}"/>\n        <property name="password" value="${jdbc.password}"/>\n\n    </bean>\n\n\n    \x3c!--    springæ´åmybatisåæ§å¶åå»ºè¿æ¥ç¨çå¯¹è±¡--\x3e\n    <bean class="org.mybatis.spring.SqlSessionFactoryBean">\n        <property name="dataSource" ref="dataSource"/>\n        <property name="typeAliasesPackage" value="com.itheima.domain"/>\n    </bean>\n\n    \x3c!--    å è½½mybatisæ å°éç½®æ«æ å°å¶ä½ä¸ºspringçbeanè¿è¡ç®¡ç--\x3e\n    <bean class="org.mybatis.spring.mapper.MapperScannerConfigurer">\n        <property name="basePackage" value="com.itheima.dao"/>\n    </bean>\n</beans>\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n26\n27\n28\n29\n30\n31\n32\n33\n\n\npox.xml\n\n<?xml version="1.0" encoding="UTF-8"?>\n<project xmlns="http://maven.apache.org/POM/4.0.0"\n         xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"\n         xsi:schemaLocation="http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd">\n    <modelVersion>4.0.0</modelVersion>\n\n    <groupId>org.example</groupId>\n    <artifactId>spring+mybatis</artifactId>\n    <version>1.0-SNAPSHOT</version>\n\n    <properties>\n        <maven.compiler.source>8</maven.compiler.source>\n        <maven.compiler.target>8</maven.compiler.target>\n    </properties>\n    <dependencies>\n        <dependency>\n            <groupId>org.mybatis</groupId>\n            <artifactId>mybatis</artifactId>\n            <version>3.5.3</version>\n        </dependency>\n        <dependency>\n            <groupId>mysql</groupId>\n            <artifactId>mysql-connector-java</artifactId>\n            <version>5.1.47</version>\n        </dependency>\n        <dependency>\n            <groupId>org.springframework</groupId>\n            <artifactId>spring-context</artifactId>\n            <version>5.1.9.RELEASE</version>\n        </dependency>\n        <dependency>\n            <groupId>org.springframework</groupId>\n            <artifactId>spring-jdbc</artifactId>\n            <version>5.1.9.RELEASE</version>\n        </dependency>\n        <dependency>\n            <groupId>com.alibaba</groupId>\n            <artifactId>druid</artifactId>\n            <version>1.1.21</version>\n        </dependency>\n        <dependency>\n            <groupId>org.mybatis</groupId>\n            <artifactId>mybatis-spring</artifactId>\n            <version>2.0.3</version>\n        </dependency>\n    </dependencies>\n\n</project>\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n26\n27\n28\n29\n30\n31\n32\n33\n34\n35\n36\n37\n38\n39\n40\n41\n42\n43\n44\n45\n46\n47\n48\n\n\n\n# æ³¨è§£\n\næ³¨è§£ä»£æ¿xmléç½®å¯ä»¥ç®åéç½® æä¾å¼åæç\n\nhttps://www.cnblogs.com/alter888/p/9083963.html\n\n\n\nå¹¶ä¸è¦å¨applicationContext.xmlä¸­éç½®ç»ä»¶æ«æ\n\n    \x3c!--    éç½®ç»ä»¶æ«æ--\x3e\n    <context:component-scan base-package="com.itheima"/>\n\n\n1\n2\n\n\n\n# æ°æ³¨è§£\n\nä½¿ç¨ä¸é¢çæ³¨è§£è¿ä¸è½å®å¨æ¿ä»£xmléç½® å¦ç¬¬ä¸æ¹çç±»\n\n\n\n@Bean æ è®°ç¬¬ä¸æ¹ç±»\n\npublic class JDBCConfig {\n    @Value("${jdbc.driver}")\n    private String driver;\n    @Value("${jdbc.url}")\n    private String url;\n    @Value("${jdbc.username}")\n    private String userName;\n    @Value("${jdbc.password}")\n    private String password;\n\n    @Bean("dataSource")\n    public DataSource getDataSource(){\n        DruidDataSource ds = new DruidDataSource();\n        ds.setDriverClassName(driver);\n        ds.setUrl(url);\n        ds.setUsername(userName);\n        ds.setPassword(password);\n        return ds;\n    }\n}\n\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n\n\n\n\n\n# å è½½æ§å¶\n\n@DependsOn("classname")\n\n\n\n@Order(n) æ§å¶å è½½é¡ºåº\n\n\n\n@Lazy å»¶è¿å è½½\n\n\n\n\n# æ´åJunit\n\nå¨Springä¸­ä¹åæä»¬æµè¯é½éè¦è·åå®¹å¨ ç¶åè·åbean\n\nå¯¼å¥åæ \n\n<dependency>\n            <groupId>junit</groupId>\n            <artifactId>junit</artifactId>\n            <version>4.12</version>\n            <scope>test</scope>\n        </dependency>\n        <dependency>\n            <groupId>org.springframework</groupId>\n            <artifactId>spring-test</artifactId>\n            <version>5.1.9.RELEASE</version>\n        </dependency>\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n\n\næµè¯æ ·ä¾\n\n//è®¾å®springä¸ç¨çç±»å è½½å¨\n@RunWith(SpringJUnit4ClassRunner.class)\n//è®¾å®å è½½çspringä¸ä¸æå¯¹åºçéç½®\n@ContextConfiguration(classes = SpringConfig.class)\npublic class UserServiceTest {\n\n    @Autowired\n    private AccountService accountService;\n\n    @Test\n    public void testFindById(){\n        Account ac = accountService.findById(2);\n//        System.out.println(ac);\n        //assert é¢è®¡å¼  ç»æå¼  å¦æä¸ä¸è´åæµè¯ä¸éè¿\n        Assert.assertEquals("Jock",ac.getName());\n    }\n\n    @Test\n    public void testFindAll(){\n        List<Account> list = accountService.findAll();\n        Assert.assertEquals(2,list.size());\n    }\n\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n\n\n\n# Iocåºå±æ ¸å¿åç\n\n\n\n\n\n\n\n\n\n\n# ç»ä»¶æ«æè¿æ»¤å¨\n\n@ComponentScan ç»ä»¶æ«æå¨æ¥æè¿æ»¤æå®ç»ä»¶åè½\n\n * ææ³¨è§£ç±»å è¿æ»¤\n   * excludeFilters è®¾ç½®æé¤æ§è¿æ»¤å¨\n   * includeFilters è®¾ç½®åå«æ§è¿æ»¤å¨\n\n//ææç@Serviceæ³¨è§£è¢«è¿æ»¤\n@ComponentScan(value = "com.itheima",excludeFilters = @ComponentScan.Filter(type = FilterType.ANNOTATION,classes = Service.class))\n\n\n\n1\n2\n3\n\n\n\n# èªå®ä¹ç»ä»¶è¿æ»¤å¨\n\nç»§æ¿TypeFilter å®ç°matchæ¹æ³ è¿åfalseåä¸è¿æ»¤ è¿åtrueåè¿æ»¤\n\npackage com.itheima.config.filter;\n\nimport org.springframework.core.type.classreading.MetadataReader;\nimport org.springframework.core.type.classreading.MetadataReaderFactory;\nimport org.springframework.core.type.filter.TypeFilter;\n\nimport java.io.IOException;\n\npublic class MyTypeFilter implements TypeFilter {\n\n\n    public boolean match(MetadataReader metadataReader, MetadataReaderFactory metadataReaderFactory) throws IOException {\n        ClassMetadata classMetadata = metadataReader.getClassMetadata();  //è·åclassçåæ°æ®\n        String className = classMetadata.getClassName();  //è·åç±»å\n        System.out.println(className);\n        if(className.equals("com.itheima.service.impl.AccountServiceImpl")){\n            return true;\n        }\n\n        return false;\n    }\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n\n * æèªå®ä¹è¿æ»¤å¨ è¿æ»¤\n\n@ComponentScan(value = "com.itheima",excludeFilters = @ComponentScan.Filter(type = FilterType.CUSTOM,classes = MyTypeFilter.class))\n\n\n1\n\n\n\n# èªå®ä¹å¯¼å¥å¨\n\nç»§æ¿ ImportSelector å®ç°selectImportsæ¹æ³\n\npackage com.itheima.config.selector;\n\nimport org.springframework.context.annotation.ImportSelector;\nimport org.springframework.core.type.AnnotationMetadata;\n\nimport java.util.ResourceBundle;\n\npublic class MyImportSelector implements ImportSelector {\n\n    public String[] selectImports(AnnotationMetadata importingClassMetadata) {\n\n        //ä½¿ç¨propertiesæä»¶è¯»å\n        ResourceBundle bundle = ResourceBundle.getBundle("import");  //æä»¶å\n        String className = bundle.getString("className");  //å±æ§å\n        return new String[]{className};\n\n//        return new String[]{"com.itheima.service.impl.AccountServiceImpl"}; //ç´æ¥è¿åæå®ç±»ä¸æ¨èä½¿ç¨\n    }\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n\n\nå¯¼å¥æå®çç»ä»¶ ä¸ç¨éè¦beanç»å®æèæ³¨è§£ç»å®\n\n@Import(MyImportSelector.class)\n\n\n1\n\n\n\n# èªå®ä¹æ³¨åå¨\n\nç»§æ¿ ImportBeanDefinitionRegistrar å®ç° registerBeanDefinitions æ¹æ³\n\npackage com.itheima.config.registrar;\n\nimport org.springframework.beans.factory.support.BeanDefinitionRegistry;\nimport org.springframework.context.annotation.ClassPathBeanDefinitionScanner;\nimport org.springframework.context.annotation.ImportBeanDefinitionRegistrar;\nimport org.springframework.core.type.AnnotationMetadata;\nimport org.springframework.core.type.classreading.MetadataReader;\nimport org.springframework.core.type.classreading.MetadataReaderFactory;\nimport org.springframework.core.type.filter.TypeFilter;\n\nimport java.io.IOException;\n\npublic class MyImportBeanDefinitionRegistrar implements ImportBeanDefinitionRegistrar {\n\n    public void registerBeanDefinitions(AnnotationMetadata importingClassMetadata, BeanDefinitionRegistry registry) {\n        ClassPathBeanDefinitionScanner scanner = new ClassPathBeanDefinitionScanner(registry,false);\n        scanner.addIncludeFilter(new TypeFilter() {\n            public boolean match(MetadataReader metadataReader, MetadataReaderFactory metadataReaderFactory) throws IOException {\n                return true;\n            }\n        });\n        scanner.scan("com.itheima");\n    }\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n\n\n@Import(MyImportBeanDefinitionRegistrar.class)  //èªå®ä¹æ³¨åå¨\n\n\n1\n\n\n\n# beanåå§åè¿ç¨\n\n\n\n\n\n\n# AOP\n\nAspect Oriented Programming é¢ååé¨ç¼ç¨ éè¿é¢ç¼è¯æ¹å¼åè¿è¡æå¨æä»£çå®ç°ç¨åºåè½çç»ä¸ç»´æ¤çä¸ç§ææ¯\n\nAOP æ¯ OOP(é¢åå¯¹è±¡) çå»¶ç»­\n\n\n\nä½ç¨:å¨ç¨åºè¿è¡æé´ å¨ä¸ä¿®æ¹æºç çæåµä¸å¯¹æ¹æ³è¿è¡åè½å¢å¼º\n\nä¼å¿:åå°éå¤ä»£ç  æé«å¼åæç å¹¶ä¸ä¾¿äºç»´æ¤\n\n\n# AOPçå¨æä»£çå¯¹è±¡\n\n * JDKä»£ç : åºäºæ¥å£çå¨æä»£çææ¯\n * cglibä»£ç : åºäºç¶ç±»çå¨æä»£çææ¯\n\nå¯¼å¥åæ \n\n        <dependency>\n            <groupId>org.aspectj</groupId>\n            <artifactId>aspectjweaver</artifactId>\n            <version>1.9.4</version>\n        </dependency>\n\n\n1\n2\n3\n4\n5\n\n\næå±æ§çåè½æååºæ¥ å¹¶æä¾ç±»åæ¹æ³\n\n\n# XMLéç½®\n\næ·»å aop ä»¥ä¸å£°æ\n\nxmlns:aop="http://www.springframework.org/schema/aop"\nhttp://www.springframework.org/schema/aop\nhttps://www.springframework.org/schema/aop/spring-aop.xsd\n\n\n1\n2\n3\n\n\næ ç­¾å¤´\n\n<beans xmlns="http://www.springframework.org/schema/beans"\n       xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"\n       xmlns:p="http://www.springframework.org/schema/p"\n       xmlns:context="http://www.springframework.org/schema/context"\n       xmlns:aop="http://www.springframework.org/schema/aop"\n       xsi:schemaLocation="http://www.springframework.org/schema/beans\n        https://www.springframework.org/schema/beans/spring-beans.xsd\n        http://www.springframework.org/schema/context\n        https://www.springframework.org/schema/context/spring-context.xsd\n        http://www.springframework.org/schema/aop\n        https://www.springframework.org/schema/aop/spring-aop.xsd">\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n\n\nç»å®\n\n    \x3c!--3.å¼å¯AOPå½åç©ºé´--\x3e\n    <bean id="userService" class="com.itheima.service.impl.UserServiceImpl"/>\n    \x3c!--2.éç½®å±æ§åè½æåspringæ§å¶çèµæº  å±æ§åè½çç±»--\x3e\n    <bean id="myAdvice" class="com.itheima.aop.AOPAdvice"/>\n\n    \x3c!--4.éç½®AOP--\x3e\n    <aop:config>\n        \x3c!--5.éç½®åå¥ç¹--\x3e\n        <aop:pointcut id="pt" expression="execution(* *..*(..))"/>\n        \x3c!--6.éç½®åé¢ï¼åå¥ç¹ä¸éç¥çå³ç³»ï¼--\x3e\n        <aop:aspect ref="myAdvice">\n            \x3c!--7.éç½®å·ä½çåå¥ç¹å¯¹åºéç¥ä¸­é£ä¸ªæä½æ¹æ³  pointcut-refä¸ºpointcutå¯¹åºçid--\x3e\n            <aop:before method="function" pointcut-ref="pt"/>\n        </aop:aspect>\n    </aop:config>\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n\n * aop:configæ ç­¾ aopæ ¹æ ç­¾ å¨beanså¯ä»¥æ¥æå¤ä¸ª\n   * aop:aspectæ ç­¾ å¯ä»¥å¨aop:configä¸­éç½®å¤ä¸ª\n     * refå±æ§ éç¥(å±æ§ç±»)æå¨çbeançid\n     * aop:beforeæ ç­¾ åé¢\n       * methodå±æ§ éç¥ä¸­å·ä½çæ¹æ³\n       * pointcut-refå±æ§ ä¸aop:pointcutä¸­çidè¦ä¸è´\n       * pointcut="execution(* ..(..))" ç§æåå¥ç¹ ä¸è½ä¸pointcut-refå±å­\n   * aop:pointcutæ ç­¾ ä¹å¯ä»¥æ¥æå¤ä¸ª ä¸çº§æªconfigåä¸ºå¬å±åå¥ç¹ ä¸çº§æªaspectåä¸ºå±é¨åå¥ç¹\n     * idå±æ§ åç§° å¯ä»¥èªå®ä¹\n     * expressionå±æ§ åå¥ç¹æ¨¡å¼\n\n# åå¥ç¹è¡¨è¾¾å¼\n\n\n\n\n\næ¯æé»è¾è¿ç®ç¬¦ åéè¿ç®\n\n# éç¥ç±»å\n\n * aop:before åç½®éç¥ å¦æéç¥ä¸­æåºå¼å¸¸ åé»æ­¢åå§æ¹æ³è¿è¡\n * aop:after åç½®éç¥ æ è®ºæ¯å¦å¼å¸¸ é½ä¼æ§è¡éç¥\n * aop:after-running è¿è¡éç¥ å¦ææåºå¼å¸¸æ æ³éç¥\n * aop:after-throwing å¼å¸¸éç¥ å¦ææ²¡ææåºå¼å¸¸æ æ³éç¥\n * aop:around ç¯ç»éç¥ å¨åå§æ¹æ³æ§è¡ååé½æå¯¹åºæ§è¡çæ§è¡,è¿å¯ä»¥é»æ­¢åå§æ¹æ³æ§è¡\n   * \n\n# éç¥é¡ºåº\n\nå½åä¸ä¸ªåå¥ç¹éç½®å¤ä¸ªéç¥æ¶,æ ç­¾éç½®çé¡ºåºå°±æ¯æ§è¡çé¡ºåº\n\n# éç¥è·åæ°æ®\n\n * è·ååæ° ææçéç¥é½å¯ä»¥è·ååæ°\n   \n   * public void before(JoinPoint jp) throws  Throwable{\n             Object[] args = jp.getArgs();\n         }\n     \n     \n     1\n     2\n     3\n     \n   \n   * ç¬¬äºä¸ªæ¹æ³\n     \n     * å¨éç¥æ¹æ³ä¸­å®ä¹åé\n       \n       * public void before2(int a) {\n                 System.out.println(a);\n             }\n         \n         \n         1\n         2\n         3\n         \n     \n     * å¨applicationContext.xml éç½®aopä¼ å\n       \n       *             \x3c!--         &ampæ¯&  args(a) ä¸ºaopéç¥æ¹æ³ä¸­å½¢åçåå­   --\x3e\n                     <aop:before method="before2" pointcut="execution(* *..*(..)) &amp;&amp; args(a)"/>\n         \n         \n         1\n         2\n         \n\n# éç¥è·åè¿åå¼\n\n * è·åè¿åå¼ åªæaround å after-returning éç¥\n   \n   * public void before2(Object ret) {\n             System.out.println(ret);\n         }\n     \n     \n     1\n     2\n     3\n     \n   \n   *             \x3c!--       returningä¸ºéç¥æ¹æ³å½¢åçåå­  æ­¤åéä¸ºåå§æ¹æ³çè¿åå¼     --\x3e\n                 <aop:after-returning method="before2" pointcut-ref="pt" returning="ret"/>\n     \n     \n     1\n     2\n     \n   \n   * ç¬¬äºç§æ¹æ³\n     \n     *     public Object around (ProceedingJoinPoint pjp) throws Throwable {\n               //å¯¹åå§æ¹æ³çè°ç¨  è¿ååå§æ¹æ³çè¿åå¼\n               Object proceed = pjp.proceed();\n               System.out.println(proceed);\n               //å¿é¡»è¿åè¿åå¼ ä¸ç¶åå§æ¹æ³ä¼å¼å¸¸\n               return proceed;\n           }\n       \n       \n       1\n       2\n       3\n       4\n       5\n       6\n       7\n       \n     \n     * <aop:around method="around" pointcut-ref="pt"/>\n       \n       \n       \n       1\n       2\n       \n\n# è·åå¼å¸¸\n\n * è·åå¼å¸¸ around å after-throwing éç¥è·å\n   \n   *     public void afterThrowing(Throwable t){\n             System.out.println(t.getMessage());\n         }\n     \n     \n     1\n     2\n     3\n     \n   \n   *             \x3c!--      throwingä¸ºéç¥æ¹æ³ä¸­å½¢åçåç§°  ç¨äºè·åå¼å¸¸      --\x3e\n                 <aop:after-throwing method="afterThrowing" pointcut-ref="pt" throwing="t"/>\n     \n     \n     1\n     2\n     \n   \n   * ç¬¬äºç§æ¹æ³\n     \n     *     public Object around (ProceedingJoinPoint pjp)  {\n               //å¯¹åå§æ¹æ³çè°ç¨  è¿ååå§æ¹æ³çè¿åå¼\n               Object proceed = null;\n               try {\n                   proceed = pjp.proceed();\n               } catch (Throwable e) {\n                   e.printStackTrace();\n               }\n               System.out.println(proceed);\n               //å¿é¡»è¿åè¿åå¼ ä¸ç¶åå§æ¹æ³ä¼å¼å¸¸\n               return proceed;\n           }\n       \n       \n       1\n       2\n       3\n       4\n       5\n       6\n       7\n       8\n       9\n       10\n       11\n       12\n       \n     \n     *  <aop:around method="around" pointcut-ref="pt"/>\n       \n       \n       1\n       \n\n\n# æ³¨è§£\n\n * å¼aopæ³¨è§£æ¯æ\n   \n   * <aop:aspectj-autoproxy/>\n     \n     \n     1\n     \n\n * å¨AOPç±»ä¸å æ³¨è§£\n   \n   * @Component //beanç»å®\n     @Aspect  //æ è®°AOP æ³¨è§£\n     public class AOPAdvice {\n          @Pointcut("execution(* *..*(..))")  //å®ä¹ä¸ä¸ªç©ºæ¹æ³ å¹¶ä¸ç»å®ä¸ºaop id=pt\n         public void pt(){}\n         \n          @Before("pt()")  //æ è®°ä¸ºaop-beforeæ¹æ³ å¹¶ä¸ç»å®ç©ºé´åç§° pt()\n         public void before(JoinPoint jp) throws Throwable {\n             Object[] args = jp.getArgs();\n         }\n         \n             @After("pt()")\n         public void function() {\n             System.out.println("å±æ§åè½");\n         }\n         \n             @Around("pt()")\n         public Object around (ProceedingJoinPoint pjp)  {\n             //å¯¹åå§æ¹æ³çè°ç¨  è¿ååå§æ¹æ³çè¿åå¼\n             Object proceed = null;\n             try {\n                 proceed = pjp.proceed();\n             } catch (Throwable e) {\n                 e.printStackTrace();\n             }\n             System.out.println(proceed);\n             //å¿é¡»è¿åè¿åå¼ ä¸ç¶åå§æ¹æ³ä¼å¼å¸¸\n             return proceed;\n         }\n         \n             @AfterReturning(value = "pt()", returning = "ret")\n         public void before2(Object ret) {\n             System.out.println(ret);\n         }\n     \n         @AfterThrowing(value = "pt()", throwing = "t")\n         public void afterThrowing(Throwable t) {\n             System.out.println(t.getMessage());\n         }\n         \n     }\n     \n     \n     1\n     2\n     3\n     4\n     5\n     6\n     7\n     8\n     9\n     10\n     11\n     12\n     13\n     14\n     15\n     16\n     17\n     18\n     19\n     20\n     21\n     22\n     23\n     24\n     25\n     26\n     27\n     28\n     29\n     30\n     31\n     32\n     33\n     34\n     35\n     36\n     37\n     38\n     39\n     40\n     41\n     \n\n * @Aspect æ è®°ä¸ºaop å¨AOPç±»ä¸ è®°å¾å®ä¾åå¹¶@Component\n\n * @Pointcut å®ä¹ä¸ªä¸ä¸ªç©ºåæ è¿åå¼çç©ºæ¹æ³ ä¸ºæ­¤aopç»å®ç©ºé´åç§° ä¸ºæ¹æ³å å¦æå¨å¶ä»ç±»ä¸­åå»º åéç¥ä¸­è°ç¨è¦å ä¸ç±»å å¦: aopconfig.pt()\n\n * @After åç½®éç¥\n\n * @Before åç½®éç¥\n\n# æ³¨è§£éç¥æ§è¡é¡ºåº\n\n 1. ä¸æ¹æ³å®ä¹ä½ç½®æ å³\n 2. å¦æéç¥ç±»åå ä¸æ¹æ³åèªç¶æåºæ¥æ§è¡\n 3. å¦ææ¯ä¸åAOPçéç¥ æ¯ä¸AOPç±»åæå³\n 4. å¨ç±»ä¸æ¹ ä½¿ç¨æ³¨è§£ @Order(n) èªå®ä¹é¡ºåº\n\n# AOPéç½® (æ³¨è§£)\n\nåé¢æä»¬ç¨xmléç½®æ³¨è§£\n\n * @EnableAspectJAutoProxy å¼å¯aopæ³¨è§£ å¨springéç½®ç±»ä¸­æ è®°æ³¨è§£\n\n\n# éæä»£ç\n\nè£é¥°èæ¨¡å¼ (Decorator Pattern) å¨ä¸æå¨åå§è®¾è®¡çåºç¡ä¸,ä¸ºå¶æ·»å åè½\n\nåå»ºä¸ä¸ªæ°çç±» å¹¶ç»§æ¿åæ¥å£ æåæé æ¹æ³ å½¢åä¸ºåå§å¯¹è±¡ è°ç¨åå§æ¹æ³\n\npublic class UseServiceImplDecorator implements UserService {\n\n    private UserService userService;\n\n    public UseServiceImplDecorator(UserService userService) {\n        this.userService = userService;\n    }\n\n    @Override\n    public void save() {\n        userService.save();\n        System.out.println("å®å¤§ç½");\n    }\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n\n\n\n# JDKå¨æä»£ç\n\npublic class UserServiceJDKProxy {\n    public static UserService createUserServiceJDKProxy(UserService userService) {\n\n\n        ClassLoader cl = userService.getClass().getClassLoader();  //è·åå è½½ç±»\n        Class[] classes = userService.getClass().getInterfaces();  //è·åç±»æ¥å£\n\n        InvocationHandler ih = new InvocationHandler() {\n            @Override\n            public Object invoke(Object proxy, Method method, Object[] args) throws Throwable {\n                Object invoke = method.invoke(userService, args);  //è°ç¨åå§æ¹æ³\n                System.out.println("å®å¤§ç½");   //ä¸å½±ååå§ç±»ä¸å®ç°å¢å¼ºåè½\n                return invoke;\n            }\n        };\n        UserService service = (UserService) Proxy.newProxyInstance(cl, classes, ih);\n        return service;\n\n    }\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n\n\n\n# CGLIB\n\nCGLIB(Code Generation Library) Codeçæç±»åº ä¸éå®æ¯å¦æå·ä½æ¥å£ æ éåå§ä»£çå¯¹è±¡\n\npublic class UserServiceCglibProxy {\n\n    public static UserService createUserServiceCglibProxy(Class claszz) {\n        Enhancer enhancer = new Enhancer();\n        enhancer.setSuperclass(claszz);   //è®¾ç½®enhancerçç¶ç±»\n        enhancer.setCallback(new MethodInterceptor() {\n            @Override\n            public Object intercept(Object o, Method method, Object[] objects, MethodProxy methodProxy) throws Throwable {\n//                method.invoke(o,objects);\n//                methodProxy.invoke(o,objects);\n                System.out.println(method.getName());  //è·åæ¹æ³å\n                Object ret = methodProxy.invokeSuper(o, objects);//åå§æ¹æ³è°ç¨ é»è®¤å¯¹æææ¹æ³åå¢å¼º\n\n                if (method.getName().equals("save")) {  //éè¦å¤æ­æ¹æ³å\n                    System.out.println("å®å¤§ç½");\n                }\n                return ret;\n            }\n        });\n        return (UserService) enhancer.create();\n    }\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n\n\næµè¯ç±»\n\n    public static void main(String[] args) {\n        UserService userService = UserServiceCglibProxy.createUserServiceCglibProxy(UserServiceImpl.class);\n        userService.save();\n    }\n\n\n1\n2\n3\n4\n\n\n\n# AOPåºå± åæ¢å¨æä»£çæ¹å¼\n\nAOPåºå±ä½¿ç¨çJDKçå¨æä»£çæ¹å¼\n\næä»¬å¯ä»¥éç½®ä¸ºä½¿ç¨CGLIBæ¹å¼ éè¦å¨aop:configä¸­éç½®\n\n \x3c!--XMLéç½®AOP é»è®¤ä¸ºflase ä¸ºjdkå¨æä»£ç trueä¸ºCGLIBä»£ç --\x3e  \n<aop:config proxy-target-class="true">\n    \x3c!-- æ³¨è§£éç½®AOP--\x3e\n<aop:aspectj-autoproxy proxy-target-class="false"/>\n\n\n1\n2\n3\n4\n\n\n//æ³¨è§£é©±å¨\n@EnableAspectJAutoProxy(proxyTargetClass = true)\n\n\n1\n2\n\n\n\n# ç»å¥æ¶æº\n\n\n\n\n# äºå¡\n\näºå¡ææ°æ®åºä¸­å¤ä¸ªæä½åå¹¶å¨ä¸èµ·å½¢æçæä½åºå\n\n * å½æä½åºç°å¤±è´¥ åæ»äºå¡ ä¿éæ°æ®çä¸è´æ§\n * å½å¹¶åè®¿é®æ°æ®åºæ¶ é²æ­¢å¹¶åè®¿é®æä½ç»æç¸äºå¹²æ°\n * \n\n\n# äºå¡æ ¸å¿å¯¹è±¡\n\n\n\n\n# ç¼ç¨å¼äºå¡\n\n    private DataSource dataSource;\n    public void setDataSource(DataSource dataSource) {\n        this.dataSource = dataSource;\n    }   \n\n//å¼å¯äºå¡\n        PlatformTransactionManager ptm = new DataSourceTransactionManager(dataSource);\n        //äºå¡å®ä¹\n        TransactionDefinition td = new DefaultTransactionDefinition();\n        //äºå¡ç¶æ\n        TransactionStatus ts = ptm.getTransaction(td);\n\n        accountDao.inMoney(outName, money);\n//        int i = 1 / 0;\n        accountDao.outMoney(inName, money);\n\n        //æäº¤äºå¡\n        ptm.commit(ts);\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n\n\nä¸å¡å±è¦æ³¨å¥dataSource\n\n    <bean id="accountService" class="com.itheima.service.impl.AccountServiceImpl">\n        <property name="accountDao" ref="accountDao"/>\n        <property name="dataSource" ref="dataSource"/>\n    </bean>\n\n\n1\n2\n3\n4\n\n\n\n# AOPæ¹é ç¼ç¨å¼äºå¡\n\n    private DataSource dataSource;\n    public void setDataSource(DataSource dataSource) {\n        this.dataSource = dataSource;\n    }\n\n    public Object transactionManager(ProceedingJoinPoint pjp) throws Throwable {\n        //å¼å¯äºå¡\n        PlatformTransactionManager ptm = new DataSourceTransactionManager(dataSource);\n        //äºå¡å®ä¹\n        TransactionDefinition td = new DefaultTransactionDefinition();\n        //äºå¡ç¶æ\n        TransactionStatus ts = ptm.getTransaction(td);\n\n        Object ret = pjp.proceed(pjp.getArgs());\n\n        //æäº¤äºå¡\n        ptm.commit(ts);\n\n        return ret;\n\n    }\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n\n\n    <bean id="txAdvice" class="com.itheima.aop.TxAdvice">\n        <property name="dataSource" ref="dataSource"/>\n    </bean>\n\n    <aop:config>\n        <aop:pointcut id="pt" expression="execution(* *..transfer(..))"/>\n        <aop:aspect ref="txAdvice">\n            <aop:around method="transactionManager" pointcut-ref="pt"/>\n        </aop:aspect>\n    </aop:config>\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n\n\n\n# å£°æå¼äºå¡\n\nå£°ææ·»å å\n\nxmlns:tx="http://www.springframework.org/schema/tx"\n\nhttp://www.springframework.org/schema/tx\n\nhttps://www.springframework.org/schema/tx/spring-tx.xsd\n\n<beans xmlns="http://www.springframework.org/schema/beans"\n       xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"\n       xmlns:context="http://www.springframework.org/schema/context"\n       xmlns:aop="http://www.springframework.org/schema/aop"\n       xmlns:tx="http://www.springframework.org/schema/tx"\n       xsi:schemaLocation="http://www.springframework.org/schema/beans\n        https://www.springframework.org/schema/beans/spring-beans.xsd\n        http://www.springframework.org/schema/context\n        https://www.springframework.org/schema/context/spring-context.xsd\n        http://www.springframework.org/schema/tx\n        https://www.springframework.org/schema/tx/spring-tx.xsd\n        http://www.springframework.org/schema/aop\n        https://www.springframework.org/schema/aop/spring-aop.xsd">\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n\n\n    <bean class="org.mybatis.spring.SqlSessionFactoryBean">\n        <property name="dataSource" ref="dataSource"/>\n        <property name="typeAliasesPackage" value="com.itheima.domain"/>\n    </bean>\n\n\n    <bean class="org.mybatis.spring.mapper.MapperScannerConfigurer">\n        <property name="basePackage" value="com.itheima.dao"/>\n    </bean>\n\n    <bean id="accountService" class="com.itheima.service.impl.AccountServiceImpl">\n        <property name="accountDao" ref="accountDao"/>\n    </bean>\n\n\n\n\x3c!--    txå£°æ--\x3e\n    <bean id="txManager" class="org.springframework.jdbc.datasource.DataSourceTransactionManager">\n        <property name="dataSource" ref="dataSource"/>\n    </bean>\n\n    \x3c!--    å®ä¹äºå¡ç®¡ççéç¥ç±»--\x3e\n    <tx:advice id="txAdvice" transaction-manager="txManager">\n        \x3c!--å®ä¹è¦æ§å¶çäºå¡--\x3e\n        <tx:attributes>\n            \x3c!--            æå®æ¹æ³æ§å¶äºå¡ read-only æ¯å¦å¼å¯åªè¯»äºå¡--\x3e\n            \x3c!--            <tx:method name="transfer" read-only="false"/>--\x3e\n            <tx:method name="*" read-only="false"/>\n            <tx:method name="get*" read-only="true"/>\n            <tx:method name="find*" read-only="true"/>\n        </tx:attributes>\n    </tx:advice>\n\n    <aop:config>\n        <aop:pointcut id="pt" expression="execution(* com.itheima.service.*Service.*(..))"/>\n        \x3c!--      adviceå¯ä»¥æ¯æ®éç±»ä¸å®ç°æ¥å£ææ²¡æç»§æ¿å³ç³»  advisoréç¥ç±»å¿é¡»å®ç°éç¥æ¥å£  --\x3e\n        <aop:advisor advice-ref="txAdvice" pointcut-ref="pt"/>\n    </aop:config>\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n26\n27\n28\n29\n30\n31\n32\n33\n34\n35\n36\n37\n38\n\n\n\n# äºå¡ä¼ æ­è¡ä¸º\n\n\n\n\n\néè¦æå®ä¼ æ­å±æ§åå¨tx:method ç propagation å±æ§éç½®\n\n <tx:method name="aç¶" read-only="false" propagation="REQUIRED"/>\n<tx:method name="bå­" read-only="false" propagation="REQUIRED"/>\n\n\n1\n2\n\n\n\n# æ³¨è§£äºå¡\n\nå¨ä¸å¡å± sqlæä½æ¥å£(å¨é¨æ½è±¡æ¹æ³ æ¨èè¿ä¸ª ææ¥å£ä¸­çæ½è±¡æ¹æ³)/ç±»(å¨é¨æ¹æ³)/æ¹æ³ä¸é½å¯ä»¥ ä¸é¢å  @Transactional\n\n    @Transactional(readOnly = false, timeout = -1, isolation = Isolation.DEFAULT, rollbackFor = {IOException.class},propagation = Propagation.REQUIRED)\n    public void transfer(String outName, String inName, Double money);\n\n\n1\n2\n\n 1. å¼å¯txæ³¨è§£é©±å¨ xmlç\n\n    \x3c!--äºå¡ç®¡çä¸ºäºå¡æ³¨è§£ç»å®çæ¹æ³--\x3e\n    <tx:annotation-driven transaction-manager="txManager"/>\n\n\n1\n2\n\n 2. æ³¨è§£ç æ³¨è§£é©±å¨ å¨springconfigç±»ä¸æ è®°\n\n@EnableTransactionManagement\n\n\n1\n\n\nå¹¶ä¸éç½®äºå¡æ ¸å¿å¯¹è±¡\n\n    @Bean\n    public PlatformTransactionManager getTransactionManager(DataSource dataSource){\n        return new DataSourceTransactionManager(dataSource);\n    }\n\n\n1\n2\n3\n4\n\n\n\n# Springæ¨¡æ¿å¯¹è±¡\n\n\n# JdbcTemplate',normalizedContent:'# spring\n\nspringæ¯åå±çjavase/eeåºç¨ full-stackè½»éçº§ ä¸ç«å¼ å¼æºæ¡æ¶\n\nä½ç³»ç»æ:\n\n\n\n\n# ioc åè½¬\n\nioc(inversion of control) æ§å¶åè½¬,springååæ§å¶åºç¨ç¨åºæéè¦ä½¿ç¨çå¤é¨èµæº\n\nspringæ§å¶çèµæºå¨é¨æ¾ç½®å¨springå®¹å¨ä¸­,è¯¥å®¹å¨ç§°ä¸ºiocå®¹å¨\n\n\n# è¦åä¸åè\n\nè¦å(coupling): ä»£ç ä¹¦åè¿ç¨ä¸­æä½¿ç¨ææ¯çç»åç´§å¯åº¦,ç¨äºè¡¡éè½¯ä»¶ä¸­åä¸ªæ¨¡åä¹é´çäºèç¨åº¦\n\nåè(cohesion):ä»£ç ä¹¦åè¿ç¨ä¸­åä¸ªæ¨¡ååé¨åç»æé¨åé´çèç³»,ç¨äºè¡¡éè½¯ä»¶ä¸­åä¸ªåè½æ¨¡ååé¨çåè½èç³»\n\næä»¬è¿½æ± é«åè ä½è¦å\n\n\n# å·¥åæ¨¡å¼\n\n\n\n\n# åå»ºé¡¹ç®\n\n * åå»ºmavené¡¹ç®\n\n * å¯¼å¥æ¨¡å\n   \n   *     <dependencies>\n             <dependency>\n                 <groupid>org.springframework</groupid>\n                 <artifactid>spring-context</artifactid>\n                 <version>5.1.9.release</version>\n             </dependency>\n         </dependencies>\n     \n     \n     1\n     2\n     3\n     4\n     5\n     6\n     7\n     \n\n * å¨resourcesä¸­åå»ºapplicationcontext.xmlæä»¶\n   \n   * <?xml version="1.0" encoding="utf-8"?>\n     <beans xmlns="http://www.springframework.org/schema/beans"\n            xmlns:xsi="http://www.w3.org/2001/xmlschema-instance"\n            xsi:schemalocation="http://www.springframework.org/schema/beans\n             https://www.springframework.org/schema/beans/spring-beans.xsd">\n     \x3c!--   beanä¸ºæ å°æ ç­¾ åå»ºspringæ§å¶çèµæº  idä¸ºæä½ç©ºé´  classä¸ºå®ç°ç±»å¼ç¨è·¯å¾--\x3e\n         <bean id="userservice" class="com.itheima.service.impl.userserviceimpl"/>\n     </beans>\n     \n     \n     1\n     2\n     3\n     4\n     5\n     6\n     7\n     8\n     \n\n * ä½¿ç¨æ¹æ³\n   \n   * //2.å è½½éç½®æä»¶\n             applicationcontext ctx =new classpathxmlapplicationcontext("applicationcontext.xml");\n             //3.è·åèµæº\n             userservice userservice = (userservice) ctx.getbean("userservice");\n     \n             userservice.save();\n     \n     \n     1\n     2\n     3\n     4\n     5\n     6\n     \n\n\n# bean\n\n * <bean>æ ç­¾ å®ä¹springä¸­çèµæº, æ­¤æ ç­¾å®ä¹çèµæºå°åå°springæ§å¶\n   \n   * idå±æ§ beançåè¯ éè¿idå¼è·åå°bean\n   \n   * classå±æ§ beançç±»å\n   \n   * nameå±æ§ beançå«å æä»¬å¯ä»¥éè¿idæènameæ¥è·åå°bean å¹¶ä¸nameå¯ä»¥èµ·å¤ä¸ªå«å å«åä¹é´ç¨éå·éå¼\n   \n   * scopeå±æ§ å®ä¹beançä½ç¨èå´\n     \n     * singletonå¼ è®¾ç½®åå»ºåºçå¯¹è±¡ä¿å­å¨springå®¹å¨ä¸­ æ¯ä¸ä¸ªåä¾å¯¹è±¡ é»è®¤å¼ åä¾æ¶åå»ºspringå®¹å¨æ¶å°±å è½½beanç»å®çç±»\n     * prototypeå¼ è®¾ç½®åå»ºåºçå¯¹è±¡ä¿å­å¨springå®¹å¨ä¸­ æ¯ä¸ä¸ª**éåä¾å¯¹è±¡ ** éåä¾åæ¯å¨getbeanæ¶åå»ºç±»\n     * requestãsessionãapplicationãwebsocketå¼ è®¾ç½®åå»ºåºçå¯¹è±¡æ¾ç½®å¨webå®¹å¨å¯¹åºçä½ç½®\n   \n   * init-method beanå¯¹è±¡åå§åæ¶æ§è¡æå®æ¹æ³\n     \n     * å¼ä¸ºbeanå¯¹åºçç±»ä¸­çå·ä½æ¹æ³å\n   \n   * destroy-method beanå¯¹è±¡éæ¯æ¶æ§è¡æå®æ¹æ³\n     \n     * å¼ä¸ºbeanå¯¹åºçç±»ä¸­çå·ä½æ¹æ³å åªæclasspathxmlapplicationcontextææcloseæ¹æ³ springé»è®¤èªå¨éæ¯ä½éæ¯æ¹æ³ä¸ä¼æ§è¡\n     * \n   \n   * factory-methodå±æ§\n     \n     * å¼ä¸ºéæå·¥åä¸­åå»ºå¯¹è±¡çæ¹æ³\n   \n   * factory-beanå±æ§\n     \n     * å¼ä¸ºå®ä¾å·¥åçid éè¦åç¨ä¸ä¸ªbeanç»å®å®ä¾å·¥åç±» ç¶åç¬¬äºä¸ªbeançfactory-beanä¸ºç¬¬ä¸ä¸ªbeançid ç¶åç¨factory-methodè°ç¨å¶å®ä¾å·¥åçæ¹æ³\n     \n     * \x3c!--    factory-bea  å®ä¾å·¥ååå»ºå¯¹è±¡  éè¦beanåç»å®å®ä¾å·¥åç±» ç¶åç¬¬äºä¸ªbeançfactory-beaä¸ºå®ä¾å·¥åçid ç¶åfactory-methodè°ç¨å¶åå»ºå¯¹è±¡æ¹æ³--\x3e\n           <bean id="userservice3" class="com.itheima.service.userservicefactory2" />\n           <bean factory-bean="userservice3" factory-method="getservice"/>\n       \n       \n       1\n       2\n       3\n       \n\n\n# di ä¾èµæ³¨å¥\n\ndi(dependency injection) ä¾èµæ³¨å¥,åºç¨ç¨åºè¿è¡ä¾èµçèµæºç±springä¸ºå¶æä¾,èµæºè¿å¥åºç¨ç¨åºçæ¹å¼ç§°ä¸ºæ³¨å¥\n\n\n# setæ³¨å¥\n\n * <property>æ ç­¾ ä½¿ç¨setæ¹æ³çå½¢å¼ä¸ºbeanæä¾èµæº æ¯beançå­æ ç­¾\n   * nameå±æ§\n     * å¼ä¸ºå¯¹åºbeanä¸­çå±æ§å è¦è¯¥å±æ§å¿é¡»ä¸ºç§æå±æ§åæ¶æä¾setæ¹æ³\n   * valueå±æ§\n     * å¼ä¸ºnameç»å®å±æ§ç å¼ è®¾å®éå¼ç¨ç±»åå±æ§çå¼\n   * refå±æ§\n     * å¼ä¸ºå¼ç¨ç±»åå±æ§å¯¹è±¡beançid ä¸è½ä¸valueåæ¶ä½¿ç¨\n\néç½®\n\n    <bean id="userservice" class="com.itheima.service.impl.userserviceimpl">\n\x3c!--        å°è¦æ³¨å¥çå¼ç¨ç±»ååééè¿propertyå±æ§è¿è¡æ³¨å¥ å¯¹åºçnameæ¯è¦æ³¨å¥çåéå  ä½¿ç¨refå£°æè¦æ³¨å¥çbeançid  --\x3e\n        <property name="userdao" ref="userdao"></property>\n\x3c!--        å¦æè¦æ³¨å¥çåéä¸ºä¸ä¸ªå¼ æä»¬éè¿valueæ¥è®¾ç½® åæ ·éè¦å¨ç±»ä¸­è®¾ç½®ç§æåé åsetæ¹æ³--\x3e\n        <property name="num" value="13"/>\n    </bean>\n\n\x3c!--    å°è¦æ³¨å¥çèµæºå£°æä¸ºbean--\x3e\n    <bean id="userdao" class="com.itheima.dao.impl.userdaoimpl"/>\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n\n\nåè½¬èµæºæ³¨å¥\n\nimport com.itheima.dao.userdao;\nimport com.itheima.service.userservice;\n\npublic class userserviceimpl implements userservice {\n    private userdao userdao;\n    private int num;\n\n    //å¯¹éè¦è¿è¡æ³¨å¥çåéæ·»å setæ¹æ³\n    public void setuserdao(userdao userdao) {\n        this.userdao = userdao;\n    }\n\n    public void setnum(int num) {\n        this.num = num;\n    }\n\n    @override\n    public void save() {\n        userdao.save();\n        system.out.println("running...");\n        system.out.println(num);\n    }\n\n\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n\n\nè°ç¨\n\npublic class userapp {\n    public static void main(string[] args) {\n        //2.å è½½éç½®æä»¶\n        applicationcontext ctx =new classpathxmlapplicationcontext("applicationcontext.xml");\n        //3.è·åèµæº\n        userservice userservice = (userservice) ctx.getbean("userservice");\n        userservice.save();\n    }\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n\n\n\n\n\n# æé å¨æ³¨å¥\n\n * <constructor-arg> æ ç­¾ ä½¿ç¨æé æ¹æ³çå½¢å¼ä¸ºbeanæä¾èµæº æ¯beançå­æ ç­¾\n   * nameå±æ§\n     * å¼ä¸ºå¯¹åºbeanä¸­çå±æ§å è¦è¯¥å±æ§å¿é¡»ä¸ºç§æå±æ§åæ¶æä¾setæ¹æ³\n   * valueå±æ§\n     * å¼ä¸ºnameç»å®å±æ§ç å¼ è®¾å®éå¼ç¨ç±»åå±æ§çå¼\n   * refå±æ§\n     * å¼ä¸ºå¼ç¨ç±»åå±æ§å¯¹è±¡beançid ä¸è½ä¸valueåæ¶ä½¿ç¨\n   * typeå±æ§\n     * å¼ä¸ºè®¾å®æé æ¹æ³åæ°çç±»å ç¨äºèµå¼ç»æå®çåéç±»å æ¨èä½¿ç¨nanmeæå®åé\n   * indexå±æ§\n     * å¼ä¸ºè®¾å®æé æ¹æ³åæ°çä½ç½® ç¨äºèµå¼ç»æå® æé æ¹æ³ä¸­ åéçindex ä»0å¼å§ æ¨èä½¿ç¨nameæå®åé\n\nè¢«æ³¨å¥ç±»è¦å£°ææé æ¹æ³å¹¶èµå¼\n\nprivate userdao userdao;\nprivate int num;\npublic userserviceimpl(userdao userdao,int num){\n        this.userdao=userdao;\n        this.num=num;\n    }\n\n\n1\n2\n3\n4\n5\n6\n\n\nbeanéç½®\n\n\x3c!--    æé æ¹æ³æ³¨å¥--\x3e\n\x3c!--    æ³¨å¥ç±»--\x3e\n    <bean id="userdao" class="com.itheima.dao.impl.userdaoimpl"/>\n\x3c!--è¢«æ³¨å¥çç±»--\x3e\n    <bean id="userservice" class="com.itheima.service.impl.userserviceimpl">\n        <constructor-arg ref="userdao" />\n        <constructor-arg name="num" value="456"/>\n    </bean>\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n\n\n\n# éåç±»åæ°æ®æ³¨å¥\n\nå¦ <array>ã<list>ã<set>ã<map>ã<props>ç­éå æ¯å½å±äºpropertyæconstructor-argæ ç­¾çå­æ ç­¾\n\n * <list>\n   \n   * <value>æ ç­¾\n     * å¼ä¸ºåç´ å¯¹äºçå¼\n\n * <props>\n   \n   * <prop>æ ç­¾\n     * keyå±æ§\n       * å¼ä¸ºå±æ§å\n     * å¼ä¸ºåç´ å¯¹äºçå¼\n\n * <array>\n\n * <value>æ ç­¾\n   \n   * å¼ä¸ºåç´ å¯¹äºçå¼\n\n * <set>\n   \n   * <value>æ ç­¾\n     * å¼ä¸ºåç´ å¯¹äºçå¼\n\n * <map>\n   \n   * <enrty>æ ç­¾\n     * keyå±æ§\n       * å¼ä¸ºkey\n     * valueå±æ§\n       * å¼ä¸ºå¼\n\n    \x3c!--    éåæ³¨å¥--\x3e\n    <bean id="userdao" class="com.itheima.dao.impl.userdaoimpl"/>\n\n    <bean id="userservice" class="com.itheima.service.impl.userserviceimpl">\n        <property name="userdao" ref="userdao"/>\n        <property name="bookdao" ref="bookdao"/>\n    </bean>\n\n    <bean id="bookdao" class="com.itheima.dao.impl.bookdaoimpl">\n        <property name="al">\n            <list>\n                <value>helll</value>\n                <value>world</value>\n            </list>\n        </property>\n        <property name="properties">\n            <props>\n                <prop key="name">age</prop>\n                <prop key="value">19</prop>\n            </props>\n        </property>\n        <property name="arr">\n            <array>\n                <value>123</value>\n                <value>456</value>\n            </array>\n        </property>\n        <property name="hs">\n            <set>\n                <value>111</value>\n                <value>222</value>\n            </set>\n        </property>\n        <property name="hm">\n            <map>\n                <entry key="name" value="zhangsan"/>\n                <entry key="name" value="lisi"/>\n            </map>\n        </property>\n    </bean>\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n26\n27\n28\n29\n30\n31\n32\n33\n34\n35\n36\n37\n38\n39\n40\n\n\n\n# på½åç©ºé´ ç®åéç½®\n\nå¢å å±æ§ xmlns:p="http://www.springframework.org/schema/p" éç½®på½åç©ºé´\n\n<beans xmlns="http://www.springframework.org/schema/beans"\n       xmlns:xsi="http://www.w3.org/2001/xmlschema-instance"\n       xmlns:p="http://www.springframework.org/schema/p"\n       xsi:schemalocation="http://www.springframework.org/schema/beans\n        https://www.springframework.org/schema/beans/spring-beans.xsd">\n\n\n1\n2\n3\n4\n5\n\n\npå½åç©ºé´ä¸ºbeanæ³¨å¥å±æ§å¼ æ¿ä»£property\n\n\x3c!--    ä¸¤ä¸ªbeanä¸æ ·ç--\x3e\n   <bean id="userservice" class="com.itheima.service.impl.userserviceimpl" p:bookdao-ref="bookdao" p:userdao-ref="userdao" />\n\n    <bean id="userservice" class="com.itheima.service.impl.userserviceimpl">\n        <property name="userdao" ref="userdao"/>\n        <property name="bookdao" ref="bookdao"/>\n    </bean>\n\n\n1\n2\n3\n4\n5\n6\n7\n\n\n\n# spel elè¡¨è¾¾å¼\n\nspringéè¿elè¡¨è¾¾å¼çæ¯æ,ç»ä¸å±æ§æ³¨å¥æ ¼å¼\n\n\n\nå¨valueä¸­ä¹¦åelè¡¨è¾¾å¼\n\n\n# propertiesæä»¶\n\nå¢å å±æ§ xmlns:context="http://www.springframework.org/schema/context"\n\nå¹¶å ä¸çº¦æ http://www.springframework.org/schema/context https://www.springframework.org/schema/context/spring-context.xsd\n\n<beans xmlns="http://www.springframework.org/schema/beans"\n       xmlns:xsi="http://www.w3.org/2001/xmlschema-instance"\n       xmlns:p="http://www.springframework.org/schema/p"\n       xmlns:context="http://www.springframework.org/schema/context"\n       xsi:schemalocation="\n       http://www.springframework.org/schema/beans\n        https://www.springframework.org/schema/beans/spring-beans.xsd\n       http://www.springframework.org/schema/context\n        https://www.springframework.org/schema/context/spring-context.xsd\n">\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n\n\nå contextå½åç©ºé´çæ¯æ\n\n    \x3c!--   contextå½åç©ºé´ å è½½ç±»è·¯å¾ä¸ ææçpropertiesæä»¶  å è½½åä½¿ç¨${å±æ§å} --\x3e\n    <context:property-placeholder location="classpath:*.properties"/>\n <bean id="userservice" class="com.itheima.service.impl.userserviceimpl">\n            <constructor-arg ref="userdao" />\n            <constructor-arg name="num" value="${age}"/>\n        </bean>--\x3e\n\n\n1\n2\n3\n4\n5\n6\n\n\n\n# import å¢éå¼å\n\nxmlä¸­éè¿<import>æ ç­¾æä»¬å¯ä»¥å¼å¥å¤é¨çiocéç½®\n\n * <impoprt>æ ç­¾ å¼ç¨å¤é¨iocéç½®\n   * resourceå±æ§ éç½®æä»¶å\n\n\n# å®¹å¨è¿è¡æ¶å è½½å¤ä¸ªiocéç½®\n\napplicationcontext ctx =new classpathxmlapplicationcontext("applicationcontext.xml","applicationcontext2.xml");\n\n\n1\n\n\n\n# beanæ³¨æäºé¡¹\n\n * idæ¯å¯ä¸ç åä¸æä»¶ä¸­ä¸åè®¸å­å¨ç¸åid èä¸åæä»¶ä¸­åå®ä¹è¦çåé¢ç\n * å¯¼å¥éç½®æä»¶å¯ä»¥çè§£ä¸º å°éç½®æä»¶å¤å¶ç²è´´å°å¯¹åºä½ç½®\n * å¯¼å¥éç½®æä»¶é¡ºåºä¸åå¯è½å¯¼è´ç¨åºè¿è¡ç»æä¸å\n\n\n# applicationcontextå¯¹è±¡\n\n\n\n\n# ç¬¬ä¸æ¹èµæºbeanéç½®\n\næ·»å druidæ¨¡å druidæ¯é¿éå·´å·´å¼åçjdbcè¿æ¥æ± ç»ä»¶\n\n        <dependency>\n            <groupid>com.alibaba</groupid>\n            <artifactid>druid</artifactid>\n            <version>1.1.21</version>\n        </dependency>\n\n\n1\n2\n3\n4\n5\n\n\néç½®æä»¶\n\n    <bean id="datasource" class="com.alibaba.druid.pool.druiddatasource">\n        <property name="driverclassname" value="com.mysql.jdbc.driver"/>\n        <property name="url" value="jdbc:mysql://localhost:3306/heima_mm"/>\n        <property name="username" value="root"/>\n        <property name="password" value="123456"/>\n    </bean>\n\n\n1\n2\n3\n4\n5\n6\n\n\nåå»º\n\napplicationcontext ctx =new classpathxmlapplicationcontext("applicationcontext.xml");\ndruiddatasource datasource = (druiddatasource) ctx.getbean("datasource");\nsystem.out.println(datasource);\n\n\n1\n2\n3\n\n\nçæ¸æ¥ ç¬¬ä¸æ¹ç±»çç±»å å±æ§å setæ¹æ³\n\n\n# spring+mybatis\n\napplicationcontext.xml\n\n<beans xmlns="http://www.springframework.org/schema/beans"\n       xmlns:xsi="http://www.w3.org/2001/xmlschema-instance"\n       xmlns:p="http://www.springframework.org/schema/p"\n       xmlns:context="http://www.springframework.org/schema/context"\n       xsi:schemalocation="\n       http://www.springframework.org/schema/beans\n        https://www.springframework.org/schema/beans/spring-beans.xsd\n       http://www.springframework.org/schema/context\n        https://www.springframework.org/schema/context/spring-context.xsd\n">\n\n    <context:property-placeholder location="classpath:*.properties"/>\n\n    <bean id="datasource" class="com.alibaba.druid.pool.druiddatasource">\n        <property name="driverclassname" value="${jdbc.driver}"/>\n        <property name="url" value="${jdbc.url}"/>\n        <property name="username" value="${jdbc.username}"/>\n        <property name="password" value="${jdbc.password}"/>\n\n    </bean>\n\n\n    \x3c!--    springæ´åmybatisåæ§å¶åå»ºè¿æ¥ç¨çå¯¹è±¡--\x3e\n    <bean class="org.mybatis.spring.sqlsessionfactorybean">\n        <property name="datasource" ref="datasource"/>\n        <property name="typealiasespackage" value="com.itheima.domain"/>\n    </bean>\n\n    \x3c!--    å è½½mybatisæ å°éç½®æ«æ å°å¶ä½ä¸ºspringçbeanè¿è¡ç®¡ç--\x3e\n    <bean class="org.mybatis.spring.mapper.mapperscannerconfigurer">\n        <property name="basepackage" value="com.itheima.dao"/>\n    </bean>\n</beans>\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n26\n27\n28\n29\n30\n31\n32\n33\n\n\npox.xml\n\n<?xml version="1.0" encoding="utf-8"?>\n<project xmlns="http://maven.apache.org/pom/4.0.0"\n         xmlns:xsi="http://www.w3.org/2001/xmlschema-instance"\n         xsi:schemalocation="http://maven.apache.org/pom/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd">\n    <modelversion>4.0.0</modelversion>\n\n    <groupid>org.example</groupid>\n    <artifactid>spring+mybatis</artifactid>\n    <version>1.0-snapshot</version>\n\n    <properties>\n        <maven.compiler.source>8</maven.compiler.source>\n        <maven.compiler.target>8</maven.compiler.target>\n    </properties>\n    <dependencies>\n        <dependency>\n            <groupid>org.mybatis</groupid>\n            <artifactid>mybatis</artifactid>\n            <version>3.5.3</version>\n        </dependency>\n        <dependency>\n            <groupid>mysql</groupid>\n            <artifactid>mysql-connector-java</artifactid>\n            <version>5.1.47</version>\n        </dependency>\n        <dependency>\n            <groupid>org.springframework</groupid>\n            <artifactid>spring-context</artifactid>\n            <version>5.1.9.release</version>\n        </dependency>\n        <dependency>\n            <groupid>org.springframework</groupid>\n            <artifactid>spring-jdbc</artifactid>\n            <version>5.1.9.release</version>\n        </dependency>\n        <dependency>\n            <groupid>com.alibaba</groupid>\n            <artifactid>druid</artifactid>\n            <version>1.1.21</version>\n        </dependency>\n        <dependency>\n            <groupid>org.mybatis</groupid>\n            <artifactid>mybatis-spring</artifactid>\n            <version>2.0.3</version>\n        </dependency>\n    </dependencies>\n\n</project>\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n26\n27\n28\n29\n30\n31\n32\n33\n34\n35\n36\n37\n38\n39\n40\n41\n42\n43\n44\n45\n46\n47\n48\n\n\n\n# æ³¨è§£\n\næ³¨è§£ä»£æ¿xmléç½®å¯ä»¥ç®åéç½® æä¾å¼åæç\n\nhttps://www.cnblogs.com/alter888/p/9083963.html\n\n\n\nå¹¶ä¸è¦å¨applicationcontext.xmlä¸­éç½®ç»ä»¶æ«æ\n\n    \x3c!--    éç½®ç»ä»¶æ«æ--\x3e\n    <context:component-scan base-package="com.itheima"/>\n\n\n1\n2\n\n\n\n# æ°æ³¨è§£\n\nä½¿ç¨ä¸é¢çæ³¨è§£è¿ä¸è½å®å¨æ¿ä»£xmléç½® å¦ç¬¬ä¸æ¹çç±»\n\n\n\n@bean æ è®°ç¬¬ä¸æ¹ç±»\n\npublic class jdbcconfig {\n    @value("${jdbc.driver}")\n    private string driver;\n    @value("${jdbc.url}")\n    private string url;\n    @value("${jdbc.username}")\n    private string username;\n    @value("${jdbc.password}")\n    private string password;\n\n    @bean("datasource")\n    public datasource getdatasource(){\n        druiddatasource ds = new druiddatasource();\n        ds.setdriverclassname(driver);\n        ds.seturl(url);\n        ds.setusername(username);\n        ds.setpassword(password);\n        return ds;\n    }\n}\n\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n\n\n\n\n\n# å è½½æ§å¶\n\n@dependson("classname")\n\n\n\n@order(n) æ§å¶å è½½é¡ºåº\n\n\n\n@lazy å»¶è¿å è½½\n\n\n\n\n# æ´åjunit\n\nå¨springä¸­ä¹åæä»¬æµè¯é½éè¦è·åå®¹å¨ ç¶åè·åbean\n\nå¯¼å¥åæ \n\n<dependency>\n            <groupid>junit</groupid>\n            <artifactid>junit</artifactid>\n            <version>4.12</version>\n            <scope>test</scope>\n        </dependency>\n        <dependency>\n            <groupid>org.springframework</groupid>\n            <artifactid>spring-test</artifactid>\n            <version>5.1.9.release</version>\n        </dependency>\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n\n\næµè¯æ ·ä¾\n\n//è®¾å®springä¸ç¨çç±»å è½½å¨\n@runwith(springjunit4classrunner.class)\n//è®¾å®å è½½çspringä¸ä¸æå¯¹åºçéç½®\n@contextconfiguration(classes = springconfig.class)\npublic class userservicetest {\n\n    @autowired\n    private accountservice accountservice;\n\n    @test\n    public void testfindbyid(){\n        account ac = accountservice.findbyid(2);\n//        system.out.println(ac);\n        //assert é¢è®¡å¼  ç»æå¼  å¦æä¸ä¸è´åæµè¯ä¸éè¿\n        assert.assertequals("jock",ac.getname());\n    }\n\n    @test\n    public void testfindall(){\n        list<account> list = accountservice.findall();\n        assert.assertequals(2,list.size());\n    }\n\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n\n\n\n# iocåºå±æ ¸å¿åç\n\n\n\n\n\n\n\n\n\n\n# ç»ä»¶æ«æè¿æ»¤å¨\n\n@componentscan ç»ä»¶æ«æå¨æ¥æè¿æ»¤æå®ç»ä»¶åè½\n\n * ææ³¨è§£ç±»å è¿æ»¤\n   * excludefilters è®¾ç½®æé¤æ§è¿æ»¤å¨\n   * includefilters è®¾ç½®åå«æ§è¿æ»¤å¨\n\n//ææç@serviceæ³¨è§£è¢«è¿æ»¤\n@componentscan(value = "com.itheima",excludefilters = @componentscan.filter(type = filtertype.annotation,classes = service.class))\n\n\n\n1\n2\n3\n\n\n\n# èªå®ä¹ç»ä»¶è¿æ»¤å¨\n\nç»§æ¿typefilter å®ç°matchæ¹æ³ è¿åfalseåä¸è¿æ»¤ è¿åtrueåè¿æ»¤\n\npackage com.itheima.config.filter;\n\nimport org.springframework.core.type.classreading.metadatareader;\nimport org.springframework.core.type.classreading.metadatareaderfactory;\nimport org.springframework.core.type.filter.typefilter;\n\nimport java.io.ioexception;\n\npublic class mytypefilter implements typefilter {\n\n\n    public boolean match(metadatareader metadatareader, metadatareaderfactory metadatareaderfactory) throws ioexception {\n        classmetadata classmetadata = metadatareader.getclassmetadata();  //è·åclassçåæ°æ®\n        string classname = classmetadata.getclassname();  //è·åç±»å\n        system.out.println(classname);\n        if(classname.equals("com.itheima.service.impl.accountserviceimpl")){\n            return true;\n        }\n\n        return false;\n    }\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n\n * æèªå®ä¹è¿æ»¤å¨ è¿æ»¤\n\n@componentscan(value = "com.itheima",excludefilters = @componentscan.filter(type = filtertype.custom,classes = mytypefilter.class))\n\n\n1\n\n\n\n# èªå®ä¹å¯¼å¥å¨\n\nç»§æ¿ importselector å®ç°selectimportsæ¹æ³\n\npackage com.itheima.config.selector;\n\nimport org.springframework.context.annotation.importselector;\nimport org.springframework.core.type.annotationmetadata;\n\nimport java.util.resourcebundle;\n\npublic class myimportselector implements importselector {\n\n    public string[] selectimports(annotationmetadata importingclassmetadata) {\n\n        //ä½¿ç¨propertiesæä»¶è¯»å\n        resourcebundle bundle = resourcebundle.getbundle("import");  //æä»¶å\n        string classname = bundle.getstring("classname");  //å±æ§å\n        return new string[]{classname};\n\n//        return new string[]{"com.itheima.service.impl.accountserviceimpl"}; //ç´æ¥è¿åæå®ç±»ä¸æ¨èä½¿ç¨\n    }\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n\n\nå¯¼å¥æå®çç»ä»¶ ä¸ç¨éè¦beanç»å®æèæ³¨è§£ç»å®\n\n@import(myimportselector.class)\n\n\n1\n\n\n\n# èªå®ä¹æ³¨åå¨\n\nç»§æ¿ importbeandefinitionregistrar å®ç° registerbeandefinitions æ¹æ³\n\npackage com.itheima.config.registrar;\n\nimport org.springframework.beans.factory.support.beandefinitionregistry;\nimport org.springframework.context.annotation.classpathbeandefinitionscanner;\nimport org.springframework.context.annotation.importbeandefinitionregistrar;\nimport org.springframework.core.type.annotationmetadata;\nimport org.springframework.core.type.classreading.metadatareader;\nimport org.springframework.core.type.classreading.metadatareaderfactory;\nimport org.springframework.core.type.filter.typefilter;\n\nimport java.io.ioexception;\n\npublic class myimportbeandefinitionregistrar implements importbeandefinitionregistrar {\n\n    public void registerbeandefinitions(annotationmetadata importingclassmetadata, beandefinitionregistry registry) {\n        classpathbeandefinitionscanner scanner = new classpathbeandefinitionscanner(registry,false);\n        scanner.addincludefilter(new typefilter() {\n            public boolean match(metadatareader metadatareader, metadatareaderfactory metadatareaderfactory) throws ioexception {\n                return true;\n            }\n        });\n        scanner.scan("com.itheima");\n    }\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n\n\n@import(myimportbeandefinitionregistrar.class)  //èªå®ä¹æ³¨åå¨\n\n\n1\n\n\n\n# beanåå§åè¿ç¨\n\n\n\n\n\n\n# aop\n\naspect oriented programming é¢ååé¨ç¼ç¨ éè¿é¢ç¼è¯æ¹å¼åè¿è¡æå¨æä»£çå®ç°ç¨åºåè½çç»ä¸ç»´æ¤çä¸ç§ææ¯\n\naop æ¯ oop(é¢åå¯¹è±¡) çå»¶ç»­\n\n\n\nä½ç¨:å¨ç¨åºè¿è¡æé´ å¨ä¸ä¿®æ¹æºç çæåµä¸å¯¹æ¹æ³è¿è¡åè½å¢å¼º\n\nä¼å¿:åå°éå¤ä»£ç  æé«å¼åæç å¹¶ä¸ä¾¿äºç»´æ¤\n\n\n# aopçå¨æä»£çå¯¹è±¡\n\n * jdkä»£ç : åºäºæ¥å£çå¨æä»£çææ¯\n * cglibä»£ç : åºäºç¶ç±»çå¨æä»£çææ¯\n\nå¯¼å¥åæ \n\n        <dependency>\n            <groupid>org.aspectj</groupid>\n            <artifactid>aspectjweaver</artifactid>\n            <version>1.9.4</version>\n        </dependency>\n\n\n1\n2\n3\n4\n5\n\n\næå±æ§çåè½æååºæ¥ å¹¶æä¾ç±»åæ¹æ³\n\n\n# xmléç½®\n\næ·»å aop ä»¥ä¸å£°æ\n\nxmlns:aop="http://www.springframework.org/schema/aop"\nhttp://www.springframework.org/schema/aop\nhttps://www.springframework.org/schema/aop/spring-aop.xsd\n\n\n1\n2\n3\n\n\næ ç­¾å¤´\n\n<beans xmlns="http://www.springframework.org/schema/beans"\n       xmlns:xsi="http://www.w3.org/2001/xmlschema-instance"\n       xmlns:p="http://www.springframework.org/schema/p"\n       xmlns:context="http://www.springframework.org/schema/context"\n       xmlns:aop="http://www.springframework.org/schema/aop"\n       xsi:schemalocation="http://www.springframework.org/schema/beans\n        https://www.springframework.org/schema/beans/spring-beans.xsd\n        http://www.springframework.org/schema/context\n        https://www.springframework.org/schema/context/spring-context.xsd\n        http://www.springframework.org/schema/aop\n        https://www.springframework.org/schema/aop/spring-aop.xsd">\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n\n\nç»å®\n\n    \x3c!--3.å¼å¯aopå½åç©ºé´--\x3e\n    <bean id="userservice" class="com.itheima.service.impl.userserviceimpl"/>\n    \x3c!--2.éç½®å±æ§åè½æåspringæ§å¶çèµæº  å±æ§åè½çç±»--\x3e\n    <bean id="myadvice" class="com.itheima.aop.aopadvice"/>\n\n    \x3c!--4.éç½®aop--\x3e\n    <aop:config>\n        \x3c!--5.éç½®åå¥ç¹--\x3e\n        <aop:pointcut id="pt" expression="execution(* *..*(..))"/>\n        \x3c!--6.éç½®åé¢ï¼åå¥ç¹ä¸éç¥çå³ç³»ï¼--\x3e\n        <aop:aspect ref="myadvice">\n            \x3c!--7.éç½®å·ä½çåå¥ç¹å¯¹åºéç¥ä¸­é£ä¸ªæä½æ¹æ³  pointcut-refä¸ºpointcutå¯¹åºçid--\x3e\n            <aop:before method="function" pointcut-ref="pt"/>\n        </aop:aspect>\n    </aop:config>\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n\n * aop:configæ ç­¾ aopæ ¹æ ç­¾ å¨beanså¯ä»¥æ¥æå¤ä¸ª\n   * aop:aspectæ ç­¾ å¯ä»¥å¨aop:configä¸­éç½®å¤ä¸ª\n     * refå±æ§ éç¥(å±æ§ç±»)æå¨çbeançid\n     * aop:beforeæ ç­¾ åé¢\n       * methodå±æ§ éç¥ä¸­å·ä½çæ¹æ³\n       * pointcut-refå±æ§ ä¸aop:pointcutä¸­çidè¦ä¸è´\n       * pointcut="execution(* ..(..))" ç§æåå¥ç¹ ä¸è½ä¸pointcut-refå±å­\n   * aop:pointcutæ ç­¾ ä¹å¯ä»¥æ¥æå¤ä¸ª ä¸çº§æªconfigåä¸ºå¬å±åå¥ç¹ ä¸çº§æªaspectåä¸ºå±é¨åå¥ç¹\n     * idå±æ§ åç§° å¯ä»¥èªå®ä¹\n     * expressionå±æ§ åå¥ç¹æ¨¡å¼\n\n# åå¥ç¹è¡¨è¾¾å¼\n\n\n\n\n\næ¯æé»è¾è¿ç®ç¬¦ åéè¿ç®\n\n# éç¥ç±»å\n\n * aop:before åç½®éç¥ å¦æéç¥ä¸­æåºå¼å¸¸ åé»æ­¢åå§æ¹æ³è¿è¡\n * aop:after åç½®éç¥ æ è®ºæ¯å¦å¼å¸¸ é½ä¼æ§è¡éç¥\n * aop:after-running è¿è¡éç¥ å¦ææåºå¼å¸¸æ æ³éç¥\n * aop:after-throwing å¼å¸¸éç¥ å¦ææ²¡ææåºå¼å¸¸æ æ³éç¥\n * aop:around ç¯ç»éç¥ å¨åå§æ¹æ³æ§è¡ååé½æå¯¹åºæ§è¡çæ§è¡,è¿å¯ä»¥é»æ­¢åå§æ¹æ³æ§è¡\n   * \n\n# éç¥é¡ºåº\n\nå½åä¸ä¸ªåå¥ç¹éç½®å¤ä¸ªéç¥æ¶,æ ç­¾éç½®çé¡ºåºå°±æ¯æ§è¡çé¡ºåº\n\n# éç¥è·åæ°æ®\n\n * è·ååæ° ææçéç¥é½å¯ä»¥è·ååæ°\n   \n   * public void before(joinpoint jp) throws  throwable{\n             object[] args = jp.getargs();\n         }\n     \n     \n     1\n     2\n     3\n     \n   \n   * ç¬¬äºä¸ªæ¹æ³\n     \n     * å¨éç¥æ¹æ³ä¸­å®ä¹åé\n       \n       * public void before2(int a) {\n                 system.out.println(a);\n             }\n         \n         \n         1\n         2\n         3\n         \n     \n     * å¨applicationcontext.xml éç½®aopä¼ å\n       \n       *             \x3c!--         &ampæ¯&  args(a) ä¸ºaopéç¥æ¹æ³ä¸­å½¢åçåå­   --\x3e\n                     <aop:before method="before2" pointcut="execution(* *..*(..)) &amp;&amp; args(a)"/>\n         \n         \n         1\n         2\n         \n\n# éç¥è·åè¿åå¼\n\n * è·åè¿åå¼ åªæaround å after-returning éç¥\n   \n   * public void before2(object ret) {\n             system.out.println(ret);\n         }\n     \n     \n     1\n     2\n     3\n     \n   \n   *             \x3c!--       returningä¸ºéç¥æ¹æ³å½¢åçåå­  æ­¤åéä¸ºåå§æ¹æ³çè¿åå¼     --\x3e\n                 <aop:after-returning method="before2" pointcut-ref="pt" returning="ret"/>\n     \n     \n     1\n     2\n     \n   \n   * ç¬¬äºç§æ¹æ³\n     \n     *     public object around (proceedingjoinpoint pjp) throws throwable {\n               //å¯¹åå§æ¹æ³çè°ç¨  è¿ååå§æ¹æ³çè¿åå¼\n               object proceed = pjp.proceed();\n               system.out.println(proceed);\n               //å¿é¡»è¿åè¿åå¼ ä¸ç¶åå§æ¹æ³ä¼å¼å¸¸\n               return proceed;\n           }\n       \n       \n       1\n       2\n       3\n       4\n       5\n       6\n       7\n       \n     \n     * <aop:around method="around" pointcut-ref="pt"/>\n       \n       \n       \n       1\n       2\n       \n\n# è·åå¼å¸¸\n\n * è·åå¼å¸¸ around å after-throwing éç¥è·å\n   \n   *     public void afterthrowing(throwable t){\n             system.out.println(t.getmessage());\n         }\n     \n     \n     1\n     2\n     3\n     \n   \n   *             \x3c!--      throwingä¸ºéç¥æ¹æ³ä¸­å½¢åçåç§°  ç¨äºè·åå¼å¸¸      --\x3e\n                 <aop:after-throwing method="afterthrowing" pointcut-ref="pt" throwing="t"/>\n     \n     \n     1\n     2\n     \n   \n   * ç¬¬äºç§æ¹æ³\n     \n     *     public object around (proceedingjoinpoint pjp)  {\n               //å¯¹åå§æ¹æ³çè°ç¨  è¿ååå§æ¹æ³çè¿åå¼\n               object proceed = null;\n               try {\n                   proceed = pjp.proceed();\n               } catch (throwable e) {\n                   e.printstacktrace();\n               }\n               system.out.println(proceed);\n               //å¿é¡»è¿åè¿åå¼ ä¸ç¶åå§æ¹æ³ä¼å¼å¸¸\n               return proceed;\n           }\n       \n       \n       1\n       2\n       3\n       4\n       5\n       6\n       7\n       8\n       9\n       10\n       11\n       12\n       \n     \n     *  <aop:around method="around" pointcut-ref="pt"/>\n       \n       \n       1\n       \n\n\n# æ³¨è§£\n\n * å¼aopæ³¨è§£æ¯æ\n   \n   * <aop:aspectj-autoproxy/>\n     \n     \n     1\n     \n\n * å¨aopç±»ä¸å æ³¨è§£\n   \n   * @component //beanç»å®\n     @aspect  //æ è®°aop æ³¨è§£\n     public class aopadvice {\n          @pointcut("execution(* *..*(..))")  //å®ä¹ä¸ä¸ªç©ºæ¹æ³ å¹¶ä¸ç»å®ä¸ºaop id=pt\n         public void pt(){}\n         \n          @before("pt()")  //æ è®°ä¸ºaop-beforeæ¹æ³ å¹¶ä¸ç»å®ç©ºé´åç§° pt()\n         public void before(joinpoint jp) throws throwable {\n             object[] args = jp.getargs();\n         }\n         \n             @after("pt()")\n         public void function() {\n             system.out.println("å±æ§åè½");\n         }\n         \n             @around("pt()")\n         public object around (proceedingjoinpoint pjp)  {\n             //å¯¹åå§æ¹æ³çè°ç¨  è¿ååå§æ¹æ³çè¿åå¼\n             object proceed = null;\n             try {\n                 proceed = pjp.proceed();\n             } catch (throwable e) {\n                 e.printstacktrace();\n             }\n             system.out.println(proceed);\n             //å¿é¡»è¿åè¿åå¼ ä¸ç¶åå§æ¹æ³ä¼å¼å¸¸\n             return proceed;\n         }\n         \n             @afterreturning(value = "pt()", returning = "ret")\n         public void before2(object ret) {\n             system.out.println(ret);\n         }\n     \n         @afterthrowing(value = "pt()", throwing = "t")\n         public void afterthrowing(throwable t) {\n             system.out.println(t.getmessage());\n         }\n         \n     }\n     \n     \n     1\n     2\n     3\n     4\n     5\n     6\n     7\n     8\n     9\n     10\n     11\n     12\n     13\n     14\n     15\n     16\n     17\n     18\n     19\n     20\n     21\n     22\n     23\n     24\n     25\n     26\n     27\n     28\n     29\n     30\n     31\n     32\n     33\n     34\n     35\n     36\n     37\n     38\n     39\n     40\n     41\n     \n\n * @aspect æ è®°ä¸ºaop å¨aopç±»ä¸ è®°å¾å®ä¾åå¹¶@component\n\n * @pointcut å®ä¹ä¸ªä¸ä¸ªç©ºåæ è¿åå¼çç©ºæ¹æ³ ä¸ºæ­¤aopç»å®ç©ºé´åç§° ä¸ºæ¹æ³å å¦æå¨å¶ä»ç±»ä¸­åå»º åéç¥ä¸­è°ç¨è¦å ä¸ç±»å å¦: aopconfig.pt()\n\n * @after åç½®éç¥\n\n * @before åç½®éç¥\n\n# æ³¨è§£éç¥æ§è¡é¡ºåº\n\n 1. ä¸æ¹æ³å®ä¹ä½ç½®æ å³\n 2. å¦æéç¥ç±»åå ä¸æ¹æ³åèªç¶æåºæ¥æ§è¡\n 3. å¦ææ¯ä¸åaopçéç¥ æ¯ä¸aopç±»åæå³\n 4. å¨ç±»ä¸æ¹ ä½¿ç¨æ³¨è§£ @order(n) èªå®ä¹é¡ºåº\n\n# aopéç½® (æ³¨è§£)\n\nåé¢æä»¬ç¨xmléç½®æ³¨è§£\n\n * @enableaspectjautoproxy å¼å¯aopæ³¨è§£ å¨springéç½®ç±»ä¸­æ è®°æ³¨è§£\n\n\n# éæä»£ç\n\nè£é¥°èæ¨¡å¼ (decorator pattern) å¨ä¸æå¨åå§è®¾è®¡çåºç¡ä¸,ä¸ºå¶æ·»å åè½\n\nåå»ºä¸ä¸ªæ°çç±» å¹¶ç»§æ¿åæ¥å£ æåæé æ¹æ³ å½¢åä¸ºåå§å¯¹è±¡ è°ç¨åå§æ¹æ³\n\npublic class useserviceimpldecorator implements userservice {\n\n    private userservice userservice;\n\n    public useserviceimpldecorator(userservice userservice) {\n        this.userservice = userservice;\n    }\n\n    @override\n    public void save() {\n        userservice.save();\n        system.out.println("å®å¤§ç½");\n    }\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n\n\n\n# jdkå¨æä»£ç\n\npublic class userservicejdkproxy {\n    public static userservice createuserservicejdkproxy(userservice userservice) {\n\n\n        classloader cl = userservice.getclass().getclassloader();  //è·åå è½½ç±»\n        class[] classes = userservice.getclass().getinterfaces();  //è·åç±»æ¥å£\n\n        invocationhandler ih = new invocationhandler() {\n            @override\n            public object invoke(object proxy, method method, object[] args) throws throwable {\n                object invoke = method.invoke(userservice, args);  //è°ç¨åå§æ¹æ³\n                system.out.println("å®å¤§ç½");   //ä¸å½±ååå§ç±»ä¸å®ç°å¢å¼ºåè½\n                return invoke;\n            }\n        };\n        userservice service = (userservice) proxy.newproxyinstance(cl, classes, ih);\n        return service;\n\n    }\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n\n\n\n# cglib\n\ncglib(code generation library) codeçæç±»åº ä¸éå®æ¯å¦æå·ä½æ¥å£ æ éåå§ä»£çå¯¹è±¡\n\npublic class userservicecglibproxy {\n\n    public static userservice createuserservicecglibproxy(class claszz) {\n        enhancer enhancer = new enhancer();\n        enhancer.setsuperclass(claszz);   //è®¾ç½®enhancerçç¶ç±»\n        enhancer.setcallback(new methodinterceptor() {\n            @override\n            public object intercept(object o, method method, object[] objects, methodproxy methodproxy) throws throwable {\n//                method.invoke(o,objects);\n//                methodproxy.invoke(o,objects);\n                system.out.println(method.getname());  //è·åæ¹æ³å\n                object ret = methodproxy.invokesuper(o, objects);//åå§æ¹æ³è°ç¨ é»è®¤å¯¹æææ¹æ³åå¢å¼º\n\n                if (method.getname().equals("save")) {  //éè¦å¤æ­æ¹æ³å\n                    system.out.println("å®å¤§ç½");\n                }\n                return ret;\n            }\n        });\n        return (userservice) enhancer.create();\n    }\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n\n\næµè¯ç±»\n\n    public static void main(string[] args) {\n        userservice userservice = userservicecglibproxy.createuserservicecglibproxy(userserviceimpl.class);\n        userservice.save();\n    }\n\n\n1\n2\n3\n4\n\n\n\n# aopåºå± åæ¢å¨æä»£çæ¹å¼\n\naopåºå±ä½¿ç¨çjdkçå¨æä»£çæ¹å¼\n\næä»¬å¯ä»¥éç½®ä¸ºä½¿ç¨cglibæ¹å¼ éè¦å¨aop:configä¸­éç½®\n\n \x3c!--xmléç½®aop é»è®¤ä¸ºflase ä¸ºjdkå¨æä»£ç trueä¸ºcglibä»£ç --\x3e  \n<aop:config proxy-target-class="true">\n    \x3c!-- æ³¨è§£éç½®aop--\x3e\n<aop:aspectj-autoproxy proxy-target-class="false"/>\n\n\n1\n2\n3\n4\n\n\n//æ³¨è§£é©±å¨\n@enableaspectjautoproxy(proxytargetclass = true)\n\n\n1\n2\n\n\n\n# ç»å¥æ¶æº\n\n\n\n\n# äºå¡\n\näºå¡ææ°æ®åºä¸­å¤ä¸ªæä½åå¹¶å¨ä¸èµ·å½¢æçæä½åºå\n\n * å½æä½åºç°å¤±è´¥ åæ»äºå¡ ä¿éæ°æ®çä¸è´æ§\n * å½å¹¶åè®¿é®æ°æ®åºæ¶ é²æ­¢å¹¶åè®¿é®æä½ç»æç¸äºå¹²æ°\n * \n\n\n# äºå¡æ ¸å¿å¯¹è±¡\n\n\n\n\n# ç¼ç¨å¼äºå¡\n\n    private datasource datasource;\n    public void setdatasource(datasource datasource) {\n        this.datasource = datasource;\n    }   \n\n//å¼å¯äºå¡\n        platformtransactionmanager ptm = new datasourcetransactionmanager(datasource);\n        //äºå¡å®ä¹\n        transactiondefinition td = new defaulttransactiondefinition();\n        //äºå¡ç¶æ\n        transactionstatus ts = ptm.gettransaction(td);\n\n        accountdao.inmoney(outname, money);\n//        int i = 1 / 0;\n        accountdao.outmoney(inname, money);\n\n        //æäº¤äºå¡\n        ptm.commit(ts);\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n\n\nä¸å¡å±è¦æ³¨å¥datasource\n\n    <bean id="accountservice" class="com.itheima.service.impl.accountserviceimpl">\n        <property name="accountdao" ref="accountdao"/>\n        <property name="datasource" ref="datasource"/>\n    </bean>\n\n\n1\n2\n3\n4\n\n\n\n# aopæ¹é ç¼ç¨å¼äºå¡\n\n    private datasource datasource;\n    public void setdatasource(datasource datasource) {\n        this.datasource = datasource;\n    }\n\n    public object transactionmanager(proceedingjoinpoint pjp) throws throwable {\n        //å¼å¯äºå¡\n        platformtransactionmanager ptm = new datasourcetransactionmanager(datasource);\n        //äºå¡å®ä¹\n        transactiondefinition td = new defaulttransactiondefinition();\n        //äºå¡ç¶æ\n        transactionstatus ts = ptm.gettransaction(td);\n\n        object ret = pjp.proceed(pjp.getargs());\n\n        //æäº¤äºå¡\n        ptm.commit(ts);\n\n        return ret;\n\n    }\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n\n\n    <bean id="txadvice" class="com.itheima.aop.txadvice">\n        <property name="datasource" ref="datasource"/>\n    </bean>\n\n    <aop:config>\n        <aop:pointcut id="pt" expression="execution(* *..transfer(..))"/>\n        <aop:aspect ref="txadvice">\n            <aop:around method="transactionmanager" pointcut-ref="pt"/>\n        </aop:aspect>\n    </aop:config>\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n\n\n\n# å£°æå¼äºå¡\n\nå£°ææ·»å å\n\nxmlns:tx="http://www.springframework.org/schema/tx"\n\nhttp://www.springframework.org/schema/tx\n\nhttps://www.springframework.org/schema/tx/spring-tx.xsd\n\n<beans xmlns="http://www.springframework.org/schema/beans"\n       xmlns:xsi="http://www.w3.org/2001/xmlschema-instance"\n       xmlns:context="http://www.springframework.org/schema/context"\n       xmlns:aop="http://www.springframework.org/schema/aop"\n       xmlns:tx="http://www.springframework.org/schema/tx"\n       xsi:schemalocation="http://www.springframework.org/schema/beans\n        https://www.springframework.org/schema/beans/spring-beans.xsd\n        http://www.springframework.org/schema/context\n        https://www.springframework.org/schema/context/spring-context.xsd\n        http://www.springframework.org/schema/tx\n        https://www.springframework.org/schema/tx/spring-tx.xsd\n        http://www.springframework.org/schema/aop\n        https://www.springframework.org/schema/aop/spring-aop.xsd">\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n\n\n    <bean class="org.mybatis.spring.sqlsessionfactorybean">\n        <property name="datasource" ref="datasource"/>\n        <property name="typealiasespackage" value="com.itheima.domain"/>\n    </bean>\n\n\n    <bean class="org.mybatis.spring.mapper.mapperscannerconfigurer">\n        <property name="basepackage" value="com.itheima.dao"/>\n    </bean>\n\n    <bean id="accountservice" class="com.itheima.service.impl.accountserviceimpl">\n        <property name="accountdao" ref="accountdao"/>\n    </bean>\n\n\n\n\x3c!--    txå£°æ--\x3e\n    <bean id="txmanager" class="org.springframework.jdbc.datasource.datasourcetransactionmanager">\n        <property name="datasource" ref="datasource"/>\n    </bean>\n\n    \x3c!--    å®ä¹äºå¡ç®¡ççéç¥ç±»--\x3e\n    <tx:advice id="txadvice" transaction-manager="txmanager">\n        \x3c!--å®ä¹è¦æ§å¶çäºå¡--\x3e\n        <tx:attributes>\n            \x3c!--            æå®æ¹æ³æ§å¶äºå¡ read-only æ¯å¦å¼å¯åªè¯»äºå¡--\x3e\n            \x3c!--            <tx:method name="transfer" read-only="false"/>--\x3e\n            <tx:method name="*" read-only="false"/>\n            <tx:method name="get*" read-only="true"/>\n            <tx:method name="find*" read-only="true"/>\n        </tx:attributes>\n    </tx:advice>\n\n    <aop:config>\n        <aop:pointcut id="pt" expression="execution(* com.itheima.service.*service.*(..))"/>\n        \x3c!--      adviceå¯ä»¥æ¯æ®éç±»ä¸å®ç°æ¥å£ææ²¡æç»§æ¿å³ç³»  advisoréç¥ç±»å¿é¡»å®ç°éç¥æ¥å£  --\x3e\n        <aop:advisor advice-ref="txadvice" pointcut-ref="pt"/>\n    </aop:config>\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n26\n27\n28\n29\n30\n31\n32\n33\n34\n35\n36\n37\n38\n\n\n\n# äºå¡ä¼ æ­è¡ä¸º\n\n\n\n\n\néè¦æå®ä¼ æ­å±æ§åå¨tx:method ç propagation å±æ§éç½®\n\n <tx:method name="aç¶" read-only="false" propagation="required"/>\n<tx:method name="bå­" read-only="false" propagation="required"/>\n\n\n1\n2\n\n\n\n# æ³¨è§£äºå¡\n\nå¨ä¸å¡å± sqlæä½æ¥å£(å¨é¨æ½è±¡æ¹æ³ æ¨èè¿ä¸ª ææ¥å£ä¸­çæ½è±¡æ¹æ³)/ç±»(å¨é¨æ¹æ³)/æ¹æ³ä¸é½å¯ä»¥ ä¸é¢å  @transactional\n\n    @transactional(readonly = false, timeout = -1, isolation = isolation.default, rollbackfor = {ioexception.class},propagation = propagation.required)\n    public void transfer(string outname, string inname, double money);\n\n\n1\n2\n\n 1. å¼å¯txæ³¨è§£é©±å¨ xmlç\n\n    \x3c!--äºå¡ç®¡çä¸ºäºå¡æ³¨è§£ç»å®çæ¹æ³--\x3e\n    <tx:annotation-driven transaction-manager="txmanager"/>\n\n\n1\n2\n\n 2. æ³¨è§£ç æ³¨è§£é©±å¨ å¨springconfigç±»ä¸æ è®°\n\n@enabletransactionmanagement\n\n\n1\n\n\nå¹¶ä¸éç½®äºå¡æ ¸å¿å¯¹è±¡\n\n    @bean\n    public platformtransactionmanager gettransactionmanager(datasource datasource){\n        return new datasourcetransactionmanager(datasource);\n    }\n\n\n1\n2\n3\n4\n\n\n\n# springæ¨¡æ¿å¯¹è±¡\n\n\n# jdbctemplate',charsets:{cjk:!0},lastUpdated:"2022/03/18, 09:00:59",lastUpdatedTimestamp:1647565259e3},{title:"Dubbo",frontmatter:{title:"Dubbo",date:"2022-03-18T00:51:47.000Z",permalink:"/pages/dc966e/",categories:["åç«¯","JavaEE"],tags:[null]},regularPath:"/%E5%90%8E%E7%AB%AF/02.JavaEE/10.Dubbo.html",relativePath:"åç«¯/02.JavaEE/10.Dubbo.md",key:"v-7d022df1",path:"/pages/dc966e/",headers:[{level:2,title:"éç¾¤ååå¸å¼",slug:"éç¾¤ååå¸å¼",normalizedTitle:"éç¾¤ååå¸å¼",charIndex:133},{level:2,title:"åå¸å¼çæ¼è¿è¿ç¨",slug:"åå¸å¼çæ¼è¿è¿ç¨",normalizedTitle:"åå¸å¼çæ¼è¿è¿ç¨",charIndex:206},{level:2,title:"IDEAé¡¹ç®",slug:"ideaé¡¹ç®",normalizedTitle:"ideaé¡¹ç®",charIndex:460},{level:2,title:"Dubbo-admin",slug:"dubbo-admin",normalizedTitle:"dubbo-admin",charIndex:2941},{level:2,title:"åºåå",slug:"åºåå",normalizedTitle:"åºåå",charIndex:3189},{level:2,title:"å°åç¼å­",slug:"å°åç¼å­",normalizedTitle:"å°åç¼å­",charIndex:3301},{level:2,title:"è¶æ¶",slug:"è¶æ¶",normalizedTitle:"è¶æ¶",charIndex:3358},{level:2,title:"éè¯",slug:"éè¯",normalizedTitle:"éè¯",charIndex:3461},{level:2,title:"å¤çæ¬",slug:"å¤çæ¬",normalizedTitle:"å¤çæ¬",charIndex:3584},{level:2,title:"è´è½½åè¡¡",slug:"è´è½½åè¡¡",normalizedTitle:"è´è½½åè¡¡",charIndex:3770},{level:2,title:"éç¾¤å®¹é",slug:"éç¾¤å®¹é",normalizedTitle:"éç¾¤å®¹é",charIndex:4001},{level:2,title:"æå¡éçº§",slug:"æå¡éçº§",normalizedTitle:"æå¡éçº§",charIndex:4379},{level:2,title:"æ·»å äºå¡",slug:"æ·»å äºå¡",normalizedTitle:"æ·»å äºå¡",charIndex:4546}],headersStr:"éç¾¤ååå¸å¼ åå¸å¼çæ¼è¿è¿ç¨ IDEAé¡¹ç® Dubbo-admin åºåå å°åç¼å­ è¶æ¶ éè¯ å¤çæ¬ è´è½½åè¡¡ éç¾¤å®¹é æå¡éçº§ æ·»å äºå¡",content:'# Dubbo\n\nDubbo æ¯é¿éå·´å·´å¼æºçä¸ä¸ªé«æ§è½ è½»éçº§çJava RPC æ¡æ¶\n\nhttps://dubbo.apache.org/zh/ ä¸è½½\n\nhttps://dubbo.apache.org/zh/docs/introduction/ ææ¡£\n\n\n# éç¾¤ååå¸å¼\n\n * éç¾¤ ä¸ä¸ªä¸å¡æ¨¡å,é¨ç½²å¨å¤å°æå¡å¨ä¸\n * åå¸å¼ ä¸ä¸ªå¤§çä¸å¡ç³»ç»,æåä¸ºå°çä¸å¡æ¨¡å,åå«é¨ç½²å¨ä¸åçæºå¨ä¸\n\n\n# åå¸å¼çæ¼è¿è¿ç¨\n\n * åç´æ¶æ å°å¤ä¸ªæ¨¡åæåä¸ºå¤ä¸ªç¬ç«é¡¹ç® å½¢æå¤ä¸ªç¬ç«çåä½æ¶æ å­å¨éå¤æ§åè½å¤ªå¤\n * åå¸å¼æ¶æ å¨åç´æ¶æåºç¡ä¸,å°å¬å±ä¸å¡æ¨¡åæ½ååºæ¥,ä½ä¸ºç¬ç«çæå¡ ä»¥å®ç°æå¡çå±äº«åéç¨ å­å¨ä¸æ¦äº§çåæ´ æææ¶è´¹æ¹é½éè¦åæ´\n * SOAæ¶æ é¢åæå¡æ¶æ æ¯ä¸ä¸ªç»ä»¶æ¨¡å å®å°åºç¨ç¨åºçä¸åæå¡è¿è¡æå éè¿ESB(ä¼ä¸æå¡æ»çº¿) æå¡ä¸­ä» æ¥è¿è¡æå¡ä¹é´çäº¤äº\n * å¾®æå¡æ¶æ å¨SOAæ¶æä¸åçåå å°åæçåä¸ªä¸å¡æåä¸ºå¤ä¸ªå¯ä»¥ç¬ç«å¼å è®¾è®¡ è¿è¡çå°åºç¨\n\n\n\n\n\n\n# IDEAé¡¹ç®\n\nåæ \n\n \x3c!--Dubboçèµ·æ­¥ä¾èµï¼çæ¬2.7ä¹åç»ä¸ä¸ºrg.apache.dubb --\x3e\n        <dependency>\n            <groupId>org.apache.dubbo</groupId>\n            <artifactId>dubbo</artifactId>\n            <version>2.7.4.1</version>\n        </dependency>\n        \x3c!--ZooKeeperå®¢æ·ç«¯å®ç° --\x3e\n        <dependency>\n            <groupId>org.apache.curator</groupId>\n            <artifactId>curator-framework</artifactId>\n            <version>4.0.0</version>\n        </dependency>\n        \x3c!--ZooKeeperå®¢æ·ç«¯å®ç° --\x3e\n        <dependency>\n            <groupId>org.apache.curator</groupId>\n            <artifactId>curator-recipes</artifactId>\n            <version>4.0.0</version>\n        </dependency>\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n\n\napplicationContext.xml çº¦æå®ä¹\n\nxmlns:dubbo="http://dubbo.apache.org/schema/dubbo"\n\nhttp://dubbo.apache.org/schema/dubbo\n\nhttp://dubbo.apache.org/schema/dubbo/dubbo.xsd\n\n<?xml version="1.0" encoding="UTF-8"?>\n<beans xmlns="http://www.springframework.org/schema/beans"\n\t   xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"\n\t   xmlns:dubbo="http://dubbo.apache.org/schema/dubbo" xmlns:context="http://www.springframework.org/schema/context"\n\t   xsi:schemaLocation="http://www.springframework.org/schema/beans http://www.springframework.org/schema/beans/spring-beans.xsd\n        http://dubbo.apache.org/schema/dubbo http://dubbo.apache.org/schema/dubbo/dubbo.xsd http://www.springframework.org/schema/context https://www.springframework.org/schema/context/spring-context.xsd">\n\n\n\t\x3c!--<context:component-scan base-package="com.itheima.service" />--\x3e\n\n\t\x3c!--dubboçéç½®--\x3e\n\t\x3c!--1.éç½®é¡¹ç®çåç§°,å¯ä¸--\x3e\n\t<dubbo:application name="dubbo-service"/>\n\t\x3c!--2.éç½®æ³¨åä¸­å¿çå°å--\x3e\n\t<dubbo:registry address="zookeeper://192.168.149.135:2181"/>\n\t\x3c!--3.éç½®dubboåæ«æ--\x3e\n\t<dubbo:annotation package="com.itheima.service.impl" />\n\n</beans>\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n\n\nå°beanç»å®æ¢ædubboåä¸ç\n\n//@Service//å°è¯¥ç±»çå¯¹è±¡åå»ºåºæ¥ï¼æ¾å°SpringçIOCå®¹å¨ä¸­  beanå®ä¹\n\n@Service//å°è¿ä¸ªç±»æä¾çæ¹æ³ï¼æå¡ï¼å¯¹å¤åå¸ãå°è®¿é®çå°å ipï¼ç«¯å£ï¼è·¯å¾æ³¨åå°æ³¨åä¸­å¿ä¸­\npublic class UserServiceImpl implements UserService {\n\n    public String sayHello() {\n        return "hello dubbo hello!~";\n    }\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n\n\n@Autowiredæ³¨å¥æ¢æè¿ç¨æ³¨å¥@Reference\n\n //æ³¨å¥Service\n    //@Autowired//æ¬å°æ³¨å¥\n\n    /*\n        1. ä»zookeeperæ³¨åä¸­å¿è·åuserServiceçè®¿é®url\n        2. è¿è¡è¿ç¨è°ç¨RPC\n        3. å°ç»æå°è£ä¸ºä¸ä¸ªä»£çå¯¹è±¡ãç»åéèµå¼\n\n     */\n\n    @Reference//è¿ç¨æ³¨å¥\n    private UserService userService;\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n\n\nè¿ç¨æ³¨å¥éè¦æä¾ä¸ä¸ªæ¥å£\n\n 1. è¦ä¹å¨å½åå·¥ç¨ä¸ åå»ºæ­¤æ¥å£\n 2. è¦ä¹åå»ºä¸ä¸ªå¬å±å·¥ç¨ ä¸é¨å­æ¾è¿ç¨æ³¨å¥æ¥å£ç è®©ææçå·¥ç¨é½ç»§æ¿äºå¬å±å·¥ç¨\n\n\n# Dubbo-admin\n\nhttps://github.com/apache/dubbo-admin\n\nä¸è½½åå¸ç\n\n * é¡¹ç®ç®å½ä¸ å½ä»¤è¡ mvn clean package æåå®æåå¨dubbo-admin-serverçtargetæjarå\n * å¨jaråç®å½ä¸ java -jar .\\dubbo-admin-server-0.1.jar\n * å¨ dubbo-admin-ui å npm install æè cnpm install ç¶åå npm run dev\n\n\n# åºåå\n\næ¶è´¹èåçäº§è ä¹é´ ä¼ è¾å¯¹è±¡ éè¦ç¨å°åºåååååºååéè¿æµæ¥ä¼ è¾ å®ç°åºååæ¥å£ Serializable\n\nä½Dubbo å¸®æä»¬æ´åäº æä»¬åªéå°å¨é¨pojp é½å®ç°æ¥å£Serializableæ¢å¯\n\n\n# å°åç¼å­\n\ndubboæå¡æ¶è´¹èå¨ç¬¬ä¸æ¬¡è°ç¨æ¶,ä¼å°æå¡æä¾æ¹å°åç¼å­å°æ¬å°,ä»¥åè°ç¨åä¸ä¼è®¿é®æ³¨åä¸­å¿\n\n\n# è¶æ¶\n\nå¨@Serviceæè@Referenceä¸­ å½ä¸¤ä¸ªæ³¨è§£åæ¶æ¥ætimeoutå±æ§ å@Referenceæéè¾é«\n\nè®¾ç½®timeoutå±æ§ å¼ä¸ºæ¯«ç§æ° é»è®¤ä¸º1000æ¯«ç§ è¶æ¶åéæ¾çº¿ç¨\n\n\n# éè¯\n\nè®¾ç½®äºè¶æ¶æ¶é´ å¨æå®æ¶é´å æ æ³å®ææå¡è®¿é® åèªå¨æ­å¼è¿æ¥\n\nå¦æåºç°ç½ç»æå¨ åè¿ä¸æ¬¡è¯·æ±å°±ä¼å¤±è´¥\n\nä¸è¶æ¶è®¾ç½®ä¸è´\n\néè¿è®¾ç½® retries å±æ§æ¥è®¾ç½®éè¯æ¬¡æ° é»è®¤ä¸º2 å³å½ç¬¬ä¸æ¬¡è¶æ¶å éè¯2æ¬¡å¦è¿æ¯å¤±è´¥åæ­å¼è¿æ¥\n\n\n# å¤çæ¬\n\nç°åº¦åå¸: å½åºç°æ°çåè½æ¶,ä¼è®©ä¸é¨åç¨æ·åä½¿ç¨æ°åè½,ç¨æ·åé¦æ²¡é®é¢æ¶,åå°ææç¨æ·è¿ç§»å°æ°åè½\n\ndubbo ä½¿ç¨ version å±æ§ è®¾ç½®çæ¬\n\nå¨@Service ä¸­è®¾ç½® versionå±æ§ @Service(version="v2.0")\n\nç¶åå¨@Referenceä¸­è®¾ç½®æå®çæ¬å· @Reference(version="v1.0")\n\n\n# è´è½½åè¡¡\n\néè¿@Referenceä¸­è®¾ç½®å±æ§ loadbalanceå±æ§ @Reference(loadbalance ="random")\n\n * Random ææééæº,é»è®¤å¼ ææéè®¾ç½®éæºæ¦ç æééè¿@Service(weight = 100)è®¾ç½®\n * RoundRobin ææéè½®è¯¢\n * LeastActiove æå°æ´»è·è°ç¨æ°,ç¸åæ´»è·çéæº\n * ConsistentHash ä¸è´æ§Hash ç¸ååæ°çè¯·æ±æ»æ¯åå°åä¸æä¾è\n\n\n# éç¾¤å®¹é\n\néè¿@Referenceä¸­è®¾ç½®å±æ§ culsterå±æ§ @Reference(cluster = "Failover Cluster" )\n\n * Failover Cluster: å¤±è´¥éè¯. ,é»è®¤å¼ å½åºç°å¤±è´¥ éè¯å¶ä»æå¡å¨ é»è®¤éè¯2æ­¤ ä½¿ç¨retrieséç½® ä¸è¬ç¨äºè¯»æä½\n\n * Failfast Cluster å¿«éå¤±è´¥ åªåèµ·ä¸æ¬¡è°ç¨ å¤±è´¥ç«å³æ¥é éå¸¸ç¨äºåæä½\n\n * Falisafe Cluster å¤±è´¥å®å¨ åºç°å¼å¸¸æ¶ ç´æ¥å¿½ç¥ è¿åä¸ä¸ªç©ºç»æ\n\n * Failback Cluster å¤±è´¥èªå¨æ¢å¤ åå°è®°å½å¤±è´¥è¯·æ± å®æ¶éå¤\n\n * Foriking Cluster å¹¶è¡è°ç¨å¤ä¸ªæå¡å¨ åªè¦ä¸ä¸ªæåå³è¿å\n\n * Broadcast Cluster å¹¿æ­è°ç¨æææä¾è,éä¸ªè°ç¨,ä»»ä½ä¸å°æ¥éåæ¥é\n\n\n# æå¡éçº§\n\néè¿@Referenceä¸­è®¾ç½®å±æ§ mockå±æ§ @Reference(mock = "" )\n\n * force:return null è¡¨ç¤ºæ¶è´¹èå¯¹è¯¥æå¡çæ¹æ³è°ç¨é½ç´æ¥è¿å null ä¸åèµ·è¿ç¨è°ç¨\n * fail:return null è¡¨ç¤ºæ¶è´¹èå¯¹è¯¥æå¡çæ¹æ³è°ç¨å¨å¤±è´¥å åè¿ånull å¼ ä¸æå¼å¸¸\n\n\n# æ·»å äºå¡\n\nå¦æç±»æ·»å äºäºå¡æ³¨è§£ å@Serviceéè¦æå®å®ç°çæ¯åªä¸ªæ¥å£\n\n@Service(interfaceClass = CheckItemService.class)\n@Transactional\npublic class CheckItemServiceImpl implements CheckItemService {\n}\n\n\n1\n2\n3\n4\n',normalizedContent:'# dubbo\n\ndubbo æ¯é¿éå·´å·´å¼æºçä¸ä¸ªé«æ§è½ è½»éçº§çjava rpc æ¡æ¶\n\nhttps://dubbo.apache.org/zh/ ä¸è½½\n\nhttps://dubbo.apache.org/zh/docs/introduction/ ææ¡£\n\n\n# éç¾¤ååå¸å¼\n\n * éç¾¤ ä¸ä¸ªä¸å¡æ¨¡å,é¨ç½²å¨å¤å°æå¡å¨ä¸\n * åå¸å¼ ä¸ä¸ªå¤§çä¸å¡ç³»ç»,æåä¸ºå°çä¸å¡æ¨¡å,åå«é¨ç½²å¨ä¸åçæºå¨ä¸\n\n\n# åå¸å¼çæ¼è¿è¿ç¨\n\n * åç´æ¶æ å°å¤ä¸ªæ¨¡åæåä¸ºå¤ä¸ªç¬ç«é¡¹ç® å½¢æå¤ä¸ªç¬ç«çåä½æ¶æ å­å¨éå¤æ§åè½å¤ªå¤\n * åå¸å¼æ¶æ å¨åç´æ¶æåºç¡ä¸,å°å¬å±ä¸å¡æ¨¡åæ½ååºæ¥,ä½ä¸ºç¬ç«çæå¡ ä»¥å®ç°æå¡çå±äº«åéç¨ å­å¨ä¸æ¦äº§çåæ´ æææ¶è´¹æ¹é½éè¦åæ´\n * soaæ¶æ é¢åæå¡æ¶æ æ¯ä¸ä¸ªç»ä»¶æ¨¡å å®å°åºç¨ç¨åºçä¸åæå¡è¿è¡æå éè¿esb(ä¼ä¸æå¡æ»çº¿) æå¡ä¸­ä» æ¥è¿è¡æå¡ä¹é´çäº¤äº\n * å¾®æå¡æ¶æ å¨soaæ¶æä¸åçåå å°åæçåä¸ªä¸å¡æåä¸ºå¤ä¸ªå¯ä»¥ç¬ç«å¼å è®¾è®¡ è¿è¡çå°åºç¨\n\n\n\n\n\n\n# ideaé¡¹ç®\n\nåæ \n\n \x3c!--dubboçèµ·æ­¥ä¾èµï¼çæ¬2.7ä¹åç»ä¸ä¸ºrg.apache.dubb --\x3e\n        <dependency>\n            <groupid>org.apache.dubbo</groupid>\n            <artifactid>dubbo</artifactid>\n            <version>2.7.4.1</version>\n        </dependency>\n        \x3c!--zookeeperå®¢æ·ç«¯å®ç° --\x3e\n        <dependency>\n            <groupid>org.apache.curator</groupid>\n            <artifactid>curator-framework</artifactid>\n            <version>4.0.0</version>\n        </dependency>\n        \x3c!--zookeeperå®¢æ·ç«¯å®ç° --\x3e\n        <dependency>\n            <groupid>org.apache.curator</groupid>\n            <artifactid>curator-recipes</artifactid>\n            <version>4.0.0</version>\n        </dependency>\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n\n\napplicationcontext.xml çº¦æå®ä¹\n\nxmlns:dubbo="http://dubbo.apache.org/schema/dubbo"\n\nhttp://dubbo.apache.org/schema/dubbo\n\nhttp://dubbo.apache.org/schema/dubbo/dubbo.xsd\n\n<?xml version="1.0" encoding="utf-8"?>\n<beans xmlns="http://www.springframework.org/schema/beans"\n\t   xmlns:xsi="http://www.w3.org/2001/xmlschema-instance"\n\t   xmlns:dubbo="http://dubbo.apache.org/schema/dubbo" xmlns:context="http://www.springframework.org/schema/context"\n\t   xsi:schemalocation="http://www.springframework.org/schema/beans http://www.springframework.org/schema/beans/spring-beans.xsd\n        http://dubbo.apache.org/schema/dubbo http://dubbo.apache.org/schema/dubbo/dubbo.xsd http://www.springframework.org/schema/context https://www.springframework.org/schema/context/spring-context.xsd">\n\n\n\t\x3c!--<context:component-scan base-package="com.itheima.service" />--\x3e\n\n\t\x3c!--dubboçéç½®--\x3e\n\t\x3c!--1.éç½®é¡¹ç®çåç§°,å¯ä¸--\x3e\n\t<dubbo:application name="dubbo-service"/>\n\t\x3c!--2.éç½®æ³¨åä¸­å¿çå°å--\x3e\n\t<dubbo:registry address="zookeeper://192.168.149.135:2181"/>\n\t\x3c!--3.éç½®dubboåæ«æ--\x3e\n\t<dubbo:annotation package="com.itheima.service.impl" />\n\n</beans>\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n\n\nå°beanç»å®æ¢ædubboåä¸ç\n\n//@service//å°è¯¥ç±»çå¯¹è±¡åå»ºåºæ¥ï¼æ¾å°springçiocå®¹å¨ä¸­  beanå®ä¹\n\n@service//å°è¿ä¸ªç±»æä¾çæ¹æ³ï¼æå¡ï¼å¯¹å¤åå¸ãå°è®¿é®çå°å ipï¼ç«¯å£ï¼è·¯å¾æ³¨åå°æ³¨åä¸­å¿ä¸­\npublic class userserviceimpl implements userservice {\n\n    public string sayhello() {\n        return "hello dubbo hello!~";\n    }\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n\n\n@autowiredæ³¨å¥æ¢æè¿ç¨æ³¨å¥@reference\n\n //æ³¨å¥service\n    //@autowired//æ¬å°æ³¨å¥\n\n    /*\n        1. ä»zookeeperæ³¨åä¸­å¿è·åuserserviceçè®¿é®url\n        2. è¿è¡è¿ç¨è°ç¨rpc\n        3. å°ç»æå°è£ä¸ºä¸ä¸ªä»£çå¯¹è±¡ãç»åéèµå¼\n\n     */\n\n    @reference//è¿ç¨æ³¨å¥\n    private userservice userservice;\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n\n\nè¿ç¨æ³¨å¥éè¦æä¾ä¸ä¸ªæ¥å£\n\n 1. è¦ä¹å¨å½åå·¥ç¨ä¸ åå»ºæ­¤æ¥å£\n 2. è¦ä¹åå»ºä¸ä¸ªå¬å±å·¥ç¨ ä¸é¨å­æ¾è¿ç¨æ³¨å¥æ¥å£ç è®©ææçå·¥ç¨é½ç»§æ¿äºå¬å±å·¥ç¨\n\n\n# dubbo-admin\n\nhttps://github.com/apache/dubbo-admin\n\nä¸è½½åå¸ç\n\n * é¡¹ç®ç®å½ä¸ å½ä»¤è¡ mvn clean package æåå®æåå¨dubbo-admin-serverçtargetæjarå\n * å¨jaråç®å½ä¸ java -jar .\\dubbo-admin-server-0.1.jar\n * å¨ dubbo-admin-ui å npm install æè cnpm install ç¶åå npm run dev\n\n\n# åºåå\n\næ¶è´¹èåçäº§è ä¹é´ ä¼ è¾å¯¹è±¡ éè¦ç¨å°åºåååååºååéè¿æµæ¥ä¼ è¾ å®ç°åºååæ¥å£ serializable\n\nä½dubbo å¸®æä»¬æ´åäº æä»¬åªéå°å¨é¨pojp é½å®ç°æ¥å£serializableæ¢å¯\n\n\n# å°åç¼å­\n\ndubboæå¡æ¶è´¹èå¨ç¬¬ä¸æ¬¡è°ç¨æ¶,ä¼å°æå¡æä¾æ¹å°åç¼å­å°æ¬å°,ä»¥åè°ç¨åä¸ä¼è®¿é®æ³¨åä¸­å¿\n\n\n# è¶æ¶\n\nå¨@serviceæè@referenceä¸­ å½ä¸¤ä¸ªæ³¨è§£åæ¶æ¥ætimeoutå±æ§ å@referenceæéè¾é«\n\nè®¾ç½®timeoutå±æ§ å¼ä¸ºæ¯«ç§æ° é»è®¤ä¸º1000æ¯«ç§ è¶æ¶åéæ¾çº¿ç¨\n\n\n# éè¯\n\nè®¾ç½®äºè¶æ¶æ¶é´ å¨æå®æ¶é´å æ æ³å®ææå¡è®¿é® åèªå¨æ­å¼è¿æ¥\n\nå¦æåºç°ç½ç»æå¨ åè¿ä¸æ¬¡è¯·æ±å°±ä¼å¤±è´¥\n\nä¸è¶æ¶è®¾ç½®ä¸è´\n\néè¿è®¾ç½® retries å±æ§æ¥è®¾ç½®éè¯æ¬¡æ° é»è®¤ä¸º2 å³å½ç¬¬ä¸æ¬¡è¶æ¶å éè¯2æ¬¡å¦è¿æ¯å¤±è´¥åæ­å¼è¿æ¥\n\n\n# å¤çæ¬\n\nç°åº¦åå¸: å½åºç°æ°çåè½æ¶,ä¼è®©ä¸é¨åç¨æ·åä½¿ç¨æ°åè½,ç¨æ·åé¦æ²¡é®é¢æ¶,åå°ææç¨æ·è¿ç§»å°æ°åè½\n\ndubbo ä½¿ç¨ version å±æ§ è®¾ç½®çæ¬\n\nå¨@service ä¸­è®¾ç½® versionå±æ§ @service(version="v2.0")\n\nç¶åå¨@referenceä¸­è®¾ç½®æå®çæ¬å· @reference(version="v1.0")\n\n\n# è´è½½åè¡¡\n\néè¿@referenceä¸­è®¾ç½®å±æ§ loadbalanceå±æ§ @reference(loadbalance ="random")\n\n * random ææééæº,é»è®¤å¼ ææéè®¾ç½®éæºæ¦ç æééè¿@service(weight = 100)è®¾ç½®\n * roundrobin ææéè½®è¯¢\n * leastactiove æå°æ´»è·è°ç¨æ°,ç¸åæ´»è·çéæº\n * consistenthash ä¸è´æ§hash ç¸ååæ°çè¯·æ±æ»æ¯åå°åä¸æä¾è\n\n\n# éç¾¤å®¹é\n\néè¿@referenceä¸­è®¾ç½®å±æ§ culsterå±æ§ @reference(cluster = "failover cluster" )\n\n * failover cluster: å¤±è´¥éè¯. ,é»è®¤å¼ å½åºç°å¤±è´¥ éè¯å¶ä»æå¡å¨ é»è®¤éè¯2æ­¤ ä½¿ç¨retrieséç½® ä¸è¬ç¨äºè¯»æä½\n\n * failfast cluster å¿«éå¤±è´¥ åªåèµ·ä¸æ¬¡è°ç¨ å¤±è´¥ç«å³æ¥é éå¸¸ç¨äºåæä½\n\n * falisafe cluster å¤±è´¥å®å¨ åºç°å¼å¸¸æ¶ ç´æ¥å¿½ç¥ è¿åä¸ä¸ªç©ºç»æ\n\n * failback cluster å¤±è´¥èªå¨æ¢å¤ åå°è®°å½å¤±è´¥è¯·æ± å®æ¶éå¤\n\n * foriking cluster å¹¶è¡è°ç¨å¤ä¸ªæå¡å¨ åªè¦ä¸ä¸ªæåå³è¿å\n\n * broadcast cluster å¹¿æ­è°ç¨æææä¾è,éä¸ªè°ç¨,ä»»ä½ä¸å°æ¥éåæ¥é\n\n\n# æå¡éçº§\n\néè¿@referenceä¸­è®¾ç½®å±æ§ mockå±æ§ @reference(mock = "" )\n\n * force:return null è¡¨ç¤ºæ¶è´¹èå¯¹è¯¥æå¡çæ¹æ³è°ç¨é½ç´æ¥è¿å null ä¸åèµ·è¿ç¨è°ç¨\n * fail:return null è¡¨ç¤ºæ¶è´¹èå¯¹è¯¥æå¡çæ¹æ³è°ç¨å¨å¤±è´¥å åè¿ånull å¼ ä¸æå¼å¸¸\n\n\n# æ·»å äºå¡\n\nå¦æç±»æ·»å äºäºå¡æ³¨è§£ å@serviceéè¦æå®å®ç°çæ¯åªä¸ªæ¥å£\n\n@service(interfaceclass = checkitemservice.class)\n@transactional\npublic class checkitemserviceimpl implements checkitemservice {\n}\n\n\n1\n2\n3\n4\n',charsets:{cjk:!0},lastUpdated:"2022/03/18, 07:01:11",lastUpdatedTimestamp:1647558071e3},{title:"Spring MVC",frontmatter:{title:"Spring MVC",date:"2022-03-18T00:51:47.000Z",permalink:"/pages/8cd1ce/",categories:["åç«¯","JavaEE"],tags:[null]},regularPath:"/%E5%90%8E%E7%AB%AF/02.JavaEE/08.Spring%20MVC.html",relativePath:"åç«¯/02.JavaEE/08.Spring MVC.md",key:"v-14c62766",path:"/pages/8cd1ce/",headers:[{level:2,title:"ä¸å±æ¶æ",slug:"ä¸å±æ¶æ",normalizedTitle:"ä¸å±æ¶æ",charIndex:17},{level:2,title:"MVC",slug:"mvc",normalizedTitle:"mvc",charIndex:9},{level:2,title:"é¡¹ç®æå»º xml",slug:"é¡¹ç®æå»º-xml",normalizedTitle:"é¡¹ç®æå»º xml",charIndex:210},{level:2,title:"ææ¯æ¶æå¾",slug:"ææ¯æ¶æå¾",normalizedTitle:"ææ¯æ¶æå¾",charIndex:3842},{level:2,title:"æ³¨è§£é©±å¨",slug:"æ³¨è§£é©±å¨",normalizedTitle:"æ³¨è§£é©±å¨",charIndex:3854},{level:3,title:"æ«æåå«Controlleræ³¨è§£çç±»",slug:"æ«æåå«controlleræ³¨è§£çç±»",normalizedTitle:"æ«æåå«controlleræ³¨è§£çç±»",charIndex:3863},{level:3,title:"æ³¨è§£éç½®æå®æ¾è¡çèµæº",slug:"æ³¨è§£éç½®æå®æ¾è¡çèµæº",normalizedTitle:"æ³¨è§£éç½®æå®æ¾è¡çèµæº",charIndex:4056},{level:3,title:"æ³¨è§£éç½®æ¾è¡ææéæèµæº",slug:"æ³¨è§£éç½®æ¾è¡ææéæèµæº",normalizedTitle:"æ³¨è§£éç½®æ¾è¡ææéæèµæº",charIndex:4555},{level:3,title:"servletæ«æmvcéç½®æä»¶",slug:"servletæ«æmvcéç½®æä»¶",normalizedTitle:"servletæ«æmvcéç½®æä»¶",charIndex:4854},{level:2,title:"è¯·æ±",slug:"è¯·æ±",normalizedTitle:"è¯·æ±",charIndex:6924},{level:3,title:"è¯·æ±åæ°",slug:"è¯·æ±åæ°",normalizedTitle:"è¯·æ±åæ°",charIndex:6931},{level:3,title:"ç±»åè½¬æ¢å¨",slug:"ç±»åè½¬æ¢å¨",normalizedTitle:"ç±»åè½¬æ¢å¨",charIndex:10328},{level:3,title:"è¯·æ±æ å°",slug:"è¯·æ±æ å°",normalizedTitle:"è¯·æ±æ å°",charIndex:12471},{level:2,title:"ååº",slug:"ååº",normalizedTitle:"ååº",charIndex:12717},{level:3,title:"é¡µé¢è·³è½¬æ¹å¼",slug:"é¡µé¢è·³è½¬æ¹å¼",normalizedTitle:"é¡µé¢è·³è½¬æ¹å¼",charIndex:12735},{level:3,title:"requestä¼ éæ°æ®",slug:"requestä¼ éæ°æ®",normalizedTitle:"requestä¼ éæ°æ®",charIndex:13494},{level:3,title:"Model ç±»åå½¢åè¿è¡æ°æ®ä¼ é",slug:"model-ç±»åå½¢åè¿è¡æ°æ®ä¼ é",normalizedTitle:"model ç±»åå½¢åè¿è¡æ°æ®ä¼ é",charIndex:13691},{level:3,title:"ModelAndView ç±»åä¼ é",slug:"modelandview-ç±»åä¼ é",normalizedTitle:"modelandview ç±»åä¼ é",charIndex:14021},{level:3,title:"è¿åJSONæ°æ®",slug:"è¿åjsonæ°æ®",normalizedTitle:"è¿åjsonæ°æ®",charIndex:14915},{level:2,title:"Servletç¸å³æ¥å£",slug:"servletç¸å³æ¥å£",normalizedTitle:"servletç¸å³æ¥å£",charIndex:15785},{level:3,title:"Headæ°æ®è·å",slug:"headæ°æ®è·å",normalizedTitle:"headæ°æ®è·å",charIndex:15856},{level:3,title:"Cookie æ°æ®è·å",slug:"cookie-æ°æ®è·å",normalizedTitle:"cookie æ°æ®è·å",charIndex:16127},{level:3,title:"Session æ°æ®è·ååè®¾ç½®",slug:"session-æ°æ®è·ååè®¾ç½®",normalizedTitle:"session æ°æ®è·ååè®¾ç½®",charIndex:16402},{level:2,title:"åéå¼æ­¥è¯·æ±",slug:"åéå¼æ­¥è¯·æ±",normalizedTitle:"åéå¼æ­¥è¯·æ±",charIndex:16735},{level:2,title:"å¼æ­¥è¯·æ±ååº",slug:"å¼æ­¥è¯·æ±ååº",normalizedTitle:"å¼æ­¥è¯·æ±ååº",charIndex:17463},{level:2,title:"è·¨åè®¿é®",slug:"è·¨åè®¿é®",normalizedTitle:"è·¨åè®¿é®",charIndex:18586},{level:2,title:"æ¦æªå¨",slug:"æ¦æªå¨",normalizedTitle:"æ¦æªå¨",charIndex:18815},{level:3,title:"æ¦æªå¨åæ°",slug:"æ¦æªå¨åæ°",normalizedTitle:"æ¦æªå¨åæ°",charIndex:19946},{level:3,title:"å¤ä¸ªæ¦æªå¨",slug:"å¤ä¸ªæ¦æªå¨",normalizedTitle:"å¤ä¸ªæ¦æªå¨",charIndex:18910},{level:3,title:"è´£ä»»é¾æ¨¡å¼",slug:"è´£ä»»é¾æ¨¡å¼",normalizedTitle:"è´£ä»»é¾æ¨¡å¼",charIndex:20164},{level:2,title:"å¼å¸¸å¤ç",slug:"å¼å¸¸å¤ç",normalizedTitle:"å¼å¸¸å¤ç",charIndex:20176},{level:3,title:"æ³¨è§£çå¼å¸¸å¤ç",slug:"æ³¨è§£çå¼å¸¸å¤ç",normalizedTitle:"æ³¨è§£çå¼å¸¸å¤ç",charIndex:21110},{level:2,title:"æä»¶ä¸ä¼ ä¸è½½",slug:"æä»¶ä¸ä¼ ä¸è½½",normalizedTitle:"æä»¶ä¸ä¼ ä¸è½½",charIndex:21975},{level:2,title:"Restful",slug:"restful",normalizedTitle:"restful",charIndex:22206},{level:3,title:"PathVariable",slug:"pathvariable",normalizedTitle:"pathvariable",charIndex:22222},{level:3,title:"RestController",slug:"restcontroller",normalizedTitle:"restcontroller",charIndex:22521},{level:3,title:"XXXMapping",slug:"xxxmapping",normalizedTitle:"xxxmapping",charIndex:22624},{level:2,title:"è¡¨åéªè¯æ¡æ¶",slug:"è¡¨åéªè¯æ¡æ¶",normalizedTitle:"è¡¨åéªè¯æ¡æ¶",charIndex:22898},{level:3,title:"åç»æ ¡éª",slug:"åç»æ ¡éª",normalizedTitle:"åç»æ ¡éª",charIndex:24755},{level:2,title:"SSM",slug:"ssm",normalizedTitle:"ssm",charIndex:25680}],headersStr:"ä¸å±æ¶æ MVC é¡¹ç®æå»º xml ææ¯æ¶æå¾ æ³¨è§£é©±å¨ æ«æåå«Controlleræ³¨è§£çç±» æ³¨è§£éç½®æå®æ¾è¡çèµæº æ³¨è§£éç½®æ¾è¡ææéæèµæº servletæ«æmvcéç½®æä»¶ è¯·æ± è¯·æ±åæ° ç±»åè½¬æ¢å¨ è¯·æ±æ å° ååº é¡µé¢è·³è½¬æ¹å¼ requestä¼ éæ°æ® Model ç±»åå½¢åè¿è¡æ°æ®ä¼ é ModelAndView ç±»åä¼ é è¿åJSONæ°æ® Servletç¸å³æ¥å£ Headæ°æ®è·å Cookie æ°æ®è·å Session æ°æ®è·ååè®¾ç½® åéå¼æ­¥è¯·æ± å¼æ­¥è¯·æ±ååº è·¨åè®¿é® æ¦æªå¨ æ¦æªå¨åæ° å¤ä¸ªæ¦æªå¨ è´£ä»»é¾æ¨¡å¼ å¼å¸¸å¤ç æ³¨è§£çå¼å¸¸å¤ç æä»¶ä¸ä¼ ä¸è½½ Restful PathVariable RestController XXXMapping è¡¨åéªè¯æ¡æ¶ åç»æ ¡éª SSM",content:'# Spring MVC\n\n\n# ä¸å±æ¶æ\n\n\n\n\n# MVC\n\nMVC(Model View Controller) è®¾è®¡åå»ºWebåºç¨ç¨åºè¡¨ç°å±çæ¨¡å¼\n\n * Model æ¨¡å : æ°æ®æ¨¡å,ç¨äºå°è£æ°æ®\n * View è§å¾ : é¡µé¢è§å¾,ç¨äºå±ç¤ºæ°æ®\n   * jsp\n   * html\n * Contoller æ§å¶å¨ :å¤çç¨æ·äº¤äºçè°åº¦å¨,ç¨äºæ ¹æ®ç¨æ·éæ±å¤çç¨åºé»è¾\n   * Servlet\n\n\n# é¡¹ç®æå»º xml\n\nå¯¼å¥åæ \n\n         \x3c!-- servlet3.1è§èçåæ  --\x3e\n      <dependency>\n        <groupId>javax.servlet</groupId>\n        <artifactId>javax.servlet-api</artifactId>\n        <version>3.1.0</version>\n        <scope>provided</scope>\n      </dependency>\n      \x3c!--jspåæ --\x3e\n      <dependency>\n        <groupId>javax.servlet.jsp</groupId>\n        <artifactId>jsp-api</artifactId>\n        <version>2.1</version>\n        <scope>provided</scope>\n      </dependency> \n\t\t\x3c!--spring webçåæ --\x3e\n        <dependency>\n            <groupId>org.springframework</groupId>\n            <artifactId>spring-web</artifactId>\n            <version>5.1.9.RELEASE</version>\n        </dependency>\n        \x3c!--springmvcçåæ --\x3e\n        <dependency>\n            <groupId>org.springframework</groupId>\n            <artifactId>spring-webmvc</artifactId>\n            <version>5.1.9.RELEASE</version>\n        </dependency>\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n26\n\n\nspring-mvc.xml\n\n<?xml version="1.0" encoding="UTF-8"?>\n<beans xmlns="http://www.springframework.org/schema/beans"\n       xmlns:context="http://www.springframework.org/schema/context"\n       xmlns:mvc="http://www.springframework.org/schema/mvc"\n       xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"\n       xsi:schemaLocation="http://www.springframework.org/schema/beans http://www.springframework.org/schema/beans/spring-beans.xsd\n        http://www.springframework.org/schema/mvc http://www.springframework.org/schema/mvc/spring-mvc.xsd\n        http://www.springframework.org/schema/context http://www.springframework.org/schema/context/spring-context.xsd">\n\n    <context:component-scan base-package="com.itheima">\n        \x3c!-- åå«ä»¥ä¸æ³¨è§£åå è½½ --\x3e\n        <context:include-filter type="annotation" expression="org.springframework.stereotype.Controller"/>\n    </context:component-scan>\n\n\n    \x3c!--æ¾è¡æå®ç±»åéæèµæºéç½®æ¹å¼--\x3e\n\x3c!--    <mvc:resources mapping="/img/**" location="/img/"/>--\x3e\n\x3c!--    <mvc:resources mapping="/js/**" location="/js/"/>--\x3e\n\x3c!--    <mvc:resources mapping="/css/**" location="/css/"/>--\x3e\n\n    \x3c!--SpringMVCæä¾çéç¨èµæºæ¾è¡æ¹å¼ éæ¾ææéæèµæº--\x3e\n    <mvc:default-servlet-handler/>\n\n</beans>\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n\n\nweb.xml\n\n<?xml version="1.0" encoding="UTF-8"?>\n<web-app xmlns="http://xmlns.jcp.org/xml/ns/javaee"\n         xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"\n         xsi:schemaLocation="http://xmlns.jcp.org/xml/ns/javaee http://xmlns.jcp.org/xml/ns/javaee/web-app_3_1.xsd"\n         version="3.1">\n\n    \x3c!--ä¹±ç å¤çè¿æ»¤å¨ï¼ä¸Servletä¸­ä½¿ç¨çå®å¨ç¸åï¼å·®å¼ä¹å¤å¨äºå¤çå¨çç±»ç±Springæä¾--\x3e\n    <filter>\n        <filter-name>CharacterEncodingFilter</filter-name>\n        <filter-class>org.springframework.web.filter.CharacterEncodingFilter</filter-class>\n        <init-param>\n            <param-name>encoding</param-name>\n            <param-value>UTF-8</param-value>\n        </init-param>\n    </filter>\n    <filter-mapping>\n        <filter-name>CharacterEncodingFilter</filter-name>\n        <url-pattern>/*</url-pattern>\n    </filter-mapping>\n\t\x3c!-- æ«æmvcéç½®æä»¶ --\x3e\n    <servlet>\n        <servlet-name>DispatcherServlet</servlet-name>\n        <servlet-class>org.springframework.web.servlet.DispatcherServlet</servlet-class>\n        <init-param>\n            <param-name>contextConfigLocation</param-name>\n            <param-value>classpath*:spring-mvc.xml</param-value>\n        </init-param>\n    </servlet>\n    <servlet-mapping>\n        <servlet-name>DispatcherServlet</servlet-name>\n        <url-pattern>/</url-pattern>\n    </servlet-mapping>\n\n</web-app>\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n26\n27\n28\n29\n30\n31\n32\n33\n34\n\n\n\n# ææ¯æ¶æå¾\n\n\n\n\n# æ³¨è§£é©±å¨\n\n\n# æ«æåå«Controlleræ³¨è§£çç±»\n\nå¨springmvc éç½®ç±»ä¸­\n\n@ComponentScan(value = "com.itheima",includeFilters =\n    @ComponentScan.Filter(type=FilterType.ANNOTATION,classes = {Controller.class})\n    )\n\n\n1\n2\n3\n\n\n\n# æ³¨è§£éç½®æå®æ¾è¡çèµæº\n\nå®ç°WebMvcConfigureræ¥å£ éåaddResourceHandlersæ¹æ³\n\npublic class SpringMVCConfiguration implements WebMvcConfigurer{\n    //æ³¨è§£éç½®æ¾è¡æå®èµæºæ ¼å¼\n    @Override\n    public void addResourceHandlers(ResourceHandlerRegistry registry) {\n        \t\t\t  registry.addResourceHandler("/img/**").addResourceLocations("/img/");\n        registry.addResourceHandler("/js/**").addResourceLocations("/js/");\n        registry.addResourceHandler("/css/**").addResourceLocations("/css/");\n    }\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n\n\n\n# æ³¨è§£éç½®æ¾è¡ææéæèµæº\n\nå®ç°WebMvcConfigureræ¥å£ éåconfigureDefaultServletHandlingæ¹æ³\n\npublic class SpringMVCConfiguration implements WebMvcConfigurer{\n\t@Override\n    public void configureDefaultServletHandling(DefaultServletHandlerConfigurer configurer) {\n        configurer.enable();;\n    }\n}\n\n\n1\n2\n3\n4\n5\n6\n\n\n\n# servletæ«æmvcéç½®æä»¶\n\nç»§æ¿ AbstractDispatcherServletInitializer ç±» éåéé¢ç createServletApplicationContext createRootApplicationContext å getServletMappings æ¹æ³\n\nimport org.springframework.web.context.WebApplicationContext;\nimport org.springframework.web.context.support.AnnotationConfigWebApplicationContext;\nimport org.springframework.web.filter.CharacterEncodingFilter;\nimport org.springframework.web.servlet.support.AbstractDispatcherServletInitializer;\n\nimport javax.servlet.DispatcherType;\nimport javax.servlet.FilterRegistration;\nimport javax.servlet.ServletContext;\nimport javax.servlet.ServletException;\nimport java.util.EnumSet;\n\npublic class ServletContainersInitConfig extends AbstractDispatcherServletInitializer {\n    //åå»ºServletå®¹å¨æ¶ï¼ä½¿ç¨æ³¨è§£çæ¹å¼å è½½SPRINGMVCéç½®ç±»ä¸­çä¿¡æ¯ï¼å¹¶å è½½æWEBä¸ç¨çApplicationContextå¯¹è±¡\n    //è¯¥å¯¹è±¡æ¾å¥äºServletContextèå´ï¼åæå¨æ´ä¸ªWEBå®¹å¨ä¸­å¯ä»¥éæ¶è·åè°ç¨\n    @Override\n    protected WebApplicationContext createServletApplicationContext() {\n        AnnotationConfigWebApplicationContext ctx = new AnnotationConfigWebApplicationContext();\n        //éè¦ä¸ä¸ªMVCéç½®ç±»\n        ctx.register(SpringMVCConfiguration.class);\n        return ctx;\n    }\n\n    //æ³¨è§£éç½®æ å°å°åæ¹å¼ï¼æå¡äºSpringMVCçæ ¸å¿æ§å¶å¨DispatcherServlet\n    @Override\n    protected String[] getServletMappings() {\n        return new String[]{"/"};\n    }\n\n    @Override\n    protected WebApplicationContext createRootApplicationContext() {\n        return null;\n    }\n\n    //ä¹±ç å¤çä½ä¸ºè¿æ»¤å¨ï¼å¨servletå®¹å¨å¯å¨æ¶è¿è¡éç½®ï¼ç¸å³åå®¹åçServleté¶éç½®ç¸å³è¯¾ç¨\n    @Override\n    public void onStartup(ServletContext servletContext) throws ServletException {\n        super.onStartup(servletContext);\n        CharacterEncodingFilter cef = new CharacterEncodingFilter();\n        cef.setEncoding("UTF-8");\n        FilterRegistration.Dynamic registration = servletContext.addFilter("characterEncodingFilter", cef);\n        registration.addMappingForUrlPatterns(EnumSet.of(DispatcherType.REQUEST,DispatcherType.FORWARD,DispatcherType.INCLUDE),false,"/*");\n    }\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n26\n27\n28\n29\n30\n31\n32\n33\n34\n35\n36\n37\n38\n39\n40\n41\n42\n43\n\n\n\n# è¯·æ±\n\n\n# è¯·æ±åæ°\n\nSpringMVCå°ä¼ éçåæ°å°è£å°å¤çå¨æ¹æ³çå½¢åä¸­,è¾¾å°å¿«éè®¿é®åæ°çç®ç\n\nåªéå¨å½¢åä¸ä¸è¯·æ±å°åä¸çåæ°åå­ä¸è´ å³å¯è·åå°è¯·æ±åæ°çå¼\n\n    //è¯·æ±åæ°  http://localhost/requestParam1?name=hello\n    @RequestMapping("/requestParam1")\n    public String requestParam1(String name){\n        System.out.println(name);\n        return "index.jsp";\n    }\n\n\n1\n2\n3\n4\n5\n6\n\n\n# æ®éç±»å\n\nåæ°åä¸å¤çå¨æ¹æ³å½¢ååä¿æä¸è´ å¦åæ æ³è·åå¯¹åºçå¼\n\nå¦ææ³è¦ç»å®å·ä½çè¯·æ±å åéè¦ä½¿ç¨ @RequestParam\n\n * @RequestParam\n   * value è¯·æ±å±æ§å\n   * required ä¸åè®¸ä¸ºç©º é»è®¤ä¸ºtrue\n   * defaultValue ä¸ºç©ºæ¶é»è®¤å¼\n\n    //è¯·æ±åæ°å½¢åç»å®å  http://localhost/requestParam2?username=hello&age=10\n    @RequestMapping("/requestParam2")\n    public String requestParam2(@RequestParam(value = "username",required = true,defaultValue = "zhangsan") String name, int age){\n        System.out.println(name);\n        System.out.println(age);\n        return "index.jsp";\n    }\n\n\n1\n2\n3\n4\n5\n6\n7\n\n\n# POJOç±»å\n\nå¦æå½¢åä¸ºä¸ä¸ªå¯¹è±¡ åè¯·æ±åæ°ä¼å°å¼ ä¸ä¸å¯¹åºä¸ºå¯¹è±¡ä¸­å±æ§å¼\n\n    //POJOç±»ååæ°  http://localhost/requestParam3?username=zhangsan&age=10\n    @RequestMapping("/requestParam3")\n    public String requestParam3(User user){\n        System.out.println(user.toString());\n        return "index.jsp";\n    }\n\n\n1\n2\n3\n4\n5\n6\n\n\n# POJOç±»åä¸æ®éç±»ååæ¶å­å¨\n\nå°ä¼è¢«åæ¶èµå¼ å¦ææ³è¿è¡åºå å»ºè®®ä½¿ç¨@RequestParamè¿è¡ç»å®\n\n    //POJOç±»ååæ°ä¸æ®éç±»ååæ¶å­å¨  http://localhost/requestParam4?name=zhangsan&age=10\n    @RequestMapping("/requestParam4")\n    public String requestParam4(User user,String age){\n        System.out.println(user.toString());\n        System.out.println(age);\n        return "index.jsp";\n    }\n\n\n1\n2\n3\n4\n5\n6\n7\n\n\n# å¤æPOJOç±»å åµå¥\n\nå¦æPOJOä¸­åµå¥POJOå éè¦è¯·æ±å°å éè¦æç§å±æ¬¡ç»æè¦ä¹¦å\n\n    //å¤æPOJOç±»å  http://localhost/requestParam5?address.city=shanghai\n    @RequestMapping("/requestParam5")\n    public String requestParam5(User user){\n        System.out.println(user.getAddress().getCity());\n        return "index.jsp";\n    }\n\n\n1\n2\n3\n4\n5\n6\n\n\n# å¤æPOJOç±»å éå\n\nå¦æPOJOä¸­åºç°éå ä¿å­ç®åæ°æ® ä½¿ç¨å¤ä¸ªç¸ååç§°çåæ°ä¸ºå¶è¿è¡èµå¼\n\n\n    //å¤æPOJOç±»å éå  http://localhost/requestParam6?nick=zhangsan&nick=lisi&nick=wangwu\n    @RequestMapping("/requestParam6")\n    public String requestParam6(User user){\n        System.out.println(user);\n        return "index.jsp";\n    }\n\n\n1\n2\n3\n4\n5\n6\n7\n\n\n# å¤æPOJOç±»å éåå¯¹è±¡\n\néåå¯¹è±¡ ä»¥ç´¢å¼å½¢å¼çè¯·æ±å°å\n\n    //å¤æPOJOç±»å éåå¯¹è±¡  http://localhost/requestParam7?addresses[0].province=bj&addresses[1].province=gd\n    @RequestMapping("/requestParam7")\n    public String requestParam7(User user){\n        System.out.println(user.getAddresses());\n        return "index.jsp";\n    }\n\n\n1\n2\n3\n4\n5\n6\n\n\n# å¤æPOJOç±»å Mapéå\n\nMapéå å¨è¯·æ±å°åä¸­ä»¥ keyçå½¢å¼èµå¼\n\n    //å¤æPOJOç±»å éåå¯¹è±¡  http://localhost/requestParam8?addressMap[\'home\'].province=bj&addressMap[\'job\'].province=gd\n    @RequestMapping("/requestParam8")\n    public String requestParam8(User user){\n        System.out.println(user.getAddressMap());\n        return "index.jsp";\n    }\n\n\n1\n2\n3\n4\n5\n6\n\n\n# æ°ç»ç±»å\n\nè¯·æ±åæ°åä¸æ°ç»åä¸è´ å¹¶è¯·æ±åæ°æ°éå¤§äº1ä¸ª\n\n    //æ°ç»ç±»å  http://localhost/requestParam9?nick=abc&nick=def\n    @RequestMapping("/requestParam9")\n    public String requestParam9(String[] nick) {\n        System.out.println(nick[0] + " " + nick[1]);\n        return "index.jsp";\n    }\n\n\n1\n2\n3\n4\n5\n6\n\n\n# éåç±»å\n\nMVCé»è®¤å°listä½ä¸ºå¯¹è±¡å¤ç èµå¼åååå»ºå¯¹è±¡ ç¶åå°nickä½ä¸ºå¯¹è±¡çå±æ§èµå¼ ä½listæ¯æ¥å£ æ æ³åå»ºå¯¹è±¡ å ææ­¤å±æ§å¼ æä»¥æ¥é\n\næä»¬éè¿@RequestParam å°è¯·æ±åæ°æåææ°ç»\n\n    //éåç±»å  http://localhost/requestParam10?nick=abc&nick=def\n    @RequestMapping("/requestParam10")\n    public String requestParam10(@RequestParam("nick") List<String> nick) {\n        System.out.println(nick);\n        return "index.jsp";\n    }\n\n\n1\n2\n3\n4\n5\n6\n\n\n\n# ç±»åè½¬æ¢å¨\n\nMVCå¯¹æ¥åçæ°æ®è¿è¡èªå¨ç±»åè½¬æ¢ éè¿Converteræ¥å£å®ç°\n\n# xml æ¥æç±»åæ ¼å¼è½¬æ¢\n\nspringé»è®¤çæ¥ææ ¼å¼ä¸º 2021/09/11 å¦ææä»¬ä¼ éä¸º2021-09-11åä¼æ¥é æä»¬éè¦èªå®ä¹æ¥ææ ¼å¼è½¬æ¢\n\n    \x3c!--    èªå®ä¹è½¬æ¢æ ¼å¼--\x3e\n    <mvc:annotation-driven conversion-service="conversionService"/>\n    \x3c!--    æ³¨åbean è®©springç®¡ç--\x3e\n    <bean id="conversionService" class="org.springframework.format.support.FormattingConversionServiceFactoryBean">\n        <property name="formatters">\n            <set>\n                <bean class="org.springframework.format.datetime.DateFormatter">\n                    <property name="pattern" value="yyyy-MM-dd"/>\n                </bean>\n            </set>\n        </property>\n    </bean>\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n\n\n# æ³¨è§£ç æ¥æç±»åæ ¼å¼è½¬æ¢\n\n    //æ¥æç±»å èªå®ä¹æ ¼å¼è½¬æ¢  http://localhost/requestParam11?date=2021-09-11\n    @RequestMapping("/requestParam11")\n    public String requestParam11(@DateTimeFormat(pattern = "yyyy-MM-dd") Date date) {\n        System.out.println(date);\n        return "index.jsp";\n    }\n\n\n1\n2\n3\n4\n5\n6\n\n\nå¹¶å¼å¯mvcæ³¨è§£é©±å¨\n\n<mvc:annotation-driven />\n\n\n1\n\n\n# èªå®ä¹ç±»åè½¬æ¢å¨\n\nå®ç° Converter æ¥å£ æ³å1ä¸ºåå§æ°æ®ç±»å æ³å2ä¸ºè¿åçæ°æ®ç±»å å¹¶å®ç° convert æ¹æ³\n\n    \x3c!--    èªå®ä¹ç±»åè½¬æ¢å¨--\x3e\n    <mvc:annotation-driven conversion-service="conversionService"/>\n    \x3c!--    æ³¨åbean è®©springç®¡ç--\x3e\n    <bean id="conversionService" class="org.springframework.context.support.ConversionServiceFactoryBean">\n        <property name="converters">\n            <set>\n                <bean class="com.itheima.converter.MyDateConverter">\n                </bean>\n            </set>\n        </property>\n    </bean>\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n\n\nå¤çç±»\n\n\nimport org.springframework.core.convert.converter.Converter;\n\nimport java.text.ParseException;\nimport java.text.SimpleDateFormat;\nimport java.util.Date;\n\npublic class MyDateConverter implements Converter<String, Date> {\n    @Override\n    public Date convert(String s) {\n        SimpleDateFormat simpleDateFormat = new SimpleDateFormat("yyyy-MM-dd");\n        Date date = null;\n        try {\n            date = simpleDateFormat.parse(s);\n        } catch (ParseException e) {\n            e.printStackTrace();\n        }\n\n        return date;\n    }\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n\n\n\n# è¯·æ±æ å°\n\n * @RequestMapping è®¾ç½®å¨æ¹æ³ä¸åæ¯æ¹æ³ä½çè¯·æ±æ å° å®ä¹å¨ç±»ä¸åæ¯æ´ä¸ªç±»çè®¿é®åç¼\n * value è¯·æ±è·¯å¾\n * method = RequestMethod.GET è¯·æ±æ¹å¼\n * params = "name" è¯·æ±å°åå¿é¡»ä¼ éæ­¤å±æ§æè½è®¿é®\n * headers = "content-type=text/*" è¯·æ±å¤´æ¡ä»¶\n * consumes = "text/*" å¯ä»¥æ¥åçè¯·æ±æ­£æç±»å\n * produces = "text/*" å¯ä»¥çæçååºæ­£æç±»å\n\n\n# ååº\n\n\n# é¡µé¢è·³è½¬æ¹å¼\n\n * è½¬å(é»è®¤)\n   \n   @RequestMapping("/showPageAndData1")\n       public String showPageAndData1(HttpServletRequest request){\n           return "forward:success.jsp";\n       }\n   \n   \n   1\n   2\n   3\n   4\n   \n\n * éå®å\n   \n       @RequestMapping("/showPageAndData7")\n       public String showPageAndData7(){\n           return "redirect:index.jsp";\n       }\n   \n   \n   1\n   2\n   3\n   4\n   \n\n * é¡µé¢è®¿é®å¿«æ·è®¾å® è®¾ç½®äºå¿«æ·è®¿é® åé»è®¤è®¿é®æ¯è®¾å®çè·¯å¾ä¸å¶å®çåç¼æä»¶ é»è®¤ä¸ºè½¬åè·³è½¬ æ æ³éå®å\n   \n       <bean class="org.springframework.web.servlet.view.InternalResourceViewResolver">\n           <property name="prefix" value="/WEB-INF/page/"/>\n           <property name="suffix" value=".jsp"/>\n       </bean>\n   \n   \n   1\n   2\n   3\n   4\n   \n   \n   å¦ææ¹æ³ä½æ²¡æè¿åå¼ ä¹éç½®äºå¿«æ·æ¹å¼ åèªå¨è·³è½¬å°æå®çè·¯å¾ä¸ è®¿é®è·¯å¾ + åç¼ çæä»¶\n   \n   \n\n\n# requestä¼ éæ°æ®\n\n@RequestMapping("/showPageAndData1")\npublic String showPageAndData1(HttpServletRequest request){\n    request.setAttribute("name","hello");\n    return "success.jsp";\n}\n\n\n1\n2\n3\n4\n5\n\n\n\n# Model ç±»åå½¢åè¿è¡æ°æ®ä¼ é\n\n    @RequestMapping("/showPageAndData2")\n    public String showPageAndData2(Model model){\n        model.addAttribute("name","hello");\n        User user =new User();\n        user.setAge(156);\n        //å¯ä»¥ä¼ éå¯¹è±¡\n        model.addAttribute("user",user);  \n        return "success.jsp";\n    }\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n\n\n\n# ModelAndView ç±»åä¼ é\n\n    @RequestMapping("/showPageAndData3")\n    public ModelAndView showPageAndData3(ModelAndView modelAndView){\n        modelAndView.addObject("name","hello");\n        User user =new User();\n        user.setAge(156);\n        //æ·»å å±æ§\n        modelAndView.addObject("user",user);\n        //è·³è½¬é¡µé¢\n        modelAndView.setViewName("success.jsp");\n        return modelAndView;\n    }\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n\n\n# éå®å\n\n    @RequestMapping("/showPageAndData5")\n    public ModelAndView showPageAndData5(ModelAndView modelAndView){\n        //éå®å\n        modelAndView.setViewName("redirect:index.jsp");\n        return modelAndView;\n    }\n\n    @RequestMapping("/showPageAndData6")\n    public ModelAndView showPageAndData6(ModelAndView modelAndView){\n        //è·³è½¬\n        modelAndView.setViewName("forward:index.jsp");\n        return modelAndView;\n    }\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n\n\n\n# è¿åJSONæ°æ®\n\nååºæ¹æ³ä½ è¿åçæ°æ®é»è®¤ä¼ç´æ¥è·³è½¬å° è¿åå¼å¯¹åºçé¡µé¢æä»¶\n\næä»¬å¯ä»¥å¨æ¹æ³ä½ä¸ å ä¸ @ResponseBody æ³¨è§£ æ¥å£°æä¸ºä¸ä¸ªååºä½\n\n    @RequestMapping("showData1")\n    @ResponseBody\n    public String showData1() throws JsonProcessingException {\n        User user = new User();\n        user.setAge(15);\n        user.setName("zhangsan");\n        ObjectMapper om = new ObjectMapper();\n        return om.writeValueAsString(user);\n    }\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n\n\n * è¿åä¸ä¸ªå¯¹è±¡æèéå Jackson å·²ç»å¸®æä»¬åå¥½äº èªå®ä¹ç±»åè½¬æ¢äº æä»¬åªéè¦å¨springéç½®ä¸­å¼å¯æ³¨è§£é©±å¨ å³å¯\n   \n    <mvc:annotation-driven />\n   \n   \n   1\n   \n   \n   æ³¨è§£ç å¼å¯æ³¨è§£é©±å¨ ä¸º @EnableWebMvc\n   \n       @RequestMapping("showData2")\n       @ResponseBody\n       public User showData2() throws JsonProcessingException {\n           User user = new User();\n           user.setAge(15);\n           user.setName("zhangsan");\n           return user;\n       }\n   \n   \n   1\n   2\n   3\n   4\n   5\n   6\n   7\n   8\n   \n\n\n# Servletç¸å³æ¥å£\n\nåå§ç request response å session æä¾ç»æä»¬ä½¿ç¨ä½æ¯ä¸å¤ªæ¨èä½¿ç¨åççåè½\n\n\n\n\n# Headæ°æ®è·å\n\n * @RequestHeader è·åå¤´ä¸­æå®çå¼\n   \n       @RequestMapping("/headApi")\n       public String headApi(@RequestHeader("Accept-Language") String head){\n           System.out.println(head);\n           return "index.jsp";\n       }\n   \n   \n   1\n   2\n   3\n   4\n   5\n   \n\n\n# Cookie æ°æ®è·å\n\n * @CookieValue è·åcookieæå®keyçå¼\n   \n       @RequestMapping("/cookieApi")\n       public String cookieApi(@CookieValue("_xsrf") String cookie){\n           System.out.println(cookie);\n           return "index.jsp";\n       }\n   \n   \n   1\n   2\n   3\n   4\n   5\n   \n\n\n# Session æ°æ®è·ååè®¾ç½®\n\n * è®¾ç½® åªæå¨ç±»æ³¨è§£ä¸æ¹æ è®°çåéåç§°æä¼è¢«æ¾å°sessionä¸­\n   \n   * \n\n * è·å\n   \n   *     @RequestMapping("/sessionApi")\n         public String sessionApi(@SessionAttribute("name") String session){\n             System.out.println(session);\n             return "index.jsp";\n         }\n     \n     \n     1\n     2\n     3\n     4\n     5\n     \n\n\n# åéå¼æ­¥è¯·æ±\n\néè¿ajaxåéçå¼æ­¥è¯·æ± æ¯æ æ³ç´æ¥è¢«èµå¼ç»å½¢åç éè¦å¨å½¢ååé¢ å ä¸ @RequestBody\n\n    @RequestMapping("/ajax1")\n    public String ajax1(@RequestBody String data) {\n        System.out.println(data);\n        return "index.jsp";\n    }\n\n\n1\n2\n3\n4\n5\n\n\n * JSONè½¬POJO ä¼èªå¨èµå¼ç»POJOä¸­å±æ§\n   \n   *     @RequestMapping("/ajax2")\n         public String ajax2(@RequestBody User user) {\n             System.out.println(user);\n             return "index.jsp";\n         }\n     \n     \n     1\n     2\n     3\n     4\n     5\n     \n\n * éå\n   \n   *     @RequestMapping("/ajax3")\n         public String ajax3(@RequestBody List<User> user) {\n             System.out.println(user);\n             return "index.jsp";\n         }\n     \n     \n     1\n     2\n     3\n     4\n     5\n     \n\n\n# å¼æ­¥è¯·æ±ååº\n\n * è¿åå­ç¬¦ä¸²\n   \n   *     @RequestMapping("/ajax4")\n         @ResponseBody\n         public String ajax4() {\n             return "hello";\n         }\n     \n     \n     1\n     2\n     3\n     4\n     5\n     \n\n * è¿åå¯¹è±¡\n   \n   *     @RequestMapping("/ajax5")\n         @ResponseBody\n         public User ajax5() {\n             User user = new User();\n             user.setName("hhh");\n             user.setAge(13);\n             return user;\n         }\n     \n     \n     1\n     2\n     3\n     4\n     5\n     6\n     7\n     8\n     \n\n * è¿åéå\n   \n   *     @RequestMapping("/ajax6")\n         @ResponseBody\n         public List ajax6() {\n             User user = new User();\n             User user2 = new User();\n             user.setName("hhh");\n             user.setAge(13);\n             user2.setName("qqqq");\n             user2.setAge(17);\n             ArrayList<User> arrayList = new ArrayList<>();\n             arrayList.add(user);\n             arrayList.add(user2);\n             return arrayList;\n         }\n     \n     \n     1\n     2\n     3\n     4\n     5\n     6\n     7\n     8\n     9\n     10\n     11\n     12\n     13\n     14\n     \n\n\n# è·¨åè®¿é®\n\nå½éè¿Aååä¸çæä½è®¿é® ååBä¸çèµæºæ¶ ç§°ä¸ºè·¨åè®¿é®\n\næä»¬å¯ä»¥éè¿è®¾ç½®å¤´ä¿¡æ¯ å¼å¯è·¨åè®¿é®éå¶\n\nä½spring å¸®æå®æè¿ä¸ªæä½ æä»¬åªéè¦æ·»å @CrossOrigin å°±å¯ä»¥è§£å³ å®ä¹å¨æ¹æ³ä½æç±»ä¸\n\n    @RequestMapping("/cross")\n    @ResponseBody\n    @CrossOrigin\n    public void cross() {\n\n    }\n\n\n1\n2\n3\n4\n5\n6\n\n\n\n# æ¦æªå¨\n\næ¦æªå¨(Interceptor) æ¯ä¸ç§å¨ææ¦æªæ¹æ³è°ç¨çæºå¶\n\n 1. å¨æå®çæ¹æ³è°ç¨ååæ§è¡é¢åè®¾å®åçä»£ç \n 2. é»æ­¢åå§æ¹æ³çæ§è¡\n\næ ¸å¿åç:AOPææ³\n\næ¦æªå¨é¾:å¤ä¸ªæ¦æªå¨æç§ä¸å®çé¡ºåº å¯¹åå§è¢«è°ç¨åè½è¿è¡å¢å¼º\n\nå®ç° HandlerInterceptor æ¥å£ éåéè¦çæ¹æ³\n\npublic class MyInterceptor implements HandlerInterceptor {\n\n    @Override\n    public boolean preHandle(HttpServletRequest request, HttpServletResponse response, Object handler) throws Exception {\n        System.out.println("åç½®è¿è¡");\n        //å¦æä¸ºfalse åç´æ¥æ¦æªä¸å¡å¤çå¨ä¸æ¾è¡\n        return true;\n    }\n\n    @Override\n    public void postHandle(HttpServletRequest request, HttpServletResponse response, Object handler, ModelAndView modelAndView) throws Exception {\n        System.out.println("åç½®è¿è¡");\n    }\n\n    @Override\n    public void afterCompletion(HttpServletRequest request, HttpServletResponse response, Object handler, Exception ex) throws Exception {\n        System.out.println("å®æè¿è¡");\n    }\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n\n\n <mvc:interceptors>\n        <mvc:interceptor>\n            <mvc:mapping path="/handleRun"/>\n            <bean class="com.itheima.interceptor.MyInterceptor"/>\n        </mvc:interceptor>\n    </mvc:interceptors>\n\n\n1\n2\n3\n4\n5\n6\n\n\n\n\n\n# æ¦æªå¨åæ°\n\n * request è¯·æ±å¯¹è±¡\n * response ååºå¯¹è±¡\n * handler è¢«è°ç¨çå¤çå¨å¯¹è±¡,å¯¹åå°ä¸­çmethodå¯¹è±¡è¿è¡äºåè£\n * ModelAndView å¯ä»¥è¯»åæèä¿®æ¹ é¡µé¢ä¿¡æ¯åå¯¹åºæ°æ®\n * Exception å¦æå¤çå¨æ§è¡ä¸­åºç°å¼å¸¸ å¦ä½å¤ç\n\n\n# å¤ä¸ªæ¦æªå¨\n\nå¤ä¸ªæ¦æªå¨æ§è¡é¡ºåºä¸xmléç½®æå³\n\nä½å¤ä¸ªæ¦æªå¨ä¸­çåç½®è¿è¡ åç½®è¿è¡ é½ä¼åæ¶å¯ç¨\n\næç§é¾å¼ æ§è¡é¡ºåº\n\n\n\n\n# è´£ä»»é¾æ¨¡å¼\n\n\n\n\n# å¼å¸¸å¤ç\n\nç±»æ³¨è§£ @Component ç»å®Beanä¸º å¹¶å®ç° HandlerExceptionResolver æ¥å£ å®ç°æ¹æ³\n\næ­¤beanä¼æ¦æªmvcä¸è¯·æ±çå¼å¸¸\n\n@Component\npublic class ExceptionResolver implements HandlerExceptionResolver {\n    @Override\n    public ModelAndView resolveException(HttpServletRequest httpServletRequest, HttpServletResponse httpServletResponse, Object o, Exception e) {\n\n        System.out.println("åçå¼å¸¸äº");\n\n        ModelAndView modelAndView =new ModelAndView();\n\n        if(e instanceof NullPointerException){\n            //æ·»å éè¯¯ä¿¡æ¯\n            modelAndView.addObject("msg","ç©ºæéå¼å¸¸");\n        }else if (e instanceof ArithmeticException){\n            //æ·»å éè¯¯ä¿¡æ¯\n            modelAndView.addObject("msg","ç®æ¯å¼å¸¸");\n        }else {\n            //æ·»å éè¯¯ä¿¡æ¯\n            modelAndView.addObject("msg","æªç¥å¼å¸¸");\n        }\n\n        //è½¬åé¡µé¢\n        modelAndView.setViewName("error.jsp");\n        return modelAndView;\n    }\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n\n\n\n# æ³¨è§£çå¼å¸¸å¤ç\n\n * @ExceptionHandler æ³¨è§£ æ è®°è¦ææçå¼å¸¸\n\n@Component\n@ControllerAdvice\npublic class ExceptionAdivce {\n\n    //å¼å¸¸ çç±»\n    @ExceptionHandler(NullPointerException.class)\n    @ResponseBody\n    public String doNullException(Exception e){\n        System.out.println("ç©ºæéå¼å¸¸");\n        return "ç©ºæéå¼å¸¸";\n    }\n\n    //å¼å¸¸ çç±»\n    @ExceptionHandler(ArithmeticException.class)\n    @ResponseBody\n    public String doArithmeticException(Exception e){\n        System.out.println("ç®æ¯å¼å¸¸");\n        return "ç®æ¯å¼å¸¸";\n    }\n\n    //å¼å¸¸ çç±»\n    @ExceptionHandler(Exception.class)\n    @ResponseBody\n    public String doException(Exception e){\n        System.out.println("all");\n        return "all";\n    }\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n26\n27\n28\n\n\næ³¨æäºé¡¹:\n\n@ExceptionHandler æ³¨è§£ ä¼æ¯ HandlerExceptionResolver è¿è¡æ©\n\nHandlerExceptionResolver æ æ³ææå°åæ°å¼å¸¸ èæ³¨è§£å¯ä»¥ææå°\n\n\n# æä»¶ä¸ä¼ ä¸è½½\n\nåæ \n\n  \x3c!--æä»¶ä¸ä¼ ä¸è½½--\x3e\n    <dependency>\n      <groupId>commons-fileupload</groupId>\n      <artifactId>commons-fileupload</artifactId>\n      <version>1.4</version>\n    </dependency>\n\n\n1\n2\n3\n4\n5\n6\n\n\n\n\nä¸ä¼ æä»¶ä¼ éçname è¦ä¸ å½¢åçåç§°ä¸è´\n\n\n# Restful\n\n\n\n\n\n\n# PathVariable\n\n@PathVariable ä¸ºRestful è§èçè¯·æ±è·¯å¾ èµå¼ç»æå®å½¢å\n\nå¹¶ä¸å¨@RequestMapping ç method æå®è¯·æ±æ¹å¼\n\n    @RequestMapping(value = "/user/{id}",method = RequestMethod.GET)\n    public String restLocation(@PathVariable Integer id){\n        System.out.println(id);\n        return "page.jsp";\n    }\n\n\n1\n2\n3\n4\n5\n\n\n\n# RestController\n\n@RestController ç»åäº @Controllerå@ResponseBody ä¸¤ä¸ªæ³¨è§£çåè½\n\nç»å®ä¸ºbean å¹¶ä¸ ææè¿ååå®¹é½ä¸ä¼è§£æä¸ºç½é¡µç»æ\n\n\n# XXXMapping\n\nå¦ @GetMapping @PostMapping è¯·æ±ç­ç­\n\næä»¬ä¸ç¨å¨@RequestMapping ä¸­å®ä¹æå®çè¯·æ±æ¹å¼ å è¯·æ±è·¯å¾\n\nåªéå¨æ¹æ³ä½å ä¸æå®è¯·æ±æ¹å¼çæ³¨è§£å³\n\n    @PostMapping("{id}")\n    public String postrestLocation(@PathVariable Integer id){\n        System.out.println(id);\n        return "page.jsp";\n    }\n\n\n1\n2\n3\n4\n5\n\n\n\n# è¡¨åéªè¯æ¡æ¶\n\nHibernateæ¡æ¶\n\n    <dependency>\n      <groupId>org.hibernate</groupId>\n      <artifactId>hibernate-validator</artifactId>\n      <version>6.1.0.Final</version>\n    </dependency>\n\n\n1\n2\n3\n4\n5\n\n * @Valid å½¢åæ³¨è§£ å¼å¯æ­¤å½¢åçéªè¯\n * @Valid å±æ§æ³¨è§£ å¼å¯æ­¤å¯¹è±¡æå±æ§éªè¯ å¯¹è±¡æ ¡éªå¨å¯¹è±¡åé¨å±æ§å®ä¹è§å\n * @NotBlank(message = "æéä¿¡æ¯") å±æ§éªè¯è§å ä¸è½ä¸ºnull å¹¶ä¸é¿åº¦å¿é¡»å¤§äº0åä¸å¨ä¸ºç©ºæ ¼ åä¸è½ä¸ºç©º\n * @NotNull (message = "æéä¿¡æ¯") ä¸è½ä¸ºnull å¯ä»¥ä¸ºç©º\n * @NotEmpty(message = "") ä¸è½ä¸ºç©ºånull\n * @Max(value = "" , message =" ") éå®æå¤§å¼\n * @Min(value = "" , message = "") æå°å¼\n * @Range(max = ,min = ,message = ) æå¤§æå°å¼\n\n @RequestMapping(value = "/addemployee2")\n    //ä½¿ç¨@Validå¼å¯æ ¡éªï¼ä½¿ç¨@Validatedä¹å¯ä»¥å¼å¯æ ¡éª\n    //Errorså¯¹è±¡ç¨äºå°è£æ ¡éªç»æï¼å¦æä¸æ»¡è¶³æ ¡éªè§åï¼å¯¹åºçæ ¡éªç»æå°è£å°è¯¥å¯¹è±¡ä¸­ï¼åå«æ ¡éªçå±æ§ååæ ¡éªä¸éè¿è¿åçæ¶æ¯\n    public String addEmployee2(@Valid Employee employee, Errors errors, Model m){\n        //å¤å®Errorså¯¹è±¡ä¸­æ¯å¦å­å¨æªéè¿æ ¡éªçå­æ®µ\n        if(errors.hasErrors()){\n            //è·åæææªéè¿æ ¡éªè§åçä¿¡æ¯\n            List<FieldError> fieldErrors = errors.getFieldErrors();\n            System.out.println(fieldErrors.size());\n            for(FieldError error : fieldErrors){\n                System.out.println(error.getField());\n                System.out.println(error.getDefaultMessage());\n                //å°æ ¡éªç»æä¿¡æ¯æ·»å å°Modelå¯¹è±¡ä¸­ï¼ç¨äºé¡µé¢æ¾ç¤ºï¼åæå®éå¼åä¸­æ éè¿æ ·è®¾å®ï¼è¿åjsonæ°æ®å³å¯\n                m.addAttribute(error.getField(),error.getDefaultMessage());\n            }\n            //å½åºç°æªéè¿æ ¡éªçå­æ®µæ¶ï¼è·³è½¬é¡µé¢å°åå§é¡µé¢ï¼è¿è¡æ°æ®åæ¾\n            return "addemployee.jsp";\n        }\n        return "success.jsp";\n    }\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n\n\n    @NotBlank(message = "å§åä¸è½ä¸ºç©º")\n    private String name;//åå·¥å§å\n\n    //ä¸ä¸ªå±æ§å¯ä»¥æ·»å å¤ä¸ªæ ¡éªå¨\n    @NotNull(message = "è¯·è¾å¥æ¨çå¹´é¾")\n    @Max(value = 60,message = "å¹´é¾æå¤§å¼ä¸åè®¸è¶è¿60å²")\n    @Min(value = 18,message = "å¹´é¾æå°å¼ä¸åè®¸ä½äº18å²")\n    private Integer age;//åå·¥å¹´é¾\n\n    //å®ä½ç±»ä¸­çå¼ç¨ç±»åéè¿æ æ³¨@Validæ³¨è§£ï¼è®¾å®å¼å¯å½åå¼ç¨ç±»åå­æ®µä¸­çå±æ§åä¸æ ¡éª\n    @Valid\n    private Address address;\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n\n\n\n# åç»æ ¡éª\n\nå¦æä¸å¼å¯åç»æ ¡éª åä¼æ ¡éªå½åå¨é¨å¼å¯æ ¡éªçå±æ§/å¯¹è±¡\n\nå¨å±æ§/å¯¹è±¡æ ¡éªæ³¨è§£ä¸­ å ä¸ groups å±æ§ å¹¶ç»äºä¸ä¸ª ç¨äºæ è¯çå­èç æä»¶\n\n//è®¾å®æ ¡éªå¨ï¼è®¾ç½®æ ¡éªä¸éè¿å¯¹åºçæ¶æ¯ï¼è®¾å®æåä¸çæ ¡éªç»\n    @NotBlank(message = "å§åä¸è½ä¸ºç©º",groups = {GroupA.class})\n    private String name;//åå·¥å§å\n\n\n1\n2\n3\n\n\næ¦æªæ ¡éªå¨ å¼å¯æ ¡éªæ³¨è§£è¦æ¹ä¸º @Validated å¹¶å ä¸æ è¯å­èç æä»¶\n\n    @RequestMapping(value = "/addemployee")\n    public String addEmployee(@Validated({GroupA.class}) Employee employee, Errors errors, Model m){\n        if(errors.hasErrors()){\n            List<FieldError> fieldErrors = errors.getFieldErrors();\n            System.out.println(fieldErrors.size());\n            for(FieldError error : fieldErrors){\n                System.out.println(error.getField());\n                System.out.println(error.getDefaultMessage());\n                m.addAttribute(error.getField(),error.getDefaultMessage());\n            }\n            return "addemployee.jsp";\n        }\n        return "success.jsp";\n    }\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n\n\n\n# SSM\n\nSpring + SpringMVC + MyBatis',normalizedContent:'# spring mvc\n\n\n# ä¸å±æ¶æ\n\n\n\n\n# mvc\n\nmvc(model view controller) è®¾è®¡åå»ºwebåºç¨ç¨åºè¡¨ç°å±çæ¨¡å¼\n\n * model æ¨¡å : æ°æ®æ¨¡å,ç¨äºå°è£æ°æ®\n * view è§å¾ : é¡µé¢è§å¾,ç¨äºå±ç¤ºæ°æ®\n   * jsp\n   * html\n * contoller æ§å¶å¨ :å¤çç¨æ·äº¤äºçè°åº¦å¨,ç¨äºæ ¹æ®ç¨æ·éæ±å¤çç¨åºé»è¾\n   * servlet\n\n\n# é¡¹ç®æå»º xml\n\nå¯¼å¥åæ \n\n         \x3c!-- servlet3.1è§èçåæ  --\x3e\n      <dependency>\n        <groupid>javax.servlet</groupid>\n        <artifactid>javax.servlet-api</artifactid>\n        <version>3.1.0</version>\n        <scope>provided</scope>\n      </dependency>\n      \x3c!--jspåæ --\x3e\n      <dependency>\n        <groupid>javax.servlet.jsp</groupid>\n        <artifactid>jsp-api</artifactid>\n        <version>2.1</version>\n        <scope>provided</scope>\n      </dependency> \n\t\t\x3c!--spring webçåæ --\x3e\n        <dependency>\n            <groupid>org.springframework</groupid>\n            <artifactid>spring-web</artifactid>\n            <version>5.1.9.release</version>\n        </dependency>\n        \x3c!--springmvcçåæ --\x3e\n        <dependency>\n            <groupid>org.springframework</groupid>\n            <artifactid>spring-webmvc</artifactid>\n            <version>5.1.9.release</version>\n        </dependency>\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n26\n\n\nspring-mvc.xml\n\n<?xml version="1.0" encoding="utf-8"?>\n<beans xmlns="http://www.springframework.org/schema/beans"\n       xmlns:context="http://www.springframework.org/schema/context"\n       xmlns:mvc="http://www.springframework.org/schema/mvc"\n       xmlns:xsi="http://www.w3.org/2001/xmlschema-instance"\n       xsi:schemalocation="http://www.springframework.org/schema/beans http://www.springframework.org/schema/beans/spring-beans.xsd\n        http://www.springframework.org/schema/mvc http://www.springframework.org/schema/mvc/spring-mvc.xsd\n        http://www.springframework.org/schema/context http://www.springframework.org/schema/context/spring-context.xsd">\n\n    <context:component-scan base-package="com.itheima">\n        \x3c!-- åå«ä»¥ä¸æ³¨è§£åå è½½ --\x3e\n        <context:include-filter type="annotation" expression="org.springframework.stereotype.controller"/>\n    </context:component-scan>\n\n\n    \x3c!--æ¾è¡æå®ç±»åéæèµæºéç½®æ¹å¼--\x3e\n\x3c!--    <mvc:resources mapping="/img/**" location="/img/"/>--\x3e\n\x3c!--    <mvc:resources mapping="/js/**" location="/js/"/>--\x3e\n\x3c!--    <mvc:resources mapping="/css/**" location="/css/"/>--\x3e\n\n    \x3c!--springmvcæä¾çéç¨èµæºæ¾è¡æ¹å¼ éæ¾ææéæèµæº--\x3e\n    <mvc:default-servlet-handler/>\n\n</beans>\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n\n\nweb.xml\n\n<?xml version="1.0" encoding="utf-8"?>\n<web-app xmlns="http://xmlns.jcp.org/xml/ns/javaee"\n         xmlns:xsi="http://www.w3.org/2001/xmlschema-instance"\n         xsi:schemalocation="http://xmlns.jcp.org/xml/ns/javaee http://xmlns.jcp.org/xml/ns/javaee/web-app_3_1.xsd"\n         version="3.1">\n\n    \x3c!--ä¹±ç å¤çè¿æ»¤å¨ï¼ä¸servletä¸­ä½¿ç¨çå®å¨ç¸åï¼å·®å¼ä¹å¤å¨äºå¤çå¨çç±»ç±springæä¾--\x3e\n    <filter>\n        <filter-name>characterencodingfilter</filter-name>\n        <filter-class>org.springframework.web.filter.characterencodingfilter</filter-class>\n        <init-param>\n            <param-name>encoding</param-name>\n            <param-value>utf-8</param-value>\n        </init-param>\n    </filter>\n    <filter-mapping>\n        <filter-name>characterencodingfilter</filter-name>\n        <url-pattern>/*</url-pattern>\n    </filter-mapping>\n\t\x3c!-- æ«æmvcéç½®æä»¶ --\x3e\n    <servlet>\n        <servlet-name>dispatcherservlet</servlet-name>\n        <servlet-class>org.springframework.web.servlet.dispatcherservlet</servlet-class>\n        <init-param>\n            <param-name>contextconfiglocation</param-name>\n            <param-value>classpath*:spring-mvc.xml</param-value>\n        </init-param>\n    </servlet>\n    <servlet-mapping>\n        <servlet-name>dispatcherservlet</servlet-name>\n        <url-pattern>/</url-pattern>\n    </servlet-mapping>\n\n</web-app>\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n26\n27\n28\n29\n30\n31\n32\n33\n34\n\n\n\n# ææ¯æ¶æå¾\n\n\n\n\n# æ³¨è§£é©±å¨\n\n\n# æ«æåå«controlleræ³¨è§£çç±»\n\nå¨springmvc éç½®ç±»ä¸­\n\n@componentscan(value = "com.itheima",includefilters =\n    @componentscan.filter(type=filtertype.annotation,classes = {controller.class})\n    )\n\n\n1\n2\n3\n\n\n\n# æ³¨è§£éç½®æå®æ¾è¡çèµæº\n\nå®ç°webmvcconfigureræ¥å£ éåaddresourcehandlersæ¹æ³\n\npublic class springmvcconfiguration implements webmvcconfigurer{\n    //æ³¨è§£éç½®æ¾è¡æå®èµæºæ ¼å¼\n    @override\n    public void addresourcehandlers(resourcehandlerregistry registry) {\n        \t\t\t  registry.addresourcehandler("/img/**").addresourcelocations("/img/");\n        registry.addresourcehandler("/js/**").addresourcelocations("/js/");\n        registry.addresourcehandler("/css/**").addresourcelocations("/css/");\n    }\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n\n\n\n# æ³¨è§£éç½®æ¾è¡ææéæèµæº\n\nå®ç°webmvcconfigureræ¥å£ éåconfiguredefaultservlethandlingæ¹æ³\n\npublic class springmvcconfiguration implements webmvcconfigurer{\n\t@override\n    public void configuredefaultservlethandling(defaultservlethandlerconfigurer configurer) {\n        configurer.enable();;\n    }\n}\n\n\n1\n2\n3\n4\n5\n6\n\n\n\n# servletæ«æmvcéç½®æä»¶\n\nç»§æ¿ abstractdispatcherservletinitializer ç±» éåéé¢ç createservletapplicationcontext createrootapplicationcontext å getservletmappings æ¹æ³\n\nimport org.springframework.web.context.webapplicationcontext;\nimport org.springframework.web.context.support.annotationconfigwebapplicationcontext;\nimport org.springframework.web.filter.characterencodingfilter;\nimport org.springframework.web.servlet.support.abstractdispatcherservletinitializer;\n\nimport javax.servlet.dispatchertype;\nimport javax.servlet.filterregistration;\nimport javax.servlet.servletcontext;\nimport javax.servlet.servletexception;\nimport java.util.enumset;\n\npublic class servletcontainersinitconfig extends abstractdispatcherservletinitializer {\n    //åå»ºservletå®¹å¨æ¶ï¼ä½¿ç¨æ³¨è§£çæ¹å¼å è½½springmvcéç½®ç±»ä¸­çä¿¡æ¯ï¼å¹¶å è½½æwebä¸ç¨çapplicationcontextå¯¹è±¡\n    //è¯¥å¯¹è±¡æ¾å¥äºservletcontextèå´ï¼åæå¨æ´ä¸ªwebå®¹å¨ä¸­å¯ä»¥éæ¶è·åè°ç¨\n    @override\n    protected webapplicationcontext createservletapplicationcontext() {\n        annotationconfigwebapplicationcontext ctx = new annotationconfigwebapplicationcontext();\n        //éè¦ä¸ä¸ªmvcéç½®ç±»\n        ctx.register(springmvcconfiguration.class);\n        return ctx;\n    }\n\n    //æ³¨è§£éç½®æ å°å°åæ¹å¼ï¼æå¡äºspringmvcçæ ¸å¿æ§å¶å¨dispatcherservlet\n    @override\n    protected string[] getservletmappings() {\n        return new string[]{"/"};\n    }\n\n    @override\n    protected webapplicationcontext createrootapplicationcontext() {\n        return null;\n    }\n\n    //ä¹±ç å¤çä½ä¸ºè¿æ»¤å¨ï¼å¨servletå®¹å¨å¯å¨æ¶è¿è¡éç½®ï¼ç¸å³åå®¹åçservleté¶éç½®ç¸å³è¯¾ç¨\n    @override\n    public void onstartup(servletcontext servletcontext) throws servletexception {\n        super.onstartup(servletcontext);\n        characterencodingfilter cef = new characterencodingfilter();\n        cef.setencoding("utf-8");\n        filterregistration.dynamic registration = servletcontext.addfilter("characterencodingfilter", cef);\n        registration.addmappingforurlpatterns(enumset.of(dispatchertype.request,dispatchertype.forward,dispatchertype.include),false,"/*");\n    }\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n26\n27\n28\n29\n30\n31\n32\n33\n34\n35\n36\n37\n38\n39\n40\n41\n42\n43\n\n\n\n# è¯·æ±\n\n\n# è¯·æ±åæ°\n\nspringmvcå°ä¼ éçåæ°å°è£å°å¤çå¨æ¹æ³çå½¢åä¸­,è¾¾å°å¿«éè®¿é®åæ°çç®ç\n\nåªéå¨å½¢åä¸ä¸è¯·æ±å°åä¸çåæ°åå­ä¸è´ å³å¯è·åå°è¯·æ±åæ°çå¼\n\n    //è¯·æ±åæ°  http://localhost/requestparam1?name=hello\n    @requestmapping("/requestparam1")\n    public string requestparam1(string name){\n        system.out.println(name);\n        return "index.jsp";\n    }\n\n\n1\n2\n3\n4\n5\n6\n\n\n# æ®éç±»å\n\nåæ°åä¸å¤çå¨æ¹æ³å½¢ååä¿æä¸è´ å¦åæ æ³è·åå¯¹åºçå¼\n\nå¦ææ³è¦ç»å®å·ä½çè¯·æ±å åéè¦ä½¿ç¨ @requestparam\n\n * @requestparam\n   * value è¯·æ±å±æ§å\n   * required ä¸åè®¸ä¸ºç©º é»è®¤ä¸ºtrue\n   * defaultvalue ä¸ºç©ºæ¶é»è®¤å¼\n\n    //è¯·æ±åæ°å½¢åç»å®å  http://localhost/requestparam2?username=hello&age=10\n    @requestmapping("/requestparam2")\n    public string requestparam2(@requestparam(value = "username",required = true,defaultvalue = "zhangsan") string name, int age){\n        system.out.println(name);\n        system.out.println(age);\n        return "index.jsp";\n    }\n\n\n1\n2\n3\n4\n5\n6\n7\n\n\n# pojoç±»å\n\nå¦æå½¢åä¸ºä¸ä¸ªå¯¹è±¡ åè¯·æ±åæ°ä¼å°å¼ ä¸ä¸å¯¹åºä¸ºå¯¹è±¡ä¸­å±æ§å¼\n\n    //pojoç±»ååæ°  http://localhost/requestparam3?username=zhangsan&age=10\n    @requestmapping("/requestparam3")\n    public string requestparam3(user user){\n        system.out.println(user.tostring());\n        return "index.jsp";\n    }\n\n\n1\n2\n3\n4\n5\n6\n\n\n# pojoç±»åä¸æ®éç±»ååæ¶å­å¨\n\nå°ä¼è¢«åæ¶èµå¼ å¦ææ³è¿è¡åºå å»ºè®®ä½¿ç¨@requestparamè¿è¡ç»å®\n\n    //pojoç±»ååæ°ä¸æ®éç±»ååæ¶å­å¨  http://localhost/requestparam4?name=zhangsan&age=10\n    @requestmapping("/requestparam4")\n    public string requestparam4(user user,string age){\n        system.out.println(user.tostring());\n        system.out.println(age);\n        return "index.jsp";\n    }\n\n\n1\n2\n3\n4\n5\n6\n7\n\n\n# å¤æpojoç±»å åµå¥\n\nå¦æpojoä¸­åµå¥pojoå éè¦è¯·æ±å°å éè¦æç§å±æ¬¡ç»æè¦ä¹¦å\n\n    //å¤æpojoç±»å  http://localhost/requestparam5?address.city=shanghai\n    @requestmapping("/requestparam5")\n    public string requestparam5(user user){\n        system.out.println(user.getaddress().getcity());\n        return "index.jsp";\n    }\n\n\n1\n2\n3\n4\n5\n6\n\n\n# å¤æpojoç±»å éå\n\nå¦æpojoä¸­åºç°éå ä¿å­ç®åæ°æ® ä½¿ç¨å¤ä¸ªç¸ååç§°çåæ°ä¸ºå¶è¿è¡èµå¼\n\n\n    //å¤æpojoç±»å éå  http://localhost/requestparam6?nick=zhangsan&nick=lisi&nick=wangwu\n    @requestmapping("/requestparam6")\n    public string requestparam6(user user){\n        system.out.println(user);\n        return "index.jsp";\n    }\n\n\n1\n2\n3\n4\n5\n6\n7\n\n\n# å¤æpojoç±»å éåå¯¹è±¡\n\néåå¯¹è±¡ ä»¥ç´¢å¼å½¢å¼çè¯·æ±å°å\n\n    //å¤æpojoç±»å éåå¯¹è±¡  http://localhost/requestparam7?addresses[0].province=bj&addresses[1].province=gd\n    @requestmapping("/requestparam7")\n    public string requestparam7(user user){\n        system.out.println(user.getaddresses());\n        return "index.jsp";\n    }\n\n\n1\n2\n3\n4\n5\n6\n\n\n# å¤æpojoç±»å mapéå\n\nmapéå å¨è¯·æ±å°åä¸­ä»¥ keyçå½¢å¼èµå¼\n\n    //å¤æpojoç±»å éåå¯¹è±¡  http://localhost/requestparam8?addressmap[\'home\'].province=bj&addressmap[\'job\'].province=gd\n    @requestmapping("/requestparam8")\n    public string requestparam8(user user){\n        system.out.println(user.getaddressmap());\n        return "index.jsp";\n    }\n\n\n1\n2\n3\n4\n5\n6\n\n\n# æ°ç»ç±»å\n\nè¯·æ±åæ°åä¸æ°ç»åä¸è´ å¹¶è¯·æ±åæ°æ°éå¤§äº1ä¸ª\n\n    //æ°ç»ç±»å  http://localhost/requestparam9?nick=abc&nick=def\n    @requestmapping("/requestparam9")\n    public string requestparam9(string[] nick) {\n        system.out.println(nick[0] + " " + nick[1]);\n        return "index.jsp";\n    }\n\n\n1\n2\n3\n4\n5\n6\n\n\n# éåç±»å\n\nmvcé»è®¤å°listä½ä¸ºå¯¹è±¡å¤ç èµå¼åååå»ºå¯¹è±¡ ç¶åå°nickä½ä¸ºå¯¹è±¡çå±æ§èµå¼ ä½listæ¯æ¥å£ æ æ³åå»ºå¯¹è±¡ å ææ­¤å±æ§å¼ æä»¥æ¥é\n\næä»¬éè¿@requestparam å°è¯·æ±åæ°æåææ°ç»\n\n    //éåç±»å  http://localhost/requestparam10?nick=abc&nick=def\n    @requestmapping("/requestparam10")\n    public string requestparam10(@requestparam("nick") list<string> nick) {\n        system.out.println(nick);\n        return "index.jsp";\n    }\n\n\n1\n2\n3\n4\n5\n6\n\n\n\n# ç±»åè½¬æ¢å¨\n\nmvcå¯¹æ¥åçæ°æ®è¿è¡èªå¨ç±»åè½¬æ¢ éè¿converteræ¥å£å®ç°\n\n# xml æ¥æç±»åæ ¼å¼è½¬æ¢\n\nspringé»è®¤çæ¥ææ ¼å¼ä¸º 2021/09/11 å¦ææä»¬ä¼ éä¸º2021-09-11åä¼æ¥é æä»¬éè¦èªå®ä¹æ¥ææ ¼å¼è½¬æ¢\n\n    \x3c!--    èªå®ä¹è½¬æ¢æ ¼å¼--\x3e\n    <mvc:annotation-driven conversion-service="conversionservice"/>\n    \x3c!--    æ³¨åbean è®©springç®¡ç--\x3e\n    <bean id="conversionservice" class="org.springframework.format.support.formattingconversionservicefactorybean">\n        <property name="formatters">\n            <set>\n                <bean class="org.springframework.format.datetime.dateformatter">\n                    <property name="pattern" value="yyyy-mm-dd"/>\n                </bean>\n            </set>\n        </property>\n    </bean>\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n\n\n# æ³¨è§£ç æ¥æç±»åæ ¼å¼è½¬æ¢\n\n    //æ¥æç±»å èªå®ä¹æ ¼å¼è½¬æ¢  http://localhost/requestparam11?date=2021-09-11\n    @requestmapping("/requestparam11")\n    public string requestparam11(@datetimeformat(pattern = "yyyy-mm-dd") date date) {\n        system.out.println(date);\n        return "index.jsp";\n    }\n\n\n1\n2\n3\n4\n5\n6\n\n\nå¹¶å¼å¯mvcæ³¨è§£é©±å¨\n\n<mvc:annotation-driven />\n\n\n1\n\n\n# èªå®ä¹ç±»åè½¬æ¢å¨\n\nå®ç° converter æ¥å£ æ³å1ä¸ºåå§æ°æ®ç±»å æ³å2ä¸ºè¿åçæ°æ®ç±»å å¹¶å®ç° convert æ¹æ³\n\n    \x3c!--    èªå®ä¹ç±»åè½¬æ¢å¨--\x3e\n    <mvc:annotation-driven conversion-service="conversionservice"/>\n    \x3c!--    æ³¨åbean è®©springç®¡ç--\x3e\n    <bean id="conversionservice" class="org.springframework.context.support.conversionservicefactorybean">\n        <property name="converters">\n            <set>\n                <bean class="com.itheima.converter.mydateconverter">\n                </bean>\n            </set>\n        </property>\n    </bean>\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n\n\nå¤çç±»\n\n\nimport org.springframework.core.convert.converter.converter;\n\nimport java.text.parseexception;\nimport java.text.simpledateformat;\nimport java.util.date;\n\npublic class mydateconverter implements converter<string, date> {\n    @override\n    public date convert(string s) {\n        simpledateformat simpledateformat = new simpledateformat("yyyy-mm-dd");\n        date date = null;\n        try {\n            date = simpledateformat.parse(s);\n        } catch (parseexception e) {\n            e.printstacktrace();\n        }\n\n        return date;\n    }\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n\n\n\n# è¯·æ±æ å°\n\n * @requestmapping è®¾ç½®å¨æ¹æ³ä¸åæ¯æ¹æ³ä½çè¯·æ±æ å° å®ä¹å¨ç±»ä¸åæ¯æ´ä¸ªç±»çè®¿é®åç¼\n * value è¯·æ±è·¯å¾\n * method = requestmethod.get è¯·æ±æ¹å¼\n * params = "name" è¯·æ±å°åå¿é¡»ä¼ éæ­¤å±æ§æè½è®¿é®\n * headers = "content-type=text/*" è¯·æ±å¤´æ¡ä»¶\n * consumes = "text/*" å¯ä»¥æ¥åçè¯·æ±æ­£æç±»å\n * produces = "text/*" å¯ä»¥çæçååºæ­£æç±»å\n\n\n# ååº\n\n\n# é¡µé¢è·³è½¬æ¹å¼\n\n * è½¬å(é»è®¤)\n   \n   @requestmapping("/showpageanddata1")\n       public string showpageanddata1(httpservletrequest request){\n           return "forward:success.jsp";\n       }\n   \n   \n   1\n   2\n   3\n   4\n   \n\n * éå®å\n   \n       @requestmapping("/showpageanddata7")\n       public string showpageanddata7(){\n           return "redirect:index.jsp";\n       }\n   \n   \n   1\n   2\n   3\n   4\n   \n\n * é¡µé¢è®¿é®å¿«æ·è®¾å® è®¾ç½®äºå¿«æ·è®¿é® åé»è®¤è®¿é®æ¯è®¾å®çè·¯å¾ä¸å¶å®çåç¼æä»¶ é»è®¤ä¸ºè½¬åè·³è½¬ æ æ³éå®å\n   \n       <bean class="org.springframework.web.servlet.view.internalresourceviewresolver">\n           <property name="prefix" value="/web-inf/page/"/>\n           <property name="suffix" value=".jsp"/>\n       </bean>\n   \n   \n   1\n   2\n   3\n   4\n   \n   \n   å¦ææ¹æ³ä½æ²¡æè¿åå¼ ä¹éç½®äºå¿«æ·æ¹å¼ åèªå¨è·³è½¬å°æå®çè·¯å¾ä¸ è®¿é®è·¯å¾ + åç¼ çæä»¶\n   \n   \n\n\n# requestä¼ éæ°æ®\n\n@requestmapping("/showpageanddata1")\npublic string showpageanddata1(httpservletrequest request){\n    request.setattribute("name","hello");\n    return "success.jsp";\n}\n\n\n1\n2\n3\n4\n5\n\n\n\n# model ç±»åå½¢åè¿è¡æ°æ®ä¼ é\n\n    @requestmapping("/showpageanddata2")\n    public string showpageanddata2(model model){\n        model.addattribute("name","hello");\n        user user =new user();\n        user.setage(156);\n        //å¯ä»¥ä¼ éå¯¹è±¡\n        model.addattribute("user",user);  \n        return "success.jsp";\n    }\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n\n\n\n# modelandview ç±»åä¼ é\n\n    @requestmapping("/showpageanddata3")\n    public modelandview showpageanddata3(modelandview modelandview){\n        modelandview.addobject("name","hello");\n        user user =new user();\n        user.setage(156);\n        //æ·»å å±æ§\n        modelandview.addobject("user",user);\n        //è·³è½¬é¡µé¢\n        modelandview.setviewname("success.jsp");\n        return modelandview;\n    }\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n\n\n# éå®å\n\n    @requestmapping("/showpageanddata5")\n    public modelandview showpageanddata5(modelandview modelandview){\n        //éå®å\n        modelandview.setviewname("redirect:index.jsp");\n        return modelandview;\n    }\n\n    @requestmapping("/showpageanddata6")\n    public modelandview showpageanddata6(modelandview modelandview){\n        //è·³è½¬\n        modelandview.setviewname("forward:index.jsp");\n        return modelandview;\n    }\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n\n\n\n# è¿åjsonæ°æ®\n\nååºæ¹æ³ä½ è¿åçæ°æ®é»è®¤ä¼ç´æ¥è·³è½¬å° è¿åå¼å¯¹åºçé¡µé¢æä»¶\n\næä»¬å¯ä»¥å¨æ¹æ³ä½ä¸ å ä¸ @responsebody æ³¨è§£ æ¥å£°æä¸ºä¸ä¸ªååºä½\n\n    @requestmapping("showdata1")\n    @responsebody\n    public string showdata1() throws jsonprocessingexception {\n        user user = new user();\n        user.setage(15);\n        user.setname("zhangsan");\n        objectmapper om = new objectmapper();\n        return om.writevalueasstring(user);\n    }\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n\n\n * è¿åä¸ä¸ªå¯¹è±¡æèéå jackson å·²ç»å¸®æä»¬åå¥½äº èªå®ä¹ç±»åè½¬æ¢äº æä»¬åªéè¦å¨springéç½®ä¸­å¼å¯æ³¨è§£é©±å¨ å³å¯\n   \n    <mvc:annotation-driven />\n   \n   \n   1\n   \n   \n   æ³¨è§£ç å¼å¯æ³¨è§£é©±å¨ ä¸º @enablewebmvc\n   \n       @requestmapping("showdata2")\n       @responsebody\n       public user showdata2() throws jsonprocessingexception {\n           user user = new user();\n           user.setage(15);\n           user.setname("zhangsan");\n           return user;\n       }\n   \n   \n   1\n   2\n   3\n   4\n   5\n   6\n   7\n   8\n   \n\n\n# servletç¸å³æ¥å£\n\nåå§ç request response å session æä¾ç»æä»¬ä½¿ç¨ä½æ¯ä¸å¤ªæ¨èä½¿ç¨åççåè½\n\n\n\n\n# headæ°æ®è·å\n\n * @requestheader è·åå¤´ä¸­æå®çå¼\n   \n       @requestmapping("/headapi")\n       public string headapi(@requestheader("accept-language") string head){\n           system.out.println(head);\n           return "index.jsp";\n       }\n   \n   \n   1\n   2\n   3\n   4\n   5\n   \n\n\n# cookie æ°æ®è·å\n\n * @cookievalue è·åcookieæå®keyçå¼\n   \n       @requestmapping("/cookieapi")\n       public string cookieapi(@cookievalue("_xsrf") string cookie){\n           system.out.println(cookie);\n           return "index.jsp";\n       }\n   \n   \n   1\n   2\n   3\n   4\n   5\n   \n\n\n# session æ°æ®è·ååè®¾ç½®\n\n * è®¾ç½® åªæå¨ç±»æ³¨è§£ä¸æ¹æ è®°çåéåç§°æä¼è¢«æ¾å°sessionä¸­\n   \n   * \n\n * è·å\n   \n   *     @requestmapping("/sessionapi")\n         public string sessionapi(@sessionattribute("name") string session){\n             system.out.println(session);\n             return "index.jsp";\n         }\n     \n     \n     1\n     2\n     3\n     4\n     5\n     \n\n\n# åéå¼æ­¥è¯·æ±\n\néè¿ajaxåéçå¼æ­¥è¯·æ± æ¯æ æ³ç´æ¥è¢«èµå¼ç»å½¢åç éè¦å¨å½¢ååé¢ å ä¸ @requestbody\n\n    @requestmapping("/ajax1")\n    public string ajax1(@requestbody string data) {\n        system.out.println(data);\n        return "index.jsp";\n    }\n\n\n1\n2\n3\n4\n5\n\n\n * jsonè½¬pojo ä¼èªå¨èµå¼ç»pojoä¸­å±æ§\n   \n   *     @requestmapping("/ajax2")\n         public string ajax2(@requestbody user user) {\n             system.out.println(user);\n             return "index.jsp";\n         }\n     \n     \n     1\n     2\n     3\n     4\n     5\n     \n\n * éå\n   \n   *     @requestmapping("/ajax3")\n         public string ajax3(@requestbody list<user> user) {\n             system.out.println(user);\n             return "index.jsp";\n         }\n     \n     \n     1\n     2\n     3\n     4\n     5\n     \n\n\n# å¼æ­¥è¯·æ±ååº\n\n * è¿åå­ç¬¦ä¸²\n   \n   *     @requestmapping("/ajax4")\n         @responsebody\n         public string ajax4() {\n             return "hello";\n         }\n     \n     \n     1\n     2\n     3\n     4\n     5\n     \n\n * è¿åå¯¹è±¡\n   \n   *     @requestmapping("/ajax5")\n         @responsebody\n         public user ajax5() {\n             user user = new user();\n             user.setname("hhh");\n             user.setage(13);\n             return user;\n         }\n     \n     \n     1\n     2\n     3\n     4\n     5\n     6\n     7\n     8\n     \n\n * è¿åéå\n   \n   *     @requestmapping("/ajax6")\n         @responsebody\n         public list ajax6() {\n             user user = new user();\n             user user2 = new user();\n             user.setname("hhh");\n             user.setage(13);\n             user2.setname("qqqq");\n             user2.setage(17);\n             arraylist<user> arraylist = new arraylist<>();\n             arraylist.add(user);\n             arraylist.add(user2);\n             return arraylist;\n         }\n     \n     \n     1\n     2\n     3\n     4\n     5\n     6\n     7\n     8\n     9\n     10\n     11\n     12\n     13\n     14\n     \n\n\n# è·¨åè®¿é®\n\nå½éè¿aååä¸çæä½è®¿é® ååbä¸çèµæºæ¶ ç§°ä¸ºè·¨åè®¿é®\n\næä»¬å¯ä»¥éè¿è®¾ç½®å¤´ä¿¡æ¯ å¼å¯è·¨åè®¿é®éå¶\n\nä½spring å¸®æå®æè¿ä¸ªæä½ æä»¬åªéè¦æ·»å @crossorigin å°±å¯ä»¥è§£å³ å®ä¹å¨æ¹æ³ä½æç±»ä¸\n\n    @requestmapping("/cross")\n    @responsebody\n    @crossorigin\n    public void cross() {\n\n    }\n\n\n1\n2\n3\n4\n5\n6\n\n\n\n# æ¦æªå¨\n\næ¦æªå¨(interceptor) æ¯ä¸ç§å¨ææ¦æªæ¹æ³è°ç¨çæºå¶\n\n 1. å¨æå®çæ¹æ³è°ç¨ååæ§è¡é¢åè®¾å®åçä»£ç \n 2. é»æ­¢åå§æ¹æ³çæ§è¡\n\næ ¸å¿åç:aopææ³\n\næ¦æªå¨é¾:å¤ä¸ªæ¦æªå¨æç§ä¸å®çé¡ºåº å¯¹åå§è¢«è°ç¨åè½è¿è¡å¢å¼º\n\nå®ç° handlerinterceptor æ¥å£ éåéè¦çæ¹æ³\n\npublic class myinterceptor implements handlerinterceptor {\n\n    @override\n    public boolean prehandle(httpservletrequest request, httpservletresponse response, object handler) throws exception {\n        system.out.println("åç½®è¿è¡");\n        //å¦æä¸ºfalse åç´æ¥æ¦æªä¸å¡å¤çå¨ä¸æ¾è¡\n        return true;\n    }\n\n    @override\n    public void posthandle(httpservletrequest request, httpservletresponse response, object handler, modelandview modelandview) throws exception {\n        system.out.println("åç½®è¿è¡");\n    }\n\n    @override\n    public void aftercompletion(httpservletrequest request, httpservletresponse response, object handler, exception ex) throws exception {\n        system.out.println("å®æè¿è¡");\n    }\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n\n\n <mvc:interceptors>\n        <mvc:interceptor>\n            <mvc:mapping path="/handlerun"/>\n            <bean class="com.itheima.interceptor.myinterceptor"/>\n        </mvc:interceptor>\n    </mvc:interceptors>\n\n\n1\n2\n3\n4\n5\n6\n\n\n\n\n\n# æ¦æªå¨åæ°\n\n * request è¯·æ±å¯¹è±¡\n * response ååºå¯¹è±¡\n * handler è¢«è°ç¨çå¤çå¨å¯¹è±¡,å¯¹åå°ä¸­çmethodå¯¹è±¡è¿è¡äºåè£\n * modelandview å¯ä»¥è¯»åæèä¿®æ¹ é¡µé¢ä¿¡æ¯åå¯¹åºæ°æ®\n * exception å¦æå¤çå¨æ§è¡ä¸­åºç°å¼å¸¸ å¦ä½å¤ç\n\n\n# å¤ä¸ªæ¦æªå¨\n\nå¤ä¸ªæ¦æªå¨æ§è¡é¡ºåºä¸xmléç½®æå³\n\nä½å¤ä¸ªæ¦æªå¨ä¸­çåç½®è¿è¡ åç½®è¿è¡ é½ä¼åæ¶å¯ç¨\n\næç§é¾å¼ æ§è¡é¡ºåº\n\n\n\n\n# è´£ä»»é¾æ¨¡å¼\n\n\n\n\n# å¼å¸¸å¤ç\n\nç±»æ³¨è§£ @component ç»å®beanä¸º å¹¶å®ç° handlerexceptionresolver æ¥å£ å®ç°æ¹æ³\n\næ­¤beanä¼æ¦æªmvcä¸è¯·æ±çå¼å¸¸\n\n@component\npublic class exceptionresolver implements handlerexceptionresolver {\n    @override\n    public modelandview resolveexception(httpservletrequest httpservletrequest, httpservletresponse httpservletresponse, object o, exception e) {\n\n        system.out.println("åçå¼å¸¸äº");\n\n        modelandview modelandview =new modelandview();\n\n        if(e instanceof nullpointerexception){\n            //æ·»å éè¯¯ä¿¡æ¯\n            modelandview.addobject("msg","ç©ºæéå¼å¸¸");\n        }else if (e instanceof arithmeticexception){\n            //æ·»å éè¯¯ä¿¡æ¯\n            modelandview.addobject("msg","ç®æ¯å¼å¸¸");\n        }else {\n            //æ·»å éè¯¯ä¿¡æ¯\n            modelandview.addobject("msg","æªç¥å¼å¸¸");\n        }\n\n        //è½¬åé¡µé¢\n        modelandview.setviewname("error.jsp");\n        return modelandview;\n    }\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n\n\n\n# æ³¨è§£çå¼å¸¸å¤ç\n\n * @exceptionhandler æ³¨è§£ æ è®°è¦ææçå¼å¸¸\n\n@component\n@controlleradvice\npublic class exceptionadivce {\n\n    //å¼å¸¸ çç±»\n    @exceptionhandler(nullpointerexception.class)\n    @responsebody\n    public string donullexception(exception e){\n        system.out.println("ç©ºæéå¼å¸¸");\n        return "ç©ºæéå¼å¸¸";\n    }\n\n    //å¼å¸¸ çç±»\n    @exceptionhandler(arithmeticexception.class)\n    @responsebody\n    public string doarithmeticexception(exception e){\n        system.out.println("ç®æ¯å¼å¸¸");\n        return "ç®æ¯å¼å¸¸";\n    }\n\n    //å¼å¸¸ çç±»\n    @exceptionhandler(exception.class)\n    @responsebody\n    public string doexception(exception e){\n        system.out.println("all");\n        return "all";\n    }\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n26\n27\n28\n\n\næ³¨æäºé¡¹:\n\n@exceptionhandler æ³¨è§£ ä¼æ¯ handlerexceptionresolver è¿è¡æ©\n\nhandlerexceptionresolver æ æ³ææå°åæ°å¼å¸¸ èæ³¨è§£å¯ä»¥ææå°\n\n\n# æä»¶ä¸ä¼ ä¸è½½\n\nåæ \n\n  \x3c!--æä»¶ä¸ä¼ ä¸è½½--\x3e\n    <dependency>\n      <groupid>commons-fileupload</groupid>\n      <artifactid>commons-fileupload</artifactid>\n      <version>1.4</version>\n    </dependency>\n\n\n1\n2\n3\n4\n5\n6\n\n\n\n\nä¸ä¼ æä»¶ä¼ éçname è¦ä¸ å½¢åçåç§°ä¸è´\n\n\n# restful\n\n\n\n\n\n\n# pathvariable\n\n@pathvariable ä¸ºrestful è§èçè¯·æ±è·¯å¾ èµå¼ç»æå®å½¢å\n\nå¹¶ä¸å¨@requestmapping ç method æå®è¯·æ±æ¹å¼\n\n    @requestmapping(value = "/user/{id}",method = requestmethod.get)\n    public string restlocation(@pathvariable integer id){\n        system.out.println(id);\n        return "page.jsp";\n    }\n\n\n1\n2\n3\n4\n5\n\n\n\n# restcontroller\n\n@restcontroller ç»åäº @controllerå@responsebody ä¸¤ä¸ªæ³¨è§£çåè½\n\nç»å®ä¸ºbean å¹¶ä¸ ææè¿ååå®¹é½ä¸ä¼è§£æä¸ºç½é¡µç»æ\n\n\n# xxxmapping\n\nå¦ @getmapping @postmapping è¯·æ±ç­ç­\n\næä»¬ä¸ç¨å¨@requestmapping ä¸­å®ä¹æå®çè¯·æ±æ¹å¼ å è¯·æ±è·¯å¾\n\nåªéå¨æ¹æ³ä½å ä¸æå®è¯·æ±æ¹å¼çæ³¨è§£å³\n\n    @postmapping("{id}")\n    public string postrestlocation(@pathvariable integer id){\n        system.out.println(id);\n        return "page.jsp";\n    }\n\n\n1\n2\n3\n4\n5\n\n\n\n# è¡¨åéªè¯æ¡æ¶\n\nhibernateæ¡æ¶\n\n    <dependency>\n      <groupid>org.hibernate</groupid>\n      <artifactid>hibernate-validator</artifactid>\n      <version>6.1.0.final</version>\n    </dependency>\n\n\n1\n2\n3\n4\n5\n\n * @valid å½¢åæ³¨è§£ å¼å¯æ­¤å½¢åçéªè¯\n * @valid å±æ§æ³¨è§£ å¼å¯æ­¤å¯¹è±¡æå±æ§éªè¯ å¯¹è±¡æ ¡éªå¨å¯¹è±¡åé¨å±æ§å®ä¹è§å\n * @notblank(message = "æéä¿¡æ¯") å±æ§éªè¯è§å ä¸è½ä¸ºnull å¹¶ä¸é¿åº¦å¿é¡»å¤§äº0åä¸å¨ä¸ºç©ºæ ¼ åä¸è½ä¸ºç©º\n * @notnull (message = "æéä¿¡æ¯") ä¸è½ä¸ºnull å¯ä»¥ä¸ºç©º\n * @notempty(message = "") ä¸è½ä¸ºç©ºånull\n * @max(value = "" , message =" ") éå®æå¤§å¼\n * @min(value = "" , message = "") æå°å¼\n * @range(max = ,min = ,message = ) æå¤§æå°å¼\n\n @requestmapping(value = "/addemployee2")\n    //ä½¿ç¨@validå¼å¯æ ¡éªï¼ä½¿ç¨@validatedä¹å¯ä»¥å¼å¯æ ¡éª\n    //errorså¯¹è±¡ç¨äºå°è£æ ¡éªç»æï¼å¦æä¸æ»¡è¶³æ ¡éªè§åï¼å¯¹åºçæ ¡éªç»æå°è£å°è¯¥å¯¹è±¡ä¸­ï¼åå«æ ¡éªçå±æ§ååæ ¡éªä¸éè¿è¿åçæ¶æ¯\n    public string addemployee2(@valid employee employee, errors errors, model m){\n        //å¤å®errorså¯¹è±¡ä¸­æ¯å¦å­å¨æªéè¿æ ¡éªçå­æ®µ\n        if(errors.haserrors()){\n            //è·åæææªéè¿æ ¡éªè§åçä¿¡æ¯\n            list<fielderror> fielderrors = errors.getfielderrors();\n            system.out.println(fielderrors.size());\n            for(fielderror error : fielderrors){\n                system.out.println(error.getfield());\n                system.out.println(error.getdefaultmessage());\n                //å°æ ¡éªç»æä¿¡æ¯æ·»å å°modelå¯¹è±¡ä¸­ï¼ç¨äºé¡µé¢æ¾ç¤ºï¼åæå®éå¼åä¸­æ éè¿æ ·è®¾å®ï¼è¿åjsonæ°æ®å³å¯\n                m.addattribute(error.getfield(),error.getdefaultmessage());\n            }\n            //å½åºç°æªéè¿æ ¡éªçå­æ®µæ¶ï¼è·³è½¬é¡µé¢å°åå§é¡µé¢ï¼è¿è¡æ°æ®åæ¾\n            return "addemployee.jsp";\n        }\n        return "success.jsp";\n    }\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n\n\n    @notblank(message = "å§åä¸è½ä¸ºç©º")\n    private string name;//åå·¥å§å\n\n    //ä¸ä¸ªå±æ§å¯ä»¥æ·»å å¤ä¸ªæ ¡éªå¨\n    @notnull(message = "è¯·è¾å¥æ¨çå¹´é¾")\n    @max(value = 60,message = "å¹´é¾æå¤§å¼ä¸åè®¸è¶è¿60å²")\n    @min(value = 18,message = "å¹´é¾æå°å¼ä¸åè®¸ä½äº18å²")\n    private integer age;//åå·¥å¹´é¾\n\n    //å®ä½ç±»ä¸­çå¼ç¨ç±»åéè¿æ æ³¨@validæ³¨è§£ï¼è®¾å®å¼å¯å½åå¼ç¨ç±»åå­æ®µä¸­çå±æ§åä¸æ ¡éª\n    @valid\n    private address address;\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n\n\n\n# åç»æ ¡éª\n\nå¦æä¸å¼å¯åç»æ ¡éª åä¼æ ¡éªå½åå¨é¨å¼å¯æ ¡éªçå±æ§/å¯¹è±¡\n\nå¨å±æ§/å¯¹è±¡æ ¡éªæ³¨è§£ä¸­ å ä¸ groups å±æ§ å¹¶ç»äºä¸ä¸ª ç¨äºæ è¯çå­èç æä»¶\n\n//è®¾å®æ ¡éªå¨ï¼è®¾ç½®æ ¡éªä¸éè¿å¯¹åºçæ¶æ¯ï¼è®¾å®æåä¸çæ ¡éªç»\n    @notblank(message = "å§åä¸è½ä¸ºç©º",groups = {groupa.class})\n    private string name;//åå·¥å§å\n\n\n1\n2\n3\n\n\næ¦æªæ ¡éªå¨ å¼å¯æ ¡éªæ³¨è§£è¦æ¹ä¸º @validated å¹¶å ä¸æ è¯å­èç æä»¶\n\n    @requestmapping(value = "/addemployee")\n    public string addemployee(@validated({groupa.class}) employee employee, errors errors, model m){\n        if(errors.haserrors()){\n            list<fielderror> fielderrors = errors.getfielderrors();\n            system.out.println(fielderrors.size());\n            for(fielderror error : fielderrors){\n                system.out.println(error.getfield());\n                system.out.println(error.getdefaultmessage());\n                m.addattribute(error.getfield(),error.getdefaultmessage());\n            }\n            return "addemployee.jsp";\n        }\n        return "success.jsp";\n    }\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n\n\n\n# ssm\n\nspring + springmvc + mybatis',charsets:{cjk:!0},lastUpdated:"2022/03/18, 07:01:11",lastUpdatedTimestamp:1647558071e3},{title:"Spring Security",frontmatter:{title:"Spring Security",date:"2022-03-18T00:51:47.000Z",permalink:"/pages/ca6c88/",categories:["åç«¯","JavaEE"],tags:[null]},regularPath:"/%E5%90%8E%E7%AB%AF/02.JavaEE/12.Spring%20Security.html",relativePath:"åç«¯/02.JavaEE/12.Spring Security.md",key:"v-758de2ee",path:"/pages/ca6c88/",headers:[{level:2,title:"å¥é¨æ¡ä¾",slug:"å¥é¨æ¡ä¾",normalizedTitle:"å¥é¨æ¡ä¾",charIndex:185},{level:2,title:"éç½®å¯å¿åè®¿é®çèµæº",slug:"éç½®å¯å¿åè®¿é®çèµæº",normalizedTitle:"éç½®å¯å¿åè®¿é®çèµæº",charIndex:4688},{level:2,title:"æå®ç»éé¡µé¢",slug:"æå®ç»éé¡µé¢",normalizedTitle:"æå®ç»éé¡µé¢",charIndex:5057},{level:2,title:"ä»æ°æ®åºæ¥è¯¢ç¨æ·ä¿¡æ¯",slug:"ä»æ°æ®åºæ¥è¯¢ç¨æ·ä¿¡æ¯",normalizedTitle:"ä»æ°æ®åºæ¥è¯¢ç¨æ·ä¿¡æ¯",charIndex:4228},{level:2,title:"å¯ç å å¯",slug:"å¯ç å å¯",normalizedTitle:"å¯ç å å¯",charIndex:8944},{level:2,title:"éç½®å¤ç§æ ¡éªè§å",slug:"éç½®å¤ç§æ ¡éªè§å",normalizedTitle:"éç½®å¤ç§æ ¡éªè§å",charIndex:12999},{level:2,title:"æ³¨è§£æéæ§å¶",slug:"æ³¨è§£æéæ§å¶",normalizedTitle:"æ³¨è§£æéæ§å¶",charIndex:13603},{level:2,title:"éåºç»é",slug:"éåºç»é",normalizedTitle:"éåºç»é",charIndex:15020}],headersStr:"å¥é¨æ¡ä¾ éç½®å¯å¿åè®¿é®çèµæº æå®ç»éé¡µé¢ ä»æ°æ®åºæ¥è¯¢ç¨æ·ä¿¡æ¯ å¯ç å å¯ éç½®å¤ç§æ ¡éªè§å æ³¨è§£æéæ§å¶ éåºç»é",content:'# Spring Security\n\nSpring Securityæ¯ Springæä¾çå®å¨è®¤è¯æå¡çæ¡æ¶ã ä½¿ç¨Spring Securityå¯ä»¥å¸®å©æä»¬æ¥ç®åè®¤è¯åææçè¿ç¨ãå®ç½ï¼https://spring.io/projects/spring-security\n\nå¸¸ç¨çæéæ¡æ¶é¤äºSpring Securityï¼è¿æApacheçshiroæ¡æ¶ã\n\n\n# å¥é¨æ¡ä¾\n\nåæ \n\n<dependency>\n  <groupId>org.springframework.security</groupId>\n  <artifactId>spring-security-web</artifactId>\n  <version>5.0.5.RELEASE</version>\n</dependency>\n<dependency>\n  <groupId>org.springframework.security</groupId>\n  <artifactId>spring-security-config</artifactId>\n  <version>5.0.5.RELEASE</version>\n</dependency>\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n\n\néç½®web.xml\n\n<!DOCTYPE web-app PUBLIC\n        "-//Sun Microsystems, Inc.//DTD Web Application 2.3//EN"\n        "://java.sun.com/dtd/web-app_2_3.dtd" >\n<web-app>\n  <display-name>Archetype Created Web Application</display-name>\n  <filter>\n    \x3c!--\n      DelegatingFilterProxyç¨äºæ´åç¬¬ä¸æ¹æ¡æ¶\n      æ´åSpring Securityæ¶è¿æ»¤å¨çåç§°å¿é¡»ä¸ºspringSecurityFilterChainï¼\n      å¦åä¼æåºNoSuchBeanDefinitionExceptionå¼å¸¸\n    --\x3e\n    <filter-name>springSecurityFilterChain</filter-name>\n    <filter-class>org.springframework.web.filter.DelegatingFilterProxy</filter-class>\n  </filter>\n  <filter-mapping>\n    <filter-name>springSecurityFilterChain</filter-name>\n    <url-pattern>/*</url-pattern>\n  </filter-mapping>\n  <servlet>\n    <servlet-name>springmvc</servlet-name>\n    <servlet-class>org.springframework.web.servlet.DispatcherServlet</servlet-class>\n    \x3c!-- æå®å è½½çéç½®æä»¶ ï¼éè¿åæ°contextConfigLocationå è½½ --\x3e\n    <init-param>\n      <param-name>contextConfigLocation</param-name>\n      <param-value>classpath:spring-security.xml</param-value>\n    </init-param>\n    <load-on-startup>1</load-on-startup>\n  </servlet>\n  <servlet-mapping>\n    <servlet-name>springmvc</servlet-name>\n    <url-pattern>*.do</url-pattern>\n  </servlet-mapping>\n\n</web-app>\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n26\n27\n28\n29\n30\n31\n32\n33\n34\n\n\néç½®spring-security.xml\n\n<?xml version="1.0" encoding="UTF-8"?>\n<beans xmlns="http://www.springframework.org/schema/beans"\n       xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"\n       xmlns:context="http://www.springframework.org/schema/context"\n       xmlns:dubbo="http://code.alibabatech.com/schema/dubbo"\n       xmlns:mvc="http://www.springframework.org/schema/mvc"\n       xmlns:security="http://www.springframework.org/schema/security"\n       xsi:schemaLocation="http://www.springframework.org/schema/beans\n                        http://www.springframework.org/schema/beans/spring-beans.xsd\n                        http://www.springframework.org/schema/mvc\n                        http://www.springframework.org/schema/mvc/spring-mvc.xsd\n                        http://code.alibabatech.com/schema/dubbo\n                        http://code.alibabatech.com/schema/dubbo/dubbo.xsd\n                        http://www.springframework.org/schema/context\n                        http://www.springframework.org/schema/context/spring-context.xsd\n                          http://www.springframework.org/schema/security\n                          http://www.springframework.org/schema/security/spring-security.xsd">\n\n    \x3c!--\n        httpï¼ç¨äºå®ä¹ç¸å³æéæ§å¶\n        auto-configï¼æ¯å¦èªå¨éç½®\n                        è®¾ç½®ä¸ºtrueæ¶æ¡æ¶ä¼æä¾é»è®¤çä¸äºéç½®ï¼ä¾å¦æä¾é»è®¤çç»å½é¡µé¢ãç»åºå¤çç­\n                        è®¾ç½®ä¸ºfalseæ¶éè¦æ¾ç¤ºæä¾ç»å½è¡¨åéç½®ï¼å¦åä¼æ¥é\n        use-expressionsï¼ç¨äºæå®intercept-urlä¸­çaccesså±æ§æ¯å¦ä½¿ç¨è¡¨è¾¾å¼æ¥æè¿°æé\n    --\x3e\n    <security:http auto-config="true" use-expressions="true">\n        \x3c!--\n            intercept-urlï¼å®ä¹ä¸ä¸ªæ¦æªè§å\n            patternï¼å¯¹åªäºurlè¿è¡æéæ§å¶   /**è¡¨ç¤ºæ¦æªææè¯·æ±  /*åªè½ æ¦æª/a.html /b.html æ æ³é»è¾ /a/b/c.html\n            accessï¼å¨è¯·æ±å¯¹åºçURLæ¶éè¦ä»ä¹æéï¼é»è®¤éç½®æ¶å®åºè¯¥æ¯ä¸ä¸ªä»¥éå·åéçè§è²åè¡¨ï¼\n                  è¯·æ±çç¨æ·åªéæ¥æå¶ä¸­çä¸ä¸ªè§è²å°±è½æåè®¿é®å¯¹åºçURL\n                  æå®æéçè®¿é®è§è²æèè®¿é®æé   hasRole()ä¸ºè¡¨è¾¾å¼  å¦æè¡¨è¾¾å¼æ²¡æå¼å¯åå¼ç´æ¥ä¸ºè§è²åç§°\n        --\x3e\n        <security:intercept-url pattern="/**"  access="hasRole(\'ROLE_ADMIN\')" />\n    </security:http>\n\n    \x3c!--\n        authentication-managerï¼è®¤è¯ç®¡çå¨ï¼ç¨äºå¤çè®¤è¯æä½\n    --\x3e\n    <security:authentication-manager>\n        \x3c!--\n            authentication-providerï¼è®¤è¯æä¾èï¼æ§è¡å·ä½çè®¤è¯é»è¾\n        --\x3e\n        <security:authentication-provider>\n            \x3c!--\n                user-serviceï¼ç¨äºè·åç¨æ·ä¿¡æ¯ï¼æä¾ç»authentication-providerè¿è¡è®¤è¯\n            --\x3e\n            <security:user-service>\n                \x3c!--\n                    userï¼å®ä¹ç¨æ·ä¿¡æ¯ï¼å¯ä»¥æå®ç¨æ·åãå¯ç ãè§è²ï¼åæå¯ä»¥æ¹ä¸ºä»æ°æ®åºæ¥è¯¢ç¨æ·ä¿¡æ¯\n                  {noop}ï¼è¡¨ç¤ºå½åä½¿ç¨çå¯ç ä¸ºææ\n                --\x3e\n                <security:user name="admin" password="{noop}1234" authorities="ROLE_ADMIN"/>\n            </security:user-service>\n        </security:authentication-provider>\n    </security:authentication-manager>\n</beans>\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n26\n27\n28\n29\n30\n31\n32\n33\n34\n35\n36\n37\n38\n39\n40\n41\n42\n43\n44\n45\n46\n47\n48\n49\n50\n51\n52\n53\n54\n55\n56\n57\n\n\n\n# éç½®å¯å¿åè®¿é®çèµæº\n\nç¬¬ä¸æ­¥ï¼å¨é¡¹ç®ä¸­åå»ºpagesç®å½ï¼å¨pagesç®å½ä¸­åå»ºa.htmlåb.html\n\nç¬¬äºæ­¥ï¼å¨spring-security.xmlæä»¶ä¸­éç½®ï¼æå®åªäºèµæºå¯ä»¥å¿åè®¿é®\n\n    \x3c!--    éç½®èµæºå¿åè®¿é®\n\t httpï¼ç¨äºå®ä¹ç¸å³æéæ§å¶\n  æå®åªäºèµæºä¸éè¦è¿è¡æéæ ¡éªï¼å¯ä»¥ä½¿ç¨ééç¬¦\n--\x3e\n    <security:http security="none" pattern="/pages/a.html"/>\n    <security:http security="none" pattern="/pages/b.html"/>\n    <security:http security="none" pattern="/pages/**"/>\n\n\n1\n2\n3\n4\n5\n6\n7\n\n\n\n# æå®ç»éé¡µé¢\n\nSpring Security æ¡æ¶é»è®¤æä¾äºç»éé¡µé¢ç»æä»¬,æä»¬éè¦èªå®ä¹ä¸ºèªå·±çç»éé¡µé¢\n\n 1. éç½®å¿åè®¿é®\n    \n    <security:http security="none" pattern="/login.html" />\n    \n    \n    1\n    \n\n 2. ä¿®æ¹spring-security.xmlæä»¶ï¼å å¥è¡¨åç»å½ä¿¡æ¯çéç½® ä¸ºsecurity:httpå­æ ç­¾\n    \n      \x3c!--\n      form-loginï¼å®ä¹è¡¨åç»å½ä¿¡æ¯\n      login-page:ç»éé¡µé¢\n      username-parameter:ç¨æ·è¾å¥æ¡å¯¹åºçname\n      password-parameter:å¯ç è¾å¥æ¡å¯¹åºçname\n      login-processing-url:æäº¤å°å\n      default-target-url:æååé»è®¤è·³è½¬å°å\n      authentication-failure-url:å¤±è´¥åè·³è½¬é¡µé¢\n    --\x3e\n            <security:form-login login-page="/login.html"\n                                 username-parameter="username"\n                                 password-parameter="password"\n                                 login-processing-url="/login.do"\n                                 default-target-url="/index.html"\n                                 authentication-failure-url="/login.html"/>\n    \n    \n    1\n    2\n    3\n    4\n    5\n    6\n    7\n    8\n    9\n    10\n    11\n    12\n    13\n    14\n    15\n    \n\n 3. ä¿®æ¹spring-security.xmlæä»¶ï¼å³é­CsrfFilterè¿æ»¤å¨ ä¸ºsecurity:httpå­æ ç­¾\n    \n    \x3c!--\n      csrfï¼å¯¹åºCsrfFilterè¿æ»¤å¨\n      disabledï¼æ¯å¦å¯ç¨CsrfFilterè¿æ»¤å¨ï¼å¦æä½¿ç¨èªå®ä¹ç»å½é¡µé¢éè¦å³é­æ­¤é¡¹ï¼å¦åç»å½æä½ä¼è¢«ç¦ç¨ï¼403ï¼\n    --\x3e\n    <security:csrf disabled="true"></security:csrf>\n    \n    \n    1\n    2\n    3\n    4\n    5\n    \n\n\n# ä»æ°æ®åºæ¥è¯¢ç¨æ·ä¿¡æ¯\n\nå®ç°UserDetailsServiceæ¥å£ å®ç°loadUserByUsernameæ¹æ³ è·åå°ç¨æ·å\n\npackage com.itheima.service;\n\nimport com.itheima.pojo.User;\nimport org.springframework.security.core.GrantedAuthority;\nimport org.springframework.security.core.authority.SimpleGrantedAuthority;\nimport org.springframework.security.core.userdetails.UserDetails;\nimport org.springframework.security.core.userdetails.UserDetailsService;\nimport org.springframework.security.core.userdetails.UsernameNotFoundException;\n\nimport java.util.ArrayList;\nimport java.util.HashMap;\nimport java.util.Map;\n\npublic class SpringSecurityUserService implements UserDetailsService {\n    //æ¨¡ææ°æ®åºä¸­çç¨æ·æ°æ®\n    public static Map<String, User> map = new HashMap<>();\n\n    static {\n        com.itheima.pojo.User user1 = new com.itheima.pojo.User();\n        user1.setUsername("admin");\n        user1.setPassword("admin");\n\n        com.itheima.pojo.User user2 = new com.itheima.pojo.User();\n        user2.setUsername("xiaoming");\n        user2.setPassword("1234");\n\n        map.put(user1.getUsername(), user1);\n        map.put(user2.getUsername(), user2);\n    }\n\n\n    //æ ¹æ®ç¨æ·åæ¥è¯¢ç¨æ·ä¿¡æ¯\n    @Override\n    public UserDetails loadUserByUsername(String s) throws UsernameNotFoundException {\n        System.out.println(s);\n        //æ ¹æ®ç¨æ·åæ¥è¯¢æ°æ®åºè·åç¨æ·ä¿¡æ¯(åå«æ°æ®åºä¸­çä¿¡æ¯)\n        User user = map.get(s);\n        if (user == null) {\n            //ç¨æ·åä¸å­å¨\n            return null;\n        }\n\n        //å°ç¨æ·ä¿¡æ¯è¿åç»æ¡æ¶\n        //æ¡æ¶ä¼è¿è¡å¯ç æ¯å¯¹(é¡µé¢ä¸æ°æ®åºä¸­æ¥è¯¢çå¯ç å¯¹æ¯)\n        ArrayList<GrantedAuthority> list = new ArrayList<>();\n        //ä¸ºå½åç»å½ç¨æ·ææ åææ¹ä¸ºæ°æ®åºä¸­å¯¹åºçæé\n        list.add(new SimpleGrantedAuthority("permission_A"));//ææ\n        list.add(new SimpleGrantedAuthority("permission_B"));\n        list.add(new SimpleGrantedAuthority("ROLE_ADMIN"));//æäºè§è²\n        org.springframework.security.core.userdetails.User security = new org.springframework.security.core.userdetails.User(s, "{noop}" + user.getPassword(), list);\n\n        //è¿å\n        return security;\n\n    }\n}\n\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n26\n27\n28\n29\n30\n31\n32\n33\n34\n35\n36\n37\n38\n39\n40\n41\n42\n43\n44\n45\n46\n47\n48\n49\n50\n51\n52\n53\n54\n55\n56\n57\n\n\nbean ç»å®\n\n \x3c!--\n        authentication-managerï¼è®¤è¯ç®¡çå¨ï¼ç¨äºå¤çè®¤è¯æä½\n    --\x3e\n    <security:authentication-manager>\n        \x3c!--\n            authentication-providerï¼è®¤è¯æä¾èï¼æ§è¡å·ä½çè®¤è¯é»è¾\n\t\t\tuser-service-ref ä¸ºuserå®ç°ç±»çbeanid\n        --\x3e\n        <security:authentication-provider user-service-ref="userService">\n        </security:authentication-provider>\n    </security:authentication-manager>\n\n    <bean id="userService" class="com.itheima.service.SpringSecurityUserService"></bean>\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n\n\n\n# å¯ç å å¯\n\nåé¢æä»¬ä½¿ç¨çå¯ç é½æ¯ææçï¼è¿æ¯éå¸¸ä¸å®å¨çãä¸è¬æåµä¸ç¨æ·çå¯ç éè¦è¿è¡å å¯ååä¿å­å°æ°æ®åºä¸­ã\n\nå¸¸è§çå¯ç å å¯æ¹å¼æï¼\n\n3DESãAESãDESï¼ä½¿ç¨å¯¹ç§°å å¯ç®æ³ï¼å¯ä»¥éè¿è§£å¯æ¥è¿ååºåå§å¯ç \n\nMD5ãSHA1ï¼ä½¿ç¨ååHASHç®æ³ï¼æ æ³éè¿è®¡ç®è¿ååºåå§å¯ç ï¼ä½æ¯å¯ä»¥å»ºç«å½©è¹è¡¨è¿è¡æ¥è¡¨ç ´è§£\n\nbcryptï¼å°saltéæºå¹¶æ··å¥æç»å å¯åçå¯ç ï¼éªè¯æ¶ä¹æ éåç¬æä¾ä¹åçsaltï¼ä»èæ éåç¬å¤çsalté®é¢\n\n 1. å¨spring-security.xmlæä»¶ä¸­æå®å¯ç å å¯å¯¹è±¡\n    \n        <security:authentication-manager>\n    \t\t\t\x3c!--è¿½å  --\x3e\n                <security:password-encoder ref="passwordEncoder"/>\n            </security:authentication-provider>\n        </security:authentication-manager>\n    \n    \n    \x3c!--éç½®å¯ç å å¯å¯¹è±¡--\x3e\n    <bean id="passwordEncoder" \n          class="org.springframework.security.crypto.bcrypt.BCryptPasswordEncoder" />\n    \n    \x3c!--è®¤è¯ç®¡çå¨ï¼ç¨äºå¤çè®¤è¯æä½--\x3e\n    <security:authentication-manager>\n      \x3c!--è®¤è¯æä¾èï¼æ§è¡å·ä½çè®¤è¯é»è¾--\x3e\n      <security:authentication-provider user-service-ref="userService">\n        \x3c!--æå®å¯ç å å¯ç­ç¥--\x3e\n        <security:password-encoder ref="passwordEncoder" />\n      </security:authentication-provider>\n    </security:authentication-manager>\n    \x3c!--å¼å¯springæ³¨è§£ä½¿ç¨--\x3e\n    <context:annotation-config></context:annotation-config>\n    \n    \n    1\n    2\n    3\n    4\n    5\n    6\n    7\n    8\n    9\n    10\n    11\n    12\n    13\n    14\n    15\n    16\n    17\n    18\n    19\n    20\n    21\n    \n\n 2. ä¿®æ¹UserServiceå®ç°ç±»\n    \n    package com.itheima.service;\n    \n    import com.itheima.pojo.User;\n    import org.springframework.beans.factory.annotation.Autowired;\n    import org.springframework.security.core.GrantedAuthority;\n    import org.springframework.security.core.authority.SimpleGrantedAuthority;\n    import org.springframework.security.core.userdetails.UserDetails;\n    import org.springframework.security.core.userdetails.UserDetailsService;\n    import org.springframework.security.core.userdetails.UsernameNotFoundException;\n    import org.springframework.security.crypto.bcrypt.BCryptPasswordEncoder;\n    \n    import java.util.ArrayList;\n    import java.util.HashMap;\n    import java.util.Map;\n    \n    public class SpringSecurityUserService2 implements UserDetailsService {\n        @Autowired\n        private BCryptPasswordEncoder passwordEncoder;\n    \n        //æ¨¡ææ°æ®åºä¸­çç¨æ·æ°æ®\n        public Map<String, User> map = new HashMap<>();\n    \n        public void initUserDate() {\n            User user1 = new User();\n            user1.setUsername("admin");\n            user1.setPassword(passwordEncoder.encode("admin"));  //ä½¿ç¨bcryptè¿è¡å å¯\n    \n            User user2 = new User();\n            user2.setUsername("xiaoming");\n            user2.setPassword(passwordEncoder.encode("1234"));\n    \n            map.put(user1.getUsername(), user1);\n            map.put(user2.getUsername(), user2);\n        }\n    \n    \n        //æ ¹æ®ç¨æ·åæ¥è¯¢ç¨æ·ä¿¡æ¯\n        @Override\n        public UserDetails loadUserByUsername(String s) throws UsernameNotFoundException {\n            initUserDate();\n            System.out.println(s);\n            //æ ¹æ®ç¨æ·åæ¥è¯¢æ°æ®åºè·åç¨æ·ä¿¡æ¯(åå«æ°æ®åºä¸­çä¿¡æ¯)\n            User user = map.get(s);\n            if (user == null) {\n                //ç¨æ·åä¸å­å¨\n                return null;\n            }\n    \n            //å°ç¨æ·ä¿¡æ¯è¿åç»æ¡æ¶\n            //æ¡æ¶ä¼è¿è¡å¯ç æ¯å¯¹(é¡µé¢ä¸æ°æ®åºä¸­æ¥è¯¢çå¯ç å¯¹æ¯)\n            ArrayList<GrantedAuthority> list = new ArrayList<>();\n            //ä¸ºå½åç»å½ç¨æ·ææ åææ¹ä¸ºæ°æ®åºä¸­å¯¹åºçæé\n            list.add(new SimpleGrantedAuthority("permission_A"));//ææ\n            list.add(new SimpleGrantedAuthority("permission_B"));\n            list.add(new SimpleGrantedAuthority("ROLE_ADMIN"));//æäºè§è²\n            org.springframework.security.core.userdetails.User security = new org.springframework.security.core.userdetails.User(s, user.getPassword(), list);\n    \n            //è¿å\n            return security;\n    \n        }\n    }\n    \n    \n    \n    1\n    2\n    3\n    4\n    5\n    6\n    7\n    8\n    9\n    10\n    11\n    12\n    13\n    14\n    15\n    16\n    17\n    18\n    19\n    20\n    21\n    22\n    23\n    24\n    25\n    26\n    27\n    28\n    29\n    30\n    31\n    32\n    33\n    34\n    35\n    36\n    37\n    38\n    39\n    40\n    41\n    42\n    43\n    44\n    45\n    46\n    47\n    48\n    49\n    50\n    51\n    52\n    53\n    54\n    55\n    56\n    57\n    58\n    59\n    60\n    61\n    62\n    63\n    \n\n\n# éç½®å¤ç§æ ¡éªè§å\n\nä¿®æ¹spring-security.xmlæä»¶ï¼\n\n\x3c!--åªè¦è®¤è¯éè¿å°±å¯ä»¥è®¿é®--\x3e\n<security:intercept-url pattern="/index.jsp"  access="isAuthenticated()" />\n<security:intercept-url pattern="/a.html"  access="isAuthenticated()" />\n\n\x3c!--æ¥æaddæéå°±å¯ä»¥è®¿é®b.htmlé¡µé¢--\x3e\n<security:intercept-url pattern="/b.html"  access="hasAuthority(\'add\')" />\n\n\x3c!--æ¥æROLE_ADMINè§è²å°±å¯ä»¥è®¿é®c.htmlé¡µé¢--\x3e\n<security:intercept-url pattern="/c.html"  access="hasRole(\'ROLE_ADMIN\')" />\n\n\x3c!--æ¥æROLE_ADMINè§è²å°±å¯ä»¥è®¿é®d.htmlé¡µé¢ï¼\n    æ³¨æï¼æ­¤å¤è½ç¶åçæ¯ADMINè§è²ï¼æ¡æ¶ä¼èªå¨å ä¸åç¼ROLE_--\x3e\n<security:intercept-url pattern="/d.html"  access="hasRole(\'ADMIN\')" />\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n\n\n\n# æ³¨è§£æéæ§å¶\n\n 1. å¨spring-security.xmlæä»¶ä¸­éç½®ç»ä»¶æ«æï¼ç¨äºæ«æController\n    \n    <mvc:annotation-driven></mvc:annotation-driven>\n    <context:component-scan base-package="com.itheima.controller"></context:component-scan>\n    \n    \n    1\n    2\n    \n\n 2. å¨spring-security.xmlæä»¶ä¸­å¼å¯æéæ³¨è§£æ¯æ\n    \n    \x3c!--å¼å¯æ³¨è§£æ¹å¼æéæ§å¶--\x3e\n    <security:global-method-security pre-post-annotations="enabled" />\n    \n    \n    1\n    2\n    \n\n 3. åå»ºControllerç±»å¹¶å¨Controllerçæ¹æ³ä¸å å¥æ³¨è§£è¿è¡æéæ§å¶ @PreAuthorize()\n    \n    package com.itheima.controller;\n    \n    import org.springframework.security.access.prepost.PreAuthorize;\n    import org.springframework.web.bind.annotation.RestController;\n    import org.springframework.web.bind.annotation.RequestMapping;\n    \n    @RestController\n    @RequestMapping("/hello")\n    public class HelloController {\n        @RequestMapping("/add")\n        @PreAuthorize("hasAuthority(\'add\')")//è¡¨ç¤ºç¨æ·å¿é¡»æ¥æaddæéæè½è°ç¨å½åæ¹æ³\n        public String add(){\n            System.out.println("add...");\n            return "success";\n        }\n    \n        @RequestMapping("/delete")\n        @PreAuthorize("hasRole(\'ROLE_ADMIN\')")//è¡¨ç¤ºç¨æ·å¿é¡»æ¥æROLE_ADMINè§è²æè½è°ç¨å½åæ¹æ³\n        public String delete(){\n            System.out.println("delete...");\n            return "success";\n        }\n    }\n    \n    \n    1\n    2\n    3\n    4\n    5\n    6\n    7\n    8\n    9\n    10\n    11\n    12\n    13\n    14\n    15\n    16\n    17\n    18\n    19\n    20\n    21\n    22\n    23\n    \n\n\n# éåºç»é\n\nå¨spring-security.xmlæä»¶ éç½® ä¸ºsecurity:httpå­æ ç­¾\n\n\x3c!--\n  logoutï¼éåºç»å½\n  logout-urlï¼éåºç»å½æä½å¯¹åºçè¯·æ±è·¯å¾\n  logout-success-urlï¼éåºç»å½åçè·³è½¬é¡µé¢\n--\x3e\n<security:logout logout-url="/logout.do" \n                 logout-success-url="/login.html" invalidate-session="true"/>\n\n\n1\n2\n3\n4\n5\n6\n7\n',normalizedContent:'# spring security\n\nspring securityæ¯ springæä¾çå®å¨è®¤è¯æå¡çæ¡æ¶ã ä½¿ç¨spring securityå¯ä»¥å¸®å©æä»¬æ¥ç®åè®¤è¯åææçè¿ç¨ãå®ç½ï¼https://spring.io/projects/spring-security\n\nå¸¸ç¨çæéæ¡æ¶é¤äºspring securityï¼è¿æapacheçshiroæ¡æ¶ã\n\n\n# å¥é¨æ¡ä¾\n\nåæ \n\n<dependency>\n  <groupid>org.springframework.security</groupid>\n  <artifactid>spring-security-web</artifactid>\n  <version>5.0.5.release</version>\n</dependency>\n<dependency>\n  <groupid>org.springframework.security</groupid>\n  <artifactid>spring-security-config</artifactid>\n  <version>5.0.5.release</version>\n</dependency>\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n\n\néç½®web.xml\n\n<!doctype web-app public\n        "-//sun microsystems, inc.//dtd web application 2.3//en"\n        "://java.sun.com/dtd/web-app_2_3.dtd" >\n<web-app>\n  <display-name>archetype created web application</display-name>\n  <filter>\n    \x3c!--\n      delegatingfilterproxyç¨äºæ´åç¬¬ä¸æ¹æ¡æ¶\n      æ´åspring securityæ¶è¿æ»¤å¨çåç§°å¿é¡»ä¸ºspringsecurityfilterchainï¼\n      å¦åä¼æåºnosuchbeandefinitionexceptionå¼å¸¸\n    --\x3e\n    <filter-name>springsecurityfilterchain</filter-name>\n    <filter-class>org.springframework.web.filter.delegatingfilterproxy</filter-class>\n  </filter>\n  <filter-mapping>\n    <filter-name>springsecurityfilterchain</filter-name>\n    <url-pattern>/*</url-pattern>\n  </filter-mapping>\n  <servlet>\n    <servlet-name>springmvc</servlet-name>\n    <servlet-class>org.springframework.web.servlet.dispatcherservlet</servlet-class>\n    \x3c!-- æå®å è½½çéç½®æä»¶ ï¼éè¿åæ°contextconfiglocationå è½½ --\x3e\n    <init-param>\n      <param-name>contextconfiglocation</param-name>\n      <param-value>classpath:spring-security.xml</param-value>\n    </init-param>\n    <load-on-startup>1</load-on-startup>\n  </servlet>\n  <servlet-mapping>\n    <servlet-name>springmvc</servlet-name>\n    <url-pattern>*.do</url-pattern>\n  </servlet-mapping>\n\n</web-app>\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n26\n27\n28\n29\n30\n31\n32\n33\n34\n\n\néç½®spring-security.xml\n\n<?xml version="1.0" encoding="utf-8"?>\n<beans xmlns="http://www.springframework.org/schema/beans"\n       xmlns:xsi="http://www.w3.org/2001/xmlschema-instance"\n       xmlns:context="http://www.springframework.org/schema/context"\n       xmlns:dubbo="http://code.alibabatech.com/schema/dubbo"\n       xmlns:mvc="http://www.springframework.org/schema/mvc"\n       xmlns:security="http://www.springframework.org/schema/security"\n       xsi:schemalocation="http://www.springframework.org/schema/beans\n                        http://www.springframework.org/schema/beans/spring-beans.xsd\n                        http://www.springframework.org/schema/mvc\n                        http://www.springframework.org/schema/mvc/spring-mvc.xsd\n                        http://code.alibabatech.com/schema/dubbo\n                        http://code.alibabatech.com/schema/dubbo/dubbo.xsd\n                        http://www.springframework.org/schema/context\n                        http://www.springframework.org/schema/context/spring-context.xsd\n                          http://www.springframework.org/schema/security\n                          http://www.springframework.org/schema/security/spring-security.xsd">\n\n    \x3c!--\n        httpï¼ç¨äºå®ä¹ç¸å³æéæ§å¶\n        auto-configï¼æ¯å¦èªå¨éç½®\n                        è®¾ç½®ä¸ºtrueæ¶æ¡æ¶ä¼æä¾é»è®¤çä¸äºéç½®ï¼ä¾å¦æä¾é»è®¤çç»å½é¡µé¢ãç»åºå¤çç­\n                        è®¾ç½®ä¸ºfalseæ¶éè¦æ¾ç¤ºæä¾ç»å½è¡¨åéç½®ï¼å¦åä¼æ¥é\n        use-expressionsï¼ç¨äºæå®intercept-urlä¸­çaccesså±æ§æ¯å¦ä½¿ç¨è¡¨è¾¾å¼æ¥æè¿°æé\n    --\x3e\n    <security:http auto-config="true" use-expressions="true">\n        \x3c!--\n            intercept-urlï¼å®ä¹ä¸ä¸ªæ¦æªè§å\n            patternï¼å¯¹åªäºurlè¿è¡æéæ§å¶   /**è¡¨ç¤ºæ¦æªææè¯·æ±  /*åªè½ æ¦æª/a.html /b.html æ æ³é»è¾ /a/b/c.html\n            accessï¼å¨è¯·æ±å¯¹åºçurlæ¶éè¦ä»ä¹æéï¼é»è®¤éç½®æ¶å®åºè¯¥æ¯ä¸ä¸ªä»¥éå·åéçè§è²åè¡¨ï¼\n                  è¯·æ±çç¨æ·åªéæ¥æå¶ä¸­çä¸ä¸ªè§è²å°±è½æåè®¿é®å¯¹åºçurl\n                  æå®æéçè®¿é®è§è²æèè®¿é®æé   hasrole()ä¸ºè¡¨è¾¾å¼  å¦æè¡¨è¾¾å¼æ²¡æå¼å¯åå¼ç´æ¥ä¸ºè§è²åç§°\n        --\x3e\n        <security:intercept-url pattern="/**"  access="hasrole(\'role_admin\')" />\n    </security:http>\n\n    \x3c!--\n        authentication-managerï¼è®¤è¯ç®¡çå¨ï¼ç¨äºå¤çè®¤è¯æä½\n    --\x3e\n    <security:authentication-manager>\n        \x3c!--\n            authentication-providerï¼è®¤è¯æä¾èï¼æ§è¡å·ä½çè®¤è¯é»è¾\n        --\x3e\n        <security:authentication-provider>\n            \x3c!--\n                user-serviceï¼ç¨äºè·åç¨æ·ä¿¡æ¯ï¼æä¾ç»authentication-providerè¿è¡è®¤è¯\n            --\x3e\n            <security:user-service>\n                \x3c!--\n                    userï¼å®ä¹ç¨æ·ä¿¡æ¯ï¼å¯ä»¥æå®ç¨æ·åãå¯ç ãè§è²ï¼åæå¯ä»¥æ¹ä¸ºä»æ°æ®åºæ¥è¯¢ç¨æ·ä¿¡æ¯\n                  {noop}ï¼è¡¨ç¤ºå½åä½¿ç¨çå¯ç ä¸ºææ\n                --\x3e\n                <security:user name="admin" password="{noop}1234" authorities="role_admin"/>\n            </security:user-service>\n        </security:authentication-provider>\n    </security:authentication-manager>\n</beans>\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n26\n27\n28\n29\n30\n31\n32\n33\n34\n35\n36\n37\n38\n39\n40\n41\n42\n43\n44\n45\n46\n47\n48\n49\n50\n51\n52\n53\n54\n55\n56\n57\n\n\n\n# éç½®å¯å¿åè®¿é®çèµæº\n\nç¬¬ä¸æ­¥ï¼å¨é¡¹ç®ä¸­åå»ºpagesç®å½ï¼å¨pagesç®å½ä¸­åå»ºa.htmlåb.html\n\nç¬¬äºæ­¥ï¼å¨spring-security.xmlæä»¶ä¸­éç½®ï¼æå®åªäºèµæºå¯ä»¥å¿åè®¿é®\n\n    \x3c!--    éç½®èµæºå¿åè®¿é®\n\t httpï¼ç¨äºå®ä¹ç¸å³æéæ§å¶\n  æå®åªäºèµæºä¸éè¦è¿è¡æéæ ¡éªï¼å¯ä»¥ä½¿ç¨ééç¬¦\n--\x3e\n    <security:http security="none" pattern="/pages/a.html"/>\n    <security:http security="none" pattern="/pages/b.html"/>\n    <security:http security="none" pattern="/pages/**"/>\n\n\n1\n2\n3\n4\n5\n6\n7\n\n\n\n# æå®ç»éé¡µé¢\n\nspring security æ¡æ¶é»è®¤æä¾äºç»éé¡µé¢ç»æä»¬,æä»¬éè¦èªå®ä¹ä¸ºèªå·±çç»éé¡µé¢\n\n 1. éç½®å¿åè®¿é®\n    \n    <security:http security="none" pattern="/login.html" />\n    \n    \n    1\n    \n\n 2. ä¿®æ¹spring-security.xmlæä»¶ï¼å å¥è¡¨åç»å½ä¿¡æ¯çéç½® ä¸ºsecurity:httpå­æ ç­¾\n    \n      \x3c!--\n      form-loginï¼å®ä¹è¡¨åç»å½ä¿¡æ¯\n      login-page:ç»éé¡µé¢\n      username-parameter:ç¨æ·è¾å¥æ¡å¯¹åºçname\n      password-parameter:å¯ç è¾å¥æ¡å¯¹åºçname\n      login-processing-url:æäº¤å°å\n      default-target-url:æååé»è®¤è·³è½¬å°å\n      authentication-failure-url:å¤±è´¥åè·³è½¬é¡µé¢\n    --\x3e\n            <security:form-login login-page="/login.html"\n                                 username-parameter="username"\n                                 password-parameter="password"\n                                 login-processing-url="/login.do"\n                                 default-target-url="/index.html"\n                                 authentication-failure-url="/login.html"/>\n    \n    \n    1\n    2\n    3\n    4\n    5\n    6\n    7\n    8\n    9\n    10\n    11\n    12\n    13\n    14\n    15\n    \n\n 3. ä¿®æ¹spring-security.xmlæä»¶ï¼å³é­csrffilterè¿æ»¤å¨ ä¸ºsecurity:httpå­æ ç­¾\n    \n    \x3c!--\n      csrfï¼å¯¹åºcsrffilterè¿æ»¤å¨\n      disabledï¼æ¯å¦å¯ç¨csrffilterè¿æ»¤å¨ï¼å¦æä½¿ç¨èªå®ä¹ç»å½é¡µé¢éè¦å³é­æ­¤é¡¹ï¼å¦åç»å½æä½ä¼è¢«ç¦ç¨ï¼403ï¼\n    --\x3e\n    <security:csrf disabled="true"></security:csrf>\n    \n    \n    1\n    2\n    3\n    4\n    5\n    \n\n\n# ä»æ°æ®åºæ¥è¯¢ç¨æ·ä¿¡æ¯\n\nå®ç°userdetailsserviceæ¥å£ å®ç°loaduserbyusernameæ¹æ³ è·åå°ç¨æ·å\n\npackage com.itheima.service;\n\nimport com.itheima.pojo.user;\nimport org.springframework.security.core.grantedauthority;\nimport org.springframework.security.core.authority.simplegrantedauthority;\nimport org.springframework.security.core.userdetails.userdetails;\nimport org.springframework.security.core.userdetails.userdetailsservice;\nimport org.springframework.security.core.userdetails.usernamenotfoundexception;\n\nimport java.util.arraylist;\nimport java.util.hashmap;\nimport java.util.map;\n\npublic class springsecurityuserservice implements userdetailsservice {\n    //æ¨¡ææ°æ®åºä¸­çç¨æ·æ°æ®\n    public static map<string, user> map = new hashmap<>();\n\n    static {\n        com.itheima.pojo.user user1 = new com.itheima.pojo.user();\n        user1.setusername("admin");\n        user1.setpassword("admin");\n\n        com.itheima.pojo.user user2 = new com.itheima.pojo.user();\n        user2.setusername("xiaoming");\n        user2.setpassword("1234");\n\n        map.put(user1.getusername(), user1);\n        map.put(user2.getusername(), user2);\n    }\n\n\n    //æ ¹æ®ç¨æ·åæ¥è¯¢ç¨æ·ä¿¡æ¯\n    @override\n    public userdetails loaduserbyusername(string s) throws usernamenotfoundexception {\n        system.out.println(s);\n        //æ ¹æ®ç¨æ·åæ¥è¯¢æ°æ®åºè·åç¨æ·ä¿¡æ¯(åå«æ°æ®åºä¸­çä¿¡æ¯)\n        user user = map.get(s);\n        if (user == null) {\n            //ç¨æ·åä¸å­å¨\n            return null;\n        }\n\n        //å°ç¨æ·ä¿¡æ¯è¿åç»æ¡æ¶\n        //æ¡æ¶ä¼è¿è¡å¯ç æ¯å¯¹(é¡µé¢ä¸æ°æ®åºä¸­æ¥è¯¢çå¯ç å¯¹æ¯)\n        arraylist<grantedauthority> list = new arraylist<>();\n        //ä¸ºå½åç»å½ç¨æ·ææ åææ¹ä¸ºæ°æ®åºä¸­å¯¹åºçæé\n        list.add(new simplegrantedauthority("permission_a"));//ææ\n        list.add(new simplegrantedauthority("permission_b"));\n        list.add(new simplegrantedauthority("role_admin"));//æäºè§è²\n        org.springframework.security.core.userdetails.user security = new org.springframework.security.core.userdetails.user(s, "{noop}" + user.getpassword(), list);\n\n        //è¿å\n        return security;\n\n    }\n}\n\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n26\n27\n28\n29\n30\n31\n32\n33\n34\n35\n36\n37\n38\n39\n40\n41\n42\n43\n44\n45\n46\n47\n48\n49\n50\n51\n52\n53\n54\n55\n56\n57\n\n\nbean ç»å®\n\n \x3c!--\n        authentication-managerï¼è®¤è¯ç®¡çå¨ï¼ç¨äºå¤çè®¤è¯æä½\n    --\x3e\n    <security:authentication-manager>\n        \x3c!--\n            authentication-providerï¼è®¤è¯æä¾èï¼æ§è¡å·ä½çè®¤è¯é»è¾\n\t\t\tuser-service-ref ä¸ºuserå®ç°ç±»çbeanid\n        --\x3e\n        <security:authentication-provider user-service-ref="userservice">\n        </security:authentication-provider>\n    </security:authentication-manager>\n\n    <bean id="userservice" class="com.itheima.service.springsecurityuserservice"></bean>\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n\n\n\n# å¯ç å å¯\n\nåé¢æä»¬ä½¿ç¨çå¯ç é½æ¯ææçï¼è¿æ¯éå¸¸ä¸å®å¨çãä¸è¬æåµä¸ç¨æ·çå¯ç éè¦è¿è¡å å¯ååä¿å­å°æ°æ®åºä¸­ã\n\nå¸¸è§çå¯ç å å¯æ¹å¼æï¼\n\n3desãaesãdesï¼ä½¿ç¨å¯¹ç§°å å¯ç®æ³ï¼å¯ä»¥éè¿è§£å¯æ¥è¿ååºåå§å¯ç \n\nmd5ãsha1ï¼ä½¿ç¨ååhashç®æ³ï¼æ æ³éè¿è®¡ç®è¿ååºåå§å¯ç ï¼ä½æ¯å¯ä»¥å»ºç«å½©è¹è¡¨è¿è¡æ¥è¡¨ç ´è§£\n\nbcryptï¼å°saltéæºå¹¶æ··å¥æç»å å¯åçå¯ç ï¼éªè¯æ¶ä¹æ éåç¬æä¾ä¹åçsaltï¼ä»èæ éåç¬å¤çsalté®é¢\n\n 1. å¨spring-security.xmlæä»¶ä¸­æå®å¯ç å å¯å¯¹è±¡\n    \n        <security:authentication-manager>\n    \t\t\t\x3c!--è¿½å  --\x3e\n                <security:password-encoder ref="passwordencoder"/>\n            </security:authentication-provider>\n        </security:authentication-manager>\n    \n    \n    \x3c!--éç½®å¯ç å å¯å¯¹è±¡--\x3e\n    <bean id="passwordencoder" \n          class="org.springframework.security.crypto.bcrypt.bcryptpasswordencoder" />\n    \n    \x3c!--è®¤è¯ç®¡çå¨ï¼ç¨äºå¤çè®¤è¯æä½--\x3e\n    <security:authentication-manager>\n      \x3c!--è®¤è¯æä¾èï¼æ§è¡å·ä½çè®¤è¯é»è¾--\x3e\n      <security:authentication-provider user-service-ref="userservice">\n        \x3c!--æå®å¯ç å å¯ç­ç¥--\x3e\n        <security:password-encoder ref="passwordencoder" />\n      </security:authentication-provider>\n    </security:authentication-manager>\n    \x3c!--å¼å¯springæ³¨è§£ä½¿ç¨--\x3e\n    <context:annotation-config></context:annotation-config>\n    \n    \n    1\n    2\n    3\n    4\n    5\n    6\n    7\n    8\n    9\n    10\n    11\n    12\n    13\n    14\n    15\n    16\n    17\n    18\n    19\n    20\n    21\n    \n\n 2. ä¿®æ¹userserviceå®ç°ç±»\n    \n    package com.itheima.service;\n    \n    import com.itheima.pojo.user;\n    import org.springframework.beans.factory.annotation.autowired;\n    import org.springframework.security.core.grantedauthority;\n    import org.springframework.security.core.authority.simplegrantedauthority;\n    import org.springframework.security.core.userdetails.userdetails;\n    import org.springframework.security.core.userdetails.userdetailsservice;\n    import org.springframework.security.core.userdetails.usernamenotfoundexception;\n    import org.springframework.security.crypto.bcrypt.bcryptpasswordencoder;\n    \n    import java.util.arraylist;\n    import java.util.hashmap;\n    import java.util.map;\n    \n    public class springsecurityuserservice2 implements userdetailsservice {\n        @autowired\n        private bcryptpasswordencoder passwordencoder;\n    \n        //æ¨¡ææ°æ®åºä¸­çç¨æ·æ°æ®\n        public map<string, user> map = new hashmap<>();\n    \n        public void inituserdate() {\n            user user1 = new user();\n            user1.setusername("admin");\n            user1.setpassword(passwordencoder.encode("admin"));  //ä½¿ç¨bcryptè¿è¡å å¯\n    \n            user user2 = new user();\n            user2.setusername("xiaoming");\n            user2.setpassword(passwordencoder.encode("1234"));\n    \n            map.put(user1.getusername(), user1);\n            map.put(user2.getusername(), user2);\n        }\n    \n    \n        //æ ¹æ®ç¨æ·åæ¥è¯¢ç¨æ·ä¿¡æ¯\n        @override\n        public userdetails loaduserbyusername(string s) throws usernamenotfoundexception {\n            inituserdate();\n            system.out.println(s);\n            //æ ¹æ®ç¨æ·åæ¥è¯¢æ°æ®åºè·åç¨æ·ä¿¡æ¯(åå«æ°æ®åºä¸­çä¿¡æ¯)\n            user user = map.get(s);\n            if (user == null) {\n                //ç¨æ·åä¸å­å¨\n                return null;\n            }\n    \n            //å°ç¨æ·ä¿¡æ¯è¿åç»æ¡æ¶\n            //æ¡æ¶ä¼è¿è¡å¯ç æ¯å¯¹(é¡µé¢ä¸æ°æ®åºä¸­æ¥è¯¢çå¯ç å¯¹æ¯)\n            arraylist<grantedauthority> list = new arraylist<>();\n            //ä¸ºå½åç»å½ç¨æ·ææ åææ¹ä¸ºæ°æ®åºä¸­å¯¹åºçæé\n            list.add(new simplegrantedauthority("permission_a"));//ææ\n            list.add(new simplegrantedauthority("permission_b"));\n            list.add(new simplegrantedauthority("role_admin"));//æäºè§è²\n            org.springframework.security.core.userdetails.user security = new org.springframework.security.core.userdetails.user(s, user.getpassword(), list);\n    \n            //è¿å\n            return security;\n    \n        }\n    }\n    \n    \n    \n    1\n    2\n    3\n    4\n    5\n    6\n    7\n    8\n    9\n    10\n    11\n    12\n    13\n    14\n    15\n    16\n    17\n    18\n    19\n    20\n    21\n    22\n    23\n    24\n    25\n    26\n    27\n    28\n    29\n    30\n    31\n    32\n    33\n    34\n    35\n    36\n    37\n    38\n    39\n    40\n    41\n    42\n    43\n    44\n    45\n    46\n    47\n    48\n    49\n    50\n    51\n    52\n    53\n    54\n    55\n    56\n    57\n    58\n    59\n    60\n    61\n    62\n    63\n    \n\n\n# éç½®å¤ç§æ ¡éªè§å\n\nä¿®æ¹spring-security.xmlæä»¶ï¼\n\n\x3c!--åªè¦è®¤è¯éè¿å°±å¯ä»¥è®¿é®--\x3e\n<security:intercept-url pattern="/index.jsp"  access="isauthenticated()" />\n<security:intercept-url pattern="/a.html"  access="isauthenticated()" />\n\n\x3c!--æ¥æaddæéå°±å¯ä»¥è®¿é®b.htmlé¡µé¢--\x3e\n<security:intercept-url pattern="/b.html"  access="hasauthority(\'add\')" />\n\n\x3c!--æ¥ærole_adminè§è²å°±å¯ä»¥è®¿é®c.htmlé¡µé¢--\x3e\n<security:intercept-url pattern="/c.html"  access="hasrole(\'role_admin\')" />\n\n\x3c!--æ¥ærole_adminè§è²å°±å¯ä»¥è®¿é®d.htmlé¡µé¢ï¼\n    æ³¨æï¼æ­¤å¤è½ç¶åçæ¯adminè§è²ï¼æ¡æ¶ä¼èªå¨å ä¸åç¼role_--\x3e\n<security:intercept-url pattern="/d.html"  access="hasrole(\'admin\')" />\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n\n\n\n# æ³¨è§£æéæ§å¶\n\n 1. å¨spring-security.xmlæä»¶ä¸­éç½®ç»ä»¶æ«æï¼ç¨äºæ«æcontroller\n    \n    <mvc:annotation-driven></mvc:annotation-driven>\n    <context:component-scan base-package="com.itheima.controller"></context:component-scan>\n    \n    \n    1\n    2\n    \n\n 2. å¨spring-security.xmlæä»¶ä¸­å¼å¯æéæ³¨è§£æ¯æ\n    \n    \x3c!--å¼å¯æ³¨è§£æ¹å¼æéæ§å¶--\x3e\n    <security:global-method-security pre-post-annotations="enabled" />\n    \n    \n    1\n    2\n    \n\n 3. åå»ºcontrollerç±»å¹¶å¨controllerçæ¹æ³ä¸å å¥æ³¨è§£è¿è¡æéæ§å¶ @preauthorize()\n    \n    package com.itheima.controller;\n    \n    import org.springframework.security.access.prepost.preauthorize;\n    import org.springframework.web.bind.annotation.restcontroller;\n    import org.springframework.web.bind.annotation.requestmapping;\n    \n    @restcontroller\n    @requestmapping("/hello")\n    public class hellocontroller {\n        @requestmapping("/add")\n        @preauthorize("hasauthority(\'add\')")//è¡¨ç¤ºç¨æ·å¿é¡»æ¥æaddæéæè½è°ç¨å½åæ¹æ³\n        public string add(){\n            system.out.println("add...");\n            return "success";\n        }\n    \n        @requestmapping("/delete")\n        @preauthorize("hasrole(\'role_admin\')")//è¡¨ç¤ºç¨æ·å¿é¡»æ¥ærole_adminè§è²æè½è°ç¨å½åæ¹æ³\n        public string delete(){\n            system.out.println("delete...");\n            return "success";\n        }\n    }\n    \n    \n    1\n    2\n    3\n    4\n    5\n    6\n    7\n    8\n    9\n    10\n    11\n    12\n    13\n    14\n    15\n    16\n    17\n    18\n    19\n    20\n    21\n    22\n    23\n    \n\n\n# éåºç»é\n\nå¨spring-security.xmlæä»¶ éç½® ä¸ºsecurity:httpå­æ ç­¾\n\n\x3c!--\n  logoutï¼éåºç»å½\n  logout-urlï¼éåºç»å½æä½å¯¹åºçè¯·æ±è·¯å¾\n  logout-success-urlï¼éåºç»å½åçè·³è½¬é¡µé¢\n--\x3e\n<security:logout logout-url="/logout.do" \n                 logout-success-url="/login.html" invalidate-session="true"/>\n\n\n1\n2\n3\n4\n5\n6\n7\n',charsets:{cjk:!0},lastUpdated:"2022/03/18, 07:01:11",lastUpdatedTimestamp:1647558071e3},{title:"Zookeeper",frontmatter:{title:"Zookeeper",date:"2022-03-18T00:51:47.000Z",permalink:"/pages/7bc195/",categories:["åç«¯","JavaEE"],tags:[null]},regularPath:"/%E5%90%8E%E7%AB%AF/02.JavaEE/11.Zookeeper.html",relativePath:"åç«¯/02.JavaEE/11.Zookeeper.md",key:"v-43b009de",path:"/pages/7bc195/",headers:[{level:2,title:"å®è£",slug:"å®è£",normalizedTitle:"å®è£",charIndex:113},{level:2,title:"æ°æ®æ¨¡å",slug:"æ°æ®æ¨¡å",normalizedTitle:"æ°æ®æ¨¡å",charIndex:429},{level:2,title:"æå¡ç«¯å¸¸ç¨å½ä»¤",slug:"æå¡ç«¯å¸¸ç¨å½ä»¤",normalizedTitle:"æå¡ç«¯å¸¸ç¨å½ä»¤",charIndex:440},{level:2,title:"å®¢æ·ç«¯å¸¸ç¨å½ä»¤",slug:"å®¢æ·ç«¯å¸¸ç¨å½ä»¤",normalizedTitle:"å®¢æ·ç«¯å¸¸ç¨å½ä»¤",charIndex:570},{level:2,title:"Curator",slug:"curator",normalizedTitle:"curator",charIndex:846},{level:3,title:"è·åå®¢æ·ç«¯",slug:"è·åå®¢æ·ç«¯",normalizedTitle:"è·åå®¢æ·ç«¯",charIndex:2488},{level:3,title:"å³é­å®¢æ·ç«¯",slug:"å³é­å®¢æ·ç«¯",normalizedTitle:"å³é­å®¢æ·ç«¯",charIndex:3149},{level:3,title:"åå»ºèç¹",slug:"åå»ºèç¹",normalizedTitle:"åå»ºèç¹",charIndex:3182},{level:3,title:"æ¥è¯¢èç¹",slug:"æ¥è¯¢èç¹",normalizedTitle:"æ¥è¯¢èç¹",charIndex:3635},{level:3,title:"ä¿®æ¹èç¹",slug:"ä¿®æ¹èç¹",normalizedTitle:"ä¿®æ¹èç¹",charIndex:4002},{level:3,title:"å é¤èç¹",slug:"å é¤èç¹",normalizedTitle:"å é¤èç¹",charIndex:4411},{level:3,title:"Watchäºä»¶çå¬",slug:"watchäºä»¶çå¬",normalizedTitle:"watchäºä»¶çå¬",charIndex:4924},{level:3,title:"NodeCache",slug:"nodecache",normalizedTitle:"nodecache",charIndex:5141},{level:3,title:"PathChildrenCache",slug:"pathchildrencache",normalizedTitle:"pathchildrencache",charIndex:5167},{level:3,title:"TreeCache",slug:"treecache",normalizedTitle:"treecache",charIndex:5202},{level:2,title:"åå¸å¼é",slug:"åå¸å¼é",normalizedTitle:"åå¸å¼é",charIndex:99},{level:3,title:"Zookeeperåå¸å¼éåç",slug:"zookeeperåå¸å¼éåç",normalizedTitle:"zookeeperåå¸å¼éåç",charIndex:7330},{level:2,title:"éç¾¤æ­å»º",slug:"éç¾¤æ­å»º",normalizedTitle:"éç¾¤æ­å»º",charIndex:8430},{level:3,title:"Leaderéä¸¾",slug:"leaderéä¸¾",normalizedTitle:"leaderéä¸¾",charIndex:9046},{level:2,title:"æ¨¡æéç¾¤å¼å¸¸",slug:"æ¨¡æéç¾¤å¼å¸¸",normalizedTitle:"æ¨¡æéç¾¤å¼å¸¸",charIndex:9172},{level:2,title:"éç¾¤è§è²",slug:"éç¾¤è§è²",normalizedTitle:"éç¾¤è§è²",charIndex:9438}],headersStr:"å®è£ æ°æ®æ¨¡å æå¡ç«¯å¸¸ç¨å½ä»¤ å®¢æ·ç«¯å¸¸ç¨å½ä»¤ Curator è·åå®¢æ·ç«¯ å³é­å®¢æ·ç«¯ åå»ºèç¹ æ¥è¯¢èç¹ ä¿®æ¹èç¹ å é¤èç¹ Watchäºä»¶çå¬ NodeCache PathChildrenCache TreeCache åå¸å¼é Zookeeperåå¸å¼éåç éç¾¤æ­å»º Leaderéä¸¾ æ¨¡æéç¾¤å¼å¸¸ éç¾¤è§è²",content:'# Zookeeper\n\nZookeeper æ¯ Apache Hadoop é¡¹ç®ä¸çä¸ä¸ªå­é¡¹ç® , æ¯ä¸ä¸ªæ å½¢ç®å½æå¡\n\næ¯ä¸ä¸ªåå¸å¼ å¼æºçåå¸å¼åºç¨ç¨åºçåè°æå¡\n\nä¸»è¦åè½åæ¬: éç½®ç®¡ç åå¸å¼é éç¾¤ç®¡ç\n\n\n# å®è£\n\ntar -zxvf /opt/software/apache-zookeeper-3.5.6-bin.tar.gz -C /opt/\nmv /opt/apache-zookeeper-3.5.6-bin /opt/zookeeper\nmkdir zkdata\ncd /opt/zookeeper/conf\ncp zoo_sample.cfg zoo.cfg\n\nvim zoo.cfg\n\n\n1\n2\n3\n4\n5\n6\n7\n\n\nä¿®æ¹å­å¨è·¯å¾\n\ndataDir=/opt/zookeeper/zkdata\n\n\n1\n\n\nå¯å¨\n\ncd /opt/zookeeper/bin/\n./zkServer.sh start\n\n\n1\n2\n\n\n\n# æ°æ®æ¨¡å\n\n\n\n\n# æå¡ç«¯å¸¸ç¨å½ä»¤\n\n#å¯å¨\n./zkServer.sh start\n#ç¶æ\n./zkServer.sh status\n#åæ­¢\n./zkServer.sh stop\n#éå¯\n./zkServer.sh restart\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n\n\n\n# å®¢æ·ç«¯å¸¸ç¨å½ä»¤\n\n#è¿æ¥  å¦ææ¯æ¬æºç´æ¥å¿½ç¥åé¢çåæ° å¿½ç¥è¿æ¥å¿é¡»ä¸ºé»è®¤ç«¯å£2181\n./zkCli.sh -server localhost:2181\n\n\n1\n2\n\n * create [èç¹ -e -s -es] è·¯å¾ [åå®¹] åå»ºæä»¶\n * get [èç¹] è·¯å¾ è·åæä»¶åå®¹\n * ls è·¯å¾ æ¥çè·¯å¾ä¸çæææä»¶\n * set [èç¹] è·¯å¾ åå®¹ ä¿®æ¹æä»¶åå®¹\n * delete [èç¹] è·¯å¾ å é¤æä»¶\n * deleteall [èç¹] è·¯å¾ å é¤è¯¥æä»¶å¤¹ä¸çæææä»¶\n * quit éåº\n * help å¸®å©\n\n\n\n\n# Curator\n\nZooKeeper å®¢æ·ç«¯åº\n\n * åçJava Api\n * ZkClient\n * Curator\n\nhttps://curator.apache.org/\n\nåæ \n\n<dependencies>\n\n        <dependency>\n            <groupId>junit</groupId>\n            <artifactId>junit</artifactId>\n            <version>4.10</version>\n            <scope>test</scope>\n        </dependency>\n\n        \x3c!--curator--\x3e\n        <dependency>\n            <groupId>org.apache.curator</groupId>\n            <artifactId>curator-framework</artifactId>\n            <version>4.0.0</version>\n        </dependency>\n\n        <dependency>\n            <groupId>org.apache.curator</groupId>\n            <artifactId>curator-recipes</artifactId>\n            <version>4.0.0</version>\n        </dependency>\n        \x3c!--æ¥å¿--\x3e\n        <dependency>\n            <groupId>org.slf4j</groupId>\n            <artifactId>slf4j-api</artifactId>\n            <version>1.7.21</version>\n        </dependency>\n\n        <dependency>\n            <groupId>org.slf4j</groupId>\n            <artifactId>slf4j-log4j12</artifactId>\n            <version>1.7.21</version>\n        </dependency>\n\n    </dependencies>\n\n\n    <build>\n        <plugins>\n            <plugin>\n                <groupId>org.apache.maven.plugins</groupId>\n                <artifactId>maven-compiler-plugin</artifactId>\n                <version>3.1</version>\n                <configuration>\n                    <source>1.8</source>\n                    <target>1.8</target>\n                </configuration>\n            </plugin>\n        </plugins>\n    </build>\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n26\n27\n28\n29\n30\n31\n32\n33\n34\n35\n36\n37\n38\n39\n40\n41\n42\n43\n44\n45\n46\n47\n48\n49\n50\n\n\n\n# è·åå®¢æ·ç«¯\n\n        //ç¬¬ä¸ç§æ¹å¼\n        ExponentialBackoffRetry retryPolicy = new ExponentialBackoffRetry(3000,10);\n        //å¤ä¸ªæå¡ç«¯ connectStringåæ° å°åç¨éå·éå¼  è¿æ¥è¶æ¶æ¶é´  ä¼è¯è¶æ¶æ¶é´  éè¯ç­ç¥\n        CuratorFramework client = CuratorFrameworkFactory.newClient("192.168.130.124:2181",\n                60 * 1000, 15 * 1000, retryPolicy);\n        client.start();  //å¼å¯è¿æ¥\n        client.close();\n        //ç¬¬äºç§æ¹å¼  namespaceä¸ºè®¾ç½®æ ¹èç¹è·¯å¾\n        client2 = CuratorFrameworkFactory.builder().connectString("192.168.130.124:2181").sessionTimeoutMs(60 * 1000).connectionTimeoutMs(15 * 1000).retryPolicy(retryPolicy).namespace("itheima").build();\n        client2.start();\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n\n\n\n# å³é­å®¢æ·ç«¯\n\nclient2.close();\n\n\n1\n\n\n\n# åå»ºèç¹\n\n//åå»ºèç¹  èç¹é»æä¹åçèç¹   åå®¹é»è®¤å°å½åå®¢æ·ç«¯ipä½ä¸ºåå®¹\nString path = client2.create().forPath("/app1");\nSystem.out.println(path);\n//å¸¦åå®¹åå»º\nclient2.create().forPath("/app2","hello".getBytes(StandardCharsets.UTF_8));\n//è®¾ç½®èç¹ç±»å  ä½¿ç¨withModeæ¹æ³ å¼ä¸ºä¸ä¸ªæä¸¾å¼\nclient2.create().withMode(CreateMode.EPHEMERAL).forPath("/app3");\n//åå»ºå¤çº§èç¹  creatingParentContainersIfNeededå¦æç¶èç¹ä¸å­å¨åèªå¨åå»º\nclient2.create().creatingParentContainersIfNeeded().forPath("/app4/p1");\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n\n\n\n# æ¥è¯¢èç¹\n\n//æ¥è¯¢èç¹\nbyte[] bytes = client2.getData().forPath("/app1");\nSystem.out.println(new String(bytes));\n\n//æ¥è¯¢å­èç¹\nList<String> path = client2.getChildren().forPath("/app4");\nSystem.out.println(path);\n\n//æ¥è¯¢èç¹ç¶æä¿¡æ¯  ls -s  éè¦ä¸ä¸ªStatç±»\nStat stat =new Stat();\nclient2.getData().storingStatIn(stat).forPath("/app1");\nSystem.out.println(stat);\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n\n\n\n# ä¿®æ¹èç¹\n\n//ä¿®æ¹åå®¹\nclient2.setData().forPath("/app1","hello".getBytes(StandardCharsets.UTF_8));\n//æ ¹æ®çæ¬ä¿®æ¹\nStat stat =new Stat();\nclient2.getData().storingStatIn(stat).forPath("/app1");\nSystem.out.println(stat);\nint version = stat.getVersion();\n//withVersion  æ¥è¯¢çæ¬ä¸ä¹åçæ¬æ¯å¦ç¸å ç¸ååä¿®æ¹ ä¸ç¸ååä¸æ§è¡\nclient2.setData().withVersion(version).forPath("/app1","hello world".getBytes(StandardCharsets.UTF_8));\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n\n\n\n# å é¤èç¹\n\n//å é¤èç¹\nclient2.delete().forPath("/app1");\n//å é¤å¸¦æå­èç¹çèç¹\nclient2.delete().deletingChildrenIfNeeded().forPath("/app4");\n//å¿é¡»å é¤æå\nclient2.delete().guaranteed().forPath("/app2");\n//åè°\nclient2.delete().guaranteed().inBackground(new BackgroundCallback() {\n    @Override\n    public void processResult(CuratorFramework curatorFramework, CuratorEvent curatorEvent) throws Exception {\n        //curatorEvent å­å¨å é¤åçä¿¡æ¯ å¦è·¯å¾ æ¯å¦æå\n        System.out.println(curatorEvent);\n    }\n});\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n\n\n\n# Watchäºä»¶çå¬\n\nZooKeeper åè®¸ç¨æ·å¨æå®èç¹ä¸æ³¨åä¸äºWatcher,å¹¶ä¸å¨ä¸äºç¹å®äºæè§¦åçæ¶å,ZooKeeperæå¡ç«¯ä¼å°äºä»¶éç¥å°æå´è¶£çå®¢æ·ç«¯ä¸å»,è¯¥æºå¶æ¯ZooKeeperå®ç°åå¸å¼åè°æå¡çéè¦ç¹å¾\n\nWatchæºå¶æ¥å®ç°äºåå¸/è®¢éåè½,è½å¤è®©å¤ä¸ªè®¢éèåæ¶çå¬æä¸ä¸ªå¯¹è±¡,å½ä¸ä¸ªå¯¹è±¡èªèº«ç¶æååæ¶,ä¼éç¥ææè®¢éè\n\nCuratorå¼å¥äºCacheæ¥å®ç°å¯¹ZooKeeperæå¡ç«¯äºä»¶ççå¬\n\n * NodeCache åªæ¯çå¬æä¸ä¸ªç¹ç¹çèç¹\n * PathChildrenCache çæ§ä¸ä¸ªZNdoeçå­èç¹\n * TreeCache å¯ä»¥çæ§æ´ä¸ªæ ä¸çææèç¹ ç±»ä¼¼äºNodeCache å PathChildrenCache ç»å\n\n\n# NodeCache\n\n//åå»ºNodeCacheå¯¹è±¡\nfinal NodeCache nodeCache = new NodeCache(client2, "/app1");\n//æ³¨åçå¬\nnodeCache.getListenable().addListener(new NodeCacheListener() {\n    @Override\n    public void nodeChanged() throws Exception {\n        System.out.println("èç¹åçåå");\n        //è·åä¿®æ¹èç¹åçæ°æ®\n        byte[] data = nodeCache.getCurrentData().getData();\n        System.out.println(new String(data));\n    }\n});\n\n//å¼å¯çå¬  å¦æä¸ºtrue åå¼å¯çå¬æ¶,å è½½ç¼å²æ°æ®\nnodeCache.start(true);\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n\n\nåçå¢å æ¹æä½é½ä¼è§¦åçå¬ å¹¶ä¸å½æ­¤æ¹æ³(çº¿ç¨)ç»æåä¸åçå¬ ä¸è¬æä»¬æç»­è®©æ­¤çº¿ç¨å­æ´»\n\n\n# PathChildrenCache\n\n//åå»ºçå¬å¨\nPathChildrenCache pathChildrenCache = new PathChildrenCache(client2,"/app2",true);\npathChildrenCache.getListenable().addListener(new PathChildrenCacheListener() {\n    @Override\n    public void childEvent(CuratorFramework curatorFramework, PathChildrenCacheEvent pathChildrenCacheEvent) throws Exception {\n        System.out.println("å­èç¹åçåå");\n        System.out.println(pathChildrenCacheEvent);\n        //çå¬å­èç¹çæ°æ®åæ´,å¹¶è·åå°å¯¹åºçæ°æ®\n        //1.è·åç±»å\n        PathChildrenCacheEvent.Type type = pathChildrenCacheEvent.getType();\n        //å¤æ­ç±»å\n        if (type.equals(PathChildrenCacheEvent.Type.CHILD_UPDATED)){\n            byte[] data = pathChildrenCacheEvent.getData().getData();\n            System.out.println(new String(data));\n        }\n\n    }\n});\npathChildrenCache.start();\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n\n\nå½åçè¿æ¥æ¶ childEventä¼æ§è¡ä¸æ¬¡ æä»¬å¯ä»¥éè¿typeæ¥å¤æ­\n\n\n# TreeCache\n\n//åå»ºçå¬å¨\nTreeCache treeCache = new TreeCache(client2, "/app2");\ntreeCache.getListenable().addListener(new TreeCacheListener() {\n    @Override\n    public void childEvent(CuratorFramework curatorFramework, TreeCacheEvent treeCacheEvent) throws Exception {\n        System.out.println("èç¹åçåå");\n        byte[] data = treeCacheEvent.getData().getData();\n        System.out.println(new String(data));\n    }\n});\ntreeCache.start();\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n\n\n\n# åå¸å¼é\n\nå¨ä»¥åæä»¬æ¶åå¹¶ååæ­¥çæ¶å,æä»¬å¾å¾éç¨synchronizedæèLockçæ¹å¼æ¥è§£å³å¤çº¿ç¨é´çä»£ç åæ­¥é®é¢,è¿æ¶å¤çº¿ç¨çè¿è¡é½æ¯å¨åä¸ä¸ªJVMä¹ä¸\n\næä»¬åå¸å¼éç¾¤å·¥ä½æ¶,å±äºå¤JVMä¸çå·¥ä½ç¯å¢,è·¨JVMä¹é´å·²ç»æ æ³éè¿å¤çº¿ç¨çéè§£å³åæ­¥é®é¢\n\nåå¸å¼é------å¤çè·¨æºå¨çè¿ç¨ä¹é´çæ°æ®åæ­¥é®é¢\n\n\n# Zookeeperåå¸å¼éåç\n\næ ¸å¿ææ³: å½å®¢æ·ç«¯è¦è·åé,ååå»ºèç¹,ä½¿ç¨å®é,åå é¤è¯¥èç¹\n\n 1. å®¢æ·ç«¯è·åéæ¶,å¨lockèç¹ä¸åå»ºä¸´æ¶é¡ºåºèç¹\n 2. ç¶åè·ålockä¸é¢çææå­èç¹,å®¢æ·ç«¯è·åå°ææçå­èç¹ä¹å,å¦æåç°èªå·±åå»ºçå­èç¹åºå·æå°,é£ä¹å°±ä»»å¡è¯¥å®¢æ·ç«¯è·åå°äºé.ä½¿ç¨å®éå,å°è¯¥èç¹å é¤\n 3. å¦æåç°èªå·±åå»ºçèç¹å¹¶élockææå­èç¹ä¸­æå°ç,è¯´æèªå·±è¿æ²¡æè·åå°é,æ­¤æ¶å®¢æ·ç«¯éè¦æ¾å°æ¯èªå·±å°çé£ä¸ªèç¹,åæ¶å¯¹å¶æ³¨åäºä»¶çå¬å¨,çå¬å é¤äºä»¶\n 4. å¦æåç°æ¯èªå·±å°çé£ä¸ªèç¹è¢«å é¤,åå®¢æ·ç«¯çWatcherä¼æ¶å°ç¸åºçéç¥,æ­¤æ¶åæ¬¡å¤æ­èªå·±åå»ºçèç¹æ¯å¦æ¯lockå­èç¹ä¸­åºå·æå°ç,å¦ææ¯åè·åå°äºé,å¦æä¸æ¯åéå¤ä»¥ä¸æ­¥éª¤ç»§ç»­è·åå°æ¯èªå·±å°çä¸ä¸ªèç¹å¹¶æ³¨åçå¬\n\n# Curator å®ç°åå¸å¼é\n\nå¨Curatorä¸­æäºç§éæ¹æ¡\n\n * InterProcessSemaphoreMutex åå¸å¼æå®é(éå¯éå¥é)\n * InterProcessMutex åå¸å¼å¯éå¥æå®é\n * InterProcessReadWriteLock åå¸å¼è¯»åé\n * InterProcessMultiLock å°å¤ä¸ªéä½ä¸ºåä¸ªå®ä½ç®¡ççå®¹å¨\n * InterProcessSemaphoreV2 å±äº«ä¿¡å·é\n\nè·åéå¯¹è±¡\n\nprivate InterProcessMutex lock;\n\npublic Ticket() {\n    ExponentialBackoffRetry retryPolicy = new ExponentialBackoffRetry(3000, 10);\n    CuratorFramework client = CuratorFrameworkFactory.builder().connectString("192.168.130.124:2181").sessionTimeoutMs(60 * 1000).connectionTimeoutMs(15 * 1000).retryPolicy(retryPolicy).namespace("itheima").build();\n    client.start();\n    lock = new InterProcessMutex(client, "lock");\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n\n\nè·åé\n\nlock.acquire(3, TimeUnit.SECONDS);\n\n\n1\n\n\néæ¾é\n\nlock.release();\n\n\n1\n\n\n\n# éç¾¤æ­å»º\n\nåå®è£ZooKeeper\n\nå¨æ¯ä¸ªZooKeeperçdataç®å½ä¸åå»ºä¸ä¸ªmyidæä»¶,åå®¹åå«æ¯1 2 3 è¿ä¸ªæä»¶å°±æ¯è®°å½æ¯ä¸ªæå¡å¨çID\n\n#1 \necho "1" > /opt/zookeeper/zkdata/myid\n\n#2\necho "2" > /opt/zookeeper/zkdata/myid\n\n#3\necho "2" > /opt/zookeeper/zkdata/myid\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n\n\néç½®æ¯ä¸å°çZooKeeper ç zoo.cfg\n\nvim /opt/zookeeper/conf/zoo.cfg\n\n\n1\n\n\næ·»å éç¾¤å°å ipåç«¯å£æ ¹æ®éç½®ä¿®æ¹ .åé¢ä¸º è®¾ç½®çmyid\n\nserver.1=realtime-1:2888:3888\nserver.2=realtime-2:2888:3888\nserver.3=realtime-3:2888:3888\n\n\n1\n2\n3\n\n\nserver.æå¡å¨ID=æå¡å¨IPå°å:æå¡å¨ä¹é´éè®¯ç«¯å£:æå¡å¨ä¹é´æç¥¨éä¸¾ç«¯å£\n\nå¯å¨éç¾¤\n\n#1\n./opt/zookeeper/bin/zkServer.sh start\n#2\n./opt/zookeeper/bin/zkServer.sh start\n#3\n./opt/zookeeper/bin/zkServer.sh start\n\n\n1\n2\n3\n4\n5\n6\n\n\n\n# Leaderéä¸¾\n\nServerid:æå¡å¨id ç¼å·è¶å¤§å¨éæ©ç®æ³çæéè¶å¤§\n\nZxid: æ°æ®id å¼è¶å¤§æ°æ®è¶æ° å¨éä¸¾ä¸­æ°æ®è¶æ° æéè¶å¤§\n\nå¦ææå°ZooKeeperè·å¾è¶è¿åæ°çéç¥¨ åæ­¤ZooKeeperå°±å¯ä»¥æä¸ºLeaderäº\n\n\n# æ¨¡æéç¾¤å¼å¸¸\n\nå³é­3å·éç¾¤\n\n./opt/zookeeper/bin/zkServer.sh stop\n\n\n1\n\n\n1å·å2å·ç¶ææ²¡æåå\n\nåå³é­1å·æºå¨\n\n./opt/zookeeper/bin/zkServer.sh stop\n\n\n1\n\n\næ­¤æ¶åªæ2å·æºå¨ å¹¶æ²¡æå³é­ ä½å¤äºä¼ç ç¶æ\n\nåæ1å·æºå¨éæ°å¯å¨\n\n./opt/zookeeper/bin/zkServer.sh start\n\n\n1\n\n\n2å·æºå¨éæ°è¿è¡,\n\nåæ3å·éæ°å¼å¯, ç¶ååæ2å·\n\næ­¤æ¶éæ°éä¸¾leader 3å·è¶è¿åæ°ç¥¨æä¸ºleader\n\n\n# éç¾¤è§è²\n\n * Leader é¢å¯¼è\n   1. å¤çäºå¡è¯·æ±\n   2. éç¾¤åé¨åæå¡å¨çè°åº¦è\n * Follower è·éè\n   1. å¤çå®¢æ·ç«¯éäºå¡è¯·æ±,è½¬åäºå¡è¯·æ±ç»Leaderæå¡å¨\n   2. åä¸Leaderéä¸¾æç¥¨\n * Observer è§å¯è\n   1. å¤çå®¢æ·ç«¯éäºå¡è¯·æ±,è½¬åäºå¡è¯·æ±ç»Leaderæå¡å¨\n\n',normalizedContent:'# zookeeper\n\nzookeeper æ¯ apache hadoop é¡¹ç®ä¸çä¸ä¸ªå­é¡¹ç® , æ¯ä¸ä¸ªæ å½¢ç®å½æå¡\n\næ¯ä¸ä¸ªåå¸å¼ å¼æºçåå¸å¼åºç¨ç¨åºçåè°æå¡\n\nä¸»è¦åè½åæ¬: éç½®ç®¡ç åå¸å¼é éç¾¤ç®¡ç\n\n\n# å®è£\n\ntar -zxvf /opt/software/apache-zookeeper-3.5.6-bin.tar.gz -c /opt/\nmv /opt/apache-zookeeper-3.5.6-bin /opt/zookeeper\nmkdir zkdata\ncd /opt/zookeeper/conf\ncp zoo_sample.cfg zoo.cfg\n\nvim zoo.cfg\n\n\n1\n2\n3\n4\n5\n6\n7\n\n\nä¿®æ¹å­å¨è·¯å¾\n\ndatadir=/opt/zookeeper/zkdata\n\n\n1\n\n\nå¯å¨\n\ncd /opt/zookeeper/bin/\n./zkserver.sh start\n\n\n1\n2\n\n\n\n# æ°æ®æ¨¡å\n\n\n\n\n# æå¡ç«¯å¸¸ç¨å½ä»¤\n\n#å¯å¨\n./zkserver.sh start\n#ç¶æ\n./zkserver.sh status\n#åæ­¢\n./zkserver.sh stop\n#éå¯\n./zkserver.sh restart\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n\n\n\n# å®¢æ·ç«¯å¸¸ç¨å½ä»¤\n\n#è¿æ¥  å¦ææ¯æ¬æºç´æ¥å¿½ç¥åé¢çåæ° å¿½ç¥è¿æ¥å¿é¡»ä¸ºé»è®¤ç«¯å£2181\n./zkcli.sh -server localhost:2181\n\n\n1\n2\n\n * create [èç¹ -e -s -es] è·¯å¾ [åå®¹] åå»ºæä»¶\n * get [èç¹] è·¯å¾ è·åæä»¶åå®¹\n * ls è·¯å¾ æ¥çè·¯å¾ä¸çæææä»¶\n * set [èç¹] è·¯å¾ åå®¹ ä¿®æ¹æä»¶åå®¹\n * delete [èç¹] è·¯å¾ å é¤æä»¶\n * deleteall [èç¹] è·¯å¾ å é¤è¯¥æä»¶å¤¹ä¸çæææä»¶\n * quit éåº\n * help å¸®å©\n\n\n\n\n# curator\n\nzookeeper å®¢æ·ç«¯åº\n\n * åçjava api\n * zkclient\n * curator\n\nhttps://curator.apache.org/\n\nåæ \n\n<dependencies>\n\n        <dependency>\n            <groupid>junit</groupid>\n            <artifactid>junit</artifactid>\n            <version>4.10</version>\n            <scope>test</scope>\n        </dependency>\n\n        \x3c!--curator--\x3e\n        <dependency>\n            <groupid>org.apache.curator</groupid>\n            <artifactid>curator-framework</artifactid>\n            <version>4.0.0</version>\n        </dependency>\n\n        <dependency>\n            <groupid>org.apache.curator</groupid>\n            <artifactid>curator-recipes</artifactid>\n            <version>4.0.0</version>\n        </dependency>\n        \x3c!--æ¥å¿--\x3e\n        <dependency>\n            <groupid>org.slf4j</groupid>\n            <artifactid>slf4j-api</artifactid>\n            <version>1.7.21</version>\n        </dependency>\n\n        <dependency>\n            <groupid>org.slf4j</groupid>\n            <artifactid>slf4j-log4j12</artifactid>\n            <version>1.7.21</version>\n        </dependency>\n\n    </dependencies>\n\n\n    <build>\n        <plugins>\n            <plugin>\n                <groupid>org.apache.maven.plugins</groupid>\n                <artifactid>maven-compiler-plugin</artifactid>\n                <version>3.1</version>\n                <configuration>\n                    <source>1.8</source>\n                    <target>1.8</target>\n                </configuration>\n            </plugin>\n        </plugins>\n    </build>\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n26\n27\n28\n29\n30\n31\n32\n33\n34\n35\n36\n37\n38\n39\n40\n41\n42\n43\n44\n45\n46\n47\n48\n49\n50\n\n\n\n# è·åå®¢æ·ç«¯\n\n        //ç¬¬ä¸ç§æ¹å¼\n        exponentialbackoffretry retrypolicy = new exponentialbackoffretry(3000,10);\n        //å¤ä¸ªæå¡ç«¯ connectstringåæ° å°åç¨éå·éå¼  è¿æ¥è¶æ¶æ¶é´  ä¼è¯è¶æ¶æ¶é´  éè¯ç­ç¥\n        curatorframework client = curatorframeworkfactory.newclient("192.168.130.124:2181",\n                60 * 1000, 15 * 1000, retrypolicy);\n        client.start();  //å¼å¯è¿æ¥\n        client.close();\n        //ç¬¬äºç§æ¹å¼  namespaceä¸ºè®¾ç½®æ ¹èç¹è·¯å¾\n        client2 = curatorframeworkfactory.builder().connectstring("192.168.130.124:2181").sessiontimeoutms(60 * 1000).connectiontimeoutms(15 * 1000).retrypolicy(retrypolicy).namespace("itheima").build();\n        client2.start();\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n\n\n\n# å³é­å®¢æ·ç«¯\n\nclient2.close();\n\n\n1\n\n\n\n# åå»ºèç¹\n\n//åå»ºèç¹  èç¹é»æä¹åçèç¹   åå®¹é»è®¤å°å½åå®¢æ·ç«¯ipä½ä¸ºåå®¹\nstring path = client2.create().forpath("/app1");\nsystem.out.println(path);\n//å¸¦åå®¹åå»º\nclient2.create().forpath("/app2","hello".getbytes(standardcharsets.utf_8));\n//è®¾ç½®èç¹ç±»å  ä½¿ç¨withmodeæ¹æ³ å¼ä¸ºä¸ä¸ªæä¸¾å¼\nclient2.create().withmode(createmode.ephemeral).forpath("/app3");\n//åå»ºå¤çº§èç¹  creatingparentcontainersifneededå¦æç¶èç¹ä¸å­å¨åèªå¨åå»º\nclient2.create().creatingparentcontainersifneeded().forpath("/app4/p1");\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n\n\n\n# æ¥è¯¢èç¹\n\n//æ¥è¯¢èç¹\nbyte[] bytes = client2.getdata().forpath("/app1");\nsystem.out.println(new string(bytes));\n\n//æ¥è¯¢å­èç¹\nlist<string> path = client2.getchildren().forpath("/app4");\nsystem.out.println(path);\n\n//æ¥è¯¢èç¹ç¶æä¿¡æ¯  ls -s  éè¦ä¸ä¸ªstatç±»\nstat stat =new stat();\nclient2.getdata().storingstatin(stat).forpath("/app1");\nsystem.out.println(stat);\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n\n\n\n# ä¿®æ¹èç¹\n\n//ä¿®æ¹åå®¹\nclient2.setdata().forpath("/app1","hello".getbytes(standardcharsets.utf_8));\n//æ ¹æ®çæ¬ä¿®æ¹\nstat stat =new stat();\nclient2.getdata().storingstatin(stat).forpath("/app1");\nsystem.out.println(stat);\nint version = stat.getversion();\n//withversion  æ¥è¯¢çæ¬ä¸ä¹åçæ¬æ¯å¦ç¸å ç¸ååä¿®æ¹ ä¸ç¸ååä¸æ§è¡\nclient2.setdata().withversion(version).forpath("/app1","hello world".getbytes(standardcharsets.utf_8));\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n\n\n\n# å é¤èç¹\n\n//å é¤èç¹\nclient2.delete().forpath("/app1");\n//å é¤å¸¦æå­èç¹çèç¹\nclient2.delete().deletingchildrenifneeded().forpath("/app4");\n//å¿é¡»å é¤æå\nclient2.delete().guaranteed().forpath("/app2");\n//åè°\nclient2.delete().guaranteed().inbackground(new backgroundcallback() {\n    @override\n    public void processresult(curatorframework curatorframework, curatorevent curatorevent) throws exception {\n        //curatorevent å­å¨å é¤åçä¿¡æ¯ å¦è·¯å¾ æ¯å¦æå\n        system.out.println(curatorevent);\n    }\n});\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n\n\n\n# watchäºä»¶çå¬\n\nzookeeper åè®¸ç¨æ·å¨æå®èç¹ä¸æ³¨åä¸äºwatcher,å¹¶ä¸å¨ä¸äºç¹å®äºæè§¦åçæ¶å,zookeeperæå¡ç«¯ä¼å°äºä»¶éç¥å°æå´è¶£çå®¢æ·ç«¯ä¸å»,è¯¥æºå¶æ¯zookeeperå®ç°åå¸å¼åè°æå¡çéè¦ç¹å¾\n\nwatchæºå¶æ¥å®ç°äºåå¸/è®¢éåè½,è½å¤è®©å¤ä¸ªè®¢éèåæ¶çå¬æä¸ä¸ªå¯¹è±¡,å½ä¸ä¸ªå¯¹è±¡èªèº«ç¶æååæ¶,ä¼éç¥ææè®¢éè\n\ncuratorå¼å¥äºcacheæ¥å®ç°å¯¹zookeeperæå¡ç«¯äºä»¶ççå¬\n\n * nodecache åªæ¯çå¬æä¸ä¸ªç¹ç¹çèç¹\n * pathchildrencache çæ§ä¸ä¸ªzndoeçå­èç¹\n * treecache å¯ä»¥çæ§æ´ä¸ªæ ä¸çææèç¹ ç±»ä¼¼äºnodecache å pathchildrencache ç»å\n\n\n# nodecache\n\n//åå»ºnodecacheå¯¹è±¡\nfinal nodecache nodecache = new nodecache(client2, "/app1");\n//æ³¨åçå¬\nnodecache.getlistenable().addlistener(new nodecachelistener() {\n    @override\n    public void nodechanged() throws exception {\n        system.out.println("èç¹åçåå");\n        //è·åä¿®æ¹èç¹åçæ°æ®\n        byte[] data = nodecache.getcurrentdata().getdata();\n        system.out.println(new string(data));\n    }\n});\n\n//å¼å¯çå¬  å¦æä¸ºtrue åå¼å¯çå¬æ¶,å è½½ç¼å²æ°æ®\nnodecache.start(true);\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n\n\nåçå¢å æ¹æä½é½ä¼è§¦åçå¬ å¹¶ä¸å½æ­¤æ¹æ³(çº¿ç¨)ç»æåä¸åçå¬ ä¸è¬æä»¬æç»­è®©æ­¤çº¿ç¨å­æ´»\n\n\n# pathchildrencache\n\n//åå»ºçå¬å¨\npathchildrencache pathchildrencache = new pathchildrencache(client2,"/app2",true);\npathchildrencache.getlistenable().addlistener(new pathchildrencachelistener() {\n    @override\n    public void childevent(curatorframework curatorframework, pathchildrencacheevent pathchildrencacheevent) throws exception {\n        system.out.println("å­èç¹åçåå");\n        system.out.println(pathchildrencacheevent);\n        //çå¬å­èç¹çæ°æ®åæ´,å¹¶è·åå°å¯¹åºçæ°æ®\n        //1.è·åç±»å\n        pathchildrencacheevent.type type = pathchildrencacheevent.gettype();\n        //å¤æ­ç±»å\n        if (type.equals(pathchildrencacheevent.type.child_updated)){\n            byte[] data = pathchildrencacheevent.getdata().getdata();\n            system.out.println(new string(data));\n        }\n\n    }\n});\npathchildrencache.start();\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n\n\nå½åçè¿æ¥æ¶ childeventä¼æ§è¡ä¸æ¬¡ æä»¬å¯ä»¥éè¿typeæ¥å¤æ­\n\n\n# treecache\n\n//åå»ºçå¬å¨\ntreecache treecache = new treecache(client2, "/app2");\ntreecache.getlistenable().addlistener(new treecachelistener() {\n    @override\n    public void childevent(curatorframework curatorframework, treecacheevent treecacheevent) throws exception {\n        system.out.println("èç¹åçåå");\n        byte[] data = treecacheevent.getdata().getdata();\n        system.out.println(new string(data));\n    }\n});\ntreecache.start();\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n\n\n\n# åå¸å¼é\n\nå¨ä»¥åæä»¬æ¶åå¹¶ååæ­¥çæ¶å,æä»¬å¾å¾éç¨synchronizedæèlockçæ¹å¼æ¥è§£å³å¤çº¿ç¨é´çä»£ç åæ­¥é®é¢,è¿æ¶å¤çº¿ç¨çè¿è¡é½æ¯å¨åä¸ä¸ªjvmä¹ä¸\n\næä»¬åå¸å¼éç¾¤å·¥ä½æ¶,å±äºå¤jvmä¸çå·¥ä½ç¯å¢,è·¨jvmä¹é´å·²ç»æ æ³éè¿å¤çº¿ç¨çéè§£å³åæ­¥é®é¢\n\nåå¸å¼é------å¤çè·¨æºå¨çè¿ç¨ä¹é´çæ°æ®åæ­¥é®é¢\n\n\n# zookeeperåå¸å¼éåç\n\næ ¸å¿ææ³: å½å®¢æ·ç«¯è¦è·åé,ååå»ºèç¹,ä½¿ç¨å®é,åå é¤è¯¥èç¹\n\n 1. å®¢æ·ç«¯è·åéæ¶,å¨lockèç¹ä¸åå»ºä¸´æ¶é¡ºåºèç¹\n 2. ç¶åè·ålockä¸é¢çææå­èç¹,å®¢æ·ç«¯è·åå°ææçå­èç¹ä¹å,å¦æåç°èªå·±åå»ºçå­èç¹åºå·æå°,é£ä¹å°±ä»»å¡è¯¥å®¢æ·ç«¯è·åå°äºé.ä½¿ç¨å®éå,å°è¯¥èç¹å é¤\n 3. å¦æåç°èªå·±åå»ºçèç¹å¹¶élockææå­èç¹ä¸­æå°ç,è¯´æèªå·±è¿æ²¡æè·åå°é,æ­¤æ¶å®¢æ·ç«¯éè¦æ¾å°æ¯èªå·±å°çé£ä¸ªèç¹,åæ¶å¯¹å¶æ³¨åäºä»¶çå¬å¨,çå¬å é¤äºä»¶\n 4. å¦æåç°æ¯èªå·±å°çé£ä¸ªèç¹è¢«å é¤,åå®¢æ·ç«¯çwatcherä¼æ¶å°ç¸åºçéç¥,æ­¤æ¶åæ¬¡å¤æ­èªå·±åå»ºçèç¹æ¯å¦æ¯lockå­èç¹ä¸­åºå·æå°ç,å¦ææ¯åè·åå°äºé,å¦æä¸æ¯åéå¤ä»¥ä¸æ­¥éª¤ç»§ç»­è·åå°æ¯èªå·±å°çä¸ä¸ªèç¹å¹¶æ³¨åçå¬\n\n# curator å®ç°åå¸å¼é\n\nå¨curatorä¸­æäºç§éæ¹æ¡\n\n * interprocesssemaphoremutex åå¸å¼æå®é(éå¯éå¥é)\n * interprocessmutex åå¸å¼å¯éå¥æå®é\n * interprocessreadwritelock åå¸å¼è¯»åé\n * interprocessmultilock å°å¤ä¸ªéä½ä¸ºåä¸ªå®ä½ç®¡ççå®¹å¨\n * interprocesssemaphorev2 å±äº«ä¿¡å·é\n\nè·åéå¯¹è±¡\n\nprivate interprocessmutex lock;\n\npublic ticket() {\n    exponentialbackoffretry retrypolicy = new exponentialbackoffretry(3000, 10);\n    curatorframework client = curatorframeworkfactory.builder().connectstring("192.168.130.124:2181").sessiontimeoutms(60 * 1000).connectiontimeoutms(15 * 1000).retrypolicy(retrypolicy).namespace("itheima").build();\n    client.start();\n    lock = new interprocessmutex(client, "lock");\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n\n\nè·åé\n\nlock.acquire(3, timeunit.seconds);\n\n\n1\n\n\néæ¾é\n\nlock.release();\n\n\n1\n\n\n\n# éç¾¤æ­å»º\n\nåå®è£zookeeper\n\nå¨æ¯ä¸ªzookeeperçdataç®å½ä¸åå»ºä¸ä¸ªmyidæä»¶,åå®¹åå«æ¯1 2 3 è¿ä¸ªæä»¶å°±æ¯è®°å½æ¯ä¸ªæå¡å¨çid\n\n#1 \necho "1" > /opt/zookeeper/zkdata/myid\n\n#2\necho "2" > /opt/zookeeper/zkdata/myid\n\n#3\necho "2" > /opt/zookeeper/zkdata/myid\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n\n\néç½®æ¯ä¸å°çzookeeper ç zoo.cfg\n\nvim /opt/zookeeper/conf/zoo.cfg\n\n\n1\n\n\næ·»å éç¾¤å°å ipåç«¯å£æ ¹æ®éç½®ä¿®æ¹ .åé¢ä¸º è®¾ç½®çmyid\n\nserver.1=realtime-1:2888:3888\nserver.2=realtime-2:2888:3888\nserver.3=realtime-3:2888:3888\n\n\n1\n2\n3\n\n\nserver.æå¡å¨id=æå¡å¨ipå°å:æå¡å¨ä¹é´éè®¯ç«¯å£:æå¡å¨ä¹é´æç¥¨éä¸¾ç«¯å£\n\nå¯å¨éç¾¤\n\n#1\n./opt/zookeeper/bin/zkserver.sh start\n#2\n./opt/zookeeper/bin/zkserver.sh start\n#3\n./opt/zookeeper/bin/zkserver.sh start\n\n\n1\n2\n3\n4\n5\n6\n\n\n\n# leaderéä¸¾\n\nserverid:æå¡å¨id ç¼å·è¶å¤§å¨éæ©ç®æ³çæéè¶å¤§\n\nzxid: æ°æ®id å¼è¶å¤§æ°æ®è¶æ° å¨éä¸¾ä¸­æ°æ®è¶æ° æéè¶å¤§\n\nå¦ææå°zookeeperè·å¾è¶è¿åæ°çéç¥¨ åæ­¤zookeeperå°±å¯ä»¥æä¸ºleaderäº\n\n\n# æ¨¡æéç¾¤å¼å¸¸\n\nå³é­3å·éç¾¤\n\n./opt/zookeeper/bin/zkserver.sh stop\n\n\n1\n\n\n1å·å2å·ç¶ææ²¡æåå\n\nåå³é­1å·æºå¨\n\n./opt/zookeeper/bin/zkserver.sh stop\n\n\n1\n\n\næ­¤æ¶åªæ2å·æºå¨ å¹¶æ²¡æå³é­ ä½å¤äºä¼ç ç¶æ\n\nåæ1å·æºå¨éæ°å¯å¨\n\n./opt/zookeeper/bin/zkserver.sh start\n\n\n1\n\n\n2å·æºå¨éæ°è¿è¡,\n\nåæ3å·éæ°å¼å¯, ç¶ååæ2å·\n\næ­¤æ¶éæ°éä¸¾leader 3å·è¶è¿åæ°ç¥¨æä¸ºleader\n\n\n# éç¾¤è§è²\n\n * leader é¢å¯¼è\n   1. å¤çäºå¡è¯·æ±\n   2. éç¾¤åé¨åæå¡å¨çè°åº¦è\n * follower è·éè\n   1. å¤çå®¢æ·ç«¯éäºå¡è¯·æ±,è½¬åäºå¡è¯·æ±ç»leaderæå¡å¨\n   2. åä¸leaderéä¸¾æç¥¨\n * observer è§å¯è\n   1. å¤çå®¢æ·ç«¯éäºå¡è¯·æ±,è½¬åäºå¡è¯·æ±ç»leaderæå¡å¨\n\n',charsets:{cjk:!0},lastUpdated:"2022/03/18, 07:01:11",lastUpdatedTimestamp:1647558071e3},{title:"Spring Boot",frontmatter:{title:"Spring Boot",date:"2022-03-18T00:51:47.000Z",permalink:"/pages/4f5fb3/",categories:["åç«¯","JavaEE"],tags:[null]},regularPath:"/%E5%90%8E%E7%AB%AF/02.JavaEE/13.Spring%20Boot.html",relativePath:"åç«¯/02.JavaEE/13.Spring Boot.md",key:"v-16cba74e",path:"/pages/4f5fb3/",headers:[{level:2,title:"èµ·æ­¥ä¾èµåæ¥åæ",slug:"èµ·æ­¥ä¾èµåæ¥åæ",normalizedTitle:"èµ·æ­¥ä¾èµåæ¥åæ",charIndex:286},{level:2,title:"SpringBootéç½®",slug:"springbootéç½®",normalizedTitle:"springbootéç½®",charIndex:464},{level:3,title:"YAML",slug:"yaml",normalizedTitle:"yaml",charIndex:884},{level:3,title:"æ°æ®æ ¼å¼",slug:"æ°æ®æ ¼å¼",normalizedTitle:"æ°æ®æ ¼å¼",charIndex:1112},{level:3,title:"è¯»åéç½®æä»¶åå®¹",slug:"è¯»åéç½®æä»¶åå®¹",normalizedTitle:"è¯»åéç½®æä»¶åå®¹",charIndex:1630},{level:3,title:"profile",slug:"profile",normalizedTitle:"profile",charIndex:2936},{level:3,title:"åé¨éç½®å è½½é¡ºåº",slug:"åé¨éç½®å è½½é¡ºåº",normalizedTitle:"åé¨éç½®å è½½é¡ºåº",charIndex:3760},{level:3,title:"å¤é¨éç½®å è½½é¡ºåº",slug:"å¤é¨éç½®å è½½é¡ºåº",normalizedTitle:"å¤é¨éç½®å è½½é¡ºåº",charIndex:3933},{level:2,title:"SpringBootæ´åå¶ä»æ¡æ¶",slug:"springbootæ´åå¶ä»æ¡æ¶",normalizedTitle:"springbootæ´åå¶ä»æ¡æ¶",charIndex:4194},{level:3,title:"Junit",slug:"junit",normalizedTitle:"junit",charIndex:4215},{level:3,title:"Redis",slug:"redis",normalizedTitle:"redis",charIndex:4535},{level:3,title:"MyBatis",slug:"mybatis",normalizedTitle:"mybatis",charIndex:5209}],headersStr:"èµ·æ­¥ä¾èµåæ¥åæ SpringBootéç½® YAML æ°æ®æ ¼å¼ è¯»åéç½®æä»¶åå®¹ profile åé¨éç½®å è½½é¡ºåº å¤é¨éç½®å è½½é¡ºåº SpringBootæ´åå¶ä»æ¡æ¶ Junit Redis MyBatis",content:'# Spring Boot\n\n 1. èªå¨éç½® Spring Bootçèªå¨éç½®æ¯ä¸ä¸ªè¿è¡æ¶çè¿ç¨,èèäºä¼å¤å ç´ ,Springéç½®åºè¯¥ç¨åªä¸ª,ä¸è¯¥ç¨åªä¸ª.è¯¥è¿ç¨æ¯SpringBootèªå¨å®æç\n 2. èµ·æ­¥ä¾èµ èµ·æ­¥ä¾èµæ¬è´¨ä¸æ¯ä¸ä¸ªMavené¡¹ç®å¯¹è±¡æ¨¡å,å®ä¹äºå¯¹å¶ä»åºçä¼ éä¾èµ,ç®åæ¥è¯´,å°±æ¯å°å·å¤æç§åè½çåæ æåå°ä¸èµ·,å¹¶æä¾ä¸äºé»è®¤çåè½\n 3. è¾å©åè½ æä¾äºä¸äºå¤§åé¡¹ç®ä¸­å¸¸è§çéåè½æ§ç¹å¾,å¦åµå¥å¼æå¡å¨ å®å¨ ææ  å¥åº·æ£æµ å¤é¨éç½®ç­\n\nSpring Boot å¹¶ä¸æ¯å¯¹Spring åè½ä¸çå¢å¼º èæ¯æä¾äºä¸ç§å¿«éä½¿ç¨Springçæ¹å¼\n\n\n# èµ·æ­¥ä¾èµåæ¥åæ\n\nå¨Spring-boot-starter-parentä¸­å®ä¹äºåç§ææ¯ççæ¬ä¿¡æ¯,ç»åäºä¸å¥æä¼æ­éçææ¯çæ¬\n\nå¨åç§starterä¸­,å®ä¹äºå®æè¯¥åè½éè¦çåæ åé,å¶ä¸­å¤§é¨åçæ¬ä¿¡æ¯æ¥èªäºç¶å·¥ç¨\n\næä»¬çå·¥ç¨ç»§æ¿parent,å¼å¥starterå,éè¿ä¾èµä¼ é,å°±å¯ä»¥ç®åæ¹ä¾¿è·åéè¦çjarå,å¹¶ä¸ä¼å­å¨çæ¬å²çªç­é®é¢\n\n\n# SpringBootéç½®\n\nSpringBootæ¯åºäºçº¦å®ç,ææå¾å¤éç½®é½æé»è®¤å¼,ä½å¦ææ³æ¿æ¢é»è®¤å¼,å¿é¡»ä½¿ç¨application.propertiesæèapplication.yml æ application.yaml/yam è¿è¡éç½®\n\n * properties ä»¥é®å¼å¯¹æ¹å¼\n   \n   server.port=8080\n   \n   \n   1\n   \n\n * xml\n   \n   <server>\n       <port>8080</port>\n   </server>\n   \n   \n   1\n   2\n   3\n   \n\n * yml/yaml\n   \n   server:\n   \tport: 8080\n   \n   \n   1\n   2\n   \n\nå¦æé¡¹ç®ä¸­å­å¨å¤ä¸ªapplicationéç½®æä»¶ ä¼æ ¹æ®æä»¶ç±»åæé¡ºåºå è½½ åå è½½çæ æ³è¢«è¦ç\n\nproperties > yml > yaml\n\n\n# YAML\n\nYAMLæä»¶æ¯ä»¥æ°æ®ä¸ºæ ¸å¿,æ¯ä¼ ç»çxmlæ¹å¼æ´å ç®æ´\n\nhttps://toyaml.com/index.html å¨çº¿è½¬æ¢\n\n * å¤§å°åææ\n * æ°æ®å¼åè¾¹å¿é¡»æç©ºæ ¼,ä½ä¸ºåéç¬¦\n * ä½¿ç¨ç¼©è¿è¡¨ç¤ºå±çº§å³ç³»\n * ç¼©è¿æ¶ä¸åè®¸ä½¿ç¨Tabé®,åªåè®¸ä½¿ç¨ç©ºæ ¼(åä¸ªç³»ç»Tabå¯¹åºç ç©ºæ ¼æ°ç®å¯è½ä¸å,å¯¼è´å±æ¬¡æ··ä¹±)\n * ç¼©è¿çç©ºæ ¼æ°ç®ä¸éè¦,åªè¦ç¸åå±çº§çåç´ å·¦ä¾§å¯¹é½å³å¯\n * #è¡¨ç¤ºæ³¨é,ä»è¿ä¸ªå­ç¬¦ä¸ç´å°è¡å°¾,é½ä¼è¢«è§£æå¿½ç¥\n\n\n# æ°æ®æ ¼å¼\n\n * å¯¹è±¡(map):é®å¼å¯¹çéå\n   \n   person:\n   \tname: zhangsan\n   #è¡ååæ³\n   person: {name: zhangsan}\n   \n   \n   1\n   2\n   3\n   4\n   \n\n * æ°ç»:ä¸ç»ææ¬¡åºæåçå¼\n   \n   address:\n   \t- beijing\n   \t- shanghai\n   #è¡ååæ³\n   address: [beijing,shanghai]\n   \n   \n   1\n   2\n   3\n   4\n   5\n   \n\n * çº¯é: åä¸ªç ä¸å¯ååçå¼\n   \n   msg1: \'hello \\n world\' # åå¼å¿½ç¥è½¬ä¹å­ç¬¦\n   msg2: "hello \\n world" # åå¼è¯å«è½¬ä¹å­ç¬¦\n   \n   \n   1\n   2\n   \n   \n   å­ç¬¦ä¸²ä¸ç¨å åå¼å·æèåå¼å·,åå¼å·æ¯ç¨æ¥è½¬ä¹\n\n * åæ°å¼ç¨\n   \n   name: lisi\n   person:\n   \tname: ${name}  #å¼ç¨ä¸è¾¹å®ä¹çnameå¼\n   \n   \n   1\n   2\n   3\n   \n\n\n# è¯»åéç½®æä»¶åå®¹\n\n 1. @Vlaue\n    \n    @Value("${name}")\n        private String name;\n    @Value("${test.hello:test}")   //é²æ­¢å¿è®°éç½® å¯ä»¥æä¾é»è®¤å¼ å¨åéååå ä¸:\n    private String testHello;  \n    \n    \n    1\n    2\n    3\n    4\n    \n\n 2. Environment æ¯ä¸ç±» å¯ä»¥æ³¨å¥ ä½¿ç¨åç½®çgetPropertyè·åæå®é®çå¼\n    \n     @Autowired\n     private Environment environment;\n    \n    @RequestMapping("/hello2")\n        public void hello2() {\n            //éè¿getProperty æ¹æ³è·åæå®é®çå¼\n             System.out.println(environment.getProperty("address[0]"));\n        }\n    \n    \n    \n    1\n    2\n    3\n    4\n    5\n    6\n    7\n    8\n    9\n    \n\n 3. @ConfigurationProperties å¨èªå®ä¹ç±»æ å°ä¸ºæå®é®çæåå±æ§ éè¦geiåsetæ¹æ³\n    \n    @Component\n    @ConfigurationProperties(prefix = "person")  //prefixä¸ºé®\n    public class Person {\n        //éè¦æä¾getåsetæ¹æ³\n        private String name;\n        private int age;\n    \n    }\n    \n    \n    1\n    2\n    3\n    4\n    5\n    6\n    7\n    8\n    \n    \n    @Autowired\n    private Person person; //æ³¨å¥ConfigurationPropertiesçç±»æå¯ä»¥ä½¿ç¨\n    \n    \n    1\n    2\n    \n    \n    éç½®æä»¶ä¸­æ ¹æ®@ConfigurationProperties æ³¨è§£ æ è¯çç±» æç¤ºå¯¹åºçæåå±æ§ åæ \n    \n     <dependency>\n                <groupId>org.springframework.boot</groupId>\n                <artifactId>spring-boot-configuration-processor</artifactId>\n            </dependency>\n    \n    \n    1\n    2\n    3\n    4\n    \n    \n    \n\n\n# profile\n\nprofileåè½æ¯æ¥è¿è¡å¨æéç½®åæ¢ å¯ä»¥å¸®å©æä»¬å¿«éçåæ¢ å¼å æµè¯ çäº§ ç¯å¢éç½®\n\n# éç½®æä»¶åæ¢\n\n# propertieså¤æä»¶éç½®\n\néè¿applicationéç½®\n\nspring.profiles.active=dev  #devä¸ºapplication-dev  -åé¢çåç§°\n\n\n1\n\n\nä¸åçapplicationä»¥-è¿è¡åºå å¦:application-dev application-test\n\nå¨spring.profiles.active= æ¨ªæ åçåç§° è°ç¨æå®çç¯å¢éç½®\n\n\n\n# ymlåæä»¶éç½®\n\nä»¥ä¸ä¸ªæ¨ªæ åºåä¸åçç¯å¢ ---\n\n---\nserver:\n  port: 8081\nspring:\n  config:\n    activate:\n      on-profile: dev\n\n---\nserver:\n  port: 8082\nspring:\n  config:\n    activate:\n      on-profile: pro\n\n---\n\nserver:\n  port: 8083\nspring:\n  config:\n    activate:\n      on-profile: test  #éç½®åç§°ä¸ºtestç¯å¢\n---\n\nspring:\n  profiles:\n    active: pro  #ä½¿ç¨proç¯å¢\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n26\n27\n28\n29\n\n\n# profileæ¿æ´»æ¹å¼\n\n * å¨èææºä¸­éç½® ä»¥-Dsrping.profiles:active=å¯¹åºçç¯å¢åç§°\n\n\n\n * éè¿jaråè¿è¡\n\njava -jar springboot.jar --spring.profiles.active=pro\n\n\n1\n\n\n\n# åé¨éç½®å è½½é¡ºåº\n\n 1. file:./config/ å½åé¡¹ç®ä¸ç/configç®å½ä¸\n 2. file:./ å½åé¡¹ç®çæ ¹ç®å½\n 3. classpath:/config/ classpathç/configç®å½\n 4. classpath:/ : classpathçæ ¹ç®å½ resourceä¸ºæ­¤å¤\n\nä¼åä½¿ç¨åå è½½éç½®ä¸­çå±æ§\n\n\n# å¤é¨éç½®å è½½é¡ºåº\n\n 1. éè¿--spring.config.location= æ¥æå®å¤é¨éç½®æä»¶çè·¯å¾\n\njava -jar springboot.jar --sporing.config.location=éç½®è·¯å¾\n\n\n1\n\n\n 2. å¨jaråçåçº§æä»¶ä¸æ¾ç½®éç½®æä»¶ ä¼ä¼åäºjarä¸­çéç½®æä»¶\n    \n    java -jar springboot.jar\n    \n    \n    1\n    \n\n 3. å¨jaråçåçº§æä»¶ä¸åå»ºconfigæä»¶å¤¹æ¾ç½®éç½®æä»¶ ä¼ä¼åäºjarä¸­çéç½®æä»¶\n\n\n# SpringBootæ´åå¶ä»æ¡æ¶\n\n\n# Junit\n\n//å¦ætestç±»è·springbootå¯å¨ç±»çåè·¯å¾ä¸è´ åä¸éè¦æå®classes\n@SpringBootTest(classes = SpringbootProfilesApplication.class)\nclass SpringbootProfilesApplicationTests {\n\n    @Autowired\n    private UserService userService;\n\n    @Test\n    void contextLoads() {\n        userService.add();\n    }\n\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n\n\n\n# Redis\n\nåå»ºmavenæ¶éæ©redis\n\n\n\n       <dependency>\n            <groupId>org.springframework.boot</groupId>\n            <artifactId>spring-boot-starter-data-redis</artifactId>\n        </dependency>\n\n\n1\n2\n3\n4\n\n\ntestç±»\n\n    @Autowired\n    private RedisTemplate redisTemplate;\n\n\n    @Test\n    public void testSet(){\n        redisTemplate.boundValueOps("name").set("zhangsang");\n    }\n\n    @Test\n    public void testGet(){\n        Object name = redisTemplate.boundValueOps("name").get();\n        System.out.println(name);\n    }\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n\n\napplicationéç½®é»è®¤æ¯ä¸ºæ¬æºå°åå6379ç«¯å£\n\nspring:\n    redis:\n       host: 127.0.0.1  #redisip\n       port: 6379  #ç«¯å£\n\n\n1\n2\n3\n4\n\n\n\n# MyBatis\n\n\n\nåå»ºé¡¹ç®æ¶å¾é\n\n   <dependency>\n            <groupId>org.mybatis.spring.boot</groupId>\n            <artifactId>mybatis-spring-boot-starter</artifactId>\n            <version>2.2.0</version>\n        </dependency>\n        <dependency>\n            <groupId>mysql</groupId>\n            <artifactId>mysql-connector-java</artifactId>\n        </dependency>\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n\n\néç½®ç±»\n\nspring:\n\tdatasource:\n    \tdriver-class-name: com.mysql.cj.jdbc.Driver  #æ³¨æé©±å¨å°å\n    \tusername: root\n    \tpassword: 123456\n    \turl: jdbc:mysql:///springboot?serverTimezone=UTC  #å¦ææ¯æ¬å°å¯ä»¥å¿½ç¥ipåç«¯å£  å¿é¡»è®¾ç½®æ¶åºå¦åä¼æ¥é\n\n\n1\n2\n3\n4\n5\n6\n\n 1. æ³¨è§£çmapper\n\n@Repository\n@Mapper\npublic interface UserMapper {\n    @Select("select * from t_user")\n    List<User>  findAll();\n}\n\n\n\n1\n2\n3\n4\n5\n6\n7\n\n\ntest\n\n  @Autowired\n    private UserMapper userMapper;\n\n    @Test\n    public void testFindAll(){\n        List<User> all = userMapper.findAll();\n        System.out.println(all);\n    }\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n\n\n 2. xmlçmapper\n    \n    @Repository\n    @Mapper\n    public interface UserMapper {\n        List<User>  findAll();\n    }\n    \n    \n    \n    1\n    2\n    3\n    4\n    5\n    6\n    \n    \n    xml\n    \n    <?xml version="1.0" encoding="UTF-8"?>\n    <!DOCTYPE mapper\n            PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"\n            "http://mybatis.org/dtd/mybatis-3-mapper.dtd">\n    \n    <mapper namespace="com.itheima.springbootprofiles.mapper.UserMapper">\n        <select id="findAll" resultType="user">\n            select * from t_user\n        </select>\n    </mapper>\n    \n    \n    1\n    2\n    3\n    4\n    5\n    6\n    7\n    8\n    9\n    10\n    \n    \n    éç½®æä»¶\n    \n    spring:\n    \tdatasource:\n        \tdriver-class-name: com.mysql.cj.jdbc.Driver\n        \tusername: root\n        \tpassword: 123456\n        \turl: jdbc:mysql:///springboot?serverTimezone=UTC\n        \t\n    mybatis:\n      mapper-locations: classpath:mapper/*Mapper.xml  #mapperçæ å°æä»¶è·¯å¾\n      type-aliases-package: com.itheima.springbootprofiles.domain  #éç½®å«å\n    \n    \n    \n    1\n    2\n    3\n    4\n    5\n    6\n    7\n    8\n    9\n    10\n    11\n    \n    \n    test\n    \n    @Autowired\n        private UserMapper userMapper;\n    \n        @Test\n        public void testFindAll(){\n            List<User> all = userMapper.findAll();\n            System.out.println(all);\n        }\n    \n    \n    1\n    2\n    3\n    4\n    5\n    6\n    7\n    8\n    ',normalizedContent:'# spring boot\n\n 1. èªå¨éç½® spring bootçèªå¨éç½®æ¯ä¸ä¸ªè¿è¡æ¶çè¿ç¨,èèäºä¼å¤å ç´ ,springéç½®åºè¯¥ç¨åªä¸ª,ä¸è¯¥ç¨åªä¸ª.è¯¥è¿ç¨æ¯springbootèªå¨å®æç\n 2. èµ·æ­¥ä¾èµ èµ·æ­¥ä¾èµæ¬è´¨ä¸æ¯ä¸ä¸ªmavené¡¹ç®å¯¹è±¡æ¨¡å,å®ä¹äºå¯¹å¶ä»åºçä¼ éä¾èµ,ç®åæ¥è¯´,å°±æ¯å°å·å¤æç§åè½çåæ æåå°ä¸èµ·,å¹¶æä¾ä¸äºé»è®¤çåè½\n 3. è¾å©åè½ æä¾äºä¸äºå¤§åé¡¹ç®ä¸­å¸¸è§çéåè½æ§ç¹å¾,å¦åµå¥å¼æå¡å¨ å®å¨ ææ  å¥åº·æ£æµ å¤é¨éç½®ç­\n\nspring boot å¹¶ä¸æ¯å¯¹spring åè½ä¸çå¢å¼º èæ¯æä¾äºä¸ç§å¿«éä½¿ç¨springçæ¹å¼\n\n\n# èµ·æ­¥ä¾èµåæ¥åæ\n\nå¨spring-boot-starter-parentä¸­å®ä¹äºåç§ææ¯ççæ¬ä¿¡æ¯,ç»åäºä¸å¥æä¼æ­éçææ¯çæ¬\n\nå¨åç§starterä¸­,å®ä¹äºå®æè¯¥åè½éè¦çåæ åé,å¶ä¸­å¤§é¨åçæ¬ä¿¡æ¯æ¥èªäºç¶å·¥ç¨\n\næä»¬çå·¥ç¨ç»§æ¿parent,å¼å¥starterå,éè¿ä¾èµä¼ é,å°±å¯ä»¥ç®åæ¹ä¾¿è·åéè¦çjarå,å¹¶ä¸ä¼å­å¨çæ¬å²çªç­é®é¢\n\n\n# springbootéç½®\n\nspringbootæ¯åºäºçº¦å®ç,ææå¾å¤éç½®é½æé»è®¤å¼,ä½å¦ææ³æ¿æ¢é»è®¤å¼,å¿é¡»ä½¿ç¨application.propertiesæèapplication.yml æ application.yaml/yam è¿è¡éç½®\n\n * properties ä»¥é®å¼å¯¹æ¹å¼\n   \n   server.port=8080\n   \n   \n   1\n   \n\n * xml\n   \n   <server>\n       <port>8080</port>\n   </server>\n   \n   \n   1\n   2\n   3\n   \n\n * yml/yaml\n   \n   server:\n   \tport: 8080\n   \n   \n   1\n   2\n   \n\nå¦æé¡¹ç®ä¸­å­å¨å¤ä¸ªapplicationéç½®æä»¶ ä¼æ ¹æ®æä»¶ç±»åæé¡ºåºå è½½ åå è½½çæ æ³è¢«è¦ç\n\nproperties > yml > yaml\n\n\n# yaml\n\nyamlæä»¶æ¯ä»¥æ°æ®ä¸ºæ ¸å¿,æ¯ä¼ ç»çxmlæ¹å¼æ´å ç®æ´\n\nhttps://toyaml.com/index.html å¨çº¿è½¬æ¢\n\n * å¤§å°åææ\n * æ°æ®å¼åè¾¹å¿é¡»æç©ºæ ¼,ä½ä¸ºåéç¬¦\n * ä½¿ç¨ç¼©è¿è¡¨ç¤ºå±çº§å³ç³»\n * ç¼©è¿æ¶ä¸åè®¸ä½¿ç¨tabé®,åªåè®¸ä½¿ç¨ç©ºæ ¼(åä¸ªç³»ç»tabå¯¹åºç ç©ºæ ¼æ°ç®å¯è½ä¸å,å¯¼è´å±æ¬¡æ··ä¹±)\n * ç¼©è¿çç©ºæ ¼æ°ç®ä¸éè¦,åªè¦ç¸åå±çº§çåç´ å·¦ä¾§å¯¹é½å³å¯\n * #è¡¨ç¤ºæ³¨é,ä»è¿ä¸ªå­ç¬¦ä¸ç´å°è¡å°¾,é½ä¼è¢«è§£æå¿½ç¥\n\n\n# æ°æ®æ ¼å¼\n\n * å¯¹è±¡(map):é®å¼å¯¹çéå\n   \n   person:\n   \tname: zhangsan\n   #è¡ååæ³\n   person: {name: zhangsan}\n   \n   \n   1\n   2\n   3\n   4\n   \n\n * æ°ç»:ä¸ç»ææ¬¡åºæåçå¼\n   \n   address:\n   \t- beijing\n   \t- shanghai\n   #è¡ååæ³\n   address: [beijing,shanghai]\n   \n   \n   1\n   2\n   3\n   4\n   5\n   \n\n * çº¯é: åä¸ªç ä¸å¯ååçå¼\n   \n   msg1: \'hello \\n world\' # åå¼å¿½ç¥è½¬ä¹å­ç¬¦\n   msg2: "hello \\n world" # åå¼è¯å«è½¬ä¹å­ç¬¦\n   \n   \n   1\n   2\n   \n   \n   å­ç¬¦ä¸²ä¸ç¨å åå¼å·æèåå¼å·,åå¼å·æ¯ç¨æ¥è½¬ä¹\n\n * åæ°å¼ç¨\n   \n   name: lisi\n   person:\n   \tname: ${name}  #å¼ç¨ä¸è¾¹å®ä¹çnameå¼\n   \n   \n   1\n   2\n   3\n   \n\n\n# è¯»åéç½®æä»¶åå®¹\n\n 1. @vlaue\n    \n    @value("${name}")\n        private string name;\n    @value("${test.hello:test}")   //é²æ­¢å¿è®°éç½® å¯ä»¥æä¾é»è®¤å¼ å¨åéååå ä¸:\n    private string testhello;  \n    \n    \n    1\n    2\n    3\n    4\n    \n\n 2. environment æ¯ä¸ç±» å¯ä»¥æ³¨å¥ ä½¿ç¨åç½®çgetpropertyè·åæå®é®çå¼\n    \n     @autowired\n     private environment environment;\n    \n    @requestmapping("/hello2")\n        public void hello2() {\n            //éè¿getproperty æ¹æ³è·åæå®é®çå¼\n             system.out.println(environment.getproperty("address[0]"));\n        }\n    \n    \n    \n    1\n    2\n    3\n    4\n    5\n    6\n    7\n    8\n    9\n    \n\n 3. @configurationproperties å¨èªå®ä¹ç±»æ å°ä¸ºæå®é®çæåå±æ§ éè¦geiåsetæ¹æ³\n    \n    @component\n    @configurationproperties(prefix = "person")  //prefixä¸ºé®\n    public class person {\n        //éè¦æä¾getåsetæ¹æ³\n        private string name;\n        private int age;\n    \n    }\n    \n    \n    1\n    2\n    3\n    4\n    5\n    6\n    7\n    8\n    \n    \n    @autowired\n    private person person; //æ³¨å¥configurationpropertiesçç±»æå¯ä»¥ä½¿ç¨\n    \n    \n    1\n    2\n    \n    \n    éç½®æä»¶ä¸­æ ¹æ®@configurationproperties æ³¨è§£ æ è¯çç±» æç¤ºå¯¹åºçæåå±æ§ åæ \n    \n     <dependency>\n                <groupid>org.springframework.boot</groupid>\n                <artifactid>spring-boot-configuration-processor</artifactid>\n            </dependency>\n    \n    \n    1\n    2\n    3\n    4\n    \n    \n    \n\n\n# profile\n\nprofileåè½æ¯æ¥è¿è¡å¨æéç½®åæ¢ å¯ä»¥å¸®å©æä»¬å¿«éçåæ¢ å¼å æµè¯ çäº§ ç¯å¢éç½®\n\n# éç½®æä»¶åæ¢\n\n# propertieså¤æä»¶éç½®\n\néè¿applicationéç½®\n\nspring.profiles.active=dev  #devä¸ºapplication-dev  -åé¢çåç§°\n\n\n1\n\n\nä¸åçapplicationä»¥-è¿è¡åºå å¦:application-dev application-test\n\nå¨spring.profiles.active= æ¨ªæ åçåç§° è°ç¨æå®çç¯å¢éç½®\n\n\n\n# ymlåæä»¶éç½®\n\nä»¥ä¸ä¸ªæ¨ªæ åºåä¸åçç¯å¢ ---\n\n---\nserver:\n  port: 8081\nspring:\n  config:\n    activate:\n      on-profile: dev\n\n---\nserver:\n  port: 8082\nspring:\n  config:\n    activate:\n      on-profile: pro\n\n---\n\nserver:\n  port: 8083\nspring:\n  config:\n    activate:\n      on-profile: test  #éç½®åç§°ä¸ºtestç¯å¢\n---\n\nspring:\n  profiles:\n    active: pro  #ä½¿ç¨proç¯å¢\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n26\n27\n28\n29\n\n\n# profileæ¿æ´»æ¹å¼\n\n * å¨èææºä¸­éç½® ä»¥-dsrping.profiles:active=å¯¹åºçç¯å¢åç§°\n\n\n\n * éè¿jaråè¿è¡\n\njava -jar springboot.jar --spring.profiles.active=pro\n\n\n1\n\n\n\n# åé¨éç½®å è½½é¡ºåº\n\n 1. file:./config/ å½åé¡¹ç®ä¸ç/configç®å½ä¸\n 2. file:./ å½åé¡¹ç®çæ ¹ç®å½\n 3. classpath:/config/ classpathç/configç®å½\n 4. classpath:/ : classpathçæ ¹ç®å½ resourceä¸ºæ­¤å¤\n\nä¼åä½¿ç¨åå è½½éç½®ä¸­çå±æ§\n\n\n# å¤é¨éç½®å è½½é¡ºåº\n\n 1. éè¿--spring.config.location= æ¥æå®å¤é¨éç½®æä»¶çè·¯å¾\n\njava -jar springboot.jar --sporing.config.location=éç½®è·¯å¾\n\n\n1\n\n\n 2. å¨jaråçåçº§æä»¶ä¸æ¾ç½®éç½®æä»¶ ä¼ä¼åäºjarä¸­çéç½®æä»¶\n    \n    java -jar springboot.jar\n    \n    \n    1\n    \n\n 3. å¨jaråçåçº§æä»¶ä¸åå»ºconfigæä»¶å¤¹æ¾ç½®éç½®æä»¶ ä¼ä¼åäºjarä¸­çéç½®æä»¶\n\n\n# springbootæ´åå¶ä»æ¡æ¶\n\n\n# junit\n\n//å¦ætestç±»è·springbootå¯å¨ç±»çåè·¯å¾ä¸è´ åä¸éè¦æå®classes\n@springboottest(classes = springbootprofilesapplication.class)\nclass springbootprofilesapplicationtests {\n\n    @autowired\n    private userservice userservice;\n\n    @test\n    void contextloads() {\n        userservice.add();\n    }\n\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n\n\n\n# redis\n\nåå»ºmavenæ¶éæ©redis\n\n\n\n       <dependency>\n            <groupid>org.springframework.boot</groupid>\n            <artifactid>spring-boot-starter-data-redis</artifactid>\n        </dependency>\n\n\n1\n2\n3\n4\n\n\ntestç±»\n\n    @autowired\n    private redistemplate redistemplate;\n\n\n    @test\n    public void testset(){\n        redistemplate.boundvalueops("name").set("zhangsang");\n    }\n\n    @test\n    public void testget(){\n        object name = redistemplate.boundvalueops("name").get();\n        system.out.println(name);\n    }\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n\n\napplicationéç½®é»è®¤æ¯ä¸ºæ¬æºå°åå6379ç«¯å£\n\nspring:\n    redis:\n       host: 127.0.0.1  #redisip\n       port: 6379  #ç«¯å£\n\n\n1\n2\n3\n4\n\n\n\n# mybatis\n\n\n\nåå»ºé¡¹ç®æ¶å¾é\n\n   <dependency>\n            <groupid>org.mybatis.spring.boot</groupid>\n            <artifactid>mybatis-spring-boot-starter</artifactid>\n            <version>2.2.0</version>\n        </dependency>\n        <dependency>\n            <groupid>mysql</groupid>\n            <artifactid>mysql-connector-java</artifactid>\n        </dependency>\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n\n\néç½®ç±»\n\nspring:\n\tdatasource:\n    \tdriver-class-name: com.mysql.cj.jdbc.driver  #æ³¨æé©±å¨å°å\n    \tusername: root\n    \tpassword: 123456\n    \turl: jdbc:mysql:///springboot?servertimezone=utc  #å¦ææ¯æ¬å°å¯ä»¥å¿½ç¥ipåç«¯å£  å¿é¡»è®¾ç½®æ¶åºå¦åä¼æ¥é\n\n\n1\n2\n3\n4\n5\n6\n\n 1. æ³¨è§£çmapper\n\n@repository\n@mapper\npublic interface usermapper {\n    @select("select * from t_user")\n    list<user>  findall();\n}\n\n\n\n1\n2\n3\n4\n5\n6\n7\n\n\ntest\n\n  @autowired\n    private usermapper usermapper;\n\n    @test\n    public void testfindall(){\n        list<user> all = usermapper.findall();\n        system.out.println(all);\n    }\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n\n\n 2. xmlçmapper\n    \n    @repository\n    @mapper\n    public interface usermapper {\n        list<user>  findall();\n    }\n    \n    \n    \n    1\n    2\n    3\n    4\n    5\n    6\n    \n    \n    xml\n    \n    <?xml version="1.0" encoding="utf-8"?>\n    <!doctype mapper\n            public "-//mybatis.org//dtd mapper 3.0//en"\n            "http://mybatis.org/dtd/mybatis-3-mapper.dtd">\n    \n    <mapper namespace="com.itheima.springbootprofiles.mapper.usermapper">\n        <select id="findall" resulttype="user">\n            select * from t_user\n        </select>\n    </mapper>\n    \n    \n    1\n    2\n    3\n    4\n    5\n    6\n    7\n    8\n    9\n    10\n    \n    \n    éç½®æä»¶\n    \n    spring:\n    \tdatasource:\n        \tdriver-class-name: com.mysql.cj.jdbc.driver\n        \tusername: root\n        \tpassword: 123456\n        \turl: jdbc:mysql:///springboot?servertimezone=utc\n        \t\n    mybatis:\n      mapper-locations: classpath:mapper/*mapper.xml  #mapperçæ å°æä»¶è·¯å¾\n      type-aliases-package: com.itheima.springbootprofiles.domain  #éç½®å«å\n    \n    \n    \n    1\n    2\n    3\n    4\n    5\n    6\n    7\n    8\n    9\n    10\n    11\n    \n    \n    test\n    \n    @autowired\n        private usermapper usermapper;\n    \n        @test\n        public void testfindall(){\n            list<user> all = usermapper.findall();\n            system.out.println(all);\n        }\n    \n    \n    1\n    2\n    3\n    4\n    5\n    6\n    7\n    8\n    ',charsets:{cjk:!0},lastUpdated:"2022/03/18, 07:01:11",lastUpdatedTimestamp:1647558071e3},{title:"RabbitMQ",frontmatter:{title:"RabbitMQ",date:"2022-03-18T00:51:47.000Z",permalink:"/pages/3a5e24/",categories:["åç«¯","JavaEE"],tags:[null]},regularPath:"/%E5%90%8E%E7%AB%AF/02.JavaEE/15.RabbitMQ.html",relativePath:"åç«¯/02.JavaEE/15.RabbitMQ.md",key:"v-37078826",path:"/pages/3a5e24/",headers:[{level:2,title:"å¸¸ç¨çMQäº§å",slug:"å¸¸ç¨çmqäº§å",normalizedTitle:"å¸¸ç¨çmqäº§å",charIndex:102},{level:2,title:"RabbitMQç®ä»",slug:"rabbitmqç®ä»",normalizedTitle:"rabbitmqç®ä»",charIndex:116},{level:3,title:"JMS",slug:"jms",normalizedTitle:"jms",charIndex:222},{level:2,title:"å®è£",slug:"å®è£",normalizedTitle:"å®è£",charIndex:275},{level:2,title:"å¥é¨æ¡ä¾",slug:"å¥é¨æ¡ä¾",normalizedTitle:"å¥é¨æ¡ä¾",charIndex:1559},{level:3,title:"çäº§è",slug:"çäº§è",normalizedTitle:"çäº§è",charIndex:1568},{level:3,title:"æ¶è´¹è",slug:"æ¶è´¹è",normalizedTitle:"æ¶è´¹è",charIndex:2843},{level:2,title:"Work queues å·¥ä½éåæ¨¡å¼",slug:"work-queues-å·¥ä½éåæ¨¡å¼",normalizedTitle:"work queues å·¥ä½éåæ¨¡å¼",charIndex:5627},{level:2,title:"Pub/Sub è®¢éæ¨¡å¼",slug:"pub-sub-è®¢éæ¨¡å¼",normalizedTitle:"pub/sub è®¢éæ¨¡å¼",charIndex:5782},{level:2,title:"Routing è·¯ç±æ¨¡å¼",slug:"routing-è·¯ç±æ¨¡å¼",normalizedTitle:"routing è·¯ç±æ¨¡å¼",charIndex:9748},{level:2,title:"Topics ééç¬¦æ¨¡å¼",slug:"topics-ééç¬¦æ¨¡å¼",normalizedTitle:"topics ééç¬¦æ¨¡å¼",charIndex:13825},{level:2,title:"Spring æ´å RabbitMQ",slug:"spring-æ´å-rabbitmq",normalizedTitle:"spring æ´å rabbitmq",charIndex:17498},{level:3,title:"çäº§è",slug:"çäº§è-2",normalizedTitle:"çäº§è",charIndex:1568},{level:3,title:"æ¶è´¹è",slug:"æ¶è´¹è-2",normalizedTitle:"æ¶è´¹è",charIndex:2843},{level:2,title:"Spring Boot æ´å RabbitMQ",slug:"spring-boot-æ´å-rabbitmq",normalizedTitle:"spring boot æ´å rabbitmq",charIndex:26390},{level:3,title:"çäº§è",slug:"çäº§è-3",normalizedTitle:"çäº§è",charIndex:1568},{level:3,title:"æ¶è´¹è",slug:"æ¶è´¹è-3",normalizedTitle:"æ¶è´¹è",charIndex:2843}],headersStr:"å¸¸ç¨çMQäº§å RabbitMQç®ä» JMS å®è£ å¥é¨æ¡ä¾ çäº§è æ¶è´¹è Work queues å·¥ä½éåæ¨¡å¼ Pub/Sub è®¢éæ¨¡å¼ Routing è·¯ç±æ¨¡å¼ Topics ééç¬¦æ¨¡å¼ Spring æ´å RabbitMQ çäº§è æ¶è´¹è Spring Boot æ´å RabbitMQ çäº§è æ¶è´¹è",content:'# RabbitMQ\n\nMQå¨ç§° Message Queue(æ¶æ¯éå) æ¯å¨æ¶æ¯çä¼ è¾è¿ç¨ä¸­ä¿å­æ¶æ¯çå®¹å¨ å¤ç¨äºåå¸å¼ç³»ç»ä¹é´è¿è¡éä¿¡\n\n\n\n * ä¼å¿\n\n\n\n\n\n\n\n\n\n * å£å¿\n\n\n\n\n\n\n# å¸¸ç¨çMQäº§å\n\n\n\n\n# RabbitMQç®ä»\n\nAMQP å³ Advanced Message Queuing Protocol (é«çº§æ¶æ¯éååè®®) æ¯ä¸ä¸ªç½ç»åè®® æ¯åºç¨å±åè®®çä¸ä¸ªå¼æ¾æ å ä¸ºé¢åæ¶æ¯çä¸­é´ä»¶è®¾è®¡\n\n\n\n\n\n\n# JMS\n\nJMS å³ Java æ¶æ¯æå¡ åºç¨ç¨åºæ¥å£ ä¸ä¸ªJavaå¹³å°ä¸­å³äºé¢åä¸­é´ä»¶çAPI\n\n\n# å®è£\n\n 1. å®è£erlang\n\nyum -y install gcc glibc-devel make ncurses-devel openssl-devel xmlto perl wget gtk2-devel binutils-devel\nwget http://erlang.org/download/otp_src_22.0.tar.gz\ntar -zxvf otp_src_22.0.tar.gz\nmv otp_src_22.0 /usr/local/\ncd /usr/local/otp_src_22.0/\nmkdir ../erlang\n./configure --prefix=/usr/local/erlang\nmake install\n\nll /usr/local/erlang/bin\necho \'export PATH=$PATH:/usr/local/erlang/bin\' >> /etc/profile\nsource /etc/profile\nerl\n\nhalt().\n\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n\n 2. å®è£RabbitMQ\n\ncd /root\nwget https://github.com/rabbitmq/rabbitmq-server/releases/download/v3.7.15/rabbitmq-server-generic-unix-3.7.15.tar.xz\nyum install -y xz\n/bin/xz -d rabbitmq-server-generic-unix-3.7.15.tar.xz\ntar -xvf rabbitmq-server-generic-unix-3.7.15.tar\nmv rabbitmq_server-3.7.15/ /usr/local/\nmv /usr/local/rabbitmq_server-3.7.15  rabbitmq\necho \'export PATH=$PATH:/usr/local/rabbitmq/sbin\' >> /etc/profile\nsource /etc/profile\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n\n 3. å¯å¨\n\nrabbitmq-server -detached\nrabbitmq-plugins enable rabbitmq_management   #å¼å¯webæä»¶\nrabbitmqctl stop #åæ­¢\nrabbitmqctl status #ç¶æ\n\n\n\n1\n2\n3\n4\n5\n\n\né»è®¤è´¦å·å¯ç ï¼guest guestï¼è¿ä¸ªè´¦å·åªåè®¸æ¬æºè®¿é®ï¼\n\nfirewall-cmd --zone=public --add-port=15672/tcp --permanent\nvim /usr/local/rabbitmq/ebin/rabbit.app  #éç½®\n\n\n1\n2\n\n\n\n\nè®¿é®http://192.168.130.124:15672/\n\n\n# å¥é¨æ¡ä¾\n\n\n# çäº§è\n\n <dependencies>\n        <dependency>\n            <groupId>com.rabbitmq</groupId>\n            <artifactId>amqp-client</artifactId>\n            <version>5.6.0</version>\n\n        </dependency>\n    </dependencies>\n    <build>\n        <plugins>\n            <plugin>\n                <groupId>org.apache.maven.plugins</groupId>\n                <artifactId>maven-compiler-plugin</artifactId>\n                <version>3.8.0</version>\n                <configuration>\n                    <source>1.8</source>\n                    <target>1.8</target>\n                </configuration>\n            </plugin>\n        </plugins>\n    </build>\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n\n\n//1.åå»ºè¿æ¥å·¥å\nConnectionFactory factory = new ConnectionFactory();\n//2.è®¾ç½®åæ°\nfactory.setHost("192.168.130.124"); //ip\nfactory.setPort(5672);  //ç«¯å£\nfactory.setVirtualHost("/itcast");  //èææº é»è®¤å¼\nfactory.setUsername("iekr");  //ç¨æ·å\nfactory.setPassword("iekr");  //å¯ç  é»è®¤å¼ä¸ºguest\n//3.åå»ºè¿æ¥ connection\nConnection connection = factory.newConnection();\n//4.åå»ºchannel\nChannel channel = connection.createChannel();\n//5.åå»ºéåqueue\n/**\n * (String queue, boolean durable, boolean exclusive, boolean autoDelete, Map<String, Object> arguments)\n * queue éååç§°\n * durable æ¯å¦æä¹å å½mqéå¯ä¹åè¿å¨\n * exclusive æ¯å¦ç¬å ,åªè½æä¸ä¸ªæ¶è´¹èçå¬è¿ä¸ªéå  å½Connectionå³é­æ¶æ¯å¦å é¤éå\n * autoDelete æ¯å¦èªå¨å é¤ å½æ²¡æConsumeræ¶ èªå¨å é¤\n * arguments åæ°\n *\n */\n//å¦ææ²¡æä¸ä¸ªå«hello_worldçéå åèªå¨åå»º\nchannel.queueDeclare("hello_world",true,false,false,null);\n//6.åéæ¶æ¯\n/**\n * String var1, String var2, BasicProperties var3, byte[] var4\n * var1 äº¤æ¢æºåç§° ç®åæ¨¡å¼ä¸ä¼ä½¿ç¨é»è®¤ç""\n * var2  è·¯ç±åç§°\n * var3  éç½®ä¿¡æ¯\n * var4  åéæ¶æ¯æ°æ®\n */\nString body = "hello world";\nchannel.basicPublish("","hello_world",null,body.getBytes(StandardCharsets.UTF_8));\n\n//7.éæ¾èµæº\nchannel.close();\nconnection.close();\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n26\n27\n28\n29\n30\n31\n32\n33\n34\n35\n36\n37\n38\n\n\n\n# æ¶è´¹è\n\nä¸çäº§èåæ ä¸è´\n\n        //1.åå»ºè¿æ¥å·¥å\n        ConnectionFactory factory = new ConnectionFactory();\n        //2.è®¾ç½®åæ°\n        factory.setHost("192.168.130.124"); //ip\n        factory.setPort(5672);  //ç«¯å£\n        factory.setVirtualHost("/itcast");  //èææº é»è®¤å¼\n        factory.setUsername("iekr");  //ç¨æ·å\n        factory.setPassword("iekr");  //å¯ç  é»è®¤å¼ä¸ºguest\n        //3.åå»ºè¿æ¥ connection\n        Connection connection = factory.newConnection();\n        //4.åå»ºchannel\n        Channel channel = connection.createChannel();\n        //5.åå»ºéåqueue\n        /**\n         * (String queue, boolean durable, boolean exclusive, boolean autoDelete, Map<String, Object> arguments)\n         * queue éååç§°\n         * durable æ¯å¦æä¹å å½mqéå¯ä¹åè¿å¨\n         * exclusive æ¯å¦ç¬å ,åªè½æä¸ä¸ªæ¶è´¹èçå¬è¿ä¸ªéå  å½Connectionå³é­æ¶æ¯å¦å é¤éå\n         * autoDelete æ¯å¦èªå¨å é¤ å½æ²¡æConsumeræ¶ èªå¨å é¤\n         * arguments åæ°\n         *\n         */\n        //å¦ææ²¡æä¸ä¸ªå«hello_worldçéå åèªå¨åå»º\n        channel.queueDeclare("hello_world",true,false,false,null);\n        //6.æ¥åæ¶æ¯\n     \n        Consumer consumer = new DefaultConsumer(channel){\n            //åè°æ¹æ³ å½æ¶å°æ¶æ¯å ä¼æ§è¡è¯¥æ¹æ³\n\n            /**\n             *\n             * @param consumerTag  æ è¯\n             * @param envelope  è·åä¸äºä¿¡æ¯ äº¤æ¢æº è·¯ç±key\n             * @param properties  éç½®ä¿¡æ¯\n             * @param body  æ°æ®\n             * @throws IOException\n             */\n            @Override\n            public void handleDelivery(String consumerTag, Envelope envelope, AMQP.BasicProperties properties, byte[] body) throws IOException {\n                System.out.println(consumerTag);\n                System.out.println(envelope.getExchange());\n                System.out.println(envelope.getRoutingKey());\n                System.out.println(properties);\n                System.out.println(new String(body));\n            }\n        };\n        /**\n         * String var1, DeliverCallback var2, CancelCallback var3\n         * queue éååç§°\n         * autoAck æ¯å¦èªå¨ç¡®è®¤\n         * callback åè°å¯¹è±¡\n         */\n        channel.basicConsume("hello_world",true,consumer);\n\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n26\n27\n28\n29\n30\n31\n32\n33\n34\n35\n36\n37\n38\n39\n40\n41\n42\n43\n44\n45\n46\n47\n48\n49\n50\n51\n52\n53\n54\n\n\n\n# Work queues å·¥ä½éåæ¨¡å¼\n\n\n\nå¤ä¸ªæ¶è´¹èå±åæ¶è´¹ä¸ä¸ªéåä¸­çæ¶æ¯\n\nå¯¹äºä»»å¡è¿éæèä»»å¡è¾å¤æåµä½¿ç¨å·¥ä½éåå¯ä»¥æé«ä»»å¡å¤ççéåº¦\n\nçäº§èçæå¤æ¡æ¶æ¯ èæ¶è´¹èè½®æµåæ¢æ¥å\n\nWork queues ä»£ç ä¸çäº§è æ¶è´¹èæ²¡æå¤ªå¤§åºå« åªæ¯çäº§èå¨é¢éä¸­åéå¤æ¡ å¤ä¸ªæ¶è´¹èè½®æµæ¥åæ¶æ¯\n\n\n# Pub/Sub è®¢éæ¨¡å¼\n\n\n\nXä¸ºäº¤æ¢æº çäº§èåéæ¶æ¯ç»äº¤æ¢æº èäº¤æ¢æºè½¬åæ¶æ¯ æä¸ç§æ¨¡å¼\n\n * Fanout å¹¿æ­æ¨¡å¼ å°æ¶æ¯äº¤ç»ææç»å®å°äº¤æ¢æºçéå\n * Direct å®å ææ¶æ¯äº¤ç»ç¬¦åæå® routing key çéå\n * Topic ééç¬¦ ææ¶æ¯äº¤ç»ç¬¦å routing pattern (è·¯ç±æ¨¡å¼)\n\nçäº§è\n\n        //1.åå»ºè¿æ¥å·¥å\n        ConnectionFactory factory = new ConnectionFactory();\n        //2.è®¾ç½®åæ°\n        factory.setHost("192.168.130.124"); //ip\n        factory.setPort(5672);  //ç«¯å£\n        factory.setVirtualHost("/itcast");  //èææº é»è®¤å¼\n        factory.setUsername("iekr");  //ç¨æ·å\n        factory.setPassword("iekr");  //å¯ç  é»è®¤å¼ä¸ºguest\n        //3.åå»ºè¿æ¥ connection\n        Connection connection = factory.newConnection();\n        //4.åå»ºchannel\n        Channel channel = connection.createChannel();\n        //5.åå»ºäº¤æ¢æº\n        /**\n         * String var1, BuiltinExchangeType var2, boolean var3, boolean var4, boolean var5, Map<String, Object> var6\n         * exchange äº¤æ¢æºåç§°\n         * type äº¤æ¢æºç±»å æä¸¾  DIRECT("direct")å®å   FANOUT("fanout")æå½¢(å¹¿æ­)   TOPIC("topic")ééç¬¦ HEADERS("headers") åæ°å¹é\n         * durable æ¯å¦æä¹å\n         * autoDelete èªå¨å é¤\n         * internal åé¨ä½¿ç¨ ä¸è¬ä¸ºfalse\n         * arguments åæ°\n         */\n        String exchangeName = "test_fanout";\n        channel.exchangeDeclare(exchangeName, BuiltinExchangeType.FANOUT, true, false, false, null);\n        //6.åå»ºéå\n        String queue1Name = "test_fanout_queue1";\n        String queue2Name = "test_fanout_queue2";\n        channel.queueDeclare(queue1Name, true, false, false, null);\n        channel.queueDeclare(queue2Name, true, false, false, null);\n        //7.ç»å®éååäº¤æ¢æº\n        /**  String queue, String exchange, String routingKey\n         *  queue  éååç§°\n         *  exchange äº¤æ¢æºåç§°\n         *  routingKey è·¯ç±é®ç»å®è§å   å¦æäº¤æ¢æºç±»åä¸ºFANOUT åroutingKeyä¸º""\n         */\n        channel.queueBind(queue1Name, exchangeName, "");\n        channel.queueBind(queue2Name, exchangeName, "");\n\n        //8.åéæ¶æ¯\n        String body = "æ¥å¿ä¿¡æ¯:";\n        channel.basicPublish(exchangeName, "", null, body.getBytes(StandardCharsets.UTF_8));\n\n        //9.éæ¾èµæº\n        channel.close();\n        connection.close();\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n26\n27\n28\n29\n30\n31\n32\n33\n34\n35\n36\n37\n38\n39\n40\n41\n42\n43\n44\n45\n\n\nå¤ä¸ªæ¶è´¹èç»å®ä¸åçéå\n\n        //1.åå»ºè¿æ¥å·¥å\n        ConnectionFactory factory = new ConnectionFactory();\n        //2.è®¾ç½®åæ°\n        factory.setHost("192.168.130.124"); //ip\n        factory.setPort(5672);  //ç«¯å£\n        factory.setVirtualHost("/itcast");  //èææº é»è®¤å¼\n        factory.setUsername("iekr");  //ç¨æ·å\n        factory.setPassword("iekr");  //å¯ç  é»è®¤å¼ä¸ºguest\n        //3.åå»ºè¿æ¥ connection\n        Connection connection = factory.newConnection();\n        //4.åå»ºchannel\n        Channel channel = connection.createChannel();\n\n        //6.æ¥åæ¶æ¯\n        String queue1Name = "test_fanout_queue1";\n        String queue2Name = "test_fanout_queue2";\n        Consumer consumer = new DefaultConsumer(channel){\n            //åè°æ¹æ³ å½æ¶å°æ¶æ¯å ä¼æ§è¡è¯¥æ¹æ³\n\n            /**\n             *\n             * @param consumerTag  æ è¯\n             * @param envelope  è·åä¸äºä¿¡æ¯ äº¤æ¢æº è·¯ç±key\n             * @param properties  éç½®ä¿¡æ¯\n             * @param body  æ°æ®\n             * @throws IOException\n             */\n            @Override\n            public void handleDelivery(String consumerTag, Envelope envelope, AMQP.BasicProperties properties, byte[] body) throws IOException {\n//                System.out.println(consumerTag);\n//                System.out.println(envelope.getExchange());\n//                System.out.println(envelope.getRoutingKey());\n//                System.out.println(properties);\n                System.out.println(new String(body));\n                System.out.println("ç¬¬ä¸ä¸ªæ¶è´¹è");\n            }\n        };\n        /**\n         * String var1, DeliverCallback var2, CancelCallback var3\n         * queue éååç§°\n         * autoAck æ¯å¦èªå¨ç¡®è®¤\n         * callback åè°å¯¹è±¡\n         */\n        channel.basicConsume(queue1Name,true,consumer);\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n26\n27\n28\n29\n30\n31\n32\n33\n34\n35\n36\n37\n38\n39\n40\n41\n42\n43\n44\n\n\n\n# Routing è·¯ç±æ¨¡å¼\n\n\n\nçäº§èåéä¸åkeyçæ¶æ¯ç»äº¤æ¢æº èäº¤æ¢æºæ ¹æ®éåçkeyè½¬åæ¶æ¯ç»ææ è¯çéå\n\n        //1.åå»ºè¿æ¥å·¥å\n        ConnectionFactory factory = new ConnectionFactory();\n        //2.è®¾ç½®åæ°\n        factory.setHost("192.168.130.124"); //ip\n        factory.setPort(5672);  //ç«¯å£\n        factory.setVirtualHost("/itcast");  //èææº é»è®¤å¼\n        factory.setUsername("iekr");  //ç¨æ·å\n        factory.setPassword("iekr");  //å¯ç  é»è®¤å¼ä¸ºguest\n        //3.åå»ºè¿æ¥ connection\n        Connection connection = factory.newConnection();\n        //4.åå»ºchannel\n        Channel channel = connection.createChannel();\n        //5.åå»ºäº¤æ¢æº\n        /**\n         * String var1, BuiltinExchangeType var2, boolean var3, boolean var4, boolean var5, Map<String, Object> var6\n         * exchange äº¤æ¢æºåç§°\n         * type äº¤æ¢æºç±»å æä¸¾  DIRECT("direct")å®å   FANOUT("fanout")æå½¢(å¹¿æ­)   TOPIC("topic")ééç¬¦ HEADERS("headers") åæ°å¹é\n         * durable æ¯å¦æä¹å\n         * autoDelete èªå¨å é¤\n         * internal åé¨ä½¿ç¨ ä¸è¬ä¸ºfalse\n         * arguments åæ°\n         */\n        String exchangeName = "test_direct";\n        channel.exchangeDeclare(exchangeName, BuiltinExchangeType.DIRECT, true, false, false, null);\n        //6.åå»ºéå\n        String queue1Name = "test_direct_queue1";\n        String queue2Name = "test_direct_queue2";\n\n        channel.queueDeclare(queue1Name, true, false, false, null);\n        channel.queueDeclare(queue2Name, true, false, false, null);\n        //7.ç»å®éååäº¤æ¢æº\n        /**  String queue, String exchange, String routingKey\n         *  queue  éååç§°\n         *  exchange äº¤æ¢æºåç§°\n         *  routingKey è·¯ç±é®ç»å®è§å   å¦æäº¤æ¢æºç±»åä¸ºFANOUT åroutingKeyä¸º""\n         */\n        //éå1çç»å®\n        channel.queueBind(queue1Name, exchangeName, "error");\n        //éå2çç»å®\n        channel.queueBind(queue2Name, exchangeName, "info");\n        channel.queueBind(queue2Name, exchangeName, "error");\n        channel.queueBind(queue2Name, exchangeName, "warning");\n\n        //8.åéæ¶æ¯\n        String body = "æ¥å¿ä¿¡æ¯:";\n        //éå1åªæ¥åerroræ¶æ¯ èéå2ææç±»åé½æ¥å\n        channel.basicPublish(exchangeName, "info", null, body.getBytes(StandardCharsets.UTF_8));\n\n        //9.éæ¾èµæº\n        channel.close();\n        connection.close();\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n26\n27\n28\n29\n30\n31\n32\n33\n34\n35\n36\n37\n38\n39\n40\n41\n42\n43\n44\n45\n46\n47\n48\n49\n50\n51\n\n\næ¶è´¹è\n\n        //1.åå»ºè¿æ¥å·¥å\n        ConnectionFactory factory = new ConnectionFactory();\n        //2.è®¾ç½®åæ°\n        factory.setHost("192.168.130.124"); //ip\n        factory.setPort(5672);  //ç«¯å£\n        factory.setVirtualHost("/itcast");  //èææº é»è®¤å¼\n        factory.setUsername("iekr");  //ç¨æ·å\n        factory.setPassword("iekr");  //å¯ç  é»è®¤å¼ä¸ºguest\n        //3.åå»ºè¿æ¥ connection\n        Connection connection = factory.newConnection();\n        //4.åå»ºchannel\n        Channel channel = connection.createChannel();\n\n        //6.æ¥åæ¶æ¯\n        String queue1Name = "test_direct_queue1";\n        String queue2Name = "test_direct_queue2";\n        Consumer consumer = new DefaultConsumer(channel){\n            //åè°æ¹æ³ å½æ¶å°æ¶æ¯å ä¼æ§è¡è¯¥æ¹æ³\n\n            /**\n             *\n             * @param consumerTag  æ è¯\n             * @param envelope  è·åä¸äºä¿¡æ¯ äº¤æ¢æº è·¯ç±key\n             * @param properties  éç½®ä¿¡æ¯\n             * @param body  æ°æ®\n             * @throws IOException\n             */\n            @Override\n            public void handleDelivery(String consumerTag, Envelope envelope, AMQP.BasicProperties properties, byte[] body) throws IOException {\n//                System.out.println(consumerTag);\n//                System.out.println(envelope.getExchange());\n//                System.out.println(envelope.getRoutingKey());\n//                System.out.println(properties);\n                System.out.println(new String(body));\n                System.out.println("éå1 å­å¨å°æ°æ®åº");\n            }\n        };\n        /**\n         * String var1, DeliverCallback var2, CancelCallback var3\n         * queue éååç§°\n         * autoAck æ¯å¦èªå¨ç¡®è®¤\n         * callback åè°å¯¹è±¡\n         */\n        channel.basicConsume(queue1Name,true,consumer);\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n26\n27\n28\n29\n30\n31\n32\n33\n34\n35\n36\n37\n38\n39\n40\n41\n42\n43\n44\n\n\n\n# Topics ééç¬¦æ¨¡å¼\n\n\n\nä½¿ç¨ééç¬¦åè·¯ç±å¨è½¬å è®©éåæ´å çµæ´»çæ¥åå¯¹åºçæ¶æ¯\n\n*æå·ä»£è¡¨0ä¸ªæå¤ä¸ªåè¯\n\n#äºå·ä»£è¡¨1ä¸ªåè¯\n\nçäº§è\n\n//1.åå»ºè¿æ¥å·¥å\nConnectionFactory factory = new ConnectionFactory();\n//2.è®¾ç½®åæ°\nfactory.setHost("192.168.130.124"); //ip\nfactory.setPort(5672);  //ç«¯å£\nfactory.setVirtualHost("/itcast");  //èææº é»è®¤å¼\nfactory.setUsername("iekr");  //ç¨æ·å\nfactory.setPassword("iekr");  //å¯ç  é»è®¤å¼ä¸ºguest\n//3.åå»ºè¿æ¥ connection\nConnection connection = factory.newConnection();\n//4.åå»ºchannel\nChannel channel = connection.createChannel();\n//5.åå»ºäº¤æ¢æº\n/**\n * String var1, BuiltinExchangeType var2, boolean var3, boolean var4, boolean var5, Map<String, Object> var6\n * exchange äº¤æ¢æºåç§°\n * type äº¤æ¢æºç±»å æä¸¾  DIRECT("direct")å®å   FANOUT("fanout")æå½¢(å¹¿æ­)   TOPIC("topic")ééç¬¦ HEADERS("headers") åæ°å¹é\n * durable æ¯å¦æä¹å\n * autoDelete èªå¨å é¤\n * internal åé¨ä½¿ç¨ ä¸è¬ä¸ºfalse\n * arguments åæ°\n */\nString exchangeName = "test_topics";\nchannel.exchangeDeclare(exchangeName, BuiltinExchangeType.TOPIC, true, false, false, null);\n//6.åå»ºéå\nString queue1Name = "test_topics_queue1";\nString queue2Name = "test_topics_queue2";\nchannel.queueDeclare(queue1Name, true, false, false, null);\nchannel.queueDeclare(queue2Name, true, false, false, null);\n//7.ç»å®éååäº¤æ¢æº\n/**  String queue, String exchange, String routingKey\n *  queue  éååç§°\n *  exchange äº¤æ¢æºåç§°\n *  routingKey è·¯ç±é®ç»å®è§å   å¦æäº¤æ¢æºç±»åä¸ºFANOUT åroutingKeyä¸º""\n */\n//routing key  ç³»ç»çåç§°.æ¥å¿ççº§å«\nchannel.queueBind(queue1Name, exchangeName, "#.error"); //ä»¥.errorç»å°¾\nchannel.queueBind(queue1Name, exchangeName, "order.*");  //ä»¥order.å¼å¤´\nchannel.queueBind(queue2Name, exchangeName, "*.*");    //éå2æææ¶æ¯é½å¯ä»¥æ¥åå°\n\n//8.åéæ¶æ¯\nString body = "æ¥å¿ä¿¡æ¯:";\nchannel.basicPublish(exchangeName, "goods.info", null, body.getBytes(StandardCharsets.UTF_8));\n\n//9.éæ¾èµæº\nchannel.close();\nconnection.close();\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n26\n27\n28\n29\n30\n31\n32\n33\n34\n35\n36\n37\n38\n39\n40\n41\n42\n43\n44\n45\n46\n47\n\n\næ¶è´¹è\n\n        //1.åå»ºè¿æ¥å·¥å\n        ConnectionFactory factory = new ConnectionFactory();\n        //2.è®¾ç½®åæ°\n        factory.setHost("192.168.130.124"); //ip\n        factory.setPort(5672);  //ç«¯å£\n        factory.setVirtualHost("/itcast");  //èææº é»è®¤å¼\n        factory.setUsername("iekr");  //ç¨æ·å\n        factory.setPassword("iekr");  //å¯ç  é»è®¤å¼ä¸ºguest\n        //3.åå»ºè¿æ¥ connection\n        Connection connection = factory.newConnection();\n        //4.åå»ºchannel\n        Channel channel = connection.createChannel();\n\n        //6.æ¥åæ¶æ¯\n        String queue1Name = "test_topics_queue1";\n        String queue2Name = "test_topics_queue2";\n        Consumer consumer = new DefaultConsumer(channel){\n            //åè°æ¹æ³ å½æ¶å°æ¶æ¯å ä¼æ§è¡è¯¥æ¹æ³\n\n            /**\n             *\n             * @param consumerTag  æ è¯\n             * @param envelope  è·åä¸äºä¿¡æ¯ äº¤æ¢æº è·¯ç±key\n             * @param properties  éç½®ä¿¡æ¯\n             * @param body  æ°æ®\n             * @throws IOException\n             */\n            @Override\n            public void handleDelivery(String consumerTag, Envelope envelope, AMQP.BasicProperties properties, byte[] body) throws IOException {\n//                System.out.println(consumerTag);\n//                System.out.println(envelope.getExchange());\n//                System.out.println(envelope.getRoutingKey());\n//                System.out.println(properties);\n                System.out.println(new String(body));\n                System.out.println("éå1 å­å¨å°æ°æ®åº");\n            }\n        };\n        /**\n         * String var1, DeliverCallback var2, CancelCallback var3\n         * queue éååç§°\n         * autoAck æ¯å¦èªå¨ç¡®è®¤\n         * callback åè°å¯¹è±¡\n         */\n        channel.basicConsume(queue1Name,true,consumer);\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n26\n27\n28\n29\n30\n31\n32\n33\n34\n35\n36\n37\n38\n39\n40\n41\n42\n43\n44\n\n\n\n# Spring æ´å RabbitMQ\n\nåæ \n\n    <dependencies>\n        <dependency>\n            <groupId>org.springframework</groupId>\n            <artifactId>spring-context</artifactId>\n            <version>5.3.10</version>\n        </dependency>\n        <dependency>\n            <groupId>org.springframework.amqp</groupId>\n            <artifactId>spring-rabbit</artifactId>\n            <version>2.3.9</version>\n        </dependency>\n        <dependency>\n            <groupId>junit</groupId>\n            <artifactId>junit</artifactId>\n            <version>4.13</version>\n        </dependency>\n        <dependency>\n            <groupId>org.springframework</groupId>\n            <artifactId>spring-test</artifactId>\n            <version>5.3.10</version>\n        </dependency>\n    </dependencies>\n    <build>\n        <plugins>\n            <plugin>\n                <groupId>org.apache.maven.plugins</groupId>\n                <artifactId>maven-compiler-plugin</artifactId>\n                <version>3.8.1</version>\n                <configuration>\n                    <source>1.8</source>\n                    <target>1.8</target>\n                </configuration>\n            </plugin>\n        </plugins>\n    </build>\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n26\n27\n28\n29\n30\n31\n32\n33\n34\n35\n\n\nrabbitmq.properties\n\nrabbitmq.host=192.168.130.124\nrabbitmq.port=5672\nrabbitmq.username=iekr\nrabbitmq.password=iekr\nrabbitmq.virtual-host=/itcast\n\n\n1\n2\n3\n4\n5\n\n\n\n# çäº§è\n\nspring-rabbitmq-producer.xml\n\n<?xml version="1.0" encoding="UTF-8" ?>\n<beans xmlns="http://www.springframework.org/schema/beans"\n       xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"\n       xmlns:p="http://www.springframework.org/schema/p"\n       xmlns:context="http://www.springframework.org/schema/context"\n       xmlns:rabbit="http://www.springframework.org/schema/rabbit"\n       xsi:schemaLocation="\n       http://www.springframework.org/schema/beans\n        https://www.springframework.org/schema/beans/spring-beans.xsd\n       http://www.springframework.org/schema/context\n        https://www.springframework.org/schema/context/spring-context.xsd\n        http://www.springframework.org/schema/rabbit\n        https://www.springframework.org/schema/rabbit/spring-rabbit.xsd\n">\n    \x3c!--    å è½½éç½®æä»¶--\x3e\n    <context:property-placeholder location="classpath:rabbitmq.properties"/>\n\n    \x3c!--    å®ä¹rabbitmq connectionFactory--\x3e\n    <rabbit:connection-factory id="connectionFactory" host="${rabbitmq.host}"\n                               port="${rabbitmq.port}"\n                               username="${rabbitmq.username}"\n                               password="${rabbitmq.password}"\n                               virtual-host="${rabbitmq.virtual-host}"/>\n    \x3c!--    å®ä¹ç®¡çäº¤æ¢æº éå--\x3e\n    <rabbit:admin connection-factory="connectionFactory"/>\n\n    \x3c!--    å®ä¹æä¹åéå ä¸å­å¨åèªå¨åå»º ä¸ç»å®å°äº¤æ¢æºåç»å®å°é»è®¤äº¤æ¢æº   é»è®¤äº¤æ¢æºä¸ºdirect  åå­ä¸º""  è·¯ç±é®ä½éååç§°--\x3e\n    <rabbit:queue id="spring_queue" name="spring_queue" auto-declare="true"/>\n\n    \x3c!--    å®ä¹å¹¿æ­äº¤æ¢æºä¸­çæä¹åéå ä¸å­å¨åèªå¨åå»º--\x3e\n    <rabbit:queue id="spring_fanout_queue_1" name="spring_fanout_queue_1" auto-declare="true"/>\n    <rabbit:queue id="spring_fanout_queue_2" name="spring_fanout_queue_2" auto-declare="true"/>\n\n    \x3c!--    å®ä¹å¹¿æ­ç±»åäº¤æ¢æº ç»å®ä¸é¢ä¸¤ä¸ªéå--\x3e\n    <rabbit:fanout-exchange name="spring_fanout_exchange"\n                            id="spring_fanout_exchange"\n                            auto-declare="true">\n        <rabbit:bindings>\n            <rabbit:binding queue="spring_fanout_queue_1"/>\n            <rabbit:binding queue="spring_fanout_queue_2"/>\n        </rabbit:bindings>\n    </rabbit:fanout-exchange>\n\n    \x3c!--    ééç¬¦éå--\x3e\n    <rabbit:queue id="spring_topic_queue_star" name="spring_topic_queue_star" auto-declare="true"/>\n    <rabbit:queue id="spring_topic_queue_well" name="spring_topic_queue_well" auto-declare="true"/>\n    <rabbit:queue id="spring_topic_queue_well2" name="spring_topic_queue_well2" auto-declare="true"/>\n\n    \x3c!--    ééç¬¦å®ä¹--\x3e\n    <rabbit:topic-exchange name="spring_topic_exchange" id="spring_topic_exchange" auto-declare="true">\n        <rabbit:bindings>\n            <rabbit:binding pattern="heima.*" queue="spring_topic_queue_star"/>\n            <rabbit:binding pattern="heima.#" queue="spring_topic_queue_well"/>\n            <rabbit:binding pattern="itcast.#" queue="spring_topic_queue_well2"/>\n        </rabbit:bindings>\n    </rabbit:topic-exchange>\n\n    \x3c!--    å®ä¹rabbitTemplateå¯¹è±¡æä½å¯ä»¥å¨ä»£ç ä¸­æ¹ä¾¿åéæ¶æ¯--\x3e\n    <rabbit:template id="rabbitTemplate" connection-factory="connectionFactory"/>\n\n\n</beans>\n\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n26\n27\n28\n29\n30\n31\n32\n33\n34\n35\n36\n37\n38\n39\n40\n41\n42\n43\n44\n45\n46\n47\n48\n49\n50\n51\n52\n53\n54\n55\n56\n57\n58\n59\n60\n61\n62\n63\n\n\ntest\n\npackage com.itheima;\n\nimport org.junit.Test;\nimport org.junit.runner.RunWith;\nimport org.springframework.amqp.rabbit.core.RabbitTemplate;\nimport org.springframework.beans.factory.annotation.Autowired;\nimport org.springframework.test.context.ContextConfiguration;\nimport org.springframework.test.context.junit4.SpringJUnit4ClassRunner;\n\n@RunWith(SpringJUnit4ClassRunner.class)\n@ContextConfiguration(locations = "classpath:spring-rabbitmq-producer.xml")\npublic class ProducerTest {\n\n    //æ³¨å¥\n    @Autowired\n    private RabbitTemplate rabbitTemplate;\n\n    //1å¯¹1\n    @Test\n    public void testHelloWorld() {\n        //åéæ¶æ¯\n        rabbitTemplate.convertAndSend("spring_queue", "hello world spring ...");\n    }\n\n    //å¹¿æ­\n    @Test\n    public void testFanout() {\n        //åéæ¶æ¯\n        rabbitTemplate.convertAndSend("spring_fanout_exchange", "", "spring fanout...");\n    }\n\n    //topic\n    @Test\n    public void testTopic() {\n        //åéæ¶æ¯\n        rabbitTemplate.convertAndSend("spring_topic_exchange", "heima.123.456", "spring topic...");\n    }\n\n\n}\n\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n26\n27\n28\n29\n30\n31\n32\n33\n34\n35\n36\n37\n38\n39\n40\n41\n\n\n\n# æ¶è´¹è\n\nspring-rabbitmq-consumer.xml\n\n<?xml version="1.0" encoding="UTF-8" ?>\n<beans xmlns="http://www.springframework.org/schema/beans"\n       xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"\n       xmlns:p="http://www.springframework.org/schema/p"\n       xmlns:context="http://www.springframework.org/schema/context"\n       xmlns:rabbit="http://www.springframework.org/schema/rabbit"\n       xsi:schemaLocation="\n       http://www.springframework.org/schema/beans\n        https://www.springframework.org/schema/beans/spring-beans.xsd\n       http://www.springframework.org/schema/context\n        https://www.springframework.org/schema/context/spring-context.xsd\n        http://www.springframework.org/schema/rabbit\n        https://www.springframework.org/schema/rabbit/spring-rabbit.xsd\n">\n    \x3c!--    å è½½éç½®æä»¶--\x3e\n    <context:property-placeholder location="classpath:rabbitmq.properties"/>\n\n    \x3c!--    å®ä¹rabbitmq connectionFactory--\x3e\n    <rabbit:connection-factory id="connectionFactory" host="${rabbitmq.host}"\n                               port="${rabbitmq.port}"\n                               username="${rabbitmq.username}"\n                               password="${rabbitmq.password}"\n                               virtual-host="${rabbitmq.virtual-host}"/>\n\n    <bean id="springQueueListener" class="com.itheima.rabbitmq.SpringQueueListener"/>\n\x3c!--    <bean id="fanoutListener1" class="com.itheima.rabbitmq.FanoutListener1"/>--\x3e\n\x3c!--    <bean id="fanoutListener2" class="com.itheima.rabbitmq.FanoutListener2"/>--\x3e\n\x3c!--    <bean id="topicListenerStar" class="com.itheima.rabbitmq.TopicListenerStar"/>--\x3e\n\x3c!--    <bean id="topicListenerWell" class="com.itheima.rabbitmq.TopicListenerWell"/>--\x3e\n\x3c!--    <bean id="topicListenerWell2" class="com.itheima.rabbitmq.TopicListenerWell2"/>--\x3e\n\n    <rabbit:listener-container connection-factory="connectionFactory" auto-declare="true">\n        <rabbit:listener ref="springQueueListener" queue-names="spring_queue"/>\n\x3c!--        <rabbit:listener ref="fanoutListener1" queue-names="spring_fanout_queue1"/>--\x3e\n\x3c!--        <rabbit:listener ref="fanoutListener2" queue-names="spring_fanout_queue2"/>--\x3e\n\x3c!--        <rabbit:listener ref="topicListenerStar" queue-names="spring_topic_queue_star"/>--\x3e\n\x3c!--        <rabbit:listener ref="topicListenerWell" queue-names="spring_topic_queue_well"/>--\x3e\n\x3c!--        <rabbit:listener ref="topicListenerWell2" queue-names="spring_topic_queue_well2"/>--\x3e\n    </rabbit:listener-container>\n\n\n</beans>\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n26\n27\n28\n29\n30\n31\n32\n33\n34\n35\n36\n37\n38\n39\n40\n41\n42\n\n\næ¶è´¹èç±» æ ¹æ®bean id ç¼åå¯¹åºçç±»å å¹¶ å®ç° MessageListener éå onMessage æ¹æ³\n\npackage com.itheima.rabbitmq;\n\nimport org.springframework.amqp.core.Message;\nimport org.springframework.amqp.core.MessageListener;\n\npublic class SpringQueueListener implements MessageListener {\n    @Override\n    public void onMessage(Message message) {\n        System.out.println(new String(message.getBody()));\n    }\n}\n\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n\n\n\n# Spring Boot æ´å RabbitMQ\n\n\n\n\n# çäº§è\n\nç»å®äº¤æ¢æºåéå\n\npackage com.example.springrabbitmqproducer.rabbitmq.config;\n\nimport org.springframework.amqp.core.*;\nimport org.springframework.beans.factory.annotation.Qualifier;\nimport org.springframework.context.annotation.Bean;\nimport org.springframework.context.annotation.Configuration;\n\n@Configuration\npublic class RabbitMQConfig {\n    public static final String EXCHANGE_NAME = "boot_topic_exchange";\n    public static final String QUEUE_NAME = "boot_queue";\n\n    //1.äº¤æ¢æº\n    @Bean("bootExchange")\n    public Exchange bootExchange() {\n        //è·å4ç§ç±»åçäº¤æ¢æº\n        return ExchangeBuilder.topicExchange(EXCHANGE_NAME).durable(true).build();\n    }\n\n    //2.éå\n    @Bean("bootQueue")\n    public Queue bootQueue() {\n        return QueueBuilder.durable(QUEUE_NAME).build();\n    }\n\n    //3.éååäº¤æ¢æºçç»å®\n    @Bean\n    public Binding bindQueueExchange(@Qualifier("bootQueue") Queue queue, @Qualifier("bootExchange") Exchange exchange) {\n        return BindingBuilder.bind(queue).to(exchange).with("boot.#").noargs();\n    }\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n26\n27\n28\n29\n30\n31\n\n\ntest\n\npackage com.example.springrabbitmqproducer;\n\nimport com.example.springrabbitmqproducer.rabbitmq.config.RabbitMQConfig;\nimport org.junit.jupiter.api.Test;\nimport org.springframework.amqp.rabbit.core.RabbitTemplate;\nimport org.springframework.beans.factory.annotation.Autowired;\nimport org.springframework.boot.test.context.SpringBootTest;\n\n@SpringBootTest\nclass SpringRabbitmqProducerApplicationTests {\n\n    //æ³¨å¥RabbitTemplate\n    @Autowired\n    private RabbitTemplate rabbitTemplate;\n\n    @Test\n    public void testSend(){\n        rabbitTemplate.convertAndSend(RabbitMQConfig.EXCHANGE_NAME,"boot.haha","boot mq hello");\n    }\n\n\n\n\n}\n\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n\n\n\n# æ¶è´¹è\n\n@Component\npublic class RabbitMQListener {\n\n    //çå¬æå®éå\n    @RabbitListener(queues = "boot_queue")\n    public void ListenerQueue(Message message) {      \n        System.out.println(new String(message.getBody()));\n    }\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n',normalizedContent:'# rabbitmq\n\nmqå¨ç§° message queue(æ¶æ¯éå) æ¯å¨æ¶æ¯çä¼ è¾è¿ç¨ä¸­ä¿å­æ¶æ¯çå®¹å¨ å¤ç¨äºåå¸å¼ç³»ç»ä¹é´è¿è¡éä¿¡\n\n\n\n * ä¼å¿\n\n\n\n\n\n\n\n\n\n * å£å¿\n\n\n\n\n\n\n# å¸¸ç¨çmqäº§å\n\n\n\n\n# rabbitmqç®ä»\n\namqp å³ advanced message queuing protocol (é«çº§æ¶æ¯éååè®®) æ¯ä¸ä¸ªç½ç»åè®® æ¯åºç¨å±åè®®çä¸ä¸ªå¼æ¾æ å ä¸ºé¢åæ¶æ¯çä¸­é´ä»¶è®¾è®¡\n\n\n\n\n\n\n# jms\n\njms å³ java æ¶æ¯æå¡ åºç¨ç¨åºæ¥å£ ä¸ä¸ªjavaå¹³å°ä¸­å³äºé¢åä¸­é´ä»¶çapi\n\n\n# å®è£\n\n 1. å®è£erlang\n\nyum -y install gcc glibc-devel make ncurses-devel openssl-devel xmlto perl wget gtk2-devel binutils-devel\nwget http://erlang.org/download/otp_src_22.0.tar.gz\ntar -zxvf otp_src_22.0.tar.gz\nmv otp_src_22.0 /usr/local/\ncd /usr/local/otp_src_22.0/\nmkdir ../erlang\n./configure --prefix=/usr/local/erlang\nmake install\n\nll /usr/local/erlang/bin\necho \'export path=$path:/usr/local/erlang/bin\' >> /etc/profile\nsource /etc/profile\nerl\n\nhalt().\n\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n\n 2. å®è£rabbitmq\n\ncd /root\nwget https://github.com/rabbitmq/rabbitmq-server/releases/download/v3.7.15/rabbitmq-server-generic-unix-3.7.15.tar.xz\nyum install -y xz\n/bin/xz -d rabbitmq-server-generic-unix-3.7.15.tar.xz\ntar -xvf rabbitmq-server-generic-unix-3.7.15.tar\nmv rabbitmq_server-3.7.15/ /usr/local/\nmv /usr/local/rabbitmq_server-3.7.15  rabbitmq\necho \'export path=$path:/usr/local/rabbitmq/sbin\' >> /etc/profile\nsource /etc/profile\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n\n 3. å¯å¨\n\nrabbitmq-server -detached\nrabbitmq-plugins enable rabbitmq_management   #å¼å¯webæä»¶\nrabbitmqctl stop #åæ­¢\nrabbitmqctl status #ç¶æ\n\n\n\n1\n2\n3\n4\n5\n\n\né»è®¤è´¦å·å¯ç ï¼guest guestï¼è¿ä¸ªè´¦å·åªåè®¸æ¬æºè®¿é®ï¼\n\nfirewall-cmd --zone=public --add-port=15672/tcp --permanent\nvim /usr/local/rabbitmq/ebin/rabbit.app  #éç½®\n\n\n1\n2\n\n\n\n\nè®¿é®http://192.168.130.124:15672/\n\n\n# å¥é¨æ¡ä¾\n\n\n# çäº§è\n\n <dependencies>\n        <dependency>\n            <groupid>com.rabbitmq</groupid>\n            <artifactid>amqp-client</artifactid>\n            <version>5.6.0</version>\n\n        </dependency>\n    </dependencies>\n    <build>\n        <plugins>\n            <plugin>\n                <groupid>org.apache.maven.plugins</groupid>\n                <artifactid>maven-compiler-plugin</artifactid>\n                <version>3.8.0</version>\n                <configuration>\n                    <source>1.8</source>\n                    <target>1.8</target>\n                </configuration>\n            </plugin>\n        </plugins>\n    </build>\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n\n\n//1.åå»ºè¿æ¥å·¥å\nconnectionfactory factory = new connectionfactory();\n//2.è®¾ç½®åæ°\nfactory.sethost("192.168.130.124"); //ip\nfactory.setport(5672);  //ç«¯å£\nfactory.setvirtualhost("/itcast");  //èææº é»è®¤å¼\nfactory.setusername("iekr");  //ç¨æ·å\nfactory.setpassword("iekr");  //å¯ç  é»è®¤å¼ä¸ºguest\n//3.åå»ºè¿æ¥ connection\nconnection connection = factory.newconnection();\n//4.åå»ºchannel\nchannel channel = connection.createchannel();\n//5.åå»ºéåqueue\n/**\n * (string queue, boolean durable, boolean exclusive, boolean autodelete, map<string, object> arguments)\n * queue éååç§°\n * durable æ¯å¦æä¹å å½mqéå¯ä¹åè¿å¨\n * exclusive æ¯å¦ç¬å ,åªè½æä¸ä¸ªæ¶è´¹èçå¬è¿ä¸ªéå  å½connectionå³é­æ¶æ¯å¦å é¤éå\n * autodelete æ¯å¦èªå¨å é¤ å½æ²¡æconsumeræ¶ èªå¨å é¤\n * arguments åæ°\n *\n */\n//å¦ææ²¡æä¸ä¸ªå«hello_worldçéå åèªå¨åå»º\nchannel.queuedeclare("hello_world",true,false,false,null);\n//6.åéæ¶æ¯\n/**\n * string var1, string var2, basicproperties var3, byte[] var4\n * var1 äº¤æ¢æºåç§° ç®åæ¨¡å¼ä¸ä¼ä½¿ç¨é»è®¤ç""\n * var2  è·¯ç±åç§°\n * var3  éç½®ä¿¡æ¯\n * var4  åéæ¶æ¯æ°æ®\n */\nstring body = "hello world";\nchannel.basicpublish("","hello_world",null,body.getbytes(standardcharsets.utf_8));\n\n//7.éæ¾èµæº\nchannel.close();\nconnection.close();\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n26\n27\n28\n29\n30\n31\n32\n33\n34\n35\n36\n37\n38\n\n\n\n# æ¶è´¹è\n\nä¸çäº§èåæ ä¸è´\n\n        //1.åå»ºè¿æ¥å·¥å\n        connectionfactory factory = new connectionfactory();\n        //2.è®¾ç½®åæ°\n        factory.sethost("192.168.130.124"); //ip\n        factory.setport(5672);  //ç«¯å£\n        factory.setvirtualhost("/itcast");  //èææº é»è®¤å¼\n        factory.setusername("iekr");  //ç¨æ·å\n        factory.setpassword("iekr");  //å¯ç  é»è®¤å¼ä¸ºguest\n        //3.åå»ºè¿æ¥ connection\n        connection connection = factory.newconnection();\n        //4.åå»ºchannel\n        channel channel = connection.createchannel();\n        //5.åå»ºéåqueue\n        /**\n         * (string queue, boolean durable, boolean exclusive, boolean autodelete, map<string, object> arguments)\n         * queue éååç§°\n         * durable æ¯å¦æä¹å å½mqéå¯ä¹åè¿å¨\n         * exclusive æ¯å¦ç¬å ,åªè½æä¸ä¸ªæ¶è´¹èçå¬è¿ä¸ªéå  å½connectionå³é­æ¶æ¯å¦å é¤éå\n         * autodelete æ¯å¦èªå¨å é¤ å½æ²¡æconsumeræ¶ èªå¨å é¤\n         * arguments åæ°\n         *\n         */\n        //å¦ææ²¡æä¸ä¸ªå«hello_worldçéå åèªå¨åå»º\n        channel.queuedeclare("hello_world",true,false,false,null);\n        //6.æ¥åæ¶æ¯\n     \n        consumer consumer = new defaultconsumer(channel){\n            //åè°æ¹æ³ å½æ¶å°æ¶æ¯å ä¼æ§è¡è¯¥æ¹æ³\n\n            /**\n             *\n             * @param consumertag  æ è¯\n             * @param envelope  è·åä¸äºä¿¡æ¯ äº¤æ¢æº è·¯ç±key\n             * @param properties  éç½®ä¿¡æ¯\n             * @param body  æ°æ®\n             * @throws ioexception\n             */\n            @override\n            public void handledelivery(string consumertag, envelope envelope, amqp.basicproperties properties, byte[] body) throws ioexception {\n                system.out.println(consumertag);\n                system.out.println(envelope.getexchange());\n                system.out.println(envelope.getroutingkey());\n                system.out.println(properties);\n                system.out.println(new string(body));\n            }\n        };\n        /**\n         * string var1, delivercallback var2, cancelcallback var3\n         * queue éååç§°\n         * autoack æ¯å¦èªå¨ç¡®è®¤\n         * callback åè°å¯¹è±¡\n         */\n        channel.basicconsume("hello_world",true,consumer);\n\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n26\n27\n28\n29\n30\n31\n32\n33\n34\n35\n36\n37\n38\n39\n40\n41\n42\n43\n44\n45\n46\n47\n48\n49\n50\n51\n52\n53\n54\n\n\n\n# work queues å·¥ä½éåæ¨¡å¼\n\n\n\nå¤ä¸ªæ¶è´¹èå±åæ¶è´¹ä¸ä¸ªéåä¸­çæ¶æ¯\n\nå¯¹äºä»»å¡è¿éæèä»»å¡è¾å¤æåµä½¿ç¨å·¥ä½éåå¯ä»¥æé«ä»»å¡å¤ççéåº¦\n\nçäº§èçæå¤æ¡æ¶æ¯ èæ¶è´¹èè½®æµåæ¢æ¥å\n\nwork queues ä»£ç ä¸çäº§è æ¶è´¹èæ²¡æå¤ªå¤§åºå« åªæ¯çäº§èå¨é¢éä¸­åéå¤æ¡ å¤ä¸ªæ¶è´¹èè½®æµæ¥åæ¶æ¯\n\n\n# pub/sub è®¢éæ¨¡å¼\n\n\n\nxä¸ºäº¤æ¢æº çäº§èåéæ¶æ¯ç»äº¤æ¢æº èäº¤æ¢æºè½¬åæ¶æ¯ æä¸ç§æ¨¡å¼\n\n * fanout å¹¿æ­æ¨¡å¼ å°æ¶æ¯äº¤ç»ææç»å®å°äº¤æ¢æºçéå\n * direct å®å ææ¶æ¯äº¤ç»ç¬¦åæå® routing key çéå\n * topic ééç¬¦ ææ¶æ¯äº¤ç»ç¬¦å routing pattern (è·¯ç±æ¨¡å¼)\n\nçäº§è\n\n        //1.åå»ºè¿æ¥å·¥å\n        connectionfactory factory = new connectionfactory();\n        //2.è®¾ç½®åæ°\n        factory.sethost("192.168.130.124"); //ip\n        factory.setport(5672);  //ç«¯å£\n        factory.setvirtualhost("/itcast");  //èææº é»è®¤å¼\n        factory.setusername("iekr");  //ç¨æ·å\n        factory.setpassword("iekr");  //å¯ç  é»è®¤å¼ä¸ºguest\n        //3.åå»ºè¿æ¥ connection\n        connection connection = factory.newconnection();\n        //4.åå»ºchannel\n        channel channel = connection.createchannel();\n        //5.åå»ºäº¤æ¢æº\n        /**\n         * string var1, builtinexchangetype var2, boolean var3, boolean var4, boolean var5, map<string, object> var6\n         * exchange äº¤æ¢æºåç§°\n         * type äº¤æ¢æºç±»å æä¸¾  direct("direct")å®å   fanout("fanout")æå½¢(å¹¿æ­)   topic("topic")ééç¬¦ headers("headers") åæ°å¹é\n         * durable æ¯å¦æä¹å\n         * autodelete èªå¨å é¤\n         * internal åé¨ä½¿ç¨ ä¸è¬ä¸ºfalse\n         * arguments åæ°\n         */\n        string exchangename = "test_fanout";\n        channel.exchangedeclare(exchangename, builtinexchangetype.fanout, true, false, false, null);\n        //6.åå»ºéå\n        string queue1name = "test_fanout_queue1";\n        string queue2name = "test_fanout_queue2";\n        channel.queuedeclare(queue1name, true, false, false, null);\n        channel.queuedeclare(queue2name, true, false, false, null);\n        //7.ç»å®éååäº¤æ¢æº\n        /**  string queue, string exchange, string routingkey\n         *  queue  éååç§°\n         *  exchange äº¤æ¢æºåç§°\n         *  routingkey è·¯ç±é®ç»å®è§å   å¦æäº¤æ¢æºç±»åä¸ºfanout åroutingkeyä¸º""\n         */\n        channel.queuebind(queue1name, exchangename, "");\n        channel.queuebind(queue2name, exchangename, "");\n\n        //8.åéæ¶æ¯\n        string body = "æ¥å¿ä¿¡æ¯:";\n        channel.basicpublish(exchangename, "", null, body.getbytes(standardcharsets.utf_8));\n\n        //9.éæ¾èµæº\n        channel.close();\n        connection.close();\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n26\n27\n28\n29\n30\n31\n32\n33\n34\n35\n36\n37\n38\n39\n40\n41\n42\n43\n44\n45\n\n\nå¤ä¸ªæ¶è´¹èç»å®ä¸åçéå\n\n        //1.åå»ºè¿æ¥å·¥å\n        connectionfactory factory = new connectionfactory();\n        //2.è®¾ç½®åæ°\n        factory.sethost("192.168.130.124"); //ip\n        factory.setport(5672);  //ç«¯å£\n        factory.setvirtualhost("/itcast");  //èææº é»è®¤å¼\n        factory.setusername("iekr");  //ç¨æ·å\n        factory.setpassword("iekr");  //å¯ç  é»è®¤å¼ä¸ºguest\n        //3.åå»ºè¿æ¥ connection\n        connection connection = factory.newconnection();\n        //4.åå»ºchannel\n        channel channel = connection.createchannel();\n\n        //6.æ¥åæ¶æ¯\n        string queue1name = "test_fanout_queue1";\n        string queue2name = "test_fanout_queue2";\n        consumer consumer = new defaultconsumer(channel){\n            //åè°æ¹æ³ å½æ¶å°æ¶æ¯å ä¼æ§è¡è¯¥æ¹æ³\n\n            /**\n             *\n             * @param consumertag  æ è¯\n             * @param envelope  è·åä¸äºä¿¡æ¯ äº¤æ¢æº è·¯ç±key\n             * @param properties  éç½®ä¿¡æ¯\n             * @param body  æ°æ®\n             * @throws ioexception\n             */\n            @override\n            public void handledelivery(string consumertag, envelope envelope, amqp.basicproperties properties, byte[] body) throws ioexception {\n//                system.out.println(consumertag);\n//                system.out.println(envelope.getexchange());\n//                system.out.println(envelope.getroutingkey());\n//                system.out.println(properties);\n                system.out.println(new string(body));\n                system.out.println("ç¬¬ä¸ä¸ªæ¶è´¹è");\n            }\n        };\n        /**\n         * string var1, delivercallback var2, cancelcallback var3\n         * queue éååç§°\n         * autoack æ¯å¦èªå¨ç¡®è®¤\n         * callback åè°å¯¹è±¡\n         */\n        channel.basicconsume(queue1name,true,consumer);\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n26\n27\n28\n29\n30\n31\n32\n33\n34\n35\n36\n37\n38\n39\n40\n41\n42\n43\n44\n\n\n\n# routing è·¯ç±æ¨¡å¼\n\n\n\nçäº§èåéä¸åkeyçæ¶æ¯ç»äº¤æ¢æº èäº¤æ¢æºæ ¹æ®éåçkeyè½¬åæ¶æ¯ç»ææ è¯çéå\n\n        //1.åå»ºè¿æ¥å·¥å\n        connectionfactory factory = new connectionfactory();\n        //2.è®¾ç½®åæ°\n        factory.sethost("192.168.130.124"); //ip\n        factory.setport(5672);  //ç«¯å£\n        factory.setvirtualhost("/itcast");  //èææº é»è®¤å¼\n        factory.setusername("iekr");  //ç¨æ·å\n        factory.setpassword("iekr");  //å¯ç  é»è®¤å¼ä¸ºguest\n        //3.åå»ºè¿æ¥ connection\n        connection connection = factory.newconnection();\n        //4.åå»ºchannel\n        channel channel = connection.createchannel();\n        //5.åå»ºäº¤æ¢æº\n        /**\n         * string var1, builtinexchangetype var2, boolean var3, boolean var4, boolean var5, map<string, object> var6\n         * exchange äº¤æ¢æºåç§°\n         * type äº¤æ¢æºç±»å æä¸¾  direct("direct")å®å   fanout("fanout")æå½¢(å¹¿æ­)   topic("topic")ééç¬¦ headers("headers") åæ°å¹é\n         * durable æ¯å¦æä¹å\n         * autodelete èªå¨å é¤\n         * internal åé¨ä½¿ç¨ ä¸è¬ä¸ºfalse\n         * arguments åæ°\n         */\n        string exchangename = "test_direct";\n        channel.exchangedeclare(exchangename, builtinexchangetype.direct, true, false, false, null);\n        //6.åå»ºéå\n        string queue1name = "test_direct_queue1";\n        string queue2name = "test_direct_queue2";\n\n        channel.queuedeclare(queue1name, true, false, false, null);\n        channel.queuedeclare(queue2name, true, false, false, null);\n        //7.ç»å®éååäº¤æ¢æº\n        /**  string queue, string exchange, string routingkey\n         *  queue  éååç§°\n         *  exchange äº¤æ¢æºåç§°\n         *  routingkey è·¯ç±é®ç»å®è§å   å¦æäº¤æ¢æºç±»åä¸ºfanout åroutingkeyä¸º""\n         */\n        //éå1çç»å®\n        channel.queuebind(queue1name, exchangename, "error");\n        //éå2çç»å®\n        channel.queuebind(queue2name, exchangename, "info");\n        channel.queuebind(queue2name, exchangename, "error");\n        channel.queuebind(queue2name, exchangename, "warning");\n\n        //8.åéæ¶æ¯\n        string body = "æ¥å¿ä¿¡æ¯:";\n        //éå1åªæ¥åerroræ¶æ¯ èéå2ææç±»åé½æ¥å\n        channel.basicpublish(exchangename, "info", null, body.getbytes(standardcharsets.utf_8));\n\n        //9.éæ¾èµæº\n        channel.close();\n        connection.close();\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n26\n27\n28\n29\n30\n31\n32\n33\n34\n35\n36\n37\n38\n39\n40\n41\n42\n43\n44\n45\n46\n47\n48\n49\n50\n51\n\n\næ¶è´¹è\n\n        //1.åå»ºè¿æ¥å·¥å\n        connectionfactory factory = new connectionfactory();\n        //2.è®¾ç½®åæ°\n        factory.sethost("192.168.130.124"); //ip\n        factory.setport(5672);  //ç«¯å£\n        factory.setvirtualhost("/itcast");  //èææº é»è®¤å¼\n        factory.setusername("iekr");  //ç¨æ·å\n        factory.setpassword("iekr");  //å¯ç  é»è®¤å¼ä¸ºguest\n        //3.åå»ºè¿æ¥ connection\n        connection connection = factory.newconnection();\n        //4.åå»ºchannel\n        channel channel = connection.createchannel();\n\n        //6.æ¥åæ¶æ¯\n        string queue1name = "test_direct_queue1";\n        string queue2name = "test_direct_queue2";\n        consumer consumer = new defaultconsumer(channel){\n            //åè°æ¹æ³ å½æ¶å°æ¶æ¯å ä¼æ§è¡è¯¥æ¹æ³\n\n            /**\n             *\n             * @param consumertag  æ è¯\n             * @param envelope  è·åä¸äºä¿¡æ¯ äº¤æ¢æº è·¯ç±key\n             * @param properties  éç½®ä¿¡æ¯\n             * @param body  æ°æ®\n             * @throws ioexception\n             */\n            @override\n            public void handledelivery(string consumertag, envelope envelope, amqp.basicproperties properties, byte[] body) throws ioexception {\n//                system.out.println(consumertag);\n//                system.out.println(envelope.getexchange());\n//                system.out.println(envelope.getroutingkey());\n//                system.out.println(properties);\n                system.out.println(new string(body));\n                system.out.println("éå1 å­å¨å°æ°æ®åº");\n            }\n        };\n        /**\n         * string var1, delivercallback var2, cancelcallback var3\n         * queue éååç§°\n         * autoack æ¯å¦èªå¨ç¡®è®¤\n         * callback åè°å¯¹è±¡\n         */\n        channel.basicconsume(queue1name,true,consumer);\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n26\n27\n28\n29\n30\n31\n32\n33\n34\n35\n36\n37\n38\n39\n40\n41\n42\n43\n44\n\n\n\n# topics ééç¬¦æ¨¡å¼\n\n\n\nä½¿ç¨ééç¬¦åè·¯ç±å¨è½¬å è®©éåæ´å çµæ´»çæ¥åå¯¹åºçæ¶æ¯\n\n*æå·ä»£è¡¨0ä¸ªæå¤ä¸ªåè¯\n\n#äºå·ä»£è¡¨1ä¸ªåè¯\n\nçäº§è\n\n//1.åå»ºè¿æ¥å·¥å\nconnectionfactory factory = new connectionfactory();\n//2.è®¾ç½®åæ°\nfactory.sethost("192.168.130.124"); //ip\nfactory.setport(5672);  //ç«¯å£\nfactory.setvirtualhost("/itcast");  //èææº é»è®¤å¼\nfactory.setusername("iekr");  //ç¨æ·å\nfactory.setpassword("iekr");  //å¯ç  é»è®¤å¼ä¸ºguest\n//3.åå»ºè¿æ¥ connection\nconnection connection = factory.newconnection();\n//4.åå»ºchannel\nchannel channel = connection.createchannel();\n//5.åå»ºäº¤æ¢æº\n/**\n * string var1, builtinexchangetype var2, boolean var3, boolean var4, boolean var5, map<string, object> var6\n * exchange äº¤æ¢æºåç§°\n * type äº¤æ¢æºç±»å æä¸¾  direct("direct")å®å   fanout("fanout")æå½¢(å¹¿æ­)   topic("topic")ééç¬¦ headers("headers") åæ°å¹é\n * durable æ¯å¦æä¹å\n * autodelete èªå¨å é¤\n * internal åé¨ä½¿ç¨ ä¸è¬ä¸ºfalse\n * arguments åæ°\n */\nstring exchangename = "test_topics";\nchannel.exchangedeclare(exchangename, builtinexchangetype.topic, true, false, false, null);\n//6.åå»ºéå\nstring queue1name = "test_topics_queue1";\nstring queue2name = "test_topics_queue2";\nchannel.queuedeclare(queue1name, true, false, false, null);\nchannel.queuedeclare(queue2name, true, false, false, null);\n//7.ç»å®éååäº¤æ¢æº\n/**  string queue, string exchange, string routingkey\n *  queue  éååç§°\n *  exchange äº¤æ¢æºåç§°\n *  routingkey è·¯ç±é®ç»å®è§å   å¦æäº¤æ¢æºç±»åä¸ºfanout åroutingkeyä¸º""\n */\n//routing key  ç³»ç»çåç§°.æ¥å¿ççº§å«\nchannel.queuebind(queue1name, exchangename, "#.error"); //ä»¥.errorç»å°¾\nchannel.queuebind(queue1name, exchangename, "order.*");  //ä»¥order.å¼å¤´\nchannel.queuebind(queue2name, exchangename, "*.*");    //éå2æææ¶æ¯é½å¯ä»¥æ¥åå°\n\n//8.åéæ¶æ¯\nstring body = "æ¥å¿ä¿¡æ¯:";\nchannel.basicpublish(exchangename, "goods.info", null, body.getbytes(standardcharsets.utf_8));\n\n//9.éæ¾èµæº\nchannel.close();\nconnection.close();\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n26\n27\n28\n29\n30\n31\n32\n33\n34\n35\n36\n37\n38\n39\n40\n41\n42\n43\n44\n45\n46\n47\n\n\næ¶è´¹è\n\n        //1.åå»ºè¿æ¥å·¥å\n        connectionfactory factory = new connectionfactory();\n        //2.è®¾ç½®åæ°\n        factory.sethost("192.168.130.124"); //ip\n        factory.setport(5672);  //ç«¯å£\n        factory.setvirtualhost("/itcast");  //èææº é»è®¤å¼\n        factory.setusername("iekr");  //ç¨æ·å\n        factory.setpassword("iekr");  //å¯ç  é»è®¤å¼ä¸ºguest\n        //3.åå»ºè¿æ¥ connection\n        connection connection = factory.newconnection();\n        //4.åå»ºchannel\n        channel channel = connection.createchannel();\n\n        //6.æ¥åæ¶æ¯\n        string queue1name = "test_topics_queue1";\n        string queue2name = "test_topics_queue2";\n        consumer consumer = new defaultconsumer(channel){\n            //åè°æ¹æ³ å½æ¶å°æ¶æ¯å ä¼æ§è¡è¯¥æ¹æ³\n\n            /**\n             *\n             * @param consumertag  æ è¯\n             * @param envelope  è·åä¸äºä¿¡æ¯ äº¤æ¢æº è·¯ç±key\n             * @param properties  éç½®ä¿¡æ¯\n             * @param body  æ°æ®\n             * @throws ioexception\n             */\n            @override\n            public void handledelivery(string consumertag, envelope envelope, amqp.basicproperties properties, byte[] body) throws ioexception {\n//                system.out.println(consumertag);\n//                system.out.println(envelope.getexchange());\n//                system.out.println(envelope.getroutingkey());\n//                system.out.println(properties);\n                system.out.println(new string(body));\n                system.out.println("éå1 å­å¨å°æ°æ®åº");\n            }\n        };\n        /**\n         * string var1, delivercallback var2, cancelcallback var3\n         * queue éååç§°\n         * autoack æ¯å¦èªå¨ç¡®è®¤\n         * callback åè°å¯¹è±¡\n         */\n        channel.basicconsume(queue1name,true,consumer);\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n26\n27\n28\n29\n30\n31\n32\n33\n34\n35\n36\n37\n38\n39\n40\n41\n42\n43\n44\n\n\n\n# spring æ´å rabbitmq\n\nåæ \n\n    <dependencies>\n        <dependency>\n            <groupid>org.springframework</groupid>\n            <artifactid>spring-context</artifactid>\n            <version>5.3.10</version>\n        </dependency>\n        <dependency>\n            <groupid>org.springframework.amqp</groupid>\n            <artifactid>spring-rabbit</artifactid>\n            <version>2.3.9</version>\n        </dependency>\n        <dependency>\n            <groupid>junit</groupid>\n            <artifactid>junit</artifactid>\n            <version>4.13</version>\n        </dependency>\n        <dependency>\n            <groupid>org.springframework</groupid>\n            <artifactid>spring-test</artifactid>\n            <version>5.3.10</version>\n        </dependency>\n    </dependencies>\n    <build>\n        <plugins>\n            <plugin>\n                <groupid>org.apache.maven.plugins</groupid>\n                <artifactid>maven-compiler-plugin</artifactid>\n                <version>3.8.1</version>\n                <configuration>\n                    <source>1.8</source>\n                    <target>1.8</target>\n                </configuration>\n            </plugin>\n        </plugins>\n    </build>\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n26\n27\n28\n29\n30\n31\n32\n33\n34\n35\n\n\nrabbitmq.properties\n\nrabbitmq.host=192.168.130.124\nrabbitmq.port=5672\nrabbitmq.username=iekr\nrabbitmq.password=iekr\nrabbitmq.virtual-host=/itcast\n\n\n1\n2\n3\n4\n5\n\n\n\n# çäº§è\n\nspring-rabbitmq-producer.xml\n\n<?xml version="1.0" encoding="utf-8" ?>\n<beans xmlns="http://www.springframework.org/schema/beans"\n       xmlns:xsi="http://www.w3.org/2001/xmlschema-instance"\n       xmlns:p="http://www.springframework.org/schema/p"\n       xmlns:context="http://www.springframework.org/schema/context"\n       xmlns:rabbit="http://www.springframework.org/schema/rabbit"\n       xsi:schemalocation="\n       http://www.springframework.org/schema/beans\n        https://www.springframework.org/schema/beans/spring-beans.xsd\n       http://www.springframework.org/schema/context\n        https://www.springframework.org/schema/context/spring-context.xsd\n        http://www.springframework.org/schema/rabbit\n        https://www.springframework.org/schema/rabbit/spring-rabbit.xsd\n">\n    \x3c!--    å è½½éç½®æä»¶--\x3e\n    <context:property-placeholder location="classpath:rabbitmq.properties"/>\n\n    \x3c!--    å®ä¹rabbitmq connectionfactory--\x3e\n    <rabbit:connection-factory id="connectionfactory" host="${rabbitmq.host}"\n                               port="${rabbitmq.port}"\n                               username="${rabbitmq.username}"\n                               password="${rabbitmq.password}"\n                               virtual-host="${rabbitmq.virtual-host}"/>\n    \x3c!--    å®ä¹ç®¡çäº¤æ¢æº éå--\x3e\n    <rabbit:admin connection-factory="connectionfactory"/>\n\n    \x3c!--    å®ä¹æä¹åéå ä¸å­å¨åèªå¨åå»º ä¸ç»å®å°äº¤æ¢æºåç»å®å°é»è®¤äº¤æ¢æº   é»è®¤äº¤æ¢æºä¸ºdirect  åå­ä¸º""  è·¯ç±é®ä½éååç§°--\x3e\n    <rabbit:queue id="spring_queue" name="spring_queue" auto-declare="true"/>\n\n    \x3c!--    å®ä¹å¹¿æ­äº¤æ¢æºä¸­çæä¹åéå ä¸å­å¨åèªå¨åå»º--\x3e\n    <rabbit:queue id="spring_fanout_queue_1" name="spring_fanout_queue_1" auto-declare="true"/>\n    <rabbit:queue id="spring_fanout_queue_2" name="spring_fanout_queue_2" auto-declare="true"/>\n\n    \x3c!--    å®ä¹å¹¿æ­ç±»åäº¤æ¢æº ç»å®ä¸é¢ä¸¤ä¸ªéå--\x3e\n    <rabbit:fanout-exchange name="spring_fanout_exchange"\n                            id="spring_fanout_exchange"\n                            auto-declare="true">\n        <rabbit:bindings>\n            <rabbit:binding queue="spring_fanout_queue_1"/>\n            <rabbit:binding queue="spring_fanout_queue_2"/>\n        </rabbit:bindings>\n    </rabbit:fanout-exchange>\n\n    \x3c!--    ééç¬¦éå--\x3e\n    <rabbit:queue id="spring_topic_queue_star" name="spring_topic_queue_star" auto-declare="true"/>\n    <rabbit:queue id="spring_topic_queue_well" name="spring_topic_queue_well" auto-declare="true"/>\n    <rabbit:queue id="spring_topic_queue_well2" name="spring_topic_queue_well2" auto-declare="true"/>\n\n    \x3c!--    ééç¬¦å®ä¹--\x3e\n    <rabbit:topic-exchange name="spring_topic_exchange" id="spring_topic_exchange" auto-declare="true">\n        <rabbit:bindings>\n            <rabbit:binding pattern="heima.*" queue="spring_topic_queue_star"/>\n            <rabbit:binding pattern="heima.#" queue="spring_topic_queue_well"/>\n            <rabbit:binding pattern="itcast.#" queue="spring_topic_queue_well2"/>\n        </rabbit:bindings>\n    </rabbit:topic-exchange>\n\n    \x3c!--    å®ä¹rabbittemplateå¯¹è±¡æä½å¯ä»¥å¨ä»£ç ä¸­æ¹ä¾¿åéæ¶æ¯--\x3e\n    <rabbit:template id="rabbittemplate" connection-factory="connectionfactory"/>\n\n\n</beans>\n\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n26\n27\n28\n29\n30\n31\n32\n33\n34\n35\n36\n37\n38\n39\n40\n41\n42\n43\n44\n45\n46\n47\n48\n49\n50\n51\n52\n53\n54\n55\n56\n57\n58\n59\n60\n61\n62\n63\n\n\ntest\n\npackage com.itheima;\n\nimport org.junit.test;\nimport org.junit.runner.runwith;\nimport org.springframework.amqp.rabbit.core.rabbittemplate;\nimport org.springframework.beans.factory.annotation.autowired;\nimport org.springframework.test.context.contextconfiguration;\nimport org.springframework.test.context.junit4.springjunit4classrunner;\n\n@runwith(springjunit4classrunner.class)\n@contextconfiguration(locations = "classpath:spring-rabbitmq-producer.xml")\npublic class producertest {\n\n    //æ³¨å¥\n    @autowired\n    private rabbittemplate rabbittemplate;\n\n    //1å¯¹1\n    @test\n    public void testhelloworld() {\n        //åéæ¶æ¯\n        rabbittemplate.convertandsend("spring_queue", "hello world spring ...");\n    }\n\n    //å¹¿æ­\n    @test\n    public void testfanout() {\n        //åéæ¶æ¯\n        rabbittemplate.convertandsend("spring_fanout_exchange", "", "spring fanout...");\n    }\n\n    //topic\n    @test\n    public void testtopic() {\n        //åéæ¶æ¯\n        rabbittemplate.convertandsend("spring_topic_exchange", "heima.123.456", "spring topic...");\n    }\n\n\n}\n\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n26\n27\n28\n29\n30\n31\n32\n33\n34\n35\n36\n37\n38\n39\n40\n41\n\n\n\n# æ¶è´¹è\n\nspring-rabbitmq-consumer.xml\n\n<?xml version="1.0" encoding="utf-8" ?>\n<beans xmlns="http://www.springframework.org/schema/beans"\n       xmlns:xsi="http://www.w3.org/2001/xmlschema-instance"\n       xmlns:p="http://www.springframework.org/schema/p"\n       xmlns:context="http://www.springframework.org/schema/context"\n       xmlns:rabbit="http://www.springframework.org/schema/rabbit"\n       xsi:schemalocation="\n       http://www.springframework.org/schema/beans\n        https://www.springframework.org/schema/beans/spring-beans.xsd\n       http://www.springframework.org/schema/context\n        https://www.springframework.org/schema/context/spring-context.xsd\n        http://www.springframework.org/schema/rabbit\n        https://www.springframework.org/schema/rabbit/spring-rabbit.xsd\n">\n    \x3c!--    å è½½éç½®æä»¶--\x3e\n    <context:property-placeholder location="classpath:rabbitmq.properties"/>\n\n    \x3c!--    å®ä¹rabbitmq connectionfactory--\x3e\n    <rabbit:connection-factory id="connectionfactory" host="${rabbitmq.host}"\n                               port="${rabbitmq.port}"\n                               username="${rabbitmq.username}"\n                               password="${rabbitmq.password}"\n                               virtual-host="${rabbitmq.virtual-host}"/>\n\n    <bean id="springqueuelistener" class="com.itheima.rabbitmq.springqueuelistener"/>\n\x3c!--    <bean id="fanoutlistener1" class="com.itheima.rabbitmq.fanoutlistener1"/>--\x3e\n\x3c!--    <bean id="fanoutlistener2" class="com.itheima.rabbitmq.fanoutlistener2"/>--\x3e\n\x3c!--    <bean id="topiclistenerstar" class="com.itheima.rabbitmq.topiclistenerstar"/>--\x3e\n\x3c!--    <bean id="topiclistenerwell" class="com.itheima.rabbitmq.topiclistenerwell"/>--\x3e\n\x3c!--    <bean id="topiclistenerwell2" class="com.itheima.rabbitmq.topiclistenerwell2"/>--\x3e\n\n    <rabbit:listener-container connection-factory="connectionfactory" auto-declare="true">\n        <rabbit:listener ref="springqueuelistener" queue-names="spring_queue"/>\n\x3c!--        <rabbit:listener ref="fanoutlistener1" queue-names="spring_fanout_queue1"/>--\x3e\n\x3c!--        <rabbit:listener ref="fanoutlistener2" queue-names="spring_fanout_queue2"/>--\x3e\n\x3c!--        <rabbit:listener ref="topiclistenerstar" queue-names="spring_topic_queue_star"/>--\x3e\n\x3c!--        <rabbit:listener ref="topiclistenerwell" queue-names="spring_topic_queue_well"/>--\x3e\n\x3c!--        <rabbit:listener ref="topiclistenerwell2" queue-names="spring_topic_queue_well2"/>--\x3e\n    </rabbit:listener-container>\n\n\n</beans>\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n26\n27\n28\n29\n30\n31\n32\n33\n34\n35\n36\n37\n38\n39\n40\n41\n42\n\n\næ¶è´¹èç±» æ ¹æ®bean id ç¼åå¯¹åºçç±»å å¹¶ å®ç° messagelistener éå onmessage æ¹æ³\n\npackage com.itheima.rabbitmq;\n\nimport org.springframework.amqp.core.message;\nimport org.springframework.amqp.core.messagelistener;\n\npublic class springqueuelistener implements messagelistener {\n    @override\n    public void onmessage(message message) {\n        system.out.println(new string(message.getbody()));\n    }\n}\n\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n\n\n\n# spring boot æ´å rabbitmq\n\n\n\n\n# çäº§è\n\nç»å®äº¤æ¢æºåéå\n\npackage com.example.springrabbitmqproducer.rabbitmq.config;\n\nimport org.springframework.amqp.core.*;\nimport org.springframework.beans.factory.annotation.qualifier;\nimport org.springframework.context.annotation.bean;\nimport org.springframework.context.annotation.configuration;\n\n@configuration\npublic class rabbitmqconfig {\n    public static final string exchange_name = "boot_topic_exchange";\n    public static final string queue_name = "boot_queue";\n\n    //1.äº¤æ¢æº\n    @bean("bootexchange")\n    public exchange bootexchange() {\n        //è·å4ç§ç±»åçäº¤æ¢æº\n        return exchangebuilder.topicexchange(exchange_name).durable(true).build();\n    }\n\n    //2.éå\n    @bean("bootqueue")\n    public queue bootqueue() {\n        return queuebuilder.durable(queue_name).build();\n    }\n\n    //3.éååäº¤æ¢æºçç»å®\n    @bean\n    public binding bindqueueexchange(@qualifier("bootqueue") queue queue, @qualifier("bootexchange") exchange exchange) {\n        return bindingbuilder.bind(queue).to(exchange).with("boot.#").noargs();\n    }\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n26\n27\n28\n29\n30\n31\n\n\ntest\n\npackage com.example.springrabbitmqproducer;\n\nimport com.example.springrabbitmqproducer.rabbitmq.config.rabbitmqconfig;\nimport org.junit.jupiter.api.test;\nimport org.springframework.amqp.rabbit.core.rabbittemplate;\nimport org.springframework.beans.factory.annotation.autowired;\nimport org.springframework.boot.test.context.springboottest;\n\n@springboottest\nclass springrabbitmqproducerapplicationtests {\n\n    //æ³¨å¥rabbittemplate\n    @autowired\n    private rabbittemplate rabbittemplate;\n\n    @test\n    public void testsend(){\n        rabbittemplate.convertandsend(rabbitmqconfig.exchange_name,"boot.haha","boot mq hello");\n    }\n\n\n\n\n}\n\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n\n\n\n# æ¶è´¹è\n\n@component\npublic class rabbitmqlistener {\n\n    //çå¬æå®éå\n    @rabbitlistener(queues = "boot_queue")\n    public void listenerqueue(message message) {      \n        system.out.println(new string(message.getbody()));\n    }\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n',charsets:{cjk:!0},lastUpdated:"2022/03/18, 07:01:11",lastUpdatedTimestamp:1647558071e3},{title:"RabbitMQ é«çº§",frontmatter:{title:"RabbitMQ é«çº§",date:"2022-03-18T00:51:47.000Z",permalink:"/pages/da3871/",categories:["åç«¯","JavaEE"],tags:[null]},regularPath:"/%E5%90%8E%E7%AB%AF/02.JavaEE/16.RabbitMQ%20%E9%AB%98%E7%BA%A7.html",relativePath:"åç«¯/02.JavaEE/16.RabbitMQ é«çº§.md",key:"v-0f5ad0f4",path:"/pages/da3871/",headers:[{level:2,title:"æ¶æ¯çå¯é æé(çäº§ç«¯)",slug:"æ¶æ¯çå¯é æé-çäº§ç«¯",normalizedTitle:"æ¶æ¯çå¯é æé(çäº§ç«¯)",charIndex:18},{level:2,title:"Consumer Ack(æ¶è´¹ç«¯)",slug:"consumer-ack-æ¶è´¹ç«¯",normalizedTitle:"consumer ack(æ¶è´¹ç«¯)",charIndex:2510},{level:2,title:"æ¶è´¹ç«¯éæµ(æ¶è´¹ç«¯)",slug:"æ¶è´¹ç«¯éæµ-æ¶è´¹ç«¯",normalizedTitle:"æ¶è´¹ç«¯éæµ(æ¶è´¹ç«¯)",charIndex:4273},{level:2,title:"TTL(çäº§ç«¯)",slug:"ttl-çäº§ç«¯",normalizedTitle:"ttl(çäº§ç«¯)",charIndex:5616},{level:2,title:"æ­»ä¿¡éå",slug:"æ­»ä¿¡éå",normalizedTitle:"æ­»ä¿¡éå",charIndex:6806},{level:2,title:"å»¶è¿éå",slug:"å»¶è¿éå",normalizedTitle:"å»¶è¿éå",charIndex:10661},{level:2,title:"æ¥å¿çæ§",slug:"æ¥å¿çæ§",normalizedTitle:"æ¥å¿çæ§",charIndex:13699},{level:3,title:"æ¶æ¯è¿½è¸ª",slug:"æ¶æ¯è¿½è¸ª",normalizedTitle:"æ¶æ¯è¿½è¸ª",charIndex:13761},{level:2,title:"æ¶æ¯è¡¥å¿",slug:"æ¶æ¯è¡¥å¿",normalizedTitle:"æ¶æ¯è¡¥å¿",charIndex:13833},{level:2,title:"æ¶æ¯å¹ç­æ§ä¿é",slug:"æ¶æ¯å¹ç­æ§ä¿é",normalizedTitle:"æ¶æ¯å¹ç­æ§ä¿é",charIndex:13844},{level:2,title:"éç¾¤æ­å»º",slug:"éç¾¤æ­å»º",normalizedTitle:"éç¾¤æ­å»º",charIndex:13955},{level:3,title:"éåéå",slug:"éåéå",normalizedTitle:"éåéå",charIndex:14616},{level:3,title:"è´è½½åè¡¡-HAProxy",slug:"è´è½½åè¡¡-haproxy",normalizedTitle:"è´è½½åè¡¡-haproxy",charIndex:14739}],headersStr:"æ¶æ¯çå¯é æé(çäº§ç«¯) Consumer Ack(æ¶è´¹ç«¯) æ¶è´¹ç«¯éæµ(æ¶è´¹ç«¯) TTL(çäº§ç«¯) æ­»ä¿¡éå å»¶è¿éå æ¥å¿çæ§ æ¶æ¯è¿½è¸ª æ¶æ¯è¡¥å¿ æ¶æ¯å¹ç­æ§ä¿é éç¾¤æ­å»º éåéå è´è½½åè¡¡-HAProxy",content:'# RabbitMQ é«çº§\n\n\n# æ¶æ¯çå¯é æé(çäº§ç«¯)\n\nRabbitMQä¸ºæä»¬æä¾äºä¸¤ç§æ¹å¼ç¨æ¥æ§å¶æ¶æ¯çæéå¯é æ§æ¨¡å¼\n\n * confirm ç¡®è®¤æ¨¡å¼ å·²ç»è¿æ¶\n * return éåæ¨¡å¼\n\nrabbitmq æ´ä¸ªæ¶æ¯æéè·¯å¾ä¸º\n\nproducer ---\x3e rabbitmq broker --\x3e exchange ---\x3e queue --\x3e consumer\n\n * æ¶æ¯ä» producer å° exchange åä¼è¿åä¸ä¸ª confirmCallback\n * æ¶æ¯ä» exchange --\x3e queue æéå¤±è´¥åä¼è¿åä¸ä¸ª returnCallback\n\nå©ç¨è¿ä¸¤ä¸ªcallbackæ§å¶æ¶æ¯çå¯é æ§æé\n\nrabbitmqéç½®æä»¶\n\n    \x3c!--    å è½½éç½®æä»¶--\x3e\n    <context:property-placeholder location="classpath:rabbitmq.properties"/>\n\n    \x3c!--    å®ä¹rabbitmq connectionFactory--\x3e\n    \x3c!--  returnså¼å¯åéæ¨¡å¼è®¾ç½®ä¸º publisher-returns="true" --\x3e\n    <rabbit:connection-factory id="connectionFactory" host="${rabbitmq.host}"\n                               port="${rabbitmq.port}"\n                               username="${rabbitmq.username}"\n                               password="${rabbitmq.password}"\n                               virtual-host="${rabbitmq.virtual-host}"\n                               publisher-returns="true"\n\n    />\n\x3c!-- æ¶æ¯å¯é æ§æé(çäº§ç«¯) --\x3e\n    <rabbit:queue id="test_queue_confirm" name="test_queue_confirm"/>\n    <rabbit:direct-exchange name="test_exchange_confirm">\n        <rabbit:bindings>\n            <rabbit:binding queue="test_queue_confirm" key="confirm"/>\n        </rabbit:bindings>\n    </rabbit:direct-exchange>\n\n\n    \x3c!--    å®ä¹rabbitTemplateå¯¹è±¡æä½å¯ä»¥å¨ä»£ç ä¸­æ¹ä¾¿åéæ¶æ¯--\x3e\n    <rabbit:template id="rabbitTemplate" connection-factory="connectionFactory"/>\n\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n\n\ntest\n\n    /*\n    åéæ¨¡å¼ :å½æ¶æ¯åéç»Exchangeå,Exchangeè·¯ç±å°Queueå¤±è´¥æ¯ æä¼æ§è¡ ReturnCallBack\n     */\n    @Test\n    public void testReturn(){\n\n        //è®¾ç½®äº¤æ¢æºå¤çå¤±è´¥æ¶æ¯çæ¨¡å¼ å¿é¡»å¼å¯ä¹å å¤±è´¥åéå¤±è´¥æä¼åè°\n        rabbitTemplate.setMandatory(true);\n\n        //è®¾ç½®returncallback\n        rabbitTemplate.setReturnsCallback(new RabbitTemplate.ReturnsCallback() {\n            @Override\n            public void returnedMessage(ReturnedMessage returnedMessage) {\n                System.out.println("return æ§è¡äº");\n                System.out.println(returnedMessage.getMessage());  //æ¶æ¯å¯¹è±¡\n                System.out.println(returnedMessage.getReplyCode());  //éè¯¯ç \n                System.out.println(returnedMessage.getReplyText());  //éè¯¯ä¿¡æ¯\n                System.out.println(returnedMessage.getExchange());  //äº¤æ¢æº\n                System.out.println(returnedMessage.getRoutingKey());  //è·¯ç±é®\n            }\n        });\n\n        //ç»ä¸å­å¨é¢éä¸­çkeyåéæ¶æ¯ \n        rabbitTemplate.convertAndSend("test_exchange_confirm","confirm111","hello callback");\n\n    }\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n26\n\n\n\n# Consumer Ack(æ¶è´¹ç«¯)\n\nackæ Acknowledge ç¡®è®¤ è¡¨ç¤ºæ¶è´¹ç«¯æ¶å°æ¶æ¯åçç¡®è®¤æ¹å¼\n\næä¸ç§ç¡®è®¤æ¹å¼\n\n * é»è®¤ä¸ºèªå¨ç¡®è®¤ acknowledge="none"\n * æå¨ç¡®è®¤ acknowledge="manual"\n * æ ¹æ®å¼å¸¸æåµç¡®è®¤ acknowledge="auto"\n\nrabbitmqéç½®æä»¶ æ¶è´¹ç«¯\n\n    \x3c!--springæ«æçå¬å¨ç±»    --\x3e\n    <context:component-scan base-package="com.itheima.listener"/>\n\n    \x3c!--    å®ä¹çå¬å¨å®¹å¨--\x3e\n    <rabbit:listener-container connection-factory="connectionFactory" acknowledge="manual">\n        <rabbit:listener ref="ackListener" queue-names="test_queue_confirm" />\n    </rabbit:listener-container>\n\n\n1\n2\n3\n4\n5\n6\n7\n\n\nçå¬ç±»\n\npackage com.itheima.listener;\n\nimport com.rabbitmq.client.Channel;\nimport org.springframework.amqp.core.Message;\nimport org.springframework.amqp.rabbit.listener.api.ChannelAwareMessageListener;\nimport org.springframework.stereotype.Component;\n\nimport java.io.IOException;\n\n/**\n * Consumer ACKæºå¶\n * è®¾ç½®æå¨ç­¾æ¶ acknowledge="manual"\n * è®©çå¬å¨ç±»å®ç° ChannelAwareMessageListener æ¥å£ å®ç° onMessageæ¹æ³\n */\n\n@Component\npublic class AckListener implements ChannelAwareMessageListener {\n    @Override\n    public void onMessage(Message message, Channel channel) throws Exception {\n        long deliveryTag = message.getMessageProperties().getDeliveryTag();\n\n        try {\n            //æ¥åä¿¡æ¯\n            System.out.println(new String(message.getBody()));\n\n            //ä¸å¡é»è¾\n            System.out.println("å¤ç");\n\n            //æå¨ç­¾æ¶\n            channel.basicAck(deliveryTag, true);\n        } catch (IOException e) {\n//            e.printStackTrace();\n            //æç»ç­¾æ¶  basicNackåè®¸å¤æ¡æ¶æ¯ ç¬¬ä¸ä¸ªåæ°requeue     è®¾ç½®ä¸ºtrueåéæ°åå°éåä¸­\n            channel.basicNack(deliveryTag, true, true);\n//            channel.basicReject(deliveryTag, true);\n        }\n    }\n\n\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n26\n27\n28\n29\n30\n31\n32\n33\n34\n35\n36\n37\n38\n39\n40\n\n\n\n# æ¶è´¹ç«¯éæµ(æ¶è´¹ç«¯)\n\nrabbitmqéç½®æä»¶\n\n    \x3c!--springæ«æçå¬å¨ç±»    --\x3e\n    <context:component-scan base-package="com.itheima.listener"/>\n\n    \x3c!--    å®ä¹çå¬å¨å®¹å¨--\x3e\n    <rabbit:listener-container connection-factory="connectionFactory" acknowledge="manual" prefetch="1">\n\x3c!--        <rabbit:listener ref="ackListener" queue-names="test_queue_confirm" />--\x3e\n        <rabbit:listener ref="qosListener" queue-names="test_queue_confirm" />\n    </rabbit:listener-container>\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n\n\néæµçå¬ç±»\n\npackage com.itheima.listener;\n\nimport com.rabbitmq.client.Channel;\nimport org.springframework.amqp.core.Message;\nimport org.springframework.amqp.rabbit.listener.api.ChannelAwareMessageListener;\nimport org.springframework.stereotype.Component;\n\n/**\n * éæµæºå¶\n * acræºå¶è®¾ç½®ä¸ºæå¨ç¡®è®¤\n * listener-containeréç½®å±æ§ perfetch = 1  è¡¨ç¤ºæ¶è´¹ç«¯æ¯æ¬¡ä»mqæåä¸æ¡æ¶æ¯  ç´å°æå¨ç¡®è®¤æ¶è´¹å®æ¯åæå»æåä¸ä¸æ¡æ¶æ¯\n */\n@Component\npublic class QosListener implements ChannelAwareMessageListener {\n    @Override\n    public void onMessage(Message message, Channel channel) throws Exception {\n        //è·åæ¶æ¯\n        System.out.println(new String(message.getBody()));\n\n        //å¤çä¸å¡é»è¾\n        System.out.println("ä¸å¡é»è¾");\n\n\n        //ç­¾æ¶  ç´å°æå¨ç¡®è®¤æ¶è´¹å®æ¯åæå»æåä¸ä¸æ¡æ¶æ¯\n        channel.basicAck(message.getMessageProperties().getDeliveryTag(),true);\n\n\n\n    }\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n26\n27\n28\n29\n30\n\n\n\n# TTL(çäº§ç«¯)\n\nTTL ä¸ºå­æ´»æ¶é´ / è¿ææ¶é´\n\nå½æ¶æ¯å°è¾¾å­æ´»æ¶é´å è¿æ²¡æè¢«æ¶è´¹ ä¼è¢«èªå¨æ¸é¤\n\nRabbitMQå¯ä»¥å¯¹æ¶æ¯è®¾ç½®è¿ææ¶é´ ä¹å¯ä»¥å¯¹æ´ä¸ªéåè®¾ç½®è¿ææ¶é´\n\nçäº§ç«¯éç½®æä»¶\n\n    \x3c!--    ttl--\x3e\n    <rabbit:queue name="test_spring_queue_ttl" auto-declare="true">\n        <rabbit:queue-arguments>\n            <entry key="x-message-ttl" value-type="long" value="5000"/>\n        </rabbit:queue-arguments>\n    </rabbit:queue>\n\n    <rabbit:topic-exchange name="test_exchange_ttl">\n        <rabbit:bindings>\n            <rabbit:binding pattern="ttl.#" queue="test_spring_queue_ttl"/>\n        </rabbit:bindings>\n    </rabbit:topic-exchange>\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n\n\nteståéæ¶æ¯\n\n@Test\npublic void testTtl() {\n    //ttlåéæ¶æ¯\n    rabbitTemplate.convertAndSend("test_exchange_ttl", "ttl.eee", "hello ttl", new MessagePostProcessor() {\n        //æ¶æ¯åå¤çå¯¹è±¡ è®¾ç½®ä¸äºæ¶æ¯çåæ°ä¿¡æ¯\n        @Override\n        public Message postProcessMessage(Message message) throws AmqpException {\n            //1.è®¾ç½®messageçæ¶æ¯\n            message.getMessageProperties().setExpiration("5000");//æ¶æ¯çè¿ææ¶é´ æ¯«ç§\n\n            return message;  //å¦æè®¾ç½®äºéåè¿ææ¶é´åæ¶æ¯çè¿ææ¶é´ åä»¥æ¶é´ç­çä¸ºå\n            //éåè¿æåä¼å°è¯¥éåçæææ¶æ¯æ¸ç©º\n            //æ¶æ¯è¿æå.åªææ¶æ¯å¨éåé¡¶ç«¯,æä¼å¤æ­å¶æ¯å¦è¿æ\n        }\n    });\n\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n\n\n\n# æ­»ä¿¡éå\n\nDLX(Dead Letter Exchange) æ­»ä¿¡äº¤æ¢æº å½æ¶æ¯æä¸º Dead messageåå¯ä»¥è¢«éæ°åéå°å¦å¤ä¸å°äº¤æ¢æº é£ä¹è¿ä¸ªäº¤æ¢æºå°±æ¯DLX\n\n\n\næ¶æ¯æä¸ºæ­»ä¿¡çæåµ\n\n 1. éåæ¶æ¯é¿åº¦å°è¾¾éå¶\n 2. æ¶è´¹èææ¥æ¶è´¹æ¶æ¯,basicNack/basicReject å¹¶ä¸ä¸ææ¶æ¯éæ°æ¾å¥åç®æ éå.requeue=false\n 3. åéåå­å¨æ¶è´¹è¿æè®¾ç½® æ¶æ¯å°è¾¾è¶æ¶æ¶é´æªè¢«æ¶è´¹\n\nå®ä¹æ­£å¸¸éååæ­»ä¿¡éå\n\n    \x3c!--    æ­»ä¿¡éå --\x3e\n    \x3c!--     1.å£°ææ­£å¸¸çéå(test_queue_dlx)åäº¤æ¢æº(test_exchange_dlx)--\x3e\n    <rabbit:queue id="test_queue_dlx" name="test_queue_dlx">\n        \x3c!--            3.æ­£å¸¸éåç»å®æ­»ä¿¡äº¤æ¢æº--\x3e\n        <rabbit:queue-arguments>\n            \x3c!--         - x-dead-letter-exchange:æ­»ä¿¡äº¤æ¢æºåç§°--\x3e\n            <entry key="x-dead-letter-exchange" value="exchange_dlx"/>\n            \x3c!--                    - x-dead-letter-routing-key æ­»ä¿¡äº¤æ¢æºçroutingkey--\x3e\n            <entry key="x-dead-letter-routing-key" value="dlx.hehe"/>\n            \x3c!--        è®¾ç½®éåè¿ææ¶é´--\x3e\n            <entry key="x-message-ttl" value="5000" value-type="java.lang.Integer"/>\n            \x3c!--        è®¾ç½®éåé¿åº¦--\x3e\n            <entry key="x-max-length" value="10" value-type="java.lang.Integer"/>\n        </rabbit:queue-arguments>\n    </rabbit:queue>\n    <rabbit:topic-exchange name="test_exchange_dlx">\n        <rabbit:bindings>\n            <rabbit:binding pattern="test.dlx.#" queue="test_queue_dlx"/>\n        </rabbit:bindings>\n    </rabbit:topic-exchange>\n    \x3c!--    2.å£°ææ­»ä¿¡çéå(queue.dlx)åäº¤æ¢æº(exchange_dxl)--\x3e\n    <rabbit:queue id="queue_dlx" name="queue_dlx"/>\n    <rabbit:topic-exchange name="exchange_dlx">\n        <rabbit:bindings>\n            <rabbit:binding pattern="dlx.#" queue="queue_dlx"/>\n        </rabbit:bindings>\n    </rabbit:topic-exchange>\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n26\n27\n\n\ntest\n\n    @Test\n    public void testDlx() {\n        //1.æµè¯è¿ææ¶é´\n//        rabbitTemplate.convertAndSend("test_exchange_dlx", "test.dlx.haha", "dlx");\n\n        //2.è¶è¿éåé¿åº¦  æ¶æ¯æ­»ä¿¡\n//        for (int i = 0; i < 20; i++) {\n//            rabbitTemplate.convertAndSend("test_exchange_dlx", "test.dlx.haha", "dlx" + i);\n//        }\n\n        //3.æ¶è´¹èææ¥ç­¾æ¶æ¶æ¯ å¹¶è®¾ç½®ä¸éåéåä¸­\n        rabbitTemplate.convertAndSend("test_exchange_dlx", "test.dlx.haha", "dlx");\n\n    }\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n\n\næ¶è´¹èææ¥ç­¾æ¶æ¶æ¯ çå¬éç½®\n\n    <context:component-scan base-package="com.itheima.listener"/>\n\x3c!--    å®ä¹çå¬å¨å®¹å¨--\x3e\n    <rabbit:listener-container connection-factory="connectionFactory" acknowledge="manual" prefetch="1">\n        \x3c!--        <rabbit:listener ref="ackListener" queue-names="test_queue_confirm" />--\x3e\n        \x3c!--        <rabbit:listener ref="qosListener" queue-names="test_queue_confirm" />--\x3e\n        \x3c!--        çå¬æ­£å¸¸çéå--\x3e\n        <rabbit:listener ref="dlxListener" queue-names="test_queue_dlx"/>\n    </rabbit:listener-container>\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n\n\nçå¬ç±»\n\npackage com.itheima.listener;\n\nimport com.rabbitmq.client.Channel;\nimport org.springframework.amqp.core.Message;\nimport org.springframework.amqp.rabbit.listener.api.ChannelAwareMessageListener;\nimport org.springframework.stereotype.Component;\n\nimport java.io.IOException;\n\n\n@Component\npublic class DlxListener implements ChannelAwareMessageListener {\n    @Override\n    public void onMessage(Message message, Channel channel) throws Exception {\n        long deliveryTag = message.getMessageProperties().getDeliveryTag();\n\n        try {\n            //æ¥åä¿¡æ¯\n            System.out.println(new String(message.getBody()));\n\n            //ä¸å¡é»è¾\n            System.out.println("å¤ç");\n            int i = 3 / 0;// åºç°å¼å¸¸\n            //æå¨ç­¾æ¶\n            channel.basicAck(deliveryTag, true);\n        } catch (Exception e) {\n//            e.printStackTrace();\n            System.out.println("æç»ç­¾æ¶");\n            //æç»ç­¾æ¶  basicNackåè®¸å¤æ¡æ¶æ¯ ç¬¬ä¸ä¸ªåæ°requeue     è®¾ç½®ä¸ºtrueåéæ°åå°éåä¸­ æ­¤å¤æ¯æ­»ä¿¡éåæä»¥æä»¬ä¸éåéåä¸­\n            channel.basicNack(deliveryTag, true, false);\n//            channel.basicReject(deliveryTag, true);\n        }\n    }\n\n\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n26\n27\n28\n29\n30\n31\n32\n33\n34\n35\n36\n\n\n\n# å»¶è¿éå\n\nå»¶è¿éå å³æ¶æ¯è¿å¥éååä¸ä¼ç«å³è¢«æ¶è´¹ åªæå°è¾¾æå®æ¶é´å æä¼è¢«æ¶è´¹\n\n\n\nrabbitmqä¸­å¹¶æ²¡ææä¾å»¶è¿éååè½ ä½æ¯æä»¬å¯ä»¥éè¿ä½¿ç¨ TTL+æ­»ä¿¡éå ç»åå®ç°å»¶è¿éåçææ\n\n\n\n 1. å®ä¹æ­£å¸¸éååæ­»ä¿¡éå å¹¶ä¸è®¾ç½®TTLè¿å»æ¶é´\n\n\x3c!--    å»¶è¿éå éè¿TTL+æ­»ä¿¡éåå®ç°--\x3e\n\x3c!--    å®ä¹æ­£å¸¸éå åäº¤æ¢æº--\x3e\n<rabbit:queue id="order_queue" name="order_queue">\n    \x3c!--        ç»å®æ­»ä¿¡éå åè®¾ç½®TTLè¿ææ¶é´--\x3e\n     <rabbit:queue-arguments>\n         <entry key="x-dead-letter-exchange" value="order_exchange_dlx"/>\n         <entry key="x-dead-letter-routing-key" value="dlx.order.cancel"/>\n         <entry key="x-message-ttl" value="5000" value-type="java.lang.Integer"/>\n     </rabbit:queue-arguments>\n</rabbit:queue>\n<rabbit:topic-exchange name="order_exchange">\n    <rabbit:bindings>\n        <rabbit:binding pattern="order.#" queue="order_queue"/>\n    </rabbit:bindings>\n</rabbit:topic-exchange>\n\x3c!--    æ­»ä¿¡éå--\x3e\n<rabbit:queue id="order_queue_dlx" name="order_queue_dlx">\n</rabbit:queue>\n<rabbit:topic-exchange name="order_exchange_dlx">\n    <rabbit:bindings>\n        <rabbit:binding pattern="dlx.order.#" queue="order_queue_dlx"/>\n    </rabbit:bindings>\n</rabbit:topic-exchange>\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n\n 2. åéæ¶æ¯\n\n@Test\npublic void  testDelay(){\n    rabbitTemplate.convertAndSend("order_exchange","order.msg","å»¶è¿éå");\n}\n\n\n1\n2\n3\n4\n\n 3. çå¬éç½®\n\n\x3c!--springæ«æçå¬å¨ç±»    --\x3e\n<context:component-scan base-package="com.itheima.listener"/>\n\n\x3c!--    å®ä¹çå¬å¨å®¹å¨--\x3e\n<rabbit:listener-container connection-factory="connectionFactory" acknowledge="manual" prefetch="1">\n    \x3c!--        <rabbit:listener ref="ackListener" queue-names="test_queue_confirm" />--\x3e\n    \x3c!--        <rabbit:listener ref="qosListener" queue-names="test_queue_confirm" />--\x3e\n    \x3c!--        çå¬æ­£å¸¸çéå--\x3e\n    \x3c!--        <rabbit:listener ref="dlxListener" queue-names="test_queue_dlx"/>--\x3e\n    \x3c!--        å»¶è¿éå  çå¬çæ¯TTLè¿æåçæ­»ä¿¡éå--\x3e\n    <rabbit:listener ref="orderListener" queue-names="order_queue_dlx"/>\n</rabbit:listener-container>\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n\n 4. çå¬ç±»\n\npackage com.itheima.listener;\n\nimport com.rabbitmq.client.Channel;\nimport org.springframework.amqp.core.Message;\nimport org.springframework.amqp.rabbit.listener.api.ChannelAwareMessageListener;\nimport org.springframework.stereotype.Component;\n\nimport java.io.IOException;\n\n@Component\npublic class OrderListener implements ChannelAwareMessageListener {\n    @Override\n    public void onMessage(Message message, Channel channel) throws Exception {\n        long deliveryTag = message.getMessageProperties().getDeliveryTag();\n\n        try {\n            //æ¥åä¿¡æ¯\n            System.out.println(new String(message.getBody()));\n\n            //ä¸å¡é»è¾\n            System.out.println("ä¸å¡ å¤ç");\n\n            //æå¨ç­¾æ¶\n            channel.basicAck(deliveryTag, true);\n        } catch (IOException e) {\n//            e.printStackTrace();\n            //æç»ç­¾æ¶  basicNackåè®¸å¤æ¡æ¶æ¯ ç¬¬ä¸ä¸ªåæ°requeue     è®¾ç½®ä¸ºtrueåéæ°åå°éåä¸­\n            channel.basicNack(deliveryTag, true, true);\n//            channel.basicReject(deliveryTag, true);\n        }\n    }\n\n\n\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n26\n27\n28\n29\n30\n31\n32\n33\n34\n\n\n\n# æ¥å¿çæ§\n\nRabbitMQé»è®¤æ¥å¿å­æ¾è·¯å¾ /var/log/rabbitmq/rabbit@xxx.log\n\n\n\n\n# æ¶æ¯è¿½è¸ª\n\nå¼å¯firehoseå é»è®¤è·¯ç±ä¼å°æ¶æ¯éæ°åéä¸é å¹¶ä¸åå«æ¶æ¯ä»åªéä¼ éç­å·ä½ä¿¡æ¯æåè¿å»éåä¸­\n\n\n\nç½é¡µæä»¶ç\n\n\n\n\n# æ¶æ¯è¡¥å¿\n\n\n\n\n# æ¶æ¯å¹ç­æ§ä¿é\n\nå¹ç­æ§æä¸æ¬¡åå¤æ¬¡è¯·æ±æä¸ä¸ªèµæº,å¯¹äºèµæºæ¬èº«åºè¯¥å·æåæ ·çç»æ ä¹å°±æ¯è¯´å¶ ä»»æå¤æ¬¡æ§è¡å¯¹èµæºæäº§ççå½±åä¸ä¸æ¬¡æ§è¡çå½±åç¸å\n\nå¨MQä¸­æ æ¶è´¹å¤æ¡ç¸åçæ¶æ¯ ä¸æ¶è´¹ä¸æ¡æ¶æ¯å¾å°ç»æä¸è´\n\n\n\n\n# éç¾¤æ­å»º\n\nåæ­¢rabbitmqæå¡\n\nrabbitmqctl stop\n\n\n1\n\n\nå¯å¨ç¬¬ä¸ä¸ªèç¹ æ­¤å¤æ¯åæºå¨ å¤ç«¯å£æ­å»ºä¼ªéç¾¤ éç¾¤ç¨ipåºåå³å¯\n\nRABBITMQ_NODE_PORT=5673 RABBITMQ_NODENAME=rabbit1 rabbitmq-server start\n\n\n1\n\n\nå¯å¨ç¬¬äºä¸ªèç¹ å ä¸ºé»è®¤webæä»¶ç«¯å£è¢«å ç¨æä»¥ä¹è¦è®¾ç½®webæå£ç«¯å£\n\nRABBITMQ_NODE_PORT=5674 RABBITMQ_SERVER_START_ARGS="-rabbitmq_management listener [{port,15674}]" RABBITMQ_NODENAME=rabbit2 rabbitmq-server start\n\n\n1\n\n\nè®¾ç½®rabbit1ä¸ºä¸»èç¹\n\nrabbitmqctl -n rabbit1 stop_app\nrabbitmqctl -n rabbit1 reset\nrabbitmqctl -n rabbit1 start_app\n\n\n1\n2\n3\n\n\nè®¾ç½®rabbit2ä¸ºä»èç¹\n\nrabbitmqctl -n rabbit2 stop_app\nrabbitmqctl -n rabbit2 reset\nrabbitmqctl -n rabbit2 join_cluster rabbit1@\'dubbo\'  #@\'\'åé¢ä¸ºç³»ç»ç¨æ·å éè¦èªå·±æ´æ¹\nrabbitmqctl -n rabbit2 start_app\n\n\n1\n2\n3\n4\n\n\n\n# éåéå\n\nä»èç¹é»è®¤æ¯ä»ä¸»èç¹ä¸­è·åæ°æ® æä»¬å¯ä»¥éè¿éåéåæ¥å°æ¯ä¸ªèç¹åå­æ¾æ³ç¸åæ°æ®\n\nå½ä»¤æ¹å¼\n\nrabbitmqctl set_policy my_ha "^"\'{"ha-mode":"all"}\'\n\n\n1\n\n\nç½é¡µæ¹å¼\n\n\n\n\n# è´è½½åè¡¡-HAProxy\n\nhttps://blog.csdn.net/William0318/article/details/99677701\n\nå®è£\n\nyum install haproxy -y\nhaproxy -v\n\n\n1\n2\n\n\néç½®æä»¶\n\nvim /etc/haproxy/haproxy.cfg\n\n\n1\n\n\nç¼è¾åå®¹\n\n\n#å¨å±éç½®\nglobal\n    #è®¾ç½®æ¥å¿\n    log 127.0.0.1 local0 info\n    #å½åå·¥ä½ç®å½\n    chroot /usr/local/haproxy\n    #ç¨æ·ä¸ç¨æ·ç»\n    user haproxy\n    group haproxy\n    #è¿è¡è¿ç¨ID\n    uid 99\n    gid 99\n    #å®æ¤è¿ç¨å¯å¨\n    daemon\n    #æå¤§è¿æ¥æ°\n    maxconn 4096\n#é»è®¤éç½®\ndefaults\n    #åºç¨å¨å±çæ¥å¿éç½®\n    log global\n    #é»è®¤çæ¨¡å¼mode {tcp|http|health}\n    #TCPæ¯4å±ï¼HTTPæ¯7å±ï¼healthåªè¿åOK\n    mode tcp\n    #æ¥å¿ç±»å«tcplog\n    option tcplog\n    #ä¸è®°å½å¥åº·æ£æ¥æ¥å¿ä¿¡æ¯\n    option dontlognull\n    #3æ¬¡å¤±è´¥åè®¤ä¸ºæå¡ä¸å¯ç¨\n    retries 3\n    #æ¯ä¸ªè¿ç¨å¯ç¨çæå¤§è¿æ¥æ°\n    maxconn 2000\n    #è¿æ¥è¶æ¶\n    timeout connect 5s\n    #å®¢æ·ç«¯è¶æ¶\n    timeout client 120s\n    #æå¡ç«¯è¶æ¶\n    timeout server 120s\n#ç»å®éç½®\nlisten rabbitmq_cluster \n        bind 0.0.0.0:5672\n        #éç½®TCPæ¨¡å¼\n        mode tcp\n        #ç®åçè½®è¯¢\n        balance roundrobin\n        #RabbitMQéç¾¤èç¹éç½®\n        server rmq_node1 127.0.0.1:5673 check inter 5000 rise 2 fall 3 weight 1\n        server rmq_node2 127.0.0.1:5674 check inter 5000 rise 2 fall 3 weight 1\n#haproxyçæ§é¡µé¢å°å\nlisten monitor \n        bind 0.0.0.0:8100\n        mode http\n        option httplog\n        stats enable\n        stats uri /stats\n        stats refresh 5s\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n26\n27\n28\n29\n30\n31\n32\n33\n34\n35\n36\n37\n38\n39\n40\n41\n42\n43\n44\n45\n46\n47\n48\n49\n50\n51\n52\n53\n54\n55\n56\n\n\næ£æ¥éç½®æä»¶æ¯å¦éè¯¯\n\nhaproxy -f /etc/haproxy/haproxy.cfg -c\n\n\n1\n\n\nå¯å¨\n\nhaproxy -f /etc/haproxy/haproxy.cfg -d\n\n\n1\n\n\nè®¿é®HAProxyåå°\n\nhttp://192.168.130.124:8100/stats\n\nåç»­å°æ¶æ¯éåçå°ååipè®¾ç½®ä¸ºHAProxyçå¬çå°åå³å¯\n\n\nspring:\n  #æ¶æ¯éåéç½®\n  rabbitmq:\n    host: 192.168.0.104 #HAProxyçå°å\n    port: 5672\n    username: guest\n    password: guest\n    virtual-host: /\n    publisher-returns: true\n    publisher-confirms: true\n    connection-timeout: 5000ms\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n',normalizedContent:'# rabbitmq é«çº§\n\n\n# æ¶æ¯çå¯é æé(çäº§ç«¯)\n\nrabbitmqä¸ºæä»¬æä¾äºä¸¤ç§æ¹å¼ç¨æ¥æ§å¶æ¶æ¯çæéå¯é æ§æ¨¡å¼\n\n * confirm ç¡®è®¤æ¨¡å¼ å·²ç»è¿æ¶\n * return éåæ¨¡å¼\n\nrabbitmq æ´ä¸ªæ¶æ¯æéè·¯å¾ä¸º\n\nproducer ---\x3e rabbitmq broker --\x3e exchange ---\x3e queue --\x3e consumer\n\n * æ¶æ¯ä» producer å° exchange åä¼è¿åä¸ä¸ª confirmcallback\n * æ¶æ¯ä» exchange --\x3e queue æéå¤±è´¥åä¼è¿åä¸ä¸ª returncallback\n\nå©ç¨è¿ä¸¤ä¸ªcallbackæ§å¶æ¶æ¯çå¯é æ§æé\n\nrabbitmqéç½®æä»¶\n\n    \x3c!--    å è½½éç½®æä»¶--\x3e\n    <context:property-placeholder location="classpath:rabbitmq.properties"/>\n\n    \x3c!--    å®ä¹rabbitmq connectionfactory--\x3e\n    \x3c!--  returnså¼å¯åéæ¨¡å¼è®¾ç½®ä¸º publisher-returns="true" --\x3e\n    <rabbit:connection-factory id="connectionfactory" host="${rabbitmq.host}"\n                               port="${rabbitmq.port}"\n                               username="${rabbitmq.username}"\n                               password="${rabbitmq.password}"\n                               virtual-host="${rabbitmq.virtual-host}"\n                               publisher-returns="true"\n\n    />\n\x3c!-- æ¶æ¯å¯é æ§æé(çäº§ç«¯) --\x3e\n    <rabbit:queue id="test_queue_confirm" name="test_queue_confirm"/>\n    <rabbit:direct-exchange name="test_exchange_confirm">\n        <rabbit:bindings>\n            <rabbit:binding queue="test_queue_confirm" key="confirm"/>\n        </rabbit:bindings>\n    </rabbit:direct-exchange>\n\n\n    \x3c!--    å®ä¹rabbittemplateå¯¹è±¡æä½å¯ä»¥å¨ä»£ç ä¸­æ¹ä¾¿åéæ¶æ¯--\x3e\n    <rabbit:template id="rabbittemplate" connection-factory="connectionfactory"/>\n\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n\n\ntest\n\n    /*\n    åéæ¨¡å¼ :å½æ¶æ¯åéç»exchangeå,exchangeè·¯ç±å°queueå¤±è´¥æ¯ æä¼æ§è¡ returncallback\n     */\n    @test\n    public void testreturn(){\n\n        //è®¾ç½®äº¤æ¢æºå¤çå¤±è´¥æ¶æ¯çæ¨¡å¼ å¿é¡»å¼å¯ä¹å å¤±è´¥åéå¤±è´¥æä¼åè°\n        rabbittemplate.setmandatory(true);\n\n        //è®¾ç½®returncallback\n        rabbittemplate.setreturnscallback(new rabbittemplate.returnscallback() {\n            @override\n            public void returnedmessage(returnedmessage returnedmessage) {\n                system.out.println("return æ§è¡äº");\n                system.out.println(returnedmessage.getmessage());  //æ¶æ¯å¯¹è±¡\n                system.out.println(returnedmessage.getreplycode());  //éè¯¯ç \n                system.out.println(returnedmessage.getreplytext());  //éè¯¯ä¿¡æ¯\n                system.out.println(returnedmessage.getexchange());  //äº¤æ¢æº\n                system.out.println(returnedmessage.getroutingkey());  //è·¯ç±é®\n            }\n        });\n\n        //ç»ä¸å­å¨é¢éä¸­çkeyåéæ¶æ¯ \n        rabbittemplate.convertandsend("test_exchange_confirm","confirm111","hello callback");\n\n    }\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n26\n\n\n\n# consumer ack(æ¶è´¹ç«¯)\n\nackæ acknowledge ç¡®è®¤ è¡¨ç¤ºæ¶è´¹ç«¯æ¶å°æ¶æ¯åçç¡®è®¤æ¹å¼\n\næä¸ç§ç¡®è®¤æ¹å¼\n\n * é»è®¤ä¸ºèªå¨ç¡®è®¤ acknowledge="none"\n * æå¨ç¡®è®¤ acknowledge="manual"\n * æ ¹æ®å¼å¸¸æåµç¡®è®¤ acknowledge="auto"\n\nrabbitmqéç½®æä»¶ æ¶è´¹ç«¯\n\n    \x3c!--springæ«æçå¬å¨ç±»    --\x3e\n    <context:component-scan base-package="com.itheima.listener"/>\n\n    \x3c!--    å®ä¹çå¬å¨å®¹å¨--\x3e\n    <rabbit:listener-container connection-factory="connectionfactory" acknowledge="manual">\n        <rabbit:listener ref="acklistener" queue-names="test_queue_confirm" />\n    </rabbit:listener-container>\n\n\n1\n2\n3\n4\n5\n6\n7\n\n\nçå¬ç±»\n\npackage com.itheima.listener;\n\nimport com.rabbitmq.client.channel;\nimport org.springframework.amqp.core.message;\nimport org.springframework.amqp.rabbit.listener.api.channelawaremessagelistener;\nimport org.springframework.stereotype.component;\n\nimport java.io.ioexception;\n\n/**\n * consumer ackæºå¶\n * è®¾ç½®æå¨ç­¾æ¶ acknowledge="manual"\n * è®©çå¬å¨ç±»å®ç° channelawaremessagelistener æ¥å£ å®ç° onmessageæ¹æ³\n */\n\n@component\npublic class acklistener implements channelawaremessagelistener {\n    @override\n    public void onmessage(message message, channel channel) throws exception {\n        long deliverytag = message.getmessageproperties().getdeliverytag();\n\n        try {\n            //æ¥åä¿¡æ¯\n            system.out.println(new string(message.getbody()));\n\n            //ä¸å¡é»è¾\n            system.out.println("å¤ç");\n\n            //æå¨ç­¾æ¶\n            channel.basicack(deliverytag, true);\n        } catch (ioexception e) {\n//            e.printstacktrace();\n            //æç»ç­¾æ¶  basicnackåè®¸å¤æ¡æ¶æ¯ ç¬¬ä¸ä¸ªåæ°requeue     è®¾ç½®ä¸ºtrueåéæ°åå°éåä¸­\n            channel.basicnack(deliverytag, true, true);\n//            channel.basicreject(deliverytag, true);\n        }\n    }\n\n\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n26\n27\n28\n29\n30\n31\n32\n33\n34\n35\n36\n37\n38\n39\n40\n\n\n\n# æ¶è´¹ç«¯éæµ(æ¶è´¹ç«¯)\n\nrabbitmqéç½®æä»¶\n\n    \x3c!--springæ«æçå¬å¨ç±»    --\x3e\n    <context:component-scan base-package="com.itheima.listener"/>\n\n    \x3c!--    å®ä¹çå¬å¨å®¹å¨--\x3e\n    <rabbit:listener-container connection-factory="connectionfactory" acknowledge="manual" prefetch="1">\n\x3c!--        <rabbit:listener ref="acklistener" queue-names="test_queue_confirm" />--\x3e\n        <rabbit:listener ref="qoslistener" queue-names="test_queue_confirm" />\n    </rabbit:listener-container>\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n\n\néæµçå¬ç±»\n\npackage com.itheima.listener;\n\nimport com.rabbitmq.client.channel;\nimport org.springframework.amqp.core.message;\nimport org.springframework.amqp.rabbit.listener.api.channelawaremessagelistener;\nimport org.springframework.stereotype.component;\n\n/**\n * éæµæºå¶\n * acræºå¶è®¾ç½®ä¸ºæå¨ç¡®è®¤\n * listener-containeréç½®å±æ§ perfetch = 1  è¡¨ç¤ºæ¶è´¹ç«¯æ¯æ¬¡ä»mqæåä¸æ¡æ¶æ¯  ç´å°æå¨ç¡®è®¤æ¶è´¹å®æ¯åæå»æåä¸ä¸æ¡æ¶æ¯\n */\n@component\npublic class qoslistener implements channelawaremessagelistener {\n    @override\n    public void onmessage(message message, channel channel) throws exception {\n        //è·åæ¶æ¯\n        system.out.println(new string(message.getbody()));\n\n        //å¤çä¸å¡é»è¾\n        system.out.println("ä¸å¡é»è¾");\n\n\n        //ç­¾æ¶  ç´å°æå¨ç¡®è®¤æ¶è´¹å®æ¯åæå»æåä¸ä¸æ¡æ¶æ¯\n        channel.basicack(message.getmessageproperties().getdeliverytag(),true);\n\n\n\n    }\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n26\n27\n28\n29\n30\n\n\n\n# ttl(çäº§ç«¯)\n\nttl ä¸ºå­æ´»æ¶é´ / è¿ææ¶é´\n\nå½æ¶æ¯å°è¾¾å­æ´»æ¶é´å è¿æ²¡æè¢«æ¶è´¹ ä¼è¢«èªå¨æ¸é¤\n\nrabbitmqå¯ä»¥å¯¹æ¶æ¯è®¾ç½®è¿ææ¶é´ ä¹å¯ä»¥å¯¹æ´ä¸ªéåè®¾ç½®è¿ææ¶é´\n\nçäº§ç«¯éç½®æä»¶\n\n    \x3c!--    ttl--\x3e\n    <rabbit:queue name="test_spring_queue_ttl" auto-declare="true">\n        <rabbit:queue-arguments>\n            <entry key="x-message-ttl" value-type="long" value="5000"/>\n        </rabbit:queue-arguments>\n    </rabbit:queue>\n\n    <rabbit:topic-exchange name="test_exchange_ttl">\n        <rabbit:bindings>\n            <rabbit:binding pattern="ttl.#" queue="test_spring_queue_ttl"/>\n        </rabbit:bindings>\n    </rabbit:topic-exchange>\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n\n\nteståéæ¶æ¯\n\n@test\npublic void testttl() {\n    //ttlåéæ¶æ¯\n    rabbittemplate.convertandsend("test_exchange_ttl", "ttl.eee", "hello ttl", new messagepostprocessor() {\n        //æ¶æ¯åå¤çå¯¹è±¡ è®¾ç½®ä¸äºæ¶æ¯çåæ°ä¿¡æ¯\n        @override\n        public message postprocessmessage(message message) throws amqpexception {\n            //1.è®¾ç½®messageçæ¶æ¯\n            message.getmessageproperties().setexpiration("5000");//æ¶æ¯çè¿ææ¶é´ æ¯«ç§\n\n            return message;  //å¦æè®¾ç½®äºéåè¿ææ¶é´åæ¶æ¯çè¿ææ¶é´ åä»¥æ¶é´ç­çä¸ºå\n            //éåè¿æåä¼å°è¯¥éåçæææ¶æ¯æ¸ç©º\n            //æ¶æ¯è¿æå.åªææ¶æ¯å¨éåé¡¶ç«¯,æä¼å¤æ­å¶æ¯å¦è¿æ\n        }\n    });\n\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n\n\n\n# æ­»ä¿¡éå\n\ndlx(dead letter exchange) æ­»ä¿¡äº¤æ¢æº å½æ¶æ¯æä¸º dead messageåå¯ä»¥è¢«éæ°åéå°å¦å¤ä¸å°äº¤æ¢æº é£ä¹è¿ä¸ªäº¤æ¢æºå°±æ¯dlx\n\n\n\næ¶æ¯æä¸ºæ­»ä¿¡çæåµ\n\n 1. éåæ¶æ¯é¿åº¦å°è¾¾éå¶\n 2. æ¶è´¹èææ¥æ¶è´¹æ¶æ¯,basicnack/basicreject å¹¶ä¸ä¸ææ¶æ¯éæ°æ¾å¥åç®æ éå.requeue=false\n 3. åéåå­å¨æ¶è´¹è¿æè®¾ç½® æ¶æ¯å°è¾¾è¶æ¶æ¶é´æªè¢«æ¶è´¹\n\nå®ä¹æ­£å¸¸éååæ­»ä¿¡éå\n\n    \x3c!--    æ­»ä¿¡éå --\x3e\n    \x3c!--     1.å£°ææ­£å¸¸çéå(test_queue_dlx)åäº¤æ¢æº(test_exchange_dlx)--\x3e\n    <rabbit:queue id="test_queue_dlx" name="test_queue_dlx">\n        \x3c!--            3.æ­£å¸¸éåç»å®æ­»ä¿¡äº¤æ¢æº--\x3e\n        <rabbit:queue-arguments>\n            \x3c!--         - x-dead-letter-exchange:æ­»ä¿¡äº¤æ¢æºåç§°--\x3e\n            <entry key="x-dead-letter-exchange" value="exchange_dlx"/>\n            \x3c!--                    - x-dead-letter-routing-key æ­»ä¿¡äº¤æ¢æºçroutingkey--\x3e\n            <entry key="x-dead-letter-routing-key" value="dlx.hehe"/>\n            \x3c!--        è®¾ç½®éåè¿ææ¶é´--\x3e\n            <entry key="x-message-ttl" value="5000" value-type="java.lang.integer"/>\n            \x3c!--        è®¾ç½®éåé¿åº¦--\x3e\n            <entry key="x-max-length" value="10" value-type="java.lang.integer"/>\n        </rabbit:queue-arguments>\n    </rabbit:queue>\n    <rabbit:topic-exchange name="test_exchange_dlx">\n        <rabbit:bindings>\n            <rabbit:binding pattern="test.dlx.#" queue="test_queue_dlx"/>\n        </rabbit:bindings>\n    </rabbit:topic-exchange>\n    \x3c!--    2.å£°ææ­»ä¿¡çéå(queue.dlx)åäº¤æ¢æº(exchange_dxl)--\x3e\n    <rabbit:queue id="queue_dlx" name="queue_dlx"/>\n    <rabbit:topic-exchange name="exchange_dlx">\n        <rabbit:bindings>\n            <rabbit:binding pattern="dlx.#" queue="queue_dlx"/>\n        </rabbit:bindings>\n    </rabbit:topic-exchange>\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n26\n27\n\n\ntest\n\n    @test\n    public void testdlx() {\n        //1.æµè¯è¿ææ¶é´\n//        rabbittemplate.convertandsend("test_exchange_dlx", "test.dlx.haha", "dlx");\n\n        //2.è¶è¿éåé¿åº¦  æ¶æ¯æ­»ä¿¡\n//        for (int i = 0; i < 20; i++) {\n//            rabbittemplate.convertandsend("test_exchange_dlx", "test.dlx.haha", "dlx" + i);\n//        }\n\n        //3.æ¶è´¹èææ¥ç­¾æ¶æ¶æ¯ å¹¶è®¾ç½®ä¸éåéåä¸­\n        rabbittemplate.convertandsend("test_exchange_dlx", "test.dlx.haha", "dlx");\n\n    }\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n\n\næ¶è´¹èææ¥ç­¾æ¶æ¶æ¯ çå¬éç½®\n\n    <context:component-scan base-package="com.itheima.listener"/>\n\x3c!--    å®ä¹çå¬å¨å®¹å¨--\x3e\n    <rabbit:listener-container connection-factory="connectionfactory" acknowledge="manual" prefetch="1">\n        \x3c!--        <rabbit:listener ref="acklistener" queue-names="test_queue_confirm" />--\x3e\n        \x3c!--        <rabbit:listener ref="qoslistener" queue-names="test_queue_confirm" />--\x3e\n        \x3c!--        çå¬æ­£å¸¸çéå--\x3e\n        <rabbit:listener ref="dlxlistener" queue-names="test_queue_dlx"/>\n    </rabbit:listener-container>\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n\n\nçå¬ç±»\n\npackage com.itheima.listener;\n\nimport com.rabbitmq.client.channel;\nimport org.springframework.amqp.core.message;\nimport org.springframework.amqp.rabbit.listener.api.channelawaremessagelistener;\nimport org.springframework.stereotype.component;\n\nimport java.io.ioexception;\n\n\n@component\npublic class dlxlistener implements channelawaremessagelistener {\n    @override\n    public void onmessage(message message, channel channel) throws exception {\n        long deliverytag = message.getmessageproperties().getdeliverytag();\n\n        try {\n            //æ¥åä¿¡æ¯\n            system.out.println(new string(message.getbody()));\n\n            //ä¸å¡é»è¾\n            system.out.println("å¤ç");\n            int i = 3 / 0;// åºç°å¼å¸¸\n            //æå¨ç­¾æ¶\n            channel.basicack(deliverytag, true);\n        } catch (exception e) {\n//            e.printstacktrace();\n            system.out.println("æç»ç­¾æ¶");\n            //æç»ç­¾æ¶  basicnackåè®¸å¤æ¡æ¶æ¯ ç¬¬ä¸ä¸ªåæ°requeue     è®¾ç½®ä¸ºtrueåéæ°åå°éåä¸­ æ­¤å¤æ¯æ­»ä¿¡éåæä»¥æä»¬ä¸éåéåä¸­\n            channel.basicnack(deliverytag, true, false);\n//            channel.basicreject(deliverytag, true);\n        }\n    }\n\n\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n26\n27\n28\n29\n30\n31\n32\n33\n34\n35\n36\n\n\n\n# å»¶è¿éå\n\nå»¶è¿éå å³æ¶æ¯è¿å¥éååä¸ä¼ç«å³è¢«æ¶è´¹ åªæå°è¾¾æå®æ¶é´å æä¼è¢«æ¶è´¹\n\n\n\nrabbitmqä¸­å¹¶æ²¡ææä¾å»¶è¿éååè½ ä½æ¯æä»¬å¯ä»¥éè¿ä½¿ç¨ ttl+æ­»ä¿¡éå ç»åå®ç°å»¶è¿éåçææ\n\n\n\n 1. å®ä¹æ­£å¸¸éååæ­»ä¿¡éå å¹¶ä¸è®¾ç½®ttlè¿å»æ¶é´\n\n\x3c!--    å»¶è¿éå éè¿ttl+æ­»ä¿¡éåå®ç°--\x3e\n\x3c!--    å®ä¹æ­£å¸¸éå åäº¤æ¢æº--\x3e\n<rabbit:queue id="order_queue" name="order_queue">\n    \x3c!--        ç»å®æ­»ä¿¡éå åè®¾ç½®ttlè¿ææ¶é´--\x3e\n     <rabbit:queue-arguments>\n         <entry key="x-dead-letter-exchange" value="order_exchange_dlx"/>\n         <entry key="x-dead-letter-routing-key" value="dlx.order.cancel"/>\n         <entry key="x-message-ttl" value="5000" value-type="java.lang.integer"/>\n     </rabbit:queue-arguments>\n</rabbit:queue>\n<rabbit:topic-exchange name="order_exchange">\n    <rabbit:bindings>\n        <rabbit:binding pattern="order.#" queue="order_queue"/>\n    </rabbit:bindings>\n</rabbit:topic-exchange>\n\x3c!--    æ­»ä¿¡éå--\x3e\n<rabbit:queue id="order_queue_dlx" name="order_queue_dlx">\n</rabbit:queue>\n<rabbit:topic-exchange name="order_exchange_dlx">\n    <rabbit:bindings>\n        <rabbit:binding pattern="dlx.order.#" queue="order_queue_dlx"/>\n    </rabbit:bindings>\n</rabbit:topic-exchange>\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n\n 2. åéæ¶æ¯\n\n@test\npublic void  testdelay(){\n    rabbittemplate.convertandsend("order_exchange","order.msg","å»¶è¿éå");\n}\n\n\n1\n2\n3\n4\n\n 3. çå¬éç½®\n\n\x3c!--springæ«æçå¬å¨ç±»    --\x3e\n<context:component-scan base-package="com.itheima.listener"/>\n\n\x3c!--    å®ä¹çå¬å¨å®¹å¨--\x3e\n<rabbit:listener-container connection-factory="connectionfactory" acknowledge="manual" prefetch="1">\n    \x3c!--        <rabbit:listener ref="acklistener" queue-names="test_queue_confirm" />--\x3e\n    \x3c!--        <rabbit:listener ref="qoslistener" queue-names="test_queue_confirm" />--\x3e\n    \x3c!--        çå¬æ­£å¸¸çéå--\x3e\n    \x3c!--        <rabbit:listener ref="dlxlistener" queue-names="test_queue_dlx"/>--\x3e\n    \x3c!--        å»¶è¿éå  çå¬çæ¯ttlè¿æåçæ­»ä¿¡éå--\x3e\n    <rabbit:listener ref="orderlistener" queue-names="order_queue_dlx"/>\n</rabbit:listener-container>\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n\n 4. çå¬ç±»\n\npackage com.itheima.listener;\n\nimport com.rabbitmq.client.channel;\nimport org.springframework.amqp.core.message;\nimport org.springframework.amqp.rabbit.listener.api.channelawaremessagelistener;\nimport org.springframework.stereotype.component;\n\nimport java.io.ioexception;\n\n@component\npublic class orderlistener implements channelawaremessagelistener {\n    @override\n    public void onmessage(message message, channel channel) throws exception {\n        long deliverytag = message.getmessageproperties().getdeliverytag();\n\n        try {\n            //æ¥åä¿¡æ¯\n            system.out.println(new string(message.getbody()));\n\n            //ä¸å¡é»è¾\n            system.out.println("ä¸å¡ å¤ç");\n\n            //æå¨ç­¾æ¶\n            channel.basicack(deliverytag, true);\n        } catch (ioexception e) {\n//            e.printstacktrace();\n            //æç»ç­¾æ¶  basicnackåè®¸å¤æ¡æ¶æ¯ ç¬¬ä¸ä¸ªåæ°requeue     è®¾ç½®ä¸ºtrueåéæ°åå°éåä¸­\n            channel.basicnack(deliverytag, true, true);\n//            channel.basicreject(deliverytag, true);\n        }\n    }\n\n\n\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n26\n27\n28\n29\n30\n31\n32\n33\n34\n\n\n\n# æ¥å¿çæ§\n\nrabbitmqé»è®¤æ¥å¿å­æ¾è·¯å¾ /var/log/rabbitmq/rabbit@xxx.log\n\n\n\n\n# æ¶æ¯è¿½è¸ª\n\nå¼å¯firehoseå é»è®¤è·¯ç±ä¼å°æ¶æ¯éæ°åéä¸é å¹¶ä¸åå«æ¶æ¯ä»åªéä¼ éç­å·ä½ä¿¡æ¯æåè¿å»éåä¸­\n\n\n\nç½é¡µæä»¶ç\n\n\n\n\n# æ¶æ¯è¡¥å¿\n\n\n\n\n# æ¶æ¯å¹ç­æ§ä¿é\n\nå¹ç­æ§æä¸æ¬¡åå¤æ¬¡è¯·æ±æä¸ä¸ªèµæº,å¯¹äºèµæºæ¬èº«åºè¯¥å·æåæ ·çç»æ ä¹å°±æ¯è¯´å¶ ä»»æå¤æ¬¡æ§è¡å¯¹èµæºæäº§ççå½±åä¸ä¸æ¬¡æ§è¡çå½±åç¸å\n\nå¨mqä¸­æ æ¶è´¹å¤æ¡ç¸åçæ¶æ¯ ä¸æ¶è´¹ä¸æ¡æ¶æ¯å¾å°ç»æä¸è´\n\n\n\n\n# éç¾¤æ­å»º\n\nåæ­¢rabbitmqæå¡\n\nrabbitmqctl stop\n\n\n1\n\n\nå¯å¨ç¬¬ä¸ä¸ªèç¹ æ­¤å¤æ¯åæºå¨ å¤ç«¯å£æ­å»ºä¼ªéç¾¤ éç¾¤ç¨ipåºåå³å¯\n\nrabbitmq_node_port=5673 rabbitmq_nodename=rabbit1 rabbitmq-server start\n\n\n1\n\n\nå¯å¨ç¬¬äºä¸ªèç¹ å ä¸ºé»è®¤webæä»¶ç«¯å£è¢«å ç¨æä»¥ä¹è¦è®¾ç½®webæå£ç«¯å£\n\nrabbitmq_node_port=5674 rabbitmq_server_start_args="-rabbitmq_management listener [{port,15674}]" rabbitmq_nodename=rabbit2 rabbitmq-server start\n\n\n1\n\n\nè®¾ç½®rabbit1ä¸ºä¸»èç¹\n\nrabbitmqctl -n rabbit1 stop_app\nrabbitmqctl -n rabbit1 reset\nrabbitmqctl -n rabbit1 start_app\n\n\n1\n2\n3\n\n\nè®¾ç½®rabbit2ä¸ºä»èç¹\n\nrabbitmqctl -n rabbit2 stop_app\nrabbitmqctl -n rabbit2 reset\nrabbitmqctl -n rabbit2 join_cluster rabbit1@\'dubbo\'  #@\'\'åé¢ä¸ºç³»ç»ç¨æ·å éè¦èªå·±æ´æ¹\nrabbitmqctl -n rabbit2 start_app\n\n\n1\n2\n3\n4\n\n\n\n# éåéå\n\nä»èç¹é»è®¤æ¯ä»ä¸»èç¹ä¸­è·åæ°æ® æä»¬å¯ä»¥éè¿éåéåæ¥å°æ¯ä¸ªèç¹åå­æ¾æ³ç¸åæ°æ®\n\nå½ä»¤æ¹å¼\n\nrabbitmqctl set_policy my_ha "^"\'{"ha-mode":"all"}\'\n\n\n1\n\n\nç½é¡µæ¹å¼\n\n\n\n\n# è´è½½åè¡¡-haproxy\n\nhttps://blog.csdn.net/william0318/article/details/99677701\n\nå®è£\n\nyum install haproxy -y\nhaproxy -v\n\n\n1\n2\n\n\néç½®æä»¶\n\nvim /etc/haproxy/haproxy.cfg\n\n\n1\n\n\nç¼è¾åå®¹\n\n\n#å¨å±éç½®\nglobal\n    #è®¾ç½®æ¥å¿\n    log 127.0.0.1 local0 info\n    #å½åå·¥ä½ç®å½\n    chroot /usr/local/haproxy\n    #ç¨æ·ä¸ç¨æ·ç»\n    user haproxy\n    group haproxy\n    #è¿è¡è¿ç¨id\n    uid 99\n    gid 99\n    #å®æ¤è¿ç¨å¯å¨\n    daemon\n    #æå¤§è¿æ¥æ°\n    maxconn 4096\n#é»è®¤éç½®\ndefaults\n    #åºç¨å¨å±çæ¥å¿éç½®\n    log global\n    #é»è®¤çæ¨¡å¼mode {tcp|http|health}\n    #tcpæ¯4å±ï¼httpæ¯7å±ï¼healthåªè¿åok\n    mode tcp\n    #æ¥å¿ç±»å«tcplog\n    option tcplog\n    #ä¸è®°å½å¥åº·æ£æ¥æ¥å¿ä¿¡æ¯\n    option dontlognull\n    #3æ¬¡å¤±è´¥åè®¤ä¸ºæå¡ä¸å¯ç¨\n    retries 3\n    #æ¯ä¸ªè¿ç¨å¯ç¨çæå¤§è¿æ¥æ°\n    maxconn 2000\n    #è¿æ¥è¶æ¶\n    timeout connect 5s\n    #å®¢æ·ç«¯è¶æ¶\n    timeout client 120s\n    #æå¡ç«¯è¶æ¶\n    timeout server 120s\n#ç»å®éç½®\nlisten rabbitmq_cluster \n        bind 0.0.0.0:5672\n        #éç½®tcpæ¨¡å¼\n        mode tcp\n        #ç®åçè½®è¯¢\n        balance roundrobin\n        #rabbitmqéç¾¤èç¹éç½®\n        server rmq_node1 127.0.0.1:5673 check inter 5000 rise 2 fall 3 weight 1\n        server rmq_node2 127.0.0.1:5674 check inter 5000 rise 2 fall 3 weight 1\n#haproxyçæ§é¡µé¢å°å\nlisten monitor \n        bind 0.0.0.0:8100\n        mode http\n        option httplog\n        stats enable\n        stats uri /stats\n        stats refresh 5s\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n26\n27\n28\n29\n30\n31\n32\n33\n34\n35\n36\n37\n38\n39\n40\n41\n42\n43\n44\n45\n46\n47\n48\n49\n50\n51\n52\n53\n54\n55\n56\n\n\næ£æ¥éç½®æä»¶æ¯å¦éè¯¯\n\nhaproxy -f /etc/haproxy/haproxy.cfg -c\n\n\n1\n\n\nå¯å¨\n\nhaproxy -f /etc/haproxy/haproxy.cfg -d\n\n\n1\n\n\nè®¿é®haproxyåå°\n\nhttp://192.168.130.124:8100/stats\n\nåç»­å°æ¶æ¯éåçå°ååipè®¾ç½®ä¸ºhaproxyçå¬çå°åå³å¯\n\n\nspring:\n  #æ¶æ¯éåéç½®\n  rabbitmq:\n    host: 192.168.0.104 #haproxyçå°å\n    port: 5672\n    username: guest\n    password: guest\n    virtual-host: /\n    publisher-returns: true\n    publisher-confirms: true\n    connection-timeout: 5000ms\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n',charsets:{cjk:!0},lastUpdated:"2022/03/18, 07:01:11",lastUpdatedTimestamp:1647558071e3},{title:"Spring Boot é«çº§",frontmatter:{title:"Spring Boot é«çº§",date:"2022-03-18T00:51:47.000Z",permalink:"/pages/207023/",categories:["åç«¯","JavaEE"],tags:[null]},regularPath:"/%E5%90%8E%E7%AB%AF/02.JavaEE/14.Spring%20Boot%20%E9%AB%98%E7%BA%A7.html",relativePath:"åç«¯/02.JavaEE/14.Spring Boot é«çº§.md",key:"v-3859f86a",path:"/pages/207023/",headers:[{level:2,title:"èªå¨éç½®",slug:"èªå¨éç½®",normalizedTitle:"èªå¨éç½®",charIndex:21},{level:3,title:"Condition",slug:"condition",normalizedTitle:"condition",charIndex:30},{level:3,title:"èªå®ä¹Conditionalæ³¨è§£",slug:"èªå®ä¹conditionalæ³¨è§£",normalizedTitle:"èªå®ä¹conditionalæ³¨è§£",charIndex:1339},{level:3,title:"å¸¸ç¨æ¡ä»¶æ³¨è§£",slug:"å¸¸ç¨æ¡ä»¶æ³¨è§£",normalizedTitle:"å¸¸ç¨æ¡ä»¶æ³¨è§£",charIndex:3161},{level:3,title:"åæ¢åç½®webæå¡å¨",slug:"åæ¢åç½®webæå¡å¨",normalizedTitle:"åæ¢åç½®webæå¡å¨",charIndex:3780},{level:3,title:"@Enable* æ³¨è§£",slug:"enable-æ³¨è§£",normalizedTitle:"@enable* æ³¨è§£",charIndex:4669},{level:3,title:"èªå®ä¹èªå¨éç½®",slug:"èªå®ä¹èªå¨éç½®",normalizedTitle:"èªå®ä¹èªå¨éç½®",charIndex:6506},{level:2,title:"çå¬æºå¶",slug:"çå¬æºå¶",normalizedTitle:"çå¬æºå¶",charIndex:8072},{level:3,title:"å¯å¨æµç¨",slug:"å¯å¨æµç¨",normalizedTitle:"å¯å¨æµç¨",charIndex:12936},{level:2,title:"çæ§",slug:"çæ§",normalizedTitle:"çæ§",charIndex:12945},{level:2,title:"Spring Boot Admin",slug:"spring-boot-admin",normalizedTitle:"spring boot admin",charIndex:13374},{level:2,title:"é¨ç½²",slug:"é¨ç½²",normalizedTitle:"é¨ç½²",charIndex:14169}],headersStr:"èªå¨éç½® Condition èªå®ä¹Conditionalæ³¨è§£ å¸¸ç¨æ¡ä»¶æ³¨è§£ åæ¢åç½®webæå¡å¨ @Enable* æ³¨è§£ èªå®ä¹èªå¨éç½® çå¬æºå¶ å¯å¨æµç¨ çæ§ Spring Boot Admin é¨ç½²",content:'# Spring Boot é«çº§\n\n\n# èªå¨éç½®\n\n\n# Condition\n\nConditionæ¯spring 4.0 å¢å çæ¡ä»¶å¤æ­åè½ éä¸ªè¿ä¸ªåè½å¯ä»¥å®ç°éæ©æ§çåå»ºBeanæä½\n\nå¯å¨ç±»è¿åIOCå®¹å¨ è·åbeanå¯¹è±¡\n\n        //å¯å¨springbootçåºç¨ è¿åspringçIOCå®¹å¨\n        ConfigurableApplicationContext context = SpringApplication.run(SpringbootProfilesApplication.class, args);\n        \n        //è·åbean\n        Object redisTemplate = context.getBean("redisTemplate");\n        System.out.println(redisTemplate);\n\n\n1\n2\n3\n4\n5\n6\n\n\nåå»ºä¸ä¸ªç±»å®ç° Conditionæ¥å£ å®ç°matchesæ¹æ³ è¿åä¸ä¸ªå¸å°å¼ trueä¸ºåè®¸åå»ºbean falseä¸ºä¸åè®¸\n\nimport org.springframework.context.annotation.Condition;\nimport org.springframework.context.annotation.ConditionContext;\nimport org.springframework.core.type.AnnotatedTypeMetadata;\n\npublic class ClassCondition implements Condition {\n    @Override\n    public boolean matches(ConditionContext context, AnnotatedTypeMetadata metadata) {\n\n\n        try {\n            //è·åæå®çclass æ¯å¦å è½½ æ²¡æåä¸åè®¸åå»ºæ°çbean\n            Class<?> cls = Class.forName("redis.clients.jedis.Jedis");\n        } catch (ClassNotFoundException e) {\n            return false;\n        }\n\n\n        return true;\n    }\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n\n\nä½¿ç¨æ³¨è§£@Conditional\n\n@Configuration\npublic class UserConfig {\n\n    @Bean\n    //å¦æä¸ºtrueååå»ºè¯¥bean\n    @Conditional(ClassCondition.class)\n    public User user(){\n        return new User();\n    }\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n\n\n\n# èªå®ä¹Conditionalæ³¨è§£\n\nåå»ºæ³¨è§£\n\npackage com.itheima.springbootprofiles.condtion;\n\n\nimport org.springframework.context.annotation.Conditional;\n\nimport java.lang.annotation.*;\n\n@Target({ElementType.TYPE, ElementType.METHOD})\n@Retention(RetentionPolicy.RUNTIME)\n@Documented\n@Conditional(ClassCondition.class)\npublic @interface ConditionOnClass {\n    String[] value();\n}\n\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n\n\nåå»ºä¸ä¸ªç±»å®ç° Conditionæ¥å£ å®ç°matchesæ¹æ³ è¿åä¸ä¸ªå¸å°å¼ trueä¸ºåè®¸åå»ºbean falseä¸ºä¸åè®¸\n\npackage com.itheima.springbootprofiles.condtion;\n\nimport org.springframework.context.annotation.Condition;\nimport org.springframework.context.annotation.ConditionContext;\nimport org.springframework.core.type.AnnotatedTypeMetadata;\n\nimport java.util.Map;\n\npublic class ClassCondition implements Condition {\n    /**\n     *\n     * @param context ä¸ä¸æå¯¹è±¡ ç¨äºè·åç¯å¢ iocå®¹å¨ classloaderå¯¹è±¡\n     * @param metadata æ³¨è§£åå¯¹è±¡ å¯ä»¥ç¨äºè·åæ³¨è§£å®ä¹çå±æ§å¼\n     * @return\n     */\n    @Override\n    public boolean matches(ConditionContext context, AnnotatedTypeMetadata metadata) {\n\n\n        Map<String, Object> map = metadata.getAnnotationAttributes(ConditionOnClass.class.getName());  //è·åæ³¨è§£ä¸­çåæ°æ®\n        String[] value = (String[]) map.get("value");  //è·åvalueä¸­å¼\n\n        try {\n            //è·åæå®çclass æ¯å¦å è½½ æ²¡æåä¸åè®¸åå»ºæ°çbean\n            for (String classNmae : value) {\n                Class<?> cls = Class.forName(classNmae);\n            }\n        } catch (ClassNotFoundException e) {\n            return false;\n        }\n\n\n        return true;\n    }\n}\n\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n26\n27\n28\n29\n30\n31\n32\n33\n34\n35\n36\n\n\nä½¿ç¨æ³¨è§£\n\n@Configuration\npublic class UserConfig {\n\n    @Bean\n//    @Conditional(ClassCondition.class)\n    @ConditionOnClass("com.alibaba.fastjson.Json")\n    public User user(){\n        return new User();\n    }\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n\n\n\n# å¸¸ç¨æ¡ä»¶æ³¨è§£\n\n * @ConditionalOnProperty å¤æ­éç½®æä»¶ä¸­æ¯å¦æå¯¹åºå±æ§åå¼æåå§åBean\n * @ConditionalOnClass å¤æ­ç¯å¢ä¸­æ¯å¦æå¯¹åºçå­èç æä»¶æåå§åBean\n * @ConditionalOnMissingBean å¤æ­ç¯å¢ä¸­æ²¡æå¯¹åºçBeanæ¶æåå§åBean\n * @ConditionalOnBean å¤æ­å®¹å¨ä¸­ææå®ç»ä»¶æ¶ææ³¨åè¯¥è¢«æ æ³¨çç»ä»¶\n\n@Bean\n//å½applicationéç½®æä»¶ä¸­ææ­¤é®å¼å¯¹æ¶æåå»ºæ­¤bean\n@ConditionalOnProperty(name = "name",havingValue = "zhangsan")\npublic User user2(){\n    return new User();\n}\n\n\n1\n2\n3\n4\n5\n6\n\n\n@ConditionalOnBean(name = "tomcat")\n@Bean  // ç»å®¹å¨æ³¨åæ·»å ç»ä»¶ ç¨beanå£°æ   è¿åçå¼,å°±æ¯ç»ä»¶å¨å®¹å¨ä¸­çå®ä¾\n    public User user01() {\n        User zhangsan = new User("zhangsan",18);\n        zhangsan.setPet(tomcatpet());\n        return zhangsan;\n    }\n\n\n1\n2\n3\n4\n5\n6\n7\n\n\n\n# åæ¢åç½®webæå¡å¨\n\nSpringBootçwebç¯å¢é»è®¤ä¸ºtomcatä½ä¸ºåç½®æå¡å¨,Springbootæä¾äº4ç§åç½®æå¡å¨è®©æä»¬éæ©\n\n * æé¤tomcat å¼å¥jettyä¾èµ\n   \n           <dependency>\n               <groupId>org.springframework.boot</groupId>\n               <artifactId>spring-boot-starter-web</artifactId>\n               \x3c!--            æé¤tomcat--\x3e\n               <exclusions>\n                   <exclusion>\n                       <groupId>org.springframework.boot</groupId>\n                       <artifactId>spring-boot-starter-tomcat</artifactId>\n                   </exclusion>\n               </exclusions>\n           </dependency>\n           \x3c!--        å¼å¥jettyçä¾èµ--\x3e\n           <dependency>\n               <groupId>org.springframework.boot</groupId>\n               <artifactId>spring-boot-starter-jetty</artifactId>\n           </dependency>\n   \n   \n   1\n   2\n   3\n   4\n   5\n   6\n   7\n   8\n   9\n   10\n   11\n   12\n   13\n   14\n   15\n   16\n   \n\n\n# @Enable* æ³¨è§£\n\nSpringBootä¸­æä¾äºå¾å¤Enableå¼å¤´çæ³¨è§£,è¿äºæ³¨è§£é½æ¯ç¨äºå¨æå¯ç¨æäºåè½ç,èåºå±åçæ¯ä½¿ç¨äº@Importæ³¨è§£å¯¼å¥ä¸äºéç½®ç±»,å®ç°Beançå¨æå è½½\n\n# ç¬¬ä¸æ¹åå¯¼å¥\n\nå¨é¡¹ç®æèPOMä¸­æ·»å åæ \n\nSpringbootå¹¶ä¸ä¼å è½½å°æä»¬èªå·±æå¨å¯¼å¥çç¬¬ä¸æ¹å\n\n 1. ä½¿ç¨@ComponentScan("å¼ç¨è·¯å¾") éæ°å®ä¹æ«æç®å½ SpringBooté»è®¤ä¸ºå¯å¨ç±»çæ ¹è·¯å¾ä¸Bean\n 2. ä½¿ç¨@Import(å­èç ) å¯¼å¥ç¬¬ä¸æ¹jarå\n 3. èªå®ä¹æ³¨è§£ å®ç°@Import å¹¶ç»§æ¿å¶ä¹åçæ³¨è§£ ç®åæä»¬ä¹¦å\n\n# @Importæ³¨è§£\n\n@Enable*åºå±ä¾èµäº@Importæ³¨è§£å¯¼å¥ä¸äºç±»,ä½¿ç¨@Importå¯¼å¥çç±»ä¼è¢«Springå è½½å°IOCå®¹å¨ä¸­,è@Importæä¾4ç§ç¨æ³\n\n 1. å¯¼å¥Bean\n\n 2. å¯¼å¥éç½®ç±»\n\n 3. å¯¼å¥ImportSelectorå®ç°ç±» ä¸è¬ç¨äºå è½½éç½®æä»¶ä¸­çç±»\n    \n    public class MyImportSelector implements ImportSelector {\n        //å®ç°selectImportsæ¹æ³ éè¦ä¸ä¸ªåæ°æ®\n        @Override\n        public String[] selectImports(AnnotationMetadata importingClassMetadata) {\n            return new String[]{"com.itheima.domain.user"};\n        }\n    }\n    \n    //ä½¿ç¨@Importå¯¼å¥å®ç°ç±»\n    @Import(MyImportSelector.class)\n    \n    \n    1\n    2\n    3\n    4\n    5\n    6\n    7\n    8\n    9\n    10\n    \n\n 4. å¯¼å¥ ImportBeanDefinitionRegistrar å®ç°ç±»\n    \n    public class MyImportBeanDefinitionRegistrar implements ImportBeanDefinitionRegistrar {\n        @Override\n        public void registerBeanDefinitions(AnnotationMetadata importingClassMetadata, BeanDefinitionRegistry registry) {\n            //Beanå¯¹è±¡\n            AbstractBeanDefinition beanDefinition = BeanDefinitionBuilder.rootBeanDefinition(User.class).getBeanDefinition();\n            //åå»ºbeançåç§° ä»¥åéè¦ä¸ä¸ªbeanå¯¹è±¡\n            registry.registerBeanDefinition("user",beanDefinition);\n        }\n    }\n    \n    \n    //ä½¿ç¨@Importå¯¼å¥å®ç°ç±»\n    @Import(MyImportBeanDefinitionRegistrar.class)\n    \n    \n    1\n    2\n    3\n    4\n    5\n    6\n    7\n    8\n    9\n    10\n    11\n    12\n    13\n    \n\n# @EnableAutoConfiguration\n\n * @EnableAutoConfiguration æ³¨è§£åé¨ä½¿ç¨@Import(AutoConfigurationImporttSelector.class) æ¥å è½½éç½®ç±»\n * éç½®æä»¶ä½ç½®: META-INF/spring.factories è¯¥éç½®æä»¶ä¸­å®ä¹äºå¤§éçéç½®ç±» å½SpringBootåºç¨å¯å¨æ¶,ä¼èªå¨å è½½è¿äºéç½®ç±» åå§åBean\n * å¹¶ä¸æ¯ææBeané½ä¼è¢«åå§å å¨éç½®ç±»ä¸­ä½¿ç¨Conditionæ¥å è½½æ»¡è¶³æ¡ä»¶çBean\n\n\n# èªå®ä¹èªå¨éç½®\n\néç½®redis éç½®ç±»\n\npackage com.itheima.redisspringbootautoconfigure.redis.config;\n\nimport org.springframework.boot.context.properties.ConfigurationProperties;\n\n@ConfigurationProperties(prefix = "redis")\npublic class RedisProperties {\n    private String host="localhost";\n    private int port =6379;\n\n    public String getHost() {\n        return host;\n    }\n\n    public void setHost(String host) {\n        this.host = host;\n    }\n\n    public int getPort() {\n        return port;\n    }\n\n    public void setPort(int port) {\n        this.port = port;\n    }\n}\n\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n26\n\n\nèªå¨éç½®ç±»\n\npackage com.itheima.redisspringbootautoconfigure.redis.config;\n\nimport org.springframework.boot.context.properties.EnableConfigurationProperties;\nimport org.springframework.context.annotation.Bean;\nimport org.springframework.context.annotation.Configuration;\nimport redis.clients.jedis.Jedis;\n\n@Configuration\n@EnableConfigurationProperties(RedisProperties.class)\n@ConditionalOnClass(Jedis.class)\npublic class RedisAutoConfiguration {\n\n    @Bean\n    @ConditionalOnMissingBean(name = "jedis")\n    public Jedis jedis(RedisProperties redisProperties) {\n        return new Jedis(redisProperties.getHost(), redisProperties.getPort());\n    }\n}\n\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n\n\nå¨resource ä¸åå»ºMETA-INFç®å½ åå»ºspring.factoriesæä»¶\n\norg.springframework.boot.autoconfigure.EnableAutoConfiguration=\\\n com.itheima.redisspringbootautoconfigure.redis.config.RedisAutoConfiguration\n\n\n1\n2\n\n * ä½¿ç¨ å¨é¡¹ç®pomä¸­å¼å¥èªå®ä¹èªå¨éç½®çé¡¹ç®åæ \n\nå¯å¨æ¶èªå¨éç½®\n\n\n# çå¬æºå¶\n\nSpringBootççå¬æºå¶,å¶å®æ¯å¯¹javaæä¾çäºä»¶çå¬æºå¶çå°è£\n\nJavaä¸­çäºä»¶çå¬æºå¶å®ä¹äºä»¥ä¸å ä¸ªè§è²:\n\n 1. äºä»¶: Event, ç»§æ¿java.util.EventObjectç±»çå¯¹è±¡\n 2. äºä»¶æº: Source , ä»»æå¯¹è±¡Object\n 3. çå¬å¨: Listener å®ç°java.util.EventListeneræ¥å£çå¯¹è±¡\n\nSpringBootå¨é¡¹ç®å¯å¨æ¶,ä¼å¯¹å ä¸ªçå¬å¨è¿è¡åè°,æä»¬å¯ä»¥å®ç°è¿äºçå¬å¨æ¥å£,å¨é¡¹ç®å¯å¨æ¶å®æä¸äºæä½\n\n * ApplicationContextInitializer é¡¹ç®å¾æ å è½½åçå¬\n   \n   package com.itheima.springbootinit.listener;\n   \n   import org.springframework.context.ApplicationContextInitializer;\n   import org.springframework.context.ConfigurableApplicationContext;\n   import org.springframework.stereotype.Component;\n   \n   @Component\n   public class MyApplicationContextInitializer implements ApplicationContextInitializer {\n       @Override\n       public void initialize(ConfigurableApplicationContext applicationContext) {\n           System.out.println("ApplicationContextInitializer...initialize");\n       }\n   }\n   \n   \n   \n   1\n   2\n   3\n   4\n   5\n   6\n   7\n   8\n   9\n   10\n   11\n   12\n   13\n   14\n   \n   \n   å¹¶ä¸éç½®resourceä¸ç META-INF çspring.factorieséç½®\n   \n   org.springframework.context.ApplicationContextInitializer=com.itheima.springbootinit.listener.MyApplicationContextInitializer\n   \n   \n   1\n   \n\n * SpringApplicationRunListener çå½å¨æçå¬\n   \n   package com.itheima.springbootinit.listener;\n   \n   import org.springframework.boot.ConfigurableBootstrapContext;\n   import org.springframework.boot.SpringApplication;\n   import org.springframework.boot.SpringApplicationRunListener;\n   import org.springframework.context.ConfigurableApplicationContext;\n   import org.springframework.core.env.ConfigurableEnvironment;\n   import org.springframework.stereotype.Component;\n   \n   \n   public class MySpringApplicationRunListener implements SpringApplicationRunListener {\n       public MySpringApplicationRunListener(SpringApplication application, String[] args) {\n       }\n   \n       @Override\n       public void starting(ConfigurableBootstrapContext bootstrapContext) {\n           System.out.println("starting...é¡¹ç®å¯å¨ä¸­");\n       }\n   \n       @Override\n       public void environmentPrepared(ConfigurableBootstrapContext bootstrapContext, ConfigurableEnvironment environment) {\n           System.out.println("environmentPrepared...ç¯å¢å¯¹è±¡å¼å§åå¤");\n   \n       }\n   \n       @Override\n       public void contextPrepared(ConfigurableApplicationContext context) {\n           System.out.println("contextPrepared...ä¸ä¸æå¯¹è±¡å¼å§åå¤");\n   \n       }\n   \n       @Override\n       public void contextLoaded(ConfigurableApplicationContext context) {\n           System.out.println("contextLoaded...ä¸ä¸æå¯¹è±¡å¼å§å è½½");\n       }\n   \n       @Override\n       public void started(ConfigurableApplicationContext context) {\n           System.out.println("started...ä¸ä¸æå¯¹è±¡å è½½å®æ");\n   \n       }\n   \n       @Override\n       public void running(ConfigurableApplicationContext context) {\n           System.out.println("running...é¡¹ç®å¯å¨å®æ,å¼å§è¿è¡");\n   \n       }\n   \n       @Override\n       public void failed(ConfigurableApplicationContext context, Throwable exception) {\n           System.out.println("failed...é¡¹ç®å¯å¨å¤±è´¥");\n   \n       }\n   }\n   \n   \n   \n   1\n   2\n   3\n   4\n   5\n   6\n   7\n   8\n   9\n   10\n   11\n   12\n   13\n   14\n   15\n   16\n   17\n   18\n   19\n   20\n   21\n   22\n   23\n   24\n   25\n   26\n   27\n   28\n   29\n   30\n   31\n   32\n   33\n   34\n   35\n   36\n   37\n   38\n   39\n   40\n   41\n   42\n   43\n   44\n   45\n   46\n   47\n   48\n   49\n   50\n   51\n   52\n   53\n   54\n   55\n   \n   \n   å¹¶ä¸éç½®resourceä¸ç META-INF çspring.factorieséç½®\n   \n   org.springframework.boot.SpringApplicationRunListener=com.itheima.springbootinit.listener.MySpringApplicationRunListener\n   \n   \n   1\n   \n\n * CommandLineRunner\n   \n   package com.itheima.springbootinit.listener;\n   \n   import org.springframework.boot.CommandLineRunner;\n   import org.springframework.stereotype.Component;\n   \n   import java.util.Arrays;\n   \n   @Component\n   public class MyCommandLineRunner implements CommandLineRunner {\n       @Override\n       public void run(String... args) throws Exception {\n           System.out.println("CommandLineRunner...run");\n           System.out.println(Arrays.toString(args));  //javaè¿è¡ä¼ éçåæ°\n       }\n   }\n   \n   \n   \n   1\n   2\n   3\n   4\n   5\n   6\n   7\n   8\n   9\n   10\n   11\n   12\n   13\n   14\n   15\n   16\n   \n\n * ApplicationRunner\n   \n   package com.itheima.springbootinit.listener;\n   \n   import org.springframework.boot.ApplicationArguments;\n   import org.springframework.boot.ApplicationRunner;\n   import org.springframework.stereotype.Component;\n   \n   import java.util.Arrays;\n   \n   @Component\n   public class MyApplicationRunner implements ApplicationRunner {\n       @Override\n       public void run(ApplicationArguments args) throws Exception {\n           System.out.println("ApplicationRunner...run");\n           System.out.println(Arrays.toString(args.getSourceArgs())); //javaè¿è¡ä¼ éçåæ°\n       }\n   }\n   \n   \n   1\n   2\n   3\n   4\n   5\n   6\n   7\n   8\n   9\n   10\n   11\n   12\n   13\n   14\n   15\n   16\n   \n\n\n# å¯å¨æµç¨\n\n\n# çæ§\n\nSpringBootèªå¸¦çæ§åè½Actuator,å¯ä»¥å¸®å©å®ç°å¯¹ç¨åºåé¨è¿è¡æåµçæ§,æ¯å¦çæ§ç¶åµ Beanå è½½æåµ éç½®å±æ§ æ¥å¿ä¿¡æ¯\n\n\n\n      <dependency>\n            <groupId>org.springframework.boot</groupId>\n            <artifactId>spring-boot-starter-actuator</artifactId>\n        </dependency>\n\n\n1\n2\n3\n4\n\n\nè®¿é®localhost:8080/acruator\n\n * å¼å¯(health)å¥åº·æ£æ¥å®æ´ä¿¡æ¯\n\nmanagement.endpoint.health.show-details=always\n\n\n1\n\n * å°ææççæ§endpointæ´é²åºæ¥\n\nmanagement.endpoints.web.exposure.include=*\n\n\n1\n\n\n\n# Spring Boot Admin\n\nSpring Boot Adminæ¯ä¸ä¸ªå¼æºç¤¾åºé¡¹ç® ç¨äºç®¡çåçæ§SpringBootåºç¨ç¨åº\n\nåæå¡ç«¯åå®¢æ·ç«¯ å®¢æ·ç«¯ç¨äºæ¥ççæ§ æå¡ç«¯ç¨äºçæ§Spring\n\næå¡ç«¯\n\n\n\n    <dependency>\n            <groupId>de.codecentric</groupId>\n            <artifactId>spring-boot-admin-starter-server</artifactId>\n            <version>2.5.0</version>\n        </dependency>\n\n\n1\n2\n3\n4\n5\n\n\nå¨å¯å¨ç±»ä¸­å ä¸ æ³¨è§£ @EnableAdminServer ç¨äºçæ§springboot\n\nå®¢æ·ç«¯\n\nåå»ºå¦å¤ä¸ä¸ªé¡¹ç®\n\n\n\n        <dependency>\n            <groupId>de.codecentric</groupId>\n            <artifactId>spring-boot-admin-starter-client</artifactId>\n            <version>2.5.0</version>\n        </dependency>\n\n\n1\n2\n3\n4\n5\n\n\nå¨applicationéç½®admin.serverå°å\n\nspring.boot.admin.client.url=http://localhost:8080  #å¯¹åºçæ¯serverçipåç«¯å£\nmanagement.endpoint.health.show-details=always\nmanagement.endpoints.web.exposure.include=*\n\n\n1\n2\n3\n\n\n\n\n\n# é¨ç½²\n\nSpringBooté¡¹ç®å¼åå®æ¯å,æ¯æä¸¤ç§æ¹å¼é¨ç½²å°æå¡å¨ä¸\n\n 1. jarå(å®æ¹æ¨è)\n    \n    ç´æ¥å¨mavenä¸­æåå³å¯\n\n 2. warå å¨pomæä»¶ä¸­packageingå®ä¹ä¸ºwarå å¯å¨ç±»ç»§æ¿ SpringBootServletInitializer ç±» éåconfigureæ¹æ³\n    \n    @Override\n    protected SpringApplicationBuilder configure(SpringApplicationBuilder builder) {\n        return builder.sources(SpringbootProfilesApplication.class); //å°å¯å¨ç±»å­èç æä»¶ä¼ éè¿å»\n    }\n    \n    \n    1\n    2\n    3\n    4\n    \n    \n    æ¾ç½®waråå°tomcatçwebappsçç®å½ä¸å¯å¨tomcatå³å¯',normalizedContent:'# spring boot é«çº§\n\n\n# èªå¨éç½®\n\n\n# condition\n\nconditionæ¯spring 4.0 å¢å çæ¡ä»¶å¤æ­åè½ éä¸ªè¿ä¸ªåè½å¯ä»¥å®ç°éæ©æ§çåå»ºbeanæä½\n\nå¯å¨ç±»è¿åiocå®¹å¨ è·åbeanå¯¹è±¡\n\n        //å¯å¨springbootçåºç¨ è¿åspringçiocå®¹å¨\n        configurableapplicationcontext context = springapplication.run(springbootprofilesapplication.class, args);\n        \n        //è·åbean\n        object redistemplate = context.getbean("redistemplate");\n        system.out.println(redistemplate);\n\n\n1\n2\n3\n4\n5\n6\n\n\nåå»ºä¸ä¸ªç±»å®ç° conditionæ¥å£ å®ç°matchesæ¹æ³ è¿åä¸ä¸ªå¸å°å¼ trueä¸ºåè®¸åå»ºbean falseä¸ºä¸åè®¸\n\nimport org.springframework.context.annotation.condition;\nimport org.springframework.context.annotation.conditioncontext;\nimport org.springframework.core.type.annotatedtypemetadata;\n\npublic class classcondition implements condition {\n    @override\n    public boolean matches(conditioncontext context, annotatedtypemetadata metadata) {\n\n\n        try {\n            //è·åæå®çclass æ¯å¦å è½½ æ²¡æåä¸åè®¸åå»ºæ°çbean\n            class<?> cls = class.forname("redis.clients.jedis.jedis");\n        } catch (classnotfoundexception e) {\n            return false;\n        }\n\n\n        return true;\n    }\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n\n\nä½¿ç¨æ³¨è§£@conditional\n\n@configuration\npublic class userconfig {\n\n    @bean\n    //å¦æä¸ºtrueååå»ºè¯¥bean\n    @conditional(classcondition.class)\n    public user user(){\n        return new user();\n    }\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n\n\n\n# èªå®ä¹conditionalæ³¨è§£\n\nåå»ºæ³¨è§£\n\npackage com.itheima.springbootprofiles.condtion;\n\n\nimport org.springframework.context.annotation.conditional;\n\nimport java.lang.annotation.*;\n\n@target({elementtype.type, elementtype.method})\n@retention(retentionpolicy.runtime)\n@documented\n@conditional(classcondition.class)\npublic @interface conditiononclass {\n    string[] value();\n}\n\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n\n\nåå»ºä¸ä¸ªç±»å®ç° conditionæ¥å£ å®ç°matchesæ¹æ³ è¿åä¸ä¸ªå¸å°å¼ trueä¸ºåè®¸åå»ºbean falseä¸ºä¸åè®¸\n\npackage com.itheima.springbootprofiles.condtion;\n\nimport org.springframework.context.annotation.condition;\nimport org.springframework.context.annotation.conditioncontext;\nimport org.springframework.core.type.annotatedtypemetadata;\n\nimport java.util.map;\n\npublic class classcondition implements condition {\n    /**\n     *\n     * @param context ä¸ä¸æå¯¹è±¡ ç¨äºè·åç¯å¢ iocå®¹å¨ classloaderå¯¹è±¡\n     * @param metadata æ³¨è§£åå¯¹è±¡ å¯ä»¥ç¨äºè·åæ³¨è§£å®ä¹çå±æ§å¼\n     * @return\n     */\n    @override\n    public boolean matches(conditioncontext context, annotatedtypemetadata metadata) {\n\n\n        map<string, object> map = metadata.getannotationattributes(conditiononclass.class.getname());  //è·åæ³¨è§£ä¸­çåæ°æ®\n        string[] value = (string[]) map.get("value");  //è·åvalueä¸­å¼\n\n        try {\n            //è·åæå®çclass æ¯å¦å è½½ æ²¡æåä¸åè®¸åå»ºæ°çbean\n            for (string classnmae : value) {\n                class<?> cls = class.forname(classnmae);\n            }\n        } catch (classnotfoundexception e) {\n            return false;\n        }\n\n\n        return true;\n    }\n}\n\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n26\n27\n28\n29\n30\n31\n32\n33\n34\n35\n36\n\n\nä½¿ç¨æ³¨è§£\n\n@configuration\npublic class userconfig {\n\n    @bean\n//    @conditional(classcondition.class)\n    @conditiononclass("com.alibaba.fastjson.json")\n    public user user(){\n        return new user();\n    }\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n\n\n\n# å¸¸ç¨æ¡ä»¶æ³¨è§£\n\n * @conditionalonproperty å¤æ­éç½®æä»¶ä¸­æ¯å¦æå¯¹åºå±æ§åå¼æåå§åbean\n * @conditionalonclass å¤æ­ç¯å¢ä¸­æ¯å¦æå¯¹åºçå­èç æä»¶æåå§åbean\n * @conditionalonmissingbean å¤æ­ç¯å¢ä¸­æ²¡æå¯¹åºçbeanæ¶æåå§åbean\n * @conditionalonbean å¤æ­å®¹å¨ä¸­ææå®ç»ä»¶æ¶ææ³¨åè¯¥è¢«æ æ³¨çç»ä»¶\n\n@bean\n//å½applicationéç½®æä»¶ä¸­ææ­¤é®å¼å¯¹æ¶æåå»ºæ­¤bean\n@conditionalonproperty(name = "name",havingvalue = "zhangsan")\npublic user user2(){\n    return new user();\n}\n\n\n1\n2\n3\n4\n5\n6\n\n\n@conditionalonbean(name = "tomcat")\n@bean  // ç»å®¹å¨æ³¨åæ·»å ç»ä»¶ ç¨beanå£°æ   è¿åçå¼,å°±æ¯ç»ä»¶å¨å®¹å¨ä¸­çå®ä¾\n    public user user01() {\n        user zhangsan = new user("zhangsan",18);\n        zhangsan.setpet(tomcatpet());\n        return zhangsan;\n    }\n\n\n1\n2\n3\n4\n5\n6\n7\n\n\n\n# åæ¢åç½®webæå¡å¨\n\nspringbootçwebç¯å¢é»è®¤ä¸ºtomcatä½ä¸ºåç½®æå¡å¨,springbootæä¾äº4ç§åç½®æå¡å¨è®©æä»¬éæ©\n\n * æé¤tomcat å¼å¥jettyä¾èµ\n   \n           <dependency>\n               <groupid>org.springframework.boot</groupid>\n               <artifactid>spring-boot-starter-web</artifactid>\n               \x3c!--            æé¤tomcat--\x3e\n               <exclusions>\n                   <exclusion>\n                       <groupid>org.springframework.boot</groupid>\n                       <artifactid>spring-boot-starter-tomcat</artifactid>\n                   </exclusion>\n               </exclusions>\n           </dependency>\n           \x3c!--        å¼å¥jettyçä¾èµ--\x3e\n           <dependency>\n               <groupid>org.springframework.boot</groupid>\n               <artifactid>spring-boot-starter-jetty</artifactid>\n           </dependency>\n   \n   \n   1\n   2\n   3\n   4\n   5\n   6\n   7\n   8\n   9\n   10\n   11\n   12\n   13\n   14\n   15\n   16\n   \n\n\n# @enable* æ³¨è§£\n\nspringbootä¸­æä¾äºå¾å¤enableå¼å¤´çæ³¨è§£,è¿äºæ³¨è§£é½æ¯ç¨äºå¨æå¯ç¨æäºåè½ç,èåºå±åçæ¯ä½¿ç¨äº@importæ³¨è§£å¯¼å¥ä¸äºéç½®ç±»,å®ç°beançå¨æå è½½\n\n# ç¬¬ä¸æ¹åå¯¼å¥\n\nå¨é¡¹ç®æèpomä¸­æ·»å åæ \n\nspringbootå¹¶ä¸ä¼å è½½å°æä»¬èªå·±æå¨å¯¼å¥çç¬¬ä¸æ¹å\n\n 1. ä½¿ç¨@componentscan("å¼ç¨è·¯å¾") éæ°å®ä¹æ«æç®å½ springbooté»è®¤ä¸ºå¯å¨ç±»çæ ¹è·¯å¾ä¸bean\n 2. ä½¿ç¨@import(å­èç ) å¯¼å¥ç¬¬ä¸æ¹jarå\n 3. èªå®ä¹æ³¨è§£ å®ç°@import å¹¶ç»§æ¿å¶ä¹åçæ³¨è§£ ç®åæä»¬ä¹¦å\n\n# @importæ³¨è§£\n\n@enable*åºå±ä¾èµäº@importæ³¨è§£å¯¼å¥ä¸äºç±»,ä½¿ç¨@importå¯¼å¥çç±»ä¼è¢«springå è½½å°iocå®¹å¨ä¸­,è@importæä¾4ç§ç¨æ³\n\n 1. å¯¼å¥bean\n\n 2. å¯¼å¥éç½®ç±»\n\n 3. å¯¼å¥importselectorå®ç°ç±» ä¸è¬ç¨äºå è½½éç½®æä»¶ä¸­çç±»\n    \n    public class myimportselector implements importselector {\n        //å®ç°selectimportsæ¹æ³ éè¦ä¸ä¸ªåæ°æ®\n        @override\n        public string[] selectimports(annotationmetadata importingclassmetadata) {\n            return new string[]{"com.itheima.domain.user"};\n        }\n    }\n    \n    //ä½¿ç¨@importå¯¼å¥å®ç°ç±»\n    @import(myimportselector.class)\n    \n    \n    1\n    2\n    3\n    4\n    5\n    6\n    7\n    8\n    9\n    10\n    \n\n 4. å¯¼å¥ importbeandefinitionregistrar å®ç°ç±»\n    \n    public class myimportbeandefinitionregistrar implements importbeandefinitionregistrar {\n        @override\n        public void registerbeandefinitions(annotationmetadata importingclassmetadata, beandefinitionregistry registry) {\n            //beanå¯¹è±¡\n            abstractbeandefinition beandefinition = beandefinitionbuilder.rootbeandefinition(user.class).getbeandefinition();\n            //åå»ºbeançåç§° ä»¥åéè¦ä¸ä¸ªbeanå¯¹è±¡\n            registry.registerbeandefinition("user",beandefinition);\n        }\n    }\n    \n    \n    //ä½¿ç¨@importå¯¼å¥å®ç°ç±»\n    @import(myimportbeandefinitionregistrar.class)\n    \n    \n    1\n    2\n    3\n    4\n    5\n    6\n    7\n    8\n    9\n    10\n    11\n    12\n    13\n    \n\n# @enableautoconfiguration\n\n * @enableautoconfiguration æ³¨è§£åé¨ä½¿ç¨@import(autoconfigurationimporttselector.class) æ¥å è½½éç½®ç±»\n * éç½®æä»¶ä½ç½®: meta-inf/spring.factories è¯¥éç½®æä»¶ä¸­å®ä¹äºå¤§éçéç½®ç±» å½springbootåºç¨å¯å¨æ¶,ä¼èªå¨å è½½è¿äºéç½®ç±» åå§åbean\n * å¹¶ä¸æ¯ææbeané½ä¼è¢«åå§å å¨éç½®ç±»ä¸­ä½¿ç¨conditionæ¥å è½½æ»¡è¶³æ¡ä»¶çbean\n\n\n# èªå®ä¹èªå¨éç½®\n\néç½®redis éç½®ç±»\n\npackage com.itheima.redisspringbootautoconfigure.redis.config;\n\nimport org.springframework.boot.context.properties.configurationproperties;\n\n@configurationproperties(prefix = "redis")\npublic class redisproperties {\n    private string host="localhost";\n    private int port =6379;\n\n    public string gethost() {\n        return host;\n    }\n\n    public void sethost(string host) {\n        this.host = host;\n    }\n\n    public int getport() {\n        return port;\n    }\n\n    public void setport(int port) {\n        this.port = port;\n    }\n}\n\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n26\n\n\nèªå¨éç½®ç±»\n\npackage com.itheima.redisspringbootautoconfigure.redis.config;\n\nimport org.springframework.boot.context.properties.enableconfigurationproperties;\nimport org.springframework.context.annotation.bean;\nimport org.springframework.context.annotation.configuration;\nimport redis.clients.jedis.jedis;\n\n@configuration\n@enableconfigurationproperties(redisproperties.class)\n@conditionalonclass(jedis.class)\npublic class redisautoconfiguration {\n\n    @bean\n    @conditionalonmissingbean(name = "jedis")\n    public jedis jedis(redisproperties redisproperties) {\n        return new jedis(redisproperties.gethost(), redisproperties.getport());\n    }\n}\n\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n\n\nå¨resource ä¸åå»ºmeta-infç®å½ åå»ºspring.factoriesæä»¶\n\norg.springframework.boot.autoconfigure.enableautoconfiguration=\\\n com.itheima.redisspringbootautoconfigure.redis.config.redisautoconfiguration\n\n\n1\n2\n\n * ä½¿ç¨ å¨é¡¹ç®pomä¸­å¼å¥èªå®ä¹èªå¨éç½®çé¡¹ç®åæ \n\nå¯å¨æ¶èªå¨éç½®\n\n\n# çå¬æºå¶\n\nspringbootççå¬æºå¶,å¶å®æ¯å¯¹javaæä¾çäºä»¶çå¬æºå¶çå°è£\n\njavaä¸­çäºä»¶çå¬æºå¶å®ä¹äºä»¥ä¸å ä¸ªè§è²:\n\n 1. äºä»¶: event, ç»§æ¿java.util.eventobjectç±»çå¯¹è±¡\n 2. äºä»¶æº: source , ä»»æå¯¹è±¡object\n 3. çå¬å¨: listener å®ç°java.util.eventlisteneræ¥å£çå¯¹è±¡\n\nspringbootå¨é¡¹ç®å¯å¨æ¶,ä¼å¯¹å ä¸ªçå¬å¨è¿è¡åè°,æä»¬å¯ä»¥å®ç°è¿äºçå¬å¨æ¥å£,å¨é¡¹ç®å¯å¨æ¶å®æä¸äºæä½\n\n * applicationcontextinitializer é¡¹ç®å¾æ å è½½åçå¬\n   \n   package com.itheima.springbootinit.listener;\n   \n   import org.springframework.context.applicationcontextinitializer;\n   import org.springframework.context.configurableapplicationcontext;\n   import org.springframework.stereotype.component;\n   \n   @component\n   public class myapplicationcontextinitializer implements applicationcontextinitializer {\n       @override\n       public void initialize(configurableapplicationcontext applicationcontext) {\n           system.out.println("applicationcontextinitializer...initialize");\n       }\n   }\n   \n   \n   \n   1\n   2\n   3\n   4\n   5\n   6\n   7\n   8\n   9\n   10\n   11\n   12\n   13\n   14\n   \n   \n   å¹¶ä¸éç½®resourceä¸ç meta-inf çspring.factorieséç½®\n   \n   org.springframework.context.applicationcontextinitializer=com.itheima.springbootinit.listener.myapplicationcontextinitializer\n   \n   \n   1\n   \n\n * springapplicationrunlistener çå½å¨æçå¬\n   \n   package com.itheima.springbootinit.listener;\n   \n   import org.springframework.boot.configurablebootstrapcontext;\n   import org.springframework.boot.springapplication;\n   import org.springframework.boot.springapplicationrunlistener;\n   import org.springframework.context.configurableapplicationcontext;\n   import org.springframework.core.env.configurableenvironment;\n   import org.springframework.stereotype.component;\n   \n   \n   public class myspringapplicationrunlistener implements springapplicationrunlistener {\n       public myspringapplicationrunlistener(springapplication application, string[] args) {\n       }\n   \n       @override\n       public void starting(configurablebootstrapcontext bootstrapcontext) {\n           system.out.println("starting...é¡¹ç®å¯å¨ä¸­");\n       }\n   \n       @override\n       public void environmentprepared(configurablebootstrapcontext bootstrapcontext, configurableenvironment environment) {\n           system.out.println("environmentprepared...ç¯å¢å¯¹è±¡å¼å§åå¤");\n   \n       }\n   \n       @override\n       public void contextprepared(configurableapplicationcontext context) {\n           system.out.println("contextprepared...ä¸ä¸æå¯¹è±¡å¼å§åå¤");\n   \n       }\n   \n       @override\n       public void contextloaded(configurableapplicationcontext context) {\n           system.out.println("contextloaded...ä¸ä¸æå¯¹è±¡å¼å§å è½½");\n       }\n   \n       @override\n       public void started(configurableapplicationcontext context) {\n           system.out.println("started...ä¸ä¸æå¯¹è±¡å è½½å®æ");\n   \n       }\n   \n       @override\n       public void running(configurableapplicationcontext context) {\n           system.out.println("running...é¡¹ç®å¯å¨å®æ,å¼å§è¿è¡");\n   \n       }\n   \n       @override\n       public void failed(configurableapplicationcontext context, throwable exception) {\n           system.out.println("failed...é¡¹ç®å¯å¨å¤±è´¥");\n   \n       }\n   }\n   \n   \n   \n   1\n   2\n   3\n   4\n   5\n   6\n   7\n   8\n   9\n   10\n   11\n   12\n   13\n   14\n   15\n   16\n   17\n   18\n   19\n   20\n   21\n   22\n   23\n   24\n   25\n   26\n   27\n   28\n   29\n   30\n   31\n   32\n   33\n   34\n   35\n   36\n   37\n   38\n   39\n   40\n   41\n   42\n   43\n   44\n   45\n   46\n   47\n   48\n   49\n   50\n   51\n   52\n   53\n   54\n   55\n   \n   \n   å¹¶ä¸éç½®resourceä¸ç meta-inf çspring.factorieséç½®\n   \n   org.springframework.boot.springapplicationrunlistener=com.itheima.springbootinit.listener.myspringapplicationrunlistener\n   \n   \n   1\n   \n\n * commandlinerunner\n   \n   package com.itheima.springbootinit.listener;\n   \n   import org.springframework.boot.commandlinerunner;\n   import org.springframework.stereotype.component;\n   \n   import java.util.arrays;\n   \n   @component\n   public class mycommandlinerunner implements commandlinerunner {\n       @override\n       public void run(string... args) throws exception {\n           system.out.println("commandlinerunner...run");\n           system.out.println(arrays.tostring(args));  //javaè¿è¡ä¼ éçåæ°\n       }\n   }\n   \n   \n   \n   1\n   2\n   3\n   4\n   5\n   6\n   7\n   8\n   9\n   10\n   11\n   12\n   13\n   14\n   15\n   16\n   \n\n * applicationrunner\n   \n   package com.itheima.springbootinit.listener;\n   \n   import org.springframework.boot.applicationarguments;\n   import org.springframework.boot.applicationrunner;\n   import org.springframework.stereotype.component;\n   \n   import java.util.arrays;\n   \n   @component\n   public class myapplicationrunner implements applicationrunner {\n       @override\n       public void run(applicationarguments args) throws exception {\n           system.out.println("applicationrunner...run");\n           system.out.println(arrays.tostring(args.getsourceargs())); //javaè¿è¡ä¼ éçåæ°\n       }\n   }\n   \n   \n   1\n   2\n   3\n   4\n   5\n   6\n   7\n   8\n   9\n   10\n   11\n   12\n   13\n   14\n   15\n   16\n   \n\n\n# å¯å¨æµç¨\n\n\n# çæ§\n\nspringbootèªå¸¦çæ§åè½actuator,å¯ä»¥å¸®å©å®ç°å¯¹ç¨åºåé¨è¿è¡æåµçæ§,æ¯å¦çæ§ç¶åµ beanå è½½æåµ éç½®å±æ§ æ¥å¿ä¿¡æ¯\n\n\n\n      <dependency>\n            <groupid>org.springframework.boot</groupid>\n            <artifactid>spring-boot-starter-actuator</artifactid>\n        </dependency>\n\n\n1\n2\n3\n4\n\n\nè®¿é®localhost:8080/acruator\n\n * å¼å¯(health)å¥åº·æ£æ¥å®æ´ä¿¡æ¯\n\nmanagement.endpoint.health.show-details=always\n\n\n1\n\n * å°ææççæ§endpointæ´é²åºæ¥\n\nmanagement.endpoints.web.exposure.include=*\n\n\n1\n\n\n\n# spring boot admin\n\nspring boot adminæ¯ä¸ä¸ªå¼æºç¤¾åºé¡¹ç® ç¨äºç®¡çåçæ§springbootåºç¨ç¨åº\n\nåæå¡ç«¯åå®¢æ·ç«¯ å®¢æ·ç«¯ç¨äºæ¥ççæ§ æå¡ç«¯ç¨äºçæ§spring\n\næå¡ç«¯\n\n\n\n    <dependency>\n            <groupid>de.codecentric</groupid>\n            <artifactid>spring-boot-admin-starter-server</artifactid>\n            <version>2.5.0</version>\n        </dependency>\n\n\n1\n2\n3\n4\n5\n\n\nå¨å¯å¨ç±»ä¸­å ä¸ æ³¨è§£ @enableadminserver ç¨äºçæ§springboot\n\nå®¢æ·ç«¯\n\nåå»ºå¦å¤ä¸ä¸ªé¡¹ç®\n\n\n\n        <dependency>\n            <groupid>de.codecentric</groupid>\n            <artifactid>spring-boot-admin-starter-client</artifactid>\n            <version>2.5.0</version>\n        </dependency>\n\n\n1\n2\n3\n4\n5\n\n\nå¨applicationéç½®admin.serverå°å\n\nspring.boot.admin.client.url=http://localhost:8080  #å¯¹åºçæ¯serverçipåç«¯å£\nmanagement.endpoint.health.show-details=always\nmanagement.endpoints.web.exposure.include=*\n\n\n1\n2\n3\n\n\n\n\n\n# é¨ç½²\n\nspringbooté¡¹ç®å¼åå®æ¯å,æ¯æä¸¤ç§æ¹å¼é¨ç½²å°æå¡å¨ä¸\n\n 1. jarå(å®æ¹æ¨è)\n    \n    ç´æ¥å¨mavenä¸­æåå³å¯\n\n 2. warå å¨pomæä»¶ä¸­packageingå®ä¹ä¸ºwarå å¯å¨ç±»ç»§æ¿ springbootservletinitializer ç±» éåconfigureæ¹æ³\n    \n    @override\n    protected springapplicationbuilder configure(springapplicationbuilder builder) {\n        return builder.sources(springbootprofilesapplication.class); //å°å¯å¨ç±»å­èç æä»¶ä¼ éè¿å»\n    }\n    \n    \n    1\n    2\n    3\n    4\n    \n    \n    æ¾ç½®waråå°tomcatçwebappsçç®å½ä¸å¯å¨tomcatå³å¯',charsets:{cjk:!0},lastUpdated:"2022/03/18, 07:01:11",lastUpdatedTimestamp:1647558071e3},{title:"Docker",frontmatter:{title:"Docker",date:"2022-03-18T00:51:47.000Z",permalink:"/pages/c588b5/",categories:["åç«¯","JavaEE"],tags:[null]},regularPath:"/%E5%90%8E%E7%AB%AF/02.JavaEE/18.Docker.html",relativePath:"åç«¯/02.JavaEE/18.Docker.md",key:"v-01a7b822",path:"/pages/c588b5/",headers:[{level:2,title:"å®è£",slug:"å®è£",normalizedTitle:"å®è£",charIndex:34},{level:2,title:"æ¶æ",slug:"æ¶æ",normalizedTitle:"æ¶æ",charIndex:69},{level:2,title:"Docker éåå éå¨",slug:"docker-éåå éå¨",normalizedTitle:"docker éåå éå¨",charIndex:78},{level:2,title:"Docker å½ä»¤",slug:"docker-å½ä»¤",normalizedTitle:"docker å½ä»¤",charIndex:374},{level:3,title:"æå¡",slug:"æå¡",normalizedTitle:"æå¡",charIndex:388},{level:3,title:"éå",slug:"éå",normalizedTitle:"éå",charIndex:85},{level:3,title:"å®¹å¨",slug:"å®¹å¨",normalizedTitle:"å®¹å¨",charIndex:25},{level:2,title:"å®¹å¨æ°æ®å·",slug:"å®¹å¨æ°æ®å·",normalizedTitle:"å®¹å¨æ°æ®å·",charIndex:1865},{level:2,title:"æ°æ®å·å®¹å¨",slug:"æ°æ®å·å®¹å¨",normalizedTitle:"æ°æ®å·å®¹å¨",charIndex:2026},{level:2,title:"åºç¨é¨ç½²",slug:"åºç¨é¨ç½²",normalizedTitle:"åºç¨é¨ç½²",charIndex:2391},{level:3,title:"MySQL",slug:"mysql",normalizedTitle:"mysql",charIndex:2400},{level:3,title:"Tomcat",slug:"tomcat",normalizedTitle:"tomcat",charIndex:2677},{level:3,title:"Nginx",slug:"nginx",normalizedTitle:"nginx",charIndex:2801},{level:3,title:"Redis",slug:"redis",normalizedTitle:"redis",charIndex:2914},{level:2,title:"Docker éå",slug:"docker-éå",normalizedTitle:"docker éå",charIndex:78},{level:3,title:"éåå¶ä½",slug:"éåå¶ä½",normalizedTitle:"éåå¶ä½",charIndex:3084},{level:3,title:"Dockerfile",slug:"dockerfile",normalizedTitle:"dockerfile",charIndex:3341},{level:2,title:"Docker Composeæå¡ç¼æ",slug:"docker-composeæå¡ç¼æ",normalizedTitle:"docker composeæå¡ç¼æ",charIndex:6285},{level:2,title:"ç§æä»åº",slug:"ç§æä»åº",normalizedTitle:"ç§æä»åº",charIndex:7345},{level:2,title:"Docker Hub",slug:"docker-hub",normalizedTitle:"docker hub",charIndex:7880},{level:2,title:"dockerå®¹å¨ä¸èææºæ¯è¾",slug:"dockerå®¹å¨ä¸èææºæ¯è¾",normalizedTitle:"dockerå®¹å¨ä¸èææºæ¯è¾",charIndex:8015},{level:2,title:"æ¬å°éåå¯¼åºåå¯¼å¥",slug:"æ¬å°éåå¯¼åºåå¯¼å¥",normalizedTitle:"æ¬å°éåå¯¼åºåå¯¼å¥",charIndex:8038},{level:3,title:"å¯¼åº",slug:"å¯¼åº",normalizedTitle:"å¯¼åº",charIndex:8042},{level:3,title:"å¯¼å¥",slug:"å¯¼å¥",normalizedTitle:"å¯¼å¥",charIndex:8045}],headersStr:"å®è£ æ¶æ Docker éåå éå¨ Docker å½ä»¤ æå¡ éå å®¹å¨ å®¹å¨æ°æ®å· æ°æ®å·å®¹å¨ åºç¨é¨ç½² MySQL Tomcat Nginx Redis Docker éå éåå¶ä½ Dockerfile Docker Composeæå¡ç¼æ ç§æä»åº Docker Hub dockerå®¹å¨ä¸èææºæ¯è¾ æ¬å°éåå¯¼åºåå¯¼å¥ å¯¼åº å¯¼å¥",content:'# Docker\n\nDocker æ¯ä¸ä¸ªå¼æºçåºç¨å®¹å¨å¼æ\n\n\n# å®è£\n\nyum install -y docker\n\n\n1\n\n\n\n# æ¶æ\n\n\n\n\n# Docker éåå éå¨\n\nhttps://cr.console.aliyun.com/cn-hangzhou/instances/mirrors\n\nsudo mkdir -p /etc/docker\nsudo tee /etc/docker/daemon.json <<-\'EOF\'\n{\n  "registry-mirrors": ["https://o7uzc3zp.mirror.aliyuncs.com"]\n}\nEOF\nsudo systemctl daemon-reload\nsudo systemctl restart docker\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n\n\n\n# Docker å½ä»¤\n\n\n# æå¡\n\nsystemctl start docker  # å¯å¨\nsystemctl stop docker  # åæ­¢\nsystemctl status docker  #ç¶æ\nsystemctl restart docker #éå¯\nsystemctl enabled docker #å¼æºèªå¯\n\n\n1\n2\n3\n4\n5\n\n\n\n# éå\n\n * æ¥çæ¬å°éå\n   \n   docker images\n   \n   \n   1\n   \n\n * æç´¢éå\n   \n   docker search éåå\n   \n   \n   1\n   \n\n * æåéå\n   \n   docker pull éåå:çæ¬å· # çæ¬å·é»è®¤ä¸ºlatest\n   \n   \n   1\n   \n\n * å é¤éå\n   \n   docker rmi éåid    # ä¹å¯ä»¥éè¿åç§°:çæ¬å·å é¤\n   \n   \n   1\n   \n\n * å é¤ææéå\n   \n   docker rmi `docker images -q`\n   \n   \n   1\n   \n\n\n# å®¹å¨\n\n * åå»ºå®¹å¨å¹¶ è¿è¡åæ°run\n   \n   * -i ä¿æè¿è¡\n   * -t ä»¥ç»ç«¯æ¨¡å¼è¿è¡å¹¶è¿å¥\n   * -d åå°å¸¸é©»æ¨¡å¼\n   * --name=xxx æ­¤å®¹å¨åç§°\n   * éåå/id\n   * /bin/bash åå§åå½ä»¤\n   \n   docker run -it --name=redis redis /bin/bash  #è¿å¥å®¹å¨åé¨\n   docker run -d --name=redis2 redis # åå°è¿è¡å®¹å¨\n   \n   \n   1\n   2\n   \n\n * æ¥è¯¢å®¹å¨\n   \n   docker ps  #æ¥è¯¢æ­£å¨è¿è¡çå®¹å¨\n   docker ps -a # æ¥çææå®¹å¨åæ¬å·²åæ­¢ç\n   \n   \n   1\n   2\n   \n\n * è¿å¥å·²ç»è¿è¡çå®¹å¨åé¨\n   \n   docker exec -it åç§°/id /bin/bash \n   \n   \n   1\n   \n\n * è¿è¡ åæ­¢å®¹å¨\n   \n   docker stop åç§°/id  #åæ­¢å®¹å¨\n   docker start åç§°/id  #å¯å¨å®¹å¨\n   \n   \n   1\n   2\n   \n\n * å é¤00å®¹å¨\n   \n   docker rm åç§°/id # å é¤å®¹å¨ ådocker ps -a æ¥è¯¢\n   docker rm `docker ps -aq`   # å é¤ææå®¹å¨ æç¨ æ­£å¨è¿è¡çå®¹å¨æ æ³å é¤\n   \n   \n   1\n   2\n   \n\n * æ¥çå®¹å¨ éç½®ä¿¡æ¯\n   \n   docker inspect åç§°/id\n   \n   \n   1\n   \n\n * ä¿®æ¹éç½®ä¿¡æ¯\n\nsystemctl stop docker\ncd /var/lib/docker/containers/docekr inspectæ¥åºçid\nvim config.v2.json\nsystemctl restart docker\n\n\n1\n2\n3\n4\n\n\n * ç¨äºæ¸çç£çï¼å é¤å³é­çå®¹å¨ãæ ç¨çæ°æ®å·åç½ç»ï¼ä»¥åå³æ tagçéå è°¨æä½¿ç¨\n   \n   docker system prune\n   \n   \n   1\n   \n\n * æ¥çdockerèªèº«ç£çä½¿ç¨æåµ\n   \n   docker system df\n   \n   \n   1\n   \n\n\n# å®¹å¨æ°æ®å·\n\næ°æ®å·æ¯å®¿ä¸»æºä¸­çä¸ä¸ªç®å½ææä»¶ ç§°ä¸ºæè½½ç®å½ ä¸ä¸ªæ°æ®å·å¯ä»¥è¢«å¤ä¸ªå®¹å¨åæ¶æè½½\n\n * åå»ºå¯å¨å®¹å¨æ¶ ä½¿ç¨ -våæ° è®¾ç½®æ°æ®é\n   \n   docker run -d -v å®¿ä¸»æºç®å½:å®¹å¨åç®å½\n   \n   \n   1\n   \n   \n   ç®å½å¿é¡»ä¸ºç»å¯¹è·¯å¾ å¦æç®å½ä¸å­å¨åèªå¨åå»º\n\n\n# æ°æ®å·å®¹å¨\n\nå¤å®¹å¨è¿è¡æ°æ®äº¤æ¢ ä¹åæä»¬éè¿å¤å®¹å¨ç»å®å®¿ä¸»æºçåç®å½\n\n 1. åå»ºä¸ä¸ªæ°æ®å·å®¹å¨ ååå»ºå®¹å¨ç®å½ ä½ä¸ºæ°æ®å·å®¹å¨\n    \n    docker run -it --name=c3 -v /volume redis /bin/bash\n    \n    \n    1\n    \n\n 2. åå»º c1 c2 å®¹å¨ ä½¿ç¨ --volume-from åæ° è®¾ç½®æ°æ®å·from c3æ°æ®å·å®¹å¨ä¸­\n    \n    docker run -it --name=c1 --volume-from c3 redis /bin/bash\n    docker run -it --name=c2 --volume-from c3 redis /bin/bash\n    \n    \n    1\n    2\n    \n\n\n# åºç¨é¨ç½²\n\n\n# MySQL\n\nåå»ºå®¹å¨\n\ndocker run -id \\\n-p 3307:3306 \\\n--name=my_mysql \\\n-v $PWD/conf:/etc/mysql \\\n-v $PWD/logs:/logs \\\n-v $PWD/data:/var/lib/mysql \\\n-e MYSQL_ROOT_PASSWORD=123456 \\\nmysql:5.6\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n\n\nè¿å¥å®¹å¨ä¸­\n\ndocker exec -it my_mysql /bin/bash\nmysql -uroot -p123456\n\n\n1\n2\n\n\n\n# Tomcat\n\nåå»ºå®¹å¨\n\ndocker run -d \\\n--name=my_tomcat \\\n-p 8080:8080 \\\n-v $PWD:/usr/local/tomcat/webapps \\\ntomcat\n\n\n1\n2\n3\n4\n5\n\n\n\n# Nginx\n\ndocker run -id \\\n--name=my_nginx \\\n-p 80:80 \\\n-v $PWD/html:/usr/share/nginx/html \\\nnginx\n\n\n1\n2\n3\n4\n5\n\n\n\n# Redis\n\ndocker run -id --name=my_redis -p 6379:6379 redis\n\n\n1\n\n\n\n# Docker éå\n\n\n\nDockeréåæ¯ç±ç¹æ®çæä»¶ç³»ç»å å èæ\n\næåºç«¯æ¯bootfs å¹¶ä½¿ç¨å®¿ä¸»æºçbootfs\n\nç¬¬äºå±æ¯ root æä»¶ç³»ç» rootfs ç§°ä¸º base image\n\n\n\n\n# éåå¶ä½\n\n 1. å®¹å¨è½¬ä¸ºéå æ³¨æéè¿æ å°æ¹å¼æè½½çç®å½ææä»¶ æååå¹¶ä¸ä¼ä¿å­å¨éåä¸­\n    \n    docker commit å®¹å¨id éååç§°:çæ¬å·\n    \n    \n    1\n    \n\n 2. éåè½¬ä¸ºåç¼©æä»¶\n    \n    docker save -o åç¼©åç§°.tar éååç§°:çæ¬å·\n    \n    \n    1\n    \n\n 3. ä»åç¼©æä»¶ä¸­ å è½½éå\n    \n    docker load -i åç¼©åç§°.tar\n    \n    \n    1\n    \n\n\n# Dockerfile\n\nDockerfileæ¯ä¸ä¸ªææ¬æä»¶ åå«è®¸å¤æä»¤ æ¯ä¸æ¡æä»¤æå»ºä¸å± åºäºåºç¡éå æç»æå»ºåºä¸ä¸ªæ°çéå\n\nå½ä»¤            è¯´æ                 ç¤ºä¾                                                       \nFROM          åºäºè¿ä¸ªImageå¼å§        FROM nginx:latest                                        \nENV           ç¯å¢åé               ENV localfile /usr/local/nginx                           \nRUN           æ°å±ä¸­æ§è¡å½ä»¤            RUN /bin/bash -c \'source $HOME/.bashrc; echo $HOME\'      \nLABEL         è®¾ç½®metadata         LABEL version="1.0"                                      \nMAINTAINER    ç»´æ¤è (deprecated)   MAINTAINER ducafecat                                     \nEXPOSE        å£°æå®¹å¨çå¬ç«¯å£           EXPOSE 80 443                                            \nADD           å¤å¶æä»¶               ADD ./dist ${foo}/html                                   \nCOPY          å¤å¶æä»¶               COPY ./dist ${foo}/html                                  \nENTRYPOINT    å®¹å¨å¯å¨æ¶æ§è¡æä»¤          CMD ["ls"]                                               \nCMD           å®¹å¨å¯å¨æ¶æ§è¡æä»¤é»è®¤å¼       CMD ["-la"]                                              \nVOLUME        æè½½ç¹                VOLUME ["/data"]                                         \nUSER          æå®æä½ç¨æ·             USER www                                                 \nWORKDIR       è®¾ç½®å·¥ä½ç®å½             WORKDIR /path/to/workdir                                 \nARG           è®¾ç½®åæ°               ARG user=www                                             \nONBUILD       éåè¢«Fromæ¶è§¦å         ONBUILD RUN /bin/bash -c \'echo ONBUILD ...\'              \nSTOPSIGNAL    åæ­¢ä¿¡å·éåº             STOPSIGNAL SIGTERM                                       \nHEALTHCHECK   æ£æ¥å®¹å¨çå¥åº·ç¶åµ          HEALTHCHECK --interval=5m --timeout=3s CMD curl -f       exit 1\n                                 http://localhost/\nSHELL         è¦çé»è®¤shell          SHELL ["powershell", "-command"]                         \n\n# éè¿å®æ¹centos èªå®ä¹\n\n 1. åå»ºdockerfileæä»¶\n\nFROM centos:7\nMAINTAINER Iekr <Iekr_wh@qq.com>\n\nRUN yum install -y vim\nWORKDIR /usr\nCMD /bin/bash\n\n\n1\n2\n3\n4\n5\n6\n\n\n 2. éè¿fileæä»¶buildéå\n    \n    #  docker buid -f  dockerfileæä»¶ -t éååç§°:çæ¬å· .\n    # æ³¨ææåæä¸ä¸ª ç¹\n    docker build -f ./my_dockerfile -t my_centos:1 .\n    \n    \n    1\n    2\n    3\n    \n\n 3. è¿è¡å®¹å¨\n    \n    #docker run --name <å®¹å¨åç§°> -d -p 8080:8080 <ä¸ä¸æ­¥æå»ºçéååç§°>\n    docker run --name test  -d -p 8080:8080 my_centos:1\n    \n    \n    1\n    2\n    \n\n# Spring Boot dockerfile\n\nFROM java:8\nMAINTAINER iekr iekr_wh@qq.com\nVOLUME /home/iekr\nADD Schoolelectricity-1.0-SNAPSHOT.jar app.jar\nRUN bash -c \'touch /app.jar\'\nENTRYPOINT ["java","-Duser.timezone=GMT+8","-Djava.security.egd=file:/dev/./urandom","-jar","/app.jar"]\n\n\n1\n2\n3\n4\n5\n6\n\n\ndocker build -t mystory .\ndocker run -d -p 8080:8080 mystory\n\n\n1\n2\n\n\nç¬¬äºä¸ªæ¹æ¡\n\ndocker run -id -p 8080:8080 openjdk:8-jre-alpine\n#æ·»å æ¶åº\napk add tzdata\n\n#ä¸è½½å¥½å¤å¶æ¶åºè¿å» å°±å¯ä»¥äº\ncp /usr/share/zoneinfo/Asia/Shanghai /etc/localtime\n\n\n1\n2\n3\n4\n5\n6\n\n\nnohup java -jar Schoolelectricity-1.0-SNAPSHOT.jar > /logs.log 2>&1 & #åå°å¯å¨java\n\n\n1\n\n\n\n# Docker Composeæå¡ç¼æ\n\nå¾®æå¡æ¶æçåºç¨ç³»ç»ä¸è¬åå«è¥å¹²ä¸ªå¾®æå¡,æ¯ä¸ªå¾®æå¡ä¸è¬é½ä¼é¨ç½²å¤ä¸ªå®ä¾,å¦ææ¯ä¸ªå¾®æå¡é½è¦æå¨å¯å,å·¥ä½éä¼éå¸¸çå¤§\n\nDocker Composeæ¯ä¸ä¸ªç¼æå¤å®¹å¨åå¸å¼é¨ç½²çå·¥å· æä¾å½ä»¤éç®¡çå®¹å¨ååºç¨çå®æ´å¼åå¨æ,åæ¬æå¡æå»º å¯å¨ åæ­¢\n\n * å®è£ Docker Compose\n\ncurl -L "https://github.com/docker/compose/releases/download/1.24.1/docker-compose-$(uname -s)-$(uname -m)" -o /usr/local/bin/docker-compose\nchmod +x /usr/local/bin/docker-compose\nln -s /usr/local/bin/docker-compose /usr/bin/docker-compose\ndocker-compose --version\n\n\n1\n2\n3\n4\n\n\n 1. åå»º docker-compose.yml\n    \n    # yaml éç½®å®ä¾\n    version: \'3\'\n    services:\n      web:  #èªå®ä¹åç§°\n        build: .  # builddockerfile\n        ports:    #æ å°ç«¯å£\n       - "5000:5000"\n        volumes: #æ å°ç®å½\n       - .:/code\n        - logvolume01:/var/log\n        links:  #å½åå®¹å¨å¯ä»¥è®¿é®ä¸é¢çå®¹å¨\n       - redis\n      redis:  # ç¬¬äºä¸ªå®¹å¨\n        image: redis  #å®¹å¨åç§°\n    volumes:  \n      logvolume01: {}\n    \n    \n    1\n    2\n    3\n    4\n    5\n    6\n    7\n    8\n    9\n    10\n    11\n    12\n    13\n    14\n    15\n    16\n    \n\n 2. å¨å½åç®å½ æå»ºç¼åéç½®\n    \n    docker-compose up  #å¯å¨éç½®\n    docker-compose up -d # åå°å¯å¨\n    \n    \n    1\n    2\n    \n\n\n# ç§æä»åº\n\næå¡ç«¯\n\ndocker pull registry\ndocker run -id --name=registry -p 5000:5000 registry\n#è®¿é® http://192.168.130.124:5000/v2/_catalog å¦æåºç°{"repositories":[]}åå®è£æå\n\n\n1\n2\n3\n\n\nå®¢æ·ç«¯\n\nvim /etc/docker/daemon.json  \n#æ·»å ä¸ºç§æä»åºæå¡ç«¯å°å\n{"insecure-registries":["192.168.130.124:5000"]}\n#éå¯dockeræå¡\nsystemctl restart docker\n\n\n1\n2\n3\n4\n5\n\n\nä¸ä¼ ååç»éåæä¸æ è®°\n\n#docker tag éåå:çæ¬å· ç§æä»åºå°å/éåå:çæ¬å·\ndocker tag centos:7 192.168.130.124:5000/centos:7\n\n\n1\n2\n\n\nä¸ä¼ \n\ndocker push 192.168.130.124:5000/centos:7\n\n\n1\n\n\nä»ä»åºæåéå\n\ndocker pull 192.168.130.124:5000/centos:7\n\n\n1\n\n\n\n# Docker Hub\n\nç»é è¾å¥è´¦å·åå¯ç \n\ndocker login \n\n\n1\n\n\néåæ¹å ä»¥èªå·± ç¨æ·å/éåå æ¹\n\ndocker tag centos:7 iekr/centos:7\ndocker push iekr/centos:7\n\n\n1\n2\n\n\n\n# dockerå®¹å¨ä¸èææºæ¯è¾\n\n\n\n\n\n\n# æ¬å°éåå¯¼åºåå¯¼å¥\n\nä½¿ç¨export å import å°å®¹å¨éåå¯¼åºåå¯¼å¥æä½\n\n\n# å¯¼åº\n\ndocker export éåid > åç¼©æä»¶å.tar\n\ndocker export f299f501774c > hangger_server.tar\n\n\n1\n\n\n\n# å¯¼å¥\n\ndocker import - èªå®ä¹å®¹å¨åç§° < éååç¼©æä»¶.tar\n\ndocker import - new_hangger_server < hangger_server.tar\n\n\n1\n\n * exportå½ä»¤æ¯ä»å®¹å¨ï¼containerï¼ä¸­å¯¼åºtaræä»¶ï¼èsaveå½ä»¤åæ¯ä»éåï¼imagesï¼ä¸­å¯¼åº\n * save ä¿å­éåææçä¿¡æ¯-åå«åå²\n * export åªå¯¼åºå½åçä¿¡æ¯ åªåå«å½åçæ¬ä¿¡æ¯ æ æ³åæ»å¶ä»çæ¬',normalizedContent:'# docker\n\ndocker æ¯ä¸ä¸ªå¼æºçåºç¨å®¹å¨å¼æ\n\n\n# å®è£\n\nyum install -y docker\n\n\n1\n\n\n\n# æ¶æ\n\n\n\n\n# docker éåå éå¨\n\nhttps://cr.console.aliyun.com/cn-hangzhou/instances/mirrors\n\nsudo mkdir -p /etc/docker\nsudo tee /etc/docker/daemon.json <<-\'eof\'\n{\n  "registry-mirrors": ["https://o7uzc3zp.mirror.aliyuncs.com"]\n}\neof\nsudo systemctl daemon-reload\nsudo systemctl restart docker\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n\n\n\n# docker å½ä»¤\n\n\n# æå¡\n\nsystemctl start docker  # å¯å¨\nsystemctl stop docker  # åæ­¢\nsystemctl status docker  #ç¶æ\nsystemctl restart docker #éå¯\nsystemctl enabled docker #å¼æºèªå¯\n\n\n1\n2\n3\n4\n5\n\n\n\n# éå\n\n * æ¥çæ¬å°éå\n   \n   docker images\n   \n   \n   1\n   \n\n * æç´¢éå\n   \n   docker search éåå\n   \n   \n   1\n   \n\n * æåéå\n   \n   docker pull éåå:çæ¬å· # çæ¬å·é»è®¤ä¸ºlatest\n   \n   \n   1\n   \n\n * å é¤éå\n   \n   docker rmi éåid    # ä¹å¯ä»¥éè¿åç§°:çæ¬å·å é¤\n   \n   \n   1\n   \n\n * å é¤ææéå\n   \n   docker rmi `docker images -q`\n   \n   \n   1\n   \n\n\n# å®¹å¨\n\n * åå»ºå®¹å¨å¹¶ è¿è¡åæ°run\n   \n   * -i ä¿æè¿è¡\n   * -t ä»¥ç»ç«¯æ¨¡å¼è¿è¡å¹¶è¿å¥\n   * -d åå°å¸¸é©»æ¨¡å¼\n   * --name=xxx æ­¤å®¹å¨åç§°\n   * éåå/id\n   * /bin/bash åå§åå½ä»¤\n   \n   docker run -it --name=redis redis /bin/bash  #è¿å¥å®¹å¨åé¨\n   docker run -d --name=redis2 redis # åå°è¿è¡å®¹å¨\n   \n   \n   1\n   2\n   \n\n * æ¥è¯¢å®¹å¨\n   \n   docker ps  #æ¥è¯¢æ­£å¨è¿è¡çå®¹å¨\n   docker ps -a # æ¥çææå®¹å¨åæ¬å·²åæ­¢ç\n   \n   \n   1\n   2\n   \n\n * è¿å¥å·²ç»è¿è¡çå®¹å¨åé¨\n   \n   docker exec -it åç§°/id /bin/bash \n   \n   \n   1\n   \n\n * è¿è¡ åæ­¢å®¹å¨\n   \n   docker stop åç§°/id  #åæ­¢å®¹å¨\n   docker start åç§°/id  #å¯å¨å®¹å¨\n   \n   \n   1\n   2\n   \n\n * å é¤00å®¹å¨\n   \n   docker rm åç§°/id # å é¤å®¹å¨ ådocker ps -a æ¥è¯¢\n   docker rm `docker ps -aq`   # å é¤ææå®¹å¨ æç¨ æ­£å¨è¿è¡çå®¹å¨æ æ³å é¤\n   \n   \n   1\n   2\n   \n\n * æ¥çå®¹å¨ éç½®ä¿¡æ¯\n   \n   docker inspect åç§°/id\n   \n   \n   1\n   \n\n * ä¿®æ¹éç½®ä¿¡æ¯\n\nsystemctl stop docker\ncd /var/lib/docker/containers/docekr inspectæ¥åºçid\nvim config.v2.json\nsystemctl restart docker\n\n\n1\n2\n3\n4\n\n\n * ç¨äºæ¸çç£çï¼å é¤å³é­çå®¹å¨ãæ ç¨çæ°æ®å·åç½ç»ï¼ä»¥åå³æ tagçéå è°¨æä½¿ç¨\n   \n   docker system prune\n   \n   \n   1\n   \n\n * æ¥çdockerèªèº«ç£çä½¿ç¨æåµ\n   \n   docker system df\n   \n   \n   1\n   \n\n\n# å®¹å¨æ°æ®å·\n\næ°æ®å·æ¯å®¿ä¸»æºä¸­çä¸ä¸ªç®å½ææä»¶ ç§°ä¸ºæè½½ç®å½ ä¸ä¸ªæ°æ®å·å¯ä»¥è¢«å¤ä¸ªå®¹å¨åæ¶æè½½\n\n * åå»ºå¯å¨å®¹å¨æ¶ ä½¿ç¨ -våæ° è®¾ç½®æ°æ®é\n   \n   docker run -d -v å®¿ä¸»æºç®å½:å®¹å¨åç®å½\n   \n   \n   1\n   \n   \n   ç®å½å¿é¡»ä¸ºç»å¯¹è·¯å¾ å¦æç®å½ä¸å­å¨åèªå¨åå»º\n\n\n# æ°æ®å·å®¹å¨\n\nå¤å®¹å¨è¿è¡æ°æ®äº¤æ¢ ä¹åæä»¬éè¿å¤å®¹å¨ç»å®å®¿ä¸»æºçåç®å½\n\n 1. åå»ºä¸ä¸ªæ°æ®å·å®¹å¨ ååå»ºå®¹å¨ç®å½ ä½ä¸ºæ°æ®å·å®¹å¨\n    \n    docker run -it --name=c3 -v /volume redis /bin/bash\n    \n    \n    1\n    \n\n 2. åå»º c1 c2 å®¹å¨ ä½¿ç¨ --volume-from åæ° è®¾ç½®æ°æ®å·from c3æ°æ®å·å®¹å¨ä¸­\n    \n    docker run -it --name=c1 --volume-from c3 redis /bin/bash\n    docker run -it --name=c2 --volume-from c3 redis /bin/bash\n    \n    \n    1\n    2\n    \n\n\n# åºç¨é¨ç½²\n\n\n# mysql\n\nåå»ºå®¹å¨\n\ndocker run -id \\\n-p 3307:3306 \\\n--name=my_mysql \\\n-v $pwd/conf:/etc/mysql \\\n-v $pwd/logs:/logs \\\n-v $pwd/data:/var/lib/mysql \\\n-e mysql_root_password=123456 \\\nmysql:5.6\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n\n\nè¿å¥å®¹å¨ä¸­\n\ndocker exec -it my_mysql /bin/bash\nmysql -uroot -p123456\n\n\n1\n2\n\n\n\n# tomcat\n\nåå»ºå®¹å¨\n\ndocker run -d \\\n--name=my_tomcat \\\n-p 8080:8080 \\\n-v $pwd:/usr/local/tomcat/webapps \\\ntomcat\n\n\n1\n2\n3\n4\n5\n\n\n\n# nginx\n\ndocker run -id \\\n--name=my_nginx \\\n-p 80:80 \\\n-v $pwd/html:/usr/share/nginx/html \\\nnginx\n\n\n1\n2\n3\n4\n5\n\n\n\n# redis\n\ndocker run -id --name=my_redis -p 6379:6379 redis\n\n\n1\n\n\n\n# docker éå\n\n\n\ndockeréåæ¯ç±ç¹æ®çæä»¶ç³»ç»å å èæ\n\næåºç«¯æ¯bootfs å¹¶ä½¿ç¨å®¿ä¸»æºçbootfs\n\nç¬¬äºå±æ¯ root æä»¶ç³»ç» rootfs ç§°ä¸º base image\n\n\n\n\n# éåå¶ä½\n\n 1. å®¹å¨è½¬ä¸ºéå æ³¨æéè¿æ å°æ¹å¼æè½½çç®å½ææä»¶ æååå¹¶ä¸ä¼ä¿å­å¨éåä¸­\n    \n    docker commit å®¹å¨id éååç§°:çæ¬å·\n    \n    \n    1\n    \n\n 2. éåè½¬ä¸ºåç¼©æä»¶\n    \n    docker save -o åç¼©åç§°.tar éååç§°:çæ¬å·\n    \n    \n    1\n    \n\n 3. ä»åç¼©æä»¶ä¸­ å è½½éå\n    \n    docker load -i åç¼©åç§°.tar\n    \n    \n    1\n    \n\n\n# dockerfile\n\ndockerfileæ¯ä¸ä¸ªææ¬æä»¶ åå«è®¸å¤æä»¤ æ¯ä¸æ¡æä»¤æå»ºä¸å± åºäºåºç¡éå æç»æå»ºåºä¸ä¸ªæ°çéå\n\nå½ä»¤            è¯´æ                 ç¤ºä¾                                                       \nfrom          åºäºè¿ä¸ªimageå¼å§        from nginx:latest                                        \nenv           ç¯å¢åé               env localfile /usr/local/nginx                           \nrun           æ°å±ä¸­æ§è¡å½ä»¤            run /bin/bash -c \'source $home/.bashrc; echo $home\'      \nlabel         è®¾ç½®metadata         label version="1.0"                                      \nmaintainer    ç»´æ¤è (deprecated)   maintainer ducafecat                                     \nexpose        å£°æå®¹å¨çå¬ç«¯å£           expose 80 443                                            \nadd           å¤å¶æä»¶               add ./dist ${foo}/html                                   \ncopy          å¤å¶æä»¶               copy ./dist ${foo}/html                                  \nentrypoint    å®¹å¨å¯å¨æ¶æ§è¡æä»¤          cmd ["ls"]                                               \ncmd           å®¹å¨å¯å¨æ¶æ§è¡æä»¤é»è®¤å¼       cmd ["-la"]                                              \nvolume        æè½½ç¹                volume ["/data"]                                         \nuser          æå®æä½ç¨æ·             user www                                                 \nworkdir       è®¾ç½®å·¥ä½ç®å½             workdir /path/to/workdir                                 \narg           è®¾ç½®åæ°               arg user=www                                             \nonbuild       éåè¢«fromæ¶è§¦å         onbuild run /bin/bash -c \'echo onbuild ...\'              \nstopsignal    åæ­¢ä¿¡å·éåº             stopsignal sigterm                                       \nhealthcheck   æ£æ¥å®¹å¨çå¥åº·ç¶åµ          healthcheck --interval=5m --timeout=3s cmd curl -f       exit 1\n                                 http://localhost/\nshell         è¦çé»è®¤shell          shell ["powershell", "-command"]                         \n\n# éè¿å®æ¹centos èªå®ä¹\n\n 1. åå»ºdockerfileæä»¶\n\nfrom centos:7\nmaintainer iekr <iekr_wh@qq.com>\n\nrun yum install -y vim\nworkdir /usr\ncmd /bin/bash\n\n\n1\n2\n3\n4\n5\n6\n\n\n 2. éè¿fileæä»¶buildéå\n    \n    #  docker buid -f  dockerfileæä»¶ -t éååç§°:çæ¬å· .\n    # æ³¨ææåæä¸ä¸ª ç¹\n    docker build -f ./my_dockerfile -t my_centos:1 .\n    \n    \n    1\n    2\n    3\n    \n\n 3. è¿è¡å®¹å¨\n    \n    #docker run --name <å®¹å¨åç§°> -d -p 8080:8080 <ä¸ä¸æ­¥æå»ºçéååç§°>\n    docker run --name test  -d -p 8080:8080 my_centos:1\n    \n    \n    1\n    2\n    \n\n# spring boot dockerfile\n\nfrom java:8\nmaintainer iekr iekr_wh@qq.com\nvolume /home/iekr\nadd schoolelectricity-1.0-snapshot.jar app.jar\nrun bash -c \'touch /app.jar\'\nentrypoint ["java","-duser.timezone=gmt+8","-djava.security.egd=file:/dev/./urandom","-jar","/app.jar"]\n\n\n1\n2\n3\n4\n5\n6\n\n\ndocker build -t mystory .\ndocker run -d -p 8080:8080 mystory\n\n\n1\n2\n\n\nç¬¬äºä¸ªæ¹æ¡\n\ndocker run -id -p 8080:8080 openjdk:8-jre-alpine\n#æ·»å æ¶åº\napk add tzdata\n\n#ä¸è½½å¥½å¤å¶æ¶åºè¿å» å°±å¯ä»¥äº\ncp /usr/share/zoneinfo/asia/shanghai /etc/localtime\n\n\n1\n2\n3\n4\n5\n6\n\n\nnohup java -jar schoolelectricity-1.0-snapshot.jar > /logs.log 2>&1 & #åå°å¯å¨java\n\n\n1\n\n\n\n# docker composeæå¡ç¼æ\n\nå¾®æå¡æ¶æçåºç¨ç³»ç»ä¸è¬åå«è¥å¹²ä¸ªå¾®æå¡,æ¯ä¸ªå¾®æå¡ä¸è¬é½ä¼é¨ç½²å¤ä¸ªå®ä¾,å¦ææ¯ä¸ªå¾®æå¡é½è¦æå¨å¯å,å·¥ä½éä¼éå¸¸çå¤§\n\ndocker composeæ¯ä¸ä¸ªç¼æå¤å®¹å¨åå¸å¼é¨ç½²çå·¥å· æä¾å½ä»¤éç®¡çå®¹å¨ååºç¨çå®æ´å¼åå¨æ,åæ¬æå¡æå»º å¯å¨ åæ­¢\n\n * å®è£ docker compose\n\ncurl -l "https://github.com/docker/compose/releases/download/1.24.1/docker-compose-$(uname -s)-$(uname -m)" -o /usr/local/bin/docker-compose\nchmod +x /usr/local/bin/docker-compose\nln -s /usr/local/bin/docker-compose /usr/bin/docker-compose\ndocker-compose --version\n\n\n1\n2\n3\n4\n\n\n 1. åå»º docker-compose.yml\n    \n    # yaml éç½®å®ä¾\n    version: \'3\'\n    services:\n      web:  #èªå®ä¹åç§°\n        build: .  # builddockerfile\n        ports:    #æ å°ç«¯å£\n       - "5000:5000"\n        volumes: #æ å°ç®å½\n       - .:/code\n        - logvolume01:/var/log\n        links:  #å½åå®¹å¨å¯ä»¥è®¿é®ä¸é¢çå®¹å¨\n       - redis\n      redis:  # ç¬¬äºä¸ªå®¹å¨\n        image: redis  #å®¹å¨åç§°\n    volumes:  \n      logvolume01: {}\n    \n    \n    1\n    2\n    3\n    4\n    5\n    6\n    7\n    8\n    9\n    10\n    11\n    12\n    13\n    14\n    15\n    16\n    \n\n 2. å¨å½åç®å½ æå»ºç¼åéç½®\n    \n    docker-compose up  #å¯å¨éç½®\n    docker-compose up -d # åå°å¯å¨\n    \n    \n    1\n    2\n    \n\n\n# ç§æä»åº\n\næå¡ç«¯\n\ndocker pull registry\ndocker run -id --name=registry -p 5000:5000 registry\n#è®¿é® http://192.168.130.124:5000/v2/_catalog å¦æåºç°{"repositories":[]}åå®è£æå\n\n\n1\n2\n3\n\n\nå®¢æ·ç«¯\n\nvim /etc/docker/daemon.json  \n#æ·»å ä¸ºç§æä»åºæå¡ç«¯å°å\n{"insecure-registries":["192.168.130.124:5000"]}\n#éå¯dockeræå¡\nsystemctl restart docker\n\n\n1\n2\n3\n4\n5\n\n\nä¸ä¼ ååç»éåæä¸æ è®°\n\n#docker tag éåå:çæ¬å· ç§æä»åºå°å/éåå:çæ¬å·\ndocker tag centos:7 192.168.130.124:5000/centos:7\n\n\n1\n2\n\n\nä¸ä¼ \n\ndocker push 192.168.130.124:5000/centos:7\n\n\n1\n\n\nä»ä»åºæåéå\n\ndocker pull 192.168.130.124:5000/centos:7\n\n\n1\n\n\n\n# docker hub\n\nç»é è¾å¥è´¦å·åå¯ç \n\ndocker login \n\n\n1\n\n\néåæ¹å ä»¥èªå·± ç¨æ·å/éåå æ¹\n\ndocker tag centos:7 iekr/centos:7\ndocker push iekr/centos:7\n\n\n1\n2\n\n\n\n# dockerå®¹å¨ä¸èææºæ¯è¾\n\n\n\n\n\n\n# æ¬å°éåå¯¼åºåå¯¼å¥\n\nä½¿ç¨export å import å°å®¹å¨éåå¯¼åºåå¯¼å¥æä½\n\n\n# å¯¼åº\n\ndocker export éåid > åç¼©æä»¶å.tar\n\ndocker export f299f501774c > hangger_server.tar\n\n\n1\n\n\n\n# å¯¼å¥\n\ndocker import - èªå®ä¹å®¹å¨åç§° < éååç¼©æä»¶.tar\n\ndocker import - new_hangger_server < hangger_server.tar\n\n\n1\n\n * exportå½ä»¤æ¯ä»å®¹å¨ï¼containerï¼ä¸­å¯¼åºtaræä»¶ï¼èsaveå½ä»¤åæ¯ä»éåï¼imagesï¼ä¸­å¯¼åº\n * save ä¿å­éåææçä¿¡æ¯-åå«åå²\n * export åªå¯¼åºå½åçä¿¡æ¯ åªåå«å½åçæ¬ä¿¡æ¯ æ æ³åæ»å¶ä»çæ¬',charsets:{cjk:!0},lastUpdated:"2022/03/18, 07:01:11",lastUpdatedTimestamp:1647558071e3},{title:"Spring Cloud",frontmatter:{title:"Spring Cloud",date:"2022-03-18T00:51:47.000Z",permalink:"/pages/e886f8/",categories:["åç«¯","JavaEE"],tags:[null]},regularPath:"/%E5%90%8E%E7%AB%AF/02.JavaEE/17.Spring%20Cloud.html",relativePath:"åç«¯/02.JavaEE/17.Spring Cloud.md",key:"v-22d9c6ec",path:"/pages/e886f8/",headers:[{level:2,title:"å¾®æå¡",slug:"å¾®æå¡",normalizedTitle:"å¾®æå¡",charIndex:117},{level:2,title:"Spring Cloud ä¸ Dubbo å¯¹æ¯",slug:"spring-cloud-ä¸-dubbo-å¯¹æ¯",normalizedTitle:"spring cloud ä¸ dubbo å¯¹æ¯",charIndex:183},{level:2,title:"æå¡æ²»ç",slug:"æå¡æ²»ç",normalizedTitle:"æå¡æ²»ç",charIndex:223},{level:3,title:"Eureka",slug:"eureka",normalizedTitle:"eureka",charIndex:348},{level:3,title:"Consul",slug:"consul",normalizedTitle:"consul",charIndex:8422},{level:3,title:"Nacos",slug:"nacos",normalizedTitle:"nacos",charIndex:11697},{level:2,title:"Ribbon è´è½½åè¡¡",slug:"ribbon-è´è½½åè¡¡",normalizedTitle:"ribbon è´è½½åè¡¡",charIndex:13273},{level:3,title:"ç®åResTemplateè°ç¨",slug:"ç®årestemplateè°ç¨",normalizedTitle:"ç®årestemplateè°ç¨",charIndex:13291},{level:3,title:"è´è½½åè¡¡",slug:"è´è½½åè¡¡",normalizedTitle:"è´è½½åè¡¡",charIndex:420},{level:2,title:"Feign å£°æå¼æå¡è°ç¨",slug:"feign-å£°æå¼æå¡è°ç¨",normalizedTitle:"feign å£°æå¼æå¡è°ç¨",charIndex:16556},{level:3,title:"è¶æ¶è®¾ç½®",slug:"è¶æ¶è®¾ç½®",normalizedTitle:"è¶æ¶è®¾ç½®",charIndex:20032},{level:3,title:"æ¥å¿è®°å½",slug:"æ¥å¿è®°å½",normalizedTitle:"æ¥å¿è®°å½",charIndex:20210},{level:2,title:"Hystrix çæ­å¨",slug:"hystrix-çæ­å¨",normalizedTitle:"hystrix çæ­å¨",charIndex:22034},{level:3,title:"æå¡æ¹éçº§",slug:"æå¡æ¹éçº§",normalizedTitle:"æå¡æ¹éçº§",charIndex:22188},{level:3,title:"æ¶è´¹æ¹éçº§",slug:"æ¶è´¹æ¹éçº§",normalizedTitle:"æ¶è´¹æ¹éçº§",charIndex:24387},{level:3,title:"çæ­æºå¶",slug:"çæ­æºå¶",normalizedTitle:"çæ­æºå¶",charIndex:25974},{level:3,title:"Turbine  çæ­çæ§",slug:"turbine-çæ­çæ§",normalizedTitle:"turbine  çæ­çæ§",charIndex:null},{level:2,title:"Gateway ç½å³",slug:"gateway-ç½å³",normalizedTitle:"gateway ç½å³",charIndex:33426},{level:3,title:"å¥é¨æ¡ä¾",slug:"å¥é¨æ¡ä¾-2",normalizedTitle:"å¥é¨æ¡ä¾",charIndex:11954},{level:3,title:"éæè·¯ç±",slug:"éæè·¯ç±",normalizedTitle:"éæè·¯ç±",charIndex:35274},{level:3,title:"å¨æè·¯ç±",slug:"å¨æè·¯ç±",normalizedTitle:"å¨æè·¯ç±",charIndex:35835},{level:3,title:"å¾®æå¡åç§°éç½®",slug:"å¾®æå¡åç§°éç½®",normalizedTitle:"å¾®æå¡åç§°éç½®",charIndex:36875},{level:3,title:"ç½å³è¿æ»¤å¨",slug:"ç½å³è¿æ»¤å¨",normalizedTitle:"ç½å³è¿æ»¤å¨",charIndex:37931},{level:2,title:"Config åå¸å¼éç½®ä¸­å¿",slug:"config-åå¸å¼éç½®ä¸­å¿",normalizedTitle:"config åå¸å¼éç½®ä¸­å¿",charIndex:42740},{level:3,title:"å®¢æ·ç«¯å·æ°",slug:"å®¢æ·ç«¯å·æ°",normalizedTitle:"å®¢æ·ç«¯å·æ°",charIndex:44855},{level:3,title:"éæEureka",slug:"éæeureka",normalizedTitle:"éæeureka",charIndex:45807},{level:2,title:"Bus æ¶æ¯æ»çº¿",slug:"bus-æ¶æ¯æ»çº¿",normalizedTitle:"bus æ¶æ¯æ»çº¿",charIndex:47448},{level:2,title:"Stream æ¶æ¯é©±å¨",slug:"stream-æ¶æ¯é©±å¨",normalizedTitle:"stream æ¶æ¯é©±å¨",charIndex:48658},{level:3,title:"æ¶æ¯çäº§è",slug:"æ¶æ¯çäº§è",normalizedTitle:"æ¶æ¯çäº§è",charIndex:48802},{level:3,title:"æ¶æ¯æ¶è´¹è",slug:"æ¶æ¯æ¶è´¹è",normalizedTitle:"æ¶æ¯æ¶è´¹è",charIndex:51968},{level:2,title:"Sleuth+Zipkin é¾è·¯è¿½è¸ª",slug:"sleuth-zipkin-é¾è·¯è¿½è¸ª",normalizedTitle:"sleuth+zipkin é¾è·¯è¿½è¸ª",charIndex:54286}],headersStr:"å¾®æå¡ Spring Cloud ä¸ Dubbo å¯¹æ¯ æå¡æ²»ç Eureka Consul Nacos Ribbon è´è½½åè¡¡ ç®åResTemplateè°ç¨ è´è½½åè¡¡ Feign å£°æå¼æå¡è°ç¨ è¶æ¶è®¾ç½® æ¥å¿è®°å½ Hystrix çæ­å¨ æå¡æ¹éçº§ æ¶è´¹æ¹éçº§ çæ­æºå¶ Turbine  çæ­çæ§ Gateway ç½å³ å¥é¨æ¡ä¾ éæè·¯ç± å¨æè·¯ç± å¾®æå¡åç§°éç½® ç½å³è¿æ»¤å¨ Config åå¸å¼éç½®ä¸­å¿ å®¢æ·ç«¯å·æ° éæEureka Bus æ¶æ¯æ»çº¿ Stream æ¶æ¯é©±å¨ æ¶æ¯çäº§è æ¶æ¯æ¶è´¹è Sleuth+Zipkin é¾è·¯è¿½è¸ª",content:'# Spring Cloud\n\nSpring Cloudæ¯ä¸ç³»åæ¡æ¶çæåºéå\n\néè¿ Spring Boot é£æ ¼è¿è¡åå°è£å±è½æäºå¤æçéç½®åå®ç°åç æç»ç»å¼åèçåºäºä¸å¥ç®åææ æé¨ç½² æç»´æ¤çåå¸å¼ç³»ç»å¼åå·¥å·å\n\n\n# å¾®æå¡\n\n\n\nå¾®æå¡å®å°ä¸ä¸ªåæ¬ç¬ç«çç³»ç» æåæä¸ºå¤ä¸ªå°åæå¡ å¹¶ä¸è¿äºå°åæå¡é½å¯ä»¥ç¬ç«è¿è¡ æå¡ä¹é´å¯ä»¥è¿è¡éä¿¡åä½\n\n\n# Spring Cloud ä¸ Dubbo å¯¹æ¯\n\n\n\n * Dubboåªæ¯å®ç°äºæå¡æ²»ç èspring cloudå­é¡¹ç®åå«è¦çäºå¾®æå¡æ¶æä¸çä¼å¤é¨ä»¶\n * Dubboä½¿ç¨ RPC éä¿¡åè®® Spring Cloud ä½¿ç¨ RESTful å®æéä¿¡ Dubbo æçç¥é«äº Spring Cloud\n\n\n# æå¡æ²»ç\n\n\n# Eureka\n\nEureka æ¯ Netflix å¬å¸å¼æºçä¸ä¸ªæå¡æ³¨åä¸åç°çç»ä»¶\n\nEureka å å¶ä»Netflix å¬å¸çæå¡ç»ä»¶(å¦è´è½½åè¡¡ çæ­å¨ ç½å³ç­) ä¸èµ· è¢«spring cloud ç¤¾åºæ´åä¸º Spring-Cloud-Netflix æ¨¡å\n\nEureka åå« Eueka Server(æ³¨åä¸­å¿) å Eureka Client(æå¡æä¾è æå¡å¨æ¶è´¹è)\n\n# server\n\nå¼å¥eureka-server å spring web\n\n<dependencies>\n\n    <dependency>\n        <groupId>org.springframework.boot</groupId>\n        <artifactId>spring-boot-starter-web</artifactId>\n    </dependency>\n\n    \x3c!-- eureka-server --\x3e\n    <dependency>\n        <groupId>org.springframework.cloud</groupId>\n        <artifactId>spring-cloud-starter-netflix-eureka-server</artifactId>\n    </dependency>\n</dependencies>\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n\n\napplication\n\nserver:\n  port: 8761\n\n# eureka éç½®\n#1.dashboard  :eurekaçwebæ§å¶å°éç½®\n#2.server  :eurekaçæå¡ç«¯éç½®\n#3.client  :eurekaçå®¢æ·ç«¯éç½®\n#4.instance  :eurekaçå®ä¾éç½®\neureka:\n  instance:\n    hostname: localhost # ä¸»æºå\n\n  dashboard:\n    enabled: true  # æ¯å¦å¯ç¨webæ§å¶å°  é»è®¤ä¸ºå¼å¯\n    path: /  # é»è®¤è·¯å¾ä¸º/  è®¿é®http://localhost:8761/å³å¯\n\n  client:\n    service-url:\n      defaultZone: http://${eureka.instance.hostname}:${server.port}/eureka  # eurekaæå¡ç«¯å°å å®¢æ·ç«¯ç¨äºè®¿é®æå¡ç«¯çå°å\n\n    register-with-eureka: false # æ¯å¦å°èªå·±çè·¯å¾ æ³¨åå°eurekaä¸  é»è®¤ä¸ºtrue  ä¸è¬æåµä¸åªæprovider clientéè¦\n    fetch-registry: false  # æ¯å¦éè¦ä»eurekaä¸­æåè·¯å¾   é»è®¤ä¸ºtrue  ä¸è¬åªæconsumer clientéè¦\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n\n\nå¯å¨ç±»\n\npackage com.itheima.eureka;\n\nimport org.springframework.boot.SpringApplication;\nimport org.springframework.boot.autoconfigure.SpringBootApplication;\nimport org.springframework.cloud.netflix.eureka.server.EnableEurekaServer;\n\n@SpringBootApplication\n//å¯ç¨EurekaServer\n@EnableEurekaServer\npublic class EurekaApp {\n    public static void main(String[] args) {\n        SpringApplication.run(EurekaApp.class, args);\n    }\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n\n\n# provider\n\nå¼å¥ eureka-client å spring web\n\n<dependencies>\n\n    <dependency>\n        <groupId>org.springframework.boot</groupId>\n        <artifactId>spring-boot-starter-web</artifactId>\n    </dependency>\n\n\n    \x3c!-- eureka-client --\x3e\n    <dependency>\n        <groupId>org.springframework.cloud</groupId>\n        <artifactId>spring-cloud-starter-netflix-eureka-client</artifactId>\n    </dependency>\n\n</dependencies>\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n\n\napplication\n\nserver:\n  port: 8000\n\neureka:\n  instance:\n    hostname: localhost # ä¸»æºå\n  client:\n    service-url:\n      defaultZone: http://localhost:8761/eureka  # eurekaæå¡ç«¯å°å å®¢æ·ç«¯ç¨äºè®¿é®æå¡ç«¯çå°å\n\nspring:\n  application:\n    name: eureka-provider # è®¾ç½®å½ååºç¨çåç§° å°æ¥å¨eurekaçwebæ§å¶å°Applicationæ¾ç¤ºä¸ºè¯¥åç§°  å°æ¥éè¦è¯¥åç§°æ¥è·åè·¯å¾\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n\n\nå¯å¨ç±»\n\npackage com.itheima.provider;\n\nimport org.springframework.boot.SpringApplication;\nimport org.springframework.boot.autoconfigure.SpringBootApplication;\nimport org.springframework.cloud.netflix.eureka.EnableEurekaClient;\n\n@SpringBootApplication\n//æ è®°ä¸º Eureka å®¢æ·ç«¯ å¨æ°çæ¬ä¸­èªå¨æ è®°\n@EnableEurekaClient\npublic class ProviderApp {\n    public static void main(String[] args) {\n        SpringApplication.run(ProviderApp.class, args);\n    }\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n\n\nå¹¶ç¼åå¯¹åºçdaoå± domianå¯¹è±¡ serviceå± controllerå±\n\nå¹¶ä¸è½å¤è¿ç¨è°ç¨è·åæ°æ® æ­¤æ¶ä¸ºäºå¨Eurekaä¸æ³¨åä¸ºåºç¨ä½¿å¶ä»åºç¨è½å¤è¿ç¨è°ç¨è¯¥æå¡\n\n# consumer\n\nå¼å¥ eureka-client å spring web\n\n<dependencies>\n\n    <dependency>\n        <groupId>org.springframework.boot</groupId>\n        <artifactId>spring-boot-starter-web</artifactId>\n    </dependency>\n\n\n    \x3c!-- eureka-client --\x3e\n    <dependency>\n        <groupId>org.springframework.cloud</groupId>\n        <artifactId>spring-cloud-starter-netflix-eureka-client</artifactId>\n    </dependency>\n\n</dependencies>\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n\n\napplication\n\nserver:\n  port: 9000\n\neureka:\n  instance:\n    hostname: localhost # ä¸»æºå\n  client:\n    service-url:\n      defaultZone: http://localhost:8761/eureka  # eurekaæå¡ç«¯å°å å®¢æ·ç«¯ç¨äºè®¿é®æå¡ç«¯çå°å\n\nspring:\n  application:\n    name: eureka-consumer # è®¾ç½®å½ååºç¨çåç§° å°æ¥å¨eurekaçwebæ§å¶å°Applicationæ¾ç¤ºä¸ºè¯¥åç§°  å°æ¥éè¦è¯¥åç§°æ¥è·åè·¯å¾\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n\n\nå¯å¨ç±»\n\npackage com.itheima.consumer;\n\nimport org.springframework.boot.SpringApplication;\nimport org.springframework.boot.autoconfigure.SpringBootApplication;\nimport org.springframework.cloud.client.discovery.EnableDiscoveryClient;\nimport org.springframework.cloud.netflix.eureka.EnableEurekaClient;\n\n@SpringBootApplication\n@EnableEurekaClient\n@EnableDiscoveryClient //æ¿æ´»DiscoveryClient æ°çæ¬å¯ä»¥å¿½ç¥ èªå¨æ¿æ´»\npublic class ConsumerApp {\n    public static void main(String[] args) {\n        SpringApplication.run(ConsumerApp.class, args);\n    }\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n\n\nRestTemplateConfigç±»\n\npackage com.itheima.consumer.cnfig;\n\nimport org.springframework.context.annotation.Bean;\nimport org.springframework.context.annotation.Configuration;\nimport org.springframework.web.client.RestTemplate;\n\n@Configuration\npublic class RestTemplateConfig {\n\n    @Bean\n    public RestTemplate restTemplate(){\n        return new RestTemplate();\n    }\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n\n\ncontrollerå±\n\npackage com.itheima.consumer.controller;\n\n\nimport com.itheima.consumer.domain.Goods;\nimport org.springframework.beans.factory.annotation.Autowired;\nimport org.springframework.cloud.client.ServiceInstance;\nimport org.springframework.cloud.client.discovery.DiscoveryClient;\nimport org.springframework.web.bind.annotation.GetMapping;\nimport org.springframework.web.bind.annotation.PathVariable;\nimport org.springframework.web.bind.annotation.RequestMapping;\nimport org.springframework.web.bind.annotation.RestController;\nimport org.springframework.web.client.RestTemplate;\n\nimport java.util.List;\n\n@RestController\n@RequestMapping("/order")\npublic class OrderController {\n\n    @Autowired\n    private RestTemplate restTemplate;\n\n    @Autowired\n    private DiscoveryClient discoveryClient;\n\n    @GetMapping("/goods/{id}")\n    public Goods findGoodsById(@PathVariable("id") int id) {\n\n /*\n        è¿ç¨è°ç¨goodsæå¡ä¸­çfindoneæ¥å£\n        ä½¿ç¨RestTemplate\n        1.å®ä¹bean\n        2.æ³¨å¥bean\n        3.è°ç¨æ¹æ³\n         */\n        /*\n        å¨æä» Eureka server ä¸­è·åprovide ç ip åç«¯å£\n        1. æ³¨å¥ DiscoveryClient å¹¶å¨å¯å¨ç±»æ³¨è§£æ¿æ´»\n        2. è°ç¨æ¹æ³\n         */\n        List<ServiceInstance> instances = discoveryClient.getInstances("EUREKA-PROVIDER");  //æ ¹æ®åºç¨åå¨Eurekaæå¡ç«¯ä¸­è·ååºç¨éå\n        if (instances == null || instances.size() == 0) { //å¤æ­æ¯å¦ä¸ºç©º\n            return null;\n        }\n        ServiceInstance instance = instances.get(0);  //æ­¤å¤åªæä¸ä¸ªæä»¥ä½¿ç¨ç¬¬ä¸ä¸ª\n        String host = instance.getHost();  //è·åip\n        int port = instance.getPort(); //è·åç«¯å£\n        System.out.println(host);\n        System.out.println(port);\n\n        String url = "http://" + host + ":" + port + "goods/findOne/" + id;\n        Goods goods = restTemplate.getForObject(url, Goods.class);\n        return goods;\n    }\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n26\n27\n28\n29\n30\n31\n32\n33\n34\n35\n36\n37\n38\n39\n40\n41\n42\n43\n44\n45\n46\n47\n48\n49\n50\n51\n52\n53\n54\n55\n\n\n# éç½®å±æ§\n\n# instance\n\n\n\neureka:\n  instance:\n    hostname: localhost # ä¸»æºå\n    prefer-ip-address: true  # ä»¥ipå°åå½¢å¼æ³¨åå°eureka serverä¸­ é»è®¤ä¸ºfalse æ³¨åä¸ºä¸»æºå\n    instance-id: ${eureka.instance.prefer-ip-address}:${spring.application.name}:${server.port}  #è®¾ç½®å¨webæ§å¶å°ä¸­åºç¨idçåç§°\n\n\n1\n2\n3\n4\n5\n\n\n# server\n\n\n\n# é«å¯ç¨\n\næ¯ä¸ªserveré½æ¯éåç¸åçæ³¨ååºç¨ å¦æå¶ä¸­ä¸ä¸ªå®æºäº å¦å¤ä¸ä¸ªserverä»ç¶å­æ´»\n\nè®¾ç½®å¤ä¸ªeureka server ç¸äºæ³¨å\n\nserver:\n  port: 8762\n\neureka:\n  instance:\n    hostname: eureka-server2 # ä¸»æºå\n\n  dashboard:\n    enabled: true  # æ¯å¦å¯ç¨webæ§å¶å°  é»è®¤ä¸ºå¼å¯\n    path: /  # é»è®¤è·¯å¾ä¸º/  è®¿é®http://localhost:8761/å³å¯\n\n  client:\n    service-url:\n      defaultZone: http://127.0.0.1:8761/eureka  # ä¸¤ä¸ªeurekaç¸äºæ³¨å\n\n    register-with-eureka: true # æ¯å¦å°èªå·±çè·¯å¾ æ³¨åå°eurekaä¸  é»è®¤ä¸ºtrue  ä¸è¬æåµä¸åªæprovider clientéè¦\n    fetch-registry: true  # æ¯å¦éè¦ä»eurekaä¸­æåè·¯å¾   é»è®¤ä¸ºtrue  ä¸è¬åªæconsumer clientéè¦\nspring:\n  application:\n    name: eureka-server-ha\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n\n\nå¨clientä¸­å¨å¤ä¸ªserveræ³¨ååºç¨\n\nserver:\n  port: 8000\n\neureka:\n  instance:\n    hostname: localhost # ä¸»æºå\n  client:\n    service-url:\n      defaultZone: http://localhost:8761/eureka,http://localhost:8762/eureka  # eurekaæå¡ç«¯å°å å®¢æ·ç«¯ç¨äºè®¿é®æå¡ç«¯çå°å\n\nspring:\n  application:\n    name: eureka-provider # è®¾ç½®å½ååºç¨çåç§° å°æ¥å¨eurekaçwebæ§å¶å°Applicationæ¾ç¤ºä¸ºè¯¥åç§°  å°æ¥éè¦è¯¥åç§°æ¥è·åè·¯å¾\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n\n\n\n# Consul\n\nConsul æ¯ ç± HashiCorp åºäº Go è¯­è¨å¼å æ¯æå¤æ°æ®ä¸­å¿ åå¸å¼é«å¯ç¨çæå¡åå¸åæ³¨åæå¡è½¯ä»¶\n\nè¿éæä»¬ä½¿ç¨windowsä¸­çexeæ§è¡ç¨åº\n\nå¯å¨\n\n.\\consul agent -dev\n\n\n1\n\n\næå¼webç®¡ççé¢\n\nhttp://localhost:8500/\n\n 1. æ­å»ºprovider å Consumer æå¡\n 2. å¹¶éç½®å¥½ RestTemplate å®æè¿ç¨è°ç¨\n\nconsulå®¢æ·ç«¯åæ  å¿é¡»å¯¼å¥actuatorç»ä»¶\n\n        \x3c!-- consul-client --\x3e\n        <dependency>\n            <groupId>org.springframework.cloud</groupId>\n            <artifactId>spring-cloud-starter-consul-discovery</artifactId>\n        </dependency>\n        <dependency>\n            <groupId>org.springframework.boot</groupId>\n            <artifactId>spring-boot-starter-actuator</artifactId>\n        </dependency>\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n\n\nä¸éè¦å¨å¯å¨ç±»ä¸­æ ä»·\n\nåªéè¦å¨applicationéç½®å¥½consulå±æ§\n\nprovideréç½®\n\nserver:\n  port: 8000\nspring:\n  cloud:\n    consul:\n      host: localhost  # consulæå¡ç«¯ ip\n      port: 8500  # ç«¯å£\n      discovery:\n        service-name: ${spring.application.name}  # åºç¨åç§°\n        prefer-ip-address: true # ä»¥ipæ³¨å\n  application:\n    name: consul-provider  # åºç¨åç§°\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n\n\nconsumeréç½®\n\nserver:\n  port: 9000\nspring:\n  cloud:\n    consul:\n      host: localhost  # consulæå¡ç«¯ ip\n      port: 8500  # ç«¯å£\n      discovery:\n        service-name: ${spring.application.name}  # åºç¨åç§°\n        prefer-ip-address: true # ä»¥ipæ³¨å\n  application:\n    name: consul-consumer  # åºç¨åç§°\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n\n\nconsumerçcontrollerå±è¿æ¯ä¸è´\n\npackage com.itheima.consumer.controller;\n\n\nimport com.itheima.consumer.domain.Goods;\nimport org.springframework.beans.factory.annotation.Autowired;\nimport org.springframework.cloud.client.ServiceInstance;\nimport org.springframework.cloud.client.discovery.DiscoveryClient;\nimport org.springframework.web.bind.annotation.GetMapping;\nimport org.springframework.web.bind.annotation.PathVariable;\nimport org.springframework.web.bind.annotation.RequestMapping;\nimport org.springframework.web.bind.annotation.RestController;\nimport org.springframework.web.client.RestTemplate;\n\nimport java.util.List;\n\n@RestController\n@RequestMapping("/order")\npublic class OrderController {\n\n    @Autowired\n    private RestTemplate restTemplate;\n\n    @Autowired\n    private DiscoveryClient discoveryClient;\n\n    @GetMapping("/goods/{id}")\n    public Goods findGoodsById(@PathVariable("id") int id) {\n\n /*\n        è¿ç¨è°ç¨goodsæå¡ä¸­çfindoneæ¥å£\n        ä½¿ç¨RestTemplate\n        1.å®ä¹bean\n        2.æ³¨å¥bean\n        3.è°ç¨æ¹æ³\n         */\n        /*\n        å¨æä» Eureka server ä¸­è·åprovide ç ip åç«¯å£\n        1. æ³¨å¥ DiscoveryClient å¹¶å¨å¯å¨ç±»æ³¨è§£æ¿æ´»\n        2. è°ç¨æ¹æ³\n         */\n        List<ServiceInstance> instances = discoveryClient.getInstances("consul-provider");  //æ ¹æ®åºç¨åå¨Eurekaæå¡ç«¯ä¸­è·ååºç¨éå\n        if (instances == null || instances.size() == 0) { //å¤æ­æ¯å¦ä¸ºç©º\n            return null;\n        }\n        ServiceInstance instance = instances.get(0);  //æ­¤å¤åªæä¸ä¸ªæä»¥ä½¿ç¨ç¬¬ä¸ä¸ª\n        String host = instance.getHost();  //è·åip\n        int port = instance.getPort(); //è·åç«¯å£\n        System.out.println(host);\n        System.out.println(port);\n\n        String url = "http://" + host + ":" + port + "goods/findOne/" + id;\n        Goods goods = restTemplate.getForObject(url, Goods.class);\n        return goods;\n    }\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n26\n27\n28\n29\n30\n31\n32\n33\n34\n35\n36\n37\n38\n39\n40\n41\n42\n43\n44\n45\n46\n47\n48\n49\n50\n51\n52\n53\n54\n55\n\n\nconsumerçcontrollerå±è¿æ¯ä¸è´\n\n\n# Nacos\n\nNacos æ¯é¿éå·´å·´çå¼æºé¡¹ç® ä¸æ³¨äºæå¡åç°åéç½®ç®¡çå¾®æå¡\n\nNacos = Spring Cloud æ³¨åä¸­å¿ + Spring Cloudéç½®ä¸­å¿\n\nhttps://nacos.io/zh-cn/\n\n# å¯å¨\n\nå¨binç®å½ä¸ ä»¥åæºå½¢å¼è¿è¡\n\nå¯å¨å½ä»¤(standaloneä»£è¡¨çåæºæ¨¡å¼è¿è¡ï¼ééç¾¤æ¨¡å¼):\n\nstartup.cmd -m standalone\n\n\n1\n\n\nwebç®¡çé¡µé¢\n\nhttp://localhost:8848/nacos/\n\né»è®¤ç¨æ·å¯ç  ä¸ºnacos\n\n# å¥é¨æ¡ä¾\n\nnacosåæ \n\n        <dependency>\n            <groupId>org.springframework.cloud</groupId>\n            <artifactId>spring-cloud-starter-alibaba-nacos-discovery</artifactId>\n            <version>0.2.2.RELEASE</version>\n        </dependency>\n        <dependency>\n            <groupId>com.alibaba.nacos</groupId>\n            <artifactId>nacos-client</artifactId>\n            <version>2.0.3</version>\n        </dependency>\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n\n\nprovideréç½®\n\nserver:\n  port: 8000\nspring:\n  cloud:\n    nacos:\n      discovery:\n        server-addr: 127.0.0.1:8848  # éç½®nacosæå¡ç«¯å°ååç«¯å£\n\n  application:\n    name: nacos-provider # æå¡åç§°\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n\n\nconsumeréç½®\n\nserver:\n  port: 9000\nspring:\n  cloud:\n    nacos:\n      discovery:\n        server-addr: 127.0.0.1:8848  # éç½®nacosæå¡ç«¯å°ååç«¯å£\n\n  application:\n    name: nacos-consumer # æå¡åç§°\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n\n\nconsumerå¯å¨ç±»\n\npackage com.itheima.consumer;\n\nimport org.springframework.boot.SpringApplication;\nimport org.springframework.boot.autoconfigure.SpringBootApplication;\nimport org.springframework.cloud.client.discovery.EnableDiscoveryClient;\n\n\n@SpringBootApplication\n@EnableDiscoveryClient\npublic class ConsumerApp {\n    public static void main(String[] args) {\n        SpringApplication.run(ConsumerApp.class, args);\n    }\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n\n\n\n# Ribbon è´è½½åè¡¡\n\n\n\n\n# ç®åResTemplateè°ç¨\n\nä¹åæä»¬Eurekaéè¿ResTemplateè·åä¸ä¸ªåºç¨éå, è·åä¸ä¸ªåºç¨å¯¹è±¡ ç å°å åç«¯å£,å¹¶æ¼æ¥æä¸ä¸ªurlè°ç¨æå¡æ¹çåºç¨ ä½¿ç¨Ribbonåªéè¦å°ip:ç«¯å£æ¢æåºç¨åç§°å³å¯ä»¥è¿ç¨è°ç¨ åºç¨\n\n 1. å¨ResTemplateçBeanç»å®ä¸­å ä¸ @LoadBalanced æ³¨è§£\n    \n    package com.itheima.consumer.cnfig;\n    \n    import org.springframework.cloud.client.loadbalancer.LoadBalanced;\n    import org.springframework.context.annotation.Bean;\n    import org.springframework.context.annotation.Configuration;\n    import org.springframework.web.client.RestTemplate;\n    \n    @Configuration\n    public class RestTemplateConfig {\n    \n        @LoadBalanced\n        @Bean\n        public RestTemplate restTemplate(){\n            return new RestTemplate();\n        }\n    }\n    \n    \n    1\n    2\n    3\n    4\n    5\n    6\n    7\n    8\n    9\n    10\n    11\n    12\n    13\n    14\n    15\n    16\n    \n\n 2. å°urlä¸­çip:ç«¯å£ æ¢æåºç¨åç§°\n    \n    /*\n    ä½¿ç¨ Ribbon ç®åè°ç¨\n    1.å¨å£°ærestTemplateçBeanæ¶ æ·»å ä¸ä¸ª@LoadBalanced æ³¨è§£\n    2.å¨ä½¿ç¨å¨å£°ærestTemplate åè¯·æ±æ¶ éè¦å®ä¹urlæ¶ host:portå¯ä»¥æ¢æ æå¡ç«¯æä¾çåºç¨åç§°\n     */\n    @GetMapping("/goods2/{id}")\n    public Goods findGoodsById2(@PathVariable("id") int id) {\n    \n        String url = "http://EUREKA-PROVIDER/goods/findOne/" + id;\n        Goods goods = restTemplate.getForObject(url, Goods.class);\n        return goods;\n    }\n    \n    \n    1\n    2\n    3\n    4\n    5\n    6\n    7\n    8\n    9\n    10\n    11\n    12\n    \n\n\n# è´è½½åè¡¡\n\néè¿å¨ResTemplateçBeanç»å®ä¸­å ä¸ @LoadBalanced æ³¨è§£å,å¦æå½åç¨äºæä¸ªå¤ä¸ªæå¡æä¾æ¹,åRibbonä¼èªå¨å¸®æä»¬è´è½½åè¡¡,é»è®¤ä¸ºè½®è¯¢ç­ç¥,ç­ç¥éç½®å¨æ¶è´¹èä¸ç«¯ å³å®¢æ·ç«¯è´è½½åè¡¡\n\n\n\n# éç½®ç±»å½¢å¼éç½®è´è½½ç­ç¥\n\n 1. å®ä¹éç½®ç±» ä½¿ç¨Beanç»å®å¹¶è¿åä¸ä¸ªIRuleæ¥å£çå®ç°ç±»\n    \n    package com.itheima.consumer.cnfig;\n    \n    import com.netflix.loadbalancer.IRule;\n    import com.netflix.loadbalancer.RandomRule;\n    import org.springframework.context.annotation.Bean;\n    import org.springframework.context.annotation.Configuration;\n    \n    @Configuration\n    public class MyRule {\n    \n        @Bean\n        public IRule rule(){\n            return new RandomRule();\n        }\n    }\n    \n    \n    1\n    2\n    3\n    4\n    5\n    6\n    7\n    8\n    9\n    10\n    11\n    12\n    13\n    14\n    15\n    \n\n 2. å¨å¯å¨ç±»ä¸­ ä½¿ç¨@RibbonClient å®ä¹åºç¨åç§°åéç½®ç±»\n    \n    package com.itheima.consumer;\n    \n    import com.itheima.consumer.cnfig.MyRule;\n    import org.springframework.boot.SpringApplication;\n    import org.springframework.boot.autoconfigure.SpringBootApplication;\n    import org.springframework.cloud.client.discovery.EnableDiscoveryClient;\n    import org.springframework.cloud.netflix.eureka.EnableEurekaClient;\n    import org.springframework.cloud.netflix.ribbon.RibbonClient;\n    \n    @SpringBootApplication\n    @EnableEurekaClient\n    @EnableDiscoveryClient //æ¿æ´»DiscoveryClient æ°çæ¬å¯ä»¥å¿½ç¥ èªå¨æ¿æ´»\n    /*\n        éç½®Ribbon è´è½½åè¡¡ç­ç¥\n        name :è®¾ç½®æå¡æä¾æ¹ç åºç¨åç§°\n        configuration : è®¾ç½®è´è½½åè¡¡çBean\n    \n     */\n    @RibbonClient(name ="EUREKA-PROVIDER",configuration = MyRule.class)\n    public class ConsumerApp {\n        public static void main(String[] args) {\n            SpringApplication.run(ConsumerApp.class, args);\n        }\n    }\n    \n    \n    1\n    2\n    3\n    4\n    5\n    6\n    7\n    8\n    9\n    10\n    11\n    12\n    13\n    14\n    15\n    16\n    17\n    18\n    19\n    20\n    21\n    22\n    23\n    24\n    \n\n# éç½®æ¹å¼è®¾ç½®\n\nå¨applicationä¸­è®¾ç½®è¯¥å±æ§\n\nEUREKA-PROVIDER:  # åºç¨åç§°\n  ribbon:\n    NFloadBalancerRuleClassName: com.netflix.loadbalancer.RandomRule  # è´è½½åè¡¡ç­ç¥å®ç°ç±»çå¼ç¨è·¯å¾\n\n\n1\n2\n3\n\n\n\n# Feign å£°æå¼æå¡è°ç¨\n\nFeign æ¯ä¸ä¸ªå£°æå¼çRESTå®¢æ·ç«¯ å®åºäºæ¥å£çæ³¨è§£æ¹å¼ å¾æ¹ä¾¿å®ç°å®¢æ·ç«¯éç½®\n\n 1. å¨æ¶è´¹èç«¯å¯¼å¥åæ \n    \n    <dependency>\n         <groupId>org.springframework.cloud</groupId>\n         <artifactId>spring-cloud-starter-openfeign</artifactId>\n     </dependency>\n    \n    \n    1\n    2\n    3\n    4\n    \n\n 2. æ¶è´¹èå¯å¨ç±»ä¸­å ä¸ @EnableFeignClients å¯ç¨Feign\n    \n    package com.itheima.consumer;\n    \n    import org.springframework.boot.SpringApplication;\n    import org.springframework.boot.autoconfigure.SpringBootApplication;\n    import org.springframework.cloud.client.discovery.EnableDiscoveryClient;\n    import org.springframework.cloud.netflix.eureka.EnableEurekaClient;\n    import org.springframework.cloud.openfeign.EnableFeignClients;\n    \n    @EnableDiscoveryClient // æ¿æ´»DiscoveryClient\n    @EnableEurekaClient\n    @SpringBootApplication\n    \n    @EnableFeignClients //å¼å¯Feignçåè½\n    public class ConsumerApp {\n    \n    \n        public static void main(String[] args) {\n            SpringApplication.run(ConsumerApp.class,args);\n        }\n    }\n    \n    \n    1\n    2\n    3\n    4\n    5\n    6\n    7\n    8\n    9\n    10\n    11\n    12\n    13\n    14\n    15\n    16\n    17\n    18\n    19\n    20\n    \n\n 3. å¨æ¶è´¹èä¸­å®ä¹ä¸ä¸ªfeignå£°ææ¥å£\n    \n    package com.itheima.consumer.feign;\n    \n    import com.itheima.consumer.domain.Goods;\n    import org.springframework.cloud.openfeign.FeignClient;\n    import org.springframework.web.bind.annotation.GetMapping;\n    import org.springframework.web.bind.annotation.PathVariable;\n    \n    /**\n     * feignå£°æå¼æ¥å£  åèµ·è¿ç¨è°ç¨ç\n     * 1.å®ä¹æ¥å£\n     * 2.æ¥å£ä¸æ·»å  @FeignClient valueå±æ§ä¸º åºç¨åç§°\n     * 3.ç¼åè°ç¨æ¥å£ æ¥å£çå£°æè§å å æä¾æ¹æ¥å£ä¿æä¸è´\n     * 4.æ³¨å¥è¯¥æ¥å£å¯¹è±¡ è°ç¨æ¥å£æ¹æ³å®æè¿ç¨è°ç¨\n     */\n    \n    @FeignClient(value = "feign-provider")\n    public interface GoodsFeignClient {\n        @GetMapping("/goods/findOne/{id}")\n        Goods findGoodsById(@PathVariable("id") int id);\n    }\n    \n    \n    1\n    2\n    3\n    4\n    5\n    6\n    7\n    8\n    9\n    10\n    11\n    12\n    13\n    14\n    15\n    16\n    17\n    18\n    19\n    20\n    \n\n 4. æ³¨å¥ å£°ææ¥å£å¯¹è±¡ è°ç¨æ¥å£æ¹æ³\n    \n    package com.itheima.consumer.controller;\n    \n    \n    import com.itheima.consumer.domain.Goods;\n    import com.itheima.consumer.feign.GoodsFeignClient;\n    import org.springframework.beans.factory.annotation.Autowired;\n    import org.springframework.web.bind.annotation.GetMapping;\n    import org.springframework.web.bind.annotation.PathVariable;\n    import org.springframework.web.bind.annotation.RequestMapping;\n    import org.springframework.web.bind.annotation.RestController;\n    import org.springframework.web.client.RestTemplate;\n    \n    @RestController\n    @RequestMapping("/order")\n    public class OrderController {\n    \n        @Autowired\n        private RestTemplate restTemplate;\n    \n    \n        @Autowired\n        private GoodsFeignClient goodsFeignClient;\n    \n    \n        @GetMapping("/goods/{id}")\n        public Goods findGoodsById(@PathVariable("id") int id){\n    \n            /*String url = "http://FEIGN-PROVIDER/goods/findOne/"+id;\n            // 3. è°ç¨æ¹æ³\n            Goods goods = restTemplate.getForObject(url, Goods.class);*/\n    \n            Goods goods = goodsFeignClient.findGoodsById(id);\n    \n    \n            return goods;\n        }\n    \n    \n    }\n    \n    \n    1\n    2\n    3\n    4\n    5\n    6\n    7\n    8\n    9\n    10\n    11\n    12\n    13\n    14\n    15\n    16\n    17\n    18\n    19\n    20\n    21\n    22\n    23\n    24\n    25\n    26\n    27\n    28\n    29\n    30\n    31\n    32\n    33\n    34\n    35\n    36\n    37\n    38\n    39\n    \n\n\n# è¶æ¶è®¾ç½®\n\nFeign åºå±ä¾èµäº Ribbon å®ç°è´è½½åè¡¡åè¿ç¨è°ç¨\n\nRibboné»è®¤1ç§è¶æ¶\n\nå¨consumerçéç½®æä»¶ä¸­éç½®\n\nribbon:\n  ConnectTimeout: 1000 # è®¾ç½®è¿æ¥è¶æ¶æ¶é´ é»è®¤ä¸º1000æ¯«ç§\n  ReadTimeout: 3000 # é»è¾å¤ççè¶æ¶æ¶é´ é»è®¤ä¸º1000æ¯«ç§\n\n\n1\n2\n3\n\n\n\n# æ¥å¿è®°å½\n\nFeign åªè½è®°å½ debug çº§å«çæ¥å¿ä¿¡æ¯\n\n 1. è®¾ç½®consumerçæ¥å¿çº§å« ä¸ºè¯¥è·¯å¾ä¸ææçç±»ä¸ºdebugçº§å«\n    \n    logging:\n      level:\n        com.itheima: debug # é®ä½ç±»è·¯å¾\n    \n    \n    1\n    2\n    3\n    \n\n 2. å¨consumerä¸­å®ä¹éç½®ç±»\n    \n    package com.itheima.consumer.config;\n    \n    import feign.Logger;\n    import org.springframework.context.annotation.Bean;\n    import org.springframework.context.annotation.Configuration;\n    \n    @Configuration\n    public class FeignLogConfig {\n    \n        @Bean\n        public Logger.Level level(){\n            /**\n             * NONE ä¸è®°å½\n             * BASIC è®°å½åºæ¬çè¯·æ±è¡ ååºç¶æç æ°æ®\n             * HEADERS è®°å½åºæ¬çè¯·æ±è¡ ååºç¶æç æ°æ®  ååºå¤´ä¿¡æ¯\n             * FULL è®°å½å®æ´çä¿¡æ¯\n             */\n            return Logger.Level.FULL;\n        }\n    }\n    \n    \n    1\n    2\n    3\n    4\n    5\n    6\n    7\n    8\n    9\n    10\n    11\n    12\n    13\n    14\n    15\n    16\n    17\n    18\n    19\n    20\n    \n\n 3. å¨å£°æå¼æ¥å£ä¸­ç@FeignClientæ³¨è§£ å¼å¥éç½®ç±»\n    \n    package com.itheima.consumer.feign;\n    \n    import com.itheima.consumer.config.FeignLogConfig;\n    import com.itheima.consumer.domain.Goods;\n    import org.springframework.cloud.openfeign.FeignClient;\n    import org.springframework.web.bind.annotation.GetMapping;\n    import org.springframework.web.bind.annotation.PathVariable;\n    \n    /**\n     * feignå£°æå¼æ¥å£  åèµ·è¿ç¨è°ç¨ç\n     * 1.å®ä¹æ¥å£\n     * 2.æ¥å£ä¸æ·»å  @FeignClient valueå±æ§ä¸º åºç¨åç§°   configuration ä¸ºæ¥å¿éç½®ç±»\n     * 3.ç¼åè°ç¨æ¥å£ æ¥å£çå£°æè§å å æä¾æ¹æ¥å£ä¿æä¸è´\n     * 4.æ³¨å¥è¯¥æ¥å£å¯¹è±¡ è°ç¨æ¥å£æ¹æ³å®æè¿ç¨è°ç¨\n     */\n    \n    @FeignClient(value = "feign-provider",configuration = FeignLogConfig.class)\n    public interface GoodsFeignClient {\n        @GetMapping("/goods/findOne/{id}")\n        Goods findGoodsById(@PathVariable("id") int id);\n    }\n    \n    \n    1\n    2\n    3\n    4\n    5\n    6\n    7\n    8\n    9\n    10\n    11\n    12\n    13\n    14\n    15\n    16\n    17\n    18\n    19\n    20\n    21\n    \n\n\n# Hystrix çæ­å¨\n\nHystrix æ¯Netflix å¼æºçä¸ä¸ªå»¶è¿åå®¹éåº ç¨äºéç¦»è®¿é®è¿ç¨æå¡ ç¬¬ä¸æ¹åº é²æ­¢åºç°çº§èå¤±è´¥(éªå´©)\n\néªå´©: ä¸ä¸ªæå¡å¤±è´¥ å¯¼è´æ´æ¡é¾è·¯çæå¡é½å¤±è´¥çæåµ\n\n * éç¦»\n   * çº¿ç¨æ± éç¦» é»è®¤å¼\n   * ä¿¡å·ééç¦»\n * éçº§\n * çæ­\n * éæµ\n\n\n# æå¡æ¹éçº§\n\nå½æå¡åçå¼å¸¸æè°ç¨è¶æ¶,è¿åé»è®¤æ°æ®\n\n 1. å¨æå¡æ¹å¯¼å¥åæ \n    \n    <dependency>\n        <groupId>org.springframework.cloud</groupId>\n        <artifactId>spring-cloud-starter-netflix-hystrix</artifactId>\n    </dependency>\n    \n    \n    1\n    2\n    3\n    4\n    \n\n 2. å¨æå¡æ¹å¯å¨ç±»ä¸­å ä¸@EnableCircuitBreakeræ³¨è§£\n    \n    package com.itheima.provider;\n    \n    import org.springframework.boot.SpringApplication;\n    import org.springframework.boot.autoconfigure.SpringBootApplication;\n    import org.springframework.cloud.client.circuitbreaker.EnableCircuitBreaker;\n    import org.springframework.cloud.netflix.eureka.EnableEurekaClient;\n    \n    /**\n     * å¯å¨ç±»\n     */\n    \n    @EnableEurekaClient //è¯¥æ³¨è§£ å¨æ°çæ¬ä¸­å¯ä»¥çç¥\n    @SpringBootApplication\n    \n    @EnableCircuitBreaker //å¼å¯Hystrixåè½\n    public class ProviderApp {\n    \n    \n        public static void main(String[] args) {\n            SpringApplication.run(ProviderApp.class,args);\n        }\n    }\n    \n    \n    1\n    2\n    3\n    4\n    5\n    6\n    7\n    8\n    9\n    10\n    11\n    12\n    13\n    14\n    15\n    16\n    17\n    18\n    19\n    20\n    21\n    22\n    \n\n 3. å¨æå¡æ¹controllerå± ä¸­å®éçº§æ¹æ³(éçº§æ¹æ³éè¦ä¸åæ¹æ³åæ°è¿åå¼ä¸è´),å¹¶ä¸å¨åæ¹æ³ä¸­å ä¸æ³¨è§£@HystrixCommand(fallbackMethod = "éçº§æ¹æ³å")\n    \n    /**\n         *éçº§\n         *1.åºç°å¼å¸¸\n         * 2.æå¡è°ç¨è¶æ¶\n         */\n    \n    @GetMapping("/findOne/{id}")\n    @HystrixCommand(fallbackMethod = "findOne_fallback",commandProperties = {\n        //è®¾ç½®Hystrixçè¶æ¶æ¶é´é»è®¤ä¸º1000æ¯«ç§\n        @HystrixProperty(name = "execution.isolation.thread.interruptOnTimeout",value = "3000")\n    })  //æå®éçº§åè°ç¨çæ¹æ³   commandPropertiesä¸ºè®¾ç½®æå®è§å\n    public Goods findOne(@PathVariable("id") int id){\n    \n        Goods goods = goodsService.findOne(id);\n    \n        goods.setTitle(goods.getTitle() + ":" + port);//å°ç«¯å£å·ï¼è®¾ç½®å°äº ååæ é¢ä¸\n        return goods;\n    }\n    \n    /**\n         * å®ä¹éçº§æ¹æ³\n         * 1. æ¹æ³çè¿åå¼ååæ°è¦ä¸åæ¹æ³ä¸è´\n         */\n    public Goods findOne_fallback(@PathVariable("id") int id){\n        Goods goods = new Goods();\n        goods.setTitle("éçº§äº");\n        return goods;\n    }\n    \n    \n    1\n    2\n    3\n    4\n    5\n    6\n    7\n    8\n    9\n    10\n    11\n    12\n    13\n    14\n    15\n    16\n    17\n    18\n    19\n    20\n    21\n    22\n    23\n    24\n    25\n    26\n    27\n    28\n    \n\n\n# æ¶è´¹æ¹éçº§\n\nFeignå·²ç»æä¾äºHystrix æ éå¯¼å¥ Hystrix åæ \n\n 1. å¨æ¶è´¹æ¹éç½®æä»¶ä¸­å¼å¯Hystrix\n    \n    feign:\n      hystrix:\n        enabled: true\n    # å¼å¯ feignå¯¹hystrixçæ¯æ  é»è®¤ä¸ºfalse\n    \n    \n    1\n    2\n    3\n    4\n    \n\n 2. å®ä¹å£°æå¼æ¥å£çå®ç°ç±»\n    \n    package com.itheima.consumer.feign;\n    \n    import com.itheima.consumer.domain.Goods;\n    import org.springframework.stereotype.Component;\n    /*\n    éçº§å¤çç±»\n    1.å®ä¹ç±»å®ç°feignå®¢æ·ç«¯æ¥å£\n    2.ä½¿ç¨@Componentæ³¨è§£ å å¥IOCå®¹å¨ä¸­\n    \n     */\n    @Component\n    public class GoodsFeignClientFallback implements GoodsFeignClient{\n        @Override\n        public Goods findGoodsById(int id) {\n            Goods goods = new Goods();\n            goods.setTitle("éçº§äº");\n            return goods;\n        }\n    }\n    \n    \n    1\n    2\n    3\n    4\n    5\n    6\n    7\n    8\n    9\n    10\n    11\n    12\n    13\n    14\n    15\n    16\n    17\n    18\n    19\n    \n\n 3. å¨å£°æå¼æ¥å£@FeignClientæ³¨è§£ è®¾ç½®fallbackå±æ§ä¸ºéçº§ç±»çå­èç \n    \n    package com.itheima.consumer.feign;\n    \n    \n    import com.itheima.consumer.domain.Goods;\n    import org.springframework.cloud.openfeign.FeignClient;\n    import org.springframework.web.bind.annotation.GetMapping;\n    import org.springframework.web.bind.annotation.PathVariable;\n    \n    \n    \n    @FeignClient(value = "HYSTRIX-PROVIDER",fallback = GoodsFeignClientFallback.class)\n    public interface GoodsFeignClient {\n    \n    \n        @GetMapping("/goods/findOne/{id}")\n        public Goods findGoodsById(@PathVariable("id") int id);\n    \n    }\n    \n    \n    1\n    2\n    3\n    4\n    5\n    6\n    7\n    8\n    9\n    10\n    11\n    12\n    13\n    14\n    15\n    16\n    17\n    18\n    \n\n\n# çæ­æºå¶\n\nå½éçº§çæåµæåµè¾¾å°é¢å®çéå¼(é»è®¤ä¸º5ç§20æ¬¡),åä¼æå¼æ­è·¯å¨,æç»ææè¯·æ±,ç´å°æå¡æ¢å¤æ­£å¸¸ä¸ºæ­¢\n\n\n\n\n\n@HystrixCommand(fallbackMethod = "findOne_fallback",commandProperties = {\n        //è®¾ç½®Hystrixçè¶æ¶æ¶é´é»è®¤ä¸º1000æ¯«ç§\n        @HystrixProperty(name = "execution.isolation.thread.interruptOnTimeout",value = "3000"),\n        @HystrixProperty(name = "circuitBreaker.sleepWindowInMilliseconds",value = "5000"), //çæ§æ¶é´ é»è®¤ä¸º5000æ¯«ç§\n        @HystrixProperty(name = "circuitBreaker.requestVolumeThreshold",value = "20"),  //å¤±è´¥æ¬¡æ° é»è®¤20æ¬¡\n        @HystrixProperty(name = "circuitBreaker.errorThresholdPercentage",value = "50"),  //å¤±è´¥ç  é»è®¤ä¸ºç¾åä¹50\n})  //æå®éçº§åè°ç¨çæ¹æ³   commandPropertiesä¸ºè®¾ç½®æå®è§å\n\n\n1\n2\n3\n4\n5\n6\n7\n\n\n\n# Turbine çæ­çæ§\n\nHystrix æä¾äº Hystrix-dashboardåè½ ç¨äºå®æ¶çæ§å¾®æå¡è¿è¡ç¶æ Hystrix-dashboard åªè½çæ§ä¸ä¸ªå¾®æå¡\n\nNetflix æä¾äºTurbine è¿è¡èåçæ§\n\n 1. æ°å»ºæ¨¡åå¹¶å¯¼å¥åæ \n    \n         <dependencies>\n           <dependency>\n               <groupId>org.springframework.cloud</groupId>\n               <artifactId>spring-cloud-starter-netflix-hystrix-dashboard</artifactId>\n           </dependency>\n    <dependency>\n           <groupId>org.springframework.cloud</groupId>\n           <artifactId>spring-cloud-starter-netflix-turbine</artifactId>\n       </dependency>\n       \n       <dependency>\n           <groupId>org.springframework.boot</groupId>\n           <artifactId>spring-boot-starter-actuator</artifactId>\n       </dependency>\n       \n       <dependency>\n           <groupId>org.springframework.cloud</groupId>\n           <artifactId>spring-cloud-starter-netflix-eureka-client</artifactId>\n       </dependency>\n    <dependency>\n            <groupId>org.springframework.boot</groupId>\n            <artifactId>spring-boot-starter-test</artifactId>\n            <scope>test</scope>\n        </dependency>\n    </dependencies>\n    \n    <build>\n        <plugins>\n            <plugin>\n                <groupId>org.springframework.boot</groupId>\n                <artifactId>spring-boot-maven-plugin</artifactId>\n            </plugin>\n        </plugins>\n    </build>\n    \n    \n    1\n    2\n    3\n    4\n    5\n    6\n    7\n    8\n    9\n    10\n    11\n    12\n    13\n    14\n    15\n    16\n    17\n    18\n    19\n    20\n    21\n    22\n    23\n    24\n    25\n    26\n    27\n    28\n    29\n    30\n    31\n    32\n    33\n    34\n    \n\n 2. åå»ºapplication.yml\n    \n    spring:\n      application.name: hystrix-monitor\n    server:\n      port: 8769\n    turbine:\n      combine-host-port: true\n      # éç½®éè¦çæ§çæå¡åç§°åè¡¨\n      app-config: hystrix-provider,hystrix-consumer\n      cluster-name-expression: "\'default\'"\n      aggregator:\n        cluster-config: default\n      #instanceUrlSuffix: /actuator/hystrix.stream\n    eureka:\n      client:\n        serviceUrl:\n          defaultZone: http://localhost:8761/eureka/\n    \n    \n    \n    1\n    2\n    3\n    4\n    5\n    6\n    7\n    8\n    9\n    10\n    11\n    12\n    13\n    14\n    15\n    16\n    17\n    \n\n 3. åå»ºå¯å¨ç±»\n    \n    package com.itheima;\n    \n    \n    import org.springframework.boot.SpringApplication;\n    import org.springframework.boot.autoconfigure.SpringBootApplication;\n    import org.springframework.cloud.netflix.eureka.EnableEurekaClient;\n    import org.springframework.cloud.netflix.hystrix.dashboard.EnableHystrixDashboard;\n    import org.springframework.cloud.netflix.turbine.EnableTurbine;\n    \n    @SpringBootApplication\n    @EnableEurekaClient\n    \n    @EnableTurbine //å¼å¯Turbine å¾èåçæ§åè½\n    @EnableHystrixDashboard //å¼å¯Hystrixä»ªè¡¨ççæ§åè½\n    public class HystrixMonitorApp {\n    \n        public static void main(String[] args) {\n            SpringApplication.run(HystrixMonitorApp.class, args);\n        }\n    \n    }\n    \n    \n    1\n    2\n    3\n    4\n    5\n    6\n    7\n    8\n    9\n    10\n    11\n    12\n    13\n    14\n    15\n    16\n    17\n    18\n    19\n    20\n    21\n    \n\n 4. ä¿®æ¹è¢«çæ§çæ¨¡å éè¦åå«ä¿®æ¹ hystrix-provider å hystrix-consumer æ¨¡å\n    \n    1. å¯¼å¥åæ \n       \n       \t\t<dependency>\n                   <groupId>org.springframework.boot</groupId>\n                   <artifactId>spring-boot-starter-actuator</artifactId>\n               </dependency>\n       \n               <dependency>\n                   <groupId>org.springframework.cloud</groupId>\n                   <artifactId>spring-cloud-starter-netflix-hystrix</artifactId>\n               </dependency>\n       \n               <dependency>\n                   <groupId>org.springframework.cloud</groupId>\n                   <artifactId>spring-cloud-starter-netflix-hystrix-dashboard</artifactId>\n               </dependency>\n       \n       \n       1\n       2\n       3\n       4\n       5\n       6\n       7\n       8\n       9\n       10\n       11\n       12\n       13\n       14\n       \n    \n    2. éç½®Bean\n       \n       @Bean\n           public ServletRegistrationBean getServlet() {\n               HystrixMetricsStreamServlet streamServlet = new HystrixMetricsStreamServlet();\n               ServletRegistrationBean registrationBean = new ServletRegistrationBean(streamServlet);\n               registrationBean.setLoadOnStartup(1);\n               registrationBean.addUrlMappings("/actuator/hystrix.stream");\n               registrationBean.setName("HystrixMetricsStreamServlet");\n               return registrationBean;\n           }\n       \n       \n       1\n       2\n       3\n       4\n       5\n       6\n       7\n       8\n       9\n       \n    \n    3. å¨å¯å¨ç±»ä¸æ·»å æ³¨è§£@EnableHystrixDashboard\n       \n       package com.itheima.provider;\n       \n       import com.netflix.hystrix.contrib.metrics.eventstream.HystrixMetricsStreamServlet;\n       import org.springframework.boot.SpringApplication;\n       import org.springframework.boot.autoconfigure.SpringBootApplication;\n       import org.springframework.boot.web.servlet.ServletRegistrationBean;\n       import org.springframework.cloud.client.circuitbreaker.EnableCircuitBreaker;\n       import org.springframework.cloud.netflix.eureka.EnableEurekaClient;\n       import org.springframework.cloud.netflix.hystrix.dashboard.EnableHystrixDashboard;\n       import org.springframework.context.annotation.Bean;\n       \n       /**\n        * å¯å¨ç±»\n        */\n       \n       @EnableEurekaClient //è¯¥æ³¨è§£ å¨æ°çæ¬ä¸­å¯ä»¥çç¥\n       @SpringBootApplication\n       \n       @EnableCircuitBreaker //å¼å¯Hystrixåè½\n       @EnableHystrixDashboard \n       public class ProviderApp {\n       \n       \n           public static void main(String[] args) {\n               SpringApplication.run(ProviderApp.class, args);\n           }\n       \n           @Bean\n           public ServletRegistrationBean getServlet() {\n               HystrixMetricsStreamServlet streamServlet = new HystrixMetricsStreamServlet();\n               ServletRegistrationBean registrationBean = new ServletRegistrationBean(streamServlet);\n               registrationBean.setLoadOnStartup(1);\n               registrationBean.addUrlMappings("/actuator/hystrix.stream");\n               registrationBean.setName("HystrixMetricsStreamServlet");\n               return registrationBean;\n           }\n       }\n       \n       \n       1\n       2\n       3\n       4\n       5\n       6\n       7\n       8\n       9\n       10\n       11\n       12\n       13\n       14\n       15\n       16\n       17\n       18\n       19\n       20\n       21\n       22\n       23\n       24\n       25\n       26\n       27\n       28\n       29\n       30\n       31\n       32\n       33\n       34\n       35\n       36\n       37\n       \n\n 5. å¯å¨æå¡\n    \n    * eureka-server\n    * hystrix-provider\n    * hystrix-consumer\n    * hystrix-monitor\n\n 6. è®¿é® http://localhost:8769/hystrix/\n    \n    çæ§Urlå°åä¸º http://localhost:8769/turbine.stream\n    \n    è®°å¾è®¿é®ä¸æ¬¡ æ¥å£å¦åæ²¡ææ°æ®\n\n\n\n\n# Gateway ç½å³\n\nç½å³æ¯ä¸ºå¾®æå¡æ¶ææä¾ä¸ç§ç®åèææçç»ä¸çAPIè·¯ç±ç®¡çæ¹å¼\n\n\n# å¥é¨æ¡ä¾\n\n 1. åå»ºgatewayæ¨¡å å¯¼å¥åæ \n    \n        <dependencies>\n            \x3c!--å¼å¥gateway ç½å³--\x3e\n    \n            <dependency>\n                <groupId>org.springframework.cloud</groupId>\n                <artifactId>spring-cloud-starter-gateway</artifactId>\n            </dependency>\n    \n            \x3c!-- eureka-client --\x3e\n            <dependency>\n                <groupId>org.springframework.cloud</groupId>\n                <artifactId>spring-cloud-starter-netflix-eureka-client</artifactId>\n            </dependency>\n        </dependencies>\n    \n    \n    1\n    2\n    3\n    4\n    5\n    6\n    7\n    8\n    9\n    10\n    11\n    12\n    13\n    14\n    \n\n 2. åå»ºå¯å¨ç±»\n    \n    package com.itheima.gateway;\n    \n    import org.springframework.boot.SpringApplication;\n    import org.springframework.boot.autoconfigure.SpringBootApplication;\n    import org.springframework.cloud.netflix.eureka.EnableEurekaClient;\n    \n    @SpringBootApplication\n    @EnableEurekaClient\n    public class ApiGatewayApp {\n        public static void main(String[] args) {\n            SpringApplication.run(ApiGatewayApp.class, args);\n        }\n    }\n    \n    \n    1\n    2\n    3\n    4\n    5\n    6\n    7\n    8\n    9\n    10\n    11\n    12\n    13\n    \n\n 3. ç¼åapplication.yml\n    \n    server:\n      port: 80\n    spring:\n      application:\n        name: api-geteway-server\n      cloud:\n        # ç½å³éç½®\n        gateway:\n          # è·¯ç±éç½®: è½¬åè§å\n          routes: # éå\n          - id: gateway-provider # å¯ä¸æ è¯ é»è®¤ä¸ºéæºUUID\n            uri: http://localhost:8001/  #  è½¬åè·¯å¾  æå¡æä¾æ¹è®¿é®è·¯å¾\n            predicates: # æ¡ä»¶ ç¨äºè¯·æ±ç½å³è·¯å¾çå¹éè§å\n            - Path=/goods/**\n    \n    \n    1\n    2\n    3\n    4\n    5\n    6\n    7\n    8\n    9\n    10\n    11\n    12\n    13\n    14\n    \n\n 4. å¯å¨æ¨¡ååæå¡æ²»ç æå¡æä¾æ¹ æ¶è´¹æ¹ åªè¦è®¿é®http://localhost:80/goods/* å°ååè½¬åä¸º\n\nhttp://localhost:8001/goods/*\n\n\n# éæè·¯ç±\n\néè¿routesè½¬åè§å éç½®å¤ä¸ªéåå¯¹è±¡\n\nserver:\n  port: 80\nspring:\n  application:\n    name: api-geteway-server\n  cloud:\n    # ç½å³éç½®\n    gateway:\n      # è·¯ç±éç½®: è½¬åè§å\n      routes: # éå\n      - id: gateway-provider # å¯ä¸æ è¯ é»è®¤ä¸ºéæºUUID\n        uri: http://localhost:8001/  #  è½¬åè·¯å¾  æå¡æä¾æ¹è®¿é®è·¯å¾\n        predicates: # æ¡ä»¶ ç¨äºè¯·æ±ç½å³è·¯å¾çå¹éè§å\n        - Path=/goods/**\n\n      - id: gateway-consumer # è½¬åè§å2\n        uri: http://localhost:9000/  #  è½¬åè·¯å¾  æå¡æä¾æ¹è®¿é®è·¯å¾\n        predicates: # æ¡ä»¶ ç¨äºè¯·æ±ç½å³è·¯å¾çå¹éè§å\n        - Path=/order/**\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n\n\nä½ä¸æ¨èæ­¤æ¹æ³éç½®\n\n\n# å¨æè·¯ç±\n\nä»eureka å¨æè·å\n\n 1. å¼å¥eureka client å¹¶å¨å¯å¨ç±»ä¸­å ä¸@EnableEurekaClientæ³¨è§£\n\n 2. éç½®eurekaæå¡å°å å¹¶å°Gatewayçuri æ¹æ lb://åºç¨åç§°\n    \n    server:\n      port: 80\n    spring:\n      application:\n        name: api-geteway-server\n      cloud:\n        # ç½å³éç½®\n        gateway:\n          # è·¯ç±éç½®: è½¬åè§å\n          routes: # éå\n          - id: gateway-provider # å¯ä¸æ è¯ é»è®¤ä¸ºéæºUUID\n    #        uri: http://localhost:8001/  #  è½¬åè·¯å¾  æå¡æä¾æ¹è®¿é®è·¯å¾\n            uri: lb://gateway-provider\n            predicates: # æ¡ä»¶ ç¨äºè¯·æ±ç½å³è·¯å¾çå¹éè§å\n            - Path=/goods/**\n    \n          - id: gateway-consumer # è½¬åè§å2\n    #          uri: http://localhost:9000/  #  è½¬åè·¯å¾  æå¡æä¾æ¹è®¿é®è·¯å¾\n            uri: lb://gateway-consumer\n            predicates: # æ¡ä»¶ ç¨äºè¯·æ±ç½å³è·¯å¾çå¹éè§å\n            - Path=/order/**\n    \n    eureka:\n      client:\n        service-url:\n          defaultZone: http://localhost:8761/eureka\n    \n    \n    1\n    2\n    3\n    4\n    5\n    6\n    7\n    8\n    9\n    10\n    11\n    12\n    13\n    14\n    15\n    16\n    17\n    18\n    19\n    20\n    21\n    22\n    23\n    24\n    25\n    26\n    \n\n\n# å¾®æå¡åç§°éç½®\n\nGatewayç½å³ä¸­ é»è®¤ä¸å¯ç¨ç±Eurekaåºç¨åæ¼æ¥çURLè½¬åè®¿é®\n\næä»¬éè¿ sping.cloud.discovery.locator.enabled å¼å¯ä¹å\n\nå¯ä»¥éè¿ http://localhost/gateway-consumer/order/goods/2 æ¥è½¬åè®¿é® æ¹ä¾¿æä»¬æ´å¥½çåºååºç¨ å½ç¶http://localhost/order/goods/2 ä¸å åºç¨åç§°æ¼æ¥ä¹æ¯å¯ä»¥è½¬åè®¿é®\n\nserver:\n  port: 80\nspring:\n  application:\n    name: api-geteway-server\n  cloud:\n    # ç½å³éç½®\n    gateway:\n      # è·¯ç±éç½®: è½¬åè§å\n      routes: # éå\n      - id: gateway-provider # å¯ä¸æ è¯ é»è®¤ä¸ºéæºUUID\n#        uri: http://localhost:8001/  #  è½¬åè·¯å¾  æå¡æä¾æ¹è®¿é®è·¯å¾\n        uri: lb://gateway-provider\n        predicates: # æ¡ä»¶ ç¨äºè¯·æ±ç½å³è·¯å¾çå¹éè§å\n        - Path=/goods/**\n\n      - id: gateway-consumer # è½¬åè§å2\n#          uri: http://localhost:9000/  #  è½¬åè·¯å¾  æå¡æä¾æ¹è®¿é®è·¯å¾\n        uri: lb://gateway-consumer\n        predicates: # æ¡ä»¶ ç¨äºè¯·æ±ç½å³è·¯å¾çå¹éè§å\n        - Path=/order/**\n      discovery:\n        locator:\n          enabled: true  # å¼å¯å¾®æå¡åç°åè½\n          lower-case-service-id: true # è¯·æ±è·¯å¾ä¸çåºç¨åç§°åè®¸å°å\n\neureka:\n  client:\n    service-url:\n      defaultZone: http://localhost:8761/eureka\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n26\n27\n28\n29\n30\n\n\n\n# ç½å³è¿æ»¤å¨\n\nè¿æ»¤å¨ å¯¹è¯·æ±æååºè¿è¡æ¦æª å®æä¸äºéç¨æä½\n\nGateway æä¾ ä¸¤ç§è¿æ»¤å¨æ¹å¼ pre å post\n\n * pre è¿æ»¤å¨ å¨è½¬åä¹åæ§è¡ å¯ä»¥ååæ°æ ¡éª æéæ ¡éª æµéçæ§ æ¥å¿è¾åº åè®®è½¬æ¢ç­\n * postè¿æ»¤å¨ å¨ååºä¹åæ§è¡ å¯ä»¥ç¨å¯¹ååºåå®¹ ååºå¤´çä¿®æ¹ æ¥å¿çè¾åº æµéçæ§ç­\n\nåæ¶è¿æä¾äºä¸¤ç§ç±»åè¿æ»¤å¨\n\n * GatewayFilter å±é¨è¿æ»¤å¨ éå¯¹åä¸ªè·¯ç±\n * GlobalFilter å¨å±è¿æ»¤å¨ éå¯¹ææè·¯ç±\n\n# å±é¨è¿æ»¤å¨\n\nè¿æ»¤å¨å·¥å                         ä½ç¨                                                             åæ°\nAddRequestHeader              ä¸ºåå§è¯·æ±æ·»å Header                                                  Headerçåç§°åå¼\nAddRequestParameter           ä¸ºåå§è¯·æ±æ·»å è¯·æ±åæ°                                                    åæ°åç§°åå¼\nAddResponseHeader             ä¸ºåå§ååºæ·»å Header                                                  Headerçåç§°åå¼\nDedupeResponseHeader          åé¤ååºå¤´ä¸­éå¤çå¼                                                     éè¦å»éçHeaderåç§°åå»éç­ç¥\nHystrix                       ä¸ºè·¯ç±å¼å¥Hystrixçæ­è·¯å¨ä¿æ¤                                             HystrixCommandçåç§°\nFallbackHeaders               ä¸ºfallbackUriçè¯·æ±å¤´ä¸­æ·»å å·ä½çå¼å¸¸ä¿¡æ¯                                     Headerçåç§°\nPrefixPath                    ä¸ºåå§è¯·æ±è·¯å¾æ·»å åç¼                                                    åç¼è·¯å¾\nPreserveHostHeader            ä¸ºè¯·æ±æ·»å ä¸ä¸ªpreserveHostHeader=trueçå±æ§ï¼è·¯ç±è¿æ»¤å¨ä¼æ£æ¥è¯¥å±æ§ä»¥å³å®æ¯å¦è¦åéåå§çHost   æ \nRequestRateLimiter            ç¨äºå¯¹è¯·æ±éæµï¼éæµç®æ³ä¸ºä»¤çæ¡¶                                               keyResolverãrateLimiterãstatusCodeãdenyEmptyKeyãemptyKeyStatus\nRedirectTo                    å°åå§è¯·æ±éå®åå°æå®çURL                                                httpç¶æç åéå®åçurl\nRemoveHopByHopHeadersFilter   ä¸ºåå§è¯·æ±å é¤IETFç»ç»è§å®çä¸ç³»åHeader                                      é»è®¤å°±ä¼å¯ç¨ï¼å¯ä»¥éè¿éç½®æå®ä»å é¤åªäºHeader\nRemoveRequestHeader           ä¸ºåå§è¯·æ±å é¤æä¸ªHeader                                                Headeråç§°\nRemoveResponseHeader          ä¸ºåå§ååºå é¤æä¸ªHeader                                                Headeråç§°\nRewritePath                   éååå§çè¯·æ±è·¯å¾                                                      åå§è·¯å¾æ­£åè¡¨è¾¾å¼ä»¥åéååè·¯å¾çæ­£åè¡¨è¾¾å¼\nRewriteResponseHeader         éååå§ååºä¸­çæä¸ªHeader                                               Headeråç§°ï¼å¼çæ­£åè¡¨è¾¾å¼ï¼éååçå¼\nSaveSession                   å¨è½¬åè¯·æ±ä¹åï¼å¼ºå¶æ§è¡WebSession::saveæä½                                 æ \nsecureHeaders                 ä¸ºåå§ååºæ·»å ä¸ç³»åèµ·å®å¨ä½ç¨çååºå¤´                                            æ ï¼æ¯æä¿®æ¹è¿äºå®å¨ååºå¤´çå¼\nSetPath                       ä¿®æ¹åå§çè¯·æ±è·¯å¾                                                      ä¿®æ¹åçè·¯å¾\nSetResponseHeader             ä¿®æ¹åå§ååºä¸­æä¸ªHeaderçå¼                                              Headeråç§°ï¼ä¿®æ¹åçå¼\nSetStatus                     ä¿®æ¹åå§ååºçç¶æç                                                      HTTP ç¶æç ï¼å¯ä»¥æ¯æ°å­ï¼ä¹å¯ä»¥æ¯å­ç¬¦ä¸²\nStripPrefix                   ç¨äºæªæ­åå§è¯·æ±çè·¯å¾                                                    ä½¿ç¨æ°å­è¡¨ç¤ºè¦æªæ­çè·¯å¾çæ°é\nRetry                         éå¯¹ä¸åçååºè¿è¡éè¯                                                    retriesãstatusesãmethodsãseries\nRequestSize                   è®¾ç½®åè®¸æ¥æ¶æå¤§è¯·æ±åçå¤§å°ãå¦æè¯·æ±åå¤§å°è¶è¿è®¾ç½®çå¼ï¼åè¿å 413 Payload Too Large         è¯·æ±åå¤§å°ï¼åä½ä¸ºå­èï¼é»è®¤å¼ä¸º5M\nModifyRequestBody             å¨è½¬åè¯·æ±ä¹åä¿®æ¹åå§è¯·æ±ä½åå®¹                                               ä¿®æ¹åçè¯·æ±ä½åå®¹\nModifyResponseBody            ä¿®æ¹åå§ååºä½çåå®¹                                                     ä¿®æ¹åçååºä½åå®¹\nDefault                       ä¸ºææè·¯ç±æ·»å è¿æ»¤å¨                                                     è¿æ»¤å¨å·¥ååç§°åå¼\n\nå¨éç½®æä»¶ä¸­éè¿ sping.cloud.gateway.routes.filters è®¾ç½®\n\nspring:\n  application:\n    name: api-geteway-server\n  cloud:\n    # ç½å³éç½®\n    gateway:\n      # è·¯ç±éç½®: è½¬åè§å\n      routes: # éå\n        - id: gateway-provider # å¯ä¸æ è¯ é»è®¤ä¸ºéæºUUID\n          #        uri: http://localhost:8001/  #  è½¬åè·¯å¾  æå¡æä¾æ¹è®¿é®è·¯å¾\n          uri: lb://gateway-provider\n          predicates: # æ¡ä»¶ ç¨äºè¯·æ±ç½å³è·¯å¾çå¹éè§å\n            - Path=/goods/**\n          filters:\n            - AddRequestHeader=username,zhansan\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n\n\n# å¨å±è¿æ»¤å¨\n\nå¨å±è¿æ»¤å¨ä¸éè¦å¨éç½®æä»¶ä¸­éç½® ç³»ç»åå§åæ¶å è½½ å¹¶ä½ç¨å¨æ¯ä¸ªè·¯ç±ä¸\n\n\n\n 1. å¨gatewayæ¨¡åä¸­ ç¼åèªå®ä¹è¿æ»¤å¨ç±» å¹¶å®ç° GlobalFilter, Ordered æ¥å£\n    \n    package com.itheima.gateway.filter;\n    \n    import org.springframework.cloud.gateway.filter.GatewayFilterChain;\n    import org.springframework.cloud.gateway.filter.GlobalFilter;\n    import org.springframework.core.Ordered;\n    import org.springframework.stereotype.Component;\n    import org.springframework.web.server.ServerWebExchange;\n    import reactor.core.publisher.Mono;\n    \n    @Component\n    public class MyFilter implements GlobalFilter, Ordered {\n        @Override\n        public Mono<Void> filter(ServerWebExchange exchange, GatewayFilterChain chain) {\n            System.out.println("èªå®ä¹å¨å±è¿æ»¤å¨");\n            return chain.filter(exchange);  //æ¾è¡\n        }\n    \n        /**\n         * è¿æ»¤å¨æåº\n         * @return æ°å¼è¶å° è¶åæ§è¡\n         */\n        @Override\n        public int getOrder() {\n            return 0;\n        }\n    }\n    \n    \n    1\n    2\n    3\n    4\n    5\n    6\n    7\n    8\n    9\n    10\n    11\n    12\n    13\n    14\n    15\n    16\n    17\n    18\n    19\n    20\n    21\n    22\n    23\n    24\n    25\n    26\n    \n\n\n# Config åå¸å¼éç½®ä¸­å¿\n\nConfig è§£å³äºå¨åå¸å¼åºæ¯ä¸å¤ç¯å¢éç½®æä»¶çç®¡çåç»´æ¤\n\n 1. å¨githubæègiteeåå»ºä¸ä¸ªå­æ¾configéç½®çä»åº\n\n 2. åå»ºconfig-server æ¨¡å å¹¶å¯¼å¥åæ \n    \n        \x3c!-- config-server --\x3e\n        <dependency>\n            <groupId>org.springframework.cloud</groupId>\n            <artifactId>spring-cloud-config-server</artifactId>\n        </dependency>\n    </dependencies>\n    \n    \n    1\n    2\n    3\n    4\n    5\n    6\n    \n\n 3. åå»ºå¯å¨ç±»å¹¶ä½¿ç¨ @EnableConfigServer æ³¨è§£å¯ç¨ config server\n    \n    package com.itheima.config;\n    \n    import org.springframework.boot.SpringApplication;\n    import org.springframework.boot.autoconfigure.SpringBootApplication;\n    import org.springframework.cloud.config.server.EnableConfigServer;\n    \n    @SpringBootApplication\n    @EnableConfigServer //å¯ç¨config serveråè½\n    public class ConfigServerApp {\n        public static void main(String[] args) {\n            SpringApplication.run(ConfigServerApp.class,args);\n        }\n    }\n    \n    \n    1\n    2\n    3\n    4\n    5\n    6\n    7\n    8\n    9\n    10\n    11\n    12\n    13\n    \n\n 4. éç½®application.yml\n    \n    server:\n      port: 8888\n    \n    \n    spring:\n      application:\n        name: config-server\n    \n      cloud:\n        config:\n          server:\n            git:\n              uri: https://gitee.com/Iekrwh/configs.git  # ä»åºå°å\n    #          username:   #å¦ææ¯ç§æä»åºåéè¦éç½®gitçè´¦å·åå¯ç \n    #          password:\n              default-label: master # åæ¯éç½®\n    \n    \n    1\n    2\n    3\n    4\n    5\n    6\n    7\n    8\n    9\n    10\n    11\n    12\n    13\n    14\n    15\n    16\n    \n\n 5. å¨æå¡æä¾æ¹ä¸­ å¯¼å¥ config clientåæ \n    \n    \x3c!--     config client   --\x3e\n    <dependency>\n        <groupId>org.springframework.cloud</groupId>\n        <artifactId>spring-cloud-starter-config</artifactId>\n    </dependency>\n    \n    \n    1\n    2\n    3\n    4\n    5\n    \n\n 6. å¨åå»ºéç½®æä»¶ bootstrap.yml ä¼åçº§é«äºapplication.yml\n    \n    spring:\n      cloud:\n        config:\n          uri: http://localhost:8888  # éç½®config serverå°å\n          name: config # æä»¶åç§°\n          label: master # åæ¯\n          profile: dev # -åé¢ççæ¬åç§°\n    \n    \n    1\n    2\n    3\n    4\n    5\n    6\n    7\n    \n\n 7. æ­¤æ¶å¨æå¡æä¾æ¹ä¸­ å¯ä»¥è¯»åconfig éç½®æä»¶æä¾çå¼\n\n\n# å®¢æ·ç«¯å·æ°\n\nå½è¿ç¨ä»åºä¸­çéç½®æä»¶åçæ¹åäº æä»¬çconfig server ä¼èªå¨æ´æ°\n\nä½æä»¬çconfig clientå¹¶ä¸ä¼èªå¨æ´æ°åå®¹\n\n 1. å®¢æ·ç«¯å¼å¥actuatorä¾èµ\n    \n    <dependency>\n        <groupId>org.springframework.boot</groupId>\n        <artifactId>spring-boot-starter-actuator</artifactId>\n    </dependency>\n    \n    \n    1\n    2\n    3\n    4\n    \n\n 2. è·åéç½®ä¿¡æ¯çç±»ä¸ å ä¸@RefreshScope æ³¨è§£\n\n 3. å¨bootstrap.yml æ·»å  management.endpoints.web.exposure.include\n    \n    spring:\n      cloud:\n        config:\n          uri: http://localhost:8888  # éç½®config serverå°å\n          name: config # æä»¶åç§°\n          label: master # åæ¯\n          profile: dev # -åé¢ççæ¬åç§°\n    management:\n      endpoints:\n        web:\n          exposure:\n            include: \'*\'\n    \n    \n    1\n    2\n    3\n    4\n    5\n    6\n    7\n    8\n    9\n    10\n    11\n    12\n    \n\n 4. å¨cmdä¸­ åhttp://localhost:8001/actuator/refresh åépostè¯·æ±\n    \n    curl -X POST http://localhost:8001/actuator/refresh\n    \n    \n    1\n    \n    \n    ä½æ¯æ¯æ¬¡æ´æ° éè¦åéä¸æ¬¡è¯·æ± åé¢ç»åbusæè½è§£å³æ­¤é®é¢\n\n\n# éæEureka\n\néè¿ä¸é¢ä¾å­ æä»¬åç° configå®¢æ·ç«¯è®¿é®æå¡ç«¯ å°åæ¯åºå®åæ­» éå¸¸ä¸çµæ´»\n\næä»¬å¯ä»¥éè¿Eureka ä½¿æå¡ç«¯å¨ä¸é¢æ³¨ååºç¨ èªå¨è·ååºç¨çå°å\n\n 1. config-server å¯¼å¥Eurekaåæ \n    \n    \x3c!-- eureka-client --\x3e\n    <dependency>\n        <groupId>org.springframework.cloud</groupId>\n        <artifactId>spring-cloud-starter-netflix-eureka-client</artifactId>\n    </dependency>\n    \n    \n    1\n    2\n    3\n    4\n    5\n    \n\n 2. config-server éç½® å ä¸Eurekaçå°å\n    \n    server:\n      port: 8888\n    \n    \n    spring:\n      application:\n        name: config-server\n    \n      cloud:\n        config:\n          server:\n            git:\n              uri: https://gitee.com/Iekrwh/configs.git  # ä»åºå°å\n    #          username:   #å¦ææ¯ç§æä»åºåéè¦éç½®gitçè´¦å·åå¯ç \n    #          password:\n              default-label: master # åæ¯éç½®\n    \n    eureka:\n      client:\n        service-url:\n          defaultZone: http://localhost:8761/eureka\n    \n    \n    1\n    2\n    3\n    4\n    5\n    6\n    7\n    8\n    9\n    10\n    11\n    12\n    13\n    14\n    15\n    16\n    17\n    18\n    19\n    20\n    21\n    \n\n 3. å¨config serve å¯å¨ç±»å ä¸ @EnableEurekaClient æ³¨è§£\n\n 4. å¨config client éç½®æä»¶ä¸­ å° config uri æ¹ä¸º Eurkaæå¡å°å\n    \n    spring:\n      cloud:\n        config:\n    #      uri: http://localhost:8888  # éç½®config serverå°å\n          name: config # æä»¶åç§°\n          label: master # åæ¯\n          profile: dev # -åé¢ççæ¬åç§°\n          discovery:\n            enabled: true # ä»æ³¨åä¸­å¿å¯»æ¾config server å°å\n            service-id: config-server # config server æ³¨åçåºç¨å\n    management:\n      endpoints:\n        web:\n          exposure:\n            include: \'*\'\n    \n    \n    1\n    2\n    3\n    4\n    5\n    6\n    7\n    8\n    9\n    10\n    11\n    12\n    13\n    14\n    15\n    \n\n\n# Bus æ¶æ¯æ»çº¿\n\nSpring Cloud æ¯ç¨è½»éçæ¶æ¯ä¸­é´ä»¶å°åå¸å¼çèç¹è¿æ¥èµ·æ¥ ç¨äºå¹¿æ­éç½®æä»¶çæ´æ¹æèæå¡ççæ§ç®¡ç\n\nSpring Cloud Bus å¯éçæ¶æ¯ä¸­é´ä»¶åæ¬RabbitMQå Kafka\n\n 1. å¨config-server å config-clientä¸­ å¼å¥ busä¾èµ\n    \n    \x3c!-- bus --\x3e\n    <dependency>\n        <groupId>org.springframework.cloud</groupId>\n        <artifactId>spring-cloud-starter-bus-amqp</artifactId>\n    </dependency>\n    <dependency>\n                <groupId>org.springframework.boot</groupId>\n                <artifactId>spring-boot-starter-actuator</artifactId>\n            </dependency>\n    \n    \n    1\n    2\n    3\n    4\n    5\n    6\n    7\n    8\n    9\n    \n\n 2. å¨config-server å config-clientä¸­ åå«éç½®RabbitMQ\n    \n    spring:\n      rabbitmq:\n        host: 192.168.130.124 # mqæå¡å¨å°å\n        port: 5672\n        username: iekr\n        password: iekr\n        virtual-host: /itcast\n    \n    \n    1\n    2\n    3\n    4\n    5\n    6\n    7\n    \n\n 3. å¨config-server ä¸­ è®¾ç½®æ´é²çæ§æ­çµ bus-refresh\n    \n    management:\n      endpoints:\n        web:\n          exposure:\n            include: \'bus-refresh\'  # æ´é²busçå·æ°ç«¯ç¹\n    \n    \n    1\n    2\n    3\n    4\n    5\n    \n\n 4. æ´æ°ååéæä»¤ curl -X post config-serverå°å:ç«¯å£/actuator/bus-refresh\n    \n    curl -X post http://localhost:8888/actuator/bus-refresh\n    \n    \n    1\n    \n\n\n# Stream æ¶æ¯é©±å¨\n\nSpring Clou Stream æ¯ä¸ä¸ªæå»ºæ¶æ¯é©±å¨å¾®æå¡åºç¨çæ¡æ¶\n\nStream å¯¹æ¶æ¯ä¸­é´ä»¶çè¿ä¸æ­¥å°è£ å¯ä»¥åå°ä»£ç å±é¢å¯¹ä¸­é´ä»¶çæ æç¥ çè³å¨æåæ¢ä¸­é´ä»¶\n\nStream æå»ºçåºç¨ç¨åºä¸æ¶æ¯ä¸­é´ä»¶ä¹é´æ¯éè¿ç»å®å¨ Binder ç¸å³èç\n\n\n# æ¶æ¯çäº§è\n\n 1. åå»ºçäº§èæ¨¡å å¯¼å¥åæ \n    \n            \x3c!--spring boot web--\x3e\n            <dependency>\n                <groupId>org.springframework.boot</groupId>\n                <artifactId>spring-boot-starter-web</artifactId>\n            </dependency>\n    \n    \n            \x3c!-- stream --\x3e\n            <dependency>\n                <groupId>org.springframework.cloud</groupId>\n                <artifactId>spring-cloud-starter-stream-rabbit</artifactId>\n            </dependency>\n    \n    \n    \n    1\n    2\n    3\n    4\n    5\n    6\n    7\n    8\n    9\n    10\n    11\n    12\n    13\n    \n\n 2. ç¼åéç½®æä»¶\n    \n    server:\n      port: 8000\n    \n    \n    \n    spring:\n      cloud:\n        stream:\n          # å®ä¹ç»å®å¨ï¼ç»å®å°åªä¸ªæ¶æ¯ä¸­é´ä»¶ä¸\n          binders:\n            itheima_binder: # èªå®ä¹çç»å®å¨åç§°\n              type: rabbit # ç»å®å¨ç±»å\n              environment: # æå®mqçç¯å¢\n                spring:\n                  rabbitmq:\n                    host: 192.168.130.124\n                    port: 5672\n                    username: guest\n                    password: guest\n                    virtual-host: /\n          bindings:\n            output: # channelåç§°\n              binder: itheima_binder #æå®ä½¿ç¨åªä¸ä¸ªç»å®å¨(èªå®ä¹çç»å®å¨åç§°)\n              destination: itheima_exchange # æ¶æ¯ç®çå°\n    \n    \n    1\n    2\n    3\n    4\n    5\n    6\n    7\n    8\n    9\n    10\n    11\n    12\n    13\n    14\n    15\n    16\n    17\n    18\n    19\n    20\n    21\n    22\n    23\n    24\n    \n\n 3. å®ä¹åéæ¶æ¯ç±» å¹¶å¨ç±»ä¸å¼å¯Bindingç»å®ä¸ºéç½®æä»¶\n    \n    package com.itheima.stream.producer;\n    \n    \n    import org.springframework.beans.factory.annotation.Autowired;\n    import org.springframework.cloud.stream.annotation.EnableBinding;\n    import org.springframework.cloud.stream.messaging.Source;\n    import org.springframework.messaging.MessageChannel;\n    import org.springframework.messaging.support.MessageBuilder;\n    import org.springframework.stereotype.Component;\n    \n    @Component\n    @EnableBinding(Source.class)\n    public class MessageProducer {\n    \n        @Autowired\n        private MessageChannel output;\n    \n        public void send(){\n            String msessage = "hello stream~~~";\n    \n            //åéæ¶æ¯\n            output.send(MessageBuilder.withPayload(msessage).build());\n    \n            System.out.println("æ¶æ¯åéæå~~~");\n    \n        }\n    }\n    \n    \n    1\n    2\n    3\n    4\n    5\n    6\n    7\n    8\n    9\n    10\n    11\n    12\n    13\n    14\n    15\n    16\n    17\n    18\n    19\n    20\n    21\n    22\n    23\n    24\n    25\n    26\n    27\n    \n\n 4. åå»ºä¸ä¸ªæ¥å£ç¨äºæµè¯ æ¯å¦è½åéæ¶æ¯ç»mq\n    \n    package com.itheima.stream.producer;\n    \n    import org.springframework.beans.factory.annotation.Autowired;\n    import org.springframework.web.bind.annotation.RequestMapping;\n    import org.springframework.web.bind.annotation.RestController;\n    \n    @RestController\n    public class ProducerController {\n    \n        @Autowired\n        private MessageProducer producer;\n    \n    \n        @RequestMapping("/send")\n            public String sendMsg(){\n            producer.send();\n            return "success";\n        }\n    }\n    \n    \n    1\n    2\n    3\n    4\n    5\n    6\n    7\n    8\n    9\n    10\n    11\n    12\n    13\n    14\n    15\n    16\n    17\n    18\n    19\n    \n\n\n# æ¶æ¯æ¶è´¹è\n\n 1. åå»ºæ¶è´¹èæ¨¡å å¯¼å¥åæ \n    \n            \x3c!--spring boot web--\x3e\n            <dependency>\n                <groupId>org.springframework.boot</groupId>\n                <artifactId>spring-boot-starter-web</artifactId>\n            </dependency>\n    \n    \n            \x3c!-- stream --\x3e\n            <dependency>\n                <groupId>org.springframework.cloud</groupId>\n                <artifactId>spring-cloud-starter-stream-rabbit</artifactId>\n            </dependency>\n    \n    \n    \n    1\n    2\n    3\n    4\n    5\n    6\n    7\n    8\n    9\n    10\n    11\n    12\n    13\n    \n\n 2. ç¼åéç½®æä»¶ ä¸»è¦æç«¯å£å bindingsè®¾ç½®ä¸ºè¾åºè¿æ¯è¾å¥æ¨¡å¼\n    \n    server:\n      port: 9000\n    \n    \n    \n    spring:\n      cloud:\n        stream:\n          # å®ä¹ç»å®å¨ï¼ç»å®å°åªä¸ªæ¶æ¯ä¸­é´ä»¶ä¸\n          binders:\n            itheima_binder: # èªå®ä¹çç»å®å¨åç§°\n              type: rabbit # ç»å®å¨ç±»å\n              environment: # æå®mqçç¯å¢\n                spring:\n                  rabbitmq:\n                    host: localhost\n                    port: 5672\n                    username: guest\n                    password: guest\n                    virtual-host: /\n          bindings:\n            input: # channelåç§°\n              binder: itheima_binder #æå®ä½¿ç¨åªä¸ä¸ªbinder\n              destination: itheima_exchange # æ¶æ¯ç®çå°\n    \n    \n    1\n    2\n    3\n    4\n    5\n    6\n    7\n    8\n    9\n    10\n    11\n    12\n    13\n    14\n    15\n    16\n    17\n    18\n    19\n    20\n    21\n    22\n    23\n    24\n    \n\n 3. åå»ºæ¶æ¯æ¥æ¶ç±» å¨ç±»å¼å¯bindingæ³¨è§£ å¹¶å¨æ¥æ¶æ¹æ³ä¸­å®ä¹ @StreamListener(Sink.INPUT)\n    \n    package com.itheima.stream.consumer;\n    \n    import org.springframework.cloud.stream.annotation.EnableBinding;\n    import org.springframework.cloud.stream.annotation.StreamListener;\n    import org.springframework.cloud.stream.messaging.Sink;\n    import org.springframework.messaging.Message;\n    import org.springframework.stereotype.Component;\n    \n    /**\n     * æ¶æ¯æ¥æ¶ç±»\n     */\n    @EnableBinding({Sink.class})\n    @Component\n    public class MessageListener {\n    \n        @StreamListener(Sink.INPUT)\n        public void receive(Message message){\n    \n            System.out.println(message);\n            System.out.println(message.getPayload());\n        }\n    }\n    \n    \n    1\n    2\n    3\n    4\n    5\n    6\n    7\n    8\n    9\n    10\n    11\n    12\n    13\n    14\n    15\n    16\n    17\n    18\n    19\n    20\n    21\n    22\n    \n\n\n# Sleuth+Zipkin é¾è·¯è¿½è¸ª\n\nSpring Cloud Sleuth å®å¨åå¸å¼ä¸­è½è·è¸ªä¸ä¸ªç¨æ·è¯·æ±çè¿ç¨ æè·è¿äºè·è¸ªæ°æ® å°±è½æå»ºå¾®æå¡çæ´ä¸ªè°ç¨é¾çè§å¾ å®æ¯è°è¯åçæ§å¾®æå¡çå³é®å·¥å·\n\n 1. å®è£å¯å¨zipkin è®¿é®http://localhost:9411/\n    \n    java -jar zipkin.jar\n    \n    \n    1\n    \n\n 2. å¨æå¡æä¾æ¹åæ¶è´¹æ¹æ³ å¼å¥ zipkin åæ \n    \n    <dependency>\n        <groupId>org.springframework.cloud</groupId>\n        <artifactId>spring-cloud-starter-zipkin</artifactId>\n    </dependency>\n    \n    \n    1\n    2\n    3\n    4\n    \n\n 3. éç½®æä»¶\n    \n    server:\n      port: 8001\n    \n    eureka:\n      client:\n        service-url:\n          defaultZone: http://localhost:8761/eureka\n    spring:\n      application:\n        name: feign-provider\n      zipkin:\n        base-url: http://localhost:9411/  # è®¾ç½®zipkinçæå¡ç«¯è·¯å¾\n    \n      sleuth:\n        sampler:\n          probability: 1 # ééç é»è®¤ 0.1 ç¾åä¹åã\n    \n    \n    1\n    2\n    3\n    4\n    5\n    6\n    7\n    8\n    9\n    10\n    11\n    12\n    13\n    14\n    15\n    16\n    ',normalizedContent:'# spring cloud\n\nspring cloudæ¯ä¸ç³»åæ¡æ¶çæåºéå\n\néè¿ spring boot é£æ ¼è¿è¡åå°è£å±è½æäºå¤æçéç½®åå®ç°åç æç»ç»å¼åèçåºäºä¸å¥ç®åææ æé¨ç½² æç»´æ¤çåå¸å¼ç³»ç»å¼åå·¥å·å\n\n\n# å¾®æå¡\n\n\n\nå¾®æå¡å®å°ä¸ä¸ªåæ¬ç¬ç«çç³»ç» æåæä¸ºå¤ä¸ªå°åæå¡ å¹¶ä¸è¿äºå°åæå¡é½å¯ä»¥ç¬ç«è¿è¡ æå¡ä¹é´å¯ä»¥è¿è¡éä¿¡åä½\n\n\n# spring cloud ä¸ dubbo å¯¹æ¯\n\n\n\n * dubboåªæ¯å®ç°äºæå¡æ²»ç èspring cloudå­é¡¹ç®åå«è¦çäºå¾®æå¡æ¶æä¸çä¼å¤é¨ä»¶\n * dubboä½¿ç¨ rpc éä¿¡åè®® spring cloud ä½¿ç¨ restful å®æéä¿¡ dubbo æçç¥é«äº spring cloud\n\n\n# æå¡æ²»ç\n\n\n# eureka\n\neureka æ¯ netflix å¬å¸å¼æºçä¸ä¸ªæå¡æ³¨åä¸åç°çç»ä»¶\n\neureka å å¶ä»netflix å¬å¸çæå¡ç»ä»¶(å¦è´è½½åè¡¡ çæ­å¨ ç½å³ç­) ä¸èµ· è¢«spring cloud ç¤¾åºæ´åä¸º spring-cloud-netflix æ¨¡å\n\neureka åå« eueka server(æ³¨åä¸­å¿) å eureka client(æå¡æä¾è æå¡å¨æ¶è´¹è)\n\n# server\n\nå¼å¥eureka-server å spring web\n\n<dependencies>\n\n    <dependency>\n        <groupid>org.springframework.boot</groupid>\n        <artifactid>spring-boot-starter-web</artifactid>\n    </dependency>\n\n    \x3c!-- eureka-server --\x3e\n    <dependency>\n        <groupid>org.springframework.cloud</groupid>\n        <artifactid>spring-cloud-starter-netflix-eureka-server</artifactid>\n    </dependency>\n</dependencies>\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n\n\napplication\n\nserver:\n  port: 8761\n\n# eureka éç½®\n#1.dashboard  :eurekaçwebæ§å¶å°éç½®\n#2.server  :eurekaçæå¡ç«¯éç½®\n#3.client  :eurekaçå®¢æ·ç«¯éç½®\n#4.instance  :eurekaçå®ä¾éç½®\neureka:\n  instance:\n    hostname: localhost # ä¸»æºå\n\n  dashboard:\n    enabled: true  # æ¯å¦å¯ç¨webæ§å¶å°  é»è®¤ä¸ºå¼å¯\n    path: /  # é»è®¤è·¯å¾ä¸º/  è®¿é®http://localhost:8761/å³å¯\n\n  client:\n    service-url:\n      defaultzone: http://${eureka.instance.hostname}:${server.port}/eureka  # eurekaæå¡ç«¯å°å å®¢æ·ç«¯ç¨äºè®¿é®æå¡ç«¯çå°å\n\n    register-with-eureka: false # æ¯å¦å°èªå·±çè·¯å¾ æ³¨åå°eurekaä¸  é»è®¤ä¸ºtrue  ä¸è¬æåµä¸åªæprovider clientéè¦\n    fetch-registry: false  # æ¯å¦éè¦ä»eurekaä¸­æåè·¯å¾   é»è®¤ä¸ºtrue  ä¸è¬åªæconsumer clientéè¦\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n\n\nå¯å¨ç±»\n\npackage com.itheima.eureka;\n\nimport org.springframework.boot.springapplication;\nimport org.springframework.boot.autoconfigure.springbootapplication;\nimport org.springframework.cloud.netflix.eureka.server.enableeurekaserver;\n\n@springbootapplication\n//å¯ç¨eurekaserver\n@enableeurekaserver\npublic class eurekaapp {\n    public static void main(string[] args) {\n        springapplication.run(eurekaapp.class, args);\n    }\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n\n\n# provider\n\nå¼å¥ eureka-client å spring web\n\n<dependencies>\n\n    <dependency>\n        <groupid>org.springframework.boot</groupid>\n        <artifactid>spring-boot-starter-web</artifactid>\n    </dependency>\n\n\n    \x3c!-- eureka-client --\x3e\n    <dependency>\n        <groupid>org.springframework.cloud</groupid>\n        <artifactid>spring-cloud-starter-netflix-eureka-client</artifactid>\n    </dependency>\n\n</dependencies>\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n\n\napplication\n\nserver:\n  port: 8000\n\neureka:\n  instance:\n    hostname: localhost # ä¸»æºå\n  client:\n    service-url:\n      defaultzone: http://localhost:8761/eureka  # eurekaæå¡ç«¯å°å å®¢æ·ç«¯ç¨äºè®¿é®æå¡ç«¯çå°å\n\nspring:\n  application:\n    name: eureka-provider # è®¾ç½®å½ååºç¨çåç§° å°æ¥å¨eurekaçwebæ§å¶å°applicationæ¾ç¤ºä¸ºè¯¥åç§°  å°æ¥éè¦è¯¥åç§°æ¥è·åè·¯å¾\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n\n\nå¯å¨ç±»\n\npackage com.itheima.provider;\n\nimport org.springframework.boot.springapplication;\nimport org.springframework.boot.autoconfigure.springbootapplication;\nimport org.springframework.cloud.netflix.eureka.enableeurekaclient;\n\n@springbootapplication\n//æ è®°ä¸º eureka å®¢æ·ç«¯ å¨æ°çæ¬ä¸­èªå¨æ è®°\n@enableeurekaclient\npublic class providerapp {\n    public static void main(string[] args) {\n        springapplication.run(providerapp.class, args);\n    }\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n\n\nå¹¶ç¼åå¯¹åºçdaoå± domianå¯¹è±¡ serviceå± controllerå±\n\nå¹¶ä¸è½å¤è¿ç¨è°ç¨è·åæ°æ® æ­¤æ¶ä¸ºäºå¨eurekaä¸æ³¨åä¸ºåºç¨ä½¿å¶ä»åºç¨è½å¤è¿ç¨è°ç¨è¯¥æå¡\n\n# consumer\n\nå¼å¥ eureka-client å spring web\n\n<dependencies>\n\n    <dependency>\n        <groupid>org.springframework.boot</groupid>\n        <artifactid>spring-boot-starter-web</artifactid>\n    </dependency>\n\n\n    \x3c!-- eureka-client --\x3e\n    <dependency>\n        <groupid>org.springframework.cloud</groupid>\n        <artifactid>spring-cloud-starter-netflix-eureka-client</artifactid>\n    </dependency>\n\n</dependencies>\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n\n\napplication\n\nserver:\n  port: 9000\n\neureka:\n  instance:\n    hostname: localhost # ä¸»æºå\n  client:\n    service-url:\n      defaultzone: http://localhost:8761/eureka  # eurekaæå¡ç«¯å°å å®¢æ·ç«¯ç¨äºè®¿é®æå¡ç«¯çå°å\n\nspring:\n  application:\n    name: eureka-consumer # è®¾ç½®å½ååºç¨çåç§° å°æ¥å¨eurekaçwebæ§å¶å°applicationæ¾ç¤ºä¸ºè¯¥åç§°  å°æ¥éè¦è¯¥åç§°æ¥è·åè·¯å¾\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n\n\nå¯å¨ç±»\n\npackage com.itheima.consumer;\n\nimport org.springframework.boot.springapplication;\nimport org.springframework.boot.autoconfigure.springbootapplication;\nimport org.springframework.cloud.client.discovery.enablediscoveryclient;\nimport org.springframework.cloud.netflix.eureka.enableeurekaclient;\n\n@springbootapplication\n@enableeurekaclient\n@enablediscoveryclient //æ¿æ´»discoveryclient æ°çæ¬å¯ä»¥å¿½ç¥ èªå¨æ¿æ´»\npublic class consumerapp {\n    public static void main(string[] args) {\n        springapplication.run(consumerapp.class, args);\n    }\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n\n\nresttemplateconfigç±»\n\npackage com.itheima.consumer.cnfig;\n\nimport org.springframework.context.annotation.bean;\nimport org.springframework.context.annotation.configuration;\nimport org.springframework.web.client.resttemplate;\n\n@configuration\npublic class resttemplateconfig {\n\n    @bean\n    public resttemplate resttemplate(){\n        return new resttemplate();\n    }\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n\n\ncontrollerå±\n\npackage com.itheima.consumer.controller;\n\n\nimport com.itheima.consumer.domain.goods;\nimport org.springframework.beans.factory.annotation.autowired;\nimport org.springframework.cloud.client.serviceinstance;\nimport org.springframework.cloud.client.discovery.discoveryclient;\nimport org.springframework.web.bind.annotation.getmapping;\nimport org.springframework.web.bind.annotation.pathvariable;\nimport org.springframework.web.bind.annotation.requestmapping;\nimport org.springframework.web.bind.annotation.restcontroller;\nimport org.springframework.web.client.resttemplate;\n\nimport java.util.list;\n\n@restcontroller\n@requestmapping("/order")\npublic class ordercontroller {\n\n    @autowired\n    private resttemplate resttemplate;\n\n    @autowired\n    private discoveryclient discoveryclient;\n\n    @getmapping("/goods/{id}")\n    public goods findgoodsbyid(@pathvariable("id") int id) {\n\n /*\n        è¿ç¨è°ç¨goodsæå¡ä¸­çfindoneæ¥å£\n        ä½¿ç¨resttemplate\n        1.å®ä¹bean\n        2.æ³¨å¥bean\n        3.è°ç¨æ¹æ³\n         */\n        /*\n        å¨æä» eureka server ä¸­è·åprovide ç ip åç«¯å£\n        1. æ³¨å¥ discoveryclient å¹¶å¨å¯å¨ç±»æ³¨è§£æ¿æ´»\n        2. è°ç¨æ¹æ³\n         */\n        list<serviceinstance> instances = discoveryclient.getinstances("eureka-provider");  //æ ¹æ®åºç¨åå¨eurekaæå¡ç«¯ä¸­è·ååºç¨éå\n        if (instances == null || instances.size() == 0) { //å¤æ­æ¯å¦ä¸ºç©º\n            return null;\n        }\n        serviceinstance instance = instances.get(0);  //æ­¤å¤åªæä¸ä¸ªæä»¥ä½¿ç¨ç¬¬ä¸ä¸ª\n        string host = instance.gethost();  //è·åip\n        int port = instance.getport(); //è·åç«¯å£\n        system.out.println(host);\n        system.out.println(port);\n\n        string url = "http://" + host + ":" + port + "goods/findone/" + id;\n        goods goods = resttemplate.getforobject(url, goods.class);\n        return goods;\n    }\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n26\n27\n28\n29\n30\n31\n32\n33\n34\n35\n36\n37\n38\n39\n40\n41\n42\n43\n44\n45\n46\n47\n48\n49\n50\n51\n52\n53\n54\n55\n\n\n# éç½®å±æ§\n\n# instance\n\n\n\neureka:\n  instance:\n    hostname: localhost # ä¸»æºå\n    prefer-ip-address: true  # ä»¥ipå°åå½¢å¼æ³¨åå°eureka serverä¸­ é»è®¤ä¸ºfalse æ³¨åä¸ºä¸»æºå\n    instance-id: ${eureka.instance.prefer-ip-address}:${spring.application.name}:${server.port}  #è®¾ç½®å¨webæ§å¶å°ä¸­åºç¨idçåç§°\n\n\n1\n2\n3\n4\n5\n\n\n# server\n\n\n\n# é«å¯ç¨\n\næ¯ä¸ªserveré½æ¯éåç¸åçæ³¨ååºç¨ å¦æå¶ä¸­ä¸ä¸ªå®æºäº å¦å¤ä¸ä¸ªserverä»ç¶å­æ´»\n\nè®¾ç½®å¤ä¸ªeureka server ç¸äºæ³¨å\n\nserver:\n  port: 8762\n\neureka:\n  instance:\n    hostname: eureka-server2 # ä¸»æºå\n\n  dashboard:\n    enabled: true  # æ¯å¦å¯ç¨webæ§å¶å°  é»è®¤ä¸ºå¼å¯\n    path: /  # é»è®¤è·¯å¾ä¸º/  è®¿é®http://localhost:8761/å³å¯\n\n  client:\n    service-url:\n      defaultzone: http://127.0.0.1:8761/eureka  # ä¸¤ä¸ªeurekaç¸äºæ³¨å\n\n    register-with-eureka: true # æ¯å¦å°èªå·±çè·¯å¾ æ³¨åå°eurekaä¸  é»è®¤ä¸ºtrue  ä¸è¬æåµä¸åªæprovider clientéè¦\n    fetch-registry: true  # æ¯å¦éè¦ä»eurekaä¸­æåè·¯å¾   é»è®¤ä¸ºtrue  ä¸è¬åªæconsumer clientéè¦\nspring:\n  application:\n    name: eureka-server-ha\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n\n\nå¨clientä¸­å¨å¤ä¸ªserveræ³¨ååºç¨\n\nserver:\n  port: 8000\n\neureka:\n  instance:\n    hostname: localhost # ä¸»æºå\n  client:\n    service-url:\n      defaultzone: http://localhost:8761/eureka,http://localhost:8762/eureka  # eurekaæå¡ç«¯å°å å®¢æ·ç«¯ç¨äºè®¿é®æå¡ç«¯çå°å\n\nspring:\n  application:\n    name: eureka-provider # è®¾ç½®å½ååºç¨çåç§° å°æ¥å¨eurekaçwebæ§å¶å°applicationæ¾ç¤ºä¸ºè¯¥åç§°  å°æ¥éè¦è¯¥åç§°æ¥è·åè·¯å¾\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n\n\n\n# consul\n\nconsul æ¯ ç± hashicorp åºäº go è¯­è¨å¼å æ¯æå¤æ°æ®ä¸­å¿ åå¸å¼é«å¯ç¨çæå¡åå¸åæ³¨åæå¡è½¯ä»¶\n\nè¿éæä»¬ä½¿ç¨windowsä¸­çexeæ§è¡ç¨åº\n\nå¯å¨\n\n.\\consul agent -dev\n\n\n1\n\n\næå¼webç®¡ççé¢\n\nhttp://localhost:8500/\n\n 1. æ­å»ºprovider å consumer æå¡\n 2. å¹¶éç½®å¥½ resttemplate å®æè¿ç¨è°ç¨\n\nconsulå®¢æ·ç«¯åæ  å¿é¡»å¯¼å¥actuatorç»ä»¶\n\n        \x3c!-- consul-client --\x3e\n        <dependency>\n            <groupid>org.springframework.cloud</groupid>\n            <artifactid>spring-cloud-starter-consul-discovery</artifactid>\n        </dependency>\n        <dependency>\n            <groupid>org.springframework.boot</groupid>\n            <artifactid>spring-boot-starter-actuator</artifactid>\n        </dependency>\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n\n\nä¸éè¦å¨å¯å¨ç±»ä¸­æ ä»·\n\nåªéè¦å¨applicationéç½®å¥½consulå±æ§\n\nprovideréç½®\n\nserver:\n  port: 8000\nspring:\n  cloud:\n    consul:\n      host: localhost  # consulæå¡ç«¯ ip\n      port: 8500  # ç«¯å£\n      discovery:\n        service-name: ${spring.application.name}  # åºç¨åç§°\n        prefer-ip-address: true # ä»¥ipæ³¨å\n  application:\n    name: consul-provider  # åºç¨åç§°\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n\n\nconsumeréç½®\n\nserver:\n  port: 9000\nspring:\n  cloud:\n    consul:\n      host: localhost  # consulæå¡ç«¯ ip\n      port: 8500  # ç«¯å£\n      discovery:\n        service-name: ${spring.application.name}  # åºç¨åç§°\n        prefer-ip-address: true # ä»¥ipæ³¨å\n  application:\n    name: consul-consumer  # åºç¨åç§°\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n\n\nconsumerçcontrollerå±è¿æ¯ä¸è´\n\npackage com.itheima.consumer.controller;\n\n\nimport com.itheima.consumer.domain.goods;\nimport org.springframework.beans.factory.annotation.autowired;\nimport org.springframework.cloud.client.serviceinstance;\nimport org.springframework.cloud.client.discovery.discoveryclient;\nimport org.springframework.web.bind.annotation.getmapping;\nimport org.springframework.web.bind.annotation.pathvariable;\nimport org.springframework.web.bind.annotation.requestmapping;\nimport org.springframework.web.bind.annotation.restcontroller;\nimport org.springframework.web.client.resttemplate;\n\nimport java.util.list;\n\n@restcontroller\n@requestmapping("/order")\npublic class ordercontroller {\n\n    @autowired\n    private resttemplate resttemplate;\n\n    @autowired\n    private discoveryclient discoveryclient;\n\n    @getmapping("/goods/{id}")\n    public goods findgoodsbyid(@pathvariable("id") int id) {\n\n /*\n        è¿ç¨è°ç¨goodsæå¡ä¸­çfindoneæ¥å£\n        ä½¿ç¨resttemplate\n        1.å®ä¹bean\n        2.æ³¨å¥bean\n        3.è°ç¨æ¹æ³\n         */\n        /*\n        å¨æä» eureka server ä¸­è·åprovide ç ip åç«¯å£\n        1. æ³¨å¥ discoveryclient å¹¶å¨å¯å¨ç±»æ³¨è§£æ¿æ´»\n        2. è°ç¨æ¹æ³\n         */\n        list<serviceinstance> instances = discoveryclient.getinstances("consul-provider");  //æ ¹æ®åºç¨åå¨eurekaæå¡ç«¯ä¸­è·ååºç¨éå\n        if (instances == null || instances.size() == 0) { //å¤æ­æ¯å¦ä¸ºç©º\n            return null;\n        }\n        serviceinstance instance = instances.get(0);  //æ­¤å¤åªæä¸ä¸ªæä»¥ä½¿ç¨ç¬¬ä¸ä¸ª\n        string host = instance.gethost();  //è·åip\n        int port = instance.getport(); //è·åç«¯å£\n        system.out.println(host);\n        system.out.println(port);\n\n        string url = "http://" + host + ":" + port + "goods/findone/" + id;\n        goods goods = resttemplate.getforobject(url, goods.class);\n        return goods;\n    }\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n26\n27\n28\n29\n30\n31\n32\n33\n34\n35\n36\n37\n38\n39\n40\n41\n42\n43\n44\n45\n46\n47\n48\n49\n50\n51\n52\n53\n54\n55\n\n\nconsumerçcontrollerå±è¿æ¯ä¸è´\n\n\n# nacos\n\nnacos æ¯é¿éå·´å·´çå¼æºé¡¹ç® ä¸æ³¨äºæå¡åç°åéç½®ç®¡çå¾®æå¡\n\nnacos = spring cloud æ³¨åä¸­å¿ + spring cloudéç½®ä¸­å¿\n\nhttps://nacos.io/zh-cn/\n\n# å¯å¨\n\nå¨binç®å½ä¸ ä»¥åæºå½¢å¼è¿è¡\n\nå¯å¨å½ä»¤(standaloneä»£è¡¨çåæºæ¨¡å¼è¿è¡ï¼ééç¾¤æ¨¡å¼):\n\nstartup.cmd -m standalone\n\n\n1\n\n\nwebç®¡çé¡µé¢\n\nhttp://localhost:8848/nacos/\n\né»è®¤ç¨æ·å¯ç  ä¸ºnacos\n\n# å¥é¨æ¡ä¾\n\nnacosåæ \n\n        <dependency>\n            <groupid>org.springframework.cloud</groupid>\n            <artifactid>spring-cloud-starter-alibaba-nacos-discovery</artifactid>\n            <version>0.2.2.release</version>\n        </dependency>\n        <dependency>\n            <groupid>com.alibaba.nacos</groupid>\n            <artifactid>nacos-client</artifactid>\n            <version>2.0.3</version>\n        </dependency>\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n\n\nprovideréç½®\n\nserver:\n  port: 8000\nspring:\n  cloud:\n    nacos:\n      discovery:\n        server-addr: 127.0.0.1:8848  # éç½®nacosæå¡ç«¯å°ååç«¯å£\n\n  application:\n    name: nacos-provider # æå¡åç§°\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n\n\nconsumeréç½®\n\nserver:\n  port: 9000\nspring:\n  cloud:\n    nacos:\n      discovery:\n        server-addr: 127.0.0.1:8848  # éç½®nacosæå¡ç«¯å°ååç«¯å£\n\n  application:\n    name: nacos-consumer # æå¡åç§°\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n\n\nconsumerå¯å¨ç±»\n\npackage com.itheima.consumer;\n\nimport org.springframework.boot.springapplication;\nimport org.springframework.boot.autoconfigure.springbootapplication;\nimport org.springframework.cloud.client.discovery.enablediscoveryclient;\n\n\n@springbootapplication\n@enablediscoveryclient\npublic class consumerapp {\n    public static void main(string[] args) {\n        springapplication.run(consumerapp.class, args);\n    }\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n\n\n\n# ribbon è´è½½åè¡¡\n\n\n\n\n# ç®årestemplateè°ç¨\n\nä¹åæä»¬eurekaéè¿restemplateè·åä¸ä¸ªåºç¨éå, è·åä¸ä¸ªåºç¨å¯¹è±¡ ç å°å åç«¯å£,å¹¶æ¼æ¥æä¸ä¸ªurlè°ç¨æå¡æ¹çåºç¨ ä½¿ç¨ribbonåªéè¦å°ip:ç«¯å£æ¢æåºç¨åç§°å³å¯ä»¥è¿ç¨è°ç¨ åºç¨\n\n 1. å¨restemplateçbeanç»å®ä¸­å ä¸ @loadbalanced æ³¨è§£\n    \n    package com.itheima.consumer.cnfig;\n    \n    import org.springframework.cloud.client.loadbalancer.loadbalanced;\n    import org.springframework.context.annotation.bean;\n    import org.springframework.context.annotation.configuration;\n    import org.springframework.web.client.resttemplate;\n    \n    @configuration\n    public class resttemplateconfig {\n    \n        @loadbalanced\n        @bean\n        public resttemplate resttemplate(){\n            return new resttemplate();\n        }\n    }\n    \n    \n    1\n    2\n    3\n    4\n    5\n    6\n    7\n    8\n    9\n    10\n    11\n    12\n    13\n    14\n    15\n    16\n    \n\n 2. å°urlä¸­çip:ç«¯å£ æ¢æåºç¨åç§°\n    \n    /*\n    ä½¿ç¨ ribbon ç®åè°ç¨\n    1.å¨å£°æresttemplateçbeanæ¶ æ·»å ä¸ä¸ª@loadbalanced æ³¨è§£\n    2.å¨ä½¿ç¨å¨å£°æresttemplate åè¯·æ±æ¶ éè¦å®ä¹urlæ¶ host:portå¯ä»¥æ¢æ æå¡ç«¯æä¾çåºç¨åç§°\n     */\n    @getmapping("/goods2/{id}")\n    public goods findgoodsbyid2(@pathvariable("id") int id) {\n    \n        string url = "http://eureka-provider/goods/findone/" + id;\n        goods goods = resttemplate.getforobject(url, goods.class);\n        return goods;\n    }\n    \n    \n    1\n    2\n    3\n    4\n    5\n    6\n    7\n    8\n    9\n    10\n    11\n    12\n    \n\n\n# è´è½½åè¡¡\n\néè¿å¨restemplateçbeanç»å®ä¸­å ä¸ @loadbalanced æ³¨è§£å,å¦æå½åç¨äºæä¸ªå¤ä¸ªæå¡æä¾æ¹,åribbonä¼èªå¨å¸®æä»¬è´è½½åè¡¡,é»è®¤ä¸ºè½®è¯¢ç­ç¥,ç­ç¥éç½®å¨æ¶è´¹èä¸ç«¯ å³å®¢æ·ç«¯è´è½½åè¡¡\n\n\n\n# éç½®ç±»å½¢å¼éç½®è´è½½ç­ç¥\n\n 1. å®ä¹éç½®ç±» ä½¿ç¨beanç»å®å¹¶è¿åä¸ä¸ªiruleæ¥å£çå®ç°ç±»\n    \n    package com.itheima.consumer.cnfig;\n    \n    import com.netflix.loadbalancer.irule;\n    import com.netflix.loadbalancer.randomrule;\n    import org.springframework.context.annotation.bean;\n    import org.springframework.context.annotation.configuration;\n    \n    @configuration\n    public class myrule {\n    \n        @bean\n        public irule rule(){\n            return new randomrule();\n        }\n    }\n    \n    \n    1\n    2\n    3\n    4\n    5\n    6\n    7\n    8\n    9\n    10\n    11\n    12\n    13\n    14\n    15\n    \n\n 2. å¨å¯å¨ç±»ä¸­ ä½¿ç¨@ribbonclient å®ä¹åºç¨åç§°åéç½®ç±»\n    \n    package com.itheima.consumer;\n    \n    import com.itheima.consumer.cnfig.myrule;\n    import org.springframework.boot.springapplication;\n    import org.springframework.boot.autoconfigure.springbootapplication;\n    import org.springframework.cloud.client.discovery.enablediscoveryclient;\n    import org.springframework.cloud.netflix.eureka.enableeurekaclient;\n    import org.springframework.cloud.netflix.ribbon.ribbonclient;\n    \n    @springbootapplication\n    @enableeurekaclient\n    @enablediscoveryclient //æ¿æ´»discoveryclient æ°çæ¬å¯ä»¥å¿½ç¥ èªå¨æ¿æ´»\n    /*\n        éç½®ribbon è´è½½åè¡¡ç­ç¥\n        name :è®¾ç½®æå¡æä¾æ¹ç åºç¨åç§°\n        configuration : è®¾ç½®è´è½½åè¡¡çbean\n    \n     */\n    @ribbonclient(name ="eureka-provider",configuration = myrule.class)\n    public class consumerapp {\n        public static void main(string[] args) {\n            springapplication.run(consumerapp.class, args);\n        }\n    }\n    \n    \n    1\n    2\n    3\n    4\n    5\n    6\n    7\n    8\n    9\n    10\n    11\n    12\n    13\n    14\n    15\n    16\n    17\n    18\n    19\n    20\n    21\n    22\n    23\n    24\n    \n\n# éç½®æ¹å¼è®¾ç½®\n\nå¨applicationä¸­è®¾ç½®è¯¥å±æ§\n\neureka-provider:  # åºç¨åç§°\n  ribbon:\n    nfloadbalancerruleclassname: com.netflix.loadbalancer.randomrule  # è´è½½åè¡¡ç­ç¥å®ç°ç±»çå¼ç¨è·¯å¾\n\n\n1\n2\n3\n\n\n\n# feign å£°æå¼æå¡è°ç¨\n\nfeign æ¯ä¸ä¸ªå£°æå¼çrestå®¢æ·ç«¯ å®åºäºæ¥å£çæ³¨è§£æ¹å¼ å¾æ¹ä¾¿å®ç°å®¢æ·ç«¯éç½®\n\n 1. å¨æ¶è´¹èç«¯å¯¼å¥åæ \n    \n    <dependency>\n         <groupid>org.springframework.cloud</groupid>\n         <artifactid>spring-cloud-starter-openfeign</artifactid>\n     </dependency>\n    \n    \n    1\n    2\n    3\n    4\n    \n\n 2. æ¶è´¹èå¯å¨ç±»ä¸­å ä¸ @enablefeignclients å¯ç¨feign\n    \n    package com.itheima.consumer;\n    \n    import org.springframework.boot.springapplication;\n    import org.springframework.boot.autoconfigure.springbootapplication;\n    import org.springframework.cloud.client.discovery.enablediscoveryclient;\n    import org.springframework.cloud.netflix.eureka.enableeurekaclient;\n    import org.springframework.cloud.openfeign.enablefeignclients;\n    \n    @enablediscoveryclient // æ¿æ´»discoveryclient\n    @enableeurekaclient\n    @springbootapplication\n    \n    @enablefeignclients //å¼å¯feignçåè½\n    public class consumerapp {\n    \n    \n        public static void main(string[] args) {\n            springapplication.run(consumerapp.class,args);\n        }\n    }\n    \n    \n    1\n    2\n    3\n    4\n    5\n    6\n    7\n    8\n    9\n    10\n    11\n    12\n    13\n    14\n    15\n    16\n    17\n    18\n    19\n    20\n    \n\n 3. å¨æ¶è´¹èä¸­å®ä¹ä¸ä¸ªfeignå£°ææ¥å£\n    \n    package com.itheima.consumer.feign;\n    \n    import com.itheima.consumer.domain.goods;\n    import org.springframework.cloud.openfeign.feignclient;\n    import org.springframework.web.bind.annotation.getmapping;\n    import org.springframework.web.bind.annotation.pathvariable;\n    \n    /**\n     * feignå£°æå¼æ¥å£  åèµ·è¿ç¨è°ç¨ç\n     * 1.å®ä¹æ¥å£\n     * 2.æ¥å£ä¸æ·»å  @feignclient valueå±æ§ä¸º åºç¨åç§°\n     * 3.ç¼åè°ç¨æ¥å£ æ¥å£çå£°æè§å å æä¾æ¹æ¥å£ä¿æä¸è´\n     * 4.æ³¨å¥è¯¥æ¥å£å¯¹è±¡ è°ç¨æ¥å£æ¹æ³å®æè¿ç¨è°ç¨\n     */\n    \n    @feignclient(value = "feign-provider")\n    public interface goodsfeignclient {\n        @getmapping("/goods/findone/{id}")\n        goods findgoodsbyid(@pathvariable("id") int id);\n    }\n    \n    \n    1\n    2\n    3\n    4\n    5\n    6\n    7\n    8\n    9\n    10\n    11\n    12\n    13\n    14\n    15\n    16\n    17\n    18\n    19\n    20\n    \n\n 4. æ³¨å¥ å£°ææ¥å£å¯¹è±¡ è°ç¨æ¥å£æ¹æ³\n    \n    package com.itheima.consumer.controller;\n    \n    \n    import com.itheima.consumer.domain.goods;\n    import com.itheima.consumer.feign.goodsfeignclient;\n    import org.springframework.beans.factory.annotation.autowired;\n    import org.springframework.web.bind.annotation.getmapping;\n    import org.springframework.web.bind.annotation.pathvariable;\n    import org.springframework.web.bind.annotation.requestmapping;\n    import org.springframework.web.bind.annotation.restcontroller;\n    import org.springframework.web.client.resttemplate;\n    \n    @restcontroller\n    @requestmapping("/order")\n    public class ordercontroller {\n    \n        @autowired\n        private resttemplate resttemplate;\n    \n    \n        @autowired\n        private goodsfeignclient goodsfeignclient;\n    \n    \n        @getmapping("/goods/{id}")\n        public goods findgoodsbyid(@pathvariable("id") int id){\n    \n            /*string url = "http://feign-provider/goods/findone/"+id;\n            // 3. è°ç¨æ¹æ³\n            goods goods = resttemplate.getforobject(url, goods.class);*/\n    \n            goods goods = goodsfeignclient.findgoodsbyid(id);\n    \n    \n            return goods;\n        }\n    \n    \n    }\n    \n    \n    1\n    2\n    3\n    4\n    5\n    6\n    7\n    8\n    9\n    10\n    11\n    12\n    13\n    14\n    15\n    16\n    17\n    18\n    19\n    20\n    21\n    22\n    23\n    24\n    25\n    26\n    27\n    28\n    29\n    30\n    31\n    32\n    33\n    34\n    35\n    36\n    37\n    38\n    39\n    \n\n\n# è¶æ¶è®¾ç½®\n\nfeign åºå±ä¾èµäº ribbon å®ç°è´è½½åè¡¡åè¿ç¨è°ç¨\n\nribboné»è®¤1ç§è¶æ¶\n\nå¨consumerçéç½®æä»¶ä¸­éç½®\n\nribbon:\n  connecttimeout: 1000 # è®¾ç½®è¿æ¥è¶æ¶æ¶é´ é»è®¤ä¸º1000æ¯«ç§\n  readtimeout: 3000 # é»è¾å¤ççè¶æ¶æ¶é´ é»è®¤ä¸º1000æ¯«ç§\n\n\n1\n2\n3\n\n\n\n# æ¥å¿è®°å½\n\nfeign åªè½è®°å½ debug çº§å«çæ¥å¿ä¿¡æ¯\n\n 1. è®¾ç½®consumerçæ¥å¿çº§å« ä¸ºè¯¥è·¯å¾ä¸ææçç±»ä¸ºdebugçº§å«\n    \n    logging:\n      level:\n        com.itheima: debug # é®ä½ç±»è·¯å¾\n    \n    \n    1\n    2\n    3\n    \n\n 2. å¨consumerä¸­å®ä¹éç½®ç±»\n    \n    package com.itheima.consumer.config;\n    \n    import feign.logger;\n    import org.springframework.context.annotation.bean;\n    import org.springframework.context.annotation.configuration;\n    \n    @configuration\n    public class feignlogconfig {\n    \n        @bean\n        public logger.level level(){\n            /**\n             * none ä¸è®°å½\n             * basic è®°å½åºæ¬çè¯·æ±è¡ ååºç¶æç æ°æ®\n             * headers è®°å½åºæ¬çè¯·æ±è¡ ååºç¶æç æ°æ®  ååºå¤´ä¿¡æ¯\n             * full è®°å½å®æ´çä¿¡æ¯\n             */\n            return logger.level.full;\n        }\n    }\n    \n    \n    1\n    2\n    3\n    4\n    5\n    6\n    7\n    8\n    9\n    10\n    11\n    12\n    13\n    14\n    15\n    16\n    17\n    18\n    19\n    20\n    \n\n 3. å¨å£°æå¼æ¥å£ä¸­ç@feignclientæ³¨è§£ å¼å¥éç½®ç±»\n    \n    package com.itheima.consumer.feign;\n    \n    import com.itheima.consumer.config.feignlogconfig;\n    import com.itheima.consumer.domain.goods;\n    import org.springframework.cloud.openfeign.feignclient;\n    import org.springframework.web.bind.annotation.getmapping;\n    import org.springframework.web.bind.annotation.pathvariable;\n    \n    /**\n     * feignå£°æå¼æ¥å£  åèµ·è¿ç¨è°ç¨ç\n     * 1.å®ä¹æ¥å£\n     * 2.æ¥å£ä¸æ·»å  @feignclient valueå±æ§ä¸º åºç¨åç§°   configuration ä¸ºæ¥å¿éç½®ç±»\n     * 3.ç¼åè°ç¨æ¥å£ æ¥å£çå£°æè§å å æä¾æ¹æ¥å£ä¿æä¸è´\n     * 4.æ³¨å¥è¯¥æ¥å£å¯¹è±¡ è°ç¨æ¥å£æ¹æ³å®æè¿ç¨è°ç¨\n     */\n    \n    @feignclient(value = "feign-provider",configuration = feignlogconfig.class)\n    public interface goodsfeignclient {\n        @getmapping("/goods/findone/{id}")\n        goods findgoodsbyid(@pathvariable("id") int id);\n    }\n    \n    \n    1\n    2\n    3\n    4\n    5\n    6\n    7\n    8\n    9\n    10\n    11\n    12\n    13\n    14\n    15\n    16\n    17\n    18\n    19\n    20\n    21\n    \n\n\n# hystrix çæ­å¨\n\nhystrix æ¯netflix å¼æºçä¸ä¸ªå»¶è¿åå®¹éåº ç¨äºéç¦»è®¿é®è¿ç¨æå¡ ç¬¬ä¸æ¹åº é²æ­¢åºç°çº§èå¤±è´¥(éªå´©)\n\néªå´©: ä¸ä¸ªæå¡å¤±è´¥ å¯¼è´æ´æ¡é¾è·¯çæå¡é½å¤±è´¥çæåµ\n\n * éç¦»\n   * çº¿ç¨æ± éç¦» é»è®¤å¼\n   * ä¿¡å·ééç¦»\n * éçº§\n * çæ­\n * éæµ\n\n\n# æå¡æ¹éçº§\n\nå½æå¡åçå¼å¸¸æè°ç¨è¶æ¶,è¿åé»è®¤æ°æ®\n\n 1. å¨æå¡æ¹å¯¼å¥åæ \n    \n    <dependency>\n        <groupid>org.springframework.cloud</groupid>\n        <artifactid>spring-cloud-starter-netflix-hystrix</artifactid>\n    </dependency>\n    \n    \n    1\n    2\n    3\n    4\n    \n\n 2. å¨æå¡æ¹å¯å¨ç±»ä¸­å ä¸@enablecircuitbreakeræ³¨è§£\n    \n    package com.itheima.provider;\n    \n    import org.springframework.boot.springapplication;\n    import org.springframework.boot.autoconfigure.springbootapplication;\n    import org.springframework.cloud.client.circuitbreaker.enablecircuitbreaker;\n    import org.springframework.cloud.netflix.eureka.enableeurekaclient;\n    \n    /**\n     * å¯å¨ç±»\n     */\n    \n    @enableeurekaclient //è¯¥æ³¨è§£ å¨æ°çæ¬ä¸­å¯ä»¥çç¥\n    @springbootapplication\n    \n    @enablecircuitbreaker //å¼å¯hystrixåè½\n    public class providerapp {\n    \n    \n        public static void main(string[] args) {\n            springapplication.run(providerapp.class,args);\n        }\n    }\n    \n    \n    1\n    2\n    3\n    4\n    5\n    6\n    7\n    8\n    9\n    10\n    11\n    12\n    13\n    14\n    15\n    16\n    17\n    18\n    19\n    20\n    21\n    22\n    \n\n 3. å¨æå¡æ¹controllerå± ä¸­å®éçº§æ¹æ³(éçº§æ¹æ³éè¦ä¸åæ¹æ³åæ°è¿åå¼ä¸è´),å¹¶ä¸å¨åæ¹æ³ä¸­å ä¸æ³¨è§£@hystrixcommand(fallbackmethod = "éçº§æ¹æ³å")\n    \n    /**\n         *éçº§\n         *1.åºç°å¼å¸¸\n         * 2.æå¡è°ç¨è¶æ¶\n         */\n    \n    @getmapping("/findone/{id}")\n    @hystrixcommand(fallbackmethod = "findone_fallback",commandproperties = {\n        //è®¾ç½®hystrixçè¶æ¶æ¶é´é»è®¤ä¸º1000æ¯«ç§\n        @hystrixproperty(name = "execution.isolation.thread.interruptontimeout",value = "3000")\n    })  //æå®éçº§åè°ç¨çæ¹æ³   commandpropertiesä¸ºè®¾ç½®æå®è§å\n    public goods findone(@pathvariable("id") int id){\n    \n        goods goods = goodsservice.findone(id);\n    \n        goods.settitle(goods.gettitle() + ":" + port);//å°ç«¯å£å·ï¼è®¾ç½®å°äº ååæ é¢ä¸\n        return goods;\n    }\n    \n    /**\n         * å®ä¹éçº§æ¹æ³\n         * 1. æ¹æ³çè¿åå¼ååæ°è¦ä¸åæ¹æ³ä¸è´\n         */\n    public goods findone_fallback(@pathvariable("id") int id){\n        goods goods = new goods();\n        goods.settitle("éçº§äº");\n        return goods;\n    }\n    \n    \n    1\n    2\n    3\n    4\n    5\n    6\n    7\n    8\n    9\n    10\n    11\n    12\n    13\n    14\n    15\n    16\n    17\n    18\n    19\n    20\n    21\n    22\n    23\n    24\n    25\n    26\n    27\n    28\n    \n\n\n# æ¶è´¹æ¹éçº§\n\nfeignå·²ç»æä¾äºhystrix æ éå¯¼å¥ hystrix åæ \n\n 1. å¨æ¶è´¹æ¹éç½®æä»¶ä¸­å¼å¯hystrix\n    \n    feign:\n      hystrix:\n        enabled: true\n    # å¼å¯ feignå¯¹hystrixçæ¯æ  é»è®¤ä¸ºfalse\n    \n    \n    1\n    2\n    3\n    4\n    \n\n 2. å®ä¹å£°æå¼æ¥å£çå®ç°ç±»\n    \n    package com.itheima.consumer.feign;\n    \n    import com.itheima.consumer.domain.goods;\n    import org.springframework.stereotype.component;\n    /*\n    éçº§å¤çç±»\n    1.å®ä¹ç±»å®ç°feignå®¢æ·ç«¯æ¥å£\n    2.ä½¿ç¨@componentæ³¨è§£ å å¥iocå®¹å¨ä¸­\n    \n     */\n    @component\n    public class goodsfeignclientfallback implements goodsfeignclient{\n        @override\n        public goods findgoodsbyid(int id) {\n            goods goods = new goods();\n            goods.settitle("éçº§äº");\n            return goods;\n        }\n    }\n    \n    \n    1\n    2\n    3\n    4\n    5\n    6\n    7\n    8\n    9\n    10\n    11\n    12\n    13\n    14\n    15\n    16\n    17\n    18\n    19\n    \n\n 3. å¨å£°æå¼æ¥å£@feignclientæ³¨è§£ è®¾ç½®fallbackå±æ§ä¸ºéçº§ç±»çå­èç \n    \n    package com.itheima.consumer.feign;\n    \n    \n    import com.itheima.consumer.domain.goods;\n    import org.springframework.cloud.openfeign.feignclient;\n    import org.springframework.web.bind.annotation.getmapping;\n    import org.springframework.web.bind.annotation.pathvariable;\n    \n    \n    \n    @feignclient(value = "hystrix-provider",fallback = goodsfeignclientfallback.class)\n    public interface goodsfeignclient {\n    \n    \n        @getmapping("/goods/findone/{id}")\n        public goods findgoodsbyid(@pathvariable("id") int id);\n    \n    }\n    \n    \n    1\n    2\n    3\n    4\n    5\n    6\n    7\n    8\n    9\n    10\n    11\n    12\n    13\n    14\n    15\n    16\n    17\n    18\n    \n\n\n# çæ­æºå¶\n\nå½éçº§çæåµæåµè¾¾å°é¢å®çéå¼(é»è®¤ä¸º5ç§20æ¬¡),åä¼æå¼æ­è·¯å¨,æç»ææè¯·æ±,ç´å°æå¡æ¢å¤æ­£å¸¸ä¸ºæ­¢\n\n\n\n\n\n@hystrixcommand(fallbackmethod = "findone_fallback",commandproperties = {\n        //è®¾ç½®hystrixçè¶æ¶æ¶é´é»è®¤ä¸º1000æ¯«ç§\n        @hystrixproperty(name = "execution.isolation.thread.interruptontimeout",value = "3000"),\n        @hystrixproperty(name = "circuitbreaker.sleepwindowinmilliseconds",value = "5000"), //çæ§æ¶é´ é»è®¤ä¸º5000æ¯«ç§\n        @hystrixproperty(name = "circuitbreaker.requestvolumethreshold",value = "20"),  //å¤±è´¥æ¬¡æ° é»è®¤20æ¬¡\n        @hystrixproperty(name = "circuitbreaker.errorthresholdpercentage",value = "50"),  //å¤±è´¥ç  é»è®¤ä¸ºç¾åä¹50\n})  //æå®éçº§åè°ç¨çæ¹æ³   commandpropertiesä¸ºè®¾ç½®æå®è§å\n\n\n1\n2\n3\n4\n5\n6\n7\n\n\n\n# turbine çæ­çæ§\n\nhystrix æä¾äº hystrix-dashboardåè½ ç¨äºå®æ¶çæ§å¾®æå¡è¿è¡ç¶æ hystrix-dashboard åªè½çæ§ä¸ä¸ªå¾®æå¡\n\nnetflix æä¾äºturbine è¿è¡èåçæ§\n\n 1. æ°å»ºæ¨¡åå¹¶å¯¼å¥åæ \n    \n         <dependencies>\n           <dependency>\n               <groupid>org.springframework.cloud</groupid>\n               <artifactid>spring-cloud-starter-netflix-hystrix-dashboard</artifactid>\n           </dependency>\n    <dependency>\n           <groupid>org.springframework.cloud</groupid>\n           <artifactid>spring-cloud-starter-netflix-turbine</artifactid>\n       </dependency>\n       \n       <dependency>\n           <groupid>org.springframework.boot</groupid>\n           <artifactid>spring-boot-starter-actuator</artifactid>\n       </dependency>\n       \n       <dependency>\n           <groupid>org.springframework.cloud</groupid>\n           <artifactid>spring-cloud-starter-netflix-eureka-client</artifactid>\n       </dependency>\n    <dependency>\n            <groupid>org.springframework.boot</groupid>\n            <artifactid>spring-boot-starter-test</artifactid>\n            <scope>test</scope>\n        </dependency>\n    </dependencies>\n    \n    <build>\n        <plugins>\n            <plugin>\n                <groupid>org.springframework.boot</groupid>\n                <artifactid>spring-boot-maven-plugin</artifactid>\n            </plugin>\n        </plugins>\n    </build>\n    \n    \n    1\n    2\n    3\n    4\n    5\n    6\n    7\n    8\n    9\n    10\n    11\n    12\n    13\n    14\n    15\n    16\n    17\n    18\n    19\n    20\n    21\n    22\n    23\n    24\n    25\n    26\n    27\n    28\n    29\n    30\n    31\n    32\n    33\n    34\n    \n\n 2. åå»ºapplication.yml\n    \n    spring:\n      application.name: hystrix-monitor\n    server:\n      port: 8769\n    turbine:\n      combine-host-port: true\n      # éç½®éè¦çæ§çæå¡åç§°åè¡¨\n      app-config: hystrix-provider,hystrix-consumer\n      cluster-name-expression: "\'default\'"\n      aggregator:\n        cluster-config: default\n      #instanceurlsuffix: /actuator/hystrix.stream\n    eureka:\n      client:\n        serviceurl:\n          defaultzone: http://localhost:8761/eureka/\n    \n    \n    \n    1\n    2\n    3\n    4\n    5\n    6\n    7\n    8\n    9\n    10\n    11\n    12\n    13\n    14\n    15\n    16\n    17\n    \n\n 3. åå»ºå¯å¨ç±»\n    \n    package com.itheima;\n    \n    \n    import org.springframework.boot.springapplication;\n    import org.springframework.boot.autoconfigure.springbootapplication;\n    import org.springframework.cloud.netflix.eureka.enableeurekaclient;\n    import org.springframework.cloud.netflix.hystrix.dashboard.enablehystrixdashboard;\n    import org.springframework.cloud.netflix.turbine.enableturbine;\n    \n    @springbootapplication\n    @enableeurekaclient\n    \n    @enableturbine //å¼å¯turbine å¾èåçæ§åè½\n    @enablehystrixdashboard //å¼å¯hystrixä»ªè¡¨ççæ§åè½\n    public class hystrixmonitorapp {\n    \n        public static void main(string[] args) {\n            springapplication.run(hystrixmonitorapp.class, args);\n        }\n    \n    }\n    \n    \n    1\n    2\n    3\n    4\n    5\n    6\n    7\n    8\n    9\n    10\n    11\n    12\n    13\n    14\n    15\n    16\n    17\n    18\n    19\n    20\n    21\n    \n\n 4. ä¿®æ¹è¢«çæ§çæ¨¡å éè¦åå«ä¿®æ¹ hystrix-provider å hystrix-consumer æ¨¡å\n    \n    1. å¯¼å¥åæ \n       \n       \t\t<dependency>\n                   <groupid>org.springframework.boot</groupid>\n                   <artifactid>spring-boot-starter-actuator</artifactid>\n               </dependency>\n       \n               <dependency>\n                   <groupid>org.springframework.cloud</groupid>\n                   <artifactid>spring-cloud-starter-netflix-hystrix</artifactid>\n               </dependency>\n       \n               <dependency>\n                   <groupid>org.springframework.cloud</groupid>\n                   <artifactid>spring-cloud-starter-netflix-hystrix-dashboard</artifactid>\n               </dependency>\n       \n       \n       1\n       2\n       3\n       4\n       5\n       6\n       7\n       8\n       9\n       10\n       11\n       12\n       13\n       14\n       \n    \n    2. éç½®bean\n       \n       @bean\n           public servletregistrationbean getservlet() {\n               hystrixmetricsstreamservlet streamservlet = new hystrixmetricsstreamservlet();\n               servletregistrationbean registrationbean = new servletregistrationbean(streamservlet);\n               registrationbean.setloadonstartup(1);\n               registrationbean.addurlmappings("/actuator/hystrix.stream");\n               registrationbean.setname("hystrixmetricsstreamservlet");\n               return registrationbean;\n           }\n       \n       \n       1\n       2\n       3\n       4\n       5\n       6\n       7\n       8\n       9\n       \n    \n    3. å¨å¯å¨ç±»ä¸æ·»å æ³¨è§£@enablehystrixdashboard\n       \n       package com.itheima.provider;\n       \n       import com.netflix.hystrix.contrib.metrics.eventstream.hystrixmetricsstreamservlet;\n       import org.springframework.boot.springapplication;\n       import org.springframework.boot.autoconfigure.springbootapplication;\n       import org.springframework.boot.web.servlet.servletregistrationbean;\n       import org.springframework.cloud.client.circuitbreaker.enablecircuitbreaker;\n       import org.springframework.cloud.netflix.eureka.enableeurekaclient;\n       import org.springframework.cloud.netflix.hystrix.dashboard.enablehystrixdashboard;\n       import org.springframework.context.annotation.bean;\n       \n       /**\n        * å¯å¨ç±»\n        */\n       \n       @enableeurekaclient //è¯¥æ³¨è§£ å¨æ°çæ¬ä¸­å¯ä»¥çç¥\n       @springbootapplication\n       \n       @enablecircuitbreaker //å¼å¯hystrixåè½\n       @enablehystrixdashboard \n       public class providerapp {\n       \n       \n           public static void main(string[] args) {\n               springapplication.run(providerapp.class, args);\n           }\n       \n           @bean\n           public servletregistrationbean getservlet() {\n               hystrixmetricsstreamservlet streamservlet = new hystrixmetricsstreamservlet();\n               servletregistrationbean registrationbean = new servletregistrationbean(streamservlet);\n               registrationbean.setloadonstartup(1);\n               registrationbean.addurlmappings("/actuator/hystrix.stream");\n               registrationbean.setname("hystrixmetricsstreamservlet");\n               return registrationbean;\n           }\n       }\n       \n       \n       1\n       2\n       3\n       4\n       5\n       6\n       7\n       8\n       9\n       10\n       11\n       12\n       13\n       14\n       15\n       16\n       17\n       18\n       19\n       20\n       21\n       22\n       23\n       24\n       25\n       26\n       27\n       28\n       29\n       30\n       31\n       32\n       33\n       34\n       35\n       36\n       37\n       \n\n 5. å¯å¨æå¡\n    \n    * eureka-server\n    * hystrix-provider\n    * hystrix-consumer\n    * hystrix-monitor\n\n 6. è®¿é® http://localhost:8769/hystrix/\n    \n    çæ§urlå°åä¸º http://localhost:8769/turbine.stream\n    \n    è®°å¾è®¿é®ä¸æ¬¡ æ¥å£å¦åæ²¡ææ°æ®\n\n\n\n\n# gateway ç½å³\n\nç½å³æ¯ä¸ºå¾®æå¡æ¶ææä¾ä¸ç§ç®åèææçç»ä¸çapiè·¯ç±ç®¡çæ¹å¼\n\n\n# å¥é¨æ¡ä¾\n\n 1. åå»ºgatewayæ¨¡å å¯¼å¥åæ \n    \n        <dependencies>\n            \x3c!--å¼å¥gateway ç½å³--\x3e\n    \n            <dependency>\n                <groupid>org.springframework.cloud</groupid>\n                <artifactid>spring-cloud-starter-gateway</artifactid>\n            </dependency>\n    \n            \x3c!-- eureka-client --\x3e\n            <dependency>\n                <groupid>org.springframework.cloud</groupid>\n                <artifactid>spring-cloud-starter-netflix-eureka-client</artifactid>\n            </dependency>\n        </dependencies>\n    \n    \n    1\n    2\n    3\n    4\n    5\n    6\n    7\n    8\n    9\n    10\n    11\n    12\n    13\n    14\n    \n\n 2. åå»ºå¯å¨ç±»\n    \n    package com.itheima.gateway;\n    \n    import org.springframework.boot.springapplication;\n    import org.springframework.boot.autoconfigure.springbootapplication;\n    import org.springframework.cloud.netflix.eureka.enableeurekaclient;\n    \n    @springbootapplication\n    @enableeurekaclient\n    public class apigatewayapp {\n        public static void main(string[] args) {\n            springapplication.run(apigatewayapp.class, args);\n        }\n    }\n    \n    \n    1\n    2\n    3\n    4\n    5\n    6\n    7\n    8\n    9\n    10\n    11\n    12\n    13\n    \n\n 3. ç¼åapplication.yml\n    \n    server:\n      port: 80\n    spring:\n      application:\n        name: api-geteway-server\n      cloud:\n        # ç½å³éç½®\n        gateway:\n          # è·¯ç±éç½®: è½¬åè§å\n          routes: # éå\n          - id: gateway-provider # å¯ä¸æ è¯ é»è®¤ä¸ºéæºuuid\n            uri: http://localhost:8001/  #  è½¬åè·¯å¾  æå¡æä¾æ¹è®¿é®è·¯å¾\n            predicates: # æ¡ä»¶ ç¨äºè¯·æ±ç½å³è·¯å¾çå¹éè§å\n            - path=/goods/**\n    \n    \n    1\n    2\n    3\n    4\n    5\n    6\n    7\n    8\n    9\n    10\n    11\n    12\n    13\n    14\n    \n\n 4. å¯å¨æ¨¡ååæå¡æ²»ç æå¡æä¾æ¹ æ¶è´¹æ¹ åªè¦è®¿é®http://localhost:80/goods/* å°ååè½¬åä¸º\n\nhttp://localhost:8001/goods/*\n\n\n# éæè·¯ç±\n\néè¿routesè½¬åè§å éç½®å¤ä¸ªéåå¯¹è±¡\n\nserver:\n  port: 80\nspring:\n  application:\n    name: api-geteway-server\n  cloud:\n    # ç½å³éç½®\n    gateway:\n      # è·¯ç±éç½®: è½¬åè§å\n      routes: # éå\n      - id: gateway-provider # å¯ä¸æ è¯ é»è®¤ä¸ºéæºuuid\n        uri: http://localhost:8001/  #  è½¬åè·¯å¾  æå¡æä¾æ¹è®¿é®è·¯å¾\n        predicates: # æ¡ä»¶ ç¨äºè¯·æ±ç½å³è·¯å¾çå¹éè§å\n        - path=/goods/**\n\n      - id: gateway-consumer # è½¬åè§å2\n        uri: http://localhost:9000/  #  è½¬åè·¯å¾  æå¡æä¾æ¹è®¿é®è·¯å¾\n        predicates: # æ¡ä»¶ ç¨äºè¯·æ±ç½å³è·¯å¾çå¹éè§å\n        - path=/order/**\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n\n\nä½ä¸æ¨èæ­¤æ¹æ³éç½®\n\n\n# å¨æè·¯ç±\n\nä»eureka å¨æè·å\n\n 1. å¼å¥eureka client å¹¶å¨å¯å¨ç±»ä¸­å ä¸@enableeurekaclientæ³¨è§£\n\n 2. éç½®eurekaæå¡å°å å¹¶å°gatewayçuri æ¹æ lb://åºç¨åç§°\n    \n    server:\n      port: 80\n    spring:\n      application:\n        name: api-geteway-server\n      cloud:\n        # ç½å³éç½®\n        gateway:\n          # è·¯ç±éç½®: è½¬åè§å\n          routes: # éå\n          - id: gateway-provider # å¯ä¸æ è¯ é»è®¤ä¸ºéæºuuid\n    #        uri: http://localhost:8001/  #  è½¬åè·¯å¾  æå¡æä¾æ¹è®¿é®è·¯å¾\n            uri: lb://gateway-provider\n            predicates: # æ¡ä»¶ ç¨äºè¯·æ±ç½å³è·¯å¾çå¹éè§å\n            - path=/goods/**\n    \n          - id: gateway-consumer # è½¬åè§å2\n    #          uri: http://localhost:9000/  #  è½¬åè·¯å¾  æå¡æä¾æ¹è®¿é®è·¯å¾\n            uri: lb://gateway-consumer\n            predicates: # æ¡ä»¶ ç¨äºè¯·æ±ç½å³è·¯å¾çå¹éè§å\n            - path=/order/**\n    \n    eureka:\n      client:\n        service-url:\n          defaultzone: http://localhost:8761/eureka\n    \n    \n    1\n    2\n    3\n    4\n    5\n    6\n    7\n    8\n    9\n    10\n    11\n    12\n    13\n    14\n    15\n    16\n    17\n    18\n    19\n    20\n    21\n    22\n    23\n    24\n    25\n    26\n    \n\n\n# å¾®æå¡åç§°éç½®\n\ngatewayç½å³ä¸­ é»è®¤ä¸å¯ç¨ç±eurekaåºç¨åæ¼æ¥çurlè½¬åè®¿é®\n\næä»¬éè¿ sping.cloud.discovery.locator.enabled å¼å¯ä¹å\n\nå¯ä»¥éè¿ http://localhost/gateway-consumer/order/goods/2 æ¥è½¬åè®¿é® æ¹ä¾¿æä»¬æ´å¥½çåºååºç¨ å½ç¶http://localhost/order/goods/2 ä¸å åºç¨åç§°æ¼æ¥ä¹æ¯å¯ä»¥è½¬åè®¿é®\n\nserver:\n  port: 80\nspring:\n  application:\n    name: api-geteway-server\n  cloud:\n    # ç½å³éç½®\n    gateway:\n      # è·¯ç±éç½®: è½¬åè§å\n      routes: # éå\n      - id: gateway-provider # å¯ä¸æ è¯ é»è®¤ä¸ºéæºuuid\n#        uri: http://localhost:8001/  #  è½¬åè·¯å¾  æå¡æä¾æ¹è®¿é®è·¯å¾\n        uri: lb://gateway-provider\n        predicates: # æ¡ä»¶ ç¨äºè¯·æ±ç½å³è·¯å¾çå¹éè§å\n        - path=/goods/**\n\n      - id: gateway-consumer # è½¬åè§å2\n#          uri: http://localhost:9000/  #  è½¬åè·¯å¾  æå¡æä¾æ¹è®¿é®è·¯å¾\n        uri: lb://gateway-consumer\n        predicates: # æ¡ä»¶ ç¨äºè¯·æ±ç½å³è·¯å¾çå¹éè§å\n        - path=/order/**\n      discovery:\n        locator:\n          enabled: true  # å¼å¯å¾®æå¡åç°åè½\n          lower-case-service-id: true # è¯·æ±è·¯å¾ä¸çåºç¨åç§°åè®¸å°å\n\neureka:\n  client:\n    service-url:\n      defaultzone: http://localhost:8761/eureka\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n26\n27\n28\n29\n30\n\n\n\n# ç½å³è¿æ»¤å¨\n\nè¿æ»¤å¨ å¯¹è¯·æ±æååºè¿è¡æ¦æª å®æä¸äºéç¨æä½\n\ngateway æä¾ ä¸¤ç§è¿æ»¤å¨æ¹å¼ pre å post\n\n * pre è¿æ»¤å¨ å¨è½¬åä¹åæ§è¡ å¯ä»¥ååæ°æ ¡éª æéæ ¡éª æµéçæ§ æ¥å¿è¾åº åè®®è½¬æ¢ç­\n * postè¿æ»¤å¨ å¨ååºä¹åæ§è¡ å¯ä»¥ç¨å¯¹ååºåå®¹ ååºå¤´çä¿®æ¹ æ¥å¿çè¾åº æµéçæ§ç­\n\nåæ¶è¿æä¾äºä¸¤ç§ç±»åè¿æ»¤å¨\n\n * gatewayfilter å±é¨è¿æ»¤å¨ éå¯¹åä¸ªè·¯ç±\n * globalfilter å¨å±è¿æ»¤å¨ éå¯¹ææè·¯ç±\n\n# å±é¨è¿æ»¤å¨\n\nè¿æ»¤å¨å·¥å                         ä½ç¨                                                             åæ°\naddrequestheader              ä¸ºåå§è¯·æ±æ·»å header                                                  headerçåç§°åå¼\naddrequestparameter           ä¸ºåå§è¯·æ±æ·»å è¯·æ±åæ°                                                    åæ°åç§°åå¼\naddresponseheader             ä¸ºåå§ååºæ·»å header                                                  headerçåç§°åå¼\ndeduperesponseheader          åé¤ååºå¤´ä¸­éå¤çå¼                                                     éè¦å»éçheaderåç§°åå»éç­ç¥\nhystrix                       ä¸ºè·¯ç±å¼å¥hystrixçæ­è·¯å¨ä¿æ¤                                             hystrixcommandçåç§°\nfallbackheaders               ä¸ºfallbackuriçè¯·æ±å¤´ä¸­æ·»å å·ä½çå¼å¸¸ä¿¡æ¯                                     headerçåç§°\nprefixpath                    ä¸ºåå§è¯·æ±è·¯å¾æ·»å åç¼                                                    åç¼è·¯å¾\npreservehostheader            ä¸ºè¯·æ±æ·»å ä¸ä¸ªpreservehostheader=trueçå±æ§ï¼è·¯ç±è¿æ»¤å¨ä¼æ£æ¥è¯¥å±æ§ä»¥å³å®æ¯å¦è¦åéåå§çhost   æ \nrequestratelimiter            ç¨äºå¯¹è¯·æ±éæµï¼éæµç®æ³ä¸ºä»¤çæ¡¶                                               keyresolverãratelimiterãstatuscodeãdenyemptykeyãemptykeystatus\nredirectto                    å°åå§è¯·æ±éå®åå°æå®çurl                                                httpç¶æç åéå®åçurl\nremovehopbyhopheadersfilter   ä¸ºåå§è¯·æ±å é¤ietfç»ç»è§å®çä¸ç³»åheader                                      é»è®¤å°±ä¼å¯ç¨ï¼å¯ä»¥éè¿éç½®æå®ä»å é¤åªäºheader\nremoverequestheader           ä¸ºåå§è¯·æ±å é¤æä¸ªheader                                                headeråç§°\nremoveresponseheader          ä¸ºåå§ååºå é¤æä¸ªheader                                                headeråç§°\nrewritepath                   éååå§çè¯·æ±è·¯å¾                                                      åå§è·¯å¾æ­£åè¡¨è¾¾å¼ä»¥åéååè·¯å¾çæ­£åè¡¨è¾¾å¼\nrewriteresponseheader         éååå§ååºä¸­çæä¸ªheader                                               headeråç§°ï¼å¼çæ­£åè¡¨è¾¾å¼ï¼éååçå¼\nsavesession                   å¨è½¬åè¯·æ±ä¹åï¼å¼ºå¶æ§è¡websession::saveæä½                                 æ \nsecureheaders                 ä¸ºåå§ååºæ·»å ä¸ç³»åèµ·å®å¨ä½ç¨çååºå¤´                                            æ ï¼æ¯æä¿®æ¹è¿äºå®å¨ååºå¤´çå¼\nsetpath                       ä¿®æ¹åå§çè¯·æ±è·¯å¾                                                      ä¿®æ¹åçè·¯å¾\nsetresponseheader             ä¿®æ¹åå§ååºä¸­æä¸ªheaderçå¼                                              headeråç§°ï¼ä¿®æ¹åçå¼\nsetstatus                     ä¿®æ¹åå§ååºçç¶æç                                                      http ç¶æç ï¼å¯ä»¥æ¯æ°å­ï¼ä¹å¯ä»¥æ¯å­ç¬¦ä¸²\nstripprefix                   ç¨äºæªæ­åå§è¯·æ±çè·¯å¾                                                    ä½¿ç¨æ°å­è¡¨ç¤ºè¦æªæ­çè·¯å¾çæ°é\nretry                         éå¯¹ä¸åçååºè¿è¡éè¯                                                    retriesãstatusesãmethodsãseries\nrequestsize                   è®¾ç½®åè®¸æ¥æ¶æå¤§è¯·æ±åçå¤§å°ãå¦æè¯·æ±åå¤§å°è¶è¿è®¾ç½®çå¼ï¼åè¿å 413 payload too large         è¯·æ±åå¤§å°ï¼åä½ä¸ºå­èï¼é»è®¤å¼ä¸º5m\nmodifyrequestbody             å¨è½¬åè¯·æ±ä¹åä¿®æ¹åå§è¯·æ±ä½åå®¹                                               ä¿®æ¹åçè¯·æ±ä½åå®¹\nmodifyresponsebody            ä¿®æ¹åå§ååºä½çåå®¹                                                     ä¿®æ¹åçååºä½åå®¹\ndefault                       ä¸ºææè·¯ç±æ·»å è¿æ»¤å¨                                                     è¿æ»¤å¨å·¥ååç§°åå¼\n\nå¨éç½®æä»¶ä¸­éè¿ sping.cloud.gateway.routes.filters è®¾ç½®\n\nspring:\n  application:\n    name: api-geteway-server\n  cloud:\n    # ç½å³éç½®\n    gateway:\n      # è·¯ç±éç½®: è½¬åè§å\n      routes: # éå\n        - id: gateway-provider # å¯ä¸æ è¯ é»è®¤ä¸ºéæºuuid\n          #        uri: http://localhost:8001/  #  è½¬åè·¯å¾  æå¡æä¾æ¹è®¿é®è·¯å¾\n          uri: lb://gateway-provider\n          predicates: # æ¡ä»¶ ç¨äºè¯·æ±ç½å³è·¯å¾çå¹éè§å\n            - path=/goods/**\n          filters:\n            - addrequestheader=username,zhansan\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n\n\n# å¨å±è¿æ»¤å¨\n\nå¨å±è¿æ»¤å¨ä¸éè¦å¨éç½®æä»¶ä¸­éç½® ç³»ç»åå§åæ¶å è½½ å¹¶ä½ç¨å¨æ¯ä¸ªè·¯ç±ä¸\n\n\n\n 1. å¨gatewayæ¨¡åä¸­ ç¼åèªå®ä¹è¿æ»¤å¨ç±» å¹¶å®ç° globalfilter, ordered æ¥å£\n    \n    package com.itheima.gateway.filter;\n    \n    import org.springframework.cloud.gateway.filter.gatewayfilterchain;\n    import org.springframework.cloud.gateway.filter.globalfilter;\n    import org.springframework.core.ordered;\n    import org.springframework.stereotype.component;\n    import org.springframework.web.server.serverwebexchange;\n    import reactor.core.publisher.mono;\n    \n    @component\n    public class myfilter implements globalfilter, ordered {\n        @override\n        public mono<void> filter(serverwebexchange exchange, gatewayfilterchain chain) {\n            system.out.println("èªå®ä¹å¨å±è¿æ»¤å¨");\n            return chain.filter(exchange);  //æ¾è¡\n        }\n    \n        /**\n         * è¿æ»¤å¨æåº\n         * @return æ°å¼è¶å° è¶åæ§è¡\n         */\n        @override\n        public int getorder() {\n            return 0;\n        }\n    }\n    \n    \n    1\n    2\n    3\n    4\n    5\n    6\n    7\n    8\n    9\n    10\n    11\n    12\n    13\n    14\n    15\n    16\n    17\n    18\n    19\n    20\n    21\n    22\n    23\n    24\n    25\n    26\n    \n\n\n# config åå¸å¼éç½®ä¸­å¿\n\nconfig è§£å³äºå¨åå¸å¼åºæ¯ä¸å¤ç¯å¢éç½®æä»¶çç®¡çåç»´æ¤\n\n 1. å¨githubæègiteeåå»ºä¸ä¸ªå­æ¾configéç½®çä»åº\n\n 2. åå»ºconfig-server æ¨¡å å¹¶å¯¼å¥åæ \n    \n        \x3c!-- config-server --\x3e\n        <dependency>\n            <groupid>org.springframework.cloud</groupid>\n            <artifactid>spring-cloud-config-server</artifactid>\n        </dependency>\n    </dependencies>\n    \n    \n    1\n    2\n    3\n    4\n    5\n    6\n    \n\n 3. åå»ºå¯å¨ç±»å¹¶ä½¿ç¨ @enableconfigserver æ³¨è§£å¯ç¨ config server\n    \n    package com.itheima.config;\n    \n    import org.springframework.boot.springapplication;\n    import org.springframework.boot.autoconfigure.springbootapplication;\n    import org.springframework.cloud.config.server.enableconfigserver;\n    \n    @springbootapplication\n    @enableconfigserver //å¯ç¨config serveråè½\n    public class configserverapp {\n        public static void main(string[] args) {\n            springapplication.run(configserverapp.class,args);\n        }\n    }\n    \n    \n    1\n    2\n    3\n    4\n    5\n    6\n    7\n    8\n    9\n    10\n    11\n    12\n    13\n    \n\n 4. éç½®application.yml\n    \n    server:\n      port: 8888\n    \n    \n    spring:\n      application:\n        name: config-server\n    \n      cloud:\n        config:\n          server:\n            git:\n              uri: https://gitee.com/iekrwh/configs.git  # ä»åºå°å\n    #          username:   #å¦ææ¯ç§æä»åºåéè¦éç½®gitçè´¦å·åå¯ç \n    #          password:\n              default-label: master # åæ¯éç½®\n    \n    \n    1\n    2\n    3\n    4\n    5\n    6\n    7\n    8\n    9\n    10\n    11\n    12\n    13\n    14\n    15\n    16\n    \n\n 5. å¨æå¡æä¾æ¹ä¸­ å¯¼å¥ config clientåæ \n    \n    \x3c!--     config client   --\x3e\n    <dependency>\n        <groupid>org.springframework.cloud</groupid>\n        <artifactid>spring-cloud-starter-config</artifactid>\n    </dependency>\n    \n    \n    1\n    2\n    3\n    4\n    5\n    \n\n 6. å¨åå»ºéç½®æä»¶ bootstrap.yml ä¼åçº§é«äºapplication.yml\n    \n    spring:\n      cloud:\n        config:\n          uri: http://localhost:8888  # éç½®config serverå°å\n          name: config # æä»¶åç§°\n          label: master # åæ¯\n          profile: dev # -åé¢ççæ¬åç§°\n    \n    \n    1\n    2\n    3\n    4\n    5\n    6\n    7\n    \n\n 7. æ­¤æ¶å¨æå¡æä¾æ¹ä¸­ å¯ä»¥è¯»åconfig éç½®æä»¶æä¾çå¼\n\n\n# å®¢æ·ç«¯å·æ°\n\nå½è¿ç¨ä»åºä¸­çéç½®æä»¶åçæ¹åäº æä»¬çconfig server ä¼èªå¨æ´æ°\n\nä½æä»¬çconfig clientå¹¶ä¸ä¼èªå¨æ´æ°åå®¹\n\n 1. å®¢æ·ç«¯å¼å¥actuatorä¾èµ\n    \n    <dependency>\n        <groupid>org.springframework.boot</groupid>\n        <artifactid>spring-boot-starter-actuator</artifactid>\n    </dependency>\n    \n    \n    1\n    2\n    3\n    4\n    \n\n 2. è·åéç½®ä¿¡æ¯çç±»ä¸ å ä¸@refreshscope æ³¨è§£\n\n 3. å¨bootstrap.yml æ·»å  management.endpoints.web.exposure.include\n    \n    spring:\n      cloud:\n        config:\n          uri: http://localhost:8888  # éç½®config serverå°å\n          name: config # æä»¶åç§°\n          label: master # åæ¯\n          profile: dev # -åé¢ççæ¬åç§°\n    management:\n      endpoints:\n        web:\n          exposure:\n            include: \'*\'\n    \n    \n    1\n    2\n    3\n    4\n    5\n    6\n    7\n    8\n    9\n    10\n    11\n    12\n    \n\n 4. å¨cmdä¸­ åhttp://localhost:8001/actuator/refresh åépostè¯·æ±\n    \n    curl -x post http://localhost:8001/actuator/refresh\n    \n    \n    1\n    \n    \n    ä½æ¯æ¯æ¬¡æ´æ° éè¦åéä¸æ¬¡è¯·æ± åé¢ç»åbusæè½è§£å³æ­¤é®é¢\n\n\n# éæeureka\n\néè¿ä¸é¢ä¾å­ æä»¬åç° configå®¢æ·ç«¯è®¿é®æå¡ç«¯ å°åæ¯åºå®åæ­» éå¸¸ä¸çµæ´»\n\næä»¬å¯ä»¥éè¿eureka ä½¿æå¡ç«¯å¨ä¸é¢æ³¨ååºç¨ èªå¨è·ååºç¨çå°å\n\n 1. config-server å¯¼å¥eurekaåæ \n    \n    \x3c!-- eureka-client --\x3e\n    <dependency>\n        <groupid>org.springframework.cloud</groupid>\n        <artifactid>spring-cloud-starter-netflix-eureka-client</artifactid>\n    </dependency>\n    \n    \n    1\n    2\n    3\n    4\n    5\n    \n\n 2. config-server éç½® å ä¸eurekaçå°å\n    \n    server:\n      port: 8888\n    \n    \n    spring:\n      application:\n        name: config-server\n    \n      cloud:\n        config:\n          server:\n            git:\n              uri: https://gitee.com/iekrwh/configs.git  # ä»åºå°å\n    #          username:   #å¦ææ¯ç§æä»åºåéè¦éç½®gitçè´¦å·åå¯ç \n    #          password:\n              default-label: master # åæ¯éç½®\n    \n    eureka:\n      client:\n        service-url:\n          defaultzone: http://localhost:8761/eureka\n    \n    \n    1\n    2\n    3\n    4\n    5\n    6\n    7\n    8\n    9\n    10\n    11\n    12\n    13\n    14\n    15\n    16\n    17\n    18\n    19\n    20\n    21\n    \n\n 3. å¨config serve å¯å¨ç±»å ä¸ @enableeurekaclient æ³¨è§£\n\n 4. å¨config client éç½®æä»¶ä¸­ å° config uri æ¹ä¸º eurkaæå¡å°å\n    \n    spring:\n      cloud:\n        config:\n    #      uri: http://localhost:8888  # éç½®config serverå°å\n          name: config # æä»¶åç§°\n          label: master # åæ¯\n          profile: dev # -åé¢ççæ¬åç§°\n          discovery:\n            enabled: true # ä»æ³¨åä¸­å¿å¯»æ¾config server å°å\n            service-id: config-server # config server æ³¨åçåºç¨å\n    management:\n      endpoints:\n        web:\n          exposure:\n            include: \'*\'\n    \n    \n    1\n    2\n    3\n    4\n    5\n    6\n    7\n    8\n    9\n    10\n    11\n    12\n    13\n    14\n    15\n    \n\n\n# bus æ¶æ¯æ»çº¿\n\nspring cloud æ¯ç¨è½»éçæ¶æ¯ä¸­é´ä»¶å°åå¸å¼çèç¹è¿æ¥èµ·æ¥ ç¨äºå¹¿æ­éç½®æä»¶çæ´æ¹æèæå¡ççæ§ç®¡ç\n\nspring cloud bus å¯éçæ¶æ¯ä¸­é´ä»¶åæ¬rabbitmqå kafka\n\n 1. å¨config-server å config-clientä¸­ å¼å¥ busä¾èµ\n    \n    \x3c!-- bus --\x3e\n    <dependency>\n        <groupid>org.springframework.cloud</groupid>\n        <artifactid>spring-cloud-starter-bus-amqp</artifactid>\n    </dependency>\n    <dependency>\n                <groupid>org.springframework.boot</groupid>\n                <artifactid>spring-boot-starter-actuator</artifactid>\n            </dependency>\n    \n    \n    1\n    2\n    3\n    4\n    5\n    6\n    7\n    8\n    9\n    \n\n 2. å¨config-server å config-clientä¸­ åå«éç½®rabbitmq\n    \n    spring:\n      rabbitmq:\n        host: 192.168.130.124 # mqæå¡å¨å°å\n        port: 5672\n        username: iekr\n        password: iekr\n        virtual-host: /itcast\n    \n    \n    1\n    2\n    3\n    4\n    5\n    6\n    7\n    \n\n 3. å¨config-server ä¸­ è®¾ç½®æ´é²çæ§æ­çµ bus-refresh\n    \n    management:\n      endpoints:\n        web:\n          exposure:\n            include: \'bus-refresh\'  # æ´é²busçå·æ°ç«¯ç¹\n    \n    \n    1\n    2\n    3\n    4\n    5\n    \n\n 4. æ´æ°ååéæä»¤ curl -x post config-serverå°å:ç«¯å£/actuator/bus-refresh\n    \n    curl -x post http://localhost:8888/actuator/bus-refresh\n    \n    \n    1\n    \n\n\n# stream æ¶æ¯é©±å¨\n\nspring clou stream æ¯ä¸ä¸ªæå»ºæ¶æ¯é©±å¨å¾®æå¡åºç¨çæ¡æ¶\n\nstream å¯¹æ¶æ¯ä¸­é´ä»¶çè¿ä¸æ­¥å°è£ å¯ä»¥åå°ä»£ç å±é¢å¯¹ä¸­é´ä»¶çæ æç¥ çè³å¨æåæ¢ä¸­é´ä»¶\n\nstream æå»ºçåºç¨ç¨åºä¸æ¶æ¯ä¸­é´ä»¶ä¹é´æ¯éè¿ç»å®å¨ binder ç¸å³èç\n\n\n# æ¶æ¯çäº§è\n\n 1. åå»ºçäº§èæ¨¡å å¯¼å¥åæ \n    \n            \x3c!--spring boot web--\x3e\n            <dependency>\n                <groupid>org.springframework.boot</groupid>\n                <artifactid>spring-boot-starter-web</artifactid>\n            </dependency>\n    \n    \n            \x3c!-- stream --\x3e\n            <dependency>\n                <groupid>org.springframework.cloud</groupid>\n                <artifactid>spring-cloud-starter-stream-rabbit</artifactid>\n            </dependency>\n    \n    \n    \n    1\n    2\n    3\n    4\n    5\n    6\n    7\n    8\n    9\n    10\n    11\n    12\n    13\n    \n\n 2. ç¼åéç½®æä»¶\n    \n    server:\n      port: 8000\n    \n    \n    \n    spring:\n      cloud:\n        stream:\n          # å®ä¹ç»å®å¨ï¼ç»å®å°åªä¸ªæ¶æ¯ä¸­é´ä»¶ä¸\n          binders:\n            itheima_binder: # èªå®ä¹çç»å®å¨åç§°\n              type: rabbit # ç»å®å¨ç±»å\n              environment: # æå®mqçç¯å¢\n                spring:\n                  rabbitmq:\n                    host: 192.168.130.124\n                    port: 5672\n                    username: guest\n                    password: guest\n                    virtual-host: /\n          bindings:\n            output: # channelåç§°\n              binder: itheima_binder #æå®ä½¿ç¨åªä¸ä¸ªç»å®å¨(èªå®ä¹çç»å®å¨åç§°)\n              destination: itheima_exchange # æ¶æ¯ç®çå°\n    \n    \n    1\n    2\n    3\n    4\n    5\n    6\n    7\n    8\n    9\n    10\n    11\n    12\n    13\n    14\n    15\n    16\n    17\n    18\n    19\n    20\n    21\n    22\n    23\n    24\n    \n\n 3. å®ä¹åéæ¶æ¯ç±» å¹¶å¨ç±»ä¸å¼å¯bindingç»å®ä¸ºéç½®æä»¶\n    \n    package com.itheima.stream.producer;\n    \n    \n    import org.springframework.beans.factory.annotation.autowired;\n    import org.springframework.cloud.stream.annotation.enablebinding;\n    import org.springframework.cloud.stream.messaging.source;\n    import org.springframework.messaging.messagechannel;\n    import org.springframework.messaging.support.messagebuilder;\n    import org.springframework.stereotype.component;\n    \n    @component\n    @enablebinding(source.class)\n    public class messageproducer {\n    \n        @autowired\n        private messagechannel output;\n    \n        public void send(){\n            string msessage = "hello stream~~~";\n    \n            //åéæ¶æ¯\n            output.send(messagebuilder.withpayload(msessage).build());\n    \n            system.out.println("æ¶æ¯åéæå~~~");\n    \n        }\n    }\n    \n    \n    1\n    2\n    3\n    4\n    5\n    6\n    7\n    8\n    9\n    10\n    11\n    12\n    13\n    14\n    15\n    16\n    17\n    18\n    19\n    20\n    21\n    22\n    23\n    24\n    25\n    26\n    27\n    \n\n 4. åå»ºä¸ä¸ªæ¥å£ç¨äºæµè¯ æ¯å¦è½åéæ¶æ¯ç»mq\n    \n    package com.itheima.stream.producer;\n    \n    import org.springframework.beans.factory.annotation.autowired;\n    import org.springframework.web.bind.annotation.requestmapping;\n    import org.springframework.web.bind.annotation.restcontroller;\n    \n    @restcontroller\n    public class producercontroller {\n    \n        @autowired\n        private messageproducer producer;\n    \n    \n        @requestmapping("/send")\n            public string sendmsg(){\n            producer.send();\n            return "success";\n        }\n    }\n    \n    \n    1\n    2\n    3\n    4\n    5\n    6\n    7\n    8\n    9\n    10\n    11\n    12\n    13\n    14\n    15\n    16\n    17\n    18\n    19\n    \n\n\n# æ¶æ¯æ¶è´¹è\n\n 1. åå»ºæ¶è´¹èæ¨¡å å¯¼å¥åæ \n    \n            \x3c!--spring boot web--\x3e\n            <dependency>\n                <groupid>org.springframework.boot</groupid>\n                <artifactid>spring-boot-starter-web</artifactid>\n            </dependency>\n    \n    \n            \x3c!-- stream --\x3e\n            <dependency>\n                <groupid>org.springframework.cloud</groupid>\n                <artifactid>spring-cloud-starter-stream-rabbit</artifactid>\n            </dependency>\n    \n    \n    \n    1\n    2\n    3\n    4\n    5\n    6\n    7\n    8\n    9\n    10\n    11\n    12\n    13\n    \n\n 2. ç¼åéç½®æä»¶ ä¸»è¦æç«¯å£å bindingsè®¾ç½®ä¸ºè¾åºè¿æ¯è¾å¥æ¨¡å¼\n    \n    server:\n      port: 9000\n    \n    \n    \n    spring:\n      cloud:\n        stream:\n          # å®ä¹ç»å®å¨ï¼ç»å®å°åªä¸ªæ¶æ¯ä¸­é´ä»¶ä¸\n          binders:\n            itheima_binder: # èªå®ä¹çç»å®å¨åç§°\n              type: rabbit # ç»å®å¨ç±»å\n              environment: # æå®mqçç¯å¢\n                spring:\n                  rabbitmq:\n                    host: localhost\n                    port: 5672\n                    username: guest\n                    password: guest\n                    virtual-host: /\n          bindings:\n            input: # channelåç§°\n              binder: itheima_binder #æå®ä½¿ç¨åªä¸ä¸ªbinder\n              destination: itheima_exchange # æ¶æ¯ç®çå°\n    \n    \n    1\n    2\n    3\n    4\n    5\n    6\n    7\n    8\n    9\n    10\n    11\n    12\n    13\n    14\n    15\n    16\n    17\n    18\n    19\n    20\n    21\n    22\n    23\n    24\n    \n\n 3. åå»ºæ¶æ¯æ¥æ¶ç±» å¨ç±»å¼å¯bindingæ³¨è§£ å¹¶å¨æ¥æ¶æ¹æ³ä¸­å®ä¹ @streamlistener(sink.input)\n    \n    package com.itheima.stream.consumer;\n    \n    import org.springframework.cloud.stream.annotation.enablebinding;\n    import org.springframework.cloud.stream.annotation.streamlistener;\n    import org.springframework.cloud.stream.messaging.sink;\n    import org.springframework.messaging.message;\n    import org.springframework.stereotype.component;\n    \n    /**\n     * æ¶æ¯æ¥æ¶ç±»\n     */\n    @enablebinding({sink.class})\n    @component\n    public class messagelistener {\n    \n        @streamlistener(sink.input)\n        public void receive(message message){\n    \n            system.out.println(message);\n            system.out.println(message.getpayload());\n        }\n    }\n    \n    \n    1\n    2\n    3\n    4\n    5\n    6\n    7\n    8\n    9\n    10\n    11\n    12\n    13\n    14\n    15\n    16\n    17\n    18\n    19\n    20\n    21\n    22\n    \n\n\n# sleuth+zipkin é¾è·¯è¿½è¸ª\n\nspring cloud sleuth å®å¨åå¸å¼ä¸­è½è·è¸ªä¸ä¸ªç¨æ·è¯·æ±çè¿ç¨ æè·è¿äºè·è¸ªæ°æ® å°±è½æå»ºå¾®æå¡çæ´ä¸ªè°ç¨é¾çè§å¾ å®æ¯è°è¯åçæ§å¾®æå¡çå³é®å·¥å·\n\n 1. å®è£å¯å¨zipkin è®¿é®http://localhost:9411/\n    \n    java -jar zipkin.jar\n    \n    \n    1\n    \n\n 2. å¨æå¡æä¾æ¹åæ¶è´¹æ¹æ³ å¼å¥ zipkin åæ \n    \n    <dependency>\n        <groupid>org.springframework.cloud</groupid>\n        <artifactid>spring-cloud-starter-zipkin</artifactid>\n    </dependency>\n    \n    \n    1\n    2\n    3\n    4\n    \n\n 3. éç½®æä»¶\n    \n    server:\n      port: 8001\n    \n    eureka:\n      client:\n        service-url:\n          defaultzone: http://localhost:8761/eureka\n    spring:\n      application:\n        name: feign-provider\n      zipkin:\n        base-url: http://localhost:9411/  # è®¾ç½®zipkinçæå¡ç«¯è·¯å¾\n    \n      sleuth:\n        sampler:\n          probability: 1 # ééç é»è®¤ 0.1 ç¾åä¹åã\n    \n    \n    1\n    2\n    3\n    4\n    5\n    6\n    7\n    8\n    9\n    10\n    11\n    12\n    13\n    14\n    15\n    16\n    ',charsets:{cjk:!0},lastUpdated:"2022/03/18, 07:01:11",lastUpdatedTimestamp:1647558071e3},{title:"ElasticSearch",frontmatter:{title:"ElasticSearch",date:"2022-03-18T00:51:47.000Z",permalink:"/pages/95da1a/",categories:["åç«¯","JavaEE"],tags:[null]},regularPath:"/%E5%90%8E%E7%AB%AF/02.JavaEE/19.ElasticSearch.html",relativePath:"åç«¯/02.JavaEE/19.ElasticSearch.md",key:"v-766b181e",path:"/pages/95da1a/",headers:[{level:2,title:"åæç´¢å¼",slug:"åæç´¢å¼",normalizedTitle:"åæç´¢å¼",charIndex:187},{level:2,title:"ElasticSearchæç´¢åä¼ ç»æ°æ®åºæ¥è¯¢çåºå«",slug:"elasticsearchæç´¢åä¼ ç»æ°æ®åºæ¥è¯¢çåºå«",normalizedTitle:"elasticsearchæç´¢åä¼ ç»æ°æ®åºæ¥è¯¢çåºå«",charIndex:244},{level:2,title:"å®è£ElasticSearch",slug:"å®è£elasticsearch",normalizedTitle:"å®è£elasticsearch",charIndex:585},{level:3,title:"å®è£è¾å©å·¥å·Kibana",slug:"å®è£è¾å©å·¥å·kibana",normalizedTitle:"å®è£è¾å©å·¥å·kibana",charIndex:1587},{level:2,title:"ElasticSearch æ ¸å¿æ¦å¿µ",slug:"elasticsearch-æ ¸å¿æ¦å¿µ",normalizedTitle:"elasticsearch æ ¸å¿æ¦å¿µ",charIndex:2211},{level:2,title:"æä½ElasticSearch",slug:"æä½elasticsearch",normalizedTitle:"æä½elasticsearch",charIndex:2612},{level:3,title:"RESTfulé£æ ¼",slug:"restfulé£æ ¼",normalizedTitle:"restfulé£æ ¼",charIndex:2632},{level:3,title:"æä½ç´¢å¼",slug:"æä½ç´¢å¼",normalizedTitle:"æä½ç´¢å¼",charIndex:2715},{level:3,title:"æä½æ å°",slug:"æä½æ å°",normalizedTitle:"æä½æ å°",charIndex:3193},{level:3,title:"æä½ææ¡£",slug:"æä½ææ¡£",normalizedTitle:"æä½ææ¡£",charIndex:4197},{level:2,title:"åè¯å¨",slug:"åè¯å¨",normalizedTitle:"åè¯å¨",charIndex:2331},{level:2,title:"IKåè¯å¨",slug:"ikåè¯å¨",normalizedTitle:"ikåè¯å¨",charIndex:4761},{level:3,title:"å®è£",slug:"å®è£",normalizedTitle:"å®è£",charIndex:585},{level:3,title:"ä½¿ç¨",slug:"ä½¿ç¨",normalizedTitle:"ä½¿ç¨",charIndex:284},{level:2,title:"JavaApi",slug:"javaapi",normalizedTitle:"javaapi",charIndex:7487},{level:3,title:"æ·»å ç´¢å¼",slug:"æ·»å ç´¢å¼-2",normalizedTitle:"æ·»å ç´¢å¼",charIndex:2744},{level:3,title:"æ·»å /ä¿®æ¹ææ¡£",slug:"æ·»å -ä¿®æ¹ææ¡£",normalizedTitle:"æ·»å /ä¿®æ¹ææ¡£",charIndex:11912},{level:3,title:"æ¥è¯¢ææ¡£",slug:"æ¥è¯¢ææ¡£-2",normalizedTitle:"æ¥è¯¢ææ¡£",charIndex:4423},{level:3,title:"å é¤ææ¡£",slug:"å é¤ææ¡£",normalizedTitle:"å é¤ææ¡£",charIndex:4592}],headersStr:"åæç´¢å¼ ElasticSearchæç´¢åä¼ ç»æ°æ®åºæ¥è¯¢çåºå« å®è£ElasticSearch å®è£è¾å©å·¥å·Kibana ElasticSearch æ ¸å¿æ¦å¿µ æä½ElasticSearch RESTfulé£æ ¼ æä½ç´¢å¼ æä½æ å° æä½ææ¡£ åè¯å¨ IKåè¯å¨ å®è£ ä½¿ç¨ JavaApi æ·»å ç´¢å¼ æ·»å /ä¿®æ¹ææ¡£ æ¥è¯¢ææ¡£ å é¤ææ¡£",content:'# ElasticSearch\n\nElasticSearchæ¯åºäº Luceneçæç´¢æå¡å¨ æ¯ä¸ä¸ªåå¸å¼ é«æ©å± é«å®æ¶çæç´¢ä¸æ°æ®åæå¼æ\n\nåºäºRESTful webæ¥å£\n\nElasticSearchæ¯ç¨javaå¼å å¹¶ä½ä¸ºapacheçå¼æºé¡¹ç®\n\nhttps://www.elastic.co/cn/\n\nä¸è¬ç¨äº æµ·éæ°æ®çæ¥è¯¢ æ¥å¿æ°æ®åæ å®æ¶æ°æ®åæ\n\n\n# åæç´¢å¼\n\nå°åä¸ªææ¡£ä¸­åå®¹.è¿è¡åè¯ å½¢æè¯æ¡ è®°å½è¯æ¡åæ°æ®çå¯ä¸æ è¯(id)çå¯¹åºå³ç³» å½¢æçäº§ç©\n\n\n# ElasticSearchæç´¢åä¼ ç»æ°æ®åºæ¥è¯¢çåºå«\n\n 1. ä¼ ç»å³ç³»åæ°æ® ä½¿ç¨æ¨¡ç³æ¥è¯¢ å·¦è¾¹æééç¬¦ ä¸ä¼èµ°ç´¢å¼ ä¼å¨è¡¨æ«æ æ§è½ä½\n 2. åªè½ä»¥ä¸ä¸ªå³é®å­ä½ä¸ºæ¥è¯¢æ¡ä»¶ èElasticSearchä¼æä¸ä¸ªå³é®å­æåä¸ºå¤ä¸ªè¯ è¿è¡æ¥è¯¢\n 3. ElasticSearch ä»¥å³é®å­ çæçåæç´¢å¼ è¯æ¡ä¼æåº å½¢æä¸é¢æ å½¢ç»æ æåè¯æ¡çæ¥è¯¢éåº¦\n 4. Mysqlæäºå¡æ§ èElasticSearch æ²¡æäºå¡æ§ æä»¥å äºçæ°æ®æ¯æ æ³æ¢å¤ç\n 5. ElasticSearch æ²¡æç©çå¤é®è¿ä¸ªç¹æ§ å¦ææ°æ®çä¸è´æ§è¦æ±æ¯è¾é« ä¸å»ºè®®ä½¿ç¨\n 6. ElasticSearchåMysql åå·¥ä¸å Mysqlè´è´£å­å¨æ°æ® ElasticSearchè´è´£æç´¢æ°æ®\n\n\n# å®è£ElasticSearch\n\ntar -zxvf elasticsearch-7.15.0-linux-x86_64.tar.gz -C /opt\n#ç¼è¾éç½®\nvim /opt/elasticsearch-7.15.0/config/elasticsearch.yml\n\n#è¿½å ä»¥ä¸åå®¹\ncluster.name: my-application\nnode.name: node-1\nnetwork.host: 0.0.0.0\nhttp.port: 9200\ncluster.initial_master_nodes: ["node-1"]\n\n#åºäºå®å¨é®é¢ElasticSearchä¸åè®¸rootç¨æ·ç´æ¥è¿è¡\nuseradd iekr\npasswd 123456\n#ææ\nchown -R iekr:iekr /opt/elasticsearch-7.15.0/\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n\n\næ°å»ºçç¨æ·æå¤§åå»ºæä»¶åæå¤§èæåå­å¤ªå° éè¦ä¿®æ¹éç½®æä»¶\n\n#ä¿®æ¹æå¤§åå»ºæä»¶æ°\nvim /etc/security/limits.conf\n\n#è¿½å åå®¹\niekr soft nofile 65536\niekr hard nofile 65536\n\nvim /etc/security/limits.d/20-nproc.conf\n#è¿½å åå®¹\niekr soft nofile 65536\niekr hard nofile 65536\n* hard nproc 4096\n\n\n#ä¿®æ¹èæåå®¹å¤§å°\nvim /etc/sysctl.conf \n\n#è¿½å åå®¹\nvm.max_map_count=655360\n#éè½½\nsysctl -p\n\nfirewall-cmd --zone=public --add-port=9200/tcp --permanent\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n\n\nå¯å¨\n\nsu iekr\ncd /opt/elasticsearch-7.15.0/bin/\n./elasticsearch -d  #-dåå°è¿è¡\n\n\n1\n2\n3\n\n\nè®¿é® http://192.168.130.124:9200/ åºç°jsonå­ç¬¦ä¸²åå¯å¨æå\n\n\n# å®è£è¾å©å·¥å·Kibana\n\nhttps://www.elastic.co/cn/kibana/\n\ntar -zxvf kibana-7.15.0-linux-x86_64.tar.gz -C /opt\n#éç½®\nvim /opt/kibana-7.15.0-linux-x86_64/config/kibana.yml\n\n#è¿½å åå®¹\nserver.port: 5601\nserver.host: "0.0.0.0"\nserver.name: "your-hostname"  #èªå®ä¹åç§°\nelasticsearch.hosts: ["http://localhost:9200"]\nelasticsearch.requestTimeout: 30000  #è¿æ¥ESè¶æ¶æ¶é´\ni18n.locale: "zh-CN"  #è®¾ç½®ä¸ºä¸­æ\n\n#ææ\nchown -R iekr:iekr /opt/kibana-7.15.0-linux-x86_64/\nfirewall-cmd --zone=public --add-port=5601/tcp --permanent\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n\n\nå¯å¨\n\nsu iekr\ncd /opt/kibana-7.15.0-linux-x86_64/bin/\nnohup ./kibana &  #åå°è¿è¡  åå°./kibana\n\n\n1\n2\n3\n\n\n\n# ElasticSearch æ ¸å¿æ¦å¿µ\n\n * ç´¢å¼(index) ElasticSearchå­å¨æ°æ®çå°æ¹ å¯ä»¥çè§£ä¸ºå³ç³»åæ°æ®åºä¸­çæ°æ®åºæ¦å¿µ\n\n * æ å°(mapping)\n   \n   mappingå®ä¹äºæ¯ä¸ªå­æ®µçç±»å å­æ®µæä½¿ç¨çåè¯å¨ç­ ç¸å®ä¹å³ç³»åæ°æ®åºä¸­çè¡¨ç»æ\n\n * ææ¡£(document) ElasticSearchä¸­çæå°æ°æ®åå ä»¥jsonæ ¼å¼æ¾ç¤º ä¸ä¸ªdocumentç¸å½äº å³ç³»åæ°æ®åºçä¸è¡æ°æ®\n\n * åæç´¢å¼ ä¸ä¸ªåæç´¢å¼ç±ææ¡£ä¸­ææä¸éå¤æ­¤çåè¡¨ææ å¯¹åºå¶ä¸­æ¯ä¸ªè¯ å¯¹åºä¸ä¸ªåå«å®çææ¡£idåè¡¨\n\n * ç±»å(type)\n   \n   ä¸ç§typeå°±åä¸ç±»è¡¨ å¦ç¨æ·è¡¨ è§è²è¡¨ç­ å¨ElasticSearch7.x typeé»è®¤ä¸º_doc\n   \n   5.xä¸­ä¸ä¸ªindexå¯ä»¥æå¤ç§type\n   \n   6.xä¸­ä¸ä¸ªindexåªè½æä¸ç§type\n\n\n# æä½ElasticSearch\n\n\n# RESTfulé£æ ¼\n\nREST è¡¨è¿°æ§ç¶æè½¬ç§» æ¯ä¸ç»æ¶æçº¦ææ¡ä»¶ååå æ»¡è¶³è¿äºçº¦ææ¡ä»¶åååçåºç¨ç¨åºæè®¾è®¡å°±æ¯RESTful æ¯ä¸åªè½æªå®ä¹æ¥å£çè§è\n\n\n# æä½ç´¢å¼\n\nä»¥ä¸æä½ä½¿ç¨postmanå·¥å·åéè¯·æ±\n\n# æ·»å ç´¢å¼\n\nä½¿ç¨PUTè¯·æ± å¨uriå°ååå ä¸ç´¢å¼åç§°\n\n192.168.130.124:9200/goods_index\n\n\n1\n\n\n# æ¥è¯¢ç´¢å¼\n\nä½¿ç¨GETè¯·æ± å¨uriå°ååå ä¸ç´¢å¼åç§°\n\n192.168.130.124:9200/goods_index\n\n\n1\n\n\næ¥è¯¢å¤ä¸ªä½¿ç¨éå·åé\n\n192.168.130.124:9200/goods_index,goods_index2\n\n\n1\n\n\næ¥è¯¢å¨é¨ä½¿ç¨_all\n\n192.168.130.124:9200/_all\n\n\n1\n\n\n# å é¤ç´¢å¼\n\nä½¿ç¨DELETEè¯·æ± å¨uriå°ååå ä¸ç´¢å¼åç§°\n\n192.168.130.124:9200/goods_index\n\n\n1\n\n\n# å³é­æå®ç´¢å¼\n\nå³é­ååªæ¯æ æ³ä½¿ç¨ å¹¶ä¸ä¼å é¤æ­¤ç´¢å¼\n\n192.168.130.124:9200/goods_index/_close\n\n\n1\n\n\næå¼ç´¢å¼\n\n192.168.130.124:9200/goods_index/_open\n\n\n1\n\n\n\n# æä½æ å°\n\n * ç®åæ°æ®ç±»å\n   * å­ç¬¦ä¸²\n     * text ä¼åè¯,ä¸æ¯æèå\n     * keyword ä¸ä¼åè¯ å°å¨é¨åå®¹ä½ä¸ºä¸ä¸ªè¯æ¡ æ¯æèå\n   * æ°ç»\n     * \n   * å¸å°\n   * äºè¿å¶\n     * binary\n   * èå´ç±»å\n     * integer_range\n     * float_range\n     * long_range\n     * double_range\n     * date_range\n   * æ¥æ\n * å¤ææ°æ®ç±»å\n   * æ°ç»:[]\n   * å¯¹è±¡:{}\n\n# æ·»å æ å°\n\nä»¥ä¸æä½ä½¿ç¨Kibanaæä½\n\nhttp://192.168.130.124:5601/app/dev_tools#/console\n\n# åå»ºç´¢å¼\nPUT person\n# æ¥è¯¢ç´¢å¼\nGET person\n\n# æ·»å æ å°\nPUT person/_mapping\n{\n  "properties":{\n    "name":{\n      "type":"keyword"\n    },\n    "age":{\n      "type":"integer"\n    }\n  }\n}\n\n# æ¥è¯¢æ å°\nGET person/_mapping\n\n# å é¤ç´¢å¼\nDELETE person\n\n# åå»ºç´¢å¼å¹¶æ·»å æ å°\nPUT person\n{\n  "mappings": {\n    "properties": {\n        "name":{\n      "type":"keyword"\n    },\n    "age":{\n      "type":"integer"\n    }\n    }\n  }\n}\n\n# æ¥è¯¢ç´¢å¼\nGET person\n\n# æ·»å å­æ®µ\nPUT person/_mapping\n{\n  "properties":{\n    "address":{\n      "type":"text"\n    }\n  }\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n26\n27\n28\n29\n30\n31\n32\n33\n34\n35\n36\n37\n38\n39\n40\n41\n42\n43\n44\n45\n46\n47\n48\n49\n50\n51\n\n\n\n# æä½ææ¡£\n\n# æ¥è¯¢ç´¢å¼\nGET person\n\n\n# æ·»å ææ¡£ æå®id   å¯ä»¥ä½¿ç¨PUTæPOSTè¯·æ±\nPUT person/_doc/1\n{\n  "name":"zhangsan",\n  "age":20,\n  "address":"åäº¬"\n}\n\n\n# æ·»å ææ¡£ ä¸æå®id  å¿é¡»ä¸ºPOSTè¯·æ±\nPOST person/_doc\n{\n  "name":"æå",\n  "age":30,\n  "address":"å¹¿ä¸"\n}\n\n\n# æ ¹æ®idæ¥è¯¢ææ¡£\nGET person/_doc/1\n\n\n# æ¥è¯¢ææææ¡£\nGET person/_search\n\n# ä¿®æ¹ææ¡£   å¿é¡»ä¸ºPUTè¯·æ±  å¦æidå­å¨åä¿®æ¹ ä¸å­å¨åèªå¨åå»º\nPUT person/_doc/1\n{\n  "name":"wangwu",\n  "age":20,\n  "address":"åäº¬"\n}\n\n# æ ¹æ®IDå é¤ææ¡£\nDELETE person/_doc/1\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n26\n27\n28\n29\n30\n31\n32\n33\n34\n35\n36\n37\n38\n39\n\n\n\n# åè¯å¨\n\n\n\nä½ESåå§çåè¯å¨å¯¹ä¸­æä¸å¤ªåå¥½\n\n\n# IKåè¯å¨\n\nIKAnalyzeræ¯ä¸ä¸ªå¼æºç åºäºjavaè¯­è¨å¼åçè½»éçº§çä¸­æåè¯å·¥å·å\n\næ¯ä¸ä¸ªåºäºMavenæå»ºçé¡¹ç® å·æ60ä¸å­/ç§çé«éå¤çè½å æ¯æç¨æ·è¯å¸æ©å±å®ä¹\n\nhttps://github.com/medcl/elasticsearch-analysis-ik\n\n\n# å®è£\n\n * å®è£JDK ç±äºESåç½®äºJDK æä»¬å°ESåç½®çJDKè®¾ç½®ä¸ºç³»ç»ç¯å¢åé\n\nvim /etc/profile\n\nexport JAVA_HOME=/opt/elasticsearch-7.15.0/jdk\nexport PATH=$PATH:${JAVA_HOME}/bin\n\nsource /etc/profile\n\n\n1\n2\n3\n4\n5\n6\n\n * å®è£Maven -- å·²ä¸éè¦\n\nwget https://mirrors.bfsu.edu.cn/apache/maven/maven-3/3.8.3/binaries/apache-maven-3.8.3-bin.tar.gz\ntar -zxvf apache-maven-3.8.3-bin.tar.gz\nln -s apache-maven-3.8.3 maven\n#éç½®ç¯å¢åé\nvim /etc/profile.d/maven.sh\n\nexport MAVEN_HOME=/root/maven\nexport PATH=${MAVEN_HOME}/bin:${PATH}\n\nsource /etc/profile.d/maven.sh\nmvn -v\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n\n * å®è£IKåè¯å¨ --å·²ä¸éè¦\n\nwget https://github.com/medcl/elasticsearch-analysis-ik/archive/refs/tags/v7.15.0.zip  #è¿éä¸è½½çæ¯æºç \n# ç±äºæ¯zipæä»¶æä»¥éè¦unzipå½ä»¤\nyum install -y zip\nyum install -y unzip\n#è§£å\nunzip v7.15.0.zip\n\ncd /root/elasticsearch-analysis-ik-7.15.0/\n#ç¼è¯æå\nmvn package\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n\n * å°ç¼è¯å¥½çæä»¶å¯¼å¥å°ESä¸­\n\ncd /opt/elasticsearch-7.15.0/plugins/\nmkdir analysis-ik\ncd analysis-ik/\n#éå¯es\n\n\n\n1\n2\n3\n4\n5\n\n\n\n# ä½¿ç¨\n\n\n# ESåç½®åè¯å¨\nGET _analyze\n{\n  "analyzer": "standard",\n  "text": "ä½ æ¯è¯è¯æ°´"\n}\n\n# ikåè¯å¨,ç²ç²åº¦åè¯\nGET _analyze\n{\n  "analyzer": "ik_smart",\n  "text": "ä½ æ¯è¯è¯æ°´"\n}\n\n# ikåè¯å¨,ç²ç²åº¦åè¯\nGET _analyze\n{\n  "analyzer": "ik_max_word",\n  "text": "ä½ æ¯è¯è¯æ°´"\n}\n\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n\n\n# æ¥è¯¢ææ¡£\n\n * è¯æ¡æ¥è¯¢:tern\n   * è¯æ¡æ¥è¯¢ä¸ä¼åææ¥è¯¢æ¡ä»¶ åªæå½è¯æ¡åæ¥è¯¢å­ç¬¦ä¸²å®å¨å¹éæ¶æå¹éæç´¢\n * å¨ææ¥è¯¢:match\n   * å¨ææ¥è¯¢ä¼åææ¥è¯¢æ¡ä»¶ åå°æ¥è¯¢æ¡ä»¶è¿è¡åè¯ ç¶åæ¥è¯¢ æ±å¹¶é\n\nPUT person/_doc/2\n{\n  "name":"æå",\n  "age":30,\n  "address":"åä¸º5Gææº"\n}\n\nGET person/_doc/2\n\n# term è¯æ¡æ¥è¯¢ æ¥è¯¢æ¡ä»¶å­ç¬¦ä¸²åè¯æ¡è¦å®å¨å¹é\n# esé»è®¤ä½¿ç¨çåè¯å¨æ¯standard ä¸ä¸ªå­ä¸ä¸ªè¯\nGET person/_search\n{\n  "query":{\n    "term": {\n      "address": {\n        "value": "ææº"\n      }\n    }\n  }\n}\n\nDELETE person\n\n# åå»ºç´¢å¼ æ·»å æ å° æå®ä½¿ç¨ikåè¯å¨\nPUT person\n{\n  "mappings": {\n    "properties": {\n      "name":{\n        "type": "keyword"\n      },\n      "address":{\n        "type": "text",\n        "analyzer": "ik_max_word"\n      }\n    }\n  }\n}\n\nGET person\n\n# æ·»å ææ¡£\nPUT person/_doc/1\n{\n  "name":"å¼ ä¸",\n  "age":30,\n  "address":"åä¸º5Gææº"\n}\nPUT person/_doc/2\n{\n  "name":"æå",\n  "age":30,\n  "address":"å¹¿ä¸"\n}\nPUT person/_doc/3\n{\n  "name":"çäº",\n  "age":30,\n  "address":"å°ç±³5Gææº"\n}\n\nGET person/_search\n\n# æ¥è¯¢ termè¯æ¡æ¥è¯¢\nGET person/_search\n{\n  "query":{\n    "term": {\n      "address": {\n        "value": "ææº"\n      }\n    }\n  }\n}\n\n# match åä¼å¯¹æ¥è¯¢çå­ç¬¦ä¸²è¿è¡åè¯ å¨æ¥è¯¢ æ±äº¤é\nGET person/_search\n{\n  "query": {\n    "match": {\n      "address": "è¹æææº"\n    }\n  }\n}\n\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n26\n27\n28\n29\n30\n31\n32\n33\n34\n35\n36\n37\n38\n39\n40\n41\n42\n43\n44\n45\n46\n47\n48\n49\n50\n51\n52\n53\n54\n55\n56\n57\n58\n59\n60\n61\n62\n63\n64\n65\n66\n67\n68\n69\n70\n71\n72\n73\n74\n75\n76\n77\n78\n79\n80\n81\n82\n83\n84\n85\n86\n\n\n\n# JavaApi\n\n 1. åå»ºspringbooté¡¹ç® å¹¶å¼å¥ES\n    \n    \n\n 2. åå»ºapplication.yml éç½®æä»¶\n    \n    elasticsearch:\n      host: 192.168.130.124\n      port: 9200\n    \n    \n    1\n    2\n    3\n    \n\n 3. åå»ºElasticSearchConfigéç½®ç±» å è½½éç½®æä»¶ å¹¶è¿åä¸ä¸ªeså®¢æ·ç«¯å¯¹è±¡\n    \n    package com.itheima.elasticsearchdemo.config;\n    \n    \n    import org.apache.http.HttpHost;\n    import org.elasticsearch.client.RestClient;\n    import org.elasticsearch.client.RestHighLevelClient;\n    import org.springframework.boot.context.properties.ConfigurationProperties;\n    import org.springframework.context.annotation.Bean;\n    import org.springframework.context.annotation.Configuration;\n    \n    @Configuration\n    @ConfigurationProperties(prefix = "elasticsearch")\n    public class ElasticSearchConfig {\n    \n        private String host;\n        private int port;\n    \n        public String getHost() {\n            return host;\n        }\n    \n        public void setHost(String host) {\n            this.host = host;\n        }\n    \n        public int getPort() {\n            return port;\n        }\n    \n        public void setPort(int port) {\n            this.port = port;\n        }\n    \n        @Bean\n        public RestHighLevelClient client(){\n            return new RestHighLevelClient(RestClient.builder(\n                    new HttpHost(host,port,"http")\n            ));\n    \n        }\n    }\n    \n    \n    1\n    2\n    3\n    4\n    5\n    6\n    7\n    8\n    9\n    10\n    11\n    12\n    13\n    14\n    15\n    16\n    17\n    18\n    19\n    20\n    21\n    22\n    23\n    24\n    25\n    26\n    27\n    28\n    29\n    30\n    31\n    32\n    33\n    34\n    35\n    36\n    37\n    38\n    39\n    40\n    41\n    \n\n 4. æ³¨å¥å¯¹è±¡ ä½¿ç¨\n    \n    //1.åå»ºeså®¢æ·ç«¯å¯¹è±¡\n    @Autowired\n    private RestHighLevelClient restHighLevelClient;\n    \n    \n    1\n    2\n    3\n    \n\n\n# æ·»å ç´¢å¼\n\n//æ·»å ç´¢å¼\n@Test\nvoid addIndex() throws IOException {\n    //è·åæä½ç´¢å¼çå¯¹è±¡\n    IndicesClient indices = restHighLevelClient.indices();\n    //æ·»å \n    CreateIndexRequest createIndex = new CreateIndexRequest("itheima");  //ç´¢å¼åç§°\n    CreateIndexResponse createIndexResponse = indices.create(createIndex, RequestOptions.DEFAULT);\n    //æ ¹æ®è¿åå¼å¤æ­ç»æ\n    System.out.println(createIndexResponse.isAcknowledged());\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n\n * æ·»å ç´¢å¼å¹¶æ·»å æ å°\n\n//æ·»å ç´¢å¼å¹¶æ·»å æ å°\n@Test\nvoid addIndexAndMapping() throws IOException {\n    //è·åæä½ç´¢å¼çå¯¹è±¡\n    IndicesClient indices = restHighLevelClient.indices();\n    CreateIndexRequest request = new CreateIndexRequest("twitter");\n\n    // åç´¢å¼æ·»å æ å°\n    request.source("{\\n" +\n            "    \\"settings\\" : {\\n" +\n            "        \\"number_of_shards\\" : 3,\\n" +\n            "        \\"number_of_replicas\\" : 2\\n" +\n            "    },\\n" +\n            "    \\"mappings\\" : {\\n" +\n            "        \\"tweet\\" : {\\n" +\n            "            \\"properties\\" : {\\n" +\n            "                \\"message\\" : { \\"type\\" : \\"text\\" }\\n" +\n            "            }\\n" +\n            "        }\\n" +\n            "    },\\n" +\n            "    \\"aliases\\" : {\\n" +\n            "        \\"twitter_alias\\" : {}\\n" +\n            "    }\\n" +\n            "}", XContentType.JSON);\n    CreateIndexResponse createIndexResponse = indices.create(request, RequestOptions.DEFAULT);\n    //æ ¹æ®è¿åå¼å¤æ­ç»æ\n    System.out.println(createIndexResponse.isAcknowledged());\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n26\n27\n28\n\n\n# æ¥è¯¢ç´¢å¼\n\n//æ¥è¯¢ç´¢å¼\n@Test\npublic void queryIndex() throws IOException {\n    GetIndexRequest request = new GetIndexRequest("twitter");\n    GetIndexResponse getIndexResponse = restHighLevelClient.indices().get(request, RequestOptions.DEFAULT);\n    System.out.println(getIndexResponse.getAliases());\n    System.out.println(getIndexResponse.getMappings());\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n\n\n# å é¤ç´¢å¼\n\n//å é¤ç´¢å¼\n@Test\npublic void deleteIndex() throws IOException {\n    IndicesClient indices = restHighLevelClient.indices();\n    DeleteIndexRequest deleteIndexRequest = new DeleteIndexRequest("itheima");\n    AcknowledgedResponse acknowledgedResponse = indices.delete(deleteIndexRequest, RequestOptions.DEFAULT);\n    System.out.println(acknowledgedResponse.isAcknowledged());\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n\n\n# å¤æ­ç´¢å¼æ¯å¦å­å¨\n\n//å¤æ­ç´¢å¼æ¯å¦å­å¨\n@Test\npublic void existIndex() throws IOException {\n    IndicesClient indices = restHighLevelClient.indices();\n    GetIndexRequest getRequest = new GetIndexRequest("itheima");\n    boolean exists = indices.exists(getRequest, RequestOptions.DEFAULT);\n    System.out.println(exists);\n\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n\n\n\n# æ·»å /ä¿®æ¹ææ¡£\n\nå½idå­å¨æ¶åä¿®æ¹ ä¸å­å¨æ¶åæ·»å \n\n# Map\n\n//æ·»å /ä¿®æ¹ map\n@Test\npublic void addDoc() throws IOException {\n    //æ·»å æ°æ®å¯¹è±¡ map\n    Map<String, String> data = new HashMap<>();\n    data.put("address","èæ¯");\n    data.put("name","é»ç³");\n    data.put("age","11");\n    //1.è·åææ¡£å¯¹è±¡\n    IndexRequest indexRequest = new IndexRequest("twitter").id("1").source(data);\n    //æ·»å æ°æ®\n    IndexResponse index = restHighLevelClient.index(indexRequest, RequestOptions.DEFAULT);\n    //æå°ååºç»æ\n    System.out.println(index.getId());\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n\n\n# JSON\n\n//æ·»å /ä¿®æ¹ json\n@Test\npublic void addDoc2() throws IOException {\n   //åå»ºå¯¹è±¡\n    Person p =new Person();\n    p.setId("2");\n    p.setName("iekr");\n    p.setAge(15);\n    p.setAddress("å¹¿ä¸");\n    String json = JSON.toJSONString(p);\n    //1.è·åææ¡£å¯¹è±¡\n    IndexRequest indexRequest = new IndexRequest("twitter").id(p.getId()).source(json,XContentType.JSON);\n    //æ·»å æ°æ®\n    IndexResponse index = restHighLevelClient.index(indexRequest, RequestOptions.DEFAULT);\n    //æå°ååºç»æ\n    System.out.println(index.getId());\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n\n\n\n# æ¥è¯¢ææ¡£\n\n    //æ ¹æ®idæ¥è¯¢ææ¡£\n    @Test\n    public void findDocById() throws IOException {\n        GetRequest getRequest = new GetRequest("twitter", "1");\n//        getRequest.id("1");  //åç¬æå®id\n        GetResponse documentFields = restHighLevelClient.get(getRequest, RequestOptions.DEFAULT);\n        System.out.println(documentFields.getSourceAsString()); //è·åJSONå­ç¬¦ä¸²\n\n    }\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n\n\n\n# å é¤ææ¡£\n\n//æ ¹æ®idå é¤ææ¡£\n@Test\npublic void delDoc() throws IOException {\n    DeleteRequest delete = new DeleteRequest("twitter", "1");\n    DeleteResponse response = restHighLevelClient.delete(delete, RequestOptions.DEFAULT);\n    System.out.println(response.getId()); \n\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n',normalizedContent:'# elasticsearch\n\nelasticsearchæ¯åºäº luceneçæç´¢æå¡å¨ æ¯ä¸ä¸ªåå¸å¼ é«æ©å± é«å®æ¶çæç´¢ä¸æ°æ®åæå¼æ\n\nåºäºrestful webæ¥å£\n\nelasticsearchæ¯ç¨javaå¼å å¹¶ä½ä¸ºapacheçå¼æºé¡¹ç®\n\nhttps://www.elastic.co/cn/\n\nä¸è¬ç¨äº æµ·éæ°æ®çæ¥è¯¢ æ¥å¿æ°æ®åæ å®æ¶æ°æ®åæ\n\n\n# åæç´¢å¼\n\nå°åä¸ªææ¡£ä¸­åå®¹.è¿è¡åè¯ å½¢æè¯æ¡ è®°å½è¯æ¡åæ°æ®çå¯ä¸æ è¯(id)çå¯¹åºå³ç³» å½¢æçäº§ç©\n\n\n# elasticsearchæç´¢åä¼ ç»æ°æ®åºæ¥è¯¢çåºå«\n\n 1. ä¼ ç»å³ç³»åæ°æ® ä½¿ç¨æ¨¡ç³æ¥è¯¢ å·¦è¾¹æééç¬¦ ä¸ä¼èµ°ç´¢å¼ ä¼å¨è¡¨æ«æ æ§è½ä½\n 2. åªè½ä»¥ä¸ä¸ªå³é®å­ä½ä¸ºæ¥è¯¢æ¡ä»¶ èelasticsearchä¼æä¸ä¸ªå³é®å­æåä¸ºå¤ä¸ªè¯ è¿è¡æ¥è¯¢\n 3. elasticsearch ä»¥å³é®å­ çæçåæç´¢å¼ è¯æ¡ä¼æåº å½¢æä¸é¢æ å½¢ç»æ æåè¯æ¡çæ¥è¯¢éåº¦\n 4. mysqlæäºå¡æ§ èelasticsearch æ²¡æäºå¡æ§ æä»¥å äºçæ°æ®æ¯æ æ³æ¢å¤ç\n 5. elasticsearch æ²¡æç©çå¤é®è¿ä¸ªç¹æ§ å¦ææ°æ®çä¸è´æ§è¦æ±æ¯è¾é« ä¸å»ºè®®ä½¿ç¨\n 6. elasticsearchåmysql åå·¥ä¸å mysqlè´è´£å­å¨æ°æ® elasticsearchè´è´£æç´¢æ°æ®\n\n\n# å®è£elasticsearch\n\ntar -zxvf elasticsearch-7.15.0-linux-x86_64.tar.gz -c /opt\n#ç¼è¾éç½®\nvim /opt/elasticsearch-7.15.0/config/elasticsearch.yml\n\n#è¿½å ä»¥ä¸åå®¹\ncluster.name: my-application\nnode.name: node-1\nnetwork.host: 0.0.0.0\nhttp.port: 9200\ncluster.initial_master_nodes: ["node-1"]\n\n#åºäºå®å¨é®é¢elasticsearchä¸åè®¸rootç¨æ·ç´æ¥è¿è¡\nuseradd iekr\npasswd 123456\n#ææ\nchown -r iekr:iekr /opt/elasticsearch-7.15.0/\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n\n\næ°å»ºçç¨æ·æå¤§åå»ºæä»¶åæå¤§èæåå­å¤ªå° éè¦ä¿®æ¹éç½®æä»¶\n\n#ä¿®æ¹æå¤§åå»ºæä»¶æ°\nvim /etc/security/limits.conf\n\n#è¿½å åå®¹\niekr soft nofile 65536\niekr hard nofile 65536\n\nvim /etc/security/limits.d/20-nproc.conf\n#è¿½å åå®¹\niekr soft nofile 65536\niekr hard nofile 65536\n* hard nproc 4096\n\n\n#ä¿®æ¹èæåå®¹å¤§å°\nvim /etc/sysctl.conf \n\n#è¿½å åå®¹\nvm.max_map_count=655360\n#éè½½\nsysctl -p\n\nfirewall-cmd --zone=public --add-port=9200/tcp --permanent\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n\n\nå¯å¨\n\nsu iekr\ncd /opt/elasticsearch-7.15.0/bin/\n./elasticsearch -d  #-dåå°è¿è¡\n\n\n1\n2\n3\n\n\nè®¿é® http://192.168.130.124:9200/ åºç°jsonå­ç¬¦ä¸²åå¯å¨æå\n\n\n# å®è£è¾å©å·¥å·kibana\n\nhttps://www.elastic.co/cn/kibana/\n\ntar -zxvf kibana-7.15.0-linux-x86_64.tar.gz -c /opt\n#éç½®\nvim /opt/kibana-7.15.0-linux-x86_64/config/kibana.yml\n\n#è¿½å åå®¹\nserver.port: 5601\nserver.host: "0.0.0.0"\nserver.name: "your-hostname"  #èªå®ä¹åç§°\nelasticsearch.hosts: ["http://localhost:9200"]\nelasticsearch.requesttimeout: 30000  #è¿æ¥esè¶æ¶æ¶é´\ni18n.locale: "zh-cn"  #è®¾ç½®ä¸ºä¸­æ\n\n#ææ\nchown -r iekr:iekr /opt/kibana-7.15.0-linux-x86_64/\nfirewall-cmd --zone=public --add-port=5601/tcp --permanent\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n\n\nå¯å¨\n\nsu iekr\ncd /opt/kibana-7.15.0-linux-x86_64/bin/\nnohup ./kibana &  #åå°è¿è¡  åå°./kibana\n\n\n1\n2\n3\n\n\n\n# elasticsearch æ ¸å¿æ¦å¿µ\n\n * ç´¢å¼(index) elasticsearchå­å¨æ°æ®çå°æ¹ å¯ä»¥çè§£ä¸ºå³ç³»åæ°æ®åºä¸­çæ°æ®åºæ¦å¿µ\n\n * æ å°(mapping)\n   \n   mappingå®ä¹äºæ¯ä¸ªå­æ®µçç±»å å­æ®µæä½¿ç¨çåè¯å¨ç­ ç¸å®ä¹å³ç³»åæ°æ®åºä¸­çè¡¨ç»æ\n\n * ææ¡£(document) elasticsearchä¸­çæå°æ°æ®åå ä»¥jsonæ ¼å¼æ¾ç¤º ä¸ä¸ªdocumentç¸å½äº å³ç³»åæ°æ®åºçä¸è¡æ°æ®\n\n * åæç´¢å¼ ä¸ä¸ªåæç´¢å¼ç±ææ¡£ä¸­ææä¸éå¤æ­¤çåè¡¨ææ å¯¹åºå¶ä¸­æ¯ä¸ªè¯ å¯¹åºä¸ä¸ªåå«å®çææ¡£idåè¡¨\n\n * ç±»å(type)\n   \n   ä¸ç§typeå°±åä¸ç±»è¡¨ å¦ç¨æ·è¡¨ è§è²è¡¨ç­ å¨elasticsearch7.x typeé»è®¤ä¸º_doc\n   \n   5.xä¸­ä¸ä¸ªindexå¯ä»¥æå¤ç§type\n   \n   6.xä¸­ä¸ä¸ªindexåªè½æä¸ç§type\n\n\n# æä½elasticsearch\n\n\n# restfulé£æ ¼\n\nrest è¡¨è¿°æ§ç¶æè½¬ç§» æ¯ä¸ç»æ¶æçº¦ææ¡ä»¶ååå æ»¡è¶³è¿äºçº¦ææ¡ä»¶åååçåºç¨ç¨åºæè®¾è®¡å°±æ¯restful æ¯ä¸åªè½æªå®ä¹æ¥å£çè§è\n\n\n# æä½ç´¢å¼\n\nä»¥ä¸æä½ä½¿ç¨postmanå·¥å·åéè¯·æ±\n\n# æ·»å ç´¢å¼\n\nä½¿ç¨putè¯·æ± å¨uriå°ååå ä¸ç´¢å¼åç§°\n\n192.168.130.124:9200/goods_index\n\n\n1\n\n\n# æ¥è¯¢ç´¢å¼\n\nä½¿ç¨getè¯·æ± å¨uriå°ååå ä¸ç´¢å¼åç§°\n\n192.168.130.124:9200/goods_index\n\n\n1\n\n\næ¥è¯¢å¤ä¸ªä½¿ç¨éå·åé\n\n192.168.130.124:9200/goods_index,goods_index2\n\n\n1\n\n\næ¥è¯¢å¨é¨ä½¿ç¨_all\n\n192.168.130.124:9200/_all\n\n\n1\n\n\n# å é¤ç´¢å¼\n\nä½¿ç¨deleteè¯·æ± å¨uriå°ååå ä¸ç´¢å¼åç§°\n\n192.168.130.124:9200/goods_index\n\n\n1\n\n\n# å³é­æå®ç´¢å¼\n\nå³é­ååªæ¯æ æ³ä½¿ç¨ å¹¶ä¸ä¼å é¤æ­¤ç´¢å¼\n\n192.168.130.124:9200/goods_index/_close\n\n\n1\n\n\næå¼ç´¢å¼\n\n192.168.130.124:9200/goods_index/_open\n\n\n1\n\n\n\n# æä½æ å°\n\n * ç®åæ°æ®ç±»å\n   * å­ç¬¦ä¸²\n     * text ä¼åè¯,ä¸æ¯æèå\n     * keyword ä¸ä¼åè¯ å°å¨é¨åå®¹ä½ä¸ºä¸ä¸ªè¯æ¡ æ¯æèå\n   * æ°ç»\n     * \n   * å¸å°\n   * äºè¿å¶\n     * binary\n   * èå´ç±»å\n     * integer_range\n     * float_range\n     * long_range\n     * double_range\n     * date_range\n   * æ¥æ\n * å¤ææ°æ®ç±»å\n   * æ°ç»:[]\n   * å¯¹è±¡:{}\n\n# æ·»å æ å°\n\nä»¥ä¸æä½ä½¿ç¨kibanaæä½\n\nhttp://192.168.130.124:5601/app/dev_tools#/console\n\n# åå»ºç´¢å¼\nput person\n# æ¥è¯¢ç´¢å¼\nget person\n\n# æ·»å æ å°\nput person/_mapping\n{\n  "properties":{\n    "name":{\n      "type":"keyword"\n    },\n    "age":{\n      "type":"integer"\n    }\n  }\n}\n\n# æ¥è¯¢æ å°\nget person/_mapping\n\n# å é¤ç´¢å¼\ndelete person\n\n# åå»ºç´¢å¼å¹¶æ·»å æ å°\nput person\n{\n  "mappings": {\n    "properties": {\n        "name":{\n      "type":"keyword"\n    },\n    "age":{\n      "type":"integer"\n    }\n    }\n  }\n}\n\n# æ¥è¯¢ç´¢å¼\nget person\n\n# æ·»å å­æ®µ\nput person/_mapping\n{\n  "properties":{\n    "address":{\n      "type":"text"\n    }\n  }\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n26\n27\n28\n29\n30\n31\n32\n33\n34\n35\n36\n37\n38\n39\n40\n41\n42\n43\n44\n45\n46\n47\n48\n49\n50\n51\n\n\n\n# æä½ææ¡£\n\n# æ¥è¯¢ç´¢å¼\nget person\n\n\n# æ·»å ææ¡£ æå®id   å¯ä»¥ä½¿ç¨putæpostè¯·æ±\nput person/_doc/1\n{\n  "name":"zhangsan",\n  "age":20,\n  "address":"åäº¬"\n}\n\n\n# æ·»å ææ¡£ ä¸æå®id  å¿é¡»ä¸ºpostè¯·æ±\npost person/_doc\n{\n  "name":"æå",\n  "age":30,\n  "address":"å¹¿ä¸"\n}\n\n\n# æ ¹æ®idæ¥è¯¢ææ¡£\nget person/_doc/1\n\n\n# æ¥è¯¢ææææ¡£\nget person/_search\n\n# ä¿®æ¹ææ¡£   å¿é¡»ä¸ºputè¯·æ±  å¦æidå­å¨åä¿®æ¹ ä¸å­å¨åèªå¨åå»º\nput person/_doc/1\n{\n  "name":"wangwu",\n  "age":20,\n  "address":"åäº¬"\n}\n\n# æ ¹æ®idå é¤ææ¡£\ndelete person/_doc/1\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n26\n27\n28\n29\n30\n31\n32\n33\n34\n35\n36\n37\n38\n39\n\n\n\n# åè¯å¨\n\n\n\nä½esåå§çåè¯å¨å¯¹ä¸­æä¸å¤ªåå¥½\n\n\n# ikåè¯å¨\n\nikanalyzeræ¯ä¸ä¸ªå¼æºç åºäºjavaè¯­è¨å¼åçè½»éçº§çä¸­æåè¯å·¥å·å\n\næ¯ä¸ä¸ªåºäºmavenæå»ºçé¡¹ç® å·æ60ä¸å­/ç§çé«éå¤çè½å æ¯æç¨æ·è¯å¸æ©å±å®ä¹\n\nhttps://github.com/medcl/elasticsearch-analysis-ik\n\n\n# å®è£\n\n * å®è£jdk ç±äºesåç½®äºjdk æä»¬å°esåç½®çjdkè®¾ç½®ä¸ºç³»ç»ç¯å¢åé\n\nvim /etc/profile\n\nexport java_home=/opt/elasticsearch-7.15.0/jdk\nexport path=$path:${java_home}/bin\n\nsource /etc/profile\n\n\n1\n2\n3\n4\n5\n6\n\n * å®è£maven -- å·²ä¸éè¦\n\nwget https://mirrors.bfsu.edu.cn/apache/maven/maven-3/3.8.3/binaries/apache-maven-3.8.3-bin.tar.gz\ntar -zxvf apache-maven-3.8.3-bin.tar.gz\nln -s apache-maven-3.8.3 maven\n#éç½®ç¯å¢åé\nvim /etc/profile.d/maven.sh\n\nexport maven_home=/root/maven\nexport path=${maven_home}/bin:${path}\n\nsource /etc/profile.d/maven.sh\nmvn -v\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n\n * å®è£ikåè¯å¨ --å·²ä¸éè¦\n\nwget https://github.com/medcl/elasticsearch-analysis-ik/archive/refs/tags/v7.15.0.zip  #è¿éä¸è½½çæ¯æºç \n# ç±äºæ¯zipæä»¶æä»¥éè¦unzipå½ä»¤\nyum install -y zip\nyum install -y unzip\n#è§£å\nunzip v7.15.0.zip\n\ncd /root/elasticsearch-analysis-ik-7.15.0/\n#ç¼è¯æå\nmvn package\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n\n * å°ç¼è¯å¥½çæä»¶å¯¼å¥å°esä¸­\n\ncd /opt/elasticsearch-7.15.0/plugins/\nmkdir analysis-ik\ncd analysis-ik/\n#éå¯es\n\n\n\n1\n2\n3\n4\n5\n\n\n\n# ä½¿ç¨\n\n\n# esåç½®åè¯å¨\nget _analyze\n{\n  "analyzer": "standard",\n  "text": "ä½ æ¯è¯è¯æ°´"\n}\n\n# ikåè¯å¨,ç²ç²åº¦åè¯\nget _analyze\n{\n  "analyzer": "ik_smart",\n  "text": "ä½ æ¯è¯è¯æ°´"\n}\n\n# ikåè¯å¨,ç²ç²åº¦åè¯\nget _analyze\n{\n  "analyzer": "ik_max_word",\n  "text": "ä½ æ¯è¯è¯æ°´"\n}\n\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n\n\n# æ¥è¯¢ææ¡£\n\n * è¯æ¡æ¥è¯¢:tern\n   * è¯æ¡æ¥è¯¢ä¸ä¼åææ¥è¯¢æ¡ä»¶ åªæå½è¯æ¡åæ¥è¯¢å­ç¬¦ä¸²å®å¨å¹éæ¶æå¹éæç´¢\n * å¨ææ¥è¯¢:match\n   * å¨ææ¥è¯¢ä¼åææ¥è¯¢æ¡ä»¶ åå°æ¥è¯¢æ¡ä»¶è¿è¡åè¯ ç¶åæ¥è¯¢ æ±å¹¶é\n\nput person/_doc/2\n{\n  "name":"æå",\n  "age":30,\n  "address":"åä¸º5gææº"\n}\n\nget person/_doc/2\n\n# term è¯æ¡æ¥è¯¢ æ¥è¯¢æ¡ä»¶å­ç¬¦ä¸²åè¯æ¡è¦å®å¨å¹é\n# esé»è®¤ä½¿ç¨çåè¯å¨æ¯standard ä¸ä¸ªå­ä¸ä¸ªè¯\nget person/_search\n{\n  "query":{\n    "term": {\n      "address": {\n        "value": "ææº"\n      }\n    }\n  }\n}\n\ndelete person\n\n# åå»ºç´¢å¼ æ·»å æ å° æå®ä½¿ç¨ikåè¯å¨\nput person\n{\n  "mappings": {\n    "properties": {\n      "name":{\n        "type": "keyword"\n      },\n      "address":{\n        "type": "text",\n        "analyzer": "ik_max_word"\n      }\n    }\n  }\n}\n\nget person\n\n# æ·»å ææ¡£\nput person/_doc/1\n{\n  "name":"å¼ ä¸",\n  "age":30,\n  "address":"åä¸º5gææº"\n}\nput person/_doc/2\n{\n  "name":"æå",\n  "age":30,\n  "address":"å¹¿ä¸"\n}\nput person/_doc/3\n{\n  "name":"çäº",\n  "age":30,\n  "address":"å°ç±³5gææº"\n}\n\nget person/_search\n\n# æ¥è¯¢ termè¯æ¡æ¥è¯¢\nget person/_search\n{\n  "query":{\n    "term": {\n      "address": {\n        "value": "ææº"\n      }\n    }\n  }\n}\n\n# match åä¼å¯¹æ¥è¯¢çå­ç¬¦ä¸²è¿è¡åè¯ å¨æ¥è¯¢ æ±äº¤é\nget person/_search\n{\n  "query": {\n    "match": {\n      "address": "è¹æææº"\n    }\n  }\n}\n\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n26\n27\n28\n29\n30\n31\n32\n33\n34\n35\n36\n37\n38\n39\n40\n41\n42\n43\n44\n45\n46\n47\n48\n49\n50\n51\n52\n53\n54\n55\n56\n57\n58\n59\n60\n61\n62\n63\n64\n65\n66\n67\n68\n69\n70\n71\n72\n73\n74\n75\n76\n77\n78\n79\n80\n81\n82\n83\n84\n85\n86\n\n\n\n# javaapi\n\n 1. åå»ºspringbooté¡¹ç® å¹¶å¼å¥es\n    \n    \n\n 2. åå»ºapplication.yml éç½®æä»¶\n    \n    elasticsearch:\n      host: 192.168.130.124\n      port: 9200\n    \n    \n    1\n    2\n    3\n    \n\n 3. åå»ºelasticsearchconfigéç½®ç±» å è½½éç½®æä»¶ å¹¶è¿åä¸ä¸ªeså®¢æ·ç«¯å¯¹è±¡\n    \n    package com.itheima.elasticsearchdemo.config;\n    \n    \n    import org.apache.http.httphost;\n    import org.elasticsearch.client.restclient;\n    import org.elasticsearch.client.resthighlevelclient;\n    import org.springframework.boot.context.properties.configurationproperties;\n    import org.springframework.context.annotation.bean;\n    import org.springframework.context.annotation.configuration;\n    \n    @configuration\n    @configurationproperties(prefix = "elasticsearch")\n    public class elasticsearchconfig {\n    \n        private string host;\n        private int port;\n    \n        public string gethost() {\n            return host;\n        }\n    \n        public void sethost(string host) {\n            this.host = host;\n        }\n    \n        public int getport() {\n            return port;\n        }\n    \n        public void setport(int port) {\n            this.port = port;\n        }\n    \n        @bean\n        public resthighlevelclient client(){\n            return new resthighlevelclient(restclient.builder(\n                    new httphost(host,port,"http")\n            ));\n    \n        }\n    }\n    \n    \n    1\n    2\n    3\n    4\n    5\n    6\n    7\n    8\n    9\n    10\n    11\n    12\n    13\n    14\n    15\n    16\n    17\n    18\n    19\n    20\n    21\n    22\n    23\n    24\n    25\n    26\n    27\n    28\n    29\n    30\n    31\n    32\n    33\n    34\n    35\n    36\n    37\n    38\n    39\n    40\n    41\n    \n\n 4. æ³¨å¥å¯¹è±¡ ä½¿ç¨\n    \n    //1.åå»ºeså®¢æ·ç«¯å¯¹è±¡\n    @autowired\n    private resthighlevelclient resthighlevelclient;\n    \n    \n    1\n    2\n    3\n    \n\n\n# æ·»å ç´¢å¼\n\n//æ·»å ç´¢å¼\n@test\nvoid addindex() throws ioexception {\n    //è·åæä½ç´¢å¼çå¯¹è±¡\n    indicesclient indices = resthighlevelclient.indices();\n    //æ·»å \n    createindexrequest createindex = new createindexrequest("itheima");  //ç´¢å¼åç§°\n    createindexresponse createindexresponse = indices.create(createindex, requestoptions.default);\n    //æ ¹æ®è¿åå¼å¤æ­ç»æ\n    system.out.println(createindexresponse.isacknowledged());\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n\n * æ·»å ç´¢å¼å¹¶æ·»å æ å°\n\n//æ·»å ç´¢å¼å¹¶æ·»å æ å°\n@test\nvoid addindexandmapping() throws ioexception {\n    //è·åæä½ç´¢å¼çå¯¹è±¡\n    indicesclient indices = resthighlevelclient.indices();\n    createindexrequest request = new createindexrequest("twitter");\n\n    // åç´¢å¼æ·»å æ å°\n    request.source("{\\n" +\n            "    \\"settings\\" : {\\n" +\n            "        \\"number_of_shards\\" : 3,\\n" +\n            "        \\"number_of_replicas\\" : 2\\n" +\n            "    },\\n" +\n            "    \\"mappings\\" : {\\n" +\n            "        \\"tweet\\" : {\\n" +\n            "            \\"properties\\" : {\\n" +\n            "                \\"message\\" : { \\"type\\" : \\"text\\" }\\n" +\n            "            }\\n" +\n            "        }\\n" +\n            "    },\\n" +\n            "    \\"aliases\\" : {\\n" +\n            "        \\"twitter_alias\\" : {}\\n" +\n            "    }\\n" +\n            "}", xcontenttype.json);\n    createindexresponse createindexresponse = indices.create(request, requestoptions.default);\n    //æ ¹æ®è¿åå¼å¤æ­ç»æ\n    system.out.println(createindexresponse.isacknowledged());\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n26\n27\n28\n\n\n# æ¥è¯¢ç´¢å¼\n\n//æ¥è¯¢ç´¢å¼\n@test\npublic void queryindex() throws ioexception {\n    getindexrequest request = new getindexrequest("twitter");\n    getindexresponse getindexresponse = resthighlevelclient.indices().get(request, requestoptions.default);\n    system.out.println(getindexresponse.getaliases());\n    system.out.println(getindexresponse.getmappings());\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n\n\n# å é¤ç´¢å¼\n\n//å é¤ç´¢å¼\n@test\npublic void deleteindex() throws ioexception {\n    indicesclient indices = resthighlevelclient.indices();\n    deleteindexrequest deleteindexrequest = new deleteindexrequest("itheima");\n    acknowledgedresponse acknowledgedresponse = indices.delete(deleteindexrequest, requestoptions.default);\n    system.out.println(acknowledgedresponse.isacknowledged());\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n\n\n# å¤æ­ç´¢å¼æ¯å¦å­å¨\n\n//å¤æ­ç´¢å¼æ¯å¦å­å¨\n@test\npublic void existindex() throws ioexception {\n    indicesclient indices = resthighlevelclient.indices();\n    getindexrequest getrequest = new getindexrequest("itheima");\n    boolean exists = indices.exists(getrequest, requestoptions.default);\n    system.out.println(exists);\n\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n\n\n\n# æ·»å /ä¿®æ¹ææ¡£\n\nå½idå­å¨æ¶åä¿®æ¹ ä¸å­å¨æ¶åæ·»å \n\n# map\n\n//æ·»å /ä¿®æ¹ map\n@test\npublic void adddoc() throws ioexception {\n    //æ·»å æ°æ®å¯¹è±¡ map\n    map<string, string> data = new hashmap<>();\n    data.put("address","èæ¯");\n    data.put("name","é»ç³");\n    data.put("age","11");\n    //1.è·åææ¡£å¯¹è±¡\n    indexrequest indexrequest = new indexrequest("twitter").id("1").source(data);\n    //æ·»å æ°æ®\n    indexresponse index = resthighlevelclient.index(indexrequest, requestoptions.default);\n    //æå°ååºç»æ\n    system.out.println(index.getid());\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n\n\n# json\n\n//æ·»å /ä¿®æ¹ json\n@test\npublic void adddoc2() throws ioexception {\n   //åå»ºå¯¹è±¡\n    person p =new person();\n    p.setid("2");\n    p.setname("iekr");\n    p.setage(15);\n    p.setaddress("å¹¿ä¸");\n    string json = json.tojsonstring(p);\n    //1.è·åææ¡£å¯¹è±¡\n    indexrequest indexrequest = new indexrequest("twitter").id(p.getid()).source(json,xcontenttype.json);\n    //æ·»å æ°æ®\n    indexresponse index = resthighlevelclient.index(indexrequest, requestoptions.default);\n    //æå°ååºç»æ\n    system.out.println(index.getid());\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n\n\n\n# æ¥è¯¢ææ¡£\n\n    //æ ¹æ®idæ¥è¯¢ææ¡£\n    @test\n    public void finddocbyid() throws ioexception {\n        getrequest getrequest = new getrequest("twitter", "1");\n//        getrequest.id("1");  //åç¬æå®id\n        getresponse documentfields = resthighlevelclient.get(getrequest, requestoptions.default);\n        system.out.println(documentfields.getsourceasstring()); //è·åjsonå­ç¬¦ä¸²\n\n    }\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n\n\n\n# å é¤ææ¡£\n\n//æ ¹æ®idå é¤ææ¡£\n@test\npublic void deldoc() throws ioexception {\n    deleterequest delete = new deleterequest("twitter", "1");\n    deleteresponse response = resthighlevelclient.delete(delete, requestoptions.default);\n    system.out.println(response.getid()); \n\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n',charsets:{cjk:!0},lastUpdated:"2022/03/18, 07:01:11",lastUpdatedTimestamp:1647558071e3},{title:"ElasticSearch é«çº§",frontmatter:{title:"ElasticSearch é«çº§",date:"2022-03-18T00:51:47.000Z",permalink:"/pages/cf92bb/",categories:["åç«¯","JavaEE"],tags:[null]},regularPath:"/%E5%90%8E%E7%AB%AF/02.JavaEE/20.ElasticSearch%20%E9%AB%98%E7%BA%A7.html",relativePath:"åç«¯/02.JavaEE/20.ElasticSearch é«çº§.md",key:"v-bf6ac024",path:"/pages/cf92bb/",headers:[{level:2,title:"æ¹éæä½",slug:"æ¹éæä½",normalizedTitle:"æ¹éæä½",charIndex:23},{level:3,title:"èæ¬æä½",slug:"èæ¬æä½",normalizedTitle:"èæ¬æä½",charIndex:78},{level:3,title:"API",slug:"api",normalizedTitle:"api",charIndex:337},{level:2,title:"å¯¼å¥æ°æ®",slug:"å¯¼å¥æ°æ®",normalizedTitle:"å¯¼å¥æ°æ®",charIndex:1228},{level:3,title:"ä½¿ç¨fastjson è½¬æ¢å¯¹è±¡ä¸è½¬æ¢è¯¥æååé",slug:"ä½¿ç¨fastjson-è½¬æ¢å¯¹è±¡ä¸è½¬æ¢è¯¥æååé",normalizedTitle:"ä½¿ç¨fastjson è½¬æ¢å¯¹è±¡ä¸è½¬æ¢è¯¥æååé",charIndex:1333},{level:2,title:"matchALLæ¥è¯¢",slug:"matchallæ¥è¯¢",normalizedTitle:"matchallæ¥è¯¢",charIndex:1418},{level:3,title:"èæ¬æä½",slug:"èæ¬æä½-2",normalizedTitle:"èæ¬æä½",charIndex:78},{level:3,title:"Apiæä½",slug:"apiæä½",normalizedTitle:"apiæä½",charIndex:1623},{level:2,title:"termæ¥è¯¢",slug:"termæ¥è¯¢",normalizedTitle:"termæ¥è¯¢",charIndex:2722},{level:3,title:"èæ¬æ¥è¯¢",slug:"èæ¬æ¥è¯¢",normalizedTitle:"èæ¬æ¥è¯¢",charIndex:2733},{level:3,title:"apiæ¥è¯¢",slug:"apiæ¥è¯¢",normalizedTitle:"apiæ¥è¯¢",charIndex:2903},{level:2,title:"matchæ¥è¯¢",slug:"matchæ¥è¯¢",normalizedTitle:"matchæ¥è¯¢",charIndex:3782},{level:3,title:"èæ¬æä½",slug:"èæ¬æä½-3",normalizedTitle:"èæ¬æä½",charIndex:78},{level:3,title:"APIæä½",slug:"apiæä½-2",normalizedTitle:"apiæä½",charIndex:4044},{level:2,title:"æ¨¡ç³æ¥è¯¢",slug:"æ¨¡ç³æ¥è¯¢",normalizedTitle:"æ¨¡ç³æ¥è¯¢",charIndex:4972},{level:3,title:"èæ¬æ¥è¯¢",slug:"èæ¬æ¥è¯¢-2",normalizedTitle:"èæ¬æ¥è¯¢",charIndex:2733},{level:3,title:"apiæä½",slug:"apiæä½-3",normalizedTitle:"apiæä½",charIndex:5539},{level:2,title:"èå´æ¥è¯¢",slug:"èå´æ¥è¯¢",normalizedTitle:"èå´æ¥è¯¢",charIndex:8214},{level:3,title:"èæ¬æ¥è¯¢",slug:"èæ¬æ¥è¯¢-3",normalizedTitle:"èæ¬æ¥è¯¢",charIndex:2733},{level:3,title:"apiæ¥è¯¢",slug:"apiæ¥è¯¢-2",normalizedTitle:"apiæ¥è¯¢",charIndex:2903},{level:2,title:"queryStringæ¥è¯¢",slug:"querystringæ¥è¯¢",normalizedTitle:"querystringæ¥è¯¢",charIndex:9521},{level:3,title:"èæ¬æ¥è¯¢",slug:"èæ¬æ¥è¯¢-4",normalizedTitle:"èæ¬æ¥è¯¢",charIndex:2733},{level:3,title:"Apiæ¥è¯¢",slug:"apiæ¥è¯¢-3",normalizedTitle:"apiæ¥è¯¢",charIndex:10099},{level:2,title:"å¸å°æ¥è¯¢",slug:"å¸å°æ¥è¯¢",normalizedTitle:"å¸å°æ¥è¯¢",charIndex:11061},{level:3,title:"èæ¬æ¥è¯¢",slug:"èæ¬æ¥è¯¢-5",normalizedTitle:"èæ¬æ¥è¯¢",charIndex:2733},{level:3,title:"APIæ¥è¯¢",slug:"apiæ¥è¯¢-4",normalizedTitle:"apiæ¥è¯¢",charIndex:12047},{level:2,title:"èåæ¥è¯¢",slug:"èåæ¥è¯¢",normalizedTitle:"èåæ¥è¯¢",charIndex:13213},{level:3,title:"èæ¬æ¥è¯¢",slug:"èæ¬æ¥è¯¢-6",normalizedTitle:"èæ¬æ¥è¯¢",charIndex:2733},{level:3,title:"Apiæ¥è¯¢",slug:"apiæ¥è¯¢-5",normalizedTitle:"apiæ¥è¯¢",charIndex:10099},{level:2,title:"é«äº®æ¥è¯¢",slug:"é«äº®æ¥è¯¢",normalizedTitle:"é«äº®æ¥è¯¢",charIndex:15473},{level:3,title:"èæ¬æä½",slug:"èæ¬æä½-4",normalizedTitle:"èæ¬æä½",charIndex:78},{level:3,title:"Apiæä½",slug:"apiæä½-4",normalizedTitle:"apiæä½",charIndex:1623},{level:2,title:"éå»ºç´¢å¼&ç´¢å¼å«å",slug:"éå»ºç´¢å¼-ç´¢å¼å«å",normalizedTitle:"éå»ºç´¢å¼&amp;ç´¢å¼å«å",charIndex:null},{level:2,title:"ESéç¾¤",slug:"eséç¾¤",normalizedTitle:"eséç¾¤",charIndex:18453},{level:3,title:"æ­å»º",slug:"æ­å»º",normalizedTitle:"æ­å»º",charIndex:18695},{level:3,title:"ä½¿ç¨Kibanaéç½®åç®¡çéç¾¤",slug:"ä½¿ç¨kibanaéç½®åç®¡çéç¾¤",normalizedTitle:"ä½¿ç¨kibanaéç½®åç®¡çéç¾¤",charIndex:22189},{level:3,title:"JavaApiè®¿é®éç¾¤",slug:"javaapiè®¿é®éç¾¤",normalizedTitle:"javaapiè®¿é®éç¾¤",charIndex:22750},{level:3,title:"éç¾¤åç",slug:"éç¾¤åç",normalizedTitle:"éç¾¤åç",charIndex:24689},{level:3,title:"èè£",slug:"èè£",normalizedTitle:"èè£",charIndex:25480},{level:2,title:"éç¾¤æ©å®¹",slug:"éç¾¤æ©å®¹",normalizedTitle:"éç¾¤æ©å®¹",charIndex:26065}],headersStr:"æ¹éæä½ èæ¬æä½ API å¯¼å¥æ°æ® ä½¿ç¨fastjson è½¬æ¢å¯¹è±¡ä¸è½¬æ¢è¯¥æååé matchALLæ¥è¯¢ èæ¬æä½ Apiæä½ termæ¥è¯¢ èæ¬æ¥è¯¢ apiæ¥è¯¢ matchæ¥è¯¢ èæ¬æä½ APIæä½ æ¨¡ç³æ¥è¯¢ èæ¬æ¥è¯¢ apiæä½ èå´æ¥è¯¢ èæ¬æ¥è¯¢ apiæ¥è¯¢ queryStringæ¥è¯¢ èæ¬æ¥è¯¢ Apiæ¥è¯¢ å¸å°æ¥è¯¢ èæ¬æ¥è¯¢ APIæ¥è¯¢ èåæ¥è¯¢ èæ¬æ¥è¯¢ Apiæ¥è¯¢ é«äº®æ¥è¯¢ èæ¬æä½ Apiæä½ éå»ºç´¢å¼&ç´¢å¼å«å ESéç¾¤ æ­å»º ä½¿ç¨Kibanaéç½®åç®¡çéç¾¤ JavaApiè®¿é®éç¾¤ éç¾¤åç èè£ éç¾¤æ©å®¹",content:'# ElasticSearch é«çº§\n\n\n# æ¹éæä½\n\nBulk æ¹éæä½æ¯å°ææ¡£çå¢å æ¹æ¥ä¸ç³»åæä½ éè¿ä¸æ¬¡è¯·æ± å¨é¨å®æ åå°ç½ç»ä¼ è¾æ¬¡æ°\n\n\n# èæ¬æä½\n\nGET person/_search\n\n# æ¹éæä½\nPOST _bulk\n{"delete":{"_index":"person","_id":"3"}}\n{"create":{"_index":"person","_id":"8"}}\n{"name":"hhh","age":88,"address":"qqqq"}\n{"update":{"_index":"person","_id":"2"}}\n{"doc":{"name":"qwedqd"}}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n\n\n\n# API\n\n//æ¹éæä½ bulk\n@Test\npublic void testBulk() throws IOException {\n    //åå»ºbulkrequestå¯¹è±¡ æ´åæææä½\n    BulkRequest bulkRequest = new BulkRequest();\n    //æ·»å æä½\n    //å é¤1å·æä½\n    DeleteRequest deleteRequest = new DeleteRequest("person","1");\n    bulkRequest.add(deleteRequest);\n    //æ·»å 6å·æä½\n    Map map = new HashMap();\n    map.put("name","æµè¯");\n    IndexRequest indexRequest = new IndexRequest("person").id("6").source(map);\n    bulkRequest.add(indexRequest);\n    //ä¿®æ¹3å·æä½\n    Map map2 = new HashMap();\n    map2.put("name","æµè¯3å·");\n    UpdateRequest updateReqeust = new UpdateRequest("person","3").doc(map2);\n    bulkRequest.add(updateReqeust);\n    //æ§è¡æ¹éæä½\n    BulkResponse response = restHighLevelClient.bulk(bulkRequest, RequestOptions.DEFAULT);\n    RestStatus status = response.status();\n    System.out.println(status);\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n\n\n\n# å¯¼å¥æ°æ®\n\nå°æ°æ®åºä¸­è¡¨æ°æ®å¯¼å¥å°ElasticSearchä¸­\n\n 1. åå»ºç´¢å¼ å¹¶æ·»å mapping\n 2. åå»ºpojoç±» æ å°mybatis\n 3. æ¥è¯¢æ°æ®åº\n 4. ä½¿ç¨Bulk æ¹éå¯¼å¥\n\n\n# ä½¿ç¨fastjson è½¬æ¢å¯¹è±¡ä¸è½¬æ¢è¯¥æååé\n\nå¨æååéå ä¸æ³¨è§£ ä½¿ç¨@JSONField(serialize =false) æ­¤æååéä¸åä¸jsonè½¬æ¢\n\n\n# matchALLæ¥è¯¢\n\nmatchALLæ¥è¯¢ æ¥è¯¢ææææ¡£\n\n\n# èæ¬æä½\n\n# é»è®¤æåµä¸,esä¸æ¬¡åªå±ç¤º10æ¡æ°æ®  éè¿fromæ§å¶é¡µç  sizeæ§å¶æ¯é¡µå±ç¤ºæ¡æ°\n\nGET person/_search\n{\n  "query": {\n    "match_all": {}\n  },\n  "from": 0,\n  "size": 100\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n\n\n\n\n\n# Apiæä½\n\n//matchallæ¥è¯¢ææ åé¡µæä½\n@Test\npublic void testMatchALL() throws IOException {\n    //2éè¿ç´¢å¼æ¥è¯¢\n    SearchRequest searchRequest = new SearchRequest("person");\n    //4åå»ºæ¥è¯¢æ¡ä»¶æå»ºå¨\n    SearchSourceBuilder sourceBuilder = new SearchSourceBuilder();\n    //5æ¥è¯¢æ¡ä»¶\n    QueryBuilder query = QueryBuilders.matchAllQuery();  //æ¥è¯¢ææææ¡£\n    //6æå®æ¥è¯¢æ¡ä»¶\n    sourceBuilder.query(query);\n    //åé¡µæ¥è¯¢\n    sourceBuilder.from(0); //ç¬¬å é¡µ\n    sourceBuilder.size(100); //æ¯é¡µæ¾ç¤ºæ°\n    //3æ·»å æ¥è¯¢æ¡ä»¶æå»ºå¨\n    searchRequest.source(sourceBuilder);\n\n    //1æ¥è¯¢ è·åæ¥è¯¢ç»æ\n    SearchResponse search = restHighLevelClient.search(searchRequest, RequestOptions.DEFAULT);\n\n    //7è·åå½ä¸­å¯¹è±¡ hits\n    SearchHits searchHits = search.getHits();\n    //è·åæ»æ¡æ°\n    long value = searchHits.getTotalHits().value;\n    System.out.println("æ»è®°å½æ°" + value);\n    //è·åhitsæ°ç»\n    SearchHit[] hits = searchHits.getHits();\n    for (SearchHit hit : hits) {\n        String sourceAsString = hit.getSourceAsString(); //è·åjsonå­ç¬¦ä¸²æ ¼å¼çæ°æ®\n        System.out.println(sourceAsString);\n    }\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n26\n27\n28\n29\n30\n31\n32\n\n\n\n# termæ¥è¯¢\n\n\n# èæ¬æ¥è¯¢\n\n# termæ¥è¯¢ è¯æ¡æ¥è¯¢ ä¸è¬ç¨äºæ¥åç±»\n\nGET person/_search\n{\n  "query": {\n    "term": {\n      "name": {\n        "value": "hhh"\n      }\n    }\n  }\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n\n\n\n# apiæ¥è¯¢\n\n//termQuery è¯æ¡æ¥è¯¢\n@Test\npublic void testTermQuery() throws IOException {\n    SearchRequest searchRequest = new SearchRequest("person");\n\n    SearchSourceBuilder sourceBulider=new SearchSourceBuilder();\n    QueryBuilder query= QueryBuilders.termQuery("name","hhh");\n    sourceBulider.query(query);\n    searchRequest.source(sourceBulider);\n\n\n    SearchResponse search = restHighLevelClient.search(searchRequest, RequestOptions.DEFAULT);\n    SearchHits searchHits = search.getHits();\n    //è·åæ»æ¡æ°\n    long value = searchHits.getTotalHits().value;\n    System.out.println("æ»è®°å½æ°" + value);\n    //è·åhitsæ°ç»\n    SearchHit[] hits = searchHits.getHits();\n    for (SearchHit hit : hits) {\n        String sourceAsString = hit.getSourceAsString(); //è·åjsonå­ç¬¦ä¸²æ ¼å¼çæ°æ®\n        System.out.println(sourceAsString);\n    }\n\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n\n\n\n# matchæ¥è¯¢\n\n * ä¼å¯¹æ¥è¯¢æ¡ä»¶è¿è¡åè¯\n * ç¶åå°åè¯åçæ¥è¯¢æ¡ä»¶åè¯æ¡è¿è¡ç­å¼å¹é\n * é»è®¤åå¹¶é(OR) äº¤éä¸º(AND)\n\n\n# èæ¬æä½\n\n# match æ¥è¯¢\n\nGET person/_search\n{\n  "query": {\n    "match": {\n      "name": {\n        "query": "hhh",\n        "operator": "or"\n      }\n    }\n  }\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n\n\n\n# APIæä½\n\n//match è¯æ¡æ¥è¯¢\n@Test\npublic void testMatchQuery() throws IOException {\n    SearchRequest searchRequest = new SearchRequest("person");\n\n    SearchSourceBuilder sourceBulider=new SearchSourceBuilder();\n    MatchQueryBuilder query= QueryBuilders.matchQuery("name","hhh");\n    query.operator(Operator.AND); //å¹¶é\n\n    sourceBulider.query(query);\n    searchRequest.source(sourceBulider);\n\n\n    SearchResponse search = restHighLevelClient.search(searchRequest, RequestOptions.DEFAULT);\n    SearchHits searchHits = search.getHits();\n    //è·åæ»æ¡æ°\n    long value = searchHits.getTotalHits().value;\n    System.out.println("æ»è®°å½æ°" + value);\n    //è·åhitsæ°ç»\n    SearchHit[] hits = searchHits.getHits();\n    for (SearchHit hit : hits) {\n        String sourceAsString = hit.getSourceAsString(); //è·åjsonå­ç¬¦ä¸²æ ¼å¼çæ°æ®\n        System.out.println(sourceAsString);\n    }\n\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n26\n\n\n\n# æ¨¡ç³æ¥è¯¢\n\n * wildcardæ¥è¯¢ ä¼å¯¹æ¥è¯¢æ¡ä»¶è¿è¡åè¯ å¯ä»¥ä½¿ç¨ééç¬¦ ?(ä»»æåä¸ªå­ç¬¦) å * (0æå¤ä¸ªå­ç¬¦)\n * regexp æ¥è¯¢ æ­£åæ¥è¯¢\n * prefix åç¼æ¥è¯¢\n\n\n# èæ¬æ¥è¯¢\n\n# wildcard æ¥è¯¢ æ¥è¯¢æ¡ä»¶åè¯ æ¨¡ç³æ¥è¯¢\nGET person/_search\n{\n  "query": {\n    "wildcard": {\n      "name": {\n        "value": "h"\n      }\n    }\n  }  \n}\n\n# æ­£åæ¥è¯¢ æ¥è¯¢æ¡ä»¶åè¯ æ¨¡ç³æ¥è¯¢\nGET person/_search\n{\n  "query": {\n    "regexp": {\n      "name": "\\\\q+(.)*"\n    }\n  }  \n}\n\n# åç¼æ¥è¯¢\nGET person/_search\n{\n  "query": {\n    "prefix": {\n      "name": {\n        "value": "qwe"\n      }\n    }\n  }  \n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n26\n27\n28\n29\n30\n31\n32\n33\n\n\n\n# apiæä½\n\n//wildcard æ¨¡ç³æ¥è¯¢\n@Test\npublic void testWildcardQuery() throws IOException {\n    SearchRequest searchRequest = new SearchRequest("person");\n\n    SearchSourceBuilder sourceBulider=new SearchSourceBuilder();\n    WildcardQueryBuilder query = QueryBuilders.wildcardQuery("name", "h*");\n    sourceBulider.query(query);\n    searchRequest.source(sourceBulider);\n\n\n    SearchResponse search = restHighLevelClient.search(searchRequest, RequestOptions.DEFAULT);\n    SearchHits searchHits = search.getHits();\n    //è·åæ»æ¡æ°\n    long value = searchHits.getTotalHits().value;\n    System.out.println("æ»è®°å½æ°" + value);\n    //è·åhitsæ°ç»\n    SearchHit[] hits = searchHits.getHits();\n    for (SearchHit hit : hits) {\n        String sourceAsString = hit.getSourceAsString(); //è·åjsonå­ç¬¦ä¸²æ ¼å¼çæ°æ®\n        System.out.println(sourceAsString);\n    }\n\n}\n\n//regexp  æ­£åæ¥è¯¢\n@Test\npublic void testrRegexpQuery() throws IOException {\n    SearchRequest searchRequest = new SearchRequest("person");\n\n    SearchSourceBuilder sourceBulider=new SearchSourceBuilder();\n    RegexpQueryBuilder query = QueryBuilders.regexpQuery("name", "\\\\h*");\n    sourceBulider.query(query);\n    searchRequest.source(sourceBulider);\n\n\n    SearchResponse search = restHighLevelClient.search(searchRequest, RequestOptions.DEFAULT);\n    SearchHits searchHits = search.getHits();\n    //è·åæ»æ¡æ°\n    long value = searchHits.getTotalHits().value;\n    System.out.println("æ»è®°å½æ°" + value);\n    //è·åhitsæ°ç»\n    SearchHit[] hits = searchHits.getHits();\n    for (SearchHit hit : hits) {\n        String sourceAsString = hit.getSourceAsString(); //è·åjsonå­ç¬¦ä¸²æ ¼å¼çæ°æ®\n        System.out.println(sourceAsString);\n    }\n\n}\n\n//prefix   åç¼æ¥è¯¢\n@Test\npublic void testrPrefixQuery() throws IOException {\n    SearchRequest searchRequest = new SearchRequest("person");\n\n    SearchSourceBuilder sourceBulider=new SearchSourceBuilder();\n    PrefixQueryBuilder query = QueryBuilders.prefixQuery("name", "qwe");\n    sourceBulider.query(query);\n    searchRequest.source(sourceBulider);\n\n\n    SearchResponse search = restHighLevelClient.search(searchRequest, RequestOptions.DEFAULT);\n    SearchHits searchHits = search.getHits();\n    //è·åæ»æ¡æ°\n    long value = searchHits.getTotalHits().value;\n    System.out.println("æ»è®°å½æ°" + value);\n    //è·åhitsæ°ç»\n    SearchHit[] hits = searchHits.getHits();\n    for (SearchHit hit : hits) {\n        String sourceAsString = hit.getSourceAsString(); //è·åjsonå­ç¬¦ä¸²æ ¼å¼çæ°æ®\n        System.out.println(sourceAsString);\n    }\n\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n26\n27\n28\n29\n30\n31\n32\n33\n34\n35\n36\n37\n38\n39\n40\n41\n42\n43\n44\n45\n46\n47\n48\n49\n50\n51\n52\n53\n54\n55\n56\n57\n58\n59\n60\n61\n62\n63\n64\n65\n66\n67\n68\n69\n70\n71\n72\n73\n74\n\n\n\n# èå´æ¥è¯¢\n\nrangeèå´æ¥è¯¢ æ¥è¯¢æå®å­æ®µå¨æå®èå´ååå«å¼\n\n\n# èæ¬æ¥è¯¢\n\n#èå´æ¥è¯¢\nGET perso/_search\n{\n  "query": {\n    "range": {\n      "age": {\n        "gte": 10,\n        "lte": 30\n      }\n    }\n  },\n  "sort": [\n    {\n      "age": {\n        "order": "desc"\n      }\n    }\n  ]\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n\n\n\n# apiæ¥è¯¢\n\n//range   èå´æ¥è¯¢\n@Test\npublic void testRangeQuery() throws IOException {\n    SearchRequest searchRequest = new SearchRequest("person");\n\n    SearchSourceBuilder sourceBulider=new SearchSourceBuilder();\n    RangeQueryBuilder query = QueryBuilders.rangeQuery("age");//æå®å­æ®µ\n    query.gte("10"); //å°äºç­äº\n    query.lte("30"); //å¤§äºç­äº\n\n\n    sourceBulider.query(query);\n    sourceBulider.sort("age", SortOrder.ASC); //æåº\n    searchRequest.source(sourceBulider);\n\n\n    SearchResponse search = restHighLevelClient.search(searchRequest, RequestOptions.DEFAULT);\n    SearchHits searchHits = search.getHits();\n    //è·åæ»æ¡æ°\n    long value = searchHits.getTotalHits().value;\n    System.out.println("æ»è®°å½æ°" + value);\n    //è·åhitsæ°ç»\n    SearchHit[] hits = searchHits.getHits();\n    for (SearchHit hit : hits) {\n        String sourceAsString = hit.getSourceAsString(); //è·åjsonå­ç¬¦ä¸²æ ¼å¼çæ°æ®\n        System.out.println(sourceAsString);\n    }\n\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n26\n27\n28\n29\n\n\n\n# queryStringæ¥è¯¢\n\n * ä¼å¯¹æ¥è¯¢æ¡ä»¶è¿è¡åè¯\n * ç¶åå°åè¯åçæ¥è¯¢æ¡ä»¶åè¯æ¡è¿è¡ç­å¼å¹é\n * é»è®¤åå¹¶é\n * å¯ä»¥æå®å¤ä¸ªæ¥è¯¢å­æ®µ\n\n\n# èæ¬æ¥è¯¢\n\n# queryString æ¥è¯¢\nGET person/_search\n{\n  "query": {\n    "query_string": {\n      "fields": ["name","address"],\n      "query": "åä¸º OR ææº"\n    }\n  }  \n}\n\n# SimpleQueryStringQueryæ¯QueryStringQueryçç®åçï¼å¶æ¬èº«ä¸æ¯æ AND OR NOT å¸å°è¿ç®å³é®å­ï¼è¿äºå³é®å­ä¼è¢«å½åæ®éè¯è¯­è¿è¡å¤çã\n# å¯ä»¥éè¿ default_operator æå®æ¥è¯¢å­ç¬¦ä¸²é»è®¤ä½¿ç¨çè¿ç®æ¹å¼ï¼é»è®¤ä¸º OR\nGET person/_search\n{\n  "query": {\n    "simple_query_string": {\n      "fields": ["name","address"],\n      "query": "åä¸º OR ææº"\n    }\n  }  \n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n\n\n\n# Apiæ¥è¯¢\n\n//queryString\n@Test\npublic void testQueryStringQuery() throws IOException {\n    SearchRequest searchRequest = new SearchRequest("person");\n\n    SearchSourceBuilder sourceBulider=new SearchSourceBuilder();\n    QueryStringQueryBuilder query = QueryBuilders.queryStringQuery("åä¸º").field("name").field("address").defaultOperator(Operator.OR);\n\n\n    sourceBulider.query(query);\n    searchRequest.source(sourceBulider);\n\n\n    SearchResponse search = restHighLevelClient.search(searchRequest, RequestOptions.DEFAULT);\n    SearchHits searchHits = search.getHits();\n    //è·åæ»æ¡æ°\n    long value = searchHits.getTotalHits().value;\n    System.out.println("æ»è®°å½æ°" + value);\n    //è·åhitsæ°ç»\n    SearchHit[] hits = searchHits.getHits();\n    for (SearchHit hit : hits) {\n        String sourceAsString = hit.getSourceAsString(); //è·åjsonå­ç¬¦ä¸²æ ¼å¼çæ°æ®\n        System.out.println(sourceAsString);\n    }\n\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n26\n\n\n\n# å¸å°æ¥è¯¢\n\nboolQuery å¯¹å¤ä¸ªæ¥è¯¢æ¡ä»¶è¿æ¥ ç»åæ¥è¯¢\n\n * must (and) æ¡ä»¶å¿é¡»æç«\n * must_not (not) æ¡ä»¶å¿é¡»ä¸æç«\n * should(or) æ¡ä»¶å¯ä»¥æç«\n * filter æ¡ä»¶å¿é¡»æå æ§è½æ¯musté« ä¸ä¼è®¡ç®å¾å (å½æ¥è¯¢ç»æç¬¦åæ¥è¯¢æ¡ä»¶è¶å¤åå¾åè¶å¤)\n\n\n# èæ¬æ¥è¯¢\n\n# boolæ¥è¯¢\nGET person/_search\n{\n  "query": {\n    "bool": {\n      "must": [\n        {"term": {\n          "name": {\n            "value": "å¼ ä¸"\n          }\n        }}\n      ]\n    }\n  }\n}\n\n#filter\nGET person/_search\n{\n  "query": {\n    "bool": {\n      "filter": [\n        {"term": {\n          "name": {\n            "value": "å¼ ä¸"\n          }\n        }}\n      ]\n    }\n  }\n}\n\n# ç»åå¤æ¡ä»¶æ¥è¯¢\nGET person/_search\n{\n  "query": {\n    "bool": {\n      "must": [\n        {"term": {\n          "name": {\n            "value": "å¼ ä¸"\n          }\n        }}\n      ],\n      "filter": [\n        {\n          "term": {\n            "address": "5G"\n          }\n        }\n      ]\n    }\n  }\n}\n\n\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n26\n27\n28\n29\n30\n31\n32\n33\n34\n35\n36\n37\n38\n39\n40\n41\n42\n43\n44\n45\n46\n47\n48\n49\n50\n51\n52\n53\n54\n55\n56\n\n\n\n# APIæ¥è¯¢\n\n//boolQuery\n@Test\npublic void testBoolQueryQuery() throws IOException {\n    SearchRequest searchRequest = new SearchRequest("person");\n\n    SearchSourceBuilder sourceBuilder=new SearchSourceBuilder();\n\n    //æå»ºboolQuery\n    BoolQueryBuilder query = QueryBuilders.boolQuery();\n\n    //æå»ºåä¸ªæ¥è¯¢æ¡ä»¶\n    TermQueryBuilder termQuery = QueryBuilders.termQuery("name", "å¼ ä¸");//æ¥è¯¢åå­ä¸ºå¼ ä¸ç\n    query.must(termQuery);\n    MatchQueryBuilder matchQuery = QueryBuilders.matchQuery("address", "5G"); //æ¥è¯¢å°ååå«5gç\n    query.must(matchQuery);\n\n\n    sourceBuilder.query(query);\n    searchRequest.source(sourceBuilder);\n\n\n    SearchResponse search = restHighLevelClient.search(searchRequest, RequestOptions.DEFAULT);\n    SearchHits searchHits = search.getHits();\n    //è·åæ»æ¡æ°\n    long value = searchHits.getTotalHits().value;\n    System.out.println("æ»è®°å½æ°" + value);\n    //è·åhitsæ°ç»\n    SearchHit[] hits = searchHits.getHits();\n    for (SearchHit hit : hits) {\n        String sourceAsString = hit.getSourceAsString(); //è·åjsonå­ç¬¦ä¸²æ ¼å¼çæ°æ®\n        System.out.println(sourceAsString);\n    }\n\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n26\n27\n28\n29\n30\n31\n32\n33\n34\n\n\n\n# èåæ¥è¯¢\n\n * ææ èå ç¸å½äºmysqlçèåå½æ° max min avg sumç­\n * æ¡¶èå ç¸å½äºmysqlçgroup by . ä¸è¦å¯¹textç±»åçæ°æ®è¿è¡åç» ä¼å¤±è´¥\n\n\n# èæ¬æ¥è¯¢\n\n# èåæ¥è¯¢\n\n# ææ èå èåå½æ°\nGET person/_search\n{\n  "query": {\n    "match": {\n      "name": "å¼ ä¸"\n    }\n  },\n  "aggs": {\n    "NAME": {\n      "max": {\n        "field": "age" \n      }\n    }\n  }\n}\n\n \n# æ¡¶èå åç»  éè¿ aggs\nGET person/_search\n{\n  "query": {\n    "match": {\n      "name": "å¼ ä¸"\n    }\n  },\n  "aggs": {\n    "zdymc": {\n      "terms": {\n        "field": "age",\n        "size": 10\n      }\n    }\n  }\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n26\n27\n28\n29\n30\n31\n32\n33\n34\n35\n36\n37\n\n\n\n\n\n# Apiæ¥è¯¢\n\n//èåæ¥è¯¢ æ¡¶èå åç»\n@Test\npublic void testAggsQuery() throws IOException {\n    SearchRequest searchRequest = new SearchRequest("person");\n\n    SearchSourceBuilder sourceBuilder=new SearchSourceBuilder();\n    MatchQueryBuilder query = QueryBuilders.matchQuery("name", "å¼ ä¸");\n    sourceBuilder.query(query);\n\n    /**\n     * terms æ¥è¯¢åç»æåç§°\n     * field æ¡ä»¶å­æ®µ\n     * size æ¯é¡µå±ç¤ºçæ¡æ°\n     */\n    TermsAggregationBuilder aggs = AggregationBuilders.terms("èªå®ä¹åç§°").field("age").size(10);\n    sourceBuilder.aggregation(aggs);\n\n    searchRequest.source(sourceBuilder);\n\n\n    SearchResponse search = restHighLevelClient.search(searchRequest, RequestOptions.DEFAULT);\n    SearchHits searchHits = search.getHits();\n    //è·åæ»æ¡æ°\n    long value = searchHits.getTotalHits().value;\n    System.out.println("æ»è®°å½æ°" + value);\n    //è·åhitsæ°ç»\n    SearchHit[] hits = searchHits.getHits();\n    for (SearchHit hit : hits) {\n        String sourceAsString = hit.getSourceAsString(); //è·åjsonå­ç¬¦ä¸²æ ¼å¼çæ°æ®\n        System.out.println(sourceAsString);\n    }\n\n\n    //è·åèåç»æ\n    Aggregations aggregations = search.getAggregations();\n    Map<String, Aggregation> aggregationMap = aggregations.asMap();  //å°ç»æè½¬ä¸ºmap\n    Terms zdymc = (Terms) aggregationMap.get("èªå®ä¹åç§°");\n    List<? extends Terms.Bucket> buckets = zdymc.getBuckets();\n\n    ArrayList list = new ArrayList<>();\n    for (Terms.Bucket bucket : buckets) {\n        Object key = bucket.getKey();\n        list.add(key);\n    }\n\n    for (Object o : list) {\n        System.out.println(o);\n    }\n\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n26\n27\n28\n29\n30\n31\n32\n33\n34\n35\n36\n37\n38\n39\n40\n41\n42\n43\n44\n45\n46\n47\n48\n49\n50\n\n\n\n# é«äº®æ¥è¯¢\n\n * é«äº®å­æ®µ\n * åç¼\n * åç¼ å¦æä¸è®¾ç½®ååç¼ é»è®¤ä¸ºemæ ç­¾\n\n\n# èæ¬æä½\n\n# é«äº®æ¥è¯¢\nGET person/_search\n{\n  "query": {\n    "match": {\n      "address": "ææº"\n    }\n  },\n  "highlight": {\n    "fields": {\n      "address": {\n        "pre_tags": "<font color=\'red\'>",\n        "post_tags": "</font>"\n      }\n    }\n  }\n  \n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n\n\n\n# Apiæä½\n\n//highlight é«äº®æ¥è¯¢\n@Test\npublic void testHighlightQuery() throws IOException {\n    SearchRequest searchRequest = new SearchRequest("person");\n\n    SearchSourceBuilder sourceBuilder=new SearchSourceBuilder();\n    MatchQueryBuilder query = QueryBuilders.matchQuery("address", "ææº");\n    sourceBuilder.query(query);\n\n    HighlightBuilder highlightBuilder = new HighlightBuilder();//é«äº®å¯¹è±¡\n    highlightBuilder.field("address");  //å­æ®µ\n    highlightBuilder.preTags("<font color=\'red\'>");  //åç¼\n    highlightBuilder.postTags("</font>");  //åç¼\n    sourceBuilder.highlighter(highlightBuilder);\n\n    searchRequest.source(sourceBuilder);\n\n\n    SearchResponse search = restHighLevelClient.search(searchRequest, RequestOptions.DEFAULT);\n    SearchHits searchHits = search.getHits();\n    //è·åæ»æ¡æ°\n    long value = searchHits.getTotalHits().value;\n    System.out.println("æ»è®°å½æ°" + value);\n    //è·åhitsæ°ç»\n    SearchHit[] hits = searchHits.getHits();\n    for (SearchHit hit : hits) {\n        String sourceAsString = hit.getSourceAsString(); //è·åjsonå­ç¬¦ä¸²æ ¼å¼çæ°æ®\n        //todo å°å¯¹è±¡è½¬ä¸ºjson\n\n\n        Map<String, HighlightField> highlightFields = hit.getHighlightFields();  //è·åé«äº®ä¸­çå¯¹è±¡åç´ \n        HighlightField address = highlightFields.get("address");\n        Text[] fragments = address.fragments();  //è·ååç´ ä¸­çé«äº®æ°ç»ç»æ\n        //æ¿æ¢jsonä¸­çæååéæ°æ®\n        //todo\n\n        System.out.println(sourceAsString);\n        System.out.println(Arrays.toString(fragments));\n    }\n\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n26\n27\n28\n29\n30\n31\n32\n33\n34\n35\n36\n37\n38\n39\n40\n41\n\n\n\n# éå»ºç´¢å¼&ç´¢å¼å«å\n\nESçç´¢å¼ä¸æ¦åå»º,åªåè®¸æ·»å å­æ®µ ä¸åè®¸æ¹åå­æ®µ å ä¸ºæ¹åå­æ®µ éè¦éå»ºåæç´¢å¼ å½±ååé¨ç¼å­ç»æ\n\næ­¤æ¶éè¦éå»ºä¸ä¸ªæ°çç´¢å¼ å¹¶å°åæç´¢å¼çæ°æ®å¯¼å¥å°æ°ç´¢å¼ä¸­\n\n# éå»ºç´¢å¼\n\n# æ°å»ºç´¢å¼ ç´¢å¼åç§°å¿é¡»å¨é¨å°å\nPUT stdent_index_v1\n{\n  "mappings": {\n    "properties": {\n      "birthday":{\n        "type": "date"\n      }\n    }\n  }\n}\n\nGET stdent_index_v1\n\nPUT stdent_index_v1/_doc/1\n{\n  "birthday":"1999-01-01"\n}\n\nGET stdent_index_v1/_search\n\n# ç°å¨stdent_index_v1éè¦å­å¨birthdayä¸ºä¸ä¸ªå­ç¬¦ä¸²\n# 1.åå»ºæ°çç´¢å¼v2\nPUT stdent_index_v2\n{\n  "mappings": {\n    "properties": {\n      "birthday":{\n        "type": "text"\n      }\n    }\n  }\n}\n#2.å°æ§ç´¢å¼çæ°æ®æ·è´å°æ°ç´¢å¼ ä½¿ç¨_reindex\nPOST _reindex\n{\n  "source": {\n    "index": "stdent_index_v1"\n  },\n  "dest": {\n    "index": "stdent_index_v2"\n  }\n}\n\n\nGET stdent_index_v2/_search\n\n\nPUT stdent_index_v2/_doc/2\n{\n  "birthday":"199å¹´124æ¥"\n}\n\n\n# ç´¢å¼å«å  å ä¸ºæ§ç´¢å¼å·²ç»ä¸ä½¿ç¨ èæä»¬ä»£ç ä¸­åçæ¯æ§ç´¢å¼å æ æ³æ­£å¸¸è¿è¡ åéè¦å«å\n# 1.å é¤æ§ç´¢å¼\nDELETE stdent_index_v1\n# 2. ç»æ°ç´¢å¼èµ·å«åä¸ºæ§ç´¢å¼å\nPOST stdent_index_v2/_alias/stdent_index_v1\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n26\n27\n28\n29\n30\n31\n32\n33\n34\n35\n36\n37\n38\n39\n40\n41\n42\n43\n44\n45\n46\n47\n48\n49\n50\n51\n52\n53\n54\n55\n56\n57\n58\n59\n60\n61\n\n\n\n# ESéç¾¤\n\nESå¤©ç¶æ¯æåå¸å¼,å¹¶ä¸åå¸å¼èªå¨éç½®\n\n * éç¾¤(cluster) ä¸ç»æ¥æå±åçcluster name èç¹\n * èç¹(node) éåä¸­çä¸ä¸ªESå®ä¾\n * ç´¢å¼(index) eså­å¨æ°æ®çå°æ¹\n * åç(shard) ç´¢å¼å¯ä»¥è¢«æåä¸ºä¸åçé¨åè¿è¡å­å¨ ç§°ä¸ºåç å¨éç¾¤ç¯å¢ä¸ ä¸ä¸ªç´¢å¼çä¸åå¯ä»¥æåå°ä¸åèç¹ä¸­\n * ä¸»åç(Primary shard) ç¸å½äºå¯æ¬åççå®ä¹\n * å¯æ¬åç æ¯ä¸ªä¸»åçå¯ä»¥æä¸ä¸ªæå¤ä¸ªå¯æ¬ æ°æ®ä¸ä¸»åçä¸æ ·\n\n\n# æ­å»º\n\n 1. åå¤3ä¸ªéç¾¤ æ­¤å¤ä½ä¼ªéç¾¤ ä½¿ç¨ç«¯å£å·åºå\n    \n    cp -r elasticsearch-7.15.0 elasticsearch-7.15.0-1\n    cp -r elasticsearch-7.15.0 elasticsearch-7.15.0-2\n    cp -r elasticsearch-7.15.0 elasticsearch-7.15.0-3\n    \n    \n    1\n    2\n    3\n    \n\n 2. åå»ºæ¥å¿ådataç®å½ å¹¶ææç»iekrç¨æ·\n    \n    cd /opt\n    mkdir logs\n    mkdir data\n    \n    #ææ\n    chown -R iekr:iekr ./logs\n    chown -R iekr:iekr ./data\n    \n    chown -R iekr:iekr ./elasticsearch-7.15.0-1\n    chown -R iekr:iekr ./elasticsearch-7.15.0-2\n    chown -R iekr:iekr ./elasticsearch-7.15.0-3\n    \n    \n    \n    1\n    2\n    3\n    4\n    5\n    6\n    7\n    8\n    9\n    10\n    11\n    12\n    \n\n 3. ä¿®æ¹ä¸ä¸ªéç¾¤çéç½®æä»¶\n    \n    vim /opt/elasticsearch-7.15.0-1/config/elasticsearch.yml\n    \n    \n    1\n    \n    \n    # éç¾¤åç§°  åä¸ªéç¾¤å¿é¡»ä¸è´\n    cluster.name: itcast-es\n    # èç¹åç§°  ä¸è½ä¸è´\n    node.name: iekr-1\n    #æ¯å¦æèµæ ¼ä¸»èç¹\n    node.master: true\n    #æ¯å¦å­å¨æ°æ®\n    node.data: true\n    #æå¤§éç¾¤æ°\n    node.max_local_storage_nodes: 3\n    #ipå°å\n    network.host: 0.0.0.0\n    # ç«¯å£\n    http.port: 9201\n    #åé¨èç¹ä¹é´æ²éç«¯å£\n    transport.tcp.port: 9700\n    #èç¹åç° es7.xææ\n    discovery.seed_hosts: ["localhost:9700","localhost:9800","localhost:9900"]\n    #åå§åä¸ä¸ªæ°çéç¾¤æ¶éè¦æ­¤éç½®æ¥éä¸¾master\n    cluster.initial_master_nodes: ["iekr-1","iekr-2","iekr-3"]\n    #æ°æ®åå­å¨è·¯å¾\n    path.data: /opt/data\n    path.logs: /opt/logs\n    \n    \n    1\n    2\n    3\n    4\n    5\n    6\n    7\n    8\n    9\n    10\n    11\n    12\n    13\n    14\n    15\n    16\n    17\n    18\n    19\n    20\n    21\n    22\n    23\n    \n    \n    vim /opt/elasticsearch-7.15.0-2/config/elasticsearch.yml\n    \n    \n    1\n    \n    \n    # éç¾¤åç§°  åä¸ªéç¾¤å¿é¡»ä¸è´\n    cluster.name: itcast-es\n    # èç¹åç§°  ä¸è½ä¸è´\n    node.name: iekr-2\n    #æ¯å¦æèµæ ¼ä¸»èç¹\n    node.master: true\n    #æ¯å¦å­å¨æ°æ®\n    node.data: true\n    #æå¤§éç¾¤æ°\n    node.max_local_storage_nodes: 3\n    #ipå°å\n    network.host: 0.0.0.0\n    # ç«¯å£\n    http.port: 9202\n    #åé¨èç¹ä¹é´æ²éç«¯å£\n    transport.tcp.port: 9800\n    #èç¹åç° es7.xææ\n    discovery.seed_hosts: ["localhost:9700","localhost:9800","localhost:9900"]\n    #åå§åä¸ä¸ªæ°çéç¾¤æ¶éè¦æ­¤éç½®æ¥éä¸¾master\n    cluster.initial_master_nodes: ["iekr-1","iekr-2","iekr-3"]\n    #æ°æ®åå­å¨è·¯å¾\n    path.data: /opt/data\n    path.logs: /opt/logs\n    \n    \n    1\n    2\n    3\n    4\n    5\n    6\n    7\n    8\n    9\n    10\n    11\n    12\n    13\n    14\n    15\n    16\n    17\n    18\n    19\n    20\n    21\n    22\n    23\n    \n    \n    vim /opt/elasticsearch-7.15.0-3/config/elasticsearch.yml\n    \n    \n    1\n    \n    \n    # éç¾¤åç§°  åä¸ªéç¾¤å¿é¡»ä¸è´\n    cluster.name: itcast-es\n    # èç¹åç§°  ä¸è½ä¸è´\n    node.name: iekr-3\n    #æ¯å¦æèµæ ¼ä¸»èç¹\n    node.master: true\n    #æ¯å¦å­å¨æ°æ®\n    node.data: true\n    #æå¤§éç¾¤æ°\n    node.max_local_storage_nodes: 3\n    #ipå°å\n    network.host: 0.0.0.0\n    # ç«¯å£\n    http.port: 9203\n    #åé¨èç¹ä¹é´æ²éç«¯å£\n    transport.tcp.port: 9900\n    #èç¹åç° es7.xææ\n    discovery.seed_hosts: ["localhost:9700","localhost:9800","localhost:9900"]\n    #åå§åä¸ä¸ªæ°çéç¾¤æ¶éè¦æ­¤éç½®æ¥éä¸¾master\n    cluster.initial_master_nodes: ["iekr-1","iekr-2","iekr-3"]\n    #æ°æ®åå­å¨è·¯å¾\n    path.data: /opt/data\n    path.logs: /opt/logs\n    \n    \n    1\n    2\n    3\n    4\n    5\n    6\n    7\n    8\n    9\n    10\n    11\n    12\n    13\n    14\n    15\n    16\n    17\n    18\n    19\n    20\n    21\n    22\n    23\n    \n\n 4. ESé»è®¤å ç¨1G æä»¬éè¿éç½®æä»¶ä¿®æ¹\n    \n    vim /opt/elasticsearch-7.15.0-1/config/jvm.options\n    \n    \n    1\n    \n    \n    -Xms256m\n    -Xmx256m\n    \n    \n    1\n    2\n    \n\n 5. åå«å¯å¨\n    \n    systemctl stop firewalld\n    su iekr\n    cd /opt/elasticsearch-7.15.0-1/bin/\n    ./elasticsearch\n    \n    \n    1\n    2\n    3\n    4\n    \n\n 6. è®¿é® http://192.168.130.124:9201/_cat/health?v èç¹ç¶æ\n\n\n\n\n# ä½¿ç¨Kibanaéç½®åç®¡çéç¾¤\n\n 1. å¤å¶kibana\n    \n    cd /opt\n    cp -r kibana-7.15.0-linux-x86_64 kibana-7.15.0-linux-x86_64-cluster\n    \n    \n    1\n    2\n    \n\n 2. ä¿®æ¹kibanaéç¾¤éç½®\n    \n    vim /opt/kibana-7.15.0-linux-x86_64-cluster/config/kibana.yml\n    #ä¿®æ¹ä»¥ä¸åå®¹\n    elasticsearch.hosts: ["http://localhost:9201","http://localhost:9202","http://localhost:9203"]\n    \n    \n    1\n    2\n    3\n    \n\n 3. å¯å¨\n    \n    cd /opt/kibana-7.15.0-linux-x86_64-cluster/bin/\n    ./kibana --allow-root\n    \n    \n    1\n    2\n    \n\n 4. è®¿é® http://192.168.130.124:5601/app/monitoring æ¥è¯¢éç¾¤èç¹ä¿¡æ¯\n\n\n# JavaApiè®¿é®éç¾¤\n\n 1. application.yml\n    \n    elasticsearch:\n      host: 192.168.130.124\n      port: 9201\n      host2: 192.168.130.124\n      port2: 9202\n      host3: 192.168.130.124\n      port3: 9203\n    \n    \n    1\n    2\n    3\n    4\n    5\n    6\n    7\n    \n\n 2. configç±» å¹¶æ³¨åiocå®¹å¨\n    \n    package com.itheima.elasticsearchdemo.config;\n    \n    \n    import org.apache.http.HttpHost;\n    import org.elasticsearch.client.RestClient;\n    import org.elasticsearch.client.RestHighLevelClient;\n    import org.springframework.boot.context.properties.ConfigurationProperties;\n    import org.springframework.context.annotation.Bean;\n    import org.springframework.context.annotation.Configuration;\n    \n    @Configuration\n    @ConfigurationProperties(prefix = "elasticsearch")\n    public class ElasticSearchConfig {\n    \n        private String host;\n        private int port;\n        private String host2;\n        private int port2;\n        private String host3;\n        private int port3;\n    \n        public String getHost() {\n            return host;\n        }\n    \n        public void setHost(String host) {\n            this.host = host;\n        }\n    \n        public int getPort() {\n            return port;\n        }\n    \n        public void setPort(int port) {\n            this.port = port;\n        }\n    \n        @Bean\n        public RestHighLevelClient client(){\n            return new RestHighLevelClient(RestClient.builder(\n                    new HttpHost(host,port,"http"),\n            new HttpHost(host2,port2,"http"),\n            new HttpHost(host3,port3,"http")\n            ));\n    \n        }\n    }\n    \n    \n    1\n    2\n    3\n    4\n    5\n    6\n    7\n    8\n    9\n    10\n    11\n    12\n    13\n    14\n    15\n    16\n    17\n    18\n    19\n    20\n    21\n    22\n    23\n    24\n    25\n    26\n    27\n    28\n    29\n    30\n    31\n    32\n    33\n    34\n    35\n    36\n    37\n    38\n    39\n    40\n    41\n    42\n    43\n    44\n    45\n    46\n    47\n    \n\n\n# éç¾¤åç\n\n# åçéç½®\n\n * å¨åå»ºç´¢å¼æ¶ å¦æä¸æå®åééç½® é»è®¤ä¸»åç1 å¯æ¬åç1\n   \n   * \n\n * å¨åå»ºç´¢å¼æ¶ å¯ä»¥éè¿settingsè®¾ç½®åç\n   \n   * PUT stdent_index_v3\n     {\n       "mappings": {\n         "properties": {\n           "birthday":{\n             "type": "date"\n           }\n         }\n       },\n       "settings": {\n         "number_of_shards": 3,\n         "number_of_replicas": 1\n       }\n     }\n     \n     \n     1\n     2\n     3\n     4\n     5\n     6\n     7\n     8\n     9\n     10\n     11\n     12\n     13\n     14\n     \n\n * åçä¸èªå¹³è¡¡: esé»è®¤ä¼äº¤éå­å¨åç å¦æå¶ä¸­ä¸ä¸ªèç¹å¤±æä¸å½±åè®¿é® å¹¶ä¸ä¼èªå¨å°å¤±æçåçå½å¹¶å°ç®åä»å¨çº¿çèç¹ä¸ èç¹éæ°ä¸çº¿å½è¿åç\n\n * ESæ¯ä¸ªæ¥è¯¢å¨æ¯ä¸ªåçä¸­æ¯åçº¿ç¨æ§è¡ ä½æ¯å¯ä»¥å¹¶è¡å¤çå¤ä¸ªåç\n\n * åçæ°éä¸æ¦ç¡®å®å¥½äº ä¸è½ä¿®æ¹ ä½æ¯å¯ä»¥éè¿éå»ºç´¢å¼åç´¢å¼å«åæ¥è¿ç§»\n\n * ç´¢å¼åçæ¨èéç½®æ¹æ¡\n   \n   1. æ¯ä¸ªåçæ¨èå¤§å°10-30GB\n   2. åçæ°éæ¨è = èç¹æ° * 1 ~ 3 å\n\n# è·¯ç±åç\n\n * ææ¡£å­å¥å¯¹åºçåç esè®¡ç®åçç¼å·çè¿ç¨ ç§°ä¸ºè·¯ç±\n * è·¯ç±ç®æ³ shard_index = hash(id) % number_of_shards\n\n\n\n\n# èè£\n\n * ä¸ä¸ªæ­£å¸¸eséç¾¤ä¸­åªæä¸ä¸ªä¸»èç¹ ä¸»èç¹è´è´£ç®¡çæ´ä¸ªéç¾¤ å¦åå»ºæå é¤ç´¢å¼ è·è¸ªåªäºèç¹æ¯éç¾¤çä¸é¨å å¹¶å³å®åªäºåçåéç»ç¸å³çèç¹\n * éç¾¤çææèç¹é½ä¼éæ©åä¸ä¸ªèç¹ä½ä¸ºä¸»èç¹\n * èè£é®é¢çåºç°æ¯å ä¸ºä»èç¹å¨éæ©ä¸»èç¹ä¸åºç°åæ­§å¯¼è´ä¸ä¸ªéç¾¤åºç°å¤ä¸ªä¸»èç¹ä»èéç¾¤åç¦»,ä½¿å¾éç¾¤å¤äºå¼å¸¸ç¶æ\n\n# èè£åå \n\n 1. ç½ç»åå : ç½ç»å»¶è¿ ä¸è¬åºç°å¨å¤ç½éç¾¤\n\n 2. èç¹è´è´£ ä¸»èç¹çè§è²å³ä¸ºmasteråä¸ºdata å½æ°æ®è®¿é®éè¾å¤§æ¶ å¯è½å¯¼è´Masterèç¹åæ­¢ååº(åæ­»ç¶æ)\n    \n    #æ¯å¦æèµæ ¼ä¸»èç¹\n    node.master: true\n    #æ¯å¦å­å¨æ°æ®\n    node.data: true\n    \n    \n    1\n    2\n    3\n    4\n    \n\n 3. JVMåå­åæ¶\n    \n    * å½Masterèç¹è®¾ç½®çJVMåå­è¾å°æ¶ å¼åJVMçå¤§è§æ¨¡åå­åæ¶ é æESè¿ç¨å¤±å»ååº\n\n# é¿åèè£\n\n 1. ç½ç»åå : discovery.zen.ping.timeout è¶æ¶æ¶é´éç½®å¤§ä¸äº é»è®¤ä¸º3S\n 2. èç¹è´è´£ è§è²åç¦» å½ä¸»èç¹å°±ä¸è¦å½æ°æ®å­å¨ å½æ°æ®å­å¨çå°±ä¸è¦å½ä¸»èç¹\n 3. ä¿®æ¹ jvm.options çæå¤§åå­åæå°åå­ ä¸ºæå¡å¨çåå­ä¸å\n\n\n# éç¾¤æ©å®¹\n\n 1. ä¿®æ¹ææéç¾¤ä¸­ç éç½®æä»¶ æ·»å æ°çéç¾¤\n 2. å¨é¨å¯å¨',normalizedContent:'# elasticsearch é«çº§\n\n\n# æ¹éæä½\n\nbulk æ¹éæä½æ¯å°ææ¡£çå¢å æ¹æ¥ä¸ç³»åæä½ éè¿ä¸æ¬¡è¯·æ± å¨é¨å®æ åå°ç½ç»ä¼ è¾æ¬¡æ°\n\n\n# èæ¬æä½\n\nget person/_search\n\n# æ¹éæä½\npost _bulk\n{"delete":{"_index":"person","_id":"3"}}\n{"create":{"_index":"person","_id":"8"}}\n{"name":"hhh","age":88,"address":"qqqq"}\n{"update":{"_index":"person","_id":"2"}}\n{"doc":{"name":"qwedqd"}}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n\n\n\n# api\n\n//æ¹éæä½ bulk\n@test\npublic void testbulk() throws ioexception {\n    //åå»ºbulkrequestå¯¹è±¡ æ´åæææä½\n    bulkrequest bulkrequest = new bulkrequest();\n    //æ·»å æä½\n    //å é¤1å·æä½\n    deleterequest deleterequest = new deleterequest("person","1");\n    bulkrequest.add(deleterequest);\n    //æ·»å 6å·æä½\n    map map = new hashmap();\n    map.put("name","æµè¯");\n    indexrequest indexrequest = new indexrequest("person").id("6").source(map);\n    bulkrequest.add(indexrequest);\n    //ä¿®æ¹3å·æä½\n    map map2 = new hashmap();\n    map2.put("name","æµè¯3å·");\n    updaterequest updatereqeust = new updaterequest("person","3").doc(map2);\n    bulkrequest.add(updatereqeust);\n    //æ§è¡æ¹éæä½\n    bulkresponse response = resthighlevelclient.bulk(bulkrequest, requestoptions.default);\n    reststatus status = response.status();\n    system.out.println(status);\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n\n\n\n# å¯¼å¥æ°æ®\n\nå°æ°æ®åºä¸­è¡¨æ°æ®å¯¼å¥å°elasticsearchä¸­\n\n 1. åå»ºç´¢å¼ å¹¶æ·»å mapping\n 2. åå»ºpojoç±» æ å°mybatis\n 3. æ¥è¯¢æ°æ®åº\n 4. ä½¿ç¨bulk æ¹éå¯¼å¥\n\n\n# ä½¿ç¨fastjson è½¬æ¢å¯¹è±¡ä¸è½¬æ¢è¯¥æååé\n\nå¨æååéå ä¸æ³¨è§£ ä½¿ç¨@jsonfield(serialize =false) æ­¤æååéä¸åä¸jsonè½¬æ¢\n\n\n# matchallæ¥è¯¢\n\nmatchallæ¥è¯¢ æ¥è¯¢ææææ¡£\n\n\n# èæ¬æä½\n\n# é»è®¤æåµä¸,esä¸æ¬¡åªå±ç¤º10æ¡æ°æ®  éè¿fromæ§å¶é¡µç  sizeæ§å¶æ¯é¡µå±ç¤ºæ¡æ°\n\nget person/_search\n{\n  "query": {\n    "match_all": {}\n  },\n  "from": 0,\n  "size": 100\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n\n\n\n\n\n# apiæä½\n\n//matchallæ¥è¯¢ææ åé¡µæä½\n@test\npublic void testmatchall() throws ioexception {\n    //2éè¿ç´¢å¼æ¥è¯¢\n    searchrequest searchrequest = new searchrequest("person");\n    //4åå»ºæ¥è¯¢æ¡ä»¶æå»ºå¨\n    searchsourcebuilder sourcebuilder = new searchsourcebuilder();\n    //5æ¥è¯¢æ¡ä»¶\n    querybuilder query = querybuilders.matchallquery();  //æ¥è¯¢ææææ¡£\n    //6æå®æ¥è¯¢æ¡ä»¶\n    sourcebuilder.query(query);\n    //åé¡µæ¥è¯¢\n    sourcebuilder.from(0); //ç¬¬å é¡µ\n    sourcebuilder.size(100); //æ¯é¡µæ¾ç¤ºæ°\n    //3æ·»å æ¥è¯¢æ¡ä»¶æå»ºå¨\n    searchrequest.source(sourcebuilder);\n\n    //1æ¥è¯¢ è·åæ¥è¯¢ç»æ\n    searchresponse search = resthighlevelclient.search(searchrequest, requestoptions.default);\n\n    //7è·åå½ä¸­å¯¹è±¡ hits\n    searchhits searchhits = search.gethits();\n    //è·åæ»æ¡æ°\n    long value = searchhits.gettotalhits().value;\n    system.out.println("æ»è®°å½æ°" + value);\n    //è·åhitsæ°ç»\n    searchhit[] hits = searchhits.gethits();\n    for (searchhit hit : hits) {\n        string sourceasstring = hit.getsourceasstring(); //è·åjsonå­ç¬¦ä¸²æ ¼å¼çæ°æ®\n        system.out.println(sourceasstring);\n    }\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n26\n27\n28\n29\n30\n31\n32\n\n\n\n# termæ¥è¯¢\n\n\n# èæ¬æ¥è¯¢\n\n# termæ¥è¯¢ è¯æ¡æ¥è¯¢ ä¸è¬ç¨äºæ¥åç±»\n\nget person/_search\n{\n  "query": {\n    "term": {\n      "name": {\n        "value": "hhh"\n      }\n    }\n  }\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n\n\n\n# apiæ¥è¯¢\n\n//termquery è¯æ¡æ¥è¯¢\n@test\npublic void testtermquery() throws ioexception {\n    searchrequest searchrequest = new searchrequest("person");\n\n    searchsourcebuilder sourcebulider=new searchsourcebuilder();\n    querybuilder query= querybuilders.termquery("name","hhh");\n    sourcebulider.query(query);\n    searchrequest.source(sourcebulider);\n\n\n    searchresponse search = resthighlevelclient.search(searchrequest, requestoptions.default);\n    searchhits searchhits = search.gethits();\n    //è·åæ»æ¡æ°\n    long value = searchhits.gettotalhits().value;\n    system.out.println("æ»è®°å½æ°" + value);\n    //è·åhitsæ°ç»\n    searchhit[] hits = searchhits.gethits();\n    for (searchhit hit : hits) {\n        string sourceasstring = hit.getsourceasstring(); //è·åjsonå­ç¬¦ä¸²æ ¼å¼çæ°æ®\n        system.out.println(sourceasstring);\n    }\n\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n\n\n\n# matchæ¥è¯¢\n\n * ä¼å¯¹æ¥è¯¢æ¡ä»¶è¿è¡åè¯\n * ç¶åå°åè¯åçæ¥è¯¢æ¡ä»¶åè¯æ¡è¿è¡ç­å¼å¹é\n * é»è®¤åå¹¶é(or) äº¤éä¸º(and)\n\n\n# èæ¬æä½\n\n# match æ¥è¯¢\n\nget person/_search\n{\n  "query": {\n    "match": {\n      "name": {\n        "query": "hhh",\n        "operator": "or"\n      }\n    }\n  }\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n\n\n\n# apiæä½\n\n//match è¯æ¡æ¥è¯¢\n@test\npublic void testmatchquery() throws ioexception {\n    searchrequest searchrequest = new searchrequest("person");\n\n    searchsourcebuilder sourcebulider=new searchsourcebuilder();\n    matchquerybuilder query= querybuilders.matchquery("name","hhh");\n    query.operator(operator.and); //å¹¶é\n\n    sourcebulider.query(query);\n    searchrequest.source(sourcebulider);\n\n\n    searchresponse search = resthighlevelclient.search(searchrequest, requestoptions.default);\n    searchhits searchhits = search.gethits();\n    //è·åæ»æ¡æ°\n    long value = searchhits.gettotalhits().value;\n    system.out.println("æ»è®°å½æ°" + value);\n    //è·åhitsæ°ç»\n    searchhit[] hits = searchhits.gethits();\n    for (searchhit hit : hits) {\n        string sourceasstring = hit.getsourceasstring(); //è·åjsonå­ç¬¦ä¸²æ ¼å¼çæ°æ®\n        system.out.println(sourceasstring);\n    }\n\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n26\n\n\n\n# æ¨¡ç³æ¥è¯¢\n\n * wildcardæ¥è¯¢ ä¼å¯¹æ¥è¯¢æ¡ä»¶è¿è¡åè¯ å¯ä»¥ä½¿ç¨ééç¬¦ ?(ä»»æåä¸ªå­ç¬¦) å * (0æå¤ä¸ªå­ç¬¦)\n * regexp æ¥è¯¢ æ­£åæ¥è¯¢\n * prefix åç¼æ¥è¯¢\n\n\n# èæ¬æ¥è¯¢\n\n# wildcard æ¥è¯¢ æ¥è¯¢æ¡ä»¶åè¯ æ¨¡ç³æ¥è¯¢\nget person/_search\n{\n  "query": {\n    "wildcard": {\n      "name": {\n        "value": "h"\n      }\n    }\n  }  \n}\n\n# æ­£åæ¥è¯¢ æ¥è¯¢æ¡ä»¶åè¯ æ¨¡ç³æ¥è¯¢\nget person/_search\n{\n  "query": {\n    "regexp": {\n      "name": "\\\\q+(.)*"\n    }\n  }  \n}\n\n# åç¼æ¥è¯¢\nget person/_search\n{\n  "query": {\n    "prefix": {\n      "name": {\n        "value": "qwe"\n      }\n    }\n  }  \n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n26\n27\n28\n29\n30\n31\n32\n33\n\n\n\n# apiæä½\n\n//wildcard æ¨¡ç³æ¥è¯¢\n@test\npublic void testwildcardquery() throws ioexception {\n    searchrequest searchrequest = new searchrequest("person");\n\n    searchsourcebuilder sourcebulider=new searchsourcebuilder();\n    wildcardquerybuilder query = querybuilders.wildcardquery("name", "h*");\n    sourcebulider.query(query);\n    searchrequest.source(sourcebulider);\n\n\n    searchresponse search = resthighlevelclient.search(searchrequest, requestoptions.default);\n    searchhits searchhits = search.gethits();\n    //è·åæ»æ¡æ°\n    long value = searchhits.gettotalhits().value;\n    system.out.println("æ»è®°å½æ°" + value);\n    //è·åhitsæ°ç»\n    searchhit[] hits = searchhits.gethits();\n    for (searchhit hit : hits) {\n        string sourceasstring = hit.getsourceasstring(); //è·åjsonå­ç¬¦ä¸²æ ¼å¼çæ°æ®\n        system.out.println(sourceasstring);\n    }\n\n}\n\n//regexp  æ­£åæ¥è¯¢\n@test\npublic void testrregexpquery() throws ioexception {\n    searchrequest searchrequest = new searchrequest("person");\n\n    searchsourcebuilder sourcebulider=new searchsourcebuilder();\n    regexpquerybuilder query = querybuilders.regexpquery("name", "\\\\h*");\n    sourcebulider.query(query);\n    searchrequest.source(sourcebulider);\n\n\n    searchresponse search = resthighlevelclient.search(searchrequest, requestoptions.default);\n    searchhits searchhits = search.gethits();\n    //è·åæ»æ¡æ°\n    long value = searchhits.gettotalhits().value;\n    system.out.println("æ»è®°å½æ°" + value);\n    //è·åhitsæ°ç»\n    searchhit[] hits = searchhits.gethits();\n    for (searchhit hit : hits) {\n        string sourceasstring = hit.getsourceasstring(); //è·åjsonå­ç¬¦ä¸²æ ¼å¼çæ°æ®\n        system.out.println(sourceasstring);\n    }\n\n}\n\n//prefix   åç¼æ¥è¯¢\n@test\npublic void testrprefixquery() throws ioexception {\n    searchrequest searchrequest = new searchrequest("person");\n\n    searchsourcebuilder sourcebulider=new searchsourcebuilder();\n    prefixquerybuilder query = querybuilders.prefixquery("name", "qwe");\n    sourcebulider.query(query);\n    searchrequest.source(sourcebulider);\n\n\n    searchresponse search = resthighlevelclient.search(searchrequest, requestoptions.default);\n    searchhits searchhits = search.gethits();\n    //è·åæ»æ¡æ°\n    long value = searchhits.gettotalhits().value;\n    system.out.println("æ»è®°å½æ°" + value);\n    //è·åhitsæ°ç»\n    searchhit[] hits = searchhits.gethits();\n    for (searchhit hit : hits) {\n        string sourceasstring = hit.getsourceasstring(); //è·åjsonå­ç¬¦ä¸²æ ¼å¼çæ°æ®\n        system.out.println(sourceasstring);\n    }\n\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n26\n27\n28\n29\n30\n31\n32\n33\n34\n35\n36\n37\n38\n39\n40\n41\n42\n43\n44\n45\n46\n47\n48\n49\n50\n51\n52\n53\n54\n55\n56\n57\n58\n59\n60\n61\n62\n63\n64\n65\n66\n67\n68\n69\n70\n71\n72\n73\n74\n\n\n\n# èå´æ¥è¯¢\n\nrangeèå´æ¥è¯¢ æ¥è¯¢æå®å­æ®µå¨æå®èå´ååå«å¼\n\n\n# èæ¬æ¥è¯¢\n\n#èå´æ¥è¯¢\nget perso/_search\n{\n  "query": {\n    "range": {\n      "age": {\n        "gte": 10,\n        "lte": 30\n      }\n    }\n  },\n  "sort": [\n    {\n      "age": {\n        "order": "desc"\n      }\n    }\n  ]\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n\n\n\n# apiæ¥è¯¢\n\n//range   èå´æ¥è¯¢\n@test\npublic void testrangequery() throws ioexception {\n    searchrequest searchrequest = new searchrequest("person");\n\n    searchsourcebuilder sourcebulider=new searchsourcebuilder();\n    rangequerybuilder query = querybuilders.rangequery("age");//æå®å­æ®µ\n    query.gte("10"); //å°äºç­äº\n    query.lte("30"); //å¤§äºç­äº\n\n\n    sourcebulider.query(query);\n    sourcebulider.sort("age", sortorder.asc); //æåº\n    searchrequest.source(sourcebulider);\n\n\n    searchresponse search = resthighlevelclient.search(searchrequest, requestoptions.default);\n    searchhits searchhits = search.gethits();\n    //è·åæ»æ¡æ°\n    long value = searchhits.gettotalhits().value;\n    system.out.println("æ»è®°å½æ°" + value);\n    //è·åhitsæ°ç»\n    searchhit[] hits = searchhits.gethits();\n    for (searchhit hit : hits) {\n        string sourceasstring = hit.getsourceasstring(); //è·åjsonå­ç¬¦ä¸²æ ¼å¼çæ°æ®\n        system.out.println(sourceasstring);\n    }\n\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n26\n27\n28\n29\n\n\n\n# querystringæ¥è¯¢\n\n * ä¼å¯¹æ¥è¯¢æ¡ä»¶è¿è¡åè¯\n * ç¶åå°åè¯åçæ¥è¯¢æ¡ä»¶åè¯æ¡è¿è¡ç­å¼å¹é\n * é»è®¤åå¹¶é\n * å¯ä»¥æå®å¤ä¸ªæ¥è¯¢å­æ®µ\n\n\n# èæ¬æ¥è¯¢\n\n# querystring æ¥è¯¢\nget person/_search\n{\n  "query": {\n    "query_string": {\n      "fields": ["name","address"],\n      "query": "åä¸º or ææº"\n    }\n  }  \n}\n\n# simplequerystringqueryæ¯querystringqueryçç®åçï¼å¶æ¬èº«ä¸æ¯æ and or not å¸å°è¿ç®å³é®å­ï¼è¿äºå³é®å­ä¼è¢«å½åæ®éè¯è¯­è¿è¡å¤çã\n# å¯ä»¥éè¿ default_operator æå®æ¥è¯¢å­ç¬¦ä¸²é»è®¤ä½¿ç¨çè¿ç®æ¹å¼ï¼é»è®¤ä¸º or\nget person/_search\n{\n  "query": {\n    "simple_query_string": {\n      "fields": ["name","address"],\n      "query": "åä¸º or ææº"\n    }\n  }  \n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n\n\n\n# apiæ¥è¯¢\n\n//querystring\n@test\npublic void testquerystringquery() throws ioexception {\n    searchrequest searchrequest = new searchrequest("person");\n\n    searchsourcebuilder sourcebulider=new searchsourcebuilder();\n    querystringquerybuilder query = querybuilders.querystringquery("åä¸º").field("name").field("address").defaultoperator(operator.or);\n\n\n    sourcebulider.query(query);\n    searchrequest.source(sourcebulider);\n\n\n    searchresponse search = resthighlevelclient.search(searchrequest, requestoptions.default);\n    searchhits searchhits = search.gethits();\n    //è·åæ»æ¡æ°\n    long value = searchhits.gettotalhits().value;\n    system.out.println("æ»è®°å½æ°" + value);\n    //è·åhitsæ°ç»\n    searchhit[] hits = searchhits.gethits();\n    for (searchhit hit : hits) {\n        string sourceasstring = hit.getsourceasstring(); //è·åjsonå­ç¬¦ä¸²æ ¼å¼çæ°æ®\n        system.out.println(sourceasstring);\n    }\n\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n26\n\n\n\n# å¸å°æ¥è¯¢\n\nboolquery å¯¹å¤ä¸ªæ¥è¯¢æ¡ä»¶è¿æ¥ ç»åæ¥è¯¢\n\n * must (and) æ¡ä»¶å¿é¡»æç«\n * must_not (not) æ¡ä»¶å¿é¡»ä¸æç«\n * should(or) æ¡ä»¶å¯ä»¥æç«\n * filter æ¡ä»¶å¿é¡»æå æ§è½æ¯musté« ä¸ä¼è®¡ç®å¾å (å½æ¥è¯¢ç»æç¬¦åæ¥è¯¢æ¡ä»¶è¶å¤åå¾åè¶å¤)\n\n\n# èæ¬æ¥è¯¢\n\n# boolæ¥è¯¢\nget person/_search\n{\n  "query": {\n    "bool": {\n      "must": [\n        {"term": {\n          "name": {\n            "value": "å¼ ä¸"\n          }\n        }}\n      ]\n    }\n  }\n}\n\n#filter\nget person/_search\n{\n  "query": {\n    "bool": {\n      "filter": [\n        {"term": {\n          "name": {\n            "value": "å¼ ä¸"\n          }\n        }}\n      ]\n    }\n  }\n}\n\n# ç»åå¤æ¡ä»¶æ¥è¯¢\nget person/_search\n{\n  "query": {\n    "bool": {\n      "must": [\n        {"term": {\n          "name": {\n            "value": "å¼ ä¸"\n          }\n        }}\n      ],\n      "filter": [\n        {\n          "term": {\n            "address": "5g"\n          }\n        }\n      ]\n    }\n  }\n}\n\n\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n26\n27\n28\n29\n30\n31\n32\n33\n34\n35\n36\n37\n38\n39\n40\n41\n42\n43\n44\n45\n46\n47\n48\n49\n50\n51\n52\n53\n54\n55\n56\n\n\n\n# apiæ¥è¯¢\n\n//boolquery\n@test\npublic void testboolqueryquery() throws ioexception {\n    searchrequest searchrequest = new searchrequest("person");\n\n    searchsourcebuilder sourcebuilder=new searchsourcebuilder();\n\n    //æå»ºboolquery\n    boolquerybuilder query = querybuilders.boolquery();\n\n    //æå»ºåä¸ªæ¥è¯¢æ¡ä»¶\n    termquerybuilder termquery = querybuilders.termquery("name", "å¼ ä¸");//æ¥è¯¢åå­ä¸ºå¼ ä¸ç\n    query.must(termquery);\n    matchquerybuilder matchquery = querybuilders.matchquery("address", "5g"); //æ¥è¯¢å°ååå«5gç\n    query.must(matchquery);\n\n\n    sourcebuilder.query(query);\n    searchrequest.source(sourcebuilder);\n\n\n    searchresponse search = resthighlevelclient.search(searchrequest, requestoptions.default);\n    searchhits searchhits = search.gethits();\n    //è·åæ»æ¡æ°\n    long value = searchhits.gettotalhits().value;\n    system.out.println("æ»è®°å½æ°" + value);\n    //è·åhitsæ°ç»\n    searchhit[] hits = searchhits.gethits();\n    for (searchhit hit : hits) {\n        string sourceasstring = hit.getsourceasstring(); //è·åjsonå­ç¬¦ä¸²æ ¼å¼çæ°æ®\n        system.out.println(sourceasstring);\n    }\n\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n26\n27\n28\n29\n30\n31\n32\n33\n34\n\n\n\n# èåæ¥è¯¢\n\n * ææ èå ç¸å½äºmysqlçèåå½æ° max min avg sumç­\n * æ¡¶èå ç¸å½äºmysqlçgroup by . ä¸è¦å¯¹textç±»åçæ°æ®è¿è¡åç» ä¼å¤±è´¥\n\n\n# èæ¬æ¥è¯¢\n\n# èåæ¥è¯¢\n\n# ææ èå èåå½æ°\nget person/_search\n{\n  "query": {\n    "match": {\n      "name": "å¼ ä¸"\n    }\n  },\n  "aggs": {\n    "name": {\n      "max": {\n        "field": "age" \n      }\n    }\n  }\n}\n\n \n# æ¡¶èå åç»  éè¿ aggs\nget person/_search\n{\n  "query": {\n    "match": {\n      "name": "å¼ ä¸"\n    }\n  },\n  "aggs": {\n    "zdymc": {\n      "terms": {\n        "field": "age",\n        "size": 10\n      }\n    }\n  }\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n26\n27\n28\n29\n30\n31\n32\n33\n34\n35\n36\n37\n\n\n\n\n\n# apiæ¥è¯¢\n\n//èåæ¥è¯¢ æ¡¶èå åç»\n@test\npublic void testaggsquery() throws ioexception {\n    searchrequest searchrequest = new searchrequest("person");\n\n    searchsourcebuilder sourcebuilder=new searchsourcebuilder();\n    matchquerybuilder query = querybuilders.matchquery("name", "å¼ ä¸");\n    sourcebuilder.query(query);\n\n    /**\n     * terms æ¥è¯¢åç»æåç§°\n     * field æ¡ä»¶å­æ®µ\n     * size æ¯é¡µå±ç¤ºçæ¡æ°\n     */\n    termsaggregationbuilder aggs = aggregationbuilders.terms("èªå®ä¹åç§°").field("age").size(10);\n    sourcebuilder.aggregation(aggs);\n\n    searchrequest.source(sourcebuilder);\n\n\n    searchresponse search = resthighlevelclient.search(searchrequest, requestoptions.default);\n    searchhits searchhits = search.gethits();\n    //è·åæ»æ¡æ°\n    long value = searchhits.gettotalhits().value;\n    system.out.println("æ»è®°å½æ°" + value);\n    //è·åhitsæ°ç»\n    searchhit[] hits = searchhits.gethits();\n    for (searchhit hit : hits) {\n        string sourceasstring = hit.getsourceasstring(); //è·åjsonå­ç¬¦ä¸²æ ¼å¼çæ°æ®\n        system.out.println(sourceasstring);\n    }\n\n\n    //è·åèåç»æ\n    aggregations aggregations = search.getaggregations();\n    map<string, aggregation> aggregationmap = aggregations.asmap();  //å°ç»æè½¬ä¸ºmap\n    terms zdymc = (terms) aggregationmap.get("èªå®ä¹åç§°");\n    list<? extends terms.bucket> buckets = zdymc.getbuckets();\n\n    arraylist list = new arraylist<>();\n    for (terms.bucket bucket : buckets) {\n        object key = bucket.getkey();\n        list.add(key);\n    }\n\n    for (object o : list) {\n        system.out.println(o);\n    }\n\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n26\n27\n28\n29\n30\n31\n32\n33\n34\n35\n36\n37\n38\n39\n40\n41\n42\n43\n44\n45\n46\n47\n48\n49\n50\n\n\n\n# é«äº®æ¥è¯¢\n\n * é«äº®å­æ®µ\n * åç¼\n * åç¼ å¦æä¸è®¾ç½®ååç¼ é»è®¤ä¸ºemæ ç­¾\n\n\n# èæ¬æä½\n\n# é«äº®æ¥è¯¢\nget person/_search\n{\n  "query": {\n    "match": {\n      "address": "ææº"\n    }\n  },\n  "highlight": {\n    "fields": {\n      "address": {\n        "pre_tags": "<font color=\'red\'>",\n        "post_tags": "</font>"\n      }\n    }\n  }\n  \n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n\n\n\n# apiæä½\n\n//highlight é«äº®æ¥è¯¢\n@test\npublic void testhighlightquery() throws ioexception {\n    searchrequest searchrequest = new searchrequest("person");\n\n    searchsourcebuilder sourcebuilder=new searchsourcebuilder();\n    matchquerybuilder query = querybuilders.matchquery("address", "ææº");\n    sourcebuilder.query(query);\n\n    highlightbuilder highlightbuilder = new highlightbuilder();//é«äº®å¯¹è±¡\n    highlightbuilder.field("address");  //å­æ®µ\n    highlightbuilder.pretags("<font color=\'red\'>");  //åç¼\n    highlightbuilder.posttags("</font>");  //åç¼\n    sourcebuilder.highlighter(highlightbuilder);\n\n    searchrequest.source(sourcebuilder);\n\n\n    searchresponse search = resthighlevelclient.search(searchrequest, requestoptions.default);\n    searchhits searchhits = search.gethits();\n    //è·åæ»æ¡æ°\n    long value = searchhits.gettotalhits().value;\n    system.out.println("æ»è®°å½æ°" + value);\n    //è·åhitsæ°ç»\n    searchhit[] hits = searchhits.gethits();\n    for (searchhit hit : hits) {\n        string sourceasstring = hit.getsourceasstring(); //è·åjsonå­ç¬¦ä¸²æ ¼å¼çæ°æ®\n        //todo å°å¯¹è±¡è½¬ä¸ºjson\n\n\n        map<string, highlightfield> highlightfields = hit.gethighlightfields();  //è·åé«äº®ä¸­çå¯¹è±¡åç´ \n        highlightfield address = highlightfields.get("address");\n        text[] fragments = address.fragments();  //è·ååç´ ä¸­çé«äº®æ°ç»ç»æ\n        //æ¿æ¢jsonä¸­çæååéæ°æ®\n        //todo\n\n        system.out.println(sourceasstring);\n        system.out.println(arrays.tostring(fragments));\n    }\n\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n26\n27\n28\n29\n30\n31\n32\n33\n34\n35\n36\n37\n38\n39\n40\n41\n\n\n\n# éå»ºç´¢å¼&ç´¢å¼å«å\n\nesçç´¢å¼ä¸æ¦åå»º,åªåè®¸æ·»å å­æ®µ ä¸åè®¸æ¹åå­æ®µ å ä¸ºæ¹åå­æ®µ éè¦éå»ºåæç´¢å¼ å½±ååé¨ç¼å­ç»æ\n\næ­¤æ¶éè¦éå»ºä¸ä¸ªæ°çç´¢å¼ å¹¶å°åæç´¢å¼çæ°æ®å¯¼å¥å°æ°ç´¢å¼ä¸­\n\n# éå»ºç´¢å¼\n\n# æ°å»ºç´¢å¼ ç´¢å¼åç§°å¿é¡»å¨é¨å°å\nput stdent_index_v1\n{\n  "mappings": {\n    "properties": {\n      "birthday":{\n        "type": "date"\n      }\n    }\n  }\n}\n\nget stdent_index_v1\n\nput stdent_index_v1/_doc/1\n{\n  "birthday":"1999-01-01"\n}\n\nget stdent_index_v1/_search\n\n# ç°å¨stdent_index_v1éè¦å­å¨birthdayä¸ºä¸ä¸ªå­ç¬¦ä¸²\n# 1.åå»ºæ°çç´¢å¼v2\nput stdent_index_v2\n{\n  "mappings": {\n    "properties": {\n      "birthday":{\n        "type": "text"\n      }\n    }\n  }\n}\n#2.å°æ§ç´¢å¼çæ°æ®æ·è´å°æ°ç´¢å¼ ä½¿ç¨_reindex\npost _reindex\n{\n  "source": {\n    "index": "stdent_index_v1"\n  },\n  "dest": {\n    "index": "stdent_index_v2"\n  }\n}\n\n\nget stdent_index_v2/_search\n\n\nput stdent_index_v2/_doc/2\n{\n  "birthday":"199å¹´124æ¥"\n}\n\n\n# ç´¢å¼å«å  å ä¸ºæ§ç´¢å¼å·²ç»ä¸ä½¿ç¨ èæä»¬ä»£ç ä¸­åçæ¯æ§ç´¢å¼å æ æ³æ­£å¸¸è¿è¡ åéè¦å«å\n# 1.å é¤æ§ç´¢å¼\ndelete stdent_index_v1\n# 2. ç»æ°ç´¢å¼èµ·å«åä¸ºæ§ç´¢å¼å\npost stdent_index_v2/_alias/stdent_index_v1\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n26\n27\n28\n29\n30\n31\n32\n33\n34\n35\n36\n37\n38\n39\n40\n41\n42\n43\n44\n45\n46\n47\n48\n49\n50\n51\n52\n53\n54\n55\n56\n57\n58\n59\n60\n61\n\n\n\n# eséç¾¤\n\neså¤©ç¶æ¯æåå¸å¼,å¹¶ä¸åå¸å¼èªå¨éç½®\n\n * éç¾¤(cluster) ä¸ç»æ¥æå±åçcluster name èç¹\n * èç¹(node) éåä¸­çä¸ä¸ªeså®ä¾\n * ç´¢å¼(index) eså­å¨æ°æ®çå°æ¹\n * åç(shard) ç´¢å¼å¯ä»¥è¢«æåä¸ºä¸åçé¨åè¿è¡å­å¨ ç§°ä¸ºåç å¨éç¾¤ç¯å¢ä¸ ä¸ä¸ªç´¢å¼çä¸åå¯ä»¥æåå°ä¸åèç¹ä¸­\n * ä¸»åç(primary shard) ç¸å½äºå¯æ¬åççå®ä¹\n * å¯æ¬åç æ¯ä¸ªä¸»åçå¯ä»¥æä¸ä¸ªæå¤ä¸ªå¯æ¬ æ°æ®ä¸ä¸»åçä¸æ ·\n\n\n# æ­å»º\n\n 1. åå¤3ä¸ªéç¾¤ æ­¤å¤ä½ä¼ªéç¾¤ ä½¿ç¨ç«¯å£å·åºå\n    \n    cp -r elasticsearch-7.15.0 elasticsearch-7.15.0-1\n    cp -r elasticsearch-7.15.0 elasticsearch-7.15.0-2\n    cp -r elasticsearch-7.15.0 elasticsearch-7.15.0-3\n    \n    \n    1\n    2\n    3\n    \n\n 2. åå»ºæ¥å¿ådataç®å½ å¹¶ææç»iekrç¨æ·\n    \n    cd /opt\n    mkdir logs\n    mkdir data\n    \n    #ææ\n    chown -r iekr:iekr ./logs\n    chown -r iekr:iekr ./data\n    \n    chown -r iekr:iekr ./elasticsearch-7.15.0-1\n    chown -r iekr:iekr ./elasticsearch-7.15.0-2\n    chown -r iekr:iekr ./elasticsearch-7.15.0-3\n    \n    \n    \n    1\n    2\n    3\n    4\n    5\n    6\n    7\n    8\n    9\n    10\n    11\n    12\n    \n\n 3. ä¿®æ¹ä¸ä¸ªéç¾¤çéç½®æä»¶\n    \n    vim /opt/elasticsearch-7.15.0-1/config/elasticsearch.yml\n    \n    \n    1\n    \n    \n    # éç¾¤åç§°  åä¸ªéç¾¤å¿é¡»ä¸è´\n    cluster.name: itcast-es\n    # èç¹åç§°  ä¸è½ä¸è´\n    node.name: iekr-1\n    #æ¯å¦æèµæ ¼ä¸»èç¹\n    node.master: true\n    #æ¯å¦å­å¨æ°æ®\n    node.data: true\n    #æå¤§éç¾¤æ°\n    node.max_local_storage_nodes: 3\n    #ipå°å\n    network.host: 0.0.0.0\n    # ç«¯å£\n    http.port: 9201\n    #åé¨èç¹ä¹é´æ²éç«¯å£\n    transport.tcp.port: 9700\n    #èç¹åç° es7.xææ\n    discovery.seed_hosts: ["localhost:9700","localhost:9800","localhost:9900"]\n    #åå§åä¸ä¸ªæ°çéç¾¤æ¶éè¦æ­¤éç½®æ¥éä¸¾master\n    cluster.initial_master_nodes: ["iekr-1","iekr-2","iekr-3"]\n    #æ°æ®åå­å¨è·¯å¾\n    path.data: /opt/data\n    path.logs: /opt/logs\n    \n    \n    1\n    2\n    3\n    4\n    5\n    6\n    7\n    8\n    9\n    10\n    11\n    12\n    13\n    14\n    15\n    16\n    17\n    18\n    19\n    20\n    21\n    22\n    23\n    \n    \n    vim /opt/elasticsearch-7.15.0-2/config/elasticsearch.yml\n    \n    \n    1\n    \n    \n    # éç¾¤åç§°  åä¸ªéç¾¤å¿é¡»ä¸è´\n    cluster.name: itcast-es\n    # èç¹åç§°  ä¸è½ä¸è´\n    node.name: iekr-2\n    #æ¯å¦æèµæ ¼ä¸»èç¹\n    node.master: true\n    #æ¯å¦å­å¨æ°æ®\n    node.data: true\n    #æå¤§éç¾¤æ°\n    node.max_local_storage_nodes: 3\n    #ipå°å\n    network.host: 0.0.0.0\n    # ç«¯å£\n    http.port: 9202\n    #åé¨èç¹ä¹é´æ²éç«¯å£\n    transport.tcp.port: 9800\n    #èç¹åç° es7.xææ\n    discovery.seed_hosts: ["localhost:9700","localhost:9800","localhost:9900"]\n    #åå§åä¸ä¸ªæ°çéç¾¤æ¶éè¦æ­¤éç½®æ¥éä¸¾master\n    cluster.initial_master_nodes: ["iekr-1","iekr-2","iekr-3"]\n    #æ°æ®åå­å¨è·¯å¾\n    path.data: /opt/data\n    path.logs: /opt/logs\n    \n    \n    1\n    2\n    3\n    4\n    5\n    6\n    7\n    8\n    9\n    10\n    11\n    12\n    13\n    14\n    15\n    16\n    17\n    18\n    19\n    20\n    21\n    22\n    23\n    \n    \n    vim /opt/elasticsearch-7.15.0-3/config/elasticsearch.yml\n    \n    \n    1\n    \n    \n    # éç¾¤åç§°  åä¸ªéç¾¤å¿é¡»ä¸è´\n    cluster.name: itcast-es\n    # èç¹åç§°  ä¸è½ä¸è´\n    node.name: iekr-3\n    #æ¯å¦æèµæ ¼ä¸»èç¹\n    node.master: true\n    #æ¯å¦å­å¨æ°æ®\n    node.data: true\n    #æå¤§éç¾¤æ°\n    node.max_local_storage_nodes: 3\n    #ipå°å\n    network.host: 0.0.0.0\n    # ç«¯å£\n    http.port: 9203\n    #åé¨èç¹ä¹é´æ²éç«¯å£\n    transport.tcp.port: 9900\n    #èç¹åç° es7.xææ\n    discovery.seed_hosts: ["localhost:9700","localhost:9800","localhost:9900"]\n    #åå§åä¸ä¸ªæ°çéç¾¤æ¶éè¦æ­¤éç½®æ¥éä¸¾master\n    cluster.initial_master_nodes: ["iekr-1","iekr-2","iekr-3"]\n    #æ°æ®åå­å¨è·¯å¾\n    path.data: /opt/data\n    path.logs: /opt/logs\n    \n    \n    1\n    2\n    3\n    4\n    5\n    6\n    7\n    8\n    9\n    10\n    11\n    12\n    13\n    14\n    15\n    16\n    17\n    18\n    19\n    20\n    21\n    22\n    23\n    \n\n 4. esé»è®¤å ç¨1g æä»¬éè¿éç½®æä»¶ä¿®æ¹\n    \n    vim /opt/elasticsearch-7.15.0-1/config/jvm.options\n    \n    \n    1\n    \n    \n    -xms256m\n    -xmx256m\n    \n    \n    1\n    2\n    \n\n 5. åå«å¯å¨\n    \n    systemctl stop firewalld\n    su iekr\n    cd /opt/elasticsearch-7.15.0-1/bin/\n    ./elasticsearch\n    \n    \n    1\n    2\n    3\n    4\n    \n\n 6. è®¿é® http://192.168.130.124:9201/_cat/health?v èç¹ç¶æ\n\n\n\n\n# ä½¿ç¨kibanaéç½®åç®¡çéç¾¤\n\n 1. å¤å¶kibana\n    \n    cd /opt\n    cp -r kibana-7.15.0-linux-x86_64 kibana-7.15.0-linux-x86_64-cluster\n    \n    \n    1\n    2\n    \n\n 2. ä¿®æ¹kibanaéç¾¤éç½®\n    \n    vim /opt/kibana-7.15.0-linux-x86_64-cluster/config/kibana.yml\n    #ä¿®æ¹ä»¥ä¸åå®¹\n    elasticsearch.hosts: ["http://localhost:9201","http://localhost:9202","http://localhost:9203"]\n    \n    \n    1\n    2\n    3\n    \n\n 3. å¯å¨\n    \n    cd /opt/kibana-7.15.0-linux-x86_64-cluster/bin/\n    ./kibana --allow-root\n    \n    \n    1\n    2\n    \n\n 4. è®¿é® http://192.168.130.124:5601/app/monitoring æ¥è¯¢éç¾¤èç¹ä¿¡æ¯\n\n\n# javaapiè®¿é®éç¾¤\n\n 1. application.yml\n    \n    elasticsearch:\n      host: 192.168.130.124\n      port: 9201\n      host2: 192.168.130.124\n      port2: 9202\n      host3: 192.168.130.124\n      port3: 9203\n    \n    \n    1\n    2\n    3\n    4\n    5\n    6\n    7\n    \n\n 2. configç±» å¹¶æ³¨åiocå®¹å¨\n    \n    package com.itheima.elasticsearchdemo.config;\n    \n    \n    import org.apache.http.httphost;\n    import org.elasticsearch.client.restclient;\n    import org.elasticsearch.client.resthighlevelclient;\n    import org.springframework.boot.context.properties.configurationproperties;\n    import org.springframework.context.annotation.bean;\n    import org.springframework.context.annotation.configuration;\n    \n    @configuration\n    @configurationproperties(prefix = "elasticsearch")\n    public class elasticsearchconfig {\n    \n        private string host;\n        private int port;\n        private string host2;\n        private int port2;\n        private string host3;\n        private int port3;\n    \n        public string gethost() {\n            return host;\n        }\n    \n        public void sethost(string host) {\n            this.host = host;\n        }\n    \n        public int getport() {\n            return port;\n        }\n    \n        public void setport(int port) {\n            this.port = port;\n        }\n    \n        @bean\n        public resthighlevelclient client(){\n            return new resthighlevelclient(restclient.builder(\n                    new httphost(host,port,"http"),\n            new httphost(host2,port2,"http"),\n            new httphost(host3,port3,"http")\n            ));\n    \n        }\n    }\n    \n    \n    1\n    2\n    3\n    4\n    5\n    6\n    7\n    8\n    9\n    10\n    11\n    12\n    13\n    14\n    15\n    16\n    17\n    18\n    19\n    20\n    21\n    22\n    23\n    24\n    25\n    26\n    27\n    28\n    29\n    30\n    31\n    32\n    33\n    34\n    35\n    36\n    37\n    38\n    39\n    40\n    41\n    42\n    43\n    44\n    45\n    46\n    47\n    \n\n\n# éç¾¤åç\n\n# åçéç½®\n\n * å¨åå»ºç´¢å¼æ¶ å¦æä¸æå®åééç½® é»è®¤ä¸»åç1 å¯æ¬åç1\n   \n   * \n\n * å¨åå»ºç´¢å¼æ¶ å¯ä»¥éè¿settingsè®¾ç½®åç\n   \n   * put stdent_index_v3\n     {\n       "mappings": {\n         "properties": {\n           "birthday":{\n             "type": "date"\n           }\n         }\n       },\n       "settings": {\n         "number_of_shards": 3,\n         "number_of_replicas": 1\n       }\n     }\n     \n     \n     1\n     2\n     3\n     4\n     5\n     6\n     7\n     8\n     9\n     10\n     11\n     12\n     13\n     14\n     \n\n * åçä¸èªå¹³è¡¡: esé»è®¤ä¼äº¤éå­å¨åç å¦æå¶ä¸­ä¸ä¸ªèç¹å¤±æä¸å½±åè®¿é® å¹¶ä¸ä¼èªå¨å°å¤±æçåçå½å¹¶å°ç®åä»å¨çº¿çèç¹ä¸ èç¹éæ°ä¸çº¿å½è¿åç\n\n * esæ¯ä¸ªæ¥è¯¢å¨æ¯ä¸ªåçä¸­æ¯åçº¿ç¨æ§è¡ ä½æ¯å¯ä»¥å¹¶è¡å¤çå¤ä¸ªåç\n\n * åçæ°éä¸æ¦ç¡®å®å¥½äº ä¸è½ä¿®æ¹ ä½æ¯å¯ä»¥éè¿éå»ºç´¢å¼åç´¢å¼å«åæ¥è¿ç§»\n\n * ç´¢å¼åçæ¨èéç½®æ¹æ¡\n   \n   1. æ¯ä¸ªåçæ¨èå¤§å°10-30gb\n   2. åçæ°éæ¨è = èç¹æ° * 1 ~ 3 å\n\n# è·¯ç±åç\n\n * ææ¡£å­å¥å¯¹åºçåç esè®¡ç®åçç¼å·çè¿ç¨ ç§°ä¸ºè·¯ç±\n * è·¯ç±ç®æ³ shard_index = hash(id) % number_of_shards\n\n\n\n\n# èè£\n\n * ä¸ä¸ªæ­£å¸¸eséç¾¤ä¸­åªæä¸ä¸ªä¸»èç¹ ä¸»èç¹è´è´£ç®¡çæ´ä¸ªéç¾¤ å¦åå»ºæå é¤ç´¢å¼ è·è¸ªåªäºèç¹æ¯éç¾¤çä¸é¨å å¹¶å³å®åªäºåçåéç»ç¸å³çèç¹\n * éç¾¤çææèç¹é½ä¼éæ©åä¸ä¸ªèç¹ä½ä¸ºä¸»èç¹\n * èè£é®é¢çåºç°æ¯å ä¸ºä»èç¹å¨éæ©ä¸»èç¹ä¸åºç°åæ­§å¯¼è´ä¸ä¸ªéç¾¤åºç°å¤ä¸ªä¸»èç¹ä»èéç¾¤åç¦»,ä½¿å¾éç¾¤å¤äºå¼å¸¸ç¶æ\n\n# èè£åå \n\n 1. ç½ç»åå : ç½ç»å»¶è¿ ä¸è¬åºç°å¨å¤ç½éç¾¤\n\n 2. èç¹è´è´£ ä¸»èç¹çè§è²å³ä¸ºmasteråä¸ºdata å½æ°æ®è®¿é®éè¾å¤§æ¶ å¯è½å¯¼è´masterèç¹åæ­¢ååº(åæ­»ç¶æ)\n    \n    #æ¯å¦æèµæ ¼ä¸»èç¹\n    node.master: true\n    #æ¯å¦å­å¨æ°æ®\n    node.data: true\n    \n    \n    1\n    2\n    3\n    4\n    \n\n 3. jvmåå­åæ¶\n    \n    * å½masterèç¹è®¾ç½®çjvmåå­è¾å°æ¶ å¼åjvmçå¤§è§æ¨¡åå­åæ¶ é æesè¿ç¨å¤±å»ååº\n\n# é¿åèè£\n\n 1. ç½ç»åå : discovery.zen.ping.timeout è¶æ¶æ¶é´éç½®å¤§ä¸äº é»è®¤ä¸º3s\n 2. èç¹è´è´£ è§è²åç¦» å½ä¸»èç¹å°±ä¸è¦å½æ°æ®å­å¨ å½æ°æ®å­å¨çå°±ä¸è¦å½ä¸»èç¹\n 3. ä¿®æ¹ jvm.options çæå¤§åå­åæå°åå­ ä¸ºæå¡å¨çåå­ä¸å\n\n\n# éç¾¤æ©å®¹\n\n 1. ä¿®æ¹ææéç¾¤ä¸­ç éç½®æä»¶ æ·»å æ°çéç¾¤\n 2. å¨é¨å¯å¨',charsets:{cjk:!0},lastUpdated:"2022/03/18, 07:01:11",lastUpdatedTimestamp:1647558071e3},{title:"Nginx",frontmatter:{title:"Nginx",date:"2022-03-18T00:52:16.000Z",permalink:"/pages/0aeef9/",categories:["åç«¯","Linux"],tags:[null]},regularPath:"/%E5%90%8E%E7%AB%AF/03.Linux/03.Nginx.html",relativePath:"åç«¯/03.Linux/03.Nginx.md",key:"v-44752817",path:"/pages/0aeef9/",headers:[{level:2,title:"å®è£",slug:"å®è£",normalizedTitle:"å®è£",charIndex:12},{level:2,title:"åå¸é¡¹ç®",slug:"åå¸é¡¹ç®",normalizedTitle:"åå¸é¡¹ç®",charIndex:570}],headersStr:"å®è£ åå¸é¡¹ç®",content:"# Nginx\n\n\n# å®è£\n\nä¸ä¼ Nginxæä»¶\n\ntar -zxvf nginx-1.21.1.tar.gz\ncd nginx-1.21.1\nyum -y install gcc\nyum -y install pcre pcre-devel\nyum -y install zlib zlib-devel\nyum -y install openssl openssl-devel\nmake\nmake install\ncd /usr/local/nginx/sbin\n./nginx\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n\n\n# åæ­¢\n./nginx -s stop\n\n# éå¯\n./nginx -s reload\n\n# æ¥çè¿ç¨\nps -ef |grep nginx\n\n# æ¥ç80ç«¯å£\nnetstat -ntlp|grep 80\n\n# å¼æ¾80ç«¯å£\nfirewall-cmd --zone=public --add-port=80/tcp --permanent\n\n# éå¯é²ç«å¢\nfirewall-cmd --reload  \n\n# æ¥çå·²ç»å¼æ¾çç«¯å£\nfirewall-cmd --list-ports  \n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n\n\n\n# åå¸é¡¹ç®\n\nç¼è¾nginxéç½®æä»¶\n\nvi /usr/local/nginx/conf/nginx.conf\n\n\n1\n\n\nä¿®æ¹ server ä¸çlocation-rootè·¯å¾ä¸ºè¦åå¸é¡¹ç®çè·¯å¾\n\nserver {\n        listen       80;\n        server_name  localhost;\n\n        #charset koi8-r;\n\n        #access_log  logs/host.access.log  main;\n\n        location / {\n            root   html;\n            index  index.html index.htm;\n        }\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n\n\néå¯nginxæå¡å¨\n\n ./nginx -s stop\n\n ./nginx\n \n # ä¹å¯ä»¥å¦å¤æå®nginx.conf\n /usr/local/nginx/conf/nginx -c /home/xxx/nginx.conf\n\n\n1\n2\n3\n4\n5\n6\n",normalizedContent:"# nginx\n\n\n# å®è£\n\nä¸ä¼ nginxæä»¶\n\ntar -zxvf nginx-1.21.1.tar.gz\ncd nginx-1.21.1\nyum -y install gcc\nyum -y install pcre pcre-devel\nyum -y install zlib zlib-devel\nyum -y install openssl openssl-devel\nmake\nmake install\ncd /usr/local/nginx/sbin\n./nginx\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n\n\n# åæ­¢\n./nginx -s stop\n\n# éå¯\n./nginx -s reload\n\n# æ¥çè¿ç¨\nps -ef |grep nginx\n\n# æ¥ç80ç«¯å£\nnetstat -ntlp|grep 80\n\n# å¼æ¾80ç«¯å£\nfirewall-cmd --zone=public --add-port=80/tcp --permanent\n\n# éå¯é²ç«å¢\nfirewall-cmd --reload  \n\n# æ¥çå·²ç»å¼æ¾çç«¯å£\nfirewall-cmd --list-ports  \n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n\n\n\n# åå¸é¡¹ç®\n\nç¼è¾nginxéç½®æä»¶\n\nvi /usr/local/nginx/conf/nginx.conf\n\n\n1\n\n\nä¿®æ¹ server ä¸çlocation-rootè·¯å¾ä¸ºè¦åå¸é¡¹ç®çè·¯å¾\n\nserver {\n        listen       80;\n        server_name  localhost;\n\n        #charset koi8-r;\n\n        #access_log  logs/host.access.log  main;\n\n        location / {\n            root   html;\n            index  index.html index.htm;\n        }\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n\n\néå¯nginxæå¡å¨\n\n ./nginx -s stop\n\n ./nginx\n \n # ä¹å¯ä»¥å¦å¤æå®nginx.conf\n /usr/local/nginx/conf/nginx -c /home/xxx/nginx.conf\n\n\n1\n2\n3\n4\n5\n6\n",charsets:{cjk:!0},lastUpdated:"2022/03/18, 07:01:11",lastUpdatedTimestamp:1647558071e3},{title:"Linux",frontmatter:{title:"Linux",date:"2022-03-18T00:52:16.000Z",permalink:"/pages/124a07/",categories:["åç«¯","Linux"],tags:[null]},regularPath:"/%E5%90%8E%E7%AB%AF/03.Linux/01.Linux.html",relativePath:"åç«¯/03.Linux/01.Linux.md",key:"v-06144067",path:"/pages/124a07/",headers:[{level:2,title:"å¸®å©å½ä»¤",slug:"å¸®å©å½ä»¤",normalizedTitle:"å¸®å©å½ä»¤",charIndex:12},{level:3,title:"man",slug:"man",normalizedTitle:"man",charIndex:21},{level:3,title:"help",slug:"help",normalizedTitle:"help",charIndex:51},{level:3,title:"XXXâhelp",slug:"xxx-help",normalizedTitle:"xxxâhelp",charIndex:81},{level:2,title:"æä»¶",slug:"æä»¶",normalizedTitle:"æä»¶",charIndex:120},{level:3,title:"ls",slug:"ls",normalizedTitle:"ls",charIndex:38},{level:3,title:"æ¾ç¤ºå½åç®å½",slug:"æ¾ç¤ºå½åç®å½",normalizedTitle:"æ¾ç¤ºå½åç®å½",charIndex:203},{level:3,title:"æå¼æå®ç®å½",slug:"æå¼æå®ç®å½",normalizedTitle:"æå¼æå®ç®å½",charIndex:219},{level:3,title:"åå»ºç®å½",slug:"åå»ºç®å½",normalizedTitle:"åå»ºç®å½",charIndex:265},{level:3,title:"åå»ºæä»¶",slug:"åå»ºæä»¶",normalizedTitle:"åå»ºæä»¶",charIndex:324},{level:3,title:"å é¤ç®å½",slug:"å é¤ç®å½",normalizedTitle:"å é¤ç®å½",charIndex:414},{level:2,title:"å¤å¶æä»¶",slug:"å¤å¶æä»¶",normalizedTitle:"å¤å¶æä»¶",charIndex:513},{level:2,title:"ç§»å¨æä»¶",slug:"ç§»å¨æä»¶",normalizedTitle:"ç§»å¨æä»¶",charIndex:609},{level:2,title:"æ´æ¹æä»¶æ¥æè",slug:"æ´æ¹æä»¶æ¥æè",normalizedTitle:"æ´æ¹æä»¶æ¥æè",charIndex:695},{level:2,title:"æ´æ¹æä»¶ç¨æ·ç»",slug:"æ´æ¹æä»¶ç¨æ·ç»",normalizedTitle:"æ´æ¹æä»¶ç¨æ·ç»",charIndex:761},{level:2,title:"æ¸å±",slug:"æ¸å±",normalizedTitle:"æ¸å±",charIndex:794},{level:2,title:"éå½å",slug:"éå½å",normalizedTitle:"éå½å",charIndex:544},{level:2,title:"æå°å­ç¬¦",slug:"æå°å­ç¬¦",normalizedTitle:"æå°å­ç¬¦",charIndex:859},{level:2,title:"æ¾ç¤ºææ¬æä»¶ä¸­çåå®¹",slug:"æ¾ç¤ºææ¬æä»¶ä¸­çåå®¹",normalizedTitle:"æ¾ç¤ºææ¬æä»¶ä¸­çåå®¹",charIndex:1073},{level:2,title:"awk",slug:"awk",normalizedTitle:"awk",charIndex:1344},{level:2,title:"è¿æ¥",slug:"è¿æ¥",normalizedTitle:"è¿æ¥",charIndex:1466},{level:2,title:"ä¿®æ¹æä»¶æé",slug:"ä¿®æ¹æä»¶æé",normalizedTitle:"ä¿®æ¹æä»¶æé",charIndex:1732},{level:2,title:"ç¨æ·ç®¡ç",slug:"ç¨æ·ç®¡ç",normalizedTitle:"ç¨æ·ç®¡ç",charIndex:2138},{level:2,title:"ç¨æ·ç»",slug:"ç¨æ·ç»",normalizedTitle:"ç¨æ·ç»",charIndex:737},{level:2,title:"åå²å½ä»¤",slug:"åå²å½ä»¤",normalizedTitle:"åå²å½ä»¤",charIndex:2572},{level:2,title:"æ¥æ",slug:"æ¥æ",normalizedTitle:"æ¥æ",charIndex:2590},{level:3,title:"æ¥çæ¥æ",slug:"æ¥çæ¥æ",normalizedTitle:"æ¥çæ¥æ",charIndex:2743},{level:2,title:"åéä¿®æ¹Linuxç½å¡å±æ§",slug:"åéä¿®æ¹linuxç½å¡å±æ§",normalizedTitle:"åéä¿®æ¹linuxç½å¡å±æ§",charIndex:2881},{level:2,title:"VIMç¼è¾",slug:"vimç¼è¾",normalizedTitle:"vimç¼è¾",charIndex:3171},{level:2,title:"æ¥çå½åè¿ç¨",slug:"æ¥çå½åè¿ç¨",normalizedTitle:"æ¥çå½åè¿ç¨",charIndex:3397},{level:2,title:"iptables",slug:"iptables",normalizedTitle:"iptables",charIndex:3417},{level:2,title:"å¼æ¾ç«¯å£",slug:"å¼æ¾ç«¯å£",normalizedTitle:"å¼æ¾ç«¯å£",charIndex:3448},{level:2,title:"é²ç«å¢",slug:"é²ç«å¢",normalizedTitle:"é²ç«å¢",charIndex:4056},{level:2,title:"æ¥çç³»ç»çæ¬",slug:"æ¥çç³»ç»çæ¬",normalizedTitle:"æ¥çç³»ç»çæ¬",charIndex:4493},{level:2,title:"åå°è¿è¡",slug:"åå°è¿è¡",normalizedTitle:"åå°è¿è¡",charIndex:4522},{level:2,title:"æ·»å æ°çç¡¬çå¹¶æè½½",slug:"æ·»å æ°çç¡¬çå¹¶æè½½",normalizedTitle:"æ·»å æ°çç¡¬çå¹¶æè½½",charIndex:4619},{level:3,title:"å é¤æè½½",slug:"å é¤æè½½",normalizedTitle:"å é¤æè½½",charIndex:6402},{level:2,title:"æç´¢",slug:"æç´¢",normalizedTitle:"æç´¢",charIndex:6452},{level:3,title:"åå»ºæ¥æ¾æä»¶æ°æ®åºç´¢å¼",slug:"åå»ºæ¥æ¾æä»¶æ°æ®åºç´¢å¼",normalizedTitle:"åå»ºæ¥æ¾æä»¶æ°æ®åºç´¢å¼",charIndex:6620},{level:3,title:"æ¥æ¾æä»¶æå®åå®¹",slug:"æ¥æ¾æä»¶æå®åå®¹",normalizedTitle:"æ¥æ¾æä»¶æå®åå®¹",charIndex:6673},{level:2,title:"åç¼©",slug:"åç¼©",normalizedTitle:"åç¼©",charIndex:6891},{level:3,title:"gzip",slug:"gzip",normalizedTitle:"gzip",charIndex:6898},{level:3,title:"zip",slug:"zip",normalizedTitle:"zip",charIndex:6899},{level:3,title:"taræå",slug:"taræå",normalizedTitle:"taræå",charIndex:7103},{level:3,title:"bzip2",slug:"bzip2",normalizedTitle:"bzip2",charIndex:7358},{level:2,title:"è¿ç¨",slug:"è¿ç¨",normalizedTitle:"è¿ç¨",charIndex:3401},{level:3,title:"ç»æè¿ç¨",slug:"ç»æè¿ç¨",normalizedTitle:"ç»æè¿ç¨",charIndex:7506},{level:3,title:"è¿ç¨æ ",slug:"è¿ç¨æ ",normalizedTitle:"è¿ç¨æ ",charIndex:7552},{level:3,title:"top å¥åº·",slug:"top-å¥åº·",normalizedTitle:"top å¥åº·",charIndex:7593},{level:2,title:"å®æ¶ä»»å¡",slug:"å®æ¶ä»»å¡",normalizedTitle:"å®æ¶ä»»å¡",charIndex:7658},{level:3,title:"crond å¯å¨å®æ¶æå¡",slug:"crond-å¯å¨å®æ¶æå¡",normalizedTitle:"crond å¯å¨å®æ¶æå¡",charIndex:7667},{level:3,title:"crontab",slug:"crontab",normalizedTitle:"crontab",charIndex:7767},{level:3,title:"* æ§è¡çä»»å¡",slug:"æ§è¡çä»»å¡",normalizedTitle:"* æ§è¡çä»»å¡",charIndex:7846},{level:2,title:"å®è£è½¯ä»¶",slug:"å®è£è½¯ä»¶",normalizedTitle:"å®è£è½¯ä»¶",charIndex:8145},{level:3,title:"rpm",slug:"rpm",normalizedTitle:"rpm",charIndex:8154},{level:3,title:"yum",slug:"yum",normalizedTitle:"yum",charIndex:8305},{level:2,title:"shutdown",slug:"shutdown",normalizedTitle:"shutdown",charIndex:8589}],headersStr:"å¸®å©å½ä»¤ man help XXXâhelp æä»¶ ls æ¾ç¤ºå½åç®å½ æå¼æå®ç®å½ åå»ºç®å½ åå»ºæä»¶ å é¤ç®å½ å¤å¶æä»¶ ç§»å¨æä»¶ æ´æ¹æä»¶æ¥æè æ´æ¹æä»¶ç¨æ·ç» æ¸å± éå½å æå°å­ç¬¦ æ¾ç¤ºææ¬æä»¶ä¸­çåå®¹ awk è¿æ¥ ä¿®æ¹æä»¶æé ç¨æ·ç®¡ç ç¨æ·ç» åå²å½ä»¤ æ¥æ æ¥çæ¥æ åéä¿®æ¹Linuxç½å¡å±æ§ VIMç¼è¾ æ¥çå½åè¿ç¨ iptables å¼æ¾ç«¯å£ é²ç«å¢ æ¥çç³»ç»çæ¬ åå°è¿è¡ æ·»å æ°çç¡¬çå¹¶æè½½ å é¤æè½½ æç´¢ åå»ºæ¥æ¾æä»¶æ°æ®åºç´¢å¼ æ¥æ¾æä»¶æå®åå®¹ åç¼© gzip zip taræå bzip2 è¿ç¨ ç»æè¿ç¨ è¿ç¨æ  top å¥åº· å®æ¶ä»»å¡ crond å¯å¨å®æ¶æå¡ crontab * æ§è¡çä»»å¡ å®è£è½¯ä»¶ rpm yum shutdown",content:"# Linux\n\n\n# å¸®å©å½ä»¤\n\n\n# man\n\nå¸®å©å½ä»¤\n\nå¦:man ls\n\næQéåº\n\n\n# help\n\néå¯¹åé¨å½ä»¤å¸®å©\n\nå¦:help cd\n\n\n# XXXâhelp\n\nå¦:ls âhelp\n\næ¥çè¯¥å½ä»¤åé¨çå¸®å©ææ¡£\n\n\n# æä»¶\n\n\n# ls\n\nååºå½åç®å½ä¸­çæä»¶åç®å½\n\nls -a æ¾ç¤ºæææä»¶åç®å½åæ¬éèç\n\nls -l æææä»¶åéèæä»¶ç è¯¦ç»ä¿¡æ¯ å¯ä»¥ç¼©åä¸º ll\n\n\n# æ¾ç¤ºå½åç®å½\n\npwd\n\n\n# æå¼æå®ç®å½\n\ncd / #è¿åå°rootæ ¹ç®å½\n\ncd ../ #è¿åä¸ä¸çº§ç®å½\n\n\n# åå»ºç®å½\n\nmkdir ç®å½å å¦:mkdir a\n\nåå»ºå¤çº§ç®å½\n\ncd a/b/c -p #å å¥åæ°-p\n\n\n# åå»ºæä»¶\n\ntouch æä»¶å å¦:touch test.txt\n\ntouch a{1..10}.txt åå»º a1-a10çæä»¶\n\nstat æä»¶å æ¥çæä»¶çè¯¦ç»ä¿¡æ¯\n\n\n# å é¤ç®å½\n\nrmdir a\n\nå é¤å¤çº§ç®å½\n\nrmdir a/b/c -p\n\nå¯ä»¥ç¼©åä¸ºrm\n\nrm ç®å½å -r å±å éå½çè¯¢é®æ¹å¼å é¤ç®å½\n\nrm ç®å½å -rf ä»¥éå½å é¤å¹¶ä¸ä¸è¯¢é®\n\n\n# å¤å¶æä»¶\n\ncp æä»¶å æä»¶ç®å½\n\ncp æä»¶å æä»¶ç®å½/éå½åæä»¶å (å¦æä¸æå®åä¸ºååç§°)\n\ncp xxx.txt ./home\n\ncp -r å¤å¶è¯¥æä»¶å¤¹ä¸çå­ç®å½åæä»¶\n\n\n# ç§»å¨æä»¶\n\nmv(move) æä»¶å ç®å½\n\nmv test.txt ./a\n\nç§»å¨å¹¶éå½å\n\nmv æä»¶å ç®å½éå½ååå­ mv test.txt ../qaq\n\n\n# æ´æ¹æä»¶æ¥æè\n\nchown ç¨æ·å æä»¶å æ´æ¹æä»¶æ¥æè\n\nchown ç¨æ·å:ç¨æ·ç» æä»¶å æ´æ¹æä»¶æ¥æèåç¨æ·ç»\n\n\n# æ´æ¹æä»¶ç¨æ·ç»\n\nchgrp [éé¡¹] ç¨æ·ç» æä»¶è·¯å¾\n\n\n# æ¸å±\n\nclear æè ctrl+l\n\n\n# éå½å\n\nmv åæä»¶å éå½åæä»¶å\n\nmv test.txt qaq\n\n\n# æå°å­ç¬¦\n\necho å­ç¬¦ä¸²\n\nå¦echo âabcâ\n\nåå«ç¹æ®å­ç¬¦\n\necho -e âabc \\t cd\\nâ #å ä¸-eåæ°\n\néå®å(è¦çææ¬ä¸­çåå®¹)\n\necho âå­ç¬¦ä¸²â > æä»¶å(å¯åå¥æä»¶)\n\nå°å­ç¬¦ä¸²åå¥å°ææ¬ä¸­\n\nè¿½å \n\necho âå­ç¬¦ä¸²â > >æä»¶å(å¯åå¥æä»¶)\n\nå°å­ç¬¦ä¸²æå¥å°ææ¬ä¸­\n\ncat ä¸å­å¨çç®å½ &>> error.log å°å½ä»¤çå¤±è´¥ç»æ è¿½å å°error.logä¸­\n\n\n# æ¾ç¤ºææ¬æä»¶ä¸­çåå®¹\n\ncat æä»¶å å¦:cat test.txt ä¸æ¬¡æ§æ¾ç¤ºææåå®¹\n\nmore æä»¶å å¦:more test.txt å½æä¸åè½¦åå±ç¤ºä¸ä¸è¡,æqéåº,æç©ºæ ¼å±ç¤ºä¸ä¸å±\n\nless æä»¶å å¦:less test.txt ä¸é¡µä¸é¡µå±ç¤ºææ¬åå®¹,ç¨paupåpadnè¿è¡ç¿»é¡µ\n\ntail æä»¶å -n X å¦:tail test.txt -n 2 åªçè¯¥æä»¶æåçXè¡\n\ntail æä»¶å -f å¯ä»¥å¨ææ¥çæä»¶åå\n\nhead æä»¶å -n X å¦:head test.txt -n 2 åªçè¯¥æä»¶åé¢çXè¡\n\n\n# awk\n\nark [éé¡¹] 'è¯­æ³' æä»¶å æ¥è¯¢æä»¶ä¸­åå«awkè¯­æ³çæä»¶\n\n * -F 'å­ç¬¦' ä½¿ç¨ æå®å­ç¬¦ä¸²åå²\n\n * $ + æ°å­ è·åç¬¬å æ®µåå®¹\n\n * $0 è·åå½åè¡åå®¹\n\n * OFS=\"å­ç¬¦\" å°åå²åçåå®¹ ä»¥æå®å­ç¬¦è¿æ¥\n\n * print æå°\n\n * toupper() å°æå®åå®¹è½¬æ¢ä¸ºå¤§å cat a.txt | awk -F ' ' '{print toupper($1)}'\n\n * tolower() å°æå®åå®¹è½¬æ¢ä¸ºå°å\n\n * length() è¿åå­ç¬¦é¿åº¦\n\n * 'BEGIN{åå§åæä½}\n   {æ¯è¡é½æ§è¡}\n   END{ç»ææ¶æä½}'\n   æä»¶å\n   \n   \n   1\n   2\n   3\n   4\n   \n\n\n# è¿æ¥\n\nln æºæä»¶å èªå®ä¹åå­ ç¡¬è¿æ¥\n\nln -s æºæä»¶å èªå®ä¹åå­ è½¯è¿æ¥\n\n\n# ä¿®æ¹æä»¶æé\n\nchmod ç¨æ·ç»æä½æéæä»¶\n\nç¨æ·ç»:u g o a u è¡¨ç¤ºè¯¥æä»¶çæ¥æèï¼g è¡¨ç¤ºä¸è¯¥æä»¶çæ¥æèå±äºåä¸ä¸ªç¾¤ä½(group)èï¼o è¡¨ç¤ºå¶ä»ä»¥å¤çäººï¼a è¡¨ç¤ºè¿ä¸èçæ¯ã\n\næä½: + - = + è¡¨ç¤ºå¢å æéã- è¡¨ç¤ºåæ¶æéã= è¡¨ç¤ºå¯ä¸è®¾å®æéã\n\næé:r è¡¨ç¤ºå¯è¯»åï¼w è¡¨ç¤ºå¯åå¥ï¼x è¡¨ç¤ºå¯æ§è¡ï¼X è¡¨ç¤ºåªæå½è¯¥æä»¶æ¯ä¸ªå­ç®å½æèè¯¥æä»¶å·²ç»è¢«è®¾å®è¿ä¸ºå¯æ§è¡ã\n\nå¦ chmod u-rw aa\n\nchmodå¯ä»¥ä½¿ç¨æ°å­ä»£æ¿chmod abc aa\n\nå¦chmod 777 aa ä»£è¡¨ u rwx g rwx o rwx\n\nå¶ä¸­a,b,cåä¸ºä¸ä¸ªæ°å­ï¼åå«è¡¨ç¤ºUserãGroupãåOtherçæéã\n\n# r=4ï¼w=2ï¼x=1\n\n * è¥è¦ rwx å±æ§å 4+2+1=7ï¼\n * è¥è¦ rw- å±æ§å 4+2=6ï¼\n * è¥è¦ r-x å±æ§å 4+1=5ã\n\n\n# ç¨æ·ç®¡ç\n\nuseradd ç¨æ·å æ·»å æ°ç¨æ·\n\npasswd æ°ç¨æ·å ä¸ºæ°ç¨æ·æ·»å å¯ç \n\nid ç¨æ·å æ¥çæå®ç¨æ·æ¯å¦å­å¨\n\ncat /etc/passwd æ¥çè¯¥centosä¸­ææç¨æ·åç»\n\nuserdel ç¨æ·å å é¤è¯¥ç¨æ·\n\nuserdel ç¨æ·å -r å é¤è¯¥ç¨æ·åè¯¥ç¨æ·å®¶ç®å½\n\nsu ç¨æ·å åæ¢ç¨æ·\n\nsu - ç¨æ·å åæ¢ç¨æ·å¹¶è¿å¥è¯¥ç¨æ·å®¶ç®å½\n\nsudo è®¾ç½®æ®éç¨æ·å·ærootæé\n\nusermod -g root(æ¬²è¦å å¥çç») ç¨æ·å ä¿®æ¹ç¨æ·ç»\n\nwhoaimi å½åç»å½ç¨æ·ä¿¡æ¯\n\nlogname å½åç»å½ç¨æ·ä¿¡æ¯\n\n\n# ç¨æ·ç»\n\ngroupadd (éé¡¹) ç¨æ·ç»å åå»ºç¨æ·ç»\n\ngroupmod (éé¡¹) ç¨æ·ç»å ä¿®æ¹ç¨æ·ç»\n\ngrops ç¨æ·å æ¥è¯¢ç¨æ·æå±ç»\n\ngropdel ç¨æ·ç»å å é¤ç¨æ·ç»\n\ngpasswd (éé¡¹) ç»å ç®¡çæå®ç»çç¨æ·\n\ngpasswd -a ç¨æ·å ç¨æ·ç» å°ç¨æ·å å¥æå®ç»\n\n\n# åå²å½ä»¤\n\nhistory\n\n\n# æ¥æ\n\ntimedatectl æ ¹æ®æ¶åºæ ¡æ­£æ¶é´\n\ntimedatectl list-timezones æ¥çå½åå½å®¶ä¸çæ¶åº\n\ntimedatectl set-timezone \"Asia/Shanghai\" è®¾ç½®æå®æ¶åº\n\ntimedatectl set-ntp true å³é­ntpåæ­¥æ¶é´\n\n\n# æ¥çæ¥æ\n\ndate +%Y å¹´\n\ndate +%m æ\n\ndate +%d æ¥\n\ndate +%Y-%m-%d å¹´ææ¥\n\ndate +%H æ¶ Må Sç§\n\ndate -s \"2021-04-19\" æ´æ¹ç³»ç»æ¶é´\n\ncal å½ææ¥å\n\ncal 2021 å½åå¹´æ¥å\n\n\n# åéä¿®æ¹Linuxç½å¡å±æ§\n\nvim /etc/udev/rules.d/70-persistent-ipoib.rules ä¿®æ¹mac\n\nvim /etc/sysconfig/network-scripts/ifcfg-ensXX ä¿®æ¹ipå°å\n\nhostname:æ¥çä¸»æºå\n\nhostname ä¸»æºå:ä¿®æ¹ä¸»æºå éå¯åæ¢å¤ ä¸´æ¶æ´æ¹ å¦:hostname admin\n\nå¦è¦æ°¸ä¹ä¿®æ¹éè¦ æ´æ¹ /etc/sysconfig/networkæä»¶\n\nvim /etc/sysconfig/network ä¿®æ¹ä¸»æºåç§°\n\nvim /etc/hostname ä¿®æ¹ä¸»æºå\n\n\n# VIMç¼è¾\n\nvim æä»¶å è¿å¥vimä¸è¬æ¨¡å¼\n\næIãaãoè¿å¥è¾å¥æ¨¡å¼ æescéåºå°ä¸è¬æ¨¡å¼\n\n:wq éåºvimç¼è¾\n\n:q! ä¸ä¿å­éåº\n\nvim æä»¶å +æå®è¡æ° è¿å¥vimå¹¶åæ å¨æå®è¡æ° å¦:vim a.txt +5\n\nyy å¤å¶åæ å½åè¡\n\nyæ°å­y ä»å½åè¡å¤å¶å°nè¡\n\nu æ¤åä¸ä¸æ­¥\n\ndd å é¤å½åè¡\n\ndæ°å­d ä»å½åè¡å é¤å°nè¡\n\nx å é¤ä¸ä¸ªå­æ¯\n\nX éæ ¼é®\n\nyw å¤å¶ä¸ä¸ªåè¯\n\ndw å é¤ä¸ä¸ªè¯\n\n\n\n\n# æ¥çå½åè¿ç¨\n\nps -aux\n\n\n# iptables\n\nnetstat -tnl #æ¥çæå¡å¨ç®åå¼æ¾ç«¯å£\n\niptables -I INPUT -p tcp --dport 8000 -j ACCEPT #å¼å¯8000ç«¯å£\n\niptables -L -n -v #æ¥çå·²æ·»å çiptablesè§å æ¥è¯¢ç¼å·id\n\niptables -D INPUT ç¼å·id #å é¤æå®ç¼ç çè§å\n\niptables -F #ä¸é®æ¸ç©ºææè§å\n\niptables -A INPUT -p tcp --dport 80 -j DROP #å°æå®çç«¯å£\n\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n\n\n\n# å¼æ¾ç«¯å£\n\nfirewall-cmd --zone=public --add-port=8888/tcp --permanent\n# å½ä»¤å«ä¹ï¼\n--zone #ä½ç¨å\n--add-port=1935/tcp  #æ·»å ç«¯å£ï¼æ ¼å¼ä¸ºï¼ç«¯å£/éè®¯åè®®\n--permanent  #æ°¸ä¹çæï¼æ²¡ææ­¤åæ°éå¯åå¤±æ\n#éå¯\nfirewall-cmd --reload\n\n\n1\n2\n3\n4\n5\n6\n7\n\n\n# æ¥è¯¢ç«¯å£æ¯å¦å¼æ¾\nfirewall-cmd --query-port=8080/tcp\n# å¼æ¾80ç«¯å£\nfirewall-cmd --permanent --add-port=80/tcp\n# ç§»é¤ç«¯å£\nfirewall-cmd --permanent --remove-port=8080/tcp\n#éå¯é²ç«å¢(ä¿®æ¹éç½®åè¦éå¯é²ç«å¢)\nfirewall-cmd --reload #ubuntu æå¹²è¦éå¯\nservice iptables stop #åæ­¢\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n\n\nå¼æ¾ææç«¯å£\n\n iptables -P INPUT ACCEPT\n iptables -P FORWARD ACCEPT\n iptables -P OUTPUT ACCEPT\n iptables -F\n iptables-save\n #å»ºè®®å é¤ iptables\n sudoapt-get remove iptables\n\n\n1\n2\n3\n4\n5\n6\n7\n\n\n\n# é²ç«å¢\n\nservice iptables status é²ç«å¢ç¶æ\n\nservice iptables stop å³é­é²ç«å¢\n\nservice iptables start å¯å¨é²ç«å¢\n\nchkconfig iptables off ç¦æ­¢é²ç«å¢èªå¯\n\nnetstat -nltp æ¥çèå¬çç«¯å£\n\n\n# æ¥çç³»ç»çæ¬\n\ngetconf LONG_BIT\n\n\n# åå°è¿è¡\n\nnohup è¿è¡æä»¶å/å½ä»¤å &\n\nnohup å½ä»¤ ç¨éï¼æ§è¡å½ä»¤ï¼å¿½ç¥æèµ·æä»¤ï¼å¯ç¨äºåå°è¿è¡ï¼å³é­shellä¸åå½±å è¯­æ³ï¼ nohup COMMAND [ARG]\n\n\n# æ·»å æ°çç¡¬çå¹¶æè½½\n\næå°ä½¿ç¨VMæ¥è¿è¡æ¨¡æ\n\nåä½¿ç¨dfçä¸æççµèç¡¬çä¿¡æ¯ï¼\n\ndf -h\n\n\n\nå¯ä»¥çå°åªæä¸ä¸ªsda1ååºè£è½½/boot,è¿æä¸ä¸ªæ©å±ååº\n\næ¥çdevä¸çç¡¬çï¼\n\n\n\nåªæä¸ä¸ªç¡¬çï¼ä¸¤ä¸ªååºï¼\n\næ³¨æï¼\n\nå¦æä½ æ¯IDE æ¥ å£ ç¡¬ ç :/dev/dh[a-z]ï¼è¿éçç¡¬çåå­åºè¯¥æ¯dh[a-z]å¼å¤´\n\nå¦æä½ æ¯SCSI æ¥ å£ ç¡¬ ç : / dev/[ a -z ],è¿éçç¡¬çåå­åºè¯¥æ¯sd[a-z]å¼å¤´\n\næ¥ä¸æ¥å°è¿è¡å¦ä¸åç¡¬ççå®è£ï¼\n\n1.å°ç¡¬çè£å¨çµèä¸ï¼éå¯çµèï¼åæ¥ç/dev/ ä¸ææ²¡å¤äºä¸åç¡¬ç\n\n\n\n\n\n2.ç¨fdiskå¯¹è¿åç¡¬çååº\n\nfdisk /dev/sdb\n\n\n\næä¸mæ¾ç¤ºèåï¼\n\n\n\nå ä¸ºè¦æ°å»ºååºéæ©n\n\n\n\nè¿éæ¯é®ä½ æ¯è¦å»ºç«ä¸»ååºè¿æ¯æ©å±ååºï¼è¿éæ¯ç¬¬ä¸æ¬¡å»ºç«éæ©ä¸»ååºp\n\n\n\nå ä¸ºæ¯MBRååºåªè½æ4ä¸ªååºï¼è¿éå»ºç«ç¬¬ä¸ä¸ªååºï¼è¾å¥1\n\n\n\nè¿éé®ä½ ä¸ªååºçèµ·å§æåºï¼è¿éç´æ¥åè½¦ï¼é»è®¤ï¼ï¼ç¸å½äºè¾å¥äº2048\n\n\n\nè¿éé®ä½ çç»ææåºï¼è¿éä¸éè¦è®¡ç®ï¼ç´æ¥è¾å¥+1G å å·åé¢ä¸ºè¿ä¸ªååºçå¤§å°\n\n\n\næ­¤æ¶ç¬¬ä¸ä¸ªååºå·²ç»å»ºç«ï¼ä½è¿æ¯å¨åå­ä¸­å¹¶æ²¡æåå°ç¡¬çsdbä¸­ï¼æä»¥ç´æ¥è¾å¥w\n\næ³¨æè¿éå¯ä»¥ç»§ç»­åå»ºååºï¼å®äºåè¾å¥wï¼æè¿éåªå»ºç«ä¸ä¸ªååº\n\n\n\nç»è¿ä»¥ä¸æ­¥éª¤åååºçå»ºç«å·²ç»å®æï¼ä½æ¯æ­¤æ¶ç³»ç»è¿æ æ³è¯å«ååºè¡¨\n\n3.åæ ¸éæ°è¯»åååºè¡¨\n\npartprobe /dev/sdb\n\n\n\næ³¨æï¼è¿éæ¯æ´ä¸ªç£çsdbï¼ä¸æ¯ç£çååºsdb1\n\n4.åå»ºæä»¶ç³»ç»ï¼æ ¼å¼åååºï¼\n\nLinux ä¸­çä¸»æµçæä»¶ç³»ç»æï¼ext4åxfsdç­\n\n\n\nè¿éæå»ºç«ext4æä»¶ç³»ç»\n\nmkfs.ext4 /dev/sdb1\n\næ³¨æï¼è¿éæ¯ç£çååºsdb1ï¼ä¸æ¯æ´ä¸ªç£çsdb\n\n\n\n5.æè½½\n\nå¨æè½½ä¹åä½ éè¦ç¡®å®æè½½çç®å½ï¼æè¿éæ¯/mnt/sdb1-zhiãã,æ²¡æç®å½çèªå·±mkdir,è¿éç®å½æå¥½å»ºç«å¨/mntä¸ï¼è¿ä¸ªç®å½æ¯ä¸é¨æè½½çï¼å¯ä»¥ä»»æã\n\nå°æ¥è¿ä¸ªååºå°±ä¼ä¸è¿ä¸ª/mnt/sdb1-zhiç®å½å»ºç«èç³»\n\næå¨æè½½\n\nmount /dev/sdb1 /mnt/sdb1-zhi/\n\n\n\ndfä¸ä¸ï¼\n\n\n\nè¿éå·²ç»æè½½æåï¼ä½æ¯è¿åªæ¯ä¸æ¬¡æ§çï¼éå¯åå°±ä¼æ¶å¤±\n\næ°¸ä¹æè½½ï¼\n\nè¦å¯¹/etc/fstabæä»¶ç¼è¾\n\nvim /etc/fstab\n\n\n\næ¯å¦ç¬¬ä¸è¡ä¸­\n\nãç¡¬çè·¯å¾ãããããããããããããããããããããããããæä»¶è·¯å¾ï¼æè½½ç¹ï¼ããããæä»¶ç³»ç»ç±»åããããè®¾å¤çèªå®ä¹éé¡¹ããæ¯å¦è½¬å­ããfsckçé¡ºåº\n\n\n1\n\n\nã/dev/mapper/CentOS-rootãããããããããããããããããã /         ãxfs ãããããã ãdefaults    0 ããããã0\n\n\n1\n\n\nãUUID=e4ef36e1-0840-4a58-a4f7-c26f52ead6f1 ãããããããã/bootãããããããããxfs ããããããããdefaults ããã 0ããããã 0\n\n\n1\n\n\næä»¬è¦å¨æåä¸è¡åå¥èªå·±çååºä¸æä»¶è·¯å¾ï¼å¯ä»¥ä»¿ç§ä¸é¢çå\n\n\n1\n\n\nãã/dev/sdb1 ãããããããããããããããããããããããã/mnt/sdb1-zhi ãããããext4 ããããããããdefaults ãããã0ããããã 0\n\n\n1\n\n\n\n\nè¿éç¬¬ä¸åä¹å¯ä»¥åå¥UUID\n\nUUIDçæ¥è¯¢ï¼\n\nblkid\n\n\n\nè½¬å­ï¼0 ä¸è½¬å­ï¼ä¸å¤ä»½ãã1è½¬å­ï¼å¤ä»½\n\nfsckï¼å¼æºæ£æ¥ç£ççé¡ºåºãã0è¡¨ç¤ºä¸æ£æ¥ãã1234....ä¸ºæ£æ¥é¡ºåº\n\nä»¥ä¸æ­¥éª¤å®æåï¼è¿éè¦å¤æ­æ¯å¦æ­£ç¡®\n\nmount -a\n\n\n\nå¦ææ²¡æå¶ä»ä¿¡æ¯åºç°ï¼è¡¨ç¤ºä½ æå¥çæ­£ç¡®ï¼å¦åéè¯¯ã\n\nå¦æéè¯¯ä¸æ²¡ææ£æ¥ï¼å¼æºåå°è¿å¥ç´§æ¥æ¨¡å¼ï¼æ æ³å¼æº\n\næåå¼æºéå¯ådfä¸ä¸ï¼ççæ¯å¦æ­£å¸¸\n\n\n\næåæ»ç»ä¸ä¸\n\n1.fdisk /dev/sdb\n\n2.partprobeãã/dev/sdb\n\n\\3. mkfs.ext4ãã /dev/sdb1\n\n4.æè½½ããmount ãã/dev/sdb1ãã/mnt/sdb1-zhi\n\nvim /etc/fstab\n\n5.mount -a\n\n\n# å é¤æè½½\n\numount ç£çå æè½½ç¹ å¦:umount /dev/sdb1 /sdb1\n\n\n# æç´¢\n\nfind æç´¢èå´ éé¡¹(name-æ¥è¯¢æ¹å¼ãuser-ç¨æ·åãsize-æä»¶å¤§å°ãctime-æä»¶æ¶é´)\n\næ¥è¯¢æå®æä»¶:\n\nfind -name æä»¶å\n\nfind -name æä»¶ååé¢*(å¹éåå«æ­¤åå­çæä»¶)\n\næä»¶å¤§å°\n\nfind -size +1k(å¤§äº1k)\n\nfind -size -1k(å°äº1k)\n\n\n# åå»ºæ¥æ¾æä»¶æ°æ®åºç´¢å¼\n\nupdatedb åå»ºlocateæ°æ®åºåå§å\n\nlocate æä»¶å\n\n\n# æ¥æ¾æä»¶æå®åå®¹\n\ngrep æ¥æ¾åå®¹ æºæä»¶\n\n * -n(æ¾ç¤ºæå®è¡å·å¯çç¥)\n * --color é«äº®æ¾ç¤ºå³é®å­\n * -An æ¾ç¤ºåé¢çnè¡\n * -Bn æ¾ç¤ºåé¢çnè¡\n * -c ç»è®¡ä¸ªæ°\n * -v æ¥è¯¢ä¸åå«è¯¥å³é®å­ç\n * -i å¿½ç¥å¤§å°å\n\ngrep - n 123 abc.txt\n\nç®¡éç¬¦ | å°åä¸ä¸ªå½ä»¤çç»æä¼ éç»åä¸ä¸ªå½ä»¤\n\nå¦:\n\nll | grep ini (ä¼æ ¹æ®llçç»ææ¥æ¾æå®åå®¹)\n\n\n# åç¼©\n\n\n# gzip\n\ngzip æä»¶å\n\ngunzip æä»¶å.gz è§£ågzæä»¶\n\nä¸ä¿çåæä»¶,åªåç¼©æä»¶ä¸åç¼©æä»¶å¤¹\n\ngzip -dv åç¼©æä»¶ è§£ågzæä»¶\n\n\n# zip\n\nzip -r(å¯ç éå½æä½ç®å½) æä»¶å.zip è¦åç¼©çåå®¹ åç¼©zipæä»¶\n\nunzip -d(å¯çæå®è§£åæä»¶çå­æ¾è·¯å¾) åç¼©æä»¶.zip è§£åzipæä»¶\n\nunzip -l åç¼©æä»¶.zip æ¥çzipéé¢çæä»¶\n\n\n# taræå\n\ntar éé¡¹ xxx.tar.gz å°è¦æåè¿å»çåå®¹\n\n * -cäº§ç.taræåæä»¶\n * -væ¾ç¤ºè¯¦æä¿¡æ¯\n * -fæå®åç¼©åçæä»¶å\n * -zæååæ¶åç¼©\n * -xè§£å.taræä»¶\n * -Cè§£åç®å½\n\næå: tar -cvf xxx.tar ./*\n\næåå¹¶åç¼©: tar -zcvf xxx.tar.gz ./*\n\næ¥çåç¼©åçæä»¶ï¼tar -ztvf xxx.gz\n\nè§£å:tar -xvf xxx.tar\n\ntar -zxvf xxx.tar.gz -C ./*\n\n\n# bzip2\n\nbzip2 æä»¶ åç¼©æ.bz2æä»¶ å¹¶å é¤åæ¥çæä»¶\n\nbunzip2 -v(å¯çè§£åè¿ç¨) æä»¶.bz2 è§£å\n\n\n# è¿ç¨\n\nps æ¥çå½åç³»ç»è¿ç¨ç¶æ\n\n-a æ¾ç¤ºææè¿ç¨\n\n-u æ¾ç¤ºææç¨æ·çææè¿ç¨\n\n-x æ¾ç¤ºæ²¡æç»ç«¯çè¿ç¨\n\nps -aux æ¥çææè¿ç¨\n\n\n# ç»æè¿ç¨\n\nkill -9(å¯ç,å¼ºå¶ç»æè¿ç¨) è¿ç¨å·\n\nkillall è¿ç¨å\n\n\n# è¿ç¨æ \n\npstree éé¡¹(-pæ¾ç¤ºè¿ç¨id,-uæ¾ç¤ºè¿ç¨çæå±ç¨æ·)\n\n\n# top å¥åº·\n\ntop æ¾ç¤ºææè¿ç¨ä¿¡æ¯\n\ntop -c æ¾ç¤ºè¿ç¨çè¯¦ç»è·¯å¾\n\ntop -p PID æ¾ç¤ºæå®çè¿ç¨ä¿¡æ¯\n\n\n# å®æ¶ä»»å¡\n\n\n# crond å¯å¨å®æ¶æå¡\n\néæ°å¯å¨:service crond restart\n\nå¯å¨:systemctl start crond\n\næ¥çç¶æ:systemctl status crond\n\n\n# crontab\n\ncrontab -e ç¼è¾å®æ¶ä»»å¡\n\ncrontab -l æ¥è¯¢ä»»å¡\n\ncrontab -r å é¤å½åç¨æ·ææä»»å¡\n\n\n# * * * * * æ§è¡çä»»å¡\n\n\n\n 1. * ä¸å°æ¶å½ä¸­çç¬¬å åé 0-59\n 2. * å°æ¶ 0-23\n 3. * å½æç¬¬å å¤© 1-31\n 4. * å æ 1-12\n 5. * ææå  0-7(0å7ä»£è¡¨æææ¥)\n\n* ä»£è¡¨ä»»ä½æ¶é´. å¦ç¬¬ä¸ä¸ªæåä¸º æ¯åéæ§è¡\n\n, ä»£è¡¨ä¸è¿ç»­æ¶é´ 0 8,12,16 * * * ä»£è¡¨æ¯å¤©8ç¹12ç¹16ç¹æ§è¡ä¸æ¬¡\n\n- ä»£è¡¨è¿ç»­æ¶é´ 0 5 * * 1-6 ä»£è¡¨å¨ä¸å°å¨å­ 5ç¹æ§è¡\n\n*/x ä»£è¡¨æ¯éå¤ä¹æ§è¡ä¸æ¬¡ */10 * * * * ä»£è¡¨æ¯é10åéæ§è¡ä¸æ¬¡\n\n30 * * * * /root/qb.sh > /dev/null 2>& &\n\n\n1\n\n\n\n# å®è£è½¯ä»¶\n\n\n# rpm\n\n# æ¥è¯¢\n\nrpm -qa æ¥è¯¢æærpmè½¯ä»¶å\n\nrpm -qa | grep rmpè½¯ä»¶å æ¥çæå®è½¯ä»¶æ¯å¦å®è£\n\n# å¸è½½\n\nrpm -e rpmè½¯ä»¶å å¸è½½æå®è½¯ä»¶å\n\nrpm -e --nodeps è½¯ä»¶å å¸è½½rpmæ¶ä¸æ£æµä¾èµ\n\n# å®è£\n\nrpm -ivh è½¯ä»¶åå\n\n\n# yum\n\nyum [éé¡¹] [åæ°]\n\néé¡¹: -y å¯¹æææé®é½åç­yes\n\nåæ°: install å®è£ãupdate æ´æ°ãcheck-update æ£æµæ¯å¦æå¯ç¨æ´æ°ãremove å é¤æå®åãlist æ¾ç¤ºè½¯ä»¶åä¿¡æ¯ãcleanæ¸çyumè¿æç¼å­ãdeplistæ¾ç¤ºyumè½¯ä»¶åææä¾èµæ´æ°\n\nå¦å®è£mysql:\n\n 1. æ£æµæ¯å¦å®è£äºmysql:rpm -qa | grep mysql\n 2. ä¸è½½mysqlçrepoæº wget http.....ä¸è½½å°å\n 3. rpm -ivh mysqlè½¯ä»¶åå\n 4. yum install è½¯ä»¶\n\n\n# shutdown\n\nshutdown é»è®¤ä¸º1åéå³æº\n\nshutdown -c åæ¶å³æº\n\nshutdown -h now ç«å»å³æº\n\nshutdown -r éå¯\n\nreboot",normalizedContent:"# linux\n\n\n# å¸®å©å½ä»¤\n\n\n# man\n\nå¸®å©å½ä»¤\n\nå¦:man ls\n\næqéåº\n\n\n# help\n\néå¯¹åé¨å½ä»¤å¸®å©\n\nå¦:help cd\n\n\n# xxxâhelp\n\nå¦:ls âhelp\n\næ¥çè¯¥å½ä»¤åé¨çå¸®å©ææ¡£\n\n\n# æä»¶\n\n\n# ls\n\nååºå½åç®å½ä¸­çæä»¶åç®å½\n\nls -a æ¾ç¤ºæææä»¶åç®å½åæ¬éèç\n\nls -l æææä»¶åéèæä»¶ç è¯¦ç»ä¿¡æ¯ å¯ä»¥ç¼©åä¸º ll\n\n\n# æ¾ç¤ºå½åç®å½\n\npwd\n\n\n# æå¼æå®ç®å½\n\ncd / #è¿åå°rootæ ¹ç®å½\n\ncd ../ #è¿åä¸ä¸çº§ç®å½\n\n\n# åå»ºç®å½\n\nmkdir ç®å½å å¦:mkdir a\n\nåå»ºå¤çº§ç®å½\n\ncd a/b/c -p #å å¥åæ°-p\n\n\n# åå»ºæä»¶\n\ntouch æä»¶å å¦:touch test.txt\n\ntouch a{1..10}.txt åå»º a1-a10çæä»¶\n\nstat æä»¶å æ¥çæä»¶çè¯¦ç»ä¿¡æ¯\n\n\n# å é¤ç®å½\n\nrmdir a\n\nå é¤å¤çº§ç®å½\n\nrmdir a/b/c -p\n\nå¯ä»¥ç¼©åä¸ºrm\n\nrm ç®å½å -r å±å éå½çè¯¢é®æ¹å¼å é¤ç®å½\n\nrm ç®å½å -rf ä»¥éå½å é¤å¹¶ä¸ä¸è¯¢é®\n\n\n# å¤å¶æä»¶\n\ncp æä»¶å æä»¶ç®å½\n\ncp æä»¶å æä»¶ç®å½/éå½åæä»¶å (å¦æä¸æå®åä¸ºååç§°)\n\ncp xxx.txt ./home\n\ncp -r å¤å¶è¯¥æä»¶å¤¹ä¸çå­ç®å½åæä»¶\n\n\n# ç§»å¨æä»¶\n\nmv(move) æä»¶å ç®å½\n\nmv test.txt ./a\n\nç§»å¨å¹¶éå½å\n\nmv æä»¶å ç®å½éå½ååå­ mv test.txt ../qaq\n\n\n# æ´æ¹æä»¶æ¥æè\n\nchown ç¨æ·å æä»¶å æ´æ¹æä»¶æ¥æè\n\nchown ç¨æ·å:ç¨æ·ç» æä»¶å æ´æ¹æä»¶æ¥æèåç¨æ·ç»\n\n\n# æ´æ¹æä»¶ç¨æ·ç»\n\nchgrp [éé¡¹] ç¨æ·ç» æä»¶è·¯å¾\n\n\n# æ¸å±\n\nclear æè ctrl+l\n\n\n# éå½å\n\nmv åæä»¶å éå½åæä»¶å\n\nmv test.txt qaq\n\n\n# æå°å­ç¬¦\n\necho å­ç¬¦ä¸²\n\nå¦echo âabcâ\n\nåå«ç¹æ®å­ç¬¦\n\necho -e âabc \\t cd\\nâ #å ä¸-eåæ°\n\néå®å(è¦çææ¬ä¸­çåå®¹)\n\necho âå­ç¬¦ä¸²â > æä»¶å(å¯åå¥æä»¶)\n\nå°å­ç¬¦ä¸²åå¥å°ææ¬ä¸­\n\nè¿½å \n\necho âå­ç¬¦ä¸²â > >æä»¶å(å¯åå¥æä»¶)\n\nå°å­ç¬¦ä¸²æå¥å°ææ¬ä¸­\n\ncat ä¸å­å¨çç®å½ &>> error.log å°å½ä»¤çå¤±è´¥ç»æ è¿½å å°error.logä¸­\n\n\n# æ¾ç¤ºææ¬æä»¶ä¸­çåå®¹\n\ncat æä»¶å å¦:cat test.txt ä¸æ¬¡æ§æ¾ç¤ºææåå®¹\n\nmore æä»¶å å¦:more test.txt å½æä¸åè½¦åå±ç¤ºä¸ä¸è¡,æqéåº,æç©ºæ ¼å±ç¤ºä¸ä¸å±\n\nless æä»¶å å¦:less test.txt ä¸é¡µä¸é¡µå±ç¤ºææ¬åå®¹,ç¨paupåpadnè¿è¡ç¿»é¡µ\n\ntail æä»¶å -n x å¦:tail test.txt -n 2 åªçè¯¥æä»¶æåçxè¡\n\ntail æä»¶å -f å¯ä»¥å¨ææ¥çæä»¶åå\n\nhead æä»¶å -n x å¦:head test.txt -n 2 åªçè¯¥æä»¶åé¢çxè¡\n\n\n# awk\n\nark [éé¡¹] 'è¯­æ³' æä»¶å æ¥è¯¢æä»¶ä¸­åå«awkè¯­æ³çæä»¶\n\n * -f 'å­ç¬¦' ä½¿ç¨ æå®å­ç¬¦ä¸²åå²\n\n * $ + æ°å­ è·åç¬¬å æ®µåå®¹\n\n * $0 è·åå½åè¡åå®¹\n\n * ofs=\"å­ç¬¦\" å°åå²åçåå®¹ ä»¥æå®å­ç¬¦è¿æ¥\n\n * print æå°\n\n * toupper() å°æå®åå®¹è½¬æ¢ä¸ºå¤§å cat a.txt | awk -f ' ' '{print toupper($1)}'\n\n * tolower() å°æå®åå®¹è½¬æ¢ä¸ºå°å\n\n * length() è¿åå­ç¬¦é¿åº¦\n\n * 'begin{åå§åæä½}\n   {æ¯è¡é½æ§è¡}\n   end{ç»ææ¶æä½}'\n   æä»¶å\n   \n   \n   1\n   2\n   3\n   4\n   \n\n\n# è¿æ¥\n\nln æºæä»¶å èªå®ä¹åå­ ç¡¬è¿æ¥\n\nln -s æºæä»¶å èªå®ä¹åå­ è½¯è¿æ¥\n\n\n# ä¿®æ¹æä»¶æé\n\nchmod ç¨æ·ç»æä½æéæä»¶\n\nç¨æ·ç»:u g o a u è¡¨ç¤ºè¯¥æä»¶çæ¥æèï¼g è¡¨ç¤ºä¸è¯¥æä»¶çæ¥æèå±äºåä¸ä¸ªç¾¤ä½(group)èï¼o è¡¨ç¤ºå¶ä»ä»¥å¤çäººï¼a è¡¨ç¤ºè¿ä¸èçæ¯ã\n\næä½: + - = + è¡¨ç¤ºå¢å æéã- è¡¨ç¤ºåæ¶æéã= è¡¨ç¤ºå¯ä¸è®¾å®æéã\n\næé:r è¡¨ç¤ºå¯è¯»åï¼w è¡¨ç¤ºå¯åå¥ï¼x è¡¨ç¤ºå¯æ§è¡ï¼x è¡¨ç¤ºåªæå½è¯¥æä»¶æ¯ä¸ªå­ç®å½æèè¯¥æä»¶å·²ç»è¢«è®¾å®è¿ä¸ºå¯æ§è¡ã\n\nå¦ chmod u-rw aa\n\nchmodå¯ä»¥ä½¿ç¨æ°å­ä»£æ¿chmod abc aa\n\nå¦chmod 777 aa ä»£è¡¨ u rwx g rwx o rwx\n\nå¶ä¸­a,b,cåä¸ºä¸ä¸ªæ°å­ï¼åå«è¡¨ç¤ºuserãgroupãåotherçæéã\n\n# r=4ï¼w=2ï¼x=1\n\n * è¥è¦ rwx å±æ§å 4+2+1=7ï¼\n * è¥è¦ rw- å±æ§å 4+2=6ï¼\n * è¥è¦ r-x å±æ§å 4+1=5ã\n\n\n# ç¨æ·ç®¡ç\n\nuseradd ç¨æ·å æ·»å æ°ç¨æ·\n\npasswd æ°ç¨æ·å ä¸ºæ°ç¨æ·æ·»å å¯ç \n\nid ç¨æ·å æ¥çæå®ç¨æ·æ¯å¦å­å¨\n\ncat /etc/passwd æ¥çè¯¥centosä¸­ææç¨æ·åç»\n\nuserdel ç¨æ·å å é¤è¯¥ç¨æ·\n\nuserdel ç¨æ·å -r å é¤è¯¥ç¨æ·åè¯¥ç¨æ·å®¶ç®å½\n\nsu ç¨æ·å åæ¢ç¨æ·\n\nsu - ç¨æ·å åæ¢ç¨æ·å¹¶è¿å¥è¯¥ç¨æ·å®¶ç®å½\n\nsudo è®¾ç½®æ®éç¨æ·å·ærootæé\n\nusermod -g root(æ¬²è¦å å¥çç») ç¨æ·å ä¿®æ¹ç¨æ·ç»\n\nwhoaimi å½åç»å½ç¨æ·ä¿¡æ¯\n\nlogname å½åç»å½ç¨æ·ä¿¡æ¯\n\n\n# ç¨æ·ç»\n\ngroupadd (éé¡¹) ç¨æ·ç»å åå»ºç¨æ·ç»\n\ngroupmod (éé¡¹) ç¨æ·ç»å ä¿®æ¹ç¨æ·ç»\n\ngrops ç¨æ·å æ¥è¯¢ç¨æ·æå±ç»\n\ngropdel ç¨æ·ç»å å é¤ç¨æ·ç»\n\ngpasswd (éé¡¹) ç»å ç®¡çæå®ç»çç¨æ·\n\ngpasswd -a ç¨æ·å ç¨æ·ç» å°ç¨æ·å å¥æå®ç»\n\n\n# åå²å½ä»¤\n\nhistory\n\n\n# æ¥æ\n\ntimedatectl æ ¹æ®æ¶åºæ ¡æ­£æ¶é´\n\ntimedatectl list-timezones æ¥çå½åå½å®¶ä¸çæ¶åº\n\ntimedatectl set-timezone \"asia/shanghai\" è®¾ç½®æå®æ¶åº\n\ntimedatectl set-ntp true å³é­ntpåæ­¥æ¶é´\n\n\n# æ¥çæ¥æ\n\ndate +%y å¹´\n\ndate +%m æ\n\ndate +%d æ¥\n\ndate +%y-%m-%d å¹´ææ¥\n\ndate +%h æ¶ må sç§\n\ndate -s \"2021-04-19\" æ´æ¹ç³»ç»æ¶é´\n\ncal å½ææ¥å\n\ncal 2021 å½åå¹´æ¥å\n\n\n# åéä¿®æ¹linuxç½å¡å±æ§\n\nvim /etc/udev/rules.d/70-persistent-ipoib.rules ä¿®æ¹mac\n\nvim /etc/sysconfig/network-scripts/ifcfg-ensxx ä¿®æ¹ipå°å\n\nhostname:æ¥çä¸»æºå\n\nhostname ä¸»æºå:ä¿®æ¹ä¸»æºå éå¯åæ¢å¤ ä¸´æ¶æ´æ¹ å¦:hostname admin\n\nå¦è¦æ°¸ä¹ä¿®æ¹éè¦ æ´æ¹ /etc/sysconfig/networkæä»¶\n\nvim /etc/sysconfig/network ä¿®æ¹ä¸»æºåç§°\n\nvim /etc/hostname ä¿®æ¹ä¸»æºå\n\n\n# vimç¼è¾\n\nvim æä»¶å è¿å¥vimä¸è¬æ¨¡å¼\n\næiãaãoè¿å¥è¾å¥æ¨¡å¼ æescéåºå°ä¸è¬æ¨¡å¼\n\n:wq éåºvimç¼è¾\n\n:q! ä¸ä¿å­éåº\n\nvim æä»¶å +æå®è¡æ° è¿å¥vimå¹¶åæ å¨æå®è¡æ° å¦:vim a.txt +5\n\nyy å¤å¶åæ å½åè¡\n\nyæ°å­y ä»å½åè¡å¤å¶å°nè¡\n\nu æ¤åä¸ä¸æ­¥\n\ndd å é¤å½åè¡\n\ndæ°å­d ä»å½åè¡å é¤å°nè¡\n\nx å é¤ä¸ä¸ªå­æ¯\n\nx éæ ¼é®\n\nyw å¤å¶ä¸ä¸ªåè¯\n\ndw å é¤ä¸ä¸ªè¯\n\n\n\n\n# æ¥çå½åè¿ç¨\n\nps -aux\n\n\n# iptables\n\nnetstat -tnl #æ¥çæå¡å¨ç®åå¼æ¾ç«¯å£\n\niptables -i input -p tcp --dport 8000 -j accept #å¼å¯8000ç«¯å£\n\niptables -l -n -v #æ¥çå·²æ·»å çiptablesè§å æ¥è¯¢ç¼å·id\n\niptables -d input ç¼å·id #å é¤æå®ç¼ç çè§å\n\niptables -f #ä¸é®æ¸ç©ºææè§å\n\niptables -a input -p tcp --dport 80 -j drop #å°æå®çç«¯å£\n\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n\n\n\n# å¼æ¾ç«¯å£\n\nfirewall-cmd --zone=public --add-port=8888/tcp --permanent\n# å½ä»¤å«ä¹ï¼\n--zone #ä½ç¨å\n--add-port=1935/tcp  #æ·»å ç«¯å£ï¼æ ¼å¼ä¸ºï¼ç«¯å£/éè®¯åè®®\n--permanent  #æ°¸ä¹çæï¼æ²¡ææ­¤åæ°éå¯åå¤±æ\n#éå¯\nfirewall-cmd --reload\n\n\n1\n2\n3\n4\n5\n6\n7\n\n\n# æ¥è¯¢ç«¯å£æ¯å¦å¼æ¾\nfirewall-cmd --query-port=8080/tcp\n# å¼æ¾80ç«¯å£\nfirewall-cmd --permanent --add-port=80/tcp\n# ç§»é¤ç«¯å£\nfirewall-cmd --permanent --remove-port=8080/tcp\n#éå¯é²ç«å¢(ä¿®æ¹éç½®åè¦éå¯é²ç«å¢)\nfirewall-cmd --reload #ubuntu æå¹²è¦éå¯\nservice iptables stop #åæ­¢\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n\n\nå¼æ¾ææç«¯å£\n\n iptables -p input accept\n iptables -p forward accept\n iptables -p output accept\n iptables -f\n iptables-save\n #å»ºè®®å é¤ iptables\n sudoapt-get remove iptables\n\n\n1\n2\n3\n4\n5\n6\n7\n\n\n\n# é²ç«å¢\n\nservice iptables status é²ç«å¢ç¶æ\n\nservice iptables stop å³é­é²ç«å¢\n\nservice iptables start å¯å¨é²ç«å¢\n\nchkconfig iptables off ç¦æ­¢é²ç«å¢èªå¯\n\nnetstat -nltp æ¥çèå¬çç«¯å£\n\n\n# æ¥çç³»ç»çæ¬\n\ngetconf long_bit\n\n\n# åå°è¿è¡\n\nnohup è¿è¡æä»¶å/å½ä»¤å &\n\nnohup å½ä»¤ ç¨éï¼æ§è¡å½ä»¤ï¼å¿½ç¥æèµ·æä»¤ï¼å¯ç¨äºåå°è¿è¡ï¼å³é­shellä¸åå½±å è¯­æ³ï¼ nohup command [arg]\n\n\n# æ·»å æ°çç¡¬çå¹¶æè½½\n\næå°ä½¿ç¨vmæ¥è¿è¡æ¨¡æ\n\nåä½¿ç¨dfçä¸æççµèç¡¬çä¿¡æ¯ï¼\n\ndf -h\n\n\n\nå¯ä»¥çå°åªæä¸ä¸ªsda1ååºè£è½½/boot,è¿æä¸ä¸ªæ©å±ååº\n\næ¥çdevä¸çç¡¬çï¼\n\n\n\nåªæä¸ä¸ªç¡¬çï¼ä¸¤ä¸ªååºï¼\n\næ³¨æï¼\n\nå¦æä½ æ¯ide æ¥ å£ ç¡¬ ç :/dev/dh[a-z]ï¼è¿éçç¡¬çåå­åºè¯¥æ¯dh[a-z]å¼å¤´\n\nå¦æä½ æ¯scsi æ¥ å£ ç¡¬ ç : / dev/[ a -z ],è¿éçç¡¬çåå­åºè¯¥æ¯sd[a-z]å¼å¤´\n\næ¥ä¸æ¥å°è¿è¡å¦ä¸åç¡¬ççå®è£ï¼\n\n1.å°ç¡¬çè£å¨çµèä¸ï¼éå¯çµèï¼åæ¥ç/dev/ ä¸ææ²¡å¤äºä¸åç¡¬ç\n\n\n\n\n\n2.ç¨fdiskå¯¹è¿åç¡¬çååº\n\nfdisk /dev/sdb\n\n\n\næä¸mæ¾ç¤ºèåï¼\n\n\n\nå ä¸ºè¦æ°å»ºååºéæ©n\n\n\n\nè¿éæ¯é®ä½ æ¯è¦å»ºç«ä¸»ååºè¿æ¯æ©å±ååºï¼è¿éæ¯ç¬¬ä¸æ¬¡å»ºç«éæ©ä¸»ååºp\n\n\n\nå ä¸ºæ¯mbrååºåªè½æ4ä¸ªååºï¼è¿éå»ºç«ç¬¬ä¸ä¸ªååºï¼è¾å¥1\n\n\n\nè¿éé®ä½ ä¸ªååºçèµ·å§æåºï¼è¿éç´æ¥åè½¦ï¼é»è®¤ï¼ï¼ç¸å½äºè¾å¥äº2048\n\n\n\nè¿éé®ä½ çç»ææåºï¼è¿éä¸éè¦è®¡ç®ï¼ç´æ¥è¾å¥+1g å å·åé¢ä¸ºè¿ä¸ªååºçå¤§å°\n\n\n\næ­¤æ¶ç¬¬ä¸ä¸ªååºå·²ç»å»ºç«ï¼ä½è¿æ¯å¨åå­ä¸­å¹¶æ²¡æåå°ç¡¬çsdbä¸­ï¼æä»¥ç´æ¥è¾å¥w\n\næ³¨æè¿éå¯ä»¥ç»§ç»­åå»ºååºï¼å®äºåè¾å¥wï¼æè¿éåªå»ºç«ä¸ä¸ªååº\n\n\n\nç»è¿ä»¥ä¸æ­¥éª¤åååºçå»ºç«å·²ç»å®æï¼ä½æ¯æ­¤æ¶ç³»ç»è¿æ æ³è¯å«ååºè¡¨\n\n3.åæ ¸éæ°è¯»åååºè¡¨\n\npartprobe /dev/sdb\n\n\n\næ³¨æï¼è¿éæ¯æ´ä¸ªç£çsdbï¼ä¸æ¯ç£çååºsdb1\n\n4.åå»ºæä»¶ç³»ç»ï¼æ ¼å¼åååºï¼\n\nlinux ä¸­çä¸»æµçæä»¶ç³»ç»æï¼ext4åxfsdç­\n\n\n\nè¿éæå»ºç«ext4æä»¶ç³»ç»\n\nmkfs.ext4 /dev/sdb1\n\næ³¨æï¼è¿éæ¯ç£çååºsdb1ï¼ä¸æ¯æ´ä¸ªç£çsdb\n\n\n\n5.æè½½\n\nå¨æè½½ä¹åä½ éè¦ç¡®å®æè½½çç®å½ï¼æè¿éæ¯/mnt/sdb1-zhiãã,æ²¡æç®å½çèªå·±mkdir,è¿éç®å½æå¥½å»ºç«å¨/mntä¸ï¼è¿ä¸ªç®å½æ¯ä¸é¨æè½½çï¼å¯ä»¥ä»»æã\n\nå°æ¥è¿ä¸ªååºå°±ä¼ä¸è¿ä¸ª/mnt/sdb1-zhiç®å½å»ºç«èç³»\n\næå¨æè½½\n\nmount /dev/sdb1 /mnt/sdb1-zhi/\n\n\n\ndfä¸ä¸ï¼\n\n\n\nè¿éå·²ç»æè½½æåï¼ä½æ¯è¿åªæ¯ä¸æ¬¡æ§çï¼éå¯åå°±ä¼æ¶å¤±\n\næ°¸ä¹æè½½ï¼\n\nè¦å¯¹/etc/fstabæä»¶ç¼è¾\n\nvim /etc/fstab\n\n\n\næ¯å¦ç¬¬ä¸è¡ä¸­\n\nãç¡¬çè·¯å¾ãããããããããããããããããããããããããæä»¶è·¯å¾ï¼æè½½ç¹ï¼ããããæä»¶ç³»ç»ç±»åããããè®¾å¤çèªå®ä¹éé¡¹ããæ¯å¦è½¬å­ããfsckçé¡ºåº\n\n\n1\n\n\nã/dev/mapper/centos-rootãããããããããããããããããã /         ãxfs ãããããã ãdefaults    0 ããããã0\n\n\n1\n\n\nãuuid=e4ef36e1-0840-4a58-a4f7-c26f52ead6f1 ãããããããã/bootãããããããããxfs ããããããããdefaults ããã 0ããããã 0\n\n\n1\n\n\næä»¬è¦å¨æåä¸è¡åå¥èªå·±çååºä¸æä»¶è·¯å¾ï¼å¯ä»¥ä»¿ç§ä¸é¢çå\n\n\n1\n\n\nãã/dev/sdb1 ãããããããããããããããããããããããã/mnt/sdb1-zhi ãããããext4 ããããããããdefaults ãããã0ããããã 0\n\n\n1\n\n\n\n\nè¿éç¬¬ä¸åä¹å¯ä»¥åå¥uuid\n\nuuidçæ¥è¯¢ï¼\n\nblkid\n\n\n\nè½¬å­ï¼0 ä¸è½¬å­ï¼ä¸å¤ä»½ãã1è½¬å­ï¼å¤ä»½\n\nfsckï¼å¼æºæ£æ¥ç£ççé¡ºåºãã0è¡¨ç¤ºä¸æ£æ¥ãã1234....ä¸ºæ£æ¥é¡ºåº\n\nä»¥ä¸æ­¥éª¤å®æåï¼è¿éè¦å¤æ­æ¯å¦æ­£ç¡®\n\nmount -a\n\n\n\nå¦ææ²¡æå¶ä»ä¿¡æ¯åºç°ï¼è¡¨ç¤ºä½ æå¥çæ­£ç¡®ï¼å¦åéè¯¯ã\n\nå¦æéè¯¯ä¸æ²¡ææ£æ¥ï¼å¼æºåå°è¿å¥ç´§æ¥æ¨¡å¼ï¼æ æ³å¼æº\n\næåå¼æºéå¯ådfä¸ä¸ï¼ççæ¯å¦æ­£å¸¸\n\n\n\næåæ»ç»ä¸ä¸\n\n1.fdisk /dev/sdb\n\n2.partprobeãã/dev/sdb\n\n\\3. mkfs.ext4ãã /dev/sdb1\n\n4.æè½½ããmount ãã/dev/sdb1ãã/mnt/sdb1-zhi\n\nvim /etc/fstab\n\n5.mount -a\n\n\n# å é¤æè½½\n\numount ç£çå æè½½ç¹ å¦:umount /dev/sdb1 /sdb1\n\n\n# æç´¢\n\nfind æç´¢èå´ éé¡¹(name-æ¥è¯¢æ¹å¼ãuser-ç¨æ·åãsize-æä»¶å¤§å°ãctime-æä»¶æ¶é´)\n\næ¥è¯¢æå®æä»¶:\n\nfind -name æä»¶å\n\nfind -name æä»¶ååé¢*(å¹éåå«æ­¤åå­çæä»¶)\n\næä»¶å¤§å°\n\nfind -size +1k(å¤§äº1k)\n\nfind -size -1k(å°äº1k)\n\n\n# åå»ºæ¥æ¾æä»¶æ°æ®åºç´¢å¼\n\nupdatedb åå»ºlocateæ°æ®åºåå§å\n\nlocate æä»¶å\n\n\n# æ¥æ¾æä»¶æå®åå®¹\n\ngrep æ¥æ¾åå®¹ æºæä»¶\n\n * -n(æ¾ç¤ºæå®è¡å·å¯çç¥)\n * --color é«äº®æ¾ç¤ºå³é®å­\n * -an æ¾ç¤ºåé¢çnè¡\n * -bn æ¾ç¤ºåé¢çnè¡\n * -c ç»è®¡ä¸ªæ°\n * -v æ¥è¯¢ä¸åå«è¯¥å³é®å­ç\n * -i å¿½ç¥å¤§å°å\n\ngrep - n 123 abc.txt\n\nç®¡éç¬¦ | å°åä¸ä¸ªå½ä»¤çç»æä¼ éç»åä¸ä¸ªå½ä»¤\n\nå¦:\n\nll | grep ini (ä¼æ ¹æ®llçç»ææ¥æ¾æå®åå®¹)\n\n\n# åç¼©\n\n\n# gzip\n\ngzip æä»¶å\n\ngunzip æä»¶å.gz è§£ågzæä»¶\n\nä¸ä¿çåæä»¶,åªåç¼©æä»¶ä¸åç¼©æä»¶å¤¹\n\ngzip -dv åç¼©æä»¶ è§£ågzæä»¶\n\n\n# zip\n\nzip -r(å¯ç éå½æä½ç®å½) æä»¶å.zip è¦åç¼©çåå®¹ åç¼©zipæä»¶\n\nunzip -d(å¯çæå®è§£åæä»¶çå­æ¾è·¯å¾) åç¼©æä»¶.zip è§£åzipæä»¶\n\nunzip -l åç¼©æä»¶.zip æ¥çzipéé¢çæä»¶\n\n\n# taræå\n\ntar éé¡¹ xxx.tar.gz å°è¦æåè¿å»çåå®¹\n\n * -cäº§ç.taræåæä»¶\n * -væ¾ç¤ºè¯¦æä¿¡æ¯\n * -fæå®åç¼©åçæä»¶å\n * -zæååæ¶åç¼©\n * -xè§£å.taræä»¶\n * -cè§£åç®å½\n\næå: tar -cvf xxx.tar ./*\n\næåå¹¶åç¼©: tar -zcvf xxx.tar.gz ./*\n\næ¥çåç¼©åçæä»¶ï¼tar -ztvf xxx.gz\n\nè§£å:tar -xvf xxx.tar\n\ntar -zxvf xxx.tar.gz -c ./*\n\n\n# bzip2\n\nbzip2 æä»¶ åç¼©æ.bz2æä»¶ å¹¶å é¤åæ¥çæä»¶\n\nbunzip2 -v(å¯çè§£åè¿ç¨) æä»¶.bz2 è§£å\n\n\n# è¿ç¨\n\nps æ¥çå½åç³»ç»è¿ç¨ç¶æ\n\n-a æ¾ç¤ºææè¿ç¨\n\n-u æ¾ç¤ºææç¨æ·çææè¿ç¨\n\n-x æ¾ç¤ºæ²¡æç»ç«¯çè¿ç¨\n\nps -aux æ¥çææè¿ç¨\n\n\n# ç»æè¿ç¨\n\nkill -9(å¯ç,å¼ºå¶ç»æè¿ç¨) è¿ç¨å·\n\nkillall è¿ç¨å\n\n\n# è¿ç¨æ \n\npstree éé¡¹(-pæ¾ç¤ºè¿ç¨id,-uæ¾ç¤ºè¿ç¨çæå±ç¨æ·)\n\n\n# top å¥åº·\n\ntop æ¾ç¤ºææè¿ç¨ä¿¡æ¯\n\ntop -c æ¾ç¤ºè¿ç¨çè¯¦ç»è·¯å¾\n\ntop -p pid æ¾ç¤ºæå®çè¿ç¨ä¿¡æ¯\n\n\n# å®æ¶ä»»å¡\n\n\n# crond å¯å¨å®æ¶æå¡\n\néæ°å¯å¨:service crond restart\n\nå¯å¨:systemctl start crond\n\næ¥çç¶æ:systemctl status crond\n\n\n# crontab\n\ncrontab -e ç¼è¾å®æ¶ä»»å¡\n\ncrontab -l æ¥è¯¢ä»»å¡\n\ncrontab -r å é¤å½åç¨æ·ææä»»å¡\n\n\n# * * * * * æ§è¡çä»»å¡\n\n\n\n 1. * ä¸å°æ¶å½ä¸­çç¬¬å åé 0-59\n 2. * å°æ¶ 0-23\n 3. * å½æç¬¬å å¤© 1-31\n 4. * å æ 1-12\n 5. * ææå  0-7(0å7ä»£è¡¨æææ¥)\n\n* ä»£è¡¨ä»»ä½æ¶é´. å¦ç¬¬ä¸ä¸ªæåä¸º æ¯åéæ§è¡\n\n, ä»£è¡¨ä¸è¿ç»­æ¶é´ 0 8,12,16 * * * ä»£è¡¨æ¯å¤©8ç¹12ç¹16ç¹æ§è¡ä¸æ¬¡\n\n- ä»£è¡¨è¿ç»­æ¶é´ 0 5 * * 1-6 ä»£è¡¨å¨ä¸å°å¨å­ 5ç¹æ§è¡\n\n*/x ä»£è¡¨æ¯éå¤ä¹æ§è¡ä¸æ¬¡ */10 * * * * ä»£è¡¨æ¯é10åéæ§è¡ä¸æ¬¡\n\n30 * * * * /root/qb.sh > /dev/null 2>& &\n\n\n1\n\n\n\n# å®è£è½¯ä»¶\n\n\n# rpm\n\n# æ¥è¯¢\n\nrpm -qa æ¥è¯¢æærpmè½¯ä»¶å\n\nrpm -qa | grep rmpè½¯ä»¶å æ¥çæå®è½¯ä»¶æ¯å¦å®è£\n\n# å¸è½½\n\nrpm -e rpmè½¯ä»¶å å¸è½½æå®è½¯ä»¶å\n\nrpm -e --nodeps è½¯ä»¶å å¸è½½rpmæ¶ä¸æ£æµä¾èµ\n\n# å®è£\n\nrpm -ivh è½¯ä»¶åå\n\n\n# yum\n\nyum [éé¡¹] [åæ°]\n\néé¡¹: -y å¯¹æææé®é½åç­yes\n\nåæ°: install å®è£ãupdate æ´æ°ãcheck-update æ£æµæ¯å¦æå¯ç¨æ´æ°ãremove å é¤æå®åãlist æ¾ç¤ºè½¯ä»¶åä¿¡æ¯ãcleanæ¸çyumè¿æç¼å­ãdeplistæ¾ç¤ºyumè½¯ä»¶åææä¾èµæ´æ°\n\nå¦å®è£mysql:\n\n 1. æ£æµæ¯å¦å®è£äºmysql:rpm -qa | grep mysql\n 2. ä¸è½½mysqlçrepoæº wget http.....ä¸è½½å°å\n 3. rpm -ivh mysqlè½¯ä»¶åå\n 4. yum install è½¯ä»¶\n\n\n# shutdown\n\nshutdown é»è®¤ä¸º1åéå³æº\n\nshutdown -c åæ¶å³æº\n\nshutdown -h now ç«å»å³æº\n\nshutdown -r éå¯\n\nreboot",charsets:{cjk:!0},lastUpdated:"2022/03/18, 07:01:11",lastUpdatedTimestamp:1647558071e3},{title:"java",frontmatter:{title:"java",date:"2022-03-18T00:52:16.000Z",permalink:"/pages/a70c4f/",categories:["åç«¯","Linux"],tags:[null]},regularPath:"/%E5%90%8E%E7%AB%AF/03.Linux/04.java.html",relativePath:"åç«¯/03.Linux/04.java.md",key:"v-424bdfb7",path:"/pages/a70c4f/",headers:[{level:2,title:"yumå®è£",slug:"yumå®è£",normalizedTitle:"yumå®è£",charIndex:11}],headersStr:"yumå®è£",content:"# java\n\n\n# yumå®è£\n\n# æ¥è¯¢java1.8çæ¬\nyum list | grep java-1.8.0-openjdk\n\nyum -y install java-1.8.0-openjdk*\n\njava -version\n\njavac\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n\n\nyumé»è®¤ä¸ºæä»¬éç½®ç¯å¢åé ä½æ¯æé¨ååºç¨æ æ³ä½¿ç¨ æä»¬éè¦éç½®æä»¶çå¨å±åé\n\nvim /etc/profile\n\n\n1\n\n\nexport JAVA_HOME=/usr/lib/jvm/java\n\nexport CLASSPATH=.:$JAVA_HOME/lib/dt.jar:$JAVA_HOME/lib/tools.jar:$JAVA_HOME/jre/lib/rt.jar\n\nexport PATH=$PATH:$JAVA_HOME/bin\n\n\n1\n2\n3\n4\n5\n\n\næ´æ°éç½®\n\n. /etc/profile\necho $JAVA_HOME  \n\n\n1\n2\n",normalizedContent:"# java\n\n\n# yumå®è£\n\n# æ¥è¯¢java1.8çæ¬\nyum list | grep java-1.8.0-openjdk\n\nyum -y install java-1.8.0-openjdk*\n\njava -version\n\njavac\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n\n\nyumé»è®¤ä¸ºæä»¬éç½®ç¯å¢åé ä½æ¯æé¨ååºç¨æ æ³ä½¿ç¨ æä»¬éè¦éç½®æä»¶çå¨å±åé\n\nvim /etc/profile\n\n\n1\n\n\nexport java_home=/usr/lib/jvm/java\n\nexport classpath=.:$java_home/lib/dt.jar:$java_home/lib/tools.jar:$java_home/jre/lib/rt.jar\n\nexport path=$path:$java_home/bin\n\n\n1\n2\n3\n4\n5\n\n\næ´æ°éç½®\n\n. /etc/profile\necho $java_home  \n\n\n1\n2\n",charsets:{cjk:!0},lastUpdated:"2022/03/18, 07:01:11",lastUpdatedTimestamp:1647558071e3},{title:"Tomcat",frontmatter:{title:"Tomcat",date:"2022-03-18T00:52:16.000Z",permalink:"/pages/f323f1/",categories:["åç«¯","Linux"],tags:[null]},regularPath:"/%E5%90%8E%E7%AB%AF/03.Linux/05.Tomcat.html",relativePath:"åç«¯/03.Linux/05.Tomcat.md",key:"v-73daf8d7",path:"/pages/f323f1/",headers:[{level:2,title:"yumå®è£",slug:"yumå®è£",normalizedTitle:"yumå®è£",charIndex:117}],headersStr:"yumå®è£",content:"# Tomcat\n\nä¸ä¼ linux\n\ntar -zxvf apache-tomcat-9.0.52.tar.gz\n\ncd apache-tomcat-9.0.52/bin\n\n./startup.sh\n\n\n1\n2\n3\n4\n5\n\n\n\n# yumå®è£\n\nyum -y install tomcat\n\ncd /usr/share/tomcat\n\nsystemctl status tomcat\n\nsystemctl start tomcat\n\n# å®è£webæä»¶å\nyum install tomcat-webapps tomcat-admin-webapps\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n\n\nhttps://www.cnblogs.com/yoyoketang/p/10186513.html",normalizedContent:"# tomcat\n\nä¸ä¼ linux\n\ntar -zxvf apache-tomcat-9.0.52.tar.gz\n\ncd apache-tomcat-9.0.52/bin\n\n./startup.sh\n\n\n1\n2\n3\n4\n5\n\n\n\n# yumå®è£\n\nyum -y install tomcat\n\ncd /usr/share/tomcat\n\nsystemctl status tomcat\n\nsystemctl start tomcat\n\n# å®è£webæä»¶å\nyum install tomcat-webapps tomcat-admin-webapps\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n\n\nhttps://www.cnblogs.com/yoyoketang/p/10186513.html",charsets:{cjk:!0},lastUpdated:"2022/03/18, 07:01:11",lastUpdatedTimestamp:1647558071e3},{title:"å¸¸è§çæ°æ®åºäº§å",frontmatter:{title:"å¸¸è§çæ°æ®åºäº§å",date:"2022-03-18T00:52:36.000Z",permalink:"/pages/e051f6/",categories:["åç«¯","SQL"],tags:[null]},regularPath:"/%E5%90%8E%E7%AB%AF/04.SQL/01.%E5%B8%B8%E8%A7%81%E7%9A%84%E6%95%B0%E6%8D%AE%E5%BA%93%E4%BA%A7%E5%93%81.html",relativePath:"åç«¯/04.SQL/01.å¸¸è§çæ°æ®åºäº§å.md",key:"v-a6e0fd06",path:"/pages/e051f6/",headersStr:null,content:"# å¸¸è§çæ°æ®åºäº§å\n\n> Oracle:ç²éª¨æ==> æ¶è´­sunå¬å¸java==>sunæ¶è´­mysql\n> \n> DB2:IBM\n> \n> SQL Sever:å¾®è½¯\n> \n> MySQL:AB åè¢«ç²éª¨ææ¶è´­",normalizedContent:"# å¸¸è§çæ°æ®åºäº§å\n\n> oracle:ç²éª¨æ==> æ¶è´­sunå¬å¸java==>sunæ¶è´­mysql\n> \n> db2:ibm\n> \n> sql sever:å¾®è½¯\n> \n> mysql:ab åè¢«ç²éª¨ææ¶è´­",charsets:{cjk:!0},lastUpdated:"2022/03/18, 07:01:11",lastUpdatedTimestamp:1647558071e3},{title:"shell",frontmatter:{title:"shell",date:"2022-03-18T00:52:16.000Z",permalink:"/pages/f9e4a1/",categories:["åç«¯","Linux"],tags:[null]},regularPath:"/%E5%90%8E%E7%AB%AF/03.Linux/02.shell.html",relativePath:"åç«¯/03.Linux/02.shell.md",key:"v-3d56846d",path:"/pages/f9e4a1/",headers:[{level:2,title:"åé",slug:"åé",normalizedTitle:"åé",charIndex:101},{level:2,title:"æ°ç»",slug:"æ°ç»",normalizedTitle:"æ°ç»",charIndex:391},{level:2,title:"è¿ç®ç¬¦",slug:"è¿ç®ç¬¦",normalizedTitle:"è¿ç®ç¬¦",charIndex:572},{level:3,title:"å­ç¬¦ä¸²è¿ç®ç¬¦",slug:"å­ç¬¦ä¸²è¿ç®ç¬¦",normalizedTitle:"å­ç¬¦ä¸²è¿ç®ç¬¦",charIndex:604},{level:3,title:"å³ç³»è¿ç®ç¬¦",slug:"å³ç³»è¿ç®ç¬¦",normalizedTitle:"å³ç³»è¿ç®ç¬¦",charIndex:633},{level:3,title:"å¸å°è¿ç®ç¬¦",slug:"å¸å°è¿ç®ç¬¦",normalizedTitle:"å¸å°è¿ç®ç¬¦",charIndex:645},{level:3,title:"$?",slug:"",normalizedTitle:"$?",charIndex:659},{level:2,title:"å¤æ­è¯­å¥",slug:"å¤æ­è¯­å¥",normalizedTitle:"å¤æ­è¯­å¥",charIndex:699},{level:3,title:"éæ©è¯­å¥",slug:"éæ©è¯­å¥",normalizedTitle:"éæ©è¯­å¥",charIndex:860},{level:2,title:"å¾ªç¯è¯­å¥",slug:"å¾ªç¯è¯­å¥",normalizedTitle:"å¾ªç¯è¯­å¥",charIndex:1045},{level:2,title:"å½æ°",slug:"å½æ°",normalizedTitle:"å½æ°",charIndex:1126},{level:2,title:"é®çå½å¥",slug:"é®çå½å¥",normalizedTitle:"é®çå½å¥",charIndex:1329}],headersStr:"åé æ°ç» è¿ç®ç¬¦ å­ç¬¦ä¸²è¿ç®ç¬¦ å³ç³»è¿ç®ç¬¦ å¸å°è¿ç®ç¬¦ $? å¤æ­è¯­å¥ éæ©è¯­å¥ å¾ªç¯è¯­å¥ å½æ° é®çå½å¥",content:'# shell\n\nä»¥.shåç¼çæä»¶å¤¹\n\nä½¿ç¨vimç¼è¾\n\nç¬¬ä¸å¥æå®æ¯#!bin/bash\n\nlinuxè¯­å¥\n\nè·å.shæä»¶æé\n\n./æä»¶å.sh è¿è¡\n\nbash æä»¶å.sh è¿è¡2\n\n\n# åé\n\n * æ®éåé\n   * åéå=åéå¼ å¿é¡»ä¸ºä¸ä¸ªæ´ä½,ä¸­é´æ²¡æç¹æ®å­ç¬¦\n   * åéå=\'åéå¼\' åå¼å·ä¸­çåå®¹åæ ·èµå¼\n   * åéå="åéå¼" å¦æåå¼å·éé¢æå¶ä»åé,é£ä¹ä¼è¿è¡æ¼æ¥å,åèµå¼\n * å½ä»¤åé æå½ä»¤æ§è¡çç»æèµå¼ç»åé\n   * åéå=`å½ä»¤` æ³¨æä¸ºåå¼å·\n   * åéå=$(å½ä»¤)\n * ä½¿ç¨åé\n   * $åéå\n   * "$åéå"\n   * ${åéå}\n   * "${åéå}" æ åç¨æ³\n * åªè¯»åé\n   * readonly åéå å¸¸é\n * å é¤åé\n   * unset åéå å é¤åé\n\n\n# æ°ç»\n\n * å®ä¹æ°ç»\n   * æ°ç»å=(å¼ å¼2...) arr=(1 2 3 4 5)\n * ä½¿ç¨ç´¢å¼èµå¼\n   * æ°ç»å[ç´¢å¼]=å¼ arr[0]=2\n * è·ååç´ \n   * ${æ°ç»å[ä¸æ ]} ${arr[0]}\n * è·åé¿åº¦\n   * ${#æ°ç»å[*]} ${#arr[*]}\n   * ${#æ°ç»å[@]} ${#arr[@]}\n\n\n# è¿ç®ç¬¦\n\n\n\néè¦å¨è¿ç®çæ°å­ åå ä¸å³é®å­ expr\n\n\n# å­ç¬¦ä¸²è¿ç®ç¬¦\n\n\n\nå­ç¬¦ä¸²é¿åº¦: "${#a}"\n\n\n# å³ç³»è¿ç®ç¬¦\n\n\n\n\n# å¸å°è¿ç®ç¬¦\n\n\n\n\n\n\n# $?\n\n$? å¯ä»¥è·åshèæ¬ä¸ä¸æ¡å½ä»¤æ§è¡çç»æ,åå°èµå¼ååå»ºåé\n\n\n# å¤æ­è¯­å¥\n\nif[æ¡ä»¶]\nthen\n\tè¯­å¥ä½\nfi\n\nif[æ¡ä»¶]\nthen\n\tè¯­å¥ä½\nelse\n\tè¯­å¥ä½\nfi\n\nif[æ¡ä»¶]\nthen\n\tè¯­å¥ä½\nelif[æ¡ä»¶2]\n\tè¯­å¥ä½\nelse\n\tè¯­å¥ä½\nfi\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n\n\n\n# éæ©è¯­å¥\n\ncase å¼ in\næ¨¡å¼1)\n\tè¯­å¥ä½\n\t;;\næ¨¡å¼2)\n\tè¯­å¥ä½\n\t;;\nesac\n\n\nv = "test"\ncase "${v}" in\n"123")\n\techo "123"\n\t;;\n"test")\n\techo "test"\n\t;;\nesac\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n\n\n\n# å¾ªç¯è¯­å¥\n\nfor åé in èå´\ndo\n\tå¾ªç¯ä½\ndone\n\n\n1\n2\n3\n4\n\n\nwhile æ¡ä»¶\ndo\n\tå¾ªç¯ä½\ndone\n\n\n1\n2\n3\n4\n\n\n\n# å½æ°\n\nå½æ°å(){\n\tå½æ°ä½\n}\n\nfunction(){\n\techo "function"\n}\n\n# ç´æ¥ç¨å½æ°åè°ç¨å½æ°\nfunction\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n\n\nfa(){\n\techo "$1"\n\techo "$2"\n\t# è¿åå¼ç´æ¥è¿åå°±å¥½\n\treturn $(($1+$2))\n}\n\nfa 10 20\necho $?\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n\n\n\n# é®çå½å¥\n\nread åéå',normalizedContent:'# shell\n\nä»¥.shåç¼çæä»¶å¤¹\n\nä½¿ç¨vimç¼è¾\n\nç¬¬ä¸å¥æå®æ¯#!bin/bash\n\nlinuxè¯­å¥\n\nè·å.shæä»¶æé\n\n./æä»¶å.sh è¿è¡\n\nbash æä»¶å.sh è¿è¡2\n\n\n# åé\n\n * æ®éåé\n   * åéå=åéå¼ å¿é¡»ä¸ºä¸ä¸ªæ´ä½,ä¸­é´æ²¡æç¹æ®å­ç¬¦\n   * åéå=\'åéå¼\' åå¼å·ä¸­çåå®¹åæ ·èµå¼\n   * åéå="åéå¼" å¦æåå¼å·éé¢æå¶ä»åé,é£ä¹ä¼è¿è¡æ¼æ¥å,åèµå¼\n * å½ä»¤åé æå½ä»¤æ§è¡çç»æèµå¼ç»åé\n   * åéå=`å½ä»¤` æ³¨æä¸ºåå¼å·\n   * åéå=$(å½ä»¤)\n * ä½¿ç¨åé\n   * $åéå\n   * "$åéå"\n   * ${åéå}\n   * "${åéå}" æ åç¨æ³\n * åªè¯»åé\n   * readonly åéå å¸¸é\n * å é¤åé\n   * unset åéå å é¤åé\n\n\n# æ°ç»\n\n * å®ä¹æ°ç»\n   * æ°ç»å=(å¼ å¼2...) arr=(1 2 3 4 5)\n * ä½¿ç¨ç´¢å¼èµå¼\n   * æ°ç»å[ç´¢å¼]=å¼ arr[0]=2\n * è·ååç´ \n   * ${æ°ç»å[ä¸æ ]} ${arr[0]}\n * è·åé¿åº¦\n   * ${#æ°ç»å[*]} ${#arr[*]}\n   * ${#æ°ç»å[@]} ${#arr[@]}\n\n\n# è¿ç®ç¬¦\n\n\n\néè¦å¨è¿ç®çæ°å­ åå ä¸å³é®å­ expr\n\n\n# å­ç¬¦ä¸²è¿ç®ç¬¦\n\n\n\nå­ç¬¦ä¸²é¿åº¦: "${#a}"\n\n\n# å³ç³»è¿ç®ç¬¦\n\n\n\n\n# å¸å°è¿ç®ç¬¦\n\n\n\n\n\n\n# $?\n\n$? å¯ä»¥è·åshèæ¬ä¸ä¸æ¡å½ä»¤æ§è¡çç»æ,åå°èµå¼ååå»ºåé\n\n\n# å¤æ­è¯­å¥\n\nif[æ¡ä»¶]\nthen\n\tè¯­å¥ä½\nfi\n\nif[æ¡ä»¶]\nthen\n\tè¯­å¥ä½\nelse\n\tè¯­å¥ä½\nfi\n\nif[æ¡ä»¶]\nthen\n\tè¯­å¥ä½\nelif[æ¡ä»¶2]\n\tè¯­å¥ä½\nelse\n\tè¯­å¥ä½\nfi\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n\n\n\n# éæ©è¯­å¥\n\ncase å¼ in\næ¨¡å¼1)\n\tè¯­å¥ä½\n\t;;\næ¨¡å¼2)\n\tè¯­å¥ä½\n\t;;\nesac\n\n\nv = "test"\ncase "${v}" in\n"123")\n\techo "123"\n\t;;\n"test")\n\techo "test"\n\t;;\nesac\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n\n\n\n# å¾ªç¯è¯­å¥\n\nfor åé in èå´\ndo\n\tå¾ªç¯ä½\ndone\n\n\n1\n2\n3\n4\n\n\nwhile æ¡ä»¶\ndo\n\tå¾ªç¯ä½\ndone\n\n\n1\n2\n3\n4\n\n\n\n# å½æ°\n\nå½æ°å(){\n\tå½æ°ä½\n}\n\nfunction(){\n\techo "function"\n}\n\n# ç´æ¥ç¨å½æ°åè°ç¨å½æ°\nfunction\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n\n\nfa(){\n\techo "$1"\n\techo "$2"\n\t# è¿åå¼ç´æ¥è¿åå°±å¥½\n\treturn $(($1+$2))\n}\n\nfa 10 20\necho $?\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n\n\n\n# é®çå½å¥\n\nread åéå',charsets:{cjk:!0},lastUpdated:"2022/03/18, 07:01:11",lastUpdatedTimestamp:1647558071e3},{title:"MySQLæå¡ç«¯",frontmatter:{title:"MySQLæå¡ç«¯",date:"2022-03-18T00:52:36.000Z",permalink:"/pages/641ffa/",categories:["åç«¯","SQL"],tags:[null]},regularPath:"/%E5%90%8E%E7%AB%AF/04.SQL/04.MySQL%E6%9C%8D%E5%8A%A1%E7%AB%AF.html",relativePath:"åç«¯/04.SQL/04.MySQLæå¡ç«¯.md",key:"v-3072118a",path:"/pages/641ffa/",headersStr:null,content:"# MySQLæå¡ç«¯\n\n> DBMSåä¸¤ç±»:\n> \n>  1. åºäºå±äº«æä»¶ç³»ç»çDBMS(Access)\n> \n>  2. åºäºå®¢æ·æºï¼æå¡å¨çDBMS C/S(client/sever)ï¼åºå±æ¯TCP/IPåè®®çç¨åº\n>     \n>     MysqlãOracleãsqlsever",normalizedContent:"# mysqlæå¡ç«¯\n\n> dbmsåä¸¤ç±»:\n> \n>  1. åºäºå±äº«æä»¶ç³»ç»çdbms(access)\n> \n>  2. åºäºå®¢æ·æºï¼æå¡å¨çdbms c/s(client/sever)ï¼åºå±æ¯tcp/ipåè®®çç¨åº\n>     \n>     mysqlãoracleãsqlsever",charsets:{cjk:!0},lastUpdated:"2022/03/18, 07:01:11",lastUpdatedTimestamp:1647558071e3},{title:"æ°æ®åºå­å¨æ°æ®çç¹ç¹",frontmatter:{title:"æ°æ®åºå­å¨æ°æ®çç¹ç¹",date:"2022-03-18T00:52:36.000Z",permalink:"/pages/d2b3d3/",categories:["åç«¯","SQL"],tags:[null]},regularPath:"/%E5%90%8E%E7%AB%AF/04.SQL/03.%E6%95%B0%E6%8D%AE%E5%BA%93%E5%AD%98%E5%82%A8%E6%95%B0%E6%8D%AE%E7%9A%84%E7%89%B9%E7%82%B9.html",relativePath:"åç«¯/04.SQL/03.æ°æ®åºå­å¨æ°æ®çç¹ç¹.md",key:"v-31cc3bd2",path:"/pages/d2b3d3/",headersStr:null,content:"# æ°æ®åºå­å¨æ°æ®çç¹ç¹\n\n> å°æ°æ®æ¾å°è¡¨ä¸­ï¼è¡¨åæ¾å°åºä¸­\n> \n> ä¸ä¸ªæ°æ®åºå¯ä»¥æå¤ä¸ªè¡¨ï¼æ¯ä¸ªè¡¨é½æä¸ä¸ªåå­ï¼ç¨æ¥æ è¯èªå·±ãè¡¨åå·æå¯ä¸æ§ã",normalizedContent:"# æ°æ®åºå­å¨æ°æ®çç¹ç¹\n\n> å°æ°æ®æ¾å°è¡¨ä¸­ï¼è¡¨åæ¾å°åºä¸­\n> \n> ä¸ä¸ªæ°æ®åºå¯ä»¥æå¤ä¸ªè¡¨ï¼æ¯ä¸ªè¡¨é½æä¸ä¸ªåå­ï¼ç¨æ¥æ è¯èªå·±ãè¡¨åå·æå¯ä¸æ§ã",charsets:{cjk:!0},lastUpdated:"2022/03/18, 07:01:11",lastUpdatedTimestamp:1647558071e3},{title:"æ°æ®åºç¸å³æ¦å¿µ",frontmatter:{title:"æ°æ®åºç¸å³æ¦å¿µ",date:"2022-03-18T00:52:36.000Z",permalink:"/pages/4b2b60/",categories:["åç«¯","SQL"],tags:[null]},regularPath:"/%E5%90%8E%E7%AB%AF/04.SQL/02.%E6%95%B0%E6%8D%AE%E5%BA%93%E7%9B%B8%E5%85%B3%E6%A6%82%E5%BF%B5.html",relativePath:"åç«¯/04.SQL/02.æ°æ®åºç¸å³æ¦å¿µ.md",key:"v-b2a04030",path:"/pages/4b2b60/",headersStr:null,content:"# æ°æ®åºç¸å³æ¦å¿µ\n\n> DB\n> \n> æ°æ®åº(databese):å­å¨æ°æ®çä»åºãå®ä¿å­äºä¸ç³»åæç»ç»çæ°æ®\n> \n> DBMS\n> \n> æ°æ®åºç®¡çç³»ç»(Datebese Management system)ãæ°æ®åºæ¯éè¿DBMSåå»ºåæä½å®¹å¨\n> \n> SQL\n> \n> ç»æåæ¥è¯¢è¯­è¨(Structure Query Language):ä¸é¨ç¨æ¥ä¸æ°æ®åºéä¿¡çè¯­è¨",normalizedContent:"# æ°æ®åºç¸å³æ¦å¿µ\n\n> db\n> \n> æ°æ®åº(databese):å­å¨æ°æ®çä»åºãå®ä¿å­äºä¸ç³»åæç»ç»çæ°æ®\n> \n> dbms\n> \n> æ°æ®åºç®¡çç³»ç»(datebese management system)ãæ°æ®åºæ¯éè¿dbmsåå»ºåæä½å®¹å¨\n> \n> sql\n> \n> ç»æåæ¥è¯¢è¯­è¨(structure query language):ä¸é¨ç¨æ¥ä¸æ°æ®åºéä¿¡çè¯­è¨",charsets:{cjk:!0},lastUpdated:"2022/03/18, 07:01:11",lastUpdatedTimestamp:1647558071e3},{title:"ç¯å¢åé",frontmatter:{title:"ç¯å¢åé",date:"2022-03-18T00:52:36.000Z",permalink:"/pages/a4dffe/",categories:["åç«¯","SQL"],tags:[null]},regularPath:"/%E5%90%8E%E7%AB%AF/04.SQL/05.%E7%8E%AF%E5%A2%83%E5%8F%98%E9%87%8F.html",relativePath:"åç«¯/04.SQL/05.ç¯å¢åé.md",key:"v-3a8393e0",path:"/pages/a4dffe/",headersStr:null,content:"# ç¯å¢åé\n\n> å¨ç¨æ·éé¢æ·»å  MYSQL_HOME = MYSQLçå®è£ç®å½\n> \n> å¨ç³»ç»åé Path éé¢æ·»å  MYSQL = MYSQLçå®è£ç®å½/bin\n> \n> å³å¯å¨cmdéé¢è¾å¥mysql -uroot -p\n> \n> å¦æ³è¿å¶ä»ä¸»æºmysqlåä½¿ç¨ï¼mysql -hIP -P3306(ç«¯å£) -uroot -på¯ç ",normalizedContent:"# ç¯å¢åé\n\n> å¨ç¨æ·éé¢æ·»å  mysql_home = mysqlçå®è£ç®å½\n> \n> å¨ç³»ç»åé path éé¢æ·»å  mysql = mysqlçå®è£ç®å½/bin\n> \n> å³å¯å¨cmdéé¢è¾å¥mysql -uroot -p\n> \n> å¦æ³è¿å¶ä»ä¸»æºmysqlåä½¿ç¨ï¼mysql -hip -p3306(ç«¯å£) -uroot -på¯ç ",charsets:{cjk:!0},lastUpdated:"2022/03/18, 07:01:11",lastUpdatedTimestamp:1647558071e3},{title:"å½ä»¤ç¬¦æä»¤",frontmatter:{title:"å½ä»¤ç¬¦æä»¤",date:"2022-03-18T00:52:36.000Z",permalink:"/pages/8c64bc/",categories:["åç«¯","SQL"],tags:[null]},regularPath:"/%E5%90%8E%E7%AB%AF/04.SQL/06.%E5%91%BD%E4%BB%A4%E7%AC%A6%E6%8C%87%E4%BB%A4.html",relativePath:"åç«¯/04.SQL/06.å½ä»¤ç¬¦æä»¤.md",key:"v-4e1ae1c0",path:"/pages/8c64bc/",headersStr:null,content:"# å½ä»¤ç¬¦æä»¤\n\n> show databases; æ¥çæ°æ®åº\n> \n> use åºçåå­; è¿å¥æå®çåº\n> \n> show tables; æ¥çæå®åºçè¡¨\n> \n> show tables from åºçåå­; æ¥çæä¸ªåºçè¡¨ï¼ä¸è¿å¥åº\n> \n> select database(); æ¥çå½åå¨é£ä¸ªåº\n> \n> create table è¡¨çåå­( å¨å½ååºåå»ºæ°çè¡¨\n> \n>  1. mysqléé¢æ²¡æå­ç¬¦ä¸²ï¼åå­ç¬¦å¤å­ç¬¦é½å«å­ç¬¦ varchar() æ¬å·éé¢æ§å¶æå¤å°ä¸ªå­ç¬¦\n>     \n>     å¦éè¦éå¶åä¸ªå­ç¬¦ å¯ä»¥å¡« charï¼ æèvarchar(1)\n> \n>  2. datetime, æ¶é´ç±»å\n> \n>  3. int æ°å­ç±»å\n> \n>  4. åå»ºå®è¡¨å¨åé¢å ä¸); ï¼å½ä»¤ç¬¦éé¢é½æ¯ä»¥åå·ä½ç»æå­æ®µ\n> \n> desc è¡¨çåå­; æ¥çè¡¨çç»æ (describe æè¿°)\n> \n> selct * from è¡¨çåå­; æ¥çè¡¨çæ°æ®\n> \n> insert into è¡¨çåå­ values(); å¨è¡¨ä¸­æå¥æ°çæ°æ®ï¼æ¬å·éé¢å¡«å¥è¦æå¥çæ°æ®\n> \n> set names gbk; å¦ææå¥å¤±è´¥å¯è½æ¯ç¼ç é®é¢ï¼å¦ææ¹gbkä¸è¡å°è¯æ¹æutf8\n> \n> update è¡¨çåå­ set åçåå­=âXXXXâ where(ç¸å½äºif) å¶ä¸­ä¸é¡¹åçåå­(å¤æ­æ¡ä»¶);\n> \n> delete from è¡¨çåå­ where åçåå­=âXXXXâ å é¤æå®å\n> \n> alter table è¡¨çåå­ add column åçåå­ æ°æ®ç±»å å¨è¡¨ä¸­æ°å»ºç±»å«å\n> \n> drop table è¡¨çåå­ å é¤æå®è¡¨ç\n> \n> exit; éåº\n> \n> #æ³¨é\n> \n> â- æ³¨é\n> \n> /*æ³¨é* #æ³¨éä¸è½åµå¥",normalizedContent:"# å½ä»¤ç¬¦æä»¤\n\n> show databases; æ¥çæ°æ®åº\n> \n> use åºçåå­; è¿å¥æå®çåº\n> \n> show tables; æ¥çæå®åºçè¡¨\n> \n> show tables from åºçåå­; æ¥çæä¸ªåºçè¡¨ï¼ä¸è¿å¥åº\n> \n> select database(); æ¥çå½åå¨é£ä¸ªåº\n> \n> create table è¡¨çåå­( å¨å½ååºåå»ºæ°çè¡¨\n> \n>  1. mysqléé¢æ²¡æå­ç¬¦ä¸²ï¼åå­ç¬¦å¤å­ç¬¦é½å«å­ç¬¦ varchar() æ¬å·éé¢æ§å¶æå¤å°ä¸ªå­ç¬¦\n>     \n>     å¦éè¦éå¶åä¸ªå­ç¬¦ å¯ä»¥å¡« charï¼ æèvarchar(1)\n> \n>  2. datetime, æ¶é´ç±»å\n> \n>  3. int æ°å­ç±»å\n> \n>  4. åå»ºå®è¡¨å¨åé¢å ä¸); ï¼å½ä»¤ç¬¦éé¢é½æ¯ä»¥åå·ä½ç»æå­æ®µ\n> \n> desc è¡¨çåå­; æ¥çè¡¨çç»æ (describe æè¿°)\n> \n> selct * from è¡¨çåå­; æ¥çè¡¨çæ°æ®\n> \n> insert into è¡¨çåå­ values(); å¨è¡¨ä¸­æå¥æ°çæ°æ®ï¼æ¬å·éé¢å¡«å¥è¦æå¥çæ°æ®\n> \n> set names gbk; å¦ææå¥å¤±è´¥å¯è½æ¯ç¼ç é®é¢ï¼å¦ææ¹gbkä¸è¡å°è¯æ¹æutf8\n> \n> update è¡¨çåå­ set åçåå­=âxxxxâ where(ç¸å½äºif) å¶ä¸­ä¸é¡¹åçåå­(å¤æ­æ¡ä»¶);\n> \n> delete from è¡¨çåå­ where åçåå­=âxxxxâ å é¤æå®å\n> \n> alter table è¡¨çåå­ add column åçåå­ æ°æ®ç±»å å¨è¡¨ä¸­æ°å»ºç±»å«å\n> \n> drop table è¡¨çåå­ å é¤æå®è¡¨ç\n> \n> exit; éåº\n> \n> #æ³¨é\n> \n> â- æ³¨é\n> \n> /*æ³¨é* #æ³¨éä¸è½åµå¥",charsets:{cjk:!0},lastUpdated:"2022/03/18, 07:01:11",lastUpdatedTimestamp:1647558071e3},{title:"æ°æ®åº",frontmatter:{title:"æ°æ®åº",date:"2022-03-18T00:52:36.000Z",permalink:"/pages/04fedb/",categories:["åç«¯","SQL"],tags:[null]},regularPath:"/%E5%90%8E%E7%AB%AF/04.SQL/08.%E6%95%B0%E6%8D%AE%E5%BA%93.html",relativePath:"åç«¯/04.SQL/08.æ°æ®åº.md",key:"v-3049bd10",path:"/pages/04fedb/",headersStr:null,content:"# æ°æ®åº\n\n * æ¥è¯¢æææ°æ®åº show database;\n * æ¥è¯¢æ°æ®åºåå»ºæ¶çè¯­å¥ show create database æ°æ®åºå;\n * åå»ºæ°æ®åº create database æ°æ®åºå;\n * åå»ºæ¶å¤æ­æ¯å¦å­å¨ create database if not exists æ°æ®åºå;\n * æå®å­ç¬¦ create database æ°æ®åºå character set utf8;\n * ä¿®æ¹æ°æ®åºå­ç¬¦ alter database æ°æ®åºå character utf8;\n * å é¤æ°æ®åº drop database æ°æ®åºå;\n * å é¤å¤æ­ drop database if exists æ°æ®åºå;\n * ä½¿ç¨æ°æ®åº use æ°æ®åºå;\n * å½åæ°æ®åº select database();",normalizedContent:"# æ°æ®åº\n\n * æ¥è¯¢æææ°æ®åº show database;\n * æ¥è¯¢æ°æ®åºåå»ºæ¶çè¯­å¥ show create database æ°æ®åºå;\n * åå»ºæ°æ®åº create database æ°æ®åºå;\n * åå»ºæ¶å¤æ­æ¯å¦å­å¨ create database if not exists æ°æ®åºå;\n * æå®å­ç¬¦ create database æ°æ®åºå character set utf8;\n * ä¿®æ¹æ°æ®åºå­ç¬¦ alter database æ°æ®åºå character utf8;\n * å é¤æ°æ®åº drop database æ°æ®åºå;\n * å é¤å¤æ­ drop database if exists æ°æ®åºå;\n * ä½¿ç¨æ°æ®åº use æ°æ®åºå;\n * å½åæ°æ®åº select database();",charsets:{cjk:!0},lastUpdated:"2022/03/18, 07:01:11",lastUpdatedTimestamp:1647558071e3},{title:"SQLè¯­å¥",frontmatter:{title:"SQLè¯­å¥",date:"2022-03-18T00:52:36.000Z",permalink:"/pages/4c9417/",categories:["åç«¯","SQL"],tags:[null]},regularPath:"/%E5%90%8E%E7%AB%AF/04.SQL/07.SQL%E8%AF%AD%E5%8F%A5.html",relativePath:"åç«¯/04.SQL/07.SQLè¯­å¥.md",key:"v-2b35c500",path:"/pages/4c9417/",headersStr:null,content:"# SQLè¯­å¥\n\nSQLåºæ¬å¯ä»¥ç¨å¨ææå³ç³»åæ°æ®åºä¸­ï¼é¤äºæäºç¹æçæä»¤\n\nDDL(Data Definition Language):æ°æ®å®ä¹è¯­è¨ï¼ç¨æ¥å®ä¹æ°æ®åºå¯¹è±¡:åºãè¡¨ãåç­ï¼ å¸¸è§æä»¤æ:create/drop/alter\n\nDML(Data Manipulation language):æ°æ®æä½è¯­è¨ï¼ç¨æ¥å®ä¹æ°æ®åºè®°å½(æ°æ®)ï¼ Insert/updata/delete\n\nDCL(Data Control Language):æ°æ®æ§å¶è¯­è¨ï¼ç¨æ¥å®ä¹è®¿é®æéåå®å¨çº§å«ï¼\n\nTCL(Transaction Control Language)\n\nDQL(Data Query Language):æ°æ®æ¥è¯¢è¯­è¨ï¼ç¨æ¥æ¥è¯¢è®°å½(æ°æ®)ã select",normalizedContent:"# sqlè¯­å¥\n\nsqlåºæ¬å¯ä»¥ç¨å¨ææå³ç³»åæ°æ®åºä¸­ï¼é¤äºæäºç¹æçæä»¤\n\nddl(data definition language):æ°æ®å®ä¹è¯­è¨ï¼ç¨æ¥å®ä¹æ°æ®åºå¯¹è±¡:åºãè¡¨ãåç­ï¼ å¸¸è§æä»¤æ:create/drop/alter\n\ndml(data manipulation language):æ°æ®æä½è¯­è¨ï¼ç¨æ¥å®ä¹æ°æ®åºè®°å½(æ°æ®)ï¼ insert/updata/delete\n\ndcl(data control language):æ°æ®æ§å¶è¯­è¨ï¼ç¨æ¥å®ä¹è®¿é®æéåå®å¨çº§å«ï¼\n\ntcl(transaction control language)\n\ndql(data query language):æ°æ®æ¥è¯¢è¯­è¨ï¼ç¨æ¥æ¥è¯¢è®°å½(æ°æ®)ã select",charsets:{cjk:!0},lastUpdated:"2022/03/18, 07:01:11",lastUpdatedTimestamp:1647558071e3},{title:"çº¦æ",frontmatter:{title:"çº¦æ",date:"2022-03-18T00:52:36.000Z",permalink:"/pages/de8702/",categories:["åç«¯","SQL"],tags:[null]},regularPath:"/%E5%90%8E%E7%AB%AF/04.SQL/10.%E7%BA%A6%E6%9D%9F.html",relativePath:"åç«¯/04.SQL/10.çº¦æ.md",key:"v-64db6885",path:"/pages/de8702/",headersStr:null,content:"# çº¦æ\n\n\n\n * ä¸»é®çº¦æ é»è®¤åå«éç©ºåå¯ä¸ ä¸å¼ è¡¨åªæä¸ä¸ªä¸»é®\n   \n   * åå»º create table è¡¨å (åå æ°æ®ç±»å primary key)\n   * å é¤pk alter table è¡¨å drop primary key;\n   * å»ºè¡¨åæ·»å ä¸»é® alter table è¡¨å modify åå æ°æ®ç±»å primary key;\n\n * èªå¢çº¦æ å¿é¡»è¦éåå¶ä»çº¦æä¸èµ·ä½¿ç¨ å¦ä¸»é®\n   \n   * åå»º create table è¡¨å(åå æ°æ®ç±»å primary key auto_increment);\n   * å é¤ alter table è¡¨å modify åå æ°æ®ç±»å\n   * å»ºè¡¨åæ·»å  alter table è¡¨å modify åå æ°æ®ç±»å auto_increment;\n\n * å¯ä¸çº¦æ ä¸éå¤\n   \n   * åå»º create table è¡¨å(åå æ°æ®ç±»å unique);\n   * å é¤ alter table è¡¨å drop index åå;\n   * å»ºè¡¨åæ·»å  alter table è¡¨å modify åå æ°æ®ç±»å unique;\n\n * éç©ºçº¦æ ä¸åè®¸ä¸ºNULL\n   \n   * åå»º create table è¡¨å(åå æ°æ®ç±»å not null);\n   * å é¤ alter table è¡¨å modify åå æ°æ®ç±»å;\n   * å»ºè¡¨åæ·»å  alter table è¡¨å modify åå æ°æ®ç±»å not null;\n\n * å¤é®çº¦æ è¡¨ä¸è¡¨ä¹é´æå³èæ§ ä¿è¯æ°æ®çåç¡®æ§\n   \n   * åå»º create table è¡¨å(åå æ°æ®ç±»å çº¦æ) constraint å¤é®å foreign key (æ¬è¡¨å¤é®åå) references ä¸»è¡¨å(ä¸»è¡¨ä¸»é®åå);\n   * å é¤ alter table è¡¨ådrop foreign key å¤é®å;\n   * å»ºè¡¨åæ·»å  alter table è¡¨å add constraint å¤é®å foreign key (æ¬è¡¨å¤é®åå) references ä¸»è¡¨å(ä¸»è¡¨ä¸»é®åå);\n\n * å¤é®çº§èæ´æ° å½ä¸»è¡¨çä¸»é®æ´æ°æ¶ ä»è¡¨çå¤é®ä¹æ´æ°\n   \n   * alter table è¡¨å add constraint å¤é®å foreign key (æ¬è¡¨å¤é®åå) references ä¸»è¡¨å(ä¸»è¡¨ä¸»é®åå) on update cascade;\n\n * å¤é®çº§èå é¤ å½ä¸»è¡¨çä¸»é®å é¤æ¶ ä»è¡¨çå¤é®ä¹å é¤\n   \n   * alter table è¡¨å add constraint å¤é®å foreign key (æ¬è¡¨å¤é®åå) references ä¸»è¡¨å(ä¸»è¡¨ä¸»é®åå) on delete cascade;\n\n * çº§èåæ¶æ´æ°åå é¤\n   \n   * alter table è¡¨å add constraint å¤é®å foreign key (æ¬è¡¨å¤é®åå) references ä¸»è¡¨å(ä¸»è¡¨ä¸»é®åå) on update cascade on delete cascade;",normalizedContent:"# çº¦æ\n\n\n\n * ä¸»é®çº¦æ é»è®¤åå«éç©ºåå¯ä¸ ä¸å¼ è¡¨åªæä¸ä¸ªä¸»é®\n   \n   * åå»º create table è¡¨å (åå æ°æ®ç±»å primary key)\n   * å é¤pk alter table è¡¨å drop primary key;\n   * å»ºè¡¨åæ·»å ä¸»é® alter table è¡¨å modify åå æ°æ®ç±»å primary key;\n\n * èªå¢çº¦æ å¿é¡»è¦éåå¶ä»çº¦æä¸èµ·ä½¿ç¨ å¦ä¸»é®\n   \n   * åå»º create table è¡¨å(åå æ°æ®ç±»å primary key auto_increment);\n   * å é¤ alter table è¡¨å modify åå æ°æ®ç±»å\n   * å»ºè¡¨åæ·»å  alter table è¡¨å modify åå æ°æ®ç±»å auto_increment;\n\n * å¯ä¸çº¦æ ä¸éå¤\n   \n   * åå»º create table è¡¨å(åå æ°æ®ç±»å unique);\n   * å é¤ alter table è¡¨å drop index åå;\n   * å»ºè¡¨åæ·»å  alter table è¡¨å modify åå æ°æ®ç±»å unique;\n\n * éç©ºçº¦æ ä¸åè®¸ä¸ºnull\n   \n   * åå»º create table è¡¨å(åå æ°æ®ç±»å not null);\n   * å é¤ alter table è¡¨å modify åå æ°æ®ç±»å;\n   * å»ºè¡¨åæ·»å  alter table è¡¨å modify åå æ°æ®ç±»å not null;\n\n * å¤é®çº¦æ è¡¨ä¸è¡¨ä¹é´æå³èæ§ ä¿è¯æ°æ®çåç¡®æ§\n   \n   * åå»º create table è¡¨å(åå æ°æ®ç±»å çº¦æ) constraint å¤é®å foreign key (æ¬è¡¨å¤é®åå) references ä¸»è¡¨å(ä¸»è¡¨ä¸»é®åå);\n   * å é¤ alter table è¡¨ådrop foreign key å¤é®å;\n   * å»ºè¡¨åæ·»å  alter table è¡¨å add constraint å¤é®å foreign key (æ¬è¡¨å¤é®åå) references ä¸»è¡¨å(ä¸»è¡¨ä¸»é®åå);\n\n * å¤é®çº§èæ´æ° å½ä¸»è¡¨çä¸»é®æ´æ°æ¶ ä»è¡¨çå¤é®ä¹æ´æ°\n   \n   * alter table è¡¨å add constraint å¤é®å foreign key (æ¬è¡¨å¤é®åå) references ä¸»è¡¨å(ä¸»è¡¨ä¸»é®åå) on update cascade;\n\n * å¤é®çº§èå é¤ å½ä¸»è¡¨çä¸»é®å é¤æ¶ ä»è¡¨çå¤é®ä¹å é¤\n   \n   * alter table è¡¨å add constraint å¤é®å foreign key (æ¬è¡¨å¤é®åå) references ä¸»è¡¨å(ä¸»è¡¨ä¸»é®åå) on delete cascade;\n\n * çº§èåæ¶æ´æ°åå é¤\n   \n   * alter table è¡¨å add constraint å¤é®å foreign key (æ¬è¡¨å¤é®åå) references ä¸»è¡¨å(ä¸»è¡¨ä¸»é®åå) on update cascade on delete cascade;",charsets:{cjk:!0},lastUpdated:"2022/03/18, 07:01:11",lastUpdatedTimestamp:1647558071e3},{title:"å¤è¡¨æä½",frontmatter:{title:"å¤è¡¨æä½",date:"2022-03-18T00:52:36.000Z",permalink:"/pages/89e8d8/",categories:["åç«¯","SQL"],tags:[null]},regularPath:"/%E5%90%8E%E7%AB%AF/04.SQL/11.%E5%A4%9A%E8%A1%A8%E6%93%8D%E4%BD%9C.html",relativePath:"åç«¯/04.SQL/11.å¤è¡¨æä½.md",key:"v-16aed12b",path:"/pages/89e8d8/",headers:[{level:2,title:"åè¿æ¥æ¥è¯¢",slug:"åè¿æ¥æ¥è¯¢",normalizedTitle:"åè¿æ¥æ¥è¯¢",charIndex:93},{level:2,title:"å¤è¿æ¥æ¥è¯¢",slug:"å¤è¿æ¥æ¥è¯¢",normalizedTitle:"å¤è¿æ¥æ¥è¯¢",charIndex:243},{level:3,title:"å·¦å¤è¿æ¥",slug:"å·¦å¤è¿æ¥",normalizedTitle:"å·¦å¤è¿æ¥",charIndex:253},{level:3,title:"å³å¤è¿æ¥",slug:"å³å¤è¿æ¥",normalizedTitle:"å³å¤è¿æ¥",charIndex:359},{level:2,title:"å­æ¥è¯¢",slug:"å­æ¥è¯¢",normalizedTitle:"å­æ¥è¯¢",charIndex:467},{level:2,title:"èªå³èæ¥è¯¢",slug:"èªå³èæ¥è¯¢",normalizedTitle:"èªå³èæ¥è¯¢",charIndex:588}],headersStr:"åè¿æ¥æ¥è¯¢ å¤è¿æ¥æ¥è¯¢ å·¦å¤è¿æ¥ å³å¤è¿æ¥ å­æ¥è¯¢ èªå³èæ¥è¯¢",content:"# å¤è¡¨æä½\n\n * ä¸å¯¹ä¸ ä¸»é®åå¤é® å¯ä¸æ§(ä¸å¯éå¤)\n * ä¸å¯¹å¤ å¤é® å¯éå¤\n * å¤å¯¹å¤ éè¦åå©ç¬¬ä¸å¼ è¡¨ä¸­é´è¡¨ ä¸­é´è¡¨è³å°åå«ä¸¤åä½ä¸ºå¤é® åå«å³èä¸¤å¼ è¡¨çä¸»é®\n\n\n# åè¿æ¥æ¥è¯¢\n\nåè¿æ¥æ¥è¯¢çæ¯ä¸¤å¼ è¡¨æäº¤éçé¨åæ°æ®ï¼æä¸»å¤é®å³èçæ°æ®ï¼ ä½¿ç¨ inner join å³é®å­\n\n * æ¾å¼æ¥è¯¢ select åå from è¡¨å1 inner join è¡¨å2 on æ¡ä»¶ï¼\n * éå¼æ¥è¯¢ select åå from è¡¨å1ï¼è¡¨å2 where æ¡ä»¶ï¼\n\n\n# å¤è¿æ¥æ¥è¯¢\n\n\n# å·¦å¤è¿æ¥\n\næ¥è¯¢å·¦è¡¨çå¨é¨æ°æ®ï¼åå·¦å³ä¸¤å¼ è¡¨æäº¤éé¨åçæ°æ®ã ä½¿ç¨ å³é®å­ left outer join\n\nselect åå from è¡¨å1 left outer join è¡¨å2 on æ¡ä»¶ï¼\n\n\n# å³å¤è¿æ¥\n\næ¥è¯¢å³è¡¨çå¨é¨æ°æ®ï¼åå·¦å³ä¸¤å¼ è¡¨æäº¤éé¨åçæ°æ®ã ä½¿ç¨ å³é®å­ right outer join\n\nselect åå from è¡¨å1 right outer join è¡¨å2 on æ¡ä»¶ï¼\n\n\n# å­æ¥è¯¢\n\næ¥è¯¢è¯­å¥ä¸­åµå¥äºæ¥è¯¢è¯­å¥ï¼æä»¬ç§°ä¸ºå­æ¥è¯¢\n\n * ç»ææ¯åè¡åå å¯ä»¥å°ç»æå ä¸è¿ç®ç¬¦ä½ä¸ºå¦å¤ä¸æ¡çæ¥è¯¢æ¡ä»¶\n * ç»ææ¯å¤è¡åå ä½¿ç¨è¿ç®ç¬¦ in æè not inè¿è¡å¤æ­\n * ç»ææ¯å¤è¡å¤å ä½ä¸ºä¸å¼ èæè¡¨åä¸æ¥è¯¢\n\n\n# èªå³èæ¥è¯¢\n\nå¨åä¸å¼ è¡¨ä¸­æ°æ®æå³èæ§ï¼æä»¬å¯ä»¥å½æå¤ä¸ªè¡¨æ¥æ¥è¯¢\n\néååå¤è¿æ¥ä½¿ç¨",normalizedContent:"# å¤è¡¨æä½\n\n * ä¸å¯¹ä¸ ä¸»é®åå¤é® å¯ä¸æ§(ä¸å¯éå¤)\n * ä¸å¯¹å¤ å¤é® å¯éå¤\n * å¤å¯¹å¤ éè¦åå©ç¬¬ä¸å¼ è¡¨ä¸­é´è¡¨ ä¸­é´è¡¨è³å°åå«ä¸¤åä½ä¸ºå¤é® åå«å³èä¸¤å¼ è¡¨çä¸»é®\n\n\n# åè¿æ¥æ¥è¯¢\n\nåè¿æ¥æ¥è¯¢çæ¯ä¸¤å¼ è¡¨æäº¤éçé¨åæ°æ®ï¼æä¸»å¤é®å³èçæ°æ®ï¼ ä½¿ç¨ inner join å³é®å­\n\n * æ¾å¼æ¥è¯¢ select åå from è¡¨å1 inner join è¡¨å2 on æ¡ä»¶ï¼\n * éå¼æ¥è¯¢ select åå from è¡¨å1ï¼è¡¨å2 where æ¡ä»¶ï¼\n\n\n# å¤è¿æ¥æ¥è¯¢\n\n\n# å·¦å¤è¿æ¥\n\næ¥è¯¢å·¦è¡¨çå¨é¨æ°æ®ï¼åå·¦å³ä¸¤å¼ è¡¨æäº¤éé¨åçæ°æ®ã ä½¿ç¨ å³é®å­ left outer join\n\nselect åå from è¡¨å1 left outer join è¡¨å2 on æ¡ä»¶ï¼\n\n\n# å³å¤è¿æ¥\n\næ¥è¯¢å³è¡¨çå¨é¨æ°æ®ï¼åå·¦å³ä¸¤å¼ è¡¨æäº¤éé¨åçæ°æ®ã ä½¿ç¨ å³é®å­ right outer join\n\nselect åå from è¡¨å1 right outer join è¡¨å2 on æ¡ä»¶ï¼\n\n\n# å­æ¥è¯¢\n\næ¥è¯¢è¯­å¥ä¸­åµå¥äºæ¥è¯¢è¯­å¥ï¼æä»¬ç§°ä¸ºå­æ¥è¯¢\n\n * ç»ææ¯åè¡åå å¯ä»¥å°ç»æå ä¸è¿ç®ç¬¦ä½ä¸ºå¦å¤ä¸æ¡çæ¥è¯¢æ¡ä»¶\n * ç»ææ¯å¤è¡åå ä½¿ç¨è¿ç®ç¬¦ in æè not inè¿è¡å¤æ­\n * ç»ææ¯å¤è¡å¤å ä½ä¸ºä¸å¼ èæè¡¨åä¸æ¥è¯¢\n\n\n# èªå³èæ¥è¯¢\n\nå¨åä¸å¼ è¡¨ä¸­æ°æ®æå³èæ§ï¼æä»¬å¯ä»¥å½æå¤ä¸ªè¡¨æ¥æ¥è¯¢\n\néååå¤è¿æ¥ä½¿ç¨",charsets:{cjk:!0},lastUpdated:"2022/03/18, 07:01:11",lastUpdatedTimestamp:1647558071e3},{title:"è¡¨",frontmatter:{title:"è¡¨",date:"2022-03-18T00:52:36.000Z",permalink:"/pages/5a2265/",categories:["åç«¯","SQL"],tags:[null]},regularPath:"/%E5%90%8E%E7%AB%AF/04.SQL/09.%E8%A1%A8.html",relativePath:"åç«¯/04.SQL/09.è¡¨.md",key:"v-6265be4e",path:"/pages/5a2265/",headers:[{level:2,title:"æ°æ®ç±»å",slug:"æ°æ®ç±»å",normalizedTitle:"æ°æ®ç±»å",charIndex:206},{level:2,title:"è¡¨æ°æ®æä½",slug:"è¡¨æ°æ®æä½",normalizedTitle:"è¡¨æ°æ®æä½",charIndex:581},{level:2,title:"æ¥è¯¢",slug:"æ¥è¯¢",normalizedTitle:"æ¥è¯¢",charIndex:8},{level:2,title:"éåå½æ°",slug:"éåå½æ°",normalizedTitle:"éåå½æ°",charIndex:847},{level:2,title:"æåºæ¥è¯¢",slug:"æåºæ¥è¯¢",normalizedTitle:"æåºæ¥è¯¢",charIndex:888},{level:2,title:"åç»æ¥è¯¢",slug:"åç»æ¥è¯¢",normalizedTitle:"åç»æ¥è¯¢",charIndex:1023},{level:2,title:"åé¡µæ¥è¯¢",slug:"åé¡µæ¥è¯¢",normalizedTitle:"åé¡µæ¥è¯¢",charIndex:1118}],headersStr:"æ°æ®ç±»å è¡¨æ°æ®æä½ æ¥è¯¢ éåå½æ° æåºæ¥è¯¢ åç»æ¥è¯¢ åé¡µæ¥è¯¢",content:"# è¡¨\n\n * æ¥è¯¢è¡¨ show tables;\n * æ¥è¯¢è¡¨ç»æ desc è¡¨å;\n * æ¥è¯¢è¡¨å­ç¬¦é show table status from åºå like 'è¡¨å';\n * ä¿®æ¹è¡¨å clter table è¡¨å rename to æ°è¡¨å;\n * ä¿®æ¹è¡¨çå­ç¬¦é alter table è¡¨å character set utf8;\n * åç¬æ·»å ä¸å alter table è¡¨å add åå æ°æ®ç±»å;\n * ä¿®æ¹æå®åç±»å alter table è¡¨å modify åå æ°æ°æ®ç±»å;\n * ä¿®æ¹åååæ°æ®ç±»å alter table è¡¨å change åå æ°åå æ°æ°æ®ç±»å;\n * å é¤æä¸å alter table è¡¨å drop åå;\n * å é¤è¡¨ drop table è¡¨å;\n * å é¤å¤æ­ drop table if exists è¡¨å;\n\n\n# æ°æ®ç±»å\n\n * int æ´æ°å\n * douban å°æ°\n * date æ¥æç±»å yyyy-MM-dd\n * datetime æ¥ææ¶é´ç±»å yyyy-MM-dd HH:mm:ss\n * timestamp æ¶é´æ³ç±»å yyyy-MM-dd HH:mm:ss å¦æä¸èµå¼æèµå¼ä¸ºnull åä½¿ç¨å½åç³»ç»æ¶é´èªå¨èµå¼\n * varchar(é¿åº¦) å­ç¬¦ä¸²ç±»å\n\n\n# è¡¨æ°æ®æä½\n\n * æ·»å æ°æ® insert into è¡¨å(åå) values(å¼1,å¼2);\n * æ´æ° update è¡¨å set åå=å¼1,åå2=å¼2 where\n * å é¤è¡¨æå®æ°æ® delete from è¡¨å where\n\n\n# æ¥è¯¢\n\n * å»éå¤ select distinct åå1,åå2 from è¡¨å;\n * ååè¿ç® select åå1*10 frome è¡¨å;\n * èµ·å«å select åè¡¨ as å«å from è¡¨å;\n * å¤æ­null ifnull(åå,æ¿æ¢çå¼)\n * \n\n\n# éåå½æ°\n\n\n\nselect å½æ°å(åå) from è¡¨å where\n\n\n# æåºæ¥è¯¢\n\n * ORDER BY select åå frome è¡¨å where order by åå æåºæ¹å¼,åå2 æåºæ¹å¼\n   \n   * ASC ååº é»è®¤å¼ å¦ææ¯å¤ä¸ªæ¡ä»¶ åªæå½å¤æ­å¼ä¸æ ·æ¶æä¼æ§è¡ç¬¬äºä¸ªæ¡ä»¶æåº\n   * DESC éåº\n\n\n# åç»æ¥è¯¢\n\n * GROUP BY select åå from è¡¨å group by æå®ä»¥ä»ä¹åç»çåå\n   * åç»åè¿æ»¤ where\n   * åç»åè¿æ»¤ having\n\n\n# åé¡µæ¥è¯¢\n\n * LIMIT select åå from è¡¨å LIMIT å½åé¡µ,æ¯é¡µä¸ªæ°\n   * å½åé¡µ = (å½åé¡µ - 1 ) * æ¯é¡µä¸ªæ°",normalizedContent:"# è¡¨\n\n * æ¥è¯¢è¡¨ show tables;\n * æ¥è¯¢è¡¨ç»æ desc è¡¨å;\n * æ¥è¯¢è¡¨å­ç¬¦é show table status from åºå like 'è¡¨å';\n * ä¿®æ¹è¡¨å clter table è¡¨å rename to æ°è¡¨å;\n * ä¿®æ¹è¡¨çå­ç¬¦é alter table è¡¨å character set utf8;\n * åç¬æ·»å ä¸å alter table è¡¨å add åå æ°æ®ç±»å;\n * ä¿®æ¹æå®åç±»å alter table è¡¨å modify åå æ°æ°æ®ç±»å;\n * ä¿®æ¹åååæ°æ®ç±»å alter table è¡¨å change åå æ°åå æ°æ°æ®ç±»å;\n * å é¤æä¸å alter table è¡¨å drop åå;\n * å é¤è¡¨ drop table è¡¨å;\n * å é¤å¤æ­ drop table if exists è¡¨å;\n\n\n# æ°æ®ç±»å\n\n * int æ´æ°å\n * douban å°æ°\n * date æ¥æç±»å yyyy-mm-dd\n * datetime æ¥ææ¶é´ç±»å yyyy-mm-dd hh:mm:ss\n * timestamp æ¶é´æ³ç±»å yyyy-mm-dd hh:mm:ss å¦æä¸èµå¼æèµå¼ä¸ºnull åä½¿ç¨å½åç³»ç»æ¶é´èªå¨èµå¼\n * varchar(é¿åº¦) å­ç¬¦ä¸²ç±»å\n\n\n# è¡¨æ°æ®æä½\n\n * æ·»å æ°æ® insert into è¡¨å(åå) values(å¼1,å¼2);\n * æ´æ° update è¡¨å set åå=å¼1,åå2=å¼2 where\n * å é¤è¡¨æå®æ°æ® delete from è¡¨å where\n\n\n# æ¥è¯¢\n\n * å»éå¤ select distinct åå1,åå2 from è¡¨å;\n * ååè¿ç® select åå1*10 frome è¡¨å;\n * èµ·å«å select åè¡¨ as å«å from è¡¨å;\n * å¤æ­null ifnull(åå,æ¿æ¢çå¼)\n * \n\n\n# éåå½æ°\n\n\n\nselect å½æ°å(åå) from è¡¨å where\n\n\n# æåºæ¥è¯¢\n\n * order by select åå frome è¡¨å where order by åå æåºæ¹å¼,åå2 æåºæ¹å¼\n   \n   * asc ååº é»è®¤å¼ å¦ææ¯å¤ä¸ªæ¡ä»¶ åªæå½å¤æ­å¼ä¸æ ·æ¶æä¼æ§è¡ç¬¬äºä¸ªæ¡ä»¶æåº\n   * desc éåº\n\n\n# åç»æ¥è¯¢\n\n * group by select åå from è¡¨å group by æå®ä»¥ä»ä¹åç»çåå\n   * åç»åè¿æ»¤ where\n   * åç»åè¿æ»¤ having\n\n\n# åé¡µæ¥è¯¢\n\n * limit select åå from è¡¨å limit å½åé¡µ,æ¯é¡µä¸ªæ°\n   * å½åé¡µ = (å½åé¡µ - 1 ) * æ¯é¡µä¸ªæ°",charsets:{cjk:!0},lastUpdated:"2022/03/18, 07:01:11",lastUpdatedTimestamp:1647558071e3},{title:"MySQL å­å¨è¿ç¨åå½æ°",frontmatter:{title:"MySQL å­å¨è¿ç¨åå½æ°",date:"2022-03-18T00:52:35.000Z",permalink:"/pages/336822/",categories:["åç«¯","SQL"],tags:[null]},regularPath:"/%E5%90%8E%E7%AB%AF/04.SQL/14.MySQL%20%E5%AD%98%E5%82%A8%E8%BF%87%E7%A8%8B%E5%92%8C%E5%87%BD%E6%95%B0.html",relativePath:"åç«¯/04.SQL/14.MySQL å­å¨è¿ç¨åå½æ°.md",key:"v-d9c864d4",path:"/pages/336822/",headers:[{level:2,title:"å­å¨è¿ç¨",slug:"å­å¨è¿ç¨",normalizedTitle:"å­å¨è¿ç¨",charIndex:8},{level:3,title:"åé",slug:"åé",normalizedTitle:"åé",charIndex:511},{level:3,title:"ifè¯­å¥",slug:"ifè¯­å¥",normalizedTitle:"ifè¯­å¥",charIndex:624},{level:3,title:"ä¼ å",slug:"ä¼ å",normalizedTitle:"ä¼ å",charIndex:711},{level:3,title:"while å¾ªç¯",slug:"while-å¾ªç¯",normalizedTitle:"while å¾ªç¯",charIndex:930},{level:2,title:"å­å¨å½æ°",slug:"å­å¨å½æ°",normalizedTitle:"å­å¨å½æ°",charIndex:26}],headersStr:"å­å¨è¿ç¨ åé ifè¯­å¥ ä¼ å while å¾ªç¯ å­å¨å½æ°",content:"# MySQL å­å¨è¿ç¨åå½æ°\n\nç¸å¯¹åºå½æ°/æ¹æ³ï¼å­å¨å½æ°å¿é¡»æè¿åå¼ï¼å­å¨è¿ç¨å¯ä»¥æ²¡æè¿åå¼\n\n\n# å­å¨è¿ç¨\n\nå­å¨è¿ç¨å¯ä»¥æ²¡æè¿åå¼\n\n-- ä¿®æ¹ç»æåéç¬¦è¿éæå®ä¸º$ å¯ä»¥èªå®ä¹\ndelimiter $\n\n-- åå»ºå­å¨è¿ç¨\ncreate procedure å­å¨è¿ç¨åç§°(åæ°åè¡¨[å¯ä¸ºç©º]\nbegin\n                        sql è¯­å¥;\nend$\n                        \n-- æ¢å¤ç»æåå²ç¬¦ä¸ºåå·\ndelimiter;\n           \n-- è°ç¨å­å¨è¿ç¨\ncall å­å¨è¿ç¨åç§°(åæ°);\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n\n\n * æ¥è¯¢æ°æ®ä¸­ææçå­å¨ è¿ç¨ å¿é¡»æ¯rootæéç¨æ·\n   \n   * select * from mysql.proc where db='æ°æ®åºåç§°';\n     \n     \n     1\n     \n\n * å é¤å­å¨è¿ç¨\n   \n   * drop procedure [if exists] å­å¨è¿ç¨åç§°;\n     \n     \n     1\n     \n\n\n# åé\n\n * å®ä¹åé declare åéå æ°æ®ç±»å [default é»è®¤å¼];\n * èµå¼ set åéå = å¼;\n * èµå¼2 select åå into åéå from è¡¨å [where æ¡ä»¶];\n\n\n# ifè¯­å¥\n\nif å¤æ­æ¡ä»¶1 then sqlè¯­å¥;\nelseif å¤æ­æ¡ä»¶2 then sqlè¯­å¥;\nelse sqlè¯­å¥;\nend if;\n\n\n1\n2\n3\n4\n\n\n\n# ä¼ å\n\n * IN é»è®¤å¼ è¾å¥åæ°å³é®å­ ç±è°ç¨èä¼ éå®å\n * OUT è¾åºåæ°,ä½ä¸ºè¿åå¼è¿å\n * INOUT å³å¯ä»¥ä¸ºè¾å¥ä¹å¯ä»¥ä¸ºè¾åº\n\ncreate procedure å­å¨è¿ç¨å([IN|OUT|INOUT] åæ°å æ°æ®ç±»å)\nBEGIN\n\t\t\tSQL è¯­å¥;\nEND$\n\n-- è°ç¨\ncall å­å¨è¿ç¨å(@è¾åºåæ°å);\n-- æ¥è¯¢è¿åå¼\nselect @è¾åºåæ°å\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n\n\n\n# while å¾ªç¯\n\nwhile å¤æ­è¯­å¥ do\n\tå¾ªç¯ä½è¯­å¥;\nend while;\n\n\n1\n2\n3\n\n\n\n# å­å¨å½æ°\n\nå­å¨å½æ°å¿é¡»è¦æè¿åå¼ å³æoutåæ°\n\ndelimiter $\ncreate function å½æ°åç§°(åæ°åè¡¨)\nreturns è¿åå¼ç±»å\nbegin\n\tsqlè¯­å¥;\n\treturn è¿åå¼;\nend$\ndelimiter ;\n\n-- è°ç¨\nselect å½æ°åç§°(å®éåæ°);\n\n\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n\n * å é¤å½æ° drop function å½æ°å;",normalizedContent:"# mysql å­å¨è¿ç¨åå½æ°\n\nç¸å¯¹åºå½æ°/æ¹æ³ï¼å­å¨å½æ°å¿é¡»æè¿åå¼ï¼å­å¨è¿ç¨å¯ä»¥æ²¡æè¿åå¼\n\n\n# å­å¨è¿ç¨\n\nå­å¨è¿ç¨å¯ä»¥æ²¡æè¿åå¼\n\n-- ä¿®æ¹ç»æåéç¬¦è¿éæå®ä¸º$ å¯ä»¥èªå®ä¹\ndelimiter $\n\n-- åå»ºå­å¨è¿ç¨\ncreate procedure å­å¨è¿ç¨åç§°(åæ°åè¡¨[å¯ä¸ºç©º]\nbegin\n                        sql è¯­å¥;\nend$\n                        \n-- æ¢å¤ç»æåå²ç¬¦ä¸ºåå·\ndelimiter;\n           \n-- è°ç¨å­å¨è¿ç¨\ncall å­å¨è¿ç¨åç§°(åæ°);\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n\n\n * æ¥è¯¢æ°æ®ä¸­ææçå­å¨ è¿ç¨ å¿é¡»æ¯rootæéç¨æ·\n   \n   * select * from mysql.proc where db='æ°æ®åºåç§°';\n     \n     \n     1\n     \n\n * å é¤å­å¨è¿ç¨\n   \n   * drop procedure [if exists] å­å¨è¿ç¨åç§°;\n     \n     \n     1\n     \n\n\n# åé\n\n * å®ä¹åé declare åéå æ°æ®ç±»å [default é»è®¤å¼];\n * èµå¼ set åéå = å¼;\n * èµå¼2 select åå into åéå from è¡¨å [where æ¡ä»¶];\n\n\n# ifè¯­å¥\n\nif å¤æ­æ¡ä»¶1 then sqlè¯­å¥;\nelseif å¤æ­æ¡ä»¶2 then sqlè¯­å¥;\nelse sqlè¯­å¥;\nend if;\n\n\n1\n2\n3\n4\n\n\n\n# ä¼ å\n\n * in é»è®¤å¼ è¾å¥åæ°å³é®å­ ç±è°ç¨èä¼ éå®å\n * out è¾åºåæ°,ä½ä¸ºè¿åå¼è¿å\n * inout å³å¯ä»¥ä¸ºè¾å¥ä¹å¯ä»¥ä¸ºè¾åº\n\ncreate procedure å­å¨è¿ç¨å([in|out|inout] åæ°å æ°æ®ç±»å)\nbegin\n\t\t\tsql è¯­å¥;\nend$\n\n-- è°ç¨\ncall å­å¨è¿ç¨å(@è¾åºåæ°å);\n-- æ¥è¯¢è¿åå¼\nselect @è¾åºåæ°å\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n\n\n\n# while å¾ªç¯\n\nwhile å¤æ­è¯­å¥ do\n\tå¾ªç¯ä½è¯­å¥;\nend while;\n\n\n1\n2\n3\n\n\n\n# å­å¨å½æ°\n\nå­å¨å½æ°å¿é¡»è¦æè¿åå¼ å³æoutåæ°\n\ndelimiter $\ncreate function å½æ°åç§°(åæ°åè¡¨)\nreturns è¿åå¼ç±»å\nbegin\n\tsqlè¯­å¥;\n\treturn è¿åå¼;\nend$\ndelimiter ;\n\n-- è°ç¨\nselect å½æ°åç§°(å®éåæ°);\n\n\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n\n * å é¤å½æ° drop function å½æ°å;",charsets:{cjk:!0},lastUpdated:"2022/03/18, 09:00:59",lastUpdatedTimestamp:1647565259e3},{title:"å¤ä»½",frontmatter:{title:"å¤ä»½",date:"2022-03-18T00:52:36.000Z",permalink:"/pages/f561ab/",categories:["åç«¯","SQL"],tags:[null]},regularPath:"/%E5%90%8E%E7%AB%AF/04.SQL/13.%E5%A4%87%E4%BB%BD.html",relativePath:"åç«¯/04.SQL/13.å¤ä»½.md",key:"v-95af4b10",path:"/pages/f561ab/",headersStr:null,content:"# å¤ä»½\n\nmysqldump -uroot -p æ°æ®åºå > æä»¶ä¿å­è·¯å¾\n\n\n1\n\n\nå é¤åææ°æ®åº,åå»ºç©ºæ°æ®åº\n\nuse æ°æ®åº;\n\nsource sqlæä»¶è·¯å¾;\n\n\n1\n2\n3\n",normalizedContent:"# å¤ä»½\n\nmysqldump -uroot -p æ°æ®åºå > æä»¶ä¿å­è·¯å¾\n\n\n1\n\n\nå é¤åææ°æ®åº,åå»ºç©ºæ°æ®åº\n\nuse æ°æ®åº;\n\nsource sqlæä»¶è·¯å¾;\n\n\n1\n2\n3\n",charsets:{cjk:!0},lastUpdated:"2022/03/18, 07:01:11",lastUpdatedTimestamp:1647558071e3},{title:"è§å¾",frontmatter:{title:"è§å¾",date:"2022-03-18T00:52:36.000Z",permalink:"/pages/3293cf/",categories:["åç«¯","SQL"],tags:[null]},regularPath:"/%E5%90%8E%E7%AB%AF/04.SQL/12.%E8%A7%86%E5%9B%BE.html",relativePath:"åç«¯/04.SQL/12.è§å¾.md",key:"v-168103c0",path:"/pages/3293cf/",headersStr:null,content:"# è§å¾\n\nèæè¡¨,å°æ¥è¯¢ç»æ ä¿å­ä¸ºä¸ä¸ªèæè¡¨\n\n * åå»ºè§å¾ create view è§å¾åç§° [(åååè¡¨)] as æ¥è¯¢è¯­å¥;\n * æ¥è¯¢è§å¾ select * from è§å¾åç§°;\n * ä¿®æ¹è§å¾æ°æ® update è§å¾åç§° set åå=å¼ where æ¡ä»¶; æ³¨æä¿®æ¹èæè¡¨çæ°æ® åè¡¨æ°æ®ä¹ä¼ä¿®æ¹\n * ä¿®æ¹è§å¾ alter view è§å¾åç§° (åååè¡¨) as æ¥è¯¢è¯­å¥;\n * å é¤è§å¾ drop view [if exists] è§å¾åç§°;",normalizedContent:"# è§å¾\n\nèæè¡¨,å°æ¥è¯¢ç»æ ä¿å­ä¸ºä¸ä¸ªèæè¡¨\n\n * åå»ºè§å¾ create view è§å¾åç§° [(åååè¡¨)] as æ¥è¯¢è¯­å¥;\n * æ¥è¯¢è§å¾ select * from è§å¾åç§°;\n * ä¿®æ¹è§å¾æ°æ® update è§å¾åç§° set åå=å¼ where æ¡ä»¶; æ³¨æä¿®æ¹èæè¡¨çæ°æ® åè¡¨æ°æ®ä¹ä¼ä¿®æ¹\n * ä¿®æ¹è§å¾ alter view è§å¾åç§° (åååè¡¨) as æ¥è¯¢è¯­å¥;\n * å é¤è§å¾ drop view [if exists] è§å¾åç§°;",charsets:{cjk:!0},lastUpdated:"2022/03/18, 07:01:11",lastUpdatedTimestamp:1647558071e3},{title:"äºå¡",frontmatter:{title:"äºå¡",date:"2022-03-18T00:52:35.000Z",permalink:"/pages/4c8706/",categories:["åç«¯","SQL"],tags:[null]},regularPath:"/%E5%90%8E%E7%AB%AF/04.SQL/16.%E4%BA%8B%E5%8A%A1.html",relativePath:"åç«¯/04.SQL/16.äºå¡.md",key:"v-6dca1220",path:"/pages/4c8706/",headers:[{level:2,title:"æäº¤æ¹å¼",slug:"æäº¤æ¹å¼",normalizedTitle:"æäº¤æ¹å¼",charIndex:191},{level:2,title:"äºå¡çåå¤§ç¹å¾(ACID)",slug:"äºå¡çåå¤§ç¹å¾-acid",normalizedTitle:"äºå¡çåå¤§ç¹å¾(acid)",charIndex:344},{level:2,title:"äºå¡çéç¦»æ§çº§å«",slug:"äºå¡çéç¦»æ§çº§å«",normalizedTitle:"äºå¡çéç¦»æ§çº§å«",charIndex:710},{level:3,title:"å¼åçé®é¢",slug:"å¼åçé®é¢",normalizedTitle:"å¼åçé®é¢",charIndex:725}],headersStr:"æäº¤æ¹å¼ äºå¡çåå¤§ç¹å¾(ACID) äºå¡çéç¦»æ§çº§å« å¼åçé®é¢",content:"# äºå¡\n\näºå¡:ä¸æ¡æèå¤æ¡SQLè¯­å¥ç»æä¸ä¸ªæ§è¡åå,ç¹ç¹æ¯è¦ä¹åæ¶æåè¦ä¹åæ¶å¤±è´¥,æ¯æ¡è¯­å¥é½ç¸äºä¾èµ,å½¢æä¸ä¸ªæ´ä½,å¦æå¤±è´¥æèåºç°éè¯¯,é£ä¹ç¶æä¼æ¤åå°äºå¡æåç¶æ(åé)\n\n * å¼å¯äºå¡ start transaction; å¼å¯äºå¡åææçæä½é½æ¯èæåç\n * åæ»äºå¡ rollback; ç»æäºå¡å¹¶åé\n * æäº¤äºå¡ commit; ç»æäºå¡å¹¶æäº¤\n\n\n# æäº¤æ¹å¼\n\n * èªå¨æäº¤ 1 é»è®¤å¼\n * æå¨æ·»å  0\n * æ¥è¯¢äºå¡æäº¤æ¹å¼ select @@autocommit;\n * ä¿®æ¹äºå¡æäº¤æ¹å¼ set @@autocommit=0; 1ä¸ºèªå¨æäº¤ 0ä¸ºæå¨æ·»å \n\nå¦æä¿®æ¹ä¸ºæå¨æäº¤ ä¸å¼å§äºå¡ åå¢å æ¹æ¥ æä½ä¹éè¦commitæä½æçæ\n\n\n# äºå¡çåå¤§ç¹å¾(ACID)\n\n * åå­æ§ï¼Atomicityï¼\n   * æäºå¡åå«çæææä½è¦ä¹å¨é¨æå,è¦ä¹å¨é¨å¤±è´¥åæ» å æ­¤äºå¡çæä½æååè¦åºç¨å°æ°æ®ï¼æä½å¤±è´¥åä¸è½å¯¹æ°æ®åºæå½±å\n * ä¸è´æ§ ï¼Consistencyï¼\n   * ä¸è´æ§æäºå¡å¿é¡»ä½¿æ°æ®åºä»ä¸ä¸ªä¸è´æ§ååå°å¦å¤ä¸ä¸ªä¸è´æ§ ä¹å°±æ¯è¯´ä¸ä¸ªäºå¡æ§è¡ä¹ååæ§è¡ä¹åé½å¿é¡»å¤äºä¸ä¸ªä¸è´æ§\n * éç¦»æ§ï¼isolcationï¼\n   * éç¦»æ§æ¯å½å¤ä¸ªç¨æ·å¹¶åè®¿é®æ°æ®åºæ¶ï¼å¦æä½åä¸å¼ è¡¨æ¶ï¼æ°æ®åºä¸ºæ¯ä¸ªç¨æ·å¼å¯äºå¡ ä¸è½è¢«å¶ä»äºå¡çæä½æå¹²æ°ï¼å¤ä¸ªå¹¶åäºå¡ä¹é´è¦ç¸äºéç¦»ã\n * æä¹æ§ï¼durabilityï¼\n   * æä¹æ§æ¯æä¸ä¸ªäºå¡ä¸æ¦è¢«æäº¤äºï¼é£ä¹å¯¹æ°æ®åºä¸­çæ°æ®çæ¹åå°±æ¯æ°¸ä¹æ§ç å³ä¾¿æ¯å¨æ°æ®åºç³»ç»éå°æéçæåµä¸ä¹ä¸ä¼ä¸¢å¤±æäº¤äºå¡çæä½\n\n\n# äºå¡çéç¦»æ§çº§å«\n\n\n\n\n# å¼åçé®é¢\n\n\n\n * æ¥è¯¢æ°æ®åºéç¦»çº§å« select @@TX_ISOLATION;\n * ä¿®æ¹æ°æ®åºéç¦»çº§å« set global transaction isolation level çº§å«; ä¿®æ¹åéè¦éæ°è¿æ¥æ°æ®åº\n   * REPEATABLE READ é»è®¤çº§å«\n * èè¯» æçäºå¡æªè¢«æäº¤ å¦å¤ä¸ä¸ªäºå¡å·²ç»å¯ä»¥æ¥è¯¢å°è¯¥äºå¡çæ°æ®\n * ä¸å¯éå¤è¯» æä¸¤ä¸ªäºå¡å¼å¯ å¶ä¸­ä¸ä¸ªäºå¡å·²ç»æäº¤äº å¦å¤ä¸ä¸ªäºå¡è¯»åå°è¯¥äºå¡çæ°æ® æ­£å¸¸æ¥è¯´åºè¯¥æ¯è¯»åä¸å°ç,éè¦ç»æäºå¡åæè½è¯»å\n * å¹»è¯» ææ¥è¯¢æä¸ªæ°æ®ä¸å­å¨ ä½æå¥æ¶æ æ³æ æå¥æ­¤æ°æ®,å¹¶ä¸ä¹ååç°æ°æ®å·²ç»å­å¨è¡¨ä¸­ æ ææ°æ®ä¸å­å¨ ä½æ§è¡å é¤æä½ ç¼ºæåäº\n\n",normalizedContent:"# äºå¡\n\näºå¡:ä¸æ¡æèå¤æ¡sqlè¯­å¥ç»æä¸ä¸ªæ§è¡åå,ç¹ç¹æ¯è¦ä¹åæ¶æåè¦ä¹åæ¶å¤±è´¥,æ¯æ¡è¯­å¥é½ç¸äºä¾èµ,å½¢æä¸ä¸ªæ´ä½,å¦æå¤±è´¥æèåºç°éè¯¯,é£ä¹ç¶æä¼æ¤åå°äºå¡æåç¶æ(åé)\n\n * å¼å¯äºå¡ start transaction; å¼å¯äºå¡åææçæä½é½æ¯èæåç\n * åæ»äºå¡ rollback; ç»æäºå¡å¹¶åé\n * æäº¤äºå¡ commit; ç»æäºå¡å¹¶æäº¤\n\n\n# æäº¤æ¹å¼\n\n * èªå¨æäº¤ 1 é»è®¤å¼\n * æå¨æ·»å  0\n * æ¥è¯¢äºå¡æäº¤æ¹å¼ select @@autocommit;\n * ä¿®æ¹äºå¡æäº¤æ¹å¼ set @@autocommit=0; 1ä¸ºèªå¨æäº¤ 0ä¸ºæå¨æ·»å \n\nå¦æä¿®æ¹ä¸ºæå¨æäº¤ ä¸å¼å§äºå¡ åå¢å æ¹æ¥ æä½ä¹éè¦commitæä½æçæ\n\n\n# äºå¡çåå¤§ç¹å¾(acid)\n\n * åå­æ§ï¼atomicityï¼\n   * æäºå¡åå«çæææä½è¦ä¹å¨é¨æå,è¦ä¹å¨é¨å¤±è´¥åæ» å æ­¤äºå¡çæä½æååè¦åºç¨å°æ°æ®ï¼æä½å¤±è´¥åä¸è½å¯¹æ°æ®åºæå½±å\n * ä¸è´æ§ ï¼consistencyï¼\n   * ä¸è´æ§æäºå¡å¿é¡»ä½¿æ°æ®åºä»ä¸ä¸ªä¸è´æ§ååå°å¦å¤ä¸ä¸ªä¸è´æ§ ä¹å°±æ¯è¯´ä¸ä¸ªäºå¡æ§è¡ä¹ååæ§è¡ä¹åé½å¿é¡»å¤äºä¸ä¸ªä¸è´æ§\n * éç¦»æ§ï¼isolcationï¼\n   * éç¦»æ§æ¯å½å¤ä¸ªç¨æ·å¹¶åè®¿é®æ°æ®åºæ¶ï¼å¦æä½åä¸å¼ è¡¨æ¶ï¼æ°æ®åºä¸ºæ¯ä¸ªç¨æ·å¼å¯äºå¡ ä¸è½è¢«å¶ä»äºå¡çæä½æå¹²æ°ï¼å¤ä¸ªå¹¶åäºå¡ä¹é´è¦ç¸äºéç¦»ã\n * æä¹æ§ï¼durabilityï¼\n   * æä¹æ§æ¯æä¸ä¸ªäºå¡ä¸æ¦è¢«æäº¤äºï¼é£ä¹å¯¹æ°æ®åºä¸­çæ°æ®çæ¹åå°±æ¯æ°¸ä¹æ§ç å³ä¾¿æ¯å¨æ°æ®åºç³»ç»éå°æéçæåµä¸ä¹ä¸ä¼ä¸¢å¤±æäº¤äºå¡çæä½\n\n\n# äºå¡çéç¦»æ§çº§å«\n\n\n\n\n# å¼åçé®é¢\n\n\n\n * æ¥è¯¢æ°æ®åºéç¦»çº§å« select @@tx_isolation;\n * ä¿®æ¹æ°æ®åºéç¦»çº§å« set global transaction isolation level çº§å«; ä¿®æ¹åéè¦éæ°è¿æ¥æ°æ®åº\n   * repeatable read é»è®¤çº§å«\n * èè¯» æçäºå¡æªè¢«æäº¤ å¦å¤ä¸ä¸ªäºå¡å·²ç»å¯ä»¥æ¥è¯¢å°è¯¥äºå¡çæ°æ®\n * ä¸å¯éå¤è¯» æä¸¤ä¸ªäºå¡å¼å¯ å¶ä¸­ä¸ä¸ªäºå¡å·²ç»æäº¤äº å¦å¤ä¸ä¸ªäºå¡è¯»åå°è¯¥äºå¡çæ°æ® æ­£å¸¸æ¥è¯´åºè¯¥æ¯è¯»åä¸å°ç,éè¦ç»æäºå¡åæè½è¯»å\n * å¹»è¯» ææ¥è¯¢æä¸ªæ°æ®ä¸å­å¨ ä½æå¥æ¶æ æ³æ æå¥æ­¤æ°æ®,å¹¶ä¸ä¹ååç°æ°æ®å·²ç»å­å¨è¡¨ä¸­ æ ææ°æ®ä¸å­å¨ ä½æ§è¡å é¤æä½ ç¼ºæåäº\n\n",charsets:{cjk:!0},lastUpdated:"2022/03/18, 07:01:11",lastUpdatedTimestamp:1647558071e3},{title:"å­å¨å¼æ",frontmatter:{title:"å­å¨å¼æ",date:"2022-03-18T00:52:35.000Z",permalink:"/pages/7d59ad/",categories:["åç«¯","SQL"],tags:[null]},regularPath:"/%E5%90%8E%E7%AB%AF/04.SQL/17.%E5%AD%98%E5%82%A8%E5%BC%95%E6%93%8E.html",relativePath:"åç«¯/04.SQL/17.å­å¨å¼æ.md",key:"v-36a8fca6",path:"/pages/7d59ad/",headersStr:null,content:'# å­å¨å¼æ\n\nMySql æ¯æçå­å¨å¼ææå¾å¤,å¸¸ç¨çæä¸ä¸ª\n\n * InnoDB è®¿é®éåº¦å¿«,ä¸æ¯æäºå¡åå¤é®\n * MyISAM æ¯æäºå¡åå¤é® æ¯æå¹¶åæ§å¶ å ç¨ç£çç©ºé´å¤§ MySQL 5.5é»è®¤ä¸ºè¿ä¸ªå¼æ\n * MEMORY åå­å­å¨ éåº¦å¿« ä¸å®å¨\n\n\n\n * æ¥è¯¢æ°æ®æ¯æçå­å¨å¼æ show engines;\n * æ¥è¯¢æä¸ªåºä¸­æææ°æ®è¡¨çå­å¨å¼æ show table status from åºå;\n * æ¥è¯¢æå®åºä¸­æå®è¡¨çå¼æ show table status from åºå where name ="è¡¨å";\n * åè¡¨æ¶ æå®å­å¨å¼æ create table è¡¨å(åå æ°æ®ç±»å)engine = å¼æå;\n * ä¿®æ¹è¡¨ å­å¨å¼æ alter table è¡¨å engine = å¼æå;\n\n',normalizedContent:'# å­å¨å¼æ\n\nmysql æ¯æçå­å¨å¼ææå¾å¤,å¸¸ç¨çæä¸ä¸ª\n\n * innodb è®¿é®éåº¦å¿«,ä¸æ¯æäºå¡åå¤é®\n * myisam æ¯æäºå¡åå¤é® æ¯æå¹¶åæ§å¶ å ç¨ç£çç©ºé´å¤§ mysql 5.5é»è®¤ä¸ºè¿ä¸ªå¼æ\n * memory åå­å­å¨ éåº¦å¿« ä¸å®å¨\n\n\n\n * æ¥è¯¢æ°æ®æ¯æçå­å¨å¼æ show engines;\n * æ¥è¯¢æä¸ªåºä¸­æææ°æ®è¡¨çå­å¨å¼æ show table status from åºå;\n * æ¥è¯¢æå®åºä¸­æå®è¡¨çå¼æ show table status from åºå where name ="è¡¨å";\n * åè¡¨æ¶ æå®å­å¨å¼æ create table è¡¨å(åå æ°æ®ç±»å)engine = å¼æå;\n * ä¿®æ¹è¡¨ å­å¨å¼æ alter table è¡¨å engine = å¼æå;\n\n',charsets:{cjk:!0},lastUpdated:"2022/03/18, 07:01:11",lastUpdatedTimestamp:1647558071e3},{title:"è§¦åå¨",frontmatter:{title:"è§¦åå¨",date:"2022-03-18T00:52:35.000Z",permalink:"/pages/108b35/",categories:["åç«¯","SQL"],tags:[null]},regularPath:"/%E5%90%8E%E7%AB%AF/04.SQL/15.%E8%A7%A6%E5%8F%91%E5%99%A8.html",relativePath:"åç«¯/04.SQL/15.è§¦åå¨.md",key:"v-341ec21e",path:"/pages/108b35/",headersStr:null,content:"# è§¦åå¨\n\nè§¦åå¨ä¼ææä»¬ æ·»å  ä¿®æ¹ å é¤ æä½ä¹åæä¹å è§¦åæ§è¡ è§¦åå¨ ä¸­å®ä¹çSQLè¯­å¥\n\nè¿äºç¹æ§å¯ä»¥ä½ä¸º æ¥å¿è®°å½ æ°æ®æ ¡éª ç¡®ä¿æ°æ®å®æ´æ§\n\nä½¿ç¨ å«å NEW å OLD å³é®å­æ¥å¼ç¨è§¦åå¨ åçååçåå®¹è®°å½\n\nNEW ä¸ºè§¦ååè¡¨çæ°æ® ä¸ºä¸ä¸ªåè¡å¤åç»æ\n\nOLD ä¸ºè§¦åå¨åè¡¨çæ°æ®\n\nOLD æ¯åªè¯»çï¼è NEW åå¯ä»¥å¨è§¦åå¨ä¸­ä½¿ç¨ SET èµå¼ï¼è¿æ ·ä¸ä¼åæ¬¡è§¦åè§¦åå¨ï¼é æå¾ªç¯è°ç¨ï¼å¦æ¯æå¥ä¸ä¸ªå­¦çåï¼é½å¨å¶å­¦å·åå â2013âï¼ã\n\n\n\n-- åå»ºè§¦åå¨\ndelimiter $\n\ncreate trigger è§¦åå¨åç§°\nbefore|after(å®ä¹æä½å/å)     insert|update|delete(å®ä¹è§¦åå¨ç±»å)\non è¡¨å\nfor each row\nbegin\n\t\tsqlè¯­å¥;\n\t\t-- å¯ä»¥ä½¿ç¨ NEW / OLD å³é®å­æ¥è·åæ´æ°ååçæ°æ® å¦new.name old.name\n\t\t\nend$\n\ndelimiter$\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n\n\næ ·ä¾\n\ndelimiter $$\nCREATE TRIGGER upd_check \nBEFORE UPDATE ON account\nFOR EACH ROW\nBEGIN\n ããIF NEW.amount < 0 THEN\n ããããSET NEW.amount = 0;\n ããELSEIF NEW.amount > 100 THEN\n ããããSET NEW.amount = 100;\n ããEND IF;\nEND$$\ndelimiter ;\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n\n * æ¥çè§¦åå¨ show triggers;\n * å é¤è§¦åå¨ drop trigger è§¦åå¨åç§°;",normalizedContent:"# è§¦åå¨\n\nè§¦åå¨ä¼ææä»¬ æ·»å  ä¿®æ¹ å é¤ æä½ä¹åæä¹å è§¦åæ§è¡ è§¦åå¨ ä¸­å®ä¹çsqlè¯­å¥\n\nè¿äºç¹æ§å¯ä»¥ä½ä¸º æ¥å¿è®°å½ æ°æ®æ ¡éª ç¡®ä¿æ°æ®å®æ´æ§\n\nä½¿ç¨ å«å new å old å³é®å­æ¥å¼ç¨è§¦åå¨ åçååçåå®¹è®°å½\n\nnew ä¸ºè§¦ååè¡¨çæ°æ® ä¸ºä¸ä¸ªåè¡å¤åç»æ\n\nold ä¸ºè§¦åå¨åè¡¨çæ°æ®\n\nold æ¯åªè¯»çï¼è new åå¯ä»¥å¨è§¦åå¨ä¸­ä½¿ç¨ set èµå¼ï¼è¿æ ·ä¸ä¼åæ¬¡è§¦åè§¦åå¨ï¼é æå¾ªç¯è°ç¨ï¼å¦æ¯æå¥ä¸ä¸ªå­¦çåï¼é½å¨å¶å­¦å·åå â2013âï¼ã\n\n\n\n-- åå»ºè§¦åå¨\ndelimiter $\n\ncreate trigger è§¦åå¨åç§°\nbefore|after(å®ä¹æä½å/å)     insert|update|delete(å®ä¹è§¦åå¨ç±»å)\non è¡¨å\nfor each row\nbegin\n\t\tsqlè¯­å¥;\n\t\t-- å¯ä»¥ä½¿ç¨ new / old å³é®å­æ¥è·åæ´æ°ååçæ°æ® å¦new.name old.name\n\t\t\nend$\n\ndelimiter$\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n\n\næ ·ä¾\n\ndelimiter $$\ncreate trigger upd_check \nbefore update on account\nfor each row\nbegin\n ããif new.amount < 0 then\n ããããset new.amount = 0;\n ããelseif new.amount > 100 then\n ããããset new.amount = 100;\n ããend if;\nend$$\ndelimiter ;\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n\n * æ¥çè§¦åå¨ show triggers;\n * å é¤è§¦åå¨ drop trigger è§¦åå¨åç§°;",charsets:{cjk:!0},lastUpdated:"2022/03/18, 09:00:59",lastUpdatedTimestamp:1647565259e3},{title:"ç´¢å¼",frontmatter:{title:"ç´¢å¼",date:"2022-03-18T00:52:35.000Z",permalink:"/pages/acc2dd/",categories:["åç«¯","SQL"],tags:[null]},regularPath:"/%E5%90%8E%E7%AB%AF/04.SQL/18.%E7%B4%A2%E5%BC%95.html",relativePath:"åç«¯/04.SQL/18.ç´¢å¼.md",key:"v-1cd8dcd0",path:"/pages/acc2dd/",headers:[{level:2,title:"ç´¢å¼æä½",slug:"ç´¢å¼æä½",normalizedTitle:"ç´¢å¼æä½",charIndex:36},{level:2,title:"åç",slug:"åç",normalizedTitle:"åç",charIndex:604},{level:3,title:"1. ç£çå­å¨",slug:"_1-ç£çå­å¨",normalizedTitle:"1. ç£çå­å¨",charIndex:710},{level:3,title:"2. BTree",slug:"_2-btree",normalizedTitle:"2. btree",charIndex:724},{level:3,title:"3. B+Tree",slug:"_3-b-tree",normalizedTitle:"3. b+tree",charIndex:799},{level:2,title:"ç´¢å¼åå",slug:"ç´¢å¼åå",normalizedTitle:"ç´¢å¼åå",charIndex:884}],headersStr:"ç´¢å¼æä½ åç 1. ç£çå­å¨ 2. BTree 3. B+Tree ç´¢å¼åå",content:"# ç´¢å¼\n\nç´¢å¼æ¯å¸®å©MySQLé«æè·åæ°æ®çä¸ç§æ°æ®ç»æ\n\n\n\n\n# ç´¢å¼æä½\n\n * åå»ºç´¢å¼\n   \n   * create [unique | fulltext] index ç´¢å¼åç§°  --unique å¯ä¸ç´¢å¼ \n     [using ç´¢å¼ç±»å] -- é»è®¤ä¸º btree\n     on è¡¨å(åå);\n     \n     \n     1\n     2\n     3\n     \n\n * æ¥çç´¢å¼ show index from è¡¨å;\n\n * æ·»å ç´¢å¼\n   \n   * æ®éç´¢å¼: alter table è¡¨å add index ç´¢å¼åç§°(åå);\n   * ç»åç´¢å¼: alter table è¡¨å add index ç´¢å¼åç§°(åå,åå);\n   * ä¸»é®ç´¢å¼: alter table è¡¨å add primary key (ä¸»é®åå);\n   * å¤é®ç´¢å¼: alter table è¡¨å add constraint å¤é®å foreign key (å¤é®åå) references ä¸»è¡¨å(ä¸»é®åå);\n   * å¯ä¸ç´¢å¼: alter table è¡¨å add unique ç´¢å¼åç§°(åå);\n   * å¨æç´¢å¼: alter table è¡¨å add fulltext ç´¢å¼åç§°(åå);\n\n * å é¤ç´¢å¼ drop index ç´¢å¼åç§° on è¡¨å;\n\n\n# åç\n\nç´¢å¼æ¯å¨å­å¨å¼æä¸­å®ç°ç\n\nBTree ç´¢å¼ç±»åæ¯åºäº B+Tree æ°æ®ç»æç , èB+Tree æ¯ Btree çåç§, éå¸¸å¨æ°æ®åº å ç³»ç»ä¸­çæä»¶ç³»ç»ä¸­ ç¹ç¹æ¯è½å¤ ä¿ææ°æ®ç¨³å®æåº\n\n\n# 1. ç£çå­å¨\n\n\n\n\n# 2. BTree\n\n\n\nç±äºæ¯æ¬¡è¯»åå°ä¸ä¸ªç£çåä¸­çæ°æ® æ·±åº¦ å¯¼è´æçä½\n\næ¯ä¸ªèç¹ä¸­åå«keyå¼ å æ°æ® ä¼å¢å æ¥è¯¢æ¶ ç£çIO æ¬¡æ°\n\n\n# 3. B+Tree\n\n\n\næ°æ®åªä¼ä¿æå¨å¶å­èç¹ä¸ å¹¶ä¸å¶å­èç¹ ä¹é´æéç¸è¿ æ¹ä¾¿è¿è¡èå´æ¥è¯¢\n\néå¶å­èç¹åªå­å¨ keyå¼ åå°ç£çIOçæ¬¡æ° æ å½¢ç»æè¾å°\n\n\n# ç´¢å¼åå\n\n 1. å¯¹æ¥è¯¢æ¬¡æ°è¾é« å¹¶ä¸æ°æ®éæ¯è¾å¤§çè¡¨ å»ºç«ç´¢å¼\n 2. å»ºè®®ä½¿ç¨å¯ä¸ç´¢å¼ åºååº¦é« ç´¢å¼çæçé«\n 3. ç´¢å¼å­æ®µçéæ© åºå½ä» where å­å¥çæ¡ä»¶ä¸­æå\n 4. ç´¢å¼è½ç¶æä¾æç ä½è¿å¤ä¸ä¾¿äºç»´æ¤\n 5. æå·¦å¹éåå(åªéåäºç»åç´¢å¼)\n    * å½æä»¬ä¸ºè¡¨ä¸­ name age height æ·»å ç»åç´¢å¼ å®è´¨ä¸å»ºç«äº name åç´¢å¼ (nameãage) ç´¢å¼ ï¼nameãageãheightï¼ç´¢å¼ ä½¿ç¨è¿ä¸ä¸ªç´¢å¼æ¶ä¸åºåé¡ºåº",normalizedContent:"# ç´¢å¼\n\nç´¢å¼æ¯å¸®å©mysqlé«æè·åæ°æ®çä¸ç§æ°æ®ç»æ\n\n\n\n\n# ç´¢å¼æä½\n\n * åå»ºç´¢å¼\n   \n   * create [unique | fulltext] index ç´¢å¼åç§°  --unique å¯ä¸ç´¢å¼ \n     [using ç´¢å¼ç±»å] -- é»è®¤ä¸º btree\n     on è¡¨å(åå);\n     \n     \n     1\n     2\n     3\n     \n\n * æ¥çç´¢å¼ show index from è¡¨å;\n\n * æ·»å ç´¢å¼\n   \n   * æ®éç´¢å¼: alter table è¡¨å add index ç´¢å¼åç§°(åå);\n   * ç»åç´¢å¼: alter table è¡¨å add index ç´¢å¼åç§°(åå,åå);\n   * ä¸»é®ç´¢å¼: alter table è¡¨å add primary key (ä¸»é®åå);\n   * å¤é®ç´¢å¼: alter table è¡¨å add constraint å¤é®å foreign key (å¤é®åå) references ä¸»è¡¨å(ä¸»é®åå);\n   * å¯ä¸ç´¢å¼: alter table è¡¨å add unique ç´¢å¼åç§°(åå);\n   * å¨æç´¢å¼: alter table è¡¨å add fulltext ç´¢å¼åç§°(åå);\n\n * å é¤ç´¢å¼ drop index ç´¢å¼åç§° on è¡¨å;\n\n\n# åç\n\nç´¢å¼æ¯å¨å­å¨å¼æä¸­å®ç°ç\n\nbtree ç´¢å¼ç±»åæ¯åºäº b+tree æ°æ®ç»æç , èb+tree æ¯ btree çåç§, éå¸¸å¨æ°æ®åº å ç³»ç»ä¸­çæä»¶ç³»ç»ä¸­ ç¹ç¹æ¯è½å¤ ä¿ææ°æ®ç¨³å®æåº\n\n\n# 1. ç£çå­å¨\n\n\n\n\n# 2. btree\n\n\n\nç±äºæ¯æ¬¡è¯»åå°ä¸ä¸ªç£çåä¸­çæ°æ® æ·±åº¦ å¯¼è´æçä½\n\næ¯ä¸ªèç¹ä¸­åå«keyå¼ å æ°æ® ä¼å¢å æ¥è¯¢æ¶ ç£çio æ¬¡æ°\n\n\n# 3. b+tree\n\n\n\næ°æ®åªä¼ä¿æå¨å¶å­èç¹ä¸ å¹¶ä¸å¶å­èç¹ ä¹é´æéç¸è¿ æ¹ä¾¿è¿è¡èå´æ¥è¯¢\n\néå¶å­èç¹åªå­å¨ keyå¼ åå°ç£çioçæ¬¡æ° æ å½¢ç»æè¾å°\n\n\n# ç´¢å¼åå\n\n 1. å¯¹æ¥è¯¢æ¬¡æ°è¾é« å¹¶ä¸æ°æ®éæ¯è¾å¤§çè¡¨ å»ºç«ç´¢å¼\n 2. å»ºè®®ä½¿ç¨å¯ä¸ç´¢å¼ åºååº¦é« ç´¢å¼çæçé«\n 3. ç´¢å¼å­æ®µçéæ© åºå½ä» where å­å¥çæ¡ä»¶ä¸­æå\n 4. ç´¢å¼è½ç¶æä¾æç ä½è¿å¤ä¸ä¾¿äºç»´æ¤\n 5. æå·¦å¹éåå(åªéåäºç»åç´¢å¼)\n    * å½æä»¬ä¸ºè¡¨ä¸­ name age height æ·»å ç»åç´¢å¼ å®è´¨ä¸å»ºç«äº name åç´¢å¼ (nameãage) ç´¢å¼ ï¼nameãageãheightï¼ç´¢å¼ ä½¿ç¨è¿ä¸ä¸ªç´¢å¼æ¶ä¸åºåé¡ºåº",charsets:{cjk:!0},lastUpdated:"2022/03/18, 07:01:11",lastUpdatedTimestamp:1647558071e3},{title:"MyCat ä¸­é´ä»¶",frontmatter:{title:"MyCat ä¸­é´ä»¶",date:"2022-03-18T00:52:35.000Z",permalink:"/pages/3ca264/",categories:["åç«¯","SQL"],tags:[null]},regularPath:"/%E5%90%8E%E7%AB%AF/04.SQL/20.MyCat%20%E4%B8%AD%E9%97%B4%E4%BB%B6.html",relativePath:"åç«¯/04.SQL/20.MyCat ä¸­é´ä»¶.md",key:"v-c42b5e22",path:"/pages/3ca264/",headers:[{level:2,title:"mysqlå¿è®°å¯ç ",slug:"mysqlå¿è®°å¯ç ",normalizedTitle:"mysqlå¿è®°å¯ç ",charIndex:54},{level:2,title:"å®è£",slug:"å®è£",normalizedTitle:"å®è£",charIndex:384},{level:2,title:"åé",slug:"åé",normalizedTitle:"åé",charIndex:1679},{level:2,title:"ä¸»éå¤å¶",slug:"ä¸»éå¤å¶",normalizedTitle:"ä¸»éå¤å¶",charIndex:1753},{level:2,title:"è¯»ååç¦»",slug:"è¯»ååç¦»",normalizedTitle:"è¯»ååç¦»",charIndex:1766},{level:2,title:"ååºåè¡¨",slug:"ååºåè¡¨",normalizedTitle:"ååºåè¡¨",charIndex:4540},{level:3,title:"æ°´å¹³æå",slug:"æ°´å¹³æå",normalizedTitle:"æ°´å¹³æå",charIndex:4574},{level:3,title:"åç´æå",slug:"åç´æå",normalizedTitle:"åç´æå",charIndex:6607}],headersStr:"mysqlå¿è®°å¯ç  å®è£ åé ä¸»éå¤å¶ è¯»ååç¦» ååºåè¡¨ æ°´å¹³æå åç´æå",content:'# MyCat ä¸­é´ä»¶\n\nMyCat æ¯ä¸æ¬¾ æ°æ®éç¾¤è½¯ä»¶ ,æ¯æMySQL åå¸¸ç¨çå³ç³»åæ°æ®åº\n\n\n# mysqlå¿è®°å¯ç \n\nvi /etc/my.cnf\n#å¨[mysqld]ä¸æ·»å ç¼ç éç½®\nskip-grant-tables  #æ éå¯ç è¿å¥mysql\n\n\nmysql -uroot -p #ç´æ¥åè½¦è¿å¥\n\n#ä¿®æ¹å¯ç \nuse mysql;\nupdate user set authentication_string=password(\'123456\') where user=\'root\';\n#å·æ°æé\nflush privileges;\nexit;\n#å é¤ä¹åçæ å¯ç \nvi /etc/my.cnf\n\nsystemctl restart mysqld #éå¯\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n\n\n\n# å®è£\n\nmysql\n\nwget -i -c http://dev.mysql.com/get/mysql57-community-release-el7-10.noarch.rpm\nyum -y install mysql57-community-release-el7-10.noarch.rpm\nyum -y install mysql-community-server\nsystemctl start  mysqld.service\ngrep "password" /var/log/mysqld.log\n \nmysql -uroot -p\n\n#ä¿®æ¹å¯ç \nALTER USER \'root\'@\'localhost\' IDENTIFIED BY \'new password\';\n#å³é­å¯ç å¼ºåº¦æ£æµ\ngrant all privileges on *.* to \'root\'@\'%\' identified by \'password\' with grant option;\nflush privileges; \n#éåº\nexit\n#é²ç«å¢\nfirewall-cmd --zone=public --add-port=3306/tcp --permanent\nfirewall-cmd --reload  \n\n#éç½®é»è®¤ç¼ç ä¸ºUTF-8 ä¿®æ¹/etc/my.cnféç½®æä»¶ï¼å¨[mysqld]ä¸æ·»å ç¼ç éç½®ï¼å¦ä¸æç¤º\nvi /etc/my.cnf\n#å¨[mysqld]ä¸æ·»å \n\ncharacter_set_server=utf8\ncollation-server=utf8_general_ci\ninit_connect=\'SET NAMES utf8\'\n\nsystemctl restart mysqld\n\n# å¼æºå¯å¨\nsystemctl enable mysqld\nsystemctl daemon-reload\n\n#ç¨æ·åä¸ºroot å¯ç ä¸ºA37\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n26\n27\n28\n29\n30\n31\n32\n33\n34\n\n\nmycat\n\n#ä¸ä¼ mycatå°linuxä¸\ntar -xvf Mycat-server-1.6.7.6-release-20210730131311-linux.tar.gz \n\n# ç¼è¾ç¯å¢åé\nvi /etc/profile\n\n#æ·»å ä»¥ä¸åå®¹\nexport MYCAT_HOME=/root/mycat\n\nsource /etc/profile\n\ncd /root/mycat/bin\n./mycat start\n\nfirewall-cmd --zone=public --add-port=8066/tcp --permanent\nfirewall-cmd --reload  \n\n#ç¨æ·root å¯ç 123456 ç«¯å£8066\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n\n\n\n# åé\n\nåééæ°çæmacå°å\n\nå¹¶ä¿®æ¹mysqlçuuid éæºæ¹ä¸ä¸\n\nvi /var/lib/mysql/auto.cnf\n\n\n1\n\n\n\n# ä¸»éå¤å¶\n\nMyCat çè¯»ååç¦» éè¦ç¨å°ä¸»ä»å¤å¶ ä»è¡¨ä¼æ ¹æ®ä¸»è¡¨è¿è¡åæ­¥\n\næä»¬å¨åæ°æ®æ¶ åå¥ä¸»è¡¨ èè¯»åä»ä»è¡¨ä¸­è¯»å\n\n#å¨ä¸»æå¡å¨ä¸\nvi /etc/my.cnf\n\n#å¨[mysqld]å ä¸ log-bin å¼å¯ä¸»ä»å¤å¶ server-id ä¸»ä»æå¡å¨çå¯ä¸æ è¯\nlog-bin=mysql-bin\nserver-id=1\ninnodb_flush_log_at_trx_commit=1\nsync_binlog=1\n\nservice mysqld restart\n\nmysql -uroot -p\n\n# éè¦ fileåpositionçå¼ éç½®ä»æå¡å¨ç¨\nshow master status;\n\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n\n\n#å¨ä»æå¡å¨ä¸\nvi /etc/my.cnf\n\n#å¨[mysqld]å ä¸\nserver-id=2\n\nmysql -uroot -p\n\nuse mysql;\ndrop table slave_master_info;\ndrop table slave_relat_log_info;\ndrop table slave_worker_info;\ndrop table innodb_index_stats;\ndrop table innodb_table_stats;\nsorce /usr/share/mysql/mysql_system_tables.sql;\n\nserveice mysqld restart\n\nmysql -uroot -p\n\nchange master to master_host=\'ä¸»æå¡å¨ip\',master_port=3306,master_user=\'root\',master_password=\'password\',master_log_file=\'ååå¨ä¸»æå¡å¨æ¥å°çå¼\',master_log_pos=åæ ·ä¹æ¯ä¹åæ¥å°ç;\n\n# å¼å¯ä»èç¹\nstart slave;\n\n# æ¥è¯¢ç»æ Slave_IO_RuningåSlave_SQL_Runningé½ä¸ºyesææå\nshow slave status\\G;\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n26\n27\n\n\n\n# è¯»ååç¦»\n\néè¦åéç½®ä¸»ä»å¤å¶ åæä½åªåä¸»æå¡å¨ èè¯»åæ¯ä»ä»æå¡å¨ä¸­æ°æ®\n\n# ä¿®æ¹server.xml\nvi /root/mycat/conf/server.xml\n\n\n1\n2\n\n\n        <user name="root" defaultAccount="true">\n          \t\t\t\t  \x3c!-- å¯ç  --\x3e\n                <property name="password">123456</property>\n         \t\t\t   \x3c!-- åºå --\x3e\n                <property name="schemas">TESTDB</property>\n                <property name="defaultSchema">TESTDB</property>\n        </user>\n\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n\n\n# ä¿®æ¹schema.xml\nvi /root/mycat/conf/schema.xml\n\n\n1\n2\n\n\n\x3c!-- å»ºè®®ç¾åº¦æ¾éç½®æä»¶è¿ä¸ªä¸å¤ªåç¡® --\x3e\n<mycat:schema xmlns:mycat="http://io.mycat/">\n     \x3c!-- nameä¸ºä¸»æå¡å¨ serveræä»¶çèæåºåä¸nameå¿é¡»ä¸è´   --\x3e\n\t<schema name="TESTDB" checkSQLschema="true" sqlMaxLimit="100" randomDataNode="dn1">\n\t\t<table name="customer" primaryKey="id" dataNode="dn1,dn2" rule="sharding-by-intfile" autoIncrement="true" fetchStoreNodeByJdbc="true">\n\t\t\t<childTable name="customer_addr" primaryKey="id" joinKey="customer_id" parentKey="id"> </childTable>\n\t\t</table>\n\t</schema>\n    \x3c!-- nameå¿é¡»ä¸datenodeä¸è´  databaseä¸ºçå®çåºå  --\x3e\n\t<dataNode name="dn1" dataHost="localhost1" database="db1" />\n\t<dataNode name="dn2" dataHost="localhost1" database="db2" />\n\t<dataNode name="dn3" dataHost="localhost1" database="db3" />\n\t<dataHost name="localhost1" maxCon="1000" minCon="10" balance="0"\n\t\t\t  writeType="0" dbType="mysql" dbDriver="jdbc" switchType="1"  slaveThreshold="100">\n\t\t<heartbeat>select user()</heartbeat>\n\t\t\x3c!-- ä¸»æå¡å¨ hostèªå®ä¹  urlä¸ºåçæ°æ®çå°å+ç«¯å£  user passwd --\x3e\n\t\t<writeHost host="hostM1" url="jdbc:mysql://localhost:3306" user="root"\n\t\t\t\t   password="root">\n            \x3c!-- ä»æå¡å¨ è´è´£è¯» --\x3e\n            <readHost host="hostS1" url="ä»æå¡å¨+ç«¯å£" user="" password="">\n\t\t</writeHost>\n\t</dataHost>\n</mycat:schema>\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n\n\n# éå¯ mycat\n./mycat restart\n\n\n1\n2\n\n\nä½¿ç¨æ¶è¿æ¥mycatçå°åä½¿ç¨å³å¯\n\n\n# ååºåè¡¨\n\nå°åºå¤§æ°æ®éæåä¸ºä¸åçæ°æ®åºåæ°æ®è¡¨è¿è¡å­å¨\n\n\n# æ°´å¹³æå\n\næ ¹æ®è¡¨çæ°æ®é»è¾å³ç³»,å°åä¸è¡¨ä¸­çæ°æ®ææç§æ¡ä»¶,æåå°å¤å°æå¡å¨ä¸,ä¹å«æ¨ªåæå\n\n * ä¿®æ¹ä¸»æå¡å¨ä¸­ server.xml vi /root/mycat/conf/server.xml\n   \n   * \x3c!-- æ·»å property éç½®ä¸»é®æ¹å¼ 0ä¸ºæ¬å°æä»¶æ¹å¼ --\x3e\n     <property name="sequnceHandlerType">0</property>\n     \n     \n     1\n     2\n     \n\n * ä¿®æ¹ä¸»æå¡å¨ç sequence_conf.properties vi /root/mycat/conf/sequence_conf.properties\n   \n   * GLOBAL.HISIDS=     #å¯ä»¥èªå®ä¹å³é®å­\n     GLOBAL.MINID=10001   #æå°å¼\n     GLOBAL.MAXID=20000   #æå¤§å¼\n     \n     \n     1\n     2\n     3\n     \n\n * ä¿®æ¹schema.xml vi /root/mycat/conf/schema.xml\n   \n   * <mycat:schema xmlns:mycat="http://io.mycat/">\n     \t<schema name="TESTDB" checkSQLschema="false" sqlMaxLimit="100">\n     \t\t<table name="customer" primaryKey="id" dataNode="dn1,dn2,dn3" rule="mod-long">\n     \t\t</table>\n     \t</schema>\n         \x3c!-- nameå¿é¡»ä¸datenodeä¸è´  databaseä¸ºçå®çåºå  --\x3e\n     \t<dataNode name="dn1" dataHost="localhost1" database="db1" />\n     \t<dataNode name="dn2" dataHost="localhost1" database="db2" />\n     \t<dataNode name="dn3" dataHost="localhost1" database="db3" />\n         \n     \t<dataHost name="localhost1" maxCon="1000" minCon="10" balance="0"\n     \t\t\t  writeType="0" dbType="mysql" dbDriver="native" switchType="1"  slaveThreshold="100">\n     \t\t<heartbeat>select user()</heartbeat>\n     \t\t\x3c!-- ä¸»æå¡å¨ hostèªå®ä¹  urlä¸ºåçæ°æ®çå°å+ç«¯å£  user passwd --\x3e\n     \t\t<writeHost host="hostM1" url="localhost:3306" user="root"\n     \t\t\t\t   password="root">\n                 \x3c!-- ä»æå¡å¨ è´è´£è¯» --\x3e\n                 <readHost host="hostS1" url="ä»æå¡å¨+ç«¯å£" user="" password="">\n     \t\t</writeHost>\n     \t</dataHost>\n     </mycat:schema>\n     \n     \n     1\n     2\n     3\n     4\n     5\n     6\n     7\n     8\n     9\n     10\n     11\n     12\n     13\n     14\n     15\n     16\n     17\n     18\n     19\n     20\n     21\n     \n\n * ä¿®æ¹ rule.xml vi /root/mycat/conf/rule.xml\n   \n   * <function name=\'mod-log\' class=\'io.mycat.route.function.PartitionBymod\'>\n         <property name=\'count\'>3</property>\n     </function>\n     \n     \n     1\n     2\n     3\n     \n\næå¥æ°æ®ååå¿é¡»å®æ´ å¦ææ¯èªå¢é® åéè¦ç¨ NEXT VALUE FOR MYCATSEQ_GLOBAL ä¸è½ç¨null\n\nä»¥ä¸éç½®ç¨çæ¯æ ¹æ®ä¸»é®åæ¨¡æ¹å¼æå\n\n\n# åç´æå\n\næ ¹æ®ä¸å¡çç»´åº¦,å°ä¸åçè¡¨ååå°ä¸åæ°æ®åºä¸,ä¹å«çºµåæå\n\n * ä¿®æ¹schema.xml vi /root/mycat/conf/schema.xml\n   \n   * <mycat:schema xmlns:mycat="http://io.mycat/">\n     \t<schema name="TESTDB" checkSQLschema="false" sqlMaxLimit="100">\n     \t\n     \t\t</table>\n             <table name="dog" primaryKey="id" autoIncrement=\'true\' dataNode=\'dn4\'>\n     \t\t</table>\n             <table name="cat" primaryKey="id" autoIncrement=\'true\' dataNode=\'dn5\'>\n     \t\t</table>\n     \t</schema>\n         \x3c!-- nameå¿é¡»ä¸datenodeä¸è´  databaseä¸ºçå®çåºå  --\x3e\n     \t<dataNode name="dn4" dataHost="localhost1" database="db1" />\n     \t<dataNode name="dn5" dataHost="localhost1" database="db2" />\n         \n     \t<dataHost name="localhost1" maxCon="1000" minCon="10" balance="0"\n     \t\t\t  writeType="0" dbType="mysql" dbDriver="native" switchType="1"  slaveThreshold="100">\n     \t\t<heartbeat>select user()</heartbeat>\n     \t\t\x3c!-- ä¸»æå¡å¨ hostèªå®ä¹  urlä¸ºåçæ°æ®çå°å+ç«¯å£  user passwd --\x3e\n     \t\t<writeHost host="hostM1" url="localhost:3306" user="root"\n     \t\t\t\t   password="root">\n                 \x3c!-- ä»æå¡å¨ è´è´£è¯» --\x3e\n                 <readHost host="hostS1" url="ä»æå¡å¨+ç«¯å£" user="" password="">\n     \t\t</writeHost>\n     \t</dataHost>\n     </mycat:schema>\n     \n     \n     1\n     2\n     3\n     4\n     5\n     6\n     7\n     8\n     9\n     10\n     11\n     12\n     13\n     14\n     15\n     16\n     17\n     18\n     19\n     20\n     21\n     22\n     23\n     24\n     \n     \n     æ ¹æ® è¡¨å åºååº å¦dog å­æ¾å¨db1ä¸­ catå­æ¾å¨db2ä¸­',normalizedContent:'# mycat ä¸­é´ä»¶\n\nmycat æ¯ä¸æ¬¾ æ°æ®éç¾¤è½¯ä»¶ ,æ¯æmysql åå¸¸ç¨çå³ç³»åæ°æ®åº\n\n\n# mysqlå¿è®°å¯ç \n\nvi /etc/my.cnf\n#å¨[mysqld]ä¸æ·»å ç¼ç éç½®\nskip-grant-tables  #æ éå¯ç è¿å¥mysql\n\n\nmysql -uroot -p #ç´æ¥åè½¦è¿å¥\n\n#ä¿®æ¹å¯ç \nuse mysql;\nupdate user set authentication_string=password(\'123456\') where user=\'root\';\n#å·æ°æé\nflush privileges;\nexit;\n#å é¤ä¹åçæ å¯ç \nvi /etc/my.cnf\n\nsystemctl restart mysqld #éå¯\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n\n\n\n# å®è£\n\nmysql\n\nwget -i -c http://dev.mysql.com/get/mysql57-community-release-el7-10.noarch.rpm\nyum -y install mysql57-community-release-el7-10.noarch.rpm\nyum -y install mysql-community-server\nsystemctl start  mysqld.service\ngrep "password" /var/log/mysqld.log\n \nmysql -uroot -p\n\n#ä¿®æ¹å¯ç \nalter user \'root\'@\'localhost\' identified by \'new password\';\n#å³é­å¯ç å¼ºåº¦æ£æµ\ngrant all privileges on *.* to \'root\'@\'%\' identified by \'password\' with grant option;\nflush privileges; \n#éåº\nexit\n#é²ç«å¢\nfirewall-cmd --zone=public --add-port=3306/tcp --permanent\nfirewall-cmd --reload  \n\n#éç½®é»è®¤ç¼ç ä¸ºutf-8 ä¿®æ¹/etc/my.cnféç½®æä»¶ï¼å¨[mysqld]ä¸æ·»å ç¼ç éç½®ï¼å¦ä¸æç¤º\nvi /etc/my.cnf\n#å¨[mysqld]ä¸æ·»å \n\ncharacter_set_server=utf8\ncollation-server=utf8_general_ci\ninit_connect=\'set names utf8\'\n\nsystemctl restart mysqld\n\n# å¼æºå¯å¨\nsystemctl enable mysqld\nsystemctl daemon-reload\n\n#ç¨æ·åä¸ºroot å¯ç ä¸ºa37\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n26\n27\n28\n29\n30\n31\n32\n33\n34\n\n\nmycat\n\n#ä¸ä¼ mycatå°linuxä¸\ntar -xvf mycat-server-1.6.7.6-release-20210730131311-linux.tar.gz \n\n# ç¼è¾ç¯å¢åé\nvi /etc/profile\n\n#æ·»å ä»¥ä¸åå®¹\nexport mycat_home=/root/mycat\n\nsource /etc/profile\n\ncd /root/mycat/bin\n./mycat start\n\nfirewall-cmd --zone=public --add-port=8066/tcp --permanent\nfirewall-cmd --reload  \n\n#ç¨æ·root å¯ç 123456 ç«¯å£8066\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n\n\n\n# åé\n\nåééæ°çæmacå°å\n\nå¹¶ä¿®æ¹mysqlçuuid éæºæ¹ä¸ä¸\n\nvi /var/lib/mysql/auto.cnf\n\n\n1\n\n\n\n# ä¸»éå¤å¶\n\nmycat çè¯»ååç¦» éè¦ç¨å°ä¸»ä»å¤å¶ ä»è¡¨ä¼æ ¹æ®ä¸»è¡¨è¿è¡åæ­¥\n\næä»¬å¨åæ°æ®æ¶ åå¥ä¸»è¡¨ èè¯»åä»ä»è¡¨ä¸­è¯»å\n\n#å¨ä¸»æå¡å¨ä¸\nvi /etc/my.cnf\n\n#å¨[mysqld]å ä¸ log-bin å¼å¯ä¸»ä»å¤å¶ server-id ä¸»ä»æå¡å¨çå¯ä¸æ è¯\nlog-bin=mysql-bin\nserver-id=1\ninnodb_flush_log_at_trx_commit=1\nsync_binlog=1\n\nservice mysqld restart\n\nmysql -uroot -p\n\n# éè¦ fileåpositionçå¼ éç½®ä»æå¡å¨ç¨\nshow master status;\n\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n\n\n#å¨ä»æå¡å¨ä¸\nvi /etc/my.cnf\n\n#å¨[mysqld]å ä¸\nserver-id=2\n\nmysql -uroot -p\n\nuse mysql;\ndrop table slave_master_info;\ndrop table slave_relat_log_info;\ndrop table slave_worker_info;\ndrop table innodb_index_stats;\ndrop table innodb_table_stats;\nsorce /usr/share/mysql/mysql_system_tables.sql;\n\nserveice mysqld restart\n\nmysql -uroot -p\n\nchange master to master_host=\'ä¸»æå¡å¨ip\',master_port=3306,master_user=\'root\',master_password=\'password\',master_log_file=\'ååå¨ä¸»æå¡å¨æ¥å°çå¼\',master_log_pos=åæ ·ä¹æ¯ä¹åæ¥å°ç;\n\n# å¼å¯ä»èç¹\nstart slave;\n\n# æ¥è¯¢ç»æ slave_io_runingåslave_sql_runningé½ä¸ºyesææå\nshow slave status\\g;\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n26\n27\n\n\n\n# è¯»ååç¦»\n\néè¦åéç½®ä¸»ä»å¤å¶ åæä½åªåä¸»æå¡å¨ èè¯»åæ¯ä»ä»æå¡å¨ä¸­æ°æ®\n\n# ä¿®æ¹server.xml\nvi /root/mycat/conf/server.xml\n\n\n1\n2\n\n\n        <user name="root" defaultaccount="true">\n          \t\t\t\t  \x3c!-- å¯ç  --\x3e\n                <property name="password">123456</property>\n         \t\t\t   \x3c!-- åºå --\x3e\n                <property name="schemas">testdb</property>\n                <property name="defaultschema">testdb</property>\n        </user>\n\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n\n\n# ä¿®æ¹schema.xml\nvi /root/mycat/conf/schema.xml\n\n\n1\n2\n\n\n\x3c!-- å»ºè®®ç¾åº¦æ¾éç½®æä»¶è¿ä¸ªä¸å¤ªåç¡® --\x3e\n<mycat:schema xmlns:mycat="http://io.mycat/">\n     \x3c!-- nameä¸ºä¸»æå¡å¨ serveræä»¶çèæåºåä¸nameå¿é¡»ä¸è´   --\x3e\n\t<schema name="testdb" checksqlschema="true" sqlmaxlimit="100" randomdatanode="dn1">\n\t\t<table name="customer" primarykey="id" datanode="dn1,dn2" rule="sharding-by-intfile" autoincrement="true" fetchstorenodebyjdbc="true">\n\t\t\t<childtable name="customer_addr" primarykey="id" joinkey="customer_id" parentkey="id"> </childtable>\n\t\t</table>\n\t</schema>\n    \x3c!-- nameå¿é¡»ä¸datenodeä¸è´  databaseä¸ºçå®çåºå  --\x3e\n\t<datanode name="dn1" datahost="localhost1" database="db1" />\n\t<datanode name="dn2" datahost="localhost1" database="db2" />\n\t<datanode name="dn3" datahost="localhost1" database="db3" />\n\t<datahost name="localhost1" maxcon="1000" mincon="10" balance="0"\n\t\t\t  writetype="0" dbtype="mysql" dbdriver="jdbc" switchtype="1"  slavethreshold="100">\n\t\t<heartbeat>select user()</heartbeat>\n\t\t\x3c!-- ä¸»æå¡å¨ hostèªå®ä¹  urlä¸ºåçæ°æ®çå°å+ç«¯å£  user passwd --\x3e\n\t\t<writehost host="hostm1" url="jdbc:mysql://localhost:3306" user="root"\n\t\t\t\t   password="root">\n            \x3c!-- ä»æå¡å¨ è´è´£è¯» --\x3e\n            <readhost host="hosts1" url="ä»æå¡å¨+ç«¯å£" user="" password="">\n\t\t</writehost>\n\t</datahost>\n</mycat:schema>\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n\n\n# éå¯ mycat\n./mycat restart\n\n\n1\n2\n\n\nä½¿ç¨æ¶è¿æ¥mycatçå°åä½¿ç¨å³å¯\n\n\n# ååºåè¡¨\n\nå°åºå¤§æ°æ®éæåä¸ºä¸åçæ°æ®åºåæ°æ®è¡¨è¿è¡å­å¨\n\n\n# æ°´å¹³æå\n\næ ¹æ®è¡¨çæ°æ®é»è¾å³ç³»,å°åä¸è¡¨ä¸­çæ°æ®ææç§æ¡ä»¶,æåå°å¤å°æå¡å¨ä¸,ä¹å«æ¨ªåæå\n\n * ä¿®æ¹ä¸»æå¡å¨ä¸­ server.xml vi /root/mycat/conf/server.xml\n   \n   * \x3c!-- æ·»å property éç½®ä¸»é®æ¹å¼ 0ä¸ºæ¬å°æä»¶æ¹å¼ --\x3e\n     <property name="sequncehandlertype">0</property>\n     \n     \n     1\n     2\n     \n\n * ä¿®æ¹ä¸»æå¡å¨ç sequence_conf.properties vi /root/mycat/conf/sequence_conf.properties\n   \n   * global.hisids=     #å¯ä»¥èªå®ä¹å³é®å­\n     global.minid=10001   #æå°å¼\n     global.maxid=20000   #æå¤§å¼\n     \n     \n     1\n     2\n     3\n     \n\n * ä¿®æ¹schema.xml vi /root/mycat/conf/schema.xml\n   \n   * <mycat:schema xmlns:mycat="http://io.mycat/">\n     \t<schema name="testdb" checksqlschema="false" sqlmaxlimit="100">\n     \t\t<table name="customer" primarykey="id" datanode="dn1,dn2,dn3" rule="mod-long">\n     \t\t</table>\n     \t</schema>\n         \x3c!-- nameå¿é¡»ä¸datenodeä¸è´  databaseä¸ºçå®çåºå  --\x3e\n     \t<datanode name="dn1" datahost="localhost1" database="db1" />\n     \t<datanode name="dn2" datahost="localhost1" database="db2" />\n     \t<datanode name="dn3" datahost="localhost1" database="db3" />\n         \n     \t<datahost name="localhost1" maxcon="1000" mincon="10" balance="0"\n     \t\t\t  writetype="0" dbtype="mysql" dbdriver="native" switchtype="1"  slavethreshold="100">\n     \t\t<heartbeat>select user()</heartbeat>\n     \t\t\x3c!-- ä¸»æå¡å¨ hostèªå®ä¹  urlä¸ºåçæ°æ®çå°å+ç«¯å£  user passwd --\x3e\n     \t\t<writehost host="hostm1" url="localhost:3306" user="root"\n     \t\t\t\t   password="root">\n                 \x3c!-- ä»æå¡å¨ è´è´£è¯» --\x3e\n                 <readhost host="hosts1" url="ä»æå¡å¨+ç«¯å£" user="" password="">\n     \t\t</writehost>\n     \t</datahost>\n     </mycat:schema>\n     \n     \n     1\n     2\n     3\n     4\n     5\n     6\n     7\n     8\n     9\n     10\n     11\n     12\n     13\n     14\n     15\n     16\n     17\n     18\n     19\n     20\n     21\n     \n\n * ä¿®æ¹ rule.xml vi /root/mycat/conf/rule.xml\n   \n   * <function name=\'mod-log\' class=\'io.mycat.route.function.partitionbymod\'>\n         <property name=\'count\'>3</property>\n     </function>\n     \n     \n     1\n     2\n     3\n     \n\næå¥æ°æ®ååå¿é¡»å®æ´ å¦ææ¯èªå¢é® åéè¦ç¨ next value for mycatseq_global ä¸è½ç¨null\n\nä»¥ä¸éç½®ç¨çæ¯æ ¹æ®ä¸»é®åæ¨¡æ¹å¼æå\n\n\n# åç´æå\n\næ ¹æ®ä¸å¡çç»´åº¦,å°ä¸åçè¡¨ååå°ä¸åæ°æ®åºä¸,ä¹å«çºµåæå\n\n * ä¿®æ¹schema.xml vi /root/mycat/conf/schema.xml\n   \n   * <mycat:schema xmlns:mycat="http://io.mycat/">\n     \t<schema name="testdb" checksqlschema="false" sqlmaxlimit="100">\n     \t\n     \t\t</table>\n             <table name="dog" primarykey="id" autoincrement=\'true\' datanode=\'dn4\'>\n     \t\t</table>\n             <table name="cat" primarykey="id" autoincrement=\'true\' datanode=\'dn5\'>\n     \t\t</table>\n     \t</schema>\n         \x3c!-- nameå¿é¡»ä¸datenodeä¸è´  databaseä¸ºçå®çåºå  --\x3e\n     \t<datanode name="dn4" datahost="localhost1" database="db1" />\n     \t<datanode name="dn5" datahost="localhost1" database="db2" />\n         \n     \t<datahost name="localhost1" maxcon="1000" mincon="10" balance="0"\n     \t\t\t  writetype="0" dbtype="mysql" dbdriver="native" switchtype="1"  slavethreshold="100">\n     \t\t<heartbeat>select user()</heartbeat>\n     \t\t\x3c!-- ä¸»æå¡å¨ hostèªå®ä¹  urlä¸ºåçæ°æ®çå°å+ç«¯å£  user passwd --\x3e\n     \t\t<writehost host="hostm1" url="localhost:3306" user="root"\n     \t\t\t\t   password="root">\n                 \x3c!-- ä»æå¡å¨ è´è´£è¯» --\x3e\n                 <readhost host="hosts1" url="ä»æå¡å¨+ç«¯å£" user="" password="">\n     \t\t</writehost>\n     \t</datahost>\n     </mycat:schema>\n     \n     \n     1\n     2\n     3\n     4\n     5\n     6\n     7\n     8\n     9\n     10\n     11\n     12\n     13\n     14\n     15\n     16\n     17\n     18\n     19\n     20\n     21\n     22\n     23\n     24\n     \n     \n     æ ¹æ® è¡¨å åºååº å¦dog å­æ¾å¨db1ä¸­ catå­æ¾å¨db2ä¸­',charsets:{cjk:!0},lastUpdated:"2022/03/18, 07:01:11",lastUpdatedTimestamp:1647558071e3},{title:"Nosql",frontmatter:{title:"Nosql",date:"2022-03-18T00:52:36.000Z",permalink:"/pages/4a12e8/",categories:["åç«¯","SQL"],tags:[null]},regularPath:"/%E5%90%8E%E7%AB%AF/04.SQL/21.Nosql.html",relativePath:"åç«¯/04.SQL/21.Nosql.md",key:"v-b10c11a2",path:"/pages/4a12e8/",headers:[{level:2,title:"å³ç³»åæ°æ®åºéµå¾ªACIDè§å",slug:"å³ç³»åæ°æ®åºéµå¾ªacidè§å",normalizedTitle:"å³ç³»åæ°æ®åºéµå¾ªacidè§å",charIndex:171}],headersStr:"å³ç³»åæ°æ®åºéµå¾ªACIDè§å",content:"# Nosql\n\nå³ç³»åæ°æ® ç¼ºç¹ 1. æ§è½ç¶é¢:ç£çIOæ§è½ä½ä¸ 2. æ©å±ç¶é¢:æ°æ®å³ç³»å¤æ, æ©å±æ§å·®,ä¸ä¾¿äºå¤§è§æ¨¡éç¾¤\n\nNoSQL:å³ Not-Only SQL ( æ³æéå³ç³»åæ°æ®) ä½ä¸ºå³ç³»åæ°æ®çè¡¥å\n\nå¸¸è§ Nosqlæ°æ®:\n\n * Redis\n * memcache\n * HBase\n * MongoDB\n\n\n\n\n# å³ç³»åæ°æ®åºéµå¾ªACIDè§å\n\näºå¡å¨è±æä¸­æ¯transactionï¼åç°å®ä¸çä¸­çäº¤æå¾ç±»ä¼¼ï¼å®æå¦ä¸åä¸ªç¹æ§ï¼\n\n1ãA (Atomicity) åå­æ§\n\nåå­æ§å¾å®¹æçè§£ï¼ä¹å°±æ¯è¯´äºå¡éçæææä½è¦ä¹å¨é¨åå®ï¼è¦ä¹é½ä¸åï¼äºå¡æåçæ¡ä»¶æ¯äºå¡éçæææä½é½æåï¼åªè¦æä¸ä¸ªæä½å¤±è´¥ï¼æ´ä¸ªäºå¡å°±å¤±è´¥ï¼éè¦åæ»ã\n\næ¯å¦é¶è¡è½¬è´¦ï¼ä»Aè´¦æ·è½¬100åè³Bè´¦æ·ï¼åä¸ºä¸¤ä¸ªæ­¥éª¤ï¼1ï¼ä»Aè´¦æ·å100åï¼2ï¼å­å¥100åè³Bè´¦æ·ãè¿ä¸¤æ­¥è¦ä¹ä¸èµ·å®æï¼è¦ä¹ä¸èµ·ä¸å®æï¼å¦æåªå®æç¬¬ä¸æ­¥ï¼ç¬¬äºæ­¥å¤±è´¥ï¼é±ä¼è«åå¶å¦å°äº100åã\n\n2ãC (Consistency) ä¸è´æ§\n\nä¸è´æ§ä¹æ¯è¾å®¹æçè§£ï¼ä¹å°±æ¯è¯´æ°æ®åºè¦ä¸ç´å¤äºä¸è´çç¶æï¼äºå¡çè¿è¡ä¸ä¼æ¹åæ°æ®åºåæ¬çä¸è´æ§çº¦æã\n\nä¾å¦ç°æå®æ´æ§çº¦æa+b=10ï¼å¦æä¸ä¸ªäºå¡æ¹åäºaï¼é£ä¹å¿é¡»å¾æ¹åbï¼ä½¿å¾äºå¡ç»æåä¾ç¶æ»¡è¶³a+b=10ï¼å¦åäºå¡å¤±è´¥ã\n\n3ãI (Isolation) ç¬ç«æ§\n\næè°çç¬ç«æ§æ¯æå¹¶åçäºå¡ä¹é´ä¸ä¼äºç¸å½±åï¼å¦æä¸ä¸ªäºå¡è¦è®¿é®çæ°æ®æ­£å¨è¢«å¦å¤ä¸ä¸ªäºå¡ä¿®æ¹ï¼åªè¦å¦å¤ä¸ä¸ªäºå¡æªæäº¤ï¼å®æè®¿é®çæ°æ®å°±ä¸åæªæäº¤äºå¡çå½±åã\n\næ¯å¦ç°å¨æä¸ªäº¤ææ¯ä»Aè´¦æ·è½¬100åè³Bè´¦æ·ï¼å¨è¿ä¸ªäº¤æè¿æªå®æçæåµä¸ï¼å¦ææ­¤æ¶Bæ¥è¯¢èªå·±çè´¦æ·ï¼æ¯çä¸å°æ°å¢å ç100åçã\n\n4ãD (Durability) æä¹æ§\n\næä¹æ§æ¯æä¸æ¦äºå¡æäº¤åï¼å®æåçä¿®æ¹å°ä¼æ°¸ä¹çä¿å­å¨æ°æ®åºä¸ï¼å³ä½¿åºç°å®æºä¹ä¸ä¼ä¸¢å¤±ã",normalizedContent:"# nosql\n\nå³ç³»åæ°æ® ç¼ºç¹ 1. æ§è½ç¶é¢:ç£çioæ§è½ä½ä¸ 2. æ©å±ç¶é¢:æ°æ®å³ç³»å¤æ, æ©å±æ§å·®,ä¸ä¾¿äºå¤§è§æ¨¡éç¾¤\n\nnosql:å³ not-only sql ( æ³æéå³ç³»åæ°æ®) ä½ä¸ºå³ç³»åæ°æ®çè¡¥å\n\nå¸¸è§ nosqlæ°æ®:\n\n * redis\n * memcache\n * hbase\n * mongodb\n\n\n\n\n# å³ç³»åæ°æ®åºéµå¾ªacidè§å\n\näºå¡å¨è±æä¸­æ¯transactionï¼åç°å®ä¸çä¸­çäº¤æå¾ç±»ä¼¼ï¼å®æå¦ä¸åä¸ªç¹æ§ï¼\n\n1ãa (atomicity) åå­æ§\n\nåå­æ§å¾å®¹æçè§£ï¼ä¹å°±æ¯è¯´äºå¡éçæææä½è¦ä¹å¨é¨åå®ï¼è¦ä¹é½ä¸åï¼äºå¡æåçæ¡ä»¶æ¯äºå¡éçæææä½é½æåï¼åªè¦æä¸ä¸ªæä½å¤±è´¥ï¼æ´ä¸ªäºå¡å°±å¤±è´¥ï¼éè¦åæ»ã\n\næ¯å¦é¶è¡è½¬è´¦ï¼ä»aè´¦æ·è½¬100åè³bè´¦æ·ï¼åä¸ºä¸¤ä¸ªæ­¥éª¤ï¼1ï¼ä»aè´¦æ·å100åï¼2ï¼å­å¥100åè³bè´¦æ·ãè¿ä¸¤æ­¥è¦ä¹ä¸èµ·å®æï¼è¦ä¹ä¸èµ·ä¸å®æï¼å¦æåªå®æç¬¬ä¸æ­¥ï¼ç¬¬äºæ­¥å¤±è´¥ï¼é±ä¼è«åå¶å¦å°äº100åã\n\n2ãc (consistency) ä¸è´æ§\n\nä¸è´æ§ä¹æ¯è¾å®¹æçè§£ï¼ä¹å°±æ¯è¯´æ°æ®åºè¦ä¸ç´å¤äºä¸è´çç¶æï¼äºå¡çè¿è¡ä¸ä¼æ¹åæ°æ®åºåæ¬çä¸è´æ§çº¦æã\n\nä¾å¦ç°æå®æ´æ§çº¦æa+b=10ï¼å¦æä¸ä¸ªäºå¡æ¹åäºaï¼é£ä¹å¿é¡»å¾æ¹åbï¼ä½¿å¾äºå¡ç»æåä¾ç¶æ»¡è¶³a+b=10ï¼å¦åäºå¡å¤±è´¥ã\n\n3ãi (isolation) ç¬ç«æ§\n\næè°çç¬ç«æ§æ¯æå¹¶åçäºå¡ä¹é´ä¸ä¼äºç¸å½±åï¼å¦æä¸ä¸ªäºå¡è¦è®¿é®çæ°æ®æ­£å¨è¢«å¦å¤ä¸ä¸ªäºå¡ä¿®æ¹ï¼åªè¦å¦å¤ä¸ä¸ªäºå¡æªæäº¤ï¼å®æè®¿é®çæ°æ®å°±ä¸åæªæäº¤äºå¡çå½±åã\n\næ¯å¦ç°å¨æä¸ªäº¤ææ¯ä»aè´¦æ·è½¬100åè³bè´¦æ·ï¼å¨è¿ä¸ªäº¤æè¿æªå®æçæåµä¸ï¼å¦ææ­¤æ¶bæ¥è¯¢èªå·±çè´¦æ·ï¼æ¯çä¸å°æ°å¢å ç100åçã\n\n4ãd (durability) æä¹æ§\n\næä¹æ§æ¯æä¸æ¦äºå¡æäº¤åï¼å®æåçä¿®æ¹å°ä¼æ°¸ä¹çä¿å­å¨æ°æ®åºä¸ï¼å³ä½¿åºç°å®æºä¹ä¸ä¼ä¸¢å¤±ã",charsets:{cjk:!0},lastUpdated:"2022/03/18, 07:01:11",lastUpdatedTimestamp:1647558071e3},{title:"é",frontmatter:{title:"é",date:"2022-03-18T00:52:35.000Z",permalink:"/pages/3c034d/",categories:["åç«¯","SQL"],tags:[null]},regularPath:"/%E5%90%8E%E7%AB%AF/04.SQL/19.%E9%94%81.html",relativePath:"åç«¯/04.SQL/19.é.md",key:"v-3a75541f",path:"/pages/3c034d/",headers:[{level:2,title:"å±äº«é",slug:"å±äº«é",normalizedTitle:"å±äº«é",charIndex:52},{level:2,title:"æä»é",slug:"æä»é",normalizedTitle:"æä»é",charIndex:101},{level:2,title:"MyISAM è¯»é",slug:"myisam-è¯»é",normalizedTitle:"myisam è¯»é",charIndex:570},{level:2,title:"MyISAM  åé",slug:"myisam-åé",normalizedTitle:"myisam  åé",charIndex:null},{level:2,title:"æ²è§éåä¹è§é",slug:"æ²è§éåä¹è§é",normalizedTitle:"æ²è§éåä¹è§é",charIndex:767}],headersStr:"å±äº«é æä»é MyISAM è¯»é MyISAM  åé æ²è§éåä¹è§é",content:"# é\n\nä¸ºäºä¿è¯æ°æ®çä¸è´æ§ å¨å±äº«æ°æ®è¢«å¹¶åè®¿é®æ¶åå¾å®å¨çè§å\n\n * ææä½\n   \n   * å±äº«é è¯»é éå¯¹åä¸ä»½æ°æ® å¤ä¸ªäºå¡è¯»åæä½å¯ä»¥åæ¶å éèä¸äºç¸å½±å ä½ä¸è½ä¿®æ¹æ°æ®\n   * æä»é åé å½åæä½æ²¡æå®æå ä¼é»æ­å¶ä»æä½çè¯»åååå¥\n\n * æååº¦\n   \n   * è¡¨çº§é ä¼éå®æ´ä¸ªè¡¨ å¼éå° å éå¿« éå®ååº¦å¤§ åçéå²çªæ¦çé« å¹¶ååº¦ä½ ä¸ä¼åºç°æ­»éæåµ\n   * è¡çº§é ä¼éå®å½åè¡ å¼éå¤§ å éæ¢ éå®ååº¦å° åçéå²çªæ¦çä½ å¹¶åé« ä¼åºç°æ­»éæåµ\n\n * æä½¿ç¨æ¹å¼\n   \n   * æ²è§é æ¯æ¬¡æ¥è¯¢æ°æ®é½è®¤ä¸ºå«äººä¼ä¿®æ¹ æ¥è¯¢æ¶å é\n   * ä¹è§é æ¯æ¬¡æ¥è¯¢æ°æ®é½è®¤ä¸ºå«äººä¸ä¼ä¿®æ¹ ä½æ´æ°æ¶ä¼å¤æ­ä¸ä¸æé´å«äººææ²¡æå»æ´æ°è¿ä¸ªæ°æ®\n\n\n\n\n# å±äº«é\n\nç¹ç¹: æ°æ®å¯ä»¥è¢«å¤ä¸ªäºå¡æ¥è¯¢ ä½ä¸è½ä¿®æ¹\n\nInnoDB é»è®¤çæ¯å è¡é å¦æåæ²¡æç´¢å¼åå çæ¯è¡¨é\n\nå¦å¨æéæåµä¸ä¿®æ¹ ééæ¾ ä¿®æ¹æ°æ®å¤±è´¥\n\n * åå»º selectè¯­å¥ lock in share mode;\n\n\n# æä»é\n\nå éå ä¸è½è¢«å¶ä»äºå¡å éæ¥è¯¢æèä¿®æ¹ (å³ä¸è½å­å¨ç¬¬äºæé)\n\næ®éæ¥è¯¢å¯ä»¥ å éæ¥è¯¢ä¸è½ æ®éåå éä¿®æ¹é½æ æ³æ§è¡ å¿é¡»æäº¤äºå¡\n\n * åå»º selectè¯­å¥ for update;\n\n\n# MyISAM è¯»é\n\nææè¿æ¥åªè½æ¥è¯¢ä¸è½ä¿®æ¹æ°æ®\n\nMyISAM ä¸æ¯æäºå¡ å è¡é å½åè¡¨ä¹ä¸è½ä¿®æ¹\n\n * å é lock table è¡¨å read;\n * è§£é unlock tables;\n\n\n# MyISAM åé\n\nå¶ä»è¿æ¥ä¸è½æ¥è¯¢åä¿®æ¹æ°æ® å½åè¡¨å¯ä»¥æ¥è¯¢åä¿®æ¹æ°æ®\n\n * å é lock table è¡¨å write;\n * è§£é unlock tables;\n\n\n# æ²è§éåä¹è§é\n\nä»¥ä¸é½é½æ¯æ²è§é æ²è§éä¸è¬é½æ¯ä¾é å³ç³»åæ°æ®åºæä¾çéæºå¶\n\næ²è§éåä¹è§é å·®å«æ¯ä¸ä¸ªæ§è¡åä¸é ä¸ä¸ªæ¯ä¸ä¸é åªæ¯å¨æ´æ°æ¶æ¥çæ¯å¦ä¸è¢«ä¿®æ¹\n\n * æ·»å ä¸ä¸ªçæ¬å·å æ¯æ¬¡æ´æ°çæ¬å·+1 å¹¶å¨æ´æ°æ¶æ£æµçæ¬å·æ¯å¦ä¸æ¥è¯¢æ¶ç¸å",normalizedContent:"# é\n\nä¸ºäºä¿è¯æ°æ®çä¸è´æ§ å¨å±äº«æ°æ®è¢«å¹¶åè®¿é®æ¶åå¾å®å¨çè§å\n\n * ææä½\n   \n   * å±äº«é è¯»é éå¯¹åä¸ä»½æ°æ® å¤ä¸ªäºå¡è¯»åæä½å¯ä»¥åæ¶å éèä¸äºç¸å½±å ä½ä¸è½ä¿®æ¹æ°æ®\n   * æä»é åé å½åæä½æ²¡æå®æå ä¼é»æ­å¶ä»æä½çè¯»åååå¥\n\n * æååº¦\n   \n   * è¡¨çº§é ä¼éå®æ´ä¸ªè¡¨ å¼éå° å éå¿« éå®ååº¦å¤§ åçéå²çªæ¦çé« å¹¶ååº¦ä½ ä¸ä¼åºç°æ­»éæåµ\n   * è¡çº§é ä¼éå®å½åè¡ å¼éå¤§ å éæ¢ éå®ååº¦å° åçéå²çªæ¦çä½ å¹¶åé« ä¼åºç°æ­»éæåµ\n\n * æä½¿ç¨æ¹å¼\n   \n   * æ²è§é æ¯æ¬¡æ¥è¯¢æ°æ®é½è®¤ä¸ºå«äººä¼ä¿®æ¹ æ¥è¯¢æ¶å é\n   * ä¹è§é æ¯æ¬¡æ¥è¯¢æ°æ®é½è®¤ä¸ºå«äººä¸ä¼ä¿®æ¹ ä½æ´æ°æ¶ä¼å¤æ­ä¸ä¸æé´å«äººææ²¡æå»æ´æ°è¿ä¸ªæ°æ®\n\n\n\n\n# å±äº«é\n\nç¹ç¹: æ°æ®å¯ä»¥è¢«å¤ä¸ªäºå¡æ¥è¯¢ ä½ä¸è½ä¿®æ¹\n\ninnodb é»è®¤çæ¯å è¡é å¦æåæ²¡æç´¢å¼åå çæ¯è¡¨é\n\nå¦å¨æéæåµä¸ä¿®æ¹ ééæ¾ ä¿®æ¹æ°æ®å¤±è´¥\n\n * åå»º selectè¯­å¥ lock in share mode;\n\n\n# æä»é\n\nå éå ä¸è½è¢«å¶ä»äºå¡å éæ¥è¯¢æèä¿®æ¹ (å³ä¸è½å­å¨ç¬¬äºæé)\n\næ®éæ¥è¯¢å¯ä»¥ å éæ¥è¯¢ä¸è½ æ®éåå éä¿®æ¹é½æ æ³æ§è¡ å¿é¡»æäº¤äºå¡\n\n * åå»º selectè¯­å¥ for update;\n\n\n# myisam è¯»é\n\nææè¿æ¥åªè½æ¥è¯¢ä¸è½ä¿®æ¹æ°æ®\n\nmyisam ä¸æ¯æäºå¡ å è¡é å½åè¡¨ä¹ä¸è½ä¿®æ¹\n\n * å é lock table è¡¨å read;\n * è§£é unlock tables;\n\n\n# myisam åé\n\nå¶ä»è¿æ¥ä¸è½æ¥è¯¢åä¿®æ¹æ°æ® å½åè¡¨å¯ä»¥æ¥è¯¢åä¿®æ¹æ°æ®\n\n * å é lock table è¡¨å write;\n * è§£é unlock tables;\n\n\n# æ²è§éåä¹è§é\n\nä»¥ä¸é½é½æ¯æ²è§é æ²è§éä¸è¬é½æ¯ä¾é å³ç³»åæ°æ®åºæä¾çéæºå¶\n\næ²è§éåä¹è§é å·®å«æ¯ä¸ä¸ªæ§è¡åä¸é ä¸ä¸ªæ¯ä¸ä¸é åªæ¯å¨æ´æ°æ¶æ¥çæ¯å¦ä¸è¢«ä¿®æ¹\n\n * æ·»å ä¸ä¸ªçæ¬å·å æ¯æ¬¡æ´æ°çæ¬å·+1 å¹¶å¨æ´æ°æ¶æ£æµçæ¬å·æ¯å¦ä¸æ¥è¯¢æ¶ç¸å",charsets:{cjk:!0},lastUpdated:"2022/03/18, 07:01:11",lastUpdatedTimestamp:1647558071e3},{title:"Redisé«çº§",frontmatter:{title:"Redisé«çº§",date:"2022-03-18T00:52:36.000Z",permalink:"/pages/4e4f7f/",categories:["åç«¯","SQL"],tags:[null]},regularPath:"/%E5%90%8E%E7%AB%AF/04.SQL/23.Redis%E9%AB%98%E7%BA%A7.html",relativePath:"åç«¯/04.SQL/23.Redisé«çº§.md",key:"v-47095aee",path:"/pages/4e4f7f/",headers:[{level:2,title:"è¿ææ°æ®",slug:"è¿ææ°æ®",normalizedTitle:"è¿ææ°æ®",charIndex:14},{level:3,title:"å®æ¶å é¤",slug:"å®æ¶å é¤",normalizedTitle:"å®æ¶å é¤",charIndex:194},{level:3,title:"æ°æ§å é¤",slug:"æ°æ§å é¤",normalizedTitle:"æ°æ§å é¤",charIndex:309},{level:3,title:"å®æå é¤",slug:"å®æå é¤",normalizedTitle:"å®æå é¤",charIndex:485},{level:3,title:"æ·æ±°ç­ç¥",slug:"æ·æ±°ç­ç¥",normalizedTitle:"æ·æ±°ç­ç¥",charIndex:991},{level:2,title:"ä¸»ä»å¤å¶",slug:"ä¸»ä»å¤å¶",normalizedTitle:"ä¸»ä»å¤å¶",charIndex:1810},{level:3,title:'äºèç½ "ä¸é«" æ¶æ',slug:"äºèç½-ä¸é«-æ¶æ",normalizedTitle:"äºèç½ &quot;ä¸é«&quot; æ¶æ",charIndex:null},{level:3,title:"é¶æ®µä¸:å»ºç«è¿æ¥é¶æ®µ",slug:"é¶æ®µä¸-å»ºç«è¿æ¥é¶æ®µ",normalizedTitle:"é¶æ®µä¸:å»ºç«è¿æ¥é¶æ®µ",charIndex:1952},{level:3,title:"é¶æ®µäº:æ°æ®åæ­¥é¶æ®µå·¥ä½æµç¨",slug:"é¶æ®µäº-æ°æ®åæ­¥é¶æ®µå·¥ä½æµç¨",normalizedTitle:"é¶æ®µäº:æ°æ®åæ­¥é¶æ®µå·¥ä½æµç¨",charIndex:2569},{level:3,title:"é¶æ®µä¸:å½ä»¤ä¼ æ­é¶æ®µ",slug:"é¶æ®µä¸-å½ä»¤ä¼ æ­é¶æ®µ",normalizedTitle:"é¶æ®µä¸:å½ä»¤ä¼ æ­é¶æ®µ",charIndex:3245},{level:3,title:"é¢ç¹çå¨éå¤å¶",slug:"é¢ç¹çå¨éå¤å¶",normalizedTitle:"é¢ç¹çå¨éå¤å¶",charIndex:3980},{level:2,title:"å¨åµæ¨¡å¼",slug:"å¨åµæ¨¡å¼",normalizedTitle:"å¨åµæ¨¡å¼",charIndex:5286},{level:3,title:"éç½®å¨åµ",slug:"éç½®å¨åµ",normalizedTitle:"éç½®å¨åµ",charIndex:5421},{level:3,title:"é¶æ®µä¸:çæ§é¶æ®µ",slug:"é¶æ®µä¸-çæ§é¶æ®µ",normalizedTitle:"é¶æ®µä¸:çæ§é¶æ®µ",charIndex:5893},{level:3,title:"é¶æ®µäº:éç¥é¶æ®µ",slug:"é¶æ®µäº-éç¥é¶æ®µ",normalizedTitle:"é¶æ®µäº:éç¥é¶æ®µ",charIndex:5986},{level:3,title:"é¶æ®µä¸:æéè½¬ç§»",slug:"é¶æ®µä¸-æéè½¬ç§»",normalizedTitle:"é¶æ®µä¸:æéè½¬ç§»",charIndex:6067},{level:2,title:"Clusteréç¾¤",slug:"clusteréç¾¤",normalizedTitle:"clusteréç¾¤",charIndex:6418},{level:3,title:"Clusteréç¾¤ç»æè®¾è®¡",slug:"clusteréç¾¤ç»æè®¾è®¡",normalizedTitle:"clusteréç¾¤ç»æè®¾è®¡",charIndex:6480},{level:3,title:"éç½®",slug:"éç½®",normalizedTitle:"éç½®",charIndex:1196},{level:3,title:"å¯å¨Culster",slug:"å¯å¨culster",normalizedTitle:"å¯å¨culster",charIndex:7046},{level:3,title:"èç¹å¢å ",slug:"èç¹å¢å ",normalizedTitle:"èç¹å¢å ",charIndex:7343},{level:2,title:"ç¼å­é¢ç­",slug:"ç¼å­é¢ç­",normalizedTitle:"ç¼å­é¢ç­",charIndex:8372},{level:2,title:"ç¼å­éªå´©",slug:"ç¼å­éªå´©",normalizedTitle:"ç¼å­éªå´©",charIndex:8815},{level:2,title:"ç¼å­å»ç©¿",slug:"ç¼å­å»ç©¿",normalizedTitle:"ç¼å­å»ç©¿",charIndex:9509},{level:2,title:"ç¼å­ç©¿é",slug:"ç¼å­ç©¿é",normalizedTitle:"ç¼å­ç©¿é",charIndex:10115},{level:2,title:"æ§è½ææ çæ§",slug:"æ§è½ææ çæ§",normalizedTitle:"æ§è½ææ çæ§",charIndex:10988},{level:2,title:"æ§è½ææ å·¥å·",slug:"æ§è½ææ å·¥å·",normalizedTitle:"æ§è½ææ å·¥å·",charIndex:11645}],headersStr:'è¿ææ°æ® å®æ¶å é¤ æ°æ§å é¤ å®æå é¤ æ·æ±°ç­ç¥ ä¸»ä»å¤å¶ äºèç½ "ä¸é«" æ¶æ é¶æ®µä¸:å»ºç«è¿æ¥é¶æ®µ é¶æ®µäº:æ°æ®åæ­¥é¶æ®µå·¥ä½æµç¨ é¶æ®µä¸:å½ä»¤ä¼ æ­é¶æ®µ é¢ç¹çå¨éå¤å¶ å¨åµæ¨¡å¼ éç½®å¨åµ é¶æ®µä¸:çæ§é¶æ®µ é¶æ®µäº:éç¥é¶æ®µ é¶æ®µä¸:æéè½¬ç§» Clusteréç¾¤ Clusteréç¾¤ç»æè®¾è®¡ éç½® å¯å¨Culster èç¹å¢å  ç¼å­é¢ç­ ç¼å­éªå´© ç¼å­å»ç©¿ ç¼å­ç©¿é æ§è½ææ çæ§ æ§è½ææ å·¥å·',content:'# Redisé«çº§\n\n\n# è¿ææ°æ®\n\nRedisæ¯ä¸ä¸ªåå­çº§å«çæ°æ®åº æææ°æ®é½å­æ¾å¨åå­ä¸­ æä»¬å¯ä»¥éè¿æä»¤TTLè·åæå®æ°æ®ç¶æ\n\n * XX å·ææ¶ææ§çæ°æ®\n * -1 æ°¸ä¹ææçæ°æ®\n * -2 å·²ç»è¿æçæ°æ® æè¢« å·²å é¤ æ æªå®ä¹çæ°æ®\n\n\n\næä»¬éè¿SETEXè®¾ç½®çæææ¶é´ redisä¼æ°å¼è¾ä¸ä¸ªé®å¼å¯¹ ç¨æ¥å­å¨keyå¯¹åºçvalueå°åå¼ ä»¥åå­æ´»æ¶é´\n\n\n# å®æ¶å é¤\n\nåå»ºä¸ä¸ªå®æ¶å¨,å½keyè®¾ç½®çè¿ææ¶é´å°è¾¾æ¶,ç±å®æ¶å¨æ§è¡çå¯¹é®å é¤æä½\n\nä¼å:èçº¦åå­ å¿«ééæ¾ä¸å¿è¦çåå®¹\n\nç¼ºç¹:cpuè´è½½éå¤§ ä¼å½±åredisæå¡å¨ååºæ¶é´åæä»¤ååé\n\nä½¿ç¨å¤çæ§è½æ¢åå­å¨ç©ºé´\n\n\n# æ°æ§å é¤\n\næ°æ®å°è¾¾è¿ææ¶é´,ä¸åå¤ç,ç­ä¸æ¬¡è®¿é®è¯¥æ°æ®æ¶å é¤\n\n * å¦ææªè¿æ è¿åæ°æ®\n * å¦æå·²è¿æ å é¤ è¿åä¸å­å¨\n\néè¿getæ¹æ³æ¥è¯¢æ¶,getç»å®expirelfNeeded()æ¹æ³ æ­¤æ¹æ³ä¼æ£æµæ°æ®æ¯å¦è¿æ\n\nä¼ç¹:èçº¦cpuæ§è½ åªæè®¿é®æ¶æè¿è¡å¤å«å é¤\n\nç¼ºç¹:åå­ååå¤§ åºç°é¿æå ç¨åå®¹\n\nç¨å­å¨ç©ºé´æ¢åå¤çå¨æ§è½\n\n\n# å®æå é¤\n\néè¿è®¾ç½®redis.configæä»¶ä¸­ç hz å±æ§ é»è®¤ä¸º10\n\nä¸ºæ¯ç§æ§è¡hzçæ¬¡æ°\n\nè®¾ç½®åæå¡å¨æ¯ç§æ§è¡hzæ¬¡ serverCron() --\x3e databasesCron() --\x3e activeExpireCycle()\n\nactiveExpireCycle() å¯¹æ¯ä¸ªexpires[*](åæè¥å¹²åº) éä¸è¿è¡æ£æµ æ¯æ¬¡æ§è¡250ms/hz\n\nå¯¹æä¸ªexpires[*]æ£æµæ¶,éæºæéWä¸ªkeyæ£æµ\n\n * å¦ækeyè¶æ¶,å é¤key\n * å¦æä¸è½®ä¸­å é¤keyçæ°æ®>W*25%,å¾ªç¯è¯¥è¿ç¨\n * å¦æä¸è½®ä¸­å é¤keyçæ°æ®<=W*25%,åæ£æ¥ä¸ä¸ä¸ªexpires[*]\n * Wåå¼=ACTIVE_EXPIRE_CYCLE_LOOKUPS_PER_LOOPå±æ§å¼\n\nåæ°current_dbç¨äºè®°å½activeExpireCycle()è¿å¥åªä¸ªexpires[*]æ§è¡\n\nå¦æactiveExpireCyle()æ§è¡æ¶é´å°æ,ä¸æ¬¡ä»current_dbç»§ç»­åä¸æ§è¡\n\nä¼ç¹:cpuæ§è½å ç¨è®¾ç½®å³°å¼ æ£æµé¢åº¦å¯èªå®ä¹\n\nåå®¹ååä¸æ¯å¾å¤§ é¿æå ç¨åå­çå·æ°æ®ä¼è¢«æ¸çæ\n\n\n# æ·æ±°ç­ç¥\n\nå½redisä½¿ç¨åå®¹å­å¨æ°æ®,æ§è¡æ¯ä¸ä¸ªå½ä»¤å,ä¼è°ç¨freeMemoryIfNeeded()æ£æµåå­æ¯å¦åè¶³.å¦æä¸æ»¡è¶³å å¥æ°æ®çæä½å­å¨è¦æ±,åredisä¼ä¸ºå½åæä»¤æ¸çå­å¨ç©ºé´.æ¸çæ°æ®çç­ç¥åç§°ä¸ºéåºç®æ³\n\néåºæ°æ®çè¿ç¨ä¸æ¯ç¾åç¾è½å¤æ¸çåºè¶³å¤çå¯ä½¿ç¨ç©ºé´,å¦æä¸æåååå¤æ§è¡.å½å¯¹æææ°æ®å°è¯å®æ¯,å¦æä»ç¶ä¸è½å°è¾¾åå­æ¸çè¦æ±,å°åºç°éè¯¯ä¿¡æ¯\n\nèredisä¸­åå­ç©ºé´æ¯æ ¹æ®ç©çåå­åéç½®ä¿¡æ¯æ¥æå®\n\n * maxmenory ?mb é»è®¤å¼ä¸º0ä¸åéå¶ éå¸¸è®¾ç½®å¨50%ä»¥ä¸\n\n * maxmemory-samples count æ¯æ¬¡éåå¾å é¤æ°æ®çä¸ªæ°,éç¨éæºè·åæ°æ®çæ¹å¼ä½ä¸ºå¾æ£æµå é¤æ°æ®\n\n * maxmemory-policy policy å¯¹æ°æ®è¿è¡å é¤çéæ©ç­ç¥\n   \n   * æ£æµæå¤±æ°æ®(å¯è½ä¼è¿æçæ°æ®éserver.db[i].expires)\n     * volatile-lru æéæè¿æå°ä½¿ç¨çæ°æ®æ·æ±°\n     * valatile-lfu æéæè¿ä½¿ç¨æ¬¡æ°æå°çæ°æ®æ·æ±°\n     * valatile-tfl æéå°è¦è¿æçæ°æ®æ·æ±°\n     * volatile-random ä»»æéæ©æ°æ®æ·æ±°\n     * \n   * æ£æµå¨åºæ°æ®(æææ°æ®éserver.db[i].dict)\n     * allkeys-lru æéæè¿æå°ä½¿ç¨çæ°æ®æ·æ±°\n     * allkeys-lfu æéæè¿ä½¿ç¨æ¬¡æ°æå°çæ°æ®æ·æ±°\n     * allkeys-random ä»»æéæ©æ°æ®æ·æ±°\n   * æ¾å¼æ°æ®é©±é\n     * no-enviction(é©±é) ç¦æ­¢é©±éæ°æ®(redis4.0ä¸­é»è®¤ç­ç¥) ä¼å¼åéè¯¯OOM(Out Of Memory)\n   \n   ä½¿ç¨INFOå½ä»¤è¾åºçæ§ä¿¡æ¯,æ¥è¯¢ç¼å­hitåmissçæ¬¡æ°,æ ¹æ®ä¸å¡éæ±è°ç¨Rediséç½®\n\n\n# ä¸»ä»å¤å¶\n\n\n\n\n# äºèç½ "ä¸é«" æ¶æ\n\n * é«å¹¶å\n * é«æ§è½\n * é«å¯ç¨\n   * å¯ç¨æ§ = (1å¹´çæ»æ¶é´ - 1å¹´å®æºçæ»æ¶é´) / 1å¹´çæ»æ¶é´ * 100% : ä¸çå¯ç¨æ§ç®æ 5ä¸ª9 å³99.999% å³æå¡å¨å¹´å®æºæ¶é¿ä½äº315ç§ çº¦5.25åé\n\n\n# é¶æ®µä¸:å»ºç«è¿æ¥é¶æ®µ\n\nå»ºç«slaveå°masterçè¿æ¥,ä½¿ç¨masterè½å¤è¯å«slave,å¹¶ä¿å­slaveç«¯å£å·\n\n 1.  saveof ip port : salveåéæä»¤ç»master\n 2.  masteræ¥åå°æä»¤,ååºå¯¹æ¹\n 3.  ä¿å­masterçipä¸ç«¯å£ masterhost å masterport\n 4.  æ ¹æ®ä¿å­çä¿¡æ¯åå»ºè¿æ¥masterçsocket\n 5.  å¨ææ§åépingæä»¤\n 6.  ååºpong\n 7.  åéæä»¤ auth password (å¦æ å¯ç åå¿½ç¥)\n 8.  éªè¯ææ\n 9.  replconf listening-port <port-number>\n 10. ä¿å­slaveçç«¯å£å·\n\n# ä¸»ä»è¿æ¥ (slaveè¿æ¥mazster)\n\n * æ¹å¼ä¸ ä»æºå®¢æ·ç«¯åéå½ä»¤ slaveof masterip masterport\n * æ¹å¼äº å¯å¨æå¡å¨æ¶è¿æ¥ redis-server -slaveof masterip masterport\n * æ¹å¼ä¸ æå¡å¨éç½® å¨ä»æºæå¡å¨çredisæå¡å¨éç½®æä»¶ å ä¸ slaveof masterip masterport\n\n# ä¸»ä»æ­å¼è¿æ¥\n\n * æ­å¼slaveä¸masterçè¿æ¥ ä¸ä¼å é¤å·²ææ°æ® åªæ¯ä¸åæ¥åmasteråéçæ°æ® salveof no one å¨ä»æºä¸æ§è¡\n\n# ææè®¿é®\n\n\n\n\n# é¶æ®µäº:æ°æ®åæ­¥é¶æ®µå·¥ä½æµç¨\n\n\n\n 1. å¦æmasteræ°æ®éå·¨å¤§,æ°æ®åæ­¥é¶æ®µåºè¯¥é¿å¼æµéé«å³°æ,é¿åé æé»å¡\n\n 2. å¦æå¤å¶ç¼å²åºè®¾ç½®ä¸åç,ä¼å¯¼è´æ°æ®æº¢åº. å¦æå¨éå¤å¶å¨æå¤ªé¿,è¿è¡é¨åå¤å¶æ¶åç°æ°æ®å·²ç»å­å¨ä¸¢å¤±,å¿é¡»è¿è¡ç¬¬äºæ¬¡å¨éå¤å¶ å¯¼è´slaveé·å¥æ­»å¾ªç¯\n    \n    #å¨ä¸»æå¡å¨éç½®æä»¶éç½® éç½®ç¼å­åºå¤§å°\n    repl-backlog-size ?mb\n    \n    \n    1\n    2\n    \n\n 3. masteråæºåå­å ç¨ä¸»æºåå­æ¯ä¾åºå¨50%-70%,çä¸30-50ä½ä¸ºbgsaveå½ä»¤ååå»ºå¤å¶ç¼å²åº\n\n 4. å¨slaveè¿è¡å¨éå¤å¶/é¨åå¤å¶æ¶ å»ºè®®å³é­æ­¤æ¶å¯¹å¤æå¡\n    \n    #å¨ä»æå¡å¨éç½®æä»¶ä¸­éç½®  å³é­åå¼å¯\n    slave-serve-stale-data yes|no\n    \n    \n    1\n    2\n    \n\n 5. æ°æ®åæ­¥é¶æ®µ masteråéç»slaveä¿¡æ¯å¯ä»¥çè§£ä¸ºmasteræ¯slaveçä¸ä¸ªå®¢æ·ç«¯ ä¸»å¨åslaveåéå½ä»¤\n\n 6. å¤ä¸ªslaveåæ¶å¯¹masterè¯·æ±æ°æ®åæ­¥ masteråéçrdbæä»¶å¢å¤ å¦æmasterå¸¦å®½ä¸è¶³ ä¼å¯¹å¸¦å®½é æå·¨å¤§å²å» å»ºè®®éééå³°è¯·æ±åæ­¥\n\n 7. salveè¿å¤æ¶ å»ºè®®è°æ´ææç»æ ç±ä¸ä¸»å¤ä»ç»æåä¸ºæ ç¶ç»æ ä¸­é´çèç¹å³ä½¿master ä¹salve ä½¿ç¨æ ç¶ç»ææ¶ ç±äºå±çº§æ·±åº¦ å¯¼è´æ·±åº¦è¶é«çslaveä¸æé¡¶å±masteré´æ°æ®åæ­¥å»¶è¿è¾å¤§ æ°æ®ä¸è´æ§åå·® åºè°¨æéæ©\n\n\n# é¶æ®µä¸:å½ä»¤ä¼ æ­é¶æ®µ\n\nå½ä»¤ä¼ æ­é¶æ®µåºç°äºæ­ç½ç°è±¡ï¼\n\nç½ç»éªæ­éªè¿ï¼å¿½ç¥\n\nç­æ¶é´ç½ç»ä¸­æ­ï¼é¨åå¤å¶\n\né¿æ¶é´ç½ç»ä¸­æ­ï¼å¨éå¤å¶\n\nå·¥ä½åç\n\n * éè¿offsetåºåä¸åçslaveå½åæ°æ®ä¼ æ­çå·®å¼\n * masterè®°å½å·²åéçä¿¡æ¯å¯¹åºçoffset\n * slaveè®°å½å·²æ¥æ¶çä¿¡æ¯å¯¹åºçoffset\n\n\n\n# æµç¨æ´æ°\n\n\n\n# å¿è·³æºå¶\n\nè¿å¥å½ä»¤ä¼ æ­é¶æ®µåï¼masterä¸slaveé´éè¦è¿è¡ä¿¡æ¯äº¤æ¢ï¼ä½¿ç¨å¿è·³æºå¶è¿è¡ç»´æ¤ï¼å®ç°åæ¹è¿æ¥ä¿æå¨çº¿\n\nmasterå¿è·³ï¼\n\n * åé¨æä»¤ï¼PING\n * å¨æï¼ç±repl-ping-slave-periodå³å®ï¼é»è®¤10ç§\n * ä½ç¨ï¼å¤æ­slaveæ¯å¦å¨çº¿\n * æ¥è¯¢ï¼INFO replication è·åslaveæåä¸æ¬¡è¿æ¥æ¶é´é´éï¼lagé¡¹ç»´æå¨0æ1è§ä¸ºæ­£å¸¸\n\nslaveå¿è·³ä»»å¡\n\n * åé¨æä»¤ï¼REPLCONF ACK {offset}\n * å¨æï¼1ç§\n * ä½ç¨1ï¼æ±æ¥slaveèªå·±çå¤å¶åç§»éï¼è·åææ°çæ°æ®åæ´æä»¤\n * ä½ç¨2ï¼å¤æ­masteræ¯å¦å¨çº¿\n\nå¿è·³é¶æ®µæ³¨æäºé¡¹ï¼\n\n * å½slaveå¤æ°æçº¿ï¼æå»¶è¿è¿é«æ¶ï¼masterä¸ºä¿éæ°æ®ç¨³å®æ§ï¼å°æç»ææä¿¡æ¯åæ­¥\n\n#å¨ä¸»æå¡å¨éç½®æä»¶ä¸­éç½®\nmin-slaves-to-write 2\nmin-slaves-max-lag 8\n\n\n1\n2\n3\n\n\nslaveæ°éå°äº2ä¸ªï¼æèææslaveçå»¶è¿é½å¤§äºç­äº8ç§æ¶ï¼å¼ºå¶å³é­masterååè½ï¼åæ­¢æ°æ®åæ­¥\n\n * slaveæ°éç±slaveåéREPLCONF ACKå½ä»¤åç¡®è®¤\n\n * slaveå»¶è¿ç±slaveåéREPLCONF ACKå½ä»¤åç¡®è®¤\n\n\n\n\n# é¢ç¹çå¨éå¤å¶\n\n * ä¼´éçç³»ç»çè¿è¡ï¼masterçæ°æ®éä¼è¶æ¥è¶å¤§ï¼ä¸æ¦masteréå¯ï¼runidå°åçååï¼ä¼å¯¼è´å¨é¨slaveçå¨éå¤å¶æä½\n\nåé¨ä¼åè°æ´æ¹æ¡ï¼\n\n1ï¼masteråé¨åå»ºmaster_replidåéï¼ä½¿ç¨runidç¸åçç­ç¥çæï¼é¿åº¦41ä½ï¼å¹¶åéç»ææslave\n\n2ï¼å¨masterå³é­æ¶æ§è¡å½ä»¤shutdown saveï¼è¿è¡RDBæä¹å,å°runidä¸offsetä¿å­å°RDBæä»¶ä¸­\n\n * repl-id repl-offset\n\n * éè¿redis-check-rdbå½ä»¤å¯ä»¥æ¥çè¯¥ä¿¡æ¯\n\n3ï¼masteréå¯åå è½½RDBæä»¶ï¼æ¢å¤æ°æ®ï¼éå¯åï¼å°RDBæä»¶ä¸­ä¿å­çrepl-idä¸repl-offsetå è½½å°åå­ä¸­\n\n * master_repl_id=repl master_repl_offset =repl-offset\n\n * éè¿infoå½ä»¤å¯ä»¥æ¥çè¯¥ä¿¡æ¯\n\nä½ç¨ï¼æ¬æºä¿å­ä¸æ¬¡runidï¼éå¯åæ¢å¤è¯¥å¼ï¼ä½¿ææslaveè®¤ä¸ºè¿æ¯ä¹åçmaster\n\n * ç¬¬äºç§åºç°é¢ç¹å¨éå¤å¶çé®é¢ç°è±¡ï¼ç½ç»ç¯å¢ä¸ä½³ï¼åºç°ç½ç»ä¸­æ­ï¼slaveä¸æä¾æå¡\n\né®é¢åå ï¼å¤å¶ç¼å²åºè¿å°ï¼æ­ç½åslaveçoffsetè¶çï¼è§¦åå¨éå¤å¶\n\næç»ç»æï¼slaveåå¤è¿è¡å¨éå¤å¶\n\nè§£å³æ¹æ¡ï¼ä¿®æ¹å¤å¶ç¼å²åºå¤§å°\n\nrepl-backlog-size ?mb\n\n\n1\n\n\nå»ºè®®è®¾ç½®å¦ä¸ï¼\n\n1.æµç®ä»masterå°slaveçéè¿å¹³åæ¶é¿second\n\n2.è·åmasterå¹³åæ¯ç§äº§çåå½ä»¤æ°æ®æ»éwrite_size_per_second\n\n3.æä¼å¤å¶ç¼å²åºç©ºé´ = 2 * second * write_size_per_second\n\n# é¢ç¹çç½ç»ä¸­æ­\n\n * é®é¢ç°è±¡ï¼masterçCPUå ç¨è¿é« æ slaveé¢ç¹æ­å¼è¿æ¥\n\né®é¢åå \n\n * slaveæ¯1ç§åéREPLCONFACKå½ä»¤å°master\n * å½slaveæ¥å°äºæ¢æ¥è¯¢æ¶ï¼keys * ï¼hgetallç­ï¼ï¼ä¼å¤§éå ç¨CPUæ§è½\n * masteræ¯1ç§è°ç¨å¤å¶å®æ¶å½æ°replicationCron()ï¼æ¯å¯¹slaveåç°é¿æ¶é´æ²¡æè¿è¡ååº\n\næç»ç»æï¼masteråç§èµæºï¼è¾åºç¼å²åºãå¸¦å®½ãè¿æ¥ç­ï¼è¢«ä¸¥éå ç¨\n\nè§£å³æ¹æ¡ï¼éè¿è®¾ç½®åççè¶æ¶æ¶é´ï¼ç¡®è®¤æ¯å¦éæ¾slave\n\nrepl-timeout seconds\n\n\n1\n\n\nè¯¥åæ°å®ä¹äºè¶æ¶æ¶é´çéå¼ï¼é»è®¤60ç§ï¼ï¼è¶è¿è¯¥å¼ï¼éæ¾slave\n\n# æ°æ®ä¸ä¸è´\n\né®é¢ç°è±¡ï¼å¤ä¸ªslaveè·åç¸åæ°æ®ä¸åæ­¥\n\né®é¢åå ï¼ç½ç»ä¿¡æ¯ä¸åæ­¥ï¼æ°æ®åéæå»¶è¿\n\nè§£å³æ¹æ¡\n\n * ä¼åä¸»ä»é´çç½ç»ç¯å¢ï¼éå¸¸æ¾ç½®å¨åä¸ä¸ªæºæ¿é¨ç½²ï¼å¦ä½¿ç¨é¿éäºç­äºæå¡å¨æ¶è¦æ³¨ææ­¤ç°è±¡\n * çæ§ä¸»ä»èç¹å»¶è¿ï¼éè¿offsetï¼å¤æ­ï¼å¦æslaveå»¶è¿è¿å¤§ï¼ææ¶å±è½ç¨åºå¯¹è¯¥slaveçæ°æ®è®¿é®\n\nslave-serve-stale-data\tyes|no\n\n\n1\n\n\nå¼å¯åä»ååºinfoãslaveofç­å°æ°å½ä»¤ï¼æç¨ï¼é¤éå¯¹æ°æ®ä¸è´æ§è¦æ±å¾é«ï¼\n\n\n# å¨åµæ¨¡å¼\n\nå¨åµ(sentinel) æ¯ä¸ä¸ªåå¸å¼ç³»ç»,ç¨äºå¯¹ä¸»ä»ç»æä¸­çæ¯å°æå¡å¨è¿è¡çæ§,å½åºç°æéæ¶éè¿æç¥¨æºå¶éæ©æ°çmasterå¹¶å°ææslaveè¿æ¥å°æ°çmaster\n\nå¨åµä¹æ¯ä¸å°redisæå¡å¨ åªæ¯ä¸æä¾æ°æ®ç¸å³æå¡ éå¸¸å¨åµçæ°ééç½®ä¸ºåæ°\n\n\n# éç½®å¨åµ\n\néè¿sentinel.conf éç½®\n\n * sentinel monitor master_name master_host master_port sentinel_number è®¾ç½®å¨åµçå¬çä¸»æå¡å¨ä¿¡æ¯ sentinel_numberè¡¨ç¤ºåä¸æç¥¨çå¨åµæ°é è®¾ç½®è¶è¿å¨åµåæ°å³å¯\n * sentinel down-after-milliseconds master_name million_seconds è®¾ç½®å¤å®æå¡å¨å®æºæ¶é¿ è¯¥è®¾ç½®æ§å¶æ¯å¦è¿è¡ä¸»ä»åæ¢\n * sentinel failover-timeout master_name million_seconds è®¾ç½®æéåæ¢çæå¤§è¶æ¶æ¶é¿\n * sentinel parallel-syncs master_name sync_slave_number è®¾ç½®ä¸»ä»åæ¢å,åæ¶è¿è¡æ°æ®çslaveæ°é å¼è¶å¤§ è¦æ±ç½ç»èµæºè¶é« å¼è¶å° åæ­¥æ¶é´è¶é¿\n * redis-sentinel filename(sentinel.conféç½®æä»¶è·¯å¾) å¯å¨å¨åµ\n\n\n# é¶æ®µä¸:çæ§é¶æ®µ\n\n * è·ååä¸ªsentinelçç¶æï¼æ¯å¦å¨çº¿ï¼\n\n * è·åmasterçç¶æ\n\n * è·åææslaveçç¶æï¼æ ¹æ®masterä¸­çslaveä¿¡æ¯ï¼\n\n\n\n\n# é¶æ®µäº:éç¥é¶æ®µ\n\nsentinelå¨éç¥é¶æ®µè¦ä¸æ­çå»è·åmaster/slaveçä¿¡æ¯ï¼ç¶åå¨åä¸ªsentinelä¹é´è¿è¡å±äº«ï¼å·ä½çæµç¨å¦ä¸ï¼\n\n\n\n\n# é¶æ®µä¸:æéè½¬ç§»\n\n# å¤æ­masterå®æº\n\n\n\nä¸»è§ä¸çº¿:ä»»æä¸ä¸ªsentineè®¤ä¸ºmasterå·²ç»ä¸çº¿\n\nå®¢è§ä¸çº¿:åæ°ä»¥ä¸çsentineè®¤ä¸ºmasterå·²ç»ä¸çº¿\n\n# éä¸¾master\n\næ¯ä¸ªsentineé½æä¸ç¥¨ æç»ç¥¨æå¤çç§°ä¸ºå¤çäºæçå¨åµæå¡\n\n\n\né¦åå®æä¸ä¸ªå¨æå¡å¨åè¡¨ä¸­æéå¤émasterçåå\n\n * ä¸å¨çº¿çOUT\n\n * ååºæ¢çOUT\n\n * ä¸åmasteræ­å¼æ¶é´ä¹çOUT\n\n * ä¼ååå\n   \n   ä¼åçº§ offset runid\n\næ»ç»ï¼æéè½¬ç§»é¶æ®µ\n\n 1. åç°é®é¢ï¼ä¸»è§ä¸çº¿ä¸å®¢è§ä¸çº¿\n 2. ç«éè´è´£äºº\n 3. ä¼éæ°master\n 4. æ°masterä¸ä»»ï¼å¶ä»slaveåæ¢masterï¼åmasterä½ä¸ºslaveæéæ¢å¤åè¿æ¥\n\n\n# Clusteréç¾¤\n\néç¾¤å°±æ¯ä½¿ç¨ç½ç»å°è¥å¹²å°è®¡ç®æºèéèµ·æ¥ï¼å¹¶æä¾ç»ä¸çç®¡çæ¹å¼ï¼ä½¿å¶å¯¹å¤åç°åæºçæå¡ææ\n\n\n\n\n# Clusteréç¾¤ç»æè®¾è®¡\n\næ°æ®å­å¨è®¾è®¡ï¼\n\n 1. éè¿ç®æ³è®¾è®¡ï¼è®¡ç®åºkeyåºè¯¥ä¿å­çä½ç½®\n\n 2. å°ææçå­å¨ç©ºé´è®¡ååå²æ16384ä»½ï¼æ¯å°ä¸»æºä¿å­ä¸é¨å\n    \n    æ³¨æï¼æ¯ä»½ä»£è¡¨çæ¯ä¸ä¸ªå­å¨ç©ºé´ï¼ä¸æ¯ä¸ä¸ªkeyçä¿å­ç©ºé´\n\n 3. å°keyæç§è®¡ç®åºçç»ææ¾å°å¯¹åºçå­å¨ç©ºé´\n\né£redisçéç¾¤æ¯å¦ä½å¢å¼ºå¯æ©å±æ§çå¢ï¼è­¬å¦æä»¬è¦å¢å ä¸ä¸ªéç¾¤èç¹\n\n\n\nå½æä»¬æ¥æ¾æ°æ®æ¶ï¼éç¾¤æ¯å¦ä½æä½çå¢ï¼\n\n * åä¸ªæ°æ®åºç¸äºéä¿¡ï¼ä¿å­åä¸ªåºä¸­æ§½çç¼å·æ°æ®\n * ä¸æ¬¡å½ä¸­ï¼ç´æ¥è¿å\n * ä¸æ¬¡æªå½ä¸­ï¼åç¥å·ä½ä½ç½®\n\n\n\n\n# éç½®\n\nå¨redis-6401.confä¸­éç½®\n\n * cluster-enabled yes|no æ¯å¦å¯ç¨clusterï¼å å¥clusterèç¹\n * cluster-config-file cluster-6503.conf clusteréç½®æä»¶åï¼è¯¥æä»¶å±äºèªå¨çæï¼ä»ç¨äºå¿«éæ¥æ¾æä»¶å¹¶æ¥è¯¢æä»¶åå®¹\n * cluster-node-timeout milliseconds èç¹æå¡ååºè¶æ¶æ¶é´ï¼ç¨äºå¤å®è¯¥èç¹æ¯å¦ä¸çº¿æåæ¢ä¸ºä»èç¹ æ¯«ç§æ°\n * cluster-migration-barrier min_slave_number masterè¿æ¥çslaveæå°æ°é\n\n\n# å¯å¨Culster\n\nredis-cli â-cluster create masterhost1:masterport1 masterhost2:masterport2  masterhost3:masterport3 [masterhostn:masterportn â¦] slavehost1:slaveport1  slavehost2:slaveport2 slavehost3:slaveport3 -âcluster-replicas n\n\n\n1\n\n\nnä¸ºå¤å°ä¸ªä¸»æå¡å¨ ånä¸ªipä¸ºä¸»æå¡å¨ åé¢ä¸ºslaveæå¡å¨\n\n * cluster nodes æ¥è¯¢éç¾¤èç¹ä¿¡æ¯\n\n\n# èç¹å¢å \n\n * æ·»å masterå°å½åéç¾¤ä¸­ï¼è¿æ¥æ¶å¯ä»¥æå®ä»»æç°æèç¹å°åä¸ç«¯å£\n   \n   redis-cli --cluster add-node new-master-host:new-master-port now-host:now-port\n   \n   \n   1\n   \n\n * æ·»å slave\n   \n   redis-cli --cluster add-node new-slave-host:new-slave-port master-host:master-port --cluster-slave --cluster-master-id masterid\n   \n   \n   1\n   \n\n * å é¤èç¹ï¼å¦æå é¤çèç¹æ¯masterï¼å¿é¡»ä¿éå¶ä¸­æ²¡ææ§½slot\n   \n   redis-cli --cluster del-node del-slave-host:del-slave-port del-slave-id\n   \n   \n   1\n   \n\n * éæ°åæ§½ï¼åæ§½æ¯ä»å·ææ§½çmasterä¸­ååä¸é¨åç»å¶ä»masterï¼è¿ç¨ä¸­ä¸åå»ºæ°çæ§½\n   \n   redis-cli --cluster reshard new-master-host:new-master:port --cluster-from src-  master-id1, src-master-id2, src-master-idn --cluster-to target-master-id --  cluster-slots slots\n   #å°éè¦åä¸åæ§½çææmasteridä¸åååé¡ºåºæ·»å å°åæ°ä¸­ï¼ä½¿ç¨ï¼åé\n   #æå®ç®æ å¾å°çæ§½çæ°éï¼ææçæ§½å°å¹³åä»æ¯ä¸ªæ¥æºçmasterå¤è·å\n   \n   \n   1\n   2\n   3\n   \n\n * éæ°åéæ§½ï¼ä»å·ææ§½çmasterä¸­åéæå®æ°éçæ§½å°å¦ä¸ä¸ªmasterä¸­ï¼å¸¸ç¨äºæ¸ç©ºæå®masterä¸­çæ§½\n   \n   redis-cli --cluster reshard src-master-host:src-master-port --cluster-from src-  master-id --cluster-to target-master-id --cluster-slots slots --cluster-yes\n   \n   \n   1\n   \n\n\n# ç¼å­é¢ç­\n\n1.è¯·æ±æ°éè¾é«ï¼å¤§éçè¯·æ±è¿æ¥ä¹åé½éè¦å»ä»ç¼å­ä¸­è·åæ°æ®ï¼ä½æ¯ç¼å­ä¸­åæ²¡æï¼æ­¤æ¶ä»æ°æ®åºä¸­æ¥æ¾æ°æ®ç¶åå°æ°æ®åå­å¥ç¼å­ï¼é æäºç­æåå¯¹redisçé«å¼ºåº¦æä½ä»èå¯¼è´é®é¢\n\n2.ä¸»ä»ä¹é´æ°æ®ååéè¾å¤§ï¼æ°æ®åæ­¥æä½é¢åº¦è¾é«\n\n * åç½®åå¤å·¥ä½ï¼\n\n1.æ¥å¸¸ä¾è¡ç»è®¡æ°æ®è®¿é®è®°å½ï¼ç»è®¡è®¿é®é¢åº¦è¾é«çç­ç¹æ°æ®\n\n2.å©ç¨LRUæ°æ®å é¤ç­ç¥ï¼æå»ºæ°æ®çå­éåä¾å¦ï¼stormä¸kafkaéå\n\n * åå¤å·¥ä½ï¼\n\n1.å°ç»è®¡ç»æä¸­çæ°æ®åç±»ï¼æ ¹æ®çº§å«ï¼redisä¼åå è½½çº§å«è¾é«çç­ç¹æ°æ®\n\n2.å©ç¨åå¸å¼å¤æå¡å¨åæ¶è¿è¡æ°æ®è¯»åï¼æéæ°æ®å è½½è¿ç¨\n\n3.ç­ç¹æ°æ®ä¸»ä»åæ¶é¢ç­\n\n * å®æ½ï¼\n\n4.ä½¿ç¨èæ¬ç¨åºåºå®è§¦åæ°æ®é¢ç­è¿ç¨\n\n5.å¦ææ¡ä»¶åè®¸ï¼ä½¿ç¨äºCDNï¼åå®¹ååç½ç»ï¼ï¼ææä¼æ´å¥½\n\næ»çæ¥è¯´ï¼ç¼å­é¢ç­å°±æ¯ç³»ç»å¯å¨åï¼æåå°ç¸å³çç¼å­æ°æ®ç´æ¥å è½½å°ç¼å­ç³»ç»ãé¿åå¨ç¨æ·è¯·æ±çæ¶åï¼åæ¥è¯¢æ°æ®åºï¼ç¶ååå°æ°æ®ç¼å­çé®é¢ï¼ç¨æ·ç´æ¥æ¥è¯¢äºåè¢«é¢ç­çç¼å­æ°æ®ï¼\n\n\n# ç¼å­éªå´©\n\n1.ç³»ç»å¹³ç¨³è¿è¡è¿ç¨ä¸­ï¼å¿½ç¶æ°æ®åºè¿æ¥éæ¿å¢\n\n2.åºç¨æå¡å¨æ æ³åæ¶å¤çè¯·æ±\n\n3.å¤§é408ï¼500éè¯¯é¡µé¢åºç°\n\n4.å®¢æ·åå¤å·æ°é¡µé¢è·åæ°æ®\n\n5.æ°æ®åºå´©æº\n\n6.åºç¨æå¡å¨å´©æº\n\n7.éå¯åºç¨æå¡å¨æ æ\n\n8.Redisæå¡å¨å´©æº\n\n9.Rediséç¾¤å´©æº\n\n10.éå¯æ°æ®åºååæ¬¡è¢«ç¬é´æµéæ¾å\n\nè§£å³æ¹æ¡\n\n * æè·¯ï¼\n\n1.æ´å¤çé¡µé¢éæåå¤ç\n\n2.æå»ºå¤çº§ç¼å­æ¶æ\n\nNginxç¼å­+redisç¼å­+ehcacheç¼å­\n\n3.æ£æµMysqlä¸¥éèæ¶ä¸å¡è¿è¡ä¼å\n\nå¯¹æ°æ®åºçç¶é¢ææ¥ï¼ä¾å¦è¶æ¶æ¥è¯¢ãèæ¶è¾é«äºå¡ç­\n\n4.ç¾é¾é¢è­¦æºå¶\n\nçæ§redisæå¡å¨æ§è½ææ \n\nCPUå ç¨ãCPUä½¿ç¨ç\n\nåå­å®¹é\n\næ¥è¯¢å¹³åååºæ¶é´\n\nçº¿ç¨æ°\n\n5.éæµãéçº§\n\nç­æ¶é´èå´åçºç²ä¸äºå®¢æ·ä½éªï¼éå¶ä¸é¨åè¯·æ±è®¿é®ï¼éä½åºç¨æå¡å¨ååï¼å¾ä¸å¡ä½éè¿è½¬ååéæ­¥æ¾å¼è®¿é®\n\n * è½å°å®è·µï¼\n\n1.LRUä¸LFUåæ¢\n\n2.æ°æ®æææç­ç¥è°æ´\n\næ ¹æ®ä¸å¡æ°æ®æææè¿è¡åç±»éå³°ï¼Aç±»90åéï¼Bç±»80åéï¼Cç±»70åé\n\nè¿ææ¶é´ä½¿ç¨åºå®æ¶é´+éæºå¼çå½¢å¼ï¼ç¨ééä¸­å°æçkeyçæ°é\n\n3.è¶ç­æ°æ®ä½¿ç¨æ°¸ä¹key\n\n4.å®æç»´æ¤ï¼èªå¨+äººå·¥ï¼\n\nå¯¹å³å°è¿ææ°æ®åè®¿é®éåæï¼ç¡®è®¤æ¯å¦å»¶æ¶ï¼éåè®¿é®éç»è®¡ï¼åç­ç¹æ°æ®çå»¶æ¶\n\n5.å éï¼æç¨ï¼\n\næ»çæ¥è¯´ï¼ç¼å­éªå´©å°±æ¯ç¬é´è¿ææ°æ®éå¤ªå¤§ï¼å¯¼è´å¯¹æ°æ®åºæå¡å¨é æååãå¦è½å¤ææé¿åè¿ææ¶é´éä¸­ï¼å¯ä»¥ææè§£å³éªå´©ç°è±¡ç åºç°ï¼çº¦40%ï¼ï¼éåå¶ä»ç­ç¥ä¸èµ·ä½¿ç¨ï¼å¹¶çæ§æå¡å¨çè¿è¡æ°æ®ï¼æ ¹æ®è¿è¡è®°å½åå¿«éè°æ´ã\n\n\n# ç¼å­å»ç©¿\n\n1.ç³»ç»å¹³ç¨³è¿è¡è¿ç¨ä¸­\n\n2.æ°æ®åºè¿æ¥éç¬é´æ¿å¢\n\n3.Redisæå¡å¨æ å¤§ékeyè¿æ\n\n4.Redisåå­å¹³ç¨³ï¼æ æ³¢å¨\n\n5.Redisæå¡å¨CPUæ­£å¸¸\n\n6.æ°æ®åºå´©æº\n\né®é¢ææ¥ï¼\n\n1.Redisä¸­æä¸ªkeyè¿æï¼è¯¥keyè®¿é®éå·¨å¤§\n\n2.å¤ä¸ªæ°æ®è¯·æ±ä»æå¡å¨ç´æ¥åå°Redisåï¼åæªå½ä¸­\n\n3.Rediså¨ç­æ¶é´ååèµ·äºå¤§éå¯¹æ°æ®åºä¸­åä¸æ°æ®çè®¿é®\n\næ»èè¨ä¹å°±ä¸¤ç¹ï¼åä¸ªkeyé«ç­æ°æ®ï¼keyè¿æ\n\nè§£å³æ¹æ¡ï¼\n\n1.é¢åè®¾å®\n\nä»¥çµåä¸ºä¾ï¼æ¯ä¸ªåå®¶æ ¹æ®åºéºç­çº§ï¼æå®è¥å¹²æ¬¾ä¸»æååï¼å¨è´­ç©èæé´ï¼å å¤§æ­¤ç±»ä¿¡æ¯keyçè¿ææ¶é¿ æ³¨æï¼è´­ç©èä¸ä»ä»æå½å¤©ï¼ä»¥ååç»­è¥å¹²å¤©ï¼è®¿é®å³°å¼åç°éæ¸éä½çè¶å¿\n\n2.ç°åºè°æ´\n\nçæ§è®¿é®éï¼å¯¹èªç¶æµéæ¿å¢çæ°æ®å»¶é¿è¿ææ¶é´æè®¾ç½®ä¸ºæ°¸ä¹æ§key\n\n3.åå°å·æ°æ°æ®\n\nå¯å¨å®æ¶ä»»å¡ï¼é«å³°ææ¥ä¸´ä¹åï¼å·æ°æ°æ®æææï¼ç¡®ä¿ä¸ä¸¢å¤±\n\n4.äºçº§ç¼å­\n\nè®¾ç½®ä¸åçå¤±ææ¶é´ï¼ä¿éä¸ä¼è¢«åæ¶æ·æ±°å°±è¡\n\n5.å é\n\nåå¸å¼éï¼é²æ­¢è¢«å»ç©¿ï¼ä½æ¯è¦æ³¨æä¹æ¯æ§è½ç¶é¢ï¼æéï¼\n\næ»çæ¥è¯´ï¼ç¼å­å»ç©¿å°±æ¯åä¸ªé«ç­æ°æ®è¿æçç¬é´ï¼æ°æ®è®¿é®éè¾å¤§ï¼æªå½ä¸­redisåï¼åèµ·äºå¤§éå¯¹åä¸æ°æ®çæ°æ®åºè®¿é®ï¼å¯¼è´å¯¹æ° æ®åºæå¡å¨é æååãåºå¯¹ç­ç¥åºè¯¥å¨ä¸å¡æ°æ®åæä¸é¢é²æ¹é¢è¿è¡ï¼éåè¿è¡çæ§æµè¯ä¸å³æ¶è°æ´ç­ç¥ï¼æ¯ç«åä¸ªkeyçè¿ æçæ§é¾åº¦è¾é«ï¼éåéªå´©å¤çç­ç¥å³å¯ã\n\n\n# ç¼å­ç©¿é\n\n1.ç³»ç»å¹³ç¨³è¿è¡è¿ç¨ä¸­\n\n2.åºç¨æå¡å¨æµééæ¶é´å¢éè¾å¤§\n\n3.Redisæå¡å¨å½ä¸­çéæ¶é´éæ­¥éä½\n\n4.Redisåå­å¹³ç¨³ï¼åå­æ åå\n\n5.Redisæå¡å¨CPUå ç¨æ¿å¢\n\n6.æ°æ®åºæå¡å¨ååæ¿å¢\n\n7.æ°æ®åºå´©æº\n\né®é¢ææ¥ï¼\n\n1.Redisä¸­å¤§é¢ç§¯åºç°æªå½ä¸­\n\n2.åºç°éæ­£å¸¸URLè®¿é®\n\né®é¢åæï¼\n\n * è·åçæ°æ®å¨æ°æ®åºä¸­ä¹ä¸å­å¨ï¼æ°æ®åºæ¥è¯¢æªå¾å°å¯¹åºæ°æ®\n * Redisè·åå°nullæ°æ®æªè¿è¡æä¹åï¼ç´æ¥è¿å\n * ä¸æ¬¡æ­¤ç±»æ°æ®å°è¾¾éå¤ä¸è¿°è¿ç¨\n * åºç°é»å®¢æ»å»æå¡å¨\n\nè§£å³æ¹æ¡ï¼\n\n1.ç¼å­null\n\nå¯¹æ¥è¯¢ç»æä¸ºnullçæ°æ®è¿è¡ç¼å­ï¼é¿æä½¿ç¨ï¼å®ææ¸çï¼ï¼è®¾å®ç­æ¶éï¼ä¾å¦30-60ç§ï¼æé«5åé\n\n2.ç½ååç­ç¥\n\næåé¢ç­åç§åç±»æ°æ®idå¯¹åºçbitmapsï¼idä½ä¸ºbitmapsçoffsetï¼ç¸å½äºè®¾ç½®äºæ°æ®ç½ååãå½å è½½æ­£å¸¸æ°æ®æ¶æ¾è¡ï¼å è½½å¼å¸¸æ°æ®æ¶ç´æ¥æ¦æªï¼æçåä½ï¼\n\nä½¿ç¨å¸éè¿æ»¤å¨ï¼æå³å¸éè¿æ»¤å¨çå½ä¸­é®é¢å¯¹å½åç¶åµå¯ä»¥å¿½ç¥ï¼\n\n2.å®æ½çæ§\n\nå®æ¶çæ§rediså½ä¸­çï¼ä¸å¡æ­£å¸¸èå´æ¶ï¼éå¸¸ä¼æä¸ä¸ªæ³¢å¨å¼ï¼ä¸nullæ°æ®çå æ¯\n\néæ´»å¨æ¶æ®µæ³¢å¨ï¼éå¸¸æ£æµ3-5åï¼è¶è¿5åçº³å¥éç¹ææ¥å¯¹è±¡\n\næ´»å¨æ¶æ®µæ³¢å¨ï¼éå¸¸æ£æµ10-50åï¼è¶è¿50åçº³å¥éç¹ææ¥å¯¹è±¡\n\næ ¹æ®åæ°ä¸åï¼å¯å¨ä¸åçææ¥æµç¨ãç¶åä½¿ç¨é»ååè¿è¡é²æ§ï¼è¿è¥ï¼\n\n4.keyå å¯\n\né®é¢åºç°åï¼ä¸´æ¶å¯å¨é²ç¾ä¸å¡keyï¼å¯¹keyè¿è¡ä¸å¡å±ä¼ è¾å å¯æå¡ï¼è®¾å®æ ¡éªç¨åºï¼è¿æ¥çkeyæ ¡éª\n\nä¾å¦æ¯å¤©éæºåé60ä¸ªå å¯ä¸²ï¼æé2å°3ä¸ªï¼æ··æ·å°é¡µé¢æ°æ®idä¸­ï¼åç°è®¿é®keyä¸æ»¡è¶³è§åï¼é©³åæ°æ®è®¿é®\n\næ»çæ¥è¯´ï¼ç¼å­å»ç©¿æ¯æè®¿é®äºä¸å­å¨çæ°æ®ï¼è·³è¿äºåæ³æ°æ®çredisæ°æ®ç¼å­é¶æ®µï¼æ¯æ¬¡è®¿é®æ°æ®åºï¼å¯¼è´å¯¹æ°æ®åºæå¡å¨é æååãéå¸¸æ­¤ç±»æ°æ®çåºç°éæ¯ä¸ä¸ªè¾ä½çå¼ï¼å½åºç°æ­¤ç±»æåµä»¥æ¯æ»æ¯ï¼å¹¶åæ¶æ¥è­¦ãåºå¯¹ç­ç¥åºè¯¥å¨ä¸´æ¶é¢æ¡é²èæ¹é¢å¤åæç« ã\n\næ è®ºæ¯é»ååè¿æ¯ç½ååï¼é½æ¯å¯¹æ´ä½ç³»ç»çååï¼è­¦æ¥è§£é¤åå°½å¿«ç§»é¤ã\n\n\n# æ§è½ææ çæ§\n\næ§è½ææ \n\n * latency ååºè¯·æ±çå¹³åæ¶é´\n * instantaneous_ops_per_sec å¹³åæ¯ç§å¤çè¯·æ±æ»æ°\n * hit_rate(calculated) ç¼å­æ¥è¯¢å½ä¸­çï¼éè¿æ¥è¯¢æ»æ¬¡æ°ä¸æ¥è¯¢å¾å°énilæ°æ®æ»æ¬¡æ°è®¡ç®èæ¥ï¼\n\nåå­ææ \n\n * used_memory å½ååå­ä½¿ç¨é\n * mem_fragmentation_ratio åå­ç¢ççï¼å³ç³»å°æ¯å¦è¿è¡ç¢çæ´çï¼\n * evicted_keys ä¸ºé¿ååå­æº¢åºå é¤çkeyçæ»æ°é\n * blocked_clients åºäºé»å¡æä½ï¼BLPOPç­ï¼å½±åçå®¢æ·ç«¯æ°é\n\næ´»å¨ææ \n\n * connected_clients å½åå®¢æ·ç«¯è¿æ¥æ»æ°\n * connected_slaves å½åè¿æ¥slaveæ»æ°\n * master_last_io_seconds_ago æåä¸æ¬¡ä¸»ä»ä¿¡æ¯äº¤æ¢è·ç°å¨çç§\n * keyspace keyçæ»æ°\n\næä¹æ§ææ \n\n * rdb_last_save_time å½åæå¡å¨æåä¸æ¬¡RDBæä¹åçæ¶é´\n * rdb_changes_since_last_save å½åæå¡å¨æåä¸æ¬¡RDBæä¹ååæ°æ®ååæ»é\n\néè¯¯ææ \n\n * rejected_connections è¢«æç»è¿æ¥çå®¢æ·ç«¯æ»æ°ï¼åºäºè¾¾å°æå¤§è¿æ¥å¼çå ç´ ï¼\n * keyspace_misses keyæªå½ä¸­çæ»æ¬¡æ°\n * master_link_down_since_seconds ä¸»ä»æ­å¼çç§æ°\n\n\n# æ§è½ææ å·¥å·\n\næµè¯å½åæå¡å¨çå¹¶åæ§è½\n\nredis-benchmark [-h ] [-p ] [-c ] [-n <requests]> [-k ]\n\n\n1\n\n\n\n\nå¯å¨æå¡å¨è°è¯ä¿¡æ¯\n\nmonitor\n\n\n1\n\n\næ¢æ¥å¿ è®°å½æ¥è¯¢æ¢çæ¥å¿\n\n * slowlog [operator]\n   * get è·åæ¢æ¥å¿ä¿¡æ¯\n   * len è·åæ¢æ¥å¿æ¡ç®æ°\n   * reset éç½®æ¢æ¥è¯¢æ¥å¿\n\næ¢æ¥å¿éè¿redis-xxx.conféç½®\n\nslowlog-log-slower-than 1000 #è®¾ç½®æ¢æ¥è¯¢çæ¶é´ä¸çº¿ï¼åä½ï¼å¾®å¦\nslowlog-max-len 100\t#è®¾ç½®æ¢æ¥è¯¢å½ä»¤å¯¹åºçæ¥å¿æ¾ç¤ºé¿åº¦ï¼åä½ï¼å½ä»¤æ°\n\n\n1\n2\n',normalizedContent:'# redisé«çº§\n\n\n# è¿ææ°æ®\n\nredisæ¯ä¸ä¸ªåå­çº§å«çæ°æ®åº æææ°æ®é½å­æ¾å¨åå­ä¸­ æä»¬å¯ä»¥éè¿æä»¤ttlè·åæå®æ°æ®ç¶æ\n\n * xx å·ææ¶ææ§çæ°æ®\n * -1 æ°¸ä¹ææçæ°æ®\n * -2 å·²ç»è¿æçæ°æ® æè¢« å·²å é¤ æ æªå®ä¹çæ°æ®\n\n\n\næä»¬éè¿setexè®¾ç½®çæææ¶é´ redisä¼æ°å¼è¾ä¸ä¸ªé®å¼å¯¹ ç¨æ¥å­å¨keyå¯¹åºçvalueå°åå¼ ä»¥åå­æ´»æ¶é´\n\n\n# å®æ¶å é¤\n\nåå»ºä¸ä¸ªå®æ¶å¨,å½keyè®¾ç½®çè¿ææ¶é´å°è¾¾æ¶,ç±å®æ¶å¨æ§è¡çå¯¹é®å é¤æä½\n\nä¼å:èçº¦åå­ å¿«ééæ¾ä¸å¿è¦çåå®¹\n\nç¼ºç¹:cpuè´è½½éå¤§ ä¼å½±åredisæå¡å¨ååºæ¶é´åæä»¤ååé\n\nä½¿ç¨å¤çæ§è½æ¢åå­å¨ç©ºé´\n\n\n# æ°æ§å é¤\n\næ°æ®å°è¾¾è¿ææ¶é´,ä¸åå¤ç,ç­ä¸æ¬¡è®¿é®è¯¥æ°æ®æ¶å é¤\n\n * å¦ææªè¿æ è¿åæ°æ®\n * å¦æå·²è¿æ å é¤ è¿åä¸å­å¨\n\néè¿getæ¹æ³æ¥è¯¢æ¶,getç»å®expirelfneeded()æ¹æ³ æ­¤æ¹æ³ä¼æ£æµæ°æ®æ¯å¦è¿æ\n\nä¼ç¹:èçº¦cpuæ§è½ åªæè®¿é®æ¶æè¿è¡å¤å«å é¤\n\nç¼ºç¹:åå­ååå¤§ åºç°é¿æå ç¨åå®¹\n\nç¨å­å¨ç©ºé´æ¢åå¤çå¨æ§è½\n\n\n# å®æå é¤\n\néè¿è®¾ç½®redis.configæä»¶ä¸­ç hz å±æ§ é»è®¤ä¸º10\n\nä¸ºæ¯ç§æ§è¡hzçæ¬¡æ°\n\nè®¾ç½®åæå¡å¨æ¯ç§æ§è¡hzæ¬¡ servercron() --\x3e databasescron() --\x3e activeexpirecycle()\n\nactiveexpirecycle() å¯¹æ¯ä¸ªexpires[*](åæè¥å¹²åº) éä¸è¿è¡æ£æµ æ¯æ¬¡æ§è¡250ms/hz\n\nå¯¹æä¸ªexpires[*]æ£æµæ¶,éæºæéwä¸ªkeyæ£æµ\n\n * å¦ækeyè¶æ¶,å é¤key\n * å¦æä¸è½®ä¸­å é¤keyçæ°æ®>w*25%,å¾ªç¯è¯¥è¿ç¨\n * å¦æä¸è½®ä¸­å é¤keyçæ°æ®<=w*25%,åæ£æ¥ä¸ä¸ä¸ªexpires[*]\n * wåå¼=active_expire_cycle_lookups_per_loopå±æ§å¼\n\nåæ°current_dbç¨äºè®°å½activeexpirecycle()è¿å¥åªä¸ªexpires[*]æ§è¡\n\nå¦æactiveexpirecyle()æ§è¡æ¶é´å°æ,ä¸æ¬¡ä»current_dbç»§ç»­åä¸æ§è¡\n\nä¼ç¹:cpuæ§è½å ç¨è®¾ç½®å³°å¼ æ£æµé¢åº¦å¯èªå®ä¹\n\nåå®¹ååä¸æ¯å¾å¤§ é¿æå ç¨åå­çå·æ°æ®ä¼è¢«æ¸çæ\n\n\n# æ·æ±°ç­ç¥\n\nå½redisä½¿ç¨åå®¹å­å¨æ°æ®,æ§è¡æ¯ä¸ä¸ªå½ä»¤å,ä¼è°ç¨freememoryifneeded()æ£æµåå­æ¯å¦åè¶³.å¦æä¸æ»¡è¶³å å¥æ°æ®çæä½å­å¨è¦æ±,åredisä¼ä¸ºå½åæä»¤æ¸çå­å¨ç©ºé´.æ¸çæ°æ®çç­ç¥åç§°ä¸ºéåºç®æ³\n\néåºæ°æ®çè¿ç¨ä¸æ¯ç¾åç¾è½å¤æ¸çåºè¶³å¤çå¯ä½¿ç¨ç©ºé´,å¦æä¸æåååå¤æ§è¡.å½å¯¹æææ°æ®å°è¯å®æ¯,å¦æä»ç¶ä¸è½å°è¾¾åå­æ¸çè¦æ±,å°åºç°éè¯¯ä¿¡æ¯\n\nèredisä¸­åå­ç©ºé´æ¯æ ¹æ®ç©çåå­åéç½®ä¿¡æ¯æ¥æå®\n\n * maxmenory ?mb é»è®¤å¼ä¸º0ä¸åéå¶ éå¸¸è®¾ç½®å¨50%ä»¥ä¸\n\n * maxmemory-samples count æ¯æ¬¡éåå¾å é¤æ°æ®çä¸ªæ°,éç¨éæºè·åæ°æ®çæ¹å¼ä½ä¸ºå¾æ£æµå é¤æ°æ®\n\n * maxmemory-policy policy å¯¹æ°æ®è¿è¡å é¤çéæ©ç­ç¥\n   \n   * æ£æµæå¤±æ°æ®(å¯è½ä¼è¿æçæ°æ®éserver.db[i].expires)\n     * volatile-lru æéæè¿æå°ä½¿ç¨çæ°æ®æ·æ±°\n     * valatile-lfu æéæè¿ä½¿ç¨æ¬¡æ°æå°çæ°æ®æ·æ±°\n     * valatile-tfl æéå°è¦è¿æçæ°æ®æ·æ±°\n     * volatile-random ä»»æéæ©æ°æ®æ·æ±°\n     * \n   * æ£æµå¨åºæ°æ®(æææ°æ®éserver.db[i].dict)\n     * allkeys-lru æéæè¿æå°ä½¿ç¨çæ°æ®æ·æ±°\n     * allkeys-lfu æéæè¿ä½¿ç¨æ¬¡æ°æå°çæ°æ®æ·æ±°\n     * allkeys-random ä»»æéæ©æ°æ®æ·æ±°\n   * æ¾å¼æ°æ®é©±é\n     * no-enviction(é©±é) ç¦æ­¢é©±éæ°æ®(redis4.0ä¸­é»è®¤ç­ç¥) ä¼å¼åéè¯¯oom(out of memory)\n   \n   ä½¿ç¨infoå½ä»¤è¾åºçæ§ä¿¡æ¯,æ¥è¯¢ç¼å­hitåmissçæ¬¡æ°,æ ¹æ®ä¸å¡éæ±è°ç¨rediséç½®\n\n\n# ä¸»ä»å¤å¶\n\n\n\n\n# äºèç½ "ä¸é«" æ¶æ\n\n * é«å¹¶å\n * é«æ§è½\n * é«å¯ç¨\n   * å¯ç¨æ§ = (1å¹´çæ»æ¶é´ - 1å¹´å®æºçæ»æ¶é´) / 1å¹´çæ»æ¶é´ * 100% : ä¸çå¯ç¨æ§ç®æ 5ä¸ª9 å³99.999% å³æå¡å¨å¹´å®æºæ¶é¿ä½äº315ç§ çº¦5.25åé\n\n\n# é¶æ®µä¸:å»ºç«è¿æ¥é¶æ®µ\n\nå»ºç«slaveå°masterçè¿æ¥,ä½¿ç¨masterè½å¤è¯å«slave,å¹¶ä¿å­slaveç«¯å£å·\n\n 1.  saveof ip port : salveåéæä»¤ç»master\n 2.  masteræ¥åå°æä»¤,ååºå¯¹æ¹\n 3.  ä¿å­masterçipä¸ç«¯å£ masterhost å masterport\n 4.  æ ¹æ®ä¿å­çä¿¡æ¯åå»ºè¿æ¥masterçsocket\n 5.  å¨ææ§åépingæä»¤\n 6.  ååºpong\n 7.  åéæä»¤ auth password (å¦æ å¯ç åå¿½ç¥)\n 8.  éªè¯ææ\n 9.  replconf listening-port <port-number>\n 10. ä¿å­slaveçç«¯å£å·\n\n# ä¸»ä»è¿æ¥ (slaveè¿æ¥mazster)\n\n * æ¹å¼ä¸ ä»æºå®¢æ·ç«¯åéå½ä»¤ slaveof masterip masterport\n * æ¹å¼äº å¯å¨æå¡å¨æ¶è¿æ¥ redis-server -slaveof masterip masterport\n * æ¹å¼ä¸ æå¡å¨éç½® å¨ä»æºæå¡å¨çredisæå¡å¨éç½®æä»¶ å ä¸ slaveof masterip masterport\n\n# ä¸»ä»æ­å¼è¿æ¥\n\n * æ­å¼slaveä¸masterçè¿æ¥ ä¸ä¼å é¤å·²ææ°æ® åªæ¯ä¸åæ¥åmasteråéçæ°æ® salveof no one å¨ä»æºä¸æ§è¡\n\n# ææè®¿é®\n\n\n\n\n# é¶æ®µäº:æ°æ®åæ­¥é¶æ®µå·¥ä½æµç¨\n\n\n\n 1. å¦æmasteræ°æ®éå·¨å¤§,æ°æ®åæ­¥é¶æ®µåºè¯¥é¿å¼æµéé«å³°æ,é¿åé æé»å¡\n\n 2. å¦æå¤å¶ç¼å²åºè®¾ç½®ä¸åç,ä¼å¯¼è´æ°æ®æº¢åº. å¦æå¨éå¤å¶å¨æå¤ªé¿,è¿è¡é¨åå¤å¶æ¶åç°æ°æ®å·²ç»å­å¨ä¸¢å¤±,å¿é¡»è¿è¡ç¬¬äºæ¬¡å¨éå¤å¶ å¯¼è´slaveé·å¥æ­»å¾ªç¯\n    \n    #å¨ä¸»æå¡å¨éç½®æä»¶éç½® éç½®ç¼å­åºå¤§å°\n    repl-backlog-size ?mb\n    \n    \n    1\n    2\n    \n\n 3. masteråæºåå­å ç¨ä¸»æºåå­æ¯ä¾åºå¨50%-70%,çä¸30-50ä½ä¸ºbgsaveå½ä»¤ååå»ºå¤å¶ç¼å²åº\n\n 4. å¨slaveè¿è¡å¨éå¤å¶/é¨åå¤å¶æ¶ å»ºè®®å³é­æ­¤æ¶å¯¹å¤æå¡\n    \n    #å¨ä»æå¡å¨éç½®æä»¶ä¸­éç½®  å³é­åå¼å¯\n    slave-serve-stale-data yes|no\n    \n    \n    1\n    2\n    \n\n 5. æ°æ®åæ­¥é¶æ®µ masteråéç»slaveä¿¡æ¯å¯ä»¥çè§£ä¸ºmasteræ¯slaveçä¸ä¸ªå®¢æ·ç«¯ ä¸»å¨åslaveåéå½ä»¤\n\n 6. å¤ä¸ªslaveåæ¶å¯¹masterè¯·æ±æ°æ®åæ­¥ masteråéçrdbæä»¶å¢å¤ å¦æmasterå¸¦å®½ä¸è¶³ ä¼å¯¹å¸¦å®½é æå·¨å¤§å²å» å»ºè®®éééå³°è¯·æ±åæ­¥\n\n 7. salveè¿å¤æ¶ å»ºè®®è°æ´ææç»æ ç±ä¸ä¸»å¤ä»ç»æåä¸ºæ ç¶ç»æ ä¸­é´çèç¹å³ä½¿master ä¹salve ä½¿ç¨æ ç¶ç»ææ¶ ç±äºå±çº§æ·±åº¦ å¯¼è´æ·±åº¦è¶é«çslaveä¸æé¡¶å±masteré´æ°æ®åæ­¥å»¶è¿è¾å¤§ æ°æ®ä¸è´æ§åå·® åºè°¨æéæ©\n\n\n# é¶æ®µä¸:å½ä»¤ä¼ æ­é¶æ®µ\n\nå½ä»¤ä¼ æ­é¶æ®µåºç°äºæ­ç½ç°è±¡ï¼\n\nç½ç»éªæ­éªè¿ï¼å¿½ç¥\n\nç­æ¶é´ç½ç»ä¸­æ­ï¼é¨åå¤å¶\n\né¿æ¶é´ç½ç»ä¸­æ­ï¼å¨éå¤å¶\n\nå·¥ä½åç\n\n * éè¿offsetåºåä¸åçslaveå½åæ°æ®ä¼ æ­çå·®å¼\n * masterè®°å½å·²åéçä¿¡æ¯å¯¹åºçoffset\n * slaveè®°å½å·²æ¥æ¶çä¿¡æ¯å¯¹åºçoffset\n\n\n\n# æµç¨æ´æ°\n\n\n\n# å¿è·³æºå¶\n\nè¿å¥å½ä»¤ä¼ æ­é¶æ®µåï¼masterä¸slaveé´éè¦è¿è¡ä¿¡æ¯äº¤æ¢ï¼ä½¿ç¨å¿è·³æºå¶è¿è¡ç»´æ¤ï¼å®ç°åæ¹è¿æ¥ä¿æå¨çº¿\n\nmasterå¿è·³ï¼\n\n * åé¨æä»¤ï¼ping\n * å¨æï¼ç±repl-ping-slave-periodå³å®ï¼é»è®¤10ç§\n * ä½ç¨ï¼å¤æ­slaveæ¯å¦å¨çº¿\n * æ¥è¯¢ï¼info replication è·åslaveæåä¸æ¬¡è¿æ¥æ¶é´é´éï¼lagé¡¹ç»´æå¨0æ1è§ä¸ºæ­£å¸¸\n\nslaveå¿è·³ä»»å¡\n\n * åé¨æä»¤ï¼replconf ack {offset}\n * å¨æï¼1ç§\n * ä½ç¨1ï¼æ±æ¥slaveèªå·±çå¤å¶åç§»éï¼è·åææ°çæ°æ®åæ´æä»¤\n * ä½ç¨2ï¼å¤æ­masteræ¯å¦å¨çº¿\n\nå¿è·³é¶æ®µæ³¨æäºé¡¹ï¼\n\n * å½slaveå¤æ°æçº¿ï¼æå»¶è¿è¿é«æ¶ï¼masterä¸ºä¿éæ°æ®ç¨³å®æ§ï¼å°æç»ææä¿¡æ¯åæ­¥\n\n#å¨ä¸»æå¡å¨éç½®æä»¶ä¸­éç½®\nmin-slaves-to-write 2\nmin-slaves-max-lag 8\n\n\n1\n2\n3\n\n\nslaveæ°éå°äº2ä¸ªï¼æèææslaveçå»¶è¿é½å¤§äºç­äº8ç§æ¶ï¼å¼ºå¶å³é­masterååè½ï¼åæ­¢æ°æ®åæ­¥\n\n * slaveæ°éç±slaveåéreplconf ackå½ä»¤åç¡®è®¤\n\n * slaveå»¶è¿ç±slaveåéreplconf ackå½ä»¤åç¡®è®¤\n\n\n\n\n# é¢ç¹çå¨éå¤å¶\n\n * ä¼´éçç³»ç»çè¿è¡ï¼masterçæ°æ®éä¼è¶æ¥è¶å¤§ï¼ä¸æ¦masteréå¯ï¼runidå°åçååï¼ä¼å¯¼è´å¨é¨slaveçå¨éå¤å¶æä½\n\nåé¨ä¼åè°æ´æ¹æ¡ï¼\n\n1ï¼masteråé¨åå»ºmaster_replidåéï¼ä½¿ç¨runidç¸åçç­ç¥çæï¼é¿åº¦41ä½ï¼å¹¶åéç»ææslave\n\n2ï¼å¨masterå³é­æ¶æ§è¡å½ä»¤shutdown saveï¼è¿è¡rdbæä¹å,å°runidä¸offsetä¿å­å°rdbæä»¶ä¸­\n\n * repl-id repl-offset\n\n * éè¿redis-check-rdbå½ä»¤å¯ä»¥æ¥çè¯¥ä¿¡æ¯\n\n3ï¼masteréå¯åå è½½rdbæä»¶ï¼æ¢å¤æ°æ®ï¼éå¯åï¼å°rdbæä»¶ä¸­ä¿å­çrepl-idä¸repl-offsetå è½½å°åå­ä¸­\n\n * master_repl_id=repl master_repl_offset =repl-offset\n\n * éè¿infoå½ä»¤å¯ä»¥æ¥çè¯¥ä¿¡æ¯\n\nä½ç¨ï¼æ¬æºä¿å­ä¸æ¬¡runidï¼éå¯åæ¢å¤è¯¥å¼ï¼ä½¿ææslaveè®¤ä¸ºè¿æ¯ä¹åçmaster\n\n * ç¬¬äºç§åºç°é¢ç¹å¨éå¤å¶çé®é¢ç°è±¡ï¼ç½ç»ç¯å¢ä¸ä½³ï¼åºç°ç½ç»ä¸­æ­ï¼slaveä¸æä¾æå¡\n\né®é¢åå ï¼å¤å¶ç¼å²åºè¿å°ï¼æ­ç½åslaveçoffsetè¶çï¼è§¦åå¨éå¤å¶\n\næç»ç»æï¼slaveåå¤è¿è¡å¨éå¤å¶\n\nè§£å³æ¹æ¡ï¼ä¿®æ¹å¤å¶ç¼å²åºå¤§å°\n\nrepl-backlog-size ?mb\n\n\n1\n\n\nå»ºè®®è®¾ç½®å¦ä¸ï¼\n\n1.æµç®ä»masterå°slaveçéè¿å¹³åæ¶é¿second\n\n2.è·åmasterå¹³åæ¯ç§äº§çåå½ä»¤æ°æ®æ»éwrite_size_per_second\n\n3.æä¼å¤å¶ç¼å²åºç©ºé´ = 2 * second * write_size_per_second\n\n# é¢ç¹çç½ç»ä¸­æ­\n\n * é®é¢ç°è±¡ï¼masterçcpuå ç¨è¿é« æ slaveé¢ç¹æ­å¼è¿æ¥\n\né®é¢åå \n\n * slaveæ¯1ç§åéreplconfackå½ä»¤å°master\n * å½slaveæ¥å°äºæ¢æ¥è¯¢æ¶ï¼keys * ï¼hgetallç­ï¼ï¼ä¼å¤§éå ç¨cpuæ§è½\n * masteræ¯1ç§è°ç¨å¤å¶å®æ¶å½æ°replicationcron()ï¼æ¯å¯¹slaveåç°é¿æ¶é´æ²¡æè¿è¡ååº\n\næç»ç»æï¼masteråç§èµæºï¼è¾åºç¼å²åºãå¸¦å®½ãè¿æ¥ç­ï¼è¢«ä¸¥éå ç¨\n\nè§£å³æ¹æ¡ï¼éè¿è®¾ç½®åççè¶æ¶æ¶é´ï¼ç¡®è®¤æ¯å¦éæ¾slave\n\nrepl-timeout seconds\n\n\n1\n\n\nè¯¥åæ°å®ä¹äºè¶æ¶æ¶é´çéå¼ï¼é»è®¤60ç§ï¼ï¼è¶è¿è¯¥å¼ï¼éæ¾slave\n\n# æ°æ®ä¸ä¸è´\n\né®é¢ç°è±¡ï¼å¤ä¸ªslaveè·åç¸åæ°æ®ä¸åæ­¥\n\né®é¢åå ï¼ç½ç»ä¿¡æ¯ä¸åæ­¥ï¼æ°æ®åéæå»¶è¿\n\nè§£å³æ¹æ¡\n\n * ä¼åä¸»ä»é´çç½ç»ç¯å¢ï¼éå¸¸æ¾ç½®å¨åä¸ä¸ªæºæ¿é¨ç½²ï¼å¦ä½¿ç¨é¿éäºç­äºæå¡å¨æ¶è¦æ³¨ææ­¤ç°è±¡\n * çæ§ä¸»ä»èç¹å»¶è¿ï¼éè¿offsetï¼å¤æ­ï¼å¦æslaveå»¶è¿è¿å¤§ï¼ææ¶å±è½ç¨åºå¯¹è¯¥slaveçæ°æ®è®¿é®\n\nslave-serve-stale-data\tyes|no\n\n\n1\n\n\nå¼å¯åä»ååºinfoãslaveofç­å°æ°å½ä»¤ï¼æç¨ï¼é¤éå¯¹æ°æ®ä¸è´æ§è¦æ±å¾é«ï¼\n\n\n# å¨åµæ¨¡å¼\n\nå¨åµ(sentinel) æ¯ä¸ä¸ªåå¸å¼ç³»ç»,ç¨äºå¯¹ä¸»ä»ç»æä¸­çæ¯å°æå¡å¨è¿è¡çæ§,å½åºç°æéæ¶éè¿æç¥¨æºå¶éæ©æ°çmasterå¹¶å°ææslaveè¿æ¥å°æ°çmaster\n\nå¨åµä¹æ¯ä¸å°redisæå¡å¨ åªæ¯ä¸æä¾æ°æ®ç¸å³æå¡ éå¸¸å¨åµçæ°ééç½®ä¸ºåæ°\n\n\n# éç½®å¨åµ\n\néè¿sentinel.conf éç½®\n\n * sentinel monitor master_name master_host master_port sentinel_number è®¾ç½®å¨åµçå¬çä¸»æå¡å¨ä¿¡æ¯ sentinel_numberè¡¨ç¤ºåä¸æç¥¨çå¨åµæ°é è®¾ç½®è¶è¿å¨åµåæ°å³å¯\n * sentinel down-after-milliseconds master_name million_seconds è®¾ç½®å¤å®æå¡å¨å®æºæ¶é¿ è¯¥è®¾ç½®æ§å¶æ¯å¦è¿è¡ä¸»ä»åæ¢\n * sentinel failover-timeout master_name million_seconds è®¾ç½®æéåæ¢çæå¤§è¶æ¶æ¶é¿\n * sentinel parallel-syncs master_name sync_slave_number è®¾ç½®ä¸»ä»åæ¢å,åæ¶è¿è¡æ°æ®çslaveæ°é å¼è¶å¤§ è¦æ±ç½ç»èµæºè¶é« å¼è¶å° åæ­¥æ¶é´è¶é¿\n * redis-sentinel filename(sentinel.conféç½®æä»¶è·¯å¾) å¯å¨å¨åµ\n\n\n# é¶æ®µä¸:çæ§é¶æ®µ\n\n * è·ååä¸ªsentinelçç¶æï¼æ¯å¦å¨çº¿ï¼\n\n * è·åmasterçç¶æ\n\n * è·åææslaveçç¶æï¼æ ¹æ®masterä¸­çslaveä¿¡æ¯ï¼\n\n\n\n\n# é¶æ®µäº:éç¥é¶æ®µ\n\nsentinelå¨éç¥é¶æ®µè¦ä¸æ­çå»è·åmaster/slaveçä¿¡æ¯ï¼ç¶åå¨åä¸ªsentinelä¹é´è¿è¡å±äº«ï¼å·ä½çæµç¨å¦ä¸ï¼\n\n\n\n\n# é¶æ®µä¸:æéè½¬ç§»\n\n# å¤æ­masterå®æº\n\n\n\nä¸»è§ä¸çº¿:ä»»æä¸ä¸ªsentineè®¤ä¸ºmasterå·²ç»ä¸çº¿\n\nå®¢è§ä¸çº¿:åæ°ä»¥ä¸çsentineè®¤ä¸ºmasterå·²ç»ä¸çº¿\n\n# éä¸¾master\n\næ¯ä¸ªsentineé½æä¸ç¥¨ æç»ç¥¨æå¤çç§°ä¸ºå¤çäºæçå¨åµæå¡\n\n\n\né¦åå®æä¸ä¸ªå¨æå¡å¨åè¡¨ä¸­æéå¤émasterçåå\n\n * ä¸å¨çº¿çout\n\n * ååºæ¢çout\n\n * ä¸åmasteræ­å¼æ¶é´ä¹çout\n\n * ä¼ååå\n   \n   ä¼åçº§ offset runid\n\næ»ç»ï¼æéè½¬ç§»é¶æ®µ\n\n 1. åç°é®é¢ï¼ä¸»è§ä¸çº¿ä¸å®¢è§ä¸çº¿\n 2. ç«éè´è´£äºº\n 3. ä¼éæ°master\n 4. æ°masterä¸ä»»ï¼å¶ä»slaveåæ¢masterï¼åmasterä½ä¸ºslaveæéæ¢å¤åè¿æ¥\n\n\n# clusteréç¾¤\n\néç¾¤å°±æ¯ä½¿ç¨ç½ç»å°è¥å¹²å°è®¡ç®æºèéèµ·æ¥ï¼å¹¶æä¾ç»ä¸çç®¡çæ¹å¼ï¼ä½¿å¶å¯¹å¤åç°åæºçæå¡ææ\n\n\n\n\n# clusteréç¾¤ç»æè®¾è®¡\n\næ°æ®å­å¨è®¾è®¡ï¼\n\n 1. éè¿ç®æ³è®¾è®¡ï¼è®¡ç®åºkeyåºè¯¥ä¿å­çä½ç½®\n\n 2. å°ææçå­å¨ç©ºé´è®¡ååå²æ16384ä»½ï¼æ¯å°ä¸»æºä¿å­ä¸é¨å\n    \n    æ³¨æï¼æ¯ä»½ä»£è¡¨çæ¯ä¸ä¸ªå­å¨ç©ºé´ï¼ä¸æ¯ä¸ä¸ªkeyçä¿å­ç©ºé´\n\n 3. å°keyæç§è®¡ç®åºçç»ææ¾å°å¯¹åºçå­å¨ç©ºé´\n\né£redisçéç¾¤æ¯å¦ä½å¢å¼ºå¯æ©å±æ§çå¢ï¼è­¬å¦æä»¬è¦å¢å ä¸ä¸ªéç¾¤èç¹\n\n\n\nå½æä»¬æ¥æ¾æ°æ®æ¶ï¼éç¾¤æ¯å¦ä½æä½çå¢ï¼\n\n * åä¸ªæ°æ®åºç¸äºéä¿¡ï¼ä¿å­åä¸ªåºä¸­æ§½çç¼å·æ°æ®\n * ä¸æ¬¡å½ä¸­ï¼ç´æ¥è¿å\n * ä¸æ¬¡æªå½ä¸­ï¼åç¥å·ä½ä½ç½®\n\n\n\n\n# éç½®\n\nå¨redis-6401.confä¸­éç½®\n\n * cluster-enabled yes|no æ¯å¦å¯ç¨clusterï¼å å¥clusterèç¹\n * cluster-config-file cluster-6503.conf clusteréç½®æä»¶åï¼è¯¥æä»¶å±äºèªå¨çæï¼ä»ç¨äºå¿«éæ¥æ¾æä»¶å¹¶æ¥è¯¢æä»¶åå®¹\n * cluster-node-timeout milliseconds èç¹æå¡ååºè¶æ¶æ¶é´ï¼ç¨äºå¤å®è¯¥èç¹æ¯å¦ä¸çº¿æåæ¢ä¸ºä»èç¹ æ¯«ç§æ°\n * cluster-migration-barrier min_slave_number masterè¿æ¥çslaveæå°æ°é\n\n\n# å¯å¨culster\n\nredis-cli â-cluster create masterhost1:masterport1 masterhost2:masterport2  masterhost3:masterport3 [masterhostn:masterportn â¦] slavehost1:slaveport1  slavehost2:slaveport2 slavehost3:slaveport3 -âcluster-replicas n\n\n\n1\n\n\nnä¸ºå¤å°ä¸ªä¸»æå¡å¨ ånä¸ªipä¸ºä¸»æå¡å¨ åé¢ä¸ºslaveæå¡å¨\n\n * cluster nodes æ¥è¯¢éç¾¤èç¹ä¿¡æ¯\n\n\n# èç¹å¢å \n\n * æ·»å masterå°å½åéç¾¤ä¸­ï¼è¿æ¥æ¶å¯ä»¥æå®ä»»æç°æèç¹å°åä¸ç«¯å£\n   \n   redis-cli --cluster add-node new-master-host:new-master-port now-host:now-port\n   \n   \n   1\n   \n\n * æ·»å slave\n   \n   redis-cli --cluster add-node new-slave-host:new-slave-port master-host:master-port --cluster-slave --cluster-master-id masterid\n   \n   \n   1\n   \n\n * å é¤èç¹ï¼å¦æå é¤çèç¹æ¯masterï¼å¿é¡»ä¿éå¶ä¸­æ²¡ææ§½slot\n   \n   redis-cli --cluster del-node del-slave-host:del-slave-port del-slave-id\n   \n   \n   1\n   \n\n * éæ°åæ§½ï¼åæ§½æ¯ä»å·ææ§½çmasterä¸­ååä¸é¨åç»å¶ä»masterï¼è¿ç¨ä¸­ä¸åå»ºæ°çæ§½\n   \n   redis-cli --cluster reshard new-master-host:new-master:port --cluster-from src-  master-id1, src-master-id2, src-master-idn --cluster-to target-master-id --  cluster-slots slots\n   #å°éè¦åä¸åæ§½çææmasteridä¸åååé¡ºåºæ·»å å°åæ°ä¸­ï¼ä½¿ç¨ï¼åé\n   #æå®ç®æ å¾å°çæ§½çæ°éï¼ææçæ§½å°å¹³åä»æ¯ä¸ªæ¥æºçmasterå¤è·å\n   \n   \n   1\n   2\n   3\n   \n\n * éæ°åéæ§½ï¼ä»å·ææ§½çmasterä¸­åéæå®æ°éçæ§½å°å¦ä¸ä¸ªmasterä¸­ï¼å¸¸ç¨äºæ¸ç©ºæå®masterä¸­çæ§½\n   \n   redis-cli --cluster reshard src-master-host:src-master-port --cluster-from src-  master-id --cluster-to target-master-id --cluster-slots slots --cluster-yes\n   \n   \n   1\n   \n\n\n# ç¼å­é¢ç­\n\n1.è¯·æ±æ°éè¾é«ï¼å¤§éçè¯·æ±è¿æ¥ä¹åé½éè¦å»ä»ç¼å­ä¸­è·åæ°æ®ï¼ä½æ¯ç¼å­ä¸­åæ²¡æï¼æ­¤æ¶ä»æ°æ®åºä¸­æ¥æ¾æ°æ®ç¶åå°æ°æ®åå­å¥ç¼å­ï¼é æäºç­æåå¯¹redisçé«å¼ºåº¦æä½ä»èå¯¼è´é®é¢\n\n2.ä¸»ä»ä¹é´æ°æ®ååéè¾å¤§ï¼æ°æ®åæ­¥æä½é¢åº¦è¾é«\n\n * åç½®åå¤å·¥ä½ï¼\n\n1.æ¥å¸¸ä¾è¡ç»è®¡æ°æ®è®¿é®è®°å½ï¼ç»è®¡è®¿é®é¢åº¦è¾é«çç­ç¹æ°æ®\n\n2.å©ç¨lruæ°æ®å é¤ç­ç¥ï¼æå»ºæ°æ®çå­éåä¾å¦ï¼stormä¸kafkaéå\n\n * åå¤å·¥ä½ï¼\n\n1.å°ç»è®¡ç»æä¸­çæ°æ®åç±»ï¼æ ¹æ®çº§å«ï¼redisä¼åå è½½çº§å«è¾é«çç­ç¹æ°æ®\n\n2.å©ç¨åå¸å¼å¤æå¡å¨åæ¶è¿è¡æ°æ®è¯»åï¼æéæ°æ®å è½½è¿ç¨\n\n3.ç­ç¹æ°æ®ä¸»ä»åæ¶é¢ç­\n\n * å®æ½ï¼\n\n4.ä½¿ç¨èæ¬ç¨åºåºå®è§¦åæ°æ®é¢ç­è¿ç¨\n\n5.å¦ææ¡ä»¶åè®¸ï¼ä½¿ç¨äºcdnï¼åå®¹ååç½ç»ï¼ï¼ææä¼æ´å¥½\n\næ»çæ¥è¯´ï¼ç¼å­é¢ç­å°±æ¯ç³»ç»å¯å¨åï¼æåå°ç¸å³çç¼å­æ°æ®ç´æ¥å è½½å°ç¼å­ç³»ç»ãé¿åå¨ç¨æ·è¯·æ±çæ¶åï¼åæ¥è¯¢æ°æ®åºï¼ç¶ååå°æ°æ®ç¼å­çé®é¢ï¼ç¨æ·ç´æ¥æ¥è¯¢äºåè¢«é¢ç­çç¼å­æ°æ®ï¼\n\n\n# ç¼å­éªå´©\n\n1.ç³»ç»å¹³ç¨³è¿è¡è¿ç¨ä¸­ï¼å¿½ç¶æ°æ®åºè¿æ¥éæ¿å¢\n\n2.åºç¨æå¡å¨æ æ³åæ¶å¤çè¯·æ±\n\n3.å¤§é408ï¼500éè¯¯é¡µé¢åºç°\n\n4.å®¢æ·åå¤å·æ°é¡µé¢è·åæ°æ®\n\n5.æ°æ®åºå´©æº\n\n6.åºç¨æå¡å¨å´©æº\n\n7.éå¯åºç¨æå¡å¨æ æ\n\n8.redisæå¡å¨å´©æº\n\n9.rediséç¾¤å´©æº\n\n10.éå¯æ°æ®åºååæ¬¡è¢«ç¬é´æµéæ¾å\n\nè§£å³æ¹æ¡\n\n * æè·¯ï¼\n\n1.æ´å¤çé¡µé¢éæåå¤ç\n\n2.æå»ºå¤çº§ç¼å­æ¶æ\n\nnginxç¼å­+redisç¼å­+ehcacheç¼å­\n\n3.æ£æµmysqlä¸¥éèæ¶ä¸å¡è¿è¡ä¼å\n\nå¯¹æ°æ®åºçç¶é¢ææ¥ï¼ä¾å¦è¶æ¶æ¥è¯¢ãèæ¶è¾é«äºå¡ç­\n\n4.ç¾é¾é¢è­¦æºå¶\n\nçæ§redisæå¡å¨æ§è½ææ \n\ncpuå ç¨ãcpuä½¿ç¨ç\n\nåå­å®¹é\n\næ¥è¯¢å¹³åååºæ¶é´\n\nçº¿ç¨æ°\n\n5.éæµãéçº§\n\nç­æ¶é´èå´åçºç²ä¸äºå®¢æ·ä½éªï¼éå¶ä¸é¨åè¯·æ±è®¿é®ï¼éä½åºç¨æå¡å¨ååï¼å¾ä¸å¡ä½éè¿è½¬ååéæ­¥æ¾å¼è®¿é®\n\n * è½å°å®è·µï¼\n\n1.lruä¸lfuåæ¢\n\n2.æ°æ®æææç­ç¥è°æ´\n\næ ¹æ®ä¸å¡æ°æ®æææè¿è¡åç±»éå³°ï¼aç±»90åéï¼bç±»80åéï¼cç±»70åé\n\nè¿ææ¶é´ä½¿ç¨åºå®æ¶é´+éæºå¼çå½¢å¼ï¼ç¨ééä¸­å°æçkeyçæ°é\n\n3.è¶ç­æ°æ®ä½¿ç¨æ°¸ä¹key\n\n4.å®æç»´æ¤ï¼èªå¨+äººå·¥ï¼\n\nå¯¹å³å°è¿ææ°æ®åè®¿é®éåæï¼ç¡®è®¤æ¯å¦å»¶æ¶ï¼éåè®¿é®éç»è®¡ï¼åç­ç¹æ°æ®çå»¶æ¶\n\n5.å éï¼æç¨ï¼\n\næ»çæ¥è¯´ï¼ç¼å­éªå´©å°±æ¯ç¬é´è¿ææ°æ®éå¤ªå¤§ï¼å¯¼è´å¯¹æ°æ®åºæå¡å¨é æååãå¦è½å¤ææé¿åè¿ææ¶é´éä¸­ï¼å¯ä»¥ææè§£å³éªå´©ç°è±¡ç åºç°ï¼çº¦40%ï¼ï¼éåå¶ä»ç­ç¥ä¸èµ·ä½¿ç¨ï¼å¹¶çæ§æå¡å¨çè¿è¡æ°æ®ï¼æ ¹æ®è¿è¡è®°å½åå¿«éè°æ´ã\n\n\n# ç¼å­å»ç©¿\n\n1.ç³»ç»å¹³ç¨³è¿è¡è¿ç¨ä¸­\n\n2.æ°æ®åºè¿æ¥éç¬é´æ¿å¢\n\n3.redisæå¡å¨æ å¤§ékeyè¿æ\n\n4.redisåå­å¹³ç¨³ï¼æ æ³¢å¨\n\n5.redisæå¡å¨cpuæ­£å¸¸\n\n6.æ°æ®åºå´©æº\n\né®é¢ææ¥ï¼\n\n1.redisä¸­æä¸ªkeyè¿æï¼è¯¥keyè®¿é®éå·¨å¤§\n\n2.å¤ä¸ªæ°æ®è¯·æ±ä»æå¡å¨ç´æ¥åå°redisåï¼åæªå½ä¸­\n\n3.rediså¨ç­æ¶é´ååèµ·äºå¤§éå¯¹æ°æ®åºä¸­åä¸æ°æ®çè®¿é®\n\næ»èè¨ä¹å°±ä¸¤ç¹ï¼åä¸ªkeyé«ç­æ°æ®ï¼keyè¿æ\n\nè§£å³æ¹æ¡ï¼\n\n1.é¢åè®¾å®\n\nä»¥çµåä¸ºä¾ï¼æ¯ä¸ªåå®¶æ ¹æ®åºéºç­çº§ï¼æå®è¥å¹²æ¬¾ä¸»æååï¼å¨è´­ç©èæé´ï¼å å¤§æ­¤ç±»ä¿¡æ¯keyçè¿ææ¶é¿ æ³¨æï¼è´­ç©èä¸ä»ä»æå½å¤©ï¼ä»¥ååç»­è¥å¹²å¤©ï¼è®¿é®å³°å¼åç°éæ¸éä½çè¶å¿\n\n2.ç°åºè°æ´\n\nçæ§è®¿é®éï¼å¯¹èªç¶æµéæ¿å¢çæ°æ®å»¶é¿è¿ææ¶é´æè®¾ç½®ä¸ºæ°¸ä¹æ§key\n\n3.åå°å·æ°æ°æ®\n\nå¯å¨å®æ¶ä»»å¡ï¼é«å³°ææ¥ä¸´ä¹åï¼å·æ°æ°æ®æææï¼ç¡®ä¿ä¸ä¸¢å¤±\n\n4.äºçº§ç¼å­\n\nè®¾ç½®ä¸åçå¤±ææ¶é´ï¼ä¿éä¸ä¼è¢«åæ¶æ·æ±°å°±è¡\n\n5.å é\n\nåå¸å¼éï¼é²æ­¢è¢«å»ç©¿ï¼ä½æ¯è¦æ³¨æä¹æ¯æ§è½ç¶é¢ï¼æéï¼\n\næ»çæ¥è¯´ï¼ç¼å­å»ç©¿å°±æ¯åä¸ªé«ç­æ°æ®è¿æçç¬é´ï¼æ°æ®è®¿é®éè¾å¤§ï¼æªå½ä¸­redisåï¼åèµ·äºå¤§éå¯¹åä¸æ°æ®çæ°æ®åºè®¿é®ï¼å¯¼è´å¯¹æ° æ®åºæå¡å¨é æååãåºå¯¹ç­ç¥åºè¯¥å¨ä¸å¡æ°æ®åæä¸é¢é²æ¹é¢è¿è¡ï¼éåè¿è¡çæ§æµè¯ä¸å³æ¶è°æ´ç­ç¥ï¼æ¯ç«åä¸ªkeyçè¿ æçæ§é¾åº¦è¾é«ï¼éåéªå´©å¤çç­ç¥å³å¯ã\n\n\n# ç¼å­ç©¿é\n\n1.ç³»ç»å¹³ç¨³è¿è¡è¿ç¨ä¸­\n\n2.åºç¨æå¡å¨æµééæ¶é´å¢éè¾å¤§\n\n3.redisæå¡å¨å½ä¸­çéæ¶é´éæ­¥éä½\n\n4.redisåå­å¹³ç¨³ï¼åå­æ åå\n\n5.redisæå¡å¨cpuå ç¨æ¿å¢\n\n6.æ°æ®åºæå¡å¨ååæ¿å¢\n\n7.æ°æ®åºå´©æº\n\né®é¢ææ¥ï¼\n\n1.redisä¸­å¤§é¢ç§¯åºç°æªå½ä¸­\n\n2.åºç°éæ­£å¸¸urlè®¿é®\n\né®é¢åæï¼\n\n * è·åçæ°æ®å¨æ°æ®åºä¸­ä¹ä¸å­å¨ï¼æ°æ®åºæ¥è¯¢æªå¾å°å¯¹åºæ°æ®\n * redisè·åå°nullæ°æ®æªè¿è¡æä¹åï¼ç´æ¥è¿å\n * ä¸æ¬¡æ­¤ç±»æ°æ®å°è¾¾éå¤ä¸è¿°è¿ç¨\n * åºç°é»å®¢æ»å»æå¡å¨\n\nè§£å³æ¹æ¡ï¼\n\n1.ç¼å­null\n\nå¯¹æ¥è¯¢ç»æä¸ºnullçæ°æ®è¿è¡ç¼å­ï¼é¿æä½¿ç¨ï¼å®ææ¸çï¼ï¼è®¾å®ç­æ¶éï¼ä¾å¦30-60ç§ï¼æé«5åé\n\n2.ç½ååç­ç¥\n\næåé¢ç­åç§åç±»æ°æ®idå¯¹åºçbitmapsï¼idä½ä¸ºbitmapsçoffsetï¼ç¸å½äºè®¾ç½®äºæ°æ®ç½ååãå½å è½½æ­£å¸¸æ°æ®æ¶æ¾è¡ï¼å è½½å¼å¸¸æ°æ®æ¶ç´æ¥æ¦æªï¼æçåä½ï¼\n\nä½¿ç¨å¸éè¿æ»¤å¨ï¼æå³å¸éè¿æ»¤å¨çå½ä¸­é®é¢å¯¹å½åç¶åµå¯ä»¥å¿½ç¥ï¼\n\n2.å®æ½çæ§\n\nå®æ¶çæ§rediså½ä¸­çï¼ä¸å¡æ­£å¸¸èå´æ¶ï¼éå¸¸ä¼æä¸ä¸ªæ³¢å¨å¼ï¼ä¸nullæ°æ®çå æ¯\n\néæ´»å¨æ¶æ®µæ³¢å¨ï¼éå¸¸æ£æµ3-5åï¼è¶è¿5åçº³å¥éç¹ææ¥å¯¹è±¡\n\næ´»å¨æ¶æ®µæ³¢å¨ï¼éå¸¸æ£æµ10-50åï¼è¶è¿50åçº³å¥éç¹ææ¥å¯¹è±¡\n\næ ¹æ®åæ°ä¸åï¼å¯å¨ä¸åçææ¥æµç¨ãç¶åä½¿ç¨é»ååè¿è¡é²æ§ï¼è¿è¥ï¼\n\n4.keyå å¯\n\né®é¢åºç°åï¼ä¸´æ¶å¯å¨é²ç¾ä¸å¡keyï¼å¯¹keyè¿è¡ä¸å¡å±ä¼ è¾å å¯æå¡ï¼è®¾å®æ ¡éªç¨åºï¼è¿æ¥çkeyæ ¡éª\n\nä¾å¦æ¯å¤©éæºåé60ä¸ªå å¯ä¸²ï¼æé2å°3ä¸ªï¼æ··æ·å°é¡µé¢æ°æ®idä¸­ï¼åç°è®¿é®keyä¸æ»¡è¶³è§åï¼é©³åæ°æ®è®¿é®\n\næ»çæ¥è¯´ï¼ç¼å­å»ç©¿æ¯æè®¿é®äºä¸å­å¨çæ°æ®ï¼è·³è¿äºåæ³æ°æ®çredisæ°æ®ç¼å­é¶æ®µï¼æ¯æ¬¡è®¿é®æ°æ®åºï¼å¯¼è´å¯¹æ°æ®åºæå¡å¨é æååãéå¸¸æ­¤ç±»æ°æ®çåºç°éæ¯ä¸ä¸ªè¾ä½çå¼ï¼å½åºç°æ­¤ç±»æåµä»¥æ¯æ»æ¯ï¼å¹¶åæ¶æ¥è­¦ãåºå¯¹ç­ç¥åºè¯¥å¨ä¸´æ¶é¢æ¡é²èæ¹é¢å¤åæç« ã\n\næ è®ºæ¯é»ååè¿æ¯ç½ååï¼é½æ¯å¯¹æ´ä½ç³»ç»çååï¼è­¦æ¥è§£é¤åå°½å¿«ç§»é¤ã\n\n\n# æ§è½ææ çæ§\n\næ§è½ææ \n\n * latency ååºè¯·æ±çå¹³åæ¶é´\n * instantaneous_ops_per_sec å¹³åæ¯ç§å¤çè¯·æ±æ»æ°\n * hit_rate(calculated) ç¼å­æ¥è¯¢å½ä¸­çï¼éè¿æ¥è¯¢æ»æ¬¡æ°ä¸æ¥è¯¢å¾å°énilæ°æ®æ»æ¬¡æ°è®¡ç®èæ¥ï¼\n\nåå­ææ \n\n * used_memory å½ååå­ä½¿ç¨é\n * mem_fragmentation_ratio åå­ç¢ççï¼å³ç³»å°æ¯å¦è¿è¡ç¢çæ´çï¼\n * evicted_keys ä¸ºé¿ååå­æº¢åºå é¤çkeyçæ»æ°é\n * blocked_clients åºäºé»å¡æä½ï¼blpopç­ï¼å½±åçå®¢æ·ç«¯æ°é\n\næ´»å¨ææ \n\n * connected_clients å½åå®¢æ·ç«¯è¿æ¥æ»æ°\n * connected_slaves å½åè¿æ¥slaveæ»æ°\n * master_last_io_seconds_ago æåä¸æ¬¡ä¸»ä»ä¿¡æ¯äº¤æ¢è·ç°å¨çç§\n * keyspace keyçæ»æ°\n\næä¹æ§ææ \n\n * rdb_last_save_time å½åæå¡å¨æåä¸æ¬¡rdbæä¹åçæ¶é´\n * rdb_changes_since_last_save å½åæå¡å¨æåä¸æ¬¡rdbæä¹ååæ°æ®ååæ»é\n\néè¯¯ææ \n\n * rejected_connections è¢«æç»è¿æ¥çå®¢æ·ç«¯æ»æ°ï¼åºäºè¾¾å°æå¤§è¿æ¥å¼çå ç´ ï¼\n * keyspace_misses keyæªå½ä¸­çæ»æ¬¡æ°\n * master_link_down_since_seconds ä¸»ä»æ­å¼çç§æ°\n\n\n# æ§è½ææ å·¥å·\n\næµè¯å½åæå¡å¨çå¹¶åæ§è½\n\nredis-benchmark [-h ] [-p ] [-c ] [-n <requests]> [-k ]\n\n\n1\n\n\n\n\nå¯å¨æå¡å¨è°è¯ä¿¡æ¯\n\nmonitor\n\n\n1\n\n\næ¢æ¥å¿ è®°å½æ¥è¯¢æ¢çæ¥å¿\n\n * slowlog [operator]\n   * get è·åæ¢æ¥å¿ä¿¡æ¯\n   * len è·åæ¢æ¥å¿æ¡ç®æ°\n   * reset éç½®æ¢æ¥è¯¢æ¥å¿\n\næ¢æ¥å¿éè¿redis-xxx.conféç½®\n\nslowlog-log-slower-than 1000 #è®¾ç½®æ¢æ¥è¯¢çæ¶é´ä¸çº¿ï¼åä½ï¼å¾®å¦\nslowlog-max-len 100\t#è®¾ç½®æ¢æ¥è¯¢å½ä»¤å¯¹åºçæ¥å¿æ¾ç¤ºé¿åº¦ï¼åä½ï¼å½ä»¤æ°\n\n\n1\n2\n',charsets:{cjk:!0},lastUpdated:"2022/03/18, 09:00:59",lastUpdatedTimestamp:1647565259e3},{title:"Redis",frontmatter:{title:"Redis",date:"2022-03-18T00:52:36.000Z",permalink:"/pages/a002c8/",categories:["åç«¯","SQL"],tags:[null]},regularPath:"/%E5%90%8E%E7%AB%AF/04.SQL/22.Redis.html",relativePath:"åç«¯/04.SQL/22.Redis.md",key:"v-309ca6de",path:"/pages/a002c8/",headers:[{level:2,title:"å®è£",slug:"å®è£",normalizedTitle:"å®è£",charIndex:220},{level:2,title:"éç½®æä»¶",slug:"éç½®æä»¶",normalizedTitle:"éç½®æä»¶",charIndex:611},{level:2,title:"æ°æ®ç±»åæä»¤",slug:"æ°æ®ç±»åæä»¤",normalizedTitle:"æ°æ®ç±»åæä»¤",charIndex:1116},{level:3,title:"String",slug:"string",normalizedTitle:"string",charIndex:1193},{level:3,title:"hash",slug:"hash",normalizedTitle:"hash",charIndex:145},{level:3,title:"list",slug:"list",normalizedTitle:"list",charIndex:129},{level:3,title:"set",slug:"set",normalizedTitle:"set",charIndex:161},{level:2,title:"å¸¸ç¨æä»¤",slug:"å¸¸ç¨æä»¤",normalizedTitle:"å¸¸ç¨æä»¤",charIndex:4502},{level:3,title:"key",slug:"key",normalizedTitle:"key",charIndex:1179},{level:3,title:"db",slug:"db",normalizedTitle:"db",charIndex:5046}],headersStr:"å®è£ éç½®æä»¶ æ°æ®ç±»åæä»¤ String hash list set å¸¸ç¨æä»¤ key db",content:'# Redis\n\nRedis æ¯ç¨Cè¯­è¨å¼åçä¸ä¸ªå¼æºçé«æ§è½é®å¼å¯¹æ°æ®åº\n\nç¹å¾:\n\n 1. æ°æ®é´æ²¡æå¿ç¶çå³èå³ç³»\n 2. åé¨éç¨åçº¿ç¨æºå¶è¿è¡å·¥ä½\n 3. é«æ§è½\n 4. å¤æ°æ®ç±»åæ¯æ\n    * å­ç¬¦ä¸²ç±»å string\n    * åè¡¨ç±»å list\n    * ååç±»å hash\n    * éåç±»å set\n    * æåºéåç±»å zset/sorted_set\n 5. æ¯ææä¹å, å¯ä»¥è¿è¡æ°æ®ç¾é¾æ¢å¤\n\n\n# å®è£\n\nwget https://download.redis.io/releases/redis-6.2.5.tar.gz\ntar -xvf redis-6.2.5.tar.gz \ncd redis-6.2.5\nmake\nmake install\n\nredis-server  \n# redis-server --port 6380  æå®ç«¯å£ é»è®¤ä¸º6379\n\n#å®¢æ·ç«¯\nredis-cli \n# redis-cli -p 6380\n\n#åå»ºå­æ¾éç½®åæ°æ®ç®å½\nmkdir conf\nmkdir data\ncp redis.conf ./conf\n\nfirewall-cmd --zone=public --add-port=6379/tcp --permanent\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n\n\n\n# éç½®æä»¶\n\nredis.conf\n\nbind 192.168.130.128 #ç»å®å¯¹å¤è®¿é®çip  å»ºè®®ä¸ºæ¬æºip  ä¹å¯æ³¨éæä»»ä½ä¸»æºé½å¯è®¿é®\nprotected-mode no  #å³é­ä¸»æºä¿æ¤æ¨¡å¼ yesä¸ºå¼å¯\nrequirepass 123456  #è®¾ç½®å¯ç \nport 6379\ntimeout 0 #å®¢æ·ç«¯é²ç½®ç­å¾æ¶é´ å°æ¶é´å³é­\ndaemonize yes #åå°è¿è¡\nlogfile "log-6379.log"  #æ¥å¿æä»¶å\ndir root/redis-6.2.5/data\nmaxclients 0  #æå¡å¨åè®¸æå¤§è¿æ¥æ° é»è®¤ä¸º0æ é\nloglevel verbose  #debug verbose notice waring åä¸ªçº§å« å¼åæé´ä¸ºverbose  çäº§ç¯å¢éç½®ä¸ºnotice éä½åæ¥å¿IOçé¢åº¦\n\nredis-server /root/redis-6.2.5/conf/redis.conf \nauth 123456\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n\n\n#è¿æ¥\nredis-cli \nauth 12\n\n\n1\n2\n3\n\n\n\n# æ°æ®ç±»åæä»¤\n\n\n\nredis èªèº«æ¯ä¸ä¸ª MAP ææçæ°æ®ç±»åé½æ¯ é®å¼å¯¹å½¢å¼å­å¨\n\nèæ°æ®ç±»åæçvalueé¨åçç±»å keyæ°¸è¿æ¯å­ç¬¦ä¸²\n\n\n# String\n\nä¸ä¸ªå­å¨ç©ºé´ä¿å­ä¸ä¸ªæ°æ®\n\nå¦ææ¯æ°å­ä¹å¯ä»¥ä½ä¸ºæ°å­æä½\n\n * set key value æ·»å /ä¿®æ¹æ°æ®\n * get key è·åæ°æ®\n * del key å é¤æ°æ®\n * setnx key value å¤æ­æ§æ·»å æ°æ®\n * mset key1 value1 key2 value2 ... mæ¯Multipleç¼©å\n * mget key1 key2 ... è·åå¤ä¸ªæ°æ®\n * strlen key è·åæ°æ®å­ç¬¦é¿åº¦\n * append key value è¿½å ä¿¡æ¯å°åå§ä¿¡æ¯åé¢ (å¦å­å¨åè¿½å  å¦åæ°å»º)\n\n----------------------------------------\n\n * incr key è®¾ç½®æ°å¼+1 å¦ækeyä¸å­å¨ åä»0å¼å§å¹¶æ°å»º åªææ°å­å­ç¬¦ä¸²å¯ä»¥\n * incrby key increment è®¾ç½®æ°å¼+n\n * incrbyfloat key increment è®¾ç½®å°æ°å¢å +n\n * decr key è®¾ç½®æ°å¼-1\n * decrby key increment è®¾ç½®æ°å¼åå°æå®èå´\n * setex key seconds value è®¾ç½®æ°å¼å·ææå®ççå½å¨æç§ å¦:setex next 10 hello\n * psetex key milliseconds value è®¾ç½®æ°å¼å·ææå®ççå½å¨ææ¯«ç§\n\n----------------------------------------\n\næ³¨æäºé¡¹:\n\n 1. (integer)0 ä¸ºfalse 1ä¸ºæå ä¹å¯è½ä¸ºè¿è¡çç»æå¼\n 2. æ°æ®ä¸ºè·åå°æ¯ å¯¹åºä¸º(nil) === null\n 3. æ°æ®æå¤§çå­å¨éä¸º 512MB\n 4. stringå¨åé¨å­å¨å°±æ¯ä¸ä¸ªå­ç¬¦ä¸² å½éå°å¢åç±»æä½ incr,decræ¶ä¼è½¬ææ°å¼ç±»åè¿è¡è®¡ç®\n 5. å¨æä½æ°å¼æ¶,å¦æåå§æ°æ®ä¸è½è½¬ææ°å¼æè¶åºäºredisæ°å¼çèå´ å°æ¥é java.longçMAX_VALUE\n 6. redisæææä½é½æ¯åå­æ§,éç¨åçº¿ç¨å¤çææä¸å¡,å½ä»¤é½æ¯ä¸ä¸ªä¸ä¸ªæ§è¡ç,å æ­¤æ éèèå¹¶åå¸¦æ¥çæ°æ®å½±å\n\n\n\n\n# hash\n\nä¸ä¸ªå­å¨ç©ºé´ä¿å­å¤ä¸ªé®å¼å¯¹æ°æ® hashç©ºé´éé¢çkeyæä»¬éå¸¸ç§°ä¸ºfield\n\nå¦æfieldæ°æ¯è¾å°,å­å¨ç»æä¼ä¼åä¸ºæ°ç»,è¾å¤æ¶ä¸ºHashMapç»æ\n\n * hset key field value æ·»å /ä¿®æ¹æ°æ®\n * hget key field è·åæ°æ®\n * hgetall key è·åæ´ä¸ªhash\n * hdel key field1 [field] å é¤hashæå®çfield\n * hsetnx key field value è®¾ç½®field, å¦æfieldå­å¨åä¸åä»»ä½æä½\n * hmset key field1 value1 field2 value2 è®¾ç½®å¤ä¸ªfiled\n * hmget key field1 field2 è·åå¤ä¸ªæ°æ®\n * hlen key è·ååå¸è¡¨ä¸­fieldçæ°é\n * hexists key field å¤æ­åå¸è¡¨æ¯å¦å­å¨æå®çfield\n\n----------------------------------------\n\n * hkeys key è·ååå¸ææçå­æ®µå\n * hvals key è·ååå¸ææçå­æ®µå¼\n * hincrby key field increment è®¾ç½®æå®å­æ®µçæ°å¼å¢å æå®èå´ å¯ä»¥ä¸ºè´æ°\n * hincrbyfloat key field increment è®¾ç½®æå®å­æ®µçæ°å¼å¢å æå®å°æ°èå´\n\n----------------------------------------\n\næ³¨æäºé¡¹:\n\n 1. hashç±»åä¸­çvalueåªè½å­å¨å­ç¬¦ä¸² ä¸åè®¸å¶ä»æ°æ®ç±»å\n 2. æ¯ä¸ªhashå¯ä»¥å­å¨ 2ç32æ¬¡æ¹-1ä¸ªé®å¼å¯¹\n 3. hashè®¾è®¡åè¡·ä¸æ¯ä¸ºäºå­å¨å¤§éå¯¹è±¡èè®¾è®¡ç ä¸å¯ä»¥å°hashè½¬ä¸ºå¯¹è±¡åè¡¨ä½¿ç¨\n 4. hgetall æä½å¯ä»¥è·åå¨é¨å±æ§ å¦æç·äººfieldè¿å¤ éåæ´ä½æ°æçå°±ä¼å¾ä½ é ææ°æ®è®¿é®ç¶é¢\n\n\n# list\n\nä¸ä¸ªå­å¨ç©ºé´ä¿å­å¤ä¸ªæ°æ® å¹¶ä¸æ ¹æ®å­å¨é¡ºåºä¸è´ åºå±ä½¿ç¨äºååé¾è¡¨å­å¨ç»æå®ç°\n\n * lpush key value1 [value2] ... ä»å·¦æ·»å /å é¤æ°æ® å¯ä»¥å­å¨å¤ä¸ªå¼\n * rpush key value1 [value2] ... ä»å³æ·»å /å é¤æ°æ®\n * lrange key start stop è·åæå®èå´çæ°æ® ä¸æ ä»0å¼ -1ä¸ºæåä¸ä¸ªåç´ ælisté¿åº¦-1\n * lindex key index è·åç´¢å¼çæ°æ® å¦ç´¢å¼è¶çåæ¥è¯¢ä¸ºnil\n * llen key è·ålisté¿åº¦\n * lpop key ä»å·¦è·åå¹¶ç§»é¤æ°æ®\n * rpop key ä»å³è·åå¹¶ç§»é¤æ°æ®\n\n----------------------------------------\n\n * lrem key count value ç§»é¤æå®ä¸ªæ°çæå®æ°æ® å¦å é¤ä¸ªæ°è¶åºæ»ä¸ªæ° åå é¤å¨é¨æå®æ°æ®\n * blpop key1 [key2] timeout è§å®æ¶é´åè·åå¹¶ç§»é¤æ°æ® ç§åä½ å¦ææå¤keyåæé¡ºåºè·åå¹¶ç§»é¤ åªæåé¢ä¸ºnilåé¢çkeyæä¼æ§è¡ æ¯æ¬¡æ§è¡ä¸æ¬¡ æ¯ä¸ä¸ªé»å¡éå\n * brpop key1 [key2] timeout è§å®æ¶é´åè·åå¹¶ç§»é¤æ°æ®\n * brpoppush source destination timeout å°aåè¡¨pushå°båè¡¨ä¸­\n\n----------------------------------------\n\næ³¨æäºé¡¹:\n\n 1. listæ°æ®é½æ¯stringç±»å æå¤2ç32æ¬¡æ¹-1ä¸ªåç´ \n 2. listæç´¢å¼çæ¦å¿µ, ä½æä½æ°æ®éå¸¸ä»¥éåå½¢å¼å¥éåºé æä»¥æ çå½¢å¼\n 3. è·åå¨é¨æ°æ®çæä½ç»æç´¢å¼ä¸º-1\n 4. listå¯ä»¥å¯¹æ°æ®è¿è¡åé¡µæä½ ç¬¬ä¸é¡µæ°æ®æ¥æºlist èç¬¬äºé¡µåçéå¸¸ä»¥æ°æ®åºå½¢å¼å è½½\n\n\n# set\n\nsetä¸hashå­å¨ç»æå®å¨ç¸å,ä½setåªå­å¨é®,ä¸å­å¨å¼ å¼ä¸ºnil å¹¶ä¸å¼æ¯ä¸åè®¸éå¤ç\n\n * sadd key member1 [member2] æ·»å æ°æ®\n * smembers key è·åå¨é¨æ°æ®\n * srem key member1 [member2] å é¤æå®æ°æ®\n * scard key è·åéåæ°æ®æ»é\n * sismember key member å¤æ­éåä¸­æ¯å¦åå«æå®æ°æ®\n * srandmember key [count] éæºè·åéåä¸­æå®æ°éçæ°æ®\n * spop key [count] éæºè·åéåä¸­çæä¸ªæ°æ®å¹¶ç§»é¤åºéå\n\n----------------------------------------\n\n * sinter key1 [key2 ...] æ±ä¸¤ä¸ªéåçäº¤é\n * sunion key1 [key2 ...] æ±ä¸¤ä¸ªéåçå¹¶é\n * sdiff key1 [key2 ...] æ±ä¸¤ä¸ªéåçå·®é\n * sinterstore destination key [key2 ...] æ±ä¸¤ä¸ªéåçäº¤éå¹¶å­å¨å°æå®éåä¸­\n * sunionstore destination key [key2 ...] æ±ä¸¤ä¸ªéåçå¹¶éå¹¶å­å¨å°æå®éåä¸­\n * sdiffstore destination key [key2 ...] æ±ä¸¤ä¸ªéåçå·®éå¹¶å­å¨å°æå®éåä¸­\n * smove source destination member å°æå®æ°æ®ä»Aéåç§»å¨å°Béå\n\n----------------------------------------\n\næ³¨æäºé¡¹:\n\n 1. setä¸åè®¸æ°æ®éå¤\n 2. setè½ç¶åhashçå­å¨ç»æç¸å , ä½æ æ³ä½¿ç¨å­å¨å¼çç©ºé´\n\n\n# å¸¸ç¨æä»¤\n\n\n# key\n\n * del key å é¤æå®key\n * exists key å¤æ­keyæ¯å¦å­å¨\n * type key è·åkeyçç±»å\n * sort key æåº é»è®¤å¯¹æ°å­æåº å¦æè¦æèªç¶æåºå éè¦æå® alpha æ¥è¯¢åºæ¥æ¯æåº åæ°æ®ä¸åæ¹å å¹¶ä¸å¯ä»¥æ ¹æ® ASC|DESC æå®åéåº\n * rename key new key éå½å\n * renamenx key newkey å­å¨åä¿®æ¹ å¦åä¸åä»»ä½æä½\n\n----------------------------------------\n\n * expire key seconds ä¸ºæå®keyè®¾ç½®æææ ç§\n * pexpire key milliseconds ä¸ºæå®keyè®¾ç½®æææ æ¯«ç§\n * expireat key timestamp æ¶é´æ³\n * pexpireat key milliseconds-timestamp æ¯«ç§çº§æ¶é´æ³\n * ttl key è·åkeyçæææ¶é´ ç§ -1ä¸ºæ°¸ä¹ -2ä¸ºä¸å­å¨\n * pttl key è·åkeyçæææ¶é´ æ¯«ç§\n * persist key å°æ­¤keyè½¬ä¸ºæ°¸ä¹æ§\n * keys pattern è¡¨è¾¾å¼æ¥è¯¢\n   * \n\n\n# db\n\nrdisæå¡å¨é»è®¤æä¾16ä¸ªæ°æ®åº ä»0å°15 é»è®¤ä¸º0 æ¯ä¸ªæ°æ®åºä¹é´çæ°æ®ç¸äºç¬ç«\n\n * select index åæ¢æ°æ®åº\n * ping æµè¯ä¸æå¡å¨æ¯å¦è¿å åéæ¶æ¯\n * move key db æ°æ®ç§»å¨\n * dbsize å½åæ°æ®åºkeyæ»é\n * flushdb å½åæ°æ®åºæ¸é¤\n * flushall å¨é¨æ°æ®åºæ¸é¤',normalizedContent:'# redis\n\nredis æ¯ç¨cè¯­è¨å¼åçä¸ä¸ªå¼æºçé«æ§è½é®å¼å¯¹æ°æ®åº\n\nç¹å¾:\n\n 1. æ°æ®é´æ²¡æå¿ç¶çå³èå³ç³»\n 2. åé¨éç¨åçº¿ç¨æºå¶è¿è¡å·¥ä½\n 3. é«æ§è½\n 4. å¤æ°æ®ç±»åæ¯æ\n    * å­ç¬¦ä¸²ç±»å string\n    * åè¡¨ç±»å list\n    * ååç±»å hash\n    * éåç±»å set\n    * æåºéåç±»å zset/sorted_set\n 5. æ¯ææä¹å, å¯ä»¥è¿è¡æ°æ®ç¾é¾æ¢å¤\n\n\n# å®è£\n\nwget https://download.redis.io/releases/redis-6.2.5.tar.gz\ntar -xvf redis-6.2.5.tar.gz \ncd redis-6.2.5\nmake\nmake install\n\nredis-server  \n# redis-server --port 6380  æå®ç«¯å£ é»è®¤ä¸º6379\n\n#å®¢æ·ç«¯\nredis-cli \n# redis-cli -p 6380\n\n#åå»ºå­æ¾éç½®åæ°æ®ç®å½\nmkdir conf\nmkdir data\ncp redis.conf ./conf\n\nfirewall-cmd --zone=public --add-port=6379/tcp --permanent\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n\n\n\n# éç½®æä»¶\n\nredis.conf\n\nbind 192.168.130.128 #ç»å®å¯¹å¤è®¿é®çip  å»ºè®®ä¸ºæ¬æºip  ä¹å¯æ³¨éæä»»ä½ä¸»æºé½å¯è®¿é®\nprotected-mode no  #å³é­ä¸»æºä¿æ¤æ¨¡å¼ yesä¸ºå¼å¯\nrequirepass 123456  #è®¾ç½®å¯ç \nport 6379\ntimeout 0 #å®¢æ·ç«¯é²ç½®ç­å¾æ¶é´ å°æ¶é´å³é­\ndaemonize yes #åå°è¿è¡\nlogfile "log-6379.log"  #æ¥å¿æä»¶å\ndir root/redis-6.2.5/data\nmaxclients 0  #æå¡å¨åè®¸æå¤§è¿æ¥æ° é»è®¤ä¸º0æ é\nloglevel verbose  #debug verbose notice waring åä¸ªçº§å« å¼åæé´ä¸ºverbose  çäº§ç¯å¢éç½®ä¸ºnotice éä½åæ¥å¿ioçé¢åº¦\n\nredis-server /root/redis-6.2.5/conf/redis.conf \nauth 123456\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n\n\n#è¿æ¥\nredis-cli \nauth 12\n\n\n1\n2\n3\n\n\n\n# æ°æ®ç±»åæä»¤\n\n\n\nredis èªèº«æ¯ä¸ä¸ª map ææçæ°æ®ç±»åé½æ¯ é®å¼å¯¹å½¢å¼å­å¨\n\nèæ°æ®ç±»åæçvalueé¨åçç±»å keyæ°¸è¿æ¯å­ç¬¦ä¸²\n\n\n# string\n\nä¸ä¸ªå­å¨ç©ºé´ä¿å­ä¸ä¸ªæ°æ®\n\nå¦ææ¯æ°å­ä¹å¯ä»¥ä½ä¸ºæ°å­æä½\n\n * set key value æ·»å /ä¿®æ¹æ°æ®\n * get key è·åæ°æ®\n * del key å é¤æ°æ®\n * setnx key value å¤æ­æ§æ·»å æ°æ®\n * mset key1 value1 key2 value2 ... mæ¯multipleç¼©å\n * mget key1 key2 ... è·åå¤ä¸ªæ°æ®\n * strlen key è·åæ°æ®å­ç¬¦é¿åº¦\n * append key value è¿½å ä¿¡æ¯å°åå§ä¿¡æ¯åé¢ (å¦å­å¨åè¿½å  å¦åæ°å»º)\n\n----------------------------------------\n\n * incr key è®¾ç½®æ°å¼+1 å¦ækeyä¸å­å¨ åä»0å¼å§å¹¶æ°å»º åªææ°å­å­ç¬¦ä¸²å¯ä»¥\n * incrby key increment è®¾ç½®æ°å¼+n\n * incrbyfloat key increment è®¾ç½®å°æ°å¢å +n\n * decr key è®¾ç½®æ°å¼-1\n * decrby key increment è®¾ç½®æ°å¼åå°æå®èå´\n * setex key seconds value è®¾ç½®æ°å¼å·ææå®ççå½å¨æç§ å¦:setex next 10 hello\n * psetex key milliseconds value è®¾ç½®æ°å¼å·ææå®ççå½å¨ææ¯«ç§\n\n----------------------------------------\n\næ³¨æäºé¡¹:\n\n 1. (integer)0 ä¸ºfalse 1ä¸ºæå ä¹å¯è½ä¸ºè¿è¡çç»æå¼\n 2. æ°æ®ä¸ºè·åå°æ¯ å¯¹åºä¸º(nil) === null\n 3. æ°æ®æå¤§çå­å¨éä¸º 512mb\n 4. stringå¨åé¨å­å¨å°±æ¯ä¸ä¸ªå­ç¬¦ä¸² å½éå°å¢åç±»æä½ incr,decræ¶ä¼è½¬ææ°å¼ç±»åè¿è¡è®¡ç®\n 5. å¨æä½æ°å¼æ¶,å¦æåå§æ°æ®ä¸è½è½¬ææ°å¼æè¶åºäºredisæ°å¼çèå´ å°æ¥é java.longçmax_value\n 6. redisæææä½é½æ¯åå­æ§,éç¨åçº¿ç¨å¤çææä¸å¡,å½ä»¤é½æ¯ä¸ä¸ªä¸ä¸ªæ§è¡ç,å æ­¤æ éèèå¹¶åå¸¦æ¥çæ°æ®å½±å\n\n\n\n\n# hash\n\nä¸ä¸ªå­å¨ç©ºé´ä¿å­å¤ä¸ªé®å¼å¯¹æ°æ® hashç©ºé´éé¢çkeyæä»¬éå¸¸ç§°ä¸ºfield\n\nå¦æfieldæ°æ¯è¾å°,å­å¨ç»æä¼ä¼åä¸ºæ°ç»,è¾å¤æ¶ä¸ºhashmapç»æ\n\n * hset key field value æ·»å /ä¿®æ¹æ°æ®\n * hget key field è·åæ°æ®\n * hgetall key è·åæ´ä¸ªhash\n * hdel key field1 [field] å é¤hashæå®çfield\n * hsetnx key field value è®¾ç½®field, å¦æfieldå­å¨åä¸åä»»ä½æä½\n * hmset key field1 value1 field2 value2 è®¾ç½®å¤ä¸ªfiled\n * hmget key field1 field2 è·åå¤ä¸ªæ°æ®\n * hlen key è·ååå¸è¡¨ä¸­fieldçæ°é\n * hexists key field å¤æ­åå¸è¡¨æ¯å¦å­å¨æå®çfield\n\n----------------------------------------\n\n * hkeys key è·ååå¸ææçå­æ®µå\n * hvals key è·ååå¸ææçå­æ®µå¼\n * hincrby key field increment è®¾ç½®æå®å­æ®µçæ°å¼å¢å æå®èå´ å¯ä»¥ä¸ºè´æ°\n * hincrbyfloat key field increment è®¾ç½®æå®å­æ®µçæ°å¼å¢å æå®å°æ°èå´\n\n----------------------------------------\n\næ³¨æäºé¡¹:\n\n 1. hashç±»åä¸­çvalueåªè½å­å¨å­ç¬¦ä¸² ä¸åè®¸å¶ä»æ°æ®ç±»å\n 2. æ¯ä¸ªhashå¯ä»¥å­å¨ 2ç32æ¬¡æ¹-1ä¸ªé®å¼å¯¹\n 3. hashè®¾è®¡åè¡·ä¸æ¯ä¸ºäºå­å¨å¤§éå¯¹è±¡èè®¾è®¡ç ä¸å¯ä»¥å°hashè½¬ä¸ºå¯¹è±¡åè¡¨ä½¿ç¨\n 4. hgetall æä½å¯ä»¥è·åå¨é¨å±æ§ å¦æç·äººfieldè¿å¤ éåæ´ä½æ°æçå°±ä¼å¾ä½ é ææ°æ®è®¿é®ç¶é¢\n\n\n# list\n\nä¸ä¸ªå­å¨ç©ºé´ä¿å­å¤ä¸ªæ°æ® å¹¶ä¸æ ¹æ®å­å¨é¡ºåºä¸è´ åºå±ä½¿ç¨äºååé¾è¡¨å­å¨ç»æå®ç°\n\n * lpush key value1 [value2] ... ä»å·¦æ·»å /å é¤æ°æ® å¯ä»¥å­å¨å¤ä¸ªå¼\n * rpush key value1 [value2] ... ä»å³æ·»å /å é¤æ°æ®\n * lrange key start stop è·åæå®èå´çæ°æ® ä¸æ ä»0å¼ -1ä¸ºæåä¸ä¸ªåç´ ælisté¿åº¦-1\n * lindex key index è·åç´¢å¼çæ°æ® å¦ç´¢å¼è¶çåæ¥è¯¢ä¸ºnil\n * llen key è·ålisté¿åº¦\n * lpop key ä»å·¦è·åå¹¶ç§»é¤æ°æ®\n * rpop key ä»å³è·åå¹¶ç§»é¤æ°æ®\n\n----------------------------------------\n\n * lrem key count value ç§»é¤æå®ä¸ªæ°çæå®æ°æ® å¦å é¤ä¸ªæ°è¶åºæ»ä¸ªæ° åå é¤å¨é¨æå®æ°æ®\n * blpop key1 [key2] timeout è§å®æ¶é´åè·åå¹¶ç§»é¤æ°æ® ç§åä½ å¦ææå¤keyåæé¡ºåºè·åå¹¶ç§»é¤ åªæåé¢ä¸ºnilåé¢çkeyæä¼æ§è¡ æ¯æ¬¡æ§è¡ä¸æ¬¡ æ¯ä¸ä¸ªé»å¡éå\n * brpop key1 [key2] timeout è§å®æ¶é´åè·åå¹¶ç§»é¤æ°æ®\n * brpoppush source destination timeout å°aåè¡¨pushå°båè¡¨ä¸­\n\n----------------------------------------\n\næ³¨æäºé¡¹:\n\n 1. listæ°æ®é½æ¯stringç±»å æå¤2ç32æ¬¡æ¹-1ä¸ªåç´ \n 2. listæç´¢å¼çæ¦å¿µ, ä½æä½æ°æ®éå¸¸ä»¥éåå½¢å¼å¥éåºé æä»¥æ çå½¢å¼\n 3. è·åå¨é¨æ°æ®çæä½ç»æç´¢å¼ä¸º-1\n 4. listå¯ä»¥å¯¹æ°æ®è¿è¡åé¡µæä½ ç¬¬ä¸é¡µæ°æ®æ¥æºlist èç¬¬äºé¡µåçéå¸¸ä»¥æ°æ®åºå½¢å¼å è½½\n\n\n# set\n\nsetä¸hashå­å¨ç»æå®å¨ç¸å,ä½setåªå­å¨é®,ä¸å­å¨å¼ å¼ä¸ºnil å¹¶ä¸å¼æ¯ä¸åè®¸éå¤ç\n\n * sadd key member1 [member2] æ·»å æ°æ®\n * smembers key è·åå¨é¨æ°æ®\n * srem key member1 [member2] å é¤æå®æ°æ®\n * scard key è·åéåæ°æ®æ»é\n * sismember key member å¤æ­éåä¸­æ¯å¦åå«æå®æ°æ®\n * srandmember key [count] éæºè·åéåä¸­æå®æ°éçæ°æ®\n * spop key [count] éæºè·åéåä¸­çæä¸ªæ°æ®å¹¶ç§»é¤åºéå\n\n----------------------------------------\n\n * sinter key1 [key2 ...] æ±ä¸¤ä¸ªéåçäº¤é\n * sunion key1 [key2 ...] æ±ä¸¤ä¸ªéåçå¹¶é\n * sdiff key1 [key2 ...] æ±ä¸¤ä¸ªéåçå·®é\n * sinterstore destination key [key2 ...] æ±ä¸¤ä¸ªéåçäº¤éå¹¶å­å¨å°æå®éåä¸­\n * sunionstore destination key [key2 ...] æ±ä¸¤ä¸ªéåçå¹¶éå¹¶å­å¨å°æå®éåä¸­\n * sdiffstore destination key [key2 ...] æ±ä¸¤ä¸ªéåçå·®éå¹¶å­å¨å°æå®éåä¸­\n * smove source destination member å°æå®æ°æ®ä»aéåç§»å¨å°béå\n\n----------------------------------------\n\næ³¨æäºé¡¹:\n\n 1. setä¸åè®¸æ°æ®éå¤\n 2. setè½ç¶åhashçå­å¨ç»æç¸å , ä½æ æ³ä½¿ç¨å­å¨å¼çç©ºé´\n\n\n# å¸¸ç¨æä»¤\n\n\n# key\n\n * del key å é¤æå®key\n * exists key å¤æ­keyæ¯å¦å­å¨\n * type key è·åkeyçç±»å\n * sort key æåº é»è®¤å¯¹æ°å­æåº å¦æè¦æèªç¶æåºå éè¦æå® alpha æ¥è¯¢åºæ¥æ¯æåº åæ°æ®ä¸åæ¹å å¹¶ä¸å¯ä»¥æ ¹æ® asc|desc æå®åéåº\n * rename key new key éå½å\n * renamenx key newkey å­å¨åä¿®æ¹ å¦åä¸åä»»ä½æä½\n\n----------------------------------------\n\n * expire key seconds ä¸ºæå®keyè®¾ç½®æææ ç§\n * pexpire key milliseconds ä¸ºæå®keyè®¾ç½®æææ æ¯«ç§\n * expireat key timestamp æ¶é´æ³\n * pexpireat key milliseconds-timestamp æ¯«ç§çº§æ¶é´æ³\n * ttl key è·åkeyçæææ¶é´ ç§ -1ä¸ºæ°¸ä¹ -2ä¸ºä¸å­å¨\n * pttl key è·åkeyçæææ¶é´ æ¯«ç§\n * persist key å°æ­¤keyè½¬ä¸ºæ°¸ä¹æ§\n * keys pattern è¡¨è¾¾å¼æ¥è¯¢\n   * \n\n\n# db\n\nrdisæå¡å¨é»è®¤æä¾16ä¸ªæ°æ®åº ä»0å°15 é»è®¤ä¸º0 æ¯ä¸ªæ°æ®åºä¹é´çæ°æ®ç¸äºç¬ç«\n\n * select index åæ¢æ°æ®åº\n * ping æµè¯ä¸æå¡å¨æ¯å¦è¿å åéæ¶æ¯\n * move key db æ°æ®ç§»å¨\n * dbsize å½åæ°æ®åºkeyæ»é\n * flushdb å½åæ°æ®åºæ¸é¤\n * flushall å¨é¨æ°æ®åºæ¸é¤',charsets:{cjk:!0},lastUpdated:"2022/03/18, 07:01:11",lastUpdatedTimestamp:1647558071e3},{title:"æ³¨é",frontmatter:{title:"æ³¨é",date:"2022-03-18T00:52:51.000Z",permalink:"/pages/d37106/",categories:["åç«¯","Python"],tags:[null]},regularPath:"/%E5%90%8E%E7%AB%AF/05.Python/04.%E6%B3%A8%E9%87%8A.html",relativePath:"åç«¯/05.Python/04.æ³¨é.md",key:"v-702958dc",path:"/pages/d37106/",headersStr:null,content:"# æ³¨é\n\n> # è¡¨ç¤ºåè¡æ³¨éï¼ä¸æ§è¡ï¼å¯¹ä»£ç è¿è¡è¯´æ\n> \n> ctrl+/ åæ¶æ³¨éå¿«æ·é®\n\n'''\nå¤è¡æ³¨é\nå¤è¡æ³¨é2\n'''\n\n\n1\n2\n3\n4\n",normalizedContent:"# æ³¨é\n\n> # è¡¨ç¤ºåè¡æ³¨éï¼ä¸æ§è¡ï¼å¯¹ä»£ç è¿è¡è¯´æ\n> \n> ctrl+/ åæ¶æ³¨éå¿«æ·é®\n\n'''\nå¤è¡æ³¨é\nå¤è¡æ³¨é2\n'''\n\n\n1\n2\n3\n4\n",charsets:{cjk:!0},lastUpdated:"2022/03/18, 07:01:11",lastUpdatedTimestamp:1647558071e3},{title:"close project",frontmatter:{title:"close project",date:"2022-03-18T00:52:51.000Z",permalink:"/pages/0c7ca5/",categories:["åç«¯","Python"],tags:[null]},regularPath:"/%E5%90%8E%E7%AB%AF/05.Python/02.close%20project.html",relativePath:"åç«¯/05.Python/02.close project.md",key:"v-16a2d958",path:"/pages/0c7ca5/",headersStr:null,content:"# close project\n\n> èåä¸­ç å³é­é¡¹ç®/å·¥ç¨",normalizedContent:"# close project\n\n> èåä¸­ç å³é­é¡¹ç®/å·¥ç¨",charsets:{cjk:!0},lastUpdated:"2022/03/18, 07:01:11",lastUpdatedTimestamp:1647558071e3},{title:"åéä»¥åæ°æ®ç±»å",frontmatter:{title:"åéä»¥åæ°æ®ç±»å",date:"2022-03-18T00:52:51.000Z",permalink:"/pages/f3c5b0/",categories:["åç«¯","Python"],tags:[null]},regularPath:"/%E5%90%8E%E7%AB%AF/05.Python/05.%E5%8F%98%E9%87%8F%E4%BB%A5%E5%8F%8A%E6%95%B0%E6%8D%AE%E7%B1%BB%E5%9E%8B.html",relativePath:"åç«¯/05.Python/05.åéä»¥åæ°æ®ç±»å.md",key:"v-9c066f90",path:"/pages/f3c5b0/",headers:[{level:2,title:"æ°å­ç±»å",slug:"æ°å­ç±»å",normalizedTitle:"æ°å­ç±»å",charIndex:15},{level:2,title:"å­ç¬¦ä¸²ç±»å",slug:"å­ç¬¦ä¸²ç±»å",normalizedTitle:"å­ç¬¦ä¸²ç±»å",charIndex:128},{level:2,title:"å¸å°ç±»å",slug:"å¸å°ç±»å",normalizedTitle:"å¸å°ç±»å",charIndex:209}],headersStr:"æ°å­ç±»å å­ç¬¦ä¸²ç±»å å¸å°ç±»å",content:"# åéä»¥åæ°æ®ç±»å\n\n\n# æ°å­ç±»å\n\n> æ°å­ intæ´æ°ç±»å\n> \n> å°æ° floatæµ®ç¹ç±»å\n> \n> å¤æ° Complexå¤æ°ç±»å ç±å®æ°é¨ååèæ°é¨åæç»æçæ°,å½¢å¦aï¼bi å½¢å¦: -1 ** 0.5ï¼ä¸ä¸ªèæ°ä¸å¦ä¸ä¸ªå®æ°æç»æï¼\n\n\n# å­ç¬¦ä¸²ç±»å\n\n> å¶å®å°±æ¯ä¸æ®µæ®éçæå­ï¼è¦æ±ä½¿ç¨æå¯¹çåå¼å·æåå¼å·å¼ç¨ï¼ä¸è½æ··ç¨ååå¼å·\n> \n> æ°å­ç±»åå äºå¼å·åä¹åæå­ç¬¦ä¸²ï¼ä¸è½ä¸æ°å­ç±»è¿ç®\n\n\n# å¸å°ç±»å\n\n> ç¨æ¥è¡¨ç¤ºçå/å¯¹éï¼åçåå2ç§å½¢æ æ³¨æå¼å¤´çTåFè¦å¤§åå°åä¼æ¥é\n> \n> True ç\n> \n> False å",normalizedContent:"# åéä»¥åæ°æ®ç±»å\n\n\n# æ°å­ç±»å\n\n> æ°å­ intæ´æ°ç±»å\n> \n> å°æ° floatæµ®ç¹ç±»å\n> \n> å¤æ° complexå¤æ°ç±»å ç±å®æ°é¨ååèæ°é¨åæç»æçæ°,å½¢å¦aï¼bi å½¢å¦: -1 ** 0.5ï¼ä¸ä¸ªèæ°ä¸å¦ä¸ä¸ªå®æ°æç»æï¼\n\n\n# å­ç¬¦ä¸²ç±»å\n\n> å¶å®å°±æ¯ä¸æ®µæ®éçæå­ï¼è¦æ±ä½¿ç¨æå¯¹çåå¼å·æåå¼å·å¼ç¨ï¼ä¸è½æ··ç¨ååå¼å·\n> \n> æ°å­ç±»åå äºå¼å·åä¹åæå­ç¬¦ä¸²ï¼ä¸è½ä¸æ°å­ç±»è¿ç®\n\n\n# å¸å°ç±»å\n\n> ç¨æ¥è¡¨ç¤ºçå/å¯¹éï¼åçåå2ç§å½¢æ æ³¨æå¼å¤´çtåfè¦å¤§åå°åä¼æ¥é\n> \n> true ç\n> \n> false å",charsets:{cjk:!0},lastUpdated:"2022/03/18, 07:01:11",lastUpdatedTimestamp:1647558071e3},{title:"IDE",frontmatter:{title:"IDE",date:"2022-03-18T00:52:51.000Z",permalink:"/pages/35c9ab/",categories:["åç«¯","Python"],tags:[null]},regularPath:"/%E5%90%8E%E7%AB%AF/05.Python/01.IDE.html",relativePath:"åç«¯/05.Python/01.IDE.md",key:"v-0680b9de",path:"/pages/35c9ab/",headersStr:null,content:"# IDE\n\n> IDEçæ¦å¿µ(Integrated Development Environment)ç§°ä¸ºéæå¼åç¯å¢ãæ¯ä¸æ¬¾æå¾å½¢åçé¢çè½¯ä»¶ï¼å®éæäºç¼è¾ï¼ç¼è¯ï¼åæï¼æ§è¡ä»¥åè°è¯ç­åè½ãpythonä¸­æå¸¸ç¨çIDEæ¯Pycharm",normalizedContent:"# ide\n\n> ideçæ¦å¿µ(integrated development environment)ç§°ä¸ºéæå¼åç¯å¢ãæ¯ä¸æ¬¾æå¾å½¢åçé¢çè½¯ä»¶ï¼å®éæäºç¼è¾ï¼ç¼è¯ï¼åæï¼æ§è¡ä»¥åè°è¯ç­åè½ãpythonä¸­æå¸¸ç¨çideæ¯pycharm",charsets:{cjk:!0},lastUpdated:"2022/03/18, 07:01:11",lastUpdatedTimestamp:1647558071e3},{title:"äº¤äºæ§ç¼ç¨",frontmatter:{title:"äº¤äºæ§ç¼ç¨",date:"2022-03-18T00:52:51.000Z",permalink:"/pages/ec9ba3/",categories:["åç«¯","Python"],tags:[null]},regularPath:"/%E5%90%8E%E7%AB%AF/05.Python/03.%E4%BA%A4%E4%BA%92%E6%80%A7%E7%BC%96%E7%A8%8B.html",relativePath:"åç«¯/05.Python/03.äº¤äºæ§ç¼ç¨.md",key:"v-410d528c",path:"/pages/ec9ba3/",headersStr:null,content:"# äº¤äºæ§ç¼ç¨\n\n> cmdå½ä»¤ç¬¦åpycharmä¸­çpython consoleä¸­æ¯æäº¤äºæ§ç¼ç¨\n> \n> exit()éåº\n> \n> **æ¯æ¬¡æ¹",normalizedContent:"# äº¤äºæ§ç¼ç¨\n\n> cmdå½ä»¤ç¬¦åpycharmä¸­çpython consoleä¸­æ¯æäº¤äºæ§ç¼ç¨\n> \n> exit()éåº\n> \n> **æ¯æ¬¡æ¹",charsets:{cjk:!0},lastUpdated:"2022/03/18, 07:01:11",lastUpdatedTimestamp:1647558071e3},{title:"MongoDB",frontmatter:{title:"MongoDB",date:"2022-03-18T00:52:36.000Z",permalink:"/pages/e5cb41/",categories:["åç«¯","SQL"],tags:[null]},regularPath:"/%E5%90%8E%E7%AB%AF/04.SQL/24.MongoDB.html",relativePath:"åç«¯/04.SQL/24.MongoDB.md",key:"v-1003aec2",path:"/pages/e5cb41/",headers:[{level:2,title:"ä½ç³»ç»æ",slug:"ä½ç³»ç»æ",normalizedTitle:"ä½ç³»ç»æ",charIndex:138},{level:2,title:"æ°æ®æ¨¡å",slug:"æ°æ®æ¨¡å",normalizedTitle:"æ°æ®æ¨¡å",charIndex:149},{level:2,title:"åæºé¨ç½²",slug:"åæºé¨ç½²",normalizedTitle:"åæºé¨ç½²",charIndex:260},{level:3,title:"windowså¯å¨",slug:"windowså¯å¨",normalizedTitle:"windowså¯å¨",charIndex:421},{level:3,title:"Linuxå¯å¨",slug:"linuxå¯å¨",normalizedTitle:"linuxå¯å¨",charIndex:1884},{level:2,title:"æ°æ®åº",slug:"æ°æ®åº",normalizedTitle:"æ°æ®åº",charIndex:206},{level:3,title:"éæ©ååå»ºæ°æ®åº",slug:"éæ©ååå»ºæ°æ®åº",normalizedTitle:"éæ©ååå»ºæ°æ®åº",charIndex:4481},{level:3,title:"æ¥è¯¢å½åææéæ¥ççæ°æ®",slug:"æ¥è¯¢å½åææéæ¥ççæ°æ®",normalizedTitle:"æ¥è¯¢å½åææéæ¥ççæ°æ®",charIndex:4606},{level:3,title:"æ¥çå½åæ­£å¨ä½¿ç¨çæ°æ®åºåç§°",slug:"æ¥çå½åæ­£å¨ä½¿ç¨çæ°æ®åºåç§°",normalizedTitle:"æ¥çå½åæ­£å¨ä½¿ç¨çæ°æ®åºåç§°",charIndex:4661},{level:3,title:"æ°æ®åºå½åè§è",slug:"æ°æ®åºå½åè§è",normalizedTitle:"æ°æ®åºå½åè§è",charIndex:4689},{level:3,title:"é»è®¤ä¸ä¸ªæ°æ®åºä½ç¨",slug:"é»è®¤ä¸ä¸ªæ°æ®åºä½ç¨",normalizedTitle:"é»è®¤ä¸ä¸ªæ°æ®åºä½ç¨",charIndex:4834},{level:3,title:"æ°æ®åºå é¤",slug:"æ°æ®åºå é¤",normalizedTitle:"æ°æ®åºå é¤",charIndex:5053},{level:2,title:"éå",slug:"éå",normalizedTitle:"éå",charIndex:4992},{level:3,title:"æ¾å¼åå»º",slug:"æ¾å¼åå»º",normalizedTitle:"æ¾å¼åå»º",charIndex:5121},{level:3,title:"éå¼åå»º",slug:"éå¼åå»º",normalizedTitle:"éå¼åå»º",charIndex:5198},{level:3,title:"æ¥è¯¢éå",slug:"æ¥è¯¢éå",normalizedTitle:"æ¥è¯¢éå",charIndex:5253},{level:3,title:"éåå é¤",slug:"éåå é¤",normalizedTitle:"éåå é¤",charIndex:5297},{level:2,title:"ææ¡£CRUD",slug:"ææ¡£crud",normalizedTitle:"ææ¡£crud",charIndex:5354},{level:3,title:"æå¥",slug:"æå¥",normalizedTitle:"æå¥",charIndex:4546},{level:3,title:"æ¥è¯¢",slug:"æ¥è¯¢",normalizedTitle:"æ¥è¯¢",charIndex:1564},{level:3,title:"æ´æ°",slug:"æ´æ°",normalizedTitle:"æ´æ°",charIndex:9119},{level:3,title:"å é¤",slug:"å é¤",normalizedTitle:"å é¤",charIndex:3355},{level:2,title:"ææ¡£çåé¡µæ¥è¯¢",slug:"ææ¡£çåé¡µæ¥è¯¢",normalizedTitle:"ææ¡£çåé¡µæ¥è¯¢",charIndex:10077},{level:3,title:"ç»è®¡æ¥è¯¢",slug:"ç»è®¡æ¥è¯¢",normalizedTitle:"ç»è®¡æ¥è¯¢",charIndex:10089},{level:3,title:"åé¡µåè¡¨æ¥è¯¢",slug:"åé¡µåè¡¨æ¥è¯¢",normalizedTitle:"åé¡µåè¡¨æ¥è¯¢",charIndex:10255},{level:3,title:"æåºæ¥è¯¢",slug:"æåºæ¥è¯¢",normalizedTitle:"æåºæ¥è¯¢",charIndex:10531},{level:3,title:"åé¡µåæåºæ¥è¯¢çé¡ºåº",slug:"åé¡µåæåºæ¥è¯¢çé¡ºåº",normalizedTitle:"åé¡µåæåºæ¥è¯¢çé¡ºåº",charIndex:10679},{level:2,title:"é«çº§æ¥è¯¢",slug:"é«çº§æ¥è¯¢",normalizedTitle:"é«çº§æ¥è¯¢",charIndex:10784},{level:3,title:"æ­£åæ¡ä»¶æ¥è¯¢",slug:"æ­£åæ¡ä»¶æ¥è¯¢",normalizedTitle:"æ­£åæ¡ä»¶æ¥è¯¢",charIndex:10793},{level:3,title:"æ¯è¾æ¥è¯¢",slug:"æ¯è¾æ¥è¯¢",normalizedTitle:"æ¯è¾æ¥è¯¢",charIndex:10870},{level:3,title:"åå«æ¥è¯¢",slug:"åå«æ¥è¯¢",normalizedTitle:"åå«æ¥è¯¢",charIndex:8898},{level:3,title:"ä¸åå«æ¥è¯¢",slug:"ä¸åå«æ¥è¯¢",normalizedTitle:"ä¸åå«æ¥è¯¢",charIndex:11353},{level:3,title:"æ¡ä»¶è¿æ¥æ¥è¯¢",slug:"æ¡ä»¶è¿æ¥æ¥è¯¢",normalizedTitle:"æ¡ä»¶è¿æ¥æ¥è¯¢",charIndex:11438},{level:2,title:"ç´¢å¼",slug:"ç´¢å¼",normalizedTitle:"ç´¢å¼",charIndex:5380},{level:3,title:"åå­æ®µç´¢å¼",slug:"åå­æ®µç´¢å¼",normalizedTitle:"åå­æ®µç´¢å¼",charIndex:11858},{level:3,title:"å¤åç´¢å¼",slug:"å¤åç´¢å¼",normalizedTitle:"å¤åç´¢å¼",charIndex:11971},{level:3,title:"å¶ä»ç´¢å¼",slug:"å¶ä»ç´¢å¼",normalizedTitle:"å¶ä»ç´¢å¼",charIndex:12088},{level:3,title:"ç´¢å¼ç®¡ç",slug:"ç´¢å¼ç®¡ç",normalizedTitle:"ç´¢å¼ç®¡ç",charIndex:12421},{level:3,title:"ç´¢å¼çä½¿ç¨",slug:"ç´¢å¼çä½¿ç¨",normalizedTitle:"ç´¢å¼çä½¿ç¨",charIndex:12901},{level:3,title:"æ¶µçæ¥è¯¢",slug:"æ¶µçæ¥è¯¢",normalizedTitle:"æ¶µçæ¥è¯¢",charIndex:13210},{level:2,title:"Javaè¿æ¥MongoDB",slug:"javaè¿æ¥mongodb",normalizedTitle:"javaè¿æ¥mongodb",charIndex:13328},{level:2,title:"è¯è®ºæ¡ä¾",slug:"è¯è®ºæ¡ä¾",normalizedTitle:"è¯è®ºæ¡ä¾",charIndex:13721},{level:3,title:"æ¨¡åæ­å»º",slug:"æ¨¡åæ­å»º",normalizedTitle:"æ¨¡åæ­å»º",charIndex:13730},{level:3,title:"å®ä½ç±»",slug:"å®ä½ç±»",normalizedTitle:"å®ä½ç±»",charIndex:14806},{level:3,title:"å¢å æ¹æ¥æ¹æ³",slug:"å¢å æ¹æ¥æ¹æ³",normalizedTitle:"å¢å æ¹æ¥æ¹æ³",charIndex:19348},{level:3,title:"åå»ºæµè¯æ¹æ³",slug:"åå»ºæµè¯æ¹æ³",normalizedTitle:"åå»ºæµè¯æ¹æ³",charIndex:21835},{level:3,title:"åé¡µæ¥è¯¢æµè¯",slug:"åé¡µæ¥è¯¢æµè¯",normalizedTitle:"åé¡µæ¥è¯¢æµè¯",charIndex:23880},{level:3,title:"è¯è®ºç¹èµ",slug:"è¯è®ºç¹èµ",normalizedTitle:"è¯è®ºç¹èµ",charIndex:24991},{level:2,title:"å¯æ¬é",slug:"å¯æ¬é",normalizedTitle:"å¯æ¬é",charIndex:25979},{level:3,title:"å¯æ¬éåå»º",slug:"å¯æ¬éåå»º",normalizedTitle:"å¯æ¬éåå»º",charIndex:26506},{level:3,title:"åå§åéç½®å¯æ¬éåä¸»èç¹",slug:"åå§åéç½®å¯æ¬éåä¸»èç¹",normalizedTitle:"åå§åéç½®å¯æ¬éåä¸»èç¹",charIndex:29879},{level:3,title:"æ·»å å¯æ¬ä»èç¹",slug:"æ·»å å¯æ¬ä»èç¹",normalizedTitle:"æ·»å å¯æ¬ä»èç¹",charIndex:30122},{level:3,title:"æ·»å ä»²è£èç¹",slug:"æ·»å ä»²è£èç¹",normalizedTitle:"æ·»å ä»²è£èç¹",charIndex:30217},{level:3,title:"å¯æ¬éçæ°æ®è¯»åæä½",slug:"å¯æ¬éçæ°æ®è¯»åæä½",normalizedTitle:"å¯æ¬éçæ°æ®è¯»åæä½",charIndex:30317},{level:3,title:"ä¸»èç¹çéä¸¾åå",slug:"ä¸»èç¹çéä¸¾åå",normalizedTitle:"ä¸»èç¹çéä¸¾åå",charIndex:30615},{level:3,title:"æåä¼åçº§",slug:"æåä¼åçº§",normalizedTitle:"æåä¼åçº§",charIndex:31135},{level:3,title:"Compassè¿æ¥å¯æ¬é",slug:"compassè¿æ¥å¯æ¬é",normalizedTitle:"compassè¿æ¥å¯æ¬é",charIndex:31257},{level:3,title:"SpringDataMongoDBè¿æ¥å¯æ¬é",slug:"springdatamongodbè¿æ¥å¯æ¬é",normalizedTitle:"springdatamongodbè¿æ¥å¯æ¬é",charIndex:31429},{level:2,title:"åçéç¾¤",slug:"åçéç¾¤",normalizedTitle:"åçéç¾¤",charIndex:32080},{level:3,title:"æ­å»ºåçéç¾¤æ¶æ",slug:"æ­å»ºåçéç¾¤æ¶æ",normalizedTitle:"æ­å»ºåçéç¾¤æ¶æ",charIndex:32354},{level:3,title:"Compassè¿æ¥åçéç¾¤",slug:"compassè¿æ¥åçéç¾¤",normalizedTitle:"compassè¿æ¥åçéç¾¤",charIndex:47354},{level:3,title:"SpringDataMongDB è¿æ¥åçéç¾¤",slug:"springdatamongdb-è¿æ¥åçéç¾¤",normalizedTitle:"springdatamongdb è¿æ¥åçéç¾¤",charIndex:47384},{level:2,title:"å®å¨è®¤è¯",slug:"å®å¨è®¤è¯",normalizedTitle:"å®å¨è®¤è¯",charIndex:47948},{level:3,title:"è§è²",slug:"è§è²",normalizedTitle:"è§è²",charIndex:26200},{level:3,title:"åå®ä¾å®å¨è®¤è¯",slug:"åå®ä¾å®å¨è®¤è¯",normalizedTitle:"åå®ä¾å®å¨è®¤è¯",charIndex:48591},{level:3,title:"å¯æ¬éç¯å¢",slug:"å¯æ¬éç¯å¢",normalizedTitle:"å¯æ¬éç¯å¢",charIndex:50364},{level:3,title:"åçéç¾¤ç¯å¢",slug:"åçéç¾¤ç¯å¢",normalizedTitle:"åçéç¾¤ç¯å¢",charIndex:52084},{level:2,title:"4.0æ°ç¹æ§",slug:"_4-0æ°ç¹æ§",normalizedTitle:"4.0æ°ç¹æ§",charIndex:53351},{level:3,title:"å è½½å¤é¨jsæä»¶",slug:"å è½½å¤é¨jsæä»¶",normalizedTitle:"å è½½å¤é¨jsæä»¶",charIndex:53362},{level:3,title:"äºå¡æ§",slug:"äºå¡æ§",normalizedTitle:"äºå¡æ§",charIndex:53445},{level:3,title:"èåæ°æ®ç±»åè½¬æ¢",slug:"èåæ°æ®ç±»åè½¬æ¢",normalizedTitle:"èåæ°æ®ç±»åè½¬æ¢",charIndex:57153}],headersStr:"ä½ç³»ç»æ æ°æ®æ¨¡å åæºé¨ç½² windowså¯å¨ Linuxå¯å¨ æ°æ®åº éæ©ååå»ºæ°æ®åº æ¥è¯¢å½åææéæ¥ççæ°æ® æ¥çå½åæ­£å¨ä½¿ç¨çæ°æ®åºåç§° æ°æ®åºå½åè§è é»è®¤ä¸ä¸ªæ°æ®åºä½ç¨ æ°æ®åºå é¤ éå æ¾å¼åå»º éå¼åå»º æ¥è¯¢éå éåå é¤ ææ¡£CRUD æå¥ æ¥è¯¢ æ´æ° å é¤ ææ¡£çåé¡µæ¥è¯¢ ç»è®¡æ¥è¯¢ åé¡µåè¡¨æ¥è¯¢ æåºæ¥è¯¢ åé¡µåæåºæ¥è¯¢çé¡ºåº é«çº§æ¥è¯¢ æ­£åæ¡ä»¶æ¥è¯¢ æ¯è¾æ¥è¯¢ åå«æ¥è¯¢ ä¸åå«æ¥è¯¢ æ¡ä»¶è¿æ¥æ¥è¯¢ ç´¢å¼ åå­æ®µç´¢å¼ å¤åç´¢å¼ å¶ä»ç´¢å¼ ç´¢å¼ç®¡ç ç´¢å¼çä½¿ç¨ æ¶µçæ¥è¯¢ Javaè¿æ¥MongoDB è¯è®ºæ¡ä¾ æ¨¡åæ­å»º å®ä½ç±» å¢å æ¹æ¥æ¹æ³ åå»ºæµè¯æ¹æ³ åé¡µæ¥è¯¢æµè¯ è¯è®ºç¹èµ å¯æ¬é å¯æ¬éåå»º åå§åéç½®å¯æ¬éåä¸»èç¹ æ·»å å¯æ¬ä»èç¹ æ·»å ä»²è£èç¹ å¯æ¬éçæ°æ®è¯»åæä½ ä¸»èç¹çéä¸¾åå æåä¼åçº§ Compassè¿æ¥å¯æ¬é SpringDataMongoDBè¿æ¥å¯æ¬é åçéç¾¤ æ­å»ºåçéç¾¤æ¶æ Compassè¿æ¥åçéç¾¤ SpringDataMongDB è¿æ¥åçéç¾¤ å®å¨è®¤è¯ è§è² åå®ä¾å®å¨è®¤è¯ å¯æ¬éç¯å¢ åçéç¾¤ç¯å¢ 4.0æ°ç¹æ§ å è½½å¤é¨jsæä»¶ äºå¡æ§ èåæ°æ®ç±»åè½¬æ¢",content:'# MongoDB\n\nMongoDBå®æ¯æçæ°æ®ç»æéå¸¸æ¾æ£,æ¯ä¸ç§ç±»JSONçæ ¼å¼ BSON å®å³å¯ä»¥å­å¨æ¯è¾å¤æçæ°æ®ç±»å åç¸å½ççµæ´»\n\nMongoDBä¸­çè®°å½æ¯ä¸ä¸ªææ¡£ å®æ¯ä¸ä¸ªé®å¼å¯¹æ°æ®ç»æ MongoDBææ¡£ç±»ä¼¼äºJSONå¯¹è±¡ å³ä¸ä¸ªææ¡£è®¤ä¸ºå°±æ¯ä¸ä¸ªå¯¹è±¡\n\n\n# ä½ç³»ç»æ\n\n\n\n\n# æ°æ®æ¨¡å\n\nMongoDBçæå°å­å¨åä½å°±æ¯ææ¡£(document)å¯¹è±¡ãææ¡£(document)å¯¹è±¡å¯¹åºäºå³ç³»åæ°æ®åºçè¡ãæ°æ®å¨MongoDBä¸­ä»¥BSONï¼Binary-JSONï¼ææ¡£çæ ¼å¼å­å¨å¨ç£çä¸ã\n\n\n\n\n# åæºé¨ç½²\n\nhttps://www.mongodb.com/try/download/community\n\nMongoDBççæ¬å½åè§èå¦ï¼x.y.zï¼ yä¸ºå¥æ°æ¶è¡¨ç¤ºå½åçæ¬ä¸ºå¼åçï¼å¦ï¼1.5.2ã4.1.13ï¼ yä¸ºå¶æ°æ¶è¡¨ç¤ºå½åçæ¬ä¸ºç¨³å®çï¼å¦ï¼1.6.3ã4.0.10ï¼ zæ¯ä¿®æ­£çæ¬å·ï¼æ°å­è¶å¤§è¶å¥½ã\n\n\n# windowså¯å¨\n\n 1. è§£åå°æ¬å°\n\n 2. å¨MongoDBç®å½ä¸åå»º data\n\n 3. å¨dataæä»¶å¤¹ä¸ åå«åå»º db å logs æä»¶å¤¹\n\n 4. è¿å¥binç®å½ä¸å½ä»¤è¡å¯å¨\n    \n    mongod --dbpath=D:\\compile\\mongodb-win32-x86_64-2012plus-4.2.16\\data\\db --logpath=D:\\compile\\mongodb-win32-x86_64-2012plus-4.2.16\\data\\logs\\mongolog.log --logappend\n    \n    \n    1\n    \n\nMongoDBé»è®¤ç«¯å£ä¸º27017 å¦æè¦æå®ç«¯å£å¯ä»¥éè¿--portæ¥è®¾ç½®\n\nmongod --dbpath=D:\\compile\\mongodb-win32-x86_64-2012plus-4.2.16\\data\\db --logpath=D:\\compile\\mongodb-win32-x86_64-2012plus-4.2.16\\data\\logs\\mongolog.log --logappend --port 27018\n\n\n1\n\n\n# ä½¿ç¨éç½®æä»¶å¯å¨\n\n 1. å¨MongoDBç®å½ä¸confç®å½\n\n 2. è¿å¥confç®å½åå»ºmongod.conf\n    \n    storage:\n     dbPath: D:\\compile\\mongodb-win32-x86_64-2012plus-4.2.16\\data\\db\n    systemLog:\n     destination: file\n     path: D:\\compile\\mongodb-win32-x86_64-2012plus-4.2.16\\data\\logs\\mongolog.log\n     logAppend: true\n    \n    \n    1\n    2\n    3\n    4\n    5\n    6\n    \n\n 3. å¨binç®å½ä¸å½ä»¤è¡å¯å¨\n    \n    mongod -f ../config/mongod.conf\n    #æè\n    mongod --config ../config/mongod.conf\n    \n    \n    1\n    2\n    3\n    \n\n# è¿æ¥æ°æ®åº\n\n 1. å¨binç®å½ä¸å½ä»¤è¡å¯å¨\n    \n    mongo\n    #æè\n    mongo --host=127.0.0.1 --port=27017\n    \n    \n    1\n    2\n    3\n    \n    \n    show dbs; #æ¥è¯¢æ°æ®åº\n    exit; #éåº\n    \n    \n    1\n    2\n    \n\n# å®è£ä¸ºæå¡é¡¹\n\nå¨binç®å½ä¸æ§è¡\n\nmongod --dbpath "D:\\compile\\mongodb-win32-x86_64-2012plus-4.2.16\\data\\db" --logpath "D:\\compile\\mongodb-win32-x86_64-2012plus-4.2.16\\data\\logs\\mongolog.log" --serviceName "mongodb" --serviceDisplayName "mongodb" --install\nnet start mongodb\n\n\n1\n2\n\n\n\n# Linuxå¯å¨\n\nè§£åå®è£\n\nwget https://fastdl.mongodb.org/linux/mongodb-linux-x86_64-rhel70-4.2.15.tgz\ntar -zxvf mongodb-linux-x86_64-rhel70-4.2.15.tgz\nmv mongodb-linux-x86_64-rhel70-4.2.15 /usr/local/mongodb \nmkdir -p /mongodb/single/data/db  #æ°æ®ç®å½\nmkdir -p /mongodb/single/log  #æ¥å¿æä»¶\nvim /mongodb/single/mongod.conf\n\n\n1\n2\n3\n4\n5\n6\n\n\n# éç½®åå®¹\nsystemLog:\n # MongoDBåéæææ¥å¿è¾åºçç®æ æå®ä¸ºæä»¶\n # The path of the log file to which mongod or mongos should send all diagnostic logging information\n destination: file\n # mongodæmongosåºåå¶åéææè¯æ­æ¥å¿è®°å½ä¿¡æ¯çæ¥å¿æä»¶çè·¯å¾\n path: "/mongodb/single/log/mongod.log"\n # å½mongosæmongodå®ä¾éæ°å¯å¨æ¶ï¼mongosæmongodä¼å°æ°æ¡ç®éå å°ç°ææ¥å¿æä»¶çæ«å°¾ã\n logAppend: true\nstorage:\n # mongodå®ä¾å­å¨å¶æ°æ®çç®å½ãstorage.dbPathè®¾ç½®ä»éç¨äºmongodã\n # The directory where the mongod instance stores its data.Default Value is "/data/db".\n dbPath: "/mongodb/single/data/db"\n journal:\n  # å¯ç¨æç¦ç¨æä¹æ§æ¥å¿ä»¥ç¡®ä¿æ°æ®æä»¶ä¿æææåå¯æ¢å¤ã\n  enabled: true\nprocessManagement:\n # å¯ç¨å¨åå°è¿è¡mongosæmongodè¿ç¨çå®æ¤è¿ç¨æ¨¡å¼ã\n fork: true\nnet:\n # æå¡å®ä¾ç»å®çIPï¼é»è®¤æ¯localhost\n bindIp: localhost,192.168.130.212    #ipä¸ºå½åæå¡å¨å±åç½ipå°å ä¸è®¾ç½®å¤é¨æ æ³éè¿ipè®¿é®\n # bindIp\n # ç»å®çç«¯å£ï¼é»è®¤æ¯27017\n port: 27017\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n\n\nå¯å¨\n\n/usr/local/mongodb/bin/mongod -f /mongodb/single/mongod.conf\n#/usr/local/mongodb/bin/mongod --config /mongodb/single/mongod.conf\n#æ¥çé²ç«å¢ç¶æ\nsystemctl status firewalld\n#ä¸´æ¶å³é­é²ç«å¢\nsystemctl stop firewalld\n#å¼æºç¦æ­¢å¯å¨é²ç«å¢\nsystemctl disable firewalld\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n\n\nå¦æä¸æ¦æ°æ®æå å¯¼è´è¡¨æ­»é\n\nrm -f /mongodb/single/data/db/*.lock #å é¤éæä»¶\n/usr/local/mongdb/bin/mongod --repair\n\n\n1\n2\n\n\n# éç½®ç¯å¢åé\n\nvi /etc/profile\n#éç½®åå®¹\nexport MONGODB_HOME=/usr/local/mongodb\nexport PATH=$PATH:$MONGODB_HOME/bin\n\n\n1\n2\n3\n4\n\n\n# éç½®ä¸ºæå¡å å¥å¯å¨\n\ncd /lib/systemd/system  \nvi mongodb.service  \n#éç½®åå®¹\n[Unit]\nDescription=mongodb\nAfter=network.target remote-fs.target nss-lookup.target\n\n[Service]\nType=forking\nExecStart=/usr/local/mongodb/bin/mongod --config /mongodb/single/mongodb.conf\nExecReload=/bin/kill -s HUP $MAINPID\nExecStop=/usr/local/mongodb/bin/mongod --shutdown --config /mongodb/single/mongodb.conf\nPrivateTmp=true\n\n[Install]\nWantedBy=multi-user.target\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n\n\n#echo "/usr/local/mongodb/bin/mongod --dbpath=/data/db --fork --bind_ip=0.0.0.0 --port 27017 --logpath=/data/db/log --logappend --auth" >> /etc/rc.local\n\nchmod 754 mongodb.service\n\n\n1\n2\n3\n\n\n#å¯å¨æå¡\nsystemctl start mongodb.service\n#å³é­æå¡\nsystemctl stop mongodb.service\n#å¼æºå¯å¨\nsystemctl enable mongodb.service\n#å³é­å¼å¯å¯å¨\nsystemctl disable mongodb.service\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n\n\n# æ åçå³é­æ¹æ³\n\nmongo\nuse admin\ndb.shutdownServer()\n\n\n1\n2\n3\n\n\nè¿ç¨idå³é­æ³\n\nps -ef | grep mongo\nkill -2 pid\n\n\n1\n2\n\n\n\n# æ°æ®åº\n\n\n# éæ©ååå»ºæ°æ®åº\n\n#use æ°æ®åºåç§°   \nuse articledb  #å¦ææ²¡ææ­¤æ°æ®åºåèªå¨åå»º \n#å¦ææ°çæ°æ®åºæ²¡ææå¥æ°æ® showdbsæ¯æ æ³æ¥çå°æ°åå»ºçæ°æ®åº å ä¸ºæ­¤æ¶æ°æ®åºå­å¨å¨åå­å½ä¸­ å¹¶æªæä¹å\n\n\n1\n2\n3\n\n\n\n# æ¥è¯¢å½åææéæ¥ççæ°æ®\n\nshow dbs\n#æè\nshow databases\n\n\n1\n2\n3\n\n\n\n# æ¥çå½åæ­£å¨ä½¿ç¨çæ°æ®åºåç§°\n\ndb\n\n\n1\n\n\n\n# æ°æ®åºå½åè§è\n\næ°æ®åºåå¯ä»¥æ¯æ»¡è¶³ä»¥ä¸æ¡ä»¶çä»»æUTF-8å­ç¬¦ä¸²ã\n\n * ä¸è½æ¯ç©ºå­ç¬¦ä¸²ï¼ "")ã\n * ä¸å¾å«æ \' \'ï¼ç©ºæ ¼)ã.ã$ã/ã\\å\\0 (ç©ºå­ç¬¦)ã\n * åºå¨é¨å°åã\n * æå¤ 64å­èã\n\næä¸äºæ°æ®åºåæ¯ä¿ççï¼å¯ä»¥ç´æ¥è®¿é®è¿äºæç¹æ®ä½ç¨çæ°æ®åºã\n\n\n# é»è®¤ä¸ä¸ªæ°æ®åºä½ç¨\n\n * admin ï¼ ä»æéçè§åº¦æ¥çï¼è¿æ¯"root"æ°æ®åºãè¦æ¯å°ä¸ä¸ªç¨æ·æ·»å å°è¿ä¸ªæ°æ®åºï¼è¿ä¸ªç¨æ·èªå¨ç»§æ¿æææ°æ®åºçæéãä¸äºç¹å®çæå¡å¨ç«¯å½ä»¤ä¹åªè½ä»è¿ä¸ªæ°æ®åºè¿è¡ï¼æ¯å¦ååºææçæ°æ®åºæèå³é­æå¡å¨ã\n * local: è¿ä¸ªæ°æ®æ°¸è¿ä¸ä¼è¢«å¤å¶ï¼å¯ä»¥ç¨æ¥å­å¨éäºæ¬å°åå°æå¡å¨çä»»æéå\n * config : å½Mongoç¨äºåçè®¾ç½®æ¶ï¼configæ°æ®åºå¨åé¨ä½¿ç¨ï¼ç¨äºä¿å­åççç¸å³ä¿¡æ¯ã\n\n\n# æ°æ®åºå é¤\n\ndb.dropDatabase()  #å é¤å½åä½¿ç¨çåº\n\n\n1\n\n\n\n# éå\n\néå,ç±»ä¼¼äºå³ç³»åæ°æ®ä¸­çè¡¨\n\n\n# æ¾å¼åå»º\n\n#db.createCollection(éåå)\ndb.createCollection("my")  #æåè¿å1\n\n\n1\n2\n\n\n\n# éå¼åå»º\n\nå½åä¸ä¸ªéåä¸­æå¥ææ¡£æ¶ å¦æéåä¸å­å¨ åèªå¨åå»ºéå\n\néå¸¸æä»¬ä½¿ç¨éå¼åå»ºææ¡£å³å¯\n\n\n# æ¥è¯¢éå\n\nshow collections #æ¥è¯¢å½ååºçææéå\n\n\n1\n\n\n\n# éåå é¤\n\n#db.éåå.drop()\ndb.my.drop()  #æååè¿åtrue\n\n\n1\n2\n\n\n\n# ææ¡£CRUD\n\nææ¡£çæ°æ®ç»æåJSONåºæ¬ä¸æ ·\n\nç´¢å¼å­å¨å¨éåä¸­æ°æ®é½æ¯ BSON æ ¼å¼\n\n\n# æå¥\n\néè¿insert() æè save() æ¹æ³åéåä¸­æå¥ææ¡£\n\n# åé®æå¥\n\n#åææ¡£æå¥\ndb.collection.insert(\n <document or array of documents>,\n {\n  writeConcern: <document>,\n  ordered: <boolean>\n }\n)\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n\n\n\n\n#db.éåå.inset({""})\n#åææ¡£æå¥\ndb.comment.insert({"articleid":"100000","content":"ä»å¤©å¤©æ°çå¥½ï¼é³åæåª","userid":"1001","nickname":"Rose","createdatetime":new Date(),"likenum":NumberInt(10),"state":null})  #è¿å1åæå¥æå\n\n\n1\n2\n3\n\n\n# æ¹éæå¥\n\n#æ¹éæå¥\ndb.collection.insertMany(\n [ <document 1> , <document 2>, ... ],\n {\n   writeConcern: <document>,\n   ordered: <boolean>\n }\n)\n\n#db.éåå.insertMany([{""},{""}])\ndb.comment.insertMany([{"_id":"1","articleid":"100001","content":"æä»¬ä¸åºè¯¥ææ¸æ¨æµªè´¹å¨ææºä¸ï¼å¥åº·å¾éè¦ï¼ä¸æ¯æ¸©æ°´å¹¸ç¦ä½ æä»ã","userid":"1002","nickname":"ç¸å¿äºæ±æ¹","createdatetime":new Date("2019-08-05T22:08:15.522Z"),"likenum":NumberInt(1000),"state":"1"},{"_id":"2","articleid":"100001","content":"æå¤å¤©ç©ºè¹ååå¼æ°´ï¼å¬å¤©åæ¸©å¼æ°´","userid":"1005","nickname":"ä¼äººææ´","createdatetime":new Date("2019-08-05T23:58:51.485Z"),"likenum":NumberInt(888),"state":"1"},{"_id":"3","articleid":"100001","content":"æä¸ç´ååå¼æ°´ï¼å¬å¤©å¤å¤©é½åã","userid":"1004","nickname":"æ°åè¹é¿","createdatetime":new Date("2019-08-06T01:05:06.321Z"),"likenum":NumberInt(666),"state":"1"},{"_id":"4","articleid":"100001","content":"ä¸å®¶è¯´ä¸è½ç©ºè¹åé¥­ï¼å½±åå¥åº·ã","userid":"1003","nickname":"å¯æ","createdatetime":new Date("2019-08-06T08:18:35.288Z"),"likenum":NumberInt(2000),"state":"1"},{"_id":"5","articleid":"100001","content":"ç ç©¶è¡¨æï¼åç§å¼çæ°´åä¸ä¸è½åï¼å ä¸ºç«å´ã","userid":"1003","nickname":"å¯æ","createdatetime":new Date("2019-08-06T11:01:02.521Z"),"likenum":NumberInt(3000),"state":"1"}]);  \n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n\n\n# try catch\n\næä»¬éè¿æ¹éæå¥æ¶ç±äºæ°æ®è¾å¤å¯è½ä¼åºç°å¤±è´¥ æä»¬å¯ä»¥éè¿try catchè¿è¡å¼å¸¸å¤ç\n\ntry {\n  db.comment.insertMany([\n    {\n      _id: \'1\',\n      articleid: \'100001\',\n      content: \'æä»¬ä¸åºè¯¥ææ¸æ¨æµªè´¹å¨ææºä¸ï¼å¥åº·å¾éè¦ï¼ä¸æ¯æ¸©æ°´å¹¸ç¦ä½ æä»ã\',\n      userid: \'1002\',\n      nickname: \'ç¸å¿äºæ±æ¹\',\n      createdatetime: new Date(\'2019-08-05T22:08:15.522Z\'),\n      likenum: NumberInt(1000),\n      state: \'1\',\n    },\n    {\n      _id: \'2\',\n      articleid: \'100001\',\n      content: \'æå¤å¤©ç©ºè¹ååå¼æ°´ï¼å¬å¤©åæ¸©å¼æ°´\',\n      userid: \'1005\',\n      nickname: \'ä¼äººææ´\',\n      createdatetime: new Date(\'2019-08-05T23:58:51.485Z\'),\n      likenum: NumberInt(888),\n      state: \'1\',\n    },\n    {\n      _id: \'3\',\n      articleid: \'100001\',\n      content: \'æä¸ç´ååå¼æ°´ï¼å¬å¤©å¤å¤©é½åã\',\n      userid: \'1004\',\n      nickname: \'æ°åè¹é¿\',\n      createdatetime: new Date(\'2019-08-06T01:05:06.321Z\'),\n      likenum: NumberInt(666),\n      state: \'1\',\n    },\n    {\n      _id: \'4\',\n      articleid: \'100001\',\n      content: \'ä¸å®¶è¯´ä¸è½ç©ºè¹åé¥­ï¼å½±åå¥åº·ã\',\n      userid: \'1003\',\n      nickname: \'å¯æ\',\n      createdatetime: new Date(\'2019-08-06T08:18:35.288Z\'),\n      likenum: NumberInt(2000),\n      state: \'1\',\n    },\n    {\n      _id: \'5\',\n      articleid: \'100001\',\n      content: \'ç ç©¶è¡¨æï¼åç§å¼çæ°´åä¸ä¸è½åï¼å ä¸ºç«å´ã\',\n      userid: \'1003\',\n      nickname: \'å¯æ\',\n      createdatetime: new Date(\'2019-08-06T11:01:02.521Z\'),\n      likenum: NumberInt(3000),\n      state: \'1\',\n    },\n  ])\n} catch (e) {\n  print(e)\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n26\n27\n28\n29\n30\n31\n32\n33\n34\n35\n36\n37\n38\n39\n40\n41\n42\n43\n44\n45\n46\n47\n48\n49\n50\n51\n52\n53\n54\n55\n56\n\n\n\n# æ¥è¯¢\n\næ¥è¯¢å½åæ°æ®åºä¸­çææ¡£\n\n# æ¥è¯¢ææææ¡£\n\n#db.collection.find(<query>, [projection])\ndb.comment.find()\n\n\n1\n2\n\n\n\n\n# æ¡ä»¶æ¥è¯¢\n\næ¥è¯¢ææ¡£ä¸­åå«æ­¤ææ¡£åå®¹çææææ¡£\n\n#db.collection.find({é®:"åå®¹"})\ndb.comment.find({articleid:"100001"})\n\n\n1\n2\n\n\n# åªè¿åç¬¬ä¸ä¸ªç»æ\n\n#db.collection.findOne({é®:"åå®¹"})\ndb.comment.findOne({articleid:"100001"})\n\n\n1\n2\n\n\n# æå½±æ¥è¯¢\n\næ¥è¯¢åºæ¥çææ¡£ åªæ¾ç¤ºéè¦çé®å¼å¯¹ ç¸å¯¹åºsqlä¸­çæ¥è¯¢ç»æåªæ¾ç¤ºæå®å\n\nfindä¼ åæ¶ç»åºæå®çé®å­æ®µ 1ä¸ºæ¥è¯¢æ­¤é® 0ä¸ºè¿æ»¤æ­¤é® é»è®¤èªå¨åå«æ¥è¯¢_idé®\n\n#db.collection.find({é®:"åå®¹"},{é®:1,é®:0})  \ndb.comment.find({articleid:"100001"},{content:1})  #æ¥è¯¢åå«100001ææ¡£ä¸­ç contenté®åå®¹\ndb.comment.find({articleid:"100001"},{content:1,_id:0}) #é»è®¤æ¥è¯¢åå«_id å¯ä»¥éè¿0è¿æ»¤\n\n\n\n1\n2\n3\n4\n\n\n\n# æ´æ°\n\n//è¯­æ³\ndb.collection.update(query, update, options)\n//æ\ndb.collection.update(\n\t<query>,\n\t<update>,\n\t{\n\t\tupsert: <boolean>,\n\t\tmulti: <boolean>,\n\t\twriteConcern: <document>,\n\t\tcollation: <document>,\n\t\tarrayFilters: [ <filterdocument1>, ... ],\n\t\thint: \t<document|string> \t\t\t\t// Available starting in MongoDB 4.2\n\t}\n)\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n\n\n\n\n# è¦çä¿®æ¹\n\nä¿®æ¹æå®ææ¡£ å¹¶è¦çæ´æ°æ´ä¸ªææ¡£ å³ä¿®æ¹ä¸ºå½åè¯­å¥ä¸­çå­æ®µ ååå­æ®µä¸ä¿ç\n\ndb.comment.update({_id:"1"},{likenum:NumberInt(1001)})  #å¯ä»¥çè§£ä¸ºå é¤åææ¡£å¹¶æå¥æ­¤ææ¡£\n\n\n1\n\n\n# å±é¨ä¿®æ¹\n\næä»¬å¯ä»¥éè¿ä¿®æ¹å¨$setæ¥ä¿®æ¹æå®é®çåå®¹ å¹¶ä¿çåææ¡£å¶ä»åå®¹\n\n#é»è®¤åªä¿®æ¹ç¬¦åæ¡ä»¶çç¬¬ä¸æ¡æ°æ®\ndb.comment.update({_id:"2"},{$set:{likenum:NumberInt(778)}})\n#ä¿®æ¹ææç¬¦åæ¡ä»¶çæ°æ®éè¦å ä¸åæ°{multi:true}\ndb.comment.update({userid:"1003"},{$set:{nickname:"å¼ ä¸"}},{multi:true})\n\n\n1\n2\n3\n4\n\n\n# åå¼å¢é¿ä¿®æ¹\n\néè¿$incè¿ç®ç¬¦å®ç° å¯ä»¥å¯¹è¯¥é®çå¼è¿è¡éå¢ éå\n\ndb.comment.update({_id:"2"},{$inc:{likenum:NumberInt(1)}})\n\n\n1\n\n\n\n# å é¤\n\n# æ¡ä»¶å é¤\n\nå é¤ç¬¦åæ¡ä»¶çææ¡£\n\n#db.éå.remove({æ¡ä»¶})\ndb.comment.remove({_id:"1"})  #è¿åå¼ä¸ºå é¤å¤å°æ¡æ°æ®\n\n\n1\n2\n\n\n# å é¤å¨é¨\n\ndb.comment.remove({})\n\n\n1\n\n\n\n# ææ¡£çåé¡µæ¥è¯¢\n\n\n# ç»è®¡æ¥è¯¢\n\nä½¿ç¨count()æ¹æ³\n\ndb.collection.count(query, options)\n\n\n1\n\n\n\n\n# ç»è®¡å½åéåææææ¡£æ°\n\ndb.comment.count()  #è¿åå¼æ¯ææ¡£æ°\n\n\n1\n\n\n# ææ¡ä»¶æ¥è¯¢\n\ndb.comment.count({userid:"1003"}) \n\n\n1\n\n\n\n# åé¡µåè¡¨æ¥è¯¢\n\néè¿limit()æ¹æ³ è¯»åæå®æ°éçæ°æ® ä½¿ç¨skip()æ¹æ³è·³è¿æå®æ°éçæ°æ®\n\n#db.collection.find().limit(number).skip(number)\ndb.comment.find().limit(3)  #æ¥è¯¢å3æ¡çæ°æ®\ndb.comment.find().skip(3) #è·³è¿å3æ¡çæ°æ®\n\ndb.comment.find().skip(0).limit(2)  #ç¬¬ä¸é¡µ\ndb.comment.find().skip(2).limit(2)  #ç¬¬äºé¡µ\n\n\n1\n2\n3\n4\n5\n6\n\n\n\n# æåºæ¥è¯¢\n\nsort()æ¹æ³å¯¹æ°æ®è¿è¡æåº ä½¿ç¨1å-1æ¥æå®ååºåéåº sort({é®:1}) é»è®¤ä»¥idè¿è¡ååº\n\ndb.comment.find().sort({userid:-1,likenum:1}) #å¯¹useridçåå®¹è¿è¡éåº åå¯¹likenumçåå®¹è¿è¡ååº\n\n\n1\n\n\n\n# åé¡µåæåºæ¥è¯¢çé¡ºåº\n\nskip(), limilt(), sort()ä¸ä¸ªæ¾å¨ä¸èµ·æ§è¡çæ¶åï¼æ§è¡çé¡ºåºæ¯å sort(), ç¶åæ¯ skip()ï¼æåæ¯æ¾ç¤ºç limit()ï¼åå½ä»¤ç¼åé¡ºåºæ å³ã\n\n\n# é«çº§æ¥è¯¢\n\n\n# æ­£åæ¡ä»¶æ¥è¯¢\n\n#db.éå.find({é®:/æ­£åè¡¨è¾¾å¼/})\ndb.comment.find({content:/^ä¸å®¶/})\n\n\n1\n2\n\n\n\n# æ¯è¾æ¥è¯¢\n\ndb.éååç§°.find({ "field" : { $gt: value }}) # å¤§äº: field > value\ndb.éååç§°.find({ "field" : { $lt: value }}) # å°äº: field < value\ndb.éååç§°.find({ "field" : { $gte: value }}) # å¤§äºç­äº: field >= value\ndb.éååç§°.find({ "field" : { $lte: value }}) # å°äºç­äº: field <= value\ndb.éååç§°.find({ "field" : { $ne: value }}) # ä¸ç­äº: field != value\n\n#ä¾å­\ndb.comment.find({likenum:{$gt:NumberInt(700)}})\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n\n\n\n# åå«æ¥è¯¢\n\nä½¿ç¨$in æ¥è¯¢åå«æå®åå®¹çææ¡£\n\ndb.comment.find({userid:{$in:["1003","1004"]})\n\n\n1\n\n\n\n# ä¸åå«æ¥è¯¢\n\nä½¿ç¨$nin æ¥è¯¢ä¸åå«æå®åå®¹çææ¡£\n\ndb.comment.find({userid:{$nin:["1003","1004"]})\n\n\n1\n\n\n\n# æ¡ä»¶è¿æ¥æ¥è¯¢\n\nåé¢æä»¬éè¿$setæ¥è¯¢åæ¡ä»¶çææ¡£ å¦æä¸ºå¤æ¡ä»¶åéè¦ä½¿ç¨ $andè¿è¡æ¥è¯¢\n\ndb.comment.find({$and:[{likenum:{$gte:NumberInt(700)}},{likenum:{$lt:NumberInt(2000)}}]})   # æ¥è¯¢likenum å¤§äºç­äº700 å¹¶ä¸å°äº2000çææ¡£\n\n\n\n1\n2\n\n\n# æèè¿æ¥\n\nä½¿ç¨$orè¿è¡æ¥è¯¢\n\ndb.comment.find({$or:[{likenum:{$gte:NumberInt(700)}},{likenum:{$lt:NumberInt(2000)}}]})   # æ¥è¯¢likenum å¤§äºç­äº700 å¹¶ä¸å°äº2000çææ¡£\n\n\n1\n\n\n\n# ç´¢å¼\n\nMongoDBæ²¡æä¸ç´¢å¼ä¸ æ¯è¿è¡å¨éåæ«æ å¦ææ°æ®éè¾å¤§æ¶æ¥è¯¢æçéå¸¸ä½\n\nMongoDBç´¢å¼ä½¿ç¨Bæ æ°æ®ç»æ(B-Tree,MySQLæ¯B+Tree)\n\n\n# åå­æ®µç´¢å¼\n\nMongoDBæ¯æå¨ææ¡£çåä¸ªå­æ®µä¸åå»ºç¨æ·å®ä¹çååº/éåºç´¢å¼ ç§°ä¸ºåå­æ®µç´¢å¼\n\nå¯¹äºåä¸ªå­æ®µç´¢å¼åæåºæä½ï¼ç´¢å¼é®çæåºé¡ºåºï¼å³ååºæéåºï¼å¹¶ä¸éè¦ï¼å ä¸ºMongoDBå¯ä»¥å¨ä»»ä½æ¹åä¸éåç´¢å¼ã\n\n\n\n\n# å¤åç´¢å¼\n\nå¤åç´¢å¼ä¸­ååºçå­æ®µé¡ºåºå·æéè¦æä¹ãä¾å¦ï¼å¦æå¤åç´¢å¼ç± { userid: 1, score: -1 } ç»æï¼åç´¢å¼é¦åæuseridæ­£åºæåºï¼ç¶å å¨æ¯ä¸ªuseridçå¼åï¼åå¨æscoreååºæåºã\n\n\n\n\n# å¶ä»ç´¢å¼\n\n * å°çç©ºé´ç´¢å¼ï¼Geospatial Indexï¼ ä¸ºäºæ¯æå¯¹å°çç©ºé´åæ æ°æ®çæææ¥è¯¢ï¼MongoDBæä¾äºä¸¤ç§ç¹æ®çç´¢å¼ï¼è¿åç»ææ¶ä½¿ç¨å¹³é¢å ä½çäºç»´ç´¢å¼åè¿åç»ææ¶ä½¿ç¨çé¢ å ä½çäºç»´çé¢ç´¢å¼ã\n\n * ææ¬ç´¢å¼ï¼Text Indexesï¼ MongoDBæä¾äºä¸ç§ææ¬ç´¢å¼ç±»åï¼æ¯æå¨éåä¸­æç´¢å­ç¬¦ä¸²åå®¹ãè¿äºææ¬ç´¢å¼ä¸å­å¨ç¹å®äºè¯­è¨çåæ­¢è¯ï¼ä¾å¦âtheâãâaâãâorâï¼ï¼ èå°éåä¸­çè¯ä½ä¸ºè¯å¹²ï¼åªå­å¨æ ¹è¯ã\n\n * åå¸ç´¢å¼ï¼Hashed Indexesï¼ ä¸ºäºæ¯æåºäºæ£åçåçï¼MongoDBæä¾äºæ£åç´¢å¼ç±»åï¼å®å¯¹å­æ®µå¼çæ£åè¿è¡ç´¢å¼ãè¿äºç´¢å¼å¨å¶èå´åçå¼åå¸æ´å éæºï¼ä½åªæ¯ æç¸ç­å¹éï¼ä¸æ¯æåºäºèå´çæ¥è¯¢ã\n\n\n# ç´¢å¼ç®¡ç\n\n# æ¥çç´¢å¼\n\nè¿åä¸ä¸ªéåä¸­çææç´¢å¼çæ°ç» _idä¸»é®èªå¸¦ç´¢å¼ä¸ºååº\n\ndb.comment.getIndexes()\n\n\n1\n\n\n# åå»ºç´¢å¼\n\n\n\n#db.collection.createIndex(keys, options)\ndb.comment.createIndex({userid:1})  # ç»useridåå»ºç´¢å¼ ä¸ºååº ç´¢å¼åé»è®¤ä¸ºé®ååå ä¸_(1æè-1)\ndb.comment.createIndex({userid:1,nickname:-1}) #å¤åç´¢å¼\n\n\n1\n2\n3\n\n\n# å é¤ç´¢å¼\n\nå¦æè¦å é¤ææ¬ç´¢å¼åªè½éè¿ç´¢å¼åå é¤\n\n_idç´¢å¼æ æ³å é¤\n\n#db.collection.dropIndex(ç´¢å¼å)\ndb.comment.dropIndex()  #å é¤ææç´¢å¼\ndb.comment.dropIndex("userid_1_nickname_-1") #å é¤æå®ç´¢å¼\ndb.comment.dropIndex({userid:1})  #æ ¹æ®åå»ºç´¢å¼æ¡ä»¶å é¤ç´¢å¼\n\n\n1\n2\n3\n4\n\n\n\n# ç´¢å¼çä½¿ç¨\n\nåææ¥è¯¢æ§è½ï¼Analyze Query Performanceï¼éå¸¸ä½¿ç¨æ§è¡è®¡åï¼è§£éè®¡åãExplain Planï¼æ¥æ¥çæ¥è¯¢çæåµï¼å¦æ¥è¯¢èè´¹çæ¶é´ãæ¯å¦åºäºç´¢å¼æ¥è¯¢ç­ã é£ä¹ï¼éå¸¸ï¼æä»¬æ³ç¥éï¼å»ºç«çç´¢å¼æ¯å¦ææï¼ææå¦ä½ï¼é½éè¦éè¿æ§è¡è®¡åæ¥çã\n\n#db.collection.find(query,options).explain(options)\ndb.comment.find({uderid:"1003"}).explain()\n\n\n1\n2\n\n\nå³é®ç¹çï¼ "stage" : "COLLSCAN", è¡¨ç¤ºå¨éåæ«æ\n\n"stage" : "IXSCAN" ,åºäºç´¢å¼çæ«æ\n\n\n# æ¶µçæ¥è¯¢\n\nCovered Queries å½æ¥è¯¢æ¡ä»¶åæ¥è¯¢çæå½±ä»åå«ç´¢å¼å­æ®µæ¶ï¼MongoDBç´æ¥ä»ç´¢å¼è¿åç»æï¼èä¸æ«æä»»ä½ææ¡£æå°ææ¡£å¸¦å¥åå­ã è¿äºè¦ççæ¥è¯¢å¯ä»¥éå¸¸ææã å¶å®å°±æ¯æ¥è¯¢ç¬¦åæ¥è¯¢æ¡ä»¶ ç´¢å¼å­æ®µçå¼\n\n\n\n\n# Javaè¿æ¥MongoDB\n\n 1. mongodb-driver æ¯mongoå®æ¹æ¨åºçjavaè¿æ¥mongoDBçé©±å¨åï¼ç¸å½äºJDBCé©±å¨ãæä»¬éè¿ä¸ä¸ªå¥é¨çæ¡ä¾æ¥äºè§£mongodb-driver çåºæ¬ä½¿ç¨ã å®æ¹é©±å¨è¯´æåä¸è½½ï¼ http://mongodb.github.io/mongo-java-driver/ å®æ¹é©±å¨ç¤ºä¾ææ¡£ï¼http://mongodb.github.io/mongo-java-driver/3.8/driver/getting-started/quick-start/\n 2. SpringDataMongoDB SpringDataå®¶ææåä¹ä¸ï¼ç¨äºæä½MongoDBçæä¹å±æ¡æ¶ï¼å°è£äºåºå±çmongodb-driverã å®ç½ä¸»é¡µï¼ https://projects.spring.io/spring-data-mongodb/\n\n\n# è¯è®ºæ¡ä¾\n\n\n# æ¨¡åæ­å»º\n\n 1. ç»§æ¿spring-booté¡¹ç® å¯¼å¥springdataMongoDBåæ \n\n <parent>\n        <groupId>org.springframework.boot</groupId>\n        <artifactId>spring-boot-starter-parent</artifactId>\n        <version>2.1.6.RELEASE</version>\n        <relativePath/> \x3c!-- lookup parent from repository --\x3e\n    </parent>\n\n    <dependencies>\n        <dependency>\n            <groupId>org.springframework.boot</groupId>\n            <artifactId>spring-boot-starter-test</artifactId>\n            <scope>test</scope>\n        </dependency>\n        <dependency>\n            <groupId>org.springframework.boot</groupId>\n            <artifactId>spring-boot-starter-data-mongodb</artifactId>\n        </dependency>\n    </dependencies>\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n\n\n 2. åå»ºapplication.yml\n    \n    spring:\n      data:\n        mongodb:\n          host: 192.168.130.212  # ä¸»æºå°å\n          database: articledb  # æ°æ®åº\n          port: 27017 # é»è®¤ç«¯å£æ¯27017\n          #ä¹å¯ä»¥ä½¿ç¨uriè¿æ¥\n          #uri: mongodb://192.168.40.134:27017/articledb\n    \n    \n    1\n    2\n    3\n    4\n    5\n    6\n    7\n    8\n    \n    \n    \n\n\n# å®ä½ç±»\n\npackage com.itcatst.article.po;\n\nimport org.springframework.data.annotation.Id;\nimport org.springframework.data.mongodb.core.index.CompoundIndex;\nimport org.springframework.data.mongodb.core.index.Indexed;\nimport org.springframework.data.mongodb.core.mapping.Document;\nimport org.springframework.data.mongodb.core.mapping.Field;\n\nimport java.io.Serializable;\nimport java.time.LocalDateTime;\nimport java.util.Date;\n\n/**\n * æç« è¯è®ºå®ä½ç±»\n */\n//æä¸ä¸ªjavaç±»å£°æä¸ºmongodbçææ¡£ï¼å¯ä»¥éè¿collectionåæ°æå®è¿ä¸ªç±»å¯¹åºçææ¡£ã\n//@Document(collection="mongodb å¯¹åº collection å")\n// è¥æªå  @Document ï¼è¯¥ bean save å° mongo ç comment collection\n// è¥æ·»å  @Document ï¼å save å° comment collection\n@Document(collection = "comment")//å¯ä»¥çç¥ï¼å¦æçç¥ï¼åé»è®¤ä½¿ç¨ç±»åå°åæ å°éå ä¼æ å°å°ä¸ç±»åä¸è´çéåå½ä¸­\n//å¤åç´¢å¼\n// @CompoundIndex( def = "{\'userid\': 1, \'nickname\': -1}")\npublic class Comment implements Serializable {\n    //ä¸»é®æ è¯ï¼è¯¥å±æ§çå¼ä¼èªå¨å¯¹åºmongodbçä¸»é®å­æ®µ"_id"ï¼å¦æè¯¥å±æ§åå°±å«âidâ,åè¯¥æ³¨è§£å¯ä»¥çç¥ï¼å¦åå¿é¡»å\n    @Id\n    private String id;//ä¸»é®\n    //è¯¥å±æ§å¯¹åºmongodbçå­æ®µçåå­ï¼å¦æä¸è´ï¼åæ éè¯¥æ³¨è§£\n    @Field("content")\n    private String content;//åæ§½åå®¹\n    private Date publishtime;//åå¸æ¥æ\n    //æ·»å äºä¸ä¸ªåå­æ®µçç´¢å¼\n    @Indexed\n    private String userid;//åå¸äººID\n    private String nickname;//æµç§°\n    private LocalDateTime createdatetime;//è¯è®ºçæ¥ææ¶é´\n    private Integer likenum;//ç¹èµæ°\n    private Integer replynum;//åå¤æ°\n    private String state;//ç¶æ\n    private String parentid;//ä¸çº§ID\n    private String articleid;\n\n    //getter and setter.....\n    public String getId() {\n        return id;\n    }\n\n    public void setId(String id) {\n        this.id = id;\n    }\n\n    public String getContent() {\n        return content;\n    }\n\n    public void setContent(String content) {\n        this.content = content;\n    }\n\n    public Date getPublishtime() {\n        return publishtime;\n    }\n\n    public void setPublishtime(Date publishtime) {\n        this.publishtime = publishtime;\n    }\n\n    public String getUserid() {\n        return userid;\n    }\n\n    public void setUserid(String userid) {\n        this.userid = userid;\n    }\n\n    public String getNickname() {\n        return nickname;\n    }\n\n    public void setNickname(String nickname) {\n        this.nickname = nickname;\n    }\n\n    public LocalDateTime getCreatedatetime() {\n        return createdatetime;\n    }\n\n    public void setCreatedatetime(LocalDateTime createdatetime) {\n        this.createdatetime = createdatetime;\n    }\n\n    public Integer getLikenum() {\n        return likenum;\n    }\n\n    public void setLikenum(Integer likenum) {\n        this.likenum = likenum;\n    }\n\n    public Integer getReplynum() {\n        return replynum;\n    }\n\n    public void setReplynum(Integer replynum) {\n        this.replynum = replynum;\n    }\n\n    public String getState() {\n        return state;\n    }\n\n    public void setState(String state) {\n        this.state = state;\n    }\n\n    public String getParentid() {\n        return parentid;\n    }\n\n    public void setParentid(String parentid) {\n        this.parentid = parentid;\n    }\n\n    public String getArticleid() {\n        return articleid;\n    }\n\n    public void setArticleid(String articleid) {\n        this.articleid = articleid;\n    }\n\n    @Override\n    public String toString() {\n        return "Comment{" +\n                "id=\'" + id + \'\\\'\' +\n                ", content=\'" + content + \'\\\'\' +\n                ", publishtime=" + publishtime +\n                ", userid=\'" + userid + \'\\\'\' +\n                ", nickname=\'" + nickname + \'\\\'\' +\n                ", createdatetime=" + createdatetime +\n                ", likenum=" + likenum +\n                ", replynum=" + replynum +\n                ", state=\'" + state + \'\\\'\' +\n                ", parentid=\'" + parentid + \'\\\'\' +\n                ", articleid=\'" + articleid + \'\\\'\' +\n                \'}\';\n    }\n}\n\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n26\n27\n28\n29\n30\n31\n32\n33\n34\n35\n36\n37\n38\n39\n40\n41\n42\n43\n44\n45\n46\n47\n48\n49\n50\n51\n52\n53\n54\n55\n56\n57\n58\n59\n60\n61\n62\n63\n64\n65\n66\n67\n68\n69\n70\n71\n72\n73\n74\n75\n76\n77\n78\n79\n80\n81\n82\n83\n84\n85\n86\n87\n88\n89\n90\n91\n92\n93\n94\n95\n96\n97\n98\n99\n100\n101\n102\n103\n104\n105\n106\n107\n108\n109\n110\n111\n112\n113\n114\n115\n116\n117\n118\n119\n120\n121\n122\n123\n124\n125\n126\n127\n128\n129\n130\n131\n132\n133\n134\n135\n136\n137\n138\n139\n140\n141\n142\n143\n144\n145\n146\n147\n148\n\n * @Document(collection = "comment") å£°æä¸ºmongodbææ¡£ å¹¶ä¸æ å°å°commentéåä¸­ å¦æå½åå®ä½ç±»åä¸éåä¸è´åcollectionå¯ä»¥å¿½ç¥(å¹¶ä¸åªè½æ¯å°ååç§°çå®ä½ç±»)\n * @CompoundIndex( def = "{\'userid\': 1, \'nickname\': -1}") å¤åç´¢å¼ defå±æ§ä¸è®¾ç½®å¤æ´»ç´¢å¼æ¡ä»¶ä¸è´ ä¸ºé®åæåºæ¹å¼\n * @Id å£°ææ­¤å±æ§ä¸ºä¸»é® å¦æå±æ§åä¸ºidåè¯¥æ³¨è§£å¯ä»¥çç¥ä¸å \n * @Field("content") å½æåå±æ§åç§°ä¸éåä¸­çé®å­æ®µä¸ä¸è´æ¶ å¯ä»¥ä½¿ç¨è¯¥æ³¨è§£æ å°ä¸ºéåä¸­æå®çé®å­æ®µ æ­¤æ¶æ å°ä¸ºcontenté®å­æ®µ\n * @Indexed æ·»å ä¸ºåå­æ®µç´¢å¼\n\n\n# å¢å æ¹æ¥æ¹æ³\n\n 1. åå»ºdaoå±æ¥å£ å¹¶ç»§æ¿MongoRepository æ³åä¸º å®ä½ç±» å idçç±»å\n    \n    package com.itcatst.article.dao;\n    \n    import com.itcatst.article.po.Comment;\n    import org.springframework.data.mongodb.repository.MongoRepository;\n    \n    public interface CommentRepository extends MongoRepository<Comment,String> {\n    }\n    \n    \n    \n    1\n    2\n    3\n    4\n    5\n    6\n    7\n    8\n    \n\n 2. åå»ºServiceå± æ³¨å¥daoå± å¹¶è°ç¨å¨æä»£çéçæ¹æ³\n    \n    package com.itcatst.article.service;\n    \n    import com.itcatst.article.dao.CommentRepository;\n    import com.itcatst.article.po.Comment;\n    import org.springframework.beans.factory.annotation.Autowired;\n    import org.springframework.stereotype.Service;\n    \n    import java.util.List;\n    \n    @Service\n    public class CommentService {\n    \n        @Autowired\n        private CommentRepository commentRepository;\n    \n        /**\n         * ä¿å­ä¸ä¸ªè¯è®º\n         *\n         * @param comment\n         */\n        public void saveComment(Comment comment) {\n            //å¦æéè¦èªå®ä¹ä¸»é®ï¼å¯ä»¥å¨è¿éæå®ä¸»é®ï¼å¦æä¸æå®ä¸»é®ï¼MongoDBä¼èªå¨çæä¸»é®\n            //è®¾ç½®ä¸äºé»è®¤åå§å¼ããã\n            //è°ç¨dao\n            commentRepository.save(comment);\n        }\n    \n        /**\n         * æ´æ°è¯è®º\n         *\n         * @param comment\n         */\n        public void updateComment(Comment comment) {\n            //è°ç¨dao\n            commentRepository.save(comment);\n        }\n    \n        /**\n         * æ ¹æ®idå é¤è¯è®º\n         *\n         * @param id\n         */\n        public void deleteCommentById(String id) {\n            //è°ç¨dao\n            commentRepository.deleteById(id);\n        }\n    \n        /**\n         * æ¥è¯¢ææè¯è®º\n         *\n         * @return\n         */\n        public List<Comment> findCommentList() {\n            //è°ç¨dao\n            return commentRepository.findAll();\n        }\n    \n        /**\n         * æ ¹æ®idæ¥è¯¢è¯è®º\n         *\n         * @param id\n         * @return\n         */\n        public Comment findCommentById(String id) {\n            //è°ç¨dao\n            return commentRepository.findById(id).get();\n        }\n    }\n    \n    \n    1\n    2\n    3\n    4\n    5\n    6\n    7\n    8\n    9\n    10\n    11\n    12\n    13\n    14\n    15\n    16\n    17\n    18\n    19\n    20\n    21\n    22\n    23\n    24\n    25\n    26\n    27\n    28\n    29\n    30\n    31\n    32\n    33\n    34\n    35\n    36\n    37\n    38\n    39\n    40\n    41\n    42\n    43\n    44\n    45\n    46\n    47\n    48\n    49\n    50\n    51\n    52\n    53\n    54\n    55\n    56\n    57\n    58\n    59\n    60\n    61\n    62\n    63\n    64\n    65\n    66\n    67\n    68\n    \n\n\n# åå»ºæµè¯æ¹æ³\n\n 1. æ°å»ºjunitæµè¯æ¹æ³ ç±»è·¯å¾è¦ä¸ä¸»ç¨åºä¸è´\n    \n    package com.itcatst.article.service;\n    \n    import com.itcatst.article.po.Comment;\n    import com.itcatst.article.service.CommentService;\n    import org.junit.Test;\n    import org.junit.runner.RunWith;\n    import org.springframework.beans.factory.annotation.Autowired;\n    import org.springframework.boot.test.context.SpringBootTest;\n    import org.springframework.test.context.junit4.SpringRunner;\n    \n    import java.time.LocalDateTime;\n    import java.util.List;\n    \n    @RunWith(SpringRunner.class)\n    @SpringBootTest\n    public class CommentServiceTest {\n    \n        @Autowired\n        private CommentService commentService;\n    \n        @Test\n        public void testFindCommentList() {\n            List<Comment> commentList = commentService.findCommentList();\n            System.out.println(commentList);\n        }\n    \n        @Test\n        public void testFndCommentById() {\n            Comment commentById = commentService.findCommentById("1");\n            System.out.println(commentById);\n        }\n    \n        /**\n         * ä¿å­ä¸ä¸ªè¯è®º\n         */\n        @Test\n        public void testSaveComment() {\n            Comment comment = new Comment();\n            //æ­¤å¤æ²¡ææå®id ä½MongoDBé»è®¤èªå¨çæ æä»¬æ¨èèªå¨çæ ä¸æ¨èèªå·±ä¹¦åid\n            comment.setArticleid("100000");\n            comment.setContent("æµè¯æ·»å çæ°æ®");\n            comment.setCreatedatetime(LocalDateTime.now());\n            comment.setUserid("1003");\n            comment.setNickname("å¯æå¤§å¸");\n            comment.setState("1");\n            comment.setLikenum(0);\n            comment.setReplynum(0);\n    \n            commentService.saveComment(comment);\n        }\n    \n    }\n    \n    \n    1\n    2\n    3\n    4\n    5\n    6\n    7\n    8\n    9\n    10\n    11\n    12\n    13\n    14\n    15\n    16\n    17\n    18\n    19\n    20\n    21\n    22\n    23\n    24\n    25\n    26\n    27\n    28\n    29\n    30\n    31\n    32\n    33\n    34\n    35\n    36\n    37\n    38\n    39\n    40\n    41\n    42\n    43\n    44\n    45\n    46\n    47\n    48\n    49\n    50\n    51\n    52\n    \n\n\n# åé¡µæ¥è¯¢æµè¯\n\n 1. å¨daoå±æ¥å£åå»ºæ°çæ¹æ³ å¿é¡»è¦æå®å¯¹åºçå±æ§åä¸ºæ¹æ³åå¦åä¼æ¥é\n    \n    æ ¼å¼: Page<å®ä½ç±»> findByæ ¹æ®åªä¸ªå±æ§æ¥æ¥è¯¢(ä¼ éå±æ§ç±»å å±æ§å,Pageable pageable);\n    \n    ////æ ¹æ®ç¶idï¼æ¥è¯¢å­è¯è®ºçåé¡µåè¡¨\n    Page<Comment> findByParentid(String parentid, Pageable pageable);\n    \n    \n    1\n    2\n    \n\n 2. å¨serviceå±è°ç¨daoå±çæ¹æ³\n    \n    /**\n         * åé¡µæ¥è¯¢\n         *\n         * @param parentid æ ¹æ®åªä¸ªå±æ§æ¥æ¥è¯¢\n         * @param page     é¡µç \n         * @param size     æ¯é¡µä¸ªæ°\n         * @return\n         */\n        public Page<Comment> findCommentListByParentid(String parentid, int page, int size) {\n            return commentRepository.findByParentid(parentid, PageRequest.of(page-1, size));\n        }\n    \n    \n    1\n    2\n    3\n    4\n    5\n    6\n    7\n    8\n    9\n    10\n    11\n    \n\n 3. æµè¯ç¨ä¾\n    \n    @Test\n    public void testFindCommentListByParentid(){\n        Page<Comment> page = commentService.findCommentListByParentid("3", 1, 2);\n        System.out.println(page.getTotalElements());//è¿åæ»æ¡æ°\n        List<Comment> content = page.getContent();  //è¿åç»æçéå\n        System.out.println(content);\n    \n    }\n    \n    \n    1\n    2\n    3\n    4\n    5\n    6\n    7\n    8\n    \n\n\n# è¯è®ºç¹èµ\n\næç®åçæ¹æ³å°±æ¯æ ¹æ®idæ¥è¯¢å½åå¯¹åºçææ¡£ å¹¶å°ç¹èµæ°+1 ä½æ§è¡æçä¸é« å ä¸ºåªéè¦ä¿®æ¹ç¹èµæ° æ²¡æå¿è¦æææçå­æ®µé½æ¥è¯¢åºæ¥\n\næä»¬å¯ä»¥ä½¿ç¨ MongoTemplate ç±»å®ç°å¯¹æåè¿è¡æä½\n\n 1. å¨serviceå±æ³¨å¥ MongoTemplate å¹¶ç¼ä¿®æ¹æ¹æ³\n    \n       @Autowired\n        private MongoTemplate mongoTemplate;\n    \n        /**\n         * ç¹èµæ°+1\n         *\n         * @param id\n         */\n        public void updateCommentLikenum(String id) {\n            //æ¥è¯¢æ¡ä»¶\n            //Query query = Query.query(Criteria.where("_id").is(id)).addCriteria(Criteria.where("nickname").is("å¯æå¤§å¸"));  //ä½¿ç¨Criteria.when(é®å­æ®µ).is(æ¡ä»¶)  å¤æ­æ¡ä»¶ addCriteriaå¯ä»¥æ éæ©å±æ¡ä»¶\n            Query query = Query.query(Criteria.where("_id").is(id));\n            //æ´æ°æ¡ä»¶\n            Update update = new Update();\n            update.inc("likenum",1); //å°likenumæ°+1  å¦åä¼ é®å­æ®µåèªå¨å 1\n    //        update.set()\n    \n            mongoTemplate.updateFirst(query, update, Comment.class);\n        }\n    \n    \n    1\n    2\n    3\n    4\n    5\n    6\n    7\n    8\n    9\n    10\n    11\n    12\n    13\n    14\n    15\n    16\n    17\n    18\n    19\n    \n\n\n# å¯æ¬é\n\nMongoDBä¸­çå¯æ¬éï¼Replica Setï¼æ¯ä¸ç»ç»´æ¤ç¸åæ°æ®éçmongodæå¡ã å¯æ¬éå¯æä¾åä½åé« å¯ç¨æ§ï¼æ¯ææçäº§é¨ç½²çåºç¡ã\n\nä¸»ä»å¤å¶åå¯æ¬éåºå« ä¸»ä»éç¾¤åå¯æ¬éæå¤§çåºå«å°±æ¯å¯æ¬éæ²¡æåºå®çâä¸»èç¹âï¼æ´ä¸ªéç¾¤ä¼éåºä¸ä¸ªâä¸»èç¹âï¼å½å¶æ æåï¼åå¨å©ä¸çä»èç¹ä¸­éä¸­å¶ä»èç¹ä¸ºâä¸»èç¹âï¼å¯æ¬éæ»æä¸ä¸ªæ´»è·ç¹(ä¸»ãprimary)åä¸ä¸ªæå¤ ä¸ªå¤ä»½èç¹(ä»ãsecondary)ã\n\nå¯æ¬éæä¸¤ç§ç±»åä¸ç§è§è²:\n\nä¸¤ç§ç±»åï¼\n\n * ä¸»èç¹ï¼ Primaryï¼ç±»åï¼æ°æ®æä½çä¸»è¦è¿æ¥ç¹ï¼å¯è¯»åã\n * æ¬¡è¦ï¼è¾å©ãä»ï¼èç¹ï¼ Secondariesï¼ç±»åï¼æ°æ®åä½å¤ä»½èç¹ï¼å¯ä»¥è¯»æéä¸¾ã\n\nä¸ç§è§è²ï¼\n\n * ä¸»è¦æåï¼Primaryï¼ï¼ä¸»è¦æ¥æ¶ææåæä½ãå°±æ¯ä¸»èç¹ã\n * å¯æ¬æåï¼Replicateï¼ï¼ä»ä¸»èç¹éè¿å¤å¶æä½ä»¥ç»´æ¤ç¸åçæ°æ®éï¼å³å¤ä»½æ°æ®ï¼ä¸å¯åæä½ï¼ä½å¯ ä»¥è¯»æä½ï¼ä½éè¦éç½®ï¼ãæ¯é»è®¤çä¸ç§ä»èç¹ç±»åã\n * ä»²è£èï¼ Arbiterï¼ï¼ä¸ä¿çä»»ä½æ°æ®çå¯æ¬ï¼åªå·ææç¥¨éä¸¾ä½ç¨ãå½ç¶ä¹å¯ä»¥å°ä»²è£æå¡å¨ç»´æ¤ä¸ºå¯ æ¬éçä¸é¨åï¼å³å¯æ¬æååæ¶ä¹å¯ä»¥æ¯ä»²è£èãä¹æ¯ä¸ç§ä»èç¹ç±»åã\n\n\n# å¯æ¬éåå»º\n\n# ä¸»èç¹\n\n#ä¸»èç¹\nmkdir -p /mongodb/replica_sets/myrs_27017/log \\ & #æ¥å¿æä»¶\nmkdir -p /mongodb/replica_sets/myrs_27017/data/db #æ°æ®æä»¶\n\nvim /mongodb/replica_sets/myrs_27017/mongod.conf\n\n\n1\n2\n3\n4\n5\n\n\nsystemLog:\n #MongoDBåéæææ¥å¿è¾åºçç®æ æå®ä¸ºæä»¶\n destination: file\n #mongodæmongosåºåå¶åéææè¯æ­æ¥å¿è®°å½ä¿¡æ¯çæ¥å¿æä»¶çè·¯å¾\n path: "/mongodb/replica_sets/myrs_27017/log/mongod.log"\n #å½mongosæmongodå®ä¾éæ°å¯å¨æ¶ï¼mongosæmongodä¼å°æ°æ¡ç®éå å°ç°ææ¥å¿æä»¶çæ«å°¾ã\n logAppend: true\nstorage:\n #mongodå®ä¾å­å¨å¶æ°æ®çç®å½ãstorage.dbPathè®¾ç½®ä»éç¨äºmongodã\n dbPath: "/mongodb/replica_sets/myrs_27017/data/db"\n journal:\n  #å¯ç¨æç¦ç¨æä¹æ§æ¥å¿ä»¥ç¡®ä¿æ°æ®æä»¶ä¿æææåå¯æ¢å¤ã\n  enabled: true\nprocessManagement:\n #å¯ç¨å¨åå°è¿è¡mongosæmongodè¿ç¨çå®æ¤è¿ç¨æ¨¡å¼ã\n fork: true\n #æå®ç¨äºä¿å­mongosæmongodè¿ç¨çè¿ç¨IDçæä»¶ä½ç½®ï¼å¶ä¸­mongosæmongodå°åå¥å¶PID\n pidFilePath: "/mongodb/replica_sets/myrs_27017/log/mongod.pid"\nnet:\n #æå¡å®ä¾ç»å®ææIPï¼æå¯ä½ç¨ï¼å¯æ¬éåå§åçæ¶åï¼èç¹åå­ä¼èªå¨è®¾ç½®ä¸ºæ¬å°ååï¼èä¸æ¯ip\n #bindIpAll: true\n #æå¡å®ä¾ç»å®çIP\n bindIp: localhost,192.168.130.212\n #bindIp\n #ç»å®çç«¯å£\n port: 27017\nreplication:\n #å¯æ¬éçåç§°  åä¸ä¸ªå¯æ¬éä¸­éç¾¤å¿é¡»ä¸è´\n replSetName: myrs\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n26\n27\n28\n29\n\n\nå¯å¨ä¸»èç¹\n\n/usr/local/mongodb/bin/mongod -f /mongodb/replica_sets/myrs_27017/mongod.conf\n\n\n1\n\n\n# ä»èç¹\n\n#å¯æ¬èç¹\nmkdir -p /mongodb/replica_sets/myrs_27018/log \\ &\nmkdir -p /mongodb/replica_sets/myrs_27018/data/db\nvim /mongodb/replica_sets/myrs_27018/mongod.conf\n\n\n1\n2\n3\n4\n\n\nsystemLog:\n #MongoDBåéæææ¥å¿è¾åºçç®æ æå®ä¸ºæä»¶\n destination: file\n #mongodæmongosåºåå¶åéææè¯æ­æ¥å¿è®°å½ä¿¡æ¯çæ¥å¿æä»¶çè·¯å¾\n path: "/mongodb/replica_sets/myrs_27018/log/mongod.log"\n #å½mongosæmongodå®ä¾éæ°å¯å¨æ¶ï¼mongosæmongodä¼å°æ°æ¡ç®éå å°ç°ææ¥å¿æä»¶çæ«å°¾ã\n logAppend: true\nstorage:\n #mongodå®ä¾å­å¨å¶æ°æ®çç®å½ãstorage.dbPathè®¾ç½®ä»éç¨äºmongodã\n dbPath: "/mongodb/replica_sets/myrs_27018/data/db"\n journal:\n   #å¯ç¨æç¦ç¨æä¹æ§æ¥å¿ä»¥ç¡®ä¿æ°æ®æä»¶ä¿æææåå¯æ¢å¤ã\n  enabled: true\nprocessManagement:\n #å¯ç¨å¨åå°è¿è¡mongosæmongodè¿ç¨çå®æ¤è¿ç¨æ¨¡å¼ã\n fork: true\n #æå®ç¨äºä¿å­mongosæmongodè¿ç¨çè¿ç¨IDçæä»¶ä½ç½®ï¼å¶ä¸­mongosæmongodå°åå¥å¶PID\n pidFilePath: "/mongodb/replica_sets/myrs_27018/log/mongod.pid"\nnet:\n #æå¡å®ä¾ç»å®ææIPï¼æå¯ä½ç¨ï¼å¯æ¬éåå§åçæ¶åï¼èç¹åå­ä¼èªå¨è®¾ç½®ä¸ºæ¬å°ååï¼èä¸æ¯ip\n #bindIpAll: true\n #æå¡å®ä¾ç»å®çIP\n bindIp: localhost,192.168.130.212\n #bindIp\n #ç»å®çç«¯å£\n port: 27018\nreplication:\n #å¯æ¬éçåç§°\n replSetName: myrs\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n26\n27\n28\n29\n\n\nå¯å¨èç¹\n\n/usr/local/mongodb/bin/mongod -f /mongodb/replica_sets/myrs_27018/mongod.conf\n\n\n1\n\n\n# ä»²è£èç¹\n\n#ä»²è£èç¹\nmkdir -p /mongodb/replica_sets/myrs_27019/log \\ &\nmkdir -p /mongodb/replica_sets/myrs_27019/data/db\nvim /mongodb/replica_sets/myrs_27019/mongod.conf\n\n\n1\n2\n3\n4\n\n\nsystemLog:\n #MongoDBåéæææ¥å¿è¾åºçç®æ æå®ä¸ºæä»¶\n destination: file\n #mongodæmongosåºåå¶åéææè¯æ­æ¥å¿è®°å½ä¿¡æ¯çæ¥å¿æä»¶çè·¯å¾\n path: "/mongodb/replica_sets/myrs_27019/log/mongod.log"\n #å½mongosæmongodå®ä¾éæ°å¯å¨æ¶ï¼mongosæmongodä¼å°æ°æ¡ç®éå å°ç°ææ¥å¿æä»¶çæ«å°¾ã\n logAppend: true\nstorage:\n #mongodå®ä¾å­å¨å¶æ°æ®çç®å½ãstorage.dbPathè®¾ç½®ä»éç¨äºmongodã\n dbPath: "/mongodb/replica_sets/myrs_27019/data/db"\n journal:\n   #å¯ç¨æç¦ç¨æä¹æ§æ¥å¿ä»¥ç¡®ä¿æ°æ®æä»¶ä¿æææåå¯æ¢å¤ã\n  enabled: true\nprocessManagement:\n #å¯ç¨å¨åå°è¿è¡mongosæmongodè¿ç¨çå®æ¤è¿ç¨æ¨¡å¼ã\n fork: true\n #æå®ç¨äºä¿å­mongosæmongodè¿ç¨çè¿ç¨IDçæä»¶ä½ç½®ï¼å¶ä¸­mongosæmongodå°åå¥å¶PID\n pidFilePath: "/mongodb/replica_sets/myrs_27019/log/mongod.pid"\nnet:\n #æå¡å®ä¾ç»å®ææIPï¼æå¯ä½ç¨ï¼å¯æ¬éåå§åçæ¶åï¼èç¹åå­ä¼èªå¨è®¾ç½®ä¸ºæ¬å°ååï¼èä¸æ¯ip\n #bindIpAll: true\n #æå¡å®ä¾ç»å®çIP\n bindIp: localhost,192.168.130.212\n #bindIp\n #ç»å®çç«¯å£\n port: 27019\nreplication:\n #å¯æ¬éçåç§°\n replSetName: myrs\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n26\n27\n28\n29\n\n\nå¯å¨èç¹\n\n/usr/local/mongodb/bin/mongod -f /mongodb/replica_sets/myrs_27019/mongod.conf\n\n\n1\n\n\n\n# åå§åéç½®å¯æ¬éåä¸»èç¹\n\n#ä½¿ç¨mongoå®¢æ·ç«¯ä»»æèç¹é½å¯ä»¥ ä½å°½éè¿ä¸ä¸»èç¹\n/usr/local/mongodb/bin/mongo --host=192.168.130.212 --port=27017\n\n#åå§åå½ä»¤\nrs.initiate() #ä½¿ç¨é»è®¤çéç½®æ¥åå§åå¯æ¬é  âokâçå¼ä¸º1ï¼è¯´æåå»ºæå  å¹¶ä¸æ­¤èç¹åä¸ºä¸»èç¹\n\nrs.conf() #æ¥çé»è®¤èç¹éç½®\n\nrs.status() # æ¥è¯¢å¯æ¬éç¶æ\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n\n\n\n# æ·»å å¯æ¬ä»èç¹\n\n#rs.add(host:post)\nrs.add(192.168.130.212:27018)\n\nrs.status() #æ¥çå¯æ¬éç¶æ\n\n\n1\n2\n3\n4\n\n\n\n# æ·»å ä»²è£èç¹\n\n#rs.addArb(host:post)\nrs.addarB(192.168.130.212:27019)\n\nrs.status() #æ¥çå¯æ¬éç¶æ\n\n\n1\n2\n3\n4\n\n\n\n# å¯æ¬éçæ°æ®è¯»åæä½\n\n 1. åªæä¸»èç¹åå¥æ°æ®åè¯»åæ°æ®\n\n 2. é»è®¤æåµä»èç¹æ æ³è¯»åæ°æ® ä¹æ æ³åå¥æ°æ® å¯ä»¥è¿è¡è®¾ç½®å¢å è¯»çæé\n    \n    #è¿æ¥ä»èç¹çå®¢æ·ç«¯\n    rs.slaveOk() #è¯¥å½ä»¤æ¯ db.getMongo().setSlaveOk() çç®åå½ä»¤\n    #æè\n    rs.slaveOk(true) \n    #æ­¤æ¶å®ç°äºè¯»ååç¦» è®©ä¸»æå¥æ°æ® è®©ä»æ¥è¯»åæ°æ®\n    \n    \n    1\n    2\n    3\n    4\n    5\n    \n\n 3. ä»²è£èèç¹ï¼ä¸å­æ¾ä»»ä½ä¸å¡æ°æ®çï¼å¯ä»¥ç»å½æ¥ç åªå­æ¾å¯æ¬ééç½®ç­æ°æ®ã\n\n\n# ä¸»èç¹çéä¸¾åå\n\nMongoDBå¨å¯æ¬éä¸­ï¼ä¼èªå¨è¿è¡ä¸»èç¹çéä¸¾ï¼ä¸»èç¹éä¸¾çè§¦åæ¡ä»¶ï¼\n\n 1. ä¸»èç¹æé\n 2. ä¸»èç¹ç½ç»ä¸å¯è¾¾ï¼é»è®¤å¿è·³ä¿¡æ¯ä¸º10ç§ï¼\n 3. äººå·¥å¹²é¢ï¼rs.stepDown(600)ï¼\n\néä¸¾è§åæ¯æ ¹æ®ç¥¨æ°æ¥å³å®è°è·èï¼\n\n * ç¥¨æ°æé«ï¼ä¸è·å¾äº âå¤§å¤æ°âæåçæç¥¨æ¯æçèç¹è·èã âå¤§å¤æ°âçå®ä¹ä¸ºï¼åè®¾å¤å¶éåæç¥¨æåæ°éä¸ºNï¼åå¤§å¤æ°ä¸º N/2 + 1ãä¾å¦ï¼3ä¸ªæç¥¨æåï¼ åå¤§å¤æ°çå¼æ¯2ãå½å¤å¶éåå­æ´»æåæ°éä¸è¶³å¤§å¤æ°æ¶ï¼æ´ä¸ªå¤å¶éå°æ æ³éä¸¾åºPrimaryï¼ å¤å¶éå°æ æ³æä¾åæå¡ï¼å¤äºåªè¯»ç¶æã\n * è¥ç¥¨æ°ç¸åï¼ä¸é½è·å¾äº âå¤§å¤æ°âæåçæç¥¨æ¯æçï¼æ°æ®æ°çèç¹è·èã æ°æ®çæ°æ§æ¯éè¿æä½æ¥å¿oplogæ¥å¯¹æ¯çã\n\nå¨è·å¾ç¥¨æ°çæ¶åï¼ä¼åçº§ï¼priorityï¼åæ°å½±åéå¤§ã å¯ä»¥éè¿è®¾ç½®ä¼åçº§ï¼priorityï¼æ¥è®¾ç½®é¢å¤ç¥¨æ°ãä¼åçº§å³æéï¼åå¼ä¸º0-1000ï¼ç¸å½äºå¯é¢å¤å¢å  0-1000çç¥¨æ°ï¼ä¼åçº§çå¼è¶å¤§ï¼å°±è¶å¯è½è·å¾å¤æ°æåçæç¥¨ï¼votesï¼æ°ãæå®è¾é«çå¼å¯ä½¿æå æ´æèµæ ¼æä¸ºä¸»è¦æåï¼æ´ä½çå¼å¯ä½¿æåæ´ä¸ç¬¦åæ¡ä»¶ã é»è®¤æåµä¸ï¼ä¼åçº§çå¼æ¯1\n\n\n# æåä¼åçº§\n\n#åå¯¼åºéç½®å°åéä¸­\ncfg=rs.conf()\n#ä¿®æ¹æå®ä¼åçº§  IDå·é»è®¤ä»0å¼å§\ncfg.members[1].priority=2\n#éæ°å è½½éç½®\nrs.reconfig(cfg)\n\n\n1\n2\n3\n4\n5\n6\n\n\n\n# Compassè¿æ¥å¯æ¬é\n\n#å°hostä¿®æ¹ä¸ºå½åä¸»èç¹çip\nvar config = rs.config();\n config.members[0].host="192.168.130.212:27017";rs.reconfig(config) \n\n\n1\n2\n3\n\n\n\n\néæ©Primary ä¸ºä¸»èç¹ Secondaryä¸ºå¯æ¬é\n\n\n# SpringDataMongoDBè¿æ¥å¯æ¬é\n\nmongodb://host1,host2,host3/articledb?connect=replicaSet&slaveOk=true&replicaSet=å¯æ¬éåå­\n\n * slaveOk=true ï¼å¼å¯å¯æ¬èç¹è¯»çåè½ï¼å¯å®ç°è¯»ååç¦»ã\n * connect=replicaSet ï¼èªå¨å°å¯æ¬éä¸­éæ©è¯»åçä¸»æºãå¦æslaveOKæ¯æå¼çï¼åå®ç°äºè¯»åå ç¦»\n\nä¸»æºå¿é¡»æ¯å¯æ¬éä¸­ææçä¸»æºï¼åæ¬ä¸»èç¹ãå¯æ¬èç¹ãä»²è£èç¹ã\n\nspring:\n  data:\n    mongodb:\n      # host: 192.168.130.212  # ä¸»æºå°å\n      # database: articledb  # æ°æ®åº\n      # port: 27017 # é»è®¤ç«¯å£æ¯27017\n      #ä¹å¯ä»¥ä½¿ç¨uriè¿æ¥\n      #uri: mongodb://192.168.40.134:27017/articledb\n        # å¯æ¬éçè¿æ¥å­ç¬¦ä¸²\n      uri: mongodb://192.168.42.212:27017,192.168.42.212:27018,192.168.42.212:27019/article\n      db?connect=replicaSet&slaveOk=true&replicaSet=myrs\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n\n\n\n# åçéç¾¤\n\nåçï¼shardingï¼æ¯ä¸ç§è·¨å¤å°æºå¨åå¸æ°æ®çæ¹æ³ï¼ MongoDBä½¿ç¨åçæ¥æ¯æå·æéå¸¸å¤§çæ°æ®é åé«ååéæä½çé¨ç½²ã\n\nMongoDBåçç¾¤éåå«ä»¥ä¸ç»ä»¶ï¼\n\n * åçï¼å­å¨ï¼ï¼æ¯ä¸ªåçåå«åçæ°æ®çå­éã æ¯ä¸ªåçé½å¯ä»¥é¨ç½²ä¸ºå¯æ¬éã\n * mongos ï¼è·¯ç±ï¼ï¼mongosåå½æ¥è¯¢è·¯ç±å¨ï¼å¨å®¢æ·ç«¯åºç¨ç¨åºååçéç¾¤ä¹é´æä¾æ¥å£ã\n * config servers ï¼âè°åº¦âçéç½®ï¼ï¼éç½®æå¡å¨å­å¨ç¾¤éçåæ°æ®åéç½®è®¾ç½®ã ä»MongoDB 3.4å¼ å§ï¼å¿é¡»å°éç½®æå¡å¨é¨ç½²ä¸ºå¯æ¬éï¼CSRSï¼ã\n\n\n\n\n# æ­å»ºåçéç¾¤æ¶æ\n\n\n\n# ç¬¬ä¸ä¸ªå¯æ¬é\n\n#-----------myshardrs01\nmkdir -p /mongodb/sharded_cluster/myshardrs01_27018/log \\ &\nmkdir -p /mongodb/sharded_cluster/myshardrs01_27018/data/db \\ &\n\nmkdir -p /mongodb/sharded_cluster/myshardrs01_27118/log \\ &\nmkdir -p /mongodb/sharded_cluster/myshardrs01_27118/data/db \\ &\n\nmkdir -p /mongodb/sharded_cluster/myshardrs01_27218/log \\ &\nmkdir -p /mongodb/sharded_cluster/myshardrs01_27218/data/db\n\n#myshardrs01_27018\nvim /mongodb/sharded_cluster/myshardrs01_27018/mongod.conf\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n\n\nsystemLog:\n #MongoDBåéæææ¥å¿è¾åºçç®æ æå®ä¸ºæä»¶\n destination: file\n #mongodæmongosåºåå¶åéææè¯æ­æ¥å¿è®°å½ä¿¡æ¯çæ¥å¿æä»¶çè·¯å¾\n path: "/mongodb/sharded_cluster/myshardrs01_27018/log/mongod.log"\n #å½mongosæmongodå®ä¾éæ°å¯å¨æ¶ï¼mongosæmongodä¼å°æ°æ¡ç®éå å°ç°ææ¥å¿æä»¶çæ«å°¾ã\n logAppend: true\nstorage:\n #mongodå®ä¾å­å¨å¶æ°æ®çç®å½ãstorage.dbPathè®¾ç½®ä»éç¨äºmongodã\n dbPath: "/mongodb/sharded_cluster/myshardrs01_27018/data/db"\n journal:\n   #å¯ç¨æç¦ç¨æä¹æ§æ¥å¿ä»¥ç¡®ä¿æ°æ®æä»¶ä¿æææåå¯æ¢å¤ã\n  enabled: true\nprocessManagement:\n #å¯ç¨å¨åå°è¿è¡mongosæmongodè¿ç¨çå®æ¤è¿ç¨æ¨¡å¼ã\n fork: true\n #æå®ç¨äºä¿å­mongosæmongodè¿ç¨çè¿ç¨IDçæä»¶ä½ç½®ï¼å¶ä¸­mongosæmongodå°åå¥å¶PID\n pidFilePath: "/mongodb/sharded_cluster/myshardrs01_27018/log/mongod.pid"\nnet:\n #æå¡å®ä¾ç»å®ææIPï¼æå¯ä½ç¨ï¼å¯æ¬éåå§åçæ¶åï¼èç¹åå­ä¼èªå¨è®¾ç½®ä¸ºæ¬å°ååï¼èä¸æ¯ip\n #bindIpAll: true\n #æå¡å®ä¾ç»å®çIP\n bindIp: localhost,192.168.130.212\n #bindIp\n #ç»å®çç«¯å£\n port: 27018\nreplication:\n #å¯æ¬éçåç§°\n replSetName: myshardrs01\nsharding:\n #åçè§è²\n clusterRole: shardsvr\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n26\n27\n28\n29\n30\n31\n32\n\n\nclusterRole è®¾ç½®åçè§è²:\n\n * shardsvr åçè§è²\n * configsvr éç½®è§è²\n\n#myshardrs01_27118\nvim /mongodb/sharded_cluster/myshardrs01_27118/mongod.conf\n\n\n1\n2\n\n\nsystemLog:\n #MongoDBåéæææ¥å¿è¾åºçç®æ æå®ä¸ºæä»¶\n destination: file\n #mongodæmongosåºåå¶åéææè¯æ­æ¥å¿è®°å½ä¿¡æ¯çæ¥å¿æä»¶çè·¯å¾\n path: "/mongodb/sharded_cluster/myshardrs01_27118/log/mongod.log"\n #å½mongosæmongodå®ä¾éæ°å¯å¨æ¶ï¼mongosæmongodä¼å°æ°æ¡ç®éå å°ç°ææ¥å¿æä»¶çæ«å°¾ã\n logAppend: true\nstorage:\n #mongodå®ä¾å­å¨å¶æ°æ®çç®å½ãstorage.dbPathè®¾ç½®ä»éç¨äºmongodã\n dbPath: "/mongodb/sharded_cluster/myshardrs01_27118/data/db"\n journal:\n   #å¯ç¨æç¦ç¨æä¹æ§æ¥å¿ä»¥ç¡®ä¿æ°æ®æä»¶ä¿æææåå¯æ¢å¤ã\n  enabled: true\nprocessManagement:\n #å¯ç¨å¨åå°è¿è¡mongosæmongodè¿ç¨çå®æ¤è¿ç¨æ¨¡å¼ã\n fork: true\n #æå®ç¨äºä¿å­mongosæmongodè¿ç¨çè¿ç¨IDçæä»¶ä½ç½®ï¼å¶ä¸­mongosæmongodå°åå¥å¶PID\n pidFilePath: "/mongodb/sharded_cluster/myshardrs01_27118/log/mongod.pid"\nnet:\n #æå¡å®ä¾ç»å®ææIP\n #bindIpAll: true\n #æå¡å®ä¾ç»å®çIP\n bindIp: localhost,192.168.130.212\n #ç»å®çç«¯å£\n port: 27118\nreplication:\n replSetName: myshardrs01\nsharding:\n clusterRole: shardsvr\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n26\n27\n28\n29\n\n\n#myshardrs01_27218\nvim /mongodb/sharded_cluster/myshardrs01_27218/mongod.conf\n\n\n1\n2\n\n\nsystemLog:\n #MongoDBåéæææ¥å¿è¾åºçç®æ æå®ä¸ºæä»¶\n destination: file\n #mongodæmongosåºåå¶åéææè¯æ­æ¥å¿è®°å½ä¿¡æ¯çæ¥å¿æä»¶çè·¯å¾\n path: "/mongodb/sharded_cluster/myshardrs01_27218/log/mongod.log"\n #å½mongosæmongodå®ä¾éæ°å¯å¨æ¶ï¼mongosæmongodä¼å°æ°æ¡ç®éå å°ç°ææ¥å¿æä»¶çæ«å°¾ã\n logAppend: true\nstorage:\n #mongodå®ä¾å­å¨å¶æ°æ®çç®å½ãstorage.dbPathè®¾ç½®ä»éç¨äºmongodã\n dbPath: "/mongodb/sharded_cluster/myshardrs01_27218/data/db"\n journal:\n   #å¯ç¨æç¦ç¨æä¹æ§æ¥å¿ä»¥ç¡®ä¿æ°æ®æä»¶ä¿æææåå¯æ¢å¤ã\n  enabled: true\nprocessManagement:\n #å¯ç¨å¨åå°è¿è¡mongosæmongodè¿ç¨çå®æ¤è¿ç¨æ¨¡å¼ã\n fork: true\n #æå®ç¨äºä¿å­mongosæmongodè¿ç¨çè¿ç¨IDçæä»¶ä½ç½®ï¼å¶ä¸­mongosæmongodå°åå¥å¶PID\n pidFilePath: "/mongodb/sharded_cluster/myshardrs01_27218/log/mongod.pid"\nnet:\n #æå¡å®ä¾ç»å®çIP\n bindIp: localhost,192.168.42.130.212\n #ç»å®çç«¯å£\n port: 27218\nreplication:\n replSetName: myshardrs01\nsharding:\n clusterRole: shardsvr\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n26\n27\n\n\nå¯å¨ç¬¬ä¸å¥å¯æ¬éï¼ä¸ä¸»ä¸å¯æ¬ä¸ä»²è£\n\n/usr/local/mongodb/bin/mongod -f /mongodb/sharded_cluster/myshardrs01_27018/mongod.conf\n/usr/local/mongodb/bin/mongod -f /mongodb/sharded_cluster/myshardrs01_27118/mongod.conf\n/usr/local/mongodb/bin/mongod -f /mongodb/sharded_cluster/myshardrs01_27218/mongod.conf\n\n\n1\n2\n3\n\n * åå§åå¯æ¬éååå»ºä¸»èç¹\n\n/usr/local/mongodb/bin/mongo --host 192.168.130.212 --port 27018 #å°½éè¿æ¥ä¸»èç¹\n\n\n1\n\n\nrs.initiate()  #åå§åä¸»èç¹\nrs.status() #ç¶ææ¥ç\nrs.add("192.168.130.212:27118")  #æ·»å å¯èç¹\nrs.addArb("192.168.130.212:27218") #æ·»å ä»²è£èç¹\nrs.conf()\n\n\n1\n2\n3\n4\n5\n\n\n# ç¬¬äºå¥å¯æ¬é\n\n#-----------myshardrs02\nmkdir -p /mongodb/sharded_cluster/myshardrs02_27318/log \\ &\nmkdir -p /mongodb/sharded_cluster/myshardrs02_27318/data/db \\ &\n\nmkdir -p /mongodb/sharded_cluster/myshardrs02_27418/log \\ &\nmkdir -p /mongodb/sharded_cluster/myshardrs02_27418/data/db \\ &\n\nmkdir -p /mongodb/sharded_cluster/myshardrs02_27518/log \\ &\nmkdir -p /mongodb/sharded_cluster/myshardrs02_27518/data/db\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n\n\n#myshardrs02_27318\nvim /mongodb/sharded_cluster/myshardrs02_27318/mongod.conf\n\n\n1\n2\n\n\nsystemLog:\n #MongoDBåéæææ¥å¿è¾åºçç®æ æå®ä¸ºæä»¶\n destination: file\n #mongodæmongosåºåå¶åéææè¯æ­æ¥å¿è®°å½ä¿¡æ¯çæ¥å¿æä»¶çè·¯å¾\n path: "/mongodb/sharded_cluster/myshardrs02_27318/log/mongod.log"\n #å½mongosæmongodå®ä¾éæ°å¯å¨æ¶ï¼mongosæmongodä¼å°æ°æ¡ç®éå å°ç°ææ¥å¿æä»¶çæ«å°¾ã\n logAppend: true\nstorage:\n #mongodå®ä¾å­å¨å¶æ°æ®çç®å½ãstorage.dbPathè®¾ç½®ä»éç¨äºmongodã\n dbPath: "/mongodb/sharded_cluster/myshardrs02_27318/data/db"\n journal:\n   #å¯ç¨æç¦ç¨æä¹æ§æ¥å¿ä»¥ç¡®ä¿æ°æ®æä»¶ä¿æææåå¯æ¢å¤ã\n  enabled: true\nprocessManagement:\n #å¯ç¨å¨åå°è¿è¡mongosæmongodè¿ç¨çå®æ¤è¿ç¨æ¨¡å¼ã\n fork: true\n #æå®ç¨äºä¿å­mongosæmongodè¿ç¨çè¿ç¨IDçæä»¶ä½ç½®ï¼å¶ä¸­mongosæmongodå°åå¥å¶PID\n pidFilePath: "/mongodb/sharded_cluster/myshardrs02_27318/log/mongod.pid"\nnet:\n #æå¡å®ä¾ç»å®çIP\n bindIp: localhost,192.168.130.212\n #ç»å®çç«¯å£\n port: 27318\nreplication:\n replSetName: myshardrs02\nsharding:\n clusterRole: shardsvr\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n26\n27\n\n\n#myshardrs02_27418\nvim /mongodb/sharded_cluster/myshardrs02_27418/mongod.conf\n\n\n1\n2\n\n\nsystemLog:\n #MongoDBåéæææ¥å¿è¾åºçç®æ æå®ä¸ºæä»¶\n destination: file\n #mongodæmongosåºåå¶åéææè¯æ­æ¥å¿è®°å½ä¿¡æ¯çæ¥å¿æä»¶çè·¯å¾\n path: "/mongodb/sharded_cluster/myshardrs02_27418/log/mongod.log"\n #å½mongosæmongodå®ä¾éæ°å¯å¨æ¶ï¼mongosæmongodä¼å°æ°æ¡ç®éå å°ç°ææ¥å¿æä»¶çæ«å°¾ã\n logAppend: true\nstorage:\n #mongodå®ä¾å­å¨å¶æ°æ®çç®å½ãstorage.dbPathè®¾ç½®ä»éç¨äºmongodã\n dbPath: "/mongodb/sharded_cluster/myshardrs02_27418/data/db"\n journal:\n   #å¯ç¨æç¦ç¨æä¹æ§æ¥å¿ä»¥ç¡®ä¿æ°æ®æä»¶ä¿æææåå¯æ¢å¤ã\n  enabled: true\nprocessManagement:\n #å¯ç¨å¨åå°è¿è¡mongosæmongodè¿ç¨çå®æ¤è¿ç¨æ¨¡å¼ã\n fork: true\n #æå®ç¨äºä¿å­mongosæmongodè¿ç¨çè¿ç¨IDçæä»¶ä½ç½®ï¼å¶ä¸­mongosæmongodå°åå¥å¶PID\n pidFilePath: "/mongodb/sharded_cluster/myshardrs02_27418/log/mongod.pid"\nnet:\n #æå¡å®ä¾ç»å®ææIP\n #bindIpAll: true\n #æå¡å®ä¾ç»å®çIP\n bindIp: localhost,192.168.130.212\n #ç»å®çç«¯å£\n port: 27418\nreplication:\n replSetName: myshardrs02\nsharding:\n clusterRole: shardsvr\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n26\n27\n28\n29\n\n\n#myshardrs02_27518\nvim /mongodb/sharded_cluster/myshardrs02_27518/mongod.conf\n\n\n1\n2\n\n\nsystemLog:\n #MongoDBåéæææ¥å¿è¾åºçç®æ æå®ä¸ºæä»¶\n destination: file\n #mongodæmongosåºåå¶åéææè¯æ­æ¥å¿è®°å½ä¿¡æ¯çæ¥å¿æä»¶çè·¯å¾\n path: "/mongodb/sharded_cluster/myshardrs02_27518/log/mongod.log"\n #å½mongosæmongodå®ä¾éæ°å¯å¨æ¶ï¼mongosæmongodä¼å°æ°æ¡ç®éå å°ç°ææ¥å¿æä»¶çæ«å°¾ã\n logAppend: true\nstorage:\n #mongodå®ä¾å­å¨å¶æ°æ®çç®å½ãstorage.dbPathè®¾ç½®ä»éç¨äºmongodã\n dbPath: "/mongodb/sharded_cluster/myshardrs02_27518/data/db"\n journal:\n   #å¯ç¨æç¦ç¨æä¹æ§æ¥å¿ä»¥ç¡®ä¿æ°æ®æä»¶ä¿æææåå¯æ¢å¤ã\n  enabled: true\nprocessManagement:\n #å¯ç¨å¨åå°è¿è¡mongosæmongodè¿ç¨çå®æ¤è¿ç¨æ¨¡å¼ã\n fork: true\n #æå®ç¨äºä¿å­mongosæmongodè¿ç¨çè¿ç¨IDçæä»¶ä½ç½®ï¼å¶ä¸­mongosæmongodå°åå¥å¶PID\n pidFilePath: "/mongodb/sharded_cluster/myshardrs02_27518/log/mongod.pid"\nnet:\n #æå¡å®ä¾ç»å®ææIP\n #bindIpAll: true\n #æå¡å®ä¾ç»å®çIP\n bindIp: localhost,192.168.130.212\n #ç»å®çç«¯å£\n port: 27518\nreplication:\n replSetName: myshardrs02\nsharding:\n clusterRole: shardsvr\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n26\n27\n28\n29\n\n\nå¯å¨ç¬¬äºå¥å¯æ¬éï¼ä¸ä¸»ä¸å¯æ¬ä¸ä»²è£\n\n/usr/local/mongodb/bin/mongod -f /mongodb/sharded_cluster/myshardrs02_27318/mongod.conf\n/usr/local/mongodb/bin/mongod -f /mongodb/sharded_cluster/myshardrs02_27418/mongod.conf\n/usr/local/mongodb/bin/mongod -f /mongodb/sharded_cluster/myshardrs02_27518/mongod.conf\nps -ef |grep mongod #ä¸å±6ä¸ªæå¡\n\n\n1\n2\n3\n4\n\n * åå§åå¯æ¬éååå»ºä¸»èç¹\n\n/usr/local/mongodb/bin/mongo --host 192.168.130.212 --port 27318 #å°½éè¿æ¥ä¸»èç¹\n\n\n1\n\n\nrs.initiate()  #åå§åä¸»èç¹\nrs.status() #ç¶ææ¥ç\nrs.add("192.168.130.212:27418")  #æ·»å å¯èç¹\nrs.addArb("192.168.130.212:27518") #æ·»å ä»²è£èç¹\nrs.conf()\n\n\n1\n2\n3\n4\n5\n\n\n# éç½®èç¹å¯æ¬é\n\n#-----------configrs\n#å»ºç«æ°æ®èç¹dataåæ¥å¿ç®å½\nmkdir -p /mongodb/sharded_cluster/myconfigrs_27019/log \\ &\nmkdir -p /mongodb/sharded_cluster/myconfigrs_27019/data/db \\ &\n\nmkdir -p /mongodb/sharded_cluster/myconfigrs_27119/log \\ &\nmkdir -p /mongodb/sharded_cluster/myconfigrs_27119/data/db \\ &\n\nmkdir -p /mongodb/sharded_cluster/myconfigrs_27219/log \\ &\nmkdir -p /mongodb/sharded_cluster/myconfigrs_27219/data/db\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n\n\n#myconfigrs_27019\nvim /mongodb/sharded_cluster/myconfigrs_27019/mongod.conf\n\n\n1\n2\n\n\n #MongoDBåéæææ¥å¿è¾åºçç®æ æå®ä¸ºæä»¶\n destination: file\n #mongodæmongosåºåå¶åéææè¯æ­æ¥å¿è®°å½ä¿¡æ¯çæ¥å¿æä»¶çè·¯å¾\n path: "/mongodb/sharded_cluster/myconfigrs_27019/log/mongod.log"\n #å½mongosæmongodå®ä¾éæ°å¯å¨æ¶ï¼mongosæmongodä¼å°æ°æ¡ç®éå å°ç°ææ¥å¿æä»¶çæ«å°¾ã\n logAppend: true\nstorage:\n #mongodå®ä¾å­å¨å¶æ°æ®çç®å½ãstorage.dbPathè®¾ç½®ä»éç¨äºmongodã\n dbPath: "/mongodb/sharded_cluster/myconfigrs_27019/data/db"\n journal:\n   #å¯ç¨æç¦ç¨æä¹æ§æ¥å¿ä»¥ç¡®ä¿æ°æ®æä»¶ä¿æææåå¯æ¢å¤ã\n  enabled: true\nprocessManagement:\n #å¯ç¨å¨åå°è¿è¡mongosæmongodè¿ç¨çå®æ¤è¿ç¨æ¨¡å¼ã\n fork: true\n #æå®ç¨äºä¿å­mongosæmongodè¿ç¨çè¿ç¨IDçæä»¶ä½ç½®ï¼å¶ä¸­mongosæmongodå°åå¥å¶PID\n pidFilePath: "/mongodb/sharded_cluster/myconfigrs_27019/log/mongod.pid"\nnet:\n #æå¡å®ä¾ç»å®ææIP\n #bindIpAll: true\n #æå¡å®ä¾ç»å®çIP\n bindIp: localhost,192.168.130.212\n #ç»å®çç«¯å£\n port: 27019\nreplication:\n replSetName: myconfigrs\nsharding:\n clusterRole: configsvr\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n26\n27\n28\n\n\næ­¤æ¶åçè§è²ä¸ºéç½®è§è²\n\n#myconfigrs_27119\nvim /mongodb/sharded_cluster/myconfigrs_27119/mongod.conf\n\n\n1\n2\n\n\nsystemLog:\n #MongoDBåéæææ¥å¿è¾åºçç®æ æå®ä¸ºæä»¶\n destination: file\n #mongodæmongosåºåå¶åéææè¯æ­æ¥å¿è®°å½ä¿¡æ¯çæ¥å¿æä»¶çè·¯å¾\n path: "/mongodb/sharded_cluster/myconfigrs_27119/log/mongod.log"\n #å½mongosæmongodå®ä¾éæ°å¯å¨æ¶ï¼mongosæmongodä¼å°æ°æ¡ç®éå å°ç°ææ¥å¿æä»¶çæ«å°¾ã\n logAppend: true\nstorage:\n #mongodå®ä¾å­å¨å¶æ°æ®çç®å½ãstorage.dbPathè®¾ç½®ä»éç¨äºmongodã\n dbPath: "/mongodb/sharded_cluster/myconfigrs_27119/data/db"\n journal:\n   #å¯ç¨æç¦ç¨æä¹æ§æ¥å¿ä»¥ç¡®ä¿æ°æ®æä»¶ä¿æææåå¯æ¢å¤ã\n  enabled: true\nprocessManagement:\n #å¯ç¨å¨åå°è¿è¡mongosæmongodè¿ç¨çå®æ¤è¿ç¨æ¨¡å¼ã\n fork: true\n #æå®ç¨äºä¿å­mongosæmongodè¿ç¨çè¿ç¨IDçæä»¶ä½ç½®ï¼å¶ä¸­mongosæmongodå°åå¥å¶PID\n pidFilePath: "/mongodb/sharded_cluster/myconfigrs_27119/log/mongod.pid"\nnet:\n #æå¡å®ä¾ç»å®ææIP\n #bindIpAll: true\n #æå¡å®ä¾ç»å®çIP\n bindIp: localhost,192.168.130.212\n #ç»å®çç«¯å£\n port: 27119\nreplication:\n replSetName: myconfigrs\nsharding:\n clusterRole: configsvr\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n26\n27\n28\n29\n\n\n#myconfigrs_27219\nvim /mongodb/sharded_cluster/myconfigrs_27219/mongod.conf\n\n\n1\n2\n\n\nsystemLog:\n #MongoDBåéæææ¥å¿è¾åºçç®æ æå®ä¸ºæä»¶\n destination: file\n #mongodæmongosåºåå¶åéææè¯æ­æ¥å¿è®°å½ä¿¡æ¯çæ¥å¿æä»¶çè·¯å¾\n path: "/mongodb/sharded_cluster/myconfigrs_27219/log/mongod.log"\n #å½mongosæmongodå®ä¾éæ°å¯å¨æ¶ï¼mongosæmongodä¼å°æ°æ¡ç®éå å°ç°ææ¥å¿æä»¶çæ«å°¾ã\n logAppend: true\nstorage:\n #mongodå®ä¾å­å¨å¶æ°æ®çç®å½ãstorage.dbPathè®¾ç½®ä»éç¨äºmongodã\n dbPath: "/mongodb/sharded_cluster/myconfigrs_27219/data/db"\n journal:\n   #å¯ç¨æç¦ç¨æä¹æ§æ¥å¿ä»¥ç¡®ä¿æ°æ®æä»¶ä¿æææåå¯æ¢å¤ã\n  enabled: true\nprocessManagement:\n #å¯ç¨å¨åå°è¿è¡mongosæmongodè¿ç¨çå®æ¤è¿ç¨æ¨¡å¼ã\n fork: true\n #æå®ç¨äºä¿å­mongosæmongodè¿ç¨çè¿ç¨IDçæä»¶ä½ç½®ï¼å¶ä¸­mongosæmongodå°åå¥å¶PID\n pidFilePath: "/mongodb/sharded_cluster/myconfigrs_27219/log/mongod.pid"\nnet:\n #æå¡å®ä¾ç»å®ææIP\n #bindIpAll: true\n #æå¡å®ä¾ç»å®çIP\n bindIp: localhost,192.168.42.130.212\n #ç»å®çç«¯å£\n port: 27219\nreplication:\n replSetName: myconfigrs\nsharding:\n clusterRole: configsvr\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n26\n27\n28\n29\n\n\nå¯å¨éç½®å¯æ¬éï¼ä¸ä¸»ä¸¤å¯æ¬\n\n/usr/local/mongodb/bin/mongod -f /mongodb/sharded_cluster/myconfigrs_27019/mongod.conf\n/usr/local/mongodb/bin/mongod -f /mongodb/sharded_cluster/myconfigrs_27119/mongod.conf\n/usr/local/mongodb/bin/mongod -f /mongodb/sharded_cluster/myconfigrs_27219/mongod.conf\nps -ef |grep mongod #ä¸å±9ä¸ªæå¡\n\n\n1\n2\n3\n4\n\n * åå§åå¯æ¬éååå»ºä¸»èç¹\n\n/usr/local/mongodb/bin/mongo --host 192.168.130.212 --port 27019 #å°½éè¿æ¥ä¸»èç¹\n\n\n1\n\n\nrs.initiate()  #åå§åä¸»èç¹\nrs.status() #ç¶ææ¥ç\nrs.add("192.168.130.212:27119")  #æ·»å å¯èç¹\nrs.add("192.168.130.212:27119") #æ·»å å¯èç¹\nrs.conf()\n\n\n1\n2\n3\n4\n5\n\n\n# è·¯ç±èç¹åå»ºåè¿æ¥\n\n#-----------mongos01\nmkdir -p /mongodb/sharded_cluster/mymongos_27017/log\n\n\n1\n2\n\n\n#mymongos_27017èç¹\nvi /mongodb/sharded_cluster/mymongos_27017/mongos.conf\n\n\n1\n2\n\n\nsystemLog:\n #MongoDBåéæææ¥å¿è¾åºçç®æ æå®ä¸ºæä»¶\n destination: file\n #mongodæmongosåºåå¶åéææè¯æ­æ¥å¿è®°å½ä¿¡æ¯çæ¥å¿æä»¶çè·¯å¾\n path: "/mongodb/sharded_cluster/mymongos_27017/log/mongod.log"\n #å½mongosæmongodå®ä¾éæ°å¯å¨æ¶ï¼mongosæmongodä¼å°æ°æ¡ç®éå å°ç°ææ¥å¿æä»¶çæ«å°¾ã\n logAppend: true\nprocessManagement:\n #å¯ç¨å¨åå°è¿è¡mongosæmongodè¿ç¨çå®æ¤è¿ç¨æ¨¡å¼ã\n fork: true\n #æå®ç¨äºä¿å­mongosæmongodè¿ç¨çè¿ç¨IDçæä»¶ä½ç½®ï¼å¶ä¸­mongosæmongodå°åå¥å¶PID\n pidFilePath: /mongodb/sharded_cluster/mymongos_27017/log/mongod.pid"\nnet:\n #æå¡å®ä¾ç»å®ææIPï¼æå¯ä½ç¨ï¼å¯æ¬éåå§åçæ¶åï¼èç¹åå­ä¼èªå¨è®¾ç½®ä¸ºæ¬å°ååï¼èä¸æ¯ip\n #bindIpAll: true\n #æå¡å®ä¾ç»å®çIP\n bindIp: localhost,192.168.130.212\n #bindIp\n #ç»å®çç«¯å£\n port: 27017\nsharding:\n #æå®éç½®èç¹å¯æ¬é\n configDB: myconfigrs/192.168.42.130.212:27019,192.168.42.130.212:27119,192.168.42.130.212:27219\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n\n\nconfigDB å°åä¸º éç½®å¯æ¬éåç§°/éç½®èç¹1,éç½®èç¹2,éç½®èç¹3\n\n#å¯å¨\n/usr/local/mongodb/bin/mongos -f /mongodb/sharded_cluster/mymongos_27017/mongos.conf\n\n\n1\n2\n\n\n#è¿æ¥ æ­¤æ¶ä¸ºmongos\n/usr/local/mongodb/bin/mongo --host 192.168.130.212 --port 27017\n\n\n1\n2\n\n\néè¿è·¯ç±èç¹æä½ï¼ç°å¨åªæ¯è¿æ¥äºéç½®èç¹ï¼è¿æ²¡æè¿æ¥åçæ°æ®èç¹ï¼å æ­¤åä¸è¿å»æ°æ®ï¼å¦æåæ°æ®ä¼æ¥éã\n\n# è·¯ç±èç¹æ·»å åç\n\n#sh.addShard(å¯æ¬éåç§°/ä¸»èç¹,å¯æ¬èç¹,ä»²è£èç¹)  ä¸ç§è§è²èç¹å¿é¡»é½æ·»å å°è·¯ç±ä¸­ \nsh.addShard("myshardrs01/192.168.42.130.212:27018,192.168.42.130.212:27118,192.168.42.130.212:27218")  #ç¬¬ä¸å¥\nsh.addShard("myshardrs02/192.168.42.130.212:27318,192.168.42.130.212:27418,192.168.42.130.212:27518")  #ç¬¬äºå¥\nsh.status() #æ¥è¯¢åçç¶æ\n#sh.enableSharding("åºå")\nsh.enableSharding("articledb") #å¼å¯åçåè½\n\n\n1\n2\n3\n4\n5\n6\n\n\n# éååçååçè§å\n\nsh.shardCollection(namespace, key, unique)\n\n\n\n 1. åçè§åä¸ï¼åå¸ç­ç¥ å¯¹æå®å­æ®µçå¼ è¿è¡åå¸è®¡ç®åºå­æ¾çä½ç½® æ¯ä¸ªå¯æ¬éå¯¹åºåå¯¹åºçèå´ éè¿åå¸è®¡ç®åºå­æ¾çå¯æ¬éä¸­\n    \n    sh.shardCollection("articledb.comment",{"nickname":"hashed"})\n    \n    \n    1\n    \n\n 2. åçè§åäºï¼èå´ç­ç¥ å¯¹äº åºäºèå´çåç ,MongoDBæé®çèå´ææ°æ®åæä¸åé¨å.\n    \n    sh.shardCollection("articledb.author",{"age":1})\n    \n    \n    1\n    \n\næ³¨æäºé¡¹:\n\n * ä¸ä¸ªéååªè½æå®ä¸ä¸ªçé®ï¼å¦åæ¥éã\n * ä¸æ¦å¯¹ä¸ä¸ªéååçï¼åçé®ååçå¼å°±ä¸å¯æ¹åã å¦ï¼ä¸è½ç»éåéæ©ä¸åçåçé®ãä¸è½æ´æ° åçé®çå¼ã\n * æ ¹æ®ageç´¢å¼è¿è¡åéæ°æ®\n\nå¦ææ·»å åçå¤±è´¥ï¼éè¦åæå¨ç§»é¤åçï¼æ£æ¥æ·»å åççä¿¡æ¯çæ­£ç¡®æ§åï¼åæ¬¡æ·»å åçã\n\nuse admin\ndb.runCommand( { removeShard: "myshardrs02" } )\n\n\n1\n2\n\n\ndb.printShardingStatus() #æ¾ç¤ºéç¾¤çè¯¦ç»ä¿¡æ¯\nsh.isBalancerRunning()  #æ¥è¯¢äº¤æ¢å¨æ¯å¦å·¥ä½\nsh.getBalancerState() #æ¥çBalancerç¶æ \n\n\n1\n2\n3\n\n\n# èå´è§åéç½®æ°æ®åå¤§å°\n\nèå´è§åé»è®¤å­æ¾å¨æ°æ®åä¸­ å¦ææ°æ®åï¼chunkï¼æ²¡æå¡«æ»¡ï¼é»è®¤çæ°æ®åå°ºå¯¸ï¼chunksizeï¼æ¯64Mï¼å¡«æ»¡åæä¼èèåå¶ä»ççæ°æ®åå¡«åæ°æ®\n\nuse config\ndb.settings.save({_id:"chunksize", value: 64})  #é»è®¤ä¸º64m\n\n\n1\n2\n\n\n# è¿½å è·¯ç±èç¹\n\n#-----------mongos02\nmkdir -p /mongodb/sharded_cluster/mymongos_27117/log\n\n\n1\n2\n\n\nvi /mongodb/sharded_cluster/mymongos_27117/mongos.conf\n\n\n1\n\n\nsystemLog:\n #MongoDBåéæææ¥å¿è¾åºçç®æ æå®ä¸ºæä»¶\n destination: file\n #mongodæmongosåºåå¶åéææè¯æ­æ¥å¿è®°å½ä¿¡æ¯çæ¥å¿æä»¶çè·¯å¾\n path: "/mongodb/sharded_cluster/mymongos_27117/log/mongod.log"\n #å½mongosæmongodå®ä¾éæ°å¯å¨æ¶ï¼mongosæmongodä¼å°æ°æ¡ç®éå å°ç°ææ¥å¿æä»¶çæ«å°¾ã\n logAppend: true\nprocessManagement:\n #å¯ç¨å¨åå°è¿è¡mongosæmongodè¿ç¨çå®æ¤è¿ç¨æ¨¡å¼ã\n fork: true\n #æå®ç¨äºä¿å­mongosæmongodè¿ç¨çè¿ç¨IDçæä»¶ä½ç½®ï¼å¶ä¸­mongosæmongodå°åå¥å¶PID\n pidFilePath: /mongodb/sharded_cluster/mymongos_27117/log/mongod.pid"\nnet:\n #æå¡å®ä¾ç»å®ææIPï¼æå¯ä½ç¨ï¼å¯æ¬éåå§åçæ¶åï¼èç¹åå­ä¼èªå¨è®¾ç½®ä¸ºæ¬å°ååï¼èä¸æ¯ip\n #bindIpAll: true\n #æå¡å®ä¾ç»å®çIP\n bindIp: localhost,192.168.0.2\n #bindIp\n #ç»å®çç«¯å£\n port: 27117\nsharding:\nconfigDB:\nmyconfigrs/192.168.42.130.212:27019,192.168.42.130.212:27119,192.168.42.130.212:27219\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n\n\n#å¯å¨\n/usr/local/mongodb/bin/mongos -f /mongodb/sharded_cluster/mymongos_27117/mongos.conf\n\n\n1\n2\n\n\nç¬¬äºä¸ªè·¯ç±æ ééç½®ï¼å ä¸ºåçéç½®é½ä¿å­å°äºéç½®æå¡å¨ä¸­äºã\n\n\n# Compassè¿æ¥åçéç¾¤\n\nè¿æ¥è·¯ç±èç¹å³å¯\n\n\n\n\n# SpringDataMongDB è¿æ¥åçéç¾¤\n\nspring:\n  data:\n    mongodb:\n      # host: 192.168.130.212  # ä¸»æºå°å\n      # database: articledb  # æ°æ®åº\n      # port: 27017 # é»è®¤ç«¯å£æ¯27017\n        #ä¹å¯ä»¥ä½¿ç¨uriè¿æ¥\n        #uri: mongodb://192.168.40.134:27017/articledb\n      # å¯æ¬éçè¿æ¥å­ç¬¦ä¸²\n            uri: mongodb://192.168.40.134:27017,192.168.40.134:27117/articledb\n\n#      uri: mongodb://192.168.42.212:27017,192.168.42.212:27018,192.168.42.212:27019/article\n#      db?connect=replicaSet&slaveOk=true&replicaSet=myrs\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n\n\nå¦ææå¤ä¸ªèç¹å¯ä»¥ä½¿ç¨éå·éå¼ SpringDataMongDBé»è®¤æè´è½½åè¡¡ç­ç¥\n\n\n# å®å¨è®¤è¯\n\né»è®¤æåµä¸ï¼MongoDBå®ä¾å¯å¨è¿è¡æ¶æ¯æ²¡æå¯ç¨ç¨æ·è®¿é®æéæ§å¶ç\n\n\n# è§è²\n\nå¸¸ç¨çåç½®è§è²ï¼\n\n * æ°æ®åºç¨æ·è§è²ï¼ readãreadWrite;\n * æææ°æ®åºç¨æ·è§è²ï¼ readAnyDatabaseãreadWriteAnyDatabaseã\n * userAdminAnyDatabaseãdbAdminAnyDatabase\n * æ°æ®åºç®¡çè§è²ï¼ dbAdminãdbOwnerãuserAdminï¼\n * éç¾¤ç®¡çè§è²ï¼ clusterAdminãclusterManagerãclusterMonitorãhostManagerï¼\n * å¤ä»½æ¢å¤è§è²ï¼ backupãrestoreï¼\n * è¶çº§ç¨æ·è§è²ï¼ root\n * åé¨è§è²ï¼ system\n\n\n\ndb.runCommand({ rolesInfo: 1 })  #æ¥è¯¢ææè§è²æé(ä»ç¨æ·èªå®ä¹è§è²)\ndb.runCommand({ rolesInfo: 1, showBuiltinRoles: true })  #æ¥è¯¢ææè§è²æé(åå«åç½®è§è²)\ndb.runCommand({ rolesInfo: "<rolename>" })  #æ¥è¯¢å½åæ°æ®åºä¸­çæè§è²çæé\ndb.runCommand({ rolesInfo: { role: "<rolename>", db: "<database>" } }   #æ¥è¯¢å¶å®æ°æ®åºä¸­æå®çè§è²æé\n\n\n1\n2\n3\n4\n\n\n\n# åå®ä¾å®å¨è®¤è¯\n\n * æ·»å ç¨æ·åæé\n\nuse admin\ndb.createUser({user:"myroot",pwd:"123456",roles:["root"]})  #åå»ºmyrootç¨æ· å¯ç 123456 æéä¸ºroot  å¦æä¸æå®dbåç§°åé»è®¤ä¸ºå½åæå¨åº\ndb.createUser({user:"myadmin",pwd:"123456",roles:[{role:"userAdminAnyDatabase",db:"admin"}]}) #åå»ºä¸ä¸ªå¨æå®åºä¸­ç®¡çç¨æ·çç¨æ·\ndb.system.users.find()  #æ¥è¯¢å·²ç»åå»ºçç¨æ·æåµ\ndb.dropUser("myadmin") #å é¤æå®ç¨æ·\ndb.changeUserPassword("myroot", "123456")  #ä¿®æ¹æå®ç¨æ·å¯ç \n\n\n\n1\n2\n3\n4\n5\n6\n7\n\n 1. æ¬æ¡ä¾åå»ºäºä¸¤ä¸ªç¨æ·ï¼åå«å¯¹åºè¶ç®¡åä¸é¨ç¨æ¥ç®¡çç¨æ·çè§è²ï¼äºå®ä¸ï¼ä½ åªéè¦ä¸ä¸ªç¨æ·å³ å¯ãå¦æä½ å¯¹å®å¨è¦æ±å¾é«ï¼é²æ­¢è¶ç®¡æ³æ¼ï¼åä¸è¦åå»ºè¶ç®¡ç¨æ·ã\n 2. åå¶å®æ°æ®åºï¼MySQLï¼ä¸æ ·ï¼æéçç®¡çé½å·®ä¸å¤ä¸æ ·ï¼ä¹æ¯å°ç¨æ·åæéä¿¡æ¯ä¿å­å°æ°æ®åºå¯¹ åºçè¡¨ä¸­ãMongodbå­å¨ææçç¨æ·ä¿¡æ¯å¨admin æ°æ®åºçéåsystem.usersä¸­ï¼ä¿å­ç¨æ·åãå¯ç  åæ°æ®åºä¿¡æ¯ã\n 3. å¦æä¸æå®æ°æ®åºï¼ååå»ºçæå®çæéçç¨æ·å¨ææçæ°æ®åºä¸ææï¼å¦ {role:"userAdminAnyDatabase", db:""}\n\n * è®¤è¯æµè¯\n\nuse admin\ndb.auth("myroot","123456")\n\n\n1\n2\n\n\nå¦æå¼å¯äºè®¤è¯åï¼ç»å½çå®¢æ·ç«¯çç¨æ·å¿é¡»ä½¿ç¨adminåºçè§è²ï¼å¦æ¥ærootè§è²çmyadminç¨ æ·ï¼åéè¿myadminç¨æ·å»åå»ºå¶ä»è§è²çç¨æ·\n\n# æå¡ç«¯å¼å¯è®¤è¯åå®¢æ·ç«¯è¿æ¥ç»é\n\n 1. åæ°æ¹å¼ å¯å¨æå¡ç«¯æ¶å é--authåæ°\n    \n    /usr/local/mongodb/bin/mongod -f /mongodb/single/mongod.conf --auth\n    \n    \n    1\n    \n\n 2. éç½®æ¹å¼\n    \n    vim /mongodb/single/mongod.conf\n    \n    #éç½®æä»¶è¿½å \n    security:\n     authorization: enabled  #å¼å¯ææè®¤è¯\n    \n    \n    1\n    2\n    3\n    4\n    5\n    \n\n#æ­¤æ¶è¿æ¥å¯ä»¥è¿å¥å®¢æ·ç«¯ ä½æ æ³æ§è¡ä»»ä½æä½ åªæè®¤è¯æååè½ä½¿ç¨\nuse admin  #æ­¤ç¨æ·è½æ¥çä»ä¹åºå°±åæ¢å°ä»ä¹åºä¸­åè®¤è¯  å¦åæ¥é\ndb.auth("myroot","123456")\n\n\n1\n2\n3\n\n\nè¿æ¥å®¢æ·ç«¯æ¶ç´æ¥è®¤è¯ åæ ·æ¥çä»ä¹åºå°±åæ¢å°ä»ä¹åºä¸­åè®¤è¯ å¦åæ¥é\n\nmongo --host 192.168.42.130.212 --port 27017 --authenticationDatabase admin -u myroot -p 123456\n\n\n1\n\n * -u ï¼ç¨æ·å\n * -p ï¼å¯ç \n * -- authenticationDatabase ï¼æå®è¿æ¥å°åªä¸ªåºãå½ç»å½æ¯æå®ç¨æ·åå¯ç æ¶ï¼å¿é¡»æå®å¯¹åºç æ°æ®åºï¼\n\n# SpringDataMongoDBè¿æ¥è®¤è¯\n\nspring:\n #æ°æ®æºéç½®\ndata:\n mongodb:\n   # ä¸»æºå°å\n#   host: 192.168.42.130.212\n   # æ°æ®åº\n#   database: articledb\n   # é»è®¤ç«¯å£æ¯27017\n#   port: 27017\n   #å¸å·\n#   username: bobo\n   #å¯ç \n#   password: 123456\n   #åæºæè®¤è¯çæåµä¸ï¼ä¹ä½¿ç¨å­ç¬¦ä¸²è¿æ¥\n  uri: mongodb://bobo:123456@192.168.130.212/articledb\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n\n\n\n# å¯æ¬éç¯å¢\n\nåªéè¦å¨ä¸»èç¹ä¸æ·»å ç¨æ·ï¼å¯æ¬éä¼èªå¨åæ­¥\n\nuse admin\ndb.createUser({user:"myroot",pwd:"123456",roles:["root"]})\n\n\n1\n2\n\n\nçæå¯æ¬éè®¤è¯çkeyæä»¶ å¨centosä¸­\n\nopenssl rand -base64 90 -out ./mongo.keyfile\nchmod 400 ./mongo.keyfile\nll mongo.keyfile\n\n\n1\n2\n3\n\n\nææå¯æ¬éèç¹é½å¿é¡»è¦ç¨åä¸ä»½keyfileï¼ä¸è¬æ¯å¨ä¸å°æºå¨ä¸çæï¼ç¶åæ·è´å°å¶ä»æºå¨ä¸ï¼ä¸å¿é¡» æè¯»çæéï¼å¦åå°æ¥ä¼æ¥é\n\n#æ­¤æ¶åºè¯¥éè¿ç½ç»ä¼ è¾æ­¤keyæä»¶ç»éç¾¤æºå¨\ncp mongo.keyfile /mongodb/replica_sets/myrs_27017\ncp mongo.keyfile /mongodb/replica_sets/myrs_27018\ncp mongo.keyfile /mongodb/replica_sets/myrs_27019\n\n\n1\n2\n3\n4\n\n\nä¿®æ¹åä¸ªèç¹çéç½®æä»¶\n\nvim /mongodb/replica_sets/myrs_27017/mongod.conf\n\n\n1\n\n\nsecurity:\n #KeyFileé´ææä»¶\n keyFile: /mongodb/replica_sets/myrs_27017/mongo.keyfile\n #å¼å¯è®¤è¯æ¹å¼è¿è¡\n authorization: enabled\n\n\n1\n2\n3\n4\n5\n\n\nvim /mongodb/replica_sets/myrs_27018/mongod.conf\n\n\n1\n\n\nsecurity:\n #KeyFileé´ææä»¶\n keyFile: /mongodb/replica_sets/myrs_27018/mongo.keyfile\n #å¼å¯è®¤è¯æ¹å¼è¿è¡\n authorization: enabled\n\n\n1\n2\n3\n4\n5\n\n\nvim /mongodb/replica_sets/myrs_27019/mongod.conf\n\n\n1\n\n\nsecurity:\n #KeyFileé´ææä»¶\n keyFile: /mongodb/replica_sets/myrs_27019/mongo.keyfile\n #å¼å¯è®¤è¯æ¹å¼è¿è¡\n authorization: enabled\n\n\n1\n2\n3\n4\n5\n\n\néæ°å¯å¨\n\n/usr/local/mongodb/bin/mongod -f /mongodb/replica_sets/myrs_27017/mongod.conf\n/usr/local/mongodb/bin/mongod -f /mongodb/replica_sets/myrs_27018/mongod.conf\n/usr/local/mongodb/bin/mongod -f /mongodb/replica_sets/myrs_27019/mongod.conf\n\n\n1\n2\n3\n\n\nåå»ºæ°çç¨æ·è¯»åå\n\nmongo\nuse admin\ndb.auth("myroot","123456") #åç»éè®¤è¯ç®¡çåè´¦å·\nuse articledb\ndb.createUser({user: "bobo", pwd: "123456", roles: ["readWrite"]})\n\n\n1\n2\n3\n4\n5\n\n\n# SpringDataMongoDBè¿æ¥å¯æ¬é\n\nspring:\n #æ°æ®æºéç½®\ndata:\n mongodb:\n   #å¯æ¬éæè®¤è¯çæåµä¸ï¼å­ç¬¦ä¸²è¿æ¥\n  uri:\nmongodb://bobo:123456@192.168.42.130.212:27017,192.168.42.130.212:27018,192.168.42.130.212:27019/articledb?connect=replicaSet&slaveOk=true&replicaSet=myrs\n\n\n1\n2\n3\n4\n5\n6\n7\n\n\n\n# åçéç¾¤ç¯å¢\n\nå³é­éç½®æå¡å¨å¯æ¬éçæå¡ï¼å»ºè®®ä¾æ¬¡å³é­å¯æ¬èç¹ãä¸»èç¹åå³é­è·¯ç±æå¡å¨çæå¡\n\nrs.stepDown()  #åç¥å¯æ¬éè¯´æ¬æºè¦ä¸çº¿\nuse admin \ndb.shutdownServer()\n\n\n1\n2\n3\n\n 1. çækeyæä»¶\n\nopenssl rand -base64 90 -out ./mongo.keyfile\nchmod 400 ./mongo.keyfile\n\n\n1\n2\n\n\n 2. æ·è´keyæä»¶å°åä¸ªæå¡ä¸\n\n 3. ä¿®æ¹éç½®æä»¶\n    \n    #è¿éæ¯åä¸ªæå¡ä¸çéç½®æä»¶\n    vim /mongodb/sharded_cluster/myshardrs01_27018/mongod.conf\n    \n    \n    1\n    2\n    \n    \n    security:\n     #KeyFileé´ææä»¶ æ³¨æè¦ä¿®æ¹è·¯å¾\n     keyFile: /mongodb/replica_sets/myrs_27019/mongo.keyfile\n     #å¼å¯è®¤è¯æ¹å¼è¿è¡\n     authorization: enabled\n    \n    \n    1\n    2\n    3\n    4\n    5\n    \n\n 4. éæ°å¯å¨åä¸ªèç¹\n    \n    åå¯å¨éç½®èç¹ï¼åå¯å¨åçèç¹ï¼æåå¯å¨è·¯ç±èç¹ãå¦æåå¯å¨åçèç¹ï¼ä¼å¡ä½\n    \n    /usr/local/mongodb/bin/mongod -f /mongodb/sharded_cluster/myconfigrs_27019/mongod.conf\n    \n    \n    1\n    \n\n 5. å®¢æ·ç«¯mongoï¼éè¿localhostç»å½ä»»æä¸ä¸ªmongosè·¯ç±\n    \n    /usr/local/mongodb/bin/mongo --port 27017\n    \n    \n    1\n    \n\n 6. åå»ºè´¦å·\n    \n    use admin\n    db.createUser({user:"myroot",pwd:"123456",roles:["root"]}) #ç®¡çåè´¦å·\n    db.createUser({user: "bobo", pwd: "123456", roles: [{ role: "readWrite",db: "articledb" }]}) #æå®åºè¯»åè´¦å·\n    \n    \n    1\n    2\n    3\n    \n\n# SpringDataMongoDBè¿æ¥è®¤è¯\n\nspring:\n #æ°æ®æºéç½®\ndata:\n mongodb:\n   # åçéç¾¤æè®¤è¯çæåµä¸ï¼å­ç¬¦ä¸²è¿æ¥\n  uri:\nmongodb://bobo:123456@192.168.42.130.212:27017,192.168.42.130.212:27117/articledb\n\n\n1\n2\n3\n4\n5\n6\n7\n\n\n\n# 4.0æ°ç¹æ§\n\n\n# å è½½å¤é¨jsæä»¶\n\nå è½½å½åè·¯å¾ä¸çjsæä»¶ å¯å¨shellå½ä»¤æ¶çè·¯å¾åjsæå¨è·¯å¾è¦ä¸è´\n\nload("aaa.js") #è¿åtrueåæå\n\n\n1\n\n\n\n# äºå¡æ§\n\npackage com.itheima.sh.demo_01;\n\nimport com.mongodb.MongoClient;\nimport com.mongodb.ServerAddress;\nimport com.mongodb.client.*;\nimport com.mongodb.client.model.Filters;\nimport org.bson.Document;\n\nimport java.util.ArrayList;\nimport java.util.List;\n\nimport static com.mongodb.client.model.Filters.eq;\nimport static com.mongodb.client.model.Updates.inc;\n\npublic class Demo02 {\n    static MongoClient mongoClient;\n    static MongoDatabase mongoDatabase;\n    static MongoCollection<Document> collection;\n\n    public static void main(String[] args) throws Exception{\n        /////////////////////////////////////////////////////////////////////////////////////////////////////////////\n        //å¯æ¬é\n        final List<ServerAddress> servers=new ArrayList<ServerAddress>();\n        servers.add(new ServerAddress("127.0.0.1", 27000));\n        servers.add(new ServerAddress("127.0.0.1", 27001));\n        servers.add(new ServerAddress("127.0.0.1", 27002));\n\n        mongoClient = new MongoClient(servers);\n\n        // è¿æ¥å°æ°æ®åº itcastè¡¨ç¤ºæ°æ®åºå\n        mongoDatabase = mongoClient.getDatabase("itcast");\n        //æå°æ°æ®åºæå¼å§çç¶æ\n        printDataState();\n        //è½¬è´¦ å¸¦äºå¡ç\n        transerTransacFunds("a", "b", 100);\n    }\n\n    //å¸¦äºå¡çè½¬è´¦\n    private static void transerTransacFunds(String a, String b, int money) {\n        System.out.println("------------ä½¿ç¨äºå¡------------");\n        System.out.println("aåbè½¬è´¦100åï¼æå¯è½ä¼åçå¼å¸¸ï¼åå°ä¹åçç¶æãä¸¤ä¸ªäººçæä½å¨åä¸ä¸ªäºå¡ä¸­");\n        System.out.println("-------------------------------");\n\n        //è·åsession\n        ClientSession session = mongoClient.startSession();\n        try {\n            //å¼å¯äºå¡\n            session.startTransaction();\n            //aå100\n            minusTransacFromA(session, a, money);\n            //æ¨¡æå¼å¸¸\n            int x = 1 / 0;\n            //bå 100\n            addTransacToB(session, b, money);\n            //æäº¤äºå¡\n            session.commitTransaction();\n        } catch (Exception e) {\n            System.out.println("å¸¦äºå¡ï¼è½¬è´¦å¤±è´¥ï¼åå°å¼å¯äºå¡ä¹åçç¶æ");\n            //åæ»äºå¡\n            session.abortTransaction();\n        } finally {\n            //å³é­session\n            session.close();\n            //è¾åºè´¦æ·ç¶æ\n            printDataState();\n        }\n    }\n\n    //å¸¦äºå¡bå 100\n    private static void addTransacToB(ClientSession session, String b, int money) {\n        System.out.println("bè´¦æ·å¢å 100");\n        //æ´æ°ææ¡£   å°ææ¡£ä¸­likes=100çææ¡£ä¿®æ¹ä¸ºlikes=200\n        collection.updateMany(session, Filters.eq("name", b), inc("money", money));\n    }\n\n    //å¸¦äºå¡aå100\n    private static void minusTransacFromA(ClientSession session, String a, int money) {\n        System.out.println("aè´¦æ·åå°100");\n        //inc è¡¨ç¤ºç´¯å å½æ°\n        collection.updateMany(session, Filters.eq("name", a), inc("money", -money));\n    }\n\n    private static void printDataState() {\n        //personsè¡¨ç¤ºitcastæ°æ®åºä¸­çéåå\n        collection = mongoDatabase.getCollection("account");\n        System.out.println("æ°æ®åºä¸­çèµ·å§ç¶æï¼");\n\n        //æ£ç´¢ææææ¡£\n        /**\n         * 1. è·åè¿­ä»£å¨FindIterable<Document>\n         * 2. è·åæ¸¸æ MongoCursor<Document>\n         * 3. éè¿æ¸¸æ éåæ£ç´¢åºçææ¡£éå\n         * */\n        //1. è·åè¿­ä»£å¨FindIterable<Document>\n        FindIterable<Document> findIterable = collection.find();\n        //2. è·åæ¸¸æ MongoCursor<Document>\n        MongoCursor<Document> mongoCursor = findIterable.iterator();\n        //3. éè¿æ¸¸æ éåæ£ç´¢åºçææ¡£éå\n        while (mongoCursor.hasNext()) {\n            System.out.println(mongoCursor.next());\n        }\n    }\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n26\n27\n28\n29\n30\n31\n32\n33\n34\n35\n36\n37\n38\n39\n40\n41\n42\n43\n44\n45\n46\n47\n48\n49\n50\n51\n52\n53\n54\n55\n56\n57\n58\n59\n60\n61\n62\n63\n64\n65\n66\n67\n68\n69\n70\n71\n72\n73\n74\n75\n76\n77\n78\n79\n80\n81\n82\n83\n84\n85\n86\n87\n88\n89\n90\n91\n92\n93\n94\n95\n96\n97\n98\n99\n100\n101\n102\n103\n\n\n\n# èåæ°æ®ç±»åè½¬æ¢\n\nhttps://www.runoob.com/mongodb/mongodb-replication.html\n\nMongoDB4.0å¢å äºä¸ä¸ªæ°çèåæä½ç¬¦ï¼$convert,ç¨æ¥è¿è¡æ°æ®ç±»åçè½¬æ¢ãè¿ä¸ªç±»åè½¬æ¢æä½ç¬¦ç®åäºæ°æ®çæ½åãè½¬æ¢åå è½½çè¿ç¨ãåæ¶å°å®¢æ·ç«¯çå¤çæ°æ®çååè½¬ç§»å°äºæå¡å¨ç«¯ãä»èåè½»äºå®¢æ·ç«¯å¤çæ°æ®çååã\n\n#from -- è½¬è´¦åèµ·äºº\n#to -- è½¬è´¦æ¥æ¶äºº\n#time -- è½¬è´¦æ¶é´\n#money -- è½¬è´¦éé¢\nuse itcast;\nvar one = {"from":"a","to":"b","money":100};\nvar two = {"from":"a","to":"b","money":200,"time":ISODate("2018-05-11T13:58:51.122Z")};\nvar thr = {"from":"a","to":"b","money":300,"time":"2018-07-10 14:38:50"};\nvar four = {"from":"a","to":"b","money":100,"time":"2017-04-16 14:38:50"};\nvar five = {"from":"a","to":"b","money":500,"time":1569569092514};\nvar six = {"from":"a","to":"b","money":500,"time":"Last Friday"};\ndb.transfer.insertMany([one,two,thr,four,five,six]);\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n\n\næä»¬åç°ä¸è¿°ç»æçæ¶é´æ¯æ¡è½¬è´¦è®°å½é½ä¸ä¸è´ãéå¸¸æä¹±ãæçè½¬è´¦è®°å½æ¯æ åçä¾å¦ISODate,æçæ¶é´æ¯å­ç¬¦ä¸²ï¼æçæ¯ä½¿ç¨æ´æ°è¡¨ç¤ºï¼èè¿æçæ ¹æ¬æ²¡æè½¬è´¦è®°å½ãè¿æçæ¶é´æ¯æ æçã\n\né£ä¹è¿ä¸ªæ¶åæä»¬å°±å¯ä»¥ä½¿ç¨MongoDB4.0å¼å¥çæ°æ®ç±»åè½¬æ¢çæä½ç¬¦æ¥å°è½¬è´¦æ¶é´ç»ä¸ä¸ºä¸è´çæ°æ®ç±»åã\n\nconversionStage={\n    //èåéé\n    $project:{\n        //å¨æ°æ®æ å°ééä¸­ä¿çåæ¥çæ°æ®é¡¹ï¼è®¾ç½®ä¸º1\n        from:1,\n        to:1,\n        money:1,\n        time:{//è½¬è´¦æ¶é´éè¦åä¸äºç±»åçè½¬æ¢\n            //è½¬æ¢æä½ç¬¦\n            $convert:{\n                //å¿é¡»ä¹¦åç åæ¥çè½¬è´¦æ¶é´\n                input:"$time",\n                //å¿é¡»ä¹¦åç å¸ææè¿ä¸é¡¹æ°æ®è½¬æ¢åªç§ç±»åï¼dateå°±æ¯mongoçæ åæ¶é´ç±»åISODate\n                to:"date",\n                //onErrorè¿ä¸é¡¹æ¯å¯éçãå¯¹äºå­å¨çå±æ§ï¼ä½æ¯å±æ§å¼æ¯å®å¨æ²¡æåæ³è½¬æ¢ä¸ºæ åçæ¥ææ ¼å¼ï¼å¯ä»¥å¯¹å¶æ¾ç¤ºã\n                onError:{\n                \t//$concatè¡¨ç¤ºå­æ®µæ¼æ¥æä½ç¬¦\n                    $concat:["can not convert ",{$toString:"$time"}," to date type"]\n                },\n                //ç¼ºå¤±è½¬è´¦æ¶é´è¿ä¸é¡¹ï¼å¯ä»¥å¯¹å¶æç¤º\n                onNull:"missing time"\n            }\n        }\n    }\n};\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n\n\nä½¿ç¨èåå½æ°aggregate()å¤çä¸è¿°æ°æ®ãæ§è¡è½¬æ¢æä½\n\n#db.éåå.aggregate([èåæä½åå®¹])\ndb.transfer.aggregate([conversionStage]);\n\n\n1\n2\n',normalizedContent:'# mongodb\n\nmongodbå®æ¯æçæ°æ®ç»æéå¸¸æ¾æ£,æ¯ä¸ç§ç±»jsonçæ ¼å¼ bson å®å³å¯ä»¥å­å¨æ¯è¾å¤æçæ°æ®ç±»å åç¸å½ççµæ´»\n\nmongodbä¸­çè®°å½æ¯ä¸ä¸ªææ¡£ å®æ¯ä¸ä¸ªé®å¼å¯¹æ°æ®ç»æ mongodbææ¡£ç±»ä¼¼äºjsonå¯¹è±¡ å³ä¸ä¸ªææ¡£è®¤ä¸ºå°±æ¯ä¸ä¸ªå¯¹è±¡\n\n\n# ä½ç³»ç»æ\n\n\n\n\n# æ°æ®æ¨¡å\n\nmongodbçæå°å­å¨åä½å°±æ¯ææ¡£(document)å¯¹è±¡ãææ¡£(document)å¯¹è±¡å¯¹åºäºå³ç³»åæ°æ®åºçè¡ãæ°æ®å¨mongodbä¸­ä»¥bsonï¼binary-jsonï¼ææ¡£çæ ¼å¼å­å¨å¨ç£çä¸ã\n\n\n\n\n# åæºé¨ç½²\n\nhttps://www.mongodb.com/try/download/community\n\nmongodbççæ¬å½åè§èå¦ï¼x.y.zï¼ yä¸ºå¥æ°æ¶è¡¨ç¤ºå½åçæ¬ä¸ºå¼åçï¼å¦ï¼1.5.2ã4.1.13ï¼ yä¸ºå¶æ°æ¶è¡¨ç¤ºå½åçæ¬ä¸ºç¨³å®çï¼å¦ï¼1.6.3ã4.0.10ï¼ zæ¯ä¿®æ­£çæ¬å·ï¼æ°å­è¶å¤§è¶å¥½ã\n\n\n# windowså¯å¨\n\n 1. è§£åå°æ¬å°\n\n 2. å¨mongodbç®å½ä¸åå»º data\n\n 3. å¨dataæä»¶å¤¹ä¸ åå«åå»º db å logs æä»¶å¤¹\n\n 4. è¿å¥binç®å½ä¸å½ä»¤è¡å¯å¨\n    \n    mongod --dbpath=d:\\compile\\mongodb-win32-x86_64-2012plus-4.2.16\\data\\db --logpath=d:\\compile\\mongodb-win32-x86_64-2012plus-4.2.16\\data\\logs\\mongolog.log --logappend\n    \n    \n    1\n    \n\nmongodbé»è®¤ç«¯å£ä¸º27017 å¦æè¦æå®ç«¯å£å¯ä»¥éè¿--portæ¥è®¾ç½®\n\nmongod --dbpath=d:\\compile\\mongodb-win32-x86_64-2012plus-4.2.16\\data\\db --logpath=d:\\compile\\mongodb-win32-x86_64-2012plus-4.2.16\\data\\logs\\mongolog.log --logappend --port 27018\n\n\n1\n\n\n# ä½¿ç¨éç½®æä»¶å¯å¨\n\n 1. å¨mongodbç®å½ä¸confç®å½\n\n 2. è¿å¥confç®å½åå»ºmongod.conf\n    \n    storage:\n     dbpath: d:\\compile\\mongodb-win32-x86_64-2012plus-4.2.16\\data\\db\n    systemlog:\n     destination: file\n     path: d:\\compile\\mongodb-win32-x86_64-2012plus-4.2.16\\data\\logs\\mongolog.log\n     logappend: true\n    \n    \n    1\n    2\n    3\n    4\n    5\n    6\n    \n\n 3. å¨binç®å½ä¸å½ä»¤è¡å¯å¨\n    \n    mongod -f ../config/mongod.conf\n    #æè\n    mongod --config ../config/mongod.conf\n    \n    \n    1\n    2\n    3\n    \n\n# è¿æ¥æ°æ®åº\n\n 1. å¨binç®å½ä¸å½ä»¤è¡å¯å¨\n    \n    mongo\n    #æè\n    mongo --host=127.0.0.1 --port=27017\n    \n    \n    1\n    2\n    3\n    \n    \n    show dbs; #æ¥è¯¢æ°æ®åº\n    exit; #éåº\n    \n    \n    1\n    2\n    \n\n# å®è£ä¸ºæå¡é¡¹\n\nå¨binç®å½ä¸æ§è¡\n\nmongod --dbpath "d:\\compile\\mongodb-win32-x86_64-2012plus-4.2.16\\data\\db" --logpath "d:\\compile\\mongodb-win32-x86_64-2012plus-4.2.16\\data\\logs\\mongolog.log" --servicename "mongodb" --servicedisplayname "mongodb" --install\nnet start mongodb\n\n\n1\n2\n\n\n\n# linuxå¯å¨\n\nè§£åå®è£\n\nwget https://fastdl.mongodb.org/linux/mongodb-linux-x86_64-rhel70-4.2.15.tgz\ntar -zxvf mongodb-linux-x86_64-rhel70-4.2.15.tgz\nmv mongodb-linux-x86_64-rhel70-4.2.15 /usr/local/mongodb \nmkdir -p /mongodb/single/data/db  #æ°æ®ç®å½\nmkdir -p /mongodb/single/log  #æ¥å¿æä»¶\nvim /mongodb/single/mongod.conf\n\n\n1\n2\n3\n4\n5\n6\n\n\n# éç½®åå®¹\nsystemlog:\n # mongodbåéæææ¥å¿è¾åºçç®æ æå®ä¸ºæä»¶\n # the path of the log file to which mongod or mongos should send all diagnostic logging information\n destination: file\n # mongodæmongosåºåå¶åéææè¯æ­æ¥å¿è®°å½ä¿¡æ¯çæ¥å¿æä»¶çè·¯å¾\n path: "/mongodb/single/log/mongod.log"\n # å½mongosæmongodå®ä¾éæ°å¯å¨æ¶ï¼mongosæmongodä¼å°æ°æ¡ç®éå å°ç°ææ¥å¿æä»¶çæ«å°¾ã\n logappend: true\nstorage:\n # mongodå®ä¾å­å¨å¶æ°æ®çç®å½ãstorage.dbpathè®¾ç½®ä»éç¨äºmongodã\n # the directory where the mongod instance stores its data.default value is "/data/db".\n dbpath: "/mongodb/single/data/db"\n journal:\n  # å¯ç¨æç¦ç¨æä¹æ§æ¥å¿ä»¥ç¡®ä¿æ°æ®æä»¶ä¿æææåå¯æ¢å¤ã\n  enabled: true\nprocessmanagement:\n # å¯ç¨å¨åå°è¿è¡mongosæmongodè¿ç¨çå®æ¤è¿ç¨æ¨¡å¼ã\n fork: true\nnet:\n # æå¡å®ä¾ç»å®çipï¼é»è®¤æ¯localhost\n bindip: localhost,192.168.130.212    #ipä¸ºå½åæå¡å¨å±åç½ipå°å ä¸è®¾ç½®å¤é¨æ æ³éè¿ipè®¿é®\n # bindip\n # ç»å®çç«¯å£ï¼é»è®¤æ¯27017\n port: 27017\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n\n\nå¯å¨\n\n/usr/local/mongodb/bin/mongod -f /mongodb/single/mongod.conf\n#/usr/local/mongodb/bin/mongod --config /mongodb/single/mongod.conf\n#æ¥çé²ç«å¢ç¶æ\nsystemctl status firewalld\n#ä¸´æ¶å³é­é²ç«å¢\nsystemctl stop firewalld\n#å¼æºç¦æ­¢å¯å¨é²ç«å¢\nsystemctl disable firewalld\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n\n\nå¦æä¸æ¦æ°æ®æå å¯¼è´è¡¨æ­»é\n\nrm -f /mongodb/single/data/db/*.lock #å é¤éæä»¶\n/usr/local/mongdb/bin/mongod --repair\n\n\n1\n2\n\n\n# éç½®ç¯å¢åé\n\nvi /etc/profile\n#éç½®åå®¹\nexport mongodb_home=/usr/local/mongodb\nexport path=$path:$mongodb_home/bin\n\n\n1\n2\n3\n4\n\n\n# éç½®ä¸ºæå¡å å¥å¯å¨\n\ncd /lib/systemd/system  \nvi mongodb.service  \n#éç½®åå®¹\n[unit]\ndescription=mongodb\nafter=network.target remote-fs.target nss-lookup.target\n\n[service]\ntype=forking\nexecstart=/usr/local/mongodb/bin/mongod --config /mongodb/single/mongodb.conf\nexecreload=/bin/kill -s hup $mainpid\nexecstop=/usr/local/mongodb/bin/mongod --shutdown --config /mongodb/single/mongodb.conf\nprivatetmp=true\n\n[install]\nwantedby=multi-user.target\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n\n\n#echo "/usr/local/mongodb/bin/mongod --dbpath=/data/db --fork --bind_ip=0.0.0.0 --port 27017 --logpath=/data/db/log --logappend --auth" >> /etc/rc.local\n\nchmod 754 mongodb.service\n\n\n1\n2\n3\n\n\n#å¯å¨æå¡\nsystemctl start mongodb.service\n#å³é­æå¡\nsystemctl stop mongodb.service\n#å¼æºå¯å¨\nsystemctl enable mongodb.service\n#å³é­å¼å¯å¯å¨\nsystemctl disable mongodb.service\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n\n\n# æ åçå³é­æ¹æ³\n\nmongo\nuse admin\ndb.shutdownserver()\n\n\n1\n2\n3\n\n\nè¿ç¨idå³é­æ³\n\nps -ef | grep mongo\nkill -2 pid\n\n\n1\n2\n\n\n\n# æ°æ®åº\n\n\n# éæ©ååå»ºæ°æ®åº\n\n#use æ°æ®åºåç§°   \nuse articledb  #å¦ææ²¡ææ­¤æ°æ®åºåèªå¨åå»º \n#å¦ææ°çæ°æ®åºæ²¡ææå¥æ°æ® showdbsæ¯æ æ³æ¥çå°æ°åå»ºçæ°æ®åº å ä¸ºæ­¤æ¶æ°æ®åºå­å¨å¨åå­å½ä¸­ å¹¶æªæä¹å\n\n\n1\n2\n3\n\n\n\n# æ¥è¯¢å½åææéæ¥ççæ°æ®\n\nshow dbs\n#æè\nshow databases\n\n\n1\n2\n3\n\n\n\n# æ¥çå½åæ­£å¨ä½¿ç¨çæ°æ®åºåç§°\n\ndb\n\n\n1\n\n\n\n# æ°æ®åºå½åè§è\n\næ°æ®åºåå¯ä»¥æ¯æ»¡è¶³ä»¥ä¸æ¡ä»¶çä»»æutf-8å­ç¬¦ä¸²ã\n\n * ä¸è½æ¯ç©ºå­ç¬¦ä¸²ï¼ "")ã\n * ä¸å¾å«æ \' \'ï¼ç©ºæ ¼)ã.ã$ã/ã\\å\\0 (ç©ºå­ç¬¦)ã\n * åºå¨é¨å°åã\n * æå¤ 64å­èã\n\næä¸äºæ°æ®åºåæ¯ä¿ççï¼å¯ä»¥ç´æ¥è®¿é®è¿äºæç¹æ®ä½ç¨çæ°æ®åºã\n\n\n# é»è®¤ä¸ä¸ªæ°æ®åºä½ç¨\n\n * admin ï¼ ä»æéçè§åº¦æ¥çï¼è¿æ¯"root"æ°æ®åºãè¦æ¯å°ä¸ä¸ªç¨æ·æ·»å å°è¿ä¸ªæ°æ®åºï¼è¿ä¸ªç¨æ·èªå¨ç»§æ¿æææ°æ®åºçæéãä¸äºç¹å®çæå¡å¨ç«¯å½ä»¤ä¹åªè½ä»è¿ä¸ªæ°æ®åºè¿è¡ï¼æ¯å¦ååºææçæ°æ®åºæèå³é­æå¡å¨ã\n * local: è¿ä¸ªæ°æ®æ°¸è¿ä¸ä¼è¢«å¤å¶ï¼å¯ä»¥ç¨æ¥å­å¨éäºæ¬å°åå°æå¡å¨çä»»æéå\n * config : å½mongoç¨äºåçè®¾ç½®æ¶ï¼configæ°æ®åºå¨åé¨ä½¿ç¨ï¼ç¨äºä¿å­åççç¸å³ä¿¡æ¯ã\n\n\n# æ°æ®åºå é¤\n\ndb.dropdatabase()  #å é¤å½åä½¿ç¨çåº\n\n\n1\n\n\n\n# éå\n\néå,ç±»ä¼¼äºå³ç³»åæ°æ®ä¸­çè¡¨\n\n\n# æ¾å¼åå»º\n\n#db.createcollection(éåå)\ndb.createcollection("my")  #æåè¿å1\n\n\n1\n2\n\n\n\n# éå¼åå»º\n\nå½åä¸ä¸ªéåä¸­æå¥ææ¡£æ¶ å¦æéåä¸å­å¨ åèªå¨åå»ºéå\n\néå¸¸æä»¬ä½¿ç¨éå¼åå»ºææ¡£å³å¯\n\n\n# æ¥è¯¢éå\n\nshow collections #æ¥è¯¢å½ååºçææéå\n\n\n1\n\n\n\n# éåå é¤\n\n#db.éåå.drop()\ndb.my.drop()  #æååè¿åtrue\n\n\n1\n2\n\n\n\n# ææ¡£crud\n\nææ¡£çæ°æ®ç»æåjsonåºæ¬ä¸æ ·\n\nç´¢å¼å­å¨å¨éåä¸­æ°æ®é½æ¯ bson æ ¼å¼\n\n\n# æå¥\n\néè¿insert() æè save() æ¹æ³åéåä¸­æå¥ææ¡£\n\n# åé®æå¥\n\n#åææ¡£æå¥\ndb.collection.insert(\n <document or array of documents>,\n {\n  writeconcern: <document>,\n  ordered: <boolean>\n }\n)\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n\n\n\n\n#db.éåå.inset({""})\n#åææ¡£æå¥\ndb.comment.insert({"articleid":"100000","content":"ä»å¤©å¤©æ°çå¥½ï¼é³åæåª","userid":"1001","nickname":"rose","createdatetime":new date(),"likenum":numberint(10),"state":null})  #è¿å1åæå¥æå\n\n\n1\n2\n3\n\n\n# æ¹éæå¥\n\n#æ¹éæå¥\ndb.collection.insertmany(\n [ <document 1> , <document 2>, ... ],\n {\n   writeconcern: <document>,\n   ordered: <boolean>\n }\n)\n\n#db.éåå.insertmany([{""},{""}])\ndb.comment.insertmany([{"_id":"1","articleid":"100001","content":"æä»¬ä¸åºè¯¥ææ¸æ¨æµªè´¹å¨ææºä¸ï¼å¥åº·å¾éè¦ï¼ä¸æ¯æ¸©æ°´å¹¸ç¦ä½ æä»ã","userid":"1002","nickname":"ç¸å¿äºæ±æ¹","createdatetime":new date("2019-08-05t22:08:15.522z"),"likenum":numberint(1000),"state":"1"},{"_id":"2","articleid":"100001","content":"æå¤å¤©ç©ºè¹ååå¼æ°´ï¼å¬å¤©åæ¸©å¼æ°´","userid":"1005","nickname":"ä¼äººææ´","createdatetime":new date("2019-08-05t23:58:51.485z"),"likenum":numberint(888),"state":"1"},{"_id":"3","articleid":"100001","content":"æä¸ç´ååå¼æ°´ï¼å¬å¤©å¤å¤©é½åã","userid":"1004","nickname":"æ°åè¹é¿","createdatetime":new date("2019-08-06t01:05:06.321z"),"likenum":numberint(666),"state":"1"},{"_id":"4","articleid":"100001","content":"ä¸å®¶è¯´ä¸è½ç©ºè¹åé¥­ï¼å½±åå¥åº·ã","userid":"1003","nickname":"å¯æ","createdatetime":new date("2019-08-06t08:18:35.288z"),"likenum":numberint(2000),"state":"1"},{"_id":"5","articleid":"100001","content":"ç ç©¶è¡¨æï¼åç§å¼çæ°´åä¸ä¸è½åï¼å ä¸ºç«å´ã","userid":"1003","nickname":"å¯æ","createdatetime":new date("2019-08-06t11:01:02.521z"),"likenum":numberint(3000),"state":"1"}]);  \n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n\n\n# try catch\n\næä»¬éè¿æ¹éæå¥æ¶ç±äºæ°æ®è¾å¤å¯è½ä¼åºç°å¤±è´¥ æä»¬å¯ä»¥éè¿try catchè¿è¡å¼å¸¸å¤ç\n\ntry {\n  db.comment.insertmany([\n    {\n      _id: \'1\',\n      articleid: \'100001\',\n      content: \'æä»¬ä¸åºè¯¥ææ¸æ¨æµªè´¹å¨ææºä¸ï¼å¥åº·å¾éè¦ï¼ä¸æ¯æ¸©æ°´å¹¸ç¦ä½ æä»ã\',\n      userid: \'1002\',\n      nickname: \'ç¸å¿äºæ±æ¹\',\n      createdatetime: new date(\'2019-08-05t22:08:15.522z\'),\n      likenum: numberint(1000),\n      state: \'1\',\n    },\n    {\n      _id: \'2\',\n      articleid: \'100001\',\n      content: \'æå¤å¤©ç©ºè¹ååå¼æ°´ï¼å¬å¤©åæ¸©å¼æ°´\',\n      userid: \'1005\',\n      nickname: \'ä¼äººææ´\',\n      createdatetime: new date(\'2019-08-05t23:58:51.485z\'),\n      likenum: numberint(888),\n      state: \'1\',\n    },\n    {\n      _id: \'3\',\n      articleid: \'100001\',\n      content: \'æä¸ç´ååå¼æ°´ï¼å¬å¤©å¤å¤©é½åã\',\n      userid: \'1004\',\n      nickname: \'æ°åè¹é¿\',\n      createdatetime: new date(\'2019-08-06t01:05:06.321z\'),\n      likenum: numberint(666),\n      state: \'1\',\n    },\n    {\n      _id: \'4\',\n      articleid: \'100001\',\n      content: \'ä¸å®¶è¯´ä¸è½ç©ºè¹åé¥­ï¼å½±åå¥åº·ã\',\n      userid: \'1003\',\n      nickname: \'å¯æ\',\n      createdatetime: new date(\'2019-08-06t08:18:35.288z\'),\n      likenum: numberint(2000),\n      state: \'1\',\n    },\n    {\n      _id: \'5\',\n      articleid: \'100001\',\n      content: \'ç ç©¶è¡¨æï¼åç§å¼çæ°´åä¸ä¸è½åï¼å ä¸ºç«å´ã\',\n      userid: \'1003\',\n      nickname: \'å¯æ\',\n      createdatetime: new date(\'2019-08-06t11:01:02.521z\'),\n      likenum: numberint(3000),\n      state: \'1\',\n    },\n  ])\n} catch (e) {\n  print(e)\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n26\n27\n28\n29\n30\n31\n32\n33\n34\n35\n36\n37\n38\n39\n40\n41\n42\n43\n44\n45\n46\n47\n48\n49\n50\n51\n52\n53\n54\n55\n56\n\n\n\n# æ¥è¯¢\n\næ¥è¯¢å½åæ°æ®åºä¸­çææ¡£\n\n# æ¥è¯¢ææææ¡£\n\n#db.collection.find(<query>, [projection])\ndb.comment.find()\n\n\n1\n2\n\n\n\n\n# æ¡ä»¶æ¥è¯¢\n\næ¥è¯¢ææ¡£ä¸­åå«æ­¤ææ¡£åå®¹çææææ¡£\n\n#db.collection.find({é®:"åå®¹"})\ndb.comment.find({articleid:"100001"})\n\n\n1\n2\n\n\n# åªè¿åç¬¬ä¸ä¸ªç»æ\n\n#db.collection.findone({é®:"åå®¹"})\ndb.comment.findone({articleid:"100001"})\n\n\n1\n2\n\n\n# æå½±æ¥è¯¢\n\næ¥è¯¢åºæ¥çææ¡£ åªæ¾ç¤ºéè¦çé®å¼å¯¹ ç¸å¯¹åºsqlä¸­çæ¥è¯¢ç»æåªæ¾ç¤ºæå®å\n\nfindä¼ åæ¶ç»åºæå®çé®å­æ®µ 1ä¸ºæ¥è¯¢æ­¤é® 0ä¸ºè¿æ»¤æ­¤é® é»è®¤èªå¨åå«æ¥è¯¢_idé®\n\n#db.collection.find({é®:"åå®¹"},{é®:1,é®:0})  \ndb.comment.find({articleid:"100001"},{content:1})  #æ¥è¯¢åå«100001ææ¡£ä¸­ç contenté®åå®¹\ndb.comment.find({articleid:"100001"},{content:1,_id:0}) #é»è®¤æ¥è¯¢åå«_id å¯ä»¥éè¿0è¿æ»¤\n\n\n\n1\n2\n3\n4\n\n\n\n# æ´æ°\n\n//è¯­æ³\ndb.collection.update(query, update, options)\n//æ\ndb.collection.update(\n\t<query>,\n\t<update>,\n\t{\n\t\tupsert: <boolean>,\n\t\tmulti: <boolean>,\n\t\twriteconcern: <document>,\n\t\tcollation: <document>,\n\t\tarrayfilters: [ <filterdocument1>, ... ],\n\t\thint: \t<document|string> \t\t\t\t// available starting in mongodb 4.2\n\t}\n)\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n\n\n\n\n# è¦çä¿®æ¹\n\nä¿®æ¹æå®ææ¡£ å¹¶è¦çæ´æ°æ´ä¸ªææ¡£ å³ä¿®æ¹ä¸ºå½åè¯­å¥ä¸­çå­æ®µ ååå­æ®µä¸ä¿ç\n\ndb.comment.update({_id:"1"},{likenum:numberint(1001)})  #å¯ä»¥çè§£ä¸ºå é¤åææ¡£å¹¶æå¥æ­¤ææ¡£\n\n\n1\n\n\n# å±é¨ä¿®æ¹\n\næä»¬å¯ä»¥éè¿ä¿®æ¹å¨$setæ¥ä¿®æ¹æå®é®çåå®¹ å¹¶ä¿çåææ¡£å¶ä»åå®¹\n\n#é»è®¤åªä¿®æ¹ç¬¦åæ¡ä»¶çç¬¬ä¸æ¡æ°æ®\ndb.comment.update({_id:"2"},{$set:{likenum:numberint(778)}})\n#ä¿®æ¹ææç¬¦åæ¡ä»¶çæ°æ®éè¦å ä¸åæ°{multi:true}\ndb.comment.update({userid:"1003"},{$set:{nickname:"å¼ ä¸"}},{multi:true})\n\n\n1\n2\n3\n4\n\n\n# åå¼å¢é¿ä¿®æ¹\n\néè¿$incè¿ç®ç¬¦å®ç° å¯ä»¥å¯¹è¯¥é®çå¼è¿è¡éå¢ éå\n\ndb.comment.update({_id:"2"},{$inc:{likenum:numberint(1)}})\n\n\n1\n\n\n\n# å é¤\n\n# æ¡ä»¶å é¤\n\nå é¤ç¬¦åæ¡ä»¶çææ¡£\n\n#db.éå.remove({æ¡ä»¶})\ndb.comment.remove({_id:"1"})  #è¿åå¼ä¸ºå é¤å¤å°æ¡æ°æ®\n\n\n1\n2\n\n\n# å é¤å¨é¨\n\ndb.comment.remove({})\n\n\n1\n\n\n\n# ææ¡£çåé¡µæ¥è¯¢\n\n\n# ç»è®¡æ¥è¯¢\n\nä½¿ç¨count()æ¹æ³\n\ndb.collection.count(query, options)\n\n\n1\n\n\n\n\n# ç»è®¡å½åéåææææ¡£æ°\n\ndb.comment.count()  #è¿åå¼æ¯ææ¡£æ°\n\n\n1\n\n\n# ææ¡ä»¶æ¥è¯¢\n\ndb.comment.count({userid:"1003"}) \n\n\n1\n\n\n\n# åé¡µåè¡¨æ¥è¯¢\n\néè¿limit()æ¹æ³ è¯»åæå®æ°éçæ°æ® ä½¿ç¨skip()æ¹æ³è·³è¿æå®æ°éçæ°æ®\n\n#db.collection.find().limit(number).skip(number)\ndb.comment.find().limit(3)  #æ¥è¯¢å3æ¡çæ°æ®\ndb.comment.find().skip(3) #è·³è¿å3æ¡çæ°æ®\n\ndb.comment.find().skip(0).limit(2)  #ç¬¬ä¸é¡µ\ndb.comment.find().skip(2).limit(2)  #ç¬¬äºé¡µ\n\n\n1\n2\n3\n4\n5\n6\n\n\n\n# æåºæ¥è¯¢\n\nsort()æ¹æ³å¯¹æ°æ®è¿è¡æåº ä½¿ç¨1å-1æ¥æå®ååºåéåº sort({é®:1}) é»è®¤ä»¥idè¿è¡ååº\n\ndb.comment.find().sort({userid:-1,likenum:1}) #å¯¹useridçåå®¹è¿è¡éåº åå¯¹likenumçåå®¹è¿è¡ååº\n\n\n1\n\n\n\n# åé¡µåæåºæ¥è¯¢çé¡ºåº\n\nskip(), limilt(), sort()ä¸ä¸ªæ¾å¨ä¸èµ·æ§è¡çæ¶åï¼æ§è¡çé¡ºåºæ¯å sort(), ç¶åæ¯ skip()ï¼æåæ¯æ¾ç¤ºç limit()ï¼åå½ä»¤ç¼åé¡ºåºæ å³ã\n\n\n# é«çº§æ¥è¯¢\n\n\n# æ­£åæ¡ä»¶æ¥è¯¢\n\n#db.éå.find({é®:/æ­£åè¡¨è¾¾å¼/})\ndb.comment.find({content:/^ä¸å®¶/})\n\n\n1\n2\n\n\n\n# æ¯è¾æ¥è¯¢\n\ndb.éååç§°.find({ "field" : { $gt: value }}) # å¤§äº: field > value\ndb.éååç§°.find({ "field" : { $lt: value }}) # å°äº: field < value\ndb.éååç§°.find({ "field" : { $gte: value }}) # å¤§äºç­äº: field >= value\ndb.éååç§°.find({ "field" : { $lte: value }}) # å°äºç­äº: field <= value\ndb.éååç§°.find({ "field" : { $ne: value }}) # ä¸ç­äº: field != value\n\n#ä¾å­\ndb.comment.find({likenum:{$gt:numberint(700)}})\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n\n\n\n# åå«æ¥è¯¢\n\nä½¿ç¨$in æ¥è¯¢åå«æå®åå®¹çææ¡£\n\ndb.comment.find({userid:{$in:["1003","1004"]})\n\n\n1\n\n\n\n# ä¸åå«æ¥è¯¢\n\nä½¿ç¨$nin æ¥è¯¢ä¸åå«æå®åå®¹çææ¡£\n\ndb.comment.find({userid:{$nin:["1003","1004"]})\n\n\n1\n\n\n\n# æ¡ä»¶è¿æ¥æ¥è¯¢\n\nåé¢æä»¬éè¿$setæ¥è¯¢åæ¡ä»¶çææ¡£ å¦æä¸ºå¤æ¡ä»¶åéè¦ä½¿ç¨ $andè¿è¡æ¥è¯¢\n\ndb.comment.find({$and:[{likenum:{$gte:numberint(700)}},{likenum:{$lt:numberint(2000)}}]})   # æ¥è¯¢likenum å¤§äºç­äº700 å¹¶ä¸å°äº2000çææ¡£\n\n\n\n1\n2\n\n\n# æèè¿æ¥\n\nä½¿ç¨$orè¿è¡æ¥è¯¢\n\ndb.comment.find({$or:[{likenum:{$gte:numberint(700)}},{likenum:{$lt:numberint(2000)}}]})   # æ¥è¯¢likenum å¤§äºç­äº700 å¹¶ä¸å°äº2000çææ¡£\n\n\n1\n\n\n\n# ç´¢å¼\n\nmongodbæ²¡æä¸ç´¢å¼ä¸ æ¯è¿è¡å¨éåæ«æ å¦ææ°æ®éè¾å¤§æ¶æ¥è¯¢æçéå¸¸ä½\n\nmongodbç´¢å¼ä½¿ç¨bæ æ°æ®ç»æ(b-tree,mysqlæ¯b+tree)\n\n\n# åå­æ®µç´¢å¼\n\nmongodbæ¯æå¨ææ¡£çåä¸ªå­æ®µä¸åå»ºç¨æ·å®ä¹çååº/éåºç´¢å¼ ç§°ä¸ºåå­æ®µç´¢å¼\n\nå¯¹äºåä¸ªå­æ®µç´¢å¼åæåºæä½ï¼ç´¢å¼é®çæåºé¡ºåºï¼å³ååºæéåºï¼å¹¶ä¸éè¦ï¼å ä¸ºmongodbå¯ä»¥å¨ä»»ä½æ¹åä¸éåç´¢å¼ã\n\n\n\n\n# å¤åç´¢å¼\n\nå¤åç´¢å¼ä¸­ååºçå­æ®µé¡ºåºå·æéè¦æä¹ãä¾å¦ï¼å¦æå¤åç´¢å¼ç± { userid: 1, score: -1 } ç»æï¼åç´¢å¼é¦åæuseridæ­£åºæåºï¼ç¶å å¨æ¯ä¸ªuseridçå¼åï¼åå¨æscoreååºæåºã\n\n\n\n\n# å¶ä»ç´¢å¼\n\n * å°çç©ºé´ç´¢å¼ï¼geospatial indexï¼ ä¸ºäºæ¯æå¯¹å°çç©ºé´åæ æ°æ®çæææ¥è¯¢ï¼mongodbæä¾äºä¸¤ç§ç¹æ®çç´¢å¼ï¼è¿åç»ææ¶ä½¿ç¨å¹³é¢å ä½çäºç»´ç´¢å¼åè¿åç»ææ¶ä½¿ç¨çé¢ å ä½çäºç»´çé¢ç´¢å¼ã\n\n * ææ¬ç´¢å¼ï¼text indexesï¼ mongodbæä¾äºä¸ç§ææ¬ç´¢å¼ç±»åï¼æ¯æå¨éåä¸­æç´¢å­ç¬¦ä¸²åå®¹ãè¿äºææ¬ç´¢å¼ä¸å­å¨ç¹å®äºè¯­è¨çåæ­¢è¯ï¼ä¾å¦âtheâãâaâãâorâï¼ï¼ èå°éåä¸­çè¯ä½ä¸ºè¯å¹²ï¼åªå­å¨æ ¹è¯ã\n\n * åå¸ç´¢å¼ï¼hashed indexesï¼ ä¸ºäºæ¯æåºäºæ£åçåçï¼mongodbæä¾äºæ£åç´¢å¼ç±»åï¼å®å¯¹å­æ®µå¼çæ£åè¿è¡ç´¢å¼ãè¿äºç´¢å¼å¨å¶èå´åçå¼åå¸æ´å éæºï¼ä½åªæ¯ æç¸ç­å¹éï¼ä¸æ¯æåºäºèå´çæ¥è¯¢ã\n\n\n# ç´¢å¼ç®¡ç\n\n# æ¥çç´¢å¼\n\nè¿åä¸ä¸ªéåä¸­çææç´¢å¼çæ°ç» _idä¸»é®èªå¸¦ç´¢å¼ä¸ºååº\n\ndb.comment.getindexes()\n\n\n1\n\n\n# åå»ºç´¢å¼\n\n\n\n#db.collection.createindex(keys, options)\ndb.comment.createindex({userid:1})  # ç»useridåå»ºç´¢å¼ ä¸ºååº ç´¢å¼åé»è®¤ä¸ºé®ååå ä¸_(1æè-1)\ndb.comment.createindex({userid:1,nickname:-1}) #å¤åç´¢å¼\n\n\n1\n2\n3\n\n\n# å é¤ç´¢å¼\n\nå¦æè¦å é¤ææ¬ç´¢å¼åªè½éè¿ç´¢å¼åå é¤\n\n_idç´¢å¼æ æ³å é¤\n\n#db.collection.dropindex(ç´¢å¼å)\ndb.comment.dropindex()  #å é¤ææç´¢å¼\ndb.comment.dropindex("userid_1_nickname_-1") #å é¤æå®ç´¢å¼\ndb.comment.dropindex({userid:1})  #æ ¹æ®åå»ºç´¢å¼æ¡ä»¶å é¤ç´¢å¼\n\n\n1\n2\n3\n4\n\n\n\n# ç´¢å¼çä½¿ç¨\n\nåææ¥è¯¢æ§è½ï¼analyze query performanceï¼éå¸¸ä½¿ç¨æ§è¡è®¡åï¼è§£éè®¡åãexplain planï¼æ¥æ¥çæ¥è¯¢çæåµï¼å¦æ¥è¯¢èè´¹çæ¶é´ãæ¯å¦åºäºç´¢å¼æ¥è¯¢ç­ã é£ä¹ï¼éå¸¸ï¼æä»¬æ³ç¥éï¼å»ºç«çç´¢å¼æ¯å¦ææï¼ææå¦ä½ï¼é½éè¦éè¿æ§è¡è®¡åæ¥çã\n\n#db.collection.find(query,options).explain(options)\ndb.comment.find({uderid:"1003"}).explain()\n\n\n1\n2\n\n\nå³é®ç¹çï¼ "stage" : "collscan", è¡¨ç¤ºå¨éåæ«æ\n\n"stage" : "ixscan" ,åºäºç´¢å¼çæ«æ\n\n\n# æ¶µçæ¥è¯¢\n\ncovered queries å½æ¥è¯¢æ¡ä»¶åæ¥è¯¢çæå½±ä»åå«ç´¢å¼å­æ®µæ¶ï¼mongodbç´æ¥ä»ç´¢å¼è¿åç»æï¼èä¸æ«æä»»ä½ææ¡£æå°ææ¡£å¸¦å¥åå­ã è¿äºè¦ççæ¥è¯¢å¯ä»¥éå¸¸ææã å¶å®å°±æ¯æ¥è¯¢ç¬¦åæ¥è¯¢æ¡ä»¶ ç´¢å¼å­æ®µçå¼\n\n\n\n\n# javaè¿æ¥mongodb\n\n 1. mongodb-driver æ¯mongoå®æ¹æ¨åºçjavaè¿æ¥mongodbçé©±å¨åï¼ç¸å½äºjdbcé©±å¨ãæä»¬éè¿ä¸ä¸ªå¥é¨çæ¡ä¾æ¥äºè§£mongodb-driver çåºæ¬ä½¿ç¨ã å®æ¹é©±å¨è¯´æåä¸è½½ï¼ http://mongodb.github.io/mongo-java-driver/ å®æ¹é©±å¨ç¤ºä¾ææ¡£ï¼http://mongodb.github.io/mongo-java-driver/3.8/driver/getting-started/quick-start/\n 2. springdatamongodb springdataå®¶ææåä¹ä¸ï¼ç¨äºæä½mongodbçæä¹å±æ¡æ¶ï¼å°è£äºåºå±çmongodb-driverã å®ç½ä¸»é¡µï¼ https://projects.spring.io/spring-data-mongodb/\n\n\n# è¯è®ºæ¡ä¾\n\n\n# æ¨¡åæ­å»º\n\n 1. ç»§æ¿spring-booté¡¹ç® å¯¼å¥springdatamongodbåæ \n\n <parent>\n        <groupid>org.springframework.boot</groupid>\n        <artifactid>spring-boot-starter-parent</artifactid>\n        <version>2.1.6.release</version>\n        <relativepath/> \x3c!-- lookup parent from repository --\x3e\n    </parent>\n\n    <dependencies>\n        <dependency>\n            <groupid>org.springframework.boot</groupid>\n            <artifactid>spring-boot-starter-test</artifactid>\n            <scope>test</scope>\n        </dependency>\n        <dependency>\n            <groupid>org.springframework.boot</groupid>\n            <artifactid>spring-boot-starter-data-mongodb</artifactid>\n        </dependency>\n    </dependencies>\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n\n\n 2. åå»ºapplication.yml\n    \n    spring:\n      data:\n        mongodb:\n          host: 192.168.130.212  # ä¸»æºå°å\n          database: articledb  # æ°æ®åº\n          port: 27017 # é»è®¤ç«¯å£æ¯27017\n          #ä¹å¯ä»¥ä½¿ç¨uriè¿æ¥\n          #uri: mongodb://192.168.40.134:27017/articledb\n    \n    \n    1\n    2\n    3\n    4\n    5\n    6\n    7\n    8\n    \n    \n    \n\n\n# å®ä½ç±»\n\npackage com.itcatst.article.po;\n\nimport org.springframework.data.annotation.id;\nimport org.springframework.data.mongodb.core.index.compoundindex;\nimport org.springframework.data.mongodb.core.index.indexed;\nimport org.springframework.data.mongodb.core.mapping.document;\nimport org.springframework.data.mongodb.core.mapping.field;\n\nimport java.io.serializable;\nimport java.time.localdatetime;\nimport java.util.date;\n\n/**\n * æç« è¯è®ºå®ä½ç±»\n */\n//æä¸ä¸ªjavaç±»å£°æä¸ºmongodbçææ¡£ï¼å¯ä»¥éè¿collectionåæ°æå®è¿ä¸ªç±»å¯¹åºçææ¡£ã\n//@document(collection="mongodb å¯¹åº collection å")\n// è¥æªå  @document ï¼è¯¥ bean save å° mongo ç comment collection\n// è¥æ·»å  @document ï¼å save å° comment collection\n@document(collection = "comment")//å¯ä»¥çç¥ï¼å¦æçç¥ï¼åé»è®¤ä½¿ç¨ç±»åå°åæ å°éå ä¼æ å°å°ä¸ç±»åä¸è´çéåå½ä¸­\n//å¤åç´¢å¼\n// @compoundindex( def = "{\'userid\': 1, \'nickname\': -1}")\npublic class comment implements serializable {\n    //ä¸»é®æ è¯ï¼è¯¥å±æ§çå¼ä¼èªå¨å¯¹åºmongodbçä¸»é®å­æ®µ"_id"ï¼å¦æè¯¥å±æ§åå°±å«âidâ,åè¯¥æ³¨è§£å¯ä»¥çç¥ï¼å¦åå¿é¡»å\n    @id\n    private string id;//ä¸»é®\n    //è¯¥å±æ§å¯¹åºmongodbçå­æ®µçåå­ï¼å¦æä¸è´ï¼åæ éè¯¥æ³¨è§£\n    @field("content")\n    private string content;//åæ§½åå®¹\n    private date publishtime;//åå¸æ¥æ\n    //æ·»å äºä¸ä¸ªåå­æ®µçç´¢å¼\n    @indexed\n    private string userid;//åå¸äººid\n    private string nickname;//æµç§°\n    private localdatetime createdatetime;//è¯è®ºçæ¥ææ¶é´\n    private integer likenum;//ç¹èµæ°\n    private integer replynum;//åå¤æ°\n    private string state;//ç¶æ\n    private string parentid;//ä¸çº§id\n    private string articleid;\n\n    //getter and setter.....\n    public string getid() {\n        return id;\n    }\n\n    public void setid(string id) {\n        this.id = id;\n    }\n\n    public string getcontent() {\n        return content;\n    }\n\n    public void setcontent(string content) {\n        this.content = content;\n    }\n\n    public date getpublishtime() {\n        return publishtime;\n    }\n\n    public void setpublishtime(date publishtime) {\n        this.publishtime = publishtime;\n    }\n\n    public string getuserid() {\n        return userid;\n    }\n\n    public void setuserid(string userid) {\n        this.userid = userid;\n    }\n\n    public string getnickname() {\n        return nickname;\n    }\n\n    public void setnickname(string nickname) {\n        this.nickname = nickname;\n    }\n\n    public localdatetime getcreatedatetime() {\n        return createdatetime;\n    }\n\n    public void setcreatedatetime(localdatetime createdatetime) {\n        this.createdatetime = createdatetime;\n    }\n\n    public integer getlikenum() {\n        return likenum;\n    }\n\n    public void setlikenum(integer likenum) {\n        this.likenum = likenum;\n    }\n\n    public integer getreplynum() {\n        return replynum;\n    }\n\n    public void setreplynum(integer replynum) {\n        this.replynum = replynum;\n    }\n\n    public string getstate() {\n        return state;\n    }\n\n    public void setstate(string state) {\n        this.state = state;\n    }\n\n    public string getparentid() {\n        return parentid;\n    }\n\n    public void setparentid(string parentid) {\n        this.parentid = parentid;\n    }\n\n    public string getarticleid() {\n        return articleid;\n    }\n\n    public void setarticleid(string articleid) {\n        this.articleid = articleid;\n    }\n\n    @override\n    public string tostring() {\n        return "comment{" +\n                "id=\'" + id + \'\\\'\' +\n                ", content=\'" + content + \'\\\'\' +\n                ", publishtime=" + publishtime +\n                ", userid=\'" + userid + \'\\\'\' +\n                ", nickname=\'" + nickname + \'\\\'\' +\n                ", createdatetime=" + createdatetime +\n                ", likenum=" + likenum +\n                ", replynum=" + replynum +\n                ", state=\'" + state + \'\\\'\' +\n                ", parentid=\'" + parentid + \'\\\'\' +\n                ", articleid=\'" + articleid + \'\\\'\' +\n                \'}\';\n    }\n}\n\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n26\n27\n28\n29\n30\n31\n32\n33\n34\n35\n36\n37\n38\n39\n40\n41\n42\n43\n44\n45\n46\n47\n48\n49\n50\n51\n52\n53\n54\n55\n56\n57\n58\n59\n60\n61\n62\n63\n64\n65\n66\n67\n68\n69\n70\n71\n72\n73\n74\n75\n76\n77\n78\n79\n80\n81\n82\n83\n84\n85\n86\n87\n88\n89\n90\n91\n92\n93\n94\n95\n96\n97\n98\n99\n100\n101\n102\n103\n104\n105\n106\n107\n108\n109\n110\n111\n112\n113\n114\n115\n116\n117\n118\n119\n120\n121\n122\n123\n124\n125\n126\n127\n128\n129\n130\n131\n132\n133\n134\n135\n136\n137\n138\n139\n140\n141\n142\n143\n144\n145\n146\n147\n148\n\n * @document(collection = "comment") å£°æä¸ºmongodbææ¡£ å¹¶ä¸æ å°å°commentéåä¸­ å¦æå½åå®ä½ç±»åä¸éåä¸è´åcollectionå¯ä»¥å¿½ç¥(å¹¶ä¸åªè½æ¯å°ååç§°çå®ä½ç±»)\n * @compoundindex( def = "{\'userid\': 1, \'nickname\': -1}") å¤åç´¢å¼ defå±æ§ä¸è®¾ç½®å¤æ´»ç´¢å¼æ¡ä»¶ä¸è´ ä¸ºé®åæåºæ¹å¼\n * @id å£°ææ­¤å±æ§ä¸ºä¸»é® å¦æå±æ§åä¸ºidåè¯¥æ³¨è§£å¯ä»¥çç¥ä¸å \n * @field("content") å½æåå±æ§åç§°ä¸éåä¸­çé®å­æ®µä¸ä¸è´æ¶ å¯ä»¥ä½¿ç¨è¯¥æ³¨è§£æ å°ä¸ºéåä¸­æå®çé®å­æ®µ æ­¤æ¶æ å°ä¸ºcontenté®å­æ®µ\n * @indexed æ·»å ä¸ºåå­æ®µç´¢å¼\n\n\n# å¢å æ¹æ¥æ¹æ³\n\n 1. åå»ºdaoå±æ¥å£ å¹¶ç»§æ¿mongorepository æ³åä¸º å®ä½ç±» å idçç±»å\n    \n    package com.itcatst.article.dao;\n    \n    import com.itcatst.article.po.comment;\n    import org.springframework.data.mongodb.repository.mongorepository;\n    \n    public interface commentrepository extends mongorepository<comment,string> {\n    }\n    \n    \n    \n    1\n    2\n    3\n    4\n    5\n    6\n    7\n    8\n    \n\n 2. åå»ºserviceå± æ³¨å¥daoå± å¹¶è°ç¨å¨æä»£çéçæ¹æ³\n    \n    package com.itcatst.article.service;\n    \n    import com.itcatst.article.dao.commentrepository;\n    import com.itcatst.article.po.comment;\n    import org.springframework.beans.factory.annotation.autowired;\n    import org.springframework.stereotype.service;\n    \n    import java.util.list;\n    \n    @service\n    public class commentservice {\n    \n        @autowired\n        private commentrepository commentrepository;\n    \n        /**\n         * ä¿å­ä¸ä¸ªè¯è®º\n         *\n         * @param comment\n         */\n        public void savecomment(comment comment) {\n            //å¦æéè¦èªå®ä¹ä¸»é®ï¼å¯ä»¥å¨è¿éæå®ä¸»é®ï¼å¦æä¸æå®ä¸»é®ï¼mongodbä¼èªå¨çæä¸»é®\n            //è®¾ç½®ä¸äºé»è®¤åå§å¼ããã\n            //è°ç¨dao\n            commentrepository.save(comment);\n        }\n    \n        /**\n         * æ´æ°è¯è®º\n         *\n         * @param comment\n         */\n        public void updatecomment(comment comment) {\n            //è°ç¨dao\n            commentrepository.save(comment);\n        }\n    \n        /**\n         * æ ¹æ®idå é¤è¯è®º\n         *\n         * @param id\n         */\n        public void deletecommentbyid(string id) {\n            //è°ç¨dao\n            commentrepository.deletebyid(id);\n        }\n    \n        /**\n         * æ¥è¯¢ææè¯è®º\n         *\n         * @return\n         */\n        public list<comment> findcommentlist() {\n            //è°ç¨dao\n            return commentrepository.findall();\n        }\n    \n        /**\n         * æ ¹æ®idæ¥è¯¢è¯è®º\n         *\n         * @param id\n         * @return\n         */\n        public comment findcommentbyid(string id) {\n            //è°ç¨dao\n            return commentrepository.findbyid(id).get();\n        }\n    }\n    \n    \n    1\n    2\n    3\n    4\n    5\n    6\n    7\n    8\n    9\n    10\n    11\n    12\n    13\n    14\n    15\n    16\n    17\n    18\n    19\n    20\n    21\n    22\n    23\n    24\n    25\n    26\n    27\n    28\n    29\n    30\n    31\n    32\n    33\n    34\n    35\n    36\n    37\n    38\n    39\n    40\n    41\n    42\n    43\n    44\n    45\n    46\n    47\n    48\n    49\n    50\n    51\n    52\n    53\n    54\n    55\n    56\n    57\n    58\n    59\n    60\n    61\n    62\n    63\n    64\n    65\n    66\n    67\n    68\n    \n\n\n# åå»ºæµè¯æ¹æ³\n\n 1. æ°å»ºjunitæµè¯æ¹æ³ ç±»è·¯å¾è¦ä¸ä¸»ç¨åºä¸è´\n    \n    package com.itcatst.article.service;\n    \n    import com.itcatst.article.po.comment;\n    import com.itcatst.article.service.commentservice;\n    import org.junit.test;\n    import org.junit.runner.runwith;\n    import org.springframework.beans.factory.annotation.autowired;\n    import org.springframework.boot.test.context.springboottest;\n    import org.springframework.test.context.junit4.springrunner;\n    \n    import java.time.localdatetime;\n    import java.util.list;\n    \n    @runwith(springrunner.class)\n    @springboottest\n    public class commentservicetest {\n    \n        @autowired\n        private commentservice commentservice;\n    \n        @test\n        public void testfindcommentlist() {\n            list<comment> commentlist = commentservice.findcommentlist();\n            system.out.println(commentlist);\n        }\n    \n        @test\n        public void testfndcommentbyid() {\n            comment commentbyid = commentservice.findcommentbyid("1");\n            system.out.println(commentbyid);\n        }\n    \n        /**\n         * ä¿å­ä¸ä¸ªè¯è®º\n         */\n        @test\n        public void testsavecomment() {\n            comment comment = new comment();\n            //æ­¤å¤æ²¡ææå®id ä½mongodbé»è®¤èªå¨çæ æä»¬æ¨èèªå¨çæ ä¸æ¨èèªå·±ä¹¦åid\n            comment.setarticleid("100000");\n            comment.setcontent("æµè¯æ·»å çæ°æ®");\n            comment.setcreatedatetime(localdatetime.now());\n            comment.setuserid("1003");\n            comment.setnickname("å¯æå¤§å¸");\n            comment.setstate("1");\n            comment.setlikenum(0);\n            comment.setreplynum(0);\n    \n            commentservice.savecomment(comment);\n        }\n    \n    }\n    \n    \n    1\n    2\n    3\n    4\n    5\n    6\n    7\n    8\n    9\n    10\n    11\n    12\n    13\n    14\n    15\n    16\n    17\n    18\n    19\n    20\n    21\n    22\n    23\n    24\n    25\n    26\n    27\n    28\n    29\n    30\n    31\n    32\n    33\n    34\n    35\n    36\n    37\n    38\n    39\n    40\n    41\n    42\n    43\n    44\n    45\n    46\n    47\n    48\n    49\n    50\n    51\n    52\n    \n\n\n# åé¡µæ¥è¯¢æµè¯\n\n 1. å¨daoå±æ¥å£åå»ºæ°çæ¹æ³ å¿é¡»è¦æå®å¯¹åºçå±æ§åä¸ºæ¹æ³åå¦åä¼æ¥é\n    \n    æ ¼å¼: page<å®ä½ç±»> findbyæ ¹æ®åªä¸ªå±æ§æ¥æ¥è¯¢(ä¼ éå±æ§ç±»å å±æ§å,pageable pageable);\n    \n    ////æ ¹æ®ç¶idï¼æ¥è¯¢å­è¯è®ºçåé¡µåè¡¨\n    page<comment> findbyparentid(string parentid, pageable pageable);\n    \n    \n    1\n    2\n    \n\n 2. å¨serviceå±è°ç¨daoå±çæ¹æ³\n    \n    /**\n         * åé¡µæ¥è¯¢\n         *\n         * @param parentid æ ¹æ®åªä¸ªå±æ§æ¥æ¥è¯¢\n         * @param page     é¡µç \n         * @param size     æ¯é¡µä¸ªæ°\n         * @return\n         */\n        public page<comment> findcommentlistbyparentid(string parentid, int page, int size) {\n            return commentrepository.findbyparentid(parentid, pagerequest.of(page-1, size));\n        }\n    \n    \n    1\n    2\n    3\n    4\n    5\n    6\n    7\n    8\n    9\n    10\n    11\n    \n\n 3. æµè¯ç¨ä¾\n    \n    @test\n    public void testfindcommentlistbyparentid(){\n        page<comment> page = commentservice.findcommentlistbyparentid("3", 1, 2);\n        system.out.println(page.gettotalelements());//è¿åæ»æ¡æ°\n        list<comment> content = page.getcontent();  //è¿åç»æçéå\n        system.out.println(content);\n    \n    }\n    \n    \n    1\n    2\n    3\n    4\n    5\n    6\n    7\n    8\n    \n\n\n# è¯è®ºç¹èµ\n\næç®åçæ¹æ³å°±æ¯æ ¹æ®idæ¥è¯¢å½åå¯¹åºçææ¡£ å¹¶å°ç¹èµæ°+1 ä½æ§è¡æçä¸é« å ä¸ºåªéè¦ä¿®æ¹ç¹èµæ° æ²¡æå¿è¦æææçå­æ®µé½æ¥è¯¢åºæ¥\n\næä»¬å¯ä»¥ä½¿ç¨ mongotemplate ç±»å®ç°å¯¹æåè¿è¡æä½\n\n 1. å¨serviceå±æ³¨å¥ mongotemplate å¹¶ç¼ä¿®æ¹æ¹æ³\n    \n       @autowired\n        private mongotemplate mongotemplate;\n    \n        /**\n         * ç¹èµæ°+1\n         *\n         * @param id\n         */\n        public void updatecommentlikenum(string id) {\n            //æ¥è¯¢æ¡ä»¶\n            //query query = query.query(criteria.where("_id").is(id)).addcriteria(criteria.where("nickname").is("å¯æå¤§å¸"));  //ä½¿ç¨criteria.when(é®å­æ®µ).is(æ¡ä»¶)  å¤æ­æ¡ä»¶ addcriteriaå¯ä»¥æ éæ©å±æ¡ä»¶\n            query query = query.query(criteria.where("_id").is(id));\n            //æ´æ°æ¡ä»¶\n            update update = new update();\n            update.inc("likenum",1); //å°likenumæ°+1  å¦åä¼ é®å­æ®µåèªå¨å 1\n    //        update.set()\n    \n            mongotemplate.updatefirst(query, update, comment.class);\n        }\n    \n    \n    1\n    2\n    3\n    4\n    5\n    6\n    7\n    8\n    9\n    10\n    11\n    12\n    13\n    14\n    15\n    16\n    17\n    18\n    19\n    \n\n\n# å¯æ¬é\n\nmongodbä¸­çå¯æ¬éï¼replica setï¼æ¯ä¸ç»ç»´æ¤ç¸åæ°æ®éçmongodæå¡ã å¯æ¬éå¯æä¾åä½åé« å¯ç¨æ§ï¼æ¯ææçäº§é¨ç½²çåºç¡ã\n\nä¸»ä»å¤å¶åå¯æ¬éåºå« ä¸»ä»éç¾¤åå¯æ¬éæå¤§çåºå«å°±æ¯å¯æ¬éæ²¡æåºå®çâä¸»èç¹âï¼æ´ä¸ªéç¾¤ä¼éåºä¸ä¸ªâä¸»èç¹âï¼å½å¶æ æåï¼åå¨å©ä¸çä»èç¹ä¸­éä¸­å¶ä»èç¹ä¸ºâä¸»èç¹âï¼å¯æ¬éæ»æä¸ä¸ªæ´»è·ç¹(ä¸»ãprimary)åä¸ä¸ªæå¤ ä¸ªå¤ä»½èç¹(ä»ãsecondary)ã\n\nå¯æ¬éæä¸¤ç§ç±»åä¸ç§è§è²:\n\nä¸¤ç§ç±»åï¼\n\n * ä¸»èç¹ï¼ primaryï¼ç±»åï¼æ°æ®æä½çä¸»è¦è¿æ¥ç¹ï¼å¯è¯»åã\n * æ¬¡è¦ï¼è¾å©ãä»ï¼èç¹ï¼ secondariesï¼ç±»åï¼æ°æ®åä½å¤ä»½èç¹ï¼å¯ä»¥è¯»æéä¸¾ã\n\nä¸ç§è§è²ï¼\n\n * ä¸»è¦æåï¼primaryï¼ï¼ä¸»è¦æ¥æ¶ææåæä½ãå°±æ¯ä¸»èç¹ã\n * å¯æ¬æåï¼replicateï¼ï¼ä»ä¸»èç¹éè¿å¤å¶æä½ä»¥ç»´æ¤ç¸åçæ°æ®éï¼å³å¤ä»½æ°æ®ï¼ä¸å¯åæä½ï¼ä½å¯ ä»¥è¯»æä½ï¼ä½éè¦éç½®ï¼ãæ¯é»è®¤çä¸ç§ä»èç¹ç±»åã\n * ä»²è£èï¼ arbiterï¼ï¼ä¸ä¿çä»»ä½æ°æ®çå¯æ¬ï¼åªå·ææç¥¨éä¸¾ä½ç¨ãå½ç¶ä¹å¯ä»¥å°ä»²è£æå¡å¨ç»´æ¤ä¸ºå¯ æ¬éçä¸é¨åï¼å³å¯æ¬æååæ¶ä¹å¯ä»¥æ¯ä»²è£èãä¹æ¯ä¸ç§ä»èç¹ç±»åã\n\n\n# å¯æ¬éåå»º\n\n# ä¸»èç¹\n\n#ä¸»èç¹\nmkdir -p /mongodb/replica_sets/myrs_27017/log \\ & #æ¥å¿æä»¶\nmkdir -p /mongodb/replica_sets/myrs_27017/data/db #æ°æ®æä»¶\n\nvim /mongodb/replica_sets/myrs_27017/mongod.conf\n\n\n1\n2\n3\n4\n5\n\n\nsystemlog:\n #mongodbåéæææ¥å¿è¾åºçç®æ æå®ä¸ºæä»¶\n destination: file\n #mongodæmongosåºåå¶åéææè¯æ­æ¥å¿è®°å½ä¿¡æ¯çæ¥å¿æä»¶çè·¯å¾\n path: "/mongodb/replica_sets/myrs_27017/log/mongod.log"\n #å½mongosæmongodå®ä¾éæ°å¯å¨æ¶ï¼mongosæmongodä¼å°æ°æ¡ç®éå å°ç°ææ¥å¿æä»¶çæ«å°¾ã\n logappend: true\nstorage:\n #mongodå®ä¾å­å¨å¶æ°æ®çç®å½ãstorage.dbpathè®¾ç½®ä»éç¨äºmongodã\n dbpath: "/mongodb/replica_sets/myrs_27017/data/db"\n journal:\n  #å¯ç¨æç¦ç¨æä¹æ§æ¥å¿ä»¥ç¡®ä¿æ°æ®æä»¶ä¿æææåå¯æ¢å¤ã\n  enabled: true\nprocessmanagement:\n #å¯ç¨å¨åå°è¿è¡mongosæmongodè¿ç¨çå®æ¤è¿ç¨æ¨¡å¼ã\n fork: true\n #æå®ç¨äºä¿å­mongosæmongodè¿ç¨çè¿ç¨idçæä»¶ä½ç½®ï¼å¶ä¸­mongosæmongodå°åå¥å¶pid\n pidfilepath: "/mongodb/replica_sets/myrs_27017/log/mongod.pid"\nnet:\n #æå¡å®ä¾ç»å®ææipï¼æå¯ä½ç¨ï¼å¯æ¬éåå§åçæ¶åï¼èç¹åå­ä¼èªå¨è®¾ç½®ä¸ºæ¬å°ååï¼èä¸æ¯ip\n #bindipall: true\n #æå¡å®ä¾ç»å®çip\n bindip: localhost,192.168.130.212\n #bindip\n #ç»å®çç«¯å£\n port: 27017\nreplication:\n #å¯æ¬éçåç§°  åä¸ä¸ªå¯æ¬éä¸­éç¾¤å¿é¡»ä¸è´\n replsetname: myrs\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n26\n27\n28\n29\n\n\nå¯å¨ä¸»èç¹\n\n/usr/local/mongodb/bin/mongod -f /mongodb/replica_sets/myrs_27017/mongod.conf\n\n\n1\n\n\n# ä»èç¹\n\n#å¯æ¬èç¹\nmkdir -p /mongodb/replica_sets/myrs_27018/log \\ &\nmkdir -p /mongodb/replica_sets/myrs_27018/data/db\nvim /mongodb/replica_sets/myrs_27018/mongod.conf\n\n\n1\n2\n3\n4\n\n\nsystemlog:\n #mongodbåéæææ¥å¿è¾åºçç®æ æå®ä¸ºæä»¶\n destination: file\n #mongodæmongosåºåå¶åéææè¯æ­æ¥å¿è®°å½ä¿¡æ¯çæ¥å¿æä»¶çè·¯å¾\n path: "/mongodb/replica_sets/myrs_27018/log/mongod.log"\n #å½mongosæmongodå®ä¾éæ°å¯å¨æ¶ï¼mongosæmongodä¼å°æ°æ¡ç®éå å°ç°ææ¥å¿æä»¶çæ«å°¾ã\n logappend: true\nstorage:\n #mongodå®ä¾å­å¨å¶æ°æ®çç®å½ãstorage.dbpathè®¾ç½®ä»éç¨äºmongodã\n dbpath: "/mongodb/replica_sets/myrs_27018/data/db"\n journal:\n   #å¯ç¨æç¦ç¨æä¹æ§æ¥å¿ä»¥ç¡®ä¿æ°æ®æä»¶ä¿æææåå¯æ¢å¤ã\n  enabled: true\nprocessmanagement:\n #å¯ç¨å¨åå°è¿è¡mongosæmongodè¿ç¨çå®æ¤è¿ç¨æ¨¡å¼ã\n fork: true\n #æå®ç¨äºä¿å­mongosæmongodè¿ç¨çè¿ç¨idçæä»¶ä½ç½®ï¼å¶ä¸­mongosæmongodå°åå¥å¶pid\n pidfilepath: "/mongodb/replica_sets/myrs_27018/log/mongod.pid"\nnet:\n #æå¡å®ä¾ç»å®ææipï¼æå¯ä½ç¨ï¼å¯æ¬éåå§åçæ¶åï¼èç¹åå­ä¼èªå¨è®¾ç½®ä¸ºæ¬å°ååï¼èä¸æ¯ip\n #bindipall: true\n #æå¡å®ä¾ç»å®çip\n bindip: localhost,192.168.130.212\n #bindip\n #ç»å®çç«¯å£\n port: 27018\nreplication:\n #å¯æ¬éçåç§°\n replsetname: myrs\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n26\n27\n28\n29\n\n\nå¯å¨èç¹\n\n/usr/local/mongodb/bin/mongod -f /mongodb/replica_sets/myrs_27018/mongod.conf\n\n\n1\n\n\n# ä»²è£èç¹\n\n#ä»²è£èç¹\nmkdir -p /mongodb/replica_sets/myrs_27019/log \\ &\nmkdir -p /mongodb/replica_sets/myrs_27019/data/db\nvim /mongodb/replica_sets/myrs_27019/mongod.conf\n\n\n1\n2\n3\n4\n\n\nsystemlog:\n #mongodbåéæææ¥å¿è¾åºçç®æ æå®ä¸ºæä»¶\n destination: file\n #mongodæmongosåºåå¶åéææè¯æ­æ¥å¿è®°å½ä¿¡æ¯çæ¥å¿æä»¶çè·¯å¾\n path: "/mongodb/replica_sets/myrs_27019/log/mongod.log"\n #å½mongosæmongodå®ä¾éæ°å¯å¨æ¶ï¼mongosæmongodä¼å°æ°æ¡ç®éå å°ç°ææ¥å¿æä»¶çæ«å°¾ã\n logappend: true\nstorage:\n #mongodå®ä¾å­å¨å¶æ°æ®çç®å½ãstorage.dbpathè®¾ç½®ä»éç¨äºmongodã\n dbpath: "/mongodb/replica_sets/myrs_27019/data/db"\n journal:\n   #å¯ç¨æç¦ç¨æä¹æ§æ¥å¿ä»¥ç¡®ä¿æ°æ®æä»¶ä¿æææåå¯æ¢å¤ã\n  enabled: true\nprocessmanagement:\n #å¯ç¨å¨åå°è¿è¡mongosæmongodè¿ç¨çå®æ¤è¿ç¨æ¨¡å¼ã\n fork: true\n #æå®ç¨äºä¿å­mongosæmongodè¿ç¨çè¿ç¨idçæä»¶ä½ç½®ï¼å¶ä¸­mongosæmongodå°åå¥å¶pid\n pidfilepath: "/mongodb/replica_sets/myrs_27019/log/mongod.pid"\nnet:\n #æå¡å®ä¾ç»å®ææipï¼æå¯ä½ç¨ï¼å¯æ¬éåå§åçæ¶åï¼èç¹åå­ä¼èªå¨è®¾ç½®ä¸ºæ¬å°ååï¼èä¸æ¯ip\n #bindipall: true\n #æå¡å®ä¾ç»å®çip\n bindip: localhost,192.168.130.212\n #bindip\n #ç»å®çç«¯å£\n port: 27019\nreplication:\n #å¯æ¬éçåç§°\n replsetname: myrs\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n26\n27\n28\n29\n\n\nå¯å¨èç¹\n\n/usr/local/mongodb/bin/mongod -f /mongodb/replica_sets/myrs_27019/mongod.conf\n\n\n1\n\n\n\n# åå§åéç½®å¯æ¬éåä¸»èç¹\n\n#ä½¿ç¨mongoå®¢æ·ç«¯ä»»æèç¹é½å¯ä»¥ ä½å°½éè¿ä¸ä¸»èç¹\n/usr/local/mongodb/bin/mongo --host=192.168.130.212 --port=27017\n\n#åå§åå½ä»¤\nrs.initiate() #ä½¿ç¨é»è®¤çéç½®æ¥åå§åå¯æ¬é  âokâçå¼ä¸º1ï¼è¯´æåå»ºæå  å¹¶ä¸æ­¤èç¹åä¸ºä¸»èç¹\n\nrs.conf() #æ¥çé»è®¤èç¹éç½®\n\nrs.status() # æ¥è¯¢å¯æ¬éç¶æ\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n\n\n\n# æ·»å å¯æ¬ä»èç¹\n\n#rs.add(host:post)\nrs.add(192.168.130.212:27018)\n\nrs.status() #æ¥çå¯æ¬éç¶æ\n\n\n1\n2\n3\n4\n\n\n\n# æ·»å ä»²è£èç¹\n\n#rs.addarb(host:post)\nrs.addarb(192.168.130.212:27019)\n\nrs.status() #æ¥çå¯æ¬éç¶æ\n\n\n1\n2\n3\n4\n\n\n\n# å¯æ¬éçæ°æ®è¯»åæä½\n\n 1. åªæä¸»èç¹åå¥æ°æ®åè¯»åæ°æ®\n\n 2. é»è®¤æåµä»èç¹æ æ³è¯»åæ°æ® ä¹æ æ³åå¥æ°æ® å¯ä»¥è¿è¡è®¾ç½®å¢å è¯»çæé\n    \n    #è¿æ¥ä»èç¹çå®¢æ·ç«¯\n    rs.slaveok() #è¯¥å½ä»¤æ¯ db.getmongo().setslaveok() çç®åå½ä»¤\n    #æè\n    rs.slaveok(true) \n    #æ­¤æ¶å®ç°äºè¯»ååç¦» è®©ä¸»æå¥æ°æ® è®©ä»æ¥è¯»åæ°æ®\n    \n    \n    1\n    2\n    3\n    4\n    5\n    \n\n 3. ä»²è£èèç¹ï¼ä¸å­æ¾ä»»ä½ä¸å¡æ°æ®çï¼å¯ä»¥ç»å½æ¥ç åªå­æ¾å¯æ¬ééç½®ç­æ°æ®ã\n\n\n# ä¸»èç¹çéä¸¾åå\n\nmongodbå¨å¯æ¬éä¸­ï¼ä¼èªå¨è¿è¡ä¸»èç¹çéä¸¾ï¼ä¸»èç¹éä¸¾çè§¦åæ¡ä»¶ï¼\n\n 1. ä¸»èç¹æé\n 2. ä¸»èç¹ç½ç»ä¸å¯è¾¾ï¼é»è®¤å¿è·³ä¿¡æ¯ä¸º10ç§ï¼\n 3. äººå·¥å¹²é¢ï¼rs.stepdown(600)ï¼\n\néä¸¾è§åæ¯æ ¹æ®ç¥¨æ°æ¥å³å®è°è·èï¼\n\n * ç¥¨æ°æé«ï¼ä¸è·å¾äº âå¤§å¤æ°âæåçæç¥¨æ¯æçèç¹è·èã âå¤§å¤æ°âçå®ä¹ä¸ºï¼åè®¾å¤å¶éåæç¥¨æåæ°éä¸ºnï¼åå¤§å¤æ°ä¸º n/2 + 1ãä¾å¦ï¼3ä¸ªæç¥¨æåï¼ åå¤§å¤æ°çå¼æ¯2ãå½å¤å¶éåå­æ´»æåæ°éä¸è¶³å¤§å¤æ°æ¶ï¼æ´ä¸ªå¤å¶éå°æ æ³éä¸¾åºprimaryï¼ å¤å¶éå°æ æ³æä¾åæå¡ï¼å¤äºåªè¯»ç¶æã\n * è¥ç¥¨æ°ç¸åï¼ä¸é½è·å¾äº âå¤§å¤æ°âæåçæç¥¨æ¯æçï¼æ°æ®æ°çèç¹è·èã æ°æ®çæ°æ§æ¯éè¿æä½æ¥å¿oplogæ¥å¯¹æ¯çã\n\nå¨è·å¾ç¥¨æ°çæ¶åï¼ä¼åçº§ï¼priorityï¼åæ°å½±åéå¤§ã å¯ä»¥éè¿è®¾ç½®ä¼åçº§ï¼priorityï¼æ¥è®¾ç½®é¢å¤ç¥¨æ°ãä¼åçº§å³æéï¼åå¼ä¸º0-1000ï¼ç¸å½äºå¯é¢å¤å¢å  0-1000çç¥¨æ°ï¼ä¼åçº§çå¼è¶å¤§ï¼å°±è¶å¯è½è·å¾å¤æ°æåçæç¥¨ï¼votesï¼æ°ãæå®è¾é«çå¼å¯ä½¿æå æ´æèµæ ¼æä¸ºä¸»è¦æåï¼æ´ä½çå¼å¯ä½¿æåæ´ä¸ç¬¦åæ¡ä»¶ã é»è®¤æåµä¸ï¼ä¼åçº§çå¼æ¯1\n\n\n# æåä¼åçº§\n\n#åå¯¼åºéç½®å°åéä¸­\ncfg=rs.conf()\n#ä¿®æ¹æå®ä¼åçº§  idå·é»è®¤ä»0å¼å§\ncfg.members[1].priority=2\n#éæ°å è½½éç½®\nrs.reconfig(cfg)\n\n\n1\n2\n3\n4\n5\n6\n\n\n\n# compassè¿æ¥å¯æ¬é\n\n#å°hostä¿®æ¹ä¸ºå½åä¸»èç¹çip\nvar config = rs.config();\n config.members[0].host="192.168.130.212:27017";rs.reconfig(config) \n\n\n1\n2\n3\n\n\n\n\néæ©primary ä¸ºä¸»èç¹ secondaryä¸ºå¯æ¬é\n\n\n# springdatamongodbè¿æ¥å¯æ¬é\n\nmongodb://host1,host2,host3/articledb?connect=replicaset&slaveok=true&replicaset=å¯æ¬éåå­\n\n * slaveok=true ï¼å¼å¯å¯æ¬èç¹è¯»çåè½ï¼å¯å®ç°è¯»ååç¦»ã\n * connect=replicaset ï¼èªå¨å°å¯æ¬éä¸­éæ©è¯»åçä¸»æºãå¦æslaveokæ¯æå¼çï¼åå®ç°äºè¯»åå ç¦»\n\nä¸»æºå¿é¡»æ¯å¯æ¬éä¸­ææçä¸»æºï¼åæ¬ä¸»èç¹ãå¯æ¬èç¹ãä»²è£èç¹ã\n\nspring:\n  data:\n    mongodb:\n      # host: 192.168.130.212  # ä¸»æºå°å\n      # database: articledb  # æ°æ®åº\n      # port: 27017 # é»è®¤ç«¯å£æ¯27017\n      #ä¹å¯ä»¥ä½¿ç¨uriè¿æ¥\n      #uri: mongodb://192.168.40.134:27017/articledb\n        # å¯æ¬éçè¿æ¥å­ç¬¦ä¸²\n      uri: mongodb://192.168.42.212:27017,192.168.42.212:27018,192.168.42.212:27019/article\n      db?connect=replicaset&slaveok=true&replicaset=myrs\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n\n\n\n# åçéç¾¤\n\nåçï¼shardingï¼æ¯ä¸ç§è·¨å¤å°æºå¨åå¸æ°æ®çæ¹æ³ï¼ mongodbä½¿ç¨åçæ¥æ¯æå·æéå¸¸å¤§çæ°æ®é åé«ååéæä½çé¨ç½²ã\n\nmongodbåçç¾¤éåå«ä»¥ä¸ç»ä»¶ï¼\n\n * åçï¼å­å¨ï¼ï¼æ¯ä¸ªåçåå«åçæ°æ®çå­éã æ¯ä¸ªåçé½å¯ä»¥é¨ç½²ä¸ºå¯æ¬éã\n * mongos ï¼è·¯ç±ï¼ï¼mongosåå½æ¥è¯¢è·¯ç±å¨ï¼å¨å®¢æ·ç«¯åºç¨ç¨åºååçéç¾¤ä¹é´æä¾æ¥å£ã\n * config servers ï¼âè°åº¦âçéç½®ï¼ï¼éç½®æå¡å¨å­å¨ç¾¤éçåæ°æ®åéç½®è®¾ç½®ã ä»mongodb 3.4å¼ å§ï¼å¿é¡»å°éç½®æå¡å¨é¨ç½²ä¸ºå¯æ¬éï¼csrsï¼ã\n\n\n\n\n# æ­å»ºåçéç¾¤æ¶æ\n\n\n\n# ç¬¬ä¸ä¸ªå¯æ¬é\n\n#-----------myshardrs01\nmkdir -p /mongodb/sharded_cluster/myshardrs01_27018/log \\ &\nmkdir -p /mongodb/sharded_cluster/myshardrs01_27018/data/db \\ &\n\nmkdir -p /mongodb/sharded_cluster/myshardrs01_27118/log \\ &\nmkdir -p /mongodb/sharded_cluster/myshardrs01_27118/data/db \\ &\n\nmkdir -p /mongodb/sharded_cluster/myshardrs01_27218/log \\ &\nmkdir -p /mongodb/sharded_cluster/myshardrs01_27218/data/db\n\n#myshardrs01_27018\nvim /mongodb/sharded_cluster/myshardrs01_27018/mongod.conf\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n\n\nsystemlog:\n #mongodbåéæææ¥å¿è¾åºçç®æ æå®ä¸ºæä»¶\n destination: file\n #mongodæmongosåºåå¶åéææè¯æ­æ¥å¿è®°å½ä¿¡æ¯çæ¥å¿æä»¶çè·¯å¾\n path: "/mongodb/sharded_cluster/myshardrs01_27018/log/mongod.log"\n #å½mongosæmongodå®ä¾éæ°å¯å¨æ¶ï¼mongosæmongodä¼å°æ°æ¡ç®éå å°ç°ææ¥å¿æä»¶çæ«å°¾ã\n logappend: true\nstorage:\n #mongodå®ä¾å­å¨å¶æ°æ®çç®å½ãstorage.dbpathè®¾ç½®ä»éç¨äºmongodã\n dbpath: "/mongodb/sharded_cluster/myshardrs01_27018/data/db"\n journal:\n   #å¯ç¨æç¦ç¨æä¹æ§æ¥å¿ä»¥ç¡®ä¿æ°æ®æä»¶ä¿æææåå¯æ¢å¤ã\n  enabled: true\nprocessmanagement:\n #å¯ç¨å¨åå°è¿è¡mongosæmongodè¿ç¨çå®æ¤è¿ç¨æ¨¡å¼ã\n fork: true\n #æå®ç¨äºä¿å­mongosæmongodè¿ç¨çè¿ç¨idçæä»¶ä½ç½®ï¼å¶ä¸­mongosæmongodå°åå¥å¶pid\n pidfilepath: "/mongodb/sharded_cluster/myshardrs01_27018/log/mongod.pid"\nnet:\n #æå¡å®ä¾ç»å®ææipï¼æå¯ä½ç¨ï¼å¯æ¬éåå§åçæ¶åï¼èç¹åå­ä¼èªå¨è®¾ç½®ä¸ºæ¬å°ååï¼èä¸æ¯ip\n #bindipall: true\n #æå¡å®ä¾ç»å®çip\n bindip: localhost,192.168.130.212\n #bindip\n #ç»å®çç«¯å£\n port: 27018\nreplication:\n #å¯æ¬éçåç§°\n replsetname: myshardrs01\nsharding:\n #åçè§è²\n clusterrole: shardsvr\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n26\n27\n28\n29\n30\n31\n32\n\n\nclusterrole è®¾ç½®åçè§è²:\n\n * shardsvr åçè§è²\n * configsvr éç½®è§è²\n\n#myshardrs01_27118\nvim /mongodb/sharded_cluster/myshardrs01_27118/mongod.conf\n\n\n1\n2\n\n\nsystemlog:\n #mongodbåéæææ¥å¿è¾åºçç®æ æå®ä¸ºæä»¶\n destination: file\n #mongodæmongosåºåå¶åéææè¯æ­æ¥å¿è®°å½ä¿¡æ¯çæ¥å¿æä»¶çè·¯å¾\n path: "/mongodb/sharded_cluster/myshardrs01_27118/log/mongod.log"\n #å½mongosæmongodå®ä¾éæ°å¯å¨æ¶ï¼mongosæmongodä¼å°æ°æ¡ç®éå å°ç°ææ¥å¿æä»¶çæ«å°¾ã\n logappend: true\nstorage:\n #mongodå®ä¾å­å¨å¶æ°æ®çç®å½ãstorage.dbpathè®¾ç½®ä»éç¨äºmongodã\n dbpath: "/mongodb/sharded_cluster/myshardrs01_27118/data/db"\n journal:\n   #å¯ç¨æç¦ç¨æä¹æ§æ¥å¿ä»¥ç¡®ä¿æ°æ®æä»¶ä¿æææåå¯æ¢å¤ã\n  enabled: true\nprocessmanagement:\n #å¯ç¨å¨åå°è¿è¡mongosæmongodè¿ç¨çå®æ¤è¿ç¨æ¨¡å¼ã\n fork: true\n #æå®ç¨äºä¿å­mongosæmongodè¿ç¨çè¿ç¨idçæä»¶ä½ç½®ï¼å¶ä¸­mongosæmongodå°åå¥å¶pid\n pidfilepath: "/mongodb/sharded_cluster/myshardrs01_27118/log/mongod.pid"\nnet:\n #æå¡å®ä¾ç»å®ææip\n #bindipall: true\n #æå¡å®ä¾ç»å®çip\n bindip: localhost,192.168.130.212\n #ç»å®çç«¯å£\n port: 27118\nreplication:\n replsetname: myshardrs01\nsharding:\n clusterrole: shardsvr\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n26\n27\n28\n29\n\n\n#myshardrs01_27218\nvim /mongodb/sharded_cluster/myshardrs01_27218/mongod.conf\n\n\n1\n2\n\n\nsystemlog:\n #mongodbåéæææ¥å¿è¾åºçç®æ æå®ä¸ºæä»¶\n destination: file\n #mongodæmongosåºåå¶åéææè¯æ­æ¥å¿è®°å½ä¿¡æ¯çæ¥å¿æä»¶çè·¯å¾\n path: "/mongodb/sharded_cluster/myshardrs01_27218/log/mongod.log"\n #å½mongosæmongodå®ä¾éæ°å¯å¨æ¶ï¼mongosæmongodä¼å°æ°æ¡ç®éå å°ç°ææ¥å¿æä»¶çæ«å°¾ã\n logappend: true\nstorage:\n #mongodå®ä¾å­å¨å¶æ°æ®çç®å½ãstorage.dbpathè®¾ç½®ä»éç¨äºmongodã\n dbpath: "/mongodb/sharded_cluster/myshardrs01_27218/data/db"\n journal:\n   #å¯ç¨æç¦ç¨æä¹æ§æ¥å¿ä»¥ç¡®ä¿æ°æ®æä»¶ä¿æææåå¯æ¢å¤ã\n  enabled: true\nprocessmanagement:\n #å¯ç¨å¨åå°è¿è¡mongosæmongodè¿ç¨çå®æ¤è¿ç¨æ¨¡å¼ã\n fork: true\n #æå®ç¨äºä¿å­mongosæmongodè¿ç¨çè¿ç¨idçæä»¶ä½ç½®ï¼å¶ä¸­mongosæmongodå°åå¥å¶pid\n pidfilepath: "/mongodb/sharded_cluster/myshardrs01_27218/log/mongod.pid"\nnet:\n #æå¡å®ä¾ç»å®çip\n bindip: localhost,192.168.42.130.212\n #ç»å®çç«¯å£\n port: 27218\nreplication:\n replsetname: myshardrs01\nsharding:\n clusterrole: shardsvr\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n26\n27\n\n\nå¯å¨ç¬¬ä¸å¥å¯æ¬éï¼ä¸ä¸»ä¸å¯æ¬ä¸ä»²è£\n\n/usr/local/mongodb/bin/mongod -f /mongodb/sharded_cluster/myshardrs01_27018/mongod.conf\n/usr/local/mongodb/bin/mongod -f /mongodb/sharded_cluster/myshardrs01_27118/mongod.conf\n/usr/local/mongodb/bin/mongod -f /mongodb/sharded_cluster/myshardrs01_27218/mongod.conf\n\n\n1\n2\n3\n\n * åå§åå¯æ¬éååå»ºä¸»èç¹\n\n/usr/local/mongodb/bin/mongo --host 192.168.130.212 --port 27018 #å°½éè¿æ¥ä¸»èç¹\n\n\n1\n\n\nrs.initiate()  #åå§åä¸»èç¹\nrs.status() #ç¶ææ¥ç\nrs.add("192.168.130.212:27118")  #æ·»å å¯èç¹\nrs.addarb("192.168.130.212:27218") #æ·»å ä»²è£èç¹\nrs.conf()\n\n\n1\n2\n3\n4\n5\n\n\n# ç¬¬äºå¥å¯æ¬é\n\n#-----------myshardrs02\nmkdir -p /mongodb/sharded_cluster/myshardrs02_27318/log \\ &\nmkdir -p /mongodb/sharded_cluster/myshardrs02_27318/data/db \\ &\n\nmkdir -p /mongodb/sharded_cluster/myshardrs02_27418/log \\ &\nmkdir -p /mongodb/sharded_cluster/myshardrs02_27418/data/db \\ &\n\nmkdir -p /mongodb/sharded_cluster/myshardrs02_27518/log \\ &\nmkdir -p /mongodb/sharded_cluster/myshardrs02_27518/data/db\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n\n\n#myshardrs02_27318\nvim /mongodb/sharded_cluster/myshardrs02_27318/mongod.conf\n\n\n1\n2\n\n\nsystemlog:\n #mongodbåéæææ¥å¿è¾åºçç®æ æå®ä¸ºæä»¶\n destination: file\n #mongodæmongosåºåå¶åéææè¯æ­æ¥å¿è®°å½ä¿¡æ¯çæ¥å¿æä»¶çè·¯å¾\n path: "/mongodb/sharded_cluster/myshardrs02_27318/log/mongod.log"\n #å½mongosæmongodå®ä¾éæ°å¯å¨æ¶ï¼mongosæmongodä¼å°æ°æ¡ç®éå å°ç°ææ¥å¿æä»¶çæ«å°¾ã\n logappend: true\nstorage:\n #mongodå®ä¾å­å¨å¶æ°æ®çç®å½ãstorage.dbpathè®¾ç½®ä»éç¨äºmongodã\n dbpath: "/mongodb/sharded_cluster/myshardrs02_27318/data/db"\n journal:\n   #å¯ç¨æç¦ç¨æä¹æ§æ¥å¿ä»¥ç¡®ä¿æ°æ®æä»¶ä¿æææåå¯æ¢å¤ã\n  enabled: true\nprocessmanagement:\n #å¯ç¨å¨åå°è¿è¡mongosæmongodè¿ç¨çå®æ¤è¿ç¨æ¨¡å¼ã\n fork: true\n #æå®ç¨äºä¿å­mongosæmongodè¿ç¨çè¿ç¨idçæä»¶ä½ç½®ï¼å¶ä¸­mongosæmongodå°åå¥å¶pid\n pidfilepath: "/mongodb/sharded_cluster/myshardrs02_27318/log/mongod.pid"\nnet:\n #æå¡å®ä¾ç»å®çip\n bindip: localhost,192.168.130.212\n #ç»å®çç«¯å£\n port: 27318\nreplication:\n replsetname: myshardrs02\nsharding:\n clusterrole: shardsvr\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n26\n27\n\n\n#myshardrs02_27418\nvim /mongodb/sharded_cluster/myshardrs02_27418/mongod.conf\n\n\n1\n2\n\n\nsystemlog:\n #mongodbåéæææ¥å¿è¾åºçç®æ æå®ä¸ºæä»¶\n destination: file\n #mongodæmongosåºåå¶åéææè¯æ­æ¥å¿è®°å½ä¿¡æ¯çæ¥å¿æä»¶çè·¯å¾\n path: "/mongodb/sharded_cluster/myshardrs02_27418/log/mongod.log"\n #å½mongosæmongodå®ä¾éæ°å¯å¨æ¶ï¼mongosæmongodä¼å°æ°æ¡ç®éå å°ç°ææ¥å¿æä»¶çæ«å°¾ã\n logappend: true\nstorage:\n #mongodå®ä¾å­å¨å¶æ°æ®çç®å½ãstorage.dbpathè®¾ç½®ä»éç¨äºmongodã\n dbpath: "/mongodb/sharded_cluster/myshardrs02_27418/data/db"\n journal:\n   #å¯ç¨æç¦ç¨æä¹æ§æ¥å¿ä»¥ç¡®ä¿æ°æ®æä»¶ä¿æææåå¯æ¢å¤ã\n  enabled: true\nprocessmanagement:\n #å¯ç¨å¨åå°è¿è¡mongosæmongodè¿ç¨çå®æ¤è¿ç¨æ¨¡å¼ã\n fork: true\n #æå®ç¨äºä¿å­mongosæmongodè¿ç¨çè¿ç¨idçæä»¶ä½ç½®ï¼å¶ä¸­mongosæmongodå°åå¥å¶pid\n pidfilepath: "/mongodb/sharded_cluster/myshardrs02_27418/log/mongod.pid"\nnet:\n #æå¡å®ä¾ç»å®ææip\n #bindipall: true\n #æå¡å®ä¾ç»å®çip\n bindip: localhost,192.168.130.212\n #ç»å®çç«¯å£\n port: 27418\nreplication:\n replsetname: myshardrs02\nsharding:\n clusterrole: shardsvr\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n26\n27\n28\n29\n\n\n#myshardrs02_27518\nvim /mongodb/sharded_cluster/myshardrs02_27518/mongod.conf\n\n\n1\n2\n\n\nsystemlog:\n #mongodbåéæææ¥å¿è¾åºçç®æ æå®ä¸ºæä»¶\n destination: file\n #mongodæmongosåºåå¶åéææè¯æ­æ¥å¿è®°å½ä¿¡æ¯çæ¥å¿æä»¶çè·¯å¾\n path: "/mongodb/sharded_cluster/myshardrs02_27518/log/mongod.log"\n #å½mongosæmongodå®ä¾éæ°å¯å¨æ¶ï¼mongosæmongodä¼å°æ°æ¡ç®éå å°ç°ææ¥å¿æä»¶çæ«å°¾ã\n logappend: true\nstorage:\n #mongodå®ä¾å­å¨å¶æ°æ®çç®å½ãstorage.dbpathè®¾ç½®ä»éç¨äºmongodã\n dbpath: "/mongodb/sharded_cluster/myshardrs02_27518/data/db"\n journal:\n   #å¯ç¨æç¦ç¨æä¹æ§æ¥å¿ä»¥ç¡®ä¿æ°æ®æä»¶ä¿æææåå¯æ¢å¤ã\n  enabled: true\nprocessmanagement:\n #å¯ç¨å¨åå°è¿è¡mongosæmongodè¿ç¨çå®æ¤è¿ç¨æ¨¡å¼ã\n fork: true\n #æå®ç¨äºä¿å­mongosæmongodè¿ç¨çè¿ç¨idçæä»¶ä½ç½®ï¼å¶ä¸­mongosæmongodå°åå¥å¶pid\n pidfilepath: "/mongodb/sharded_cluster/myshardrs02_27518/log/mongod.pid"\nnet:\n #æå¡å®ä¾ç»å®ææip\n #bindipall: true\n #æå¡å®ä¾ç»å®çip\n bindip: localhost,192.168.130.212\n #ç»å®çç«¯å£\n port: 27518\nreplication:\n replsetname: myshardrs02\nsharding:\n clusterrole: shardsvr\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n26\n27\n28\n29\n\n\nå¯å¨ç¬¬äºå¥å¯æ¬éï¼ä¸ä¸»ä¸å¯æ¬ä¸ä»²è£\n\n/usr/local/mongodb/bin/mongod -f /mongodb/sharded_cluster/myshardrs02_27318/mongod.conf\n/usr/local/mongodb/bin/mongod -f /mongodb/sharded_cluster/myshardrs02_27418/mongod.conf\n/usr/local/mongodb/bin/mongod -f /mongodb/sharded_cluster/myshardrs02_27518/mongod.conf\nps -ef |grep mongod #ä¸å±6ä¸ªæå¡\n\n\n1\n2\n3\n4\n\n * åå§åå¯æ¬éååå»ºä¸»èç¹\n\n/usr/local/mongodb/bin/mongo --host 192.168.130.212 --port 27318 #å°½éè¿æ¥ä¸»èç¹\n\n\n1\n\n\nrs.initiate()  #åå§åä¸»èç¹\nrs.status() #ç¶ææ¥ç\nrs.add("192.168.130.212:27418")  #æ·»å å¯èç¹\nrs.addarb("192.168.130.212:27518") #æ·»å ä»²è£èç¹\nrs.conf()\n\n\n1\n2\n3\n4\n5\n\n\n# éç½®èç¹å¯æ¬é\n\n#-----------configrs\n#å»ºç«æ°æ®èç¹dataåæ¥å¿ç®å½\nmkdir -p /mongodb/sharded_cluster/myconfigrs_27019/log \\ &\nmkdir -p /mongodb/sharded_cluster/myconfigrs_27019/data/db \\ &\n\nmkdir -p /mongodb/sharded_cluster/myconfigrs_27119/log \\ &\nmkdir -p /mongodb/sharded_cluster/myconfigrs_27119/data/db \\ &\n\nmkdir -p /mongodb/sharded_cluster/myconfigrs_27219/log \\ &\nmkdir -p /mongodb/sharded_cluster/myconfigrs_27219/data/db\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n\n\n#myconfigrs_27019\nvim /mongodb/sharded_cluster/myconfigrs_27019/mongod.conf\n\n\n1\n2\n\n\n #mongodbåéæææ¥å¿è¾åºçç®æ æå®ä¸ºæä»¶\n destination: file\n #mongodæmongosåºåå¶åéææè¯æ­æ¥å¿è®°å½ä¿¡æ¯çæ¥å¿æä»¶çè·¯å¾\n path: "/mongodb/sharded_cluster/myconfigrs_27019/log/mongod.log"\n #å½mongosæmongodå®ä¾éæ°å¯å¨æ¶ï¼mongosæmongodä¼å°æ°æ¡ç®éå å°ç°ææ¥å¿æä»¶çæ«å°¾ã\n logappend: true\nstorage:\n #mongodå®ä¾å­å¨å¶æ°æ®çç®å½ãstorage.dbpathè®¾ç½®ä»éç¨äºmongodã\n dbpath: "/mongodb/sharded_cluster/myconfigrs_27019/data/db"\n journal:\n   #å¯ç¨æç¦ç¨æä¹æ§æ¥å¿ä»¥ç¡®ä¿æ°æ®æä»¶ä¿æææåå¯æ¢å¤ã\n  enabled: true\nprocessmanagement:\n #å¯ç¨å¨åå°è¿è¡mongosæmongodè¿ç¨çå®æ¤è¿ç¨æ¨¡å¼ã\n fork: true\n #æå®ç¨äºä¿å­mongosæmongodè¿ç¨çè¿ç¨idçæä»¶ä½ç½®ï¼å¶ä¸­mongosæmongodå°åå¥å¶pid\n pidfilepath: "/mongodb/sharded_cluster/myconfigrs_27019/log/mongod.pid"\nnet:\n #æå¡å®ä¾ç»å®ææip\n #bindipall: true\n #æå¡å®ä¾ç»å®çip\n bindip: localhost,192.168.130.212\n #ç»å®çç«¯å£\n port: 27019\nreplication:\n replsetname: myconfigrs\nsharding:\n clusterrole: configsvr\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n26\n27\n28\n\n\næ­¤æ¶åçè§è²ä¸ºéç½®è§è²\n\n#myconfigrs_27119\nvim /mongodb/sharded_cluster/myconfigrs_27119/mongod.conf\n\n\n1\n2\n\n\nsystemlog:\n #mongodbåéæææ¥å¿è¾åºçç®æ æå®ä¸ºæä»¶\n destination: file\n #mongodæmongosåºåå¶åéææè¯æ­æ¥å¿è®°å½ä¿¡æ¯çæ¥å¿æä»¶çè·¯å¾\n path: "/mongodb/sharded_cluster/myconfigrs_27119/log/mongod.log"\n #å½mongosæmongodå®ä¾éæ°å¯å¨æ¶ï¼mongosæmongodä¼å°æ°æ¡ç®éå å°ç°ææ¥å¿æä»¶çæ«å°¾ã\n logappend: true\nstorage:\n #mongodå®ä¾å­å¨å¶æ°æ®çç®å½ãstorage.dbpathè®¾ç½®ä»éç¨äºmongodã\n dbpath: "/mongodb/sharded_cluster/myconfigrs_27119/data/db"\n journal:\n   #å¯ç¨æç¦ç¨æä¹æ§æ¥å¿ä»¥ç¡®ä¿æ°æ®æä»¶ä¿æææåå¯æ¢å¤ã\n  enabled: true\nprocessmanagement:\n #å¯ç¨å¨åå°è¿è¡mongosæmongodè¿ç¨çå®æ¤è¿ç¨æ¨¡å¼ã\n fork: true\n #æå®ç¨äºä¿å­mongosæmongodè¿ç¨çè¿ç¨idçæä»¶ä½ç½®ï¼å¶ä¸­mongosæmongodå°åå¥å¶pid\n pidfilepath: "/mongodb/sharded_cluster/myconfigrs_27119/log/mongod.pid"\nnet:\n #æå¡å®ä¾ç»å®ææip\n #bindipall: true\n #æå¡å®ä¾ç»å®çip\n bindip: localhost,192.168.130.212\n #ç»å®çç«¯å£\n port: 27119\nreplication:\n replsetname: myconfigrs\nsharding:\n clusterrole: configsvr\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n26\n27\n28\n29\n\n\n#myconfigrs_27219\nvim /mongodb/sharded_cluster/myconfigrs_27219/mongod.conf\n\n\n1\n2\n\n\nsystemlog:\n #mongodbåéæææ¥å¿è¾åºçç®æ æå®ä¸ºæä»¶\n destination: file\n #mongodæmongosåºåå¶åéææè¯æ­æ¥å¿è®°å½ä¿¡æ¯çæ¥å¿æä»¶çè·¯å¾\n path: "/mongodb/sharded_cluster/myconfigrs_27219/log/mongod.log"\n #å½mongosæmongodå®ä¾éæ°å¯å¨æ¶ï¼mongosæmongodä¼å°æ°æ¡ç®éå å°ç°ææ¥å¿æä»¶çæ«å°¾ã\n logappend: true\nstorage:\n #mongodå®ä¾å­å¨å¶æ°æ®çç®å½ãstorage.dbpathè®¾ç½®ä»éç¨äºmongodã\n dbpath: "/mongodb/sharded_cluster/myconfigrs_27219/data/db"\n journal:\n   #å¯ç¨æç¦ç¨æä¹æ§æ¥å¿ä»¥ç¡®ä¿æ°æ®æä»¶ä¿æææåå¯æ¢å¤ã\n  enabled: true\nprocessmanagement:\n #å¯ç¨å¨åå°è¿è¡mongosæmongodè¿ç¨çå®æ¤è¿ç¨æ¨¡å¼ã\n fork: true\n #æå®ç¨äºä¿å­mongosæmongodè¿ç¨çè¿ç¨idçæä»¶ä½ç½®ï¼å¶ä¸­mongosæmongodå°åå¥å¶pid\n pidfilepath: "/mongodb/sharded_cluster/myconfigrs_27219/log/mongod.pid"\nnet:\n #æå¡å®ä¾ç»å®ææip\n #bindipall: true\n #æå¡å®ä¾ç»å®çip\n bindip: localhost,192.168.42.130.212\n #ç»å®çç«¯å£\n port: 27219\nreplication:\n replsetname: myconfigrs\nsharding:\n clusterrole: configsvr\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n26\n27\n28\n29\n\n\nå¯å¨éç½®å¯æ¬éï¼ä¸ä¸»ä¸¤å¯æ¬\n\n/usr/local/mongodb/bin/mongod -f /mongodb/sharded_cluster/myconfigrs_27019/mongod.conf\n/usr/local/mongodb/bin/mongod -f /mongodb/sharded_cluster/myconfigrs_27119/mongod.conf\n/usr/local/mongodb/bin/mongod -f /mongodb/sharded_cluster/myconfigrs_27219/mongod.conf\nps -ef |grep mongod #ä¸å±9ä¸ªæå¡\n\n\n1\n2\n3\n4\n\n * åå§åå¯æ¬éååå»ºä¸»èç¹\n\n/usr/local/mongodb/bin/mongo --host 192.168.130.212 --port 27019 #å°½éè¿æ¥ä¸»èç¹\n\n\n1\n\n\nrs.initiate()  #åå§åä¸»èç¹\nrs.status() #ç¶ææ¥ç\nrs.add("192.168.130.212:27119")  #æ·»å å¯èç¹\nrs.add("192.168.130.212:27119") #æ·»å å¯èç¹\nrs.conf()\n\n\n1\n2\n3\n4\n5\n\n\n# è·¯ç±èç¹åå»ºåè¿æ¥\n\n#-----------mongos01\nmkdir -p /mongodb/sharded_cluster/mymongos_27017/log\n\n\n1\n2\n\n\n#mymongos_27017èç¹\nvi /mongodb/sharded_cluster/mymongos_27017/mongos.conf\n\n\n1\n2\n\n\nsystemlog:\n #mongodbåéæææ¥å¿è¾åºçç®æ æå®ä¸ºæä»¶\n destination: file\n #mongodæmongosåºåå¶åéææè¯æ­æ¥å¿è®°å½ä¿¡æ¯çæ¥å¿æä»¶çè·¯å¾\n path: "/mongodb/sharded_cluster/mymongos_27017/log/mongod.log"\n #å½mongosæmongodå®ä¾éæ°å¯å¨æ¶ï¼mongosæmongodä¼å°æ°æ¡ç®éå å°ç°ææ¥å¿æä»¶çæ«å°¾ã\n logappend: true\nprocessmanagement:\n #å¯ç¨å¨åå°è¿è¡mongosæmongodè¿ç¨çå®æ¤è¿ç¨æ¨¡å¼ã\n fork: true\n #æå®ç¨äºä¿å­mongosæmongodè¿ç¨çè¿ç¨idçæä»¶ä½ç½®ï¼å¶ä¸­mongosæmongodå°åå¥å¶pid\n pidfilepath: /mongodb/sharded_cluster/mymongos_27017/log/mongod.pid"\nnet:\n #æå¡å®ä¾ç»å®ææipï¼æå¯ä½ç¨ï¼å¯æ¬éåå§åçæ¶åï¼èç¹åå­ä¼èªå¨è®¾ç½®ä¸ºæ¬å°ååï¼èä¸æ¯ip\n #bindipall: true\n #æå¡å®ä¾ç»å®çip\n bindip: localhost,192.168.130.212\n #bindip\n #ç»å®çç«¯å£\n port: 27017\nsharding:\n #æå®éç½®èç¹å¯æ¬é\n configdb: myconfigrs/192.168.42.130.212:27019,192.168.42.130.212:27119,192.168.42.130.212:27219\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n\n\nconfigdb å°åä¸º éç½®å¯æ¬éåç§°/éç½®èç¹1,éç½®èç¹2,éç½®èç¹3\n\n#å¯å¨\n/usr/local/mongodb/bin/mongos -f /mongodb/sharded_cluster/mymongos_27017/mongos.conf\n\n\n1\n2\n\n\n#è¿æ¥ æ­¤æ¶ä¸ºmongos\n/usr/local/mongodb/bin/mongo --host 192.168.130.212 --port 27017\n\n\n1\n2\n\n\néè¿è·¯ç±èç¹æä½ï¼ç°å¨åªæ¯è¿æ¥äºéç½®èç¹ï¼è¿æ²¡æè¿æ¥åçæ°æ®èç¹ï¼å æ­¤åä¸è¿å»æ°æ®ï¼å¦æåæ°æ®ä¼æ¥éã\n\n# è·¯ç±èç¹æ·»å åç\n\n#sh.addshard(å¯æ¬éåç§°/ä¸»èç¹,å¯æ¬èç¹,ä»²è£èç¹)  ä¸ç§è§è²èç¹å¿é¡»é½æ·»å å°è·¯ç±ä¸­ \nsh.addshard("myshardrs01/192.168.42.130.212:27018,192.168.42.130.212:27118,192.168.42.130.212:27218")  #ç¬¬ä¸å¥\nsh.addshard("myshardrs02/192.168.42.130.212:27318,192.168.42.130.212:27418,192.168.42.130.212:27518")  #ç¬¬äºå¥\nsh.status() #æ¥è¯¢åçç¶æ\n#sh.enablesharding("åºå")\nsh.enablesharding("articledb") #å¼å¯åçåè½\n\n\n1\n2\n3\n4\n5\n6\n\n\n# éååçååçè§å\n\nsh.shardcollection(namespace, key, unique)\n\n\n\n 1. åçè§åä¸ï¼åå¸ç­ç¥ å¯¹æå®å­æ®µçå¼ è¿è¡åå¸è®¡ç®åºå­æ¾çä½ç½® æ¯ä¸ªå¯æ¬éå¯¹åºåå¯¹åºçèå´ éè¿åå¸è®¡ç®åºå­æ¾çå¯æ¬éä¸­\n    \n    sh.shardcollection("articledb.comment",{"nickname":"hashed"})\n    \n    \n    1\n    \n\n 2. åçè§åäºï¼èå´ç­ç¥ å¯¹äº åºäºèå´çåç ,mongodbæé®çèå´ææ°æ®åæä¸åé¨å.\n    \n    sh.shardcollection("articledb.author",{"age":1})\n    \n    \n    1\n    \n\næ³¨æäºé¡¹:\n\n * ä¸ä¸ªéååªè½æå®ä¸ä¸ªçé®ï¼å¦åæ¥éã\n * ä¸æ¦å¯¹ä¸ä¸ªéååçï¼åçé®ååçå¼å°±ä¸å¯æ¹åã å¦ï¼ä¸è½ç»éåéæ©ä¸åçåçé®ãä¸è½æ´æ° åçé®çå¼ã\n * æ ¹æ®ageç´¢å¼è¿è¡åéæ°æ®\n\nå¦ææ·»å åçå¤±è´¥ï¼éè¦åæå¨ç§»é¤åçï¼æ£æ¥æ·»å åççä¿¡æ¯çæ­£ç¡®æ§åï¼åæ¬¡æ·»å åçã\n\nuse admin\ndb.runcommand( { removeshard: "myshardrs02" } )\n\n\n1\n2\n\n\ndb.printshardingstatus() #æ¾ç¤ºéç¾¤çè¯¦ç»ä¿¡æ¯\nsh.isbalancerrunning()  #æ¥è¯¢äº¤æ¢å¨æ¯å¦å·¥ä½\nsh.getbalancerstate() #æ¥çbalancerç¶æ \n\n\n1\n2\n3\n\n\n# èå´è§åéç½®æ°æ®åå¤§å°\n\nèå´è§åé»è®¤å­æ¾å¨æ°æ®åä¸­ å¦ææ°æ®åï¼chunkï¼æ²¡æå¡«æ»¡ï¼é»è®¤çæ°æ®åå°ºå¯¸ï¼chunksizeï¼æ¯64mï¼å¡«æ»¡åæä¼èèåå¶ä»ççæ°æ®åå¡«åæ°æ®\n\nuse config\ndb.settings.save({_id:"chunksize", value: 64})  #é»è®¤ä¸º64m\n\n\n1\n2\n\n\n# è¿½å è·¯ç±èç¹\n\n#-----------mongos02\nmkdir -p /mongodb/sharded_cluster/mymongos_27117/log\n\n\n1\n2\n\n\nvi /mongodb/sharded_cluster/mymongos_27117/mongos.conf\n\n\n1\n\n\nsystemlog:\n #mongodbåéæææ¥å¿è¾åºçç®æ æå®ä¸ºæä»¶\n destination: file\n #mongodæmongosåºåå¶åéææè¯æ­æ¥å¿è®°å½ä¿¡æ¯çæ¥å¿æä»¶çè·¯å¾\n path: "/mongodb/sharded_cluster/mymongos_27117/log/mongod.log"\n #å½mongosæmongodå®ä¾éæ°å¯å¨æ¶ï¼mongosæmongodä¼å°æ°æ¡ç®éå å°ç°ææ¥å¿æä»¶çæ«å°¾ã\n logappend: true\nprocessmanagement:\n #å¯ç¨å¨åå°è¿è¡mongosæmongodè¿ç¨çå®æ¤è¿ç¨æ¨¡å¼ã\n fork: true\n #æå®ç¨äºä¿å­mongosæmongodè¿ç¨çè¿ç¨idçæä»¶ä½ç½®ï¼å¶ä¸­mongosæmongodå°åå¥å¶pid\n pidfilepath: /mongodb/sharded_cluster/mymongos_27117/log/mongod.pid"\nnet:\n #æå¡å®ä¾ç»å®ææipï¼æå¯ä½ç¨ï¼å¯æ¬éåå§åçæ¶åï¼èç¹åå­ä¼èªå¨è®¾ç½®ä¸ºæ¬å°ååï¼èä¸æ¯ip\n #bindipall: true\n #æå¡å®ä¾ç»å®çip\n bindip: localhost,192.168.0.2\n #bindip\n #ç»å®çç«¯å£\n port: 27117\nsharding:\nconfigdb:\nmyconfigrs/192.168.42.130.212:27019,192.168.42.130.212:27119,192.168.42.130.212:27219\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n\n\n#å¯å¨\n/usr/local/mongodb/bin/mongos -f /mongodb/sharded_cluster/mymongos_27117/mongos.conf\n\n\n1\n2\n\n\nç¬¬äºä¸ªè·¯ç±æ ééç½®ï¼å ä¸ºåçéç½®é½ä¿å­å°äºéç½®æå¡å¨ä¸­äºã\n\n\n# compassè¿æ¥åçéç¾¤\n\nè¿æ¥è·¯ç±èç¹å³å¯\n\n\n\n\n# springdatamongdb è¿æ¥åçéç¾¤\n\nspring:\n  data:\n    mongodb:\n      # host: 192.168.130.212  # ä¸»æºå°å\n      # database: articledb  # æ°æ®åº\n      # port: 27017 # é»è®¤ç«¯å£æ¯27017\n        #ä¹å¯ä»¥ä½¿ç¨uriè¿æ¥\n        #uri: mongodb://192.168.40.134:27017/articledb\n      # å¯æ¬éçè¿æ¥å­ç¬¦ä¸²\n            uri: mongodb://192.168.40.134:27017,192.168.40.134:27117/articledb\n\n#      uri: mongodb://192.168.42.212:27017,192.168.42.212:27018,192.168.42.212:27019/article\n#      db?connect=replicaset&slaveok=true&replicaset=myrs\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n\n\nå¦ææå¤ä¸ªèç¹å¯ä»¥ä½¿ç¨éå·éå¼ springdatamongdbé»è®¤æè´è½½åè¡¡ç­ç¥\n\n\n# å®å¨è®¤è¯\n\né»è®¤æåµä¸ï¼mongodbå®ä¾å¯å¨è¿è¡æ¶æ¯æ²¡æå¯ç¨ç¨æ·è®¿é®æéæ§å¶ç\n\n\n# è§è²\n\nå¸¸ç¨çåç½®è§è²ï¼\n\n * æ°æ®åºç¨æ·è§è²ï¼ readãreadwrite;\n * æææ°æ®åºç¨æ·è§è²ï¼ readanydatabaseãreadwriteanydatabaseã\n * useradminanydatabaseãdbadminanydatabase\n * æ°æ®åºç®¡çè§è²ï¼ dbadminãdbownerãuseradminï¼\n * éç¾¤ç®¡çè§è²ï¼ clusteradminãclustermanagerãclustermonitorãhostmanagerï¼\n * å¤ä»½æ¢å¤è§è²ï¼ backupãrestoreï¼\n * è¶çº§ç¨æ·è§è²ï¼ root\n * åé¨è§è²ï¼ system\n\n\n\ndb.runcommand({ rolesinfo: 1 })  #æ¥è¯¢ææè§è²æé(ä»ç¨æ·èªå®ä¹è§è²)\ndb.runcommand({ rolesinfo: 1, showbuiltinroles: true })  #æ¥è¯¢ææè§è²æé(åå«åç½®è§è²)\ndb.runcommand({ rolesinfo: "<rolename>" })  #æ¥è¯¢å½åæ°æ®åºä¸­çæè§è²çæé\ndb.runcommand({ rolesinfo: { role: "<rolename>", db: "<database>" } }   #æ¥è¯¢å¶å®æ°æ®åºä¸­æå®çè§è²æé\n\n\n1\n2\n3\n4\n\n\n\n# åå®ä¾å®å¨è®¤è¯\n\n * æ·»å ç¨æ·åæé\n\nuse admin\ndb.createuser({user:"myroot",pwd:"123456",roles:["root"]})  #åå»ºmyrootç¨æ· å¯ç 123456 æéä¸ºroot  å¦æä¸æå®dbåç§°åé»è®¤ä¸ºå½åæå¨åº\ndb.createuser({user:"myadmin",pwd:"123456",roles:[{role:"useradminanydatabase",db:"admin"}]}) #åå»ºä¸ä¸ªå¨æå®åºä¸­ç®¡çç¨æ·çç¨æ·\ndb.system.users.find()  #æ¥è¯¢å·²ç»åå»ºçç¨æ·æåµ\ndb.dropuser("myadmin") #å é¤æå®ç¨æ·\ndb.changeuserpassword("myroot", "123456")  #ä¿®æ¹æå®ç¨æ·å¯ç \n\n\n\n1\n2\n3\n4\n5\n6\n7\n\n 1. æ¬æ¡ä¾åå»ºäºä¸¤ä¸ªç¨æ·ï¼åå«å¯¹åºè¶ç®¡åä¸é¨ç¨æ¥ç®¡çç¨æ·çè§è²ï¼äºå®ä¸ï¼ä½ åªéè¦ä¸ä¸ªç¨æ·å³ å¯ãå¦æä½ å¯¹å®å¨è¦æ±å¾é«ï¼é²æ­¢è¶ç®¡æ³æ¼ï¼åä¸è¦åå»ºè¶ç®¡ç¨æ·ã\n 2. åå¶å®æ°æ®åºï¼mysqlï¼ä¸æ ·ï¼æéçç®¡çé½å·®ä¸å¤ä¸æ ·ï¼ä¹æ¯å°ç¨æ·åæéä¿¡æ¯ä¿å­å°æ°æ®åºå¯¹ åºçè¡¨ä¸­ãmongodbå­å¨ææçç¨æ·ä¿¡æ¯å¨admin æ°æ®åºçéåsystem.usersä¸­ï¼ä¿å­ç¨æ·åãå¯ç  åæ°æ®åºä¿¡æ¯ã\n 3. å¦æä¸æå®æ°æ®åºï¼ååå»ºçæå®çæéçç¨æ·å¨ææçæ°æ®åºä¸ææï¼å¦ {role:"useradminanydatabase", db:""}\n\n * è®¤è¯æµè¯\n\nuse admin\ndb.auth("myroot","123456")\n\n\n1\n2\n\n\nå¦æå¼å¯äºè®¤è¯åï¼ç»å½çå®¢æ·ç«¯çç¨æ·å¿é¡»ä½¿ç¨adminåºçè§è²ï¼å¦æ¥ærootè§è²çmyadminç¨ æ·ï¼åéè¿myadminç¨æ·å»åå»ºå¶ä»è§è²çç¨æ·\n\n# æå¡ç«¯å¼å¯è®¤è¯åå®¢æ·ç«¯è¿æ¥ç»é\n\n 1. åæ°æ¹å¼ å¯å¨æå¡ç«¯æ¶å é--authåæ°\n    \n    /usr/local/mongodb/bin/mongod -f /mongodb/single/mongod.conf --auth\n    \n    \n    1\n    \n\n 2. éç½®æ¹å¼\n    \n    vim /mongodb/single/mongod.conf\n    \n    #éç½®æä»¶è¿½å \n    security:\n     authorization: enabled  #å¼å¯ææè®¤è¯\n    \n    \n    1\n    2\n    3\n    4\n    5\n    \n\n#æ­¤æ¶è¿æ¥å¯ä»¥è¿å¥å®¢æ·ç«¯ ä½æ æ³æ§è¡ä»»ä½æä½ åªæè®¤è¯æååè½ä½¿ç¨\nuse admin  #æ­¤ç¨æ·è½æ¥çä»ä¹åºå°±åæ¢å°ä»ä¹åºä¸­åè®¤è¯  å¦åæ¥é\ndb.auth("myroot","123456")\n\n\n1\n2\n3\n\n\nè¿æ¥å®¢æ·ç«¯æ¶ç´æ¥è®¤è¯ åæ ·æ¥çä»ä¹åºå°±åæ¢å°ä»ä¹åºä¸­åè®¤è¯ å¦åæ¥é\n\nmongo --host 192.168.42.130.212 --port 27017 --authenticationdatabase admin -u myroot -p 123456\n\n\n1\n\n * -u ï¼ç¨æ·å\n * -p ï¼å¯ç \n * -- authenticationdatabase ï¼æå®è¿æ¥å°åªä¸ªåºãå½ç»å½æ¯æå®ç¨æ·åå¯ç æ¶ï¼å¿é¡»æå®å¯¹åºç æ°æ®åºï¼\n\n# springdatamongodbè¿æ¥è®¤è¯\n\nspring:\n #æ°æ®æºéç½®\ndata:\n mongodb:\n   # ä¸»æºå°å\n#   host: 192.168.42.130.212\n   # æ°æ®åº\n#   database: articledb\n   # é»è®¤ç«¯å£æ¯27017\n#   port: 27017\n   #å¸å·\n#   username: bobo\n   #å¯ç \n#   password: 123456\n   #åæºæè®¤è¯çæåµä¸ï¼ä¹ä½¿ç¨å­ç¬¦ä¸²è¿æ¥\n  uri: mongodb://bobo:123456@192.168.130.212/articledb\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n\n\n\n# å¯æ¬éç¯å¢\n\nåªéè¦å¨ä¸»èç¹ä¸æ·»å ç¨æ·ï¼å¯æ¬éä¼èªå¨åæ­¥\n\nuse admin\ndb.createuser({user:"myroot",pwd:"123456",roles:["root"]})\n\n\n1\n2\n\n\nçæå¯æ¬éè®¤è¯çkeyæä»¶ å¨centosä¸­\n\nopenssl rand -base64 90 -out ./mongo.keyfile\nchmod 400 ./mongo.keyfile\nll mongo.keyfile\n\n\n1\n2\n3\n\n\nææå¯æ¬éèç¹é½å¿é¡»è¦ç¨åä¸ä»½keyfileï¼ä¸è¬æ¯å¨ä¸å°æºå¨ä¸çæï¼ç¶åæ·è´å°å¶ä»æºå¨ä¸ï¼ä¸å¿é¡» æè¯»çæéï¼å¦åå°æ¥ä¼æ¥é\n\n#æ­¤æ¶åºè¯¥éè¿ç½ç»ä¼ è¾æ­¤keyæä»¶ç»éç¾¤æºå¨\ncp mongo.keyfile /mongodb/replica_sets/myrs_27017\ncp mongo.keyfile /mongodb/replica_sets/myrs_27018\ncp mongo.keyfile /mongodb/replica_sets/myrs_27019\n\n\n1\n2\n3\n4\n\n\nä¿®æ¹åä¸ªèç¹çéç½®æä»¶\n\nvim /mongodb/replica_sets/myrs_27017/mongod.conf\n\n\n1\n\n\nsecurity:\n #keyfileé´ææä»¶\n keyfile: /mongodb/replica_sets/myrs_27017/mongo.keyfile\n #å¼å¯è®¤è¯æ¹å¼è¿è¡\n authorization: enabled\n\n\n1\n2\n3\n4\n5\n\n\nvim /mongodb/replica_sets/myrs_27018/mongod.conf\n\n\n1\n\n\nsecurity:\n #keyfileé´ææä»¶\n keyfile: /mongodb/replica_sets/myrs_27018/mongo.keyfile\n #å¼å¯è®¤è¯æ¹å¼è¿è¡\n authorization: enabled\n\n\n1\n2\n3\n4\n5\n\n\nvim /mongodb/replica_sets/myrs_27019/mongod.conf\n\n\n1\n\n\nsecurity:\n #keyfileé´ææä»¶\n keyfile: /mongodb/replica_sets/myrs_27019/mongo.keyfile\n #å¼å¯è®¤è¯æ¹å¼è¿è¡\n authorization: enabled\n\n\n1\n2\n3\n4\n5\n\n\néæ°å¯å¨\n\n/usr/local/mongodb/bin/mongod -f /mongodb/replica_sets/myrs_27017/mongod.conf\n/usr/local/mongodb/bin/mongod -f /mongodb/replica_sets/myrs_27018/mongod.conf\n/usr/local/mongodb/bin/mongod -f /mongodb/replica_sets/myrs_27019/mongod.conf\n\n\n1\n2\n3\n\n\nåå»ºæ°çç¨æ·è¯»åå\n\nmongo\nuse admin\ndb.auth("myroot","123456") #åç»éè®¤è¯ç®¡çåè´¦å·\nuse articledb\ndb.createuser({user: "bobo", pwd: "123456", roles: ["readwrite"]})\n\n\n1\n2\n3\n4\n5\n\n\n# springdatamongodbè¿æ¥å¯æ¬é\n\nspring:\n #æ°æ®æºéç½®\ndata:\n mongodb:\n   #å¯æ¬éæè®¤è¯çæåµä¸ï¼å­ç¬¦ä¸²è¿æ¥\n  uri:\nmongodb://bobo:123456@192.168.42.130.212:27017,192.168.42.130.212:27018,192.168.42.130.212:27019/articledb?connect=replicaset&slaveok=true&replicaset=myrs\n\n\n1\n2\n3\n4\n5\n6\n7\n\n\n\n# åçéç¾¤ç¯å¢\n\nå³é­éç½®æå¡å¨å¯æ¬éçæå¡ï¼å»ºè®®ä¾æ¬¡å³é­å¯æ¬èç¹ãä¸»èç¹åå³é­è·¯ç±æå¡å¨çæå¡\n\nrs.stepdown()  #åç¥å¯æ¬éè¯´æ¬æºè¦ä¸çº¿\nuse admin \ndb.shutdownserver()\n\n\n1\n2\n3\n\n 1. çækeyæä»¶\n\nopenssl rand -base64 90 -out ./mongo.keyfile\nchmod 400 ./mongo.keyfile\n\n\n1\n2\n\n\n 2. æ·è´keyæä»¶å°åä¸ªæå¡ä¸\n\n 3. ä¿®æ¹éç½®æä»¶\n    \n    #è¿éæ¯åä¸ªæå¡ä¸çéç½®æä»¶\n    vim /mongodb/sharded_cluster/myshardrs01_27018/mongod.conf\n    \n    \n    1\n    2\n    \n    \n    security:\n     #keyfileé´ææä»¶ æ³¨æè¦ä¿®æ¹è·¯å¾\n     keyfile: /mongodb/replica_sets/myrs_27019/mongo.keyfile\n     #å¼å¯è®¤è¯æ¹å¼è¿è¡\n     authorization: enabled\n    \n    \n    1\n    2\n    3\n    4\n    5\n    \n\n 4. éæ°å¯å¨åä¸ªèç¹\n    \n    åå¯å¨éç½®èç¹ï¼åå¯å¨åçèç¹ï¼æåå¯å¨è·¯ç±èç¹ãå¦æåå¯å¨åçèç¹ï¼ä¼å¡ä½\n    \n    /usr/local/mongodb/bin/mongod -f /mongodb/sharded_cluster/myconfigrs_27019/mongod.conf\n    \n    \n    1\n    \n\n 5. å®¢æ·ç«¯mongoï¼éè¿localhostç»å½ä»»æä¸ä¸ªmongosè·¯ç±\n    \n    /usr/local/mongodb/bin/mongo --port 27017\n    \n    \n    1\n    \n\n 6. åå»ºè´¦å·\n    \n    use admin\n    db.createuser({user:"myroot",pwd:"123456",roles:["root"]}) #ç®¡çåè´¦å·\n    db.createuser({user: "bobo", pwd: "123456", roles: [{ role: "readwrite",db: "articledb" }]}) #æå®åºè¯»åè´¦å·\n    \n    \n    1\n    2\n    3\n    \n\n# springdatamongodbè¿æ¥è®¤è¯\n\nspring:\n #æ°æ®æºéç½®\ndata:\n mongodb:\n   # åçéç¾¤æè®¤è¯çæåµä¸ï¼å­ç¬¦ä¸²è¿æ¥\n  uri:\nmongodb://bobo:123456@192.168.42.130.212:27017,192.168.42.130.212:27117/articledb\n\n\n1\n2\n3\n4\n5\n6\n7\n\n\n\n# 4.0æ°ç¹æ§\n\n\n# å è½½å¤é¨jsæä»¶\n\nå è½½å½åè·¯å¾ä¸çjsæä»¶ å¯å¨shellå½ä»¤æ¶çè·¯å¾åjsæå¨è·¯å¾è¦ä¸è´\n\nload("aaa.js") #è¿åtrueåæå\n\n\n1\n\n\n\n# äºå¡æ§\n\npackage com.itheima.sh.demo_01;\n\nimport com.mongodb.mongoclient;\nimport com.mongodb.serveraddress;\nimport com.mongodb.client.*;\nimport com.mongodb.client.model.filters;\nimport org.bson.document;\n\nimport java.util.arraylist;\nimport java.util.list;\n\nimport static com.mongodb.client.model.filters.eq;\nimport static com.mongodb.client.model.updates.inc;\n\npublic class demo02 {\n    static mongoclient mongoclient;\n    static mongodatabase mongodatabase;\n    static mongocollection<document> collection;\n\n    public static void main(string[] args) throws exception{\n        /////////////////////////////////////////////////////////////////////////////////////////////////////////////\n        //å¯æ¬é\n        final list<serveraddress> servers=new arraylist<serveraddress>();\n        servers.add(new serveraddress("127.0.0.1", 27000));\n        servers.add(new serveraddress("127.0.0.1", 27001));\n        servers.add(new serveraddress("127.0.0.1", 27002));\n\n        mongoclient = new mongoclient(servers);\n\n        // è¿æ¥å°æ°æ®åº itcastè¡¨ç¤ºæ°æ®åºå\n        mongodatabase = mongoclient.getdatabase("itcast");\n        //æå°æ°æ®åºæå¼å§çç¶æ\n        printdatastate();\n        //è½¬è´¦ å¸¦äºå¡ç\n        transertransacfunds("a", "b", 100);\n    }\n\n    //å¸¦äºå¡çè½¬è´¦\n    private static void transertransacfunds(string a, string b, int money) {\n        system.out.println("------------ä½¿ç¨äºå¡------------");\n        system.out.println("aåbè½¬è´¦100åï¼æå¯è½ä¼åçå¼å¸¸ï¼åå°ä¹åçç¶æãä¸¤ä¸ªäººçæä½å¨åä¸ä¸ªäºå¡ä¸­");\n        system.out.println("-------------------------------");\n\n        //è·åsession\n        clientsession session = mongoclient.startsession();\n        try {\n            //å¼å¯äºå¡\n            session.starttransaction();\n            //aå100\n            minustransacfroma(session, a, money);\n            //æ¨¡æå¼å¸¸\n            int x = 1 / 0;\n            //bå 100\n            addtransactob(session, b, money);\n            //æäº¤äºå¡\n            session.committransaction();\n        } catch (exception e) {\n            system.out.println("å¸¦äºå¡ï¼è½¬è´¦å¤±è´¥ï¼åå°å¼å¯äºå¡ä¹åçç¶æ");\n            //åæ»äºå¡\n            session.aborttransaction();\n        } finally {\n            //å³é­session\n            session.close();\n            //è¾åºè´¦æ·ç¶æ\n            printdatastate();\n        }\n    }\n\n    //å¸¦äºå¡bå 100\n    private static void addtransactob(clientsession session, string b, int money) {\n        system.out.println("bè´¦æ·å¢å 100");\n        //æ´æ°ææ¡£   å°ææ¡£ä¸­likes=100çææ¡£ä¿®æ¹ä¸ºlikes=200\n        collection.updatemany(session, filters.eq("name", b), inc("money", money));\n    }\n\n    //å¸¦äºå¡aå100\n    private static void minustransacfroma(clientsession session, string a, int money) {\n        system.out.println("aè´¦æ·åå°100");\n        //inc è¡¨ç¤ºç´¯å å½æ°\n        collection.updatemany(session, filters.eq("name", a), inc("money", -money));\n    }\n\n    private static void printdatastate() {\n        //personsè¡¨ç¤ºitcastæ°æ®åºä¸­çéåå\n        collection = mongodatabase.getcollection("account");\n        system.out.println("æ°æ®åºä¸­çèµ·å§ç¶æï¼");\n\n        //æ£ç´¢ææææ¡£\n        /**\n         * 1. è·åè¿­ä»£å¨finditerable<document>\n         * 2. è·åæ¸¸æ mongocursor<document>\n         * 3. éè¿æ¸¸æ éåæ£ç´¢åºçææ¡£éå\n         * */\n        //1. è·åè¿­ä»£å¨finditerable<document>\n        finditerable<document> finditerable = collection.find();\n        //2. è·åæ¸¸æ mongocursor<document>\n        mongocursor<document> mongocursor = finditerable.iterator();\n        //3. éè¿æ¸¸æ éåæ£ç´¢åºçææ¡£éå\n        while (mongocursor.hasnext()) {\n            system.out.println(mongocursor.next());\n        }\n    }\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n26\n27\n28\n29\n30\n31\n32\n33\n34\n35\n36\n37\n38\n39\n40\n41\n42\n43\n44\n45\n46\n47\n48\n49\n50\n51\n52\n53\n54\n55\n56\n57\n58\n59\n60\n61\n62\n63\n64\n65\n66\n67\n68\n69\n70\n71\n72\n73\n74\n75\n76\n77\n78\n79\n80\n81\n82\n83\n84\n85\n86\n87\n88\n89\n90\n91\n92\n93\n94\n95\n96\n97\n98\n99\n100\n101\n102\n103\n\n\n\n# èåæ°æ®ç±»åè½¬æ¢\n\nhttps://www.runoob.com/mongodb/mongodb-replication.html\n\nmongodb4.0å¢å äºä¸ä¸ªæ°çèåæä½ç¬¦ï¼$convert,ç¨æ¥è¿è¡æ°æ®ç±»åçè½¬æ¢ãè¿ä¸ªç±»åè½¬æ¢æä½ç¬¦ç®åäºæ°æ®çæ½åãè½¬æ¢åå è½½çè¿ç¨ãåæ¶å°å®¢æ·ç«¯çå¤çæ°æ®çååè½¬ç§»å°äºæå¡å¨ç«¯ãä»èåè½»äºå®¢æ·ç«¯å¤çæ°æ®çååã\n\n#from -- è½¬è´¦åèµ·äºº\n#to -- è½¬è´¦æ¥æ¶äºº\n#time -- è½¬è´¦æ¶é´\n#money -- è½¬è´¦éé¢\nuse itcast;\nvar one = {"from":"a","to":"b","money":100};\nvar two = {"from":"a","to":"b","money":200,"time":isodate("2018-05-11t13:58:51.122z")};\nvar thr = {"from":"a","to":"b","money":300,"time":"2018-07-10 14:38:50"};\nvar four = {"from":"a","to":"b","money":100,"time":"2017-04-16 14:38:50"};\nvar five = {"from":"a","to":"b","money":500,"time":1569569092514};\nvar six = {"from":"a","to":"b","money":500,"time":"last friday"};\ndb.transfer.insertmany([one,two,thr,four,five,six]);\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n\n\næä»¬åç°ä¸è¿°ç»æçæ¶é´æ¯æ¡è½¬è´¦è®°å½é½ä¸ä¸è´ãéå¸¸æä¹±ãæçè½¬è´¦è®°å½æ¯æ åçä¾å¦isodate,æçæ¶é´æ¯å­ç¬¦ä¸²ï¼æçæ¯ä½¿ç¨æ´æ°è¡¨ç¤ºï¼èè¿æçæ ¹æ¬æ²¡æè½¬è´¦è®°å½ãè¿æçæ¶é´æ¯æ æçã\n\né£ä¹è¿ä¸ªæ¶åæä»¬å°±å¯ä»¥ä½¿ç¨mongodb4.0å¼å¥çæ°æ®ç±»åè½¬æ¢çæä½ç¬¦æ¥å°è½¬è´¦æ¶é´ç»ä¸ä¸ºä¸è´çæ°æ®ç±»åã\n\nconversionstage={\n    //èåéé\n    $project:{\n        //å¨æ°æ®æ å°ééä¸­ä¿çåæ¥çæ°æ®é¡¹ï¼è®¾ç½®ä¸º1\n        from:1,\n        to:1,\n        money:1,\n        time:{//è½¬è´¦æ¶é´éè¦åä¸äºç±»åçè½¬æ¢\n            //è½¬æ¢æä½ç¬¦\n            $convert:{\n                //å¿é¡»ä¹¦åç åæ¥çè½¬è´¦æ¶é´\n                input:"$time",\n                //å¿é¡»ä¹¦åç å¸ææè¿ä¸é¡¹æ°æ®è½¬æ¢åªç§ç±»åï¼dateå°±æ¯mongoçæ åæ¶é´ç±»åisodate\n                to:"date",\n                //onerrorè¿ä¸é¡¹æ¯å¯éçãå¯¹äºå­å¨çå±æ§ï¼ä½æ¯å±æ§å¼æ¯å®å¨æ²¡æåæ³è½¬æ¢ä¸ºæ åçæ¥ææ ¼å¼ï¼å¯ä»¥å¯¹å¶æ¾ç¤ºã\n                onerror:{\n                \t//$concatè¡¨ç¤ºå­æ®µæ¼æ¥æä½ç¬¦\n                    $concat:["can not convert ",{$tostring:"$time"}," to date type"]\n                },\n                //ç¼ºå¤±è½¬è´¦æ¶é´è¿ä¸é¡¹ï¼å¯ä»¥å¯¹å¶æç¤º\n                onnull:"missing time"\n            }\n        }\n    }\n};\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n\n\nä½¿ç¨èåå½æ°aggregate()å¤çä¸è¿°æ°æ®ãæ§è¡è½¬æ¢æä½\n\n#db.éåå.aggregate([èåæä½åå®¹])\ndb.transfer.aggregate([conversionstage]);\n\n\n1\n2\n',charsets:{cjk:!0},lastUpdated:"2022/03/18, 07:01:11",lastUpdatedTimestamp:1647558071e3},{title:"éåç±»å",frontmatter:{title:"éåç±»å",date:"2022-03-18T00:52:51.000Z",permalink:"/pages/11c241/",categories:["åç«¯","Python"],tags:[null]},regularPath:"/%E5%90%8E%E7%AB%AF/05.Python/08.%E9%9B%86%E5%90%88%E7%B1%BB%E5%9E%8B.html",relativePath:"åç«¯/05.Python/08.éåç±»å.md",key:"v-75630836",path:"/pages/11c241/",headersStr:null,content:"# éåç±»å\n\n> X = {7ï¼yï¼xï¼1}\n> Y = set() #ç©ºéå\n> \n> \n> 1\n> 2",normalizedContent:"# éåç±»å\n\n> x = {7ï¼yï¼xï¼1}\n> y = set() #ç©ºéå\n> \n> \n> 1\n> 2",charsets:{cjk:!0},lastUpdated:"2022/03/18, 07:01:11",lastUpdatedTimestamp:1647558071e3},{title:"åè¡¨ç±»å",frontmatter:{title:"åè¡¨ç±»å",date:"2022-03-18T00:52:51.000Z",permalink:"/pages/d7e80b/",categories:["åç«¯","Python"],tags:[null]},regularPath:"/%E5%90%8E%E7%AB%AF/05.Python/06.%E5%88%97%E8%A1%A8%E7%B1%BB%E5%9E%8B.html",relativePath:"åç«¯/05.Python/06.åè¡¨ç±»å.md",key:"v-8b08f0b2",path:"/pages/d7e80b/",headersStr:null,content:"# åè¡¨ç±»å\n\n> names = ['1','2','3']\n> \n> \n> 1",normalizedContent:"# åè¡¨ç±»å\n\n> names = ['1','2','3']\n> \n> \n> 1",charsets:{cjk:!0},lastUpdated:"2022/03/18, 07:01:11",lastUpdatedTimestamp:1647558071e3},{title:"æ¥çæ°æ®ç±»å",frontmatter:{title:"æ¥çæ°æ®ç±»å",date:"2022-03-18T00:52:51.000Z",permalink:"/pages/1f8618/",categories:["åç«¯","Python"],tags:[null]},regularPath:"/%E5%90%8E%E7%AB%AF/05.Python/10.%E6%9F%A5%E7%9C%8B%E6%95%B0%E6%8D%AE%E7%B1%BB%E5%9E%8B.html",relativePath:"åç«¯/05.Python/10.æ¥çæ°æ®ç±»å.md",key:"v-aa36ff9c",path:"/pages/1f8618/",headersStr:null,content:"# æ¥çæ°æ®ç±»å\n\n> ä½¿ç¨type()å¯ä»¥æ¥çä¸ä¸ªåéå¯¹åºçæ°æ®ç±»å\n> \n> print(type(123))\n> \n> \n> 1\n> \n> \n> type(a).print å¯ä»¥è¡¥å¨\n> \n> pythonåéæ¯æ²¡ææ°æ®ç±»åçï¼è¿éçç±»åæ¯æçæ¯åéå¯¹åºæ°å¼çæ°æ®ç±»å",normalizedContent:"# æ¥çæ°æ®ç±»å\n\n> ä½¿ç¨type()å¯ä»¥æ¥çä¸ä¸ªåéå¯¹åºçæ°æ®ç±»å\n> \n> print(type(123))\n> \n> \n> 1\n> \n> \n> type(a).print å¯ä»¥è¡¥å¨\n> \n> pythonåéæ¯æ²¡ææ°æ®ç±»åçï¼è¿éçç±»åæ¯æçæ¯åéå¯¹åºæ°å¼çæ°æ®ç±»å",charsets:{cjk:!0},lastUpdated:"2022/03/18, 07:01:11",lastUpdatedTimestamp:1647558071e3},{title:"å­å¸ç±»å",frontmatter:{title:"å­å¸ç±»å",date:"2022-03-18T00:52:51.000Z",permalink:"/pages/bbada7/",categories:["åç«¯","Python"],tags:[null]},regularPath:"/%E5%90%8E%E7%AB%AF/05.Python/07.%E5%AD%97%E5%85%B8%E7%B1%BB%E5%9E%8B.html",relativePath:"åç«¯/05.Python/07.å­å¸ç±»å.md",key:"v-51da2d27",path:"/pages/bbada7/",headersStr:null,content:"# å­å¸ç±»å\n\n> person ={'name':'4','age':17,'addr':'ææ'}\n> a = {} #ç©ºå­å¸\n> #å­å¸ætagæ ç­¾ï¼éååªææ°æ®è½ç¶é½æ¯ç¨ä¸­ææ¬å·æ¬èµ·\n> \n> \n> 1\n> 2\n> 3",normalizedContent:"# å­å¸ç±»å\n\n> person ={'name':'4','age':17,'addr':'ææ'}\n> a = {} #ç©ºå­å¸\n> #å­å¸ætagæ ç­¾ï¼éååªææ°æ®è½ç¶é½æ¯ç¨ä¸­ææ¬å·æ¬èµ·\n> \n> \n> 1\n> 2\n> 3",charsets:{cjk:!0},lastUpdated:"2022/03/18, 07:01:11",lastUpdatedTimestamp:1647558071e3},{title:"åç»ç±»å",frontmatter:{title:"åç»ç±»å",date:"2022-03-18T00:52:51.000Z",permalink:"/pages/684f07/",categories:["åç«¯","Python"],tags:[null]},regularPath:"/%E5%90%8E%E7%AB%AF/05.Python/09.%E5%85%83%E7%BB%84%E7%B1%BB%E5%9E%8B.html",relativePath:"åç«¯/05.Python/09.åç»ç±»å.md",key:"v-55473949",path:"/pages/684f07/",headersStr:null,content:"# åç»ç±»å\n\n> nums = (1,2,3,4,5,6)\n> \n> \n> 1",normalizedContent:"# åç»ç±»å\n\n> nums = (1,2,3,4,5,6)\n> \n> \n> 1",charsets:{cjk:!0},lastUpdated:"2022/03/18, 07:01:11",lastUpdatedTimestamp:1647558071e3},{title:"è¾åº",frontmatter:{title:"è¾åº",date:"2022-03-18T00:52:51.000Z",permalink:"/pages/1d58f1/",categories:["åç«¯","Python"],tags:[null]},regularPath:"/%E5%90%8E%E7%AB%AF/05.Python/12.%E8%BE%93%E5%87%BA.html",relativePath:"åç«¯/05.Python/12.è¾åº.md",key:"v-7b8967f0",path:"/pages/1d58f1/",headersStr:null,content:"# è¾åº\n\n> # print(self, *args, sep=' ', end='\\n', file=None): # known special case of print\n> # sep åæ°ç¨æ¥è¡¨ç¤ºè¾åºæ¶ï¼æ¯ä¸ªå¼ä¹é´çè¿æ¥ç¬¦ï¼é»è®¤ä¸ºç©ºæ ¼ä¸ºè¿æ¥ç¬¦\n> # end å½æ§è¡å®printåï¼æ¥ä¸æ¥è¾å¥çå­ç¬¦ãé»è®¤\\n æ¢è¡é®\n> # file è¾åºå°æå®æä»¶ä¸­\n> # æå°ä¸ä¸ªæ°å­ï¼é»è®¤ä½¿ç¨åè¿å¶è¾åº\n> print(123,'å¯¹å¯¹å¯¹',sep=\"+\"ï¼end='\\n')\n> \n> \n> 1\n> 2\n> 3\n> 4\n> 5\n> 6",normalizedContent:"# è¾åº\n\n> # print(self, *args, sep=' ', end='\\n', file=none): # known special case of print\n> # sep åæ°ç¨æ¥è¡¨ç¤ºè¾åºæ¶ï¼æ¯ä¸ªå¼ä¹é´çè¿æ¥ç¬¦ï¼é»è®¤ä¸ºç©ºæ ¼ä¸ºè¿æ¥ç¬¦\n> # end å½æ§è¡å®printåï¼æ¥ä¸æ¥è¾å¥çå­ç¬¦ãé»è®¤\\n æ¢è¡é®\n> # file è¾åºå°æå®æä»¶ä¸­\n> # æå°ä¸ä¸ªæ°å­ï¼é»è®¤ä½¿ç¨åè¿å¶è¾åº\n> print(123,'å¯¹å¯¹å¯¹',sep=\"+\"ï¼end='\\n')\n> \n> \n> 1\n> 2\n> 3\n> 4\n> 5\n> 6",charsets:{cjk:!0},lastUpdated:"2022/03/18, 07:01:11",lastUpdatedTimestamp:1647558071e3},{title:"æ è¯ç¬¦",frontmatter:{title:"æ è¯ç¬¦",date:"2022-03-18T00:52:51.000Z",permalink:"/pages/d9c568/",categories:["åç«¯","Python"],tags:[null]},regularPath:"/%E5%90%8E%E7%AB%AF/05.Python/11.%E6%A0%87%E8%AF%86%E7%AC%A6.html",relativePath:"åç«¯/05.Python/11.æ è¯ç¬¦.md",key:"v-f2fe618e",path:"/pages/d9c568/",headers:[{level:2,title:"æ è¯ç¬¦çå½åè§ååè§è",slug:"æ è¯ç¬¦çå½åè§ååè§è",normalizedTitle:"æ è¯ç¬¦çå½åè§ååè§è",charIndex:33}],headersStr:"æ è¯ç¬¦çå½åè§ååè§è",content:"# æ è¯ç¬¦\n\n> åéãæ¨¡ååãå½æ°åãç±»å\n> \n> \n> # æ è¯ç¬¦çå½åè§ååè§è\n> \n> è§å\n> \n>  1. ç±æ°å­ãå­æ¯å_ç»æï¼ä¸è½ä»¥æ°å­å¼å¤´\n> \n>  2. åºåå¤§å°å\n> \n>  3. ä¸è½ä½¿ç¨å³é®å­\n>     \n>     AND     AS     ASSERT   BREAK      CLASS    CONTINUE\n>     def     del    elif     else       except   finally\n>     for     from   False    global     if       import\n>     in      is     lambda   nonlocal   not      None\n>     or      pass   raise    return     try      True\n>     while   with   yield                        \n> \n> è§è\n> \n>  1. é¡¾åæä¹\n> \n>  2. éµå®ä¸å®çå½åè§è\n>     \n>     1. å°é©¼å³°å½åæ³:ç¬¬ä¸ä¸ªåè¯çé¦å­æ¯å°åï¼ç¶åæ¯ä¸ªå­æ¯çé¦å­æ¯é½å¤§å userNameAndPassword\n>     2. å¤§é©¼å³°å½åæ³:æ¯ä¸ªä¸ªåè¯çé¦å­æ¯é½å¤§å PersonModel\n>     3. ä½¿ç¨ä¸åçº¿è¿æ¥: user_name_and_password\n>     4. å¨pythonéçåéãå½æ°åæ¨¡ååä½¿ç¨ä¸åçº¿è¿æ¥ï¼pythonéçç±»åç¨å¤§é©¼å³°å½åæ³",normalizedContent:"# æ è¯ç¬¦\n\n> åéãæ¨¡ååãå½æ°åãç±»å\n> \n> \n> # æ è¯ç¬¦çå½åè§ååè§è\n> \n> è§å\n> \n>  1. ç±æ°å­ãå­æ¯å_ç»æï¼ä¸è½ä»¥æ°å­å¼å¤´\n> \n>  2. åºåå¤§å°å\n> \n>  3. ä¸è½ä½¿ç¨å³é®å­\n>     \n>     and     as     assert   break      class    continue\n>     def     del    elif     else       except   finally\n>     for     from   false    global     if       import\n>     in      is     lambda   nonlocal   not      none\n>     or      pass   raise    return     try      true\n>     while   with   yield                        \n> \n> è§è\n> \n>  1. é¡¾åæä¹\n> \n>  2. éµå®ä¸å®çå½åè§è\n>     \n>     1. å°é©¼å³°å½åæ³:ç¬¬ä¸ä¸ªåè¯çé¦å­æ¯å°åï¼ç¶åæ¯ä¸ªå­æ¯çé¦å­æ¯é½å¤§å usernameandpassword\n>     2. å¤§é©¼å³°å½åæ³:æ¯ä¸ªä¸ªåè¯çé¦å­æ¯é½å¤§å personmodel\n>     3. ä½¿ç¨ä¸åçº¿è¿æ¥: user_name_and_password\n>     4. å¨pythonéçåéãå½æ°åæ¨¡ååä½¿ç¨ä¸åçº¿è¿æ¥ï¼pythonéçç±»åç¨å¤§é©¼å³°å½åæ³",charsets:{cjk:!0},lastUpdated:"2022/03/18, 07:01:11",lastUpdatedTimestamp:1647558071e3},{title:"è¾å¥",frontmatter:{title:"è¾å¥",date:"2022-03-18T00:52:51.000Z",permalink:"/pages/c9ca02/",categories:["åç«¯","Python"],tags:[null]},regularPath:"/%E5%90%8E%E7%AB%AF/05.Python/13.%E8%BE%93%E5%85%A5.html",relativePath:"åç«¯/05.Python/13.è¾å¥.md",key:"v-47dc7e48",path:"/pages/c9ca02/",headersStr:null,content:'# è¾å¥\n\n> #input() æ¬å·éåå¥æç¤ºçä¿¡æ¯\n> #å®äºä¸ä¸ªåéå¯ä»¥ä¿å­inputä¸­è¢«ç¨æ·è¾å¥çåå®¹\n> #inputä¿å­çç»ææ¯å­ç¬¦ä¸²\n> #int()å¯ä»¥æå­ç¬¦ä¸²è½¬åæintæ´æ°å\n> \n> a = input("hello")\n> print(a)\n> print(type(a))\n> print(int(a)+1)\n> \n> \n> 1\n> 2\n> 3\n> 4\n> 5\n> 6\n> 7\n> 8\n> 9',normalizedContent:'# è¾å¥\n\n> #input() æ¬å·éåå¥æç¤ºçä¿¡æ¯\n> #å®äºä¸ä¸ªåéå¯ä»¥ä¿å­inputä¸­è¢«ç¨æ·è¾å¥çåå®¹\n> #inputä¿å­çç»ææ¯å­ç¬¦ä¸²\n> #int()å¯ä»¥æå­ç¬¦ä¸²è½¬åæintæ´æ°å\n> \n> a = input("hello")\n> print(a)\n> print(type(a))\n> print(int(a)+1)\n> \n> \n> 1\n> 2\n> 3\n> 4\n> 5\n> 6\n> 7\n> 8\n> 9',charsets:{cjk:!0},lastUpdated:"2022/03/18, 07:01:11",lastUpdatedTimestamp:1647558071e3},{title:"binãoctãhexåç½®å½æ°",frontmatter:{title:"binãoctãhexåç½®å½æ°",date:"2022-03-18T00:52:51.000Z",permalink:"/pages/1e0ec6/",categories:["åç«¯","Python"],tags:[null]},regularPath:"/%E5%90%8E%E7%AB%AF/05.Python/16.bin%E3%80%81oct%E3%80%81hex%E5%86%85%E7%BD%AE%E5%87%BD%E6%95%B0.html",relativePath:"åç«¯/05.Python/16.binãoctãhexåç½®å½æ°.md",key:"v-38a8ef5e",path:"/pages/1e0ec6/",headersStr:null,content:"# binãoctãhexåç½®å½æ°\n\n> ä½¿ç¨bin()å½æ°å¯ä»¥å°æ°å­/åè¿å¶è½¬åæäºè¿å¶\n> \n> ä½¿ç¨oct()å½æ°å¯ä»¥å°æ°å­/åè¿å¶è½¬åæå«è¿å¶\n> \n> ä½¿ç¨hex()å½æ°å¯ä»¥å°æ°å­/åè¿å¶è½¬åæåå­è¿å¶",normalizedContent:"# binãoctãhexåç½®å½æ°\n\n> ä½¿ç¨bin()å½æ°å¯ä»¥å°æ°å­/åè¿å¶è½¬åæäºè¿å¶\n> \n> ä½¿ç¨oct()å½æ°å¯ä»¥å°æ°å­/åè¿å¶è½¬åæå«è¿å¶\n> \n> ä½¿ç¨hex()å½æ°å¯ä»¥å°æ°å­/åè¿å¶è½¬åæåå­è¿å¶",charsets:{cjk:!0},lastUpdated:"2022/03/18, 07:01:11",lastUpdatedTimestamp:1647558071e3},{title:"è¿å¶è½¬æ¢",frontmatter:{title:"è¿å¶è½¬æ¢",date:"2022-03-18T00:52:51.000Z",permalink:"/pages/e533d0/",categories:["åç«¯","Python"],tags:[null]},regularPath:"/%E5%90%8E%E7%AB%AF/05.Python/15.%E8%BF%9B%E5%88%B6%E8%BD%AC%E6%8D%A2.html",relativePath:"åç«¯/05.Python/15.è¿å¶è½¬æ¢.md",key:"v-4601280a",path:"/pages/e533d0/",headers:[{level:2,title:"äºè¿å¶è½¬å«è¿å¶",slug:"äºè¿å¶è½¬å«è¿å¶",normalizedTitle:"äºè¿å¶è½¬å«è¿å¶",charIndex:11},{level:2,title:"äºè¿å¶è½¬åå­è¿å¶",slug:"äºè¿å¶è½¬åå­è¿å¶",normalizedTitle:"äºè¿å¶è½¬åå­è¿å¶",charIndex:190},{level:2,title:"äºè¿å¶è½¬åè¿å¶",slug:"äºè¿å¶è½¬åè¿å¶",normalizedTitle:"äºè¿å¶è½¬åè¿å¶",charIndex:377},{level:2,title:"åè¿å¶è½¬äºè¿å¶",slug:"åè¿å¶è½¬äºè¿å¶",normalizedTitle:"åè¿å¶è½¬äºè¿å¶",charIndex:482}],headersStr:"äºè¿å¶è½¬å«è¿å¶ äºè¿å¶è½¬åå­è¿å¶ äºè¿å¶è½¬åè¿å¶ åè¿å¶è½¬äºè¿å¶",content:"# è¿å¶è½¬æ¢\n\n\n# äºè¿å¶è½¬å«è¿å¶\n\n> 3ä¸ªä¸ºä¸ç»å¦å¼å¤´ä¸å¤3ä½åç¨0å¡«å\n> \n> 101 010\n> \n> åç»3ä½æ°åçåèªä¹ä»¥2ç0å°Xæ¬¡æ¹ 1-2-4-8-16-32-64\n> \n> 1*2çé¶æ¬¡æ¹+0*2çä¸æ¬¡æ¹+1*2çäºæ¬¡æ¹=1+0+4=5\n> \n> 0*2çé¶æ¬¡æ¹+1*2çä¸æ¬¡æ¹+0*2çäºæ¬¡æ¹=0+2+0=2\n> \n> å42çå«è¿å¶ä¸º 5 2\n\n\n# äºè¿å¶è½¬åå­è¿å¶\n\n> 4ä½ä¸ºä¸ç»å¼å¤´ä¸å¤4ä½åç¨0å¡«å\n> \n> åç»4ä½æ°åçåèªä¹ä»¥2ç0å°Xæ¬¡æ¹\n> \n> 0010 1010\n> \n> 0*2çé¶æ¬¡æ¹+1*2çä¸æ¬¡æ¹+0*2çäºæ¬¡æ¹+0*2çä¸æ¬¡æ¹=0+2+0+0=2\n> \n> 0*2çé¶æ¬¡æ¹+1*2çä¸æ¬¡æ¹+0*2çäºæ¬¡æ¹+1*2çä¸æ¬¡æ¹=0+2+0+8=10=A\n> \n> å42çåå­è¿å¶ä¸º 2A\n\n\n# äºè¿å¶è½¬åè¿å¶\n\n> ä¸ç¨åç»ï¼ç´æ¥ååºåèªä¹ä»¥2^0å°2^X\n> \n> 101010\n> \n> 0*2^0+1*2^1+0*2^2+1*2^3+0*2^4+1*2^5=0+2+0+8+0+32=42\n\n\n# åè¿å¶è½¬äºè¿å¶\n\n> å°åè¿å¶çæ°é¤ä»¥è¦è½¬æ¢çè¿å¶æ°ï¼äºè¿å¶é¤ä»¥2ï¼ä¸æ­çé¤ä»¥2ç´å°ç»æä¸º0ï¼é¤ä»¥ç»æçä½æ°ä¸ºè½¬æ¢ç¬¦ï¼æåååºæåå®æè½¬æ¢\n> \n> 42/2=21 ä½0\n> \n> 21/2=10 ä½1\n> \n> 10/2=5 ä½0\n> \n> 5/2=2 ä½1\n> \n> 2/2=1 ä½0\n> \n> 1/2=0 ä½1\n> \n> åååºæååä¸º 101010",normalizedContent:"# è¿å¶è½¬æ¢\n\n\n# äºè¿å¶è½¬å«è¿å¶\n\n> 3ä¸ªä¸ºä¸ç»å¦å¼å¤´ä¸å¤3ä½åç¨0å¡«å\n> \n> 101 010\n> \n> åç»3ä½æ°åçåèªä¹ä»¥2ç0å°xæ¬¡æ¹ 1-2-4-8-16-32-64\n> \n> 1*2çé¶æ¬¡æ¹+0*2çä¸æ¬¡æ¹+1*2çäºæ¬¡æ¹=1+0+4=5\n> \n> 0*2çé¶æ¬¡æ¹+1*2çä¸æ¬¡æ¹+0*2çäºæ¬¡æ¹=0+2+0=2\n> \n> å42çå«è¿å¶ä¸º 5 2\n\n\n# äºè¿å¶è½¬åå­è¿å¶\n\n> 4ä½ä¸ºä¸ç»å¼å¤´ä¸å¤4ä½åç¨0å¡«å\n> \n> åç»4ä½æ°åçåèªä¹ä»¥2ç0å°xæ¬¡æ¹\n> \n> 0010 1010\n> \n> 0*2çé¶æ¬¡æ¹+1*2çä¸æ¬¡æ¹+0*2çäºæ¬¡æ¹+0*2çä¸æ¬¡æ¹=0+2+0+0=2\n> \n> 0*2çé¶æ¬¡æ¹+1*2çä¸æ¬¡æ¹+0*2çäºæ¬¡æ¹+1*2çä¸æ¬¡æ¹=0+2+0+8=10=a\n> \n> å42çåå­è¿å¶ä¸º 2a\n\n\n# äºè¿å¶è½¬åè¿å¶\n\n> ä¸ç¨åç»ï¼ç´æ¥ååºåèªä¹ä»¥2^0å°2^x\n> \n> 101010\n> \n> 0*2^0+1*2^1+0*2^2+1*2^3+0*2^4+1*2^5=0+2+0+8+0+32=42\n\n\n# åè¿å¶è½¬äºè¿å¶\n\n> å°åè¿å¶çæ°é¤ä»¥è¦è½¬æ¢çè¿å¶æ°ï¼äºè¿å¶é¤ä»¥2ï¼ä¸æ­çé¤ä»¥2ç´å°ç»æä¸º0ï¼é¤ä»¥ç»æçä½æ°ä¸ºè½¬æ¢ç¬¦ï¼æåååºæåå®æè½¬æ¢\n> \n> 42/2=21 ä½0\n> \n> 21/2=10 ä½1\n> \n> 10/2=5 ä½0\n> \n> 5/2=2 ä½1\n> \n> 2/2=1 ä½0\n> \n> 1/2=0 ä½1\n> \n> åååºæååä¸º 101010",charsets:{cjk:!0},lastUpdated:"2022/03/18, 07:01:11",lastUpdatedTimestamp:1647558071e3},{title:"æ°æ®ç±»åçè½¬æ¢",frontmatter:{title:"æ°æ®ç±»åçè½¬æ¢",date:"2022-03-18T00:52:51.000Z",permalink:"/pages/ebc10c/",categories:["åç«¯","Python"],tags:[null]},regularPath:"/%E5%90%8E%E7%AB%AF/05.Python/17.%E6%95%B0%E6%8D%AE%E7%B1%BB%E5%9E%8B%E7%9A%84%E8%BD%AC%E6%8D%A2.html",relativePath:"åç«¯/05.Python/17.æ°æ®ç±»åçè½¬æ¢.md",key:"v-457b85c0",path:"/pages/ebc10c/",headers:[{level:2,title:"å¤§å°åè½¬æ¢",slug:"å¤§å°åè½¬æ¢",normalizedTitle:"å¤§å°åè½¬æ¢",charIndex:199},{level:2,title:"å¸å°å¼çè½¬æ¢",slug:"å¸å°å¼çè½¬æ¢",normalizedTitle:"å¸å°å¼çè½¬æ¢",charIndex:518},{level:2,title:"éå½¢ç±»åè½¬æ¢",slug:"éå½¢ç±»åè½¬æ¢",normalizedTitle:"éå½¢ç±»åè½¬æ¢",charIndex:773}],headersStr:"å¤§å°åè½¬æ¢ å¸å°å¼çè½¬æ¢ éå½¢ç±»åè½¬æ¢",content:'# æ°æ®ç±»åçè½¬æ¢\n\n> ä¸åç±»åçæ°æ®ä¸è½è¿è¡è¿ç®å¦åä¼æ¥é\n> \n> int()ä½¿ç¨å¯ä»¥å°å¶ä»ç±»åçæ°æ®è½¬æ¢ä¸ºintæ´æ°ï¼å¦æå­ç¬¦ä¸²ä¸æ¯ä¸æ®µåæ³çæ°å­è½¬æ¢ä¼æ¥éï¼é»è®¤base(è¿å¶)æ¯åè¿å¶ï¼å¦è¦è½¬æ¢å¶ä»è¿å¶çæ°æ®éæ´æ¹åé¢çåæ°æ¹æ16/8/2å³å¯ã\n> \n> str()ä½¿ç¨å¯ä»¥å°å¶ä»ç±»åçæ°æ®è½¬ä¸ºstrå­ç¬¦ä¸²\n> \n> float()ä½¿ç¨å¯ä»¥å°å¶ä»ç±»åæ°æ®è½¬ä¸ºfloatæµ®ç¹å°æ°\n\n\n# å¤§å°åè½¬æ¢\n\n> (str.upper())          # æææå­ç¬¦ä¸­çå°åå­æ¯è½¬æ¢æå¤§åå­æ¯\n> print(str.lower())          # æææå­ç¬¦ä¸­çå¤§åå­æ¯è½¬æ¢æå°åå­æ¯\n> print(str.capitalize())     # æç¬¬ä¸ä¸ªå­æ¯è½¬åä¸ºå¤§åå­æ¯ï¼å¶ä½å°å\n> print(str.title())          # ææ¯ä¸ªåè¯çç¬¬ä¸ä¸ªå­æ¯è½¬åä¸ºå¤§åï¼å¶ä½å°å \n> a.lower()\n> a.upper()\n> a.title()é¦å­æ¯å¤§å\n> a.swapcase()é¦å­å¤§åä»¥åå¤§å°åäºæ¢\n> \n> \n> 1\n> 2\n> 3\n> 4\n> 5\n> 6\n> 7\n> 8\n\n\n# å¸å°å¼çè½¬æ¢\n\n> bool()ä½¿ç¨å¯ä»¥å°å¶ä»ç±»åæ°æ®è½¬ä¸ºboolå¸å°å¼ï¼åªææ°å­0è½¬æ¢æå¸å°å¼æ¯Flaseï¼å­ç¬¦ä¸²è½¬æ¢æå¸å°å¼é½æ¯Truem,åªæç©ºå­ç¬¦ä¸²è½¬æ¢æå¸å°å¼ææ¯Flase\n> \n> å¨pythonéé¢åªæç©ºå­ç¬¦ââï¼æ°å­0ï¼ç©ºå­å¸{}ï¼ç©ºåè¡¨[]ï¼ç©ºéåset(),ç©ºåç»()åç©ºæ°æ®Noneä¼è¢«è½¬æ¢æä¸ºFlaseï¼å¶ä»é½æ¯è½¬æ¢æTrue\n> \n> #å¨è®¡ç®æºä¸­å¸å°å¼ True å Flase é½æ¯ç¨ 1 å 0 æ¥ä¿å­ç\n> print(True + 1)\n> \n> \n> 1\n> 2\n\n\n# éå½¢ç±»åè½¬æ¢\n\n> if 0:      #å ä¸º0å¯¹åºçå¸å°å¼ä¸ºFlaseæä»¥éå½¢è½¬æ¢äºä¸æç«è¾åºæå°\n> print("hello123")\n> \n> if 3:\n> print("hello")\n> \n> \n> 1\n> 2\n> 3\n> 4\n> 5\n\n',normalizedContent:'# æ°æ®ç±»åçè½¬æ¢\n\n> ä¸åç±»åçæ°æ®ä¸è½è¿è¡è¿ç®å¦åä¼æ¥é\n> \n> int()ä½¿ç¨å¯ä»¥å°å¶ä»ç±»åçæ°æ®è½¬æ¢ä¸ºintæ´æ°ï¼å¦æå­ç¬¦ä¸²ä¸æ¯ä¸æ®µåæ³çæ°å­è½¬æ¢ä¼æ¥éï¼é»è®¤base(è¿å¶)æ¯åè¿å¶ï¼å¦è¦è½¬æ¢å¶ä»è¿å¶çæ°æ®éæ´æ¹åé¢çåæ°æ¹æ16/8/2å³å¯ã\n> \n> str()ä½¿ç¨å¯ä»¥å°å¶ä»ç±»åçæ°æ®è½¬ä¸ºstrå­ç¬¦ä¸²\n> \n> float()ä½¿ç¨å¯ä»¥å°å¶ä»ç±»åæ°æ®è½¬ä¸ºfloatæµ®ç¹å°æ°\n\n\n# å¤§å°åè½¬æ¢\n\n> (str.upper())          # æææå­ç¬¦ä¸­çå°åå­æ¯è½¬æ¢æå¤§åå­æ¯\n> print(str.lower())          # æææå­ç¬¦ä¸­çå¤§åå­æ¯è½¬æ¢æå°åå­æ¯\n> print(str.capitalize())     # æç¬¬ä¸ä¸ªå­æ¯è½¬åä¸ºå¤§åå­æ¯ï¼å¶ä½å°å\n> print(str.title())          # ææ¯ä¸ªåè¯çç¬¬ä¸ä¸ªå­æ¯è½¬åä¸ºå¤§åï¼å¶ä½å°å \n> a.lower()\n> a.upper()\n> a.title()é¦å­æ¯å¤§å\n> a.swapcase()é¦å­å¤§åä»¥åå¤§å°åäºæ¢\n> \n> \n> 1\n> 2\n> 3\n> 4\n> 5\n> 6\n> 7\n> 8\n\n\n# å¸å°å¼çè½¬æ¢\n\n> bool()ä½¿ç¨å¯ä»¥å°å¶ä»ç±»åæ°æ®è½¬ä¸ºboolå¸å°å¼ï¼åªææ°å­0è½¬æ¢æå¸å°å¼æ¯flaseï¼å­ç¬¦ä¸²è½¬æ¢æå¸å°å¼é½æ¯truem,åªæç©ºå­ç¬¦ä¸²è½¬æ¢æå¸å°å¼ææ¯flase\n> \n> å¨pythonéé¢åªæç©ºå­ç¬¦ââï¼æ°å­0ï¼ç©ºå­å¸{}ï¼ç©ºåè¡¨[]ï¼ç©ºéåset(),ç©ºåç»()åç©ºæ°æ®noneä¼è¢«è½¬æ¢æä¸ºflaseï¼å¶ä»é½æ¯è½¬æ¢ætrue\n> \n> #å¨è®¡ç®æºä¸­å¸å°å¼ true å flase é½æ¯ç¨ 1 å 0 æ¥ä¿å­ç\n> print(true + 1)\n> \n> \n> 1\n> 2\n\n\n# éå½¢ç±»åè½¬æ¢\n\n> if 0:      #å ä¸º0å¯¹åºçå¸å°å¼ä¸ºflaseæä»¥éå½¢è½¬æ¢äºä¸æç«è¾åºæå°\n> print("hello123")\n> \n> if 3:\n> print("hello")\n> \n> \n> 1\n> 2\n> 3\n> 4\n> 5\n\n',charsets:{cjk:!0},lastUpdated:"2022/03/18, 07:01:11",lastUpdatedTimestamp:1647558071e3},{title:"äºè¿å¶ å«è¿å¶ åè¿å¶ åå­è¿å¶",frontmatter:{title:"äºè¿å¶ å«è¿å¶ åè¿å¶ åå­è¿å¶",date:"2022-03-18T00:52:51.000Z",permalink:"/pages/6019e1/",categories:["åç«¯","Python"],tags:[null]},regularPath:"/%E5%90%8E%E7%AB%AF/05.Python/14.%E4%BA%8C%E8%BF%9B%E5%88%B6%20%E5%85%AB%E8%BF%9B%E5%88%B6%20%E5%8D%81%E8%BF%9B%E5%88%B6%20%E5%8D%81%E5%85%AD%E8%BF%9B%E5%88%B6.html",relativePath:"åç«¯/05.Python/14.äºè¿å¶ å«è¿å¶ åè¿å¶ åå­è¿å¶.md",key:"v-ceac6f68",path:"/pages/6019e1/",headersStr:null,content:"# äºè¿å¶ å«è¿å¶ åè¿å¶ åå­è¿å¶\n\n> è®¡ç®æºåªä¿å­äºè¿å¶0å1ï¼åæ¶æ¯æå«è¿å¶ååå­è¿å¶\n> \n> äºè¿å¶(Bin) å«è¿å¶(Oct) åå­è¿å¶(Hex) åè¿å¶(Dec) pythonä¸­é½è½è¯å«\n> \n> ä»¥ 0b å¼å¤´çæ°å­æ¯äºè¿å¶ 0-1 binï¼ï¼\n> \n> ä»¥ 0o å¼å¤´çæ°å­æ¯å«è¿å¶ 0-7 oct()\n> \n> ä»¥ 0x å¼å¤´çæ°å­æ¯åå­è¿å¶ 0-9 A-F hex()",normalizedContent:"# äºè¿å¶ å«è¿å¶ åè¿å¶ åå­è¿å¶\n\n> è®¡ç®æºåªä¿å­äºè¿å¶0å1ï¼åæ¶æ¯æå«è¿å¶ååå­è¿å¶\n> \n> äºè¿å¶(bin) å«è¿å¶(oct) åå­è¿å¶(hex) åè¿å¶(dec) pythonä¸­é½è½è¯å«\n> \n> ä»¥ 0b å¼å¤´çæ°å­æ¯äºè¿å¶ 0-1 binï¼ï¼\n> \n> ä»¥ 0o å¼å¤´çæ°å­æ¯å«è¿å¶ 0-7 oct()\n> \n> ä»¥ 0x å¼å¤´çæ°å­æ¯åå­è¿å¶ 0-9 a-f hex()",charsets:{cjk:!0},lastUpdated:"2022/03/18, 07:01:11",lastUpdatedTimestamp:1647558071e3},{title:"ç®æ°è¿ç®ç¬¦",frontmatter:{title:"ç®æ°è¿ç®ç¬¦",date:"2022-03-18T00:52:51.000Z",permalink:"/pages/acb0af/",categories:["åç«¯","Python"],tags:[null]},regularPath:"/%E5%90%8E%E7%AB%AF/05.Python/18.%E7%AE%97%E6%95%B0%E8%BF%90%E7%AE%97%E7%AC%A6.html",relativePath:"åç«¯/05.Python/18.ç®æ°è¿ç®ç¬¦.md",key:"v-43b7262a",path:"/pages/acb0af/",headers:[{level:2,title:"ç®æ°è¿ç®ç¬¦å¨å­ç¬¦ä¸²ä¸­çä½¿ç¨",slug:"ç®æ°è¿ç®ç¬¦å¨å­ç¬¦ä¸²ä¸­çä½¿ç¨",normalizedTitle:"ç®æ°è¿ç®ç¬¦å¨å­ç¬¦ä¸²ä¸­çä½¿ç¨",charIndex:210},{level:2,title:"èµå¼è¿ç®ç¬¦",slug:"èµå¼è¿ç®ç¬¦",normalizedTitle:"èµå¼è¿ç®ç¬¦",charIndex:314},{level:2,title:"ç¹æ®ç¨æ³",slug:"ç¹æ®ç¨æ³",normalizedTitle:"ç¹æ®ç¨æ³",charIndex:496},{level:2,title:"åéåç»æå",slug:"åéåç»æå",normalizedTitle:"åéåç»æå",charIndex:850},{level:2,title:"å¯åé¿åº¦åé",slug:"å¯åé¿åº¦åé",normalizedTitle:"å¯åé¿åº¦åé",charIndex:1013}],headersStr:"ç®æ°è¿ç®ç¬¦å¨å­ç¬¦ä¸²ä¸­çä½¿ç¨ èµå¼è¿ç®ç¬¦ ç¹æ®ç¨æ³ åéåç»æå å¯åé¿åº¦åé",content:"# ç®æ°è¿ç®ç¬¦\n\n> + - * / **å¹è¿ç® //æ´é¤ %åä½(åæ¨¡) ()å°æ¬å· æé«è¿ç®ä¼åçº§\n> \n> æ³¨æè¿ç®ç¬¦çä¼åé¡ºåº\n> \n> å¨python3ï¼2ä¸ªæ´æ°ç¸é¤ï¼å¾å°çç»æä¼æ¯ä¸ä¸ªæµ®ç¹æ°\n> \n> é¤ä»¥ä¼è¿åä¸ä¸ªæµ®ç¹å°æ°\n> \n> æ´é¤åªåæ´æ°é¨åï¼æ´é¤åä¸åæ´ï¼å¦ä¸ºè´æ°ååæ´å°çæ°å¼åæ´\n> \n> åä½åªåä½çé¨åï¼å¦10/3=3 ä½1 åæ´é¤ç»æä¸º1ï¼è¢«é¤æ°å¦æå°äºé¤æ°åæ´é¤ç»æä¸ºè¢«é¤æ°\n\n\n# ç®æ°è¿ç®ç¬¦å¨å­ç¬¦ä¸²ä¸­çä½¿ç¨\n\n> å æ³è¿ç®ç¬¦ï¼åªè½ç¨äº2ä¸ªå­ç¬¦ä¸²æ°æ®ï¼ç¨æ¥æ¼æ¥2ä¸ªå­ç¬¦ä¸²ã æ°å­åå­ç¬¦ä¸²ä¹é´ä¸è½è¿è¡å æ³è¿ç®\n> \n> ä¹æ³è¿ç®ç¬¦ï¼å¯ä»¥ç¨äºæ°å­åå­ç¬¦ä¸²ä¹é´ï¼ç¨äºå°ä¸ä¸ªå­ç¬¦ä¸²éå¤å¤æ¬¡\n\n\n# èµå¼è¿ç®ç¬¦\n\n> = ç­å·å¨è®¡ç®æºç¼ç¨éï¼æä»¬ç§°ä¸ºèµå¼è¿ç®ç¬¦ï¼åæ°å­ä¸­çç­å·æä¸å®çåºå«\n> \n> è®¡ç®æºç¼ç¨éï¼ç­å·(èµå¼è¿ç®ç¬¦)çä½ç¨æ¯å°ç­å·å³è¾¹çå¼èµå¼ç»å·¦è¾¹\n> \n> ç­å·çå·¦è¾¹ä¸è½æ¯å¸¸éæè¡¨è¾¾å¼ å¦ 10 = x ï¼1 + 1 =y\n> \n> X = 1\n> \n> X +=2 #ä¸X = X + 2ç¸å + - * / // ** % é½å¯ä»¥\n\n\n# ç¹æ®ç¨æ³\n\n> ç­å·è¿æ¥çåéå¯ä»¥ä¼ éèµå¼ï¼å¦ a = b = c =42ï¼å3ä¸ªåéçèµå¼é½ä¸º42ï¼å ä¸ºç­å·çä½ç¨æå³è¾¹çå¼èµå¼ç»å·¦è¾¹\n> \n> ä¸è½ a = 1 = b = c è¿æ ·åä¼æ¥é å¦æç¤ºcode 1 åè¿æ¯æ¥é\n> \n> #ç¹æ®ç¨æ³\n> a = b = c = d = e =42  #ç­å·è¿æ¥çåéå¯ä»¥ä¼ éèµå¼ï¼ç­å·çä½ç¨æ¯æå³è¾¹çå¼èµå¼ç»å·¦è¾¹\n> #a = b = 'heloo' = c = d       è¿æ ·çåæ³æ¯ä¸æ­£ç¡®ç\n> \n> \n> 1\n> 2\n> 3\n> \n> \n> x = 'a','b','c'   #å¶å®æ¬è´¨æ¯åç»åªä¸è¿ææ¬å·çç¥äº\n> print(x)            #('a', 'b', 'c')\n> \n> \n> 1\n> 2\n> \n> \n> \n> # åéåç»æå\n> \n> x , y = 3 , 5   #åç»æå\n> #x, y, c =3 , 4   #è¿æ ·åä¸è¡\n> #x, y = 3 , 4 , 5 , 6 , 7    æåå¼ä¸è¢«èµå¼å¼å¿é¡»ç¸åæ°é,å¦åå°æ¥é\n> print(x , y)\n> \n> \n> 1\n> 2\n> 3\n> 4\n> \n> \n> \n> # å¯åé¿åº¦åé\n> \n> o , *p , q = 1 , 2 ,3 ,4 ,5 ,6 ,7 ,8            #å¨åéåé¢å *æå·å¯ä»¥ä½¿åéä¸ºå¯åé¿åº¦ï¼ä¸­é´å©ä¸çç´æ¥æåèµå¼ç»å æå·çåé(æé¡ºåºä»ç­å·å³è¾¹èµå¼ç»åéå©ä¸çæåç»å æå·çåé)\n> print(o,p,q)  #1 [2, 3, 4, 5, 6, 7] 8\n> \n> \n> 1\n> 2",normalizedContent:"# ç®æ°è¿ç®ç¬¦\n\n> + - * / **å¹è¿ç® //æ´é¤ %åä½(åæ¨¡) ()å°æ¬å· æé«è¿ç®ä¼åçº§\n> \n> æ³¨æè¿ç®ç¬¦çä¼åé¡ºåº\n> \n> å¨python3ï¼2ä¸ªæ´æ°ç¸é¤ï¼å¾å°çç»æä¼æ¯ä¸ä¸ªæµ®ç¹æ°\n> \n> é¤ä»¥ä¼è¿åä¸ä¸ªæµ®ç¹å°æ°\n> \n> æ´é¤åªåæ´æ°é¨åï¼æ´é¤åä¸åæ´ï¼å¦ä¸ºè´æ°ååæ´å°çæ°å¼åæ´\n> \n> åä½åªåä½çé¨åï¼å¦10/3=3 ä½1 åæ´é¤ç»æä¸º1ï¼è¢«é¤æ°å¦æå°äºé¤æ°åæ´é¤ç»æä¸ºè¢«é¤æ°\n\n\n# ç®æ°è¿ç®ç¬¦å¨å­ç¬¦ä¸²ä¸­çä½¿ç¨\n\n> å æ³è¿ç®ç¬¦ï¼åªè½ç¨äº2ä¸ªå­ç¬¦ä¸²æ°æ®ï¼ç¨æ¥æ¼æ¥2ä¸ªå­ç¬¦ä¸²ã æ°å­åå­ç¬¦ä¸²ä¹é´ä¸è½è¿è¡å æ³è¿ç®\n> \n> ä¹æ³è¿ç®ç¬¦ï¼å¯ä»¥ç¨äºæ°å­åå­ç¬¦ä¸²ä¹é´ï¼ç¨äºå°ä¸ä¸ªå­ç¬¦ä¸²éå¤å¤æ¬¡\n\n\n# èµå¼è¿ç®ç¬¦\n\n> = ç­å·å¨è®¡ç®æºç¼ç¨éï¼æä»¬ç§°ä¸ºèµå¼è¿ç®ç¬¦ï¼åæ°å­ä¸­çç­å·æä¸å®çåºå«\n> \n> è®¡ç®æºç¼ç¨éï¼ç­å·(èµå¼è¿ç®ç¬¦)çä½ç¨æ¯å°ç­å·å³è¾¹çå¼èµå¼ç»å·¦è¾¹\n> \n> ç­å·çå·¦è¾¹ä¸è½æ¯å¸¸éæè¡¨è¾¾å¼ å¦ 10 = x ï¼1 + 1 =y\n> \n> x = 1\n> \n> x +=2 #ä¸x = x + 2ç¸å + - * / // ** % é½å¯ä»¥\n\n\n# ç¹æ®ç¨æ³\n\n> ç­å·è¿æ¥çåéå¯ä»¥ä¼ éèµå¼ï¼å¦ a = b = c =42ï¼å3ä¸ªåéçèµå¼é½ä¸º42ï¼å ä¸ºç­å·çä½ç¨æå³è¾¹çå¼èµå¼ç»å·¦è¾¹\n> \n> ä¸è½ a = 1 = b = c è¿æ ·åä¼æ¥é å¦æç¤ºcode 1 åè¿æ¯æ¥é\n> \n> #ç¹æ®ç¨æ³\n> a = b = c = d = e =42  #ç­å·è¿æ¥çåéå¯ä»¥ä¼ éèµå¼ï¼ç­å·çä½ç¨æ¯æå³è¾¹çå¼èµå¼ç»å·¦è¾¹\n> #a = b = 'heloo' = c = d       è¿æ ·çåæ³æ¯ä¸æ­£ç¡®ç\n> \n> \n> 1\n> 2\n> 3\n> \n> \n> x = 'a','b','c'   #å¶å®æ¬è´¨æ¯åç»åªä¸è¿ææ¬å·çç¥äº\n> print(x)            #('a', 'b', 'c')\n> \n> \n> 1\n> 2\n> \n> \n> \n> # åéåç»æå\n> \n> x , y = 3 , 5   #åç»æå\n> #x, y, c =3 , 4   #è¿æ ·åä¸è¡\n> #x, y = 3 , 4 , 5 , 6 , 7    æåå¼ä¸è¢«èµå¼å¼å¿é¡»ç¸åæ°é,å¦åå°æ¥é\n> print(x , y)\n> \n> \n> 1\n> 2\n> 3\n> 4\n> \n> \n> \n> # å¯åé¿åº¦åé\n> \n> o , *p , q = 1 , 2 ,3 ,4 ,5 ,6 ,7 ,8            #å¨åéåé¢å *æå·å¯ä»¥ä½¿åéä¸ºå¯åé¿åº¦ï¼ä¸­é´å©ä¸çç´æ¥æåèµå¼ç»å æå·çåé(æé¡ºåºä»ç­å·å³è¾¹èµå¼ç»åéå©ä¸çæåç»å æå·çåé)\n> print(o,p,q)  #1 [2, 3, 4, 5, 6, 7] 8\n> \n> \n> 1\n> 2",charsets:{cjk:!0},lastUpdated:"2022/03/18, 07:01:11",lastUpdatedTimestamp:1647558071e3},{title:"åå²",frontmatter:{title:"åå²",date:"2022-03-18T00:52:52.000Z",permalink:"/pages/687726/",categories:["åç«¯","Python"],tags:[null]},regularPath:"/%E5%90%8E%E7%AB%AF/05.Python/19.%E5%88%86%E5%89%B2.html",relativePath:"åç«¯/05.Python/19.åå².md",key:"v-314e9546",path:"/pages/687726/",headers:[{level:2,title:"åæ°",slug:"åæ°",normalizedTitle:"åæ°",charIndex:34}],headersStr:"åæ°",content:'# åå²\n\n> split() éè¿æå®åéç¬¦å¯¹å­ç¬¦ä¸²è¿è¡åçï¼å¦æåæ° num ææå®å¼ï¼ååé num+1 ä¸ªå­å­ç¬¦ä¸²\n> \n> str.split(str="", num=string.count(str)).\n> \n> \n> 1\n> \n> \n> \n> # åæ°\n> \n>  * str -- åéç¬¦ï¼é»è®¤ä¸ºææçç©ºå­ç¬¦ï¼åæ¬ç©ºæ ¼ãæ¢è¡(\\n)ãå¶è¡¨ç¬¦(\\t)ç­ã\n>  * num -- åå²æ¬¡æ°ãé»è®¤ä¸º -1, å³åéææã',normalizedContent:'# åå²\n\n> split() éè¿æå®åéç¬¦å¯¹å­ç¬¦ä¸²è¿è¡åçï¼å¦æåæ° num ææå®å¼ï¼ååé num+1 ä¸ªå­å­ç¬¦ä¸²\n> \n> str.split(str="", num=string.count(str)).\n> \n> \n> 1\n> \n> \n> \n> # åæ°\n> \n>  * str -- åéç¬¦ï¼é»è®¤ä¸ºææçç©ºå­ç¬¦ï¼åæ¬ç©ºæ ¼ãæ¢è¡(\\n)ãå¶è¡¨ç¬¦(\\t)ç­ã\n>  * num -- åå²æ¬¡æ°ãé»è®¤ä¸º -1, å³åéææã',charsets:{cjk:!0},lastUpdated:"2022/03/18, 07:01:11",lastUpdatedTimestamp:1647558071e3},{title:"æå4ä½æ°çåä½æ°",frontmatter:{title:"æå4ä½æ°çåä½æ°",date:"2022-03-18T00:52:52.000Z",permalink:"/pages/a15165/",categories:["åç«¯","Python"],tags:[null]},regularPath:"/%E5%90%8E%E7%AB%AF/05.Python/21.%E6%8F%90%E5%8F%964%E4%BD%8D%E6%95%B0%E7%9A%84%E5%90%84%E4%BD%8D%E6%95%B0.html",relativePath:"åç«¯/05.Python/21.æå4ä½æ°çåä½æ°.md",key:"v-2e61c2f3",path:"/pages/a15165/",headersStr:null,content:"# æå4ä½æ°çåä½æ°\n\n> 1234//1000=1.234æ´é¤=1 æåç¬¬ä¸ä½ #æ´é¤1 1234 //100=12.34=12%10=2 æåç¬¬äºä½ #ä½2 1234 //10=123.4=123%10=120 æåç¬¬ä¸ä½ #ä½3 1234%10 =1234-1230= ä½4 æåç¬¬åä½ #ä½4",normalizedContent:"# æå4ä½æ°çåä½æ°\n\n> 1234//1000=1.234æ´é¤=1 æåç¬¬ä¸ä½ #æ´é¤1 1234 //100=12.34=12%10=2 æåç¬¬äºä½ #ä½2 1234 //10=123.4=123%10=120 æåç¬¬ä¸ä½ #ä½3 1234%10 =1234-1230= ä½4 æåç¬¬åä½ #ä½4",charsets:{cjk:!0},lastUpdated:"2022/03/18, 07:01:11",lastUpdatedTimestamp:1647558071e3},{title:"é¸¡ååç¬¼",frontmatter:{title:"é¸¡ååç¬¼",date:"2022-03-18T00:52:52.000Z",permalink:"/pages/4d8423/",categories:["åç«¯","Python"],tags:[null]},regularPath:"/%E5%90%8E%E7%AB%AF/05.Python/22.%E9%B8%A1%E5%85%94%E5%90%8C%E7%AC%BC.html",relativePath:"åç«¯/05.Python/22.é¸¡ååç¬¼.md",key:"v-05d97d43",path:"/pages/4d8423/",headersStr:null,content:"# é¸¡ååç¬¼\n\n> äºåä¸æ¬¡æ¹ 2X+4Y=94 X+Y=35\n> \n> åè®¾æ³ åè®¾å¨é¨å¨ç©æ¯2æ¡è¿ å 35*2=70 70æ ¹è\n> æ»å±94å 94-70=24 å24æ ¹æ¯åå­çè 24/2=12 åé¤ä»¥è¢«å»æåå­ç2æ ¹èå¯ä»¥å¾åºåå­çæ°é 35-12=23 æ»æ°åå»åå­å°±å¯ä»¥å¾åºé¸¡çæ°é\n> \n> åå¦åå­ä¹ä¸¤æ¡è¿ åæ»èæ° 94/2=47 åè®¾åå­ä¸¤æ¡è¿çæ»æ°åå»å¤´æ° å47-35=12 å¯ä»¥æ±åºåå­çæ°é 35-12=23 é¸¡çæ°é",normalizedContent:"# é¸¡ååç¬¼\n\n> äºåä¸æ¬¡æ¹ 2x+4y=94 x+y=35\n> \n> åè®¾æ³ åè®¾å¨é¨å¨ç©æ¯2æ¡è¿ å 35*2=70 70æ ¹è\n> æ»å±94å 94-70=24 å24æ ¹æ¯åå­çè 24/2=12 åé¤ä»¥è¢«å»æåå­ç2æ ¹èå¯ä»¥å¾åºåå­çæ°é 35-12=23 æ»æ°åå»åå­å°±å¯ä»¥å¾åºé¸¡çæ°é\n> \n> åå¦åå­ä¹ä¸¤æ¡è¿ åæ»èæ° 94/2=47 åè®¾åå­ä¸¤æ¡è¿çæ»æ°åå»å¤´æ° å47-35=12 å¯ä»¥æ±åºåå­çæ°é 35-12=23 é¸¡çæ°é",charsets:{cjk:!0},lastUpdated:"2022/03/18, 07:01:11",lastUpdatedTimestamp:1647558071e3},{title:"äº¤æ¢åéçå¼",frontmatter:{title:"äº¤æ¢åéçå¼",date:"2022-03-18T00:52:52.000Z",permalink:"/pages/c13570/",categories:["åç«¯","Python"],tags:[null]},regularPath:"/%E5%90%8E%E7%AB%AF/05.Python/20.%E4%BA%A4%E6%8D%A2%E5%8F%98%E9%87%8F%E7%9A%84%E5%80%BC.html",relativePath:"åç«¯/05.Python/20.äº¤æ¢åéçå¼.md",key:"v-54d2601a",path:"/pages/c13570/",headers:[{level:2,title:"å åæ³",slug:"å åæ³",normalizedTitle:"å åæ³",charIndex:13},{level:2,title:"ä¹é¤æ³",slug:"ä¹é¤æ³",normalizedTitle:"ä¹é¤æ³",charIndex:122}],headersStr:"å åæ³ ä¹é¤æ³",content:"# äº¤æ¢åéçå¼\n\n\n# å åæ³\n\n> a=2 b=7\n> \n> a = a + b= 2 + 7 =9\n> \n> b = a - b= 9 - 7 =2\n> \n> a = a - b= 9 - 2 =7\n> \n> #a=b ,b=a\n\n\n# ä¹é¤æ³\n\n> a=2 b=7 a = a * b =2*7=14 b = a // b =14 // 7 =2 a = a // b =14 // 2 =7",normalizedContent:"# äº¤æ¢åéçå¼\n\n\n# å åæ³\n\n> a=2 b=7\n> \n> a = a + b= 2 + 7 =9\n> \n> b = a - b= 9 - 7 =2\n> \n> a = a - b= 9 - 2 =7\n> \n> #a=b ,b=a\n\n\n# ä¹é¤æ³\n\n> a=2 b=7 a = a * b =2*7=14 b = a // b =14 // 7 =2 a = a // b =14 // 2 =7",charsets:{cjk:!0},lastUpdated:"2022/03/18, 07:01:11",lastUpdatedTimestamp:1647558071e3},{title:"é»è¾è¿ç®ç¬¦",frontmatter:{title:"é»è¾è¿ç®ç¬¦",date:"2022-03-18T00:52:52.000Z",permalink:"/pages/70c3fd/",categories:["åç«¯","Python"],tags:[null]},regularPath:"/%E5%90%8E%E7%AB%AF/05.Python/25.%E9%80%BB%E8%BE%91%E8%BF%90%E7%AE%97%E7%AC%A6.html",relativePath:"åç«¯/05.Python/25.é»è¾è¿ç®ç¬¦.md",key:"v-36fd303c",path:"/pages/70c3fd/",headers:[{level:2,title:"é»è¾è¿ç®ç¬¦çç­è·¯",slug:"é»è¾è¿ç®ç¬¦çç­è·¯",normalizedTitle:"é»è¾è¿ç®ç¬¦çç­è·¯",charIndex:497}],headersStr:"é»è¾è¿ç®ç¬¦çç­è·¯",content:"# é»è¾è¿ç®ç¬¦\n\n> é»è¾ä¸ andï¼å¹¶ä¸ï¼ é»è¾æor(æè) é»è¾énot\n> \n> é»è¾ä¸è§å:åªè¦æä¸ä¸ªè¿ç®æ°æ¯Falseï¼ç»æå°±æ¯Falseï¼åªæææçè¿ç®æ°é½æ¯Trueï¼ç»æææ¯Trueï¼æ¾ç¬¬ä¸ä¸ªFalseï¼\n> \n> print(5 > 3 and 6 < 8 and 1 < 7)  #True\n> print(3 > 1 and 9 < 5 and 2 < 3)  #False\n> \n> \n> 1\n> 2\n> \n> \n> é»è¾æè§å:åªè¦æä¸ä¸ªè¿ç®æ¯Trueï¼ç»æå°±æ¯True;åªæææçè¿ç®æ°é½æ¯Falseï¼ç»æææ¯Falseï¼æ¾ç¬¬ä¸ä¸ªTrueï¼\n> \n> print(5 > 3 or 6 < 1 or 1 > 3) #True\n> print(1 > 3 or 3 > 6) #False\n> \n> \n> 1\n> 2\n> \n> \n> é»è¾éè¿ç®:Ture ==> False; False ==>Ture(åç¸å)\n> \n> print(not(5 < 1))  #True\n> print(not(6 > 1))  #False\n> \n> \n> 1\n> 2\n\n\n# é»è¾è¿ç®ç¬¦çç­è·¯\n\n> é»è¾ä¸çç­è·¯ï¼åªè¦æ£ç´¢å°æFalseå°±è¾åºFalseï¼åé¢çä¸ä¼ç»§ç»­æ£ç´¢ï¼åç¬¬ä¸ä¸ªFalseçå¼\n> \n> 5 > 3 and print('hello')  #True ç»§ç»­æ£ç´¢\n> 8 < 2 and print('weiwei')  #False ä¸ä¼ç»§ç»­æ§è¡ä¸ä¸ä¸ª\n> \n> \n> 1\n> 2\n> \n> \n> é»è¾æçç­è·¯ï¼åªè¦æ£ç´¢å°æTrueå°±è¾åºTrueï¼åé¢çä¸ä¼ç»§ç»­æ£ç´¢ï¼åç¬¬ä¸ä¸ªä¸ºTrue\n> \n> 6 > 2 or print('123')  #Trueï¼ä¸ä¼ç»§ç»­æ§è¡ä¸ä¸ä¸ª\n> 9 < 1 or print('456')  #False ç»§ç»­æ£ç´¢\n> \n> \n> 1\n> 2\n> \n> \n> é»è¾ä¸è¿ç®ååå¼æ¶ï¼åç¬¬ä¸ä¸ªä¸ºFalseï¼å¦ææä»¥è¿ç®æ°é½æ¯Trueï¼åæåä¸ä¸ªå¼\n> \n> print(1 and 4 and 'hello' and 'test')   #test\n> print(4 and 7 and 0 and '' and '123')   #0\n> \n> \n> 1\n> 2\n> \n> \n> é»è¾æè¿ç®ååå¼æ¶ï¼åç¬¬ä¸ä¸ªä¸ºTrueï¼å¦ææä»¥è¿ç®æ°é½æ¯Falseï¼åæåä¸ä¸ªå¼\n> \n> print(0 or 'hello' or '' or [])  #hello\n> print(0 or [] or '' or None or ()) # ()\n> \n> \n> 1\n> 2",normalizedContent:"# é»è¾è¿ç®ç¬¦\n\n> é»è¾ä¸ andï¼å¹¶ä¸ï¼ é»è¾æor(æè) é»è¾énot\n> \n> é»è¾ä¸è§å:åªè¦æä¸ä¸ªè¿ç®æ°æ¯falseï¼ç»æå°±æ¯falseï¼åªæææçè¿ç®æ°é½æ¯trueï¼ç»æææ¯trueï¼æ¾ç¬¬ä¸ä¸ªfalseï¼\n> \n> print(5 > 3 and 6 < 8 and 1 < 7)  #true\n> print(3 > 1 and 9 < 5 and 2 < 3)  #false\n> \n> \n> 1\n> 2\n> \n> \n> é»è¾æè§å:åªè¦æä¸ä¸ªè¿ç®æ¯trueï¼ç»æå°±æ¯true;åªæææçè¿ç®æ°é½æ¯falseï¼ç»æææ¯falseï¼æ¾ç¬¬ä¸ä¸ªtrueï¼\n> \n> print(5 > 3 or 6 < 1 or 1 > 3) #true\n> print(1 > 3 or 3 > 6) #false\n> \n> \n> 1\n> 2\n> \n> \n> é»è¾éè¿ç®:ture ==> false; false ==>ture(åç¸å)\n> \n> print(not(5 < 1))  #true\n> print(not(6 > 1))  #false\n> \n> \n> 1\n> 2\n\n\n# é»è¾è¿ç®ç¬¦çç­è·¯\n\n> é»è¾ä¸çç­è·¯ï¼åªè¦æ£ç´¢å°æfalseå°±è¾åºfalseï¼åé¢çä¸ä¼ç»§ç»­æ£ç´¢ï¼åç¬¬ä¸ä¸ªfalseçå¼\n> \n> 5 > 3 and print('hello')  #true ç»§ç»­æ£ç´¢\n> 8 < 2 and print('weiwei')  #false ä¸ä¼ç»§ç»­æ§è¡ä¸ä¸ä¸ª\n> \n> \n> 1\n> 2\n> \n> \n> é»è¾æçç­è·¯ï¼åªè¦æ£ç´¢å°ætrueå°±è¾åºtrueï¼åé¢çä¸ä¼ç»§ç»­æ£ç´¢ï¼åç¬¬ä¸ä¸ªä¸ºtrue\n> \n> 6 > 2 or print('123')  #trueï¼ä¸ä¼ç»§ç»­æ§è¡ä¸ä¸ä¸ª\n> 9 < 1 or print('456')  #false ç»§ç»­æ£ç´¢\n> \n> \n> 1\n> 2\n> \n> \n> é»è¾ä¸è¿ç®ååå¼æ¶ï¼åç¬¬ä¸ä¸ªä¸ºfalseï¼å¦ææä»¥è¿ç®æ°é½æ¯trueï¼åæåä¸ä¸ªå¼\n> \n> print(1 and 4 and 'hello' and 'test')   #test\n> print(4 and 7 and 0 and '' and '123')   #0\n> \n> \n> 1\n> 2\n> \n> \n> é»è¾æè¿ç®ååå¼æ¶ï¼åç¬¬ä¸ä¸ªä¸ºtrueï¼å¦ææä»¥è¿ç®æ°é½æ¯falseï¼åæåä¸ä¸ªå¼\n> \n> print(0 or 'hello' or '' or [])  #hello\n> print(0 or [] or '' or none or ()) # ()\n> \n> \n> 1\n> 2",charsets:{cjk:!0},lastUpdated:"2022/03/18, 07:01:11",lastUpdatedTimestamp:1647558071e3},{title:"æ¯è¾è¿ç®ç¬¦",frontmatter:{title:"æ¯è¾è¿ç®ç¬¦",date:"2022-03-18T00:52:52.000Z",permalink:"/pages/661f38/",categories:["åç«¯","Python"],tags:[null]},regularPath:"/%E5%90%8E%E7%AB%AF/05.Python/24.%E6%AF%94%E8%BE%83%E8%BF%90%E7%AE%97%E7%AC%A6.html",relativePath:"åç«¯/05.Python/24.æ¯è¾è¿ç®ç¬¦.md",key:"v-74d7ff21",path:"/pages/661f38/",headersStr:null,content:"# æ¯è¾è¿ç®ç¬¦\n\n> å¤§äº > å°äº < å¤§äºç­äº >= å°äºç­äº <= ä¸ç­äº != <>ï¼ä¹æ¯ä¸ç­äºä½python3.7ä¸æ¯æäºï¼ == ç­äº\n> \n> å¤æ­ç»æè¾åºæ¯å¸å°å¼\n> \n> print(2 > 1) #True\n> print(3 < 2) #False\n> print(2 >= 2) #True\n> print(2 <= 1) #False\n> print(1 != 2) #True\n> print('hello' == 'hello') #True\n> \n> \n> 1\n> 2\n> 3\n> 4\n> 5\n> 6\n> \n> \n> #æ¯è¾ç¬¦å¨å­ç¬¦ä¸²ä¸­ä½¿ç¨\n> #å­ç¬¦ä¸²ä¹é´ä½¿ç¨æ¯è¾è¿ç®ç¬¦ï¼ä¼æ ¹æ®åä¸ªå­ç¬¦éä¸ç¼ç å¼(ASCIIç è¡¨)æ¯è¾\n> print('a' > 'b')   #False 97 > 98\n> print('abc' > 'a')  #False   97 > 98 éä¸å¯¹æ¯Falseå°±ä¸å¾ä¸\n> \n> #å­ç¬¦ä¸²åæ°å­ä¸è½è¿è¡æ¯è¾ï¼ä¸ç­äºåè¿ç®ç»æä¸ºFalseï¼ä¸ä¸ç­äºåè¿ç®ä¸ºTrueï¼ä¸æ¯æå¶ä»çæ¯è¾è¿ç®\n> \n> \n> 1\n> 2\n> 3\n> 4\n> 5\n> 6\n> \n> \n> # print('a' > 90 )\n> \n> print('a' == 90) #False\n> print('a' != 90) #True\n> \n> \n> 1\n> 2\n> 3\n> 4",normalizedContent:"# æ¯è¾è¿ç®ç¬¦\n\n> å¤§äº > å°äº < å¤§äºç­äº >= å°äºç­äº <= ä¸ç­äº != <>ï¼ä¹æ¯ä¸ç­äºä½python3.7ä¸æ¯æäºï¼ == ç­äº\n> \n> å¤æ­ç»æè¾åºæ¯å¸å°å¼\n> \n> print(2 > 1) #true\n> print(3 < 2) #false\n> print(2 >= 2) #true\n> print(2 <= 1) #false\n> print(1 != 2) #true\n> print('hello' == 'hello') #true\n> \n> \n> 1\n> 2\n> 3\n> 4\n> 5\n> 6\n> \n> \n> #æ¯è¾ç¬¦å¨å­ç¬¦ä¸²ä¸­ä½¿ç¨\n> #å­ç¬¦ä¸²ä¹é´ä½¿ç¨æ¯è¾è¿ç®ç¬¦ï¼ä¼æ ¹æ®åä¸ªå­ç¬¦éä¸ç¼ç å¼(asciiç è¡¨)æ¯è¾\n> print('a' > 'b')   #false 97 > 98\n> print('abc' > 'a')  #false   97 > 98 éä¸å¯¹æ¯falseå°±ä¸å¾ä¸\n> \n> #å­ç¬¦ä¸²åæ°å­ä¸è½è¿è¡æ¯è¾ï¼ä¸ç­äºåè¿ç®ç»æä¸ºfalseï¼ä¸ä¸ç­äºåè¿ç®ä¸ºtrueï¼ä¸æ¯æå¶ä»çæ¯è¾è¿ç®\n> \n> \n> 1\n> 2\n> 3\n> 4\n> 5\n> 6\n> \n> \n> # print('a' > 90 )\n> \n> print('a' == 90) #false\n> print('a' != 90) #true\n> \n> \n> 1\n> 2\n> 3\n> 4",charsets:{cjk:!0},lastUpdated:"2022/03/18, 07:01:11",lastUpdatedTimestamp:1647558071e3},{title:"ä½è¿ç®ç¬¦",frontmatter:{title:"ä½è¿ç®ç¬¦",date:"2022-03-18T00:52:52.000Z",permalink:"/pages/8f779d/",categories:["åç«¯","Python"],tags:[null]},regularPath:"/%E5%90%8E%E7%AB%AF/05.Python/26.%E4%BD%8D%E8%BF%90%E7%AE%97%E7%AC%A6.html",relativePath:"åç«¯/05.Python/26.ä½è¿ç®ç¬¦.md",key:"v-635d2d7a",path:"/pages/8f779d/",headersStr:null,content:"# ä½è¿ç®ç¬¦\n\n> æä½ä¸ & æä½æ| æä½å¼æ^ æä½å·¦ç§»<< æä½å³ç§»>> æä½åå~\n> \n> a = 42\n> b = 13\n> # æä½ä¸&  æ¯ææ´åè½¬æ¢æäºè¿å¶è¿è¡è¿ç®ï¼ä¸¤ä¸ªäºè¿å¶åä¸º1åä¸º1ï¼å¦åä¸º0,è¿è¡è¿ç®çç»æ\n> #  42 = 0b101010   0010 1010    ==>\n> #  13 = 0b1101     0000 1101    ==>0000 1000   ==> 0b1000 = 8\n> print(a & b)\n> \n> \n> 1\n> 2\n> 3\n> 4\n> 5\n> 6\n> \n> \n> æä½æ| åªæä¸ä¸ªä¸º1å°±ä¸º1\n> \n> #  00101111 ==> 47\n> print(a | b)\n> \n> \n> 1\n> 2\n> \n> \n> æä½å¼æ^ ç¸åä¸º0ï¼ä¸åä¸º1\n> \n> # 00100111  ==> 39\n> print(a ^ b)\n> \n> \n> 1\n> 2\n> \n> \n> æä½å·¦ç§» << è½¬æ¢æäºè¿å¶å¨å°¾é¨å 0ï¼å³å¤´é¨ååç§»nä½\n> \n> #   101 ==>  101000\n> x = 5\n> print(x << 3)   # x << n ==> a * 2 ** n ==> a*2çnæ¬¡æ¹\n> \n> \n> 1\n> 2\n> 3\n> \n> \n> æä½å³ç§» >> è½¬æ¢æäºè¿å¶å¨å¤´é¨å 0ï¼å³å°¾é¨ååç§»nä½ï¼æº¢åºçæ°è¦ä¸¢å¼(ä¹å°±æ¯ä¸¢å¼å°¾é¨äºè¿å¶çnä½æ°)\n> \n> # 10001 ==> 100\n> x = 17\n> print(x >> 2) # x >> n ==> a é¤ä»¥2çnæ¬¡æ¹\n> \n> \n> 1\n> 2\n> 3\n> \n> \n> æä½åå~ ææ°æ®æ¯ä¸ªäºè¿å¶ä½è¿è¡ååï¼å³æ1åæ0,0åæ1,æ¶åè¡¥ç ååç æç¹ç»ï¼ä»¥åè¡¥ä¹  #https://www.cnblogs.com/jniantic/p/12189648.html\n> \n> # 0101 ==> 010\n> x = 6\n> print(~6)  #~x = -(x+1)\n> \n> \n> 1\n> 2\n> 3\n> \n> \n> ç¨ä½è¿ç®ç¬¦æååå­è¿å¶åä¸¤ä½åºæ¥\n> \n> x = 0xF0384E\n> R = x >> 16              #å³ç§»16ä½æåé¢16ä½æº¢åº\n> G = x >> 8 & 255       # 255 ä¸º 1111 1111ï¼ç¶åä¸è¿ç®æåé¢ç8ä½å»é¤\n> B = x & 255              # åä¸ï¼æåé¢16ä½å»é¤\n> print(hex(R),hex(G),hex(B))\n> \n> \n> 1\n> 2\n> 3\n> 4\n> 5",normalizedContent:"# ä½è¿ç®ç¬¦\n\n> æä½ä¸ & æä½æ| æä½å¼æ^ æä½å·¦ç§»<< æä½å³ç§»>> æä½åå~\n> \n> a = 42\n> b = 13\n> # æä½ä¸&  æ¯ææ´åè½¬æ¢æäºè¿å¶è¿è¡è¿ç®ï¼ä¸¤ä¸ªäºè¿å¶åä¸º1åä¸º1ï¼å¦åä¸º0,è¿è¡è¿ç®çç»æ\n> #  42 = 0b101010   0010 1010    ==>\n> #  13 = 0b1101     0000 1101    ==>0000 1000   ==> 0b1000 = 8\n> print(a & b)\n> \n> \n> 1\n> 2\n> 3\n> 4\n> 5\n> 6\n> \n> \n> æä½æ| åªæä¸ä¸ªä¸º1å°±ä¸º1\n> \n> #  00101111 ==> 47\n> print(a | b)\n> \n> \n> 1\n> 2\n> \n> \n> æä½å¼æ^ ç¸åä¸º0ï¼ä¸åä¸º1\n> \n> # 00100111  ==> 39\n> print(a ^ b)\n> \n> \n> 1\n> 2\n> \n> \n> æä½å·¦ç§» << è½¬æ¢æäºè¿å¶å¨å°¾é¨å 0ï¼å³å¤´é¨ååç§»nä½\n> \n> #   101 ==>  101000\n> x = 5\n> print(x << 3)   # x << n ==> a * 2 ** n ==> a*2çnæ¬¡æ¹\n> \n> \n> 1\n> 2\n> 3\n> \n> \n> æä½å³ç§» >> è½¬æ¢æäºè¿å¶å¨å¤´é¨å 0ï¼å³å°¾é¨ååç§»nä½ï¼æº¢åºçæ°è¦ä¸¢å¼(ä¹å°±æ¯ä¸¢å¼å°¾é¨äºè¿å¶çnä½æ°)\n> \n> # 10001 ==> 100\n> x = 17\n> print(x >> 2) # x >> n ==> a é¤ä»¥2çnæ¬¡æ¹\n> \n> \n> 1\n> 2\n> 3\n> \n> \n> æä½åå~ ææ°æ®æ¯ä¸ªäºè¿å¶ä½è¿è¡ååï¼å³æ1åæ0,0åæ1,æ¶åè¡¥ç ååç æç¹ç»ï¼ä»¥åè¡¥ä¹  #https://www.cnblogs.com/jniantic/p/12189648.html\n> \n> # 0101 ==> 010\n> x = 6\n> print(~6)  #~x = -(x+1)\n> \n> \n> 1\n> 2\n> 3\n> \n> \n> ç¨ä½è¿ç®ç¬¦æååå­è¿å¶åä¸¤ä½åºæ¥\n> \n> x = 0xf0384e\n> r = x >> 16              #å³ç§»16ä½æåé¢16ä½æº¢åº\n> g = x >> 8 & 255       # 255 ä¸º 1111 1111ï¼ç¶åä¸è¿ç®æåé¢ç8ä½å»é¤\n> b = x & 255              # åä¸ï¼æåé¢16ä½å»é¤\n> print(hex(r),hex(g),hex(b))\n> \n> \n> 1\n> 2\n> 3\n> 4\n> 5",charsets:{cjk:!0},lastUpdated:"2022/03/18, 07:01:11",lastUpdatedTimestamp:1647558071e3},{title:"åçå¬å¼",frontmatter:{title:"åçå¬å¼",date:"2022-03-18T00:52:52.000Z",permalink:"/pages/bc04ac/",categories:["åç«¯","Python"],tags:[null]},regularPath:"/%E5%90%8E%E7%AB%AF/05.Python/23.%E5%9C%86%E7%9A%84%E5%85%AC%E5%BC%8F.html",relativePath:"åç«¯/05.Python/23.åçå¬å¼.md",key:"v-1bd5106a",path:"/pages/bc04ac/",headersStr:null,content:"# åçå¬å¼\n\n> åå¨é¿ C=2Ïr\n> \n> åé¢ç§¯ S=ÏrÂ²; S=Ï(d/2ï¼^2\n> \n> çä½è¡¨é¢ç§¯ S=4ÏrÂ²=ÏDÂ²\n> \n> çä½ä½ç§¯ V=(4/3)Ïr^3\n> \n> åæ±ä½ç§¯ V=ÏrÂ² h",normalizedContent:"# åçå¬å¼\n\n> åå¨é¿ c=2Ïr\n> \n> åé¢ç§¯ s=ÏrÂ²; s=Ï(d/2ï¼^2\n> \n> çä½è¡¨é¢ç§¯ s=4ÏrÂ²=ÏdÂ²\n> \n> çä½ä½ç§¯ v=(4/3)Ïr^3\n> \n> åæ±ä½ç§¯ v=ÏrÂ² h",charsets:{cjk:!0},lastUpdated:"2022/03/18, 07:01:11",lastUpdatedTimestamp:1647558071e3},{title:"if â¦elifâ¦elifçä½¿ç¨",frontmatter:{title:"if â¦elifâ¦elifçä½¿ç¨",date:"2022-03-18T00:52:52.000Z",permalink:"/pages/9cbf41/",categories:["åç«¯","Python"],tags:[null]},regularPath:"/%E5%90%8E%E7%AB%AF/05.Python/29.if%20%E2%80%A6elif%E2%80%A6elif%E7%9A%84%E4%BD%BF%E7%94%A8.html",relativePath:"åç«¯/05.Python/29.if â¦elifâ¦elifçä½¿ç¨.md",key:"v-534da396",path:"/pages/9cbf41/",headersStr:null,content:"# if â¦elifâ¦elifçä½¿ç¨\n\nnub = int(input())\n# #å¤ä¸ªifè¯­å¥ï¼è¯­å¥åè¯­å¥ä¹é´ï¼ä¸å­å¨å³èï¼åèµ°åç\n# if 1 < nub < 3:\n#     print('å°äº3')\n#\n# if 3 < nub < 7:\n#     print('å°äº7')\n#\n# if 7 < nub < 9:\n#     print('å°äº9')\n\n\nif 1 <= nub <= 3:\n    print('å°äºæç­äº3')\nelif 3 <= nub <= 7:         #ä¸æ»¡è¶³ç¬¬ä¸ifçæ¡ä»¶èµ°ä¸ä¸ä¸ç´èµ°å°æ»¡è¶³ifæ¡ä»¶çè¯­å¥\n    print('å°äºæç­äº7')\nelif 7 <= nub <= 9:\n    print('å°äºæç­äº9')\nelse:print('è¯·è¾å¥1-9çæ°å­')  #å¦åè¯­å¥ï¼å¤æ­ä¸å¨ifæ¡ä»¶ä¸­çç¶ååºæ­¤ç»æ\n\n\n#ifè¯­å¥çåµå¥\n#å¨pythonä¸­ï¼ä½¿ç¨å¼ºå¶ç¼©è¿æ¥è¡¨ç¤ºè¯­å¥ä¹é´çç»æ\na =input('æ¯å¦åæè¯·è¾å¥Y/N:')\nif a == 'Y':\n    print('ä½ å·²åæ')\n    next = input('ä¸ä¸æ­¥Y/N')\n    if next == 'Y':\n        print('æ­åä½ ')\n    else:\n        print('ä½ å·²åæ¶')\nelse:\n    print('ä½ å·²ç»åæ¶åæ')\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n26\n27\n28\n29\n30\n31\n32\n33\n",normalizedContent:"# if â¦elifâ¦elifçä½¿ç¨\n\nnub = int(input())\n# #å¤ä¸ªifè¯­å¥ï¼è¯­å¥åè¯­å¥ä¹é´ï¼ä¸å­å¨å³èï¼åèµ°åç\n# if 1 < nub < 3:\n#     print('å°äº3')\n#\n# if 3 < nub < 7:\n#     print('å°äº7')\n#\n# if 7 < nub < 9:\n#     print('å°äº9')\n\n\nif 1 <= nub <= 3:\n    print('å°äºæç­äº3')\nelif 3 <= nub <= 7:         #ä¸æ»¡è¶³ç¬¬ä¸ifçæ¡ä»¶èµ°ä¸ä¸ä¸ç´èµ°å°æ»¡è¶³ifæ¡ä»¶çè¯­å¥\n    print('å°äºæç­äº7')\nelif 7 <= nub <= 9:\n    print('å°äºæç­äº9')\nelse:print('è¯·è¾å¥1-9çæ°å­')  #å¦åè¯­å¥ï¼å¤æ­ä¸å¨ifæ¡ä»¶ä¸­çç¶ååºæ­¤ç»æ\n\n\n#ifè¯­å¥çåµå¥\n#å¨pythonä¸­ï¼ä½¿ç¨å¼ºå¶ç¼©è¿æ¥è¡¨ç¤ºè¯­å¥ä¹é´çç»æ\na =input('æ¯å¦åæè¯·è¾å¥y/n:')\nif a == 'y':\n    print('ä½ å·²åæ')\n    next = input('ä¸ä¸æ­¥y/n')\n    if next == 'y':\n        print('æ­åä½ ')\n    else:\n        print('ä½ å·²åæ¶')\nelse:\n    print('ä½ å·²ç»åæ¶åæ')\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n26\n27\n28\n29\n30\n31\n32\n33\n",charsets:{cjk:!0},lastUpdated:"2022/03/18, 07:01:11",lastUpdatedTimestamp:1647558071e3},{title:"è¿ç®ç¬¦çä¼åçº§",frontmatter:{title:"è¿ç®ç¬¦çä¼åçº§",date:"2022-03-18T00:52:52.000Z",permalink:"/pages/689d0c/",categories:["åç«¯","Python"],tags:[null]},regularPath:"/%E5%90%8E%E7%AB%AF/05.Python/27.%E8%BF%90%E7%AE%97%E7%AC%A6%E7%9A%84%E4%BC%98%E5%85%88%E7%BA%A7.html",relativePath:"åç«¯/05.Python/27.è¿ç®ç¬¦çä¼åçº§.md",key:"v-87e6b8fc",path:"/pages/689d0c/",headersStr:null,content:"# è¿ç®ç¬¦çä¼åçº§\n\n#é»è¾è¿ç®ç¬¦çä¼åçº§   not > and > or\n#åå ååä¹é¤\n#ï¼ï¼æ¬å·åæ¯æé«ä¼åçº§ç\n# ** æ¯ä¹é¤é«\n# ~ + - ï¼æ­£è´å·ï¼ é«\nprint(True or False and True)  #True\nprint(True and not False or False)  #True\n\n\n1\n2\n3\n4\n5\n6\n7\n",normalizedContent:"# è¿ç®ç¬¦çä¼åçº§\n\n#é»è¾è¿ç®ç¬¦çä¼åçº§   not > and > or\n#åå ååä¹é¤\n#ï¼ï¼æ¬å·åæ¯æé«ä¼åçº§ç\n# ** æ¯ä¹é¤é«\n# ~ + - ï¼æ­£è´å·ï¼ é«\nprint(true or false and true)  #true\nprint(true and not false or false)  #true\n\n\n1\n2\n3\n4\n5\n6\n7\n",charsets:{cjk:!0},lastUpdated:"2022/03/18, 07:01:11",lastUpdatedTimestamp:1647558071e3},{title:"if else  åæ¯ æ¡ä»¶å¤æ­è¯­å¥",frontmatter:{title:"if else  åæ¯ æ¡ä»¶å¤æ­è¯­å¥",date:"2022-03-18T00:52:52.000Z",permalink:"/pages/0f98fb/",categories:["åç«¯","Python"],tags:[null]},regularPath:"/%E5%90%8E%E7%AB%AF/05.Python/28.if%20else%20%20%E5%88%86%E6%94%AF%20%E6%9D%A1%E4%BB%B6%E5%88%A4%E6%96%AD%E8%AF%AD%E5%8F%A5.html",relativePath:"åç«¯/05.Python/28.if else  åæ¯ æ¡ä»¶å¤æ­è¯­å¥.md",key:"v-07ac2091",path:"/pages/0f98fb/",headersStr:null,content:"# if else åæ¯ æ¡ä»¶å¤æ­è¯­å¥\n\n> å¤æ­è¯­å¥\n> \n> æ¡ä»¶å¤æ­è¯­å¥ if / if else / if elif elif else pythonä¸­ä¸æ¯æ switch...case æ¡ä»¶è¯­å¥\n> \n> if æ¡ä»¶å¤æ­ æ¡ä»¶æç«ååä¸æ§è¡ifçå­å½ä»¤ï¼ä¸æç«åå¿½ç¥ æ°å­è·å­ç¬¦ä¸²åæ¯è¾ ==ç­äºçç»æä¸º Falseï¼ !=çç»æä¸ºTrueï¼å¶ä»è¿ç®åæ¥é\n> \n> ifä¸­åªè½ç¨==ä½ç¸ç­æ¯è¾ï¼ä¸è½ä½¿ç¨ç­å·=èµå¼è¿ç®ç¬¦ä½ç¸ç­æ¯è¾\n> \n> if 3 > 2:\n>  print(123)\n> \n> if 1 > 3:\n>  print(456)\n> \n> \n> 1\n> 2\n> 3\n> 4\n> 5\n> \n> \n> if...else å¤æ­æ¡ä»¶ if å¤æ­æ¡ä»¶: æ¡ä»¶æç«çä»£ç  else: æ¡ä»¶ä¸æç«çä»£ç ï¼å¦åï¼\n> \n> #å¤æ­ä¸ä¸ªæ° æ¯å¦è½æ´é¤4å8\n> numb =int(input('è¯·è¾å¥ä¸ä¸ªæ°å­:'))\n> if numb % 4 == 0 and numb % 8 == 0:\n>  print('è¿ä¸ªæ°è½è¢«4å8æ´é¤')\n> else:\n>  print('è¿ä¸ªæ°ä¸è½è¢«4å8æ´é¤')\n> \n> #å¤æ­ä¸ä¸ªæ° æ¯å¦è½è¢«5å8æ´é¤ï¼ä½æ¯ä¸è½åæ¶è¢«5å8æ´é¤\n> num =int(input('è¯·è¾å¥ä¸ä¸ªæ°å­2:'))\n> if (num % 5 == 0 or num % 8 == 0) and (num % 40 != 0):\n>  print('è¿ä¸ªæ°è½è¢«5æ8æ´é¤ï¼ä½ä¸è½è¢«5å8æ´é¤')\n> \n> \n> #å¤æ­ä¸ä¸ªå¹´ä»½æ¯å¦æ¯é°å¹´ï¼ï¼æ¡ä»¶: å¹´ä»½è½è¢«4æ´é¤ï¼æ®éé°å¹´ï¼ï¼ä½ä¸è½è¢«100æ´é¤ï¼ä½å¯ä»¥è¢«400æ´é¤ï¼ç§°ä¸ºä¸çºªé°å¹´ï¼ï¼\n> year = int(input('è¯·è¾å¥ä¸ä¸ªå¹´ä»½'))\n> if (year % 4 == 0 and year % 100 != 0 ) or (year % 400 == 0):\n>  print('è¿ä¸ªå¹´ä»½æ¯é°å¹´')\n> \n> \n> 1\n> 2\n> 3\n> 4\n> 5\n> 6\n> 7\n> 8\n> 9\n> 10\n> 11\n> 12\n> 13\n> 14\n> 15\n> 16\n> 17",normalizedContent:"# if else åæ¯ æ¡ä»¶å¤æ­è¯­å¥\n\n> å¤æ­è¯­å¥\n> \n> æ¡ä»¶å¤æ­è¯­å¥ if / if else / if elif elif else pythonä¸­ä¸æ¯æ switch...case æ¡ä»¶è¯­å¥\n> \n> if æ¡ä»¶å¤æ­ æ¡ä»¶æç«ååä¸æ§è¡ifçå­å½ä»¤ï¼ä¸æç«åå¿½ç¥ æ°å­è·å­ç¬¦ä¸²åæ¯è¾ ==ç­äºçç»æä¸º falseï¼ !=çç»æä¸ºtrueï¼å¶ä»è¿ç®åæ¥é\n> \n> ifä¸­åªè½ç¨==ä½ç¸ç­æ¯è¾ï¼ä¸è½ä½¿ç¨ç­å·=èµå¼è¿ç®ç¬¦ä½ç¸ç­æ¯è¾\n> \n> if 3 > 2:\n>  print(123)\n> \n> if 1 > 3:\n>  print(456)\n> \n> \n> 1\n> 2\n> 3\n> 4\n> 5\n> \n> \n> if...else å¤æ­æ¡ä»¶ if å¤æ­æ¡ä»¶: æ¡ä»¶æç«çä»£ç  else: æ¡ä»¶ä¸æç«çä»£ç ï¼å¦åï¼\n> \n> #å¤æ­ä¸ä¸ªæ° æ¯å¦è½æ´é¤4å8\n> numb =int(input('è¯·è¾å¥ä¸ä¸ªæ°å­:'))\n> if numb % 4 == 0 and numb % 8 == 0:\n>  print('è¿ä¸ªæ°è½è¢«4å8æ´é¤')\n> else:\n>  print('è¿ä¸ªæ°ä¸è½è¢«4å8æ´é¤')\n> \n> #å¤æ­ä¸ä¸ªæ° æ¯å¦è½è¢«5å8æ´é¤ï¼ä½æ¯ä¸è½åæ¶è¢«5å8æ´é¤\n> num =int(input('è¯·è¾å¥ä¸ä¸ªæ°å­2:'))\n> if (num % 5 == 0 or num % 8 == 0) and (num % 40 != 0):\n>  print('è¿ä¸ªæ°è½è¢«5æ8æ´é¤ï¼ä½ä¸è½è¢«5å8æ´é¤')\n> \n> \n> #å¤æ­ä¸ä¸ªå¹´ä»½æ¯å¦æ¯é°å¹´ï¼ï¼æ¡ä»¶: å¹´ä»½è½è¢«4æ´é¤ï¼æ®éé°å¹´ï¼ï¼ä½ä¸è½è¢«100æ´é¤ï¼ä½å¯ä»¥è¢«400æ´é¤ï¼ç§°ä¸ºä¸çºªé°å¹´ï¼ï¼\n> year = int(input('è¯·è¾å¥ä¸ä¸ªå¹´ä»½'))\n> if (year % 4 == 0 and year % 100 != 0 ) or (year % 400 == 0):\n>  print('è¿ä¸ªå¹´ä»½æ¯é°å¹´')\n> \n> \n> 1\n> 2\n> 3\n> 4\n> 5\n> 6\n> 7\n> 8\n> 9\n> 10\n> 11\n> 12\n> 13\n> 14\n> 15\n> 16\n> 17",charsets:{cjk:!0},lastUpdated:"2022/03/18, 07:01:11",lastUpdatedTimestamp:1647558071e3},{title:"è°è¯ä»£ç (Debug)",frontmatter:{title:"è°è¯ä»£ç (Debug)",date:"2022-03-18T00:52:52.000Z",permalink:"/pages/921d6f/",categories:["åç«¯","Python"],tags:[null]},regularPath:"/%E5%90%8E%E7%AB%AF/05.Python/32.%E8%B0%83%E8%AF%95%E4%BB%A3%E7%A0%81(Debug).html",relativePath:"åç«¯/05.Python/32.è°è¯ä»£ç (Debug).md",key:"v-0c44b074",path:"/pages/921d6f/",headersStr:null,content:"# è°è¯ä»£ç (Debug)\n\nå¨pycharmä¸­é¼ æ ç¹å»ä»£ç åºå·ä¸­é´æä¸ªçº¢è²ååï¼ç¹å»ä¹åå äºä¸ªæ­ç¹æææ¯ä»£ç è¿è¡å°æ­¤å¤ä¼åé¡¿ç­å¾ç®¡çè°è¯ç¨æ·ç¹å»ç»§ç»­æ§è¡ï¼Debugï¼\n\n> F8 Step Overä¸ä¸æ­¥",normalizedContent:"# è°è¯ä»£ç (debug)\n\nå¨pycharmä¸­é¼ æ ç¹å»ä»£ç åºå·ä¸­é´æä¸ªçº¢è²ååï¼ç¹å»ä¹åå äºä¸ªæ­ç¹æææ¯ä»£ç è¿è¡å°æ­¤å¤ä¼åé¡¿ç­å¾ç®¡çè°è¯ç¨æ·ç¹å»ç»§ç»­æ§è¡ï¼debugï¼\n\n> f8 step overä¸ä¸æ­¥",charsets:{cjk:!0},lastUpdated:"2022/03/18, 07:01:11",lastUpdatedTimestamp:1647558071e3},{title:"ifä¸­çéæ§è½¬å",frontmatter:{title:"ifä¸­çéæ§è½¬å",date:"2022-03-18T00:52:52.000Z",permalink:"/pages/a08b12/",categories:["åç«¯","Python"],tags:[null]},regularPath:"/%E5%90%8E%E7%AB%AF/05.Python/30.if%E4%B8%AD%E7%9A%84%E9%9A%90%E6%80%A7%E8%BD%AC%E5%8C%96.html",relativePath:"åç«¯/05.Python/30.ifä¸­çéæ§è½¬å.md",key:"v-50b2e256",path:"/pages/a08b12/",headersStr:null,content:"# ifä¸­çéæ§è½¬å\n\n> if 4:  #if åé¢éè¦æ¯ä¸ä¸ªå¸å°å¼ï¼å¦æä¸æ¯å¸å°å¼ä¼èªå¨è½¬æ¢æå¸å°å¼,å¤§äºæèç­äº1çæ°ä¸ºTrueï¼åªæ0è½¬æ¢ä¸ºFalse\n>     print('hello')\n> \n> \n> 1\n> 2",normalizedContent:"# ifä¸­çéæ§è½¬å\n\n> if 4:  #if åé¢éè¦æ¯ä¸ä¸ªå¸å°å¼ï¼å¦æä¸æ¯å¸å°å¼ä¼èªå¨è½¬æ¢æå¸å°å¼,å¤§äºæèç­äº1çæ°ä¸ºtrueï¼åªæ0è½¬æ¢ä¸ºfalse\n>     print('hello')\n> \n> \n> 1\n> 2",charsets:{cjk:!0},lastUpdated:"2022/03/18, 07:01:11",lastUpdatedTimestamp:1647558071e3},{title:"ä¸åè¡¨è¾¾å¼",frontmatter:{title:"ä¸åè¡¨è¾¾å¼",date:"2022-03-18T00:52:52.000Z",permalink:"/pages/6be9fd/",categories:["åç«¯","Python"],tags:[null]},regularPath:"/%E5%90%8E%E7%AB%AF/05.Python/31.%E4%B8%89%E5%85%83%E8%A1%A8%E8%BE%BE%E5%BC%8F.html",relativePath:"åç«¯/05.Python/31.ä¸åè¡¨è¾¾å¼.md",key:"v-947b9e0a",path:"/pages/6be9fd/",headersStr:null,content:"# ä¸åè¡¨è¾¾å¼\n\n> #3. ä¸åè¡¨è¾¾å¼(if...elseè¯­å¥çç®å),å°if...elseè½¬åæä¸è¡ä»£ç \n> num1 = 12\n> num2 = 42\n> # if num1 < num2:\n> #     x = num2\n> # else:\n> #     x = num1\n> x = num1 if num1 > num2 else num2   # a if 1 > 2 else b,æææ¯å¦æ1>2æç« åè¾åºaå¦åè¾åºb\n> print(x,'è¿æ°å¤§')\n> \n> \n> 1\n> 2\n> 3\n> 4\n> 5\n> 6\n> 7\n> 8\n> 9",normalizedContent:"# ä¸åè¡¨è¾¾å¼\n\n> #3. ä¸åè¡¨è¾¾å¼(if...elseè¯­å¥çç®å),å°if...elseè½¬åæä¸è¡ä»£ç \n> num1 = 12\n> num2 = 42\n> # if num1 < num2:\n> #     x = num2\n> # else:\n> #     x = num1\n> x = num1 if num1 > num2 else num2   # a if 1 > 2 else b,æææ¯å¦æ1>2æç« åè¾åºaå¦åè¾åºb\n> print(x,'è¿æ°å¤§')\n> \n> \n> 1\n> 2\n> 3\n> 4\n> 5\n> 6\n> 7\n> 8\n> 9",charsets:{cjk:!0},lastUpdated:"2022/03/18, 07:01:11",lastUpdatedTimestamp:1647558071e3},{title:"çæ³æ¸¸æ",frontmatter:{title:"çæ³æ¸¸æ",date:"2022-03-18T00:52:52.000Z",permalink:"/pages/5f7ab5/",categories:["åç«¯","Python"],tags:[null]},regularPath:"/%E5%90%8E%E7%AB%AF/05.Python/34.%E7%8C%9C%E6%8B%B3%E6%B8%B8%E6%88%8F.html",relativePath:"åç«¯/05.Python/34.çæ³æ¸¸æ.md",key:"v-6f5fde1c",path:"/pages/5f7ab5/",headersStr:null,content:"# çæ³æ¸¸æ\n\n> #ifä¸­åªè½ç¨==ä½ç¸ç­æ¯è¾ï¼ä¸è½ä½¿ç¨ç­å·=èµå¼è¿ç®ç¬¦ä½ç¸ç­æ¯è¾\n> #inputæ¯ç¨æ¥æ¥æ¶ç¨æ·çè¾å¥æ°æ®\n> #éæºåºä¸ä¸ªæ°\n> #éè¦ç¨çéæºæ°æ¨¡å random\n> player = int(input('çæ³æ¸¸æè¯·è¾å¥     0.ç³å¤´     1.åªå     2.å¸ï¼'))\n> import random   #å¯¼å¥æ¨¡å/å è½½æ¨¡å\n> computer = random.randint(0,2)  #random.randint(a,b)==> è½å¤çæ[a,b]çéæºæ´æ°\n> print(computer)\n> if player == computer:\n>     print('å¹³å±')\n> elif player - computer == -1 or  player - computer == 2:\n>     print('ä½ èµ¢äº')\n> else:print('ä½ è¾äº')\n> \n> \n> 1\n> 2\n> 3\n> 4\n> 5\n> 6\n> 7\n> 8\n> 9\n> 10\n> 11\n> 12\n> 13",normalizedContent:"# çæ³æ¸¸æ\n\n> #ifä¸­åªè½ç¨==ä½ç¸ç­æ¯è¾ï¼ä¸è½ä½¿ç¨ç­å·=èµå¼è¿ç®ç¬¦ä½ç¸ç­æ¯è¾\n> #inputæ¯ç¨æ¥æ¥æ¶ç¨æ·çè¾å¥æ°æ®\n> #éæºåºä¸ä¸ªæ°\n> #éè¦ç¨çéæºæ°æ¨¡å random\n> player = int(input('çæ³æ¸¸æè¯·è¾å¥     0.ç³å¤´     1.åªå     2.å¸ï¼'))\n> import random   #å¯¼å¥æ¨¡å/å è½½æ¨¡å\n> computer = random.randint(0,2)  #random.randint(a,b)==> è½å¤çæ[a,b]çéæºæ´æ°\n> print(computer)\n> if player == computer:\n>     print('å¹³å±')\n> elif player - computer == -1 or  player - computer == 2:\n>     print('ä½ èµ¢äº')\n> else:print('ä½ è¾äº')\n> \n> \n> 1\n> 2\n> 3\n> 4\n> 5\n> 6\n> 7\n> 8\n> 9\n> 10\n> 11\n> 12\n> 13",charsets:{cjk:!0},lastUpdated:"2022/03/18, 07:01:11",lastUpdatedTimestamp:1647558071e3},{title:"passè¯­å¥",frontmatter:{title:"passè¯­å¥",date:"2022-03-18T00:52:52.000Z",permalink:"/pages/1f3eec/",categories:["åç«¯","Python"],tags:[null]},regularPath:"/%E5%90%8E%E7%AB%AF/05.Python/33.pass%E8%AF%AD%E5%8F%A5.html",relativePath:"åç«¯/05.Python/33.passè¯­å¥.md",key:"v-41675d98",path:"/pages/1f3eec/",headersStr:null,content:"# passè¯­å¥\n\n> #pass è¯­å¥ ï¼æ²¡æå®éæä¹ï¼åçº¯ç¨æ¥å ä½ï¼ä¿è¯è¯­å¥çå®æ´æ§\n> age = int(input('è¯·è¾å¥ä½ çå¹´é¾'))\n> if age > 18:  #ifåé¢ä¸å®è¦æ¥ä¸ä¸æ­¥çæ§è¡ä»£ç å¦åä¼æ¥éï¼å¯ä»¥ä½¿ç¨passæ¥å ä½ä¿è¯å®æ´æ§\n>     pass\n> print('123')\n> \n> \n> 1\n> 2\n> 3\n> 4\n> 5",normalizedContent:"# passè¯­å¥\n\n> #pass è¯­å¥ ï¼æ²¡æå®éæä¹ï¼åçº¯ç¨æ¥å ä½ï¼ä¿è¯è¯­å¥çå®æ´æ§\n> age = int(input('è¯·è¾å¥ä½ çå¹´é¾'))\n> if age > 18:  #ifåé¢ä¸å®è¦æ¥ä¸ä¸æ­¥çæ§è¡ä»£ç å¦åä¼æ¥éï¼å¯ä»¥ä½¿ç¨passæ¥å ä½ä¿è¯å®æ´æ§\n>     pass\n> print('123')\n> \n> \n> 1\n> 2\n> 3\n> 4\n> 5",charsets:{cjk:!0},lastUpdated:"2022/03/18, 07:01:11",lastUpdatedTimestamp:1647558071e3},{title:"éæºæ°",frontmatter:{title:"éæºæ°",date:"2022-03-18T00:52:52.000Z",permalink:"/pages/559847/",categories:["åç«¯","Python"],tags:[null]},regularPath:"/%E5%90%8E%E7%AB%AF/05.Python/35.%E9%9A%8F%E6%9C%BA%E6%95%B0.html",relativePath:"åç«¯/05.Python/35.éæºæ°.md",key:"v-f624614c",path:"/pages/559847/",headersStr:null,content:"# éæºæ°\n\n> import random   #å¯¼å¥æ¨¡å/å è½½æ¨¡å\n> a = random.randint(0,2)  #random.randint(a,b)==> è½å¤çæ[a,b]çéæºæ´æ°ï¼åªè¾åºä¸ä¸ªéæºæ°\n> \n> \n> 1\n> 2",normalizedContent:"# éæºæ°\n\n> import random   #å¯¼å¥æ¨¡å/å è½½æ¨¡å\n> a = random.randint(0,2)  #random.randint(a,b)==> è½å¤çæ[a,b]çéæºæ´æ°ï¼åªè¾åºä¸ä¸ªéæºæ°\n> \n> \n> 1\n> 2",charsets:{cjk:!0},lastUpdated:"2022/03/18, 07:01:11",lastUpdatedTimestamp:1647558071e3},{title:"å¾ªç¯",frontmatter:{title:"å¾ªç¯",date:"2022-03-18T00:52:52.000Z",permalink:"/pages/aed4d8/",categories:["åç«¯","Python"],tags:[null]},regularPath:"/%E5%90%8E%E7%AB%AF/05.Python/36.%E5%BE%AA%E7%8E%AF.html",relativePath:"åç«¯/05.Python/36.å¾ªç¯.md",key:"v-3cd48312",path:"/pages/aed4d8/",headers:[{level:2,title:"å¾ªç¯çåºæ¬ä½¿ç¨",slug:"å¾ªç¯çåºæ¬ä½¿ç¨",normalizedTitle:"å¾ªç¯çåºæ¬ä½¿ç¨",charIndex:9},{level:2,title:"forâ¦inå¾ªç¯",slug:"for-inå¾ªç¯",normalizedTitle:"forâ¦inå¾ªç¯",charIndex:724},{level:2,title:"forâ¦else",slug:"for-else",normalizedTitle:"forâ¦else",charIndex:1402},{level:2,title:"breakåcontinue å³é®å­",slug:"breakåcontinue-å³é®å­",normalizedTitle:"breakåcontinue å³é®å­",charIndex:1709},{level:2,title:"åµå¥å¾ªç¯",slug:"åµå¥å¾ªç¯",normalizedTitle:"åµå¥å¾ªç¯",charIndex:2209}],headersStr:"å¾ªç¯çåºæ¬ä½¿ç¨ forâ¦inå¾ªç¯ forâ¦else breakåcontinue å³é®å­ åµå¥å¾ªç¯",content:"# å¾ªç¯\n\n\n# å¾ªç¯çåºæ¬ä½¿ç¨\n\n> pythonä¸­åwhile å¾ªç¯å for å¾ªç¯ pythonä¸­ä¸æ¯ædo...whileå¾ªç¯\n> \n> while å¾ªç¯çåºæ¬ä½¿ç¨ while å¤æ­æ¡ä»¶ï¼\n> \n> æ¡ä»¶æç«æ¶æ§è¡çä»£ç \n> \n> \n> i = 0\n> while i < 10:\n>     print('hello world')\n>     i += 1         #i++ pythonä¸­æ²¡æèªå¢èªåè¿ç®ç¬¦\n> \n> \n> #æ±1-100æææ´æ°çå\n> i = 0\n> sum = 0\n> while i < 100 :\n>     i += 1\n>     sum = sum +i\n> print(sum)\n> \n> \n> #æ±1-100ææå¶æ°çå\n> i = 0\n> sum = 0\n> while i < 100:\n>     i += 1\n>     if i % 2 == 0:  #å¤æ­iæ¯å¶æ°æå å°suméé¢å»\n>         sum = sum + i\n> print(sum)\n> \n> #æ± 35-987æææ´æ°çå\n> i = 34\n> sum = 0\n> while i < 987:\n>     i += 1\n>     sum +=  i\n> print(sum)\n> \n> \n> 1\n> 2\n> 3\n> 4\n> 5\n> 6\n> 7\n> 8\n> 9\n> 10\n> 11\n> 12\n> 13\n> 14\n> 15\n> 16\n> 17\n> 18\n> 19\n> 20\n> 21\n> 22\n> 23\n> 24\n> 25\n> 26\n> 27\n> 28\n> 29\n> 30\n> 31\n> 32\n\n\n# forâ¦inå¾ªç¯\n\n> #pythonä¸­forå¾ªç¯æçfor...inå¾ªç¯ï¼åcè¯­è¨ä¸­çforä¸ä¸æ ·\n> #for è¯­å¥æ ¼å¼ï¼ for eleï¼åéï¼ in iterableï¼è¿­ä»£ï¼å¯ä»¥çè§£ä¸ºè¿ç»­çä¸ç»æ°æ®ï¼å¯ä»¥éåçæ°æ®ï¼åå«åç½®çstringãlistãdictãtupleãset()ï¼\n> #inçåé¢å¿é¡»æ¯ä¸ä¸ªå¯è¿­ä»£çå¯¹è±¡å¦å­ç¬¦ä¸²ãåè¡¨ãå­å¸ãåç»ãéåãrange\n> \n> # for i in [1,2,3,4,5,6,7,8,9]:\n> #      print(i)\n> \n> #range åç½®ç±»ç¨æ¥çææå®åºé´çæ´æ°åºåï¼åè¡¨ï¼\n> #forå¾ªç¯æå°1-10\n> for i in range(1,11):   #rangeä¸åå«è¾åºæåä¸ä½\n>     print(i)\n> \n> #ç¨forå¾ªç¯æ±åº1-100æ´æ°ä¹å\n> sum = 0   #ç¨æ¥ä¿å­æ°å­ä¹åçåé\n> for i in range(1,101):\n>     sum +=i\n> print(sum)\n> \n> #forå¾ªç¯å¦æè¿­ä»£ç±»åä¸ºå­ç¬¦ä¸²åä¼æå­ç¬¦ä¸²ä¸ä¸ªä¸ä¸ªæåä¸ºä¸ä¸ªä¸ªå­ç¬¦è¾åº\n> for i in \"hello\":   #ä¼æå­ç¬¦ä¸²ä¸ä¸ªä¸ä¸ªæåä¸ºä¸ä¸ªä¸ªå­ç¬¦è¾åº\n>     print(i) #h   e    l    l    o\n> \n> \n> 1\n> 2\n> 3\n> 4\n> 5\n> 6\n> 7\n> 8\n> 9\n> 10\n> 11\n> 12\n> 13\n> 14\n> 15\n> 16\n> 17\n> 18\n> 19\n> 20\n> 21\n\n\n# forâ¦else\n\n#ç»è®¡101-200ä¸­ç´ æ°çä¸ªæ°ï¼å¹¶è¾åºææçç´ æ°ãï¼ç´ æ°åä½ å«è´¨æ°ï¼å°±æ¯åªè½è¢«1åå®æ¬èº«æ´é¤çæ°ï¼\na =0\nfor i in range(101,201):\n    for j in range(2,i):  #é¤ä»¥æ¯å½åæ°å­å°çæ°\n        if i % j ==0:\n            break    #å¤æ­æç«ç»æfor jå¾ªç¯\n    else:       #å½foréé¢çbreakæ²¡ææ§è¡çæ¶åelseå°±æ§è¡\n            a +=1\n            print(i)\nprint(a)\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n\n\n\n# breakåcontinue å³é®å­\n\n> breakåcontinueå¨pythonä¸­åªè½ç¨å¨å¾ªç¯è¯­å¥é breakï¼ç¨æ¥ç»æå¾ªç¯ continueï¼ç¨æ¥ç»ææ¬æ¥å¾ªç¯ï¼å¼å¯ä¸ä¸è½®å¾ªç¯\n> \n> \n> \n> \n> i = 0\n> while i < 5:\n>     i +=1\n>     if i ==3:        #å¤æ­i==3 continueç»ææ¬æ¬¡å¾ªç¯ï¼éæ°åå°whileå¤æ­\n>         continue   #continue ç¨äºç»ææ§è¡æ¶æ¬æ¬¡å¾ªç¯ï¼éæ°åå°å¾ªç¯æ¡ä»¶è¿è¡ä¸ä¸æ­¥å¾ªç¯ï¼ä¸ç»§ç»­æ§è¡ä¸é¢çä»£ç \n>     print(i)\n> \n> \n> i = 0\n> while i < 5:\n>     if i ==3:\n>         i +=1\n>         break    #break ç¨äºç´æ¥ç»ææ´ä¸ªå¾ªç¯\n>     i += 1\n>     print(i)\n> \n> \n> 1\n> 2\n> 3\n> 4\n> 5\n> 6\n> 7\n> 8\n> 9\n> 10\n> 11\n> 12\n> 13\n> 14\n> 15\n> 16\n> 17\n> 18\n\n\n# åµå¥å¾ªç¯",normalizedContent:"# å¾ªç¯\n\n\n# å¾ªç¯çåºæ¬ä½¿ç¨\n\n> pythonä¸­åwhile å¾ªç¯å for å¾ªç¯ pythonä¸­ä¸æ¯ædo...whileå¾ªç¯\n> \n> while å¾ªç¯çåºæ¬ä½¿ç¨ while å¤æ­æ¡ä»¶ï¼\n> \n> æ¡ä»¶æç«æ¶æ§è¡çä»£ç \n> \n> \n> i = 0\n> while i < 10:\n>     print('hello world')\n>     i += 1         #i++ pythonä¸­æ²¡æèªå¢èªåè¿ç®ç¬¦\n> \n> \n> #æ±1-100æææ´æ°çå\n> i = 0\n> sum = 0\n> while i < 100 :\n>     i += 1\n>     sum = sum +i\n> print(sum)\n> \n> \n> #æ±1-100ææå¶æ°çå\n> i = 0\n> sum = 0\n> while i < 100:\n>     i += 1\n>     if i % 2 == 0:  #å¤æ­iæ¯å¶æ°æå å°suméé¢å»\n>         sum = sum + i\n> print(sum)\n> \n> #æ± 35-987æææ´æ°çå\n> i = 34\n> sum = 0\n> while i < 987:\n>     i += 1\n>     sum +=  i\n> print(sum)\n> \n> \n> 1\n> 2\n> 3\n> 4\n> 5\n> 6\n> 7\n> 8\n> 9\n> 10\n> 11\n> 12\n> 13\n> 14\n> 15\n> 16\n> 17\n> 18\n> 19\n> 20\n> 21\n> 22\n> 23\n> 24\n> 25\n> 26\n> 27\n> 28\n> 29\n> 30\n> 31\n> 32\n\n\n# forâ¦inå¾ªç¯\n\n> #pythonä¸­forå¾ªç¯æçfor...inå¾ªç¯ï¼åcè¯­è¨ä¸­çforä¸ä¸æ ·\n> #for è¯­å¥æ ¼å¼ï¼ for eleï¼åéï¼ in iterableï¼è¿­ä»£ï¼å¯ä»¥çè§£ä¸ºè¿ç»­çä¸ç»æ°æ®ï¼å¯ä»¥éåçæ°æ®ï¼åå«åç½®çstringãlistãdictãtupleãset()ï¼\n> #inçåé¢å¿é¡»æ¯ä¸ä¸ªå¯è¿­ä»£çå¯¹è±¡å¦å­ç¬¦ä¸²ãåè¡¨ãå­å¸ãåç»ãéåãrange\n> \n> # for i in [1,2,3,4,5,6,7,8,9]:\n> #      print(i)\n> \n> #range åç½®ç±»ç¨æ¥çææå®åºé´çæ´æ°åºåï¼åè¡¨ï¼\n> #forå¾ªç¯æå°1-10\n> for i in range(1,11):   #rangeä¸åå«è¾åºæåä¸ä½\n>     print(i)\n> \n> #ç¨forå¾ªç¯æ±åº1-100æ´æ°ä¹å\n> sum = 0   #ç¨æ¥ä¿å­æ°å­ä¹åçåé\n> for i in range(1,101):\n>     sum +=i\n> print(sum)\n> \n> #forå¾ªç¯å¦æè¿­ä»£ç±»åä¸ºå­ç¬¦ä¸²åä¼æå­ç¬¦ä¸²ä¸ä¸ªä¸ä¸ªæåä¸ºä¸ä¸ªä¸ªå­ç¬¦è¾åº\n> for i in \"hello\":   #ä¼æå­ç¬¦ä¸²ä¸ä¸ªä¸ä¸ªæåä¸ºä¸ä¸ªä¸ªå­ç¬¦è¾åº\n>     print(i) #h   e    l    l    o\n> \n> \n> 1\n> 2\n> 3\n> 4\n> 5\n> 6\n> 7\n> 8\n> 9\n> 10\n> 11\n> 12\n> 13\n> 14\n> 15\n> 16\n> 17\n> 18\n> 19\n> 20\n> 21\n\n\n# forâ¦else\n\n#ç»è®¡101-200ä¸­ç´ æ°çä¸ªæ°ï¼å¹¶è¾åºææçç´ æ°ãï¼ç´ æ°åä½ å«è´¨æ°ï¼å°±æ¯åªè½è¢«1åå®æ¬èº«æ´é¤çæ°ï¼\na =0\nfor i in range(101,201):\n    for j in range(2,i):  #é¤ä»¥æ¯å½åæ°å­å°çæ°\n        if i % j ==0:\n            break    #å¤æ­æç«ç»æfor jå¾ªç¯\n    else:       #å½foréé¢çbreakæ²¡ææ§è¡çæ¶åelseå°±æ§è¡\n            a +=1\n            print(i)\nprint(a)\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n\n\n\n# breakåcontinue å³é®å­\n\n> breakåcontinueå¨pythonä¸­åªè½ç¨å¨å¾ªç¯è¯­å¥é breakï¼ç¨æ¥ç»æå¾ªç¯ continueï¼ç¨æ¥ç»ææ¬æ¥å¾ªç¯ï¼å¼å¯ä¸ä¸è½®å¾ªç¯\n> \n> \n> \n> \n> i = 0\n> while i < 5:\n>     i +=1\n>     if i ==3:        #å¤æ­i==3 continueç»ææ¬æ¬¡å¾ªç¯ï¼éæ°åå°whileå¤æ­\n>         continue   #continue ç¨äºç»ææ§è¡æ¶æ¬æ¬¡å¾ªç¯ï¼éæ°åå°å¾ªç¯æ¡ä»¶è¿è¡ä¸ä¸æ­¥å¾ªç¯ï¼ä¸ç»§ç»­æ§è¡ä¸é¢çä»£ç \n>     print(i)\n> \n> \n> i = 0\n> while i < 5:\n>     if i ==3:\n>         i +=1\n>         break    #break ç¨äºç´æ¥ç»ææ´ä¸ªå¾ªç¯\n>     i += 1\n>     print(i)\n> \n> \n> 1\n> 2\n> 3\n> 4\n> 5\n> 6\n> 7\n> 8\n> 9\n> 10\n> 11\n> 12\n> 13\n> 14\n> 15\n> 16\n> 17\n> 18\n\n\n# åµå¥å¾ªç¯",charsets:{cjk:!0},lastUpdated:"2022/03/18, 07:01:11",lastUpdatedTimestamp:1647558071e3},{title:"å¿«æ·é®",frontmatter:{title:"å¿«æ·é®",date:"2022-03-18T00:52:52.000Z",permalink:"/pages/d3bc75/",categories:["åç«¯","Python"],tags:[null]},regularPath:"/%E5%90%8E%E7%AB%AF/05.Python/38.%E5%BF%AB%E6%8D%B7%E9%94%AE.html",relativePath:"åç«¯/05.Python/38.å¿«æ·é®.md",key:"v-2075c59e",path:"/pages/d3bc75/",headersStr:null,content:"# å¿«æ·é®\n\nåå»shift å¨å±æç´¢åè½ ï¼registryï¼\n\nï¼reformat codeï¼å¿«éæ ¼å¼åä»£ç  ctrl+alt+l\n\nå¿«éå¤å¶éä¸­çä»£ç  ctrl+d\n\nï¼move line upï¼ç§»å¨ä¸è¡ä»£ç  alt+shift+ä¸ä¸ç®­å¤´\n\ndelete line)å é¤ä¸è¡ä»£ç  ctrl+y",normalizedContent:"# å¿«æ·é®\n\nåå»shift å¨å±æç´¢åè½ ï¼registryï¼\n\nï¼reformat codeï¼å¿«éæ ¼å¼åä»£ç  ctrl+alt+l\n\nå¿«éå¤å¶éä¸­çä»£ç  ctrl+d\n\nï¼move line upï¼ç§»å¨ä¸è¡ä»£ç  alt+shift+ä¸ä¸ç®­å¤´\n\ndelete line)å é¤ä¸è¡ä»£ç  ctrl+y",charsets:{cjk:!0},lastUpdated:"2022/03/18, 07:01:11",lastUpdatedTimestamp:1647558071e3},{title:"æ´æ¹æä¸ªåéå¨é¨ä»£ç ",frontmatter:{title:"æ´æ¹æä¸ªåéå¨é¨ä»£ç ",date:"2022-03-18T00:52:50.000Z",permalink:"/pages/2d9020/",categories:["åç«¯","Python"],tags:[null]},regularPath:"/%E5%90%8E%E7%AB%AF/05.Python/39.%E6%9B%B4%E6%94%B9%E6%9F%90%E4%B8%AA%E5%8F%98%E9%87%8F%E5%85%A8%E9%83%A8%E4%BB%A3%E7%A0%81.html",relativePath:"åç«¯/05.Python/39.æ´æ¹æä¸ªåéå¨é¨ä»£ç .md",key:"v-9421b7d2",path:"/pages/2d9020/",headersStr:null,content:"# æ´æ¹æä¸ªåéå¨é¨ä»£ç \n\nå³é®åé refactor -rename\n\nå¿«æ·é®shift+F6",normalizedContent:"# æ´æ¹æä¸ªåéå¨é¨ä»£ç \n\nå³é®åé refactor -rename\n\nå¿«æ·é®shift+f6",charsets:{cjk:!0},lastUpdated:"2022/03/18, 07:01:11",lastUpdatedTimestamp:1647558071e3},{title:"range çä½¿ç¨",frontmatter:{title:"range çä½¿ç¨",date:"2022-03-18T00:52:52.000Z",permalink:"/pages/6bc87f/",categories:["åç«¯","Python"],tags:[null]},regularPath:"/%E5%90%8E%E7%AB%AF/05.Python/37.range%20%E7%9A%84%E4%BD%BF%E7%94%A8.html",relativePath:"åç«¯/05.Python/37.range çä½¿ç¨.md",key:"v-88a93a4e",path:"/pages/6bc87f/",headersStr:null,content:"# range çä½¿ç¨\n\nrange åç½®ç±»ç¨æ¥çææå®åºé´çæ´æ°åºåï¼åè¡¨ï¼\n\n#forå¾ªç¯æå°1-10\nfor i in range(1,11):   #rangeä¸åå«è¾åºæåä¸ä½\n    print(i)\n#è¾åº 1,2,3,4,5,6,7,8,9,10  \n#æ¬è´¨ä¸è¾åºæ¯ä¸ä¸ªåè¡¨ [1,2,3,4,5,6,7,8,9,10]  éåä¸éæ°æ®ä¸ä¸ªä¸ä¸ªè¾åº\n\n\n1\n2\n3\n4\n5\n",normalizedContent:"# range çä½¿ç¨\n\nrange åç½®ç±»ç¨æ¥çææå®åºé´çæ´æ°åºåï¼åè¡¨ï¼\n\n#forå¾ªç¯æå°1-10\nfor i in range(1,11):   #rangeä¸åå«è¾åºæåä¸ä½\n    print(i)\n#è¾åº 1,2,3,4,5,6,7,8,9,10  \n#æ¬è´¨ä¸è¾åºæ¯ä¸ä¸ªåè¡¨ [1,2,3,4,5,6,7,8,9,10]  éåä¸éæ°æ®ä¸ä¸ªä¸ä¸ªè¾åº\n\n\n1\n2\n3\n4\n5\n",charsets:{cjk:!0},lastUpdated:"2022/03/18, 07:01:11",lastUpdatedTimestamp:1647558071e3},{title:"Beautifulsoup4",frontmatter:{title:"Beautifulsoup4",date:"2022-03-18T00:53:25.000Z",permalink:"/pages/f14379/",categories:["åç«¯","Pythonæ¨¡å"],tags:[null]},regularPath:"/%E5%90%8E%E7%AB%AF/07.Python%E6%A8%A1%E5%9D%97/02.Beautifulsoup4.html",relativePath:"åç«¯/07.Pythonæ¨¡å/02.Beautifulsoup4.md",key:"v-c0ebeed8",path:"/pages/f14379/",headers:[{level:2,title:"æé æ¹æ³",slug:"æé æ¹æ³",normalizedTitle:"æé æ¹æ³",charIndex:791},{level:2,title:"åå¤§å¯¹è±¡ç§ç±»",slug:"åå¤§å¯¹è±¡ç§ç±»",normalizedTitle:"åå¤§å¯¹è±¡ç§ç±»",charIndex:1052},{level:2,title:"éåææ¡£æ ",slug:"éåææ¡£æ ",normalizedTitle:"éåææ¡£æ ",charIndex:1349},{level:2,title:"æç´¢ææ¡£æ ",slug:"æç´¢ææ¡£æ ",normalizedTitle:"æç´¢ææ¡£æ ",charIndex:4079},{level:3,title:"å­ç¬¦ä¸²",slug:"å­ç¬¦ä¸²",normalizedTitle:"å­ç¬¦ä¸²",charIndex:2172},{level:3,title:"æ­£åè¡¨è¾¾å¼",slug:"æ­£åè¡¨è¾¾å¼",normalizedTitle:"æ­£åè¡¨è¾¾å¼",charIndex:4377},{level:3,title:"åè¡¨",slug:"åè¡¨",normalizedTitle:"åè¡¨",charIndex:1215},{level:3,title:"keyword   å±æ§å¼",slug:"keyword-å±æ§å¼",normalizedTitle:"keyword   å±æ§å¼",charIndex:null},{level:3,title:"æCSSæç´¢",slug:"æcssæç´¢",normalizedTitle:"æcssæç´¢",charIndex:5077},{level:3,title:"String åæ°",slug:"string-åæ°",normalizedTitle:"string åæ°",charIndex:6183},{level:3,title:"limit åæ°",slug:"limit-åæ°",normalizedTitle:"limit åæ°",charIndex:6784},{level:3,title:"recursive åæ°",slug:"recursive-åæ°",normalizedTitle:"recursive åæ°",charIndex:7112},{level:3,title:"ç¶è¾èç¹",slug:"ç¶è¾èç¹",normalizedTitle:"ç¶è¾èç¹",charIndex:3648},{level:2,title:"ä¿®æ¹ææ¡£æ ",slug:"ä¿®æ¹ææ¡£æ ",normalizedTitle:"ä¿®æ¹ææ¡£æ ",charIndex:7396},{level:3,title:"ä¿®æ¹tagçåç§°åå±æ§",slug:"ä¿®æ¹tagçåç§°åå±æ§",normalizedTitle:"ä¿®æ¹tagçåç§°åå±æ§",charIndex:7447},{level:3,title:"ä¿®æ¹ .string",slug:"ä¿®æ¹-string",normalizedTitle:"ä¿®æ¹ .string",charIndex:7810},{level:3,title:"append()",slug:"append",normalizedTitle:"append()",charIndex:8140},{level:3,title:"clear()",slug:"clear",normalizedTitle:"clear()",charIndex:8349},{level:3,title:"extract()",slug:"extract",normalizedTitle:"extract()",charIndex:8577},{level:3,title:"decompose()",slug:"decompose",normalizedTitle:"decompose()",charIndex:8930},{level:3,title:"replace_with()",slug:"replace-with",normalizedTitle:"replace_with()",charIndex:9196},{level:2,title:"bs4çç®åä½¿ç¨",slug:"bs4çç®åä½¿ç¨",normalizedTitle:"bs4çç®åä½¿ç¨",charIndex:9582}],headersStr:"æé æ¹æ³ åå¤§å¯¹è±¡ç§ç±» éåææ¡£æ  æç´¢ææ¡£æ  å­ç¬¦ä¸² æ­£åè¡¨è¾¾å¼ åè¡¨ keyword   å±æ§å¼ æCSSæç´¢ String åæ° limit åæ° recursive åæ° ç¶è¾èç¹ ä¿®æ¹ææ¡£æ  ä¿®æ¹tagçåç§°åå±æ§ ä¿®æ¹ .string append() clear() extract() decompose() replace_with() bs4çç®åä½¿ç¨",content:'# Beautifulsoup4\n\nBeautiful Soup æ¯ä¸ä¸ªå¯ä»¥ä»HTMLæXMLæä»¶ä¸­æåæ°æ®çPythonåº.å®è½å¤éè¿ä½ åæ¬¢çè½¬æ¢å¨å®ç°æ¯ç¨çææ¡£å¯¼èª,æ¥æ¾,ä¿®æ¹ææ¡£çæ¹å¼.Beautiful Soupä¼å¸®ä½ èçæ°å°æ¶çè³æ°å¤©çå·¥ä½æ¶é´.\n\nBeautifulsoup åç§è§£æå¨\n\nè§£æå¨             ä½¿ç¨æ¹æ³                                                         ä¼å¿                              å£å¿\nPythonæ ååº       BeautifulSoup(markup, "html.parser")                         Pythonçåç½®æ ååºæ§è¡éåº¦éä¸­ææ¡£å®¹éè½åå¼º       Python 2.7.3 or 3.2.2)å ççæ¬ä¸­ææ¡£å®¹éè½åå·®\nlxml HTML è§£æå¨   BeautifulSoup(markup, "lxml")                                éåº¦å¿«ææ¡£å®¹éè½åå¼º                      éè¦å®è£Cè¯­è¨åº\nlxml XML è§£æå¨    BeautifulSoup(markup, ["lxml-xml"])``BeautifulSoup(markup,   éåº¦å¿«å¯ä¸æ¯æXMLçè§£æå¨                  éè¦å®è£Cè¯­è¨åº\n                "xml")\nhtml5lib        BeautifulSoup(markup, "html5lib")                            æå¥½çå®¹éæ§ä»¥æµè§å¨çæ¹å¼è§£æææ¡£çæHTML5æ ¼å¼çææ¡£   éåº¦æ¢ä¸ä¾èµå¤é¨æ©å±\n\n\n# æé æ¹æ³\n\n * BeautifulSoup(html,"html.parser")\n\nurl="http://wsjkw.sc.gov.cn/scwsjkw/gzbd/fyzt.shtml"\nres=requests.get(url)\nres.encoding="utf-8"  #è½¬ä¸ºutf-uè§£ç \nhtml=res.text  #å°æºç è½¬ä¸ºææ¬èµå¼ç»html\nsoup=BeautifulSoup(html,\'html.parser\')   #å¯¹è±¡åhtml     "lxml"\n\n\n1\n2\n3\n4\n5\n\n\n\n# åå¤§å¯¹è±¡ç§ç±»\n\n 1. Tag HTMLä¸­çä¸ä¸ªä¸ªæ ç­¾\n    1. Nameï¼æ ç­¾åï¼ éè¿ .nameè·å\n    2. Attributesï¼å±æ§ï¼ å­å¸è·å tag["class"] tag.attrs å¯ä»¥è·åæ´ä¸ªå­å¸\n    3. Multi-valued attributesï¼å¤å¼å±æ§ï¼ ä¹æ¯å­å¸è·å è¿åä¸ä¸ªåè¡¨\n 2. NavigableString è·åæ ç­¾åé¨çæå­ç¨ .string å³å¯\n 3. BeautifulSoup è¡¨ç¤ºçæ¯ä¸ä¸ªææ¡£çåå®¹\n 4. Comment æ¯ä¸ä¸ªç¹æ®ç±»åç NavigableString å¯¹è±¡ï¼å¶è¾åºçåå®¹ä¸åæ¬æ³¨éç¬¦å·ã\n\n\n# éåææ¡£æ \n\nfrom bs4 import BeautifulSoup\nsoup = BeautifulSoup(html_doc, \'html.parser\')\n\n\n1\n2\n\n\n * soup.tag ä½¿ç¨æ ç­¾åè¿è¡éå soup.head soup.h2\n\n * Tag.contents è·åè¯¥æ ç­¾ä¸­ææåç´ \n   \n   * head_tag = soup.head\n     head_tag\n     # <head><title>The Dormouse\'s story</title></head>\n     \n     head_tag.contents\n     [<title>The Dormouse\'s story</title>]\n     \n     title_tag = head_tag.contents[0]\n     title_tag\n     # <title>The Dormouse\'s story</title>\n     \n     \n     1\n     2\n     3\n     4\n     5\n     6\n     7\n     8\n     9\n     10\n     \n\n * Tag.children å¯¹tagçå­èç¹è¿è¡å¾ªç¯\n   \n   * for child in title_tag.children:\n         print(child)\n     \n     \n     \n     1\n     2\n     3\n     \n\n * Tag.descendants å¯ä»¥å¯¹æætagçå­å­èç¹è¿è¡éå½å¾ªç¯\n   \n   * for child in head_tag.descendants:\n         print(child)\n     \n     \n     1\n     2\n     \n\n * soup.strings è·åtagä¸­çå­ç¬¦ä¸²åå«å­æ ç­¾\n   \n   * for string in soup.strings:\n         print(repr(string))\n         # u"The Dormouse\'s story"\n         # u\'\\n\\n\'\n         # u"The Dormouse\'s story"\n         # u\'\\n\\n\'\n         # u\'Once upon a time there were three little sisters; and their names were\\n\'\n         # u\'Elsie\'\n         # u\',\\n\'\n         # u\'Lacie\'\n         # u\' and\\n\'\n         # u\'Tillie\'\n         # u\';\\nand they lived at the bottom of a well.\'\n         # u\'\\n\\n\'\n         # u\'...\'\n         # u\'\\n\'\n     \n     \n     1\n     2\n     3\n     4\n     5\n     6\n     7\n     8\n     9\n     10\n     11\n     12\n     13\n     14\n     15\n     16\n     \n\n * soup.stripped_strings è¾åºçå­ç¬¦ä¸²ä¸­å¯è½åå«äºå¾å¤ç©ºæ ¼æç©ºè¡,ä½¿ç¨ .stripped_strings å¯ä»¥å»é¤å¤ä½ç©ºç½åå®¹:\n   \n   * for string in soup.stripped_strings:\n         print(repr(string))\n         # u"The Dormouse\'s story"\n         # u"The Dormouse\'s story"\n         # u\'Once upon a time there were three little sisters; and their names were\'\n         # u\'Elsie\'\n         # u\',\'\n         # u\'Lacie\'\n         # u\'and\'\n         # u\'Tillie\'\n         # u\';\\nand they lived at the bottom of a well.\'\n         # u\'...\'\n     \n     \n     1\n     2\n     3\n     4\n     5\n     6\n     7\n     8\n     9\n     10\n     11\n     12\n     \n\n * Tag.parent è·åæä¸ªåç´ çç¶èç¹\n   \n   * title_tag = soup.title\n     title_tag\n     # <title>The Dormouse\'s story</title>\n     title_tag.parent\n     # <head><title>The Dormouse\'s story</title></head>\n     \n     \n     1\n     2\n     3\n     4\n     5\n     \n\n * Tag.parents å¯ä»¥éå½å¾å°åç´ çææç¶è¾èç¹\n   \n   * link = soup.a\n     link\n     # <a class="sister" href="http://example.com/elsie" id="link1">Elsie</a>\n     for parent in link.parents:\n         if parent is None:\n             print(parent)\n         else:\n             print(parent.name)\n     # p\n     # body\n     # html\n     # [document]\n     # None\n     \n     \n     1\n     2\n     3\n     4\n     5\n     6\n     7\n     8\n     9\n     10\n     11\n     12\n     13\n     \n\n\n# æç´¢ææ¡£æ \n\n * soud.find() æç´¢ç¬¬ä¸ä¸ªç¬¦åæ¡ä»¶çæ ç­¾\n * soud.find_all( name , attrs , recursive , string , **kwargs ) æç´¢ææç¬¦åæ¡ä»¶çæ ç­¾\n\nå¯ä¸çåºå«æ¯ find_all() æ¹æ³çè¿åç»ææ¯å¼åå«ä¸ä¸ªåç´ çåè¡¨,è find() æ¹æ³ç´æ¥è¿åç»æ.\n\n\n# å­ç¬¦ä¸²\n\næç®åçè¿æ»¤å¨æ¯å­ç¬¦ä¸².å¨æç´¢æ¹æ³ä¸­ä¼ å¥ä¸ä¸ªå­ç¬¦ä¸²åæ°,Beautiful Soupä¼æ¥æ¾ä¸å­ç¬¦ä¸²å®æ´å¹éçåå®¹\n\nsoup.find_all(\'b\')\n# [<b>The Dormouse\'s story</b>]\n\n\n1\n2\n\n\n\n# æ­£åè¡¨è¾¾å¼\n\nå¦æä¼ å¥æ­£åè¡¨è¾¾å¼ä½ä¸ºåæ°,Beautiful Soupä¼éè¿æ­£åè¡¨è¾¾å¼ç match() æ¥å¹éåå®¹.\n\nimport re\nfor tag in soup.find_all(re.compile("^b")):\n    print(tag.name)\n# body\n# b\n\n\n1\n2\n3\n4\n5\n\n\n\n# åè¡¨\n\nå¦æä¼ å¥åè¡¨åæ°,Beautiful Soupä¼å°ä¸åè¡¨ä¸­ä»»ä¸åç´ å¹éçåå®¹è¿å\n\nsoup.find_all(["a", "b"])\n# [<b>The Dormouse\'s story</b>,\n#  <a class="sister" href="http://example.com/elsie" id="link1">Elsie</a>,\n#  <a class="sister" href="http://example.com/lacie" id="link2">Lacie</a>,\n#  <a class="sister" href="http://example.com/tillie" id="link3">Tillie</a>]\n\n\n1\n2\n3\n4\n5\n\n\n\n# keyword å±æ§å¼\n\nå¦æä¸ä¸ªæå®åå­çåæ°ä¸æ¯æç´¢åç½®çåæ°å,æç´¢æ¶ä¼æè¯¥åæ°å½ä½æå®åå­tagçå±æ§æ¥æç´¢\n\nsoup.find_all(id=\'link2\') #æç´¢ææidä¸ºlink2çæ ç­¾\n# [<a class="sister" href="http://example.com/lacie" id="link2">Lacie</a>]\n\n\n1\n2\n\n\n\n# æCSSæç´¢\n\nclass å¨Pythonä¸­æ¯ä¿çå­,ä½¿ç¨ class ååæ°ä¼å¯¼è´è¯­æ³éè¯¯.ä»Beautiful Soupç4.1.1çæ¬å¼å§,å¯ä»¥éè¿ class_ åæ°æç´¢ææå®CSSç±»åçtag\n\nsoup.find_all("a", class_="sister")\n# [<a class="sister" href="http://example.com/elsie" id="link1">Elsie</a>,\n#  <a class="sister" href="http://example.com/lacie" id="link2">Lacie</a>,\n#  <a class="sister" href="http://example.com/tillie" id="link3">Tillie</a>]\n\n\n1\n2\n3\n4\n\n\nclass å±æ§æ¯ å¤å¼å±æ§ .æç§CSSç±»åæç´¢tagæ¶,å¯ä»¥åå«æç´¢tagä¸­çæ¯ä¸ªCSSç±»å\n\ncss_soup = BeautifulSoup(\'<p class="body strikeout"></p>\')\ncss_soup.find_all-0-0-("p", class_="strikeout")\n# [<p class="body strikeout"></p>]\n\ncss_soup.find_all("p", class_="body")\n# [<p class="body strikeout"></p>]\n\n\n1\n2\n3\n4\n5\n6\n\n\næç´¢ class å±æ§æ¶ä¹å¯ä»¥éè¿CSSå¼å®å¨å¹é\n\ncss_soup.find_all("p", class_="body strikeout")\n# [<p class="body strikeout"></p>]\n\n\n1\n2\n\n\nå®å¨å¹é class çå¼æ¶,å¦æCSSç±»åçé¡ºåºä¸å®éä¸ç¬¦,å°æç´¢ä¸å°ç»æ\n\nsoup.find_all("a", attrs={"class": "sister"})\n# [<a class="sister" href="http://example.com/elsie" id="link1">Elsie</a>,\n#  <a class="sister" href="http://example.com/lacie" id="link2">Lacie</a>,\n#  <a class="sister" href="http://example.com/tillie" id="link3">Tillie</a>]\n\n\n1\n2\n3\n4\n\n\n\n# String åæ°\n\néè¿ string åæ°å¯ä»¥ææææ¡£ä¸­çå­ç¬¦ä¸²åå®¹\n\nsoup.find_all(string="Elsie")\n# [u\'Elsie\']\n\nsoup.find_all(string=["Tillie", "Elsie", "Lacie"])\n# [u\'Elsie\', u\'Lacie\', u\'Tillie\']\n\nsoup.find_all(string=re.compile("Dormouse"))\n[u"The Dormouse\'s story", u"The Dormouse\'s story"]\n\ndef is_the_only_string_within_a_tag(s):\n    ""Return True if this string is the only child of its parent tag.""\n    return (s == s.parent.string)\n\nsoup.find_all(string=is_the_only_string_within_a_tag)\n# [u"The Dormouse\'s story", u"The Dormouse\'s story", u\'Elsie\', u\'Lacie\', u\'Tillie\', u\'...\']\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n\n\n\n# limit åæ°\n\nfind_all() æ¹æ³è¿åå¨é¨çæç´¢ç»æ,å¦æææ¡£æ å¾å¤§é£ä¹æç´¢ä¼å¾æ¢.å¦ææä»¬ä¸éè¦å¨é¨ç»æ,å¯ä»¥ä½¿ç¨ limit åæ°éå¶è¿åç»æçæ°é.ææä¸SQLä¸­çlimitå³é®å­ç±»ä¼¼,å½æç´¢å°çç»ææ°éè¾¾å° limit çéå¶æ¶,å°±åæ­¢æç´¢è¿åç»æ.\n\nsoup.find_all("a", limit=2)\n# [<a class="sister" href="http://example.com/elsie" id="link1">Elsie</a>,\n#  <a class="sister" href="http://example.com/lacie" id="link2">Lacie</a>]\n\n\n1\n2\n3\n\n\n\n# recursive åæ°\n\nè°ç¨tagç find_all() æ¹æ³æ¶,Beautiful Soupä¼æ£ç´¢å½åtagçææå­å­èç¹,å¦æåªæ³æç´¢tagçç´æ¥å­èç¹,å¯ä»¥ä½¿ç¨åæ° recursive=False\n\n\n# ç¶è¾èç¹\n\nfind_all() å find() åªæç´¢å½åèç¹çææå­èç¹,å­å­èç¹ç­. find_parents() å find_parent() ç¨æ¥æç´¢å½åèç¹çç¶è¾èç¹,æç´¢æ¹æ³ä¸æ®étagçæç´¢æ¹æ³ç¸å,æç´¢ææ¡£æç´¢ææ¡£åå«çåå®¹\n\n * soud.find_parents()\n * soud.find_parents()\n\n\n# ä¿®æ¹ææ¡£æ \n\nBeautiful Soupçå¼ºé¡¹æ¯ææ¡£æ çæç´¢,ä½åæ¶ä¹å¯ä»¥æ¹ä¾¿çä¿®æ¹ææ¡£æ \n\n\n# ä¿®æ¹tagçåç§°åå±æ§\n\néå½åä¸ä¸ªtag,æ¹åå±æ§çå¼,æ·»å æå é¤å±æ§\n\nsoup = BeautifulSoup(\'<b class="boldest">Extremely bold</b>\')\ntag = soup.b\n\ntag.name = "blockquote"\ntag[\'class\'] = \'verybold\'\ntag[\'id\'] = 1\ntag\n# <blockquote class="verybold" id="1">Extremely bold</blockquote>\n\ndel tag[\'class\']\ndel tag[\'id\']\ntag\n# <blockquote>Extremely bold</blockquote>\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n\n\n\n# ä¿®æ¹ .string\n\nç»tagç .string å±æ§èµå¼,å°±ç¸å½äºç¨å½åçåå®¹æ¿ä»£äºåæ¥çåå®¹\n\nå¦æå½åçtagåå«äºå¶å®tag,é£ä¹ç»å®ç .string å±æ§èµå¼ä¼è¦çæåæçææåå®¹åæ¬å­tag\n\nmarkup = \'<a href="http://example.com/">I linked to <i>example.com</i></a>\'\nsoup = BeautifulSoup(markup)\n\ntag = soup.a\ntag.string = "New link text."\ntag\n# <a href="http://example.com/">New link text.</a>\n\n\n1\n2\n3\n4\n5\n6\n7\n\n\n\n# append()\n\nTag.append() æ¹æ³æ³tagä¸­æ·»å åå®¹\n\nsoup = BeautifulSoup("<a>Foo</a>")\nsoup.a.append("Bar")\n\nsoup\n# <html><head></head><body><a>FooBar</a></body></html>\nsoup.a.contents\n# [u\'Foo\', u\'Bar\']\n\n\n1\n2\n3\n4\n5\n6\n7\n\n\n\n# clear()\n\nTag.clear() æ¹æ³ç§»é¤å½åtagçåå®¹\n\nmarkup = \'<a href="http://example.com/">I linked to <i>example.com</i></a>\'\nsoup = BeautifulSoup(markup)\ntag = soup.a\n\ntag.clear()\ntag\n# <a href="http://example.com/"></a>\n\n\n1\n2\n3\n4\n5\n6\n7\n\n\n\n# extract()\n\nPageElement.extract() æ¹æ³å°å½åtagç§»é¤ææ¡£æ ,å¹¶ä½ä¸ºæ¹æ³ç»æè¿å\n\nmarkup = \'<a href="http://example.com/">I linked to <i>example.com</i></a>\'\nsoup = BeautifulSoup(markup)\na_tag = soup.a\n\ni_tag = soup.i.extract()\n\na_tag\n# <a href="http://example.com/">I linked to</a>\n\ni_tag\n# <i>example.com</i>\n\nprint(i_tag.parent)\nNone\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n\n\n\n# decompose()\n\nTag.decompose() æ¹æ³å°å½åèç¹ç§»é¤ææ¡£æ å¹¶å®å¨éæ¯\n\nmarkup = \'<a href="http://example.com/">I linked to <i>example.com</i></a>\'\nsoup = BeautifulSoup(markup)\na_tag = soup.a\n\nsoup.i.decompose()\n\na_tag\n# <a href="http://example.com/">I linked to</a>\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n\n\n\n# replace_with()\n\nPageElement.replace_with() æ¹æ³ç§»é¤ææ¡£æ ä¸­çææ®µåå®¹,å¹¶ç¨æ°tagæææ¬èç¹æ¿ä»£å®:\n\nmarkup = \'<a href="http://example.com/">I linked to <i>example.com</i></a>\'\nsoup = BeautifulSoup(markup)\na_tag = soup.a\n\nnew_tag = soup.new_tag("b")\nnew_tag.string = "example.net"\na_tag.i.replace_with(new_tag)\n\na_tag\n# <a href="http://example.com/">I linked to <b>example.net</b></a>\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n\n\n\n# bs4çç®åä½¿ç¨\n\nfrom bs4 import BeautifulSoup\nimport requests\n\nurl="http://wsjkw.sc.gov.cn/scwsjkw/gzbd/fyzt.shtml"\nres=requests.get(url)\nres.encoding="utf-8"  #è½¬ä¸ºutf-uè§£ç \nhtml=res.text  #å°æºç è½¬ä¸ºææ¬èµå¼ç»html\nsoup=BeautifulSoup(html,\'html.parser\')   #å¯¹è±¡åhtml     "lxml"\nh =soup.find(\'h2\')   #å¯»æ¾ææ¬ä¸­ h2æ ç­¾çåå®¹\nprint(h)\nh = soup.find(\'h2\').text    #åªè·åh2æ ç­¾ä¸­çåå®¹\nprint(h)\n\na = soup.find(\'a\') #ä¼å¯»æ¾ææ¬ä¸­ç¬¬ä¸ä¸ªaæ ç­¾\nprint(a)\nprint(type(a))\na = soup.find(\'a\').attrs   #è·åaæ ç­¾ä¸­  hrefä»¥å target  å­æ¾å¨å­å¸ä¸­\nprint(a)\nprint(a[\'href\'])\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n',normalizedContent:'# beautifulsoup4\n\nbeautiful soup æ¯ä¸ä¸ªå¯ä»¥ä»htmlæxmlæä»¶ä¸­æåæ°æ®çpythonåº.å®è½å¤éè¿ä½ åæ¬¢çè½¬æ¢å¨å®ç°æ¯ç¨çææ¡£å¯¼èª,æ¥æ¾,ä¿®æ¹ææ¡£çæ¹å¼.beautiful soupä¼å¸®ä½ èçæ°å°æ¶çè³æ°å¤©çå·¥ä½æ¶é´.\n\nbeautifulsoup åç§è§£æå¨\n\nè§£æå¨             ä½¿ç¨æ¹æ³                                                         ä¼å¿                              å£å¿\npythonæ ååº       beautifulsoup(markup, "html.parser")                         pythonçåç½®æ ååºæ§è¡éåº¦éä¸­ææ¡£å®¹éè½åå¼º       python 2.7.3 or 3.2.2)å ççæ¬ä¸­ææ¡£å®¹éè½åå·®\nlxml html è§£æå¨   beautifulsoup(markup, "lxml")                                éåº¦å¿«ææ¡£å®¹éè½åå¼º                      éè¦å®è£cè¯­è¨åº\nlxml xml è§£æå¨    beautifulsoup(markup, ["lxml-xml"])``beautifulsoup(markup,   éåº¦å¿«å¯ä¸æ¯æxmlçè§£æå¨                  éè¦å®è£cè¯­è¨åº\n                "xml")\nhtml5lib        beautifulsoup(markup, "html5lib")                            æå¥½çå®¹éæ§ä»¥æµè§å¨çæ¹å¼è§£æææ¡£çæhtml5æ ¼å¼çææ¡£   éåº¦æ¢ä¸ä¾èµå¤é¨æ©å±\n\n\n# æé æ¹æ³\n\n * beautifulsoup(html,"html.parser")\n\nurl="http://wsjkw.sc.gov.cn/scwsjkw/gzbd/fyzt.shtml"\nres=requests.get(url)\nres.encoding="utf-8"  #è½¬ä¸ºutf-uè§£ç \nhtml=res.text  #å°æºç è½¬ä¸ºææ¬èµå¼ç»html\nsoup=beautifulsoup(html,\'html.parser\')   #å¯¹è±¡åhtml     "lxml"\n\n\n1\n2\n3\n4\n5\n\n\n\n# åå¤§å¯¹è±¡ç§ç±»\n\n 1. tag htmlä¸­çä¸ä¸ªä¸ªæ ç­¾\n    1. nameï¼æ ç­¾åï¼ éè¿ .nameè·å\n    2. attributesï¼å±æ§ï¼ å­å¸è·å tag["class"] tag.attrs å¯ä»¥è·åæ´ä¸ªå­å¸\n    3. multi-valued attributesï¼å¤å¼å±æ§ï¼ ä¹æ¯å­å¸è·å è¿åä¸ä¸ªåè¡¨\n 2. navigablestring è·åæ ç­¾åé¨çæå­ç¨ .string å³å¯\n 3. beautifulsoup è¡¨ç¤ºçæ¯ä¸ä¸ªææ¡£çåå®¹\n 4. comment æ¯ä¸ä¸ªç¹æ®ç±»åç navigablestring å¯¹è±¡ï¼å¶è¾åºçåå®¹ä¸åæ¬æ³¨éç¬¦å·ã\n\n\n# éåææ¡£æ \n\nfrom bs4 import beautifulsoup\nsoup = beautifulsoup(html_doc, \'html.parser\')\n\n\n1\n2\n\n\n * soup.tag ä½¿ç¨æ ç­¾åè¿è¡éå soup.head soup.h2\n\n * tag.contents è·åè¯¥æ ç­¾ä¸­ææåç´ \n   \n   * head_tag = soup.head\n     head_tag\n     # <head><title>the dormouse\'s story</title></head>\n     \n     head_tag.contents\n     [<title>the dormouse\'s story</title>]\n     \n     title_tag = head_tag.contents[0]\n     title_tag\n     # <title>the dormouse\'s story</title>\n     \n     \n     1\n     2\n     3\n     4\n     5\n     6\n     7\n     8\n     9\n     10\n     \n\n * tag.children å¯¹tagçå­èç¹è¿è¡å¾ªç¯\n   \n   * for child in title_tag.children:\n         print(child)\n     \n     \n     \n     1\n     2\n     3\n     \n\n * tag.descendants å¯ä»¥å¯¹æætagçå­å­èç¹è¿è¡éå½å¾ªç¯\n   \n   * for child in head_tag.descendants:\n         print(child)\n     \n     \n     1\n     2\n     \n\n * soup.strings è·åtagä¸­çå­ç¬¦ä¸²åå«å­æ ç­¾\n   \n   * for string in soup.strings:\n         print(repr(string))\n         # u"the dormouse\'s story"\n         # u\'\\n\\n\'\n         # u"the dormouse\'s story"\n         # u\'\\n\\n\'\n         # u\'once upon a time there were three little sisters; and their names were\\n\'\n         # u\'elsie\'\n         # u\',\\n\'\n         # u\'lacie\'\n         # u\' and\\n\'\n         # u\'tillie\'\n         # u\';\\nand they lived at the bottom of a well.\'\n         # u\'\\n\\n\'\n         # u\'...\'\n         # u\'\\n\'\n     \n     \n     1\n     2\n     3\n     4\n     5\n     6\n     7\n     8\n     9\n     10\n     11\n     12\n     13\n     14\n     15\n     16\n     \n\n * soup.stripped_strings è¾åºçå­ç¬¦ä¸²ä¸­å¯è½åå«äºå¾å¤ç©ºæ ¼æç©ºè¡,ä½¿ç¨ .stripped_strings å¯ä»¥å»é¤å¤ä½ç©ºç½åå®¹:\n   \n   * for string in soup.stripped_strings:\n         print(repr(string))\n         # u"the dormouse\'s story"\n         # u"the dormouse\'s story"\n         # u\'once upon a time there were three little sisters; and their names were\'\n         # u\'elsie\'\n         # u\',\'\n         # u\'lacie\'\n         # u\'and\'\n         # u\'tillie\'\n         # u\';\\nand they lived at the bottom of a well.\'\n         # u\'...\'\n     \n     \n     1\n     2\n     3\n     4\n     5\n     6\n     7\n     8\n     9\n     10\n     11\n     12\n     \n\n * tag.parent è·åæä¸ªåç´ çç¶èç¹\n   \n   * title_tag = soup.title\n     title_tag\n     # <title>the dormouse\'s story</title>\n     title_tag.parent\n     # <head><title>the dormouse\'s story</title></head>\n     \n     \n     1\n     2\n     3\n     4\n     5\n     \n\n * tag.parents å¯ä»¥éå½å¾å°åç´ çææç¶è¾èç¹\n   \n   * link = soup.a\n     link\n     # <a class="sister" href="http://example.com/elsie" id="link1">elsie</a>\n     for parent in link.parents:\n         if parent is none:\n             print(parent)\n         else:\n             print(parent.name)\n     # p\n     # body\n     # html\n     # [document]\n     # none\n     \n     \n     1\n     2\n     3\n     4\n     5\n     6\n     7\n     8\n     9\n     10\n     11\n     12\n     13\n     \n\n\n# æç´¢ææ¡£æ \n\n * soud.find() æç´¢ç¬¬ä¸ä¸ªç¬¦åæ¡ä»¶çæ ç­¾\n * soud.find_all( name , attrs , recursive , string , **kwargs ) æç´¢ææç¬¦åæ¡ä»¶çæ ç­¾\n\nå¯ä¸çåºå«æ¯ find_all() æ¹æ³çè¿åç»ææ¯å¼åå«ä¸ä¸ªåç´ çåè¡¨,è find() æ¹æ³ç´æ¥è¿åç»æ.\n\n\n# å­ç¬¦ä¸²\n\næç®åçè¿æ»¤å¨æ¯å­ç¬¦ä¸².å¨æç´¢æ¹æ³ä¸­ä¼ å¥ä¸ä¸ªå­ç¬¦ä¸²åæ°,beautiful soupä¼æ¥æ¾ä¸å­ç¬¦ä¸²å®æ´å¹éçåå®¹\n\nsoup.find_all(\'b\')\n# [<b>the dormouse\'s story</b>]\n\n\n1\n2\n\n\n\n# æ­£åè¡¨è¾¾å¼\n\nå¦æä¼ å¥æ­£åè¡¨è¾¾å¼ä½ä¸ºåæ°,beautiful soupä¼éè¿æ­£åè¡¨è¾¾å¼ç match() æ¥å¹éåå®¹.\n\nimport re\nfor tag in soup.find_all(re.compile("^b")):\n    print(tag.name)\n# body\n# b\n\n\n1\n2\n3\n4\n5\n\n\n\n# åè¡¨\n\nå¦æä¼ å¥åè¡¨åæ°,beautiful soupä¼å°ä¸åè¡¨ä¸­ä»»ä¸åç´ å¹éçåå®¹è¿å\n\nsoup.find_all(["a", "b"])\n# [<b>the dormouse\'s story</b>,\n#  <a class="sister" href="http://example.com/elsie" id="link1">elsie</a>,\n#  <a class="sister" href="http://example.com/lacie" id="link2">lacie</a>,\n#  <a class="sister" href="http://example.com/tillie" id="link3">tillie</a>]\n\n\n1\n2\n3\n4\n5\n\n\n\n# keyword å±æ§å¼\n\nå¦æä¸ä¸ªæå®åå­çåæ°ä¸æ¯æç´¢åç½®çåæ°å,æç´¢æ¶ä¼æè¯¥åæ°å½ä½æå®åå­tagçå±æ§æ¥æç´¢\n\nsoup.find_all(id=\'link2\') #æç´¢ææidä¸ºlink2çæ ç­¾\n# [<a class="sister" href="http://example.com/lacie" id="link2">lacie</a>]\n\n\n1\n2\n\n\n\n# æcssæç´¢\n\nclass å¨pythonä¸­æ¯ä¿çå­,ä½¿ç¨ class ååæ°ä¼å¯¼è´è¯­æ³éè¯¯.ä»beautiful soupç4.1.1çæ¬å¼å§,å¯ä»¥éè¿ class_ åæ°æç´¢ææå®cssç±»åçtag\n\nsoup.find_all("a", class_="sister")\n# [<a class="sister" href="http://example.com/elsie" id="link1">elsie</a>,\n#  <a class="sister" href="http://example.com/lacie" id="link2">lacie</a>,\n#  <a class="sister" href="http://example.com/tillie" id="link3">tillie</a>]\n\n\n1\n2\n3\n4\n\n\nclass å±æ§æ¯ å¤å¼å±æ§ .æç§cssç±»åæç´¢tagæ¶,å¯ä»¥åå«æç´¢tagä¸­çæ¯ä¸ªcssç±»å\n\ncss_soup = beautifulsoup(\'<p class="body strikeout"></p>\')\ncss_soup.find_all-0-0-("p", class_="strikeout")\n# [<p class="body strikeout"></p>]\n\ncss_soup.find_all("p", class_="body")\n# [<p class="body strikeout"></p>]\n\n\n1\n2\n3\n4\n5\n6\n\n\næç´¢ class å±æ§æ¶ä¹å¯ä»¥éè¿csså¼å®å¨å¹é\n\ncss_soup.find_all("p", class_="body strikeout")\n# [<p class="body strikeout"></p>]\n\n\n1\n2\n\n\nå®å¨å¹é class çå¼æ¶,å¦æcssç±»åçé¡ºåºä¸å®éä¸ç¬¦,å°æç´¢ä¸å°ç»æ\n\nsoup.find_all("a", attrs={"class": "sister"})\n# [<a class="sister" href="http://example.com/elsie" id="link1">elsie</a>,\n#  <a class="sister" href="http://example.com/lacie" id="link2">lacie</a>,\n#  <a class="sister" href="http://example.com/tillie" id="link3">tillie</a>]\n\n\n1\n2\n3\n4\n\n\n\n# string åæ°\n\néè¿ string åæ°å¯ä»¥ææææ¡£ä¸­çå­ç¬¦ä¸²åå®¹\n\nsoup.find_all(string="elsie")\n# [u\'elsie\']\n\nsoup.find_all(string=["tillie", "elsie", "lacie"])\n# [u\'elsie\', u\'lacie\', u\'tillie\']\n\nsoup.find_all(string=re.compile("dormouse"))\n[u"the dormouse\'s story", u"the dormouse\'s story"]\n\ndef is_the_only_string_within_a_tag(s):\n    ""return true if this string is the only child of its parent tag.""\n    return (s == s.parent.string)\n\nsoup.find_all(string=is_the_only_string_within_a_tag)\n# [u"the dormouse\'s story", u"the dormouse\'s story", u\'elsie\', u\'lacie\', u\'tillie\', u\'...\']\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n\n\n\n# limit åæ°\n\nfind_all() æ¹æ³è¿åå¨é¨çæç´¢ç»æ,å¦æææ¡£æ å¾å¤§é£ä¹æç´¢ä¼å¾æ¢.å¦ææä»¬ä¸éè¦å¨é¨ç»æ,å¯ä»¥ä½¿ç¨ limit åæ°éå¶è¿åç»æçæ°é.ææä¸sqlä¸­çlimitå³é®å­ç±»ä¼¼,å½æç´¢å°çç»ææ°éè¾¾å° limit çéå¶æ¶,å°±åæ­¢æç´¢è¿åç»æ.\n\nsoup.find_all("a", limit=2)\n# [<a class="sister" href="http://example.com/elsie" id="link1">elsie</a>,\n#  <a class="sister" href="http://example.com/lacie" id="link2">lacie</a>]\n\n\n1\n2\n3\n\n\n\n# recursive åæ°\n\nè°ç¨tagç find_all() æ¹æ³æ¶,beautiful soupä¼æ£ç´¢å½åtagçææå­å­èç¹,å¦æåªæ³æç´¢tagçç´æ¥å­èç¹,å¯ä»¥ä½¿ç¨åæ° recursive=false\n\n\n# ç¶è¾èç¹\n\nfind_all() å find() åªæç´¢å½åèç¹çææå­èç¹,å­å­èç¹ç­. find_parents() å find_parent() ç¨æ¥æç´¢å½åèç¹çç¶è¾èç¹,æç´¢æ¹æ³ä¸æ®étagçæç´¢æ¹æ³ç¸å,æç´¢ææ¡£æç´¢ææ¡£åå«çåå®¹\n\n * soud.find_parents()\n * soud.find_parents()\n\n\n# ä¿®æ¹ææ¡£æ \n\nbeautiful soupçå¼ºé¡¹æ¯ææ¡£æ çæç´¢,ä½åæ¶ä¹å¯ä»¥æ¹ä¾¿çä¿®æ¹ææ¡£æ \n\n\n# ä¿®æ¹tagçåç§°åå±æ§\n\néå½åä¸ä¸ªtag,æ¹åå±æ§çå¼,æ·»å æå é¤å±æ§\n\nsoup = beautifulsoup(\'<b class="boldest">extremely bold</b>\')\ntag = soup.b\n\ntag.name = "blockquote"\ntag[\'class\'] = \'verybold\'\ntag[\'id\'] = 1\ntag\n# <blockquote class="verybold" id="1">extremely bold</blockquote>\n\ndel tag[\'class\']\ndel tag[\'id\']\ntag\n# <blockquote>extremely bold</blockquote>\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n\n\n\n# ä¿®æ¹ .string\n\nç»tagç .string å±æ§èµå¼,å°±ç¸å½äºç¨å½åçåå®¹æ¿ä»£äºåæ¥çåå®¹\n\nå¦æå½åçtagåå«äºå¶å®tag,é£ä¹ç»å®ç .string å±æ§èµå¼ä¼è¦çæåæçææåå®¹åæ¬å­tag\n\nmarkup = \'<a href="http://example.com/">i linked to <i>example.com</i></a>\'\nsoup = beautifulsoup(markup)\n\ntag = soup.a\ntag.string = "new link text."\ntag\n# <a href="http://example.com/">new link text.</a>\n\n\n1\n2\n3\n4\n5\n6\n7\n\n\n\n# append()\n\ntag.append() æ¹æ³æ³tagä¸­æ·»å åå®¹\n\nsoup = beautifulsoup("<a>foo</a>")\nsoup.a.append("bar")\n\nsoup\n# <html><head></head><body><a>foobar</a></body></html>\nsoup.a.contents\n# [u\'foo\', u\'bar\']\n\n\n1\n2\n3\n4\n5\n6\n7\n\n\n\n# clear()\n\ntag.clear() æ¹æ³ç§»é¤å½åtagçåå®¹\n\nmarkup = \'<a href="http://example.com/">i linked to <i>example.com</i></a>\'\nsoup = beautifulsoup(markup)\ntag = soup.a\n\ntag.clear()\ntag\n# <a href="http://example.com/"></a>\n\n\n1\n2\n3\n4\n5\n6\n7\n\n\n\n# extract()\n\npageelement.extract() æ¹æ³å°å½åtagç§»é¤ææ¡£æ ,å¹¶ä½ä¸ºæ¹æ³ç»æè¿å\n\nmarkup = \'<a href="http://example.com/">i linked to <i>example.com</i></a>\'\nsoup = beautifulsoup(markup)\na_tag = soup.a\n\ni_tag = soup.i.extract()\n\na_tag\n# <a href="http://example.com/">i linked to</a>\n\ni_tag\n# <i>example.com</i>\n\nprint(i_tag.parent)\nnone\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n\n\n\n# decompose()\n\ntag.decompose() æ¹æ³å°å½åèç¹ç§»é¤ææ¡£æ å¹¶å®å¨éæ¯\n\nmarkup = \'<a href="http://example.com/">i linked to <i>example.com</i></a>\'\nsoup = beautifulsoup(markup)\na_tag = soup.a\n\nsoup.i.decompose()\n\na_tag\n# <a href="http://example.com/">i linked to</a>\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n\n\n\n# replace_with()\n\npageelement.replace_with() æ¹æ³ç§»é¤ææ¡£æ ä¸­çææ®µåå®¹,å¹¶ç¨æ°tagæææ¬èç¹æ¿ä»£å®:\n\nmarkup = \'<a href="http://example.com/">i linked to <i>example.com</i></a>\'\nsoup = beautifulsoup(markup)\na_tag = soup.a\n\nnew_tag = soup.new_tag("b")\nnew_tag.string = "example.net"\na_tag.i.replace_with(new_tag)\n\na_tag\n# <a href="http://example.com/">i linked to <b>example.net</b></a>\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n\n\n\n# bs4çç®åä½¿ç¨\n\nfrom bs4 import beautifulsoup\nimport requests\n\nurl="http://wsjkw.sc.gov.cn/scwsjkw/gzbd/fyzt.shtml"\nres=requests.get(url)\nres.encoding="utf-8"  #è½¬ä¸ºutf-uè§£ç \nhtml=res.text  #å°æºç è½¬ä¸ºææ¬èµå¼ç»html\nsoup=beautifulsoup(html,\'html.parser\')   #å¯¹è±¡åhtml     "lxml"\nh =soup.find(\'h2\')   #å¯»æ¾ææ¬ä¸­ h2æ ç­¾çåå®¹\nprint(h)\nh = soup.find(\'h2\').text    #åªè·åh2æ ç­¾ä¸­çåå®¹\nprint(h)\n\na = soup.find(\'a\') #ä¼å¯»æ¾ææ¬ä¸­ç¬¬ä¸ä¸ªaæ ç­¾\nprint(a)\nprint(type(a))\na = soup.find(\'a\').attrs   #è·åaæ ç­¾ä¸­  hrefä»¥å target  å­æ¾å¨å­å¸ä¸­\nprint(a)\nprint(a[\'href\'])\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n',charsets:{cjk:!0},lastUpdated:"2022/03/18, 07:01:11",lastUpdatedTimestamp:1647558071e3},{title:"request",frontmatter:{title:"request",date:"2022-03-18T00:53:25.000Z",permalink:"/pages/cf7131/",categories:["åç«¯","Pythonæ¨¡å"],tags:[null]},regularPath:"/%E5%90%8E%E7%AB%AF/07.Python%E6%A8%A1%E5%9D%97/01.request.html",relativePath:"åç«¯/07.Pythonæ¨¡å/01.request.md",key:"v-689f8518",path:"/pages/cf7131/",headers:[{level:2,title:"åéè¯·æ±",slug:"åéè¯·æ±",normalizedTitle:"åéè¯·æ±",charIndex:343},{level:2,title:"ä»£ç",slug:"ä»£ç",normalizedTitle:"ä»£ç",charIndex:904},{level:2,title:"å®å¶è¯·æ±å¤´ header",slug:"å®å¶è¯·æ±å¤´-header",normalizedTitle:"å®å¶è¯·æ±å¤´ header",charIndex:1085},{level:2,title:"Cookie",slug:"cookie",normalizedTitle:"cookie",charIndex:1992},{level:2,title:"ä½¿ç¨Corntabå®æ¶è°åº¦ç¬è«",slug:"ä½¿ç¨corntabå®æ¶è°åº¦ç¬è«",normalizedTitle:"ä½¿ç¨corntabå®æ¶è°åº¦ç¬è«",charIndex:2359}],headersStr:"åéè¯·æ± ä»£ç å®å¶è¯·æ±å¤´ header Cookie ä½¿ç¨Corntabå®æ¶è°åº¦ç¬è«",content:"# request\n\n * request.urlopen(url) æå¼ä¸ä¸ªurlè·åResponse å¯¹è±¡\n\n * res.getirl() è·åä¸»æºå°å\n\n * res.getcode() è·åç¶æç \n   \n   * 200ä¸ºæå\n   * 3xxåçäºéå®å\n   * 4xxè®¿é®èµæºæé®é¢\n   * 5xxåé¨éè¯¯\n\n * res.info() è·åååºå¤´\n\n * res.read() è·åçæ¯å­èå½¢å¼çåå®¹ è¿åä¸ææ¬å¯¹è±¡\n   \n   * textl.decode(\"utf-8\") éè¦æå®ç¼ç æè½æ­£ç¡®æ¾ç¤º\n\n * res.json() å¦æè¿åä¸ºjsonæ°æ®ç´æ¥è§£ç \n\n * res.encoding = \"utf-8\" å°Response ä»¥æ­¤ç¼ç è¯»å\n\n\n# åéè¯·æ±\n\n * res.get(url) åégetè¯·æ±\n   \n   * #å°åä¼ éå¼\n     requests.get(http://httpbin.org/get?name=gemey&age=22)\n     \n     #å­å¸ä¼ é\n     data = {\n         'name': 'tom',\n         'age': 20\n     }\n     \n     response = requests.get('http://httpbin.org/get', params=data)\n     \n     \n     1\n     2\n     3\n     4\n     5\n     6\n     7\n     8\n     9\n     10\n     \n\n * res.post(url) åépostè¯·æ±\n   \n   * #postè¯·æ±éè¿å­å¸æè jsonå­ç¬¦ä¸²ä¼ éåæ°\n     data = {'name':'tom','age':'22'}\n     response = requests.post('http://httpbin.org/post', data=data)\n     \n     \n     1\n     2\n     3\n     \n\n\n# ä»£ç\n\nåæ·»å headersæ¹æ³ï¼ä»£çåæ°ä¹è¦æ¯ä¸ä¸ªdict å±æ§åä¸ºproxies\n\nproxy = {\n    'http': '120.25.253.234:812',\n    'https' '163.125.222.244:8123'\n}\nreq = requests.get(url, proxies=proxy)\n\n\n1\n2\n3\n4\n5\n\n\n\n# å®å¶è¯·æ±å¤´ header\n\næ·»å headerä¿¡æ¯,è¿æ¯æåºæ¬çåç¬çæªæ½ æä¸äºç½ç«æ¥æåç¬ææ¯,æä»¬éè¦æ¨¡æçå®æµè§å¨çåå¤´è¿è¡è®¿é®åç\n\nä¸ºè¯·æ±æ·»å  HTTP å¤´é¨ï¼åªè¦ç®åå°ä¼ éä¸ä¸ª dict ç» headers åæ°å°±å¯ä»¥äºã\n\n * request.Request(url,headers=header)\n   \n   * #æ·»å headerä¿¡æ¯,è¿æ¯æåºæ¬çåç¬çæªæ½\n     url =\"http://www.dianping.com/\"  #æä¸äºç½ç«æ¥æåç¬ææ¯,æä»¬éè¦æ¨¡æçå®æµè§å¨çåå¤´è¿è¡è®¿é®åç\n     header={\n        \"User-Agent\":\"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/89.0.4389.114 Safari/537.36\"\n     }   #éè¦ä¸ä¸ªå­å¸å­æ¾åå¤´\n     req=request.Request(url,headers=header)  #requestséè¦ä¸ä¸ªç½ç«ååå¤´\n     res=request.urlopen(req)\n     \n     print(res.geturl())  #è·åä¸»æºå°å\n     print(res.getcode())  #è·åè¯·æ±ç¶æç    200ä¸ºæå  3xxåçäºéå®å  4xxè®¿é®èµæºæé®é¢   5xxåé¨éè¯¯\n     print(res.info())  #è·åååºå¤´\n     \n     \n     1\n     2\n     3\n     4\n     5\n     6\n     7\n     8\n     9\n     10\n     11\n     \n\n * è·åååºå¤´\n   \n   * r.headers['Content-Type']\n     r.headers.get('content-type')  #æ ¹æ®keyè·åååºå¤´\n     \n     \n     1\n     2\n     \n\n\n# Cookie\n\nå¦ææä¸ªååºä¸­åå«ä¸äº cookieï¼ä½ å¯ä»¥å¿«éè®¿é®å®ä»¬\n\n * res.cookies[\"é®å\"] è·åcookies\n\nurl ='http://example.com/some/cookie/setting/url'\nr = requests.get(url)\nr.cookies['example_cookie_name']  #è·åæå®keyçcookies\n\n\n1\n2\n3\n\n * åécookies éè¿è¯·æ±æ¶ä¼ écookieså±æ§\n\nurl = 'http://httpbin.org/cookies'\ncookies = dict(cookies_are='working')\nr = requests.get(url, cookies=cookies)\nr.text\n\n\n1\n2\n3\n4\n\n\n\n# ä½¿ç¨Corntabå®æ¶è°åº¦ç¬è«\n\nå¨linuxä¸å®è£chrome\n\ncd /etc/yum.repos.d/\ntouch google-chrome.repo\n\n\n1\n2\n\n\næ·»å chromeæº\n\n[google-chrome]\nname=google-chrome\nbaseurl=http://dl.google.com/linux/chrome/rpm/stable/$basearch\nenabled=1\ngpgcheck=1\ngpgkey=https://dl-ssl.google.com/linux/linux_signing_key.pub\n\n\n1\n2\n3\n4\n5\n6\n\n\nyum -y install google-chrome-stable --nogpgcheck\n\n\n1\n\n\ncrontab -e ç¼åpythonæ§è¡",normalizedContent:"# request\n\n * request.urlopen(url) æå¼ä¸ä¸ªurlè·åresponse å¯¹è±¡\n\n * res.getirl() è·åä¸»æºå°å\n\n * res.getcode() è·åç¶æç \n   \n   * 200ä¸ºæå\n   * 3xxåçäºéå®å\n   * 4xxè®¿é®èµæºæé®é¢\n   * 5xxåé¨éè¯¯\n\n * res.info() è·åååºå¤´\n\n * res.read() è·åçæ¯å­èå½¢å¼çåå®¹ è¿åä¸ææ¬å¯¹è±¡\n   \n   * textl.decode(\"utf-8\") éè¦æå®ç¼ç æè½æ­£ç¡®æ¾ç¤º\n\n * res.json() å¦æè¿åä¸ºjsonæ°æ®ç´æ¥è§£ç \n\n * res.encoding = \"utf-8\" å°response ä»¥æ­¤ç¼ç è¯»å\n\n\n# åéè¯·æ±\n\n * res.get(url) åégetè¯·æ±\n   \n   * #å°åä¼ éå¼\n     requests.get(http://httpbin.org/get?name=gemey&age=22)\n     \n     #å­å¸ä¼ é\n     data = {\n         'name': 'tom',\n         'age': 20\n     }\n     \n     response = requests.get('http://httpbin.org/get', params=data)\n     \n     \n     1\n     2\n     3\n     4\n     5\n     6\n     7\n     8\n     9\n     10\n     \n\n * res.post(url) åépostè¯·æ±\n   \n   * #postè¯·æ±éè¿å­å¸æè jsonå­ç¬¦ä¸²ä¼ éåæ°\n     data = {'name':'tom','age':'22'}\n     response = requests.post('http://httpbin.org/post', data=data)\n     \n     \n     1\n     2\n     3\n     \n\n\n# ä»£ç\n\nåæ·»å headersæ¹æ³ï¼ä»£çåæ°ä¹è¦æ¯ä¸ä¸ªdict å±æ§åä¸ºproxies\n\nproxy = {\n    'http': '120.25.253.234:812',\n    'https' '163.125.222.244:8123'\n}\nreq = requests.get(url, proxies=proxy)\n\n\n1\n2\n3\n4\n5\n\n\n\n# å®å¶è¯·æ±å¤´ header\n\næ·»å headerä¿¡æ¯,è¿æ¯æåºæ¬çåç¬çæªæ½ æä¸äºç½ç«æ¥æåç¬ææ¯,æä»¬éè¦æ¨¡æçå®æµè§å¨çåå¤´è¿è¡è®¿é®åç\n\nä¸ºè¯·æ±æ·»å  http å¤´é¨ï¼åªè¦ç®åå°ä¼ éä¸ä¸ª dict ç» headers åæ°å°±å¯ä»¥äºã\n\n * request.request(url,headers=header)\n   \n   * #æ·»å headerä¿¡æ¯,è¿æ¯æåºæ¬çåç¬çæªæ½\n     url =\"http://www.dianping.com/\"  #æä¸äºç½ç«æ¥æåç¬ææ¯,æä»¬éè¦æ¨¡æçå®æµè§å¨çåå¤´è¿è¡è®¿é®åç\n     header={\n        \"user-agent\":\"mozilla/5.0 (windows nt 10.0; win64; x64) applewebkit/537.36 (khtml, like gecko) chrome/89.0.4389.114 safari/537.36\"\n     }   #éè¦ä¸ä¸ªå­å¸å­æ¾åå¤´\n     req=request.request(url,headers=header)  #requestséè¦ä¸ä¸ªç½ç«ååå¤´\n     res=request.urlopen(req)\n     \n     print(res.geturl())  #è·åä¸»æºå°å\n     print(res.getcode())  #è·åè¯·æ±ç¶æç    200ä¸ºæå  3xxåçäºéå®å  4xxè®¿é®èµæºæé®é¢   5xxåé¨éè¯¯\n     print(res.info())  #è·åååºå¤´\n     \n     \n     1\n     2\n     3\n     4\n     5\n     6\n     7\n     8\n     9\n     10\n     11\n     \n\n * è·åååºå¤´\n   \n   * r.headers['content-type']\n     r.headers.get('content-type')  #æ ¹æ®keyè·åååºå¤´\n     \n     \n     1\n     2\n     \n\n\n# cookie\n\nå¦ææä¸ªååºä¸­åå«ä¸äº cookieï¼ä½ å¯ä»¥å¿«éè®¿é®å®ä»¬\n\n * res.cookies[\"é®å\"] è·åcookies\n\nurl ='http://example.com/some/cookie/setting/url'\nr = requests.get(url)\nr.cookies['example_cookie_name']  #è·åæå®keyçcookies\n\n\n1\n2\n3\n\n * åécookies éè¿è¯·æ±æ¶ä¼ écookieså±æ§\n\nurl = 'http://httpbin.org/cookies'\ncookies = dict(cookies_are='working')\nr = requests.get(url, cookies=cookies)\nr.text\n\n\n1\n2\n3\n4\n\n\n\n# ä½¿ç¨corntabå®æ¶è°åº¦ç¬è«\n\nå¨linuxä¸å®è£chrome\n\ncd /etc/yum.repos.d/\ntouch google-chrome.repo\n\n\n1\n2\n\n\næ·»å chromeæº\n\n[google-chrome]\nname=google-chrome\nbaseurl=http://dl.google.com/linux/chrome/rpm/stable/$basearch\nenabled=1\ngpgcheck=1\ngpgkey=https://dl-ssl.google.com/linux/linux_signing_key.pub\n\n\n1\n2\n3\n4\n5\n6\n\n\nyum -y install google-chrome-stable --nogpgcheck\n\n\n1\n\n\ncrontab -e ç¼åpythonæ§è¡",charsets:{cjk:!0},lastUpdated:"2022/03/18, 07:01:11",lastUpdatedTimestamp:1647558071e3},{title:"jieba",frontmatter:{title:"jieba",date:"2022-03-18T00:53:25.000Z",permalink:"/pages/4ab7a0/",categories:["åç«¯","Pythonæ¨¡å"],tags:[null]},regularPath:"/%E5%90%8E%E7%AB%AF/07.Python%E6%A8%A1%E5%9D%97/04.jieba.html",relativePath:"åç«¯/07.Pythonæ¨¡å/04.jieba.md",key:"v-94fc8dd8",path:"/pages/4ab7a0/",headers:[{level:2,title:"åºäº TF-IDF ç®æ³çå³é®è¯æ½å",slug:"åºäº-tf-idf-ç®æ³çå³é®è¯æ½å",normalizedTitle:"åºäº tf-idf ç®æ³çå³é®è¯æ½å",charIndex:888},{level:2,title:"åºäº TextRank ç®æ³çå³é®è¯æ½å",slug:"åºäº-textrank-ç®æ³çå³é®è¯æ½å",normalizedTitle:"åºäº textrank ç®æ³çå³é®è¯æ½å",charIndex:1694}],headersStr:"åºäº TF-IDF ç®æ³çå³é®è¯æ½å åºäº TextRank ç®æ³çå³é®è¯æ½å",content:'# jieba\n\nâç»å·´âä¸­æåè¯\n\n * jieba.cut(str) cut_all åæ°ç¨æ¥æ§å¶æ¯å¦éç¨å¨æ¨¡å¼ use_paddle åæ°ç¨æ¥æ§å¶æ¯å¦ä½¿ç¨paddleæ¨¡å¼ä¸çåè¯æ¨¡å¼ï¼paddleæ¨¡å¼éç¨å»¶è¿å è½½æ¹å¼\n * jieba.cut_for_search(str) æç´¢å¼ææ¨¡å¼ æå»ºåæç´¢å¼çåè¯ï¼ç²åº¦æ¯è¾ç»\n * jieba.lcut(str) ç´æ¥è¿å list ç»æ\n\n# encoding=utf-8\nimport jieba\n\njieba.enable_paddle()# å¯å¨paddleæ¨¡å¼ã 0.40çä¹åå¼å§æ¯æï¼æ©æçæ¬ä¸æ¯æ\nstrs=["ææ¥å°åäº¬æ¸åå¤§å­¦","ä¹ä¹çæåå®äº","ä¸­å½ç§å­¦ææ¯å¤§å­¦"]\nfor str in strs:\n    seg_list = jieba.cut(str,use_paddle=True) # ä½¿ç¨paddleæ¨¡å¼\n    print("Paddle Mode: " + \'/\'.join(list(seg_list)))\n\nseg_list = jieba.cut("ææ¥å°åäº¬æ¸åå¤§å­¦", cut_all=True)\nprint("Full Mode: " + "/ ".join(seg_list))  # å¨æ¨¡å¼\n\nseg_list = jieba.cut("ææ¥å°åäº¬æ¸åå¤§å­¦", cut_all=False)\nprint("Default Mode: " + "/ ".join(seg_list))  # ç²¾ç¡®æ¨¡å¼\n\nseg_list = jieba.cut("ä»æ¥å°äºç½ææ­ç å¤§å¦")  # é»è®¤æ¯ç²¾ç¡®æ¨¡å¼\nprint(", ".join(seg_list))\n\nseg_list = jieba.cut_for_search("å°æç¡å£«æ¯ä¸äºä¸­å½ç§å­¦é¢è®¡ç®æï¼åå¨æ¥æ¬äº¬é½å¤§å­¦æ·±é ")  # æç´¢å¼ææ¨¡å¼\nprint(", ".join(seg_list))\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n\n\n\n# åºäº TF-IDF ç®æ³çå³é®è¯æ½å\n\næ ç­¾    å«ä¹     æ ç­¾    å«ä¹     æ ç­¾    å«ä¹     æ ç­¾     å«ä¹\nn     æ®éåè¯   f     æ¹ä½åè¯   s     å¤æåè¯   t      æ¶é´\nnr    äººå     ns    å°å     nt    æºæå    nw     ä½åå\nnz    å¶ä»ä¸å   v     æ®éå¨è¯   vd    å¨å¯è¯    vn     åå¨è¯\na     å½¢å®¹è¯    ad    å¯å½¢è¯    an    åå½¢è¯    d      å¯è¯\nm     æ°éè¯    q     éè¯     r     ä»£è¯     p      ä»è¯\nc     è¿è¯     u     å©è¯     xc    å¶ä»èè¯   w      æ ç¹ç¬¦å·\nPER   äººå     LOC   å°å     ORG   æºæå    TIME   æ¶é´\n\n * jieba.analyse.extract_tags(sentence, topK=20, withWeight=False, allowPOS=())\n   * sentence ä¸ºå¾æåçææ¬\n   * topK ä¸ºè¿åå ä¸ª TF/IDF æéæå¤§çå³é®è¯ï¼é»è®¤å¼ä¸º 20\n   * withWeight ä¸ºæ¯å¦ä¸å¹¶è¿åå³é®è¯æéå¼ï¼é»è®¤å¼ä¸º False\n   * allowPOS ä»åæ¬æå®è¯æ§çè¯ï¼é»è®¤å¼ä¸ºç©ºï¼å³ä¸ç­\n * jieba.analyse.TFIDF(idf_path=None) æ°å»º TFIDF å®ä¾ï¼idf_path ä¸º IDF é¢çæä»¶\n\nimport jieba.analyse\njieba.analyse.extract_tags(res.text,topK=5,allowPOS=(\'n\',\'nr\',\'ns\'))\n\n\n1\n2\n\n\n\n# åºäº TextRank ç®æ³çå³é®è¯æ½å\n\n * jieba.analyse.textrank(sentence, topK=20, withWeight=False, allowPOS=(\'ns\', \'n\', \'vn\', \'v\')) ç´æ¥ä½¿ç¨ï¼æ¥å£ç¸åï¼æ³¨æé»è®¤è¿æ»¤è¯æ§ã\n   * sentence ä¸ºå¾æåçææ¬\n   * topK ä¸ºè¿åå ä¸ª TF/IDF æéæå¤§çå³é®è¯ï¼é»è®¤å¼ä¸º 20\n   * withWeight ä¸ºæ¯å¦ä¸å¹¶è¿åå³é®è¯æéå¼ï¼é»è®¤å¼ä¸º False\n   * allowPOS ä»åæ¬æå®è¯æ§çè¯ï¼é»è®¤å¼ä¸º(\'ns\', \'n\', \'vn\', \'v\')\n\njieba.analyse.textrank(res.text,topK=5,allowPOS=("n","v"))\n\n\n1\n',normalizedContent:'# jieba\n\nâç»å·´âä¸­æåè¯\n\n * jieba.cut(str) cut_all åæ°ç¨æ¥æ§å¶æ¯å¦éç¨å¨æ¨¡å¼ use_paddle åæ°ç¨æ¥æ§å¶æ¯å¦ä½¿ç¨paddleæ¨¡å¼ä¸çåè¯æ¨¡å¼ï¼paddleæ¨¡å¼éç¨å»¶è¿å è½½æ¹å¼\n * jieba.cut_for_search(str) æç´¢å¼ææ¨¡å¼ æå»ºåæç´¢å¼çåè¯ï¼ç²åº¦æ¯è¾ç»\n * jieba.lcut(str) ç´æ¥è¿å list ç»æ\n\n# encoding=utf-8\nimport jieba\n\njieba.enable_paddle()# å¯å¨paddleæ¨¡å¼ã 0.40çä¹åå¼å§æ¯æï¼æ©æçæ¬ä¸æ¯æ\nstrs=["ææ¥å°åäº¬æ¸åå¤§å­¦","ä¹ä¹çæåå®äº","ä¸­å½ç§å­¦ææ¯å¤§å­¦"]\nfor str in strs:\n    seg_list = jieba.cut(str,use_paddle=true) # ä½¿ç¨paddleæ¨¡å¼\n    print("paddle mode: " + \'/\'.join(list(seg_list)))\n\nseg_list = jieba.cut("ææ¥å°åäº¬æ¸åå¤§å­¦", cut_all=true)\nprint("full mode: " + "/ ".join(seg_list))  # å¨æ¨¡å¼\n\nseg_list = jieba.cut("ææ¥å°åäº¬æ¸åå¤§å­¦", cut_all=false)\nprint("default mode: " + "/ ".join(seg_list))  # ç²¾ç¡®æ¨¡å¼\n\nseg_list = jieba.cut("ä»æ¥å°äºç½ææ­ç å¤§å¦")  # é»è®¤æ¯ç²¾ç¡®æ¨¡å¼\nprint(", ".join(seg_list))\n\nseg_list = jieba.cut_for_search("å°æç¡å£«æ¯ä¸äºä¸­å½ç§å­¦é¢è®¡ç®æï¼åå¨æ¥æ¬äº¬é½å¤§å­¦æ·±é ")  # æç´¢å¼ææ¨¡å¼\nprint(", ".join(seg_list))\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n\n\n\n# åºäº tf-idf ç®æ³çå³é®è¯æ½å\n\næ ç­¾    å«ä¹     æ ç­¾    å«ä¹     æ ç­¾    å«ä¹     æ ç­¾     å«ä¹\nn     æ®éåè¯   f     æ¹ä½åè¯   s     å¤æåè¯   t      æ¶é´\nnr    äººå     ns    å°å     nt    æºæå    nw     ä½åå\nnz    å¶ä»ä¸å   v     æ®éå¨è¯   vd    å¨å¯è¯    vn     åå¨è¯\na     å½¢å®¹è¯    ad    å¯å½¢è¯    an    åå½¢è¯    d      å¯è¯\nm     æ°éè¯    q     éè¯     r     ä»£è¯     p      ä»è¯\nc     è¿è¯     u     å©è¯     xc    å¶ä»èè¯   w      æ ç¹ç¬¦å·\nper   äººå     loc   å°å     org   æºæå    time   æ¶é´\n\n * jieba.analyse.extract_tags(sentence, topk=20, withweight=false, allowpos=())\n   * sentence ä¸ºå¾æåçææ¬\n   * topk ä¸ºè¿åå ä¸ª tf/idf æéæå¤§çå³é®è¯ï¼é»è®¤å¼ä¸º 20\n   * withweight ä¸ºæ¯å¦ä¸å¹¶è¿åå³é®è¯æéå¼ï¼é»è®¤å¼ä¸º false\n   * allowpos ä»åæ¬æå®è¯æ§çè¯ï¼é»è®¤å¼ä¸ºç©ºï¼å³ä¸ç­\n * jieba.analyse.tfidf(idf_path=none) æ°å»º tfidf å®ä¾ï¼idf_path ä¸º idf é¢çæä»¶\n\nimport jieba.analyse\njieba.analyse.extract_tags(res.text,topk=5,allowpos=(\'n\',\'nr\',\'ns\'))\n\n\n1\n2\n\n\n\n# åºäº textrank ç®æ³çå³é®è¯æ½å\n\n * jieba.analyse.textrank(sentence, topk=20, withweight=false, allowpos=(\'ns\', \'n\', \'vn\', \'v\')) ç´æ¥ä½¿ç¨ï¼æ¥å£ç¸åï¼æ³¨æé»è®¤è¿æ»¤è¯æ§ã\n   * sentence ä¸ºå¾æåçææ¬\n   * topk ä¸ºè¿åå ä¸ª tf/idf æéæå¤§çå³é®è¯ï¼é»è®¤å¼ä¸º 20\n   * withweight ä¸ºæ¯å¦ä¸å¹¶è¿åå³é®è¯æéå¼ï¼é»è®¤å¼ä¸º false\n   * allowpos ä»åæ¬æå®è¯æ§çè¯ï¼é»è®¤å¼ä¸º(\'ns\', \'n\', \'vn\', \'v\')\n\njieba.analyse.textrank(res.text,topk=5,allowpos=("n","v"))\n\n\n1\n',charsets:{cjk:!0},lastUpdated:"2022/03/18, 07:01:11",lastUpdatedTimestamp:1647558071e3},{title:"re æ­£åè¡¨è¾¾å¼",frontmatter:{title:"re æ­£åè¡¨è¾¾å¼",date:"2022-03-18T00:53:25.000Z",permalink:"/pages/a3d900/",categories:["åç«¯","Pythonæ¨¡å"],tags:[null]},regularPath:"/%E5%90%8E%E7%AB%AF/07.Python%E6%A8%A1%E5%9D%97/03.re%20%E6%AD%A3%E5%88%99%E8%A1%A8%E8%BE%BE%E5%BC%8F.html",relativePath:"åç«¯/07.Pythonæ¨¡å/03.re æ­£åè¡¨è¾¾å¼.md",key:"v-30e5d4a2",path:"/pages/a3d900/",headers:[{level:3,title:"è´ªå©ªæ¨¡å¼",slug:"è´ªå©ªæ¨¡å¼",normalizedTitle:"è´ªå©ªæ¨¡å¼",charIndex:658}],headersStr:"è´ªå©ªæ¨¡å¼",content:'# re æ­£åè¡¨è¾¾å¼\n\n * re.search(pattern, string) æ«ææ´ä¸ªå­ç¬¦ä¸²å¹¶è¿åç¬¬ä¸ä¸ªæåçå¹é\n\n * re.match(pattern, string) match åªå¹éå­ç¬¦ä¸²çå¼å§ï¼å¦æå­ç¬¦ä¸²å¼å§ä¸ç¬¦åæ­£åè¡¨è¾¾å¼ï¼åå¹éå¤±è´¥ï¼å½æ°è¿å None è re.search å¹éæ´ä¸ªå­ç¬¦ä¸²ï¼ç´å°æ¾å°ä¸ä¸ªå¹éã\n\n * å¹éå¯¹è±¡.groups() è¿åä¸ä¸ªåå«ææå°ç»å­ç¬¦ä¸²çåç»ï¼ä» 1 å° æå«çå°ç»å·\n\n * å¹éå¯¹è±¡.group(n) å¹éçæ´ä¸ªè¡¨è¾¾å¼çå­ç¬¦ä¸²ï¼group() å¯ä»¥ä¸æ¬¡è¾å¥å¤ä¸ªç»å·ï¼å¨è¿ç§æåµä¸å®å°è¿åä¸ä¸ªåå«é£äºç»æå¯¹åºå¼çåç»ã\n\n * re.sub(patten,repl,string,count=0) re.subç¨äºæ¿æ¢å­ç¬¦ä¸²ä¸­çå¹éé¡¹\n   \n   * repl : æ¿æ¢çå­ç¬¦ä¸²ï¼ä¹å¯ä¸ºä¸ä¸ªå½æ°ã\n   \n   * count : æ¨¡å¼å¹éåæ¿æ¢çæå¤§æ¬¡æ°ï¼é»è®¤ 0 è¡¨ç¤ºæ¿æ¢ææçå¹éã\n   \n   * #å°ä¸ä»¥A-Za-z1-9\' çæ¿æ¢æ ç©ºæ ¼\n     re.sub(\'[^A-Za-z1-9\\\']\',\' \',rep.text)\n     \n     \n     1\n     2\n     \n\nimport re\nhtml ="4æ5æ¥0-24æ¶ï¼åå·æ æ°å¢æ°åå ç¶çæ¯èºçç¡®è¯çä¾ï¼æ°å¢æ²»æåºé¢çä¾1ä¾ï¼æ æ°å¢çä¼¼çä¾ï¼æ æ°å¢æ­»äº¡çä¾ã"\nc="æ°å¢æ²»æåºé¢çä¾(\\d+)ä¾"\n# \\då¹é0-9ä»»ææ°å­    .* å¹éæå¤ä»»æå­ç¬¦è´ªå©ªæ¨¡å¼åªå¹éæ¾å°çç¬¬ä¸ä¸ªå­ç¬¦   .*?å¹éæå°ä»»æå­ç¬¦éè´ªå©ªæ¨¡å¼  å¹¶è¿åæä»¥ç¬¦åçæ¡ä»¶çå¨é¨å­ç¬¦ ä¿å­å°åè¡¨\nc=re.search(c,html)  #re.search(regx,str)  å¨strä¸­æ¥æ¾æ»¡è¶³æ¡ä»¶çå­ç¬¦ä¸²,å¹éä¸ä¸åè¿åNone\nprint(c)\nprint(c.groups())  #ä½¿ç¨groupså¯ä»¥è·åå°æ¬å·éææåå®¹\nprint(c.group(0))  #å¯¹è¿åç»æå¯ä»¥åç»,å¯å¨å­ç¬¦ä¸²åæ·»å å°æ¬å·åç¦»æ°æ®\nprint(c.group(1))\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n\n\n\n# è´ªå©ªæ¨¡å¼\n\næ¨¡å¼            æè¿°\n^             å¹éå­ç¬¦ä¸²çå¼å¤´\n$             å¹éå­ç¬¦ä¸²çæ«å°¾ã\n.             å¹éä»»æå­ç¬¦ï¼é¤äºæ¢è¡ç¬¦ï¼å½re.DOTALLæ è®°è¢«æå®æ¶ï¼åå¯ä»¥å¹éåæ¬æ¢è¡ç¬¦çä»»æå­ç¬¦ã\n[...]         ç¨æ¥è¡¨ç¤ºä¸ç»å­ç¬¦,åç¬ååºï¼[amk] å¹é \'a\'ï¼\'m\'æ\'k\'\n[^...]        ä¸å¨[]ä¸­çå­ç¬¦ï¼[^abc] å¹éé¤äºa,b,cä¹å¤çå­ç¬¦ã\nre*           å¹é0ä¸ªæå¤ä¸ªçè¡¨è¾¾å¼ã\nre+           å¹é1ä¸ªæå¤ä¸ªçè¡¨è¾¾å¼ã\nre?           å¹é0ä¸ªæ1ä¸ªç±åé¢çæ­£åè¡¨è¾¾å¼å®ä¹ççæ®µï¼éè´ªå©ªæ¹å¼\nre{ n}        å¹énä¸ªåé¢è¡¨è¾¾å¼ãä¾å¦ï¼"o{2}"ä¸è½å¹é"Bob"ä¸­ç"o"ï¼ä½æ¯è½å¹é"food"ä¸­çä¸¤ä¸ªoã\nre{ n,}       ç²¾ç¡®å¹énä¸ªåé¢è¡¨è¾¾å¼ãä¾å¦ï¼"o{2,}"ä¸è½å¹é"Bob"ä¸­ç"o"ï¼ä½è½å¹é"foooood"ä¸­çææoã"o{1,}"ç­ä»·äº"o+"ã"o{0,}"åç­ä»·äº"o*"ã\nre{ n, m}     å¹é n å° m æ¬¡ç±åé¢çæ­£åè¡¨è¾¾å¼å®ä¹ççæ®µï¼è´ªå©ªæ¹å¼\na| b          å¹éaæb\n(re)          å¹éæ¬å·åçè¡¨è¾¾å¼ï¼ä¹è¡¨ç¤ºä¸ä¸ªç»\n(?imx)        æ­£åè¡¨è¾¾å¼åå«ä¸ç§å¯éæ å¿ï¼i, m, æ x ãåªå½±åæ¬å·ä¸­çåºåã\n(?-imx)       æ­£åè¡¨è¾¾å¼å³é­ i, m, æ x å¯éæ å¿ãåªå½±åæ¬å·ä¸­çåºåã\n(?: re)       ç±»ä¼¼ (...), ä½æ¯ä¸è¡¨ç¤ºä¸ä¸ªç»\n(?imx: re)    å¨æ¬å·ä¸­ä½¿ç¨i, m, æ x å¯éæ å¿\n(?-imx: re)   å¨æ¬å·ä¸­ä¸ä½¿ç¨i, m, æ x å¯éæ å¿\n(?#...)       æ³¨é.\n(?= re)       ååè¯å®çå®ç¬¦ãå¦ææå«æ­£åè¡¨è¾¾å¼ï¼ä»¥ ...\n              è¡¨ç¤ºï¼å¨å½åä½ç½®æåå¹éæ¶æåï¼å¦åå¤±è´¥ãä½ä¸æ¦æå«è¡¨è¾¾å¼å·²ç»å°è¯ï¼å¹éå¼ææ ¹æ¬æ²¡ææé«ï¼æ¨¡å¼çå©ä½é¨åè¿è¦å°è¯çå®ç¬¦çå³è¾¹ã\n(?! re)       ååå¦å®çå®ç¬¦ãä¸è¯å®çå®ç¬¦ç¸åï¼å½æå«è¡¨è¾¾å¼ä¸è½å¨å­ç¬¦ä¸²å½åä½ç½®å¹éæ¶æåã\n(?> re)       å¹éçç¬ç«æ¨¡å¼ï¼çå»åæº¯ã\n\\w            å¹éæ°å­å­æ¯ä¸åçº¿\n\\W            å¹ééæ°å­å­æ¯ä¸åçº¿\n\\s            å¹éä»»æç©ºç½å­ç¬¦ï¼ç­ä»·äº [\\t\\n\\r\\f]ã\n\\S            å¹éä»»æéç©ºå­ç¬¦\n\\d            å¹éä»»ææ°å­ï¼ç­ä»·äº [0-9]ã\n\\D            å¹éä»»æéæ°å­\n\\A            å¹éå­ç¬¦ä¸²å¼å§\n\\Z            å¹éå­ç¬¦ä¸²ç»æï¼å¦ææ¯å­å¨æ¢è¡ï¼åªå¹éå°æ¢è¡åçç»æå­ç¬¦ä¸²ã\n\\z            å¹éå­ç¬¦ä¸²ç»æ\n\\G            å¹éæåå¹éå®æçä½ç½®ã\n\\b            å¹éä¸ä¸ªåè¯è¾¹çï¼ä¹å°±æ¯æåè¯åç©ºæ ¼é´çä½ç½®ãä¾å¦ï¼ \'er\\b\' å¯ä»¥å¹é"never" ä¸­ç \'er\'ï¼ä½ä¸è½å¹é\n              "verb" ä¸­ç \'er\'ã\n\\B            å¹ééåè¯è¾¹çã\'er\\B\' è½å¹é "verb" ä¸­ç \'er\'ï¼ä½ä¸è½å¹é "never" ä¸­ç \'er\'ã\n\\n, \\t, ç­ã    å¹éä¸ä¸ªæ¢è¡ç¬¦ãå¹éä¸ä¸ªå¶è¡¨ç¬¦, ç­\n\\1...\\9       å¹éç¬¬nä¸ªåç»çåå®¹ã\n\\10           å¹éç¬¬nä¸ªåç»çåå®¹ï¼å¦æå®ç»å¹éãå¦åæçæ¯å«è¿å¶å­ç¬¦ç çè¡¨è¾¾å¼ã\n\n.* å¹éæå¤ä»»æå­ç¬¦ .*?å¹éä»»æå­ç¬¦è´ªå©ªæ¨¡å¼ éå¤è¿è¡å½åå¹éæ¡ä»¶\n\nimport re\nhtml =" å½æ¥è½¬ä¸ºç¡®è¯çä¾0ä¾ï¼å½æ¥è§£é¤éä¸­éç¦»å»å­¦è§å¯0ä¾ãå°å¨éä¸­éç¦»å»å­¦è§å¯28ä¾ï¼åä¸ºå¢å¤è¾å¥ï¼ï¼æ¯åä¸æ¥å¢å 4ä¾ã"\nc="ç¡®è¯çä¾(\\d+).*?å»å­¦è§å¯(\\d+).*?éç¦»å»å­¦è§å¯(\\d+).*åä¸æ¥å¢å (\\d+)"\n# \\då¹é0-9ä»»ææ°å­    .* å¹éæå¤ä»»æå­ç¬¦è´ªå¿ç®æ³    .*?å¹éæå°ä»»æå­ç¬¦éè´ªå¿ç®æ³\nc=re.search(c,html)  #re.search(regx,str)  å¨strä¸­æ¥æ¾æ»¡è¶³æ¡ä»¶çå­ç¬¦ä¸²,å¹éä¸ä¸åè¿åNone\nprint(c)\nprint(c.groups())  #ä½¿ç¨groupså¯ä»¥è·åå°æ¬å·éææåå®¹\nprint(c.group(0))  #å¯¹è¿åç»æå¯ä»¥åç»,å¯å¨å­ç¬¦ä¸²åæ·»å å°æ¬å·åç¦»æ°æ®\nprint(c.group(1),c.group(2),c.group(3),c.group(4))\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n',normalizedContent:'# re æ­£åè¡¨è¾¾å¼\n\n * re.search(pattern, string) æ«ææ´ä¸ªå­ç¬¦ä¸²å¹¶è¿åç¬¬ä¸ä¸ªæåçå¹é\n\n * re.match(pattern, string) match åªå¹éå­ç¬¦ä¸²çå¼å§ï¼å¦æå­ç¬¦ä¸²å¼å§ä¸ç¬¦åæ­£åè¡¨è¾¾å¼ï¼åå¹éå¤±è´¥ï¼å½æ°è¿å none è re.search å¹éæ´ä¸ªå­ç¬¦ä¸²ï¼ç´å°æ¾å°ä¸ä¸ªå¹éã\n\n * å¹éå¯¹è±¡.groups() è¿åä¸ä¸ªåå«ææå°ç»å­ç¬¦ä¸²çåç»ï¼ä» 1 å° æå«çå°ç»å·\n\n * å¹éå¯¹è±¡.group(n) å¹éçæ´ä¸ªè¡¨è¾¾å¼çå­ç¬¦ä¸²ï¼group() å¯ä»¥ä¸æ¬¡è¾å¥å¤ä¸ªç»å·ï¼å¨è¿ç§æåµä¸å®å°è¿åä¸ä¸ªåå«é£äºç»æå¯¹åºå¼çåç»ã\n\n * re.sub(patten,repl,string,count=0) re.subç¨äºæ¿æ¢å­ç¬¦ä¸²ä¸­çå¹éé¡¹\n   \n   * repl : æ¿æ¢çå­ç¬¦ä¸²ï¼ä¹å¯ä¸ºä¸ä¸ªå½æ°ã\n   \n   * count : æ¨¡å¼å¹éåæ¿æ¢çæå¤§æ¬¡æ°ï¼é»è®¤ 0 è¡¨ç¤ºæ¿æ¢ææçå¹éã\n   \n   * #å°ä¸ä»¥a-za-z1-9\' çæ¿æ¢æ ç©ºæ ¼\n     re.sub(\'[^a-za-z1-9\\\']\',\' \',rep.text)\n     \n     \n     1\n     2\n     \n\nimport re\nhtml ="4æ5æ¥0-24æ¶ï¼åå·æ æ°å¢æ°åå ç¶çæ¯èºçç¡®è¯çä¾ï¼æ°å¢æ²»æåºé¢çä¾1ä¾ï¼æ æ°å¢çä¼¼çä¾ï¼æ æ°å¢æ­»äº¡çä¾ã"\nc="æ°å¢æ²»æåºé¢çä¾(\\d+)ä¾"\n# \\då¹é0-9ä»»ææ°å­    .* å¹éæå¤ä»»æå­ç¬¦è´ªå©ªæ¨¡å¼åªå¹éæ¾å°çç¬¬ä¸ä¸ªå­ç¬¦   .*?å¹éæå°ä»»æå­ç¬¦éè´ªå©ªæ¨¡å¼  å¹¶è¿åæä»¥ç¬¦åçæ¡ä»¶çå¨é¨å­ç¬¦ ä¿å­å°åè¡¨\nc=re.search(c,html)  #re.search(regx,str)  å¨strä¸­æ¥æ¾æ»¡è¶³æ¡ä»¶çå­ç¬¦ä¸²,å¹éä¸ä¸åè¿ånone\nprint(c)\nprint(c.groups())  #ä½¿ç¨groupså¯ä»¥è·åå°æ¬å·éææåå®¹\nprint(c.group(0))  #å¯¹è¿åç»æå¯ä»¥åç»,å¯å¨å­ç¬¦ä¸²åæ·»å å°æ¬å·åç¦»æ°æ®\nprint(c.group(1))\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n\n\n\n# è´ªå©ªæ¨¡å¼\n\næ¨¡å¼            æè¿°\n^             å¹éå­ç¬¦ä¸²çå¼å¤´\n$             å¹éå­ç¬¦ä¸²çæ«å°¾ã\n.             å¹éä»»æå­ç¬¦ï¼é¤äºæ¢è¡ç¬¦ï¼å½re.dotallæ è®°è¢«æå®æ¶ï¼åå¯ä»¥å¹éåæ¬æ¢è¡ç¬¦çä»»æå­ç¬¦ã\n[...]         ç¨æ¥è¡¨ç¤ºä¸ç»å­ç¬¦,åç¬ååºï¼[amk] å¹é \'a\'ï¼\'m\'æ\'k\'\n[^...]        ä¸å¨[]ä¸­çå­ç¬¦ï¼[^abc] å¹éé¤äºa,b,cä¹å¤çå­ç¬¦ã\nre*           å¹é0ä¸ªæå¤ä¸ªçè¡¨è¾¾å¼ã\nre+           å¹é1ä¸ªæå¤ä¸ªçè¡¨è¾¾å¼ã\nre?           å¹é0ä¸ªæ1ä¸ªç±åé¢çæ­£åè¡¨è¾¾å¼å®ä¹ççæ®µï¼éè´ªå©ªæ¹å¼\nre{ n}        å¹énä¸ªåé¢è¡¨è¾¾å¼ãä¾å¦ï¼"o{2}"ä¸è½å¹é"bob"ä¸­ç"o"ï¼ä½æ¯è½å¹é"food"ä¸­çä¸¤ä¸ªoã\nre{ n,}       ç²¾ç¡®å¹énä¸ªåé¢è¡¨è¾¾å¼ãä¾å¦ï¼"o{2,}"ä¸è½å¹é"bob"ä¸­ç"o"ï¼ä½è½å¹é"foooood"ä¸­çææoã"o{1,}"ç­ä»·äº"o+"ã"o{0,}"åç­ä»·äº"o*"ã\nre{ n, m}     å¹é n å° m æ¬¡ç±åé¢çæ­£åè¡¨è¾¾å¼å®ä¹ççæ®µï¼è´ªå©ªæ¹å¼\na| b          å¹éaæb\n(re)          å¹éæ¬å·åçè¡¨è¾¾å¼ï¼ä¹è¡¨ç¤ºä¸ä¸ªç»\n(?imx)        æ­£åè¡¨è¾¾å¼åå«ä¸ç§å¯éæ å¿ï¼i, m, æ x ãåªå½±åæ¬å·ä¸­çåºåã\n(?-imx)       æ­£åè¡¨è¾¾å¼å³é­ i, m, æ x å¯éæ å¿ãåªå½±åæ¬å·ä¸­çåºåã\n(?: re)       ç±»ä¼¼ (...), ä½æ¯ä¸è¡¨ç¤ºä¸ä¸ªç»\n(?imx: re)    å¨æ¬å·ä¸­ä½¿ç¨i, m, æ x å¯éæ å¿\n(?-imx: re)   å¨æ¬å·ä¸­ä¸ä½¿ç¨i, m, æ x å¯éæ å¿\n(?#...)       æ³¨é.\n(?= re)       ååè¯å®çå®ç¬¦ãå¦ææå«æ­£åè¡¨è¾¾å¼ï¼ä»¥ ...\n              è¡¨ç¤ºï¼å¨å½åä½ç½®æåå¹éæ¶æåï¼å¦åå¤±è´¥ãä½ä¸æ¦æå«è¡¨è¾¾å¼å·²ç»å°è¯ï¼å¹éå¼ææ ¹æ¬æ²¡ææé«ï¼æ¨¡å¼çå©ä½é¨åè¿è¦å°è¯çå®ç¬¦çå³è¾¹ã\n(?! re)       ååå¦å®çå®ç¬¦ãä¸è¯å®çå®ç¬¦ç¸åï¼å½æå«è¡¨è¾¾å¼ä¸è½å¨å­ç¬¦ä¸²å½åä½ç½®å¹éæ¶æåã\n(?> re)       å¹éçç¬ç«æ¨¡å¼ï¼çå»åæº¯ã\n\\w            å¹éæ°å­å­æ¯ä¸åçº¿\n\\w            å¹ééæ°å­å­æ¯ä¸åçº¿\n\\s            å¹éä»»æç©ºç½å­ç¬¦ï¼ç­ä»·äº [\\t\\n\\r\\f]ã\n\\s            å¹éä»»æéç©ºå­ç¬¦\n\\d            å¹éä»»ææ°å­ï¼ç­ä»·äº [0-9]ã\n\\d            å¹éä»»æéæ°å­\n\\a            å¹éå­ç¬¦ä¸²å¼å§\n\\z            å¹éå­ç¬¦ä¸²ç»æï¼å¦ææ¯å­å¨æ¢è¡ï¼åªå¹éå°æ¢è¡åçç»æå­ç¬¦ä¸²ã\n\\z            å¹éå­ç¬¦ä¸²ç»æ\n\\g            å¹éæåå¹éå®æçä½ç½®ã\n\\b            å¹éä¸ä¸ªåè¯è¾¹çï¼ä¹å°±æ¯æåè¯åç©ºæ ¼é´çä½ç½®ãä¾å¦ï¼ \'er\\b\' å¯ä»¥å¹é"never" ä¸­ç \'er\'ï¼ä½ä¸è½å¹é\n              "verb" ä¸­ç \'er\'ã\n\\b            å¹ééåè¯è¾¹çã\'er\\b\' è½å¹é "verb" ä¸­ç \'er\'ï¼ä½ä¸è½å¹é "never" ä¸­ç \'er\'ã\n\\n, \\t, ç­ã    å¹éä¸ä¸ªæ¢è¡ç¬¦ãå¹éä¸ä¸ªå¶è¡¨ç¬¦, ç­\n\\1...\\9       å¹éç¬¬nä¸ªåç»çåå®¹ã\n\\10           å¹éç¬¬nä¸ªåç»çåå®¹ï¼å¦æå®ç»å¹éãå¦åæçæ¯å«è¿å¶å­ç¬¦ç çè¡¨è¾¾å¼ã\n\n.* å¹éæå¤ä»»æå­ç¬¦ .*?å¹éä»»æå­ç¬¦è´ªå©ªæ¨¡å¼ éå¤è¿è¡å½åå¹éæ¡ä»¶\n\nimport re\nhtml =" å½æ¥è½¬ä¸ºç¡®è¯çä¾0ä¾ï¼å½æ¥è§£é¤éä¸­éç¦»å»å­¦è§å¯0ä¾ãå°å¨éä¸­éç¦»å»å­¦è§å¯28ä¾ï¼åä¸ºå¢å¤è¾å¥ï¼ï¼æ¯åä¸æ¥å¢å 4ä¾ã"\nc="ç¡®è¯çä¾(\\d+).*?å»å­¦è§å¯(\\d+).*?éç¦»å»å­¦è§å¯(\\d+).*åä¸æ¥å¢å (\\d+)"\n# \\då¹é0-9ä»»ææ°å­    .* å¹éæå¤ä»»æå­ç¬¦è´ªå¿ç®æ³    .*?å¹éæå°ä»»æå­ç¬¦éè´ªå¿ç®æ³\nc=re.search(c,html)  #re.search(regx,str)  å¨strä¸­æ¥æ¾æ»¡è¶³æ¡ä»¶çå­ç¬¦ä¸²,å¹éä¸ä¸åè¿ånone\nprint(c)\nprint(c.groups())  #ä½¿ç¨groupså¯ä»¥è·åå°æ¬å·éææåå®¹\nprint(c.group(0))  #å¯¹è¿åç»æå¯ä»¥åç»,å¯å¨å­ç¬¦ä¸²åæ·»å å°æ¬å·åç¦»æ°æ®\nprint(c.group(1),c.group(2),c.group(3),c.group(4))\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n',charsets:{cjk:!0},lastUpdated:"2022/03/18, 07:01:11",lastUpdatedTimestamp:1647558071e3},{title:"selenium",frontmatter:{title:"selenium",date:"2022-03-18T00:53:25.000Z",permalink:"/pages/34405e/",categories:["åç«¯","Pythonæ¨¡å"],tags:[null]},regularPath:"/%E5%90%8E%E7%AB%AF/07.Python%E6%A8%A1%E5%9D%97/06.selenium.html",relativePath:"åç«¯/07.Pythonæ¨¡å/06.selenium.md",key:"v-4a91f9f8",path:"/pages/34405e/",headersStr:null,content:'# selenium\n\n * webdriver.Chrome() è°ç¨ä»ä¹æµè¯æµè§å¨ è¿åbrowserå¯¹è±¡\n\n * browser.get(url) æå¼æå®ç½é¡µ\n   \n   * from selenium import webdriver\n     import time\n     \n     browser = webdriver.Chrome()\n     browser.get(\'http://top.baidu.com/buzz?b=396&c=12&fr=topbuzz_b2_c12\')\n     print(browser.page_source)  #è·åé¡µé¢åå®¹\n     \n     \n     1\n     2\n     3\n     4\n     5\n     6\n     \n\n * browser.find_elements_by_xpath(xpath) è·åå¯¹æå®xpathè·¯å¾çæ ç­¾å¯¹è±¡\n   \n   * browser.find_elements_by_xpath(\'//*[@id="main"]/div[2]/div\')#æ¾å°xpathå¯¹åºçæ ç­¾\n     \n     \n     1\n     \n\n * webdriver.ChromeOptions() æ å¤´æ¨¡å¼,éèçªå£æä½ è¿åoptionå¯¹è±¡\n   \n   * option.add_argument("--headless") éèæµè§å¨\n   \n   * option.add_argument("--no-sandbox") Linuxä¸­ç¦ç¨æ²ç®±\n   \n   * from selenium import webdriver\n     \n     option =webdriver.ChromeOptions() #æ å¤´æ¨¡å¼,éèçªå£æä½\n     option.add_argument("--headless")   #éèæµè§å¨\n     option.add_argument("--no-sandbox")  #Linuxä¸­ç¦ç¨æ²ç®±\n     browser = webdriver.Chrome(options=option)\n     browser.get("https://www.bilibili.com/v/popular/all?spm_id_from=333.851.b_7072696d61727950616765546162.3")\n     print(browser.page_source)\n     \n     \n     1\n     2\n     3\n     4\n     5\n     6\n     7\n     8\n     ',normalizedContent:'# selenium\n\n * webdriver.chrome() è°ç¨ä»ä¹æµè¯æµè§å¨ è¿åbrowserå¯¹è±¡\n\n * browser.get(url) æå¼æå®ç½é¡µ\n   \n   * from selenium import webdriver\n     import time\n     \n     browser = webdriver.chrome()\n     browser.get(\'http://top.baidu.com/buzz?b=396&c=12&fr=topbuzz_b2_c12\')\n     print(browser.page_source)  #è·åé¡µé¢åå®¹\n     \n     \n     1\n     2\n     3\n     4\n     5\n     6\n     \n\n * browser.find_elements_by_xpath(xpath) è·åå¯¹æå®xpathè·¯å¾çæ ç­¾å¯¹è±¡\n   \n   * browser.find_elements_by_xpath(\'//*[@id="main"]/div[2]/div\')#æ¾å°xpathå¯¹åºçæ ç­¾\n     \n     \n     1\n     \n\n * webdriver.chromeoptions() æ å¤´æ¨¡å¼,éèçªå£æä½ è¿åoptionå¯¹è±¡\n   \n   * option.add_argument("--headless") éèæµè§å¨\n   \n   * option.add_argument("--no-sandbox") linuxä¸­ç¦ç¨æ²ç®±\n   \n   * from selenium import webdriver\n     \n     option =webdriver.chromeoptions() #æ å¤´æ¨¡å¼,éèçªå£æä½\n     option.add_argument("--headless")   #éèæµè§å¨\n     option.add_argument("--no-sandbox")  #linuxä¸­ç¦ç¨æ²ç®±\n     browser = webdriver.chrome(options=option)\n     browser.get("https://www.bilibili.com/v/popular/all?spm_id_from=333.851.b_7072696d61727950616765546162.3")\n     print(browser.page_source)\n     \n     \n     1\n     2\n     3\n     4\n     5\n     6\n     7\n     8\n     ',charsets:{cjk:!0},lastUpdated:"2022/03/18, 07:01:11",lastUpdatedTimestamp:1647558071e3},{title:"æºå¨å­¦ä¹ ",frontmatter:{title:"æºå¨å­¦ä¹ ",date:"2022-03-18T00:53:49.000Z",permalink:"/pages/ddf9fb/",categories:["åç«¯","æºå¨å­¦ä¹ "],tags:[null]},regularPath:"/%E5%90%8E%E7%AB%AF/08.%E6%9C%BA%E5%99%A8%E5%AD%A6%E4%B9%A0/01.%E6%9C%BA%E5%99%A8%E5%AD%A6%E4%B9%A0.html",relativePath:"åç«¯/08.æºå¨å­¦ä¹ /01.æºå¨å­¦ä¹ .md",key:"v-5c159d57",path:"/pages/ddf9fb/",headers:[{level:2,title:"å·¥ä½æµç¨",slug:"å·¥ä½æµç¨",normalizedTitle:"å·¥ä½æµç¨",charIndex:11},{level:2,title:"ç¹å¾å·¥ç¨",slug:"ç¹å¾å·¥ç¨",normalizedTitle:"ç¹å¾å·¥ç¨",charIndex:41},{level:2,title:"æºå¨å­¦ä¹ ç®æ³åç±»",slug:"æºå¨å­¦ä¹ ç®æ³åç±»",normalizedTitle:"æºå¨å­¦ä¹ ç®æ³åç±»",charIndex:159},{level:3,title:"çç£å­¦ä¹ ",slug:"çç£å­¦ä¹ ",normalizedTitle:"çç£å­¦ä¹ ",charIndex:172},{level:3,title:"æ çç£å­¦ä¹ ",slug:"æ çç£å­¦ä¹ ",normalizedTitle:"æ çç£å­¦ä¹ ",charIndex:269},{level:3,title:"åçç£å­¦ä¹ ",slug:"åçç£å­¦ä¹ ",normalizedTitle:"åçç£å­¦ä¹ ",charIndex:379},{level:3,title:"å¼ºåå­¦ä¹ ",slug:"å¼ºåå­¦ä¹ ",normalizedTitle:"å¼ºåå­¦ä¹ ",charIndex:413},{level:2,title:"åç±»æ¨¡åè¯ä¼°",slug:"åç±»æ¨¡åè¯ä¼°",normalizedTitle:"åç±»æ¨¡åè¯ä¼°",charIndex:466},{level:2,title:"æå",slug:"æå",normalizedTitle:"æå",charIndex:652},{level:2,title:"å®è£åº",slug:"å®è£åº",normalizedTitle:"å®è£åº",charIndex:816},{level:2,title:"å¿«æ·é®",slug:"å¿«æ·é®",normalizedTitle:"å¿«æ·é®",charIndex:1207}],headersStr:"å·¥ä½æµç¨ ç¹å¾å·¥ç¨ æºå¨å­¦ä¹ ç®æ³åç±» çç£å­¦ä¹  æ çç£å­¦ä¹  åçç£å­¦ä¹  å¼ºåå­¦ä¹  åç±»æ¨¡åè¯ä¼° æå å®è£åº å¿«æ·é®",content:"# æºå¨å­¦ä¹ \n\n\n# å·¥ä½æµç¨\n\n 1. è·åæ°æ®\n 2. æ°æ®åºæ¬é¤äº\n 3. ç¹å¾å·¥ç¨\n 4. æºå¨å­¦ä¹ (æ¨¡åè®­ç»)\n 5. æ¨¡åè¯ä¼°\n\n\n# ç¹å¾å·¥ç¨\n\n * ææ°æ®è½¬æ¢ä¸ºæºå¨æ´å®¹æè¯å«çæ°æ®\n * æ°æ®åç¹å¾å³å®äºæºå¨å­¦ä¹ çä¸é,èæ¨¡ååç®æ³åªæ¯é¼è¿è¿ä¸ªä¸éèå·²\n * ç¹å¾æå ç¹å¾é¢å¤ç ç¹å¾éç»´\n\n\n# æºå¨å­¦ä¹ ç®æ³åç±»\n\n\n# çç£å­¦ä¹ \n\n * è¾å¥æ°æ®æ¯ç±è¾å¥ç¹å¾å¼åç®æ å¼æç»æ\n   * å½æ°çè¾åºå¯ä»¥æ¯ä¸ä¸ªè¿ç»­çå¼(ç§°ä¸ºåå½)\n     * \n   * ææ¯è¾åºæ¯æéä¸ªç¦»æ£å¼(ç§°ä¸ºåç±»)\n     * \n\n\n# æ çç£å­¦ä¹ \n\nè¾å¥æ°æ®æ¯ç±è¾å¥ç¹å¾å¼ç»æ\n\nè¾å¥æ°æ®æ²¡æè¢«æ è®°,ä¹æ²¡æç¡®å®çç»æ. æ ·æ¿æ°æ®ç±»å«æªç¥,éè¦æ ¹æ®æ ·æ¬é´çç¸ä¼¼æ§å¯¹æ ·æ¬è¿è¡åç±»(èç±»,clustering) è¯å¾ä½¿ç±»åå·®è·æå°å,ç±»é´å·®è·æå¤§å\n\n\n\n\n# åçç£å­¦ä¹ \n\nè®­ç»éåæ¶åå«ææ è®°æ ·æ¿æ°æ®åæªæ è®°æ ·æ¿æ°æ®\n\n\n# å¼ºåå­¦ä¹ \n\nèªå¨è¿è¡å³ç­ å¹¶ä¸å¯ä»¥åè¿ç»­å³ç­\n\nå¨æè¿ç¨,ä¸ä¸æ­¥æ°æ®çè¾åºæ¯ä¸ä¸æ­¥æ°æ®çè¾å¥\n\n\n\n\n# åç±»æ¨¡åè¯ä¼°\n\n * åç¡®ç\n * ç²¾ç¡®ç\n * å¬åç\n * F1-score\n * AUCææ \n\n----------------------------------------\n\n * åæ¹æ ¹è¯¯å·®\n   \n   * \n\n * ç¸å¯¹å¹³æ¹è¯¯å·®\n   \n   * \n\n * å¹³æ¹ç»å¯¹è¯¯å·®\n   \n   * \n\n * å³å®ç³»æ°\n   \n   * \n   \n   \n   # æå\n\n * æ¬ æå æºå¨å­¦ä¹ å°çç¹å¾å¤ªå° å¯¼è´åºåæ åå¤ªç²ç³ ä¸è½åç¡®è¯å«åºè¾å¥æ°æ®\n\n * è¿æå æºå¨å­¦ä¹ å°çç¹å¾å¤ªå¤ å¯¼è´éªè¯æ°æ®éä»¥åæµè¯æ°æ®éä¸­è¡¨ç°ä¸ä½³\n\nhttps://archive.ics.uci.edu/ml/index.php\n\nhttps://archive-beta.ics.uci.edu/\n\n\n# å®è£åº\n\nrequirements.txt\n\nmatplotlib\nnumpy\npandas\ntables\njupyter\n\n\n1\n2\n3\n4\n5\n\n\nä½¿ç¨pipå®è£ å¨å½åç®å½å®è£\n\n#åçº§ä¸ä¸\npython -m pip install -U pip\npython -m pip install -U --force-reinstall pip\npip install -r requirements.txt\n\n\n1\n2\n3\n4\n\n\nå®è£jupyteræä»¶\n\npip install jupyter-contrib-nbextensions\n#æ§è¡\njupyter contrib nbextension install --user --skip-running-check\n\n\n1\n2\n3\n\n\n\n\nå®è£èªå¨æ´ç\n\npip install autopep8\n\n\n1\n\n\n\n# å¿«æ·é®\n\n * æ·»å cell: a æè b\n * å é¤: x\n * ä¿®æ¹cellçæ¨¡å¼: m æ y\n * æ§è¡: shift+enter\n * æå¼å¸®å©ææ¡£ shift+tab",normalizedContent:"# æºå¨å­¦ä¹ \n\n\n# å·¥ä½æµç¨\n\n 1. è·åæ°æ®\n 2. æ°æ®åºæ¬é¤äº\n 3. ç¹å¾å·¥ç¨\n 4. æºå¨å­¦ä¹ (æ¨¡åè®­ç»)\n 5. æ¨¡åè¯ä¼°\n\n\n# ç¹å¾å·¥ç¨\n\n * ææ°æ®è½¬æ¢ä¸ºæºå¨æ´å®¹æè¯å«çæ°æ®\n * æ°æ®åç¹å¾å³å®äºæºå¨å­¦ä¹ çä¸é,èæ¨¡ååç®æ³åªæ¯é¼è¿è¿ä¸ªä¸éèå·²\n * ç¹å¾æå ç¹å¾é¢å¤ç ç¹å¾éç»´\n\n\n# æºå¨å­¦ä¹ ç®æ³åç±»\n\n\n# çç£å­¦ä¹ \n\n * è¾å¥æ°æ®æ¯ç±è¾å¥ç¹å¾å¼åç®æ å¼æç»æ\n   * å½æ°çè¾åºå¯ä»¥æ¯ä¸ä¸ªè¿ç»­çå¼(ç§°ä¸ºåå½)\n     * \n   * ææ¯è¾åºæ¯æéä¸ªç¦»æ£å¼(ç§°ä¸ºåç±»)\n     * \n\n\n# æ çç£å­¦ä¹ \n\nè¾å¥æ°æ®æ¯ç±è¾å¥ç¹å¾å¼ç»æ\n\nè¾å¥æ°æ®æ²¡æè¢«æ è®°,ä¹æ²¡æç¡®å®çç»æ. æ ·æ¿æ°æ®ç±»å«æªç¥,éè¦æ ¹æ®æ ·æ¬é´çç¸ä¼¼æ§å¯¹æ ·æ¬è¿è¡åç±»(èç±»,clustering) è¯å¾ä½¿ç±»åå·®è·æå°å,ç±»é´å·®è·æå¤§å\n\n\n\n\n# åçç£å­¦ä¹ \n\nè®­ç»éåæ¶åå«ææ è®°æ ·æ¿æ°æ®åæªæ è®°æ ·æ¿æ°æ®\n\n\n# å¼ºåå­¦ä¹ \n\nèªå¨è¿è¡å³ç­ å¹¶ä¸å¯ä»¥åè¿ç»­å³ç­\n\nå¨æè¿ç¨,ä¸ä¸æ­¥æ°æ®çè¾åºæ¯ä¸ä¸æ­¥æ°æ®çè¾å¥\n\n\n\n\n# åç±»æ¨¡åè¯ä¼°\n\n * åç¡®ç\n * ç²¾ç¡®ç\n * å¬åç\n * f1-score\n * aucææ \n\n----------------------------------------\n\n * åæ¹æ ¹è¯¯å·®\n   \n   * \n\n * ç¸å¯¹å¹³æ¹è¯¯å·®\n   \n   * \n\n * å¹³æ¹ç»å¯¹è¯¯å·®\n   \n   * \n\n * å³å®ç³»æ°\n   \n   * \n   \n   \n   # æå\n\n * æ¬ æå æºå¨å­¦ä¹ å°çç¹å¾å¤ªå° å¯¼è´åºåæ åå¤ªç²ç³ ä¸è½åç¡®è¯å«åºè¾å¥æ°æ®\n\n * è¿æå æºå¨å­¦ä¹ å°çç¹å¾å¤ªå¤ å¯¼è´éªè¯æ°æ®éä»¥åæµè¯æ°æ®éä¸­è¡¨ç°ä¸ä½³\n\nhttps://archive.ics.uci.edu/ml/index.php\n\nhttps://archive-beta.ics.uci.edu/\n\n\n# å®è£åº\n\nrequirements.txt\n\nmatplotlib\nnumpy\npandas\ntables\njupyter\n\n\n1\n2\n3\n4\n5\n\n\nä½¿ç¨pipå®è£ å¨å½åç®å½å®è£\n\n#åçº§ä¸ä¸\npython -m pip install -u pip\npython -m pip install -u --force-reinstall pip\npip install -r requirements.txt\n\n\n1\n2\n3\n4\n\n\nå®è£jupyteræä»¶\n\npip install jupyter-contrib-nbextensions\n#æ§è¡\njupyter contrib nbextension install --user --skip-running-check\n\n\n1\n2\n3\n\n\n\n\nå®è£èªå¨æ´ç\n\npip install autopep8\n\n\n1\n\n\n\n# å¿«æ·é®\n\n * æ·»å cell: a æè b\n * å é¤: x\n * ä¿®æ¹cellçæ¨¡å¼: m æ y\n * æ§è¡: shift+enter\n * æå¼å¸®å©ææ¡£ shift+tab",charsets:{cjk:!0},lastUpdated:"2022/03/18, 07:01:11",lastUpdatedTimestamp:1647558071e3},{title:"time",frontmatter:{title:"time",date:"2022-03-18T00:53:26.000Z",permalink:"/pages/fd5355/",categories:["åç«¯","Pythonæ¨¡å"],tags:[null]},regularPath:"/%E5%90%8E%E7%AB%AF/07.Python%E6%A8%A1%E5%9D%97/07.time.html",relativePath:"åç«¯/07.Pythonæ¨¡å/07.time.md",key:"v-6748a4dc",path:"/pages/fd5355/",headers:[{level:3,title:"æ¶é´æ³è½¬æ¢",slug:"æ¶é´æ³è½¬æ¢",normalizedTitle:"æ¶é´æ³è½¬æ¢",charIndex:160}],headersStr:"æ¶é´æ³è½¬æ¢",content:'# time\n\n * time.time() è·åå½åæ¶é´æ³\n * time.localtime(time) å°æ¶é´æ³è½¬ä¸ºtimeå¯¹è±¡\n * time.strftime(str,longtime) å°timeå¯¹è±¡è½¬ä¸ºå­ç¬¦ä¸²\n * time.strptime(longtime,str) å°timeå¯¹è±¡è½¬ä¸ºå­ç¬¦ä¸²\n\n\n# æ¶é´æ³è½¬æ¢\n\nimport time\nq=time.time()  #è·åå½åæ¶é´æ³\n\na=time.localtime(time.time())  #å°æ¶é´æ³è½¬ä¸ºtimeå¯¹è±¡\n#time.struct_time(tm_year=2021, tm_mon=4, tm_mday=29, tm_hour=21, tm_min=38, tm_sec=11, tm_wday=3, tm_yday=119, tm_isdst=0)\n\na= time.strftime("%Y-%m-%d %H:%M:%S", a)  #å°timeå¯¹è±¡è½¬ä¸ºå­ç¬¦ä¸²\n#2021-04-29 21:38:11\n\na = time.strptime(a,"%Y-%m-%d %H:%M:%S")  #å°å­ç¬¦ä¸²æ¶é´è½¬ä¸º timeå¯¹è±¡     æå¥å­ç¬¦ä¸²æ ¼å¼åå¿é¡»ä¸å­ç¬¦ä¸²ä¸ä¸å¯¹åº\n#time.struct_time(tm_year=2021, tm_mon=4, tm_mday=29, tm_hour=21, tm_min=38, tm_sec=11, tm_wday=3, tm_yday=119, tm_isdst=-1)\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n',normalizedContent:'# time\n\n * time.time() è·åå½åæ¶é´æ³\n * time.localtime(time) å°æ¶é´æ³è½¬ä¸ºtimeå¯¹è±¡\n * time.strftime(str,longtime) å°timeå¯¹è±¡è½¬ä¸ºå­ç¬¦ä¸²\n * time.strptime(longtime,str) å°timeå¯¹è±¡è½¬ä¸ºå­ç¬¦ä¸²\n\n\n# æ¶é´æ³è½¬æ¢\n\nimport time\nq=time.time()  #è·åå½åæ¶é´æ³\n\na=time.localtime(time.time())  #å°æ¶é´æ³è½¬ä¸ºtimeå¯¹è±¡\n#time.struct_time(tm_year=2021, tm_mon=4, tm_mday=29, tm_hour=21, tm_min=38, tm_sec=11, tm_wday=3, tm_yday=119, tm_isdst=0)\n\na= time.strftime("%y-%m-%d %h:%m:%s", a)  #å°timeå¯¹è±¡è½¬ä¸ºå­ç¬¦ä¸²\n#2021-04-29 21:38:11\n\na = time.strptime(a,"%y-%m-%d %h:%m:%s")  #å°å­ç¬¦ä¸²æ¶é´è½¬ä¸º timeå¯¹è±¡     æå¥å­ç¬¦ä¸²æ ¼å¼åå¿é¡»ä¸å­ç¬¦ä¸²ä¸ä¸å¯¹åº\n#time.struct_time(tm_year=2021, tm_mon=4, tm_mday=29, tm_hour=21, tm_min=38, tm_sec=11, tm_wday=3, tm_yday=119, tm_isdst=-1)\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n',charsets:{cjk:!0},lastUpdated:"2022/03/18, 07:01:11",lastUpdatedTimestamp:1647558071e3},{title:"Falsk",frontmatter:{title:"Falsk",date:"2022-03-18T00:53:26.000Z",permalink:"/pages/a6ad03/",categories:["åç«¯","Pythonæ¨¡å"],tags:[null]},regularPath:"/%E5%90%8E%E7%AB%AF/07.Python%E6%A8%A1%E5%9D%97/08.Falsk.html",relativePath:"åç«¯/07.Pythonæ¨¡å/08.Falsk.md",key:"v-16076614",path:"/pages/a6ad03/",headers:[{level:2,title:"çäº§æ¨¡å¼é¨ç½²",slug:"çäº§æ¨¡å¼é¨ç½²",normalizedTitle:"çäº§æ¨¡å¼é¨ç½²",charIndex:12}],headersStr:"çäº§æ¨¡å¼é¨ç½²",content:"# Falsk\n\n\n# çäº§æ¨¡å¼é¨ç½²\n\nå®è£Gunicorn\n\npip install gunicorn\n\n\n1\n\n\nå¯å¨Gunicorn\n\ngunicorn -b 127.0.0.1:8080 -D app:app # ç¬¬ä¸ä¸ªappä¸ºapp.py ç¬¬äºä¸ªappä¸ºflaskä¸­å®ä¾åçåç§°\n\n\n1\n",normalizedContent:"# falsk\n\n\n# çäº§æ¨¡å¼é¨ç½²\n\nå®è£gunicorn\n\npip install gunicorn\n\n\n1\n\n\nå¯å¨gunicorn\n\ngunicorn -b 127.0.0.1:8080 -d app:app # ç¬¬ä¸ä¸ªappä¸ºapp.py ç¬¬äºä¸ªappä¸ºflaskä¸­å®ä¾åçåç§°\n\n\n1\n",charsets:{cjk:!0},lastUpdated:"2022/03/18, 07:01:11",lastUpdatedTimestamp:1647558071e3},{title:"pymysql  æ°æ®åºè°ç¨",frontmatter:{title:"pymysql  æ°æ®åºè°ç¨",date:"2022-03-18T00:53:25.000Z",permalink:"/pages/f8134b/",categories:["åç«¯","Pythonæ¨¡å"],tags:[null]},regularPath:"/%E5%90%8E%E7%AB%AF/07.Python%E6%A8%A1%E5%9D%97/05.pymysql%20%20%E6%95%B0%E6%8D%AE%E5%BA%93%E8%B0%83%E7%94%A8.html",relativePath:"åç«¯/07.Pythonæ¨¡å/05.pymysql  æ°æ®åºè°ç¨.md",key:"v-3e534332",path:"/pages/f8134b/",headersStr:null,content:'# pymysql æ°æ®åºè°ç¨\n\n * pymysql.connect(host,user,passwd,db,charset) åå»ºæ°æ®è¿æ¥å¯¹è±¡ è¿ådbå¯¹è±¡\n * db.cursor() åå»ºæ¸¸æ  è¿åcursorå¯¹è±¡\n * db.commit() æäº¤äºå¡\n * cursor.execute(sql) æ§è¡æå®sqlè¯­å¥\n * cursor.fetchall() å¦æcursoræè¿åç»æåä½¿ç¨æ­¤æ¹æ³ è¯»åè¿åç»æ\n * close() å³é­\n\nimport pymysql\n#åå»ºè¿æ¥\ndb = pymysql.connect(host=\'127.0.0.1\',user=\'root\',passwd=\'373213257\',db=\'cov\',charset=\'utf8\')    #charsetæ¯utf8èä¸æ¯utf-8\n\n\n#åå»ºæ¸¸æ \ncursor=db.cursor()\n\n\ncursor.execute("DROP TABLE IF EXISTS EMPLOYEE")   ## ä½¿ç¨ execute() æ¹æ³æ§è¡ SQLï¼å¦æè¡¨å­å¨åå é¤\n\n\nsql = """CREATE TABLE EMPLOYEE (\n         FIRST_NAME  CHAR(20) NOT NULL,\n         LAST_NAME  CHAR(20),\n         AGE INT,  \n         SEX CHAR(1),\n         INCOME FLOAT )"""\n\ncursor.execute(sql)  #ä½¿ç¨cursor.executeä¼ å¥sqlè¯­å¥  sqlå­æ¾æ¯å­ç¬¦ä¸²\n\ncursor.close()  #å³é­æ¸¸æ \ndb.close()  #å³é­æ°æ®åºè¿æ¥\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n\n\nè¯»åç»æ\n\nsql ="""INSERT INTO history VALUES(\'2020-01-02\',2,3,4,5,6,7)"""\ncursor.execute(sql)\ndb.commit() #æäº¤äºå¡\ncursor.execute("select * from history")\nres = cursor.fetchall()\nprint(res)\n\n\n1\n2\n3\n4\n5\n6\n',normalizedContent:'# pymysql æ°æ®åºè°ç¨\n\n * pymysql.connect(host,user,passwd,db,charset) åå»ºæ°æ®è¿æ¥å¯¹è±¡ è¿ådbå¯¹è±¡\n * db.cursor() åå»ºæ¸¸æ  è¿åcursorå¯¹è±¡\n * db.commit() æäº¤äºå¡\n * cursor.execute(sql) æ§è¡æå®sqlè¯­å¥\n * cursor.fetchall() å¦æcursoræè¿åç»æåä½¿ç¨æ­¤æ¹æ³ è¯»åè¿åç»æ\n * close() å³é­\n\nimport pymysql\n#åå»ºè¿æ¥\ndb = pymysql.connect(host=\'127.0.0.1\',user=\'root\',passwd=\'373213257\',db=\'cov\',charset=\'utf8\')    #charsetæ¯utf8èä¸æ¯utf-8\n\n\n#åå»ºæ¸¸æ \ncursor=db.cursor()\n\n\ncursor.execute("drop table if exists employee")   ## ä½¿ç¨ execute() æ¹æ³æ§è¡ sqlï¼å¦æè¡¨å­å¨åå é¤\n\n\nsql = """create table employee (\n         first_name  char(20) not null,\n         last_name  char(20),\n         age int,  \n         sex char(1),\n         income float )"""\n\ncursor.execute(sql)  #ä½¿ç¨cursor.executeä¼ å¥sqlè¯­å¥  sqlå­æ¾æ¯å­ç¬¦ä¸²\n\ncursor.close()  #å³é­æ¸¸æ \ndb.close()  #å³é­æ°æ®åºè¿æ¥\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n\n\nè¯»åç»æ\n\nsql ="""insert into history values(\'2020-01-02\',2,3,4,5,6,7)"""\ncursor.execute(sql)\ndb.commit() #æäº¤äºå¡\ncursor.execute("select * from history")\nres = cursor.fetchall()\nprint(res)\n\n\n1\n2\n3\n4\n5\n6\n',charsets:{cjk:!0},lastUpdated:"2022/03/18, 07:01:11",lastUpdatedTimestamp:1647558071e3},{title:"matplotlib",frontmatter:{title:"matplotlib",date:"2022-03-18T00:53:49.000Z",permalink:"/pages/9e1ba1/",categories:["åç«¯","æºå¨å­¦ä¹ "],tags:[null]},regularPath:"/%E5%90%8E%E7%AB%AF/08.%E6%9C%BA%E5%99%A8%E5%AD%A6%E4%B9%A0/02.matplotlib.html",relativePath:"åç«¯/08.æºå¨å­¦ä¹ /02.matplotlib.md",key:"v-56a1eebf",path:"/pages/9e1ba1/",headers:[{level:2,title:"ä¸å±ç»æ",slug:"ä¸å±ç»æ",normalizedTitle:"ä¸å±ç»æ",charIndex:72},{level:2,title:"ç»å¶",slug:"ç»å¶",normalizedTitle:"ç»å¶",charIndex:54},{level:2,title:"ä¿å­ä¸ºå¾ç",slug:"ä¿å­ä¸ºå¾ç",normalizedTitle:"ä¿å­ä¸ºå¾ç",charIndex:505},{level:2,title:"æçº¿å¾ç»ç»",slug:"æçº¿å¾ç»ç»",normalizedTitle:"æçº¿å¾ç»ç»",charIndex:760},{level:2,title:"ä¸­ææ¾ç¤ºé®é¢è§£å³",slug:"ä¸­ææ¾ç¤ºé®é¢è§£å³",normalizedTitle:"ä¸­ææ¾ç¤ºé®é¢è§£å³",charIndex:1498},{level:2,title:"å¤æ¬¡plotåå¾ä¾",slug:"å¤æ¬¡plotåå¾ä¾",normalizedTitle:"å¤æ¬¡plotåå¾ä¾",charIndex:1607},{level:3,title:"å¾ä¾æ¾ç¤ºä½ç½®",slug:"å¾ä¾æ¾ç¤ºä½ç½®",normalizedTitle:"å¾ä¾æ¾ç¤ºä½ç½®",charIndex:2421},{level:2,title:"å¤ä¸ªåæ ç³»æ¾ç¤º",slug:"å¤ä¸ªåæ ç³»æ¾ç¤º",normalizedTitle:"å¤ä¸ªåæ ç³»æ¾ç¤º",charIndex:2604},{level:2,title:"æ°å­¦æçº¿å¾ figure",slug:"æ°å­¦æçº¿å¾-figure",normalizedTitle:"æ°å­¦æçº¿å¾ figure",charIndex:4046},{level:2,title:"æ£ç¹å¾  scatter",slug:"æ£ç¹å¾-scatter",normalizedTitle:"æ£ç¹å¾  scatter",charIndex:null},{level:2,title:"æ±ç¶å¾  bar",slug:"æ±ç¶å¾-bar",normalizedTitle:"æ±ç¶å¾  bar",charIndex:null},{level:2,title:"é¥¼å¾   pie",slug:"é¥¼å¾-pie",normalizedTitle:"é¥¼å¾   pie",charIndex:null},{level:2,title:"ç´æ¹å¾ hist",slug:"ç´æ¹å¾-hist",normalizedTitle:"ç´æ¹å¾ hist",charIndex:5126}],headersStr:"ä¸å±ç»æ ç»å¶ ä¿å­ä¸ºå¾ç æçº¿å¾ç»ç» ä¸­ææ¾ç¤ºé®é¢è§£å³ å¤æ¬¡plotåå¾ä¾ å¾ä¾æ¾ç¤ºä½ç½® å¤ä¸ªåæ ç³»æ¾ç¤º æ°å­¦æçº¿å¾ figure æ£ç¹å¾  scatter æ±ç¶å¾  bar é¥¼å¾   pie ç´æ¹å¾ hist",content:"# matplotlib\n\nä¸»è¦ç¨äºå¼å2då¾è¡¨ 3dä¹å¯ä»¥ç»ç»\n\nç»å¾æµç¨:\n\n 1. åå»ºç»å¸\n 2. ç»å¶å¾å\n 3. æ¾ç¤ºå¾å\n\n\n# ä¸å±ç»æ\n\n 1. å®¹å¨å±\n    * canvas\n    * figure\n    * axes\n 2. è¾å©æ¾ç¤ºå±\n    * æ·»å xè½´ yè½´æè¿° æ é¢ç­ç­\n 3. å¾åå±\n    * ç»å¶ä»ä¹å¾åçå£°æ\n\n\n# ç»å¶\n\n 1. plt.figure(figsize=(), dpi=) figsize:æå®å¾çé¿å®½ dpi:å¾åçæ¸æ°åº¦ è¿åfigå¯¹è±¡ åå»ºç»å¸\n 2. plt.plot(x, y) ç»å¶å¾å\n 3. plt.show() æ¾ç¤ºå¾å\n\nimport matplotlib.pyplot as plt\n\n#åå»ºç»å¸  figesizeä¸ºç»å¸å°ºå¯¸  dpiæ¯åç´ ç¹\nplt.figure(figsize=(20, 8), dpi=100)\n\n#å¾åç»å¶\nx = [1, 2, 3]\ny = [4, 5, 6]\nplt.plot(x, y)\n\n#å¾åå±ç¤º\nplt.show()\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n\n\n\n# ä¿å­ä¸ºå¾ç\n\n#åå»ºç»å¸  figesizeä¸ºç»å¸å°ºå¯¸  dpiæ¯åç´ ç¹\nplt.figure(figsize=(20, 8), dpi=100)\n\n#å¾åç»å¶\nx = [1, 2, 3]\ny = [4, 5, 6]\nplt.plot(x, y)\n\n#ä¿å­å¾ç\nplt.savefig(\"test-mat.png\")\n\n#å¾åå±ç¤º showä¼éæ¾èµæº å½showè°ç¨åpltå¯¹è±¡å¯¹åºçèµæºä¹éæ¾äº æ æ³ä¿å­ä¸ºå¾ç\nplt.show()\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n\n\n\n# æçº¿å¾ç»ç»\n\nimport random\n\nx = range(60)\ny = [random.uniform(10, 15) for i in x]\n\nplt.rcParams['font.sans-serif'] = ['SimHei'] # æ­¥éª¤ä¸ï¼æ¿æ¢sans-serifå­ä½ï¼\nplt.rcParams['axes.unicode_minus'] = False   # æ­¥éª¤äºï¼è§£å³åæ è½´è´æ°çè´å·æ¾ç¤ºé®é¢ï¼\n    \n# åå»ºç»å¸\nplt.figure(figsize=(15, 8), dpi=300)\n\n# ç»å¶\nplt.plot(x, y)\n\n\n# æ·»å  x,yè½´å»åº¦\ny_ticks = range(40)  # éè¦æä¾ä¸ä¸ªåè¡¨\nplt.yticks(y_ticks[::5])  # éè¿yticksæ¹æ³èµäºå±æ§\n\nx_ticks_label = [\"11ç¹{}å\".format(i) for i in x]\nplt.xticks(x[::5], x_ticks_label[::5])   #ç¬¬ä¸ä¸ªåæ°å¿é¡»ä¸ºæ°å­ä¸è½ä¸ºå­ç¬¦ä¸²æ°ç»\n\n#æ·»å ç½æ ¼\nplt.grid(True, linestyle=\"-\",alpha=1)  #linestyleä¸ºçº¿æ ·å¼ -ä¸ºæçº¿ --ä¸ºèçº¿   alphaä¸ºçº¿çéæåº¦\n\n#æ·»å æè¿°\nplt.xlabel(\"æ¶é´\")\nplt.ylabel(\"æ¸©åº¦\")\nplt.title(\"ä¸å°æ¶æ¸©åº¦ååå¾\")\n\n\nplt.show()\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n26\n27\n28\n29\n30\n31\n32\n\n\n\n\n\n# ä¸­ææ¾ç¤ºé®é¢è§£å³\n\nplt.rcParams['font.sans-serif'] = ['SimHei']\nplt.rcParams['axes.unicode_minus'] = False\n\n\n1\n2\n\n\n\n# å¤æ¬¡plotåå¾ä¾\n\nx = range(60)\ny_beijing = [random.uniform(10, 15) for i in x]\ny_shanghai = [random.uniform(10, 25) for i in x]\n\nplt.rcParams['font.sans-serif'] = ['SimHei']\nplt.rcParams['axes.unicode_minus'] = False\n\n\nplt.figure(figsize=(15, 8), dpi=300)\n\n\nplt.plot(x, y_beijing, label=\"åäº¬\")\nplt.plot(x, y_shanghai, label=\"ä¸æµ·\",color='r' , linestyle='-')  # ç¬¬äºæ¬¡ç»å¶  å¦ææ³æ¾ç¤ºå¾ä¾å¿é¡»èµäºlaberå¾ä¾å  color ä¸ºçº¿æ¡é¢è²  linestyleä¸ºçº¿æ¡æ ·å¼ \n#å·ä½å¼åç§ä»¥ä¸å¾\n\n\ny_ticks = range(40)\nplt.yticks(y_ticks[::5])\n\nx_ticks_label = [\"11ç¹{}å\".format(i) for i in x]\nplt.xticks(x[::5], x_ticks_label[::5])\n\n\nplt.grid(True, linestyle=\"-\", alpha=1)\n\nplt.xlabel(\"æ¶é´\")\nplt.ylabel(\"æ¸©åº¦\")\nplt.title(\"ä¸å°æ¶æ¸©åº¦ååå¾\")\n\n# æ¾ç¤ºå¾ä¾\nplt.legend(loc=3)  #locä¸ºå¾ä¾ä½ç½® å¼åç§ä»¥ä¸å¾   \n\n\nplt.show()\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n26\n27\n28\n29\n30\n31\n32\n33\n34\n\n\n\n\n\n# å¾ä¾æ¾ç¤ºä½ç½®\n\n# ç»å¶æçº¿å¾\nplt.plot(x, y_shanghai, label=\"ä¸æµ·\")\n# ä½¿ç¨å¤æ¬¡plotå¯ä»¥ç»å¤ä¸ªæçº¿\nplt.plot(x, y_beijing, color='r', linestyle='--', label=\"åäº¬\")\n# æ¾ç¤ºå¾ä¾\nplt.legend(loc=\"best\")\n\n\n1\n2\n3\n4\n5\n6\n\n\n\n\n\n# å¤ä¸ªåæ ç³»æ¾ç¤º\n\nx = range(60)\ny_beijing = [random.uniform(10, 15) for i in x]\ny_shanghai = [random.uniform(10, 25) for i in x]\n\nplt.rcParams['font.sans-serif'] = ['SimHei']\nplt.rcParams['axes.unicode_minus'] = False\n\n\n# ä½¿ç¨subplotç»å¶å¤ä¸ªåæ ç³»\n# plt.figure(figsize=(15, 8), dpi=300)\nfig, axes = plt.subplots(nrows=1, ncols=2, figsize=(20, 8), dpi=300)   #nrows å è¡    ncolså å  å¹¶ä¸å¤§é¨åéè¦è½¬æ¢ä¸ºset_xxxxæ¹æ³\n\n\n# plt.plot(x, y_beijing, label=\"åäº¬\")\n# plt.plot(x, y_shanghai, label=\"ä¸æµ·\",color='r' , linestyle='-')\naxes[0].plot(x, y_beijing, label=\"åäº¬\")\naxes[1].plot(x, y_shanghai, label=\"ä¸æµ·\", color='r', linestyle='-')\n\n\ny_ticks = range(40)\n# plt.yticks(y_ticks[::5])\naxes[0].set_yticks(y_ticks[::5])\naxes[1].set_yticks(y_ticks[::5])\n\nx_ticks_label = [\"11ç¹{}å\".format(i) for i in x]\n# plt.xticks(x[::5], x_ticks_label[::5])\naxes[0].set_xticks(x[::5])\naxes[0].set_xticklabels(x_ticks_label[::5])\naxes[1].set_xticks(x[::5])\naxes[1].set_xticklabels(x_ticks_label[::5])\n\n\n\n\nplt.grid(True, linestyle=\"-\", alpha=1)\n\n# plt.xlabel(\"æ¶é´\")\n# plt.ylabel(\"æ¸©åº¦\")\n# plt.title(\"ä¸å°æ¶æ¸©åº¦ååå¾\")\naxes[0].set_xlabel(\"æ¶é´\")\naxes[0].set_ylabel(\"æ¸©åº¦\")\naxes[0].set_title(\"åäº¬ä¸å°æ¶æ¸©åº¦ååå¾\")\naxes[1].set_xlabel(\"æ¶é´\")\naxes[1].set_ylabel(\"æ¸©åº¦\")\naxes[1].set_title(\"ä¸æµ·ä¸å°æ¶æ¸©åº¦ååå¾\")\n\n\n# plt.legend(loc=3)\naxes[0].legend(loc=3)\naxes[1].legend(loc=3)\n\nplt.show()\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n26\n27\n28\n29\n30\n31\n32\n33\n34\n35\n36\n37\n38\n39\n40\n41\n42\n43\n44\n45\n46\n47\n48\n49\n50\n51\n52\n\n\n\n\n\n# æ°å­¦æçº¿å¾ figure\n\nimport numpy as np\n\n# ä»-10 å° 10 ç1000ä¸ªæ°æ®\nx = np.linspace(-10,10,1000)\ny = np.sin(x)\n\nplt.figure(figsize=(20,8),dpi=100)\n\nplt.plot(x,y)\n\nplt.grid()\n\nplt.show\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n\n\n\n\n\n# æ£ç¹å¾ scatter\n\nx = [10.0, 8.07, 13.0, 9.05, 11.0, 14.0, 13.4, 10.0, 14.0, 12.5, 9.15,\n     11.5, 3.03, 12.2, 2.02, 1.05, 4.05, 6.03, 12.0, 12.0, 7.08, 5.02]\ny = [8.04, 6.95, 7.58, 8.81, 8.33, 7.66, 6.81, 6.33, 8.96, 6.82, 7.20,\n     7.20, 4.23, 7.83, 4.47, 3.33, 4.96, 7.24, 6.26, 8.84, 5.82, 5.68]\n\nplt.figure(figsize=(20, 8), dpi=100)\n\n#æ£ç¹å¾\nplt.scatter(x, y)\n\nplt.grid()\n\nplt.show\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n\n\n\n\n\n# æ±ç¶å¾ bar\n\nx =['Mon', 'Tue', 'Wed', 'Thu', 'Fri', 'Sat', 'Sun']\ny =[120, 200, 150, 80, 70, 110, 130]\n\nplt.figure(figsize=(20, 8), dpi=100)\n\n#æ±ç¶å¾\nplt.bar(x, y,width=0.4)  #widthä¸ºæ±ç¶å¾å®½åº¦\n\nplt.grid()\n\nplt.show\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n\n\n\n\n\n# é¥¼å¾ pie\n\nx =[2,5,12,70,2,9]\nlabels = ['å¨±ä¹','è²å¿','é¥®é£','æ¿è´·','äº¤é','å¶å®']\nplt.figure(figsize=(20, 8), dpi=100)\n\n#é¥¼å¾\nplt.pie(x,labels=labels)  #xä¸ºæ°æ®   labelsä¸ºlengtçåç§°  \n\nplt.grid()\n\nplt.show\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n\n\n\n\n\n# ç´æ¹å¾ hist\n\nplt.rcParams['font.family']='SimHei'\nplt.rcParams['font.size']=20\n\n# ç´æ¹å¾\nmu = 100\nsigma = 20\nx = np.random.normal(100,20,100) # åå¼åæ åå·®\n\nplt.hist(x,bins=20,color='red',histtype='stepfilled',alpha=0.75)\nplt.title('ç´æ¹å¾æ°æ®åæä¸å±ç¤º')\nplt.show()\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n\n\n",normalizedContent:"# matplotlib\n\nä¸»è¦ç¨äºå¼å2då¾è¡¨ 3dä¹å¯ä»¥ç»ç»\n\nç»å¾æµç¨:\n\n 1. åå»ºç»å¸\n 2. ç»å¶å¾å\n 3. æ¾ç¤ºå¾å\n\n\n# ä¸å±ç»æ\n\n 1. å®¹å¨å±\n    * canvas\n    * figure\n    * axes\n 2. è¾å©æ¾ç¤ºå±\n    * æ·»å xè½´ yè½´æè¿° æ é¢ç­ç­\n 3. å¾åå±\n    * ç»å¶ä»ä¹å¾åçå£°æ\n\n\n# ç»å¶\n\n 1. plt.figure(figsize=(), dpi=) figsize:æå®å¾çé¿å®½ dpi:å¾åçæ¸æ°åº¦ è¿åfigå¯¹è±¡ åå»ºç»å¸\n 2. plt.plot(x, y) ç»å¶å¾å\n 3. plt.show() æ¾ç¤ºå¾å\n\nimport matplotlib.pyplot as plt\n\n#åå»ºç»å¸  figesizeä¸ºç»å¸å°ºå¯¸  dpiæ¯åç´ ç¹\nplt.figure(figsize=(20, 8), dpi=100)\n\n#å¾åç»å¶\nx = [1, 2, 3]\ny = [4, 5, 6]\nplt.plot(x, y)\n\n#å¾åå±ç¤º\nplt.show()\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n\n\n\n# ä¿å­ä¸ºå¾ç\n\n#åå»ºç»å¸  figesizeä¸ºç»å¸å°ºå¯¸  dpiæ¯åç´ ç¹\nplt.figure(figsize=(20, 8), dpi=100)\n\n#å¾åç»å¶\nx = [1, 2, 3]\ny = [4, 5, 6]\nplt.plot(x, y)\n\n#ä¿å­å¾ç\nplt.savefig(\"test-mat.png\")\n\n#å¾åå±ç¤º showä¼éæ¾èµæº å½showè°ç¨åpltå¯¹è±¡å¯¹åºçèµæºä¹éæ¾äº æ æ³ä¿å­ä¸ºå¾ç\nplt.show()\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n\n\n\n# æçº¿å¾ç»ç»\n\nimport random\n\nx = range(60)\ny = [random.uniform(10, 15) for i in x]\n\nplt.rcparams['font.sans-serif'] = ['simhei'] # æ­¥éª¤ä¸ï¼æ¿æ¢sans-serifå­ä½ï¼\nplt.rcparams['axes.unicode_minus'] = false   # æ­¥éª¤äºï¼è§£å³åæ è½´è´æ°çè´å·æ¾ç¤ºé®é¢ï¼\n    \n# åå»ºç»å¸\nplt.figure(figsize=(15, 8), dpi=300)\n\n# ç»å¶\nplt.plot(x, y)\n\n\n# æ·»å  x,yè½´å»åº¦\ny_ticks = range(40)  # éè¦æä¾ä¸ä¸ªåè¡¨\nplt.yticks(y_ticks[::5])  # éè¿yticksæ¹æ³èµäºå±æ§\n\nx_ticks_label = [\"11ç¹{}å\".format(i) for i in x]\nplt.xticks(x[::5], x_ticks_label[::5])   #ç¬¬ä¸ä¸ªåæ°å¿é¡»ä¸ºæ°å­ä¸è½ä¸ºå­ç¬¦ä¸²æ°ç»\n\n#æ·»å ç½æ ¼\nplt.grid(true, linestyle=\"-\",alpha=1)  #linestyleä¸ºçº¿æ ·å¼ -ä¸ºæçº¿ --ä¸ºèçº¿   alphaä¸ºçº¿çéæåº¦\n\n#æ·»å æè¿°\nplt.xlabel(\"æ¶é´\")\nplt.ylabel(\"æ¸©åº¦\")\nplt.title(\"ä¸å°æ¶æ¸©åº¦ååå¾\")\n\n\nplt.show()\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n26\n27\n28\n29\n30\n31\n32\n\n\n\n\n\n# ä¸­ææ¾ç¤ºé®é¢è§£å³\n\nplt.rcparams['font.sans-serif'] = ['simhei']\nplt.rcparams['axes.unicode_minus'] = false\n\n\n1\n2\n\n\n\n# å¤æ¬¡plotåå¾ä¾\n\nx = range(60)\ny_beijing = [random.uniform(10, 15) for i in x]\ny_shanghai = [random.uniform(10, 25) for i in x]\n\nplt.rcparams['font.sans-serif'] = ['simhei']\nplt.rcparams['axes.unicode_minus'] = false\n\n\nplt.figure(figsize=(15, 8), dpi=300)\n\n\nplt.plot(x, y_beijing, label=\"åäº¬\")\nplt.plot(x, y_shanghai, label=\"ä¸æµ·\",color='r' , linestyle='-')  # ç¬¬äºæ¬¡ç»å¶  å¦ææ³æ¾ç¤ºå¾ä¾å¿é¡»èµäºlaberå¾ä¾å  color ä¸ºçº¿æ¡é¢è²  linestyleä¸ºçº¿æ¡æ ·å¼ \n#å·ä½å¼åç§ä»¥ä¸å¾\n\n\ny_ticks = range(40)\nplt.yticks(y_ticks[::5])\n\nx_ticks_label = [\"11ç¹{}å\".format(i) for i in x]\nplt.xticks(x[::5], x_ticks_label[::5])\n\n\nplt.grid(true, linestyle=\"-\", alpha=1)\n\nplt.xlabel(\"æ¶é´\")\nplt.ylabel(\"æ¸©åº¦\")\nplt.title(\"ä¸å°æ¶æ¸©åº¦ååå¾\")\n\n# æ¾ç¤ºå¾ä¾\nplt.legend(loc=3)  #locä¸ºå¾ä¾ä½ç½® å¼åç§ä»¥ä¸å¾   \n\n\nplt.show()\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n26\n27\n28\n29\n30\n31\n32\n33\n34\n\n\n\n\n\n# å¾ä¾æ¾ç¤ºä½ç½®\n\n# ç»å¶æçº¿å¾\nplt.plot(x, y_shanghai, label=\"ä¸æµ·\")\n# ä½¿ç¨å¤æ¬¡plotå¯ä»¥ç»å¤ä¸ªæçº¿\nplt.plot(x, y_beijing, color='r', linestyle='--', label=\"åäº¬\")\n# æ¾ç¤ºå¾ä¾\nplt.legend(loc=\"best\")\n\n\n1\n2\n3\n4\n5\n6\n\n\n\n\n\n# å¤ä¸ªåæ ç³»æ¾ç¤º\n\nx = range(60)\ny_beijing = [random.uniform(10, 15) for i in x]\ny_shanghai = [random.uniform(10, 25) for i in x]\n\nplt.rcparams['font.sans-serif'] = ['simhei']\nplt.rcparams['axes.unicode_minus'] = false\n\n\n# ä½¿ç¨subplotç»å¶å¤ä¸ªåæ ç³»\n# plt.figure(figsize=(15, 8), dpi=300)\nfig, axes = plt.subplots(nrows=1, ncols=2, figsize=(20, 8), dpi=300)   #nrows å è¡    ncolså å  å¹¶ä¸å¤§é¨åéè¦è½¬æ¢ä¸ºset_xxxxæ¹æ³\n\n\n# plt.plot(x, y_beijing, label=\"åäº¬\")\n# plt.plot(x, y_shanghai, label=\"ä¸æµ·\",color='r' , linestyle='-')\naxes[0].plot(x, y_beijing, label=\"åäº¬\")\naxes[1].plot(x, y_shanghai, label=\"ä¸æµ·\", color='r', linestyle='-')\n\n\ny_ticks = range(40)\n# plt.yticks(y_ticks[::5])\naxes[0].set_yticks(y_ticks[::5])\naxes[1].set_yticks(y_ticks[::5])\n\nx_ticks_label = [\"11ç¹{}å\".format(i) for i in x]\n# plt.xticks(x[::5], x_ticks_label[::5])\naxes[0].set_xticks(x[::5])\naxes[0].set_xticklabels(x_ticks_label[::5])\naxes[1].set_xticks(x[::5])\naxes[1].set_xticklabels(x_ticks_label[::5])\n\n\n\n\nplt.grid(true, linestyle=\"-\", alpha=1)\n\n# plt.xlabel(\"æ¶é´\")\n# plt.ylabel(\"æ¸©åº¦\")\n# plt.title(\"ä¸å°æ¶æ¸©åº¦ååå¾\")\naxes[0].set_xlabel(\"æ¶é´\")\naxes[0].set_ylabel(\"æ¸©åº¦\")\naxes[0].set_title(\"åäº¬ä¸å°æ¶æ¸©åº¦ååå¾\")\naxes[1].set_xlabel(\"æ¶é´\")\naxes[1].set_ylabel(\"æ¸©åº¦\")\naxes[1].set_title(\"ä¸æµ·ä¸å°æ¶æ¸©åº¦ååå¾\")\n\n\n# plt.legend(loc=3)\naxes[0].legend(loc=3)\naxes[1].legend(loc=3)\n\nplt.show()\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n26\n27\n28\n29\n30\n31\n32\n33\n34\n35\n36\n37\n38\n39\n40\n41\n42\n43\n44\n45\n46\n47\n48\n49\n50\n51\n52\n\n\n\n\n\n# æ°å­¦æçº¿å¾ figure\n\nimport numpy as np\n\n# ä»-10 å° 10 ç1000ä¸ªæ°æ®\nx = np.linspace(-10,10,1000)\ny = np.sin(x)\n\nplt.figure(figsize=(20,8),dpi=100)\n\nplt.plot(x,y)\n\nplt.grid()\n\nplt.show\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n\n\n\n\n\n# æ£ç¹å¾ scatter\n\nx = [10.0, 8.07, 13.0, 9.05, 11.0, 14.0, 13.4, 10.0, 14.0, 12.5, 9.15,\n     11.5, 3.03, 12.2, 2.02, 1.05, 4.05, 6.03, 12.0, 12.0, 7.08, 5.02]\ny = [8.04, 6.95, 7.58, 8.81, 8.33, 7.66, 6.81, 6.33, 8.96, 6.82, 7.20,\n     7.20, 4.23, 7.83, 4.47, 3.33, 4.96, 7.24, 6.26, 8.84, 5.82, 5.68]\n\nplt.figure(figsize=(20, 8), dpi=100)\n\n#æ£ç¹å¾\nplt.scatter(x, y)\n\nplt.grid()\n\nplt.show\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n\n\n\n\n\n# æ±ç¶å¾ bar\n\nx =['mon', 'tue', 'wed', 'thu', 'fri', 'sat', 'sun']\ny =[120, 200, 150, 80, 70, 110, 130]\n\nplt.figure(figsize=(20, 8), dpi=100)\n\n#æ±ç¶å¾\nplt.bar(x, y,width=0.4)  #widthä¸ºæ±ç¶å¾å®½åº¦\n\nplt.grid()\n\nplt.show\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n\n\n\n\n\n# é¥¼å¾ pie\n\nx =[2,5,12,70,2,9]\nlabels = ['å¨±ä¹','è²å¿','é¥®é£','æ¿è´·','äº¤é','å¶å®']\nplt.figure(figsize=(20, 8), dpi=100)\n\n#é¥¼å¾\nplt.pie(x,labels=labels)  #xä¸ºæ°æ®   labelsä¸ºlengtçåç§°  \n\nplt.grid()\n\nplt.show\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n\n\n\n\n\n# ç´æ¹å¾ hist\n\nplt.rcparams['font.family']='simhei'\nplt.rcparams['font.size']=20\n\n# ç´æ¹å¾\nmu = 100\nsigma = 20\nx = np.random.normal(100,20,100) # åå¼åæ åå·®\n\nplt.hist(x,bins=20,color='red',histtype='stepfilled',alpha=0.75)\nplt.title('ç´æ¹å¾æ°æ®åæä¸å±ç¤º')\nplt.show()\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n\n\n",charsets:{cjk:!0},lastUpdated:"2022/03/18, 07:01:11",lastUpdatedTimestamp:1647558071e3},{title:"Numpy",frontmatter:{title:"Numpy",date:"2022-03-18T00:53:49.000Z",permalink:"/pages/a58615/",categories:["åç«¯","æºå¨å­¦ä¹ "],tags:[null]},regularPath:"/%E5%90%8E%E7%AB%AF/08.%E6%9C%BA%E5%99%A8%E5%AD%A6%E4%B9%A0/03.Numpy.html",relativePath:"åç«¯/08.æºå¨å­¦ä¹ /03.Numpy.md",key:"v-6c324d6f",path:"/pages/a58615/",headers:[{level:2,title:"è¯»åæ°æ®",slug:"è¯»åæ°æ®",normalizedTitle:"è¯»åæ°æ®",charIndex:161},{level:2,title:"æ°ç»è½¬ndarray",slug:"æ°ç»è½¬ndarray",normalizedTitle:"æ°ç»è½¬ndarray",charIndex:237},{level:2,title:"ndarrayæ°ç»æ¹æ³",slug:"ndarrayæ°ç»æ¹æ³",normalizedTitle:"ndarrayæ°ç»æ¹æ³",charIndex:393},{level:2,title:"ndarrayæ°ç»çææ¹æ³",slug:"ndarrayæ°ç»çææ¹æ³",normalizedTitle:"ndarrayæ°ç»çææ¹æ³",charIndex:585},{level:2,title:"æ°ç»çç´¢å¼ååç",slug:"æ°ç»çç´¢å¼ååç",normalizedTitle:"æ°ç»çç´¢å¼ååç",charIndex:1076},{level:2,title:"å½¢ç¶ä¿®æ¹",slug:"å½¢ç¶ä¿®æ¹",normalizedTitle:"å½¢ç¶ä¿®æ¹",charIndex:1138},{level:2,title:"æ°ç»æ¼æ¥",slug:"æ°ç»æ¼æ¥",normalizedTitle:"æ°ç»æ¼æ¥",charIndex:1611},{level:2,title:"æ°ç»åå",slug:"æ°ç»åå",normalizedTitle:"æ°ç»åå",charIndex:1678},{level:2,title:"ç±»åä¿®æ¹",slug:"ç±»åä¿®æ¹",normalizedTitle:"ç±»åä¿®æ¹",charIndex:1858},{level:2,title:"å¤å¶",slug:"å¤å¶",normalizedTitle:"å¤å¶",charIndex:817},{level:2,title:"æ°ç»çå»é",slug:"æ°ç»çå»é",normalizedTitle:"æ°ç»çå»é",charIndex:2183},{level:2,title:"æ°ç»è¿ç®",slug:"æ°ç»è¿ç®",normalizedTitle:"æ°ç»è¿ç®",charIndex:2219},{level:3,title:"å¤æ­å½æ°",slug:"å¤æ­å½æ°",normalizedTitle:"å¤æ­å½æ°",charIndex:2977},{level:2,title:"æåº",slug:"æåº",normalizedTitle:"æåº",charIndex:3144},{level:3,title:"ç»è®¡è¿ç®",slug:"ç»è®¡è¿ç®",normalizedTitle:"ç»è®¡è¿ç®",charIndex:3225},{level:2,title:"æ­£æåå¸",slug:"æ­£æåå¸",normalizedTitle:"æ­£æåå¸",charIndex:3473},{level:2,title:"ç©éµ",slug:"ç©éµ",normalizedTitle:"ç©éµ",charIndex:3577},{level:3,title:"åé",slug:"åé",normalizedTitle:"åé",charIndex:3737},{level:3,title:"å æ³åæ éä¹æ³",slug:"å æ³åæ éä¹æ³",normalizedTitle:"å æ³åæ éä¹æ³",charIndex:3787},{level:3,title:"ç©éµä¹æ³çæ§è´¨",slug:"ç©éµä¹æ³çæ§è´¨",normalizedTitle:"ç©éµä¹æ³çæ§è´¨",charIndex:3988},{level:3,title:"éãè½¬ç½®",slug:"éãè½¬ç½®",normalizedTitle:"éãè½¬ç½®",charIndex:4165},{level:3,title:"npæ¹æ³",slug:"npæ¹æ³",normalizedTitle:"npæ¹æ³",charIndex:4977}],headersStr:"è¯»åæ°æ® æ°ç»è½¬ndarray ndarrayæ°ç»æ¹æ³ ndarrayæ°ç»çææ¹æ³ æ°ç»çç´¢å¼ååç å½¢ç¶ä¿®æ¹ æ°ç»æ¼æ¥ æ°ç»åå ç±»åä¿®æ¹ å¤å¶ æ°ç»çå»é æ°ç»è¿ç® å¤æ­å½æ° æåº ç»è®¡è¿ç® æ­£æåå¸ ç©éµ åé å æ³åæ éä¹æ³ ç©éµä¹æ³çæ§è´¨ éãè½¬ç½® npæ¹æ³",content:'# Numpy\n\nå¼æºçpythonç§å­¦è®¡ç®åº ç¨äºå¿«éå¤çä»»æç»´åº¦çæ°ç» npmpyä¸­å­å¨å¯¹è±¡æ¯ndarray\n\nä¼å¿:\n\n 1. åå®¹åé£æ ¼\n 2. æ¯æå¹¶è¡åè¿ç®\n 3. æçé«äºçº¯python\n 4. åºå±ä½¿ç¨äºC,åé¨éæ¾äºGIL\n\n * np.array([]) åå»ºnpæ°ç» è¿åndarrayå¯¹è±¡\n\n\n# è¯»åæ°æ®\n\nnp.genfromtxt("xxx.txt",delimiter=",",dtype=str) # ä»txtä¸­è¯»åæ°æ®\n\n\n1\n\n\n\n# æ°ç»è½¬ndarray\n\nå°æ°ç»æèå¤ç»´æ°ç»è½¬ä¸ºnpæ°ç»\n\nnp.arryay([5,10,15,1])\nndarray = np.arryay([[5,10,15,1],[15,2,5,3]])\n\n\n1\n2\n\n * åè¡¨ä¸­åç´ ä¼èªå¨è½¬æ¢ä¸ºåä¸ç±» ä¸è¬å¨é¨ç»ä¸ä¸ºä¸ä¸ªç±»å\n * æ¯ä¸ªåç´ å åç´ æ°å¿é¡»ç¸å\n\n\n# ndarrayæ°ç»æ¹æ³\n\n * ndarray.shape æ°ç»ç»´åº¦åç»´åº¦åç´ ä¸ªæ°çåç»\n * ndarray.ndim æ°ç»ç»´æ°\n * ndarray.size æ°ç»ä¸­å¨é¨çåç´ æ°é\n * ndarray.itemsize ä¸ä¸ªæ°ç»åç´ çé¿åº¦(å­è)\n * ndarray.floor() å°æ°ç»ä¸­åç´ åä¸åæ´\n * ndarray.dtype æ°ç»åç´ çç±»å\n   * \n\n\n# ndarrayæ°ç»çææ¹æ³\n\n * np.arange(15,30,5) åå»ºç­å·®æ°ç» çæä¸ä¸ªnpæ°ç»ä»15å°30 æ­¥è¿ä¸º5ä¸ª é»è®¤ä¸º1ç»´\n * p.logspace(start,stop, num) åå»ºç­æ¯æ°å é»è®¤çæ50ä¸ªnum p.logspace(0,2, 3) ä»10ç0æ¬¡æ¹å°10ç2æ¬¡æ¹ çæ3ä¸ªåç´  é»è®¤ä¸º50ä¸ª\n * np.zeros((3,4)) çæä¸ä¸ªå¨ä¸º0çnpæ°ç» 3è¡4å\n * np.zeros_like(a, dtype) å¤å¶å½åæ°ç»çç»´åº¦åè¡åæ° çæä¸ä¸ªå¨ä¸º0çæ°ç»\n * np.ones((2,3,4), dtype=np.int32) çæå¨ä¸ºä¸çæ°ç» äºç»´ä¸è¡4å é»è®¤ä¸ºfloat64ç±»å zerosä¹æ¯\n * np.ones_like(a, dtype) å¤å¶å½åæ°ç»çç»´åº¦åè¡åæ° çæä¸ä¸ªå¨ä¸º1çæ°ç»\n * np.random.random((2,3)) å¤å°ä¸ªrandomå°±æ¯å¤ç»´ çæä¸ä¸ªä¸¤è¡ä¸åçæ°ç» åå¼ä¸º(-1,1)\n * np.linspace(0,5,100) çæä¸ä¸ª0-5 ä¹é´å¹³åå100ä¸ªå¼\n\n\n# æ°ç»çç´¢å¼ååç\n\n * ndarray[s,r] æ ¹æ®ç»´åº¦åç´¢å¼ è·åå¼\n * ndarray[0:] æ¯æåç\n\n\n# å½¢ç¶ä¿®æ¹\n\n * ndarray.reshape(shape, order) å°åæ°ç» è½¬ä¸ºä¸ºæå®çè¡å\n   \n   * stock_change = np.random.normal(0, 1, (8, 10))\n     stock_change.reshape([10,8])  #å°è¡åäºæ¢äº  reshapeæ¹æ³å¹¶ä¸ä¼ä¿®æ¹åç´ çä¸ªæ°åäº§çæ°çåç´ \n     stock_change.reshape([-1,2])  #å¦æä¸ç¥éå·ä½çè¡æåå¯ä»¥ä½¿ç¨-1ä»£æ¿ èªå¨è®¡ç®   å¦è¿éç ä¸ç¥éå¤å°è¡ æ¯ä¸ªè¡2ä¸ªæ°æ®\n     #ä¸å®è¦æ´é¤ å¦åæ¥é\n     \n     \n     1\n     2\n     3\n     4\n     \n\n * ndarray.resize(new_shape) reshapeå¹¶ä¸ä¼å¯¹åæ°ç»è¿è¡ä¿®æ¹ èäº§çæ°æ°ç» æä»¬ä½¿ç¨resizeå¯ä»¥å¯¹åæ°ç»è¿è¡ä¿®æ¹\n\n * ndarray.revel() å°æ°ç»åæä¸ç»´ å°å¨é¨åç´ å­æ¾ä¸ºæ°ç»ä¸­\n\n * ndarray.T å°æ°ç»çè¡ãåè¿è¡äºæ¢\n\n\n# æ°ç»æ¼æ¥\n\n * np.hstack((a,b)) å°ä¸¤æ°ç»ç¸è¿æ¥\n * np.vstack((a,b)) å°ä¸¤æ°ç»çºµåæ¼æ¥\n\n\n# æ°ç»åå\n\n * np.hshplit(a,3) å°æå®æ°ç»å¹³åæåæ3ä¸ªnpæ°ç» è¡çæå åæ°ä¸å\n * np.hshplit(a,(3,4)) å¦æä¼ éåç»åå¨æå®ç´¢å¼ä¸ æå å¨ç¬¬3åæå1ä¸ª å¨ç¬¬4åæå1ä¸ª å¶ä»æåä¸º1ä¸ª\n * np.vshplit(a,3) åæå è¡ä¸å\n * np.hshplit(a,(3,4)) å¨æå®åæ°æå\n\n\n# ç±»åä¿®æ¹\n\n * ndarray.astype(flaot) è½¬æ¢åç´ ç±»å\n   \n   * df[\'éçæ°\'] = df[\'éçæ°\'].fillna("0").astype(int) #åæ¿æ¢ç¼ºå¤±å¼\n     \n     \n     1\n     \n\n * ndarray.tostring([order]) è½¬ä¸ºå­ç¬¦ä¸²è¾åº\n\n * ndarray.tobytes([order]) è½¬ä¸ºå­èæ°ç»\n\n\n# å¤å¶\n\n * np.array(object, dtype) å°æ°ç»è½¬ä¸ºnpæ°ç» æ·±æ·è´\n * np.asarray(a, dtype) æµæ·è´\n * ndarray.copy() æµæ·è´\n * ndarray.view() æ·±æ·è´\n\n\n# æ°ç»çå»é\n\n * np.unique(nparray) å»é\n\n\n# æ°ç»è¿ç®\n\n * npæ°ç»æ¯æä¸¤ä¸ªnpæ°ç» ä¹é´è¿ç® åæ¶æ¯æä¸å¸¸æ°è¿ç®\n   \n   * a = np.array([20,30,40,50])\n     b = np.array([1,2,3])\n     #æ°ç»å¨è¿è¡ç¢éåè¿ç®æ¶ï¼è¦æ±æ°ç»çå½¢ç¶æ¯ç¸ç­çãå½å½¢ç¶ä¸ç¸ç­çæ°ç»æ§è¡ç®æ¯è¿ç®çæ¶åï¼å°±ä¼åºç°å¹¿æ­æºå¶ï¼è¯¥æºå¶ä¼å¯¹æ°ç»è¿è¡æ©å±ï¼ä½¿æ°ç»çshapeå±æ§å¼ä¸æ ·ï¼è¿æ ·ï¼å°±å¯ä»¥è¿è¡ç¢éåè¿ç®äºã\n     a + b # [21,32,43,50]\n     a - 1 # [19,29,39,49]\n     a * 2 # [40,60,80,100]\n     \n     \n     1\n     2\n     3\n     4\n     5\n     6\n     \n\n * ndarray == 10 æ¯æ > = <æ¯è¾è¿ç®ç¬¦ è¿åä¸ºåæ ·ç»´åº¦çå¸å°æ°ç»\n   \n   * na = np.arryay([5,10,15,1])\n     t = na == 10\n     print (na[t])  #å ä¸ºè¿åæ¯å¸å°æ°ç» æä»¥å¯ä»¥æ ¹æ®ç´¢å¼è·åå·ä½å¼\n     print (na[na == 10])\n     \n     \n     1\n     2\n     3\n     4\n     \n\n * æ¯æ é»è¾è¿ç®\n   \n   * na = np.arryay([5,10,15,1])\n     t = (na >= 10) && (na <= 5)\n     \n     \n     1\n     2\n     \n\n * np.exp() å¹³æ¹\n\n * np.sqrt() å¼æ ¹å·\n\n * np.tile(a,(2,2)) å°è¡æ°ååæ°æ©å±ä¸ºæå®åæ° ä¼ éæ°ç»åä¸ä¸ªåç»\n\n\n# å¤æ­å½æ°\n\n * np.all() ææåç´ é½ç¬¦åæ¡ä»¶åè¿åtrue np.all(arry >60 )\n * np.any() æä¸ä¸ªç¬¦ååè¿åtrue\n * np.where(temp > 60, 1, 0) ä¸åè¿ç®ç¬¦ æç«è¿ååæ°2 å¦åè¿ååæ°3\n * ndarray.argmax(axis=) è¿åæå¤§å¼çç´¢å¼\n\n\n# æåº\n\n * ndarray.sort(axis=) æåºé»è®¤ä¸ºååº\n * ndarray.argsort(axis=) æåç´ æåº è¿ååç´ ä¹åçç´¢å¼\n\n\n# ç»è®¡è¿ç®\n\n * ndarray.min(axis) è·åæå°å¼\n\n * ndarray.max(axis) è·åæå¤§å¼\n\n * ndarray.sum(axis=1) æ±å axis=1åä¸ºè¡æ±å axis=0ä¸ºååæ¢\n\n * ndarray.median(axis) è¿åä¸­ä½å¼\n\n * ndarray.mean(axis,dtype) è¿åå¹³åå¼\n\n * ndarray.std(axis,dtype) è¿åæ åå·®\n\n * ndarray.var(axis,dtype) è¿åæ¹å·®\n\n\n# æ­£æåå¸\n\næ­£æåå¸æ¯ä¸ç§æ¦çåå¸ãæ­£æåå¸æ¯å·æä¸¤ä¸ªåæ°Î¼åÏçè¿ç»­åéæºåéçåå¸ï¼ç¬¬ä¸åæ°Î¼æ¯æä»æ­£æåå¸çéæºåéçåå¼ï¼ç¬¬äºä¸ªå æ°Ïæ¯æ­¤éæºåéçæ åå·®ï¼æä»¥æ­£æåå¸è®°ä½N(Î¼ï¼Ï )ã\n\n\n# ç©éµ\n\nç©éµå¿é¡»æ¯äºç»´ç ä½arrayå¯ä»¥æ¯å¤ç»´ç\n\n$$ A= \\left{ \\begin{matrix} a & b & c & d & e\\ f & g & h & i & j \\ k & l & m & n & o \\ p & q & r & s & t \\end{matrix} \\right} $$\n\n\n# åé\n\nåéæ¯ä¸ç§ç¹æ®çç©éµ åéä¸è¬é½æ¯ååé\n\nå¦: (3x1)çç©éµ\n\nåéæ¯ä¸ç»´ç\n\n\n# å æ³åæ éä¹æ³\n\n * å æ³:è¡åæ°ç¸ç­æ¶å¯ä»¥ç¸å \n\n * ä¹æ³: æ (å¸¸)é ä¹ä»¥ ç©éµ ç´æ¥ç¸ä¹ æåæ¥ä½ç½®\n\n * ç©éµåéä¹æ³: (Mè¡,Nå) X (Nè¡,Lå) = (Mè¡,Lå) å¹¶ä¸ NååNè¡ç¸ç­\n\n\n\n * ç©éµä¹æ³:\n\nå³Açç¬¬ä¸è¡ åä¸ªæ° é½ä¹ä»¥Bçç¬¬ä¸ååä¸ªæ° ç¸å  å¾å° Cçç¬¬ä¸è¡ç¬¬ä¸ä¸ªæ°\n\nç¬¬ä¸è¡ åä¸ªæ° é½ä¹ä»¥Bçç¬¬äºååä¸ªæ° ç¸å  å¾å° Cçç¬¬ä¸è¡ç¬¬äºä¸ªæ°\n\n\n# ç©éµä¹æ³çæ§è´¨\n\n * ç©éµä¹æ³ä¸æ»¡è¶³äº¤æ¢å¾ A*B != B*A\n * ç©éµçä¹æ³æ»¡è¶³ç»åå¾: A*(B*C)=(A*B)*C\n * åä½ç©éµ:å¨ç©éµä¹æ³ä¸­ æä¸ç§ç¹æ®ç©éµ ç§°ä¸ºåä½ç©éµ å®æ¯ä¸ªæ¹é ä¸è¬ç¨ I æè Eè¡¨ç¤º ä»å·¦ä¸è§å°å³ä¸è§çå¯¹è§çº¿(ç§°ä¸ºä¸»å¯¹è§çº¿) ä¸çåç´ åä¸ºä¸º1 å¶ä»å¨ä¸º0 å¦æA*B=E é£ä¹ç©éµAåBäºä¸ºéç©éµ\n\n\n\n\n# éãè½¬ç½®\n\n 1. å¾å®ç³»æ°æ³\n\nç»äºä¸ä¸ª2X2çç©éµ æä»¬åè®¾ä¸ä¸ªåæ ·ä¸º2X2çç©éµ [a b] [b c]\n\nA Bç©éµç¸ä¹ è½¬ä¸ºåä½ç©éµ\n\n\n\n\n\næ±åº a b c d çå¼ ,å°±å¯ä»¥å¾åº Açéç©éµ\n\n\n\n 2. ä¼´éç©éµæ±éç©éµ\n\n * ä¼´éç©éµæ¯ç©éµåç´ æå¯¹åºçä»£æ°ä½å­å¼ï¼æææçç©éµï¼è½¬ç½®åå¾å°çæ°ç©éµã\n\n\n\nåç©éµä¸º [1 2]\n\n[-1 -3]\n\nA11 ä¸º ç¬¬ä¸è¡åç¬¬ä¸åçåç´  é½å»æå©ä¸ -3 åå ä¸ºA11ä¸º 1+1=2 ä¸ºå¶æ°æ¯æ´æ° 1*-3=-3 A11=-3\n\nA12 ä¸º ç¬¬ä¸è¡åç¬¬äºåçåç´  é½å»æå©ä¸ -1 åå ä¸ºA12ä¸º 1+2=3 ä¸ºå¥æ° æä»¥ä¸ºè´å· A12=-(-1)=1\n\nA21 ä¸º ç¬¬äºè¡åç¬¬ä¸åçåç´  é½å»æå©ä¸ 2 2+1ä¸ºå¥æ° A21=-(2)=-2\n\nA22 ä¸º ç¬¬äºè¡åç¬¬äºåçåç´  é½å»æå©ä¸ 1 ä¸ºå¶æ° A22=1\n\nå¾åº[-3 1] çç©éµ è¿è¡è½¬ç½®å³è¡ååæ¢ç¬¬ä¸è¡åå®¹åæç¬¬ä¸ååå®¹ åæ [-3 -2]\n\n[-2 1] ç¬¬äºè¡åå®¹åæç¬¬äºååå®¹ [1 1]\n\næ¥ä¸æ¥æ±åºç©éµAçè¡åå¼\n\n * è¡åå¼\n\näºé¶è¡åå¼çè®¡ç®æ¹æ³æ¯âå¯¹è§çº¿æ³åâ ä¸»å¯¹è§çº¿åç´ ç§¯ä¸å¯å¯¹è§çº¿åç´ ç§¯çå·®\n\n\n\näºé¶è¡åå¼å¹¶ä¸éåä¸é¶ä½¿ç¨\n\næ­£å¯¹è§çº¿ä¸ºæ­£ï¼åå¯¹è§çº¿ä¸ºè´ã\n\n\n\nxsc + yt*a + ra* z - zsa - yr*c - tb* x\n\nç±è¡åå·æ§è´¨å¾åº\n\n|A|1*(-1)-(-1)*2=-1\n\nAâ»Â¹=A*/|A| = A*/(-1)=-A* = [3 2]\n\n[-1 -1]\n\n 3. åç­åæ¢æ±éç©éµ\n\né¦åæä»¬å¾åºAçå¢å¹¿ç©éµ\n\n\n\nç¶åè¿è¡åç­è¡åæ¢ãä¾æ¬¡è¿è¡\n\nç¬¬1è¡å å°ç¬¬2è¡ï¼å¾å°\n\nç¬¬2è¡Ã2å å°ç¬¬1è¡ï¼å¾å°\n\nç¬¬2è¡Ã(-1)ï¼å¾å°\n\n\n\nå æ­¤éç©éµAâ»Â¹=\n\n3 2\n\n-1 -1\n\n\n\n# è½¬ç½®\n\nå³å°ç©éµçè¡åäºæ¢\n\n\n\n\n# npæ¹æ³\n\n * np.matmul()\n   \n   * a = np.array([[80, 86], [82, 80], [85, 78], [90, 90],\n                  [86, 82], [82, 90]])  # æ¯çå¤è¡2åçç©éµ\n     b = np.array([[0.7], [0.3]])  # ä¸¤è¡ä¸åçç©éµ\n     np.matmul(a, b)  # è½¬ä¸ºMè¡Lå å³å¤è¡ä¸å\n     \n     \n     1\n     2\n     3\n     4\n     \n\n * np.dot()\n   \n   * #np.matmul(a, 10) #åªæ¯æç©éµç¸ä¹\n     np.dot(a, 10)  # matmulådotåè½ä¸è´ ä½dotæ¯æç¹ä¹  æ éè¿ç® matmulä¸æ¯æç¹ä¹\n     \n     \n     1\n     2\n     ',normalizedContent:'# numpy\n\nå¼æºçpythonç§å­¦è®¡ç®åº ç¨äºå¿«éå¤çä»»æç»´åº¦çæ°ç» npmpyä¸­å­å¨å¯¹è±¡æ¯ndarray\n\nä¼å¿:\n\n 1. åå®¹åé£æ ¼\n 2. æ¯æå¹¶è¡åè¿ç®\n 3. æçé«äºçº¯python\n 4. åºå±ä½¿ç¨äºc,åé¨éæ¾äºgil\n\n * np.array([]) åå»ºnpæ°ç» è¿åndarrayå¯¹è±¡\n\n\n# è¯»åæ°æ®\n\nnp.genfromtxt("xxx.txt",delimiter=",",dtype=str) # ä»txtä¸­è¯»åæ°æ®\n\n\n1\n\n\n\n# æ°ç»è½¬ndarray\n\nå°æ°ç»æèå¤ç»´æ°ç»è½¬ä¸ºnpæ°ç»\n\nnp.arryay([5,10,15,1])\nndarray = np.arryay([[5,10,15,1],[15,2,5,3]])\n\n\n1\n2\n\n * åè¡¨ä¸­åç´ ä¼èªå¨è½¬æ¢ä¸ºåä¸ç±» ä¸è¬å¨é¨ç»ä¸ä¸ºä¸ä¸ªç±»å\n * æ¯ä¸ªåç´ å åç´ æ°å¿é¡»ç¸å\n\n\n# ndarrayæ°ç»æ¹æ³\n\n * ndarray.shape æ°ç»ç»´åº¦åç»´åº¦åç´ ä¸ªæ°çåç»\n * ndarray.ndim æ°ç»ç»´æ°\n * ndarray.size æ°ç»ä¸­å¨é¨çåç´ æ°é\n * ndarray.itemsize ä¸ä¸ªæ°ç»åç´ çé¿åº¦(å­è)\n * ndarray.floor() å°æ°ç»ä¸­åç´ åä¸åæ´\n * ndarray.dtype æ°ç»åç´ çç±»å\n   * \n\n\n# ndarrayæ°ç»çææ¹æ³\n\n * np.arange(15,30,5) åå»ºç­å·®æ°ç» çæä¸ä¸ªnpæ°ç»ä»15å°30 æ­¥è¿ä¸º5ä¸ª é»è®¤ä¸º1ç»´\n * p.logspace(start,stop, num) åå»ºç­æ¯æ°å é»è®¤çæ50ä¸ªnum p.logspace(0,2, 3) ä»10ç0æ¬¡æ¹å°10ç2æ¬¡æ¹ çæ3ä¸ªåç´  é»è®¤ä¸º50ä¸ª\n * np.zeros((3,4)) çæä¸ä¸ªå¨ä¸º0çnpæ°ç» 3è¡4å\n * np.zeros_like(a, dtype) å¤å¶å½åæ°ç»çç»´åº¦åè¡åæ° çæä¸ä¸ªå¨ä¸º0çæ°ç»\n * np.ones((2,3,4), dtype=np.int32) çæå¨ä¸ºä¸çæ°ç» äºç»´ä¸è¡4å é»è®¤ä¸ºfloat64ç±»å zerosä¹æ¯\n * np.ones_like(a, dtype) å¤å¶å½åæ°ç»çç»´åº¦åè¡åæ° çæä¸ä¸ªå¨ä¸º1çæ°ç»\n * np.random.random((2,3)) å¤å°ä¸ªrandomå°±æ¯å¤ç»´ çæä¸ä¸ªä¸¤è¡ä¸åçæ°ç» åå¼ä¸º(-1,1)\n * np.linspace(0,5,100) çæä¸ä¸ª0-5 ä¹é´å¹³åå100ä¸ªå¼\n\n\n# æ°ç»çç´¢å¼ååç\n\n * ndarray[s,r] æ ¹æ®ç»´åº¦åç´¢å¼ è·åå¼\n * ndarray[0:] æ¯æåç\n\n\n# å½¢ç¶ä¿®æ¹\n\n * ndarray.reshape(shape, order) å°åæ°ç» è½¬ä¸ºä¸ºæå®çè¡å\n   \n   * stock_change = np.random.normal(0, 1, (8, 10))\n     stock_change.reshape([10,8])  #å°è¡åäºæ¢äº  reshapeæ¹æ³å¹¶ä¸ä¼ä¿®æ¹åç´ çä¸ªæ°åäº§çæ°çåç´ \n     stock_change.reshape([-1,2])  #å¦æä¸ç¥éå·ä½çè¡æåå¯ä»¥ä½¿ç¨-1ä»£æ¿ èªå¨è®¡ç®   å¦è¿éç ä¸ç¥éå¤å°è¡ æ¯ä¸ªè¡2ä¸ªæ°æ®\n     #ä¸å®è¦æ´é¤ å¦åæ¥é\n     \n     \n     1\n     2\n     3\n     4\n     \n\n * ndarray.resize(new_shape) reshapeå¹¶ä¸ä¼å¯¹åæ°ç»è¿è¡ä¿®æ¹ èäº§çæ°æ°ç» æä»¬ä½¿ç¨resizeå¯ä»¥å¯¹åæ°ç»è¿è¡ä¿®æ¹\n\n * ndarray.revel() å°æ°ç»åæä¸ç»´ å°å¨é¨åç´ å­æ¾ä¸ºæ°ç»ä¸­\n\n * ndarray.t å°æ°ç»çè¡ãåè¿è¡äºæ¢\n\n\n# æ°ç»æ¼æ¥\n\n * np.hstack((a,b)) å°ä¸¤æ°ç»ç¸è¿æ¥\n * np.vstack((a,b)) å°ä¸¤æ°ç»çºµåæ¼æ¥\n\n\n# æ°ç»åå\n\n * np.hshplit(a,3) å°æå®æ°ç»å¹³åæåæ3ä¸ªnpæ°ç» è¡çæå åæ°ä¸å\n * np.hshplit(a,(3,4)) å¦æä¼ éåç»åå¨æå®ç´¢å¼ä¸ æå å¨ç¬¬3åæå1ä¸ª å¨ç¬¬4åæå1ä¸ª å¶ä»æåä¸º1ä¸ª\n * np.vshplit(a,3) åæå è¡ä¸å\n * np.hshplit(a,(3,4)) å¨æå®åæ°æå\n\n\n# ç±»åä¿®æ¹\n\n * ndarray.astype(flaot) è½¬æ¢åç´ ç±»å\n   \n   * df[\'éçæ°\'] = df[\'éçæ°\'].fillna("0").astype(int) #åæ¿æ¢ç¼ºå¤±å¼\n     \n     \n     1\n     \n\n * ndarray.tostring([order]) è½¬ä¸ºå­ç¬¦ä¸²è¾åº\n\n * ndarray.tobytes([order]) è½¬ä¸ºå­èæ°ç»\n\n\n# å¤å¶\n\n * np.array(object, dtype) å°æ°ç»è½¬ä¸ºnpæ°ç» æ·±æ·è´\n * np.asarray(a, dtype) æµæ·è´\n * ndarray.copy() æµæ·è´\n * ndarray.view() æ·±æ·è´\n\n\n# æ°ç»çå»é\n\n * np.unique(nparray) å»é\n\n\n# æ°ç»è¿ç®\n\n * npæ°ç»æ¯æä¸¤ä¸ªnpæ°ç» ä¹é´è¿ç® åæ¶æ¯æä¸å¸¸æ°è¿ç®\n   \n   * a = np.array([20,30,40,50])\n     b = np.array([1,2,3])\n     #æ°ç»å¨è¿è¡ç¢éåè¿ç®æ¶ï¼è¦æ±æ°ç»çå½¢ç¶æ¯ç¸ç­çãå½å½¢ç¶ä¸ç¸ç­çæ°ç»æ§è¡ç®æ¯è¿ç®çæ¶åï¼å°±ä¼åºç°å¹¿æ­æºå¶ï¼è¯¥æºå¶ä¼å¯¹æ°ç»è¿è¡æ©å±ï¼ä½¿æ°ç»çshapeå±æ§å¼ä¸æ ·ï¼è¿æ ·ï¼å°±å¯ä»¥è¿è¡ç¢éåè¿ç®äºã\n     a + b # [21,32,43,50]\n     a - 1 # [19,29,39,49]\n     a * 2 # [40,60,80,100]\n     \n     \n     1\n     2\n     3\n     4\n     5\n     6\n     \n\n * ndarray == 10 æ¯æ > = <æ¯è¾è¿ç®ç¬¦ è¿åä¸ºåæ ·ç»´åº¦çå¸å°æ°ç»\n   \n   * na = np.arryay([5,10,15,1])\n     t = na == 10\n     print (na[t])  #å ä¸ºè¿åæ¯å¸å°æ°ç» æä»¥å¯ä»¥æ ¹æ®ç´¢å¼è·åå·ä½å¼\n     print (na[na == 10])\n     \n     \n     1\n     2\n     3\n     4\n     \n\n * æ¯æ é»è¾è¿ç®\n   \n   * na = np.arryay([5,10,15,1])\n     t = (na >= 10) && (na <= 5)\n     \n     \n     1\n     2\n     \n\n * np.exp() å¹³æ¹\n\n * np.sqrt() å¼æ ¹å·\n\n * np.tile(a,(2,2)) å°è¡æ°ååæ°æ©å±ä¸ºæå®åæ° ä¼ éæ°ç»åä¸ä¸ªåç»\n\n\n# å¤æ­å½æ°\n\n * np.all() ææåç´ é½ç¬¦åæ¡ä»¶åè¿åtrue np.all(arry >60 )\n * np.any() æä¸ä¸ªç¬¦ååè¿åtrue\n * np.where(temp > 60, 1, 0) ä¸åè¿ç®ç¬¦ æç«è¿ååæ°2 å¦åè¿ååæ°3\n * ndarray.argmax(axis=) è¿åæå¤§å¼çç´¢å¼\n\n\n# æåº\n\n * ndarray.sort(axis=) æåºé»è®¤ä¸ºååº\n * ndarray.argsort(axis=) æåç´ æåº è¿ååç´ ä¹åçç´¢å¼\n\n\n# ç»è®¡è¿ç®\n\n * ndarray.min(axis) è·åæå°å¼\n\n * ndarray.max(axis) è·åæå¤§å¼\n\n * ndarray.sum(axis=1) æ±å axis=1åä¸ºè¡æ±å axis=0ä¸ºååæ¢\n\n * ndarray.median(axis) è¿åä¸­ä½å¼\n\n * ndarray.mean(axis,dtype) è¿åå¹³åå¼\n\n * ndarray.std(axis,dtype) è¿åæ åå·®\n\n * ndarray.var(axis,dtype) è¿åæ¹å·®\n\n\n# æ­£æåå¸\n\næ­£æåå¸æ¯ä¸ç§æ¦çåå¸ãæ­£æåå¸æ¯å·æä¸¤ä¸ªåæ°Î¼åÏçè¿ç»­åéæºåéçåå¸ï¼ç¬¬ä¸åæ°Î¼æ¯æä»æ­£æåå¸çéæºåéçåå¼ï¼ç¬¬äºä¸ªå æ°Ïæ¯æ­¤éæºåéçæ åå·®ï¼æä»¥æ­£æåå¸è®°ä½n(Î¼ï¼Ï )ã\n\n\n# ç©éµ\n\nç©éµå¿é¡»æ¯äºç»´ç ä½arrayå¯ä»¥æ¯å¤ç»´ç\n\n$$ a= \\left{ \\begin{matrix} a & b & c & d & e\\ f & g & h & i & j \\ k & l & m & n & o \\ p & q & r & s & t \\end{matrix} \\right} $$\n\n\n# åé\n\nåéæ¯ä¸ç§ç¹æ®çç©éµ åéä¸è¬é½æ¯ååé\n\nå¦: (3x1)çç©éµ\n\nåéæ¯ä¸ç»´ç\n\n\n# å æ³åæ éä¹æ³\n\n * å æ³:è¡åæ°ç¸ç­æ¶å¯ä»¥ç¸å \n\n * ä¹æ³: æ (å¸¸)é ä¹ä»¥ ç©éµ ç´æ¥ç¸ä¹ æåæ¥ä½ç½®\n\n * ç©éµåéä¹æ³: (mè¡,nå) x (nè¡,lå) = (mè¡,lå) å¹¶ä¸ nåånè¡ç¸ç­\n\n\n\n * ç©éµä¹æ³:\n\nå³açç¬¬ä¸è¡ åä¸ªæ° é½ä¹ä»¥bçç¬¬ä¸ååä¸ªæ° ç¸å  å¾å° cçç¬¬ä¸è¡ç¬¬ä¸ä¸ªæ°\n\nç¬¬ä¸è¡ åä¸ªæ° é½ä¹ä»¥bçç¬¬äºååä¸ªæ° ç¸å  å¾å° cçç¬¬ä¸è¡ç¬¬äºä¸ªæ°\n\n\n# ç©éµä¹æ³çæ§è´¨\n\n * ç©éµä¹æ³ä¸æ»¡è¶³äº¤æ¢å¾ a*b != b*a\n * ç©éµçä¹æ³æ»¡è¶³ç»åå¾: a*(b*c)=(a*b)*c\n * åä½ç©éµ:å¨ç©éµä¹æ³ä¸­ æä¸ç§ç¹æ®ç©éµ ç§°ä¸ºåä½ç©éµ å®æ¯ä¸ªæ¹é ä¸è¬ç¨ i æè eè¡¨ç¤º ä»å·¦ä¸è§å°å³ä¸è§çå¯¹è§çº¿(ç§°ä¸ºä¸»å¯¹è§çº¿) ä¸çåç´ åä¸ºä¸º1 å¶ä»å¨ä¸º0 å¦æa*b=e é£ä¹ç©éµaåbäºä¸ºéç©éµ\n\n\n\n\n# éãè½¬ç½®\n\n 1. å¾å®ç³»æ°æ³\n\nç»äºä¸ä¸ª2x2çç©éµ æä»¬åè®¾ä¸ä¸ªåæ ·ä¸º2x2çç©éµ [a b] [b c]\n\na bç©éµç¸ä¹ è½¬ä¸ºåä½ç©éµ\n\n\n\n\n\næ±åº a b c d çå¼ ,å°±å¯ä»¥å¾åº açéç©éµ\n\n\n\n 2. ä¼´éç©éµæ±éç©éµ\n\n * ä¼´éç©éµæ¯ç©éµåç´ æå¯¹åºçä»£æ°ä½å­å¼ï¼æææçç©éµï¼è½¬ç½®åå¾å°çæ°ç©éµã\n\n\n\nåç©éµä¸º [1 2]\n\n[-1 -3]\n\na11 ä¸º ç¬¬ä¸è¡åç¬¬ä¸åçåç´  é½å»æå©ä¸ -3 åå ä¸ºa11ä¸º 1+1=2 ä¸ºå¶æ°æ¯æ´æ° 1*-3=-3 a11=-3\n\na12 ä¸º ç¬¬ä¸è¡åç¬¬äºåçåç´  é½å»æå©ä¸ -1 åå ä¸ºa12ä¸º 1+2=3 ä¸ºå¥æ° æä»¥ä¸ºè´å· a12=-(-1)=1\n\na21 ä¸º ç¬¬äºè¡åç¬¬ä¸åçåç´  é½å»æå©ä¸ 2 2+1ä¸ºå¥æ° a21=-(2)=-2\n\na22 ä¸º ç¬¬äºè¡åç¬¬äºåçåç´  é½å»æå©ä¸ 1 ä¸ºå¶æ° a22=1\n\nå¾åº[-3 1] çç©éµ è¿è¡è½¬ç½®å³è¡ååæ¢ç¬¬ä¸è¡åå®¹åæç¬¬ä¸ååå®¹ åæ [-3 -2]\n\n[-2 1] ç¬¬äºè¡åå®¹åæç¬¬äºååå®¹ [1 1]\n\næ¥ä¸æ¥æ±åºç©éµaçè¡åå¼\n\n * è¡åå¼\n\näºé¶è¡åå¼çè®¡ç®æ¹æ³æ¯âå¯¹è§çº¿æ³åâ ä¸»å¯¹è§çº¿åç´ ç§¯ä¸å¯å¯¹è§çº¿åç´ ç§¯çå·®\n\n\n\näºé¶è¡åå¼å¹¶ä¸éåä¸é¶ä½¿ç¨\n\næ­£å¯¹è§çº¿ä¸ºæ­£ï¼åå¯¹è§çº¿ä¸ºè´ã\n\n\n\nxsc + yt*a + ra* z - zsa - yr*c - tb* x\n\nç±è¡åå·æ§è´¨å¾åº\n\n|a|1*(-1)-(-1)*2=-1\n\naâ»Â¹=a*/|a| = a*/(-1)=-a* = [3 2]\n\n[-1 -1]\n\n 3. åç­åæ¢æ±éç©éµ\n\né¦åæä»¬å¾åºaçå¢å¹¿ç©éµ\n\n\n\nç¶åè¿è¡åç­è¡åæ¢ãä¾æ¬¡è¿è¡\n\nç¬¬1è¡å å°ç¬¬2è¡ï¼å¾å°\n\nç¬¬2è¡Ã2å å°ç¬¬1è¡ï¼å¾å°\n\nç¬¬2è¡Ã(-1)ï¼å¾å°\n\n\n\nå æ­¤éç©éµaâ»Â¹=\n\n3 2\n\n-1 -1\n\n\n\n# è½¬ç½®\n\nå³å°ç©éµçè¡åäºæ¢\n\n\n\n\n# npæ¹æ³\n\n * np.matmul()\n   \n   * a = np.array([[80, 86], [82, 80], [85, 78], [90, 90],\n                  [86, 82], [82, 90]])  # æ¯çå¤è¡2åçç©éµ\n     b = np.array([[0.7], [0.3]])  # ä¸¤è¡ä¸åçç©éµ\n     np.matmul(a, b)  # è½¬ä¸ºmè¡lå å³å¤è¡ä¸å\n     \n     \n     1\n     2\n     3\n     4\n     \n\n * np.dot()\n   \n   * #np.matmul(a, 10) #åªæ¯æç©éµç¸ä¹\n     np.dot(a, 10)  # matmulådotåè½ä¸è´ ä½dotæ¯æç¹ä¹  æ éè¿ç® matmulä¸æ¯æç¹ä¹\n     \n     \n     1\n     2\n     ',charsets:{cjk:!0},lastUpdated:"2022/03/18, 07:01:11",lastUpdatedTimestamp:1647558071e3},{title:"Pandas",frontmatter:{title:"Pandas",date:"2022-03-18T00:53:49.000Z",permalink:"/pages/3f7274/",categories:["åç«¯","æºå¨å­¦ä¹ "],tags:[null]},regularPath:"/%E5%90%8E%E7%AB%AF/08.%E6%9C%BA%E5%99%A8%E5%AD%A6%E4%B9%A0/04.Pandas.html",relativePath:"åç«¯/08.æºå¨å­¦ä¹ /04.Pandas.md",key:"v-c631dd4e",path:"/pages/3f7274/",headers:[{level:2,title:"Series",slug:"series",normalizedTitle:"series",charIndex:60},{level:3,title:"åå»º",slug:"åå»º",normalizedTitle:"åå»º",charIndex:145},{level:3,title:"å±æ§",slug:"å±æ§",normalizedTitle:"å±æ§",charIndex:560},{level:2,title:"DataFrame",slug:"dataframe",normalizedTitle:"dataframe",charIndex:698},{level:3,title:"åå»º",slug:"åå»º-2",normalizedTitle:"åå»º",charIndex:145},{level:3,title:"å±æ§åæ¥ç",slug:"å±æ§åæ¥ç",normalizedTitle:"å±æ§åæ¥ç",charIndex:1847},{level:2,title:"ååä¿®æ¹",slug:"ååä¿®æ¹",normalizedTitle:"ååä¿®æ¹",charIndex:3607},{level:2,title:"ååæ ¼æä½",slug:"ååæ ¼æä½",normalizedTitle:"ååæ ¼æä½",charIndex:3960},{level:3,title:"è¯»å",slug:"è¯»å",normalizedTitle:"è¯»å",charIndex:3970},{level:3,title:"èµå¼",slug:"èµå¼",normalizedTitle:"èµå¼",charIndex:4455},{level:3,title:"æ¿æ¢å¼",slug:"æ¿æ¢å¼",normalizedTitle:"æ¿æ¢å¼",charIndex:4768},{level:2,title:"ç´¢å¼éç½®åè®¾ç½®",slug:"ç´¢å¼éç½®åè®¾ç½®",normalizedTitle:"ç´¢å¼éç½®åè®¾ç½®",charIndex:5068},{level:2,title:"å¢å ååè¡",slug:"å¢å ååè¡",normalizedTitle:"å¢å ååè¡",charIndex:6156},{level:2,title:"å é¤åæè¡",slug:"å é¤åæè¡",normalizedTitle:"å é¤åæè¡",charIndex:6704},{level:2,title:"æåº",slug:"æåº",normalizedTitle:"æåº",charIndex:7096},{level:3,title:"DataFrame",slug:"dataframe-2",normalizedTitle:"dataframe",charIndex:698},{level:3,title:"Series",slug:"series-2",normalizedTitle:"series",charIndex:60},{level:2,title:"è¿ç®",slug:"è¿ç®",normalizedTitle:"è¿ç®",charIndex:7629},{level:2,title:"æ°æ®ç­é",slug:"æ°æ®ç­é",normalizedTitle:"æ°æ®ç­é",charIndex:8725},{level:3,title:"ç­éå",slug:"ç­éå",normalizedTitle:"ç­éå",charIndex:8734},{level:3,title:"ç­éè¡",slug:"ç­éè¡",normalizedTitle:"ç­éè¡",charIndex:8974},{level:3,title:"ç»å",slug:"ç»å",normalizedTitle:"ç»å",charIndex:8932},{level:2,title:"èªå®ä¹å½æ°",slug:"èªå®ä¹å½æ°",normalizedTitle:"èªå®ä¹å½æ°",charIndex:9698},{level:2,title:"Pandasç»å¾",slug:"pandasç»å¾",normalizedTitle:"pandasç»å¾",charIndex:10015},{level:2,title:"è¯»ååä¿å­",slug:"è¯»ååä¿å­",normalizedTitle:"è¯»ååä¿å­",charIndex:10151},{level:2,title:"set_option éæ©è®¾ç½®",slug:"set-option-éæ©è®¾ç½®",normalizedTitle:"set_option éæ©è®¾ç½®",charIndex:13366},{level:2,title:"reset_option",slug:"reset-option",normalizedTitle:"reset_option",charIndex:14596},{level:2,title:"style",slug:"style",normalizedTitle:"style",charIndex:14972},{level:2,title:"ç¼ºå¤±å¼å¤ç",slug:"ç¼ºå¤±å¼å¤ç",normalizedTitle:"ç¼ºå¤±å¼å¤ç",charIndex:18228},{level:3,title:"å¤æ­ç¼ºå¤±å¼",slug:"å¤æ­ç¼ºå¤±å¼",normalizedTitle:"å¤æ­ç¼ºå¤±å¼",charIndex:18238},{level:3,title:"æ¿æ¢åæ¿æ¢ç¼ºå¤±å¼ææ è®°å¼",slug:"æ¿æ¢åæ¿æ¢ç¼ºå¤±å¼ææ è®°å¼",normalizedTitle:"æ¿æ¢åæ¿æ¢ç¼ºå¤±å¼ææ è®°å¼",charIndex:19094},{level:3,title:"ç¼ºå¤±å¼è½¬æ¢",slug:"ç¼ºå¤±å¼è½¬æ¢",normalizedTitle:"ç¼ºå¤±å¼è½¬æ¢",charIndex:20228},{level:3,title:"ç¼ºå¤±å¼æ è®°",slug:"ç¼ºå¤±å¼æ è®°",normalizedTitle:"ç¼ºå¤±å¼æ è®°",charIndex:11334},{level:3,title:"ç¼ºå¤±å¼å¿½ç¥",slug:"ç¼ºå¤±å¼å¿½ç¥",normalizedTitle:"ç¼ºå¤±å¼å¿½ç¥",charIndex:20424},{level:2,title:"æ°æ®ç¦»æ£å",slug:"æ°æ®ç¦»æ£å",normalizedTitle:"æ°æ®ç¦»æ£å",charIndex:20511},{level:3,title:"one-hotç¼ç ",slug:"one-hotç¼ç ",normalizedTitle:"one-hotç¼ç ",charIndex:21389},{level:2,title:"æ°æ®åå¹¶",slug:"æ°æ®åå¹¶",normalizedTitle:"æ°æ®åå¹¶",charIndex:21525},{level:3,title:"concat",slug:"concat",normalizedTitle:"concat",charIndex:6081},{level:3,title:"merge",slug:"merge",normalizedTitle:"merge",charIndex:22630},{level:3,title:"join ç»å",slug:"join-ç»å",normalizedTitle:"join ç»å",charIndex:23841},{level:2,title:"äº¤åè¡¨ä¸éè§è¡¨",slug:"äº¤åè¡¨ä¸éè§è¡¨",normalizedTitle:"äº¤åè¡¨ä¸éè§è¡¨",charIndex:24272},{level:2,title:"åç»ä¸èå",slug:"åç»ä¸èå",normalizedTitle:"åç»ä¸èå",charIndex:25898},{level:3,title:"åç»å¯è§å",slug:"åç»å¯è§å",normalizedTitle:"åç»å¯è§å",charIndex:29554},{level:2,title:"æ¶é´å¤ç",slug:"æ¶é´å¤ç",normalizedTitle:"æ¶é´å¤ç",charIndex:30128},{level:2,title:"å»é",slug:"å»é",normalizedTitle:"å»é",charIndex:3336},{level:2,title:"ç­åå¾",slug:"ç­åå¾",normalizedTitle:"ç­åå¾",charIndex:31242},{level:2,title:"ç­åå°å¾",slug:"ç­åå°å¾",normalizedTitle:"ç­åå°å¾",charIndex:31656},{level:2,title:"ç´æ¹å¾",slug:"ç´æ¹å¾",normalizedTitle:"ç´æ¹å¾",charIndex:10100}],headersStr:"Series åå»º å±æ§ DataFrame åå»º å±æ§åæ¥ç ååä¿®æ¹ ååæ ¼æä½ è¯»å èµå¼ æ¿æ¢å¼ ç´¢å¼éç½®åè®¾ç½® å¢å ååè¡ å é¤åæè¡ æåº DataFrame Series è¿ç® æ°æ®ç­é ç­éå ç­éè¡ ç»å èªå®ä¹å½æ° Pandasç»å¾ è¯»ååä¿å­ set_option éæ©è®¾ç½® reset_option style ç¼ºå¤±å¼å¤ç å¤æ­ç¼ºå¤±å¼ æ¿æ¢åæ¿æ¢ç¼ºå¤±å¼ææ è®°å¼ ç¼ºå¤±å¼è½¬æ¢ ç¼ºå¤±å¼æ è®° ç¼ºå¤±å¼å¿½ç¥ æ°æ®ç¦»æ£å one-hotç¼ç  æ°æ®åå¹¶ concat merge join ç»å äº¤åè¡¨ä¸éè§è¡¨ åç»ä¸èå åç»å¯è§å æ¶é´å¤ç å»é ç­åå¾ ç­åå°å¾ ç´æ¹å¾",content:"# Pandas\n\nPandas ä»¥Numpyä¸ºåºç¡ å matplotlib å¼æºçæ°æ®ææåº ç¨äºæ°æ®æ¢ç´¢\n\n\n# Series\n\nSeriesæ¯ä¸ä¸ªç±»ä¼¼äºä¸ç»´æ°ç»çæ°æ®ç»æï¼å®è½å¤ä¿å­ä»»ä½ç±»åçæ°æ®ï¼æ¯å¦æ´æ°ãå­ç¬¦ä¸²ãæµ®ç¹æ°ç­ï¼ä¸»è¦ç±ä¸ç»æ°æ®åä¸ä¹ç¸å³çç´¢å¼ä¸¤ é¨åææ\n\n\n\n\n# åå»º\n\n * pd.Series(data=None, index=None, dtype=None)\n   \n   * dataï¼ä¼ å¥çæ°æ®ï¼å¯ä»¥æ¯ndarrayãlistç­\n   * indexï¼ç´¢å¼ï¼å¿é¡»æ¯å¯ä¸çï¼ä¸ä¸æ°æ®çé¿åº¦ç¸ç­ãå¦ææ²¡æä¼ å¥ç´¢å¼åæ°ï¼åé»è®¤ä¼èªå¨åå»ºä¸ä¸ªä»0-Nçæ´æ°ç´¢å¼ã\n   * dtypeï¼æ°æ®çç±»å\n   \n   pd.Series(np.arange(10))\n   \n   \n   1\n   \n\n * æå®ç´¢å¼\n   \n   pd.Series([6.7,5.6,3,10,2], index=[1,2,3,4,5])\n   \n   \n   1\n   \n\n * éè¿å­å¸åå»º\n   \n   color_count = pd.Series({'red':100, 'blue':200, 'green': 500, 'yellow':1000})\n   \n   \n   1\n   \n\n\n# å±æ§\n\n * color_count.index è¿åè¡ç´¢å¼\n * color_count.values è¿åä¸ä¸ªnpæ°ç» å­æ¾ä¸ºåå¼\n * color_count.tolist() è¿åä¸ä¸ªnpæ°ç» å­æ¾ä¸ºåå¼\n * color_count[n] éè¿ç´¢å¼æ¥è·åå¼\n\n\n# DataFrame\n\nDataFrameæ¯ä¸ä¸ªç±»ä¼¼äºäºç»´æ°ç»æè¡¨æ ¼(å¦excel)çå¯¹è±¡ï¼æ¢æè¡ç´¢å¼ï¼åæåç´¢å¼\n\n 1. è¡ç´¢å¼ï¼è¡¨æä¸åè¡ï¼æ¨ªåç´¢å¼ï¼å«indexï¼0è½´ï¼axis=0\n 2. åç´¢å¼ï¼è¡¨åä¸ååï¼çºµåç´¢å¼ï¼å«columnsï¼1è½´ï¼axis=1\n\n\n# åå»º\n\n * åå»ºDataFrame éè¦ä¼ éä¸ä¸ªndarrayå¯¹è±¡\n   \n   * stock_change = np.random.normal(0, 1, (10, 5))\n     #å¯¼å¥npæ°æ®\n     df = pd.DataFrame(stock_change)\n     #æ ¹æ®è¡æ°çæè¡ç´¢å¼\n     stock_code = [\"è¡ç¥¨{}\".format(i+1) for i in range(stock_rise.shape[0])]\n     #ä¿®æ¹è¡ç´¢å¼åç§°\n     pd.DataFrame(stock_change,index=stock_code)\n     #çææ¶é´åºå\n     #date_range(start=None,end=None,periods=None,freq=\"B\")\n     #startå¼å§æ¶é´ endç»ææ¶é´ periodsæ¶é´å¤©æ° freqéè¿åä½é»è®¤ä¸ºä¸å°   Bä¸ºç¥è¿å¨æ«\n     date = pd.date_range(start=\"20211020\",periods=stock_rise.shape[1],freq=\"B\")\n     \n     #æ·»å åç´¢å¼åç§°\n     stock_c = pd.DataFrame(stock_change,index=stock_code,columns=date)\n     \n     \n     1\n     2\n     3\n     4\n     5\n     6\n     7\n     8\n     9\n     10\n     11\n     12\n     13\n     14\n     \n\n * å¢å è¡ãåç´¢å¼\n   \n   * # æé è¡ç´¢å¼åºå\n     subjects = [\"è¯­æ\", \"æ°å­¦\", \"è±è¯­\", \"æ¿æ²»\", \"ä½è²\"]\n     # æé åç´¢å¼åºå\n     stu = ['åå­¦' + str(i) for i in range(score_df.shape[0])]\n     # æ·»å è¡ç´¢å¼\n     data = pd.DataFrame(score, columns=subjects, index=stu)\n     \n     \n     1\n     2\n     3\n     4\n     5\n     6\n     \n\n\n# å±æ§åæ¥ç\n\n * df.shape æ¥çå è¡å å\n   \n   * #æ¥çå è¡å å\n     stock_rise.shape\n     #æ¥çè¡\n     stock_rise.shape[0]\n     #æ¥çå\n     stock_rise.shape[1]\n     \n     \n     1\n     2\n     3\n     4\n     5\n     6\n     \n\n * df.index æ¥è¯¢è¡ç´¢å¼åè¡¨\n\n * df.columns æ¥çå½ådfçåååè¡¨\n\n * df.values æ¥è¯¢æææ°æ® è¿åä¸ºä¸ä¸ªnpæ°ç»\n\n * df.sample(n) éæºæ¥çnæ¡æ°æ® é»è®¤ä¸º1æ¡\n   \n   * df.sample(5)\n     \n     \n     1\n     \n\n * df.head() æ¥çå5è¡ å¯ä¼ éæå®è¡æ°\n   \n   * df.head(12)\n     \n     \n     1\n     \n\n * df.tail() å5è¡ å¯ä¼ éæå®è¡æ°\n\n * df.info() æ¥çæ°æ®åºæ¬ä¿¡æ¯\n   \n   * df.info()\n     \n     <class 'pandas.core.frame.DataFrame'>\n     RangeIndex: 262 entries, 0 to 261\n     Data columns (total 11 columns):\n      #   Column  Non-Null Count  Dtype  \n     ---  ------  --------------  -----  \n      0   çå      262 non-null    object \n      1   ä¸æ å¹´ä»½    262 non-null    int64  \n      2   è¯å      257 non-null    float64\n      3   è¯ä»·äººæ°    259 non-null    float64\n      4   å¯¼æ¼      262 non-null    object \n      5   ç¼å§      262 non-null    object \n      6   ä¸»æ¼      262 non-null    object \n      7   ç±»å      262 non-null    object \n      8   å½å®¶/å°åº   256 non-null    object \n      9   è¯­è¨      256 non-null    object \n      10  æ¶é¿(åé)  256 non-null    float64\n     dtypes: float64(3), int64(1), object(7)\n     memory usage: 22.6+ KB\n     \n     \n     1\n     2\n     3\n     4\n     5\n     6\n     7\n     8\n     9\n     10\n     11\n     12\n     13\n     14\n     15\n     16\n     17\n     18\n     19\n     20\n     \n\n * df.describe() æ¥çæ°æ®ç»è®¡ä¿¡æ¯ï½æ´ä½\n   \n   * df.describe(include='all')  #é»è®¤ä¸åå« uniqueå»éåæ°æ®é  topåºç°é¢çæé«ç  freqé¢çè®¡æ°\n     df.describe().round(2).T #ä¿ç2ä¸ºå°æ° å¹¶è¿è¡è¡åäºæ¢ æ¹ä¾¿æ¥ç\n     \n     \n     1\n     2\n     \n   \n   * \n\n * df.dtypes æ¥çååæ°æ®ç±»å\n\n * df.corr() ç¸å³ç³»æ°ç©éµï¼ä¹å°±æ¯æ¯ä¸¤åä¹é´çç¸å³æ§ç³»æ°\n\n * dfæ¯æåç\n   \n   * df[0:]\n     df[::2]\n     \n     \n     1\n     2\n     \n\n * df.T è¡åäºæ¢\n\n\n# ååä¿®æ¹\n\n * df.columns=[\"1\",\"2\"] å°å¨é¨åè®¾ç½®ä¸ºæå®åè¡¨\n * df.rename(columns={\"a\":\"A\",\"b\":\"B\"},inplace=True) æ¿æ¢æå®å\n   * columns:åå å¦ä¼ éä¸ä¸ªæ°ç»åéè¦ä¸csvæä»¶ä¸­ååæ°ä¿æä¸è´ å¦æä¼ éä¸ºmapåå°æå®ååæ¿æ¢ä¸ºå¼ {\"positionId\":\"ID\",\"positionName\":\"å²ä½åç§°\",\"salary\":\"èªèµ\"}\n   * inplace: æ¯å¦æ¿æ¢ådataframe é»è®¤ä¸ºfalse\n\ndf.rename(columns={\"positionId\":\"ID\",\"positionName\":\"å²ä½åç§°\",\"salary\":\"èªèµ\"},inplace=True)\n\n\n1\n\n\n\n# ååæ ¼æä½\n\n\n# è¯»å\n\n * df[\"åå\"][\"è¡ç´¢å¼\"] dfä¸­é»è®¤æ¯åååè¡ ä¸æ¯æåç å¦æåååæ¯æç´¢å¼\n   \n   * data['open']['2018-02-27'] #åååè¡  ä¸æ¯æåç\n     data['open'][1:2] #åå æ¯æåç\n     \n     \n     1\n     2\n     \n\n * df.loc[\"2018-02-27\":\"2018-02-23\",\"high\"] éè¿loc ç´¢å¼åç§° å®ç°åè¡ååçæ¥è¯¢ æ¯æåç\n\n * df.iloc[è¡ä¸æ ,åä¸æ ] éè¿ç´¢å¼ä¸æ å¼ æ¯æåç\n   \n   * stock_data.iloc[3,5]\n     stock_data.iloc[:3,:5]\n     \n     \n     1\n     2\n     \n\n * df.at[\"è¡ç´¢å¼\",\"åå\"] atåè¡ååçæ¥è¯¢\n\n * å¤ååè¯»å\n   \n   * df[[\"positionId\",\"companyId\",\"industryField\"]]\n     \n     \n     1\n     \n\n\n# èµå¼\n\n * æå®åèµå¼\n   \n   * data['close'] = 1\n     data.close = 1\n     df[\"éçå¤§äº30\"] = np.where(df[\"éçæ°\"]>30,\"æ¯\",\"å¦\") #æ¯ææ¯è¾\n     \n     \n     1\n     2\n     3\n     \n\n * æå®ååæ ¼èµå¼\n   \n   * stock_data[\"open\"][\"2018-02-27\"]=1\n     df.at[5,\"å½å®¶å¥¥å§ä¼\"] = \"ä¿å¥¥å§ä¼\"\n     df.iloc[4,0] = \"ä¿å¥¥å§ä¼\"\n     \n     \n     1\n     2\n     3\n     \n\n\n# æ¿æ¢å¼\n\n * df.replace(\"æå®å¼\",\"æ¿æ¢å¼\",inplace=True)\n   \n   * df.replace(0,\"æ \",inplace=True) #æ´ä¸ªdfæ¿æ¢\n     df[\"éçæ°\"].replace(0,\"æ \",inplace=True)\n     \n     #æ¿æ¢å¼ï¼å¤å¼ï¼\n     df.replace(\"æ \",np.nan,inplace=True)\n     df.replace(0,\"None\",inplace=True)\n     \n     \n     1\n     2\n     3\n     4\n     5\n     6\n     \n\n\n# ç´¢å¼éç½®åè®¾ç½®\n\n * ä¿®æ¹ç´¢å¼ ä¼ éä¸ä¸ªç¸åä¸ªæ°çåè¡¨ å¯ä»¥è·åä¸æ è·åå¼ä½ä¸è½åä¸ªä¿®æ¹\n   \n   * stu = [\"å­¦ç_\" + str(i) for i in range(score_df.shape[0])]\n     # å¿é¡»æ´ä½å¨é¨ä¿®æ¹\n     data.index = stu\n     #ç´¢å¼å¯ä»¥éè¿ä¸æ è·å ä½æ æ³ç´æ¥è¿è¡ä¿®æ¹\n     #stu.index[3] \n     \n     \n     1\n     2\n     3\n     4\n     5\n     \n\n * reset_index(drop=False) éç½®ç´¢å¼ dropé»è®¤ä¸ºFlaseä¸å é¤åæ¥ç´¢å¼\n   \n   * # éç½®ç´¢å¼,drop=False  é»è®¤ä¿çæ§ç´¢å¼\n     data.reset_index()\n     # éç½®ç´¢å¼,drop=True\n     data.reset_index(drop=True)\n     \n     \n     1\n     2\n     3\n     4\n     \n\n * set_index(keys,drop = True)ä»¥æåå¼è®¾ç½®ä¸ºæ°çç´¢å¼ keysååæåç´¢å¼ dropé»è®¤ä¸ºtrue å é¤åæ¥çç´¢å¼å\n   \n   * df.set_index(\"year\") #ä»¥æåè®¾ç½®ä¸ºæ°çç´¢å¼\n     df.set_index(keys=[\"year\",\"month\"])  #è®¾ç½®å¤ä¸ªç´¢å¼\n     \n     \n     1\n     2\n     \n\n * df.rename_axis(keys,inplace=True) æ´æ¹å½åç´¢å¼åå\n   \n   * df.rename_axis(\"éçæå\",inplace=True)\n     \n     \n     1\n     \n\n * df.set_index(\"åå\",inplace=True) å°æå®åè®¾å®ä¸ºç´¢å¼\n   \n   * df.set_index(\"æå\",inplace=True)\n     df.set_index([\"æå\",\"æ»å\"],inplace=True) #æ¯æå¤åè¡ç´¢å¼\n     \n     \n     1\n     2\n     \n\n * df.reindex([\"ç´¢å¼å1\",\"ç´¢å¼å2\",...]) å°ç´¢å¼éç½®ä¸ºæå®ç´¢å¼åè¡¨\n   \n   * pd.concat([df1, df4], axis=1).reindex(df1.index)\n     \n     \n     1\n     \n\n\n# å¢å ååè¡\n\n * å¢å å ç´æ¥dfå¼ç¨æªå®çåå èªå¨åå»º\n\ndf[\"æ¯èµå°ç¹\"] = \"ä¸äº¬\"\n\n\n1\n\n\n * å¨æåä¸è¡å¢å è¡ ä½¿ç¨append\n   \n   * df1 = pd.DataFrame([[i for i in range(len(df.columns))]],columns=df.columns)\n     df_new = df.append(df1)\n     \n     \n     1\n     2\n     \n\n * å¨æå®è¡ä¸­ å¢å è¡ ä½¿ç¨concat\n   \n   * df1 = df.iloc[:1, :]\n     df2 = df.iloc[1:, :]\n     df3 = pd.DataFrame([[i for i in range(len(df.columns))]], columns=df.columns)\n     df_new = pd.concat([df1, df3, df2], ignore_index=True)\n     \n     \n     \n     \n     \n     \n     1\n     2\n     3\n     4\n     5\n     6\n     7\n     8\n     \n\n\n# å é¤åæè¡\n\n * df.drop(columns,axis=0) å é¤åæè¡ ä¼ éæå®è¡ç´¢å¼åæèåå\n   \n   * df.drop(1) #å é¤ç´¢å¼åä¸º1çè¡\n     df.drop(df[df.éçæ°<20].index) #æ¡ä»¶å é¤\n     df.drop(['ma5', 'ma10', 'ma20', 'v_ma5', 'v_ma10', 'v_ma20'],axis=1 )  #å é¤å¤ä¸ªå\n     df.drop(columns=[\"æ¯èµå°ç¹\"],inplace=True) #å é¤æå®å\n     df.drop(df.columns[[7,8,9,10]],axis=1,inplace=True) #æåå·å é¤\n     \n     \n     \n     1\n     2\n     3\n     4\n     5\n     6\n     \n\n\n# æåº\n\n\n# DataFrame\n\n * df.sort_values(by=, ascending=) æåçå¼æåº by: åå ascending: é»è®¤ä¸ºTrueååº Falseéåº\n   \n   * data.sort_values(by=\"open\", ascending=True)  #ååº\n     data.sort_values(by=['open', 'high'], ascending=False) #å¤ä¸ªåéåº\n     \n     \n     1\n     2\n     \n\n * df.sort_index() æ ¹æ®ç´¢å¼è¿è¡æåº é»è®¤ååº\n\n\n# Series\n\n * series.sort_values(ascending=True) å¯¹seriesä¸­çå¼è¿è¡æåº é»è®¤ååº\n   \n   * data['p_change'].sort_values(ascending=True)\n     \n     \n     1\n     \n\n * series.sort_index() ç´¢å¼æåº\n   \n   * data['p_change'].sort_index()\n     \n     \n     1\n     \n\n\n# è¿ç®\n\n * data.add ç¸å  data['open'].add(1)\n\n * é»è¾è¿ç®\n   \n   * data[data[\"open\"] > 23]\n     data[(data[\"open\"] > 23) & (data[\"open\"] < 24)]  # æ¯æé»è¾è¿ç®ç¬¦\n     \n     \n     1\n     2\n     \n\n * data.query(expr) é»è¾è¿ç®å½æ°\n   \n   * data.query(\"open<24 & open>23\")  # åªéè¦æ ¹æ®åå + æ¡ä»¶å°±å¯ä»¥å¤æ­\n     \n     \n     1\n     \n\n * data.isin(values) å¤æ­å¼æ¯å¦å¨æå®èå´\n   \n   * data[data[\"open\"].isin([23.53, 23.85])]\n     \n     \n     1\n     \n\n * data.agg() è¿è¡èåæä½ æ¯æèªå®ä¹min max mead sumç­æä½\n   \n   * df.agg({\n             \"æ»å\": [\"min\", \"max\", \"median\", \"mean\"],\n             \"é«ç«¯äººæå¾å\": [\"min\", \"max\", \"median\", \"mean\"],\n             \"åå­¦å±æ¬¡å¾å\":[\"min\", \"max\", \"median\", \"mean\"]})\n     \n     \n     1\n     2\n     3\n     4\n     \n\n * data.max(0) æå¤§å¼ é»è®¤ä¸ºåè®¡ç® axis=0 ä¼ é1ä¸ºè¡è®¡ç®\n\n * data.min() æå°å¼\n\n * data.std() æ åå·®\n\n * data.var() æ¹å·®\n\n * data.median() ä¸­ä½æ°\n\n * data.quantile() åä½æ° é»è®¤è¿å50%çåä½æ° å³ä¸­ä½æ°\n\n * data.idxmax(axis=0) æå¤§å¼çç´¢å¼å\n\n * data.idxmin(axis=0) æå°å¼çç´¢å¼å\n\n * data.cumsum() è¿ç»­æ±å ç´¯å å°æåä¸ä¸ªååæ ¼\n\n * data.cummax() è®¡ç®æå¤§å¼\n\n * data.cummin() è®¡ç®æå°å¼\n\n * data.cumprod() ç´¯ä¹\n\n * data.mode() ä¼æ°\n\n * data.nsmallest(n) è¿åå½ååæå°çnä¸ªæ°\n\n * data.nlargest(n) è¿åå½ååæå¤§çnä¸ªæ°\n\n\n# æ°æ®ç­é\n\n\n# ç­éå\n\ndf.iloc[:,[0,1,2,3]]  #éè¿åå·ç­é\ndf[['éçæ°','é¶çæ°','éçæ°']] #éè¿åå\ndf.iloc[:,[i%2==0 for i in range(len(df.columns))]] #æ¡ä»¶ç­é\ndf.loc[:, df.columns.str.endswith('æ°')] #æåå¨é¨ååä¸­åå« æ° çå\ndf.iloc[9:20,-3:] #ç»åï¼è¡å·+ååï¼ æååæ°åä¸åç10-20è¡\n\n\n1\n2\n3\n4\n5\n\n\n\n# ç­éè¡\n\ndf.loc[9:9] # éè¿è¡å·\ndf.iloc[9:,:] #åç\ndf.loc[:50:3] # æ­¥è¿\ndf[df['éçæ°'] > 30] # å¤æ­\ndf[df[\"éçæ°\"] == 10] \ndf[df[\"éçæ°\"] != 10]\ndf[[i%2 != 0 for i in range(len(df.index))]] # æ¡ä»¶\ndf.loc[df['å½å®¶å¥¥å§ä¼'].isin(['ä¸­å½','ç¾å½','è±å½','æ¥æ¬','å·´è¥¿'])] # å¤æ­æ¯å¦å¨åè¡¨ä¸­çå¼ \ndf.loc[((df['éçæ°'] < 30) & df['å½å®¶å¥¥å§ä¼'].isin(['ä¸­å½', 'ç¾å½', 'è±å½', 'æ¥æ¬', 'å·´è¥¿']))] #å¤æ¡ä»¶  æ¯ä¸ªæ¡ä»¶è¦ç¨æ¬å·åèµ·æ¥\ndf[df.å½å®¶å¥¥å§ä¼.str.contains('å½')] # æå å½å®¶å¥¥å§ä¼ åä¸­ï¼ææåå« å½çè¡\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n\n\n\n# ç»å\n\ndf.iloc[0:1,[1]] # ç¬¬ 0 è¡ç¬¬ 2 å\ndf.iloc[0:2,0:2] #ç­éå¤è¡å¤å\ndf.iloc[3,3] #è¡å·+åå·\ndf.loc[4,\"éçæ°\"] # è¡å·+åå\ndf.loc[df['å½å®¶å¥¥å§ä¼'] == 'ä¸­å½'].loc[1].at['éçæ°'] # æ¡ä»¶\ndf.query(\"éçæ° + é¶çæ° > 15\") # query ç±»sqlç­é\n\n#queryï¼å¼ç¨åéï¼\nme = df[\"éçæ°\"].mean()\ndf.query(f\"éçæ° > {me}\")  #éè¦è¦{}å¼ç¨åé  ç±»sqlè¯­å¥\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n\n\n\n# èªå®ä¹å½æ°\n\n * df.apply(èªå®ä¹å½æ°å,axis=0) dfä¼ä¼ éä¸ä¸ªSerieså¯¹è±¡ éè¿èªå®ä¹å½æ°returnä¸ä¸ªç»æ axis=0:é»è®¤æ¯åï¼axis=1ä¸ºè¡è¿è¡è¿ç®\n   \n   * def abc(ses):\n         c_null = pd.isnull(ses)\n         is_null = column[c_null]\n         return len(is_null)\n     \n     df.apply(abc)  #ä¼è¿åæ¯ä¸ånullçä¸ªæ°\n     \n     \n     1\n     2\n     3\n     4\n     5\n     6\n     \n\n\n# Pandasç»å¾\n\n * df.plot (kind='line') é»è®¤ä¸ºlineæçº¿å¾\n   * line æçº¿å¾\n   * bar æ±ç¶å¾\n   * barh æ¨ªåç´æ¹å¾\n   * hist ç´æ¹å¾\n   * pie é¥¼å¾\n   * scatter æ£ç¹å¾\n\n\n# è¯»ååä¿å­\n\n * pd.read_csv(filepath_or_buffer, sep =',', usecols=[1,3,5],skiprows=[1,3,5],index_col=[\"åå\"],names=[], keep_default_na=False,na_values=['[]'],na_filter= True,dtype={'positionId': str,'companyId':str})\n   \n   * filepath_or_buffer:æä»¶è·¯å¾\n     \n     * pd.read_csv(\"ææèç½ç«æ°æ®.csv\")\n       \n       \n       1\n       \n   \n   * sep :åéç¬¦ï¼é»è®¤ç¨\",\"éå¼\n     \n     * pd.read_csv(\"ææèç½ç«æ°æ®.csv\",sep=\",\")\n       \n       \n       1\n       \n   \n   * usecols:æå®è¯»åçååï¼åè¡¨å½¢å¼ [1,3,5] åªè¯»å2 4 6å ææå®åå ['positionId','positionName','salary']\n     \n     * pd.read_csv(\"ææèç½ç«æ°æ®.csv\",usecols = ['positionId','positionName','salary'])\n       pd.read_csv(\"ææèç½ç«æ°æ®.csv\",usecols = [1,3,5])\n       \n       \n       1\n       2\n       \n   \n   * skiprows: è·³è¿æå®è¡æ° [1,3,5] è·³è¿ 2 4 6 è¡\n     \n     * pd.read_csv(\"ææèç½ç«æ°æ®.csv\",skiprows = [i for i in range(1,21)])\n       \n       \n       1\n       \n   \n   * index_col: å°æå®åè®¾ç½®ä¸ºè¡ç´¢å¼\n     \n     * pd.read_csv(\"ææèç½ç«æ°æ®.csv\",index_col=\"positionId\")\n       \n       \n       1\n       \n   \n   * names: æå®æ°çåå ['ID','å²ä½åç§°','èªèµ'] ä¸æ¯æmap\n     \n     * pd.read_csv('ææèç½ç«æ°æ®.csv', usecols=[0,1,17],header = 0,names=['ID','å²ä½åç§°','èªèµ'])\n       \n       \n       1\n       \n   \n   * keep_default_na: ç¼ºå¤±å¼æ è®°ä¸ºNaN é»è®¤ä¸ºTrue\n   \n   * pd.read_csv('ææèç½ç«æ°æ®.csv', keep_default_na=False)\n     \n     \n     1\n     \n   \n   * na_values: å°ç¼ºå¤±å¼æ è®°ä¸ºæå®å­ç¬¦ä¸² å¦['[]']\n     \n     * pd.read_csv('ææèç½ç«æ°æ®.csv',na_values=['[]'])\n       \n       \n       1\n       \n   \n   * na_filter: ç¼ºå¤±å¼æ¯å¦å¤ç é»è®¤ä¸ºTrue å¤ç\n     \n     * pd.read_csv(\"ææèç½ç«æ°æ®.csv\",na_filter=False)\n       \n       \n       1\n       \n   \n   * dtype: è¯»åæ¶æå®åç±»å ä¼ émap\n     \n     * pd.read_csv(\"ææèç½ç«æ°æ®.csv\", dtype={'positionId': str,'companyId':str}) \n       \n       \n       1\n       \n   \n   * parse_dates: å°æå®åè½¬ä¸ºdatatimeç±»å\n     \n     * pd.read_csv(\"ææèç½ç«æ°æ®.csv\",parse_dates=['createTime']) \n       \n       \n       1\n       \n   \n   * chunksize: ååè¯»å è¿åä¸ä¸ªå¯è¿­ä»£å¯¹è±¡ï¼æ¯æ¬¡è¯»å n è¡\n     \n     * data = pd.read_csv(\"ææèç½ç«æ°æ®.csv\", chunksize= 10)\n       for i in data:\n           print(i)\n       \n       \n       1\n       2\n       3\n       \n\n * df.to_csv(path_or_buf=None, sep=', â, columns=None, header=True, index=True, mode='w', encoding=None)\n   \n   * path_or_buf :æä»¶è·¯å¾\n   \n   * sep :åéç¬¦ï¼é»è®¤ç¨\",\"éå¼\n   \n   * columns :éæ©éè¦çåç´¢å¼\n     \n     * data.to_csv(\"234.csv\",columns=[\"positionName\",\"salary\"])\n       \n       \n       1\n       \n   \n   * header :boolean or list of string, default True,æ¯å¦åè¿åç´¢å¼å¼\n   \n   * index:æ¯å¦åè¿è¡ç´¢å¼\n     \n     * data.to_csv(\"234.csv\",index=False) #ä¸åå¥ç´¢å¼\n       \n       \n       1\n       \n   \n   * mode:'w'ï¼éå, 'a' è¿½å \n   \n   * na_rep: ç¼ºå¤±å¼æ è®°ä¸ºæå®å­ç¬¦\n     \n     * data.to_csv(\"234.csv\",index=False,na_rep=\"æ°æ®ç¼ºå¤±\")\n       \n       \n       1\n       \n\n * pd.read_hdf(path_or_bufï¼key =None)\n   \n   * path_or_buffer:æä»¶è·¯å¾\n   * key:è¯»åçé®\n   * éè¦åå®è£tablesåº pip install tables\n\n * df.to_hdf(path_or_buf, key)\n\n * pd.read_json(\"./data//test.json\",orient=\"records\",lines=True) orientæå®å linesæ¯å¦ä¸è¡ä¸ä¸ªæ°æ®é»è®¤ä¸ºfalse ä¸è¡ä¸å¤§ä¸²æ°æ® æ¨èè®¾ç½®ä¸ºtrue\n\n * df.to_json(\"./data/test.json\",orient=\"close\")\n\n * pd.read_clipboard() ä»åªè´´æ¿è¯»åæ°æ®\n\n * pd.read_sql(sqlè¯­å¥,connè¿æ¥å¯¹è±¡)\n   \n   * from sqlite3 import connect\n     conn = connect(':memory:')\n     pd.read_sql(\"SELECT int_column, date_column FROM test_data\",conn)\n     \n     \n     1\n     2\n     3\n     \n\n\n# set_option éæ©è®¾ç½®\n\noption éæ©è®¾ç½®ä¸ºå¨å±éç½®\n\n * display.max_columns æ¾ç¤ºå¨é¨å\n   \n   * pd.set_option('display.max_columns', None) #æ¾ç¤ºå¨é¨å\n     \n     \n     1\n     \n\n * display.max_columns æ¾ç¤ºæå®å\n   \n   * pd.set_option('display.max_columns', 10)  \n     \n     \n     1\n     \n\n * display.max_rows æ¾ç¤ºæå®è¡\n   \n   * pd.set_option('display.max_rows', 7)\n     \n     \n     1\n     \n\n * display.max_colwidth æ¯åæå¤æ¾ç¤º10ä¸ªå­ç¬¦ï¼å¤ä½çä¼åæ... è®¾ç½®æå®é¿åº¦å­ç¬¦\n   \n   * pd.set_option ('display.max_colwidth',10)\n     \n     \n     1\n     \n\n * precision ä¿®æ¹é»è®¤æ¾ç¤ºç²¾åº¦ä¸ºå°æ°ç¹å5ä½\n   \n   * pd.set_option('precision', 5)\n     \n     \n     1\n     \n\n * mode.chained_assignment åæ¶pandasç¸å³warningæç¤º\n   \n   * pd.set_option(\"mode.chained_assignment\", None) \n     # å¨å±åæ¶warning\n     # import warnings\n     # warnings.filterwarnings('ignore')\n     \n     \n     1\n     2\n     3\n     4\n     \n\n * chop_threshold æ°å¼æ¾ç¤ºæ¡ä»¶ å¦ææ°å¼å°äº 20 åæ¾ç¤ºä¸º0\n   \n   * pd.set_option('chop_threshold', 20) \n     \n     \n     1\n     \n\n * display.html.use_mathjax è®©dataframeä¸­åå®¹æ¯æ Latex æ¾ç¤ºï¼éè¦ä½¿ç¨$$åä½ï¼\n   \n   * pd.set_option(\"display.html.use_mathjax\",True)\n     \n     \n     1\n     \n\n * plotting.backend ä¿®æ¹ç»å¾å¼æ\n   \n   * #ä¿®æ¹pandasé»è®¤ç»å¾å¼æä¸ºplotlyï¼éè¦æåå®è£å¥½plotlyï¼\n     pd.set_option(\"plotting.backend\",\"plotly\")\n     \n     \n     1\n     2\n     \n\n\n# reset_option\n\n * æ ¹æ®keyè¿åæå®éæ©è®¾ç½® å»é¤display.\n   \n   * pd.reset_option(\"max_rows\")\n     pd.reset_option(\"max_columns\")\n     \n     \n     1\n     2\n     \n\n * è¿åå¨é¨æ¾ç¤ºè®¾ç½® display\n   \n   * pd.reset_option(\"^display\")\n     \n     \n     1\n     \n\n * è¿åå¨é¨ option è®¾ç½®\n   \n   * pd.reset_option(\"all\") \n     \n     \n     \n     \n     \n     \n     \n     1\n     2\n     3\n     4\n     5\n     6\n     \n\n\n# style\n\nåºäº style ä¸ªæ§åè®¾ç½®åæ ·ä¸ä¼ä¿®æ¹æ°æ®ï¼ææ data.style.xxxx è¾åºçæ°æ®åæ¯ä¸æ¬¡æ§çï¼å¯ä»¥å¤ç¨ãå¯¼åºï¼ï¼å æ­¤ä½ åºè¯¥å¨åéçæ¶é´éæ©ä½¿ç¨è¯¥æ¹æ³ã\n\n * style.hide_index() éèç´¢å¼å\n   \n   * data.style.hide_index()\n     \n     \n     1\n     \n\n * style.set_precision(n) è°æ´å°æ°çç²¾åº¦\n   \n   * # å°å¸¦æå°æ°ç¹çåç²¾åº¦è°æ´ä¸ºå°æ°ç¹å2ä½\n     data.style.set_precision(2)\n     \n     \n     \n     1\n     2\n     3\n     \n\n * style.set_na_rep(\"æå®å­ç¬¦\") æ è®°ç¼ºå¤±å¼ä¸ºæå®å­ç¬¦\n   \n   * (data.style.set_na_rep(\"æ°æ®ç¼ºå¤±\"))\n     \n     \n     1\n     \n\n * style.highlight_null(null_color=\"red\") é«äº®ç¼ºå¤±å¼\n   \n   * null_color: ä¸ºé«äº®é¢è² é»è®¤ä¸ºçº¢è²\n   \n   * (data.style.set_na_rep(\"æ°æ®ç¼ºå¤±\").highlight_null(null_color='skyblue'))\n     \n     \n     1\n     \n\n * style.highlight_max é«äº®æ°å¼åæå¤§å¼\n   \n   * (data.style.highlight_max)\n     \n     \n     1\n     \n\n * style.highlight_min é«äº®æ°å¼åæå°å¼\n   \n   * (data.style.highlight_min)\n     \n     \n     1\n     \n\n * åæ¶é«äº®æå¤§æå°å¼\n   \n   * (data\n     .style\n     .highlight_max(color='#F77802')\n     .highlight_min(color='#26BE49'))\n     \n     \n     1\n     2\n     3\n     4\n     \n\n * style.highlight_between è®¾ç½®æå®å æå®èå´åé«äº®\n   \n   * (data\n     .style\n     .highlight_between(left=3000, right=10000, subset=['salary']))\n     \n     \n     1\n     2\n     3\n     \n\n * style.background_gradient æ¸åæ¾ç¤ºæ°å¼å\n   \n   * import seaborn as sns\n     \n     cm = sns.light_palette(\"green\", as_cmap=True)\n     \n     (data\n     .style\n     .background_gradient(cmap=cm))\n     \n     \n     \n     1\n     2\n     3\n     4\n     5\n     6\n     7\n     8\n     \n\n * style.set_properties ä¿®æ¹æå®properties\n   \n   * # ä¿®æ¹å­ä½é¢è²\n     # å° salary åä¿®æ¹ä¸ºçº¢è²å­ä½\n     (data\n     .style\n     .set_properties(\n         subset=['salary'], **{'color': 'red'}))\n     \n     #ä¿®æ¹èæ¯é¢è²ãå¯¹é½æ¹å¼ãå­ä½å¤§å°\n     #1.å±ä¸­ 2.èæ¯è²ä¿®æ¹ä¸º #F8F8FF 3.å­ä½:13px\n     (data\n     .style\n     .set_properties(**{'background-color': '#F8F8FF','text-align':'center', 'font-size': '13px'}))\n     \n     #é¾å¼å¤ä¸ªè®¾ç½®è¿è¡ç»å\n     (data\n     .style\n     .set_properties(**{'background-color': '#F8F8FF','text-align':'center', 'font-size': '13px'})\n     .set_properties(\n         subset=['salary'], **{'color': 'red'}))\n     \n     \n     1\n     2\n     3\n     4\n     5\n     6\n     7\n     8\n     9\n     10\n     11\n     12\n     13\n     14\n     15\n     16\n     17\n     18\n     19\n     \n\n * å¸¦æ ·å¼å¯¼åº\n   \n   * (data\n     .style\n     .set_properties(**{'background-color': '#F8F8FF','text-align':'center', 'font-size': '13px'})\n     .set_properties(\n         subset=['salary'], **{'color': 'red'})).to_excel('å¸¦ææ ·å¼å¯¼åº.xlsx')\n     \n     \n     1\n     2\n     3\n     4\n     5\n     \n\n * style.bar å°æå®åä»¥æ¨ªåæ¡å½¢å¾å½¢å¼è¿è¡å¯è§å\n   \n   * (data\n     .style\n     .bar(subset=['salary'],color='skyblue'))\n     \n     \n     1\n     2\n     3\n     \n\n * style.applymap å¸¦æ¡ä»¶æ ·å¼ / èªå®ä¹æ ·å¼\n   \n   * def my_style(val):\n     \n         color = 'red' if val > 30000 else 'black'\n         return 'color: %s' % color\n     \n     \n     data.style.applymap(my_style, subset=\"salary\")\n     \n     \n     1\n     2\n     3\n     4\n     5\n     6\n     7\n     \n\n * style.format æ ¼å¼åå¼\n   \n   * #å° createTime åæ ¼å¼åè¾åºä¸º xxå¹´xxæxxæ¥\n     data.style.format({\"createTime\": lambda t: t.strftime(\"%Yå¹´%mæ%dæ¥\")})\n     \n     #1.å¨ salary ååå¢å \"å\"  2.å¯¹ matchScore åä¿çä¸¤ä½å°æ°å¹¶å¢å \"å\"\n     (data\n     .style\n     .format(\"{0:,.2f}å\", subset=\"matchScore\")\n     .format(\"{\"\"}å\", subset=\"salary\"))\n     \n     \n     1\n     2\n     3\n     4\n     5\n     6\n     7\n     8\n     \n * \n\n\n# ç¼ºå¤±å¼å¤ç\n\n\n# å¤æ­ç¼ºå¤±å¼\n\n * type(np.NaN) é»è®¤ä¸ºfloatç±»å\n\n * pd.isnull(df) å¤æ­df æ¯å¦æNan å¦æåè¿åTrue\n   \n   * \n   \n   * #æ¥è¯¢æ¯åNançæ°é\n     df.isnull().sum()\n     \n     çå        0\n     ä¸æ å¹´ä»½      0\n     è¯å        5\n     è¯ä»·äººæ°      3\n     å¯¼æ¼        0\n     ç¼å§        0\n     ä¸»æ¼        0\n     ç±»å        0\n     å½å®¶/å°åº     6\n     è¯­è¨        6\n     æ¶é¿(åé)    6\n     dtype: int64\n         \n     #ç»è®¡dfä¸­æænanå¼\n     df.isna().sum().sum()\n     \n     \n     1\n     2\n     3\n     4\n     5\n     6\n     7\n     8\n     9\n     10\n     11\n     12\n     13\n     14\n     15\n     16\n     17\n     18\n     \n\n * pd.notnull(df) å¤æ­df æ¯å¦æNan å¦æåè¿åFalse\n\n * np.all(pd.notnull(movie)) éé¢å¦ææä¸ä¸ªç¼ºå¤±å¼ åä¸ºfalse åè¿åfalse\n\n * np.any(pd.isnull(movie)) éè¿np.any åªæéé¢æä¸ä¸ªä¸ºnullå°±è¿åtrue\n\n * é«äº®ç¼ºå¤±å¼\n   \n   * (df[df.isnull().T.any() == True]\n     .style\n     .highlight_null(null_color='skyblue'))\n     \n     \n     1\n     2\n     3\n     \n\n\n# æ¿æ¢åæ¿æ¢ç¼ºå¤±å¼ææ è®°å¼\n\n * df.dropna() å é¤æænp.Nan ç´æ¥å é¤ä¸è¡æ°æ®\n   \n   * df.dropna(axis=1) #æè¡å é¤\n     df.dropna(axis=0,subset=[\"åå1\",\"åå2\"]) #å é¤æå®åä¸­çç¼ºå¤±å¼\n     \n     \n     1\n     2\n     \n\n * df.fillna(value, inplace=False) æ¿æ¢ææçç¼ºå¤±å¼ä¸ºæå®å¼\n   \n   * value:ç¼ºå¤±å¼å°è¦æ¿æ¢æçå¼\n   \n   * inplace:True:ä¼ä¿®æ¹åæ°æ®ï¼é»è®¤ä¸ºFalse:ä¸æ¿æ¢ä¿®æ¹åæ°æ®ï¼çææ°çå¯¹è±¡\n   \n   * #å¯ä»¥æ¿æ¢åå\n     movie[\"Revenue (Millions)\"].fillna(value=movie[\"Revenue (Millions)\"].mean(),inplace=True)  \n     #æ´æ¢æå®åä¸­çnp.NaNä¸º Revenue (Millions)çä¸­ä½å¼  inplaceä¸ºæ¯å¦æ¿æ¢åæ¥æ°æ® é»è®¤ä¸ºfalseä¸æ¿æ¢åæ¥æ°æ®\n     \n     #å°è¯ååçç¼ºå¤±å¼ï¼æ¿æ¢ä¸ºä¸ä¸ä¸ªçµå½±çè¯å\n     df['è¯å'] = df['è¯å'].fillna(axis=0,method='ffill')\n     \n     #ä¸ä¸åå¼å¡«å\n     df['è¯ä»·äººæ°'] = df['è¯ä»·äººæ°'].fillna(df['è¯ä»·äººæ°'].interpolate())\n     \n     #å¹éå¡«å\n     df['è¯­è¨']=df.groupby('å½å®¶/å°åº').è¯­è¨.bfill() \n     #bfill:ååå¡«å  ffill:ååå¡«å  é»è®¤ axis=0(åæ¹å)  vs  axis=1(è¡æ¹å)\n     \n     \n     1\n     2\n     3\n     4\n     5\n     6\n     7\n     8\n     9\n     10\n     11\n     12\n     13\n     \n\n * df.replace(to_replace=, value=)\n   \n   * #åæè¢«æ è®°çç¼ºå¤±å¼ ä¹æ¯? æ¿æ¢ænp.nan\n     wis = wis.replace(to_replace='?',value=np.nan)\n     #åè¿è¡ç¼ºå¤±å¼å¤ç\n     wis = wis.dropna()\n     wis.head(10)\n     \n     \n     1\n     2\n     3\n     4\n     5\n     \n\n\n# ç¼ºå¤±å¼è½¬æ¢\n\nä¸å°ç¼ºå¤±å¼æ è®°ä¸º NAN\n\ndata = pd.read_csv('ææèç½ç«æ°æ®.csv', keep_default_na=False)\ndata\n\n\n1\n2\n\n\nNaNä¼åæç©ºå­ç¬¦\n\n\n# ç¼ºå¤±å¼æ è®°\n\nå°æå®çå­ç¬¦æ è®°ä¸ºNaNç¼ºå¤±å¼\n\ndata = pd.read_csv('ææèç½ç«æ°æ®.csv',na_values=['[]'])\ndata\n\n\n1\n2\n\n\n\n# ç¼ºå¤±å¼å¿½ç¥\n\nå¿½ç¥ç¼ºå¤±å¼ åä¸ºç©ºå­ç¬¦ä¸²\n\ndata = pd.read_csv(\"ææèç½ç«æ°æ®.csv\",na_filter=False)\ndata\n\n\n1\n2\n\n\n\n# æ°æ®ç¦»æ£å\n\nè¿ç»­å±æ§çç¦»æ£åå°±æ¯å¨è¿ç»­å±æ§çå¼åä¸ï¼å°å¼åååä¸ºè¥å¹²ä¸ªç¦»æ£çåºé´ï¼æåç¨ä¸åçç¬¦å·ææ´æ° å¼ä»£è¡¨è½å¨æ¯ä¸ªå­åºé´ä¸­çå±æ§å¼ã\n\n\n\n * pd.qcut(data, q) å¯¹æ°æ®è¿è¡åç»å°æ°æ®åç»ï¼ä¸è¬ä¼ä¸value_countsæ­éä½¿ç¨ï¼ç»è®¡æ¯ç»çä¸ªæ° å³å°æ°æ®ååä¸ºæå®ä¸ªæ°çåºé´\n   \n   * # èªè¡åç»\n     qcut = pd.qcut(p_change, 10)  #å°æ­¤æ°æ®é ç¦»æ£åå¹³åå10ä¸ªç»\n     # è®¡ç®åå°æ¯ä¸ªç»æ°æ®ä¸ªæ°\n     qcut.value_counts()  #æ¥çæ¯ä¸ªç»å±æå¤å°ä¸ªæ°æ®é\n     \n     \n     1\n     2\n     3\n     4\n     \n\n * series.value_counts()ï¼ç»è®¡åç»æ¬¡æ°\n\n * pd.cut(data, bins) èªå®ä¹åºé´åç»\n   \n   * bins = [-100, -7, -5, -3, 0, 3, 5, 7, 100]  # éè¿èªå®ä¹åºé´èå´æ¥åç»\n     cut_r = pd.cut(data_p, bins=bins)\n     cut_r.value_counts()\n     \n     \n     (0, 3]        215\n     (-3, 0]       188\n     (3, 5]         57\n     (-5, -3]       51\n     (5, 7]         35\n     (7, 100]       35\n     (-100, -7]     34\n     (-7, -5]       28\n     Name: p_change, dtype: int64\n     \n     \n     1\n     2\n     3\n     4\n     5\n     6\n     7\n     8\n     9\n     10\n     11\n     12\n     13\n     14\n     \n\n\n# one-hotç¼ç \n\nææ¯ä¸ªç±»å«çæä¸ä¸ªå¸å°åï¼è¿äºåä¸­åªæä¸åå¯ä»¥ä¸ºè¿ä¸ªæ ·æ¬åå¼ä¸º1.å¶åè¢«ç§°ä¸ºç¬ç­ç¼ç ã\n\n\n\n * pd.get_dummies(data,prefix=\"åºé´åç¼æµè¯\") å°æ®è½¬ä¸º one-hotç¼ç  prefixä¸ºåºé´åç¼æ¹ä¾¿éè¯»åçè§£\n\n\n# æ°æ®åå¹¶\n\n\n# concat\n\n * pd.concat([data1, data2], axis=1) å°ä¸¤ä¸ªdfè¿è¡åå¹¶\n   \n   * æç§è¡æåè¿è¡åå¹¶,axis=0ä¸ºåç´¢å¼ï¼axis=1ä¸ºè¡ç´¢å¼\n   \n   * #é»è®¤ä¸ºè¡è¿æ¥  éè¿æå®axis=1ä¸ºæåè¿æ¥\n     pd.concat([data,data_dummies],axis=1) #æ¨ªåæ¼æ¥\n     pd.concat([df1,df2,df3]) #éç½®æ¼æ¥\n     \n     \n     1\n     2\n     3\n     \n   \n   * ignore_index: éç½®ç´¢å¼ é»è®¤ä¸ºflase\n     \n     * pd.concat([df1,df4],ignore_index=True)\n       \n       \n       1\n       \n   \n   * join: ä»ä¹æ¹å¼å å¥\n     \n     * inner:é»è®¤ åè¿æ¥\n       \n       * pd.concat([df1,df4],axis=1,join='inner')\n         \n         \n         1\n         \n   \n   * keys: æ¯ä¸ªè¡¨æå æ¥åºåä¸åçè¡¨æ°æ®æ¥æº\n     \n     * pd.concat([df1, df2, df3], keys=['x', 'y', 'z'])\n       \n       \n       A\tB\tC\tD\n       x\t0\tA0\tB0\tC0\tD0\n       1\tA1\tB1\tC1\tD1\n       2\tA2\tB2\tC2\tD2\n       3\tA3\tB3\tC3\tD3\n       y\t4\tA4\tB4\tC4\tD4\n       5\tA5\tB5\tC5\tD5\n       6\tA6\tB6\tC6\tD6\n       7\tA7\tB7\tC7\tD7\n       z\t8\tA8\tB8\tC8\tD8\n       9\tA9\tB9\tC9\tD9\n       10\tA10\tB10\tC10\tD10\n       11\tA11\tB11\tC11\tD11\n       \n       \n       1\n       2\n       3\n       4\n       5\n       6\n       7\n       8\n       9\n       10\n       11\n       12\n       13\n       14\n       15\n       16\n       \n\n\n# merge\n\n * pd.merge(left, right, how='inner', on=None)\n   \n   * å¯ä»¥æå®æç§ä¸¤ç»æ°æ®çå±åé®å¼å¯¹åå¹¶æèå·¦å³åèª\n   \n   * left : DataFrame\n   \n   * right : å¦ä¸ä¸ªDataFrame\n   \n   * on : æå®çå±åé®\n     \n     * pd.merge(left, right, on='key') #ä»¥åç§°ä¸ºkeyçåä¸ºå±åé®è¿æ¥\n       pd.merge(left, right, on=['key1', 'key2']) # å¤é®\n       \n       \n       1\n       2\n       \n   \n   * how:æç§ä»ä¹æ¹å¼è¿æ¥\n     \n     * left:å·¦è¿æ¥\n       \n       * pd.merge(left, right,how=\"left\")\n         \n         \n         1\n         \n     \n     * right:å³è¿æ¥\n     \n     * outer:å¨å¤è¿æ¥\n     \n     * inner: åè¿æ¥\n   \n   * suffixes:å°è¿æ¥è¡¨é¤oné® ä»¥å¤çå ä¸ºåç¼ååºåæ°æ®\n     \n     * pd.merge(left, right, on='k', suffixes=['_l', '_r'])\n       \n       \n       k\tv_l\tv_r\n       0\tK0\t1\t4\n       1\tK0\t1\t5\n       \n       \n       \n       1\n       2\n       3\n       4\n       5\n       6\n       7\n       \n   \n   * pd.merge(left,right,on=[\"key1\",\"key2\"])  #é»è®¤ä¸ºåè¿æ¥\n     pd.merge(left,right,on=[\"key1\",\"key2\"],how=\"inner\")   #éè¿howå±æ§æå®è¿æ¥ç±»å é»è®¤innerä¸ºåè¿æ¥\n     pd.merge(left,right,on=[\"key1\",\"key2\"],how=\"outer\")   #outer æ»¡å¤è¿æ¥ æ²¡æçå¼ä¼ä»¥NaNå­å¨ éè¦æ³¨æ\n     pd.merge(left,right,on=[\"key1\",\"key2\"],how=\"left\") # å·¦è¿æ¥\n     pd.merge(left,right,on=[\"key1\",\"key2\"],how=\"right\") # å³è¿æ¥\n     \n     \n     1\n     2\n     3\n     4\n     5\n     \n\n\n# join ç»å\n\n * df1.join(right,how=\"outer\") å°ä¸¤è¡¨è¿è¡ç»å é»è®¤ä¸ºåè¿æ¥\n   \n   * left.join(right) \n     \n     \n     1\n     \n   \n   * how: è¿æ¥æ¹å¼\n     \n     * left.join(right,how=\"outer\")\n       \n       \n       1\n       \n     \n     * outer\n     \n     * left\n     \n     * right\n     \n     * inner\n   \n   * on: å±åé® æåå\n     \n     * left.join(right, on='v1')\n       left.join(right, on=[\"key1\",\"key2\"]) #å¤ä¸ªå\n       \n       \n       1\n       2\n       \n\n\n# äº¤åè¡¨ä¸éè§è¡¨\n\n * pd.crosstab(value1, value2) pd.crosstab(value1, value2) äº¤åè¡¨ç¨äºè®¡ç®ä¸åæ°æ®å¯¹äºå¦å¤ä¸åæ°æ®çåç»ä¸ªæ°(ç¨äºç»è®¡åç»é¢ççç¹æ®éè§è¡¨)\n\n * df.pivot_table([], ,values = [],index=[],aggfunc=\"mean\") éè§è¡¨æ¯å°åæçDataFrameçååå«ä½ä¸ºè¡ç´¢å¼ååç´¢å¼ï¼ç¶åå¯¹æå®çååºç¨èéå½æ°\n   \n   * data.pivot_table([\"p_n\"],index=\"week\")  \n     \n     \tp_n\n     week\t\n     0\t0.496000\n     1\t0.580153\n     2\t0.537879\n     3\t0.507812\n     4\t0.535433\n     \n     pd.pivot_table(df,values = ['éå®é¢','å©æ¶¦','æ°é'],index = 'ç±»å«',aggfunc = sum) #å¤å(ææ )\n     pd.pivot_table(df,values = ['éå®é¢'],index = ['ç/èªæ²»åº','ç±»å«'],aggfunc = sum) # å¤ç´¢å¼\n     \n     \n     1\n     2\n     3\n     4\n     5\n     6\n     7\n     8\n     9\n     10\n     11\n     12\n     \n   \n   * values :ææ \n     \n     * pd.pivot_table(df,values = ['éå®é¢'],index = 'ç/èªæ²»åº')\n       \n       \n       1\n       \n   \n   * index:ç´¢å¼å\n   \n   * columns: åå\n     \n     * pd.pivot_table(df,values = ['éå®é¢'],index = ['ç/èªæ²»åº'], columns='ç±»å«',aggfunc = sum) #å¤å±\n       \n       \n       1\n       \n   \n   * aggfunc: éè§å¾ä½¿ç¨çæ¹æ³ é»è®¤ä¸ºmeanå¹³åå¼\n     \n     * pd.pivot_table(df,values = ['éå®é¢'],index = 'ç/èªæ²»åº',aggfunc = sum)\n       pd.pivot_table(df,values = ['éå®é¢'],index = 'ç/èªæ²»åº',aggfunc = ['mean',sum]) #å¤ä¸ªèåæ¹æ³\n       \n       \n       1\n       2\n       \n   \n   * margins: stringï¼é»è®¤ä¸ºâALLâï¼å½åæ°marginsä¸ºTrueæ¶ï¼ALLè¡ååçåå­\n     \n     * pd.pivot_table(df,values = ['éå®é¢','æ°é'],index = ['ç/èªæ²»åº','ç±»å«'],aggfunc = ['mean',sum],margins=True)\n       \n       \n       1\n       \n   \n   * df.melt() ééè§\n     \n     * table = pd.pivot_table(df,values = ['éå®é¢','å©æ¶¦','æ°é'],index = 'ç±»å«',aggfunc = sum)\n       table.melt(id_vars=['æ°é'],var_name='åç±»',value_name='éé¢')\n       \n       \n       1\n       2\n       \n\n\n# åç»ä¸èå\n\nåç»ä¸èåéå¸¸æ¯åææ°æ®çä¸ç§æ¹å¼ï¼éå¸¸ä¸ä¸äºç»è®¡å½æ°ä¸èµ·ä½¿ç¨ï¼æ¥çæ°æ®çåç»æåµ\n\n * df.groupby(key, as_index=False)\n   \n   * key:åç»çåæ°æ®ï¼å¯ä»¥å¤ä¸ª\n   \n   * col.groupby([\"color\"])[\"price1\"].mean()  #æç§åç´¢å¼coloråç»  åæ ¹æ®åç»åçprice1åæ±ä¸­ä½å¼\n     col[\"price1\"].groupby(col[\"color\"]).mean()  #ååºprice1çå¼ åæcoloråç» åæ±ä¸­ä½å¼\n     col.groupby([\"color\"],as_index=False)[\"price1\"].mean()  #ä¸ºåç»èååçæ°æ®ç»è¡ç´¢å¼\n     df[['district','salary']].groupby(by='district').mean().sort_values('salary',ascending=False).head(1) #åç»å¹¶æåº\n     \n     pd.DataFrame(df.groupby(\"district\")['companySize'].value_counts()).rename_axis([\"è¡æ¿åº\", \"å¬å¸è§æ¨¡\"]) #åç»å ä¿®æ¹ç´¢å¼å\n     \n     \n     1\n     2\n     3\n     4\n     5\n     6\n     \n   \n   * groupby().groups ä»¥å­å¸å½¢å¼æ¥çååç»åå®¹\n     \n     * df.groupby([\"district\",\"salary\"]).groups\n       \n       {('ä¸ååº', 22500): [81], ('ä¸ååº', 30000): [97], ('ä¸æ²', 30000): [31], ('ä½æ­åº', 7500): [84], ('ä½æ­åº', 20000): [52, 103], ('ä½æ­åº', 22500): [23, 51], ('ä½æ­åº', 25000): [62], ('ä½æ­åº', 27500): [24, 49], ('ä½æ­åº', 29000): [93], ('ä½æ­åº', 30000): [4, 10, 13, 18, 59, 61, 65, 68, 74, 76, 86, 92, 94], ('ä½æ­åº', 35000): [101], ('ä½æ­åº', 37500): [0, 32, 38, 39, 41], ('ä½æ­åº', 40000): [60, 87], ('ä½æ­åº', 45000): [25], ('ä½æ­åº', 50000): [5, 64, 90], ('ä½æ­åº', 60000): [8, 82], ('æ±å¢åº', 24000): [72], ('æ±å¢åº', 30000): [54, 89, 96], ('æ±å¹²åº', 3500): [2], ('æ±å¹²åº', 22500): [45], ('æ±å¹²åº', 30000): [73], ('æ±å¹²åº', 45000): [3], ('æ»¨æ±åº', 7500): [83], ('æ»¨æ±åº', 15000): [1], ('æ»¨æ±åº', 20000): [21, 40], ('æ»¨æ±åº', 22500): [37], ('æ»¨æ±åº', 30000): [22, 53, 55, 58, 67, 80, 102], ('æ»¨æ±åº', 32500): [26], ('æ»¨æ±åº', 37500): [17, 28, 57, 77], ('æ»¨æ±åº', 42500): [91], ('æ»¨æ±åº', 45000): [43, 47], ('æ»¨æ±åº', 50000): [44], ('è§å±±åº', 25000): [100], ('è§å±±åº', 30000): [6], ('è§å±±åº', 45000): [66, 69], ('è¥¿æ¹åº', 6500): [71], ('è¥¿æ¹åº', 20000): [12], ('è¥¿æ¹åº', 21500): [104], ('è¥¿æ¹åº', 22500): [48, 70], ('è¥¿æ¹åº', 24000): [42], ('è¥¿æ¹åº', 25000): [56], ('è¥¿æ¹åº', 26500): [78], ('è¥¿æ¹åº', 27000): [75], ('è¥¿æ¹åº', 27500): [15, 20, 50, 63], ('è¥¿æ¹åº', 30000): [11, 27, 33, 34, 85, 88, 98], ('è¥¿æ¹åº', 35000): [7], ('è¥¿æ¹åº', 36500): [99], ('è¥¿æ¹åº', 37500): [14, 16, 19, 30, 36, 79, 95], ('è¥¿æ¹åº', 40000): [9, 35], ('è¥¿æ¹åº', 45000): [29, 46]}\n       \n       \n       1\n       2\n       3\n       \n   \n   * groupby().get_group æ¥çåç»åæå®å¼æ°æ®\n     \n     * df.groupby([\"district\", \"salary\"]).get_group((\"è¥¿æ¹åº\", 30000))\n       \n       \n       1\n       \n   \n   * groupby().transform(\"èåå½æ°å\") åç»è½¬æ¢\n     \n     * df['è¯¥åºå¹³åå·¥èµ'] = df[['district','salary']].groupby(by='district').transform('mean')\n       df\n       \n       \n       1\n       2\n       \n   \n   * groupby().filter() åç»è¿æ»¤\n     \n     * df.groupby('district').filter(lambda x: x['salary'].mean() < 30000)\n       \n       \n       1\n       \n   \n   * groupby().agg([\"èåå½æ°å1\",\"èåå½æ°å2\"]) å°åç»çæ°æ® èåç»è®¡\n     \n     * df.groupby('district')['salary'].agg([min, max, np.mean])\n       \n       df.groupby('positionName').agg({'salary': np.median, 'score': np.mean}) #æå®ä»¥æå®èåå½æ°æ¥è·åå¼\n       \n       df.groupby('district').agg(\n           {'salary': [np.mean, np.median, np.std], 'score': np.mean}) #å¤å±èå\n       \n       \n       #èªå®ä¹å½æ°èå\n       def myfunc(x):\n       \n           return x.max()-x.mean()\n       \n       df.groupby('district').agg(æä½å·¥èµ=('salary', 'min'), æé«å·¥èµ=(\n           'salary', 'max'), å¹³åå·¥èµ=('salary', 'mean'), æå¤§å¼ä¸åå¼å·®å¼=('salary', myfunc)).rename_axis([\"è¡æ¿åº\"])\n       \n       \n       \n       1\n       2\n       3\n       4\n       5\n       6\n       7\n       8\n       9\n       10\n       11\n       12\n       13\n       14\n       15\n       16\n       \n     \n     * agg.rename_axis(\"åå\") ä¿®æ¹åå\n       \n       * df.groupby('district').agg(æä½å·¥èµ=('salary', 'min'), æé«å·¥èµ=(\n             'salary', 'max'), å¹³åå·¥èµ=('salary', 'mean')).rename_axis([\"è¡æ¿åº\"])\n         \n         \n         1\n         2\n         \n   \n   \n   # åç»å¯è§å\n   \n   import matplotlib.pyplot as plt\n   %config InlineBackend.figure_format = 'retina'\n   plt.rcParams['font.sans-serif'] = ['Songti SC']\n   \n   \n   df.groupby(\"district\")['positionName'].count().plot(\n       kind='bar', figsize=(10, 6), color='#5172F0', fontsize=12)\n   \n   plt.rcParams['font.sans-serif'] = 'SimHei'\n   plt.rcParams['axes.unicode_minus'] = False\n   \n   plt.ylabel(\"å¬å¸æ°é\", fontsize=14)\n   plt.xlabel(\"æ­å·å¸ååº\", fontsize=14)\n   \n   plt.show()\n   \n   \n   \n   1\n   2\n   3\n   4\n   5\n   6\n   7\n   8\n   9\n   10\n   11\n   12\n   13\n   14\n   15\n   16\n   \n\n\n\n\n# æ¶é´å¤ç\n\nä»æä»¶ä¸­è¯»åçæ¶é´é»è®¤æobjectç±»å éè¦è½¬ä¸ºpdæ¶é´æè½è¿è¡è¿ç®\n\n * pd.to_datetime(data) å°æå®åè½¬ä¸ºæ¶é´åºå è¿ådatatimeå¯¹è±¡\n * datetime.weekday ææå \n * datetime.week æä¸­ç¬¬å ä¸ªææ\n * datetime.day å å·\n * datetime.year å¹´\n * datetime.total_seconds() å°æ¶é´è½¬ä¸ºç§\n\nt1 = datetime.datetime.strptime(\"2021-11-03 10:30:00\", \"%Y-%m-%d %H:%M:%S\")\nt2 = datetime.datetime.strptime(\"2021-11-03 12:30:00\", \"%Y-%m-%d %H:%M:%S\")\n\ntime = (t2-t1).total_seconds() #è·åæ¶é´å·®\n\n\n1\n2\n3\n4\n\n\n\n# å»é\n\n * df.drop_duplicates(subset=['åå'], keep='first') å»é åªä¿çç¬¬ä¸ä¸ª\n   \n   * keep: firstä¸ºä¿çéå¤å¼ä¸­ç¬¬ä¸ä¸ª lastä¸ºä¿çæåä¸ä¸ª\n     \n     * df.drop_duplicates(keep=\"last\")\n       \n       \n       1\n       \n   \n   * subset: åå\n\n * df[\"åå\"].uniue()\n\n * æ¥æ¾è¡æ¯å¦å­å¨éå¤å¼\n   \n   * df[df.duplicated()]\n     \n     2      True\n     3      True\n     4      True\n     5      True\n     6      True\n            ... \n     257    True\n     258    True\n     259    True\n     260    True\n     261    True\n     Length: 260, dtype: bool\n     \n     \n     1\n     2\n     3\n     4\n     5\n     6\n     7\n     8\n     9\n     10\n     11\n     12\n     13\n     14\n     \n\n * æ¥è¯¢æå®åä¸­çéå¤å¼\n   \n   * df[df.duplicated(['çå'])]\n     \n     \n     1\n     \n\n\n# ç­åå¾\n\ndf.corr().style.background_gradient(cmap='coolwarm').set_precision(2)\n\n### æ¹æ³äº ###\n\n#åå© `matplotlib` å `seaborn` \n\n# å¶ä¸­ä¸­æè®¾ç½®å¯ä»¥åèæçè¿ç¯æç«  https://mp.weixin.qq.com/s/WKOGvQP-6QUAP00ZXjhweg\nimport seaborn as sns\nimport matplotlib.pyplot as plt\n\nplt.figure(figsize = (9,6),dpi=100)\nsns.set(font='Songti SC')\nsns.heatmap(df.corr().round(2),annot=True,cmap='RdBu')\nplt.show()\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n\n\n\n\n\n# ç­åå°å¾\n\nç»å pyecharts è¿è¡å°å¾å¯è§å\n\nfrom pyecharts import options as opts\nfrom pyecharts.charts import Map\nlist1 = list(pd.DataFrame(df.çå¸.value_counts()).index)\nlist2 = list(pd.DataFrame(df.çå¸.value_counts()).çå¸)\n\n\nc = (\n    Map()\n    .add('', [list(z) for z in zip(list1,list2)], \"china\",is_map_symbol_show=False)\n    .set_global_opts(\n        title_opts=opts.TitleOpts(title=\"æåå100é«æ ¡åçå¸å æ¯\"),\n        visualmap_opts=opts.VisualMapOpts(max_=20),\n       \n\n    )\n)\nc.render_notebook()\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n\n\n\n\n\n# ç´æ¹å¾\n\nimport seaborn as sns\nsns.set(font='Songti SC')\nsns.distplot(df['æ»å'])\n\n\n1\n2\n3\n\n\n",normalizedContent:"# pandas\n\npandas ä»¥numpyä¸ºåºç¡ å matplotlib å¼æºçæ°æ®ææåº ç¨äºæ°æ®æ¢ç´¢\n\n\n# series\n\nseriesæ¯ä¸ä¸ªç±»ä¼¼äºä¸ç»´æ°ç»çæ°æ®ç»æï¼å®è½å¤ä¿å­ä»»ä½ç±»åçæ°æ®ï¼æ¯å¦æ´æ°ãå­ç¬¦ä¸²ãæµ®ç¹æ°ç­ï¼ä¸»è¦ç±ä¸ç»æ°æ®åä¸ä¹ç¸å³çç´¢å¼ä¸¤ é¨åææ\n\n\n\n\n# åå»º\n\n * pd.series(data=none, index=none, dtype=none)\n   \n   * dataï¼ä¼ å¥çæ°æ®ï¼å¯ä»¥æ¯ndarrayãlistç­\n   * indexï¼ç´¢å¼ï¼å¿é¡»æ¯å¯ä¸çï¼ä¸ä¸æ°æ®çé¿åº¦ç¸ç­ãå¦ææ²¡æä¼ å¥ç´¢å¼åæ°ï¼åé»è®¤ä¼èªå¨åå»ºä¸ä¸ªä»0-nçæ´æ°ç´¢å¼ã\n   * dtypeï¼æ°æ®çç±»å\n   \n   pd.series(np.arange(10))\n   \n   \n   1\n   \n\n * æå®ç´¢å¼\n   \n   pd.series([6.7,5.6,3,10,2], index=[1,2,3,4,5])\n   \n   \n   1\n   \n\n * éè¿å­å¸åå»º\n   \n   color_count = pd.series({'red':100, 'blue':200, 'green': 500, 'yellow':1000})\n   \n   \n   1\n   \n\n\n# å±æ§\n\n * color_count.index è¿åè¡ç´¢å¼\n * color_count.values è¿åä¸ä¸ªnpæ°ç» å­æ¾ä¸ºåå¼\n * color_count.tolist() è¿åä¸ä¸ªnpæ°ç» å­æ¾ä¸ºåå¼\n * color_count[n] éè¿ç´¢å¼æ¥è·åå¼\n\n\n# dataframe\n\ndataframeæ¯ä¸ä¸ªç±»ä¼¼äºäºç»´æ°ç»æè¡¨æ ¼(å¦excel)çå¯¹è±¡ï¼æ¢æè¡ç´¢å¼ï¼åæåç´¢å¼\n\n 1. è¡ç´¢å¼ï¼è¡¨æä¸åè¡ï¼æ¨ªåç´¢å¼ï¼å«indexï¼0è½´ï¼axis=0\n 2. åç´¢å¼ï¼è¡¨åä¸ååï¼çºµåç´¢å¼ï¼å«columnsï¼1è½´ï¼axis=1\n\n\n# åå»º\n\n * åå»ºdataframe éè¦ä¼ éä¸ä¸ªndarrayå¯¹è±¡\n   \n   * stock_change = np.random.normal(0, 1, (10, 5))\n     #å¯¼å¥npæ°æ®\n     df = pd.dataframe(stock_change)\n     #æ ¹æ®è¡æ°çæè¡ç´¢å¼\n     stock_code = [\"è¡ç¥¨{}\".format(i+1) for i in range(stock_rise.shape[0])]\n     #ä¿®æ¹è¡ç´¢å¼åç§°\n     pd.dataframe(stock_change,index=stock_code)\n     #çææ¶é´åºå\n     #date_range(start=none,end=none,periods=none,freq=\"b\")\n     #startå¼å§æ¶é´ endç»ææ¶é´ periodsæ¶é´å¤©æ° freqéè¿åä½é»è®¤ä¸ºä¸å°   bä¸ºç¥è¿å¨æ«\n     date = pd.date_range(start=\"20211020\",periods=stock_rise.shape[1],freq=\"b\")\n     \n     #æ·»å åç´¢å¼åç§°\n     stock_c = pd.dataframe(stock_change,index=stock_code,columns=date)\n     \n     \n     1\n     2\n     3\n     4\n     5\n     6\n     7\n     8\n     9\n     10\n     11\n     12\n     13\n     14\n     \n\n * å¢å è¡ãåç´¢å¼\n   \n   * # æé è¡ç´¢å¼åºå\n     subjects = [\"è¯­æ\", \"æ°å­¦\", \"è±è¯­\", \"æ¿æ²»\", \"ä½è²\"]\n     # æé åç´¢å¼åºå\n     stu = ['åå­¦' + str(i) for i in range(score_df.shape[0])]\n     # æ·»å è¡ç´¢å¼\n     data = pd.dataframe(score, columns=subjects, index=stu)\n     \n     \n     1\n     2\n     3\n     4\n     5\n     6\n     \n\n\n# å±æ§åæ¥ç\n\n * df.shape æ¥çå è¡å å\n   \n   * #æ¥çå è¡å å\n     stock_rise.shape\n     #æ¥çè¡\n     stock_rise.shape[0]\n     #æ¥çå\n     stock_rise.shape[1]\n     \n     \n     1\n     2\n     3\n     4\n     5\n     6\n     \n\n * df.index æ¥è¯¢è¡ç´¢å¼åè¡¨\n\n * df.columns æ¥çå½ådfçåååè¡¨\n\n * df.values æ¥è¯¢æææ°æ® è¿åä¸ºä¸ä¸ªnpæ°ç»\n\n * df.sample(n) éæºæ¥çnæ¡æ°æ® é»è®¤ä¸º1æ¡\n   \n   * df.sample(5)\n     \n     \n     1\n     \n\n * df.head() æ¥çå5è¡ å¯ä¼ éæå®è¡æ°\n   \n   * df.head(12)\n     \n     \n     1\n     \n\n * df.tail() å5è¡ å¯ä¼ éæå®è¡æ°\n\n * df.info() æ¥çæ°æ®åºæ¬ä¿¡æ¯\n   \n   * df.info()\n     \n     <class 'pandas.core.frame.dataframe'>\n     rangeindex: 262 entries, 0 to 261\n     data columns (total 11 columns):\n      #   column  non-null count  dtype  \n     ---  ------  --------------  -----  \n      0   çå      262 non-null    object \n      1   ä¸æ å¹´ä»½    262 non-null    int64  \n      2   è¯å      257 non-null    float64\n      3   è¯ä»·äººæ°    259 non-null    float64\n      4   å¯¼æ¼      262 non-null    object \n      5   ç¼å§      262 non-null    object \n      6   ä¸»æ¼      262 non-null    object \n      7   ç±»å      262 non-null    object \n      8   å½å®¶/å°åº   256 non-null    object \n      9   è¯­è¨      256 non-null    object \n      10  æ¶é¿(åé)  256 non-null    float64\n     dtypes: float64(3), int64(1), object(7)\n     memory usage: 22.6+ kb\n     \n     \n     1\n     2\n     3\n     4\n     5\n     6\n     7\n     8\n     9\n     10\n     11\n     12\n     13\n     14\n     15\n     16\n     17\n     18\n     19\n     20\n     \n\n * df.describe() æ¥çæ°æ®ç»è®¡ä¿¡æ¯ï½æ´ä½\n   \n   * df.describe(include='all')  #é»è®¤ä¸åå« uniqueå»éåæ°æ®é  topåºç°é¢çæé«ç  freqé¢çè®¡æ°\n     df.describe().round(2).t #ä¿ç2ä¸ºå°æ° å¹¶è¿è¡è¡åäºæ¢ æ¹ä¾¿æ¥ç\n     \n     \n     1\n     2\n     \n   \n   * \n\n * df.dtypes æ¥çååæ°æ®ç±»å\n\n * df.corr() ç¸å³ç³»æ°ç©éµï¼ä¹å°±æ¯æ¯ä¸¤åä¹é´çç¸å³æ§ç³»æ°\n\n * dfæ¯æåç\n   \n   * df[0:]\n     df[::2]\n     \n     \n     1\n     2\n     \n\n * df.t è¡åäºæ¢\n\n\n# ååä¿®æ¹\n\n * df.columns=[\"1\",\"2\"] å°å¨é¨åè®¾ç½®ä¸ºæå®åè¡¨\n * df.rename(columns={\"a\":\"a\",\"b\":\"b\"},inplace=true) æ¿æ¢æå®å\n   * columns:åå å¦ä¼ éä¸ä¸ªæ°ç»åéè¦ä¸csvæä»¶ä¸­ååæ°ä¿æä¸è´ å¦æä¼ éä¸ºmapåå°æå®ååæ¿æ¢ä¸ºå¼ {\"positionid\":\"id\",\"positionname\":\"å²ä½åç§°\",\"salary\":\"èªèµ\"}\n   * inplace: æ¯å¦æ¿æ¢ådataframe é»è®¤ä¸ºfalse\n\ndf.rename(columns={\"positionid\":\"id\",\"positionname\":\"å²ä½åç§°\",\"salary\":\"èªèµ\"},inplace=true)\n\n\n1\n\n\n\n# ååæ ¼æä½\n\n\n# è¯»å\n\n * df[\"åå\"][\"è¡ç´¢å¼\"] dfä¸­é»è®¤æ¯åååè¡ ä¸æ¯æåç å¦æåååæ¯æç´¢å¼\n   \n   * data['open']['2018-02-27'] #åååè¡  ä¸æ¯æåç\n     data['open'][1:2] #åå æ¯æåç\n     \n     \n     1\n     2\n     \n\n * df.loc[\"2018-02-27\":\"2018-02-23\",\"high\"] éè¿loc ç´¢å¼åç§° å®ç°åè¡ååçæ¥è¯¢ æ¯æåç\n\n * df.iloc[è¡ä¸æ ,åä¸æ ] éè¿ç´¢å¼ä¸æ å¼ æ¯æåç\n   \n   * stock_data.iloc[3,5]\n     stock_data.iloc[:3,:5]\n     \n     \n     1\n     2\n     \n\n * df.at[\"è¡ç´¢å¼\",\"åå\"] atåè¡ååçæ¥è¯¢\n\n * å¤ååè¯»å\n   \n   * df[[\"positionid\",\"companyid\",\"industryfield\"]]\n     \n     \n     1\n     \n\n\n# èµå¼\n\n * æå®åèµå¼\n   \n   * data['close'] = 1\n     data.close = 1\n     df[\"éçå¤§äº30\"] = np.where(df[\"éçæ°\"]>30,\"æ¯\",\"å¦\") #æ¯ææ¯è¾\n     \n     \n     1\n     2\n     3\n     \n\n * æå®ååæ ¼èµå¼\n   \n   * stock_data[\"open\"][\"2018-02-27\"]=1\n     df.at[5,\"å½å®¶å¥¥å§ä¼\"] = \"ä¿å¥¥å§ä¼\"\n     df.iloc[4,0] = \"ä¿å¥¥å§ä¼\"\n     \n     \n     1\n     2\n     3\n     \n\n\n# æ¿æ¢å¼\n\n * df.replace(\"æå®å¼\",\"æ¿æ¢å¼\",inplace=true)\n   \n   * df.replace(0,\"æ \",inplace=true) #æ´ä¸ªdfæ¿æ¢\n     df[\"éçæ°\"].replace(0,\"æ \",inplace=true)\n     \n     #æ¿æ¢å¼ï¼å¤å¼ï¼\n     df.replace(\"æ \",np.nan,inplace=true)\n     df.replace(0,\"none\",inplace=true)\n     \n     \n     1\n     2\n     3\n     4\n     5\n     6\n     \n\n\n# ç´¢å¼éç½®åè®¾ç½®\n\n * ä¿®æ¹ç´¢å¼ ä¼ éä¸ä¸ªç¸åä¸ªæ°çåè¡¨ å¯ä»¥è·åä¸æ è·åå¼ä½ä¸è½åä¸ªä¿®æ¹\n   \n   * stu = [\"å­¦ç_\" + str(i) for i in range(score_df.shape[0])]\n     # å¿é¡»æ´ä½å¨é¨ä¿®æ¹\n     data.index = stu\n     #ç´¢å¼å¯ä»¥éè¿ä¸æ è·å ä½æ æ³ç´æ¥è¿è¡ä¿®æ¹\n     #stu.index[3] \n     \n     \n     1\n     2\n     3\n     4\n     5\n     \n\n * reset_index(drop=false) éç½®ç´¢å¼ dropé»è®¤ä¸ºflaseä¸å é¤åæ¥ç´¢å¼\n   \n   * # éç½®ç´¢å¼,drop=false  é»è®¤ä¿çæ§ç´¢å¼\n     data.reset_index()\n     # éç½®ç´¢å¼,drop=true\n     data.reset_index(drop=true)\n     \n     \n     1\n     2\n     3\n     4\n     \n\n * set_index(keys,drop = true)ä»¥æåå¼è®¾ç½®ä¸ºæ°çç´¢å¼ keysååæåç´¢å¼ dropé»è®¤ä¸ºtrue å é¤åæ¥çç´¢å¼å\n   \n   * df.set_index(\"year\") #ä»¥æåè®¾ç½®ä¸ºæ°çç´¢å¼\n     df.set_index(keys=[\"year\",\"month\"])  #è®¾ç½®å¤ä¸ªç´¢å¼\n     \n     \n     1\n     2\n     \n\n * df.rename_axis(keys,inplace=true) æ´æ¹å½åç´¢å¼åå\n   \n   * df.rename_axis(\"éçæå\",inplace=true)\n     \n     \n     1\n     \n\n * df.set_index(\"åå\",inplace=true) å°æå®åè®¾å®ä¸ºç´¢å¼\n   \n   * df.set_index(\"æå\",inplace=true)\n     df.set_index([\"æå\",\"æ»å\"],inplace=true) #æ¯æå¤åè¡ç´¢å¼\n     \n     \n     1\n     2\n     \n\n * df.reindex([\"ç´¢å¼å1\",\"ç´¢å¼å2\",...]) å°ç´¢å¼éç½®ä¸ºæå®ç´¢å¼åè¡¨\n   \n   * pd.concat([df1, df4], axis=1).reindex(df1.index)\n     \n     \n     1\n     \n\n\n# å¢å ååè¡\n\n * å¢å å ç´æ¥dfå¼ç¨æªå®çåå èªå¨åå»º\n\ndf[\"æ¯èµå°ç¹\"] = \"ä¸äº¬\"\n\n\n1\n\n\n * å¨æåä¸è¡å¢å è¡ ä½¿ç¨append\n   \n   * df1 = pd.dataframe([[i for i in range(len(df.columns))]],columns=df.columns)\n     df_new = df.append(df1)\n     \n     \n     1\n     2\n     \n\n * å¨æå®è¡ä¸­ å¢å è¡ ä½¿ç¨concat\n   \n   * df1 = df.iloc[:1, :]\n     df2 = df.iloc[1:, :]\n     df3 = pd.dataframe([[i for i in range(len(df.columns))]], columns=df.columns)\n     df_new = pd.concat([df1, df3, df2], ignore_index=true)\n     \n     \n     \n     \n     \n     \n     1\n     2\n     3\n     4\n     5\n     6\n     7\n     8\n     \n\n\n# å é¤åæè¡\n\n * df.drop(columns,axis=0) å é¤åæè¡ ä¼ éæå®è¡ç´¢å¼åæèåå\n   \n   * df.drop(1) #å é¤ç´¢å¼åä¸º1çè¡\n     df.drop(df[df.éçæ°<20].index) #æ¡ä»¶å é¤\n     df.drop(['ma5', 'ma10', 'ma20', 'v_ma5', 'v_ma10', 'v_ma20'],axis=1 )  #å é¤å¤ä¸ªå\n     df.drop(columns=[\"æ¯èµå°ç¹\"],inplace=true) #å é¤æå®å\n     df.drop(df.columns[[7,8,9,10]],axis=1,inplace=true) #æåå·å é¤\n     \n     \n     \n     1\n     2\n     3\n     4\n     5\n     6\n     \n\n\n# æåº\n\n\n# dataframe\n\n * df.sort_values(by=, ascending=) æåçå¼æåº by: åå ascending: é»è®¤ä¸ºtrueååº falseéåº\n   \n   * data.sort_values(by=\"open\", ascending=true)  #ååº\n     data.sort_values(by=['open', 'high'], ascending=false) #å¤ä¸ªåéåº\n     \n     \n     1\n     2\n     \n\n * df.sort_index() æ ¹æ®ç´¢å¼è¿è¡æåº é»è®¤ååº\n\n\n# series\n\n * series.sort_values(ascending=true) å¯¹seriesä¸­çå¼è¿è¡æåº é»è®¤ååº\n   \n   * data['p_change'].sort_values(ascending=true)\n     \n     \n     1\n     \n\n * series.sort_index() ç´¢å¼æåº\n   \n   * data['p_change'].sort_index()\n     \n     \n     1\n     \n\n\n# è¿ç®\n\n * data.add ç¸å  data['open'].add(1)\n\n * é»è¾è¿ç®\n   \n   * data[data[\"open\"] > 23]\n     data[(data[\"open\"] > 23) & (data[\"open\"] < 24)]  # æ¯æé»è¾è¿ç®ç¬¦\n     \n     \n     1\n     2\n     \n\n * data.query(expr) é»è¾è¿ç®å½æ°\n   \n   * data.query(\"open<24 & open>23\")  # åªéè¦æ ¹æ®åå + æ¡ä»¶å°±å¯ä»¥å¤æ­\n     \n     \n     1\n     \n\n * data.isin(values) å¤æ­å¼æ¯å¦å¨æå®èå´\n   \n   * data[data[\"open\"].isin([23.53, 23.85])]\n     \n     \n     1\n     \n\n * data.agg() è¿è¡èåæä½ æ¯æèªå®ä¹min max mead sumç­æä½\n   \n   * df.agg({\n             \"æ»å\": [\"min\", \"max\", \"median\", \"mean\"],\n             \"é«ç«¯äººæå¾å\": [\"min\", \"max\", \"median\", \"mean\"],\n             \"åå­¦å±æ¬¡å¾å\":[\"min\", \"max\", \"median\", \"mean\"]})\n     \n     \n     1\n     2\n     3\n     4\n     \n\n * data.max(0) æå¤§å¼ é»è®¤ä¸ºåè®¡ç® axis=0 ä¼ é1ä¸ºè¡è®¡ç®\n\n * data.min() æå°å¼\n\n * data.std() æ åå·®\n\n * data.var() æ¹å·®\n\n * data.median() ä¸­ä½æ°\n\n * data.quantile() åä½æ° é»è®¤è¿å50%çåä½æ° å³ä¸­ä½æ°\n\n * data.idxmax(axis=0) æå¤§å¼çç´¢å¼å\n\n * data.idxmin(axis=0) æå°å¼çç´¢å¼å\n\n * data.cumsum() è¿ç»­æ±å ç´¯å å°æåä¸ä¸ªååæ ¼\n\n * data.cummax() è®¡ç®æå¤§å¼\n\n * data.cummin() è®¡ç®æå°å¼\n\n * data.cumprod() ç´¯ä¹\n\n * data.mode() ä¼æ°\n\n * data.nsmallest(n) è¿åå½ååæå°çnä¸ªæ°\n\n * data.nlargest(n) è¿åå½ååæå¤§çnä¸ªæ°\n\n\n# æ°æ®ç­é\n\n\n# ç­éå\n\ndf.iloc[:,[0,1,2,3]]  #éè¿åå·ç­é\ndf[['éçæ°','é¶çæ°','éçæ°']] #éè¿åå\ndf.iloc[:,[i%2==0 for i in range(len(df.columns))]] #æ¡ä»¶ç­é\ndf.loc[:, df.columns.str.endswith('æ°')] #æåå¨é¨ååä¸­åå« æ° çå\ndf.iloc[9:20,-3:] #ç»åï¼è¡å·+ååï¼ æååæ°åä¸åç10-20è¡\n\n\n1\n2\n3\n4\n5\n\n\n\n# ç­éè¡\n\ndf.loc[9:9] # éè¿è¡å·\ndf.iloc[9:,:] #åç\ndf.loc[:50:3] # æ­¥è¿\ndf[df['éçæ°'] > 30] # å¤æ­\ndf[df[\"éçæ°\"] == 10] \ndf[df[\"éçæ°\"] != 10]\ndf[[i%2 != 0 for i in range(len(df.index))]] # æ¡ä»¶\ndf.loc[df['å½å®¶å¥¥å§ä¼'].isin(['ä¸­å½','ç¾å½','è±å½','æ¥æ¬','å·´è¥¿'])] # å¤æ­æ¯å¦å¨åè¡¨ä¸­çå¼ \ndf.loc[((df['éçæ°'] < 30) & df['å½å®¶å¥¥å§ä¼'].isin(['ä¸­å½', 'ç¾å½', 'è±å½', 'æ¥æ¬', 'å·´è¥¿']))] #å¤æ¡ä»¶  æ¯ä¸ªæ¡ä»¶è¦ç¨æ¬å·åèµ·æ¥\ndf[df.å½å®¶å¥¥å§ä¼.str.contains('å½')] # æå å½å®¶å¥¥å§ä¼ åä¸­ï¼ææåå« å½çè¡\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n\n\n\n# ç»å\n\ndf.iloc[0:1,[1]] # ç¬¬ 0 è¡ç¬¬ 2 å\ndf.iloc[0:2,0:2] #ç­éå¤è¡å¤å\ndf.iloc[3,3] #è¡å·+åå·\ndf.loc[4,\"éçæ°\"] # è¡å·+åå\ndf.loc[df['å½å®¶å¥¥å§ä¼'] == 'ä¸­å½'].loc[1].at['éçæ°'] # æ¡ä»¶\ndf.query(\"éçæ° + é¶çæ° > 15\") # query ç±»sqlç­é\n\n#queryï¼å¼ç¨åéï¼\nme = df[\"éçæ°\"].mean()\ndf.query(f\"éçæ° > {me}\")  #éè¦è¦{}å¼ç¨åé  ç±»sqlè¯­å¥\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n\n\n\n# èªå®ä¹å½æ°\n\n * df.apply(èªå®ä¹å½æ°å,axis=0) dfä¼ä¼ éä¸ä¸ªserieså¯¹è±¡ éè¿èªå®ä¹å½æ°returnä¸ä¸ªç»æ axis=0:é»è®¤æ¯åï¼axis=1ä¸ºè¡è¿è¡è¿ç®\n   \n   * def abc(ses):\n         c_null = pd.isnull(ses)\n         is_null = column[c_null]\n         return len(is_null)\n     \n     df.apply(abc)  #ä¼è¿åæ¯ä¸ånullçä¸ªæ°\n     \n     \n     1\n     2\n     3\n     4\n     5\n     6\n     \n\n\n# pandasç»å¾\n\n * df.plot (kind='line') é»è®¤ä¸ºlineæçº¿å¾\n   * line æçº¿å¾\n   * bar æ±ç¶å¾\n   * barh æ¨ªåç´æ¹å¾\n   * hist ç´æ¹å¾\n   * pie é¥¼å¾\n   * scatter æ£ç¹å¾\n\n\n# è¯»ååä¿å­\n\n * pd.read_csv(filepath_or_buffer, sep =',', usecols=[1,3,5],skiprows=[1,3,5],index_col=[\"åå\"],names=[], keep_default_na=false,na_values=['[]'],na_filter= true,dtype={'positionid': str,'companyid':str})\n   \n   * filepath_or_buffer:æä»¶è·¯å¾\n     \n     * pd.read_csv(\"ææèç½ç«æ°æ®.csv\")\n       \n       \n       1\n       \n   \n   * sep :åéç¬¦ï¼é»è®¤ç¨\",\"éå¼\n     \n     * pd.read_csv(\"ææèç½ç«æ°æ®.csv\",sep=\",\")\n       \n       \n       1\n       \n   \n   * usecols:æå®è¯»åçååï¼åè¡¨å½¢å¼ [1,3,5] åªè¯»å2 4 6å ææå®åå ['positionid','positionname','salary']\n     \n     * pd.read_csv(\"ææèç½ç«æ°æ®.csv\",usecols = ['positionid','positionname','salary'])\n       pd.read_csv(\"ææèç½ç«æ°æ®.csv\",usecols = [1,3,5])\n       \n       \n       1\n       2\n       \n   \n   * skiprows: è·³è¿æå®è¡æ° [1,3,5] è·³è¿ 2 4 6 è¡\n     \n     * pd.read_csv(\"ææèç½ç«æ°æ®.csv\",skiprows = [i for i in range(1,21)])\n       \n       \n       1\n       \n   \n   * index_col: å°æå®åè®¾ç½®ä¸ºè¡ç´¢å¼\n     \n     * pd.read_csv(\"ææèç½ç«æ°æ®.csv\",index_col=\"positionid\")\n       \n       \n       1\n       \n   \n   * names: æå®æ°çåå ['id','å²ä½åç§°','èªèµ'] ä¸æ¯æmap\n     \n     * pd.read_csv('ææèç½ç«æ°æ®.csv', usecols=[0,1,17],header = 0,names=['id','å²ä½åç§°','èªèµ'])\n       \n       \n       1\n       \n   \n   * keep_default_na: ç¼ºå¤±å¼æ è®°ä¸ºnan é»è®¤ä¸ºtrue\n   \n   * pd.read_csv('ææèç½ç«æ°æ®.csv', keep_default_na=false)\n     \n     \n     1\n     \n   \n   * na_values: å°ç¼ºå¤±å¼æ è®°ä¸ºæå®å­ç¬¦ä¸² å¦['[]']\n     \n     * pd.read_csv('ææèç½ç«æ°æ®.csv',na_values=['[]'])\n       \n       \n       1\n       \n   \n   * na_filter: ç¼ºå¤±å¼æ¯å¦å¤ç é»è®¤ä¸ºtrue å¤ç\n     \n     * pd.read_csv(\"ææèç½ç«æ°æ®.csv\",na_filter=false)\n       \n       \n       1\n       \n   \n   * dtype: è¯»åæ¶æå®åç±»å ä¼ émap\n     \n     * pd.read_csv(\"ææèç½ç«æ°æ®.csv\", dtype={'positionid': str,'companyid':str}) \n       \n       \n       1\n       \n   \n   * parse_dates: å°æå®åè½¬ä¸ºdatatimeç±»å\n     \n     * pd.read_csv(\"ææèç½ç«æ°æ®.csv\",parse_dates=['createtime']) \n       \n       \n       1\n       \n   \n   * chunksize: ååè¯»å è¿åä¸ä¸ªå¯è¿­ä»£å¯¹è±¡ï¼æ¯æ¬¡è¯»å n è¡\n     \n     * data = pd.read_csv(\"ææèç½ç«æ°æ®.csv\", chunksize= 10)\n       for i in data:\n           print(i)\n       \n       \n       1\n       2\n       3\n       \n\n * df.to_csv(path_or_buf=none, sep=', â, columns=none, header=true, index=true, mode='w', encoding=none)\n   \n   * path_or_buf :æä»¶è·¯å¾\n   \n   * sep :åéç¬¦ï¼é»è®¤ç¨\",\"éå¼\n   \n   * columns :éæ©éè¦çåç´¢å¼\n     \n     * data.to_csv(\"234.csv\",columns=[\"positionname\",\"salary\"])\n       \n       \n       1\n       \n   \n   * header :boolean or list of string, default true,æ¯å¦åè¿åç´¢å¼å¼\n   \n   * index:æ¯å¦åè¿è¡ç´¢å¼\n     \n     * data.to_csv(\"234.csv\",index=false) #ä¸åå¥ç´¢å¼\n       \n       \n       1\n       \n   \n   * mode:'w'ï¼éå, 'a' è¿½å \n   \n   * na_rep: ç¼ºå¤±å¼æ è®°ä¸ºæå®å­ç¬¦\n     \n     * data.to_csv(\"234.csv\",index=false,na_rep=\"æ°æ®ç¼ºå¤±\")\n       \n       \n       1\n       \n\n * pd.read_hdf(path_or_bufï¼key =none)\n   \n   * path_or_buffer:æä»¶è·¯å¾\n   * key:è¯»åçé®\n   * éè¦åå®è£tablesåº pip install tables\n\n * df.to_hdf(path_or_buf, key)\n\n * pd.read_json(\"./data//test.json\",orient=\"records\",lines=true) orientæå®å linesæ¯å¦ä¸è¡ä¸ä¸ªæ°æ®é»è®¤ä¸ºfalse ä¸è¡ä¸å¤§ä¸²æ°æ® æ¨èè®¾ç½®ä¸ºtrue\n\n * df.to_json(\"./data/test.json\",orient=\"close\")\n\n * pd.read_clipboard() ä»åªè´´æ¿è¯»åæ°æ®\n\n * pd.read_sql(sqlè¯­å¥,connè¿æ¥å¯¹è±¡)\n   \n   * from sqlite3 import connect\n     conn = connect(':memory:')\n     pd.read_sql(\"select int_column, date_column from test_data\",conn)\n     \n     \n     1\n     2\n     3\n     \n\n\n# set_option éæ©è®¾ç½®\n\noption éæ©è®¾ç½®ä¸ºå¨å±éç½®\n\n * display.max_columns æ¾ç¤ºå¨é¨å\n   \n   * pd.set_option('display.max_columns', none) #æ¾ç¤ºå¨é¨å\n     \n     \n     1\n     \n\n * display.max_columns æ¾ç¤ºæå®å\n   \n   * pd.set_option('display.max_columns', 10)  \n     \n     \n     1\n     \n\n * display.max_rows æ¾ç¤ºæå®è¡\n   \n   * pd.set_option('display.max_rows', 7)\n     \n     \n     1\n     \n\n * display.max_colwidth æ¯åæå¤æ¾ç¤º10ä¸ªå­ç¬¦ï¼å¤ä½çä¼åæ... è®¾ç½®æå®é¿åº¦å­ç¬¦\n   \n   * pd.set_option ('display.max_colwidth',10)\n     \n     \n     1\n     \n\n * precision ä¿®æ¹é»è®¤æ¾ç¤ºç²¾åº¦ä¸ºå°æ°ç¹å5ä½\n   \n   * pd.set_option('precision', 5)\n     \n     \n     1\n     \n\n * mode.chained_assignment åæ¶pandasç¸å³warningæç¤º\n   \n   * pd.set_option(\"mode.chained_assignment\", none) \n     # å¨å±åæ¶warning\n     # import warnings\n     # warnings.filterwarnings('ignore')\n     \n     \n     1\n     2\n     3\n     4\n     \n\n * chop_threshold æ°å¼æ¾ç¤ºæ¡ä»¶ å¦ææ°å¼å°äº 20 åæ¾ç¤ºä¸º0\n   \n   * pd.set_option('chop_threshold', 20) \n     \n     \n     1\n     \n\n * display.html.use_mathjax è®©dataframeä¸­åå®¹æ¯æ latex æ¾ç¤ºï¼éè¦ä½¿ç¨$$åä½ï¼\n   \n   * pd.set_option(\"display.html.use_mathjax\",true)\n     \n     \n     1\n     \n\n * plotting.backend ä¿®æ¹ç»å¾å¼æ\n   \n   * #ä¿®æ¹pandasé»è®¤ç»å¾å¼æä¸ºplotlyï¼éè¦æåå®è£å¥½plotlyï¼\n     pd.set_option(\"plotting.backend\",\"plotly\")\n     \n     \n     1\n     2\n     \n\n\n# reset_option\n\n * æ ¹æ®keyè¿åæå®éæ©è®¾ç½® å»é¤display.\n   \n   * pd.reset_option(\"max_rows\")\n     pd.reset_option(\"max_columns\")\n     \n     \n     1\n     2\n     \n\n * è¿åå¨é¨æ¾ç¤ºè®¾ç½® display\n   \n   * pd.reset_option(\"^display\")\n     \n     \n     1\n     \n\n * è¿åå¨é¨ option è®¾ç½®\n   \n   * pd.reset_option(\"all\") \n     \n     \n     \n     \n     \n     \n     \n     1\n     2\n     3\n     4\n     5\n     6\n     \n\n\n# style\n\nåºäº style ä¸ªæ§åè®¾ç½®åæ ·ä¸ä¼ä¿®æ¹æ°æ®ï¼ææ data.style.xxxx è¾åºçæ°æ®åæ¯ä¸æ¬¡æ§çï¼å¯ä»¥å¤ç¨ãå¯¼åºï¼ï¼å æ­¤ä½ åºè¯¥å¨åéçæ¶é´éæ©ä½¿ç¨è¯¥æ¹æ³ã\n\n * style.hide_index() éèç´¢å¼å\n   \n   * data.style.hide_index()\n     \n     \n     1\n     \n\n * style.set_precision(n) è°æ´å°æ°çç²¾åº¦\n   \n   * # å°å¸¦æå°æ°ç¹çåç²¾åº¦è°æ´ä¸ºå°æ°ç¹å2ä½\n     data.style.set_precision(2)\n     \n     \n     \n     1\n     2\n     3\n     \n\n * style.set_na_rep(\"æå®å­ç¬¦\") æ è®°ç¼ºå¤±å¼ä¸ºæå®å­ç¬¦\n   \n   * (data.style.set_na_rep(\"æ°æ®ç¼ºå¤±\"))\n     \n     \n     1\n     \n\n * style.highlight_null(null_color=\"red\") é«äº®ç¼ºå¤±å¼\n   \n   * null_color: ä¸ºé«äº®é¢è² é»è®¤ä¸ºçº¢è²\n   \n   * (data.style.set_na_rep(\"æ°æ®ç¼ºå¤±\").highlight_null(null_color='skyblue'))\n     \n     \n     1\n     \n\n * style.highlight_max é«äº®æ°å¼åæå¤§å¼\n   \n   * (data.style.highlight_max)\n     \n     \n     1\n     \n\n * style.highlight_min é«äº®æ°å¼åæå°å¼\n   \n   * (data.style.highlight_min)\n     \n     \n     1\n     \n\n * åæ¶é«äº®æå¤§æå°å¼\n   \n   * (data\n     .style\n     .highlight_max(color='#f77802')\n     .highlight_min(color='#26be49'))\n     \n     \n     1\n     2\n     3\n     4\n     \n\n * style.highlight_between è®¾ç½®æå®å æå®èå´åé«äº®\n   \n   * (data\n     .style\n     .highlight_between(left=3000, right=10000, subset=['salary']))\n     \n     \n     1\n     2\n     3\n     \n\n * style.background_gradient æ¸åæ¾ç¤ºæ°å¼å\n   \n   * import seaborn as sns\n     \n     cm = sns.light_palette(\"green\", as_cmap=true)\n     \n     (data\n     .style\n     .background_gradient(cmap=cm))\n     \n     \n     \n     1\n     2\n     3\n     4\n     5\n     6\n     7\n     8\n     \n\n * style.set_properties ä¿®æ¹æå®properties\n   \n   * # ä¿®æ¹å­ä½é¢è²\n     # å° salary åä¿®æ¹ä¸ºçº¢è²å­ä½\n     (data\n     .style\n     .set_properties(\n         subset=['salary'], **{'color': 'red'}))\n     \n     #ä¿®æ¹èæ¯é¢è²ãå¯¹é½æ¹å¼ãå­ä½å¤§å°\n     #1.å±ä¸­ 2.èæ¯è²ä¿®æ¹ä¸º #f8f8ff 3.å­ä½:13px\n     (data\n     .style\n     .set_properties(**{'background-color': '#f8f8ff','text-align':'center', 'font-size': '13px'}))\n     \n     #é¾å¼å¤ä¸ªè®¾ç½®è¿è¡ç»å\n     (data\n     .style\n     .set_properties(**{'background-color': '#f8f8ff','text-align':'center', 'font-size': '13px'})\n     .set_properties(\n         subset=['salary'], **{'color': 'red'}))\n     \n     \n     1\n     2\n     3\n     4\n     5\n     6\n     7\n     8\n     9\n     10\n     11\n     12\n     13\n     14\n     15\n     16\n     17\n     18\n     19\n     \n\n * å¸¦æ ·å¼å¯¼åº\n   \n   * (data\n     .style\n     .set_properties(**{'background-color': '#f8f8ff','text-align':'center', 'font-size': '13px'})\n     .set_properties(\n         subset=['salary'], **{'color': 'red'})).to_excel('å¸¦ææ ·å¼å¯¼åº.xlsx')\n     \n     \n     1\n     2\n     3\n     4\n     5\n     \n\n * style.bar å°æå®åä»¥æ¨ªåæ¡å½¢å¾å½¢å¼è¿è¡å¯è§å\n   \n   * (data\n     .style\n     .bar(subset=['salary'],color='skyblue'))\n     \n     \n     1\n     2\n     3\n     \n\n * style.applymap å¸¦æ¡ä»¶æ ·å¼ / èªå®ä¹æ ·å¼\n   \n   * def my_style(val):\n     \n         color = 'red' if val > 30000 else 'black'\n         return 'color: %s' % color\n     \n     \n     data.style.applymap(my_style, subset=\"salary\")\n     \n     \n     1\n     2\n     3\n     4\n     5\n     6\n     7\n     \n\n * style.format æ ¼å¼åå¼\n   \n   * #å° createtime åæ ¼å¼åè¾åºä¸º xxå¹´xxæxxæ¥\n     data.style.format({\"createtime\": lambda t: t.strftime(\"%yå¹´%mæ%dæ¥\")})\n     \n     #1.å¨ salary ååå¢å \"å\"  2.å¯¹ matchscore åä¿çä¸¤ä½å°æ°å¹¶å¢å \"å\"\n     (data\n     .style\n     .format(\"{0:,.2f}å\", subset=\"matchscore\")\n     .format(\"{\"\"}å\", subset=\"salary\"))\n     \n     \n     1\n     2\n     3\n     4\n     5\n     6\n     7\n     8\n     \n * \n\n\n# ç¼ºå¤±å¼å¤ç\n\n\n# å¤æ­ç¼ºå¤±å¼\n\n * type(np.nan) é»è®¤ä¸ºfloatç±»å\n\n * pd.isnull(df) å¤æ­df æ¯å¦ænan å¦æåè¿åtrue\n   \n   * \n   \n   * #æ¥è¯¢æ¯ånançæ°é\n     df.isnull().sum()\n     \n     çå        0\n     ä¸æ å¹´ä»½      0\n     è¯å        5\n     è¯ä»·äººæ°      3\n     å¯¼æ¼        0\n     ç¼å§        0\n     ä¸»æ¼        0\n     ç±»å        0\n     å½å®¶/å°åº     6\n     è¯­è¨        6\n     æ¶é¿(åé)    6\n     dtype: int64\n         \n     #ç»è®¡dfä¸­æænanå¼\n     df.isna().sum().sum()\n     \n     \n     1\n     2\n     3\n     4\n     5\n     6\n     7\n     8\n     9\n     10\n     11\n     12\n     13\n     14\n     15\n     16\n     17\n     18\n     \n\n * pd.notnull(df) å¤æ­df æ¯å¦ænan å¦æåè¿åfalse\n\n * np.all(pd.notnull(movie)) éé¢å¦ææä¸ä¸ªç¼ºå¤±å¼ åä¸ºfalse åè¿åfalse\n\n * np.any(pd.isnull(movie)) éè¿np.any åªæéé¢æä¸ä¸ªä¸ºnullå°±è¿åtrue\n\n * é«äº®ç¼ºå¤±å¼\n   \n   * (df[df.isnull().t.any() == true]\n     .style\n     .highlight_null(null_color='skyblue'))\n     \n     \n     1\n     2\n     3\n     \n\n\n# æ¿æ¢åæ¿æ¢ç¼ºå¤±å¼ææ è®°å¼\n\n * df.dropna() å é¤æænp.nan ç´æ¥å é¤ä¸è¡æ°æ®\n   \n   * df.dropna(axis=1) #æè¡å é¤\n     df.dropna(axis=0,subset=[\"åå1\",\"åå2\"]) #å é¤æå®åä¸­çç¼ºå¤±å¼\n     \n     \n     1\n     2\n     \n\n * df.fillna(value, inplace=false) æ¿æ¢ææçç¼ºå¤±å¼ä¸ºæå®å¼\n   \n   * value:ç¼ºå¤±å¼å°è¦æ¿æ¢æçå¼\n   \n   * inplace:true:ä¼ä¿®æ¹åæ°æ®ï¼é»è®¤ä¸ºfalse:ä¸æ¿æ¢ä¿®æ¹åæ°æ®ï¼çææ°çå¯¹è±¡\n   \n   * #å¯ä»¥æ¿æ¢åå\n     movie[\"revenue (millions)\"].fillna(value=movie[\"revenue (millions)\"].mean(),inplace=true)  \n     #æ´æ¢æå®åä¸­çnp.nanä¸º revenue (millions)çä¸­ä½å¼  inplaceä¸ºæ¯å¦æ¿æ¢åæ¥æ°æ® é»è®¤ä¸ºfalseä¸æ¿æ¢åæ¥æ°æ®\n     \n     #å°è¯ååçç¼ºå¤±å¼ï¼æ¿æ¢ä¸ºä¸ä¸ä¸ªçµå½±çè¯å\n     df['è¯å'] = df['è¯å'].fillna(axis=0,method='ffill')\n     \n     #ä¸ä¸åå¼å¡«å\n     df['è¯ä»·äººæ°'] = df['è¯ä»·äººæ°'].fillna(df['è¯ä»·äººæ°'].interpolate())\n     \n     #å¹éå¡«å\n     df['è¯­è¨']=df.groupby('å½å®¶/å°åº').è¯­è¨.bfill() \n     #bfill:ååå¡«å  ffill:ååå¡«å  é»è®¤ axis=0(åæ¹å)  vs  axis=1(è¡æ¹å)\n     \n     \n     1\n     2\n     3\n     4\n     5\n     6\n     7\n     8\n     9\n     10\n     11\n     12\n     13\n     \n\n * df.replace(to_replace=, value=)\n   \n   * #åæè¢«æ è®°çç¼ºå¤±å¼ ä¹æ¯? æ¿æ¢ænp.nan\n     wis = wis.replace(to_replace='?',value=np.nan)\n     #åè¿è¡ç¼ºå¤±å¼å¤ç\n     wis = wis.dropna()\n     wis.head(10)\n     \n     \n     1\n     2\n     3\n     4\n     5\n     \n\n\n# ç¼ºå¤±å¼è½¬æ¢\n\nä¸å°ç¼ºå¤±å¼æ è®°ä¸º nan\n\ndata = pd.read_csv('ææèç½ç«æ°æ®.csv', keep_default_na=false)\ndata\n\n\n1\n2\n\n\nnanä¼åæç©ºå­ç¬¦\n\n\n# ç¼ºå¤±å¼æ è®°\n\nå°æå®çå­ç¬¦æ è®°ä¸ºnanç¼ºå¤±å¼\n\ndata = pd.read_csv('ææèç½ç«æ°æ®.csv',na_values=['[]'])\ndata\n\n\n1\n2\n\n\n\n# ç¼ºå¤±å¼å¿½ç¥\n\nå¿½ç¥ç¼ºå¤±å¼ åä¸ºç©ºå­ç¬¦ä¸²\n\ndata = pd.read_csv(\"ææèç½ç«æ°æ®.csv\",na_filter=false)\ndata\n\n\n1\n2\n\n\n\n# æ°æ®ç¦»æ£å\n\nè¿ç»­å±æ§çç¦»æ£åå°±æ¯å¨è¿ç»­å±æ§çå¼åä¸ï¼å°å¼åååä¸ºè¥å¹²ä¸ªç¦»æ£çåºé´ï¼æåç¨ä¸åçç¬¦å·ææ´æ° å¼ä»£è¡¨è½å¨æ¯ä¸ªå­åºé´ä¸­çå±æ§å¼ã\n\n\n\n * pd.qcut(data, q) å¯¹æ°æ®è¿è¡åç»å°æ°æ®åç»ï¼ä¸è¬ä¼ä¸value_countsæ­éä½¿ç¨ï¼ç»è®¡æ¯ç»çä¸ªæ° å³å°æ°æ®ååä¸ºæå®ä¸ªæ°çåºé´\n   \n   * # èªè¡åç»\n     qcut = pd.qcut(p_change, 10)  #å°æ­¤æ°æ®é ç¦»æ£åå¹³åå10ä¸ªç»\n     # è®¡ç®åå°æ¯ä¸ªç»æ°æ®ä¸ªæ°\n     qcut.value_counts()  #æ¥çæ¯ä¸ªç»å±æå¤å°ä¸ªæ°æ®é\n     \n     \n     1\n     2\n     3\n     4\n     \n\n * series.value_counts()ï¼ç»è®¡åç»æ¬¡æ°\n\n * pd.cut(data, bins) èªå®ä¹åºé´åç»\n   \n   * bins = [-100, -7, -5, -3, 0, 3, 5, 7, 100]  # éè¿èªå®ä¹åºé´èå´æ¥åç»\n     cut_r = pd.cut(data_p, bins=bins)\n     cut_r.value_counts()\n     \n     \n     (0, 3]        215\n     (-3, 0]       188\n     (3, 5]         57\n     (-5, -3]       51\n     (5, 7]         35\n     (7, 100]       35\n     (-100, -7]     34\n     (-7, -5]       28\n     name: p_change, dtype: int64\n     \n     \n     1\n     2\n     3\n     4\n     5\n     6\n     7\n     8\n     9\n     10\n     11\n     12\n     13\n     14\n     \n\n\n# one-hotç¼ç \n\nææ¯ä¸ªç±»å«çæä¸ä¸ªå¸å°åï¼è¿äºåä¸­åªæä¸åå¯ä»¥ä¸ºè¿ä¸ªæ ·æ¬åå¼ä¸º1.å¶åè¢«ç§°ä¸ºç¬ç­ç¼ç ã\n\n\n\n * pd.get_dummies(data,prefix=\"åºé´åç¼æµè¯\") å°æ®è½¬ä¸º one-hotç¼ç  prefixä¸ºåºé´åç¼æ¹ä¾¿éè¯»åçè§£\n\n\n# æ°æ®åå¹¶\n\n\n# concat\n\n * pd.concat([data1, data2], axis=1) å°ä¸¤ä¸ªdfè¿è¡åå¹¶\n   \n   * æç§è¡æåè¿è¡åå¹¶,axis=0ä¸ºåç´¢å¼ï¼axis=1ä¸ºè¡ç´¢å¼\n   \n   * #é»è®¤ä¸ºè¡è¿æ¥  éè¿æå®axis=1ä¸ºæåè¿æ¥\n     pd.concat([data,data_dummies],axis=1) #æ¨ªåæ¼æ¥\n     pd.concat([df1,df2,df3]) #éç½®æ¼æ¥\n     \n     \n     1\n     2\n     3\n     \n   \n   * ignore_index: éç½®ç´¢å¼ é»è®¤ä¸ºflase\n     \n     * pd.concat([df1,df4],ignore_index=true)\n       \n       \n       1\n       \n   \n   * join: ä»ä¹æ¹å¼å å¥\n     \n     * inner:é»è®¤ åè¿æ¥\n       \n       * pd.concat([df1,df4],axis=1,join='inner')\n         \n         \n         1\n         \n   \n   * keys: æ¯ä¸ªè¡¨æå æ¥åºåä¸åçè¡¨æ°æ®æ¥æº\n     \n     * pd.concat([df1, df2, df3], keys=['x', 'y', 'z'])\n       \n       \n       a\tb\tc\td\n       x\t0\ta0\tb0\tc0\td0\n       1\ta1\tb1\tc1\td1\n       2\ta2\tb2\tc2\td2\n       3\ta3\tb3\tc3\td3\n       y\t4\ta4\tb4\tc4\td4\n       5\ta5\tb5\tc5\td5\n       6\ta6\tb6\tc6\td6\n       7\ta7\tb7\tc7\td7\n       z\t8\ta8\tb8\tc8\td8\n       9\ta9\tb9\tc9\td9\n       10\ta10\tb10\tc10\td10\n       11\ta11\tb11\tc11\td11\n       \n       \n       1\n       2\n       3\n       4\n       5\n       6\n       7\n       8\n       9\n       10\n       11\n       12\n       13\n       14\n       15\n       16\n       \n\n\n# merge\n\n * pd.merge(left, right, how='inner', on=none)\n   \n   * å¯ä»¥æå®æç§ä¸¤ç»æ°æ®çå±åé®å¼å¯¹åå¹¶æèå·¦å³åèª\n   \n   * left : dataframe\n   \n   * right : å¦ä¸ä¸ªdataframe\n   \n   * on : æå®çå±åé®\n     \n     * pd.merge(left, right, on='key') #ä»¥åç§°ä¸ºkeyçåä¸ºå±åé®è¿æ¥\n       pd.merge(left, right, on=['key1', 'key2']) # å¤é®\n       \n       \n       1\n       2\n       \n   \n   * how:æç§ä»ä¹æ¹å¼è¿æ¥\n     \n     * left:å·¦è¿æ¥\n       \n       * pd.merge(left, right,how=\"left\")\n         \n         \n         1\n         \n     \n     * right:å³è¿æ¥\n     \n     * outer:å¨å¤è¿æ¥\n     \n     * inner: åè¿æ¥\n   \n   * suffixes:å°è¿æ¥è¡¨é¤oné® ä»¥å¤çå ä¸ºåç¼ååºåæ°æ®\n     \n     * pd.merge(left, right, on='k', suffixes=['_l', '_r'])\n       \n       \n       k\tv_l\tv_r\n       0\tk0\t1\t4\n       1\tk0\t1\t5\n       \n       \n       \n       1\n       2\n       3\n       4\n       5\n       6\n       7\n       \n   \n   * pd.merge(left,right,on=[\"key1\",\"key2\"])  #é»è®¤ä¸ºåè¿æ¥\n     pd.merge(left,right,on=[\"key1\",\"key2\"],how=\"inner\")   #éè¿howå±æ§æå®è¿æ¥ç±»å é»è®¤innerä¸ºåè¿æ¥\n     pd.merge(left,right,on=[\"key1\",\"key2\"],how=\"outer\")   #outer æ»¡å¤è¿æ¥ æ²¡æçå¼ä¼ä»¥nanå­å¨ éè¦æ³¨æ\n     pd.merge(left,right,on=[\"key1\",\"key2\"],how=\"left\") # å·¦è¿æ¥\n     pd.merge(left,right,on=[\"key1\",\"key2\"],how=\"right\") # å³è¿æ¥\n     \n     \n     1\n     2\n     3\n     4\n     5\n     \n\n\n# join ç»å\n\n * df1.join(right,how=\"outer\") å°ä¸¤è¡¨è¿è¡ç»å é»è®¤ä¸ºåè¿æ¥\n   \n   * left.join(right) \n     \n     \n     1\n     \n   \n   * how: è¿æ¥æ¹å¼\n     \n     * left.join(right,how=\"outer\")\n       \n       \n       1\n       \n     \n     * outer\n     \n     * left\n     \n     * right\n     \n     * inner\n   \n   * on: å±åé® æåå\n     \n     * left.join(right, on='v1')\n       left.join(right, on=[\"key1\",\"key2\"]) #å¤ä¸ªå\n       \n       \n       1\n       2\n       \n\n\n# äº¤åè¡¨ä¸éè§è¡¨\n\n * pd.crosstab(value1, value2) pd.crosstab(value1, value2) äº¤åè¡¨ç¨äºè®¡ç®ä¸åæ°æ®å¯¹äºå¦å¤ä¸åæ°æ®çåç»ä¸ªæ°(ç¨äºç»è®¡åç»é¢ççç¹æ®éè§è¡¨)\n\n * df.pivot_table([], ,values = [],index=[],aggfunc=\"mean\") éè§è¡¨æ¯å°åæçdataframeçååå«ä½ä¸ºè¡ç´¢å¼ååç´¢å¼ï¼ç¶åå¯¹æå®çååºç¨èéå½æ°\n   \n   * data.pivot_table([\"p_n\"],index=\"week\")  \n     \n     \tp_n\n     week\t\n     0\t0.496000\n     1\t0.580153\n     2\t0.537879\n     3\t0.507812\n     4\t0.535433\n     \n     pd.pivot_table(df,values = ['éå®é¢','å©æ¶¦','æ°é'],index = 'ç±»å«',aggfunc = sum) #å¤å(ææ )\n     pd.pivot_table(df,values = ['éå®é¢'],index = ['ç/èªæ²»åº','ç±»å«'],aggfunc = sum) # å¤ç´¢å¼\n     \n     \n     1\n     2\n     3\n     4\n     5\n     6\n     7\n     8\n     9\n     10\n     11\n     12\n     \n   \n   * values :ææ \n     \n     * pd.pivot_table(df,values = ['éå®é¢'],index = 'ç/èªæ²»åº')\n       \n       \n       1\n       \n   \n   * index:ç´¢å¼å\n   \n   * columns: åå\n     \n     * pd.pivot_table(df,values = ['éå®é¢'],index = ['ç/èªæ²»åº'], columns='ç±»å«',aggfunc = sum) #å¤å±\n       \n       \n       1\n       \n   \n   * aggfunc: éè§å¾ä½¿ç¨çæ¹æ³ é»è®¤ä¸ºmeanå¹³åå¼\n     \n     * pd.pivot_table(df,values = ['éå®é¢'],index = 'ç/èªæ²»åº',aggfunc = sum)\n       pd.pivot_table(df,values = ['éå®é¢'],index = 'ç/èªæ²»åº',aggfunc = ['mean',sum]) #å¤ä¸ªèåæ¹æ³\n       \n       \n       1\n       2\n       \n   \n   * margins: stringï¼é»è®¤ä¸ºâallâï¼å½åæ°marginsä¸ºtrueæ¶ï¼allè¡ååçåå­\n     \n     * pd.pivot_table(df,values = ['éå®é¢','æ°é'],index = ['ç/èªæ²»åº','ç±»å«'],aggfunc = ['mean',sum],margins=true)\n       \n       \n       1\n       \n   \n   * df.melt() ééè§\n     \n     * table = pd.pivot_table(df,values = ['éå®é¢','å©æ¶¦','æ°é'],index = 'ç±»å«',aggfunc = sum)\n       table.melt(id_vars=['æ°é'],var_name='åç±»',value_name='éé¢')\n       \n       \n       1\n       2\n       \n\n\n# åç»ä¸èå\n\nåç»ä¸èåéå¸¸æ¯åææ°æ®çä¸ç§æ¹å¼ï¼éå¸¸ä¸ä¸äºç»è®¡å½æ°ä¸èµ·ä½¿ç¨ï¼æ¥çæ°æ®çåç»æåµ\n\n * df.groupby(key, as_index=false)\n   \n   * key:åç»çåæ°æ®ï¼å¯ä»¥å¤ä¸ª\n   \n   * col.groupby([\"color\"])[\"price1\"].mean()  #æç§åç´¢å¼coloråç»  åæ ¹æ®åç»åçprice1åæ±ä¸­ä½å¼\n     col[\"price1\"].groupby(col[\"color\"]).mean()  #ååºprice1çå¼ åæcoloråç» åæ±ä¸­ä½å¼\n     col.groupby([\"color\"],as_index=false)[\"price1\"].mean()  #ä¸ºåç»èååçæ°æ®ç»è¡ç´¢å¼\n     df[['district','salary']].groupby(by='district').mean().sort_values('salary',ascending=false).head(1) #åç»å¹¶æåº\n     \n     pd.dataframe(df.groupby(\"district\")['companysize'].value_counts()).rename_axis([\"è¡æ¿åº\", \"å¬å¸è§æ¨¡\"]) #åç»å ä¿®æ¹ç´¢å¼å\n     \n     \n     1\n     2\n     3\n     4\n     5\n     6\n     \n   \n   * groupby().groups ä»¥å­å¸å½¢å¼æ¥çååç»åå®¹\n     \n     * df.groupby([\"district\",\"salary\"]).groups\n       \n       {('ä¸ååº', 22500): [81], ('ä¸ååº', 30000): [97], ('ä¸æ²', 30000): [31], ('ä½æ­åº', 7500): [84], ('ä½æ­åº', 20000): [52, 103], ('ä½æ­åº', 22500): [23, 51], ('ä½æ­åº', 25000): [62], ('ä½æ­åº', 27500): [24, 49], ('ä½æ­åº', 29000): [93], ('ä½æ­åº', 30000): [4, 10, 13, 18, 59, 61, 65, 68, 74, 76, 86, 92, 94], ('ä½æ­åº', 35000): [101], ('ä½æ­åº', 37500): [0, 32, 38, 39, 41], ('ä½æ­åº', 40000): [60, 87], ('ä½æ­åº', 45000): [25], ('ä½æ­åº', 50000): [5, 64, 90], ('ä½æ­åº', 60000): [8, 82], ('æ±å¢åº', 24000): [72], ('æ±å¢åº', 30000): [54, 89, 96], ('æ±å¹²åº', 3500): [2], ('æ±å¹²åº', 22500): [45], ('æ±å¹²åº', 30000): [73], ('æ±å¹²åº', 45000): [3], ('æ»¨æ±åº', 7500): [83], ('æ»¨æ±åº', 15000): [1], ('æ»¨æ±åº', 20000): [21, 40], ('æ»¨æ±åº', 22500): [37], ('æ»¨æ±åº', 30000): [22, 53, 55, 58, 67, 80, 102], ('æ»¨æ±åº', 32500): [26], ('æ»¨æ±åº', 37500): [17, 28, 57, 77], ('æ»¨æ±åº', 42500): [91], ('æ»¨æ±åº', 45000): [43, 47], ('æ»¨æ±åº', 50000): [44], ('è§å±±åº', 25000): [100], ('è§å±±åº', 30000): [6], ('è§å±±åº', 45000): [66, 69], ('è¥¿æ¹åº', 6500): [71], ('è¥¿æ¹åº', 20000): [12], ('è¥¿æ¹åº', 21500): [104], ('è¥¿æ¹åº', 22500): [48, 70], ('è¥¿æ¹åº', 24000): [42], ('è¥¿æ¹åº', 25000): [56], ('è¥¿æ¹åº', 26500): [78], ('è¥¿æ¹åº', 27000): [75], ('è¥¿æ¹åº', 27500): [15, 20, 50, 63], ('è¥¿æ¹åº', 30000): [11, 27, 33, 34, 85, 88, 98], ('è¥¿æ¹åº', 35000): [7], ('è¥¿æ¹åº', 36500): [99], ('è¥¿æ¹åº', 37500): [14, 16, 19, 30, 36, 79, 95], ('è¥¿æ¹åº', 40000): [9, 35], ('è¥¿æ¹åº', 45000): [29, 46]}\n       \n       \n       1\n       2\n       3\n       \n   \n   * groupby().get_group æ¥çåç»åæå®å¼æ°æ®\n     \n     * df.groupby([\"district\", \"salary\"]).get_group((\"è¥¿æ¹åº\", 30000))\n       \n       \n       1\n       \n   \n   * groupby().transform(\"èåå½æ°å\") åç»è½¬æ¢\n     \n     * df['è¯¥åºå¹³åå·¥èµ'] = df[['district','salary']].groupby(by='district').transform('mean')\n       df\n       \n       \n       1\n       2\n       \n   \n   * groupby().filter() åç»è¿æ»¤\n     \n     * df.groupby('district').filter(lambda x: x['salary'].mean() < 30000)\n       \n       \n       1\n       \n   \n   * groupby().agg([\"èåå½æ°å1\",\"èåå½æ°å2\"]) å°åç»çæ°æ® èåç»è®¡\n     \n     * df.groupby('district')['salary'].agg([min, max, np.mean])\n       \n       df.groupby('positionname').agg({'salary': np.median, 'score': np.mean}) #æå®ä»¥æå®èåå½æ°æ¥è·åå¼\n       \n       df.groupby('district').agg(\n           {'salary': [np.mean, np.median, np.std], 'score': np.mean}) #å¤å±èå\n       \n       \n       #èªå®ä¹å½æ°èå\n       def myfunc(x):\n       \n           return x.max()-x.mean()\n       \n       df.groupby('district').agg(æä½å·¥èµ=('salary', 'min'), æé«å·¥èµ=(\n           'salary', 'max'), å¹³åå·¥èµ=('salary', 'mean'), æå¤§å¼ä¸åå¼å·®å¼=('salary', myfunc)).rename_axis([\"è¡æ¿åº\"])\n       \n       \n       \n       1\n       2\n       3\n       4\n       5\n       6\n       7\n       8\n       9\n       10\n       11\n       12\n       13\n       14\n       15\n       16\n       \n     \n     * agg.rename_axis(\"åå\") ä¿®æ¹åå\n       \n       * df.groupby('district').agg(æä½å·¥èµ=('salary', 'min'), æé«å·¥èµ=(\n             'salary', 'max'), å¹³åå·¥èµ=('salary', 'mean')).rename_axis([\"è¡æ¿åº\"])\n         \n         \n         1\n         2\n         \n   \n   \n   # åç»å¯è§å\n   \n   import matplotlib.pyplot as plt\n   %config inlinebackend.figure_format = 'retina'\n   plt.rcparams['font.sans-serif'] = ['songti sc']\n   \n   \n   df.groupby(\"district\")['positionname'].count().plot(\n       kind='bar', figsize=(10, 6), color='#5172f0', fontsize=12)\n   \n   plt.rcparams['font.sans-serif'] = 'simhei'\n   plt.rcparams['axes.unicode_minus'] = false\n   \n   plt.ylabel(\"å¬å¸æ°é\", fontsize=14)\n   plt.xlabel(\"æ­å·å¸ååº\", fontsize=14)\n   \n   plt.show()\n   \n   \n   \n   1\n   2\n   3\n   4\n   5\n   6\n   7\n   8\n   9\n   10\n   11\n   12\n   13\n   14\n   15\n   16\n   \n\n\n\n\n# æ¶é´å¤ç\n\nä»æä»¶ä¸­è¯»åçæ¶é´é»è®¤æobjectç±»å éè¦è½¬ä¸ºpdæ¶é´æè½è¿è¡è¿ç®\n\n * pd.to_datetime(data) å°æå®åè½¬ä¸ºæ¶é´åºå è¿ådatatimeå¯¹è±¡\n * datetime.weekday ææå \n * datetime.week æä¸­ç¬¬å ä¸ªææ\n * datetime.day å å·\n * datetime.year å¹´\n * datetime.total_seconds() å°æ¶é´è½¬ä¸ºç§\n\nt1 = datetime.datetime.strptime(\"2021-11-03 10:30:00\", \"%y-%m-%d %h:%m:%s\")\nt2 = datetime.datetime.strptime(\"2021-11-03 12:30:00\", \"%y-%m-%d %h:%m:%s\")\n\ntime = (t2-t1).total_seconds() #è·åæ¶é´å·®\n\n\n1\n2\n3\n4\n\n\n\n# å»é\n\n * df.drop_duplicates(subset=['åå'], keep='first') å»é åªä¿çç¬¬ä¸ä¸ª\n   \n   * keep: firstä¸ºä¿çéå¤å¼ä¸­ç¬¬ä¸ä¸ª lastä¸ºä¿çæåä¸ä¸ª\n     \n     * df.drop_duplicates(keep=\"last\")\n       \n       \n       1\n       \n   \n   * subset: åå\n\n * df[\"åå\"].uniue()\n\n * æ¥æ¾è¡æ¯å¦å­å¨éå¤å¼\n   \n   * df[df.duplicated()]\n     \n     2      true\n     3      true\n     4      true\n     5      true\n     6      true\n            ... \n     257    true\n     258    true\n     259    true\n     260    true\n     261    true\n     length: 260, dtype: bool\n     \n     \n     1\n     2\n     3\n     4\n     5\n     6\n     7\n     8\n     9\n     10\n     11\n     12\n     13\n     14\n     \n\n * æ¥è¯¢æå®åä¸­çéå¤å¼\n   \n   * df[df.duplicated(['çå'])]\n     \n     \n     1\n     \n\n\n# ç­åå¾\n\ndf.corr().style.background_gradient(cmap='coolwarm').set_precision(2)\n\n### æ¹æ³äº ###\n\n#åå© `matplotlib` å `seaborn` \n\n# å¶ä¸­ä¸­æè®¾ç½®å¯ä»¥åèæçè¿ç¯æç«  https://mp.weixin.qq.com/s/wkogvqp-6quap00zxjhweg\nimport seaborn as sns\nimport matplotlib.pyplot as plt\n\nplt.figure(figsize = (9,6),dpi=100)\nsns.set(font='songti sc')\nsns.heatmap(df.corr().round(2),annot=true,cmap='rdbu')\nplt.show()\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n\n\n\n\n\n# ç­åå°å¾\n\nç»å pyecharts è¿è¡å°å¾å¯è§å\n\nfrom pyecharts import options as opts\nfrom pyecharts.charts import map\nlist1 = list(pd.dataframe(df.çå¸.value_counts()).index)\nlist2 = list(pd.dataframe(df.çå¸.value_counts()).çå¸)\n\n\nc = (\n    map()\n    .add('', [list(z) for z in zip(list1,list2)], \"china\",is_map_symbol_show=false)\n    .set_global_opts(\n        title_opts=opts.titleopts(title=\"æåå100é«æ ¡åçå¸å æ¯\"),\n        visualmap_opts=opts.visualmapopts(max_=20),\n       \n\n    )\n)\nc.render_notebook()\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n\n\n\n\n\n# ç´æ¹å¾\n\nimport seaborn as sns\nsns.set(font='songti sc')\nsns.distplot(df['æ»å'])\n\n\n1\n2\n3\n\n\n",charsets:{cjk:!0},lastUpdated:"2022/03/18, 07:01:11",lastUpdatedTimestamp:1647558071e3},{title:"winutils",frontmatter:{title:"winutils",date:"2022-03-17T21:41:51.000Z",permalink:"/pages/981612/",categories:["Hadoop"],tags:[null]},regularPath:"/%E5%A4%A7%E6%95%B0%E6%8D%AE/01.Hadoop/04.winutils.html",relativePath:"å¤§æ°æ®/01.Hadoop/04.winutils.md",key:"v-9c664796",path:"/pages/981612/",headersStr:null,content:"# winutils\n\nhttps://github.com/steveloughran/winutils\n\nä¸è½½3.1.3çæ¬ è¦ä¸pom.xml apiçæ¬ä¸è´\n\néç½®ç¯å¢åé\n\næ·»å HADOOP_HOME = D:\\compile\\hadoop\n\nå¹¶ä¸å¨pathéé¢ æ·»å  %HADOOP_HOME%\\bin\n\n#cmdä¸­è¿è¡\nwinutils\n\n\n1\n2\n\n\næ·è´D:\\compile\\hadoop\\bin\\hadoop.dllæä»¶ æ·è´å° c:\\windows\\system32\n\nå¹¶éå¯çµè",normalizedContent:"# winutils\n\nhttps://github.com/steveloughran/winutils\n\nä¸è½½3.1.3çæ¬ è¦ä¸pom.xml apiçæ¬ä¸è´\n\néç½®ç¯å¢åé\n\næ·»å hadoop_home = d:\\compile\\hadoop\n\nå¹¶ä¸å¨pathéé¢ æ·»å  %hadoop_home%\\bin\n\n#cmdä¸­è¿è¡\nwinutils\n\n\n1\n2\n\n\næ·è´d:\\compile\\hadoop\\bin\\hadoop.dllæä»¶ æ·è´å° c:\\windows\\system32\n\nå¹¶éå¯çµè",charsets:{cjk:!0},lastUpdated:"2022/03/18, 07:01:11",lastUpdatedTimestamp:1647558071e3},{title:"Hadoop",frontmatter:{title:"Hadoop",date:"2022-03-17T21:41:51.000Z",permalink:"/pages/8e0c98/",categories:["Hadoop"],tags:["Hadoop"]},regularPath:"/%E5%A4%A7%E6%95%B0%E6%8D%AE/01.Hadoop/01.Hadoop.html",relativePath:"å¤§æ°æ®/01.Hadoop/01.Hadoop.md",key:"v-3b8fa256",path:"/pages/8e0c98/",headers:[{level:2,title:"hadoop ä¸å¤§åè¡ç",slug:"hadoop-ä¸å¤§åè¡ç",normalizedTitle:"hadoop ä¸å¤§åè¡ç",charIndex:105},{level:2,title:"Hadoop çä¼å¿",slug:"hadoop-çä¼å¿",normalizedTitle:"hadoop çä¼å¿",charIndex:288},{level:2,title:"Hadoop ç»æ",slug:"hadoop-ç»æ",normalizedTitle:"hadoop ç»æ",charIndex:339},{level:3,title:"HDFS æ¶æ",slug:"hdfs-æ¶æ",normalizedTitle:"hdfs æ¶æ",charIndex:355},{level:3,title:"YARN æ¶æ",slug:"yarn-æ¶æ",normalizedTitle:"yarn æ¶æ",charIndex:540},{level:3,title:"MapReduce æ¡æ¶",slug:"mapreduce-æ¡æ¶",normalizedTitle:"mapreduce æ¡æ¶",charIndex:571},{level:3,title:"å¤§æ°æ®ææ¯çæä½ç³»",slug:"å¤§æ°æ®ææ¯çæä½ç³»",normalizedTitle:"å¤§æ°æ®ææ¯çæä½ç³»",charIndex:633}],headersStr:"hadoop ä¸å¤§åè¡ç Hadoop çä¼å¿ Hadoop ç»æ HDFS æ¶æ YARN æ¶æ MapReduce æ¡æ¶ å¤§æ°æ®ææ¯çæä½ç³»",content:"# Hadoop\n\nHadoop apache åºéä¼å¼åçåå¸å¼ç³»ç»åºç¡æ¶æ\n\nä¸»è¦è§£å³ æµ·éæ°æ®çå­å¨åæµ·éæ°æ®çåæè®¡ç®é®é¢\n\nå¹¿ä¹æ¥è¯´,hadoopéå¸¸æ¯æä¸ä¸ªæ´å¹¿æ³çæ¦å¿µ hadoopçæå\n\n\n# hadoop ä¸å¤§åè¡ç\n\napache çæ¬ æåå§(åºç¡)ççæ¬ å¥é¨å­¦ä¹ è¾å¥½\n\nhttp://archive.apache.org/dist/hadoop/core/\n\ncloudera åé¨éæäºå¾å¤å¤§æ°æ®æ¡æ¶ å¯¹åºäº§å CDH\n\nhortonworks ææ¡£è¾å¥½ å¯¹åºäº§å HDP\n\ncloudera å hortonworks ç®åä¸¤å®¶å·²ç»åå¹¶\n\n\n# Hadoop çä¼å¿\n\n 1. é«å¯é æ§\n 2. é«æ©å±æ§\n 3. é«ææ§\n 4. é«å®¹éæ§\n\n\n# Hadoop ç»æ\n\n\n\n\n# HDFS æ¶æ\n\n 1. NameNode(nn) å­å¨æä»¶çåæ°æ® å¦æä»¶å,ç®å½ç»æ æä»¶å¤±æ ä»¥åæ¯ä¸ªæä»¶çååè¡¨ååæå¨çDataNode\n 2. DataNode(dn) å¨æ¬å°æä»¶ç³»ç»å­å¨æä»¶åæ°æ® ä»¥ååæ°æ®çæ ¡éªå\n 3. Secondary NameNode(2nn) æ¯éä¸æ®µæ¶é´å¯¹NameNodeåæ°æ®å¤ä»½ ä¸æ¯ç­å¤ä»½ 2nnæ¯nnçè¾å©\n\n\n# YARN æ¶æ\n\nè´è´£èµæºè°åº¦ CPUååå­èµæº\n\n\n\n\n# MapReduce æ¡æ¶\n\n * Mapé¶æ®µå¹¶è¡å¤çè¾å¥æ°æ® åå\n * Reduceé¶æ®µå¯¹Mapç»æè¿è¡æ±æ»\n\n\n\n\n# å¤§æ°æ®ææ¯çæä½ç³»\n\n",normalizedContent:"# hadoop\n\nhadoop apache åºéä¼å¼åçåå¸å¼ç³»ç»åºç¡æ¶æ\n\nä¸»è¦è§£å³ æµ·éæ°æ®çå­å¨åæµ·éæ°æ®çåæè®¡ç®é®é¢\n\nå¹¿ä¹æ¥è¯´,hadoopéå¸¸æ¯æä¸ä¸ªæ´å¹¿æ³çæ¦å¿µ hadoopçæå\n\n\n# hadoop ä¸å¤§åè¡ç\n\napache çæ¬ æåå§(åºç¡)ççæ¬ å¥é¨å­¦ä¹ è¾å¥½\n\nhttp://archive.apache.org/dist/hadoop/core/\n\ncloudera åé¨éæäºå¾å¤å¤§æ°æ®æ¡æ¶ å¯¹åºäº§å cdh\n\nhortonworks ææ¡£è¾å¥½ å¯¹åºäº§å hdp\n\ncloudera å hortonworks ç®åä¸¤å®¶å·²ç»åå¹¶\n\n\n# hadoop çä¼å¿\n\n 1. é«å¯é æ§\n 2. é«æ©å±æ§\n 3. é«ææ§\n 4. é«å®¹éæ§\n\n\n# hadoop ç»æ\n\n\n\n\n# hdfs æ¶æ\n\n 1. namenode(nn) å­å¨æä»¶çåæ°æ® å¦æä»¶å,ç®å½ç»æ æä»¶å¤±æ ä»¥åæ¯ä¸ªæä»¶çååè¡¨ååæå¨çdatanode\n 2. datanode(dn) å¨æ¬å°æä»¶ç³»ç»å­å¨æä»¶åæ°æ® ä»¥ååæ°æ®çæ ¡éªå\n 3. secondary namenode(2nn) æ¯éä¸æ®µæ¶é´å¯¹namenodeåæ°æ®å¤ä»½ ä¸æ¯ç­å¤ä»½ 2nnæ¯nnçè¾å©\n\n\n# yarn æ¶æ\n\nè´è´£èµæºè°åº¦ cpuååå­èµæº\n\n\n\n\n# mapreduce æ¡æ¶\n\n * mapé¶æ®µå¹¶è¡å¤çè¾å¥æ°æ® åå\n * reduceé¶æ®µå¯¹mapç»æè¿è¡æ±æ»\n\n\n\n\n# å¤§æ°æ®ææ¯çæä½ç³»\n\n",charsets:{cjk:!0},lastUpdated:"2022/03/18, 07:01:11",lastUpdatedTimestamp:1647558071e3},{title:"ç¯å¢å®è£",frontmatter:{title:"ç¯å¢å®è£",date:"2022-03-17T21:41:51.000Z",permalink:"/pages/083fca/",categories:["Hadoop"],tags:[null]},regularPath:"/%E5%A4%A7%E6%95%B0%E6%8D%AE/01.Hadoop/02.%E7%8E%AF%E5%A2%83%E5%AE%89%E8%A3%85.html",relativePath:"å¤§æ°æ®/01.Hadoop/02.ç¯å¢å®è£.md",key:"v-ef3e7878",path:"/pages/083fca/",headers:[{level:2,title:"èææºå®è£åç½®",slug:"èææºå®è£åç½®",normalizedTitle:"èææºå®è£åç½®",charIndex:56},{level:2,title:"ä¿®æ¹éæå°å",slug:"ä¿®æ¹éæå°å",normalizedTitle:"ä¿®æ¹éæå°å",charIndex:293},{level:2,title:"ä¿®æ¹ä¸»æºå",slug:"ä¿®æ¹ä¸»æºå",normalizedTitle:"ä¿®æ¹ä¸»æºå",charIndex:599},{level:2,title:"ä¿®æ¹hosts",slug:"ä¿®æ¹hosts",normalizedTitle:"ä¿®æ¹hosts",charIndex:664},{level:2,title:"å³é­é²ç«å¢",slug:"å³é­é²ç«å¢",normalizedTitle:"å³é­é²ç«å¢",charIndex:951},{level:2,title:"åå»ºç¨æ·",slug:"åå»ºç¨æ·",normalizedTitle:"åå»ºç¨æ·",charIndex:1032},{level:2,title:"ä¿®æ¹atguiguæé",slug:"ä¿®æ¹atguiguæé",normalizedTitle:"ä¿®æ¹atguiguæé",charIndex:1102},{level:2,title:"å®è£java",slug:"å®è£java",normalizedTitle:"å®è£java",charIndex:1370},{level:2,title:"å®è£hadoop",slug:"å®è£hadoop",normalizedTitle:"å®è£hadoop",charIndex:1752},{level:2,title:"SSHåå¯ç»é",slug:"sshåå¯ç»é",normalizedTitle:"sshåå¯ç»é",charIndex:2057},{level:3,title:"xsync èæ¬",slug:"xsync-èæ¬",normalizedTitle:"xsync èæ¬",charIndex:2368},{level:3,title:"å¤å¶sshåå¯key",slug:"å¤å¶sshåå¯key",normalizedTitle:"å¤å¶sshåå¯key",charIndex:3340},{level:3,title:"åæ­¥ç¯å¢",slug:"åæ­¥ç¯å¢",normalizedTitle:"åæ­¥ç¯å¢",charIndex:3391},{level:2,title:"hadoopéç½®æä»¶",slug:"hadoopéç½®æä»¶",normalizedTitle:"hadoopéç½®æä»¶",charIndex:3480},{level:3,title:"éç½®core-site.xml",slug:"éç½®core-site-xml",normalizedTitle:"éç½®core-site.xml",charIndex:3540},{level:3,title:"éç½®hdfs-site.xml",slug:"éç½®hdfs-site-xml",normalizedTitle:"éç½®hdfs-site.xml",charIndex:4309},{level:3,title:"éç½®yarn-site.xml",slug:"éç½®yarn-site-xml",normalizedTitle:"éç½®yarn-site.xml",charIndex:4534},{level:3,title:"éç½®mapred-site.xml",slug:"éç½®mapred-site-xml",normalizedTitle:"éç½®mapred-site.xml",charIndex:5878},{level:3,title:"éç½®workers",slug:"éç½®workers",normalizedTitle:"éç½®workers",charIndex:6182},{level:3,title:"åæ­¥",slug:"åæ­¥",normalizedTitle:"åæ­¥",charIndex:251},{level:2,title:"å¯å¨éç¾¤",slug:"å¯å¨éç¾¤",normalizedTitle:"å¯å¨éç¾¤",charIndex:6365},{level:3,title:"dfså¯å¨",slug:"dfså¯å¨",normalizedTitle:"dfså¯å¨",charIndex:6606},{level:3,title:"JPS",slug:"jps",normalizedTitle:"jps",charIndex:6645},{level:2,title:"éç½®åå²æå¡å¨",slug:"éç½®åå²æå¡å¨",normalizedTitle:"éç½®åå²æå¡å¨",charIndex:6663},{level:3,title:"éç½®mapred-site.xml",slug:"éç½®mapred-site-xml-2",normalizedTitle:"éç½®mapred-site.xml",charIndex:5878},{level:2,title:"éç½®æ¥å¿èé",slug:"éç½®æ¥å¿èé",normalizedTitle:"éç½®æ¥å¿èé",charIndex:7087},{level:3,title:"éç½® yarn-site.xml",slug:"éç½®-yarn-site-xml",normalizedTitle:"éç½® yarn-site.xml",charIndex:7098},{level:2,title:"éç½®å®æéæ°åæ­¥ å¹¶å¯å¨",slug:"éç½®å®æéæ°åæ­¥-å¹¶å¯å¨",normalizedTitle:"éç½®å®æéæ°åæ­¥ å¹¶å¯å¨",charIndex:8107},{level:2,title:"éç¾¤æ¶é´åæ­¥",slug:"éç¾¤æ¶é´åæ­¥",normalizedTitle:"éç¾¤æ¶é´åæ­¥",charIndex:8441},{level:3,title:"ä¿®æ¹ntpéç½®æä»¶",slug:"ä¿®æ¹ntpéç½®æä»¶",normalizedTitle:"ä¿®æ¹ntpéç½®æä»¶",charIndex:8551},{level:3,title:"ä¿®æ¹ntpdæä»¶",slug:"ä¿®æ¹ntpdæä»¶",normalizedTitle:"ä¿®æ¹ntpdæä»¶",charIndex:8894},{level:3,title:"å¶ä»æºå¨éç½®",slug:"å¶ä»æºå¨éç½®",normalizedTitle:"å¶ä»æºå¨éç½®",charIndex:9050},{level:2,title:"å¸¸ç¨ç«¯å£",slug:"å¸¸ç¨ç«¯å£",normalizedTitle:"å¸¸ç¨ç«¯å£",charIndex:9174},{level:3,title:"hadopp2.xå3.xç«¯å£åå",slug:"hadopp2-xå3-xç«¯å£åå",normalizedTitle:"hadopp2.xå3.xç«¯å£åå",charIndex:9183},{level:3,title:"HDFS",slug:"hdfs",normalizedTitle:"hdfs",charIndex:5022},{level:3,title:"Yarn",slug:"yarn",normalizedTitle:"yarn",charIndex:10081},{level:3,title:"Hbase",slug:"hbase",normalizedTitle:"hbase",charIndex:11135},{level:3,title:"Hive",slug:"hive",normalizedTitle:"hive",charIndex:11873},{level:3,title:"Zookeeper",slug:"zookeeper",normalizedTitle:"zookeeper",charIndex:12209}],headersStr:"èææºå®è£åç½® ä¿®æ¹éæå°å ä¿®æ¹ä¸»æºå ä¿®æ¹hosts å³é­é²ç«å¢ åå»ºç¨æ· ä¿®æ¹atguiguæé å®è£java å®è£hadoop SSHåå¯ç»é xsync èæ¬ å¤å¶sshåå¯key åæ­¥ç¯å¢ hadoopéç½®æä»¶ éç½®core-site.xml éç½®hdfs-site.xml éç½®yarn-site.xml éç½®mapred-site.xml éç½®workers åæ­¥ å¯å¨éç¾¤ dfså¯å¨ JPS éç½®åå²æå¡å¨ éç½®mapred-site.xml éç½®æ¥å¿èé éç½® yarn-site.xml éç½®å®æéæ°åæ­¥ å¹¶å¯å¨ éç¾¤æ¶é´åæ­¥ ä¿®æ¹ntpéç½®æä»¶ ä¿®æ¹ntpdæä»¶ å¶ä»æºå¨éç½® å¸¸ç¨ç«¯å£ hadopp2.xå3.xç«¯å£åå HDFS Yarn Hbase Hive Zookeeper",content:'# ç¯å¢å®è£\n\nhttps://hadoop.apache.org/docs/stable/ å®æ¹ææ¡£\n\n\n# èææºå®è£åç½®\n\nsudo yum install -y epel-release  #é¢å¤è½¯ä»¶æº\nsudo yum install -y psmisc nc net-tools rsync vim lrzsz ntp libzstd openssl-static tree iotop git wget #å®è£ psmiscå·¥å·å  ncå·¥å·å net-toolså·¥å·å rsync è¿ç¨åæ­¥  vimç¼è¾å¨ lrzszä¸ä¼ ä¸è½½  ntpæ¶é´åæ­¥ \n\n\n1\n2\n\n\n\n# ä¿®æ¹éæå°å\n\nsudo vim /etc/sysconfig/network-scripts/ifcfg-ens33\n#å¦æåå¯ä»¥ ctrl+alt+tab è¡¥å¨  \n\n\n1\n2\n\n\néç½®ä¸ºç¬¦åç è®°å¾æ¹UUIDåMacå°å\n\nDEVICE=ens33\nTYPE=Ethernet\nONBOOT=yes\nBOOTPROTO=static\nNAME="ens33"\nIPADDR=192.168.1.101\nPREFIX=24\nGATEWAY=192.168.1.2\nDNS1=192.168.1.2\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n\n\nservice network restart\n\n\n1\n\n\n\n# ä¿®æ¹ä¸»æºå\n\nsudo hostnamectl --static set-hostname hadoop102\n\n\n1\n\n\n\n# ä¿®æ¹hosts\n\nsudo vim /etc/hosts\n\n\n1\n\n\n192.168.1.100 hadoop100\n192.168.1.101 hadoop101\n192.168.1.102 hadoop102\n192.168.1.103 hadoop103\n192.168.1.104 hadoop104\n192.168.1.105 hadoop105\n192.168.1.106 hadoop106\n192.168.1.107 hadoop107\n192.168.1.108 hadoop108\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n\n\nç©çæºä¹æ¹host\n\n\n# å³é­é²ç«å¢\n\nsudo systemctl stop firewalld\nsudo systemctl disable firewalld\n\n\n1\n2\n\n\n\n# åå»ºç¨æ·\n\nsudo useradd atguigu\nsudo passwd atguigu\n\nreboot\n\n\n1\n2\n3\n4\n\n\n\n# ä¿®æ¹atguiguæé\n\nvisudo\n\n\n1\n\n\n#ç¬¬91è¡\n## Allow root to run any commands anywhere\nroot    ALL=(ALL)     ALL\natguigu   ALL=(ALL)     ALL\n\n\n1\n2\n3\n4\n\n\nåå»ºoptä¸çå­æ¾ç®å½\n\ncd /opt\nsudo mkdir module\nsudo mkdir software\nsudo chown atguigu:atguigu /opt/module /opt/software\n\n\n1\n2\n3\n4\n\n\n\n# å®è£java\n\nåå¸è½½\n\nrpm -qa | grep -i java | xargs -n1 sudo rpm -e --nodeps\n\n\n1\n\n\nè§£å\n\ncd /opt/software/\ntar -zxvf jdk-8u212-linux-x64.tar.gz -C /opt/module/\n\n\n1\n2\n\n\néç½®ç¯å¢åé\n\nsudo vim /etc/profile.d/my_env.sh\n\n\n1\n\n\n#JAVA_HOME\n#yum ä¸º/usr/lib/jvm/java\nexport JAVA_HOME=/opt/module/jdk1.8.0_212 \nexport PATH=$PATH:$JAVA_HOME/bin\n\n\n1\n2\n3\n4\n\n\næ´æ°ç¯å¢åé\n\nsource /etc/profile\njava -version\n\n\n1\n2\n\n\n\n# å®è£hadoop\n\nè§£å\n\ntar -zxvf hadoop-3.1.3.tar.gz -C /opt/module/\n\n\n1\n\n\néç½®ç¯å¢åé\n\nsudo vim /etc/profile.d/my_env.sh\n\n\n1\n\n\n##HADOOP_HOME\nexport HADOOP_HOME=/opt/module/hadoop-3.1.3\nexport PATH=$PATH:$HADOOP_HOME/bin\nexport PATH=$PATH:$HADOOP_HOME/sbin\n\n\n1\n2\n3\n4\n\n\næ´æ°\n\nsource /etc/profile\nhadoop version\n\n\n1\n2\n\n\n\n# SSHåå¯ç»é\n\nçæå¯é¥ å¨é¨åè½¦ ä¸ºç©ºå³å¯\n\nssh-keygen -t rsa\n\n\n1\n\n\nåéå¯é¥ ç»å¦å¤ä¸å°ä¸»æº\n\nssh-copy-id hadoop102\n\nssh-copy-id hadoop103\n\nssh-copy-id hadoop104\n\n\n1\n2\n3\n4\n5\n\n\né»è®¤å­å¨å¨ /home/ç¨æ·/.sshæä»¶ä¸\n\næ³¨æï¼\n\nè¿éè¦å¨hadoop102ä¸éç¨rootè´¦å·ï¼éç½®ä¸ä¸æ å¯ç»å½å°hadoop102ãhadoop103ãhadoop104ï¼\n\nè¿éè¦å¨hadoop103ä¸éç¨atguiguè´¦å·éç½®ä¸ä¸æ å¯ç»å½å°hadoop102ãhadoop103ãhadoop104æå¡å¨ä¸ã\n\n\n# xsync èæ¬\n\nå®è£\n\nyum install -y rsync\n\n\n1\n\n\nåå»ºxsyncèæ¬\n\ncd /home/atguigu\nvim xsync\n\n\n1\n2\n\n\n#!/bin/bash\n#1. å¤æ­åæ°ä¸ªæ°\nif [ $# -lt 1 ]\nthen\n  echo Not Enough Arguement!\n  exit;\nfi\n#2. éåéç¾¤æææºå¨\nfor host in hadoop102 hadoop103 hadoop104\ndo\n  echo ====================  $host  ====================\n  #3. éåææç®å½ï¼æ¨ä¸ªåé\n  for file in $@\n  do\n    #4 å¤æ­æä»¶æ¯å¦å­å¨\n    if [ -e $file ]\n    then\n      #5. è·åç¶ç®å½\n      pdir=$(cd -P $(dirname $file); pwd)\n      #6. è·åå½åæä»¶çåç§°\n      fname=$(basename $file)\n      ssh $host "mkdir -p $pdir"\n      rsync -av $pdir/$fname $host:$pdir\n    else\n      echo $file does not exists!\n    fi\n  done\ndone\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n26\n27\n28\n\n\nchmod +x xsync\nsudo mv xsync /bin/   #å°èæ¬ç§»å¨å°/binä¸­ï¼ä»¥ä¾¿å¨å±è°ç¨\n\n\n1\n2\n\n\nhttps://rsync.samba.org/\n\nhttps://vault.centos.org/6.5/os/x86_64/\n\nå®è£åå®è£\n\nwget https://vault.centos.org/6.5/os/x86_64/Packages/rsync-3.0.6-9.el6_4.1.x86_64.rpm\nrpm -ivh rsync-3.0.6-9.el6_4.1.x86_64.rpm\n\n\n1\n2\n\n\n\n# å¤å¶sshåå¯key\n\ncd /home/atguigu\nxsync .ssh\n\n\n1\n2\n\n\n\n# åæ­¥ç¯å¢\n\nåæ­¥ç¯å¢åé\n\nsudo xsync /etc/profile.d/my_env.sh\n\n\n1\n\n\nåæ­¥è½¯ä»¶\n\ncd /\nsxsync opt\n\n\n1\n2\n\n\n\n# hadoopéç½®æä»¶\n\ncd /opt/module/hadoop-3.1.3/etc/hadoop\n\n\n1\n\n\n\n# éç½®core-site.xml\n\nvim core-site.xml \n\n\n1\n\n\nå¨<configuration>æ ç­¾ä¸­è¿½å \n\n<property>\n        <name>fs.defaultFS</name>\n    \x3c!-- éç½®hdfsé»è®¤çå°å --\x3e\n        <value>hdfs://hadoop102:8020</value>\n    </property>\n    <property>\n        \x3c!-- éç½®hadoopä¸´æ¶å­æ¾è·¯å¾--\x3e\n        <name>hadoop.tmp.dir</name>\n        <value>/opt/module/hadoop-3.1.3/data</value>\n    </property>\n    <property>\n        \x3c!-- å¼å®¹æ§éç½®hive --\x3e\n        <name>hadoop.proxyuser.atguigu.hosts</name>\n        <value>*</value>\n    </property>\n    <property>\n        <name>hadoop.proxyuser.atguigu.groups</name>\n        <value>*</value>\n    </property>\n    <property>\n        <name>hadoop.http.staticuser.user</name>\n        <value>atguigu</value>\n    </property>\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n\n\n\n# éç½®hdfs-site.xml\n\nvim hdfs-site.xml\n\n\n1\n\n\nåæ ·å¨<configuration>æ ç­¾ä¸­è¿½å \n\n<property>\n    \x3c!-- 2nnçå°å --\x3e\n        <name>dfs.namenode.secondary.http-address</name>\n        <value>hadoop104:9868</value>\n    </property>\n\n\n1\n2\n3\n4\n5\n\n\n\n# éç½®yarn-site.xml\n\nvim yarn-site.xml\n\n\n1\n\n\nåæ ·å¨<configuration>æ ç­¾ä¸­è¿½å \n\n<property>\n    \x3c!--è®¾ç½®NodeManagerä¸è¿è¡çéå±æå¡ï¼ééç½®æmapreduce_shuffleæå¯è¿è¡MapReduceç¨åº--\x3e\n        <name>yarn.nodemanager.aux-services</name>\n        <value>mapreduce_shuffle</value>\n    </property>\n    <property>\n        <name>yarn.resourcemanager.hostname</name>\n        <value>hadoop103</value>\n    </property>\n    <property>\n        <name>yarn.nodemanager.env-whitelist</name>\n        <value>JAVA_HOME,HADOOP_COMMON_HOME,HADOOP_HDFS_HOME,HADOOP_CONF_DIR,CLASSPATH_PREPEND_DISTCACHE,HADOOP_YARN_HOME,HADOOP_MAPRED_HOME</value>\n    </property>\n\t\x3c!--è®¾å®åä¸ªå®¹å¨å¯ä»¥ç³é¢å°çæå°åå­èµæº--\x3e\n    <property>\n        <name>yarn.scheduler.minimum-allocation-mb</name>\n        <value>2048</value>\n    </property>\n    <property>\n        <name>yarn.scheduler.maximum-allocation-mb</name>\n        <value>4096</value>\n    </property>\n\x3c!--è®¾å®ç©çèç¹æ4Gåå­å å¥èµæºæ± --\x3e\n    <property>\n        <name>yarn.nodemanager.resource.memory-mb</name>\n        <value>4096</value>\n    </property>\n    <property>\n        <name>yarn.nodemanager.pmem-check-enabled</name>\n        <value>false</value>\n    </property>\n    <property>\n        <name>yarn.nodemanager.vmem-check-enabled</name>\n        <value>false</value>\n    </property>\n\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n26\n27\n28\n29\n30\n31\n32\n33\n34\n35\n36\n\n\n\n# éç½®mapred-site.xml\n\nvim mapred-site.xml\n\n\n1\n\n\nåæ ·å¨<configuration>æ ç­¾ä¸­è¿½å \n\n\x3c!--Hadoopå¯¹MapReduceè¿è¡æ¡æ¶ä¸å±æä¾äº3ç§å®ç°ï¼å¨mapred-site.xmlä¸­éè¿"mapreduce.framework.name"è¿ä¸ªå±æ§æ¥è®¾ç½®ä¸º"classic"ã"yarn"æè"local"--\x3e\n<property>\n        <name>mapreduce.framework.name</name>\n        <value>yarn</value>\n    </property>\n\n\n1\n2\n3\n4\n5\n\n\n\n# éç½®workers\n\nvim /opt/module/hadoop-3.1.3/etc/hadoop/workers\n\n\n1\n\n\nå é¤localhost æä»¶ä¸­æ·»å çåå®¹ç»å°¾ä¸åè®¸æç©ºæ ¼ï¼æä»¶ä¸­ä¸åè®¸æç©ºè¡ã\n\nhadoop102\nhadoop103\nhadoop104\n\n\n1\n2\n3\n\n\n\n# åæ­¥\n\ncd ..\nxsync hadoop\n\n\n1\n2\n\n\n\n# å¯å¨éç¾¤\n\næ ¼å¼åhdfs\n\nhdfs namenode -format  #å¨èç¹æºå­ä¸\n\n\n1\n\n\nå¯å¨éç¾¤\n\nstart-dfs.sh\n\n\n1\n\n\nå¦ææ¥javaæªæ¾å° ä¿®æ¹hadoop.env.shæä»¶\n\nvim /opt/module/hadoop-3.1.3/etc/hadoop/hadoop.env.sh\n\n\n1\n\n\nä¿®æ¹JAVA_HOMEä¸º å¹¶åæ­¥\n\nexport JAVA_HOME=/usr/lib/jvm/java\n\n\n1\n\n\n\n\næ¾ç¤ºè¿æ ·å¯å¨æå\n\n\n# dfså¯å¨\n\nå¨103ä¸­å¯å¨\n\nstart-yarn.sh\n\n\n1\n\n\n\n# JPS\n\nJPS\n\n\n1\n\n\n\n# éç½®åå²æå¡å¨\n\nå³é­dfsåyarn\n\nstop-yarn.sh  #103\nstop-dfs.sh  #102\n\n\n1\n2\n\n\n\n# éç½®mapred-site.xml\n\nvi mapred-site.xml\n\n\n1\n\n\nåæ ·å¨<configuration>æ ç­¾ä¸­è¿½å \n\n\x3c!-- åå²æå¡å¨ç«¯å°å --\x3e\n<property>\n    <name>mapreduce.jobhistory.address</name>\n    <value>hadoop102:10020</value>\n</property>\n\n\x3c!-- åå²æå¡å¨webç«¯å°å --\x3e\n<property>\n    <name>mapreduce.jobhistory.webapp.address</name>\n    <value>hadoop102:19888</value>\n</property>\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n\n\n\n# éç½®æ¥å¿èé\n\n\n# éç½® yarn-site.xml\n\nvim yarn-site.xml\n\n\n1\n\n\nåæ ·å¨<configuration>æ ç­¾ä¸­è¿½å \n\n<property>\n    \x3c!-- å¼å¯æ¥å¿èé--\x3e\n    <name>yarn.log-aggregation-enable</name>\n    <value>true</value>\n</property>\n<property>  \n    \x3c!-- æ¥å¿æå¡å¨--\x3e\n    <name>yarn.log.server.url</name>  \n    <value>http://${yarn.timeline-service.webapp.address}/applicationhistory/logs</value>\n</property>\n<property>\n    \x3c!-- æ¥å¿ä¿å­æ¶é´--\x3e\n    <name>yarn.log-aggregation.retain-seconds</name>\n    <value>604800</value>\n</property>\n<property>\n    <name>yarn.timeline-service.enabled</name>\n    <value>true</value>\n</property>\n<property>\n    <name>yarn.timeline-service.hostname</name>\n    <value>${yarn.resourcemanager.hostname}</value>\n</property>\n<property>\n    <name>yarn.timeline-service.http-cross-origin.enabled</name>\n    <value>true</value>\n</property>\n<property>\n    <name>yarn.resourcemanager.system-metrics-publisher.enabled</name>\n    <value>true</value>\n</property>\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n26\n27\n28\n29\n30\n31\n\n\n\n# éç½®å®æéæ°åæ­¥ å¹¶å¯å¨\n\ncd ..\nxsync hadoop/\n\n\n1\n2\n\n\néæ°å¯å¨\n\nstart-dfs.sh  #102\n\nstart-yarn.sh  #103\n\nmapred --daemon start historyserver  #102 å¯å¨åå²æå¡å¨\n\n\n1\n2\n3\n4\n5\n\n\néç½®å®æåä¸è¦åæ­¥æ´ä¸ªhadoopæä»¶å¤¹ åªéè¦etcéç½®æä»¶å¤¹ åä¸ä¸è¦åæ­¥dataæä»¶å¤¹\n\nå¦æ³ä¿®æ¹dataè·¯å¾\n\nvim /opt/module/hadoop-3.1.3/etc/hadoop/core-site.xml  #hadoop.data.dir\n\n\n1\n\n\nå¦ææ³éæ°æéç½®å¼ å é¤ælogsæä»¶å¤¹éçä¸è¥¿ éæ°æ ¼å¼åHDFS åå¯å¨\n\n\n# éç¾¤æ¶é´åæ­¥\n\nå¨ææèç¹å³é­ntpæå¡åèªå¯å¨\n\nå»ºè®®rootç¨æ·ä¸æä½\n\nsu -\nsudo systemctl stop ntpd\nsudo systemctl disable ntpd\n\n\n1\n2\n3\n\n\n\n# ä¿®æ¹ntpéç½®æä»¶\n\nvim /etc/ntp.conf\n\n\n1\n\n\nrestrict 192.168.130.2 mask 255.255.255.0 nomodify notrap  #å»æ#å·ä¿®æ¹å³å¯\n\n#å ä¸äºå·\n#server 0.centos.pool.ntp.org iburst\n#server 1.centos.pool.ntp.org iburst\n#server 2.centos.pool.ntp.org iburst\n#server 3.centos.pool.ntp.org iburst\n\n#æ·»å \nserver 127.127.1.0\nfudge 127.127.1.0 stratum 10\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n\n\n\n# ä¿®æ¹ntpdæä»¶\n\nvim /etc/sysconfig/ntpd\n\n\n1\n\n\n#è¿½å \nSYNC_HWCLOCK=yes\n\n\n1\n2\n\n\n#éå¯æå¡\nsystemctl start ntpd\n\n#å¼æºå¯å¨\nsystemctl enable ntpd\n\n\n1\n2\n3\n4\n5\n\n\nä»¥ä¸ä¿®æ¹æä»¶å¨102è¿è¡\n\n\n# å¶ä»æºå¨éç½®\n\nåæ¢rootç¨æ· è¿è¡\n\nsu -\ncrontab -e\n\n\n1\n2\n\n\n#è¿½å \n*/1 * * * * /usr/sbin/ntpdate hadoop102\n\n\n1\n2\n\n\ndate  #æ¥çå½åæ¶é´æ¯å¦åæ­¥\n\n\n1\n\n\n\n# å¸¸ç¨ç«¯å£\n\n\n# hadopp2.xå3.xç«¯å£åå\n\nHADOOP2.X    HADOOP3.X   \nè®¿é®HDFSç«¯å£     50070       9870\nè®¿é®MRæ§è¡æåµç«¯å£   8088        8088\nåå²æå¡å¨        19888       19888\nå®¢æ·ç«¯è®¿é®éç¾¤ç«¯å£    9000        8020\n\n\n\n\n# HDFS\n\nç»ä»¶     èç¹            ç«¯å£     éç½®                             ç¨éè¯´æ\nHDFS   Namenode      9870   dfs.namenode.http-address      httpæå¡çç«¯å£\nHDFS   NameNode      9871   dfs.namenode.https-address     httpsæå¡çç«¯å£\nHDFS   NameNode      9820   fs.defaultFS                   æ¥æ¶Clientè¿æ¥çRPCç«¯å£ï¼ç¨äºè·åæä»¶ç³»ç»metadataä¿¡æ¯ã\nHDFS   DataNode      9866   dfs.datanode.address           datanodeæå¡ç«¯å£ï¼ç¨äºæ°æ®ä¼ è¾\nHDFS   DataNode      9864   dfs.datanode.http.address      httpæå¡çç«¯å£\nHDFS   DataNode      9865   dfs.datanode.https.address     httpsæå¡çç«¯å£\nHDFS   DataNode      9867   dfs.datanode.ipc.address       ipcæå¡çç«¯å£\nHDFS   journalnode   8485   dfs.journalnode.rpc-address    RPCæå¡\nHDFS   journalnode   8480   dfs.journalnode.http-address   HTTPæå¡\n\n\n# Yarn\n\nç»ä»¶     èç¹                  ç«¯å£      éç½®                                              ç¨éè¯´æ\nYARN   ResourceManager     8032    yarn.resourcemanager.address                    RMçapplications manager(ASM)ç«¯å£\nYARN   ResourceManager     8030    yarn.resourcemanager.scheduler.address          schedulerç»ä»¶çIPCç«¯å£\nYARN   ResourceManager     8031    yarn.resourcemanager.resource-tracker.address   IPC\nYARN   ResourceManager     8033    yarn.resourcemanager.admin.address              IPC\nYARN   ResourceManager     8088    yarn.resourcemanager.webapp.address             httpæå¡ç«¯å£\nYARN   NodeManager         8040    yarn.nodemanager.localizer.address              localizer IPC\nYARN   NodeManager         8042    yarn.nodemanager.webapp.address                 httpæå¡ç«¯å£\nYARN   NodeManager         8041    yarn.nodemanager.address                        NMä¸­container managerçç«¯å£\nYARN   JobHistory Server   10020   mapreduce.jobhistory.address                    IPC\nYARN   JobHistory Server   19888   mapreduce.jobhistory.webapp.address             httpæå¡ç«¯å£\n\n\n# Hbase\n\nç»ä»¶      èç¹             ç«¯å£      éç½®                                    ç¨éè¯´æ\nHBase   Master         60000   hbase.master.port                     IPC\nHBase   Master         60010   hbase.master.info.port                httpæå¡ç«¯å£\nHBase   RegionServer   60020   hbase.regionserver.port               IPC\nHBase   RegionServer   60030   hbase.regionserver.info.port          httpæå¡ç«¯å£\nHBase   HQuorumPeer    2181    hbase.zookeeper.property.clientPort   HBase-managed ZK modeï¼ä½¿ç¨ç¬ç«çZooKeeperéç¾¤åä¸ä¼å¯ç¨è¯¥ç«¯å£ã\nHBase   HQuorumPeer    2888    hbase.zookeeper.peerport              HBase-managed ZK modeï¼ä½¿ç¨ç¬ç«çZooKeeperéç¾¤åä¸ä¼å¯ç¨è¯¥ç«¯å£ã\nHBase   HQuorumPeer    3888    hbase.zookeeper.leaderport            HBase-managed ZK modeï¼ä½¿ç¨ç¬ç«çZooKeeperéç¾¤åä¸ä¼å¯ç¨è¯¥ç«¯å£ã\n\n\n# Hive\n\nç»ä»¶     èç¹           ç«¯å£      éç½®                                                      ç¨éè¯´æ\nHive   Metastore    9083    /etc/default/hive-metastoreä¸­export PORT=<port>æ¥æ´æ°é»è®¤ç«¯å£   \nHive   HiveServer   10000   /etc/hive/conf/hive-env.shä¸­export                       \n                            HIVE_SERVER2_THRIFT_PORT=<port>æ¥æ´æ°é»è®¤ç«¯å£\n\n\n# Zookeeper\n\nç»ä»¶          èç¹       ç«¯å£     éç½®                                                                   ç¨éè¯´æ\nZooKeeper   Server   2181   /etc/zookeeper/conf/zoo.cfgä¸­clientPort=<port>                        å¯¹å®¢æ·ç«¯æä¾æå¡çç«¯å£\nZooKeeper   Server   2888   /etc/zookeeper/conf/zoo.cfgä¸­server.x=[hostname]:nnnnn[:nnnnn]ï¼æ èé¨å   followerç¨æ¥è¿æ¥å°leaderï¼åªå¨leaderä¸çå¬è¯¥ç«¯å£ã\nZooKeeper   Server   3888   /etc/zookeeper/conf/zoo.cfgä¸­server.x=[hostname]:nnnnn[:nnnnn]ï¼æ èé¨å   ç¨äºleaderéä¸¾çãåªå¨electionAlgæ¯1,2æ3(é»è®¤)æ¶éè¦ã',normalizedContent:'# ç¯å¢å®è£\n\nhttps://hadoop.apache.org/docs/stable/ å®æ¹ææ¡£\n\n\n# èææºå®è£åç½®\n\nsudo yum install -y epel-release  #é¢å¤è½¯ä»¶æº\nsudo yum install -y psmisc nc net-tools rsync vim lrzsz ntp libzstd openssl-static tree iotop git wget #å®è£ psmiscå·¥å·å  ncå·¥å·å net-toolså·¥å·å rsync è¿ç¨åæ­¥  vimç¼è¾å¨ lrzszä¸ä¼ ä¸è½½  ntpæ¶é´åæ­¥ \n\n\n1\n2\n\n\n\n# ä¿®æ¹éæå°å\n\nsudo vim /etc/sysconfig/network-scripts/ifcfg-ens33\n#å¦æåå¯ä»¥ ctrl+alt+tab è¡¥å¨  \n\n\n1\n2\n\n\néç½®ä¸ºç¬¦åç è®°å¾æ¹uuidåmacå°å\n\ndevice=ens33\ntype=ethernet\nonboot=yes\nbootproto=static\nname="ens33"\nipaddr=192.168.1.101\nprefix=24\ngateway=192.168.1.2\ndns1=192.168.1.2\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n\n\nservice network restart\n\n\n1\n\n\n\n# ä¿®æ¹ä¸»æºå\n\nsudo hostnamectl --static set-hostname hadoop102\n\n\n1\n\n\n\n# ä¿®æ¹hosts\n\nsudo vim /etc/hosts\n\n\n1\n\n\n192.168.1.100 hadoop100\n192.168.1.101 hadoop101\n192.168.1.102 hadoop102\n192.168.1.103 hadoop103\n192.168.1.104 hadoop104\n192.168.1.105 hadoop105\n192.168.1.106 hadoop106\n192.168.1.107 hadoop107\n192.168.1.108 hadoop108\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n\n\nç©çæºä¹æ¹host\n\n\n# å³é­é²ç«å¢\n\nsudo systemctl stop firewalld\nsudo systemctl disable firewalld\n\n\n1\n2\n\n\n\n# åå»ºç¨æ·\n\nsudo useradd atguigu\nsudo passwd atguigu\n\nreboot\n\n\n1\n2\n3\n4\n\n\n\n# ä¿®æ¹atguiguæé\n\nvisudo\n\n\n1\n\n\n#ç¬¬91è¡\n## allow root to run any commands anywhere\nroot    all=(all)     all\natguigu   all=(all)     all\n\n\n1\n2\n3\n4\n\n\nåå»ºoptä¸çå­æ¾ç®å½\n\ncd /opt\nsudo mkdir module\nsudo mkdir software\nsudo chown atguigu:atguigu /opt/module /opt/software\n\n\n1\n2\n3\n4\n\n\n\n# å®è£java\n\nåå¸è½½\n\nrpm -qa | grep -i java | xargs -n1 sudo rpm -e --nodeps\n\n\n1\n\n\nè§£å\n\ncd /opt/software/\ntar -zxvf jdk-8u212-linux-x64.tar.gz -c /opt/module/\n\n\n1\n2\n\n\néç½®ç¯å¢åé\n\nsudo vim /etc/profile.d/my_env.sh\n\n\n1\n\n\n#java_home\n#yum ä¸º/usr/lib/jvm/java\nexport java_home=/opt/module/jdk1.8.0_212 \nexport path=$path:$java_home/bin\n\n\n1\n2\n3\n4\n\n\næ´æ°ç¯å¢åé\n\nsource /etc/profile\njava -version\n\n\n1\n2\n\n\n\n# å®è£hadoop\n\nè§£å\n\ntar -zxvf hadoop-3.1.3.tar.gz -c /opt/module/\n\n\n1\n\n\néç½®ç¯å¢åé\n\nsudo vim /etc/profile.d/my_env.sh\n\n\n1\n\n\n##hadoop_home\nexport hadoop_home=/opt/module/hadoop-3.1.3\nexport path=$path:$hadoop_home/bin\nexport path=$path:$hadoop_home/sbin\n\n\n1\n2\n3\n4\n\n\næ´æ°\n\nsource /etc/profile\nhadoop version\n\n\n1\n2\n\n\n\n# sshåå¯ç»é\n\nçæå¯é¥ å¨é¨åè½¦ ä¸ºç©ºå³å¯\n\nssh-keygen -t rsa\n\n\n1\n\n\nåéå¯é¥ ç»å¦å¤ä¸å°ä¸»æº\n\nssh-copy-id hadoop102\n\nssh-copy-id hadoop103\n\nssh-copy-id hadoop104\n\n\n1\n2\n3\n4\n5\n\n\né»è®¤å­å¨å¨ /home/ç¨æ·/.sshæä»¶ä¸\n\næ³¨æï¼\n\nè¿éè¦å¨hadoop102ä¸éç¨rootè´¦å·ï¼éç½®ä¸ä¸æ å¯ç»å½å°hadoop102ãhadoop103ãhadoop104ï¼\n\nè¿éè¦å¨hadoop103ä¸éç¨atguiguè´¦å·éç½®ä¸ä¸æ å¯ç»å½å°hadoop102ãhadoop103ãhadoop104æå¡å¨ä¸ã\n\n\n# xsync èæ¬\n\nå®è£\n\nyum install -y rsync\n\n\n1\n\n\nåå»ºxsyncèæ¬\n\ncd /home/atguigu\nvim xsync\n\n\n1\n2\n\n\n#!/bin/bash\n#1. å¤æ­åæ°ä¸ªæ°\nif [ $# -lt 1 ]\nthen\n  echo not enough arguement!\n  exit;\nfi\n#2. éåéç¾¤æææºå¨\nfor host in hadoop102 hadoop103 hadoop104\ndo\n  echo ====================  $host  ====================\n  #3. éåææç®å½ï¼æ¨ä¸ªåé\n  for file in $@\n  do\n    #4 å¤æ­æä»¶æ¯å¦å­å¨\n    if [ -e $file ]\n    then\n      #5. è·åç¶ç®å½\n      pdir=$(cd -p $(dirname $file); pwd)\n      #6. è·åå½åæä»¶çåç§°\n      fname=$(basename $file)\n      ssh $host "mkdir -p $pdir"\n      rsync -av $pdir/$fname $host:$pdir\n    else\n      echo $file does not exists!\n    fi\n  done\ndone\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n26\n27\n28\n\n\nchmod +x xsync\nsudo mv xsync /bin/   #å°èæ¬ç§»å¨å°/binä¸­ï¼ä»¥ä¾¿å¨å±è°ç¨\n\n\n1\n2\n\n\nhttps://rsync.samba.org/\n\nhttps://vault.centos.org/6.5/os/x86_64/\n\nå®è£åå®è£\n\nwget https://vault.centos.org/6.5/os/x86_64/packages/rsync-3.0.6-9.el6_4.1.x86_64.rpm\nrpm -ivh rsync-3.0.6-9.el6_4.1.x86_64.rpm\n\n\n1\n2\n\n\n\n# å¤å¶sshåå¯key\n\ncd /home/atguigu\nxsync .ssh\n\n\n1\n2\n\n\n\n# åæ­¥ç¯å¢\n\nåæ­¥ç¯å¢åé\n\nsudo xsync /etc/profile.d/my_env.sh\n\n\n1\n\n\nåæ­¥è½¯ä»¶\n\ncd /\nsxsync opt\n\n\n1\n2\n\n\n\n# hadoopéç½®æä»¶\n\ncd /opt/module/hadoop-3.1.3/etc/hadoop\n\n\n1\n\n\n\n# éç½®core-site.xml\n\nvim core-site.xml \n\n\n1\n\n\nå¨<configuration>æ ç­¾ä¸­è¿½å \n\n<property>\n        <name>fs.defaultfs</name>\n    \x3c!-- éç½®hdfsé»è®¤çå°å --\x3e\n        <value>hdfs://hadoop102:8020</value>\n    </property>\n    <property>\n        \x3c!-- éç½®hadoopä¸´æ¶å­æ¾è·¯å¾--\x3e\n        <name>hadoop.tmp.dir</name>\n        <value>/opt/module/hadoop-3.1.3/data</value>\n    </property>\n    <property>\n        \x3c!-- å¼å®¹æ§éç½®hive --\x3e\n        <name>hadoop.proxyuser.atguigu.hosts</name>\n        <value>*</value>\n    </property>\n    <property>\n        <name>hadoop.proxyuser.atguigu.groups</name>\n        <value>*</value>\n    </property>\n    <property>\n        <name>hadoop.http.staticuser.user</name>\n        <value>atguigu</value>\n    </property>\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n\n\n\n# éç½®hdfs-site.xml\n\nvim hdfs-site.xml\n\n\n1\n\n\nåæ ·å¨<configuration>æ ç­¾ä¸­è¿½å \n\n<property>\n    \x3c!-- 2nnçå°å --\x3e\n        <name>dfs.namenode.secondary.http-address</name>\n        <value>hadoop104:9868</value>\n    </property>\n\n\n1\n2\n3\n4\n5\n\n\n\n# éç½®yarn-site.xml\n\nvim yarn-site.xml\n\n\n1\n\n\nåæ ·å¨<configuration>æ ç­¾ä¸­è¿½å \n\n<property>\n    \x3c!--è®¾ç½®nodemanagerä¸è¿è¡çéå±æå¡ï¼ééç½®æmapreduce_shuffleæå¯è¿è¡mapreduceç¨åº--\x3e\n        <name>yarn.nodemanager.aux-services</name>\n        <value>mapreduce_shuffle</value>\n    </property>\n    <property>\n        <name>yarn.resourcemanager.hostname</name>\n        <value>hadoop103</value>\n    </property>\n    <property>\n        <name>yarn.nodemanager.env-whitelist</name>\n        <value>java_home,hadoop_common_home,hadoop_hdfs_home,hadoop_conf_dir,classpath_prepend_distcache,hadoop_yarn_home,hadoop_mapred_home</value>\n    </property>\n\t\x3c!--è®¾å®åä¸ªå®¹å¨å¯ä»¥ç³é¢å°çæå°åå­èµæº--\x3e\n    <property>\n        <name>yarn.scheduler.minimum-allocation-mb</name>\n        <value>2048</value>\n    </property>\n    <property>\n        <name>yarn.scheduler.maximum-allocation-mb</name>\n        <value>4096</value>\n    </property>\n\x3c!--è®¾å®ç©çèç¹æ4gåå­å å¥èµæºæ± --\x3e\n    <property>\n        <name>yarn.nodemanager.resource.memory-mb</name>\n        <value>4096</value>\n    </property>\n    <property>\n        <name>yarn.nodemanager.pmem-check-enabled</name>\n        <value>false</value>\n    </property>\n    <property>\n        <name>yarn.nodemanager.vmem-check-enabled</name>\n        <value>false</value>\n    </property>\n\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n26\n27\n28\n29\n30\n31\n32\n33\n34\n35\n36\n\n\n\n# éç½®mapred-site.xml\n\nvim mapred-site.xml\n\n\n1\n\n\nåæ ·å¨<configuration>æ ç­¾ä¸­è¿½å \n\n\x3c!--hadoopå¯¹mapreduceè¿è¡æ¡æ¶ä¸å±æä¾äº3ç§å®ç°ï¼å¨mapred-site.xmlä¸­éè¿"mapreduce.framework.name"è¿ä¸ªå±æ§æ¥è®¾ç½®ä¸º"classic"ã"yarn"æè"local"--\x3e\n<property>\n        <name>mapreduce.framework.name</name>\n        <value>yarn</value>\n    </property>\n\n\n1\n2\n3\n4\n5\n\n\n\n# éç½®workers\n\nvim /opt/module/hadoop-3.1.3/etc/hadoop/workers\n\n\n1\n\n\nå é¤localhost æä»¶ä¸­æ·»å çåå®¹ç»å°¾ä¸åè®¸æç©ºæ ¼ï¼æä»¶ä¸­ä¸åè®¸æç©ºè¡ã\n\nhadoop102\nhadoop103\nhadoop104\n\n\n1\n2\n3\n\n\n\n# åæ­¥\n\ncd ..\nxsync hadoop\n\n\n1\n2\n\n\n\n# å¯å¨éç¾¤\n\næ ¼å¼åhdfs\n\nhdfs namenode -format  #å¨èç¹æºå­ä¸\n\n\n1\n\n\nå¯å¨éç¾¤\n\nstart-dfs.sh\n\n\n1\n\n\nå¦ææ¥javaæªæ¾å° ä¿®æ¹hadoop.env.shæä»¶\n\nvim /opt/module/hadoop-3.1.3/etc/hadoop/hadoop.env.sh\n\n\n1\n\n\nä¿®æ¹java_homeä¸º å¹¶åæ­¥\n\nexport java_home=/usr/lib/jvm/java\n\n\n1\n\n\n\n\næ¾ç¤ºè¿æ ·å¯å¨æå\n\n\n# dfså¯å¨\n\nå¨103ä¸­å¯å¨\n\nstart-yarn.sh\n\n\n1\n\n\n\n# jps\n\njps\n\n\n1\n\n\n\n# éç½®åå²æå¡å¨\n\nå³é­dfsåyarn\n\nstop-yarn.sh  #103\nstop-dfs.sh  #102\n\n\n1\n2\n\n\n\n# éç½®mapred-site.xml\n\nvi mapred-site.xml\n\n\n1\n\n\nåæ ·å¨<configuration>æ ç­¾ä¸­è¿½å \n\n\x3c!-- åå²æå¡å¨ç«¯å°å --\x3e\n<property>\n    <name>mapreduce.jobhistory.address</name>\n    <value>hadoop102:10020</value>\n</property>\n\n\x3c!-- åå²æå¡å¨webç«¯å°å --\x3e\n<property>\n    <name>mapreduce.jobhistory.webapp.address</name>\n    <value>hadoop102:19888</value>\n</property>\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n\n\n\n# éç½®æ¥å¿èé\n\n\n# éç½® yarn-site.xml\n\nvim yarn-site.xml\n\n\n1\n\n\nåæ ·å¨<configuration>æ ç­¾ä¸­è¿½å \n\n<property>\n    \x3c!-- å¼å¯æ¥å¿èé--\x3e\n    <name>yarn.log-aggregation-enable</name>\n    <value>true</value>\n</property>\n<property>  \n    \x3c!-- æ¥å¿æå¡å¨--\x3e\n    <name>yarn.log.server.url</name>  \n    <value>http://${yarn.timeline-service.webapp.address}/applicationhistory/logs</value>\n</property>\n<property>\n    \x3c!-- æ¥å¿ä¿å­æ¶é´--\x3e\n    <name>yarn.log-aggregation.retain-seconds</name>\n    <value>604800</value>\n</property>\n<property>\n    <name>yarn.timeline-service.enabled</name>\n    <value>true</value>\n</property>\n<property>\n    <name>yarn.timeline-service.hostname</name>\n    <value>${yarn.resourcemanager.hostname}</value>\n</property>\n<property>\n    <name>yarn.timeline-service.http-cross-origin.enabled</name>\n    <value>true</value>\n</property>\n<property>\n    <name>yarn.resourcemanager.system-metrics-publisher.enabled</name>\n    <value>true</value>\n</property>\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n26\n27\n28\n29\n30\n31\n\n\n\n# éç½®å®æéæ°åæ­¥ å¹¶å¯å¨\n\ncd ..\nxsync hadoop/\n\n\n1\n2\n\n\néæ°å¯å¨\n\nstart-dfs.sh  #102\n\nstart-yarn.sh  #103\n\nmapred --daemon start historyserver  #102 å¯å¨åå²æå¡å¨\n\n\n1\n2\n3\n4\n5\n\n\néç½®å®æåä¸è¦åæ­¥æ´ä¸ªhadoopæä»¶å¤¹ åªéè¦etcéç½®æä»¶å¤¹ åä¸ä¸è¦åæ­¥dataæä»¶å¤¹\n\nå¦æ³ä¿®æ¹dataè·¯å¾\n\nvim /opt/module/hadoop-3.1.3/etc/hadoop/core-site.xml  #hadoop.data.dir\n\n\n1\n\n\nå¦ææ³éæ°æéç½®å¼ å é¤ælogsæä»¶å¤¹éçä¸è¥¿ éæ°æ ¼å¼åhdfs åå¯å¨\n\n\n# éç¾¤æ¶é´åæ­¥\n\nå¨ææèç¹å³é­ntpæå¡åèªå¯å¨\n\nå»ºè®®rootç¨æ·ä¸æä½\n\nsu -\nsudo systemctl stop ntpd\nsudo systemctl disable ntpd\n\n\n1\n2\n3\n\n\n\n# ä¿®æ¹ntpéç½®æä»¶\n\nvim /etc/ntp.conf\n\n\n1\n\n\nrestrict 192.168.130.2 mask 255.255.255.0 nomodify notrap  #å»æ#å·ä¿®æ¹å³å¯\n\n#å ä¸äºå·\n#server 0.centos.pool.ntp.org iburst\n#server 1.centos.pool.ntp.org iburst\n#server 2.centos.pool.ntp.org iburst\n#server 3.centos.pool.ntp.org iburst\n\n#æ·»å \nserver 127.127.1.0\nfudge 127.127.1.0 stratum 10\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n\n\n\n# ä¿®æ¹ntpdæä»¶\n\nvim /etc/sysconfig/ntpd\n\n\n1\n\n\n#è¿½å \nsync_hwclock=yes\n\n\n1\n2\n\n\n#éå¯æå¡\nsystemctl start ntpd\n\n#å¼æºå¯å¨\nsystemctl enable ntpd\n\n\n1\n2\n3\n4\n5\n\n\nä»¥ä¸ä¿®æ¹æä»¶å¨102è¿è¡\n\n\n# å¶ä»æºå¨éç½®\n\nåæ¢rootç¨æ· è¿è¡\n\nsu -\ncrontab -e\n\n\n1\n2\n\n\n#è¿½å \n*/1 * * * * /usr/sbin/ntpdate hadoop102\n\n\n1\n2\n\n\ndate  #æ¥çå½åæ¶é´æ¯å¦åæ­¥\n\n\n1\n\n\n\n# å¸¸ç¨ç«¯å£\n\n\n# hadopp2.xå3.xç«¯å£åå\n\nhadoop2.x    hadoop3.x   \nè®¿é®hdfsç«¯å£     50070       9870\nè®¿é®mræ§è¡æåµç«¯å£   8088        8088\nåå²æå¡å¨        19888       19888\nå®¢æ·ç«¯è®¿é®éç¾¤ç«¯å£    9000        8020\n\n\n\n\n# hdfs\n\nç»ä»¶     èç¹            ç«¯å£     éç½®                             ç¨éè¯´æ\nhdfs   namenode      9870   dfs.namenode.http-address      httpæå¡çç«¯å£\nhdfs   namenode      9871   dfs.namenode.https-address     httpsæå¡çç«¯å£\nhdfs   namenode      9820   fs.defaultfs                   æ¥æ¶clientè¿æ¥çrpcç«¯å£ï¼ç¨äºè·åæä»¶ç³»ç»metadataä¿¡æ¯ã\nhdfs   datanode      9866   dfs.datanode.address           datanodeæå¡ç«¯å£ï¼ç¨äºæ°æ®ä¼ è¾\nhdfs   datanode      9864   dfs.datanode.http.address      httpæå¡çç«¯å£\nhdfs   datanode      9865   dfs.datanode.https.address     httpsæå¡çç«¯å£\nhdfs   datanode      9867   dfs.datanode.ipc.address       ipcæå¡çç«¯å£\nhdfs   journalnode   8485   dfs.journalnode.rpc-address    rpcæå¡\nhdfs   journalnode   8480   dfs.journalnode.http-address   httpæå¡\n\n\n# yarn\n\nç»ä»¶     èç¹                  ç«¯å£      éç½®                                              ç¨éè¯´æ\nyarn   resourcemanager     8032    yarn.resourcemanager.address                    rmçapplications manager(asm)ç«¯å£\nyarn   resourcemanager     8030    yarn.resourcemanager.scheduler.address          schedulerç»ä»¶çipcç«¯å£\nyarn   resourcemanager     8031    yarn.resourcemanager.resource-tracker.address   ipc\nyarn   resourcemanager     8033    yarn.resourcemanager.admin.address              ipc\nyarn   resourcemanager     8088    yarn.resourcemanager.webapp.address             httpæå¡ç«¯å£\nyarn   nodemanager         8040    yarn.nodemanager.localizer.address              localizer ipc\nyarn   nodemanager         8042    yarn.nodemanager.webapp.address                 httpæå¡ç«¯å£\nyarn   nodemanager         8041    yarn.nodemanager.address                        nmä¸­container managerçç«¯å£\nyarn   jobhistory server   10020   mapreduce.jobhistory.address                    ipc\nyarn   jobhistory server   19888   mapreduce.jobhistory.webapp.address             httpæå¡ç«¯å£\n\n\n# hbase\n\nç»ä»¶      èç¹             ç«¯å£      éç½®                                    ç¨éè¯´æ\nhbase   master         60000   hbase.master.port                     ipc\nhbase   master         60010   hbase.master.info.port                httpæå¡ç«¯å£\nhbase   regionserver   60020   hbase.regionserver.port               ipc\nhbase   regionserver   60030   hbase.regionserver.info.port          httpæå¡ç«¯å£\nhbase   hquorumpeer    2181    hbase.zookeeper.property.clientport   hbase-managed zk modeï¼ä½¿ç¨ç¬ç«çzookeeperéç¾¤åä¸ä¼å¯ç¨è¯¥ç«¯å£ã\nhbase   hquorumpeer    2888    hbase.zookeeper.peerport              hbase-managed zk modeï¼ä½¿ç¨ç¬ç«çzookeeperéç¾¤åä¸ä¼å¯ç¨è¯¥ç«¯å£ã\nhbase   hquorumpeer    3888    hbase.zookeeper.leaderport            hbase-managed zk modeï¼ä½¿ç¨ç¬ç«çzookeeperéç¾¤åä¸ä¼å¯ç¨è¯¥ç«¯å£ã\n\n\n# hive\n\nç»ä»¶     èç¹           ç«¯å£      éç½®                                                      ç¨éè¯´æ\nhive   metastore    9083    /etc/default/hive-metastoreä¸­export port=<port>æ¥æ´æ°é»è®¤ç«¯å£   \nhive   hiveserver   10000   /etc/hive/conf/hive-env.shä¸­export                       \n                            hive_server2_thrift_port=<port>æ¥æ´æ°é»è®¤ç«¯å£\n\n\n# zookeeper\n\nç»ä»¶          èç¹       ç«¯å£     éç½®                                                                   ç¨éè¯´æ\nzookeeper   server   2181   /etc/zookeeper/conf/zoo.cfgä¸­clientport=<port>                        å¯¹å®¢æ·ç«¯æä¾æå¡çç«¯å£\nzookeeper   server   2888   /etc/zookeeper/conf/zoo.cfgä¸­server.x=[hostname]:nnnnn[:nnnnn]ï¼æ èé¨å   followerç¨æ¥è¿æ¥å°leaderï¼åªå¨leaderä¸çå¬è¯¥ç«¯å£ã\nzookeeper   server   3888   /etc/zookeeper/conf/zoo.cfgä¸­server.x=[hostname]:nnnnn[:nnnnn]ï¼æ èé¨å   ç¨äºleaderéä¸¾çãåªå¨electionalgæ¯1,2æ3(é»è®¤)æ¶éè¦ã',charsets:{cjk:!0},lastUpdated:"2022/03/18, 09:39:06",lastUpdatedTimestamp:1647567546e3},{title:"javaæä½",frontmatter:{title:"javaæä½",date:"2022-03-17T21:41:51.000Z",permalink:"/pages/9ce9a0/",categories:["Hadoop"],tags:[null]},regularPath:"/%E5%A4%A7%E6%95%B0%E6%8D%AE/01.Hadoop/06.java%E6%93%8D%E4%BD%9C.html",relativePath:"å¤§æ°æ®/01.Hadoop/06.javaæä½.md",key:"v-91bab1e0",path:"/pages/9ce9a0/",headers:[{level:2,title:"HDFSæä»¶ä¸ä¼ ",slug:"hdfsæä»¶ä¸ä¼ ",normalizedTitle:"hdfsæä»¶ä¸ä¼ ",charIndex:13},{level:2,title:"HDFSä¸è½½å°æ¬å°",slug:"hdfsä¸è½½å°æ¬å°",normalizedTitle:"hdfsä¸è½½å°æ¬å°",charIndex:556},{level:2,title:"HDFSè¿½å ",slug:"hdfsè¿½å ",normalizedTitle:"hdfsè¿½å ",charIndex:688},{level:2,title:"ls",slug:"ls",normalizedTitle:"ls",charIndex:849},{level:2,title:"listFiles",slug:"listfiles",normalizedTitle:"listfiles",charIndex:1171},{level:2,title:"ç§»å¨æéå½å",slug:"ç§»å¨æéå½å",normalizedTitle:"ç§»å¨æéå½å",charIndex:1989}],headersStr:"HDFSæä»¶ä¸ä¼  HDFSä¸è½½å°æ¬å° HDFSè¿½å  ls listFiles ç§»å¨æéå½å",content:'# javaæä½\n\n\n# HDFSæä»¶ä¸ä¼ \n\n//è·åéç½®å¯¹è±¡\nConfiguration configuration = new Configuration();\n//è®¾ç½®éç½®  å°é»è®¤ååè®¾ç½®ä¸º2\nconfiguration.set("dfs.replication","2");\n//æ°å»ºHDFSå¯¹è±¡\nFileSystem fileSystem = FileSystem.get(URI.create("hdfs://hadoop102:8020"), configuration, "atguigu");\n\n//æä½éç¾¤\nfileSystem.copyFromLocalFile(new Path("D:\\\\å¾\\\\QQå¾ç20190517141148.jpg"),new Path("/"));\n\n//å³é­èµæº\nfileSystem.close();\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n\n * get(URI.crate("hdfs://hadoopå°å"),new Configuation(), éç¾¤ç¨æ·å); è·åHDFSæä½å¯¹è±¡\n   * copyFromLocalFile(new Path("æ¬å°è·¯å¾"),new Path(éç¾¤è·¯å¾)); ä¸ä¼ æä»¶å°HDFS\n\n\n# HDFSä¸è½½å°æ¬å°\n\nfileSystem.copyToLocalFile(\n        new Path("/QQå¾ç20190517141148.jpg"),\n        new Path("d:/images")\n);\n\n\n1\n2\n3\n4\n\n\n\n# HDFSè¿½å \n\nFSDataOutputStream append = fileSystem.append(\n        new Path("1.txt")\n);\n\n//åå¥æµ\nappend.write("testApi".getBytes(StandardCharsets.UTF_8));\n\n//å³é­æµ\nIOUtils.closeStream(append);\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n\n\n\n# ls\n\n//lsæä½ è¿åæ°ç»\nFileStatus[] fileStatuses = fileSystem.listStatus(new Path("/"));\n\nfor (FileStatus fileStatus : fileStatuses) {\n    //è·åæä»¶å¯¹è±¡è·¯å¾\n    System.out.println(fileStatus.getPath());\n    //è·åæä»¶æå±è\n    System.out.println(fileStatus.getOwner());\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n\n\n\n# listFiles\n\n//è·åå½åæææä»¶çè¿­ä»£å¨ æ è®ºæ¯æä»¶å¤¹è¿æ¯æä»¶  trueè¿åä¸ä¸ªè¿­ä»£å¨ \nRemoteIterator<LocatedFileStatus> locatedFileStatusRemoteIterator = fileSystem.listFiles(\n        new Path("/"),\n        true);\nwhile (locatedFileStatusRemoteIterator.hasNext()) {\n    LocatedFileStatus fileStatus = locatedFileStatusRemoteIterator.next();\n\n    System.out.println(fileStatus.getPath());\n    //è·åå½åæä»¶çå è¿åæ°ç»\n    BlockLocation[] blockLocations = fileStatus.getBlockLocations();\n    for (int i = 0; i < blockLocations.length; i++) {\n        System.out.println("ç¬¬" + i + "å");\n        //è·åå½åæä»¶ æ¯ä¸ªåå­å¨çéç¾¤æåµ\n        String[] hosts = blockLocations[i].getHosts();\n        for (String host : hosts) {\n            System.out.print(host + " ");\n\n        }\n        System.out.println();\n    }\n\n\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n\n\n\n# ç§»å¨æéå½å\n\n//éå½åæèç§»å¨æä»¶\nfileSystem.rename(new Path("/QQå¾ç20190517141148.jpg"),new Path("/test/233.jpg"));\n\n\n1\n2\n',normalizedContent:'# javaæä½\n\n\n# hdfsæä»¶ä¸ä¼ \n\n//è·åéç½®å¯¹è±¡\nconfiguration configuration = new configuration();\n//è®¾ç½®éç½®  å°é»è®¤ååè®¾ç½®ä¸º2\nconfiguration.set("dfs.replication","2");\n//æ°å»ºhdfså¯¹è±¡\nfilesystem filesystem = filesystem.get(uri.create("hdfs://hadoop102:8020"), configuration, "atguigu");\n\n//æä½éç¾¤\nfilesystem.copyfromlocalfile(new path("d:\\\\å¾\\\\qqå¾ç20190517141148.jpg"),new path("/"));\n\n//å³é­èµæº\nfilesystem.close();\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n\n * get(uri.crate("hdfs://hadoopå°å"),new configuation(), éç¾¤ç¨æ·å); è·åhdfsæä½å¯¹è±¡\n   * copyfromlocalfile(new path("æ¬å°è·¯å¾"),new path(éç¾¤è·¯å¾)); ä¸ä¼ æä»¶å°hdfs\n\n\n# hdfsä¸è½½å°æ¬å°\n\nfilesystem.copytolocalfile(\n        new path("/qqå¾ç20190517141148.jpg"),\n        new path("d:/images")\n);\n\n\n1\n2\n3\n4\n\n\n\n# hdfsè¿½å \n\nfsdataoutputstream append = filesystem.append(\n        new path("1.txt")\n);\n\n//åå¥æµ\nappend.write("testapi".getbytes(standardcharsets.utf_8));\n\n//å³é­æµ\nioutils.closestream(append);\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n\n\n\n# ls\n\n//lsæä½ è¿åæ°ç»\nfilestatus[] filestatuses = filesystem.liststatus(new path("/"));\n\nfor (filestatus filestatus : filestatuses) {\n    //è·åæä»¶å¯¹è±¡è·¯å¾\n    system.out.println(filestatus.getpath());\n    //è·åæä»¶æå±è\n    system.out.println(filestatus.getowner());\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n\n\n\n# listfiles\n\n//è·åå½åæææä»¶çè¿­ä»£å¨ æ è®ºæ¯æä»¶å¤¹è¿æ¯æä»¶  trueè¿åä¸ä¸ªè¿­ä»£å¨ \nremoteiterator<locatedfilestatus> locatedfilestatusremoteiterator = filesystem.listfiles(\n        new path("/"),\n        true);\nwhile (locatedfilestatusremoteiterator.hasnext()) {\n    locatedfilestatus filestatus = locatedfilestatusremoteiterator.next();\n\n    system.out.println(filestatus.getpath());\n    //è·åå½åæä»¶çå è¿åæ°ç»\n    blocklocation[] blocklocations = filestatus.getblocklocations();\n    for (int i = 0; i < blocklocations.length; i++) {\n        system.out.println("ç¬¬" + i + "å");\n        //è·åå½åæä»¶ æ¯ä¸ªåå­å¨çéç¾¤æåµ\n        string[] hosts = blocklocations[i].gethosts();\n        for (string host : hosts) {\n            system.out.print(host + " ");\n\n        }\n        system.out.println();\n    }\n\n\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n\n\n\n# ç§»å¨æéå½å\n\n//éå½åæèç§»å¨æä»¶\nfilesystem.rename(new path("/qqå¾ç20190517141148.jpg"),new path("/test/233.jpg"));\n\n\n1\n2\n',charsets:{cjk:!0},lastUpdated:"2022/03/18, 07:01:11",lastUpdatedTimestamp:1647558071e3},{title:"IDEAä¸­åå»ºhadoopé¡¹ç®",frontmatter:{title:"IDEAä¸­åå»ºhadoopé¡¹ç®",date:"2022-03-17T21:41:51.000Z",permalink:"/pages/7e6b01/",categories:["Hadoop"],tags:[null]},regularPath:"/%E5%A4%A7%E6%95%B0%E6%8D%AE/01.Hadoop/05.IDEA%E4%B8%AD%E5%88%9B%E5%BB%BAhadoop%E9%A1%B9%E7%9B%AE.html",relativePath:"å¤§æ°æ®/01.Hadoop/05.IDEAä¸­åå»ºhadoopé¡¹ç®.md",key:"v-9c36cd5e",path:"/pages/7e6b01/",headersStr:null,content:'# IDEAä¸­åå»ºhadoopé¡¹ç®\n\nè¦éç½®äºwinutils\n\n 1. åå»ºmavené¡¹ç®\n\n 2. æ·»å ä¾èµ\n    \n    <dependencies>\n        <dependency>\n            <groupId>junit</groupId>\n            <artifactId>junit</artifactId>\n            <version>4.12</version>\n        </dependency>\n        <dependency>\n            <groupId>org.apache.logging.log4j</groupId>\n            <artifactId>log4j-slf4j-impl</artifactId>\n            <version>2.12.0</version>\n        </dependency>\n        <dependency>\n            <groupId>org.apache.hadoop</groupId>\n            <artifactId>hadoop-client</artifactId>\n            <version>3.1.3</version>\n        </dependency>\n    </dependencies>\n    \n    \n    1\n    2\n    3\n    4\n    5\n    6\n    7\n    8\n    9\n    10\n    11\n    12\n    13\n    14\n    15\n    16\n    17\n    \n\n 3. å¨mainçresources æ°å»º log4j2.xml\n    \n    <?xml version="1.0" encoding="UTF-8"?>\n    <Configuration status="error" strict="true" name="XMLConfig">\n        <Appenders>\n            \x3c!-- ç±»ååä¸ºConsoleï¼åç§°ä¸ºå¿é¡»å±æ§ --\x3e\n            <Appender type="Console" name="STDOUT">\n                \x3c!-- å¸å±ä¸ºPatternLayoutçæ¹å¼ï¼\n                è¾åºæ ·å¼ä¸º[INFO] [2018-01-22 17:34:01][org.test.Console]I\'m here --\x3e\n                <Layout type="PatternLayout"\n                        pattern="[%p] [%d{yyyy-MM-dd HH:mm:ss}][%c{10}]%m%n"/>\n            </Appender>\n        </Appenders>\n    \n        <Loggers>\n            \x3c!-- å¯å æ§ä¸ºfalse --\x3e\n            <Logger name="test" level="info" additivity="false">\n                <AppenderRef ref="STDOUT"/>\n            </Logger>\n    \n            \x3c!-- root loggerConfigè®¾ç½® --\x3e\n            <Root level="info">\n                <AppenderRef ref="STDOUT"/>\n            </Root>\n        </Loggers>\n    </Configuration>\n    \n    \n    1\n    2\n    3\n    4\n    5\n    6\n    7\n    8\n    9\n    10\n    11\n    12\n    13\n    14\n    15\n    16\n    17\n    18\n    19\n    20\n    21\n    22\n    23\n    24\n    ',normalizedContent:'# ideaä¸­åå»ºhadoopé¡¹ç®\n\nè¦éç½®äºwinutils\n\n 1. åå»ºmavené¡¹ç®\n\n 2. æ·»å ä¾èµ\n    \n    <dependencies>\n        <dependency>\n            <groupid>junit</groupid>\n            <artifactid>junit</artifactid>\n            <version>4.12</version>\n        </dependency>\n        <dependency>\n            <groupid>org.apache.logging.log4j</groupid>\n            <artifactid>log4j-slf4j-impl</artifactid>\n            <version>2.12.0</version>\n        </dependency>\n        <dependency>\n            <groupid>org.apache.hadoop</groupid>\n            <artifactid>hadoop-client</artifactid>\n            <version>3.1.3</version>\n        </dependency>\n    </dependencies>\n    \n    \n    1\n    2\n    3\n    4\n    5\n    6\n    7\n    8\n    9\n    10\n    11\n    12\n    13\n    14\n    15\n    16\n    17\n    \n\n 3. å¨mainçresources æ°å»º log4j2.xml\n    \n    <?xml version="1.0" encoding="utf-8"?>\n    <configuration status="error" strict="true" name="xmlconfig">\n        <appenders>\n            \x3c!-- ç±»ååä¸ºconsoleï¼åç§°ä¸ºå¿é¡»å±æ§ --\x3e\n            <appender type="console" name="stdout">\n                \x3c!-- å¸å±ä¸ºpatternlayoutçæ¹å¼ï¼\n                è¾åºæ ·å¼ä¸º[info] [2018-01-22 17:34:01][org.test.console]i\'m here --\x3e\n                <layout type="patternlayout"\n                        pattern="[%p] [%d{yyyy-mm-dd hh:mm:ss}][%c{10}]%m%n"/>\n            </appender>\n        </appenders>\n    \n        <loggers>\n            \x3c!-- å¯å æ§ä¸ºfalse --\x3e\n            <logger name="test" level="info" additivity="false">\n                <appenderref ref="stdout"/>\n            </logger>\n    \n            \x3c!-- root loggerconfigè®¾ç½® --\x3e\n            <root level="info">\n                <appenderref ref="stdout"/>\n            </root>\n        </loggers>\n    </configuration>\n    \n    \n    1\n    2\n    3\n    4\n    5\n    6\n    7\n    8\n    9\n    10\n    11\n    12\n    13\n    14\n    15\n    16\n    17\n    18\n    19\n    20\n    21\n    22\n    23\n    24\n    ',charsets:{cjk:!0},lastUpdated:"2022/03/18, 07:01:11",lastUpdatedTimestamp:1647558071e3},{title:"HDFSçæ°æ®æµ",frontmatter:{title:"HDFSçæ°æ®æµ",date:"2022-03-17T21:41:51.000Z",permalink:"/pages/bbfc59/",categories:["Hadoop"],tags:[null]},regularPath:"/%E5%A4%A7%E6%95%B0%E6%8D%AE/01.Hadoop/07.HDFS%E7%9A%84%E6%95%B0%E6%8D%AE%E6%B5%81.html",relativePath:"å¤§æ°æ®/01.Hadoop/07.HDFSçæ°æ®æµ.md",key:"v-0cd4d5ee",path:"/pages/bbfc59/",headers:[{level:2,title:"ç½ç»ææ",slug:"ç½ç»ææ",normalizedTitle:"ç½ç»ææ",charIndex:464}],headersStr:"ç½ç»ææ",content:"# HDFSçæ°æ®æµ\n\n\n\nï¼1ï¼å®¢æ·ç«¯éè¿Distributed FileSystemæ¨¡ååNameNodeè¯·æ±ä¸ä¼ æä»¶ï¼NameNodeæ£æ¥ç®æ æä»¶æ¯å¦å·²å­å¨ï¼ç¶ç®å½æ¯å¦å­å¨ã\n\nï¼2ï¼NameNodeè¿åæ¯å¦å¯ä»¥ä¸ä¼ ã\n\nï¼3ï¼å®¢æ·ç«¯è¯·æ±ç¬¬ä¸ä¸ª Blockä¸ä¼ å°åªå ä¸ªDataNodeæå¡å¨ä¸ã\n\nï¼4ï¼NameNodeè¿å3ä¸ªDataNodeèç¹ï¼åå«ä¸ºdn1ãdn2ãdn3ã\n\nï¼5ï¼å®¢æ·ç«¯éè¿FSDataOutputStreamæ¨¡åè¯·æ±dn1ä¸ä¼ æ°æ®ï¼dn1æ¶å°è¯·æ±ä¼ç»§ç»­è°ç¨dn2ï¼ç¶ådn2è°ç¨dn3ï¼å°è¿ä¸ªéä¿¡ç®¡éå»ºç«å®æã\n\nï¼6ï¼dn1ãdn2ãdn3éçº§åºç­å®¢æ·ç«¯ã\n\nï¼7ï¼å®¢æ·ç«¯å¼å§å¾dn1ä¸ä¼ ç¬¬ä¸ä¸ªBlockï¼åä»ç£çè¯»åæ°æ®æ¾å°ä¸ä¸ªæ¬å°åå­ç¼å­ï¼ï¼ä»¥Packetä¸ºåä½ï¼dn1æ¶å°ä¸ä¸ªPacketå°±ä¼ä¼ ç»dn2ï¼dn2ä¼ ç»dn3ï¼dn1æ¯ä¼ ä¸ä¸ªpacketä¼æ¾å¥ä¸ä¸ªåºç­éåç­å¾åºç­ã\n\nï¼8ï¼å½ä¸ä¸ªBlockä¼ è¾å®æä¹åï¼å®¢æ·ç«¯åæ¬¡è¯·æ±NameNodeä¸ä¼ ç¬¬äºä¸ªBlockçæå¡å¨ã\n\n\n# ç½ç»ææ\n\n\n\n",normalizedContent:"# hdfsçæ°æ®æµ\n\n\n\nï¼1ï¼å®¢æ·ç«¯éè¿distributed filesystemæ¨¡åånamenodeè¯·æ±ä¸ä¼ æä»¶ï¼namenodeæ£æ¥ç®æ æä»¶æ¯å¦å·²å­å¨ï¼ç¶ç®å½æ¯å¦å­å¨ã\n\nï¼2ï¼namenodeè¿åæ¯å¦å¯ä»¥ä¸ä¼ ã\n\nï¼3ï¼å®¢æ·ç«¯è¯·æ±ç¬¬ä¸ä¸ª blockä¸ä¼ å°åªå ä¸ªdatanodeæå¡å¨ä¸ã\n\nï¼4ï¼namenodeè¿å3ä¸ªdatanodeèç¹ï¼åå«ä¸ºdn1ãdn2ãdn3ã\n\nï¼5ï¼å®¢æ·ç«¯éè¿fsdataoutputstreamæ¨¡åè¯·æ±dn1ä¸ä¼ æ°æ®ï¼dn1æ¶å°è¯·æ±ä¼ç»§ç»­è°ç¨dn2ï¼ç¶ådn2è°ç¨dn3ï¼å°è¿ä¸ªéä¿¡ç®¡éå»ºç«å®æã\n\nï¼6ï¼dn1ãdn2ãdn3éçº§åºç­å®¢æ·ç«¯ã\n\nï¼7ï¼å®¢æ·ç«¯å¼å§å¾dn1ä¸ä¼ ç¬¬ä¸ä¸ªblockï¼åä»ç£çè¯»åæ°æ®æ¾å°ä¸ä¸ªæ¬å°åå­ç¼å­ï¼ï¼ä»¥packetä¸ºåä½ï¼dn1æ¶å°ä¸ä¸ªpacketå°±ä¼ä¼ ç»dn2ï¼dn2ä¼ ç»dn3ï¼dn1æ¯ä¼ ä¸ä¸ªpacketä¼æ¾å¥ä¸ä¸ªåºç­éåç­å¾åºç­ã\n\nï¼8ï¼å½ä¸ä¸ªblockä¼ è¾å®æä¹åï¼å®¢æ·ç«¯åæ¬¡è¯·æ±namenodeä¸ä¼ ç¬¬äºä¸ªblockçæå¡å¨ã\n\n\n# ç½ç»ææ\n\n\n\n",charsets:{cjk:!0},lastUpdated:"2022/03/18, 07:01:11",lastUpdatedTimestamp:1647558071e3},{title:"HDFS",frontmatter:{title:"HDFS",date:"2022-03-17T21:41:51.000Z",permalink:"/pages/7afcbc/",categories:["Hadoop"],tags:[null]},regularPath:"/%E5%A4%A7%E6%95%B0%E6%8D%AE/01.Hadoop/03.HDFS.html",relativePath:"å¤§æ°æ®/01.Hadoop/03.HDFS.md",key:"v-4672ef15",path:"/pages/7afcbc/",headers:[{level:2,title:"å½ä»¤è¡æä½",slug:"å½ä»¤è¡æä½",normalizedTitle:"å½ä»¤è¡æä½",charIndex:293},{level:3,title:"HDFS å° HDFS",slug:"hdfs-å°-hdfs",normalizedTitle:"hdfs å° hdfs",charIndex:333},{level:3,title:"æ¬å° å° HDFS",slug:"æ¬å°-å°-hdfs",normalizedTitle:"æ¬å° å° hdfs",charIndex:610},{level:3,title:"HDFS å° æ¬å°",slug:"hdfs-å°-æ¬å°",normalizedTitle:"hdfs å° æ¬å°",charIndex:1224}],headersStr:"å½ä»¤è¡æä½ HDFS å° HDFS æ¬å° å° HDFS HDFS å° æ¬å°",content:"# HDFS\n\nHDFS(Hadoop Distributed File System) å®æ¯ä¸ä¸ªæä»¶ç³»ç» ç¨äºå­å¨æä»¶ éè¿ç®å½æ æ¥å®ä½æä»¶ å¶æ¬¡å®æ¯åå¸å¼ç\n\nHDFSçä½¿ç¨åºæ¯: éåä¸æ¬¡åå¥ å¤æ¬¡è¯»åºçåºæ¯ ä¸ä¸æ¯ææä»¶çä¿®æ¹\n\nä¼ç¹:\n\n 1. é«å®¹éæ§ èªå¨ä¿å­å¤ä¸ªå¯æ¬ æä¸ä¸ªå¯æ¬ä¸¢å¤± å¯ä»¥èªå¨æ¢å¤\n 2. éåå¤çå¤§æ°æ®\n 3. å¯æå»ºå¨å»ä»·æºå¨ä¸ éè¿å¤å¯æ¬æºå¶ æé«å¯é æ§\n\nç¼ºç¹:\n\n 1. ä¸éåä½å»¶æ¶æ¶æ°æ®è®¿é® æ¯å¦æ¯«ç§çº§çæ°æ®\n 2. æ æ³é«æçå¯¹å¤§éå°æä»¶è¿è¡å­å¨\n 3. ä¸æ¯æå¹¶ååå¥ æä»¶éæºä¿®æ¹ ä»æ¯ææ°æ®çappend è¿½å \n\n\n\n\n\n\n\n\n# å½ä»¤è¡æä½\n\nä»¥ hadoop fs æè hdfs dfs ä¸ºå³é®å­\n\n\n# HDFS å° HDFS\n\nå¤§é¨ålinuxå½ä»¤é½æ¯æ éè¦å¨hadoop fs -æ¼æ¥å½ä»¤\n\n * cp å¦:hadoop fs -cp 1.txt 2.txt\n\n * mv\n\n * chown\n\n * chmod\n\n * mkdir\n\n * du ç»è®¡æä»¶å¤¹çå¤§å°ä¿¡æ¯\n\n * df\n\n * cat\n\n * rm\n\n * setrep è®¾ç½®HDFSä¸­æä»¶çå¯æ¬æ°æ® é»è®¤ä¸ºèç¹(éç¾¤)æ° å¹¶ä¸ä¸å¯ä»¥è¶èç¹æ°æå¤§ä¸ºèç¹æ°\n   \n   * hadoop fs -setrep 10 /1.txt\n     \n     \n     1\n     \n\n\n# æ¬å° å° HDFS\n\n * put ä¸ä¼ \n   \n   * #hadoop fs -put æä»¶ HDFSåæä»¶è·¯å¾\n     hadoop fs -put 1.txt /\n     \n     \n     1\n     2\n     \n\n * copyFromLocal ä»æ¬å°å¤å¶å°HDFS æ¯æå¤çº¿ç¨\n   \n   * #hadoop fs -copyFromLocal æä»¶ HDFSåæä»¶è·¯å¾\n     hadoop fs -copyFromLocal  1.txt /\n     \n     \n     1\n     2\n     \n\n * moveFromLocal ä»æ¬å°å¤å¶å°HDFS\n   \n   * #hadoop fs -moveFromLocal  æä»¶ HDFSåæä»¶è·¯å¾\n     hadoop fs -moveFromLocal   1.txt /\n     \n     \n     1\n     2\n     \n\n * appendToFile å°æå®æä»¶åå®¹æèæå®åå®¹è¿½å å°HDFSæä»¶æ«å°¾\n   \n   * #hadoop fs -appendToFile  æä»¶ HDFSåæä»¶è·¯å¾  å¦è¦æå®åå®¹åæä»¶åå¿½ç¥å¡«å - æ¢å¯\n     hadoop fs -appendToFile   2.txt /1.txt\n     \n     \n     1\n     2\n     \n\n\n# HDFS å° æ¬å°\n\n * get ä»HDFSä¸è½½å°æ¬å°\n   \n   * #hadoop fs -get  HDFSåæä»¶  æ¬å°æä»¶è·¯å¾\n     hadoop fs -get   /2.txt /\n     \n     \n     1\n     2\n     \n\n * copyToLocal ä¸getä¸è´\n\n * getmerge åå¹¶ä¸è½½\n   \n   * #hadoop fs -get  HDFSåå¤ä¸ªæä»¶  æ¬å°æä»¶\n     hadoop fs -get   /*.txt /1.txt\n     \n     \n     1\n     2\n     ",normalizedContent:"# hdfs\n\nhdfs(hadoop distributed file system) å®æ¯ä¸ä¸ªæä»¶ç³»ç» ç¨äºå­å¨æä»¶ éè¿ç®å½æ æ¥å®ä½æä»¶ å¶æ¬¡å®æ¯åå¸å¼ç\n\nhdfsçä½¿ç¨åºæ¯: éåä¸æ¬¡åå¥ å¤æ¬¡è¯»åºçåºæ¯ ä¸ä¸æ¯ææä»¶çä¿®æ¹\n\nä¼ç¹:\n\n 1. é«å®¹éæ§ èªå¨ä¿å­å¤ä¸ªå¯æ¬ æä¸ä¸ªå¯æ¬ä¸¢å¤± å¯ä»¥èªå¨æ¢å¤\n 2. éåå¤çå¤§æ°æ®\n 3. å¯æå»ºå¨å»ä»·æºå¨ä¸ éè¿å¤å¯æ¬æºå¶ æé«å¯é æ§\n\nç¼ºç¹:\n\n 1. ä¸éåä½å»¶æ¶æ¶æ°æ®è®¿é® æ¯å¦æ¯«ç§çº§çæ°æ®\n 2. æ æ³é«æçå¯¹å¤§éå°æä»¶è¿è¡å­å¨\n 3. ä¸æ¯æå¹¶ååå¥ æä»¶éæºä¿®æ¹ ä»æ¯ææ°æ®çappend è¿½å \n\n\n\n\n\n\n\n\n# å½ä»¤è¡æä½\n\nä»¥ hadoop fs æè hdfs dfs ä¸ºå³é®å­\n\n\n# hdfs å° hdfs\n\nå¤§é¨ålinuxå½ä»¤é½æ¯æ éè¦å¨hadoop fs -æ¼æ¥å½ä»¤\n\n * cp å¦:hadoop fs -cp 1.txt 2.txt\n\n * mv\n\n * chown\n\n * chmod\n\n * mkdir\n\n * du ç»è®¡æä»¶å¤¹çå¤§å°ä¿¡æ¯\n\n * df\n\n * cat\n\n * rm\n\n * setrep è®¾ç½®hdfsä¸­æä»¶çå¯æ¬æ°æ® é»è®¤ä¸ºèç¹(éç¾¤)æ° å¹¶ä¸ä¸å¯ä»¥è¶èç¹æ°æå¤§ä¸ºèç¹æ°\n   \n   * hadoop fs -setrep 10 /1.txt\n     \n     \n     1\n     \n\n\n# æ¬å° å° hdfs\n\n * put ä¸ä¼ \n   \n   * #hadoop fs -put æä»¶ hdfsåæä»¶è·¯å¾\n     hadoop fs -put 1.txt /\n     \n     \n     1\n     2\n     \n\n * copyfromlocal ä»æ¬å°å¤å¶å°hdfs æ¯æå¤çº¿ç¨\n   \n   * #hadoop fs -copyfromlocal æä»¶ hdfsåæä»¶è·¯å¾\n     hadoop fs -copyfromlocal  1.txt /\n     \n     \n     1\n     2\n     \n\n * movefromlocal ä»æ¬å°å¤å¶å°hdfs\n   \n   * #hadoop fs -movefromlocal  æä»¶ hdfsåæä»¶è·¯å¾\n     hadoop fs -movefromlocal   1.txt /\n     \n     \n     1\n     2\n     \n\n * appendtofile å°æå®æä»¶åå®¹æèæå®åå®¹è¿½å å°hdfsæä»¶æ«å°¾\n   \n   * #hadoop fs -appendtofile  æä»¶ hdfsåæä»¶è·¯å¾  å¦è¦æå®åå®¹åæä»¶åå¿½ç¥å¡«å - æ¢å¯\n     hadoop fs -appendtofile   2.txt /1.txt\n     \n     \n     1\n     2\n     \n\n\n# hdfs å° æ¬å°\n\n * get ä»hdfsä¸è½½å°æ¬å°\n   \n   * #hadoop fs -get  hdfsåæä»¶  æ¬å°æä»¶è·¯å¾\n     hadoop fs -get   /2.txt /\n     \n     \n     1\n     2\n     \n\n * copytolocal ä¸getä¸è´\n\n * getmerge åå¹¶ä¸è½½\n   \n   * #hadoop fs -get  hdfsåå¤ä¸ªæä»¶  æ¬å°æä»¶\n     hadoop fs -get   /*.txt /1.txt\n     \n     \n     1\n     2\n     ",charsets:{cjk:!0},lastUpdated:"2022/03/18, 07:01:11",lastUpdatedTimestamp:1647558071e3},{title:"NameNode å·¥ä½æºå¶",frontmatter:{title:"NameNode å·¥ä½æºå¶",date:"2022-03-17T21:41:51.000Z",permalink:"/pages/785074/",categories:["Hadoop"],tags:[null]},regularPath:"/%E5%A4%A7%E6%95%B0%E6%8D%AE/01.Hadoop/08.NameNode%20%E5%B7%A5%E4%BD%9C%E6%9C%BA%E5%88%B6.html",relativePath:"å¤§æ°æ®/01.Hadoop/08.NameNode å·¥ä½æºå¶.md",key:"v-00dc2e8f",path:"/pages/785074/",headers:[{level:2,title:"FsimageåEditsè§£æ",slug:"fsimageåeditsè§£æ",normalizedTitle:"fsimageåeditsè§£æ",charIndex:22},{level:2,title:"CheckPointæ¶é´è®¾ç½®",slug:"checkpointæ¶é´è®¾ç½®",normalizedTitle:"checkpointæ¶é´è®¾ç½®",charIndex:452},{level:2,title:"éç¾¤å®å¨æ¨¡å¼",slug:"éç¾¤å®å¨æ¨¡å¼",normalizedTitle:"éç¾¤å®å¨æ¨¡å¼",charIndex:969}],headersStr:"FsimageåEditsè§£æ CheckPointæ¶é´è®¾ç½® éç¾¤å®å¨æ¨¡å¼",content:"# NameNode å·¥ä½æºå¶\n\n\n\n\n# FsimageåEditsè§£æ\n\nFsimageåEdits æä»¶å­æ¾å¨dataä¸­ /opt/module/hadoop-3.1.3/data/dfs/name/current\n\nhdfsåç½®å½ä»¤å¯ä»¥æ¥ç\n\n * hdfs oiv -p XML -i /opt/module/hadoop-3.1.3/data/dfs/name/current/fsimage_00000000000000000000xxxxxx -o /opt/module/hadoop-3.1.3/fsimage.xml\n   * hdfs oiv -p æä»¶ç±»å -i éåæä»¶ -o è½¬æ¢åæä»¶è¾åºè·¯å¾\n * hdfs oev -p XML edists_0000000000000000000000xxxxx -o /opt/module/hadoop-3.1.3/edits.xml\n   * hdfs oev -p æä»¶ç±»å -i ç¼è¾æ¥å¿ -o è½¬æ¢åæä»¶è¾åºè·¯å¾\n\n\n# CheckPointæ¶é´è®¾ç½®\n\néå¸¸æåµä¸ï¼SecondaryNameNodeæ¯éä¸å°æ¶æ§è¡ä¸æ¬¡\n\nhdfs-default.xml\n\n<property>\n  <name>dfs.namenode.checkpoint.period</name>\n  <value>3600</value>\n</property>\n\n\n1\n2\n3\n4\n\n\nä¸åéæ£æ¥ä¸æ¬¡æä½æ¬¡æ°ï¼3å½æä½æ¬¡æ°è¾¾å°1ç¾ä¸æ¶ï¼SecondaryNameNodeæ§è¡ä¸æ¬¡\n\n<property>\n  <name>dfs.namenode.checkpoint.txns</name>\n  <value>1000000</value>\n<description>æä½å¨ä½æ¬¡æ°</description>\n</property>\n\n<property>\n  <name>dfs.namenode.checkpoint.check.period</name>\n  <value>60</value>\n<description> 1åéæ£æ¥ä¸æ¬¡æä½æ¬¡æ°</description>\n</property >\n\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n\n\n\n# éç¾¤å®å¨æ¨¡å¼\n\néç¾¤å¤äºå®å¨æ¨¡å¼ï¼ä¸è½æ§è¡éè¦æä½ï¼åæä½ï¼ãéç¾¤å¯å¨å®æåï¼èªå¨éåºå®å¨æ¨¡å¼ã",normalizedContent:"# namenode å·¥ä½æºå¶\n\n\n\n\n# fsimageåeditsè§£æ\n\nfsimageåedits æä»¶å­æ¾å¨dataä¸­ /opt/module/hadoop-3.1.3/data/dfs/name/current\n\nhdfsåç½®å½ä»¤å¯ä»¥æ¥ç\n\n * hdfs oiv -p xml -i /opt/module/hadoop-3.1.3/data/dfs/name/current/fsimage_00000000000000000000xxxxxx -o /opt/module/hadoop-3.1.3/fsimage.xml\n   * hdfs oiv -p æä»¶ç±»å -i éåæä»¶ -o è½¬æ¢åæä»¶è¾åºè·¯å¾\n * hdfs oev -p xml edists_0000000000000000000000xxxxx -o /opt/module/hadoop-3.1.3/edits.xml\n   * hdfs oev -p æä»¶ç±»å -i ç¼è¾æ¥å¿ -o è½¬æ¢åæä»¶è¾åºè·¯å¾\n\n\n# checkpointæ¶é´è®¾ç½®\n\néå¸¸æåµä¸ï¼secondarynamenodeæ¯éä¸å°æ¶æ§è¡ä¸æ¬¡\n\nhdfs-default.xml\n\n<property>\n  <name>dfs.namenode.checkpoint.period</name>\n  <value>3600</value>\n</property>\n\n\n1\n2\n3\n4\n\n\nä¸åéæ£æ¥ä¸æ¬¡æä½æ¬¡æ°ï¼3å½æä½æ¬¡æ°è¾¾å°1ç¾ä¸æ¶ï¼secondarynamenodeæ§è¡ä¸æ¬¡\n\n<property>\n  <name>dfs.namenode.checkpoint.txns</name>\n  <value>1000000</value>\n<description>æä½å¨ä½æ¬¡æ°</description>\n</property>\n\n<property>\n  <name>dfs.namenode.checkpoint.check.period</name>\n  <value>60</value>\n<description> 1åéæ£æ¥ä¸æ¬¡æä½æ¬¡æ°</description>\n</property >\n\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n\n\n\n# éç¾¤å®å¨æ¨¡å¼\n\néç¾¤å¤äºå®å¨æ¨¡å¼ï¼ä¸è½æ§è¡éè¦æä½ï¼åæä½ï¼ãéç¾¤å¯å¨å®æåï¼èªå¨éåºå®å¨æ¨¡å¼ã",charsets:{cjk:!0},lastUpdated:"2022/03/18, 07:01:11",lastUpdatedTimestamp:1647558071e3},{title:"DataNode",frontmatter:{title:"DataNode",date:"2022-03-17T21:41:51.000Z",permalink:"/pages/49d0d4/",categories:["Hadoop"],tags:[null]},regularPath:"/%E5%A4%A7%E6%95%B0%E6%8D%AE/01.Hadoop/09.DataNode.html",relativePath:"å¤§æ°æ®/01.Hadoop/09.DataNode.md",key:"v-724628f5",path:"/pages/49d0d4/",headers:[{level:2,title:"æ°æ®å®æ´æ§",slug:"æ°æ®å®æ´æ§",normalizedTitle:"æ°æ®å®æ´æ§",charIndex:17},{level:2,title:"æ©å±éç¾¤",slug:"æ©å±éç¾¤",normalizedTitle:"æ©å±éç¾¤",charIndex:135},{level:3,title:"æ·»å é»/ç½åå",slug:"æ·»å é»-ç½åå",normalizedTitle:"æ·»å é»/ç½åå",charIndex:796},{level:3,title:"é»ååéå½¹",slug:"é»ååéå½¹",normalizedTitle:"é»ååéå½¹",charIndex:1391},{level:2,title:"DateNode å¤ç®å½éç½®",slug:"datenode-å¤ç®å½éç½®",normalizedTitle:"datenode å¤ç®å½éç½®",charIndex:1544}],headersStr:"æ°æ®å®æ´æ§ æ©å±éç¾¤ æ·»å é»/ç½åå é»ååéå½¹ DateNode å¤ç®å½éç½®",content:"# DataNode\n\n\n\n\n# æ°æ®å®æ´æ§\n\nå¥å¶æ ¡éªä½ å¦æä¼ è¾æ°æ®1ä¸ºå¶æ°ä¸ªæ°åä¸º0 å¦æä¸ºå¥æ°ä¸ª1åä¸º1\n\nå¦æåå§æ°æ®ä¸æ¥æ¶æ°æ®åçæ¹ååæ°å¥½å¥å¶æ§ä¸è´ åè¿ä¸ªç°è±¡æä»¬ç§°ä¸ºæ ¡éªç¢°æ\n\ncrcæ ¡éªä½ 32ä½\n\nmd5 128ä½\n\nsha1 160ä½\n\n\n\n\n# æ©å±éç¾¤\n\næå½¹æ°æ°æ®èç¹\n\n 1. åé ä¿®æ¹ä¸»æºå ip\n\n 2. #å¤å¶moduleæä»¶å¤¹ å¨å¶ä»éç¾¤ä¸­å¤å¶  åç¯å¢åé\n    sudo rsync -av /opt/module hadoop105:/opt\n    sudo rsync -av /etc/profile.d hadoop105:/etc\n    \n    \n    1\n    2\n    3\n    \n\n 3. #å¨æ©å±æºä¸­å é¤logs data æä»¶å¤¹\n    cd /opt/module/hadoop-3.1.3/\n    rm -rf data logs\n    source /etc/profile\n    hadoop version\n    \n    \n    1\n    2\n    3\n    4\n    5\n    \n\n 4. hdfs --daemon start datanode \n    yarn --daemon start nodemanager  \n    jps\n    \n    \n    1\n    2\n    3\n    \n\næ­¤æ¹å¼æ¯æå¨å¯å¨ å¦ææ³è¦ç¾¤å¯å¨åéè¦éç½®åå¯ç»é\n\n#å¨102ä¸­éç½®\nvim /opt/module/hadoop-3.1.3/etc/hadoop/workers \n\n\n1\n2\n\n\nè¿½å ä¸å°å\n\nhadoop105\n\n\n1\n\n\nåæ­¥ææéç¾¤\n\nxsync /opt/module/hadoop-3.1.3/etc/hadoop/workers \n\n\n1\n\n\n\n# æ·»å é»/ç½åå\n\nå¨hadoopæä»¶å¤¹ä¸ æ°å»ºbalckliståwhitelist\n\n#ä¸»æºä¸å 102\ncd /opt/module/hadoop-3.1.3/etc/hadoop\ntouch balcklist\ntouch whitelist\n\n\n1\n2\n3\n4\n\n\næ·»å ç½åå ä¸è¬whiteliståå®¹åworkersç¸å\n\nvim whitelist\n\n\n1\n\n\nhadoop102\nhadoop103\nhadoop104\nhadoop105\n\n\n1\n2\n3\n4\n\n\nåç¼è¾hdfs-size.xml\n\nvim hdfs-site.xml \n\n\n1\n\n\næ·»å ä»¥ä¸åå®¹\n\n<property>\n<name>dfs.hosts.exclude</name>\n      <value>/opt/module/hadoop-3.1.3/etc/hadoop/balcklist</value>\n</property>\n<property>\n<name>dfs.hosts</name>\n      <value>/opt/module/hadoop-3.1.3/etc/hadoop/whitelist</value>\n</property>\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n\n\néå¯éç¾¤\n\nstop-dfs.sh\n\n\n1\n\n\nå¼å¯\n\nstart-dfs.sh\n\n\n1\n\n\n\n# é»ååéå½¹\n\nç¼è¾ balcklist æ·»å é»ååå°å\n\nvim balcklist\nhdfs dfsadmin -refreshNodes  #å·æ°èç¹\n\n\n1\n2\n\n\néå½¹çæºå¨ èªå¨ä¸ä¼ æä»¶å°æå½¹ä¸­çå¶ä»ä¸»æºä¸­\n\nå³é­èç¹\n\nhdfs --daemon stop datanode\n\n\n1\n\n\n\n# DateNode å¤ç®å½éç½®\n\nDataNodeä¹å¯ä»¥éç½®æå¤ä¸ªç®å½ï¼æ¯ä¸ªç®å½å­å¨çæ°æ®ä¸ä¸æ ·ãå³ï¼æ°æ®ä¸æ¯å¯æ¬\n\nvim hdfs-site.xml\n\n\n1\n\n\nå¤ä¸ªç®å½ä¹é´éå·éå¼\n\n<property>\n        <name>dfs.datanode.data.dir</name>\n<value>file:///${hadoop.tmp.dir}/dfs/data1,file:///${hadoop.tmp.dir}/dfs/data2</value>\n</property>\n\n\n1\n2\n3\n4\n\n\néç½®å®æåéå¯\n\nhdfs --daemon stop datanode\nhdfs --daemon start datanode\n\n\n1\n2\n",normalizedContent:"# datanode\n\n\n\n\n# æ°æ®å®æ´æ§\n\nå¥å¶æ ¡éªä½ å¦æä¼ è¾æ°æ®1ä¸ºå¶æ°ä¸ªæ°åä¸º0 å¦æä¸ºå¥æ°ä¸ª1åä¸º1\n\nå¦æåå§æ°æ®ä¸æ¥æ¶æ°æ®åçæ¹ååæ°å¥½å¥å¶æ§ä¸è´ åè¿ä¸ªç°è±¡æä»¬ç§°ä¸ºæ ¡éªç¢°æ\n\ncrcæ ¡éªä½ 32ä½\n\nmd5 128ä½\n\nsha1 160ä½\n\n\n\n\n# æ©å±éç¾¤\n\næå½¹æ°æ°æ®èç¹\n\n 1. åé ä¿®æ¹ä¸»æºå ip\n\n 2. #å¤å¶moduleæä»¶å¤¹ å¨å¶ä»éç¾¤ä¸­å¤å¶  åç¯å¢åé\n    sudo rsync -av /opt/module hadoop105:/opt\n    sudo rsync -av /etc/profile.d hadoop105:/etc\n    \n    \n    1\n    2\n    3\n    \n\n 3. #å¨æ©å±æºä¸­å é¤logs data æä»¶å¤¹\n    cd /opt/module/hadoop-3.1.3/\n    rm -rf data logs\n    source /etc/profile\n    hadoop version\n    \n    \n    1\n    2\n    3\n    4\n    5\n    \n\n 4. hdfs --daemon start datanode \n    yarn --daemon start nodemanager  \n    jps\n    \n    \n    1\n    2\n    3\n    \n\næ­¤æ¹å¼æ¯æå¨å¯å¨ å¦ææ³è¦ç¾¤å¯å¨åéè¦éç½®åå¯ç»é\n\n#å¨102ä¸­éç½®\nvim /opt/module/hadoop-3.1.3/etc/hadoop/workers \n\n\n1\n2\n\n\nè¿½å ä¸å°å\n\nhadoop105\n\n\n1\n\n\nåæ­¥ææéç¾¤\n\nxsync /opt/module/hadoop-3.1.3/etc/hadoop/workers \n\n\n1\n\n\n\n# æ·»å é»/ç½åå\n\nå¨hadoopæä»¶å¤¹ä¸ æ°å»ºbalckliståwhitelist\n\n#ä¸»æºä¸å 102\ncd /opt/module/hadoop-3.1.3/etc/hadoop\ntouch balcklist\ntouch whitelist\n\n\n1\n2\n3\n4\n\n\næ·»å ç½åå ä¸è¬whiteliståå®¹åworkersç¸å\n\nvim whitelist\n\n\n1\n\n\nhadoop102\nhadoop103\nhadoop104\nhadoop105\n\n\n1\n2\n3\n4\n\n\nåç¼è¾hdfs-size.xml\n\nvim hdfs-site.xml \n\n\n1\n\n\næ·»å ä»¥ä¸åå®¹\n\n<property>\n<name>dfs.hosts.exclude</name>\n      <value>/opt/module/hadoop-3.1.3/etc/hadoop/balcklist</value>\n</property>\n<property>\n<name>dfs.hosts</name>\n      <value>/opt/module/hadoop-3.1.3/etc/hadoop/whitelist</value>\n</property>\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n\n\néå¯éç¾¤\n\nstop-dfs.sh\n\n\n1\n\n\nå¼å¯\n\nstart-dfs.sh\n\n\n1\n\n\n\n# é»ååéå½¹\n\nç¼è¾ balcklist æ·»å é»ååå°å\n\nvim balcklist\nhdfs dfsadmin -refreshnodes  #å·æ°èç¹\n\n\n1\n2\n\n\néå½¹çæºå¨ èªå¨ä¸ä¼ æä»¶å°æå½¹ä¸­çå¶ä»ä¸»æºä¸­\n\nå³é­èç¹\n\nhdfs --daemon stop datanode\n\n\n1\n\n\n\n# datenode å¤ç®å½éç½®\n\ndatanodeä¹å¯ä»¥éç½®æå¤ä¸ªç®å½ï¼æ¯ä¸ªç®å½å­å¨çæ°æ®ä¸ä¸æ ·ãå³ï¼æ°æ®ä¸æ¯å¯æ¬\n\nvim hdfs-site.xml\n\n\n1\n\n\nå¤ä¸ªç®å½ä¹é´éå·éå¼\n\n<property>\n        <name>dfs.datanode.data.dir</name>\n<value>file:///${hadoop.tmp.dir}/dfs/data1,file:///${hadoop.tmp.dir}/dfs/data2</value>\n</property>\n\n\n1\n2\n3\n4\n\n\néç½®å®æåéå¯\n\nhdfs --daemon stop datanode\nhdfs --daemon start datanode\n\n\n1\n2\n",charsets:{cjk:!0},lastUpdated:"2022/03/18, 07:01:11",lastUpdatedTimestamp:1647558071e3},{title:"MapReduce",frontmatter:{title:"MapReduce",date:"2022-03-17T21:41:51.000Z",permalink:"/pages/070d96/",categories:["Hadoop"],tags:[null]},regularPath:"/%E5%A4%A7%E6%95%B0%E6%8D%AE/01.Hadoop/10.MapReduce.html",relativePath:"å¤§æ°æ®/01.Hadoop/10.MapReduce.md",key:"v-1c17faff",path:"/pages/070d96/",headers:[{level:2,title:"HadoopåçMapReduce",slug:"hadoopåçmapreduce",normalizedTitle:"hadoopåçmapreduce",charIndex:174},{level:2,title:"å¸¸ç¨æ°æ®åºååç±»å",slug:"å¸¸ç¨æ°æ®åºååç±»å",normalizedTitle:"å¸¸ç¨æ°æ®åºååç±»å",charIndex:509},{level:2,title:"WordCountç¼å",slug:"wordcountç¼å",normalizedTitle:"wordcountç¼å",charIndex:525},{level:2,title:"HaDoopåºåå",slug:"hadoopåºåå",normalizedTitle:"hadoopåºåå",charIndex:4381},{level:3,title:"ç»è®¡æµéæ¡ä¾",slug:"ç»è®¡æµéæ¡ä¾",normalizedTitle:"ç»è®¡æµéæ¡ä¾",charIndex:4520}],headersStr:"HadoopåçMapReduce å¸¸ç¨æ°æ®åºååç±»å WordCountç¼å HaDoopåºåå ç»è®¡æµéæ¡ä¾",content:'# MapReduce\n\nMapReduceæ¯ä¸ä¸ªåå¸å¼è¿ç®ç¨åºçç¼ç¨æ¡æ¶ å°ç¨æ·ç¼åçä¸å¡é»è¾ä»£ç åèªå¸¦é»è®¤ç»ä»¶æ´åä¸è´¯å®æ´çåå¸å¼è¿ç®ç¨åº å¹¶åè¿è¡å¨ä¸ä¸ªHaoopéç¾¤ä¸\n\nä¼ç¹:å®ç®åçå®ç°ä¸äºæ¥å£ï¼å°±å¯ä»¥å®æä¸ä¸ªåå¸å¼ç¨åº\n\nç¼ºç¹:æ¯ä¸ªMapReduceä½ä¸çè¾åºç»æé½ä¼åå¥å°ç£çï¼ä¼é æå¤§éçç£çIOï¼å¯¼è´æ§è½éå¸¸çä½ä¸ã\n\n\n\n\n# HadoopåçMapReduce\n\nå­å¨å¨/opt/module/hadoop-3.1.3/share/hadoop/mapreduce\n\n * yarn jar MapReduceè·¯å¾ wordcount è¾å¥hdfsæä»¶è·¯å¾ è¾åºhdfsæä»¶ä¿å­è·¯å¾è¿æ¯å¨hdfsä¸(å¿é¡»æ¯ä¸å­å¨çæä»¶å¤¹å¦åæ¥é)\n\ncd /opt/module/hadoop-3.1.3\nyarn jar share/hadoop/mapreduce/hadoop-mapreduce-examples-3.1.3.jar wordcount /fiddler.md /output\n\n\n1\n2\n\n\næå¼hdfsä¸­outputä¸­çpart-r-xxxx éé¢ä¼ç»è®¡åºæ¯ä¸ªå­è¯åºç°çæ¬¡æ°\n\n\n# å¸¸ç¨æ°æ®åºååç±»å\n\n\n\n\n# WordCountç¼å\n\nä½¿ç¨IDEAä¸­åå»ºhadoopé¡¹ç® åå»ºmavené¡¹ç®\n\nWcDriverç±»\n\npackage com.mywordcount;\n\nimport org.apache.hadoop.conf.Configuration;\nimport org.apache.hadoop.fs.Path;\nimport org.apache.hadoop.io.IntWritable;\nimport org.apache.hadoop.io.Text;\n\nimport org.apache.hadoop.mapreduce.Job;\nimport org.apache.hadoop.mapreduce.lib.input.FileInputFormat;\nimport org.apache.hadoop.mapreduce.lib.output.FileOutputFormat;\n\nimport java.io.IOException;\n\npublic class WcDriver {\n    public static void main(String[] args) throws IOException, InterruptedException, ClassNotFoundException {\n        //1.è·åJobå®ä¾\n        Job job = Job.getInstance(new Configuration());\n        //2.è®¾ç½®jarå\n        job.setJarByClass(WcDriver.class);\n\n        //è®¾ç½®MapperåReducer\n        job.setMapOutputKeyClass(WcDriver.class);\n        job.setReducerClass(WcReducer.class);\n\n        //è®¾ç½®MapåReduceçè¾åºç±»å\n        job.setMapOutputKeyClass(Text.class);\n        job.setMapOutputValueClass(IntWritable.class);\n\n        job.setOutputKeyClass(Text.class);\n        job.setOutputValueClass(IntWritable.class);\n\n        //è®¾ç½®è¾å¥è¾åºæä»¶\n        FileInputFormat.setInputPaths(job, new Path(args[0]));\n        FileOutputFormat.setOutputPath(job, new Path(args[1]));\n\n        //æäº¤job\n        boolean result = job.waitForCompletion(true);\n\n        System.exit(result ? 0 : 1);\n\n    }\n}\n\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n26\n27\n28\n29\n30\n31\n32\n33\n34\n35\n36\n37\n38\n39\n40\n41\n42\n43\n\n\nWcMapper\n\npackage com.mywordcount;\n\nimport org.apache.hadoop.io.IntWritable;\nimport org.apache.hadoop.io.LongWritable;\nimport org.apache.hadoop.io.Text;\nimport org.apache.hadoop.mapreduce.Mapper;\n\nimport java.io.IOException;\n\npublic class WcMapper extends Mapper<LongWritable, Text, Text, IntWritable> {\n    private IntWritable one = new IntWritable(1);\n    private Text word = new Text();\n\n    /**\n     * æ¡æ¶å°æ°æ®ææä¸è¡ä¸è¡è¾å¥è¿æ¥ ææ°æ®åæ(åè¯,1)çå½¢å¼\n     *\n     * @param key     è¡å·\n     * @param value   è¡åå®¹\n     * @param context ä»»å¡æ¬èº«\n     * @throws IOException\n     * @throws InterruptedException\n     */\n    @Override\n    protected void map(LongWritable key, Text value, Mapper<LongWritable, Text, Text, IntWritable>.Context context) throws IOException, InterruptedException {\n        //è¡æ°æ®\n        String line = value.toString();\n\n        //æåæè¥å¹²ä¸ªåè¯\n        String[] words = line.split(" ");\n\n        //å°(åè¯,1)ååæ¡æ¶\n        for (String word : words) {\n            this.word.set(word);\n            context.write(this.word, this.one);\n        }\n\n    }\n}\n\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n26\n27\n28\n29\n30\n31\n32\n33\n34\n35\n36\n37\n38\n39\n\n\nWcReducer\n\npackage com.mywordcount;\n\nimport org.apache.hadoop.io.IntWritable;\nimport org.apache.hadoop.io.Text;\nimport org.apache.hadoop.mapreduce.Reducer;\n\nimport java.io.IOException;\n\npublic class WcReducer extends Reducer<Text, IntWritable, Text, IntWritable> {\n    private IntWritable result = new IntWritable();\n\n    /**\n     * æ¡æ¶æåè¯åå¥½ç»ç»æä»¬, æä»¬å°åä¸ä¸ªåè¯çæ¬¡æ°è¿è¡å¢å \n     *\n     * @param key     åè¯\n     * @param values  æ­¤æ¶ä¸º1 æ°é\n     * @param context ä»»å¡æ¬èº«\n     * @throws IOException\n     * @throws InterruptedException\n     */\n    @Override\n    protected void reduce(Text key, Iterable<IntWritable> values, Reducer<Text, IntWritable, Text, IntWritable>.Context context) throws IOException, InterruptedException {\n        //ç´¯å \n        int sum = 0;\n        for (IntWritable value : values) {\n            sum += value.get();\n        }\n        result.set(sum);\n        context.write(key, result);\n\n    }\n\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n26\n27\n28\n29\n30\n31\n32\n33\n\n\n\n\næåé¡¹ç® æmaprduce1-1.0ä¸ä¼ å°éç¾¤ä¸­ æååæ³¨æjavaçæ¬ è¯·ç¨1.8æå\n\nhttps://zhuanlan.zhihu.com/p/348660719 è¿æpom.xmlçæ¬è¦è®¾ç½®\n\n\n\n * yarn jar mapreduce1-1.0-SNAPSHOT.jar å¨ç±»åå¼ç¨è·¯å¾ /fiddler.md /output2\n\nyarn jar mapreduce1-1.0-SNAPSHOT.jar com.mywordcount.WcDriver /fiddler.md /output2\n\n\n1\n\n\n\n# HaDoopåºåå\n\nåºåå·å°±æ¯æåå­ä¸­çå¯¹è±¡,è½¬æ¢ä¸ºäºè¿å¶åºå ä»¥ä¾¿æä¹å\n\nJAVAåºååæ¯ä¸ä¸ªééçº§åºååæ¡æ¶ ä¼éå¸¦é¢å¤çä¿¡æ¯(æ ¡éªä¿¡æ¯ header ç»§æ¿ä½ç³»ç­)\n\nä½Hadoopä¸éè¦è¿ä¹å¤ä¿¡æ¯,æä»¥Hadoopæ¥æèªå·±çä¸å¥åºååä½ç³»(Writable)\n\n\n# ç»è®¡æµéæ¡ä¾\n\n 1. FlowBeanç±»\n    \n    package com.flow;\n    \n    import org.apache.hadoop.io.Writable;\n    \n    import java.io.DataInput;\n    import java.io.DataOutput;\n    import java.io.IOException;\n    \n    public class FlowBean implements Writable {\n        private long upFlow;\n        private long downFlow;\n        private long sumFlow;\n    \n        @Override\n        public String toString() {\n            return "FlowBean{" +\n                    "upFlow=" + upFlow +\n                    ", downFlow=" + downFlow +\n                    ", sumFlow=" + sumFlow +\n                    \'}\';\n        }\n    \n        public void set(long upFlow, long downFlow) {\n            this.downFlow = downFlow;\n            this.upFlow = upFlow;\n            this.sumFlow = upFlow + downFlow;\n        }\n    \n    \n        public long getUpFlow() {\n            return upFlow;\n        }\n    \n        public void setUpFlow(long upFlow) {\n            this.upFlow = upFlow;\n        }\n    \n        public long getDownFlow() {\n            return downFlow;\n        }\n    \n        public void setDownFlow(long downFlow) {\n            this.downFlow = downFlow;\n        }\n    \n        public long getSumFlow() {\n            return sumFlow;\n        }\n    \n        public void setSumFlow(long sumFlow) {\n            this.sumFlow = sumFlow;\n        }\n    \n        /**\n         * å°å¯¹è±¡æ°æ®ååºå°æ¡æ¶æå®å°æ¹  åºåå\n         *\n         * @param dataOutput æ°æ®çå®¹å¨\n         * @throws IOException\n         */\n        @Override\n        public void write(DataOutput dataOutput) throws IOException {\n            dataOutput.writeLong(upFlow);\n            dataOutput.writeLong(downFlow);\n            dataOutput.writeLong(sumFlow);\n        }\n    \n    \n        /**\n         * ä»æ¡æ¶æå®å°æ¹è¯»åæ°æ®å¡«åå¯¹è±¡  ååºåå\n         *\n         * @param dataInput\n         * @throws IOException\n         */\n        @Override\n        public void readFields(DataInput dataInput) throws IOException {\n            //è¯»åé¡ºåºè¦ä¸è´\n            this.upFlow = dataInput.readLong();\n            this.downFlow = dataInput.readLong();\n            this.sumFlow = dataInput.readLong();\n        }\n    }\n    \n    \n    1\n    2\n    3\n    4\n    5\n    6\n    7\n    8\n    9\n    10\n    11\n    12\n    13\n    14\n    15\n    16\n    17\n    18\n    19\n    20\n    21\n    22\n    23\n    24\n    25\n    26\n    27\n    28\n    29\n    30\n    31\n    32\n    33\n    34\n    35\n    36\n    37\n    38\n    39\n    40\n    41\n    42\n    43\n    44\n    45\n    46\n    47\n    48\n    49\n    50\n    51\n    52\n    53\n    54\n    55\n    56\n    57\n    58\n    59\n    60\n    61\n    62\n    63\n    64\n    65\n    66\n    67\n    68\n    69\n    70\n    71\n    72\n    73\n    74\n    75\n    76\n    77\n    78\n    79\n    80\n    81\n    \n\n 2. FlowMapperç±»\n    \n    package com.flow;\n    \n    import org.apache.hadoop.io.LongWritable;\n    import org.apache.hadoop.io.Text;\n    import org.apache.hadoop.mapreduce.Mapper;\n    \n    import java.io.IOException;\n    \n    public class FlowMapper extends Mapper<LongWritable, Text, Text, FlowBean> {\n        private Text phone = new Text();\n        private FlowBean flow = new FlowBean();\n    \n    \n        @Override\n        protected void map(LongWritable key, Text value, Mapper<LongWritable, Text, Text, FlowBean>.Context context) throws IOException, InterruptedException {\n            //æ¿å°ä¸è¡æ°æ®\n            String line = value.toString();\n            //åå\n            String[] split = line.split("\\t");\n            //å°è£\n            phone.set(split[1]);\n            flow.set(\n                    Long.parseLong(split[split.length - 3]),//upFlow\n                    Long.parseLong(split[split.length - 2]) //downFlow\n            );\n            context.write(phone, flow);\n        }\n    }\n    \n    \n    1\n    2\n    3\n    4\n    5\n    6\n    7\n    8\n    9\n    10\n    11\n    12\n    13\n    14\n    15\n    16\n    17\n    18\n    19\n    20\n    21\n    22\n    23\n    24\n    25\n    26\n    27\n    28\n    \n\n 3. FlowReducerç±»\n    \n    package com.flow;\n    \n    import org.apache.hadoop.io.Text;\n    import org.apache.hadoop.mapreduce.Reducer;\n    \n    import java.io.IOException;\n    \n    public class FlowReducer extends Reducer<Text, FlowBean, Text, FlowBean> {\n    \n        private FlowBean flow = new FlowBean();\n    \n        @Override\n        protected void reduce(Text key, Iterable<FlowBean> values, Reducer<Text, FlowBean, Text, FlowBean>.Context context) throws IOException, InterruptedException {\n            //ç´¯å æµé\n            long sumUpFlow = 0;\n            long sumDownFlow = 0;\n    \n            for (FlowBean value : values) {\n                sumUpFlow += value.getUpFlow();\n                sumDownFlow += value.getDownFlow();\n            }\n    \n            //å°è£ä¸ºflowå¯¹è±¡\n            flow.set(sumUpFlow, sumDownFlow);\n    \n            context.write(key, flow);\n    \n        }\n    }\n    \n    \n    1\n    2\n    3\n    4\n    5\n    6\n    7\n    8\n    9\n    10\n    11\n    12\n    13\n    14\n    15\n    16\n    17\n    18\n    19\n    20\n    21\n    22\n    23\n    24\n    25\n    26\n    27\n    28\n    29\n    \n\n 4. FlowDriverç±»\n    \n    package com.flow;\n    \n    import org.apache.hadoop.conf.Configuration;\n    import org.apache.hadoop.fs.Path;\n    import org.apache.hadoop.io.Text;\n    import org.apache.hadoop.mapreduce.Job;\n    import org.apache.hadoop.mapreduce.lib.input.FileInputFormat;\n    import org.apache.hadoop.mapreduce.lib.output.FileOutputFormat;\n    \n    import java.io.IOException;\n    \n    public class FlowDriver {\n    \n        public static void main(String[] args) throws IOException, InterruptedException, ClassNotFoundException {\n            Job job = Job.getInstance(new Configuration());\n    \n            job.setJarByClass(FlowDriver.class);\n    \n            job.setMapperClass(FlowMapper.class);\n            job.setReducerClass(FlowReducer.class);\n    \n            job.setMapOutputKeyClass(Text.class);\n            job.setMapOutputValueClass(FlowBean.class);\n    \n            job.setOutputKeyClass(Text.class);\n            job.setOutputValueClass(FlowBean.class);\n    \n            FileInputFormat.setInputPaths(job, new Path(args[0]));\n            FileOutputFormat.setOutputPath(job, new Path(args[1]));\n    \n            boolean completion = job.waitForCompletion(true);\n            System.exit(completion ? 0 : 1);\n        }\n    }\n    \n    \n    1\n    2\n    3\n    4\n    5\n    6\n    7\n    8\n    9\n    10\n    11\n    12\n    13\n    14\n    15\n    16\n    17\n    18\n    19\n    20\n    21\n    22\n    23\n    24\n    25\n    26\n    27\n    28\n    29\n    30\n    31\n    32\n    33\n    34\n    \n\n 5. æåæjaræä»¶ä¸ä¼ å°hadoopä¸­\n    \n    #åå»ºç®å½\n    hadoop fs -mkdir /input\n    hadoop fs -put /home/atguigu/phone_data.txt /input\n    yarn jar mapreduce1-1.0-SNAPSHOT.jar com.flow.FlowDriver /input /output3\n    \n    \n    1\n    2\n    3\n    4\n    ',normalizedContent:'# mapreduce\n\nmapreduceæ¯ä¸ä¸ªåå¸å¼è¿ç®ç¨åºçç¼ç¨æ¡æ¶ å°ç¨æ·ç¼åçä¸å¡é»è¾ä»£ç åèªå¸¦é»è®¤ç»ä»¶æ´åä¸è´¯å®æ´çåå¸å¼è¿ç®ç¨åº å¹¶åè¿è¡å¨ä¸ä¸ªhaoopéç¾¤ä¸\n\nä¼ç¹:å®ç®åçå®ç°ä¸äºæ¥å£ï¼å°±å¯ä»¥å®æä¸ä¸ªåå¸å¼ç¨åº\n\nç¼ºç¹:æ¯ä¸ªmapreduceä½ä¸çè¾åºç»æé½ä¼åå¥å°ç£çï¼ä¼é æå¤§éçç£çioï¼å¯¼è´æ§è½éå¸¸çä½ä¸ã\n\n\n\n\n# hadoopåçmapreduce\n\nå­å¨å¨/opt/module/hadoop-3.1.3/share/hadoop/mapreduce\n\n * yarn jar mapreduceè·¯å¾ wordcount è¾å¥hdfsæä»¶è·¯å¾ è¾åºhdfsæä»¶ä¿å­è·¯å¾è¿æ¯å¨hdfsä¸(å¿é¡»æ¯ä¸å­å¨çæä»¶å¤¹å¦åæ¥é)\n\ncd /opt/module/hadoop-3.1.3\nyarn jar share/hadoop/mapreduce/hadoop-mapreduce-examples-3.1.3.jar wordcount /fiddler.md /output\n\n\n1\n2\n\n\næå¼hdfsä¸­outputä¸­çpart-r-xxxx éé¢ä¼ç»è®¡åºæ¯ä¸ªå­è¯åºç°çæ¬¡æ°\n\n\n# å¸¸ç¨æ°æ®åºååç±»å\n\n\n\n\n# wordcountç¼å\n\nä½¿ç¨ideaä¸­åå»ºhadoopé¡¹ç® åå»ºmavené¡¹ç®\n\nwcdriverç±»\n\npackage com.mywordcount;\n\nimport org.apache.hadoop.conf.configuration;\nimport org.apache.hadoop.fs.path;\nimport org.apache.hadoop.io.intwritable;\nimport org.apache.hadoop.io.text;\n\nimport org.apache.hadoop.mapreduce.job;\nimport org.apache.hadoop.mapreduce.lib.input.fileinputformat;\nimport org.apache.hadoop.mapreduce.lib.output.fileoutputformat;\n\nimport java.io.ioexception;\n\npublic class wcdriver {\n    public static void main(string[] args) throws ioexception, interruptedexception, classnotfoundexception {\n        //1.è·åjobå®ä¾\n        job job = job.getinstance(new configuration());\n        //2.è®¾ç½®jarå\n        job.setjarbyclass(wcdriver.class);\n\n        //è®¾ç½®mapperåreducer\n        job.setmapoutputkeyclass(wcdriver.class);\n        job.setreducerclass(wcreducer.class);\n\n        //è®¾ç½®mapåreduceçè¾åºç±»å\n        job.setmapoutputkeyclass(text.class);\n        job.setmapoutputvalueclass(intwritable.class);\n\n        job.setoutputkeyclass(text.class);\n        job.setoutputvalueclass(intwritable.class);\n\n        //è®¾ç½®è¾å¥è¾åºæä»¶\n        fileinputformat.setinputpaths(job, new path(args[0]));\n        fileoutputformat.setoutputpath(job, new path(args[1]));\n\n        //æäº¤job\n        boolean result = job.waitforcompletion(true);\n\n        system.exit(result ? 0 : 1);\n\n    }\n}\n\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n26\n27\n28\n29\n30\n31\n32\n33\n34\n35\n36\n37\n38\n39\n40\n41\n42\n43\n\n\nwcmapper\n\npackage com.mywordcount;\n\nimport org.apache.hadoop.io.intwritable;\nimport org.apache.hadoop.io.longwritable;\nimport org.apache.hadoop.io.text;\nimport org.apache.hadoop.mapreduce.mapper;\n\nimport java.io.ioexception;\n\npublic class wcmapper extends mapper<longwritable, text, text, intwritable> {\n    private intwritable one = new intwritable(1);\n    private text word = new text();\n\n    /**\n     * æ¡æ¶å°æ°æ®ææä¸è¡ä¸è¡è¾å¥è¿æ¥ ææ°æ®åæ(åè¯,1)çå½¢å¼\n     *\n     * @param key     è¡å·\n     * @param value   è¡åå®¹\n     * @param context ä»»å¡æ¬èº«\n     * @throws ioexception\n     * @throws interruptedexception\n     */\n    @override\n    protected void map(longwritable key, text value, mapper<longwritable, text, text, intwritable>.context context) throws ioexception, interruptedexception {\n        //è¡æ°æ®\n        string line = value.tostring();\n\n        //æåæè¥å¹²ä¸ªåè¯\n        string[] words = line.split(" ");\n\n        //å°(åè¯,1)ååæ¡æ¶\n        for (string word : words) {\n            this.word.set(word);\n            context.write(this.word, this.one);\n        }\n\n    }\n}\n\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n26\n27\n28\n29\n30\n31\n32\n33\n34\n35\n36\n37\n38\n39\n\n\nwcreducer\n\npackage com.mywordcount;\n\nimport org.apache.hadoop.io.intwritable;\nimport org.apache.hadoop.io.text;\nimport org.apache.hadoop.mapreduce.reducer;\n\nimport java.io.ioexception;\n\npublic class wcreducer extends reducer<text, intwritable, text, intwritable> {\n    private intwritable result = new intwritable();\n\n    /**\n     * æ¡æ¶æåè¯åå¥½ç»ç»æä»¬, æä»¬å°åä¸ä¸ªåè¯çæ¬¡æ°è¿è¡å¢å \n     *\n     * @param key     åè¯\n     * @param values  æ­¤æ¶ä¸º1 æ°é\n     * @param context ä»»å¡æ¬èº«\n     * @throws ioexception\n     * @throws interruptedexception\n     */\n    @override\n    protected void reduce(text key, iterable<intwritable> values, reducer<text, intwritable, text, intwritable>.context context) throws ioexception, interruptedexception {\n        //ç´¯å \n        int sum = 0;\n        for (intwritable value : values) {\n            sum += value.get();\n        }\n        result.set(sum);\n        context.write(key, result);\n\n    }\n\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n26\n27\n28\n29\n30\n31\n32\n33\n\n\n\n\næåé¡¹ç® æmaprduce1-1.0ä¸ä¼ å°éç¾¤ä¸­ æååæ³¨æjavaçæ¬ è¯·ç¨1.8æå\n\nhttps://zhuanlan.zhihu.com/p/348660719 è¿æpom.xmlçæ¬è¦è®¾ç½®\n\n\n\n * yarn jar mapreduce1-1.0-snapshot.jar å¨ç±»åå¼ç¨è·¯å¾ /fiddler.md /output2\n\nyarn jar mapreduce1-1.0-snapshot.jar com.mywordcount.wcdriver /fiddler.md /output2\n\n\n1\n\n\n\n# hadoopåºåå\n\nåºåå·å°±æ¯æåå­ä¸­çå¯¹è±¡,è½¬æ¢ä¸ºäºè¿å¶åºå ä»¥ä¾¿æä¹å\n\njavaåºååæ¯ä¸ä¸ªééçº§åºååæ¡æ¶ ä¼éå¸¦é¢å¤çä¿¡æ¯(æ ¡éªä¿¡æ¯ header ç»§æ¿ä½ç³»ç­)\n\nä½hadoopä¸éè¦è¿ä¹å¤ä¿¡æ¯,æä»¥hadoopæ¥æèªå·±çä¸å¥åºååä½ç³»(writable)\n\n\n# ç»è®¡æµéæ¡ä¾\n\n 1. flowbeanç±»\n    \n    package com.flow;\n    \n    import org.apache.hadoop.io.writable;\n    \n    import java.io.datainput;\n    import java.io.dataoutput;\n    import java.io.ioexception;\n    \n    public class flowbean implements writable {\n        private long upflow;\n        private long downflow;\n        private long sumflow;\n    \n        @override\n        public string tostring() {\n            return "flowbean{" +\n                    "upflow=" + upflow +\n                    ", downflow=" + downflow +\n                    ", sumflow=" + sumflow +\n                    \'}\';\n        }\n    \n        public void set(long upflow, long downflow) {\n            this.downflow = downflow;\n            this.upflow = upflow;\n            this.sumflow = upflow + downflow;\n        }\n    \n    \n        public long getupflow() {\n            return upflow;\n        }\n    \n        public void setupflow(long upflow) {\n            this.upflow = upflow;\n        }\n    \n        public long getdownflow() {\n            return downflow;\n        }\n    \n        public void setdownflow(long downflow) {\n            this.downflow = downflow;\n        }\n    \n        public long getsumflow() {\n            return sumflow;\n        }\n    \n        public void setsumflow(long sumflow) {\n            this.sumflow = sumflow;\n        }\n    \n        /**\n         * å°å¯¹è±¡æ°æ®ååºå°æ¡æ¶æå®å°æ¹  åºåå\n         *\n         * @param dataoutput æ°æ®çå®¹å¨\n         * @throws ioexception\n         */\n        @override\n        public void write(dataoutput dataoutput) throws ioexception {\n            dataoutput.writelong(upflow);\n            dataoutput.writelong(downflow);\n            dataoutput.writelong(sumflow);\n        }\n    \n    \n        /**\n         * ä»æ¡æ¶æå®å°æ¹è¯»åæ°æ®å¡«åå¯¹è±¡  ååºåå\n         *\n         * @param datainput\n         * @throws ioexception\n         */\n        @override\n        public void readfields(datainput datainput) throws ioexception {\n            //è¯»åé¡ºåºè¦ä¸è´\n            this.upflow = datainput.readlong();\n            this.downflow = datainput.readlong();\n            this.sumflow = datainput.readlong();\n        }\n    }\n    \n    \n    1\n    2\n    3\n    4\n    5\n    6\n    7\n    8\n    9\n    10\n    11\n    12\n    13\n    14\n    15\n    16\n    17\n    18\n    19\n    20\n    21\n    22\n    23\n    24\n    25\n    26\n    27\n    28\n    29\n    30\n    31\n    32\n    33\n    34\n    35\n    36\n    37\n    38\n    39\n    40\n    41\n    42\n    43\n    44\n    45\n    46\n    47\n    48\n    49\n    50\n    51\n    52\n    53\n    54\n    55\n    56\n    57\n    58\n    59\n    60\n    61\n    62\n    63\n    64\n    65\n    66\n    67\n    68\n    69\n    70\n    71\n    72\n    73\n    74\n    75\n    76\n    77\n    78\n    79\n    80\n    81\n    \n\n 2. flowmapperç±»\n    \n    package com.flow;\n    \n    import org.apache.hadoop.io.longwritable;\n    import org.apache.hadoop.io.text;\n    import org.apache.hadoop.mapreduce.mapper;\n    \n    import java.io.ioexception;\n    \n    public class flowmapper extends mapper<longwritable, text, text, flowbean> {\n        private text phone = new text();\n        private flowbean flow = new flowbean();\n    \n    \n        @override\n        protected void map(longwritable key, text value, mapper<longwritable, text, text, flowbean>.context context) throws ioexception, interruptedexception {\n            //æ¿å°ä¸è¡æ°æ®\n            string line = value.tostring();\n            //åå\n            string[] split = line.split("\\t");\n            //å°è£\n            phone.set(split[1]);\n            flow.set(\n                    long.parselong(split[split.length - 3]),//upflow\n                    long.parselong(split[split.length - 2]) //downflow\n            );\n            context.write(phone, flow);\n        }\n    }\n    \n    \n    1\n    2\n    3\n    4\n    5\n    6\n    7\n    8\n    9\n    10\n    11\n    12\n    13\n    14\n    15\n    16\n    17\n    18\n    19\n    20\n    21\n    22\n    23\n    24\n    25\n    26\n    27\n    28\n    \n\n 3. flowreducerç±»\n    \n    package com.flow;\n    \n    import org.apache.hadoop.io.text;\n    import org.apache.hadoop.mapreduce.reducer;\n    \n    import java.io.ioexception;\n    \n    public class flowreducer extends reducer<text, flowbean, text, flowbean> {\n    \n        private flowbean flow = new flowbean();\n    \n        @override\n        protected void reduce(text key, iterable<flowbean> values, reducer<text, flowbean, text, flowbean>.context context) throws ioexception, interruptedexception {\n            //ç´¯å æµé\n            long sumupflow = 0;\n            long sumdownflow = 0;\n    \n            for (flowbean value : values) {\n                sumupflow += value.getupflow();\n                sumdownflow += value.getdownflow();\n            }\n    \n            //å°è£ä¸ºflowå¯¹è±¡\n            flow.set(sumupflow, sumdownflow);\n    \n            context.write(key, flow);\n    \n        }\n    }\n    \n    \n    1\n    2\n    3\n    4\n    5\n    6\n    7\n    8\n    9\n    10\n    11\n    12\n    13\n    14\n    15\n    16\n    17\n    18\n    19\n    20\n    21\n    22\n    23\n    24\n    25\n    26\n    27\n    28\n    29\n    \n\n 4. flowdriverç±»\n    \n    package com.flow;\n    \n    import org.apache.hadoop.conf.configuration;\n    import org.apache.hadoop.fs.path;\n    import org.apache.hadoop.io.text;\n    import org.apache.hadoop.mapreduce.job;\n    import org.apache.hadoop.mapreduce.lib.input.fileinputformat;\n    import org.apache.hadoop.mapreduce.lib.output.fileoutputformat;\n    \n    import java.io.ioexception;\n    \n    public class flowdriver {\n    \n        public static void main(string[] args) throws ioexception, interruptedexception, classnotfoundexception {\n            job job = job.getinstance(new configuration());\n    \n            job.setjarbyclass(flowdriver.class);\n    \n            job.setmapperclass(flowmapper.class);\n            job.setreducerclass(flowreducer.class);\n    \n            job.setmapoutputkeyclass(text.class);\n            job.setmapoutputvalueclass(flowbean.class);\n    \n            job.setoutputkeyclass(text.class);\n            job.setoutputvalueclass(flowbean.class);\n    \n            fileinputformat.setinputpaths(job, new path(args[0]));\n            fileoutputformat.setoutputpath(job, new path(args[1]));\n    \n            boolean completion = job.waitforcompletion(true);\n            system.exit(completion ? 0 : 1);\n        }\n    }\n    \n    \n    1\n    2\n    3\n    4\n    5\n    6\n    7\n    8\n    9\n    10\n    11\n    12\n    13\n    14\n    15\n    16\n    17\n    18\n    19\n    20\n    21\n    22\n    23\n    24\n    25\n    26\n    27\n    28\n    29\n    30\n    31\n    32\n    33\n    34\n    \n\n 5. æåæjaræä»¶ä¸ä¼ å°hadoopä¸­\n    \n    #åå»ºç®å½\n    hadoop fs -mkdir /input\n    hadoop fs -put /home/atguigu/phone_data.txt /input\n    yarn jar mapreduce1-1.0-snapshot.jar com.flow.flowdriver /input /output3\n    \n    \n    1\n    2\n    3\n    4\n    ',charsets:{cjk:!0},lastUpdated:"2022/03/18, 07:01:11",lastUpdatedTimestamp:1647558071e3},{title:"Yarn",frontmatter:{title:"Yarn",date:"2022-03-17T21:41:51.000Z",permalink:"/pages/89b57e/",categories:["Hadoop"],tags:[null]},regularPath:"/%E5%A4%A7%E6%95%B0%E6%8D%AE/01.Hadoop/12.Yarn.html",relativePath:"å¤§æ°æ®/01.Hadoop/12.Yarn.md",key:"v-7f22fd75",path:"/pages/89b57e/",headers:[{level:2,title:"windowsåyarnæäº¤æºç ä»»å¡",slug:"windowsåyarnæäº¤æºç ä»»å¡",normalizedTitle:"windowsåyarnæäº¤æºç ä»»å¡",charIndex:11},{level:2,title:"æ°æ®åç¼©",slug:"æ°æ®åç¼©",normalizedTitle:"æ°æ®åç¼©",charIndex:1984},{level:2,title:"Yarnæ¶æ",slug:"yarnæ¶æ",normalizedTitle:"yarnæ¶æ",charIndex:5652},{level:2,title:"èµæºè°åº¦å¨",slug:"èµæºè°åº¦å¨",normalizedTitle:"èµæºè°åº¦å¨",charIndex:6324},{level:2,title:"å®¹å¨è°åº¦å¨å¤éåéç½®",slug:"å®¹å¨è°åº¦å¨å¤éåéç½®",normalizedTitle:"å®¹å¨è°åº¦å¨å¤éåéç½®",charIndex:6829},{level:3,title:"å¤éåæäº¤ä»»å¡",slug:"å¤éåæäº¤ä»»å¡",normalizedTitle:"å¤éåæäº¤ä»»å¡",charIndex:1e4},{level:2,title:"ä»»å¡çæ¨æµæ§è¡",slug:"ä»»å¡çæ¨æµæ§è¡",normalizedTitle:"ä»»å¡çæ¨æµæ§è¡",charIndex:10116}],headersStr:"windowsåyarnæäº¤æºç ä»»å¡ æ°æ®åç¼© Yarnæ¶æ èµæºè°åº¦å¨ å®¹å¨è°åº¦å¨å¤éåéç½® å¤éåæäº¤ä»»å¡ ä»»å¡çæ¨æµæ§è¡",content:'# Yarn\n\n\n# windowsåyarnæäº¤æºç ä»»å¡\n\n 1. å¨Configurationéç½®æä»¶æ·»å yarnçéç½®å±æ§\n 2. ç¨Maven æå»ºjar\n 3. ä¿®æ¹jobå è½½é©±å¨ç±»ä¸º æååçjarå\n 4. \n\né©±å¨ç±»ç¼ç \n\npackage com.mywordcount;\n\nimport java.io.IOException;\n\nimport org.apache.hadoop.conf.Configuration;\nimport org.apache.hadoop.fs.Path;\nimport org.apache.hadoop.io.IntWritable;\nimport org.apache.hadoop.io.Text;\nimport org.apache.hadoop.mapreduce.Job;\nimport org.apache.hadoop.mapreduce.lib.input.FileInputFormat;\nimport org.apache.hadoop.mapreduce.lib.output.FileOutputFormat;\n\npublic class WcDriver {\n\n    public static void main(String[] args) throws IOException, ClassNotFoundException, InterruptedException {\n\n        // 1 è·åéç½®ä¿¡æ¯ä»¥åå°è£ä»»å¡\n        Configuration configuration = new Configuration();\n\n        configuration.set("fs.defaultFS", "hdfs://hadoop102:8020");\n        configuration.set("mapreduce.framework.name", "yarn");\n        configuration.set("mapreduce.app-submission.cross-platform", "true");\n        configuration.set("yarn.resourcemanager.hostname", "hadoop103");\n\n        Job job = Job.getInstance(configuration);\n\n        // 2 è®¾ç½®jarå è½½è·¯å¾\n//        job.setJarByClass(WcDriver.class);\n        job.setJar("D:\\\\code\\\\mapreduce1\\\\target\\\\mapreduce1-1.0-SNAPSHOT.jar");\n        // 3 è®¾ç½®mapåreduceç±»\n        job.setMapperClass(WcMapper.class);\n        job.setReducerClass(WcReducer.class);\n\n        // 4 è®¾ç½®mapè¾åº\n        job.setMapOutputKeyClass(Text.class);\n        job.setMapOutputValueClass(IntWritable.class);\n\n        // 5 è®¾ç½®æç»è¾åºkvç±»å\n        job.setOutputKeyClass(Text.class);\n        job.setOutputValueClass(IntWritable.class);\n\n        // 6 è®¾ç½®è¾å¥åè¾åºè·¯å¾\n        FileInputFormat.setInputPaths(job, new Path(args[0]));\n        FileOutputFormat.setOutputPath(job, new Path(args[1]));\n        // 7 æäº¤\n        boolean result = job.waitForCompletion(true);\n\n        System.exit(result ? 0 : 1);\n    }\n}\n\n\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n26\n27\n28\n29\n30\n31\n32\n33\n34\n35\n36\n37\n38\n39\n40\n41\n42\n43\n44\n45\n46\n47\n48\n49\n50\n51\n52\n\n\n\n# æ°æ®åç¼©\n\néç¨åç¼©ææ¯åå°äºç£çIO ä½åæ¶å¢å äºCPUè¿ç®è´æ æä»¥åç¼©ç¹æ§è¿ç¨å¾å½è½æé«æ§è½ ä½è¿ç¨ä¸å½ä¹å¯è½éä½æ§è½\n\nåç¼©æ ¼å¼      HADOOPèªå¸¦ï¼   ç®æ³        æä»¶æ©å±å      æ¯å¦å¯åå   æ¢æåç¼©æ ¼å¼åï¼åæ¥çç¨åºæ¯å¦éè¦ä¿®æ¹\nDEFLATE   æ¯ï¼ç´æ¥ä½¿ç¨      DEFLATE   .deflate   å¦       åææ¬å¤çä¸æ ·ï¼ä¸éè¦ä¿®æ¹\nGzip      æ¯ï¼ç´æ¥ä½¿ç¨      DEFLATE   .gz        å¦       åææ¬å¤çä¸æ ·ï¼ä¸éè¦ä¿®æ¹\nbzip2     æ¯ï¼ç´æ¥ä½¿ç¨      bzip2     .bz2       æ¯       åææ¬å¤çä¸æ ·ï¼ä¸éè¦ä¿®æ¹\nLZO       å¦ï¼éè¦å®è£      LZO       .lzo       æ¯       éè¦å»ºç´¢å¼ï¼è¿éè¦æå®è¾å¥æ ¼å¼\nSnappy    å¦ï¼éè¦å®è£      Snappy    .snappy    å¦       åææ¬å¤çä¸æ ·ï¼ä¸éè¦ä¿®æ¹\n\nå¸¸ç¨Snappyåç¼© å ä¸ºè¾é« å¶æ¬¡æ¯LZO\n\nä¸åé¶æ®µå¼å¯åç¼©:\n\n 1. å¦æè¾å¥é¶æ®µæ¶ä¸ºåç¼©å åç´æ¥ä¼ éå³å¯æ éæ´æ¹ Hadoopèªå¨è§£åç¼©å¹¶å¤ç\n\n 2. shuffleé¶æ®µ å¨é©±å¨ç±»è®¾ç½®å¼å¯åç¼© å¹¶æå®åç¼©æ ¼å¼\n    \n    //å¼å¯åç¼©æ¨¡å¼\n    configuration.setBoolean("mapreduce.map.output.compress", true);\n    //åç¼©æ ¼å¼ä¸º\n    configuration.setClass("mapreduce.map.output.compress.codec", BZip2Codec.class,\n            CompressionCodec.class);\n    \n    \n    1\n    2\n    3\n    4\n    5\n    \n\n 3. reduceé¶æ®µ è¾åºåç¼©\n    \n    //reduceé¶æ®µåç¼©\n    configuration.setBoolean("mapreduce.output.fileoutputformat.compress", true);\n    //æå®åç¼©æ ¼å¼\n    configuration.setClass("mapreduce.output.fileoutputformat.compress.codec", SnappyCodec.class,\n            CompressionCodec.class);\n    \n    \n    1\n    2\n    3\n    4\n    5\n    \n\n# Hadoopåç¼©åè§£å\n\npackage com.compression;\n\nimport org.apache.hadoop.conf.Configuration;\nimport org.apache.hadoop.fs.FSDataInputStream;\nimport org.apache.hadoop.fs.FSDataOutputStream;\nimport org.apache.hadoop.fs.FileSystem;\nimport org.apache.hadoop.fs.Path;\nimport org.apache.hadoop.io.IOUtils;\nimport org.apache.hadoop.io.compress.*;\nimport org.apache.hadoop.util.ReflectionUtils;\n\nimport java.io.IOException;\n\npublic class TestCompression {\n    public static void main(String[] args) throws IOException {\n        compress("d:/phone_data.txt", BZip2Codec.class);\n        decompress("d:/phone_data.txt.bz2");\n    }\n\n    //è§£å\n    private static void decompress(String file) throws IOException {\n        Configuration configuration = new Configuration();\n        //çæåç¼©æ ¼å¼å·¥åå¯¹è±¡\n        CompressionCodecFactory codecFactory = new CompressionCodecFactory(configuration);\n\n        //æ ¹æ®åç¼©æ ¼å¼å·¥åè·ååç¼©å¯¹è±¡\n        CompressionCodec codec = codecFactory.getCodec(new Path(file));\n\n        //è¾å¥æµ\n        FileSystem fileSystem = FileSystem.get(configuration);\n\n        FSDataInputStream fsDataInputStream = fileSystem.open(new Path(file));\n        CompressionInputStream cis = codec.createInputStream(fsDataInputStream);\n\n        //è¾åºæµ\n        String outputFile = file.substring(0, file.length() - codec.getDefaultExtension().length()); //è·åæä»¶å\n        FSDataOutputStream fos = fileSystem.create(new Path(outputFile));\n        IOUtils.copyBytes(cis, fos, 1024);//å¤å¶æµ ç¼å­ä¸º1024å­è\n\n        //å³é­æµ\n        IOUtils.closeStream(cis);\n        IOUtils.closeStream(fos);\n\n\n    }\n\n    //åç¼©\n    private static void compress(String file, Class<? extends CompressionCodec> codecClass) throws IOException {\n        Configuration configuration = new Configuration();\n        FileSystem fileSystem = FileSystem.get(configuration);\n\n        //çæåç¼©æ ¼å¼å¯¹è±¡\n        CompressionCodec codec = ReflectionUtils.newInstance(codecClass, configuration);\n\n\n        //å¼è¾å¥æµ\n        FSDataInputStream fis = fileSystem.open(new Path(file));\n        //è¾åºæµ\n        FSDataOutputStream fos = fileSystem.create(new Path(file + codec.getDefaultExtension()));\n\n        //ç¨åç¼©æ ¼å¼åè£è¾åºæµ\n        CompressionOutputStream cos = codec.createOutputStream(fos);\n        IOUtils.copyBytes(fis, cos, 1024);\n        IOUtils.closeStream(fis);\n        IOUtils.closeStream(cos);\n\n\n    }\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n26\n27\n28\n29\n30\n31\n32\n33\n34\n35\n36\n37\n38\n39\n40\n41\n42\n43\n44\n45\n46\n47\n48\n49\n50\n51\n52\n53\n54\n55\n56\n57\n58\n59\n60\n61\n62\n63\n64\n65\n66\n67\n68\n69\n\n\n\n# Yarnæ¶æ\n\nYARNä¸»è¦ç±ResourceManagerãNodeManagerãApplicationMasteråContainerç­ç»ä»¶ææã\n\n\n\n\n\n 1.  MRç¨åºæäº¤å°å®¢æ·ç«¯æå¨çèç¹ã\n 2.  YarnRunneråResourceManagerç³è¯·ä¸ä¸ªApplicationã\n 3.  RMå°è¯¥åºç¨ç¨åºçèµæºè·¯å¾è¿åç»YarnRunnerã\n 4.  è¯¥ç¨åºå°è¿è¡æéèµæºæäº¤å°HDFSä¸ã\n 5.  ç¨åºèµæºæäº¤å®æ¯åï¼ç³è¯·è¿è¡mrAppMasterã\n 6.  RMå°ç¨æ·çè¯·æ±åå§åæä¸ä¸ªTaskã\n 7.  å¶ä¸­ä¸ä¸ªNodeManageré¢åå°Taskä»»å¡ã\n 8.  è¯¥NodeManageråå»ºå®¹å¨Containerï¼å¹¶äº§çMRAppmasterã\n 9.  Containerä»HDFSä¸æ·è´èµæºå°æ¬å°ã\n 10. MRAppmasteråRM ç³è¯·è¿è¡MapTaskèµæºã\n 11. RMå°è¿è¡MapTaskä»»å¡åéç»å¦å¤ä¸¤ä¸ªNodeManagerï¼å¦ä¸¤ä¸ªNodeManageråå«é¢åä»»å¡å¹¶åå»ºå®¹å¨ã\n 12. MRåä¸¤ä¸ªæ¥æ¶å°ä»»å¡çNodeManageråéç¨åºå¯å¨èæ¬ï¼è¿ä¸¤ä¸ªNodeManageråå«å¯å¨MapTaskï¼MapTaskå¯¹æ°æ®ååºæåºã\n 13. MrAppMasterç­å¾ææMapTaskè¿è¡å®æ¯åï¼åRMç³è¯·å®¹å¨ï¼è¿è¡ReduceTaskã\n 14. ReduceTaskåMapTaskè·åç¸åºååºçæ°æ®ã\n 15. ç¨åºè¿è¡å®æ¯åï¼MRä¼åRMç³è¯·æ³¨éèªå·±ã\n\n\n# èµæºè°åº¦å¨\n\nç®åï¼Hadoopä½ä¸è°åº¦å¨ä¸»è¦æä¸ç§ï¼FIFOãCapacity ScheduleråFair SchedulerãHadoop3.1.3é»è®¤çèµæºè°åº¦å¨æ¯Capacity Schedulerã\n\néè¿yarn-default.xmléç½®\n\n<property>\n    <description>The class to use as the resource scheduler.</description>\n    <name>yarn.resourcemanager.scheduler.class</name>\n<value>org.apache.hadoop.yarn.server.resourcemanager.scheduler.capacity.CapacityScheduler</value>\n</property>\n\n\n1\n2\n3\n4\n5\n\n\n 1. åè¿ååºè°åº¦å¨ï¼FIFOï¼\n    \n    \n\n 2. å®¹éè°åº¦å¨ï¼Capacity Scheduler)\n    \n    \n\n 3. å¬å¹³è°åº¦å¨ï¼Fair Schedulerï¼\n    \n    \n\n\n\n\n# å®¹å¨è°åº¦å¨å¤éåéç½®\n\nå®¹éè°åº¦å¨é»è®¤ä¸º1ä¸ªéå default éè¿ä¿®æ¹capacity-scheduler.xmlæä»¶æ¥éç½®å¤éå\n\nvim /opt/module/hadoop-3.1.3/etc/hadoop/capacity-scheduler.xml  #å»ºè®®ç¨å¾åçé¢\n\n\n1\n\n\n 1. ä¿®æ¹yarn.scheduler.capacity.root.queuesçvalue æ·»å æ°çéå\n    \n    \x3c!-- é»è®¤ä¸ºdefaultéå å¯ä»¥è®¾ç½®å¤æ¡éå--\x3e\n      <property>\n        <name>yarn.scheduler.capacity.root.queues</name>\n        <value>default,hive</value>\n        <description>\n          The queues at the this level (root is the root queue).\n        </description>\n      </property>\n    \n    \n    1\n    2\n    3\n    4\n    5\n    6\n    7\n    8\n    \n\n 2. ä¿®æ¹defaultéåå æ¯ä¸º40\n    \n    \x3c!-- defaultéåé»è®¤å æ¯ä¸º100  æ¹ä¸ºç¾åä¹40  å©ä¸äº¤ç»hive --\x3e\n      <property>\n        <name>yarn.scheduler.capacity.root.default.capacity</name>\n        <value>40</value>\n        <description>Default queue target capacity.</description>\n      </property>\n    \n    \n    1\n    2\n    3\n    4\n    5\n    6\n    \n\n 3. ä¿®æ¹defaultéååè®¸çæå¤§å æ¯ä¸º60\n    \n    \x3c!--defaultéåæå¤§å æ¯é»è®¤ä¸º100  æ¹ä¸º60 --\x3e\n      <property>\n        <name>yarn.scheduler.capacity.root.default.maximum-capacity</name>\n        <value>60</value>\n        <description>\n          The maximum capacity of the default queue. \n        </description>\n      </property>\n    \n    \n    1\n    2\n    3\n    4\n    5\n    6\n    7\n    8\n    \n\n 4. ædefaultéåçéç½®å±æ§å¤å¶ä¸ä»½ ä¿®æ¹ä¸ºæ°å¢éååhive å¹¶å é¤å¶ä¸­çdescriptionæ ç­¾\n    \n    \x3c!--hiveéåè®¾ç½®--\x3e\n     <property>\n        <name>yarn.scheduler.capacity.root.hive.capacity</name>\n        <value>60</value>\n      </property>\n    \n      <property>\n        <name>yarn.scheduler.capacity.root.hive.user-limit-factor</name>\n        <value>1</value>\n      </property>\n      <property>\n        <name>yarn.scheduler.capacity.root.hive.maximum-capacity</name>\n        <value>80</value>\n      </property>\n    \n      <property>\n        <name>yarn.scheduler.capacity.root.hive.state</name>\n        <value>RUNNING</value>\n      </property>\n    \n      <property>\n        <name>yarn.scheduler.capacity.root.hive.acl_submit_applications</name>\n        <value>*</value>\n      </property>\n    \n      <property>\n        <name>yarn.scheduler.capacity.root.hive.acl_administer_queue</name>\n        <value>*</value>\n      </property>\n    \n      <property>\n        <name>yarn.scheduler.capacity.root.hive.acl_application_max_priority</name>\n        <value>*</value>\n      </property>\n    \n       <property>\n         <name>yarn.scheduler.capacity.root.hive.maximum-application-lifetime\n         </name>\n         <value>-1</value>\n       </property>\n    \n       <property>\n         <name>yarn.scheduler.capacity.root.hive.default-application-lifetime\n         </name>\n         <value>-1</value>\n       </property>\n     \x3c!--hiveéåè®¾ç½®ç»æ--\x3e\n    \n    \n    1\n    2\n    3\n    4\n    5\n    6\n    7\n    8\n    9\n    10\n    11\n    12\n    13\n    14\n    15\n    16\n    17\n    18\n    19\n    20\n    21\n    22\n    23\n    24\n    25\n    26\n    27\n    28\n    29\n    30\n    31\n    32\n    33\n    34\n    35\n    36\n    37\n    38\n    39\n    40\n    41\n    42\n    43\n    44\n    45\n    46\n    47\n    \n\n 5. åæ­¥å°å¶ä»éç¾¤ä¸­\n    \n    xsync /opt/module/hadoop-3.1.3/etc/hadoop/capacity-scheduler.xml\n    \n    \n    1\n    \n\n 6. éå¯hadoop yarn\n    \n    stop-yarn.sh  #103ä¸­\n    start-yarn.sh\n    \n    \n    1\n    2\n    \n\n\n\n\n# å¤éåæäº¤ä»»å¡\n\néè¿configurationè®¾ç½® mapred.job.queue.nameä¸ºæå®éåå\n\nconfiguration.set("mapred.job.queue.name","hive");\n\n\n1\n\n\n\n# ä»»å¡çæ¨æµæ§è¡\n\n 1. æ¨æµæ§è¡æºå¶\n    \n    APPmstr ä¼çæ§ä»»å¡çè¿è¡éåº¦å¦ææä¸ªä»»å¡è¿è¡éåº¦è¿æ¢äºå¹³åä»»å¡ åä¸ºæåè¿çä»»å¡å¯å¨ä¸ä¸ªå¤ä»½ä»»å¡åæ¶è¿è¡ è°åè¿è¡å® åéåè°çç»æ\n\n 2. æ§è¡æ¨æµä»»å¡çåæ\n    \n    1. æ¯ä¸ªtaskåªè½æä¸ä¸ªå¤ä»½ä»»å¡\n    \n    2. å½åjobå·²ç»å®æçtaskå¿é¡»ä¸å°äº 5%\n    \n    3. å¼å¯äºæ¨æµæ§è¡è®¾ç½® é»è®¤ä¸ºæå¼ç å¨mapred-site.xmlè®¾ç½®\n       \n       <property>\n               <name>mapreduce.map.speculative</name>\n               <value>true</value>\n       </property>\n       <property>\n               <name>mapreduce.reduce.speculative</name>\n               <value>true</value>\n       </property>\n       \n       \n       1\n       2\n       3\n       4\n       5\n       6\n       7\n       8\n       \n\n 3. ä¸è½å¯ç¨æ¨æµæ§è¡æºå¶æåµ\n    \n    1. ä»»å¡é´å­å¨ä¸¥éçè´è½½å¾æ\n    2. ç¹æ®ä»»å¡ å¦ä»»å¡åæ°æ®åºä¸­åæ°æ®\n\n',normalizedContent:'# yarn\n\n\n# windowsåyarnæäº¤æºç ä»»å¡\n\n 1. å¨configurationéç½®æä»¶æ·»å yarnçéç½®å±æ§\n 2. ç¨maven æå»ºjar\n 3. ä¿®æ¹jobå è½½é©±å¨ç±»ä¸º æååçjarå\n 4. \n\né©±å¨ç±»ç¼ç \n\npackage com.mywordcount;\n\nimport java.io.ioexception;\n\nimport org.apache.hadoop.conf.configuration;\nimport org.apache.hadoop.fs.path;\nimport org.apache.hadoop.io.intwritable;\nimport org.apache.hadoop.io.text;\nimport org.apache.hadoop.mapreduce.job;\nimport org.apache.hadoop.mapreduce.lib.input.fileinputformat;\nimport org.apache.hadoop.mapreduce.lib.output.fileoutputformat;\n\npublic class wcdriver {\n\n    public static void main(string[] args) throws ioexception, classnotfoundexception, interruptedexception {\n\n        // 1 è·åéç½®ä¿¡æ¯ä»¥åå°è£ä»»å¡\n        configuration configuration = new configuration();\n\n        configuration.set("fs.defaultfs", "hdfs://hadoop102:8020");\n        configuration.set("mapreduce.framework.name", "yarn");\n        configuration.set("mapreduce.app-submission.cross-platform", "true");\n        configuration.set("yarn.resourcemanager.hostname", "hadoop103");\n\n        job job = job.getinstance(configuration);\n\n        // 2 è®¾ç½®jarå è½½è·¯å¾\n//        job.setjarbyclass(wcdriver.class);\n        job.setjar("d:\\\\code\\\\mapreduce1\\\\target\\\\mapreduce1-1.0-snapshot.jar");\n        // 3 è®¾ç½®mapåreduceç±»\n        job.setmapperclass(wcmapper.class);\n        job.setreducerclass(wcreducer.class);\n\n        // 4 è®¾ç½®mapè¾åº\n        job.setmapoutputkeyclass(text.class);\n        job.setmapoutputvalueclass(intwritable.class);\n\n        // 5 è®¾ç½®æç»è¾åºkvç±»å\n        job.setoutputkeyclass(text.class);\n        job.setoutputvalueclass(intwritable.class);\n\n        // 6 è®¾ç½®è¾å¥åè¾åºè·¯å¾\n        fileinputformat.setinputpaths(job, new path(args[0]));\n        fileoutputformat.setoutputpath(job, new path(args[1]));\n        // 7 æäº¤\n        boolean result = job.waitforcompletion(true);\n\n        system.exit(result ? 0 : 1);\n    }\n}\n\n\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n26\n27\n28\n29\n30\n31\n32\n33\n34\n35\n36\n37\n38\n39\n40\n41\n42\n43\n44\n45\n46\n47\n48\n49\n50\n51\n52\n\n\n\n# æ°æ®åç¼©\n\néç¨åç¼©ææ¯åå°äºç£çio ä½åæ¶å¢å äºcpuè¿ç®è´æ æä»¥åç¼©ç¹æ§è¿ç¨å¾å½è½æé«æ§è½ ä½è¿ç¨ä¸å½ä¹å¯è½éä½æ§è½\n\nåç¼©æ ¼å¼      hadoopèªå¸¦ï¼   ç®æ³        æä»¶æ©å±å      æ¯å¦å¯åå   æ¢æåç¼©æ ¼å¼åï¼åæ¥çç¨åºæ¯å¦éè¦ä¿®æ¹\ndeflate   æ¯ï¼ç´æ¥ä½¿ç¨      deflate   .deflate   å¦       åææ¬å¤çä¸æ ·ï¼ä¸éè¦ä¿®æ¹\ngzip      æ¯ï¼ç´æ¥ä½¿ç¨      deflate   .gz        å¦       åææ¬å¤çä¸æ ·ï¼ä¸éè¦ä¿®æ¹\nbzip2     æ¯ï¼ç´æ¥ä½¿ç¨      bzip2     .bz2       æ¯       åææ¬å¤çä¸æ ·ï¼ä¸éè¦ä¿®æ¹\nlzo       å¦ï¼éè¦å®è£      lzo       .lzo       æ¯       éè¦å»ºç´¢å¼ï¼è¿éè¦æå®è¾å¥æ ¼å¼\nsnappy    å¦ï¼éè¦å®è£      snappy    .snappy    å¦       åææ¬å¤çä¸æ ·ï¼ä¸éè¦ä¿®æ¹\n\nå¸¸ç¨snappyåç¼© å ä¸ºè¾é« å¶æ¬¡æ¯lzo\n\nä¸åé¶æ®µå¼å¯åç¼©:\n\n 1. å¦æè¾å¥é¶æ®µæ¶ä¸ºåç¼©å åç´æ¥ä¼ éå³å¯æ éæ´æ¹ hadoopèªå¨è§£åç¼©å¹¶å¤ç\n\n 2. shuffleé¶æ®µ å¨é©±å¨ç±»è®¾ç½®å¼å¯åç¼© å¹¶æå®åç¼©æ ¼å¼\n    \n    //å¼å¯åç¼©æ¨¡å¼\n    configuration.setboolean("mapreduce.map.output.compress", true);\n    //åç¼©æ ¼å¼ä¸º\n    configuration.setclass("mapreduce.map.output.compress.codec", bzip2codec.class,\n            compressioncodec.class);\n    \n    \n    1\n    2\n    3\n    4\n    5\n    \n\n 3. reduceé¶æ®µ è¾åºåç¼©\n    \n    //reduceé¶æ®µåç¼©\n    configuration.setboolean("mapreduce.output.fileoutputformat.compress", true);\n    //æå®åç¼©æ ¼å¼\n    configuration.setclass("mapreduce.output.fileoutputformat.compress.codec", snappycodec.class,\n            compressioncodec.class);\n    \n    \n    1\n    2\n    3\n    4\n    5\n    \n\n# hadoopåç¼©åè§£å\n\npackage com.compression;\n\nimport org.apache.hadoop.conf.configuration;\nimport org.apache.hadoop.fs.fsdatainputstream;\nimport org.apache.hadoop.fs.fsdataoutputstream;\nimport org.apache.hadoop.fs.filesystem;\nimport org.apache.hadoop.fs.path;\nimport org.apache.hadoop.io.ioutils;\nimport org.apache.hadoop.io.compress.*;\nimport org.apache.hadoop.util.reflectionutils;\n\nimport java.io.ioexception;\n\npublic class testcompression {\n    public static void main(string[] args) throws ioexception {\n        compress("d:/phone_data.txt", bzip2codec.class);\n        decompress("d:/phone_data.txt.bz2");\n    }\n\n    //è§£å\n    private static void decompress(string file) throws ioexception {\n        configuration configuration = new configuration();\n        //çæåç¼©æ ¼å¼å·¥åå¯¹è±¡\n        compressioncodecfactory codecfactory = new compressioncodecfactory(configuration);\n\n        //æ ¹æ®åç¼©æ ¼å¼å·¥åè·ååç¼©å¯¹è±¡\n        compressioncodec codec = codecfactory.getcodec(new path(file));\n\n        //è¾å¥æµ\n        filesystem filesystem = filesystem.get(configuration);\n\n        fsdatainputstream fsdatainputstream = filesystem.open(new path(file));\n        compressioninputstream cis = codec.createinputstream(fsdatainputstream);\n\n        //è¾åºæµ\n        string outputfile = file.substring(0, file.length() - codec.getdefaultextension().length()); //è·åæä»¶å\n        fsdataoutputstream fos = filesystem.create(new path(outputfile));\n        ioutils.copybytes(cis, fos, 1024);//å¤å¶æµ ç¼å­ä¸º1024å­è\n\n        //å³é­æµ\n        ioutils.closestream(cis);\n        ioutils.closestream(fos);\n\n\n    }\n\n    //åç¼©\n    private static void compress(string file, class<? extends compressioncodec> codecclass) throws ioexception {\n        configuration configuration = new configuration();\n        filesystem filesystem = filesystem.get(configuration);\n\n        //çæåç¼©æ ¼å¼å¯¹è±¡\n        compressioncodec codec = reflectionutils.newinstance(codecclass, configuration);\n\n\n        //å¼è¾å¥æµ\n        fsdatainputstream fis = filesystem.open(new path(file));\n        //è¾åºæµ\n        fsdataoutputstream fos = filesystem.create(new path(file + codec.getdefaultextension()));\n\n        //ç¨åç¼©æ ¼å¼åè£è¾åºæµ\n        compressionoutputstream cos = codec.createoutputstream(fos);\n        ioutils.copybytes(fis, cos, 1024);\n        ioutils.closestream(fis);\n        ioutils.closestream(cos);\n\n\n    }\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n26\n27\n28\n29\n30\n31\n32\n33\n34\n35\n36\n37\n38\n39\n40\n41\n42\n43\n44\n45\n46\n47\n48\n49\n50\n51\n52\n53\n54\n55\n56\n57\n58\n59\n60\n61\n62\n63\n64\n65\n66\n67\n68\n69\n\n\n\n# yarnæ¶æ\n\nyarnä¸»è¦ç±resourcemanagerãnodemanagerãapplicationmasteråcontainerç­ç»ä»¶ææã\n\n\n\n\n\n 1.  mrç¨åºæäº¤å°å®¢æ·ç«¯æå¨çèç¹ã\n 2.  yarnrunneråresourcemanagerç³è¯·ä¸ä¸ªapplicationã\n 3.  rmå°è¯¥åºç¨ç¨åºçèµæºè·¯å¾è¿åç»yarnrunnerã\n 4.  è¯¥ç¨åºå°è¿è¡æéèµæºæäº¤å°hdfsä¸ã\n 5.  ç¨åºèµæºæäº¤å®æ¯åï¼ç³è¯·è¿è¡mrappmasterã\n 6.  rmå°ç¨æ·çè¯·æ±åå§åæä¸ä¸ªtaskã\n 7.  å¶ä¸­ä¸ä¸ªnodemanageré¢åå°taskä»»å¡ã\n 8.  è¯¥nodemanageråå»ºå®¹å¨containerï¼å¹¶äº§çmrappmasterã\n 9.  containerä»hdfsä¸æ·è´èµæºå°æ¬å°ã\n 10. mrappmasterårm ç³è¯·è¿è¡maptaskèµæºã\n 11. rmå°è¿è¡maptaskä»»å¡åéç»å¦å¤ä¸¤ä¸ªnodemanagerï¼å¦ä¸¤ä¸ªnodemanageråå«é¢åä»»å¡å¹¶åå»ºå®¹å¨ã\n 12. mråä¸¤ä¸ªæ¥æ¶å°ä»»å¡çnodemanageråéç¨åºå¯å¨èæ¬ï¼è¿ä¸¤ä¸ªnodemanageråå«å¯å¨maptaskï¼maptaskå¯¹æ°æ®ååºæåºã\n 13. mrappmasterç­å¾ææmaptaskè¿è¡å®æ¯åï¼årmç³è¯·å®¹å¨ï¼è¿è¡reducetaskã\n 14. reducetaskåmaptaskè·åç¸åºååºçæ°æ®ã\n 15. ç¨åºè¿è¡å®æ¯åï¼mrä¼årmç³è¯·æ³¨éèªå·±ã\n\n\n# èµæºè°åº¦å¨\n\nç®åï¼hadoopä½ä¸è°åº¦å¨ä¸»è¦æä¸ç§ï¼fifoãcapacity scheduleråfair schedulerãhadoop3.1.3é»è®¤çèµæºè°åº¦å¨æ¯capacity schedulerã\n\néè¿yarn-default.xmléç½®\n\n<property>\n    <description>the class to use as the resource scheduler.</description>\n    <name>yarn.resourcemanager.scheduler.class</name>\n<value>org.apache.hadoop.yarn.server.resourcemanager.scheduler.capacity.capacityscheduler</value>\n</property>\n\n\n1\n2\n3\n4\n5\n\n\n 1. åè¿ååºè°åº¦å¨ï¼fifoï¼\n    \n    \n\n 2. å®¹éè°åº¦å¨ï¼capacity scheduler)\n    \n    \n\n 3. å¬å¹³è°åº¦å¨ï¼fair schedulerï¼\n    \n    \n\n\n\n\n# å®¹å¨è°åº¦å¨å¤éåéç½®\n\nå®¹éè°åº¦å¨é»è®¤ä¸º1ä¸ªéå default éè¿ä¿®æ¹capacity-scheduler.xmlæä»¶æ¥éç½®å¤éå\n\nvim /opt/module/hadoop-3.1.3/etc/hadoop/capacity-scheduler.xml  #å»ºè®®ç¨å¾åçé¢\n\n\n1\n\n\n 1. ä¿®æ¹yarn.scheduler.capacity.root.queuesçvalue æ·»å æ°çéå\n    \n    \x3c!-- é»è®¤ä¸ºdefaultéå å¯ä»¥è®¾ç½®å¤æ¡éå--\x3e\n      <property>\n        <name>yarn.scheduler.capacity.root.queues</name>\n        <value>default,hive</value>\n        <description>\n          the queues at the this level (root is the root queue).\n        </description>\n      </property>\n    \n    \n    1\n    2\n    3\n    4\n    5\n    6\n    7\n    8\n    \n\n 2. ä¿®æ¹defaultéåå æ¯ä¸º40\n    \n    \x3c!-- defaultéåé»è®¤å æ¯ä¸º100  æ¹ä¸ºç¾åä¹40  å©ä¸äº¤ç»hive --\x3e\n      <property>\n        <name>yarn.scheduler.capacity.root.default.capacity</name>\n        <value>40</value>\n        <description>default queue target capacity.</description>\n      </property>\n    \n    \n    1\n    2\n    3\n    4\n    5\n    6\n    \n\n 3. ä¿®æ¹defaultéååè®¸çæå¤§å æ¯ä¸º60\n    \n    \x3c!--defaultéåæå¤§å æ¯é»è®¤ä¸º100  æ¹ä¸º60 --\x3e\n      <property>\n        <name>yarn.scheduler.capacity.root.default.maximum-capacity</name>\n        <value>60</value>\n        <description>\n          the maximum capacity of the default queue. \n        </description>\n      </property>\n    \n    \n    1\n    2\n    3\n    4\n    5\n    6\n    7\n    8\n    \n\n 4. ædefaultéåçéç½®å±æ§å¤å¶ä¸ä»½ ä¿®æ¹ä¸ºæ°å¢éååhive å¹¶å é¤å¶ä¸­çdescriptionæ ç­¾\n    \n    \x3c!--hiveéåè®¾ç½®--\x3e\n     <property>\n        <name>yarn.scheduler.capacity.root.hive.capacity</name>\n        <value>60</value>\n      </property>\n    \n      <property>\n        <name>yarn.scheduler.capacity.root.hive.user-limit-factor</name>\n        <value>1</value>\n      </property>\n      <property>\n        <name>yarn.scheduler.capacity.root.hive.maximum-capacity</name>\n        <value>80</value>\n      </property>\n    \n      <property>\n        <name>yarn.scheduler.capacity.root.hive.state</name>\n        <value>running</value>\n      </property>\n    \n      <property>\n        <name>yarn.scheduler.capacity.root.hive.acl_submit_applications</name>\n        <value>*</value>\n      </property>\n    \n      <property>\n        <name>yarn.scheduler.capacity.root.hive.acl_administer_queue</name>\n        <value>*</value>\n      </property>\n    \n      <property>\n        <name>yarn.scheduler.capacity.root.hive.acl_application_max_priority</name>\n        <value>*</value>\n      </property>\n    \n       <property>\n         <name>yarn.scheduler.capacity.root.hive.maximum-application-lifetime\n         </name>\n         <value>-1</value>\n       </property>\n    \n       <property>\n         <name>yarn.scheduler.capacity.root.hive.default-application-lifetime\n         </name>\n         <value>-1</value>\n       </property>\n     \x3c!--hiveéåè®¾ç½®ç»æ--\x3e\n    \n    \n    1\n    2\n    3\n    4\n    5\n    6\n    7\n    8\n    9\n    10\n    11\n    12\n    13\n    14\n    15\n    16\n    17\n    18\n    19\n    20\n    21\n    22\n    23\n    24\n    25\n    26\n    27\n    28\n    29\n    30\n    31\n    32\n    33\n    34\n    35\n    36\n    37\n    38\n    39\n    40\n    41\n    42\n    43\n    44\n    45\n    46\n    47\n    \n\n 5. åæ­¥å°å¶ä»éç¾¤ä¸­\n    \n    xsync /opt/module/hadoop-3.1.3/etc/hadoop/capacity-scheduler.xml\n    \n    \n    1\n    \n\n 6. éå¯hadoop yarn\n    \n    stop-yarn.sh  #103ä¸­\n    start-yarn.sh\n    \n    \n    1\n    2\n    \n\n\n\n\n# å¤éåæäº¤ä»»å¡\n\néè¿configurationè®¾ç½® mapred.job.queue.nameä¸ºæå®éåå\n\nconfiguration.set("mapred.job.queue.name","hive");\n\n\n1\n\n\n\n# ä»»å¡çæ¨æµæ§è¡\n\n 1. æ¨æµæ§è¡æºå¶\n    \n    appmstr ä¼çæ§ä»»å¡çè¿è¡éåº¦å¦ææä¸ªä»»å¡è¿è¡éåº¦è¿æ¢äºå¹³åä»»å¡ åä¸ºæåè¿çä»»å¡å¯å¨ä¸ä¸ªå¤ä»½ä»»å¡åæ¶è¿è¡ è°åè¿è¡å® åéåè°çç»æ\n\n 2. æ§è¡æ¨æµä»»å¡çåæ\n    \n    1. æ¯ä¸ªtaskåªè½æä¸ä¸ªå¤ä»½ä»»å¡\n    \n    2. å½åjobå·²ç»å®æçtaskå¿é¡»ä¸å°äº 5%\n    \n    3. å¼å¯äºæ¨æµæ§è¡è®¾ç½® é»è®¤ä¸ºæå¼ç å¨mapred-site.xmlè®¾ç½®\n       \n       <property>\n               <name>mapreduce.map.speculative</name>\n               <value>true</value>\n       </property>\n       <property>\n               <name>mapreduce.reduce.speculative</name>\n               <value>true</value>\n       </property>\n       \n       \n       1\n       2\n       3\n       4\n       5\n       6\n       7\n       8\n       \n\n 3. ä¸è½å¯ç¨æ¨æµæ§è¡æºå¶æåµ\n    \n    1. ä»»å¡é´å­å¨ä¸¥éçè´è½½å¾æ\n    2. ç¹æ®ä»»å¡ å¦ä»»å¡åæ°æ®åºä¸­åæ°æ®\n\n',charsets:{cjk:!0},lastUpdated:"2022/03/18, 07:01:11",lastUpdatedTimestamp:1647558071e3},{title:"Hadoopä¼ä¸ä¼å",frontmatter:{title:"Hadoopä¼ä¸ä¼å",date:"2022-03-17T21:41:51.000Z",permalink:"/pages/ce529c/",categories:["Hadoop"],tags:[null]},regularPath:"/%E5%A4%A7%E6%95%B0%E6%8D%AE/01.Hadoop/13.Hadoop%E4%BC%81%E4%B8%9A%E4%BC%98%E5%8C%96.html",relativePath:"å¤§æ°æ®/01.Hadoop/13.Hadoopä¼ä¸ä¼å.md",key:"v-2e69f406",path:"/pages/ce529c/",headers:[{level:2,title:"MapReduceä¼åæ¹æ³",slug:"mapreduceä¼åæ¹æ³",normalizedTitle:"mapreduceä¼åæ¹æ³",charIndex:19},{level:2,title:"å¸¸ç¨çè°ä¼åæ°",slug:"å¸¸ç¨çè°ä¼åæ°",normalizedTitle:"å¸¸ç¨çè°ä¼åæ°",charIndex:89},{level:2,title:"HDFS å°æä»¶ä¼åæ¹æ³",slug:"hdfs-å°æä»¶ä¼åæ¹æ³",normalizedTitle:"hdfs å°æä»¶ä¼åæ¹æ³",charIndex:2283}],headersStr:"MapReduceä¼åæ¹æ³ å¸¸ç¨çè°ä¼åæ° HDFS å°æä»¶ä¼åæ¹æ³",content:"# Hadoopä¼ä¸ä¼å\n\n\n\n\n# MapReduceä¼åæ¹æ³\n\nMapReduceä¼åæ¹æ³ä¸»è¦ä»å­ä¸ªæ¹é¢èèï¼æ°æ®è¾å¥ãMapé¶æ®µãReduceé¶æ®µãIOä¼ è¾ãæ°æ®å¾æé®é¢åå¸¸ç¨çè°ä¼åæ°ã\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n# å¸¸ç¨çè°ä¼åæ°\n\n1ï¼èµæºç¸å³åæ°\n\nï¼1ï¼ä»¥ä¸åæ°æ¯å¨ç¨æ·èªå·±çMRåºç¨ç¨åºä¸­éç½®å°±å¯ä»¥çæï¼mapred-default.xmlï¼\n\néç½®åæ°                                            åæ°è¯´æ\nmapreduce.map.memory.mb                         ä¸ä¸ªMapTaskå¯ä½¿ç¨çèµæºä¸éï¼åä½:MBï¼ï¼é»è®¤ä¸º1024ãå¦æMapTaskå®éä½¿ç¨çèµæºéè¶è¿è¯¥å¼ï¼åä¼è¢«å¼ºå¶ææ­»ã\nmapreduce.reduce.memory.mb                      ä¸ä¸ªReduceTaskå¯ä½¿ç¨çèµæºä¸éï¼åä½:MBï¼ï¼é»è®¤ä¸º1024ãå¦æReduceTaskå®éä½¿ç¨çèµæºéè¶è¿è¯¥å¼ï¼åä¼è¢«å¼ºå¶ææ­»ã\nmapreduce.map.cpu.vcores                        æ¯ä¸ªMapTaskå¯ä½¿ç¨çæå¤cpu coreæ°ç®ï¼é»è®¤å¼: 1\nmapreduce.reduce.cpu.vcores                     æ¯ä¸ªReduceTaskå¯ä½¿ç¨çæå¤cpu coreæ°ç®ï¼é»è®¤å¼: 1\nmapreduce.reduce.shuffle.parallelcopies         æ¯ä¸ªReduceå»Mapä¸­åæ°æ®çå¹¶è¡æ°ãé»è®¤å¼æ¯5\nmapreduce.reduce.shuffle.merge.percent          Bufferä¸­çæ°æ®è¾¾å°å¤å°æ¯ä¾å¼å§åå¥ç£çãé»è®¤å¼0.66\nmapreduce.reduce.shuffle.input.buffer.percent   Bufferå¤§å°å Reduceå¯ç¨åå­çæ¯ä¾ãé»è®¤å¼0.7\nmapreduce.reduce.input.buffer.percent           æå®å¤å°æ¯ä¾çåå­ç¨æ¥å­æ¾Bufferä¸­çæ°æ®ï¼é»è®¤å¼æ¯0.0\n\nï¼2ï¼åºè¯¥å¨YARNå¯å¨ä¹åå°±éç½®å¨æå¡å¨çéç½®æä»¶ä¸­æè½çæï¼yarn-default.xmlï¼\n\néç½®åæ°                                       åæ°è¯´æ\nyarn.scheduler.minimum-allocation-mb       ç»åºç¨ç¨åºContaineråéçæå°åå­ï¼é»è®¤å¼ï¼1024\nyarn.scheduler.maximum-allocation-mb       ç»åºç¨ç¨åºContaineråéçæå¤§åå­ï¼é»è®¤å¼ï¼8192\nyarn.scheduler.minimum-allocation-vcores   æ¯ä¸ªContainerç³è¯·çæå°CPUæ ¸æ°ï¼é»è®¤å¼ï¼1\nyarn.scheduler.maximum-allocation-vcores   æ¯ä¸ªContainerç³è¯·çæå¤§CPUæ ¸æ°ï¼é»è®¤å¼ï¼32\nyarn.nodemanager.resource.memory-mb        ç»Containersåéçæå¤§ç©çåå­ï¼é»è®¤å¼ï¼8192\n\nï¼3ï¼Shuffleæ§è½ä¼åçå³é®åæ°ï¼åºå¨YARNå¯å¨ä¹åå°±éç½®å¥½ï¼mapred-default.xmlï¼\n\néç½®åæ°                               åæ°è¯´æ\nmapreduce.task.io.sort.mb          Shuffleçç¯å½¢ç¼å²åºå¤§å°ï¼é»è®¤100m\nmapreduce.map.sort.spill.percent   ç¯å½¢ç¼å²åºæº¢åºçéå¼ï¼é»è®¤80%\n\n2ï¼å®¹éç¸å³åæ°ï¼MapReduce æ§è½ä¼åï¼\n\néç½®åæ°                           åæ°è¯´æ\nmapreduce.map.maxattempts      æ¯ä¸ªMap Taskæå¤§éè¯æ¬¡æ°ï¼ä¸æ¦éè¯åæ°è¶è¿è¯¥å¼ï¼åè®¤ä¸ºMap Taskè¿è¡å¤±è´¥ï¼é»è®¤å¼ï¼4ã\nmapreduce.reduce.maxattempts   æ¯ä¸ªReduce Taskæå¤§éè¯æ¬¡æ°ï¼ä¸æ¦éè¯åæ°è¶è¿è¯¥å¼ï¼åè®¤ä¸ºMap Taskè¿è¡å¤±è´¥ï¼é»è®¤å¼ï¼4ã\nmapreduce.task.timeout         Taskè¶æ¶æ¶é´ï¼ç»å¸¸éè¦è®¾ç½®çä¸ä¸ªåæ°ï¼è¯¥åæ°è¡¨è¾¾çææä¸ºï¼å¦æä¸ä¸ªTaskå¨ä¸å®æ¶é´åæ²¡æä»»ä½è¿å¥ï¼å³ä¸ä¼è¯»åæ°çæ°æ®ï¼ä¹æ²¡æè¾åºæ°æ®ï¼åè®¤ä¸ºè¯¥Taskå¤äºBlockç¶æï¼å¯è½æ¯å¡ä½äºï¼ä¹è®¸æ°¸è¿ä¼å¡ä½ï¼ä¸ºäºé²æ­¢å ä¸ºç¨æ·ç¨åºæ°¸è¿Blockä½ä¸éåºï¼åå¼ºå¶è®¾ç½®äºä¸ä¸ªè¯¥è¶æ¶æ¶é´ï¼åä½æ¯«ç§ï¼ï¼é»è®¤æ¯600000ãå¦æä½ çç¨åºå¯¹æ¯æ¡è¾å¥æ°æ®çå¤çæ¶é´è¿é¿ï¼æ¯å¦ä¼è®¿é®æ°æ®åºï¼éè¿ç½ç»æåæ°æ®ç­ï¼ï¼å»ºè®®å°è¯¥åæ°è°å¤§ï¼è¯¥åæ°è¿å°å¸¸åºç°çéè¯¯æç¤ºæ¯âAttemptID:attempt_14267829456721_123456_m_000224_0\n                               Timed out after 300 secsContainer killed by the\n                               ApplicationMaster.âã\n\n\n# HDFS å°æä»¶ä¼åæ¹æ³\n\nå°æä»¶çä¼åæ éä»¥ä¸å ç§æ¹å¼ï¼\n\n * å¨æ°æ®ééçæ¶åï¼å°±å°å°æä»¶æå°æ¹æ°æ®åæå¤§æä»¶åä¸ä¼ HDFSã\n * å¨ä¸å¡å¤çä¹åï¼å¨HDFSä¸ä½¿ç¨MapReduceç¨åºå¯¹å°æä»¶è¿è¡åå¹¶ã\n * å¨MapReduceå¤çæ¶ï¼å¯éç¨CombineTextInputFormatæé«æçã\n\n\n\n",normalizedContent:"# hadoopä¼ä¸ä¼å\n\n\n\n\n# mapreduceä¼åæ¹æ³\n\nmapreduceä¼åæ¹æ³ä¸»è¦ä»å­ä¸ªæ¹é¢èèï¼æ°æ®è¾å¥ãmapé¶æ®µãreduceé¶æ®µãioä¼ è¾ãæ°æ®å¾æé®é¢åå¸¸ç¨çè°ä¼åæ°ã\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n# å¸¸ç¨çè°ä¼åæ°\n\n1ï¼èµæºç¸å³åæ°\n\nï¼1ï¼ä»¥ä¸åæ°æ¯å¨ç¨æ·èªå·±çmråºç¨ç¨åºä¸­éç½®å°±å¯ä»¥çæï¼mapred-default.xmlï¼\n\néç½®åæ°                                            åæ°è¯´æ\nmapreduce.map.memory.mb                         ä¸ä¸ªmaptaskå¯ä½¿ç¨çèµæºä¸éï¼åä½:mbï¼ï¼é»è®¤ä¸º1024ãå¦æmaptaskå®éä½¿ç¨çèµæºéè¶è¿è¯¥å¼ï¼åä¼è¢«å¼ºå¶ææ­»ã\nmapreduce.reduce.memory.mb                      ä¸ä¸ªreducetaskå¯ä½¿ç¨çèµæºä¸éï¼åä½:mbï¼ï¼é»è®¤ä¸º1024ãå¦æreducetaskå®éä½¿ç¨çèµæºéè¶è¿è¯¥å¼ï¼åä¼è¢«å¼ºå¶ææ­»ã\nmapreduce.map.cpu.vcores                        æ¯ä¸ªmaptaskå¯ä½¿ç¨çæå¤cpu coreæ°ç®ï¼é»è®¤å¼: 1\nmapreduce.reduce.cpu.vcores                     æ¯ä¸ªreducetaskå¯ä½¿ç¨çæå¤cpu coreæ°ç®ï¼é»è®¤å¼: 1\nmapreduce.reduce.shuffle.parallelcopies         æ¯ä¸ªreduceå»mapä¸­åæ°æ®çå¹¶è¡æ°ãé»è®¤å¼æ¯5\nmapreduce.reduce.shuffle.merge.percent          bufferä¸­çæ°æ®è¾¾å°å¤å°æ¯ä¾å¼å§åå¥ç£çãé»è®¤å¼0.66\nmapreduce.reduce.shuffle.input.buffer.percent   bufferå¤§å°å reduceå¯ç¨åå­çæ¯ä¾ãé»è®¤å¼0.7\nmapreduce.reduce.input.buffer.percent           æå®å¤å°æ¯ä¾çåå­ç¨æ¥å­æ¾bufferä¸­çæ°æ®ï¼é»è®¤å¼æ¯0.0\n\nï¼2ï¼åºè¯¥å¨yarnå¯å¨ä¹åå°±éç½®å¨æå¡å¨çéç½®æä»¶ä¸­æè½çæï¼yarn-default.xmlï¼\n\néç½®åæ°                                       åæ°è¯´æ\nyarn.scheduler.minimum-allocation-mb       ç»åºç¨ç¨åºcontaineråéçæå°åå­ï¼é»è®¤å¼ï¼1024\nyarn.scheduler.maximum-allocation-mb       ç»åºç¨ç¨åºcontaineråéçæå¤§åå­ï¼é»è®¤å¼ï¼8192\nyarn.scheduler.minimum-allocation-vcores   æ¯ä¸ªcontainerç³è¯·çæå°cpuæ ¸æ°ï¼é»è®¤å¼ï¼1\nyarn.scheduler.maximum-allocation-vcores   æ¯ä¸ªcontainerç³è¯·çæå¤§cpuæ ¸æ°ï¼é»è®¤å¼ï¼32\nyarn.nodemanager.resource.memory-mb        ç»containersåéçæå¤§ç©çåå­ï¼é»è®¤å¼ï¼8192\n\nï¼3ï¼shuffleæ§è½ä¼åçå³é®åæ°ï¼åºå¨yarnå¯å¨ä¹åå°±éç½®å¥½ï¼mapred-default.xmlï¼\n\néç½®åæ°                               åæ°è¯´æ\nmapreduce.task.io.sort.mb          shuffleçç¯å½¢ç¼å²åºå¤§å°ï¼é»è®¤100m\nmapreduce.map.sort.spill.percent   ç¯å½¢ç¼å²åºæº¢åºçéå¼ï¼é»è®¤80%\n\n2ï¼å®¹éç¸å³åæ°ï¼mapreduce æ§è½ä¼åï¼\n\néç½®åæ°                           åæ°è¯´æ\nmapreduce.map.maxattempts      æ¯ä¸ªmap taskæå¤§éè¯æ¬¡æ°ï¼ä¸æ¦éè¯åæ°è¶è¿è¯¥å¼ï¼åè®¤ä¸ºmap taskè¿è¡å¤±è´¥ï¼é»è®¤å¼ï¼4ã\nmapreduce.reduce.maxattempts   æ¯ä¸ªreduce taskæå¤§éè¯æ¬¡æ°ï¼ä¸æ¦éè¯åæ°è¶è¿è¯¥å¼ï¼åè®¤ä¸ºmap taskè¿è¡å¤±è´¥ï¼é»è®¤å¼ï¼4ã\nmapreduce.task.timeout         taskè¶æ¶æ¶é´ï¼ç»å¸¸éè¦è®¾ç½®çä¸ä¸ªåæ°ï¼è¯¥åæ°è¡¨è¾¾çææä¸ºï¼å¦æä¸ä¸ªtaskå¨ä¸å®æ¶é´åæ²¡æä»»ä½è¿å¥ï¼å³ä¸ä¼è¯»åæ°çæ°æ®ï¼ä¹æ²¡æè¾åºæ°æ®ï¼åè®¤ä¸ºè¯¥taskå¤äºblockç¶æï¼å¯è½æ¯å¡ä½äºï¼ä¹è®¸æ°¸è¿ä¼å¡ä½ï¼ä¸ºäºé²æ­¢å ä¸ºç¨æ·ç¨åºæ°¸è¿blockä½ä¸éåºï¼åå¼ºå¶è®¾ç½®äºä¸ä¸ªè¯¥è¶æ¶æ¶é´ï¼åä½æ¯«ç§ï¼ï¼é»è®¤æ¯600000ãå¦æä½ çç¨åºå¯¹æ¯æ¡è¾å¥æ°æ®çå¤çæ¶é´è¿é¿ï¼æ¯å¦ä¼è®¿é®æ°æ®åºï¼éè¿ç½ç»æåæ°æ®ç­ï¼ï¼å»ºè®®å°è¯¥åæ°è°å¤§ï¼è¯¥åæ°è¿å°å¸¸åºç°çéè¯¯æç¤ºæ¯âattemptid:attempt_14267829456721_123456_m_000224_0\n                               timed out after 300 secscontainer killed by the\n                               applicationmaster.âã\n\n\n# hdfs å°æä»¶ä¼åæ¹æ³\n\nå°æä»¶çä¼åæ éä»¥ä¸å ç§æ¹å¼ï¼\n\n * å¨æ°æ®ééçæ¶åï¼å°±å°å°æä»¶æå°æ¹æ°æ®åæå¤§æä»¶åä¸ä¼ hdfsã\n * å¨ä¸å¡å¤çä¹åï¼å¨hdfsä¸ä½¿ç¨mapreduceç¨åºå¯¹å°æä»¶è¿è¡åå¹¶ã\n * å¨mapreduceå¤çæ¶ï¼å¯éç¨combinetextinputformatæé«æçã\n\n\n\n",charsets:{cjk:!0},lastUpdated:"2022/03/18, 07:01:11",lastUpdatedTimestamp:1647558071e3},{title:"æ¥å¿",frontmatter:{title:"æ¥å¿",date:"2022-03-17T21:41:51.000Z",permalink:"/pages/1cc354/",categories:["Hadoop"],tags:[null]},regularPath:"/%E5%A4%A7%E6%95%B0%E6%8D%AE/01.Hadoop/15.%E6%97%A5%E5%BF%97.html",relativePath:"å¤§æ°æ®/01.Hadoop/15.æ¥å¿.md",key:"v-5c5d9838",path:"/pages/1cc354/",headersStr:null,content:"# æ¥å¿\n\n 1. æ¾å°æ¥å¿æä»¶\n    1. æ¥ç æ¡æ¶ç®å½ etc/hadoop ä¸çlog4jæä»¶ æ¥è¯¢æ¥å¿æä»¶å­æ¾éç½®\n    2. æ¡æ¶è§£åç®å½ æè /tmp\n    3. æ¡æ¶æ¯rpmåå®è£ å»/var/logç®å½ä¸æ¾\n 2. çæ¥å¿\n    1. ä¸è¦ç¨vimçæ¥ç¨ ç¨tailå½ä»¤ tail -n 500 æä»¶å\n    2. ä¸è½½å°windowsä¸­ç\n 3. çä»ä¹\n    1. ä¸è¬æ¥å¿ä¸è¡åå®¹ ç± åçæ¶é´ æ¥å¿çº§å« æ¥å¿è¾åºä¸»ä½(è°) åä»ä¹æä½\n    2. å¦ææ¾éè¯¯åºè¯¥ æ¾æ¥å¿çº§å«ä¸º ERROR æ FATALçè¡ æèå¨ä¸ä¸æéè¿ æ¾å°é®é¢åå ",normalizedContent:"# æ¥å¿\n\n 1. æ¾å°æ¥å¿æä»¶\n    1. æ¥ç æ¡æ¶ç®å½ etc/hadoop ä¸çlog4jæä»¶ æ¥è¯¢æ¥å¿æä»¶å­æ¾éç½®\n    2. æ¡æ¶è§£åç®å½ æè /tmp\n    3. æ¡æ¶æ¯rpmåå®è£ å»/var/logç®å½ä¸æ¾\n 2. çæ¥å¿\n    1. ä¸è¦ç¨vimçæ¥ç¨ ç¨tailå½ä»¤ tail -n 500 æä»¶å\n    2. ä¸è½½å°windowsä¸­ç\n 3. çä»ä¹\n    1. ä¸è¬æ¥å¿ä¸è¡åå®¹ ç± åçæ¶é´ æ¥å¿çº§å« æ¥å¿è¾åºä¸»ä½(è°) åä»ä¹æä½\n    2. å¦ææ¾éè¯¯åºè¯¥ æ¾æ¥å¿çº§å«ä¸º error æ fatalçè¡ æèå¨ä¸ä¸æéè¿ æ¾å°é®é¢åå ",charsets:{cjk:!0},lastUpdated:"2022/03/18, 07:01:11",lastUpdatedTimestamp:1647558071e3},{title:"Hadoop HAé«å¯ç¨",frontmatter:{title:"Hadoop HAé«å¯ç¨",date:"2022-03-17T21:41:51.000Z",permalink:"/pages/0dc6f9/",categories:["Hadoop"],tags:[null]},regularPath:"/%E5%A4%A7%E6%95%B0%E6%8D%AE/01.Hadoop/16.Hadoop%20HA%E9%AB%98%E5%8F%AF%E7%94%A8.html",relativePath:"å¤§æ°æ®/01.Hadoop/16.Hadoop HAé«å¯ç¨.md",key:"v-f87607aa",path:"/pages/0dc6f9/",headers:[{level:2,title:"éç½®HDFS-HAéç¾¤",slug:"éç½®hdfs-haéç¾¤",normalizedTitle:"éç½®hdfs-haéç¾¤",charIndex:401},{level:2,title:"HAçéä¸¾æºå¶",slug:"haçéä¸¾æºå¶",normalizedTitle:"haçéä¸¾æºå¶",charIndex:5260},{level:2,title:"YARN-HA",slug:"yarn-ha",normalizedTitle:"yarn-ha",charIndex:5870}],headersStr:"éç½®HDFS-HAéç¾¤ HAçéä¸¾æºå¶ YARN-HA",content:"# Hadoop HAé«å¯ç¨\n\nï¼1ï¼æè°HAï¼High Availablityï¼ï¼å³é«å¯ç¨ï¼7*24å°æ¶ä¸ä¸­æ­æå¡ï¼ã\n\nï¼2ï¼å®ç°é«å¯ç¨æå³é®çç­ç¥æ¯æ¶é¤åç¹æéãHAä¸¥æ ¼æ¥è¯´åºè¯¥åæåä¸ªç»ä»¶çHAæºå¶ï¼HDFSçHAåYARNçHAã\n\nï¼3ï¼Hadoop2.0ä¹åï¼å¨HDFSéç¾¤ä¸­NameNodeå­å¨åç¹æéï¼SPOFï¼ã\n\nï¼4ï¼NameNodeä¸»è¦å¨ä»¥ä¸ä¸¤ä¸ªæ¹é¢å½±åHDFSéç¾¤\n\n * NameNodeæºå¨åçæå¤ï¼å¦å®æºï¼éç¾¤å°æ æ³ä½¿ç¨ï¼ç´å°ç®¡çåéå¯\n\n * NameNodeæºå¨éè¦åçº§ï¼åæ¬è½¯ä»¶ãç¡¬ä»¶åçº§ï¼æ­¤æ¶éç¾¤ä¹å°æ æ³ä½¿ç¨\n\nHDFS HAåè½éè¿éç½®Active/Standbyä¸¤ä¸ªNameNodeså®ç°å¨éç¾¤ä¸­å¯¹NameNodeçç­å¤æ¥è§£å³ä¸è¿°é®é¢ãå¦æåºç°æéï¼å¦æºå¨å´©æºææºå¨éè¦åçº§ç»´æ¤ï¼è¿æ¶å¯éè¿æ­¤ç§æ¹å¼å°NameNodeå¾å¿«çåæ¢å°å¦å¤ä¸å°æºå¨ã\n\n\n\n\n# éç½®HDFS-HAéç¾¤\n\nHADOOP102     HADOOP103         HADOOP104\nNameNode      NameNode          NameNode\nZKFC          ZKFC              ZKFC\nJournalNode   JournalNode       JournalNode\nDataNode      DataNode          DataNode\nZK            ZK                ZK\n              ResourceManager   \nNodeManager   NodeManager       NodeManager\n\nè¦åéç½®å¥½zookeeper å¹¶å¯å¨\n\nsudo mkdir /opt/ha\nsudo chown atguigu:atguigu /opt/ha\n#å°/opt/module/ä¸ç hadoop-3.1.3æ·è´å°/opt/haç®å½ä¸\ncp -r /opt/module/hadoop-3.1.3 /opt/ha/\n\n#å é¤å¤å¶åhadoopæä»¶å¤¹ä¸­ç dataæä»¶å¤¹ålogsæä»¶å¤¹\ncd /opt/ha/hadoop-3.1.3/\nrm -rf data/ logs mapreduce1-1.0-SNAPSHOT.jar\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n\n\néç½®core-site\n\nvim etc/hadoop/core-site.xml \n#ä¿®æ¹ä»¥ä¸ä¸¤ä¸ªkeyçå¼  è¿½å ä¸ä¸ªzookeeperéç¾¤å°å\n\n\n1\n2\n\n\n<configuration>\n  <property>\n    <name>fs.defaultFS</name>\n    <value>hdfs://mycluster</value>\n  </property>\n   \x3c!-- hadoopæ°æ®å­æ¾è·¯å¾ æ³¨æä¸ºdata.dir èä¸tmp.dir --\x3e \n  <property>\n    <name>hadoop.data.dir</name>\n    <value>/opt/ha/hadoop-3.1.3/data</value>\n  </property>\n    \n    \x3c!--è¿½å  zookeeper  quorum å°å  éç½®ZooKeeperæå¡éç¾¤ï¼ç¨äºæ´»è·NameNodeèç¹çéä¸¾--\x3e\n    <property>\n\t<name>ha.zookeeper.quorum</name>\n\t<value>hadoop102:2181,hadoop103:2181,hadoop104:2181</value>\n</property>\n</configuration>\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n\n\néç½®hdfs-site.xml\n\nvim etc/hadoop/core-site.xml \n#è¦çåæéç½®\n\n\n1\n2\n\n\n<configuration>\n    \x3c!--éç½®NameNodeçæ°æ®å­å¨ç®å½ï¼éè¦ä¸ä¸æåå»ºçç®å½ç¸å¯¹åº--\x3e\n  <property>\n    <name>dfs.namenode.name.dir</name>\n    <value>file://${hadoop.data.dir}/name</value>\n  </property>\n   \n  <property>\n    <name>dfs.datanode.data.dir</name>\n    <value>file://${hadoop.data.dir}/data</value>\n  </property>\n\x3c!-- nameservicesåç§° èªå®ä¹çHDFSæå¡åï¼å¨é«å¯ç¨éç¾¤ä¸­ï¼æ æ³éç½®åä¸HDFSæå¡å¨å¥å£ï¼æä»¥éè¦æå®ä¸ä¸ªé»è¾ä¸çæå¡åï¼å½è®¿é®æå¡åæ¶ï¼ä¼èªå¨éæ©NameNodeèç¹è¿è¡è®¿é® --\x3e\n  <property>\n    <name>dfs.nameservices</name>\n    <value>mycluster</value>\n  </property>\n\x3c!-- ä¸ä¸ªnamenode å®ä¹HDFSæå¡åææåçNameNodeä¸»æºåç§° --\x3e\n  <property>\n    <name>dfs.ha.namenodes.mycluster</name>\n    <value>nn1,nn2, nn3</value>\n  </property>\n\x3c!-- namenodeå°å  è®¾ç½®NameNodeçå®æ´çå¬å°å --\x3e\n  <property>\n    <name>dfs.namenode.rpc-address.mycluster.nn1</name>\n    <value>hadoop102:8020</value>\n  </property>\n  <property>\n    <name>dfs.namenode.rpc-address.mycluster.nn2</name>\n    <value>hadoop103:8020</value>\n  </property>\n  <property>\n    <name>dfs.namenode.rpc-address.mycluster.nn3</name>\n    <value>hadoop104:8020</value>\n  </property>\n        \x3c!--è®¾ç½®NameNodeçHTTPè®¿é®å°å--\x3e\n  <property>\n    <name>dfs.namenode.http-address.mycluster.nn1</name>\n    <value>hadoop102:9870</value>\n  </property>\n  <property>\n    <name>dfs.namenode.http-address.mycluster.nn2</name>\n    <value>hadoop103:9870</value>\n  </property>\n  <property>\n    <name>dfs.namenode.http-address.mycluster.nn3</name>\n    <value>hadoop104:9870</value>\n  </property>\n\x3c!-- éç½®qjnéç¾¤  è®¾ç½®ä¸»ä»NameNodeåæ°æ®åæ­¥å°åï¼å®æ¹æ¨èå°nameserviceä½ä¸ºæåçjournal ID --\x3e\n  <property>\n    <name>dfs.namenode.shared.edits.dir</name>\n    <value>qjournal://hadoop102:8485;hadoop103:8485;hadoop104:8485/mycluster</value>\n  </property>\n\x3c!-- qjnæ°æ®å­æ¾ç®å½ éç½®JournalNodeçæ°æ®å­å¨ç®å½ï¼éè¦ä¸ä¸æåå»ºçç®å½ç¸å¯¹åº --\x3e\n    <property>\n    <name>dfs.journalnode.edits.dir</name>\n    <value>${hadoop.data.dir}/jn</value>\n  </property>\n\x3c!-- ä»£çç±»  è®¾ç½®HDFSå®¢æ·ç«¯ç¨æ¥è¿æ¥éç¾¤ä¸­æ´»å¨ç¶æNameNodeèç¹çJavaç±» --\x3e\n  <property>\n    <name>dfs.client.failover.proxy.provider.mycluster</name>\n    <value>org.apache.hadoop.hdfs.server.namenode.ha.ConfiguredFailoverProxyProvider</value>\n  </property>\n\x3c!-- éç¦»æ¹å¼ ä¸ºsshfence sshè¿ç¨ä»£ç  å¯å¨fenceè¿ç¨ï¼ç¡®ä¿éç¾¤é«å¯ç¨æ§ --\x3e\n  <property>\n    <name>dfs.ha.fencing.methods</name>\n    <value>sshfence</value>\n  </property>\n\x3c!-- sshç§æè·¯å¾ è®¾ç½®SSHç»å½çç§é¥æä»¶å°å  --\x3e\n  <property>\n    <name>dfs.ha.fencing.ssh.private-key-files</name>\n    <value>/home/atguigu/.ssh/id_rsa</value>\n  </property>\n    \x3c!-- å¼å¯èªå¨åæ¢ è®¾ç½®èªå¨åæ¢æ´»è·èç¹ï¼ä¿è¯éç¾¤é«å¯ç¨æ§ --\x3e\n<property>\n\t<name>dfs.ha.automatic-failover.enabled</name>\n\t<value>true</value>\n</property>\n\n</configuration>\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n26\n27\n28\n29\n30\n31\n32\n33\n34\n35\n36\n37\n38\n39\n40\n41\n42\n43\n44\n45\n46\n47\n48\n49\n50\n51\n52\n53\n54\n55\n56\n57\n58\n59\n60\n61\n62\n63\n64\n65\n66\n67\n68\n69\n70\n71\n72\n73\n74\n75\n76\n77\n78\n79\n\n\nåæ­¥\n\nsudo xsync /opt/ha/\n\n\n1\n\n\nä¸´æ¶ä¿®æ¹ç¯å¢åé å ä¸ºhdfs.sh é»è®¤æ ¹æ®ç¯å¢åéæ¥å¯å¨ç æ æ³æ­£å¸¸æ ¼å¼åhaä¸­çnamenode\n\nsudo vim /etc/profile.d/my_env.sh\n#ä¿®æ¹hadoopè·¯å¾ ä¸´æ¶ä¸ºhaä¸çhadoop\nexport HADOOP_HOME=/opt/ha/hadoop-3.1.3\n\nsource /etc/profile.d/my_env.sh\nsudo xsync /etc/profile.d/my_env.sh\n\n\n1\n2\n3\n4\n5\n6\n\n\nå¯å¨JQMéç¾¤\n\n#ä¸å°é½ä¼å¯å¨ jpsæ£æ¥ä¸ä¸ä¸å°ææ²¡æjournalnode\n/opt/ha/hadoop-3.1.3/bin/hdfs --workers --daemon start journalnode\n#å¦æä¸è¡å é¤data ålogsæä»¶å¤¹ éæ°å¯å¨  åä¸è¡çæ¥å¿ JQMçæ°æ®å­å¨è·¯å¾å¿é¡»ä¸ºç»å¯¹è·¯å¾ \n\n\n1\n2\n3\n\n\næ ¼å¼ånn\n\n#å¨102èç¹ä¸­æ ¼å¼ånn\nhdfs namenode -format\nhdfs --daemon start namenode #å¯å¨nn\n\n#å¶ä»èç¹éè¿åæ­¥nn1çåæ°æ®ä¿¡æ¯ \n#åè®°è¦å¨atguiguä¸ ä¸è¦rootç¨æ·ä¸  å¦ææ æ³å¯å¨nnå é¤data ålogsæä»¶å¤¹ åæ­¥\n#å¨103å104ä¸­ä½¿ç¨\nhdfs namenode -bootstrapStandby #åæ­¥\nhdfs --daemon start namenode  #å¯å¨\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n\n\nå¯å¨zkå¹¶åå§åHAå¨Zookeeperä¸­ç¶æ\n\n#åå¯å¨ä¸å°çzookeeper\nzkServer.sh start\n\n#æ ¼å¼ä¸å°å³å¯ä»¥ å¶ä»éç¾¤ä¼åæ­¥\nhdfs zkfc -formatZK\n\n\n1\n2\n3\n4\n5\n\n\nå¯å¨dfs\n\n#102\nstart-dfs.sh\n\n\n1\n2\n\n\n\n# HAçéä¸¾æºå¶\n\néè¿æ¥ç3å°éç¾¤çwebé¡µé¢ åç°åªæä¸å°æ´»å¨(activeç¶æ) å¶ä»é½æ¯standbyç¶æ, å¦æææactiveçnnææ,é£ä¹haä¼èªå¨æéè½¬ç§»ææå°standbyç¶æçåä¸ºactiveç¶æ\n\n 1. éè¿zookeeperéåç\n 2. å½æä»¬å¯å¨nnæ¶ hadoopä¼èªå¨åzookeeperä¸çhadoop-ha/mycluster/ActiveStandbyElectorLock æ³¨åä¸ä¸ªä¸´æ¶èç¹ æ­¤èç¹çå¼å°±æ¯activeèç¹åç§° åå¨æ­¤ä¸´æ¶èç¹æ³¨åçéç¾¤åæä¸ºactive\n 3. å¦æactiveå®æº åèç¹ä¼è¿ç¨è®¿é®active 8020ç«¯å£ å¹¶æµè¯æææå¡ æ ååº/ææ å¨zookeeperä¸çä¸´æ¶èç¹ä¸æ³¨å (æ­¤è¿ç¨ææèç¹é½ä¼æ§è¡ è°åå¨ä¸´æ¶èç¹æ³¨åä¸å°±æ¯è°åactive)\n 4. hadoop-ha/mycluster/ActiveBreadCrumb æ­¤zookeeperèç¹è®°å½ä¸ä¸ä¸ªactive åç§° å¦æéæ°ä¸çº¿åä¸ºstandbyç¶æ\n 5. å¦æactiveæ­ç½ åä¼å°è¯ä¸æ­çéç¦»activeèç¹ ä½æ æ³è¿æ¥å°active å¹¶ä¸å¨éç¦»æé´standbyé½æ æ³è½¬æ¢ä¸ºactive å ä¸ºæä»¬éç½®çéç¦»æ¹æ³ æ¯sshfence(sshè¿æ¥å¹¶å°è¯ææ­»è¿ç¨) æä»¬å¯ä»¥éè¿éå·éç½®å¤valueå¼\n    1. shell(èæ¬æä»¶è·¯å¾) èªå®ä¹èæ¬æ¹æ³\n\n\n# YARN-HA\n\nHADOOP102         HADOOP103         HADOOP104\nNameNode          NameNode          \nJournalNode       JournalNode       JournalNode\nDataNode          DataNode          DataNode\nZK                ZK                ZK\nResourceManager   ResourceManager   \nNodeManager       NodeManager       NodeManager\n\nå¨éç½®å®HDFS-HAçåºç¡ä¸ ä¿®æ¹éç½®\n\nvim /opt/ha/hadoop-3.1.3/etc/hadoop/yarn-site.xml\n#è¿½å \n\n\n1\n2\n\n\n\x3c!--å¯ç¨resourcemanager ha å¼å¯resourcemanager çé«å¯ç¨æ§åè½--\x3e\n    <property>\n        <name> yarn.resourcemanager.ha.enabled</name>\n        <value>true</value>\n    </property>\n \n    \x3c!--å£°æä¸¤å°resourcemanagerçå°å æ è¯éç¾¤ä¸­çresourcemanagerï¼å¦æè®¾ç½®è¯¥éé¡¹ï¼éè¦ç¡®ä¿ææçresourcemanagerèç¹å¨éç½®ä¸­é½æèªå·±çé»è¾id--\x3e\n    <property>\n        <name>yarn.resourcemanager.cluster-id</name>\n        <value>cluster-yarn1</value>\n    </property>\n\t\x3c!--è®¾ç½®resourcemanagerèç¹çé»è¾id--\x3e\n    <property>\n        <name>yarn.resourcemanager.ha.rm-ids</name>\n        <value>rm1,rm2</value>\n    </property>\n\t\x3c!--ä¸ºæ¯ä¸ªé»è¾idç»å®å®éçä¸»æºåç§°--\x3e\n    <property>\n        <name>yarn.resourcemanager.hostname.rm1</name>\n        <value>hadoop102</value>\n    </property>\n\n    <property>\n        <name>yarn.resourcemanager.hostname.rm2</name>\n        <value>hadoop103</value>\n    </property>\n \n    \x3c!--æå®zookeeperéç¾¤çå°å--\x3e \n    <property>\n        <name>yarn.resourcemanager.zk-address</name>\n        <value>hadoop102:2181,hadoop103:2181,hadoop104:2181</value>\n    </property>\n\n    \x3c!--å¯ç¨èªå¨æ¢å¤--\x3e \n    <property>\n        <name>yarn.resourcemanager.recovery.enabled</name>\n        <value>true</value>\n    </property>\n \n    \x3c!--æå®resourcemanagerçç¶æä¿¡æ¯å­å¨å¨zookeeperéç¾¤--\x3e \n    <property>\n        <name>yarn.resourcemanager.store.class</name>     <value>org.apache.hadoop.yarn.server.resourcemanager.recovery.ZKRMStateStore</value>\n</property>\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n26\n27\n28\n29\n30\n31\n32\n33\n34\n35\n36\n37\n38\n39\n40\n41\n42\n43\n\n\nxsync /opt/ha/hadoop-3.1.3/etc/hadoop/yarn-site.xml\n\n\n1\n\n\nå¯å¨yarn\n\n#103ä¸­å¯å¨\nstart-yarn.sh\n\n\n1\n2\n\n\næ¥è¯¢å½åyarnæ¯standbyç¶æ è¿æ¯active\n\nyarn rmadmin -getServiceState rm1\n\n\n1\n\n\nyarnå¨zookeeperä¸çèç¹åä¸ºyarn-leader-election ä¸¤ä¸ªèç¹äºç¸ç¬ç«",normalizedContent:"# hadoop haé«å¯ç¨\n\nï¼1ï¼æè°haï¼high availablityï¼ï¼å³é«å¯ç¨ï¼7*24å°æ¶ä¸ä¸­æ­æå¡ï¼ã\n\nï¼2ï¼å®ç°é«å¯ç¨æå³é®çç­ç¥æ¯æ¶é¤åç¹æéãhaä¸¥æ ¼æ¥è¯´åºè¯¥åæåä¸ªç»ä»¶çhaæºå¶ï¼hdfsçhaåyarnçhaã\n\nï¼3ï¼hadoop2.0ä¹åï¼å¨hdfséç¾¤ä¸­namenodeå­å¨åç¹æéï¼spofï¼ã\n\nï¼4ï¼namenodeä¸»è¦å¨ä»¥ä¸ä¸¤ä¸ªæ¹é¢å½±åhdfséç¾¤\n\n * namenodeæºå¨åçæå¤ï¼å¦å®æºï¼éç¾¤å°æ æ³ä½¿ç¨ï¼ç´å°ç®¡çåéå¯\n\n * namenodeæºå¨éè¦åçº§ï¼åæ¬è½¯ä»¶ãç¡¬ä»¶åçº§ï¼æ­¤æ¶éç¾¤ä¹å°æ æ³ä½¿ç¨\n\nhdfs haåè½éè¿éç½®active/standbyä¸¤ä¸ªnamenodeså®ç°å¨éç¾¤ä¸­å¯¹namenodeçç­å¤æ¥è§£å³ä¸è¿°é®é¢ãå¦æåºç°æéï¼å¦æºå¨å´©æºææºå¨éè¦åçº§ç»´æ¤ï¼è¿æ¶å¯éè¿æ­¤ç§æ¹å¼å°namenodeå¾å¿«çåæ¢å°å¦å¤ä¸å°æºå¨ã\n\n\n\n\n# éç½®hdfs-haéç¾¤\n\nhadoop102     hadoop103         hadoop104\nnamenode      namenode          namenode\nzkfc          zkfc              zkfc\njournalnode   journalnode       journalnode\ndatanode      datanode          datanode\nzk            zk                zk\n              resourcemanager   \nnodemanager   nodemanager       nodemanager\n\nè¦åéç½®å¥½zookeeper å¹¶å¯å¨\n\nsudo mkdir /opt/ha\nsudo chown atguigu:atguigu /opt/ha\n#å°/opt/module/ä¸ç hadoop-3.1.3æ·è´å°/opt/haç®å½ä¸\ncp -r /opt/module/hadoop-3.1.3 /opt/ha/\n\n#å é¤å¤å¶åhadoopæä»¶å¤¹ä¸­ç dataæä»¶å¤¹ålogsæä»¶å¤¹\ncd /opt/ha/hadoop-3.1.3/\nrm -rf data/ logs mapreduce1-1.0-snapshot.jar\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n\n\néç½®core-site\n\nvim etc/hadoop/core-site.xml \n#ä¿®æ¹ä»¥ä¸ä¸¤ä¸ªkeyçå¼  è¿½å ä¸ä¸ªzookeeperéç¾¤å°å\n\n\n1\n2\n\n\n<configuration>\n  <property>\n    <name>fs.defaultfs</name>\n    <value>hdfs://mycluster</value>\n  </property>\n   \x3c!-- hadoopæ°æ®å­æ¾è·¯å¾ æ³¨æä¸ºdata.dir èä¸tmp.dir --\x3e \n  <property>\n    <name>hadoop.data.dir</name>\n    <value>/opt/ha/hadoop-3.1.3/data</value>\n  </property>\n    \n    \x3c!--è¿½å  zookeeper  quorum å°å  éç½®zookeeperæå¡éç¾¤ï¼ç¨äºæ´»è·namenodeèç¹çéä¸¾--\x3e\n    <property>\n\t<name>ha.zookeeper.quorum</name>\n\t<value>hadoop102:2181,hadoop103:2181,hadoop104:2181</value>\n</property>\n</configuration>\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n\n\néç½®hdfs-site.xml\n\nvim etc/hadoop/core-site.xml \n#è¦çåæéç½®\n\n\n1\n2\n\n\n<configuration>\n    \x3c!--éç½®namenodeçæ°æ®å­å¨ç®å½ï¼éè¦ä¸ä¸æåå»ºçç®å½ç¸å¯¹åº--\x3e\n  <property>\n    <name>dfs.namenode.name.dir</name>\n    <value>file://${hadoop.data.dir}/name</value>\n  </property>\n   \n  <property>\n    <name>dfs.datanode.data.dir</name>\n    <value>file://${hadoop.data.dir}/data</value>\n  </property>\n\x3c!-- nameservicesåç§° èªå®ä¹çhdfsæå¡åï¼å¨é«å¯ç¨éç¾¤ä¸­ï¼æ æ³éç½®åä¸hdfsæå¡å¨å¥å£ï¼æä»¥éè¦æå®ä¸ä¸ªé»è¾ä¸çæå¡åï¼å½è®¿é®æå¡åæ¶ï¼ä¼èªå¨éæ©namenodeèç¹è¿è¡è®¿é® --\x3e\n  <property>\n    <name>dfs.nameservices</name>\n    <value>mycluster</value>\n  </property>\n\x3c!-- ä¸ä¸ªnamenode å®ä¹hdfsæå¡åææåçnamenodeä¸»æºåç§° --\x3e\n  <property>\n    <name>dfs.ha.namenodes.mycluster</name>\n    <value>nn1,nn2, nn3</value>\n  </property>\n\x3c!-- namenodeå°å  è®¾ç½®namenodeçå®æ´çå¬å°å --\x3e\n  <property>\n    <name>dfs.namenode.rpc-address.mycluster.nn1</name>\n    <value>hadoop102:8020</value>\n  </property>\n  <property>\n    <name>dfs.namenode.rpc-address.mycluster.nn2</name>\n    <value>hadoop103:8020</value>\n  </property>\n  <property>\n    <name>dfs.namenode.rpc-address.mycluster.nn3</name>\n    <value>hadoop104:8020</value>\n  </property>\n        \x3c!--è®¾ç½®namenodeçhttpè®¿é®å°å--\x3e\n  <property>\n    <name>dfs.namenode.http-address.mycluster.nn1</name>\n    <value>hadoop102:9870</value>\n  </property>\n  <property>\n    <name>dfs.namenode.http-address.mycluster.nn2</name>\n    <value>hadoop103:9870</value>\n  </property>\n  <property>\n    <name>dfs.namenode.http-address.mycluster.nn3</name>\n    <value>hadoop104:9870</value>\n  </property>\n\x3c!-- éç½®qjnéç¾¤  è®¾ç½®ä¸»ä»namenodeåæ°æ®åæ­¥å°åï¼å®æ¹æ¨èå°nameserviceä½ä¸ºæåçjournal id --\x3e\n  <property>\n    <name>dfs.namenode.shared.edits.dir</name>\n    <value>qjournal://hadoop102:8485;hadoop103:8485;hadoop104:8485/mycluster</value>\n  </property>\n\x3c!-- qjnæ°æ®å­æ¾ç®å½ éç½®journalnodeçæ°æ®å­å¨ç®å½ï¼éè¦ä¸ä¸æåå»ºçç®å½ç¸å¯¹åº --\x3e\n    <property>\n    <name>dfs.journalnode.edits.dir</name>\n    <value>${hadoop.data.dir}/jn</value>\n  </property>\n\x3c!-- ä»£çç±»  è®¾ç½®hdfså®¢æ·ç«¯ç¨æ¥è¿æ¥éç¾¤ä¸­æ´»å¨ç¶ænamenodeèç¹çjavaç±» --\x3e\n  <property>\n    <name>dfs.client.failover.proxy.provider.mycluster</name>\n    <value>org.apache.hadoop.hdfs.server.namenode.ha.configuredfailoverproxyprovider</value>\n  </property>\n\x3c!-- éç¦»æ¹å¼ ä¸ºsshfence sshè¿ç¨ä»£ç  å¯å¨fenceè¿ç¨ï¼ç¡®ä¿éç¾¤é«å¯ç¨æ§ --\x3e\n  <property>\n    <name>dfs.ha.fencing.methods</name>\n    <value>sshfence</value>\n  </property>\n\x3c!-- sshç§æè·¯å¾ è®¾ç½®sshç»å½çç§é¥æä»¶å°å  --\x3e\n  <property>\n    <name>dfs.ha.fencing.ssh.private-key-files</name>\n    <value>/home/atguigu/.ssh/id_rsa</value>\n  </property>\n    \x3c!-- å¼å¯èªå¨åæ¢ è®¾ç½®èªå¨åæ¢æ´»è·èç¹ï¼ä¿è¯éç¾¤é«å¯ç¨æ§ --\x3e\n<property>\n\t<name>dfs.ha.automatic-failover.enabled</name>\n\t<value>true</value>\n</property>\n\n</configuration>\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n26\n27\n28\n29\n30\n31\n32\n33\n34\n35\n36\n37\n38\n39\n40\n41\n42\n43\n44\n45\n46\n47\n48\n49\n50\n51\n52\n53\n54\n55\n56\n57\n58\n59\n60\n61\n62\n63\n64\n65\n66\n67\n68\n69\n70\n71\n72\n73\n74\n75\n76\n77\n78\n79\n\n\nåæ­¥\n\nsudo xsync /opt/ha/\n\n\n1\n\n\nä¸´æ¶ä¿®æ¹ç¯å¢åé å ä¸ºhdfs.sh é»è®¤æ ¹æ®ç¯å¢åéæ¥å¯å¨ç æ æ³æ­£å¸¸æ ¼å¼åhaä¸­çnamenode\n\nsudo vim /etc/profile.d/my_env.sh\n#ä¿®æ¹hadoopè·¯å¾ ä¸´æ¶ä¸ºhaä¸çhadoop\nexport hadoop_home=/opt/ha/hadoop-3.1.3\n\nsource /etc/profile.d/my_env.sh\nsudo xsync /etc/profile.d/my_env.sh\n\n\n1\n2\n3\n4\n5\n6\n\n\nå¯å¨jqméç¾¤\n\n#ä¸å°é½ä¼å¯å¨ jpsæ£æ¥ä¸ä¸ä¸å°ææ²¡æjournalnode\n/opt/ha/hadoop-3.1.3/bin/hdfs --workers --daemon start journalnode\n#å¦æä¸è¡å é¤data ålogsæä»¶å¤¹ éæ°å¯å¨  åä¸è¡çæ¥å¿ jqmçæ°æ®å­å¨è·¯å¾å¿é¡»ä¸ºç»å¯¹è·¯å¾ \n\n\n1\n2\n3\n\n\næ ¼å¼ånn\n\n#å¨102èç¹ä¸­æ ¼å¼ånn\nhdfs namenode -format\nhdfs --daemon start namenode #å¯å¨nn\n\n#å¶ä»èç¹éè¿åæ­¥nn1çåæ°æ®ä¿¡æ¯ \n#åè®°è¦å¨atguiguä¸ ä¸è¦rootç¨æ·ä¸  å¦ææ æ³å¯å¨nnå é¤data ålogsæä»¶å¤¹ åæ­¥\n#å¨103å104ä¸­ä½¿ç¨\nhdfs namenode -bootstrapstandby #åæ­¥\nhdfs --daemon start namenode  #å¯å¨\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n\n\nå¯å¨zkå¹¶åå§åhaå¨zookeeperä¸­ç¶æ\n\n#åå¯å¨ä¸å°çzookeeper\nzkserver.sh start\n\n#æ ¼å¼ä¸å°å³å¯ä»¥ å¶ä»éç¾¤ä¼åæ­¥\nhdfs zkfc -formatzk\n\n\n1\n2\n3\n4\n5\n\n\nå¯å¨dfs\n\n#102\nstart-dfs.sh\n\n\n1\n2\n\n\n\n# haçéä¸¾æºå¶\n\néè¿æ¥ç3å°éç¾¤çwebé¡µé¢ åç°åªæä¸å°æ´»å¨(activeç¶æ) å¶ä»é½æ¯standbyç¶æ, å¦æææactiveçnnææ,é£ä¹haä¼èªå¨æéè½¬ç§»ææå°standbyç¶æçåä¸ºactiveç¶æ\n\n 1. éè¿zookeeperéåç\n 2. å½æä»¬å¯å¨nnæ¶ hadoopä¼èªå¨åzookeeperä¸çhadoop-ha/mycluster/activestandbyelectorlock æ³¨åä¸ä¸ªä¸´æ¶èç¹ æ­¤èç¹çå¼å°±æ¯activeèç¹åç§° åå¨æ­¤ä¸´æ¶èç¹æ³¨åçéç¾¤åæä¸ºactive\n 3. å¦æactiveå®æº åèç¹ä¼è¿ç¨è®¿é®active 8020ç«¯å£ å¹¶æµè¯æææå¡ æ ååº/ææ å¨zookeeperä¸çä¸´æ¶èç¹ä¸æ³¨å (æ­¤è¿ç¨ææèç¹é½ä¼æ§è¡ è°åå¨ä¸´æ¶èç¹æ³¨åä¸å°±æ¯è°åactive)\n 4. hadoop-ha/mycluster/activebreadcrumb æ­¤zookeeperèç¹è®°å½ä¸ä¸ä¸ªactive åç§° å¦æéæ°ä¸çº¿åä¸ºstandbyç¶æ\n 5. å¦æactiveæ­ç½ åä¼å°è¯ä¸æ­çéç¦»activeèç¹ ä½æ æ³è¿æ¥å°active å¹¶ä¸å¨éç¦»æé´standbyé½æ æ³è½¬æ¢ä¸ºactive å ä¸ºæä»¬éç½®çéç¦»æ¹æ³ æ¯sshfence(sshè¿æ¥å¹¶å°è¯ææ­»è¿ç¨) æä»¬å¯ä»¥éè¿éå·éç½®å¤valueå¼\n    1. shell(èæ¬æä»¶è·¯å¾) èªå®ä¹èæ¬æ¹æ³\n\n\n# yarn-ha\n\nhadoop102         hadoop103         hadoop104\nnamenode          namenode          \njournalnode       journalnode       journalnode\ndatanode          datanode          datanode\nzk                zk                zk\nresourcemanager   resourcemanager   \nnodemanager       nodemanager       nodemanager\n\nå¨éç½®å®hdfs-haçåºç¡ä¸ ä¿®æ¹éç½®\n\nvim /opt/ha/hadoop-3.1.3/etc/hadoop/yarn-site.xml\n#è¿½å \n\n\n1\n2\n\n\n\x3c!--å¯ç¨resourcemanager ha å¼å¯resourcemanager çé«å¯ç¨æ§åè½--\x3e\n    <property>\n        <name> yarn.resourcemanager.ha.enabled</name>\n        <value>true</value>\n    </property>\n \n    \x3c!--å£°æä¸¤å°resourcemanagerçå°å æ è¯éç¾¤ä¸­çresourcemanagerï¼å¦æè®¾ç½®è¯¥éé¡¹ï¼éè¦ç¡®ä¿ææçresourcemanagerèç¹å¨éç½®ä¸­é½æèªå·±çé»è¾id--\x3e\n    <property>\n        <name>yarn.resourcemanager.cluster-id</name>\n        <value>cluster-yarn1</value>\n    </property>\n\t\x3c!--è®¾ç½®resourcemanagerèç¹çé»è¾id--\x3e\n    <property>\n        <name>yarn.resourcemanager.ha.rm-ids</name>\n        <value>rm1,rm2</value>\n    </property>\n\t\x3c!--ä¸ºæ¯ä¸ªé»è¾idç»å®å®éçä¸»æºåç§°--\x3e\n    <property>\n        <name>yarn.resourcemanager.hostname.rm1</name>\n        <value>hadoop102</value>\n    </property>\n\n    <property>\n        <name>yarn.resourcemanager.hostname.rm2</name>\n        <value>hadoop103</value>\n    </property>\n \n    \x3c!--æå®zookeeperéç¾¤çå°å--\x3e \n    <property>\n        <name>yarn.resourcemanager.zk-address</name>\n        <value>hadoop102:2181,hadoop103:2181,hadoop104:2181</value>\n    </property>\n\n    \x3c!--å¯ç¨èªå¨æ¢å¤--\x3e \n    <property>\n        <name>yarn.resourcemanager.recovery.enabled</name>\n        <value>true</value>\n    </property>\n \n    \x3c!--æå®resourcemanagerçç¶æä¿¡æ¯å­å¨å¨zookeeperéç¾¤--\x3e \n    <property>\n        <name>yarn.resourcemanager.store.class</name>     <value>org.apache.hadoop.yarn.server.resourcemanager.recovery.zkrmstatestore</value>\n</property>\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n26\n27\n28\n29\n30\n31\n32\n33\n34\n35\n36\n37\n38\n39\n40\n41\n42\n43\n\n\nxsync /opt/ha/hadoop-3.1.3/etc/hadoop/yarn-site.xml\n\n\n1\n\n\nå¯å¨yarn\n\n#103ä¸­å¯å¨\nstart-yarn.sh\n\n\n1\n2\n\n\næ¥è¯¢å½åyarnæ¯standbyç¶æ è¿æ¯active\n\nyarn rmadmin -getservicestate rm1\n\n\n1\n\n\nyarnå¨zookeeperä¸çèç¹åä¸ºyarn-leader-election ä¸¤ä¸ªèç¹äºç¸ç¬ç«",charsets:{cjk:!0},lastUpdated:"2022/03/18, 07:01:11",lastUpdatedTimestamp:1647558071e3},{title:"Hadoop æ°ç¹æ§",frontmatter:{title:"Hadoop æ°ç¹æ§",date:"2022-03-17T21:41:51.000Z",permalink:"/pages/8dd6c9/",categories:["Hadoop"],tags:[null]},regularPath:"/%E5%A4%A7%E6%95%B0%E6%8D%AE/01.Hadoop/14.Hadoop%20%E6%96%B0%E7%89%B9%E6%80%A7.html",relativePath:"å¤§æ°æ®/01.Hadoop/14.Hadoop æ°ç¹æ§.md",key:"v-6594ad68",path:"/pages/8dd6c9/",headers:[{level:2,title:"éç¾¤é´æ°æ®æ·è´",slug:"éç¾¤é´æ°æ®æ·è´",normalizedTitle:"éç¾¤é´æ°æ®æ·è´",charIndex:17},{level:2,title:"å°æä»¶å­æ¡£",slug:"å°æä»¶å­æ¡£",normalizedTitle:"å°æä»¶å­æ¡£",charIndex:479},{level:2,title:"åæ¶ç«",slug:"åæ¶ç«",normalizedTitle:"åæ¶ç«",charIndex:847}],headersStr:"éç¾¤é´æ°æ®æ·è´ å°æä»¶å­æ¡£ åæ¶ç«",content:"# Hadoop æ°ç¹æ§\n\n\n# éç¾¤é´æ°æ®æ·è´\n\n 1. ä½¿ç¨scpå®ç°ä¸¤ä¸ªè¿ç¨ä¸»æºä¹é´çæä»¶å¤å¶\n\nscp -r hello.txt root@hadoop103:/user/atguigu/hello.txt\t\t# æ¨ push\nscp -r root@hadoop103:/user/atguigu/hello.txt  hello.txt\t\t# æ pull\nscp -r root@hadoop103:/user/atguigu/hello.txt root@hadoop104:/user/atguigu   #æ¯éè¿æ¬å°ä¸»æºä¸­è½¬å®ç°ä¸¤ä¸ªè¿ç¨ä¸»æºçæä»¶å¤å¶ï¼å¦æå¨ä¸¤ä¸ªè¿ç¨ä¸»æºä¹é´sshæ²¡æéç½®çæåµä¸å¯ä»¥ä½¿ç¨è¯¥æ¹å¼ã\n\n\n1\n2\n3\n\n 2. éç¨distcpå½ä»¤å®ç°ä¸¤ä¸ªHadoopéç¾¤ä¹é´çéå½æ°æ®å¤å¶\n\nbin/hadoop distcp hdfs://haoop102:9000/user/atguigu/hello.txt hdfs://hadoop103:9000/user/atguigu/hello.txt\n\n\n1\n\n\n\n# å°æä»¶å­æ¡£\n\n\n\nstart-yarn.sh #éè¦å¯å¨yarnæå¡\nbin/hadoop archive -archiveName input.har âp /user/atguigu/input /user/atguigu/output #å°/user/atguigu/inputç®å½éçæææä»¶é½å½æ¡£ä¸º input.har\n\nhadoop fs -lsr /user/atguigu/output/input.har\nhadoop fs -lsr har:///user/atguigu/output/input.har  #æ¥çææ¡£\n\nhadoop fs -cp har:///user/atguigu/output/input.har/* /user/atguigu  #è§£å½æ¡£æä»¶\n\n\n1\n2\n3\n4\n5\n6\n7\n\n\n\n# åæ¶ç«\n\nå¼å¯åæ¶ç«åè½ï¼å¯ä»¥å°å é¤çæä»¶å¨ä¸è¶æ¶çæåµä¸ï¼æ¢å¤åæ°æ®ï¼èµ·å°é²æ­¢è¯¯å é¤ãå¤ä»½ç­ä½ç¨\n\n\n\n 1. å¯ç¨åæ¶ç«ä¿®æ¹core-site.xmlï¼éç½®åå¾åæ¶æ¶é´ä¸º1åéã\n\n<property>\n   <name>fs.trash.interval</name>\n<value>1</value>\n</property>\n\n\n1\n2\n3\n4\n\n 2. åæ¶ç«é»è®¤è·¯å¾å¨éç¾¤ /user/atguigu/.Trash/â¦. è·¯å¾ä¸\n 3. ä¿®æ¹è®¿é®åå¾åæ¶ç«ç¨æ·åç§° è¿å¥åå¾åæ¶ç«ç¨æ·åç§°ï¼é»è®¤æ¯dr.whoï¼ä¿®æ¹ä¸ºatguiguç¨æ· ä¿®æ¹core-site.xmlæä»¶\n\n<property>\n  <name>hadoop.http.staticuser.user</name>\n  <value>atguigu</value>\n</property>\n\n\n1\n2\n3\n4\n\n 4. éè¿javaç¨åºå é¤çæä»¶ä¸ä¼ç»è¿åæ¶ç«ï¼éè¦è°ç¨moveToTrash()æè¿å¥åæ¶ç«\n\nTrash trash = New Trash(conf);\ntrash.moveToTrash(path);\n\n\n1\n2\n\n 5. æ¢å¤åæ¶ç«æ°æ®\n\nhadoop fs -mv /user/atguigu/.Trash/Current/user/atguigu/input /user/atguigu/input\n\n\n1\n\n 6. æ¸ç©ºåæ¶ç«\n\nhadoop fs -expunge\n\n\n1\n",normalizedContent:"# hadoop æ°ç¹æ§\n\n\n# éç¾¤é´æ°æ®æ·è´\n\n 1. ä½¿ç¨scpå®ç°ä¸¤ä¸ªè¿ç¨ä¸»æºä¹é´çæä»¶å¤å¶\n\nscp -r hello.txt root@hadoop103:/user/atguigu/hello.txt\t\t# æ¨ push\nscp -r root@hadoop103:/user/atguigu/hello.txt  hello.txt\t\t# æ pull\nscp -r root@hadoop103:/user/atguigu/hello.txt root@hadoop104:/user/atguigu   #æ¯éè¿æ¬å°ä¸»æºä¸­è½¬å®ç°ä¸¤ä¸ªè¿ç¨ä¸»æºçæä»¶å¤å¶ï¼å¦æå¨ä¸¤ä¸ªè¿ç¨ä¸»æºä¹é´sshæ²¡æéç½®çæåµä¸å¯ä»¥ä½¿ç¨è¯¥æ¹å¼ã\n\n\n1\n2\n3\n\n 2. éç¨distcpå½ä»¤å®ç°ä¸¤ä¸ªhadoopéç¾¤ä¹é´çéå½æ°æ®å¤å¶\n\nbin/hadoop distcp hdfs://haoop102:9000/user/atguigu/hello.txt hdfs://hadoop103:9000/user/atguigu/hello.txt\n\n\n1\n\n\n\n# å°æä»¶å­æ¡£\n\n\n\nstart-yarn.sh #éè¦å¯å¨yarnæå¡\nbin/hadoop archive -archivename input.har âp /user/atguigu/input /user/atguigu/output #å°/user/atguigu/inputç®å½éçæææä»¶é½å½æ¡£ä¸º input.har\n\nhadoop fs -lsr /user/atguigu/output/input.har\nhadoop fs -lsr har:///user/atguigu/output/input.har  #æ¥çææ¡£\n\nhadoop fs -cp har:///user/atguigu/output/input.har/* /user/atguigu  #è§£å½æ¡£æä»¶\n\n\n1\n2\n3\n4\n5\n6\n7\n\n\n\n# åæ¶ç«\n\nå¼å¯åæ¶ç«åè½ï¼å¯ä»¥å°å é¤çæä»¶å¨ä¸è¶æ¶çæåµä¸ï¼æ¢å¤åæ°æ®ï¼èµ·å°é²æ­¢è¯¯å é¤ãå¤ä»½ç­ä½ç¨\n\n\n\n 1. å¯ç¨åæ¶ç«ä¿®æ¹core-site.xmlï¼éç½®åå¾åæ¶æ¶é´ä¸º1åéã\n\n<property>\n   <name>fs.trash.interval</name>\n<value>1</value>\n</property>\n\n\n1\n2\n3\n4\n\n 2. åæ¶ç«é»è®¤è·¯å¾å¨éç¾¤ /user/atguigu/.trash/â¦. è·¯å¾ä¸\n 3. ä¿®æ¹è®¿é®åå¾åæ¶ç«ç¨æ·åç§° è¿å¥åå¾åæ¶ç«ç¨æ·åç§°ï¼é»è®¤æ¯dr.whoï¼ä¿®æ¹ä¸ºatguiguç¨æ· ä¿®æ¹core-site.xmlæä»¶\n\n<property>\n  <name>hadoop.http.staticuser.user</name>\n  <value>atguigu</value>\n</property>\n\n\n1\n2\n3\n4\n\n 4. éè¿javaç¨åºå é¤çæä»¶ä¸ä¼ç»è¿åæ¶ç«ï¼éè¦è°ç¨movetotrash()æè¿å¥åæ¶ç«\n\ntrash trash = new trash(conf);\ntrash.movetotrash(path);\n\n\n1\n2\n\n 5. æ¢å¤åæ¶ç«æ°æ®\n\nhadoop fs -mv /user/atguigu/.trash/current/user/atguigu/input /user/atguigu/input\n\n\n1\n\n 6. æ¸ç©ºåæ¶ç«\n\nhadoop fs -expunge\n\n\n1\n",charsets:{cjk:!0},lastUpdated:"2022/03/18, 07:01:11",lastUpdatedTimestamp:1647558071e3},{title:"MapReduceåç",frontmatter:{title:"MapReduceåç",date:"2022-03-17T21:41:51.000Z",permalink:"/pages/65db7d/",categories:["Hadoop"],tags:[null]},regularPath:"/%E5%A4%A7%E6%95%B0%E6%8D%AE/01.Hadoop/11.MapReduce%E5%8E%9F%E7%90%86.html",relativePath:"å¤§æ°æ®/01.Hadoop/11.MapReduceåç.md",key:"v-4b94238d",path:"/pages/65db7d/",headers:[{level:2,title:"InputFormat æ°æ®è¾å¥",slug:"inputformat-æ°æ®è¾å¥",normalizedTitle:"inputformat æ°æ®è¾å¥",charIndex:47},{level:3,title:"FileInputFormatåçæºç ",slug:"fileinputformatåçæºç ",normalizedTitle:"fileinputformatåçæºç ",charIndex:70},{level:3,title:"CombineTextInputFormatåçæºå¶",slug:"combinetextinputformatåçæºå¶",normalizedTitle:"combinetextinputformatåçæºå¶",charIndex:100},{level:3,title:"èªå®ä¹InputFormat",slug:"èªå®ä¹inputformat",normalizedTitle:"èªå®ä¹inputformat",charIndex:238},{level:2,title:"Shuffle(æ··æ´)  æ´çæ°æ®",slug:"shuffle-æ··æ´-æ´çæ°æ®",normalizedTitle:"shuffle(æ··æ´)  æ´çæ°æ®",charIndex:null},{level:3,title:"Partitionååº",slug:"partitionååº",normalizedTitle:"partitionååº",charIndex:5841},{level:3,title:"WritableComparable æåº",slug:"writablecomparable-æåº",normalizedTitle:"writablecomparable æåº",charIndex:10013},{level:3,title:"RawComparator æåº",slug:"rawcomparator-æåº",normalizedTitle:"rawcomparator æåº",charIndex:15822},{level:3,title:"Combiner åå¹¶",slug:"combiner-åå¹¶",normalizedTitle:"combiner åå¹¶",charIndex:18136},{level:3,title:"GroupingComparatoråç»",slug:"groupingcomparatoråç»",normalizedTitle:"groupingcomparatoråç»",charIndex:18638},{level:2,title:"OutputFormat æ°æ®è¾åº",slug:"outputformat-æ°æ®è¾åº",normalizedTitle:"outputformat æ°æ®è¾åº",charIndex:26135},{level:2,title:"Reduce Join",slug:"reduce-join",normalizedTitle:"reduce join",charIndex:31073},{level:2,title:"MapJoin",slug:"mapjoin",normalizedTitle:"mapjoin",charIndex:40062},{level:2,title:"æ°æ®æ¸æ´(ETL)åè®¡æ°å¨",slug:"æ°æ®æ¸æ´-etl-åè®¡æ°å¨",normalizedTitle:"æ°æ®æ¸æ´(etl)åè®¡æ°å¨",charIndex:44451},{level:2,title:"æ»ç»",slug:"æ»ç»",normalizedTitle:"æ»ç»",charIndex:18441}],headersStr:"InputFormat æ°æ®è¾å¥ FileInputFormatåçæºç  CombineTextInputFormatåçæºå¶ èªå®ä¹InputFormat Shuffle(æ··æ´)  æ´çæ°æ® Partitionååº WritableComparable æåº RawComparator æåº Combiner åå¹¶ GroupingComparatoråç» OutputFormat æ°æ®è¾åº Reduce Join MapJoin æ°æ®æ¸æ´(ETL)åè®¡æ°å¨ æ»ç»",content:'# MapReduceåç\n\néè¿åé¢çHadoopåºåå æ­¤å¤é¾ä»¥çè§£\n\n\n\n\n\n\n\n\n# InputFormat æ°æ®è¾å¥\n\n\n\n\n# FileInputFormatåçæºç \n\n\n\n\n\n\n\n\n# CombineTextInputFormatåçæºå¶\n\næ¡æ¶é»è®¤çTextInputFormatåçæºå¶æ¯å¯¹ä»»å¡ææä»¶è§ååçï¼ä¸ç®¡æä»¶å¤å°ï¼é½ä¼æ¯ä¸ä¸ªåç¬çåçï¼é½ä¼äº¤ç»ä¸ä¸ªMapTaskï¼è¿æ ·å¦ææå¤§éå°æä»¶ï¼å°±ä¼äº§çå¤§éçMapTaskï¼å¤çæçæå¶ä½ä¸ã\n\n\n\n\n# èªå®ä¹InputFormat\n\nDriver\n\npackage com.inputformat;\n\nimport org.apache.hadoop.conf.Configuration;\nimport org.apache.hadoop.fs.Path;\nimport org.apache.hadoop.io.BytesWritable;\nimport org.apache.hadoop.io.Text;\nimport org.apache.hadoop.mapreduce.Job;\nimport org.apache.hadoop.mapreduce.lib.input.FileInputFormat;\nimport org.apache.hadoop.mapreduce.lib.output.FileOutputFormat;\nimport org.apache.hadoop.mapreduce.lib.output.SequenceFileOutputFormat;\n\nimport java.io.IOException;\n\npublic class MyInputDriver {\n    public static void main(String[] args) throws IOException, InterruptedException, ClassNotFoundException {\n        Job job = Job.getInstance(new Configuration());\n\n        job.setJarByClass(MyInputDriver.class);\n\n        job.setMapOutputKeyClass(Text.class);\n        job.setMapOutputValueClass(BytesWritable.class);\n\n        job.setOutputKeyClass(Text.class);\n        job.setOutputValueClass(BytesWritable.class);\n\n        job.setInputFormatClass(MyInputFormat.class);\n        job.setOutputFormatClass(SequenceFileOutputFormat.class);\n\n        FileInputFormat.setInputPaths(job, new Path("D:/input"));\n        FileOutputFormat.setOutputPath(job, new Path("D:/output"));\n\n        boolean b = job.waitForCompletion(true);\n        System.exit(b ? 0 : 1);\n\n    }\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n26\n27\n28\n29\n30\n31\n32\n33\n34\n35\n36\n\n\nInputFormat\n\npackage com.inputformat;\n\nimport org.apache.hadoop.io.BytesWritable;\nimport org.apache.hadoop.io.Text;\nimport org.apache.hadoop.mapreduce.InputSplit;\nimport org.apache.hadoop.mapreduce.RecordReader;\nimport org.apache.hadoop.mapreduce.TaskAttemptContext;\nimport org.apache.hadoop.mapreduce.lib.input.FileInputFormat;\n\nimport java.io.IOException;\n\npublic class MyInputFormat extends FileInputFormat<Text, BytesWritable> {\n    /**\n     * è¿åä¸ä¸ªèªå®ä¹RecordReader\n     * @param inputSplit\n     * @param taskAttemptContext\n     * @return\n     * @throws IOException\n     * @throws InterruptedException\n     */\n    @Override\n    public RecordReader<Text, BytesWritable> createRecordReader(InputSplit inputSplit, TaskAttemptContext taskAttemptContext) throws IOException, InterruptedException {\n        return new MyRecordReader();\n    }\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n\n\nRecordReader\n\npackage com.inputformat;\n\nimport org.apache.hadoop.fs.FSDataInputStream;\nimport org.apache.hadoop.fs.FileSystem;\nimport org.apache.hadoop.io.BytesWritable;\nimport org.apache.hadoop.io.IOUtils;\nimport org.apache.hadoop.io.Text;\nimport org.apache.hadoop.mapreduce.InputSplit;\nimport org.apache.hadoop.mapreduce.RecordReader;\nimport org.apache.hadoop.mapreduce.TaskAttemptContext;\nimport org.apache.hadoop.mapreduce.lib.input.FileSplit;\n\nimport java.io.IOException;\n\n//è´è´£å°æ´ä¸ªæä»¶è½¬åæä¸ç»Key Valueå¯¹\npublic class MyRecordReader extends RecordReader<Text, BytesWritable> {\n\n    //æä»¶æ¯å¦è¯»å® é»è®¤ä¸ºfalse\n    private boolean isRead;\n\n    //é®å¼å¯¹\n    private Text key=new Text();\n    private BytesWritable value= new BytesWritable();\n\n    FSDataInputStream inputStream;\n    FileSplit fs;\n\n\n    /**\n     * åå§åæ¹æ³ ä¸è¬æ§è¡ä¸äºåå§åæä½\n     *\n     * @param inputSplit\n     * @param taskAttemptContext\n     * @throws IOException\n     * @throws InterruptedException\n     */\n    @Override\n    public void initialize(InputSplit inputSplit, TaskAttemptContext taskAttemptContext) throws IOException, InterruptedException {\n        //å¼æµ\n        fs = (FileSplit) inputSplit;//å¼ºè½¬ä¸ºå®ç°å­ç±»\n        FileSystem fileSystem = FileSystem.get(taskAttemptContext.getConfiguration()); //è·åconfigå¯¹è±¡\n        inputStream = fileSystem.open(fs.getPath());//è·åè·¯å¾\n\n    }\n\n    /**\n     * è¯»åä¸ä¸ä¸ªé®å¼å¯¹ æ¯å¦å­å¨\n     *\n     * @return\n     * @throws IOException\n     * @throws InterruptedException\n     */\n    @Override\n    public boolean nextKeyValue() throws IOException, InterruptedException {\n        if (!isRead){\n            //è¯»åè¿ä¸ªæä»¶\n\n            //å¡«åkey\n            key.set(fs.getPath().toString()); //keyè·¯å¾\n            //value\n            byte[] buffer = new byte[(int) fs.getLength()];\n            value.set(buffer,0,buffer.length);\n            //æ è®°æä»¶è¯»å®\n            isRead = true;\n            return true;\n        }\n        return false;\n    }\n\n    /*\n    è·åå½åkey\n     */\n    @Override\n    public Text getCurrentKey() throws IOException, InterruptedException {\n        return key;\n    }\n\n    //è·åå½åvalue\n    @Override\n    public BytesWritable getCurrentValue() throws IOException, InterruptedException {\n        return value;\n    }\n\n    /**\n     * æ¾ç¤ºè¿åº¦\n     *\n     * @return\n     * @throws IOException\n     * @throws InterruptedException\n     */\n    @Override\n    public float getProgress() throws IOException, InterruptedException {\n        return isRead ? 0 : 1;\n    }\n\n    /*\n    å³é­æ¹æ³\n     */\n    @Override\n    public void close() throws IOException {\n        IOUtils.closeStream(inputStream);  //å³æµ\n    }\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n26\n27\n28\n29\n30\n31\n32\n33\n34\n35\n36\n37\n38\n39\n40\n41\n42\n43\n44\n45\n46\n47\n48\n49\n50\n51\n52\n53\n54\n55\n56\n57\n58\n59\n60\n61\n62\n63\n64\n65\n66\n67\n68\n69\n70\n71\n72\n73\n74\n75\n76\n77\n78\n79\n80\n81\n82\n83\n84\n85\n86\n87\n88\n89\n90\n91\n92\n93\n94\n95\n96\n97\n98\n99\n100\n101\n102\n103\n\n\n\n# Shuffle(æ··æ´) æ´çæ°æ®\n\nMapReduceæ¡æ¶ä¼ç¡®ä¿æ¯ä¸ä¸ªReducerçè¾å¥é½æ¯æKeyè¿è¡æåºçãä¸è¬ï¼å°æåºä»¥åMapçè¾åºä¼ è¾å°Reduceçè¿ç¨ç§°ä¸ºæ··æ´ï¼shuffle)ãæ¯ä¸ä¸ªMapé½åå«ä¸ä¸ªç¯å½¢çç¼å­ï¼é»è®¤100Mï¼Mapé¦åå°è¾åºåå°ç¼å­å½ä¸­ãå½ç¼å­çåå®¹è¾¾å°âéå¼âæ¶ï¼éå¼é»è®¤çå¤§å°æ¯ç¼å­ç80%ï¼ï¼ä¸ä¸ªåå°çº¿ç¨è´è´£å°ç»æåå°ç¡¬çï¼è¿ä¸ªè¿ç¨ç§°ä¸ºâspillâãSpillè¿ç¨ä¸­ï¼Mapä»å¯ä»¥åç¼å­åå¥ç»æï¼å¦æç¼å­å·²ç»åæ»¡ï¼é£ä¹Mapè¿è¡ç­å¾ã\n\nMapæ¹æ³ä¹åï¼Reduceæ¹æ³ä¹åçæ°æ®å¤çè¿ç¨ç§°ä¹ä¸ºShuffleã\n\n\n\nShuffleå°mapä¸­æ åºçé®å¼å¯¹,ååº æåº å½å¹¶åè¾åºç»Reduce\n\nShuffleé¶æ®µæ°æ®æ¯å­æ¾å¨åå­(æ )ä¸­,å¦ææ°æ®åæ»¡äºç¼å²åº,åä¼è¿è¡ååº å¹¶æåº ç¶åè¿è¡å½å¹¶æåº å¹¶ä¸åå¥ç£ççæä½,ä»¥éæ¾ç¼å²åº è®©æ°æ°æ®è¿å¥ç¼å²åº\n\nä¸æ¬¡æåºæ¯å¤æ¬¡æåºæçè¦é« å ä¸ºå½å¹¶æ¬¡æ°è¶å¤æçä¸é ä½å¦ææ¯æ°æ®éåºå¤§ æä»¬åªæçºç²æ¶é´æ¥æ¢åç©ºé´\n\n\n# Partitionååº\n\nå®ä½ç±»\n\npackage com.flow;\n\nimport org.apache.hadoop.io.Writable;\n\nimport java.io.DataInput;\nimport java.io.DataOutput;\nimport java.io.IOException;\n\npublic class FlowBean implements Writable {\n    private long upFlow;\n    private long downFlow;\n    private long sumFlow;\n\n    @Override\n    public String toString() {\n        return upFlow + "\\t" + downFlow + "\\t" + sumFlow;\n    }\n\n    public void set(long upFlow, long downFlow) {\n        this.downFlow = downFlow;\n        this.upFlow = upFlow;\n        this.sumFlow = upFlow + downFlow;\n    }\n\n\n    public long getUpFlow() {\n        return upFlow;\n    }\n\n    public void setUpFlow(long upFlow) {\n        this.upFlow = upFlow;\n    }\n\n    public long getDownFlow() {\n        return downFlow;\n    }\n\n    public void setDownFlow(long downFlow) {\n        this.downFlow = downFlow;\n    }\n\n    public long getSumFlow() {\n        return sumFlow;\n    }\n\n    public void setSumFlow(long sumFlow) {\n        this.sumFlow = sumFlow;\n    }\n\n    /**\n     * å°å¯¹è±¡æ°æ®ååºå°æ¡æ¶æå®å°æ¹  åºåå\n     *\n     * @param dataOutput æ°æ®çå®¹å¨\n     * @throws IOException\n     */\n    @Override\n    public void write(DataOutput dataOutput) throws IOException {\n        dataOutput.writeLong(upFlow);\n        dataOutput.writeLong(downFlow);\n        dataOutput.writeLong(sumFlow);\n    }\n\n\n    /**\n     * ä»æ¡æ¶æå®å°æ¹è¯»åæ°æ®å¡«åå¯¹è±¡  ååºåå\n     *\n     * @param dataInput\n     * @throws IOException\n     */\n    @Override\n    public void readFields(DataInput dataInput) throws IOException {\n        //è¯»åé¡ºåºè¦ä¸è´\n        this.upFlow = dataInput.readLong();\n        this.downFlow = dataInput.readLong();\n        this.sumFlow = dataInput.readLong();\n    }\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n26\n27\n28\n29\n30\n31\n32\n33\n34\n35\n36\n37\n38\n39\n40\n41\n42\n43\n44\n45\n46\n47\n48\n49\n50\n51\n52\n53\n54\n55\n56\n57\n58\n59\n60\n61\n62\n63\n64\n65\n66\n67\n68\n69\n70\n71\n72\n73\n74\n75\n76\n77\n\n\nååºç±»\n\npackage com.partitioner;\n\nimport com.flow.FlowBean;\nimport org.apache.hadoop.io.Text;\nimport org.apache.hadoop.mapreduce.Partitioner;\n\npublic class MyPartitioner extends Partitioner<Text, FlowBean> {\n    /**\n     * å¯¹æ¯ä¸ä¸ªé®å¼å¯¹ è¿åå¯¹åºçååºå·\n     *\n     * @param text ææºå·\n     * @param flowBean æµé\n     * @param numPartitions\n     * @return\n     */\n    @Override\n    public int getPartition(Text text, FlowBean flowBean, int numPartitions) {\n        switch (text.toString().substring(0, 3)) {  //æ ¹æ®ææºå·å3ä½\n            case "136":\n                return 0;\n            case "137":\n                return 1;\n            case "138":\n                return 2;\n            case "139":\n                return 3;\n            default:\n                return 4;\n        }\n    }\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n26\n27\n28\n29\n30\n31\n\n\né©±å¨ç±»\n\npackage com.partitioner;\n\nimport com.flow.FlowBean;\nimport com.flow.FlowMapper;\nimport com.flow.FlowReducer;\nimport org.apache.hadoop.conf.Configuration;\nimport org.apache.hadoop.fs.Path;\nimport org.apache.hadoop.io.Text;\nimport org.apache.hadoop.mapreduce.Job;\nimport org.apache.hadoop.mapreduce.lib.input.FileInputFormat;\nimport org.apache.hadoop.mapreduce.lib.output.FileOutputFormat;\n\nimport java.io.IOException;\n\npublic class NewFlowDriver {\n\n    public static void main(String[] args) throws IOException, InterruptedException, ClassNotFoundException {\n        Job job = Job.getInstance(new Configuration());\n\n        job.setJarByClass(NewFlowDriver.class);\n\n        job.setMapperClass(FlowMapper.class);\n        job.setReducerClass(FlowReducer.class);\n\n        job.setMapOutputKeyClass(Text.class);\n        job.setMapOutputValueClass(FlowBean.class);\n\n        job.setNumReduceTasks(5); //è®¾ç½®ååºæ°/å¹¶è¡æ°\n        job.setPartitionerClass(MyPartitioner.class);  //è®¾ç½®ååºç±»\n\n\n        job.setOutputKeyClass(Text.class);\n        job.setOutputValueClass(FlowBean.class);\n\n        FileInputFormat.setInputPaths(job, new Path("file:///d:/input"));\n        FileOutputFormat.setOutputPath(job, new Path("file:///d:/output"));\n\n        boolean completion = job.waitForCompletion(true);\n        System.exit(completion ? 0 : 1);\n    }\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n26\n27\n28\n29\n30\n31\n32\n33\n34\n35\n36\n37\n38\n39\n40\n41\n\n\n\n# WritableComparable æåº\n\nWritableComparable æ¯MapReduceä¸­é»è®¤çæåºæ¥å£ å®ç°ç±»ä¸ºWritableComparator\n\nMapTaskåReduceTaskåä¼å¯¹æ°æ®æç§keyè¿è¡æåº hadoopçé»è®¤è¡ä¸º é»è®¤æåºä¸ºå­å¸é¡ºåºæåº åºå±ä¸ºå¿«éæåº\n\nå¦æè¦éåæåºæ¹æ³ åè®©å®ä½ç±»ç»§æ¿WritableComparableæ¥å£ å¹¶å®ç°compareToæ¹æ³\n\nå®ç°ç±»\n\npackage com.compare;\n\nimport org.apache.hadoop.io.Writable;\nimport org.apache.hadoop.io.WritableComparable;\n\nimport java.io.DataInput;\nimport java.io.DataOutput;\nimport java.io.IOException;\n\n//å®ç°WritableComparableæ¥å£\npublic class FlowBean implements WritableComparable<FlowBean> {\n    private long upFlow;\n    private long downFlow;\n    private long sumFlow;\n\n    @Override\n    public String toString() {\n        return upFlow + "\\t" + downFlow + "\\t" + sumFlow;\n    }\n\n    public void set(long upFlow, long downFlow) {\n        this.downFlow = downFlow;\n        this.upFlow = upFlow;\n        this.sumFlow = upFlow + downFlow;\n    }\n\n\n    public long getUpFlow() {\n        return upFlow;\n    }\n\n    public void setUpFlow(long upFlow) {\n        this.upFlow = upFlow;\n    }\n\n    public long getDownFlow() {\n        return downFlow;\n    }\n\n    public void setDownFlow(long downFlow) {\n        this.downFlow = downFlow;\n    }\n\n    public long getSumFlow() {\n        return sumFlow;\n    }\n\n    public void setSumFlow(long sumFlow) {\n        this.sumFlow = sumFlow;\n    }\n\n    /**\n     * å°å¯¹è±¡æ°æ®ååºå°æ¡æ¶æå®å°æ¹  åºåå\n     *\n     * @param dataOutput æ°æ®çå®¹å¨\n     * @throws IOException\n     */\n    @Override\n    public void write(DataOutput dataOutput) throws IOException {\n        dataOutput.writeLong(upFlow);\n        dataOutput.writeLong(downFlow);\n        dataOutput.writeLong(sumFlow);\n    }\n\n\n    /**\n     * ä»æ¡æ¶æå®å°æ¹è¯»åæ°æ®å¡«åå¯¹è±¡  ååºåå\n     *\n     * @param dataInput\n     * @throws IOException\n     */\n    @Override\n    public void readFields(DataInput dataInput) throws IOException {\n        //è¯»åé¡ºåºè¦ä¸è´\n        this.upFlow = dataInput.readLong();\n        this.downFlow = dataInput.readLong();\n        this.sumFlow = dataInput.readLong();\n    }\n\n    //æ¯è¾å¨\n    @Override\n    public int compareTo(FlowBean o) {\n//        if (this.sumFlow < o.sumFlow) {\n//            return 1;  //éåº\n//        } else if (\n//                this.sumFlow == o.sumFlow\n//        ) {\n//            return 0;\n//        }\n//        return -1;  //ååº\n        return Long.compare(o.sumFlow,this.sumFlow);\n    }\n}\n\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n26\n27\n28\n29\n30\n31\n32\n33\n34\n35\n36\n37\n38\n39\n40\n41\n42\n43\n44\n45\n46\n47\n48\n49\n50\n51\n52\n53\n54\n55\n56\n57\n58\n59\n60\n61\n62\n63\n64\n65\n66\n67\n68\n69\n70\n71\n72\n73\n74\n75\n76\n77\n78\n79\n80\n81\n82\n83\n84\n85\n86\n87\n88\n89\n90\n91\n92\n93\n94\n\n\nmapperç±»\n\npackage com.compare;\n\nimport org.apache.hadoop.io.LongWritable;\nimport org.apache.hadoop.io.Text;\nimport org.apache.hadoop.mapreduce.Mapper;\n\nimport java.io.IOException;\n\npublic class CompareMapper extends Mapper<LongWritable, Text,FlowBean,Text> {\n    private Text phone =new Text();\n    private FlowBean flow = new FlowBean();\n\n\n    @Override\n    protected void map(LongWritable key, Text value, Mapper<LongWritable, Text, FlowBean, Text>.Context context) throws IOException, InterruptedException {\n        //ä¸è¡æ°æ®\n        String line = value.toString();\n\n\n        //åå\n        String[] fields = line.split("\\t");\n\n        //å°è£\n        phone.set(fields[0]);\n        flow.setUpFlow(Long.parseLong(fields[1]));\n        flow.setDownFlow(Long.parseLong(fields[2]));\n        flow.setSumFlow(Long.parseLong(fields[3]));\n\n        //åå°ä¸ä¸æ\n        context.write(flow,phone);\n    }\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n26\n27\n28\n29\n30\n31\n32\n\n\nReducerç±»\n\npackage com.compare;\n\nimport org.apache.hadoop.io.Text;\nimport org.apache.hadoop.mapreduce.Reducer;\n\nimport java.io.IOException;\n\n//æ¶çæ°æ®ä¸º æµékey  ææºå·value  è¾åºä¸º ææºkey æµévalue\npublic class CompareReducer extends Reducer<FlowBean, Text,Text,FlowBean> {\n    /**\n     * Reduceæ¶å°çæ°æ®å·²ç»æå®åºäº æä»¬åªéè¦å°é®åå¼ åçè¾åºå°æä»¶ä¸­å°±å¯ä»¥\n     * @param key\n     * @param values\n     * @param context\n     * @throws IOException\n     * @throws InterruptedException\n     */\n    @Override\n    protected void reduce(FlowBean key, Iterable<Text> values, Reducer<FlowBean, Text, Text, FlowBean>.Context context) throws IOException, InterruptedException {\n        for (Text value : values) {\n            context.write(value,key);\n        }\n    }\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n\n\né©±å¨ç±»\n\npackage com.compare;\n\nimport com.partitioner.MyPartitioner;\nimport org.apache.hadoop.conf.Configuration;\nimport org.apache.hadoop.fs.Path;\nimport org.apache.hadoop.io.Text;\nimport org.apache.hadoop.io.WritableComparator;\nimport org.apache.hadoop.mapreduce.Job;\nimport org.apache.hadoop.mapreduce.lib.input.FileInputFormat;\nimport org.apache.hadoop.mapreduce.lib.output.FileOutputFormat;\n\nimport java.io.IOException;\n\npublic class CompareDriver {\n    public static void main(String[] args) throws IOException, InterruptedException, ClassNotFoundException {\n        Job job = Job.getInstance(new Configuration());\n\n        job.setJarByClass(CompareDriver.class);\n\n        job.setMapperClass(CompareMapper.class);\n        job.setReducerClass(CompareReducer.class);\n\n        job.setMapOutputKeyClass(FlowBean.class);\n        job.setMapOutputValueClass(Text.class);\n\n//        job.setSortComparatorClass(WritableComparator.class);  //é»è®¤æåº\n//        job.setGroupingComparatorClass(WritableComparator.class);  //ååºæåºä¹æ¯ä½¿ç¨è¿ä¸ªComparatoç±»\n\n\n        job.setOutputKeyClass(Text.class);\n        job.setOutputValueClass(FlowBean.class);\n\n        FileInputFormat.setInputPaths(job, new Path("file:///d:/output"));\n        FileOutputFormat.setOutputPath(job, new Path("file:///d:/output2"));\n\n        boolean completion = job.waitForCompletion(true);\n        System.exit(completion ? 0 : 1);\n    }\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n26\n27\n28\n29\n30\n31\n32\n33\n34\n35\n36\n37\n38\n39\n\n\n\n# RawComparator æåº\n\nWritableComparable ç±»å·²ç»å¸®æå®ç°å¥½äºRawComparator æåºä¸­æ¹æ³ æææä»¬å¯ä»¥ç´æ¥ç»§æ¿WritableComparable èä¸æ¯å®ç°RawComparator æ¥å£\n\npackage com.compare;\n\nimport org.apache.hadoop.io.WritableComparable;\nimport org.apache.hadoop.io.WritableComparator;\n\npublic class FlowComparator extends WritableComparator {\n    @Override\n    public int compare(WritableComparable a, WritableComparable b) {\n        FlowBean fa = (FlowBean) a;\n        FlowBean fb = (FlowBean) b;\n        return Long.compare(fb.getSumFlow(), fa.getSumFlow());\n    }\n\n    protected FlowComparator() {\n        super(FlowBean.class, true);\n    }\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n\n\né©±å¨ç±»è¦setä¸ºèªå®ä¹åçæåºç±»\n\npackage com.compare;\n\nimport com.partitioner.MyPartitioner;\nimport org.apache.hadoop.conf.Configuration;\nimport org.apache.hadoop.fs.Path;\nimport org.apache.hadoop.io.Text;\nimport org.apache.hadoop.io.WritableComparator;\nimport org.apache.hadoop.mapreduce.Job;\nimport org.apache.hadoop.mapreduce.lib.input.FileInputFormat;\nimport org.apache.hadoop.mapreduce.lib.output.FileOutputFormat;\n\nimport java.io.IOException;\n\npublic class CompareDriver {\n    public static void main(String[] args) throws IOException, InterruptedException, ClassNotFoundException {\n        Job job = Job.getInstance(new Configuration());\n\n        job.setJarByClass(CompareDriver.class);\n\n        job.setMapperClass(CompareMapper.class);\n        job.setReducerClass(CompareReducer.class);\n\n        job.setMapOutputKeyClass(FlowBean.class);\n        job.setMapOutputValueClass(Text.class);\n\n//        job.setSortComparatorClass(WritableComparator.class);  //é»è®¤æåº\n//        job.setGroupingComparatorClass(WritableComparator.class);  //ååºæåºä¹æ¯ä½¿ç¨è¿ä¸ªComparatorç±»\n        job.setSortComparatorClass(FlowComparator.class);  //è®¾ç½®ä¸ºéåçComparatorç±»\n\n\n        job.setOutputKeyClass(Text.class);\n        job.setOutputValueClass(FlowBean.class);\n\n        FileInputFormat.setInputPaths(job, new Path("file:///d:/output"));\n        FileOutputFormat.setOutputPath(job, new Path("file:///d:/output2"));\n\n        boolean completion = job.waitForCompletion(true);\n        System.exit(completion ? 0 : 1);\n    }\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n26\n27\n28\n29\n30\n31\n32\n33\n34\n35\n36\n37\n38\n39\n40\n\n\nMappringç±»åå®ä½ç±»ä¸è´ ä½å®ä½ç±»ä¸­çcompareTo å ä¸ºjobå·²ç»è®¾ç½®äºèªå®ä¹çæåºç±» ææä¸ä¼æ§è¡å®ä½ç±»ä¸­çcompareToæ¹æ³\n\n\n# Combiner åå¹¶\n\n 1. Combineræ¯MRç¨åºä¸­MapperåReducerä¹å¤çä¸ç§ç»ä»¶\n\n 2. Combinerç»ä»¶çç¶ç±»å°±æ¯Reducer\n\n 3. CombineråReducerçåºå«å¨äºè¿è¡çä½ç½®\n    \n    Combineræ¯å¨æ¯ä¸ä¸ªMapTaskæå¨å å èç¹è¿è¡\n    \n    Reduceræ¯æ¥åå¨å±ææMapperçè¾åºç»æ\n\n 4. Combinerçæä¹å°±æ¯å¯¹æ¯ä¸ä¸ªMapTaskçè¾åºè¿è¡å±é¨æ±æ»,ä»¥åå°ç½ç»ä¼ è¾é\n\n 5. Combinerè½å¤åºç¨çåææ¯ä¸è½å½±åæç»çä¸å¡é»è¾,èä¸Combinerçè¾åºkvåºç¨æ´Reducerçè¾å¥kvç±»åå¯¹åºèµ·æ¥\n\næ»ç»:Combinerå°±æ¯å¨MapTaskæ¶ æåå°æ°æ®åç»å½å¹¶ åå°ç¸åæ°æ®çååº æåº åå½å¹¶,ä½åææ¡ä»¶æ¯åå¹¶åçæ°æ®ä¸å½±åäº§ççç»æ å¦åç©ºé´æ¢åæ¶é´çåæ³ä¸å¯å\n\nä½¿ç¨ å¨driverä¸­ä¼ å¥Reducerç±»å¯ç¨ ä¸å½±åReducerçä½¿ç¨\n\njob.setCombinerClass(CompareReducer.class); //æåå½å¹¶åç» åå°æ°æ®å¤çæ¶é´\n\n\n1\n\n\n\n# GroupingComparatoråç»\n\nGroupingComparatoræ¯å¨reduceé¶æ®µåç»æ¥ä½¿ç¨çï¼ç±äºreduceé¶æ®µï¼å¦ækeyç¸åçä¸ç»ï¼åªåç¬¬ä¸ä¸ªkeyä½ä¸ºkeyï¼è¿­ä»£ææçvaluesã å¦æreduceçkeyæ¯èªå®ä¹çbeanï¼æä»¬åªéè¦beanéé¢çæä¸ªå±æ§ç¸åå°±è®¤ä¸ºè¿æ ·çkeyæ¯ç¸åçï¼è¿æ¯æä»¬å°±éè¦ä¹å®ä¹GroupCoparatoræ¥âæ¬ºéªâreduceäºã\n\n 1. å®ä½ç±»ç»§æ¿WritableComparableæ¥å£ å®ç°compareToæ¹æ³\n    \n    package com.grouping;\n    \n    \n    import org.apache.hadoop.io.WritableComparable;\n    \n    import java.io.DataInput;\n    import java.io.DataOutput;\n    import java.io.IOException;\n    \n    public class OrderBean implements WritableComparable<OrderBean> {\n    \n        private String orderId;\n        private String productId;\n        private double price;\n    \n        @Override\n        public String toString() {\n            return orderId + "\\t" + productId + "\\t" + price;\n        }\n    \n        public String getOrderId() {\n            return orderId;\n        }\n    \n        public String getProductId() {\n            return productId;\n        }\n    \n        public void setProductId(String productId) {\n            this.productId = productId;\n        }\n    \n        public double getPrice() {\n            return price;\n        }\n    \n        public void setPrice(double price) {\n            this.price = price;\n        }\n    \n        public void setOrderId(String orderId) {\n            this.orderId = orderId;\n        }\n    \n        //åæè®¢åæåºåæ ¹æ®è®¢åç¸åä»·æ ¼éåº\n        @Override\n        public int compareTo(OrderBean o) {\n            int compare = this.orderId.compareTo(o.orderId);  //æ¯è¾è®¢åå·æ¯å¦ç¸å\n            if (compare != 0) {\n                return compare;  //ä¸ç¸ååè¿åå·®å¼\n            } else {\n                return Double.compare(o.price, this.price);  //ç¸åæä»·æ ¼ååº\n            }\n        }\n    \n        @Override\n        public void write(DataOutput dataOutput) throws IOException {\n            dataOutput.writeUTF(orderId);\n            dataOutput.writeUTF(productId);\n            dataOutput.writeDouble(price);\n        }\n    \n        @Override\n        public void readFields(DataInput dataInput) throws IOException {\n    \n        }\n    }\n    \n    \n    1\n    2\n    3\n    4\n    5\n    6\n    7\n    8\n    9\n    10\n    11\n    12\n    13\n    14\n    15\n    16\n    17\n    18\n    19\n    20\n    21\n    22\n    23\n    24\n    25\n    26\n    27\n    28\n    29\n    30\n    31\n    32\n    33\n    34\n    35\n    36\n    37\n    38\n    39\n    40\n    41\n    42\n    43\n    44\n    45\n    46\n    47\n    48\n    49\n    50\n    51\n    52\n    53\n    54\n    55\n    56\n    57\n    58\n    59\n    60\n    61\n    62\n    63\n    64\n    65\n    66\n    67\n    \n\n 2. mapperå°è£æ°æ®å°å®ä½ç±»ä¸­\n    \n    package com.grouping;\n    \n    import org.apache.hadoop.io.LongWritable;\n    import org.apache.hadoop.io.NullWritable;\n    import org.apache.hadoop.io.Text;\n    import org.apache.hadoop.mapreduce.Mapper;\n    \n    import java.io.IOException;\n    \n    //å°è£OrderBean\n    public class OrderMapper extends Mapper<LongWritable, Text,OrderBean, NullWritable> {\n    \n        private  OrderBean order =new OrderBean();\n    \n        //mapperå°è£æ¹æ³\n        @Override\n        protected void map(LongWritable key, Text value, Mapper<LongWritable, Text, OrderBean, NullWritable>.Context context) throws IOException, InterruptedException {\n            String[] split = value.toString().split("\\t");\n    \n            order.setOrderId(split[0]);\n            order.setProductId(split[1]);\n            order.setPrice(Double.parseDouble(split[2]));\n    \n            //keyä¸ºä¸ä¸ªOrderBean\n            context.write(order,NullWritable.get());\n    \n        }\n    }\n    \n    \n    1\n    2\n    3\n    4\n    5\n    6\n    7\n    8\n    9\n    10\n    11\n    12\n    13\n    14\n    15\n    16\n    17\n    18\n    19\n    20\n    21\n    22\n    23\n    24\n    25\n    26\n    27\n    28\n    \n\n 3. æ¯è¾å¨ ç»§æ¿WritableComparatorå®ç°ç±» éåcompareåæ åæé æ¹æ³\n    \n    package com.grouping;\n    \n    import org.apache.hadoop.io.WritableComparable;\n    import org.apache.hadoop.io.WritableComparator;\n    \n    //æç§è®¢åç¼å·å¯¹æ°æ®è¿è¡åç»\n    public class OrderComparator extends WritableComparator {\n        //æç§ç¸åè®¢åè¿å¥ä¸ç»è¿è¡æ¯è¾\n        @Override\n        public int compare(WritableComparable a, WritableComparable b) {\n            OrderBean oa = (OrderBean) a;\n            OrderBean ob = (OrderBean) b;\n    \n            return oa.getOrderId().compareTo(ob.getOrderId());\n        }\n    \n        protected OrderComparator() {\n            super(OrderBean.class,true);\n        }\n    }\n    \n    \n    1\n    2\n    3\n    4\n    5\n    6\n    7\n    8\n    9\n    10\n    11\n    12\n    13\n    14\n    15\n    16\n    17\n    18\n    19\n    20\n    \n\n 4. Reducerç±» æ­¤æ¶keyä¸ºå®ä½ç±» valueä¸ºnull\n    \n    package com.grouping;\n    \n    import org.apache.hadoop.io.NullWritable;\n    import org.apache.hadoop.mapreduce.Reducer;\n    \n    import java.io.IOException;\n    import java.util.Iterator;\n    \n    //åæ¯ä¸ªè®¢åçæé«ä»·æ ¼\n    public class OrderReducer extends Reducer<OrderBean, NullWritable,OrderBean,NullWritable> {\n    \n    \n        @Override\n        protected void reduce(OrderBean key, Iterable<NullWritable> values, Reducer<OrderBean, NullWritable, OrderBean, NullWritable>.Context context) throws IOException, InterruptedException {\n            Iterator<NullWritable> iterator = values.iterator();\n            for (int i = 0; i < 2; i++) { //è¾åºå½åè®¢åç»ä¸­åä¸¤ä¸ªæé«ä»·æ ¼\n                if (iterator.hasNext()){\n                    iterator.next();\n                    context.write(key,NullWritable.get());\n                }\n            }\n        }\n    }\n    \n    \n    1\n    2\n    3\n    4\n    5\n    6\n    7\n    8\n    9\n    10\n    11\n    12\n    13\n    14\n    15\n    16\n    17\n    18\n    19\n    20\n    21\n    22\n    23\n    \n\n 5. é©±å¨ç±» setGroupingComparatorClasså¼å¯åç»\n    \n    package com.grouping;\n    \n    import com.flow.FlowBean;\n    import com.flow.FlowDriver;\n    import com.flow.FlowMapper;\n    import com.flow.FlowReducer;\n    import org.apache.hadoop.conf.Configuration;\n    import org.apache.hadoop.fs.Path;\n    import org.apache.hadoop.io.NullWritable;\n    import org.apache.hadoop.io.Text;\n    import org.apache.hadoop.mapreduce.Job;\n    import org.apache.hadoop.mapreduce.lib.input.FileInputFormat;\n    import org.apache.hadoop.mapreduce.lib.output.FileOutputFormat;\n    \n    import java.io.IOException;\n    \n    public class OrderDriver {\n        public static void main(String[] args) throws IOException, InterruptedException, ClassNotFoundException {\n            Job job = Job.getInstance(new Configuration());\n    \n            job.setJarByClass(OrderDriver.class);\n    \n            job.setMapperClass(OrderMapper.class);\n            job.setReducerClass(OrderReducer.class);\n    \n            job.setMapOutputKeyClass(OrderBean.class);\n            job.setMapOutputValueClass(NullWritable.class);\n    \n            job.setGroupingComparatorClass(OrderComparator.class); //åç»æ¯è¾å¨\n    \n            job.setOutputKeyClass(OrderBean.class);\n            job.setOutputValueClass(NullWritable.class);\n    \n            FileInputFormat.setInputPaths(job, new Path("file:///d:/input"));\n            FileOutputFormat.setOutputPath(job, new Path("file:///d:/output"));\n    \n            boolean completion = job.waitForCompletion(true);\n            System.exit(completion ? 0 : 1);\n        }\n    }\n    \n    \n    1\n    2\n    3\n    4\n    5\n    6\n    7\n    8\n    9\n    10\n    11\n    12\n    13\n    14\n    15\n    16\n    17\n    18\n    19\n    20\n    21\n    22\n    23\n    24\n    25\n    26\n    27\n    28\n    29\n    30\n    31\n    32\n    33\n    34\n    35\n    36\n    37\n    38\n    39\n    40\n    \n\nä¸é¢Reducerä¸­è·åå½åè®¢åç»ä¸­åä¸¤ä¸ªæé«ä»·æ ¼ å©ç¨äºshuffleä¸­æ°æ®åºååçç¹æ§ å¦æå¨åå¥å°ç£çä¸­æ¯æ¬¡è¾åºä¸ä¸ªå¼åå»ºä¸ä¸ªæ å°å®ä½ç±»é£ä¹æçå¤ªä½ä¸ è¿å¥Mapperåæ°æ®å°±é»è®¤åé¨åºååäº åå¥å°ç£çæ¶åªéåå»ºä¸æ¬¡æ å°å®ä½ç±»éè¿åºååè¿­ä»£ä¸ä¸ä¸ªé®å¼å¯¹æ¹åå®ä½ç±»çå¼ è¿æ ·æ éå¤æ¬¡åå»ºå®ä½ç±»æµªè´¹èµæº\n\n\n# OutputFormat æ°æ®è¾åº\n\n\n\n 1. Recordç±»\n    \n    package com.outputformat;\n    \n    import org.apache.hadoop.conf.Configuration;\n    import org.apache.hadoop.fs.FSDataOutputStream;\n    import org.apache.hadoop.fs.FileSystem;\n    import org.apache.hadoop.fs.Path;\n    import org.apache.hadoop.io.IOUtils;\n    import org.apache.hadoop.io.LongWritable;\n    import org.apache.hadoop.io.Text;\n    import org.apache.hadoop.mapreduce.RecordWriter;\n    import org.apache.hadoop.mapreduce.TaskAttemptContext;\n    import org.apache.hadoop.mapreduce.lib.output.FileOutputFormat;\n    \n    import java.io.IOException;\n    import java.nio.charset.StandardCharsets;\n    \n    //å°æ°æ®æç§ä¸åå« atguigu çæ°æ® åå«è¾åºå°ä¸¤ä¸ªæä»¶ä¸­\n    public class MyRecordWriter extends RecordWriter<LongWritable, Text> {\n        FSDataOutputStream atguigu = null;\n        FSDataOutputStream other = null;\n    \n        public MyRecordWriter(TaskAttemptContext job) throws IOException {\n            Configuration configuration = job.getConfiguration();//éè¿jobè·åéç½®æä»¶\n            FileSystem fileSystem = FileSystem.get(configuration);  //éè¿éç½®æä»¶è·åæä»¶å¯¹è±¡\n            String outdir = configuration.get(FileOutputFormat.OUTDIR);  //è·åéç½®æä»¶ä¸­çè¾åºè·¯å¾å°å\n            atguigu = fileSystem.create(new Path(outdir + "/atguigu.log"));//æ¼æ¥\n            other = fileSystem.create(new Path(outdir + "/other.log"));\n        }\n    \n        /**\n         * æ¥åé®å¼å¯¹ å¹¶æç§å¼çä¸åè¾åºå°ä¸åæä»¶ä¸­\n         *\n         * @param key   è¯»åçä¸è¡çåç§»é\n         * @param value è¿ä¸è¡çåå®¹\n         * @throws IOException\n         * @throws InterruptedException\n         */\n        @Override\n        public void write(LongWritable key, Text value) throws IOException, InterruptedException {\n            String line = value.toString() + "\\n";\n            if (line.contains("atguigu")) {//å¤æ­æ­¤è¡æ¯å¦åå«atguigu\n                //å¾atguiguæä»¶ååºæ°æ®\n                atguigu.write(line.getBytes(StandardCharsets.UTF_8));\n    \n            } else {\n                //å¾otheræä»¶ååºæ°æ®\n                other.write(line.getBytes(StandardCharsets.UTF_8));\n            }\n        }\n    \n        //å³é­èµæº\n        @Override\n        public void close(TaskAttemptContext context) throws IOException, InterruptedException {\n            IOUtils.closeStream(atguigu);\n            IOUtils.closeStream(other);\n        }\n    }\n    \n    \n    1\n    2\n    3\n    4\n    5\n    6\n    7\n    8\n    9\n    10\n    11\n    12\n    13\n    14\n    15\n    16\n    17\n    18\n    19\n    20\n    21\n    22\n    23\n    24\n    25\n    26\n    27\n    28\n    29\n    30\n    31\n    32\n    33\n    34\n    35\n    36\n    37\n    38\n    39\n    40\n    41\n    42\n    43\n    44\n    45\n    46\n    47\n    48\n    49\n    50\n    51\n    52\n    53\n    54\n    55\n    56\n    57\n    \n\n 2. OutputFormatç±»\n    \n    package com.outputformat;\n    \n    import org.apache.hadoop.io.LongWritable;\n    import org.apache.hadoop.io.Text;\n    import org.apache.hadoop.mapreduce.RecordWriter;\n    import org.apache.hadoop.mapreduce.TaskAttemptContext;\n    import org.apache.hadoop.mapreduce.lib.output.FileOutputFormat;\n    \n    import java.io.IOException;\n    //mappingé»è®¤è¾åºä¸ºLongWritable, Text\n    public class MyOutputFormat extends FileOutputFormat<LongWritable, Text> {\n        //è¿åä¸ä¸ªå¤çæ°æ®çRecord Writer\n        @Override\n        public RecordWriter<LongWritable, Text> getRecordWriter(TaskAttemptContext job) throws IOException, InterruptedException {\n            return new MyRecordWriter(job);\n        }\n    }\n    \n    \n    1\n    2\n    3\n    4\n    5\n    6\n    7\n    8\n    9\n    10\n    11\n    12\n    13\n    14\n    15\n    16\n    17\n    \n\n 3. driverç±»\n    \n    package com.outputformat;\n    \n    \n    import org.apache.hadoop.conf.Configuration;\n    import org.apache.hadoop.fs.Path;\n    import org.apache.hadoop.io.IntWritable;\n    import org.apache.hadoop.io.LongWritable;\n    import org.apache.hadoop.io.Text;\n    import org.apache.hadoop.mapreduce.Job;\n    import org.apache.hadoop.mapreduce.lib.input.FileInputFormat;\n    import org.apache.hadoop.mapreduce.lib.output.FileOutputFormat;\n    \n    import java.io.IOException;\n    \n    public class OutputDrive {\n        public static void main(String[] args) throws IOException, InterruptedException, ClassNotFoundException {\n            Configuration configuration = new Configuration();\n            Job job = Job.getInstance(configuration);\n    \n            job.setJarByClass(OutputDrive.class);\n    \n            job.setOutputFormatClass(MyOutputFormat.class);\n    \n    \n            FileInputFormat.setInputPaths(job, new Path("d:/input"));\n            //å¿é¡»ä¿è¯éç½®æä»¶éç½®æ­£å¸¸æè½æ­£å¸¸è¿è¡\n            FileOutputFormat.setOutputPath(job, new Path("d:/output"));\n    \n            boolean result = job.waitForCompletion(true);\n    \n            System.exit(result ? 0 : 1);\n        }\n    }\n    \n    \n    1\n    2\n    3\n    4\n    5\n    6\n    7\n    8\n    9\n    10\n    11\n    12\n    13\n    14\n    15\n    16\n    17\n    18\n    19\n    20\n    21\n    22\n    23\n    24\n    25\n    26\n    27\n    28\n    29\n    30\n    31\n    32\n    33\n    \n\n\n# Reduce Join\n\nreduce side joinæ¯ä¸ç§æç®åçjoinæ¹å¼ï¼å¶ä¸»è¦ææ³å¦ä¸ï¼ å¨mapé¶æ®µï¼mapå½æ°åæ¶è¯»åä¸¤ä¸ªæä»¶File1åFile2ï¼ä¸ºäºåºåä¸¤ç§æ¥æºçkey/valueæ°æ®å¯¹ï¼å¯¹æ¯æ¡æ°æ®æä¸ä¸ªæ ç­¾> ï¼tagï¼,æ¯å¦ï¼tag=0è¡¨ç¤ºæ¥èªæä»¶File1ï¼tag=2è¡¨ç¤ºæ¥èªæä»¶File2ãå³ï¼mapé¶æ®µçä¸»è¦ä»»å¡æ¯å¯¹ä¸åæä»¶ä¸­çæ°æ®ææ ç­¾ã> å¨reduceé¶æ®µï¼reduceå½æ°è·åkeyç¸åçæ¥èªFile1åFile2æä»¶çvalue listï¼ ç¶åå¯¹äºåä¸ä¸ªkeyï¼å¯¹File1åFile2ä¸­çæ°æ®è¿è¡joinï¼ç¬å¡å°ä¹ç§¯ï¼ãå³ï¼reduceé¶æ®µè¿è¡å®éçè¿æ¥æä½.\n\n * Mapç«¯çä¸»è¦å·¥ä½ï¼ä¸ºæ¥èªä¸åè¡¨ææä»¶çkey/valueå¯¹ï¼ææ ç­¾ä»¥åºå«ä¸åæ¥æºçè®°å½ãç¶åç¨è¿æ¥å­æ®µä½ä¸ºkeyï¼å¶ä½é¨ååæ°å çæ å¿ä½ä¸ºvalueï¼æåè¿è¡è¾åºã\n * Reduceç«¯çä¸»è¦å·¥ä½ï¼å¨Reduceç«¯ä»¥è¿æ¥å­æ®µä½ä¸ºkeyçåç»å·²ç»å®æï¼æä»¬åªéè¦å¨æ¯ä¸ä¸ªåç»å½ä¸­å°é£äºæ¥æºäºä¸åæä»¶çè®°å½ï¼å¨Mapé¶æ®µå·²ç»ææ å¿ï¼åå¼ï¼æåè¿è¡åå¹¶å°±okäºã\n * è¯¥æ¹æ³çç¼ºç¹ï¼è¿ç§æ¹å¼çç¼ºç¹å¾ææ¾å°±æ¯ä¼é æMapåReduceç«¯ä¹å°±æ¯shuffleé¶æ®µåºç°å¤§éçæ°æ®ä¼ è¾ï¼æçå¾ä½ã\n\n\n\n 1. åå»ºå®ä½ç±» å¹¶æåº\n    \n    package com.reducejoin;\n    \n    import org.apache.hadoop.io.WritableComparable;\n    \n    import java.io.DataInput;\n    import java.io.DataOutput;\n    import java.io.IOException;\n    \n    public class OrderBean implements WritableComparable<OrderBean> {\n    \n        private String id;\n        private String pid;\n        private int amount;\n        private String pname;\n    \n        @Override\n        public String toString() {\n            return id + "\\t" + pname + "\\t" + amount;\n        }\n    \n        public String getId() {\n            return id;\n        }\n    \n        public void setId(String id) {\n            this.id = id;\n        }\n    \n        public String getPid() {\n            return pid;\n        }\n    \n        public void setPid(String pid) {\n            this.pid = pid;\n        }\n    \n        public int getAmount() {\n            return amount;\n        }\n    \n        public void setAmount(int amount) {\n            this.amount = amount;\n        }\n    \n        public String getPname() {\n            return pname;\n        }\n    \n        public void setPname(String pname) {\n            this.pname = pname;\n        }\n    \n    \n        @Override\n        public int compareTo(OrderBean o) {\n            //æpidåç» ç»åæç§pnameéåºæåº\n            int i = this.pid.compareTo(o.pid);\n            if (i !=0){\n                return i;\n            }else {\n                return o.pname.compareTo(this.pname);\n            }\n        }\n    \n        @Override\n        public void write(DataOutput dataOutput) throws IOException {\n            dataOutput.writeUTF(id);\n            dataOutput.writeUTF(pid);\n            dataOutput.writeInt(amount);\n            dataOutput.writeUTF(pname);\n        }\n    \n        @Override\n        public void readFields(DataInput dataInput) throws IOException {\n            this.id = dataInput.readUTF();\n            this.pid = dataInput.readUTF();\n            this.amount = dataInput.readInt();\n            this.pname = dataInput.readUTF();\n        }\n    }\n    \n    \n    1\n    2\n    3\n    4\n    5\n    6\n    7\n    8\n    9\n    10\n    11\n    12\n    13\n    14\n    15\n    16\n    17\n    18\n    19\n    20\n    21\n    22\n    23\n    24\n    25\n    26\n    27\n    28\n    29\n    30\n    31\n    32\n    33\n    34\n    35\n    36\n    37\n    38\n    39\n    40\n    41\n    42\n    43\n    44\n    45\n    46\n    47\n    48\n    49\n    50\n    51\n    52\n    53\n    54\n    55\n    56\n    57\n    58\n    59\n    60\n    61\n    62\n    63\n    64\n    65\n    66\n    67\n    68\n    69\n    70\n    71\n    72\n    73\n    74\n    75\n    76\n    77\n    78\n    79\n    80\n    \n\n 2. Mapperç±» æ ¹æ®æä»¶åçä¸åæ¥å°è£å®ä½ç±»ä¸åçå®ç°\n    \n    package com.reducejoin;\n    \n    import org.apache.hadoop.io.LongWritable;\n    import org.apache.hadoop.io.NullWritable;\n    import org.apache.hadoop.io.Text;\n    import org.apache.hadoop.mapreduce.Mapper;\n    import org.apache.hadoop.mapreduce.lib.input.FileSplit;\n    \n    import java.io.IOException;\n    \n    public class OrderMapper extends Mapper<LongWritable, Text, OrderBean, NullWritable> {\n    \n        private OrderBean order = new OrderBean();\n        private String filename;  //è·åå½åæä»¶å\n    \n        @Override\n        protected void setup(Mapper<LongWritable, Text, OrderBean, NullWritable>.Context context) throws IOException, InterruptedException {\n            //è·åæ°æ®æä»¶å\n            FileSplit fs = (FileSplit) context.getInputSplit();\n            filename = fs.getPath().getName();\n        }\n    \n        @Override\n        protected void map(LongWritable key, Text value, Mapper<LongWritable, Text, OrderBean, NullWritable>.Context context) throws IOException, InterruptedException {\n            String[] split = value.toString().split("\\t");\n    \n            //å°è£,ææ°æ®æ¥æºä¸ååå«å°è£\n            if ("order.txt".equals(filename)){\n                //å°è£order\n                order.setId(split[0]);\n                order.setPid(split[1]);\n                order.setAmount(Integer.parseInt(split[2]));\n                order.setPname(""); //ä¸è½ä¸ºnull\n            }else{\n                //å°è£pd\n                order.setPid(split[0]);\n                order.setPname(split[1]);\n                order.setAmount(0);  //ä¸è½ä¸ºnull\n                order.setId("");\n            }\n    \n            context.write(order,NullWritable.get());\n        }\n    }\n    \n    \n    1\n    2\n    3\n    4\n    5\n    6\n    7\n    8\n    9\n    10\n    11\n    12\n    13\n    14\n    15\n    16\n    17\n    18\n    19\n    20\n    21\n    22\n    23\n    24\n    25\n    26\n    27\n    28\n    29\n    30\n    31\n    32\n    33\n    34\n    35\n    36\n    37\n    38\n    39\n    40\n    41\n    42\n    43\n    44\n    \n\n 3. comparator æ ¹æ®pidè¿è¡åç»\n    \n    package com.reducejoin;\n    \n    \n    import org.apache.hadoop.io.WritableComparable;\n    import org.apache.hadoop.io.WritableComparator;\n    \n    //åç»æ¯è¾å¨ æç§orderå¯¹è±¡çpidåç»\n    public class OrderComparator extends WritableComparator {\n    \n        protected OrderComparator() {\n            super(OrderBean.class,true);\n        }\n    \n        //æç§pidæ¯è¾aåb\n        @Override\n        public int compare(WritableComparable a, WritableComparable b) {\n            OrderBean oa= (OrderBean) a;\n            OrderBean ob= (OrderBean) b;\n            return oa.getPid().compareTo(ob.getPid());\n    \n        }\n    }\n    \n    \n    1\n    2\n    3\n    4\n    5\n    6\n    7\n    8\n    9\n    10\n    11\n    12\n    13\n    14\n    15\n    16\n    17\n    18\n    19\n    20\n    21\n    22\n    \n\n 4. Reducer è¿è¡æ¿æ¢åå¹¶å¤çå¥½/æ å¿å¥½æ°æ®\n    \n    package com.reducejoin;\n    \n    import org.apache.hadoop.io.NullWritable;\n    import org.apache.hadoop.mapreduce.Reducer;\n    \n    import java.io.IOException;\n    import java.util.Iterator;\n    \n    //æ°æ®æ¿æ¢å·¥ä½ å°pidæ¢æå¯¹åºçpname\n    public class OrderReducer extends Reducer<OrderBean, NullWritable, OrderBean, NullWritable> {\n    \n    \n        @Override\n        protected void reduce(OrderBean key, Iterable<NullWritable> values, Reducer<OrderBean, NullWritable, OrderBean, NullWritable>.Context context) throws IOException, InterruptedException {\n    \n            /*for (NullWritable value : values) {\n            if (!"".equals(key.getPname())){\n                pName=key.getPname();  //éåpanmeæ¥æ¾å½ååç»ä¸­æå¼çpnameå³åç\n                break;  //ä½è¿­ä»£å¨æ æ³è¿è¡ç¬¬äºæ¬¡è¿­ä»£éå\n            }*/\n    \n            //å·²ç»æ ¹æ®pnameåæ¬¡æåº å¹¶è¿è¡åç» ç¬¬ä¸ä¸ªä¸ºéè¦çåçåpname\n            Iterator<NullWritable> iterator = values.iterator();\n            iterator.next();\n            String pName = key.getPname(); //è·ååçå\n            while (iterator.hasNext()) {\n                iterator.next();\n                key.setPname(pName); //æ¿æ¢ä¸ºå¯¹åºçåçå\n                context.write(key, NullWritable.get());  //ååº\n            }\n    \n        }\n    }\n    \n    \n    1\n    2\n    3\n    4\n    5\n    6\n    7\n    8\n    9\n    10\n    11\n    12\n    13\n    14\n    15\n    16\n    17\n    18\n    19\n    20\n    21\n    22\n    23\n    24\n    25\n    26\n    27\n    28\n    29\n    30\n    31\n    32\n    33\n    \n\n 5. é©±å¨ç±»\n    \n    package com.reducejoin;\n    \n    import org.apache.hadoop.conf.Configuration;\n    import org.apache.hadoop.fs.Path;\n    import org.apache.hadoop.io.NullWritable;\n    import org.apache.hadoop.mapreduce.Job;\n    import org.apache.hadoop.mapreduce.lib.input.FileInputFormat;\n    import org.apache.hadoop.mapreduce.lib.output.FileOutputFormat;\n    \n    import java.io.IOException;\n    \n    public class OrderDriver {\n        public static void main(String[] args) throws IOException, InterruptedException, ClassNotFoundException {\n            Job job = Job.getInstance(new Configuration());\n    \n            job.setJarByClass(OrderDriver.class);\n    \n            job.setMapperClass(OrderMapper.class);\n            job.setReducerClass(OrderReducer.class);\n    \n            job.setMapOutputKeyClass(OrderBean.class);\n            job.setMapOutputValueClass(NullWritable.class);\n    \n            job.setOutputKeyClass(OrderBean.class);\n            job.setOutputValueClass(NullWritable.class);\n    \n            job.setGroupingComparatorClass(OrderComparator.class);  //åç»æ¯è¾å¨\n    \n            FileInputFormat.setInputPaths(job, new Path("d:/input"));\n            FileOutputFormat.setOutputPath(job, new Path("d:/output"));\n    \n            boolean b = job.waitForCompletion(true);\n            System.exit(b ? 0 : 1);\n        }\n    }\n    \n    \n    1\n    2\n    3\n    4\n    5\n    6\n    7\n    8\n    9\n    10\n    11\n    12\n    13\n    14\n    15\n    16\n    17\n    18\n    19\n    20\n    21\n    22\n    23\n    24\n    25\n    26\n    27\n    28\n    29\n    30\n    31\n    32\n    33\n    34\n    35\n    \n\n\n# MapJoin\n\nMap Joinéç¨äºä¸å¼ è¡¨ååå°ãä¸å¼ è¡¨å¾å¤§çåºæ¯ãå¨Mapç«¯ç¼å­å¤å¼ è¡¨ï¼æåå¤çä¸å¡é»è¾ï¼è¿æ ·å¢å Mapç«¯ä¸å¡ï¼åå°Reduceç«¯æ°æ®çååï¼å°½å¯è½çåå°æ°æ®å¾æã\n\nèä½¿ç¨MapJoinåªéç¼å driveråmapç±» æ éç¼åreduceç±» å ä¸ºä¸æ¶åå°reduceé¶æ®µ æä»¬å¨mapé¶æ®µå°±å¤çå®æ\n\n 1. driver å¼å¯åå¸å¼ç¼å­å¹¶ä¼ éå°æä»¶è·¯å¾\n    \n    package com.mapjoin;\n    \n    import org.apache.hadoop.conf.Configuration;\n    import org.apache.hadoop.fs.Path;\n    import org.apache.hadoop.io.NullWritable;\n    import org.apache.hadoop.io.Text;\n    import org.apache.hadoop.mapreduce.Job;\n    import org.apache.hadoop.mapreduce.lib.input.FileInputFormat;\n    import org.apache.hadoop.mapreduce.lib.output.FileOutputFormat;\n    \n    import java.io.IOException;\n    import java.net.URI;\n    \n    public class MJDriver {\n        public static void main(String[] args) throws IOException, InterruptedException, ClassNotFoundException {\n            Job job = Job.getInstance(new Configuration());\n    \n            job.setJarByClass(MJDriver.class);\n    \n            job.setMapperClass(MJMapper.class);\n            job.setNumReduceTasks(0); //Mapç«¯çjoinä¸éè¦Reduceé¶æ®µ æä»¥è®¾ç½®ReduceTaskæ°0\n    \n            //æ·»å åå¸å¼ç¼å­å¯ä»¥æ·»å å¤å¼ ä¼ éä¸ºæ°ç»\n            job.addCacheFile(URI.create("file:///d:/input/pd.txt"));  //è®¾ç½®å è½½ç¼å­æ°æ®\n    \n            job.setMapOutputKeyClass(Text.class);\n            job.setMapOutputValueClass(NullWritable.class);\n    \n            FileInputFormat.setInputPaths(job, new Path("D:/input/order.txt"));\n            FileOutputFormat.setOutputPath(job, new Path("d:/output"));\n    \n            boolean b = job.waitForCompletion(true);\n            System.exit(b ? 0 : 1);\n    \n    \n        }\n    }\n    \n    \n    1\n    2\n    3\n    4\n    5\n    6\n    7\n    8\n    9\n    10\n    11\n    12\n    13\n    14\n    15\n    16\n    17\n    18\n    19\n    20\n    21\n    22\n    23\n    24\n    25\n    26\n    27\n    28\n    29\n    30\n    31\n    32\n    33\n    34\n    35\n    36\n    37\n    \n\n 2. mapper setupå è½½åå¸å¼ç¼å­å­èæµputå°mapéåå½ä¸­ å¨mapä¸­æ¿æ¢åå¤çè¦å¤ççæ°æ®\n    \n    package com.mapjoin;\n    \n    import org.apache.commons.lang.StringUtils;\n    import org.apache.hadoop.fs.FSDataInputStream;\n    import org.apache.hadoop.fs.FileSystem;\n    import org.apache.hadoop.fs.Path;\n    import org.apache.hadoop.io.IOUtils;\n    import org.apache.hadoop.io.LongWritable;\n    import org.apache.hadoop.io.NullWritable;\n    import org.apache.hadoop.io.Text;\n    import org.apache.hadoop.mapreduce.Mapper;\n    \n    import java.io.BufferedReader;\n    import java.io.IOException;\n    import java.io.InputStreamReader;\n    import java.net.URI;\n    import java.util.HashMap;\n    import java.util.Map;\n    \n    public class MJMapper extends Mapper<LongWritable, Text, Text, NullWritable> {\n    \n        private Map<String, String> pMap = new HashMap<>();\n    \n        private Text k = new Text();\n    \n        @Override\n        protected void setup(Mapper<LongWritable, Text, Text, NullWritable>.Context context) throws IOException, InterruptedException {\n            //è¯»åpd.txtå°pMap\n            //å¼æµ\n            URI[] cacheFiles = context.getCacheFiles();  //è¯»ååå¸å¼ç¼å­æä»¶è·¯å¾æ°ç»\n            FileSystem fileSystem = FileSystem.get(context.getConfiguration());\n            FSDataInputStream pd = fileSystem.open(new Path(cacheFiles[0])); //pdæä»¶\n    \n            //å°æä»¶æè¡å¤ç è¯»åå°pMapä¸­\n            BufferedReader br = new BufferedReader(new InputStreamReader(pd)); //å°å­èæµè½¬ä¸ºå­ç¬¦æµ\n            String line;\n            while (StringUtils.isNotEmpty(line = br.readLine())) {\n                String[] split = line.split("\\t");\n                pMap.put(split[0], split[1]); //è½¬ä¸ºmapéå\n            }\n            IOUtils.closeStream(br);\n        }\n    \n        //å¤çorder.txtçæ°æ®\n        @Override\n        protected void map(LongWritable key, Text value, Mapper<LongWritable, Text, Text, NullWritable>.Context context) throws IOException, InterruptedException {\n            String[] split = value.toString().split("\\t");\n    \n            k.set(split[0] + "\\t" + pMap.get(split[1]) + "\\t" + split[2]); //ä»mapä¸­æ ¹æ®pidè·åvalueæ¿æ¢\n            context.write(k,NullWritable.get());\n        }\n    }\n    \n    \n    1\n    2\n    3\n    4\n    5\n    6\n    7\n    8\n    9\n    10\n    11\n    12\n    13\n    14\n    15\n    16\n    17\n    18\n    19\n    20\n    21\n    22\n    23\n    24\n    25\n    26\n    27\n    28\n    29\n    30\n    31\n    32\n    33\n    34\n    35\n    36\n    37\n    38\n    39\n    40\n    41\n    42\n    43\n    44\n    45\n    46\n    47\n    48\n    49\n    50\n    51\n    52\n    \n\n\n\n 1. mapJoinæçæ¯ReduceJoiné«\n 2. mapJoinå ä¸ºæ¯æåç¼å­æ°æ®å°åå­ä¸­ å¦ææ°æ®éåºå¤§é£ä¹åæ æ³ä½¿ç¨\n\n\n# æ°æ®æ¸æ´(ETL)åè®¡æ°å¨\n\nå¨è¿è¡æ ¸å¿ä¸å¡MapReduceç¨åºä¹åï¼å¾å¾è¦åå¯¹æ°æ®è¿è¡æ¸æ´ï¼æ¸çæä¸ç¬¦åç¨æ·è¦æ±çæ°æ®ãæ¸ççè¿ç¨å¾å¾åªéè¦è¿è¡Mapperç¨åºï¼ä¸éè¦è¿è¡Reduceç¨åº\n\n 1. åå»ºæä¸¾ç±» æ¹ä¾¿æé è®¡æ°å¨\n    \n    package com.etl;\n    \n    public enum ETL {\n        PASS,FAIL\n    }\n    \n    \n    1\n    2\n    3\n    4\n    5\n    \n\n 2. mapperç±» å¨setupæ¹æ³ä¸­æé Counter è®¡æ°å¨ å¨mapä¸­éè¿æ°æ®æ¸æ´ è®¡ç®åºç¬¦åæ¡ä»¶çæ¡æ°\n    \n    package com.etl;\n    \n    import org.apache.hadoop.io.LongWritable;\n    import org.apache.hadoop.io.NullWritable;\n    import org.apache.hadoop.io.Text;\n    import org.apache.hadoop.mapreduce.Counter;\n    import org.apache.hadoop.mapreduce.Mapper;\n    \n    import java.io.IOException;\n    \n    public class ETLMapper extends Mapper<LongWritable, Text, Text, NullWritable> {\n    \n        private Counter pass;\n        private Counter fail;\n    \n    \n        @Override\n        protected void setup(Mapper<LongWritable, Text, Text, NullWritable>.Context context) throws IOException, InterruptedException {\n    //        pass = context.getCounter("ETL", "PASS"); //éè¿ä¸ä¸ææé ä¸ä¸ªè®¡æ°å¨å¯¹è±¡\n    //        fail = context.getCounter("ETL", "Fail");  //éè¿key valueèµå¼\n            pass = context.getCounter(ETL.PASS); //éè¿ä¸ä¸ææé ä¸ä¸ªè®¡æ°å¨å¯¹è±¡\n            fail = context.getCounter(ETL.FAIL);  //éè¿æä¸¾ç±»æ¥æé \n    \n        }\n    \n        //å¤æ­æ¥å¿æ¯å¦éè¦æ¸æ´\n        @Override\n        protected void map(LongWritable key, Text value, Mapper<LongWritable, Text, Text, NullWritable>.Context context) throws IOException, InterruptedException {\n    \n            String[] splits = value.toString().split(" ");\n            if (splits.length > 11) {\n                context.write(value, NullWritable.get());\n                pass.increment(1); //è®¡æ°å¨+1\n            } else {\n                fail.increment(1); //ä¸ç¬¦åæ¡ä»¶çè®¡æ°å¨+1\n            }\n            //æ­¤å¤æ²¡æä½ä¸ä¸æåå¥ é»è®¤ä¸ºä¸æ¹åä¼ éç»reduce\n    \n        }\n    }\n    \n    \n    1\n    2\n    3\n    4\n    5\n    6\n    7\n    8\n    9\n    10\n    11\n    12\n    13\n    14\n    15\n    16\n    17\n    18\n    19\n    20\n    21\n    22\n    23\n    24\n    25\n    26\n    27\n    28\n    29\n    30\n    31\n    32\n    33\n    34\n    35\n    36\n    37\n    38\n    39\n    40\n    \n\n 3. é©±å¨ç±»\n    \n    package com.etl;\n    \n    import org.apache.hadoop.conf.Configuration;\n    import org.apache.hadoop.fs.Path;\n    import org.apache.hadoop.io.LongWritable;\n    import org.apache.hadoop.io.NullWritable;\n    import org.apache.hadoop.io.Text;\n    import org.apache.hadoop.mapreduce.Job;\n    import org.apache.hadoop.mapreduce.lib.input.FileInputFormat;\n    import org.apache.hadoop.mapreduce.lib.output.FileOutputFormat;\n    \n    import java.io.IOException;\n    \n    public class ETLDriver {\n        public static void main(String[] args) throws IOException, InterruptedException, ClassNotFoundException {\n            Job job = Job.getInstance(new Configuration());\n    \n            job.setJarByClass(ETLDriver.class);\n    \n            job.setMapperClass(ETLMapper.class);\n            job.setNumReduceTasks(0);\n    \n            job.setMapOutputKeyClass(Text.class);\n            job.setMapOutputValueClass(NullWritable.class);\n    \n            FileInputFormat.setInputPaths(job, new Path("d:/input"));\n            FileOutputFormat.setOutputPath(job, new Path("d:/output"));\n    \n            boolean b = job.waitForCompletion(true);\n            System.exit(b ? 0 : 1);\n    \n    \n        }\n    }\n    \n    \n    1\n    2\n    3\n    4\n    5\n    6\n    7\n    8\n    9\n    10\n    11\n    12\n    13\n    14\n    15\n    16\n    17\n    18\n    19\n    20\n    21\n    22\n    23\n    24\n    25\n    26\n    27\n    28\n    29\n    30\n    31\n    32\n    33\n    34\n    \n\n\n\nFailä¸ºç¬¦åæ¡ä»¶çåå®¹æ¡æ°\n\nPASSä¸ºä¸ç¬¦åæ¡ä»¶çåå®¹æ¡æ°\n\n\n# æ»ç»\n\n 1. è¾å¥æ°æ®æ¥å£: InputFormat\n    \n    * é»è®¤ä½¿ç¨çå®ç°æ¯: TextInputFormat\n    * TextInputFormatçåè½é»è¾æ¯: ä¸æ¬¡è¯»ä¸è¡ææ¬ ç¶åå°è¯¥è¡çèµ·å§åç§»éä½ä¸ºkey è¡åå®¹ä½ä¸ºvaluieè¿å\n    * KeyVlaueTextInputFormatæ¯ä¸è¡åä¸ºä¸æ¡è®°å½ è¢«åéç¬¦åå²ä¸ºkey value é»è®¤çåéç¬¦ä¸º \\t\n    * NlineInputFormat æç§æå®çè¡æ°Næ¥åååç\n    * CombineTextInputFormatå¯ä»¥æå¤ä¸ªå°æä»¶åå¹¶æä¸ä¸ªåçå¤ç æé«å¤çæç\n    * ç¨æ·è¿å¯ä»¥èªå®ä¹InputFormat\n\n 2. é»è¾å¤çæ¥å£: Mapper\n    \n    * æ ¹æ®ä¸å¡éæ±å®ç° map() setup cleanup() è¿ä¸ä¸ªæ¹æ³\n\n 3. Partitionerååº\n    \n    * é»è®¤å®ç°ç±» HashPartitioner é»è¾æ¯æ ¹æ®keyçåå¸å¼ å numReducesæ¥è¿åä¸ä¸ªååºå·\n      \n      (key.hashCode() & Integer.MAXVALUE) % numReduces\n    \n    * å¯ä»¥èªå®ä¹ååº\n\n 4. Comparable æåº\n    \n    * å½æä»¬ç¨èªå®ä¹çå¯¹è±¡ä½ä¸ºkeyæ¥è¾åºæ¶ å¿é¡»è¦å®ç° WritableComparableæ¥å£ éåå¶ä¸­çcompareTo()æ¹æ³\n    * é¨åæåº: å¯¹æç»è¾åºçæ¯ä¸ªæä»¶è¿è¡åé¨æåº\n    * å¨æåº:å¯¹æææ°æ®è¿è¡æåº éå¸¸åªæä¸ä¸ªReduse\n    * äºæ¬¡æåº: æåºçæ¡ä»¶æä¸¤ä¸ª\n\n 5. Combiner åå¹¶\n    \n    * Combineråå¹¶å¯ä»¥æé«ç¨åºçæç,åå°IOä¼ è¾.ä½æ¯ä½¿ç¨æ¶å¿é¡»ä¸è½å½±ååæçä¸å¡å¤çç»æ\n\n 6. Reduceç«¯åç»\n    \n    * GroupingComparator å¨Reduceç«¯å¯¹keyè¿è¡åç» åºç¨äº:å¨æ¥æ¶çkeyä¸ºbeanå¯¹è±¡æ¶,æ³è®©ä¸ä¸ªæå ä¸ªå­æ®µç¸å(å¨é¨å­æ®µæ¯è¾ä¸ç¸å)çkeyè¿å¥å°åä¸ä¸ªreduceæ¹æ³æ¶,å¯ä»¥éç¨åç»æåº\n\n 7. é»è¾å¤çæ¥å£ Reducer\n    \n    * æ ¹æ®ä¸å¡éæ±å®ç° reduce() setup cleanup() è¿ä¸ä¸ªæ¹æ³\n\n 8. è¾åºæ°æ®æ¥å£ OutputFormat\n    \n    * é»è®¤å®ç°ç±»æ¯TextOutputFormat åè½é»è¾æ¯ å°æ¯ä¸ä¸ªé®å¼å¯¹ æ³ç®æ ææ¬æä»¶è¾åºä¸è¡\n    * å°SequenceFileOutputFormatè¾åºä½ä¸ºåç»­MapReduceä»»å¡çè¾å¥,è¿ä¸ªæ¯ä¸ç§æ¯è¾å¥½çè¾åºæ ¼å¼,yæå®æ ¼å¼ç´§å å®¹æè¢«åç¼©\n    * å¯ä»¥èªå®ä¹OutputFormat',normalizedContent:'# mapreduceåç\n\néè¿åé¢çhadoopåºåå æ­¤å¤é¾ä»¥çè§£\n\n\n\n\n\n\n\n\n# inputformat æ°æ®è¾å¥\n\n\n\n\n# fileinputformatåçæºç \n\n\n\n\n\n\n\n\n# combinetextinputformatåçæºå¶\n\næ¡æ¶é»è®¤çtextinputformatåçæºå¶æ¯å¯¹ä»»å¡ææä»¶è§ååçï¼ä¸ç®¡æä»¶å¤å°ï¼é½ä¼æ¯ä¸ä¸ªåç¬çåçï¼é½ä¼äº¤ç»ä¸ä¸ªmaptaskï¼è¿æ ·å¦ææå¤§éå°æä»¶ï¼å°±ä¼äº§çå¤§éçmaptaskï¼å¤çæçæå¶ä½ä¸ã\n\n\n\n\n# èªå®ä¹inputformat\n\ndriver\n\npackage com.inputformat;\n\nimport org.apache.hadoop.conf.configuration;\nimport org.apache.hadoop.fs.path;\nimport org.apache.hadoop.io.byteswritable;\nimport org.apache.hadoop.io.text;\nimport org.apache.hadoop.mapreduce.job;\nimport org.apache.hadoop.mapreduce.lib.input.fileinputformat;\nimport org.apache.hadoop.mapreduce.lib.output.fileoutputformat;\nimport org.apache.hadoop.mapreduce.lib.output.sequencefileoutputformat;\n\nimport java.io.ioexception;\n\npublic class myinputdriver {\n    public static void main(string[] args) throws ioexception, interruptedexception, classnotfoundexception {\n        job job = job.getinstance(new configuration());\n\n        job.setjarbyclass(myinputdriver.class);\n\n        job.setmapoutputkeyclass(text.class);\n        job.setmapoutputvalueclass(byteswritable.class);\n\n        job.setoutputkeyclass(text.class);\n        job.setoutputvalueclass(byteswritable.class);\n\n        job.setinputformatclass(myinputformat.class);\n        job.setoutputformatclass(sequencefileoutputformat.class);\n\n        fileinputformat.setinputpaths(job, new path("d:/input"));\n        fileoutputformat.setoutputpath(job, new path("d:/output"));\n\n        boolean b = job.waitforcompletion(true);\n        system.exit(b ? 0 : 1);\n\n    }\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n26\n27\n28\n29\n30\n31\n32\n33\n34\n35\n36\n\n\ninputformat\n\npackage com.inputformat;\n\nimport org.apache.hadoop.io.byteswritable;\nimport org.apache.hadoop.io.text;\nimport org.apache.hadoop.mapreduce.inputsplit;\nimport org.apache.hadoop.mapreduce.recordreader;\nimport org.apache.hadoop.mapreduce.taskattemptcontext;\nimport org.apache.hadoop.mapreduce.lib.input.fileinputformat;\n\nimport java.io.ioexception;\n\npublic class myinputformat extends fileinputformat<text, byteswritable> {\n    /**\n     * è¿åä¸ä¸ªèªå®ä¹recordreader\n     * @param inputsplit\n     * @param taskattemptcontext\n     * @return\n     * @throws ioexception\n     * @throws interruptedexception\n     */\n    @override\n    public recordreader<text, byteswritable> createrecordreader(inputsplit inputsplit, taskattemptcontext taskattemptcontext) throws ioexception, interruptedexception {\n        return new myrecordreader();\n    }\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n\n\nrecordreader\n\npackage com.inputformat;\n\nimport org.apache.hadoop.fs.fsdatainputstream;\nimport org.apache.hadoop.fs.filesystem;\nimport org.apache.hadoop.io.byteswritable;\nimport org.apache.hadoop.io.ioutils;\nimport org.apache.hadoop.io.text;\nimport org.apache.hadoop.mapreduce.inputsplit;\nimport org.apache.hadoop.mapreduce.recordreader;\nimport org.apache.hadoop.mapreduce.taskattemptcontext;\nimport org.apache.hadoop.mapreduce.lib.input.filesplit;\n\nimport java.io.ioexception;\n\n//è´è´£å°æ´ä¸ªæä»¶è½¬åæä¸ç»key valueå¯¹\npublic class myrecordreader extends recordreader<text, byteswritable> {\n\n    //æä»¶æ¯å¦è¯»å® é»è®¤ä¸ºfalse\n    private boolean isread;\n\n    //é®å¼å¯¹\n    private text key=new text();\n    private byteswritable value= new byteswritable();\n\n    fsdatainputstream inputstream;\n    filesplit fs;\n\n\n    /**\n     * åå§åæ¹æ³ ä¸è¬æ§è¡ä¸äºåå§åæä½\n     *\n     * @param inputsplit\n     * @param taskattemptcontext\n     * @throws ioexception\n     * @throws interruptedexception\n     */\n    @override\n    public void initialize(inputsplit inputsplit, taskattemptcontext taskattemptcontext) throws ioexception, interruptedexception {\n        //å¼æµ\n        fs = (filesplit) inputsplit;//å¼ºè½¬ä¸ºå®ç°å­ç±»\n        filesystem filesystem = filesystem.get(taskattemptcontext.getconfiguration()); //è·åconfigå¯¹è±¡\n        inputstream = filesystem.open(fs.getpath());//è·åè·¯å¾\n\n    }\n\n    /**\n     * è¯»åä¸ä¸ä¸ªé®å¼å¯¹ æ¯å¦å­å¨\n     *\n     * @return\n     * @throws ioexception\n     * @throws interruptedexception\n     */\n    @override\n    public boolean nextkeyvalue() throws ioexception, interruptedexception {\n        if (!isread){\n            //è¯»åè¿ä¸ªæä»¶\n\n            //å¡«åkey\n            key.set(fs.getpath().tostring()); //keyè·¯å¾\n            //value\n            byte[] buffer = new byte[(int) fs.getlength()];\n            value.set(buffer,0,buffer.length);\n            //æ è®°æä»¶è¯»å®\n            isread = true;\n            return true;\n        }\n        return false;\n    }\n\n    /*\n    è·åå½åkey\n     */\n    @override\n    public text getcurrentkey() throws ioexception, interruptedexception {\n        return key;\n    }\n\n    //è·åå½åvalue\n    @override\n    public byteswritable getcurrentvalue() throws ioexception, interruptedexception {\n        return value;\n    }\n\n    /**\n     * æ¾ç¤ºè¿åº¦\n     *\n     * @return\n     * @throws ioexception\n     * @throws interruptedexception\n     */\n    @override\n    public float getprogress() throws ioexception, interruptedexception {\n        return isread ? 0 : 1;\n    }\n\n    /*\n    å³é­æ¹æ³\n     */\n    @override\n    public void close() throws ioexception {\n        ioutils.closestream(inputstream);  //å³æµ\n    }\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n26\n27\n28\n29\n30\n31\n32\n33\n34\n35\n36\n37\n38\n39\n40\n41\n42\n43\n44\n45\n46\n47\n48\n49\n50\n51\n52\n53\n54\n55\n56\n57\n58\n59\n60\n61\n62\n63\n64\n65\n66\n67\n68\n69\n70\n71\n72\n73\n74\n75\n76\n77\n78\n79\n80\n81\n82\n83\n84\n85\n86\n87\n88\n89\n90\n91\n92\n93\n94\n95\n96\n97\n98\n99\n100\n101\n102\n103\n\n\n\n# shuffle(æ··æ´) æ´çæ°æ®\n\nmapreduceæ¡æ¶ä¼ç¡®ä¿æ¯ä¸ä¸ªreducerçè¾å¥é½æ¯ækeyè¿è¡æåºçãä¸è¬ï¼å°æåºä»¥åmapçè¾åºä¼ è¾å°reduceçè¿ç¨ç§°ä¸ºæ··æ´ï¼shuffle)ãæ¯ä¸ä¸ªmapé½åå«ä¸ä¸ªç¯å½¢çç¼å­ï¼é»è®¤100mï¼mapé¦åå°è¾åºåå°ç¼å­å½ä¸­ãå½ç¼å­çåå®¹è¾¾å°âéå¼âæ¶ï¼éå¼é»è®¤çå¤§å°æ¯ç¼å­ç80%ï¼ï¼ä¸ä¸ªåå°çº¿ç¨è´è´£å°ç»æåå°ç¡¬çï¼è¿ä¸ªè¿ç¨ç§°ä¸ºâspillâãspillè¿ç¨ä¸­ï¼mapä»å¯ä»¥åç¼å­åå¥ç»æï¼å¦æç¼å­å·²ç»åæ»¡ï¼é£ä¹mapè¿è¡ç­å¾ã\n\nmapæ¹æ³ä¹åï¼reduceæ¹æ³ä¹åçæ°æ®å¤çè¿ç¨ç§°ä¹ä¸ºshuffleã\n\n\n\nshuffleå°mapä¸­æ åºçé®å¼å¯¹,ååº æåº å½å¹¶åè¾åºç»reduce\n\nshuffleé¶æ®µæ°æ®æ¯å­æ¾å¨åå­(æ )ä¸­,å¦ææ°æ®åæ»¡äºç¼å²åº,åä¼è¿è¡ååº å¹¶æåº ç¶åè¿è¡å½å¹¶æåº å¹¶ä¸åå¥ç£ççæä½,ä»¥éæ¾ç¼å²åº è®©æ°æ°æ®è¿å¥ç¼å²åº\n\nä¸æ¬¡æåºæ¯å¤æ¬¡æåºæçè¦é« å ä¸ºå½å¹¶æ¬¡æ°è¶å¤æçä¸é ä½å¦ææ¯æ°æ®éåºå¤§ æä»¬åªæçºç²æ¶é´æ¥æ¢åç©ºé´\n\n\n# partitionååº\n\nå®ä½ç±»\n\npackage com.flow;\n\nimport org.apache.hadoop.io.writable;\n\nimport java.io.datainput;\nimport java.io.dataoutput;\nimport java.io.ioexception;\n\npublic class flowbean implements writable {\n    private long upflow;\n    private long downflow;\n    private long sumflow;\n\n    @override\n    public string tostring() {\n        return upflow + "\\t" + downflow + "\\t" + sumflow;\n    }\n\n    public void set(long upflow, long downflow) {\n        this.downflow = downflow;\n        this.upflow = upflow;\n        this.sumflow = upflow + downflow;\n    }\n\n\n    public long getupflow() {\n        return upflow;\n    }\n\n    public void setupflow(long upflow) {\n        this.upflow = upflow;\n    }\n\n    public long getdownflow() {\n        return downflow;\n    }\n\n    public void setdownflow(long downflow) {\n        this.downflow = downflow;\n    }\n\n    public long getsumflow() {\n        return sumflow;\n    }\n\n    public void setsumflow(long sumflow) {\n        this.sumflow = sumflow;\n    }\n\n    /**\n     * å°å¯¹è±¡æ°æ®ååºå°æ¡æ¶æå®å°æ¹  åºåå\n     *\n     * @param dataoutput æ°æ®çå®¹å¨\n     * @throws ioexception\n     */\n    @override\n    public void write(dataoutput dataoutput) throws ioexception {\n        dataoutput.writelong(upflow);\n        dataoutput.writelong(downflow);\n        dataoutput.writelong(sumflow);\n    }\n\n\n    /**\n     * ä»æ¡æ¶æå®å°æ¹è¯»åæ°æ®å¡«åå¯¹è±¡  ååºåå\n     *\n     * @param datainput\n     * @throws ioexception\n     */\n    @override\n    public void readfields(datainput datainput) throws ioexception {\n        //è¯»åé¡ºåºè¦ä¸è´\n        this.upflow = datainput.readlong();\n        this.downflow = datainput.readlong();\n        this.sumflow = datainput.readlong();\n    }\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n26\n27\n28\n29\n30\n31\n32\n33\n34\n35\n36\n37\n38\n39\n40\n41\n42\n43\n44\n45\n46\n47\n48\n49\n50\n51\n52\n53\n54\n55\n56\n57\n58\n59\n60\n61\n62\n63\n64\n65\n66\n67\n68\n69\n70\n71\n72\n73\n74\n75\n76\n77\n\n\nååºç±»\n\npackage com.partitioner;\n\nimport com.flow.flowbean;\nimport org.apache.hadoop.io.text;\nimport org.apache.hadoop.mapreduce.partitioner;\n\npublic class mypartitioner extends partitioner<text, flowbean> {\n    /**\n     * å¯¹æ¯ä¸ä¸ªé®å¼å¯¹ è¿åå¯¹åºçååºå·\n     *\n     * @param text ææºå·\n     * @param flowbean æµé\n     * @param numpartitions\n     * @return\n     */\n    @override\n    public int getpartition(text text, flowbean flowbean, int numpartitions) {\n        switch (text.tostring().substring(0, 3)) {  //æ ¹æ®ææºå·å3ä½\n            case "136":\n                return 0;\n            case "137":\n                return 1;\n            case "138":\n                return 2;\n            case "139":\n                return 3;\n            default:\n                return 4;\n        }\n    }\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n26\n27\n28\n29\n30\n31\n\n\né©±å¨ç±»\n\npackage com.partitioner;\n\nimport com.flow.flowbean;\nimport com.flow.flowmapper;\nimport com.flow.flowreducer;\nimport org.apache.hadoop.conf.configuration;\nimport org.apache.hadoop.fs.path;\nimport org.apache.hadoop.io.text;\nimport org.apache.hadoop.mapreduce.job;\nimport org.apache.hadoop.mapreduce.lib.input.fileinputformat;\nimport org.apache.hadoop.mapreduce.lib.output.fileoutputformat;\n\nimport java.io.ioexception;\n\npublic class newflowdriver {\n\n    public static void main(string[] args) throws ioexception, interruptedexception, classnotfoundexception {\n        job job = job.getinstance(new configuration());\n\n        job.setjarbyclass(newflowdriver.class);\n\n        job.setmapperclass(flowmapper.class);\n        job.setreducerclass(flowreducer.class);\n\n        job.setmapoutputkeyclass(text.class);\n        job.setmapoutputvalueclass(flowbean.class);\n\n        job.setnumreducetasks(5); //è®¾ç½®ååºæ°/å¹¶è¡æ°\n        job.setpartitionerclass(mypartitioner.class);  //è®¾ç½®ååºç±»\n\n\n        job.setoutputkeyclass(text.class);\n        job.setoutputvalueclass(flowbean.class);\n\n        fileinputformat.setinputpaths(job, new path("file:///d:/input"));\n        fileoutputformat.setoutputpath(job, new path("file:///d:/output"));\n\n        boolean completion = job.waitforcompletion(true);\n        system.exit(completion ? 0 : 1);\n    }\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n26\n27\n28\n29\n30\n31\n32\n33\n34\n35\n36\n37\n38\n39\n40\n41\n\n\n\n# writablecomparable æåº\n\nwritablecomparable æ¯mapreduceä¸­é»è®¤çæåºæ¥å£ å®ç°ç±»ä¸ºwritablecomparator\n\nmaptaskåreducetaskåä¼å¯¹æ°æ®æç§keyè¿è¡æåº hadoopçé»è®¤è¡ä¸º é»è®¤æåºä¸ºå­å¸é¡ºåºæåº åºå±ä¸ºå¿«éæåº\n\nå¦æè¦éåæåºæ¹æ³ åè®©å®ä½ç±»ç»§æ¿writablecomparableæ¥å£ å¹¶å®ç°comparetoæ¹æ³\n\nå®ç°ç±»\n\npackage com.compare;\n\nimport org.apache.hadoop.io.writable;\nimport org.apache.hadoop.io.writablecomparable;\n\nimport java.io.datainput;\nimport java.io.dataoutput;\nimport java.io.ioexception;\n\n//å®ç°writablecomparableæ¥å£\npublic class flowbean implements writablecomparable<flowbean> {\n    private long upflow;\n    private long downflow;\n    private long sumflow;\n\n    @override\n    public string tostring() {\n        return upflow + "\\t" + downflow + "\\t" + sumflow;\n    }\n\n    public void set(long upflow, long downflow) {\n        this.downflow = downflow;\n        this.upflow = upflow;\n        this.sumflow = upflow + downflow;\n    }\n\n\n    public long getupflow() {\n        return upflow;\n    }\n\n    public void setupflow(long upflow) {\n        this.upflow = upflow;\n    }\n\n    public long getdownflow() {\n        return downflow;\n    }\n\n    public void setdownflow(long downflow) {\n        this.downflow = downflow;\n    }\n\n    public long getsumflow() {\n        return sumflow;\n    }\n\n    public void setsumflow(long sumflow) {\n        this.sumflow = sumflow;\n    }\n\n    /**\n     * å°å¯¹è±¡æ°æ®ååºå°æ¡æ¶æå®å°æ¹  åºåå\n     *\n     * @param dataoutput æ°æ®çå®¹å¨\n     * @throws ioexception\n     */\n    @override\n    public void write(dataoutput dataoutput) throws ioexception {\n        dataoutput.writelong(upflow);\n        dataoutput.writelong(downflow);\n        dataoutput.writelong(sumflow);\n    }\n\n\n    /**\n     * ä»æ¡æ¶æå®å°æ¹è¯»åæ°æ®å¡«åå¯¹è±¡  ååºåå\n     *\n     * @param datainput\n     * @throws ioexception\n     */\n    @override\n    public void readfields(datainput datainput) throws ioexception {\n        //è¯»åé¡ºåºè¦ä¸è´\n        this.upflow = datainput.readlong();\n        this.downflow = datainput.readlong();\n        this.sumflow = datainput.readlong();\n    }\n\n    //æ¯è¾å¨\n    @override\n    public int compareto(flowbean o) {\n//        if (this.sumflow < o.sumflow) {\n//            return 1;  //éåº\n//        } else if (\n//                this.sumflow == o.sumflow\n//        ) {\n//            return 0;\n//        }\n//        return -1;  //ååº\n        return long.compare(o.sumflow,this.sumflow);\n    }\n}\n\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n26\n27\n28\n29\n30\n31\n32\n33\n34\n35\n36\n37\n38\n39\n40\n41\n42\n43\n44\n45\n46\n47\n48\n49\n50\n51\n52\n53\n54\n55\n56\n57\n58\n59\n60\n61\n62\n63\n64\n65\n66\n67\n68\n69\n70\n71\n72\n73\n74\n75\n76\n77\n78\n79\n80\n81\n82\n83\n84\n85\n86\n87\n88\n89\n90\n91\n92\n93\n94\n\n\nmapperç±»\n\npackage com.compare;\n\nimport org.apache.hadoop.io.longwritable;\nimport org.apache.hadoop.io.text;\nimport org.apache.hadoop.mapreduce.mapper;\n\nimport java.io.ioexception;\n\npublic class comparemapper extends mapper<longwritable, text,flowbean,text> {\n    private text phone =new text();\n    private flowbean flow = new flowbean();\n\n\n    @override\n    protected void map(longwritable key, text value, mapper<longwritable, text, flowbean, text>.context context) throws ioexception, interruptedexception {\n        //ä¸è¡æ°æ®\n        string line = value.tostring();\n\n\n        //åå\n        string[] fields = line.split("\\t");\n\n        //å°è£\n        phone.set(fields[0]);\n        flow.setupflow(long.parselong(fields[1]));\n        flow.setdownflow(long.parselong(fields[2]));\n        flow.setsumflow(long.parselong(fields[3]));\n\n        //åå°ä¸ä¸æ\n        context.write(flow,phone);\n    }\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n26\n27\n28\n29\n30\n31\n32\n\n\nreducerç±»\n\npackage com.compare;\n\nimport org.apache.hadoop.io.text;\nimport org.apache.hadoop.mapreduce.reducer;\n\nimport java.io.ioexception;\n\n//æ¶çæ°æ®ä¸º æµékey  ææºå·value  è¾åºä¸º ææºkey æµévalue\npublic class comparereducer extends reducer<flowbean, text,text,flowbean> {\n    /**\n     * reduceæ¶å°çæ°æ®å·²ç»æå®åºäº æä»¬åªéè¦å°é®åå¼ åçè¾åºå°æä»¶ä¸­å°±å¯ä»¥\n     * @param key\n     * @param values\n     * @param context\n     * @throws ioexception\n     * @throws interruptedexception\n     */\n    @override\n    protected void reduce(flowbean key, iterable<text> values, reducer<flowbean, text, text, flowbean>.context context) throws ioexception, interruptedexception {\n        for (text value : values) {\n            context.write(value,key);\n        }\n    }\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n\n\né©±å¨ç±»\n\npackage com.compare;\n\nimport com.partitioner.mypartitioner;\nimport org.apache.hadoop.conf.configuration;\nimport org.apache.hadoop.fs.path;\nimport org.apache.hadoop.io.text;\nimport org.apache.hadoop.io.writablecomparator;\nimport org.apache.hadoop.mapreduce.job;\nimport org.apache.hadoop.mapreduce.lib.input.fileinputformat;\nimport org.apache.hadoop.mapreduce.lib.output.fileoutputformat;\n\nimport java.io.ioexception;\n\npublic class comparedriver {\n    public static void main(string[] args) throws ioexception, interruptedexception, classnotfoundexception {\n        job job = job.getinstance(new configuration());\n\n        job.setjarbyclass(comparedriver.class);\n\n        job.setmapperclass(comparemapper.class);\n        job.setreducerclass(comparereducer.class);\n\n        job.setmapoutputkeyclass(flowbean.class);\n        job.setmapoutputvalueclass(text.class);\n\n//        job.setsortcomparatorclass(writablecomparator.class);  //é»è®¤æåº\n//        job.setgroupingcomparatorclass(writablecomparator.class);  //ååºæåºä¹æ¯ä½¿ç¨è¿ä¸ªcomparatoç±»\n\n\n        job.setoutputkeyclass(text.class);\n        job.setoutputvalueclass(flowbean.class);\n\n        fileinputformat.setinputpaths(job, new path("file:///d:/output"));\n        fileoutputformat.setoutputpath(job, new path("file:///d:/output2"));\n\n        boolean completion = job.waitforcompletion(true);\n        system.exit(completion ? 0 : 1);\n    }\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n26\n27\n28\n29\n30\n31\n32\n33\n34\n35\n36\n37\n38\n39\n\n\n\n# rawcomparator æåº\n\nwritablecomparable ç±»å·²ç»å¸®æå®ç°å¥½äºrawcomparator æåºä¸­æ¹æ³ æææä»¬å¯ä»¥ç´æ¥ç»§æ¿writablecomparable èä¸æ¯å®ç°rawcomparator æ¥å£\n\npackage com.compare;\n\nimport org.apache.hadoop.io.writablecomparable;\nimport org.apache.hadoop.io.writablecomparator;\n\npublic class flowcomparator extends writablecomparator {\n    @override\n    public int compare(writablecomparable a, writablecomparable b) {\n        flowbean fa = (flowbean) a;\n        flowbean fb = (flowbean) b;\n        return long.compare(fb.getsumflow(), fa.getsumflow());\n    }\n\n    protected flowcomparator() {\n        super(flowbean.class, true);\n    }\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n\n\né©±å¨ç±»è¦setä¸ºèªå®ä¹åçæåºç±»\n\npackage com.compare;\n\nimport com.partitioner.mypartitioner;\nimport org.apache.hadoop.conf.configuration;\nimport org.apache.hadoop.fs.path;\nimport org.apache.hadoop.io.text;\nimport org.apache.hadoop.io.writablecomparator;\nimport org.apache.hadoop.mapreduce.job;\nimport org.apache.hadoop.mapreduce.lib.input.fileinputformat;\nimport org.apache.hadoop.mapreduce.lib.output.fileoutputformat;\n\nimport java.io.ioexception;\n\npublic class comparedriver {\n    public static void main(string[] args) throws ioexception, interruptedexception, classnotfoundexception {\n        job job = job.getinstance(new configuration());\n\n        job.setjarbyclass(comparedriver.class);\n\n        job.setmapperclass(comparemapper.class);\n        job.setreducerclass(comparereducer.class);\n\n        job.setmapoutputkeyclass(flowbean.class);\n        job.setmapoutputvalueclass(text.class);\n\n//        job.setsortcomparatorclass(writablecomparator.class);  //é»è®¤æåº\n//        job.setgroupingcomparatorclass(writablecomparator.class);  //ååºæåºä¹æ¯ä½¿ç¨è¿ä¸ªcomparatorç±»\n        job.setsortcomparatorclass(flowcomparator.class);  //è®¾ç½®ä¸ºéåçcomparatorç±»\n\n\n        job.setoutputkeyclass(text.class);\n        job.setoutputvalueclass(flowbean.class);\n\n        fileinputformat.setinputpaths(job, new path("file:///d:/output"));\n        fileoutputformat.setoutputpath(job, new path("file:///d:/output2"));\n\n        boolean completion = job.waitforcompletion(true);\n        system.exit(completion ? 0 : 1);\n    }\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n26\n27\n28\n29\n30\n31\n32\n33\n34\n35\n36\n37\n38\n39\n40\n\n\nmappringç±»åå®ä½ç±»ä¸è´ ä½å®ä½ç±»ä¸­çcompareto å ä¸ºjobå·²ç»è®¾ç½®äºèªå®ä¹çæåºç±» ææä¸ä¼æ§è¡å®ä½ç±»ä¸­çcomparetoæ¹æ³\n\n\n# combiner åå¹¶\n\n 1. combineræ¯mrç¨åºä¸­mapperåreducerä¹å¤çä¸ç§ç»ä»¶\n\n 2. combinerç»ä»¶çç¶ç±»å°±æ¯reducer\n\n 3. combineråreducerçåºå«å¨äºè¿è¡çä½ç½®\n    \n    combineræ¯å¨æ¯ä¸ä¸ªmaptaskæå¨å å èç¹è¿è¡\n    \n    reduceræ¯æ¥åå¨å±ææmapperçè¾åºç»æ\n\n 4. combinerçæä¹å°±æ¯å¯¹æ¯ä¸ä¸ªmaptaskçè¾åºè¿è¡å±é¨æ±æ»,ä»¥åå°ç½ç»ä¼ è¾é\n\n 5. combinerè½å¤åºç¨çåææ¯ä¸è½å½±åæç»çä¸å¡é»è¾,èä¸combinerçè¾åºkvåºç¨æ´reducerçè¾å¥kvç±»åå¯¹åºèµ·æ¥\n\næ»ç»:combinerå°±æ¯å¨maptaskæ¶ æåå°æ°æ®åç»å½å¹¶ åå°ç¸åæ°æ®çååº æåº åå½å¹¶,ä½åææ¡ä»¶æ¯åå¹¶åçæ°æ®ä¸å½±åäº§ççç»æ å¦åç©ºé´æ¢åæ¶é´çåæ³ä¸å¯å\n\nä½¿ç¨ å¨driverä¸­ä¼ å¥reducerç±»å¯ç¨ ä¸å½±åreducerçä½¿ç¨\n\njob.setcombinerclass(comparereducer.class); //æåå½å¹¶åç» åå°æ°æ®å¤çæ¶é´\n\n\n1\n\n\n\n# groupingcomparatoråç»\n\ngroupingcomparatoræ¯å¨reduceé¶æ®µåç»æ¥ä½¿ç¨çï¼ç±äºreduceé¶æ®µï¼å¦ækeyç¸åçä¸ç»ï¼åªåç¬¬ä¸ä¸ªkeyä½ä¸ºkeyï¼è¿­ä»£ææçvaluesã å¦æreduceçkeyæ¯èªå®ä¹çbeanï¼æä»¬åªéè¦beanéé¢çæä¸ªå±æ§ç¸åå°±è®¤ä¸ºè¿æ ·çkeyæ¯ç¸åçï¼è¿æ¯æä»¬å°±éè¦ä¹å®ä¹groupcoparatoræ¥âæ¬ºéªâreduceäºã\n\n 1. å®ä½ç±»ç»§æ¿writablecomparableæ¥å£ å®ç°comparetoæ¹æ³\n    \n    package com.grouping;\n    \n    \n    import org.apache.hadoop.io.writablecomparable;\n    \n    import java.io.datainput;\n    import java.io.dataoutput;\n    import java.io.ioexception;\n    \n    public class orderbean implements writablecomparable<orderbean> {\n    \n        private string orderid;\n        private string productid;\n        private double price;\n    \n        @override\n        public string tostring() {\n            return orderid + "\\t" + productid + "\\t" + price;\n        }\n    \n        public string getorderid() {\n            return orderid;\n        }\n    \n        public string getproductid() {\n            return productid;\n        }\n    \n        public void setproductid(string productid) {\n            this.productid = productid;\n        }\n    \n        public double getprice() {\n            return price;\n        }\n    \n        public void setprice(double price) {\n            this.price = price;\n        }\n    \n        public void setorderid(string orderid) {\n            this.orderid = orderid;\n        }\n    \n        //åæè®¢åæåºåæ ¹æ®è®¢åç¸åä»·æ ¼éåº\n        @override\n        public int compareto(orderbean o) {\n            int compare = this.orderid.compareto(o.orderid);  //æ¯è¾è®¢åå·æ¯å¦ç¸å\n            if (compare != 0) {\n                return compare;  //ä¸ç¸ååè¿åå·®å¼\n            } else {\n                return double.compare(o.price, this.price);  //ç¸åæä»·æ ¼ååº\n            }\n        }\n    \n        @override\n        public void write(dataoutput dataoutput) throws ioexception {\n            dataoutput.writeutf(orderid);\n            dataoutput.writeutf(productid);\n            dataoutput.writedouble(price);\n        }\n    \n        @override\n        public void readfields(datainput datainput) throws ioexception {\n    \n        }\n    }\n    \n    \n    1\n    2\n    3\n    4\n    5\n    6\n    7\n    8\n    9\n    10\n    11\n    12\n    13\n    14\n    15\n    16\n    17\n    18\n    19\n    20\n    21\n    22\n    23\n    24\n    25\n    26\n    27\n    28\n    29\n    30\n    31\n    32\n    33\n    34\n    35\n    36\n    37\n    38\n    39\n    40\n    41\n    42\n    43\n    44\n    45\n    46\n    47\n    48\n    49\n    50\n    51\n    52\n    53\n    54\n    55\n    56\n    57\n    58\n    59\n    60\n    61\n    62\n    63\n    64\n    65\n    66\n    67\n    \n\n 2. mapperå°è£æ°æ®å°å®ä½ç±»ä¸­\n    \n    package com.grouping;\n    \n    import org.apache.hadoop.io.longwritable;\n    import org.apache.hadoop.io.nullwritable;\n    import org.apache.hadoop.io.text;\n    import org.apache.hadoop.mapreduce.mapper;\n    \n    import java.io.ioexception;\n    \n    //å°è£orderbean\n    public class ordermapper extends mapper<longwritable, text,orderbean, nullwritable> {\n    \n        private  orderbean order =new orderbean();\n    \n        //mapperå°è£æ¹æ³\n        @override\n        protected void map(longwritable key, text value, mapper<longwritable, text, orderbean, nullwritable>.context context) throws ioexception, interruptedexception {\n            string[] split = value.tostring().split("\\t");\n    \n            order.setorderid(split[0]);\n            order.setproductid(split[1]);\n            order.setprice(double.parsedouble(split[2]));\n    \n            //keyä¸ºä¸ä¸ªorderbean\n            context.write(order,nullwritable.get());\n    \n        }\n    }\n    \n    \n    1\n    2\n    3\n    4\n    5\n    6\n    7\n    8\n    9\n    10\n    11\n    12\n    13\n    14\n    15\n    16\n    17\n    18\n    19\n    20\n    21\n    22\n    23\n    24\n    25\n    26\n    27\n    28\n    \n\n 3. æ¯è¾å¨ ç»§æ¿writablecomparatorå®ç°ç±» éåcompareåæ åæé æ¹æ³\n    \n    package com.grouping;\n    \n    import org.apache.hadoop.io.writablecomparable;\n    import org.apache.hadoop.io.writablecomparator;\n    \n    //æç§è®¢åç¼å·å¯¹æ°æ®è¿è¡åç»\n    public class ordercomparator extends writablecomparator {\n        //æç§ç¸åè®¢åè¿å¥ä¸ç»è¿è¡æ¯è¾\n        @override\n        public int compare(writablecomparable a, writablecomparable b) {\n            orderbean oa = (orderbean) a;\n            orderbean ob = (orderbean) b;\n    \n            return oa.getorderid().compareto(ob.getorderid());\n        }\n    \n        protected ordercomparator() {\n            super(orderbean.class,true);\n        }\n    }\n    \n    \n    1\n    2\n    3\n    4\n    5\n    6\n    7\n    8\n    9\n    10\n    11\n    12\n    13\n    14\n    15\n    16\n    17\n    18\n    19\n    20\n    \n\n 4. reducerç±» æ­¤æ¶keyä¸ºå®ä½ç±» valueä¸ºnull\n    \n    package com.grouping;\n    \n    import org.apache.hadoop.io.nullwritable;\n    import org.apache.hadoop.mapreduce.reducer;\n    \n    import java.io.ioexception;\n    import java.util.iterator;\n    \n    //åæ¯ä¸ªè®¢åçæé«ä»·æ ¼\n    public class orderreducer extends reducer<orderbean, nullwritable,orderbean,nullwritable> {\n    \n    \n        @override\n        protected void reduce(orderbean key, iterable<nullwritable> values, reducer<orderbean, nullwritable, orderbean, nullwritable>.context context) throws ioexception, interruptedexception {\n            iterator<nullwritable> iterator = values.iterator();\n            for (int i = 0; i < 2; i++) { //è¾åºå½åè®¢åç»ä¸­åä¸¤ä¸ªæé«ä»·æ ¼\n                if (iterator.hasnext()){\n                    iterator.next();\n                    context.write(key,nullwritable.get());\n                }\n            }\n        }\n    }\n    \n    \n    1\n    2\n    3\n    4\n    5\n    6\n    7\n    8\n    9\n    10\n    11\n    12\n    13\n    14\n    15\n    16\n    17\n    18\n    19\n    20\n    21\n    22\n    23\n    \n\n 5. é©±å¨ç±» setgroupingcomparatorclasså¼å¯åç»\n    \n    package com.grouping;\n    \n    import com.flow.flowbean;\n    import com.flow.flowdriver;\n    import com.flow.flowmapper;\n    import com.flow.flowreducer;\n    import org.apache.hadoop.conf.configuration;\n    import org.apache.hadoop.fs.path;\n    import org.apache.hadoop.io.nullwritable;\n    import org.apache.hadoop.io.text;\n    import org.apache.hadoop.mapreduce.job;\n    import org.apache.hadoop.mapreduce.lib.input.fileinputformat;\n    import org.apache.hadoop.mapreduce.lib.output.fileoutputformat;\n    \n    import java.io.ioexception;\n    \n    public class orderdriver {\n        public static void main(string[] args) throws ioexception, interruptedexception, classnotfoundexception {\n            job job = job.getinstance(new configuration());\n    \n            job.setjarbyclass(orderdriver.class);\n    \n            job.setmapperclass(ordermapper.class);\n            job.setreducerclass(orderreducer.class);\n    \n            job.setmapoutputkeyclass(orderbean.class);\n            job.setmapoutputvalueclass(nullwritable.class);\n    \n            job.setgroupingcomparatorclass(ordercomparator.class); //åç»æ¯è¾å¨\n    \n            job.setoutputkeyclass(orderbean.class);\n            job.setoutputvalueclass(nullwritable.class);\n    \n            fileinputformat.setinputpaths(job, new path("file:///d:/input"));\n            fileoutputformat.setoutputpath(job, new path("file:///d:/output"));\n    \n            boolean completion = job.waitforcompletion(true);\n            system.exit(completion ? 0 : 1);\n        }\n    }\n    \n    \n    1\n    2\n    3\n    4\n    5\n    6\n    7\n    8\n    9\n    10\n    11\n    12\n    13\n    14\n    15\n    16\n    17\n    18\n    19\n    20\n    21\n    22\n    23\n    24\n    25\n    26\n    27\n    28\n    29\n    30\n    31\n    32\n    33\n    34\n    35\n    36\n    37\n    38\n    39\n    40\n    \n\nä¸é¢reducerä¸­è·åå½åè®¢åç»ä¸­åä¸¤ä¸ªæé«ä»·æ ¼ å©ç¨äºshuffleä¸­æ°æ®åºååçç¹æ§ å¦æå¨åå¥å°ç£çä¸­æ¯æ¬¡è¾åºä¸ä¸ªå¼åå»ºä¸ä¸ªæ å°å®ä½ç±»é£ä¹æçå¤ªä½ä¸ è¿å¥mapperåæ°æ®å°±é»è®¤åé¨åºååäº åå¥å°ç£çæ¶åªéåå»ºä¸æ¬¡æ å°å®ä½ç±»éè¿åºååè¿­ä»£ä¸ä¸ä¸ªé®å¼å¯¹æ¹åå®ä½ç±»çå¼ è¿æ ·æ éå¤æ¬¡åå»ºå®ä½ç±»æµªè´¹èµæº\n\n\n# outputformat æ°æ®è¾åº\n\n\n\n 1. recordç±»\n    \n    package com.outputformat;\n    \n    import org.apache.hadoop.conf.configuration;\n    import org.apache.hadoop.fs.fsdataoutputstream;\n    import org.apache.hadoop.fs.filesystem;\n    import org.apache.hadoop.fs.path;\n    import org.apache.hadoop.io.ioutils;\n    import org.apache.hadoop.io.longwritable;\n    import org.apache.hadoop.io.text;\n    import org.apache.hadoop.mapreduce.recordwriter;\n    import org.apache.hadoop.mapreduce.taskattemptcontext;\n    import org.apache.hadoop.mapreduce.lib.output.fileoutputformat;\n    \n    import java.io.ioexception;\n    import java.nio.charset.standardcharsets;\n    \n    //å°æ°æ®æç§ä¸åå« atguigu çæ°æ® åå«è¾åºå°ä¸¤ä¸ªæä»¶ä¸­\n    public class myrecordwriter extends recordwriter<longwritable, text> {\n        fsdataoutputstream atguigu = null;\n        fsdataoutputstream other = null;\n    \n        public myrecordwriter(taskattemptcontext job) throws ioexception {\n            configuration configuration = job.getconfiguration();//éè¿jobè·åéç½®æä»¶\n            filesystem filesystem = filesystem.get(configuration);  //éè¿éç½®æä»¶è·åæä»¶å¯¹è±¡\n            string outdir = configuration.get(fileoutputformat.outdir);  //è·åéç½®æä»¶ä¸­çè¾åºè·¯å¾å°å\n            atguigu = filesystem.create(new path(outdir + "/atguigu.log"));//æ¼æ¥\n            other = filesystem.create(new path(outdir + "/other.log"));\n        }\n    \n        /**\n         * æ¥åé®å¼å¯¹ å¹¶æç§å¼çä¸åè¾åºå°ä¸åæä»¶ä¸­\n         *\n         * @param key   è¯»åçä¸è¡çåç§»é\n         * @param value è¿ä¸è¡çåå®¹\n         * @throws ioexception\n         * @throws interruptedexception\n         */\n        @override\n        public void write(longwritable key, text value) throws ioexception, interruptedexception {\n            string line = value.tostring() + "\\n";\n            if (line.contains("atguigu")) {//å¤æ­æ­¤è¡æ¯å¦åå«atguigu\n                //å¾atguiguæä»¶ååºæ°æ®\n                atguigu.write(line.getbytes(standardcharsets.utf_8));\n    \n            } else {\n                //å¾otheræä»¶ååºæ°æ®\n                other.write(line.getbytes(standardcharsets.utf_8));\n            }\n        }\n    \n        //å³é­èµæº\n        @override\n        public void close(taskattemptcontext context) throws ioexception, interruptedexception {\n            ioutils.closestream(atguigu);\n            ioutils.closestream(other);\n        }\n    }\n    \n    \n    1\n    2\n    3\n    4\n    5\n    6\n    7\n    8\n    9\n    10\n    11\n    12\n    13\n    14\n    15\n    16\n    17\n    18\n    19\n    20\n    21\n    22\n    23\n    24\n    25\n    26\n    27\n    28\n    29\n    30\n    31\n    32\n    33\n    34\n    35\n    36\n    37\n    38\n    39\n    40\n    41\n    42\n    43\n    44\n    45\n    46\n    47\n    48\n    49\n    50\n    51\n    52\n    53\n    54\n    55\n    56\n    57\n    \n\n 2. outputformatç±»\n    \n    package com.outputformat;\n    \n    import org.apache.hadoop.io.longwritable;\n    import org.apache.hadoop.io.text;\n    import org.apache.hadoop.mapreduce.recordwriter;\n    import org.apache.hadoop.mapreduce.taskattemptcontext;\n    import org.apache.hadoop.mapreduce.lib.output.fileoutputformat;\n    \n    import java.io.ioexception;\n    //mappingé»è®¤è¾åºä¸ºlongwritable, text\n    public class myoutputformat extends fileoutputformat<longwritable, text> {\n        //è¿åä¸ä¸ªå¤çæ°æ®çrecord writer\n        @override\n        public recordwriter<longwritable, text> getrecordwriter(taskattemptcontext job) throws ioexception, interruptedexception {\n            return new myrecordwriter(job);\n        }\n    }\n    \n    \n    1\n    2\n    3\n    4\n    5\n    6\n    7\n    8\n    9\n    10\n    11\n    12\n    13\n    14\n    15\n    16\n    17\n    \n\n 3. driverç±»\n    \n    package com.outputformat;\n    \n    \n    import org.apache.hadoop.conf.configuration;\n    import org.apache.hadoop.fs.path;\n    import org.apache.hadoop.io.intwritable;\n    import org.apache.hadoop.io.longwritable;\n    import org.apache.hadoop.io.text;\n    import org.apache.hadoop.mapreduce.job;\n    import org.apache.hadoop.mapreduce.lib.input.fileinputformat;\n    import org.apache.hadoop.mapreduce.lib.output.fileoutputformat;\n    \n    import java.io.ioexception;\n    \n    public class outputdrive {\n        public static void main(string[] args) throws ioexception, interruptedexception, classnotfoundexception {\n            configuration configuration = new configuration();\n            job job = job.getinstance(configuration);\n    \n            job.setjarbyclass(outputdrive.class);\n    \n            job.setoutputformatclass(myoutputformat.class);\n    \n    \n            fileinputformat.setinputpaths(job, new path("d:/input"));\n            //å¿é¡»ä¿è¯éç½®æä»¶éç½®æ­£å¸¸æè½æ­£å¸¸è¿è¡\n            fileoutputformat.setoutputpath(job, new path("d:/output"));\n    \n            boolean result = job.waitforcompletion(true);\n    \n            system.exit(result ? 0 : 1);\n        }\n    }\n    \n    \n    1\n    2\n    3\n    4\n    5\n    6\n    7\n    8\n    9\n    10\n    11\n    12\n    13\n    14\n    15\n    16\n    17\n    18\n    19\n    20\n    21\n    22\n    23\n    24\n    25\n    26\n    27\n    28\n    29\n    30\n    31\n    32\n    33\n    \n\n\n# reduce join\n\nreduce side joinæ¯ä¸ç§æç®åçjoinæ¹å¼ï¼å¶ä¸»è¦ææ³å¦ä¸ï¼ å¨mapé¶æ®µï¼mapå½æ°åæ¶è¯»åä¸¤ä¸ªæä»¶file1åfile2ï¼ä¸ºäºåºåä¸¤ç§æ¥æºçkey/valueæ°æ®å¯¹ï¼å¯¹æ¯æ¡æ°æ®æä¸ä¸ªæ ç­¾> ï¼tagï¼,æ¯å¦ï¼tag=0è¡¨ç¤ºæ¥èªæä»¶file1ï¼tag=2è¡¨ç¤ºæ¥èªæä»¶file2ãå³ï¼mapé¶æ®µçä¸»è¦ä»»å¡æ¯å¯¹ä¸åæä»¶ä¸­çæ°æ®ææ ç­¾ã> å¨reduceé¶æ®µï¼reduceå½æ°è·åkeyç¸åçæ¥èªfile1åfile2æä»¶çvalue listï¼ ç¶åå¯¹äºåä¸ä¸ªkeyï¼å¯¹file1åfile2ä¸­çæ°æ®è¿è¡joinï¼ç¬å¡å°ä¹ç§¯ï¼ãå³ï¼reduceé¶æ®µè¿è¡å®éçè¿æ¥æä½.\n\n * mapç«¯çä¸»è¦å·¥ä½ï¼ä¸ºæ¥èªä¸åè¡¨ææä»¶çkey/valueå¯¹ï¼ææ ç­¾ä»¥åºå«ä¸åæ¥æºçè®°å½ãç¶åç¨è¿æ¥å­æ®µä½ä¸ºkeyï¼å¶ä½é¨ååæ°å çæ å¿ä½ä¸ºvalueï¼æåè¿è¡è¾åºã\n * reduceç«¯çä¸»è¦å·¥ä½ï¼å¨reduceç«¯ä»¥è¿æ¥å­æ®µä½ä¸ºkeyçåç»å·²ç»å®æï¼æä»¬åªéè¦å¨æ¯ä¸ä¸ªåç»å½ä¸­å°é£äºæ¥æºäºä¸åæä»¶çè®°å½ï¼å¨mapé¶æ®µå·²ç»ææ å¿ï¼åå¼ï¼æåè¿è¡åå¹¶å°±okäºã\n * è¯¥æ¹æ³çç¼ºç¹ï¼è¿ç§æ¹å¼çç¼ºç¹å¾ææ¾å°±æ¯ä¼é æmapåreduceç«¯ä¹å°±æ¯shuffleé¶æ®µåºç°å¤§éçæ°æ®ä¼ è¾ï¼æçå¾ä½ã\n\n\n\n 1. åå»ºå®ä½ç±» å¹¶æåº\n    \n    package com.reducejoin;\n    \n    import org.apache.hadoop.io.writablecomparable;\n    \n    import java.io.datainput;\n    import java.io.dataoutput;\n    import java.io.ioexception;\n    \n    public class orderbean implements writablecomparable<orderbean> {\n    \n        private string id;\n        private string pid;\n        private int amount;\n        private string pname;\n    \n        @override\n        public string tostring() {\n            return id + "\\t" + pname + "\\t" + amount;\n        }\n    \n        public string getid() {\n            return id;\n        }\n    \n        public void setid(string id) {\n            this.id = id;\n        }\n    \n        public string getpid() {\n            return pid;\n        }\n    \n        public void setpid(string pid) {\n            this.pid = pid;\n        }\n    \n        public int getamount() {\n            return amount;\n        }\n    \n        public void setamount(int amount) {\n            this.amount = amount;\n        }\n    \n        public string getpname() {\n            return pname;\n        }\n    \n        public void setpname(string pname) {\n            this.pname = pname;\n        }\n    \n    \n        @override\n        public int compareto(orderbean o) {\n            //æpidåç» ç»åæç§pnameéåºæåº\n            int i = this.pid.compareto(o.pid);\n            if (i !=0){\n                return i;\n            }else {\n                return o.pname.compareto(this.pname);\n            }\n        }\n    \n        @override\n        public void write(dataoutput dataoutput) throws ioexception {\n            dataoutput.writeutf(id);\n            dataoutput.writeutf(pid);\n            dataoutput.writeint(amount);\n            dataoutput.writeutf(pname);\n        }\n    \n        @override\n        public void readfields(datainput datainput) throws ioexception {\n            this.id = datainput.readutf();\n            this.pid = datainput.readutf();\n            this.amount = datainput.readint();\n            this.pname = datainput.readutf();\n        }\n    }\n    \n    \n    1\n    2\n    3\n    4\n    5\n    6\n    7\n    8\n    9\n    10\n    11\n    12\n    13\n    14\n    15\n    16\n    17\n    18\n    19\n    20\n    21\n    22\n    23\n    24\n    25\n    26\n    27\n    28\n    29\n    30\n    31\n    32\n    33\n    34\n    35\n    36\n    37\n    38\n    39\n    40\n    41\n    42\n    43\n    44\n    45\n    46\n    47\n    48\n    49\n    50\n    51\n    52\n    53\n    54\n    55\n    56\n    57\n    58\n    59\n    60\n    61\n    62\n    63\n    64\n    65\n    66\n    67\n    68\n    69\n    70\n    71\n    72\n    73\n    74\n    75\n    76\n    77\n    78\n    79\n    80\n    \n\n 2. mapperç±» æ ¹æ®æä»¶åçä¸åæ¥å°è£å®ä½ç±»ä¸åçå®ç°\n    \n    package com.reducejoin;\n    \n    import org.apache.hadoop.io.longwritable;\n    import org.apache.hadoop.io.nullwritable;\n    import org.apache.hadoop.io.text;\n    import org.apache.hadoop.mapreduce.mapper;\n    import org.apache.hadoop.mapreduce.lib.input.filesplit;\n    \n    import java.io.ioexception;\n    \n    public class ordermapper extends mapper<longwritable, text, orderbean, nullwritable> {\n    \n        private orderbean order = new orderbean();\n        private string filename;  //è·åå½åæä»¶å\n    \n        @override\n        protected void setup(mapper<longwritable, text, orderbean, nullwritable>.context context) throws ioexception, interruptedexception {\n            //è·åæ°æ®æä»¶å\n            filesplit fs = (filesplit) context.getinputsplit();\n            filename = fs.getpath().getname();\n        }\n    \n        @override\n        protected void map(longwritable key, text value, mapper<longwritable, text, orderbean, nullwritable>.context context) throws ioexception, interruptedexception {\n            string[] split = value.tostring().split("\\t");\n    \n            //å°è£,ææ°æ®æ¥æºä¸ååå«å°è£\n            if ("order.txt".equals(filename)){\n                //å°è£order\n                order.setid(split[0]);\n                order.setpid(split[1]);\n                order.setamount(integer.parseint(split[2]));\n                order.setpname(""); //ä¸è½ä¸ºnull\n            }else{\n                //å°è£pd\n                order.setpid(split[0]);\n                order.setpname(split[1]);\n                order.setamount(0);  //ä¸è½ä¸ºnull\n                order.setid("");\n            }\n    \n            context.write(order,nullwritable.get());\n        }\n    }\n    \n    \n    1\n    2\n    3\n    4\n    5\n    6\n    7\n    8\n    9\n    10\n    11\n    12\n    13\n    14\n    15\n    16\n    17\n    18\n    19\n    20\n    21\n    22\n    23\n    24\n    25\n    26\n    27\n    28\n    29\n    30\n    31\n    32\n    33\n    34\n    35\n    36\n    37\n    38\n    39\n    40\n    41\n    42\n    43\n    44\n    \n\n 3. comparator æ ¹æ®pidè¿è¡åç»\n    \n    package com.reducejoin;\n    \n    \n    import org.apache.hadoop.io.writablecomparable;\n    import org.apache.hadoop.io.writablecomparator;\n    \n    //åç»æ¯è¾å¨ æç§orderå¯¹è±¡çpidåç»\n    public class ordercomparator extends writablecomparator {\n    \n        protected ordercomparator() {\n            super(orderbean.class,true);\n        }\n    \n        //æç§pidæ¯è¾aåb\n        @override\n        public int compare(writablecomparable a, writablecomparable b) {\n            orderbean oa= (orderbean) a;\n            orderbean ob= (orderbean) b;\n            return oa.getpid().compareto(ob.getpid());\n    \n        }\n    }\n    \n    \n    1\n    2\n    3\n    4\n    5\n    6\n    7\n    8\n    9\n    10\n    11\n    12\n    13\n    14\n    15\n    16\n    17\n    18\n    19\n    20\n    21\n    22\n    \n\n 4. reducer è¿è¡æ¿æ¢åå¹¶å¤çå¥½/æ å¿å¥½æ°æ®\n    \n    package com.reducejoin;\n    \n    import org.apache.hadoop.io.nullwritable;\n    import org.apache.hadoop.mapreduce.reducer;\n    \n    import java.io.ioexception;\n    import java.util.iterator;\n    \n    //æ°æ®æ¿æ¢å·¥ä½ å°pidæ¢æå¯¹åºçpname\n    public class orderreducer extends reducer<orderbean, nullwritable, orderbean, nullwritable> {\n    \n    \n        @override\n        protected void reduce(orderbean key, iterable<nullwritable> values, reducer<orderbean, nullwritable, orderbean, nullwritable>.context context) throws ioexception, interruptedexception {\n    \n            /*for (nullwritable value : values) {\n            if (!"".equals(key.getpname())){\n                pname=key.getpname();  //éåpanmeæ¥æ¾å½ååç»ä¸­æå¼çpnameå³åç\n                break;  //ä½è¿­ä»£å¨æ æ³è¿è¡ç¬¬äºæ¬¡è¿­ä»£éå\n            }*/\n    \n            //å·²ç»æ ¹æ®pnameåæ¬¡æåº å¹¶è¿è¡åç» ç¬¬ä¸ä¸ªä¸ºéè¦çåçåpname\n            iterator<nullwritable> iterator = values.iterator();\n            iterator.next();\n            string pname = key.getpname(); //è·ååçå\n            while (iterator.hasnext()) {\n                iterator.next();\n                key.setpname(pname); //æ¿æ¢ä¸ºå¯¹åºçåçå\n                context.write(key, nullwritable.get());  //ååº\n            }\n    \n        }\n    }\n    \n    \n    1\n    2\n    3\n    4\n    5\n    6\n    7\n    8\n    9\n    10\n    11\n    12\n    13\n    14\n    15\n    16\n    17\n    18\n    19\n    20\n    21\n    22\n    23\n    24\n    25\n    26\n    27\n    28\n    29\n    30\n    31\n    32\n    33\n    \n\n 5. é©±å¨ç±»\n    \n    package com.reducejoin;\n    \n    import org.apache.hadoop.conf.configuration;\n    import org.apache.hadoop.fs.path;\n    import org.apache.hadoop.io.nullwritable;\n    import org.apache.hadoop.mapreduce.job;\n    import org.apache.hadoop.mapreduce.lib.input.fileinputformat;\n    import org.apache.hadoop.mapreduce.lib.output.fileoutputformat;\n    \n    import java.io.ioexception;\n    \n    public class orderdriver {\n        public static void main(string[] args) throws ioexception, interruptedexception, classnotfoundexception {\n            job job = job.getinstance(new configuration());\n    \n            job.setjarbyclass(orderdriver.class);\n    \n            job.setmapperclass(ordermapper.class);\n            job.setreducerclass(orderreducer.class);\n    \n            job.setmapoutputkeyclass(orderbean.class);\n            job.setmapoutputvalueclass(nullwritable.class);\n    \n            job.setoutputkeyclass(orderbean.class);\n            job.setoutputvalueclass(nullwritable.class);\n    \n            job.setgroupingcomparatorclass(ordercomparator.class);  //åç»æ¯è¾å¨\n    \n            fileinputformat.setinputpaths(job, new path("d:/input"));\n            fileoutputformat.setoutputpath(job, new path("d:/output"));\n    \n            boolean b = job.waitforcompletion(true);\n            system.exit(b ? 0 : 1);\n        }\n    }\n    \n    \n    1\n    2\n    3\n    4\n    5\n    6\n    7\n    8\n    9\n    10\n    11\n    12\n    13\n    14\n    15\n    16\n    17\n    18\n    19\n    20\n    21\n    22\n    23\n    24\n    25\n    26\n    27\n    28\n    29\n    30\n    31\n    32\n    33\n    34\n    35\n    \n\n\n# mapjoin\n\nmap joinéç¨äºä¸å¼ è¡¨ååå°ãä¸å¼ è¡¨å¾å¤§çåºæ¯ãå¨mapç«¯ç¼å­å¤å¼ è¡¨ï¼æåå¤çä¸å¡é»è¾ï¼è¿æ ·å¢å mapç«¯ä¸å¡ï¼åå°reduceç«¯æ°æ®çååï¼å°½å¯è½çåå°æ°æ®å¾æã\n\nèä½¿ç¨mapjoinåªéç¼å driveråmapç±» æ éç¼åreduceç±» å ä¸ºä¸æ¶åå°reduceé¶æ®µ æä»¬å¨mapé¶æ®µå°±å¤çå®æ\n\n 1. driver å¼å¯åå¸å¼ç¼å­å¹¶ä¼ éå°æä»¶è·¯å¾\n    \n    package com.mapjoin;\n    \n    import org.apache.hadoop.conf.configuration;\n    import org.apache.hadoop.fs.path;\n    import org.apache.hadoop.io.nullwritable;\n    import org.apache.hadoop.io.text;\n    import org.apache.hadoop.mapreduce.job;\n    import org.apache.hadoop.mapreduce.lib.input.fileinputformat;\n    import org.apache.hadoop.mapreduce.lib.output.fileoutputformat;\n    \n    import java.io.ioexception;\n    import java.net.uri;\n    \n    public class mjdriver {\n        public static void main(string[] args) throws ioexception, interruptedexception, classnotfoundexception {\n            job job = job.getinstance(new configuration());\n    \n            job.setjarbyclass(mjdriver.class);\n    \n            job.setmapperclass(mjmapper.class);\n            job.setnumreducetasks(0); //mapç«¯çjoinä¸éè¦reduceé¶æ®µ æä»¥è®¾ç½®reducetaskæ°0\n    \n            //æ·»å åå¸å¼ç¼å­å¯ä»¥æ·»å å¤å¼ ä¼ éä¸ºæ°ç»\n            job.addcachefile(uri.create("file:///d:/input/pd.txt"));  //è®¾ç½®å è½½ç¼å­æ°æ®\n    \n            job.setmapoutputkeyclass(text.class);\n            job.setmapoutputvalueclass(nullwritable.class);\n    \n            fileinputformat.setinputpaths(job, new path("d:/input/order.txt"));\n            fileoutputformat.setoutputpath(job, new path("d:/output"));\n    \n            boolean b = job.waitforcompletion(true);\n            system.exit(b ? 0 : 1);\n    \n    \n        }\n    }\n    \n    \n    1\n    2\n    3\n    4\n    5\n    6\n    7\n    8\n    9\n    10\n    11\n    12\n    13\n    14\n    15\n    16\n    17\n    18\n    19\n    20\n    21\n    22\n    23\n    24\n    25\n    26\n    27\n    28\n    29\n    30\n    31\n    32\n    33\n    34\n    35\n    36\n    37\n    \n\n 2. mapper setupå è½½åå¸å¼ç¼å­å­èæµputå°mapéåå½ä¸­ å¨mapä¸­æ¿æ¢åå¤çè¦å¤ççæ°æ®\n    \n    package com.mapjoin;\n    \n    import org.apache.commons.lang.stringutils;\n    import org.apache.hadoop.fs.fsdatainputstream;\n    import org.apache.hadoop.fs.filesystem;\n    import org.apache.hadoop.fs.path;\n    import org.apache.hadoop.io.ioutils;\n    import org.apache.hadoop.io.longwritable;\n    import org.apache.hadoop.io.nullwritable;\n    import org.apache.hadoop.io.text;\n    import org.apache.hadoop.mapreduce.mapper;\n    \n    import java.io.bufferedreader;\n    import java.io.ioexception;\n    import java.io.inputstreamreader;\n    import java.net.uri;\n    import java.util.hashmap;\n    import java.util.map;\n    \n    public class mjmapper extends mapper<longwritable, text, text, nullwritable> {\n    \n        private map<string, string> pmap = new hashmap<>();\n    \n        private text k = new text();\n    \n        @override\n        protected void setup(mapper<longwritable, text, text, nullwritable>.context context) throws ioexception, interruptedexception {\n            //è¯»åpd.txtå°pmap\n            //å¼æµ\n            uri[] cachefiles = context.getcachefiles();  //è¯»ååå¸å¼ç¼å­æä»¶è·¯å¾æ°ç»\n            filesystem filesystem = filesystem.get(context.getconfiguration());\n            fsdatainputstream pd = filesystem.open(new path(cachefiles[0])); //pdæä»¶\n    \n            //å°æä»¶æè¡å¤ç è¯»åå°pmapä¸­\n            bufferedreader br = new bufferedreader(new inputstreamreader(pd)); //å°å­èæµè½¬ä¸ºå­ç¬¦æµ\n            string line;\n            while (stringutils.isnotempty(line = br.readline())) {\n                string[] split = line.split("\\t");\n                pmap.put(split[0], split[1]); //è½¬ä¸ºmapéå\n            }\n            ioutils.closestream(br);\n        }\n    \n        //å¤çorder.txtçæ°æ®\n        @override\n        protected void map(longwritable key, text value, mapper<longwritable, text, text, nullwritable>.context context) throws ioexception, interruptedexception {\n            string[] split = value.tostring().split("\\t");\n    \n            k.set(split[0] + "\\t" + pmap.get(split[1]) + "\\t" + split[2]); //ä»mapä¸­æ ¹æ®pidè·åvalueæ¿æ¢\n            context.write(k,nullwritable.get());\n        }\n    }\n    \n    \n    1\n    2\n    3\n    4\n    5\n    6\n    7\n    8\n    9\n    10\n    11\n    12\n    13\n    14\n    15\n    16\n    17\n    18\n    19\n    20\n    21\n    22\n    23\n    24\n    25\n    26\n    27\n    28\n    29\n    30\n    31\n    32\n    33\n    34\n    35\n    36\n    37\n    38\n    39\n    40\n    41\n    42\n    43\n    44\n    45\n    46\n    47\n    48\n    49\n    50\n    51\n    52\n    \n\n\n\n 1. mapjoinæçæ¯reducejoiné«\n 2. mapjoinå ä¸ºæ¯æåç¼å­æ°æ®å°åå­ä¸­ å¦ææ°æ®éåºå¤§é£ä¹åæ æ³ä½¿ç¨\n\n\n# æ°æ®æ¸æ´(etl)åè®¡æ°å¨\n\nå¨è¿è¡æ ¸å¿ä¸å¡mapreduceç¨åºä¹åï¼å¾å¾è¦åå¯¹æ°æ®è¿è¡æ¸æ´ï¼æ¸çæä¸ç¬¦åç¨æ·è¦æ±çæ°æ®ãæ¸ççè¿ç¨å¾å¾åªéè¦è¿è¡mapperç¨åºï¼ä¸éè¦è¿è¡reduceç¨åº\n\n 1. åå»ºæä¸¾ç±» æ¹ä¾¿æé è®¡æ°å¨\n    \n    package com.etl;\n    \n    public enum etl {\n        pass,fail\n    }\n    \n    \n    1\n    2\n    3\n    4\n    5\n    \n\n 2. mapperç±» å¨setupæ¹æ³ä¸­æé counter è®¡æ°å¨ å¨mapä¸­éè¿æ°æ®æ¸æ´ è®¡ç®åºç¬¦åæ¡ä»¶çæ¡æ°\n    \n    package com.etl;\n    \n    import org.apache.hadoop.io.longwritable;\n    import org.apache.hadoop.io.nullwritable;\n    import org.apache.hadoop.io.text;\n    import org.apache.hadoop.mapreduce.counter;\n    import org.apache.hadoop.mapreduce.mapper;\n    \n    import java.io.ioexception;\n    \n    public class etlmapper extends mapper<longwritable, text, text, nullwritable> {\n    \n        private counter pass;\n        private counter fail;\n    \n    \n        @override\n        protected void setup(mapper<longwritable, text, text, nullwritable>.context context) throws ioexception, interruptedexception {\n    //        pass = context.getcounter("etl", "pass"); //éè¿ä¸ä¸ææé ä¸ä¸ªè®¡æ°å¨å¯¹è±¡\n    //        fail = context.getcounter("etl", "fail");  //éè¿key valueèµå¼\n            pass = context.getcounter(etl.pass); //éè¿ä¸ä¸ææé ä¸ä¸ªè®¡æ°å¨å¯¹è±¡\n            fail = context.getcounter(etl.fail);  //éè¿æä¸¾ç±»æ¥æé \n    \n        }\n    \n        //å¤æ­æ¥å¿æ¯å¦éè¦æ¸æ´\n        @override\n        protected void map(longwritable key, text value, mapper<longwritable, text, text, nullwritable>.context context) throws ioexception, interruptedexception {\n    \n            string[] splits = value.tostring().split(" ");\n            if (splits.length > 11) {\n                context.write(value, nullwritable.get());\n                pass.increment(1); //è®¡æ°å¨+1\n            } else {\n                fail.increment(1); //ä¸ç¬¦åæ¡ä»¶çè®¡æ°å¨+1\n            }\n            //æ­¤å¤æ²¡æä½ä¸ä¸æåå¥ é»è®¤ä¸ºä¸æ¹åä¼ éç»reduce\n    \n        }\n    }\n    \n    \n    1\n    2\n    3\n    4\n    5\n    6\n    7\n    8\n    9\n    10\n    11\n    12\n    13\n    14\n    15\n    16\n    17\n    18\n    19\n    20\n    21\n    22\n    23\n    24\n    25\n    26\n    27\n    28\n    29\n    30\n    31\n    32\n    33\n    34\n    35\n    36\n    37\n    38\n    39\n    40\n    \n\n 3. é©±å¨ç±»\n    \n    package com.etl;\n    \n    import org.apache.hadoop.conf.configuration;\n    import org.apache.hadoop.fs.path;\n    import org.apache.hadoop.io.longwritable;\n    import org.apache.hadoop.io.nullwritable;\n    import org.apache.hadoop.io.text;\n    import org.apache.hadoop.mapreduce.job;\n    import org.apache.hadoop.mapreduce.lib.input.fileinputformat;\n    import org.apache.hadoop.mapreduce.lib.output.fileoutputformat;\n    \n    import java.io.ioexception;\n    \n    public class etldriver {\n        public static void main(string[] args) throws ioexception, interruptedexception, classnotfoundexception {\n            job job = job.getinstance(new configuration());\n    \n            job.setjarbyclass(etldriver.class);\n    \n            job.setmapperclass(etlmapper.class);\n            job.setnumreducetasks(0);\n    \n            job.setmapoutputkeyclass(text.class);\n            job.setmapoutputvalueclass(nullwritable.class);\n    \n            fileinputformat.setinputpaths(job, new path("d:/input"));\n            fileoutputformat.setoutputpath(job, new path("d:/output"));\n    \n            boolean b = job.waitforcompletion(true);\n            system.exit(b ? 0 : 1);\n    \n    \n        }\n    }\n    \n    \n    1\n    2\n    3\n    4\n    5\n    6\n    7\n    8\n    9\n    10\n    11\n    12\n    13\n    14\n    15\n    16\n    17\n    18\n    19\n    20\n    21\n    22\n    23\n    24\n    25\n    26\n    27\n    28\n    29\n    30\n    31\n    32\n    33\n    34\n    \n\n\n\nfailä¸ºç¬¦åæ¡ä»¶çåå®¹æ¡æ°\n\npassä¸ºä¸ç¬¦åæ¡ä»¶çåå®¹æ¡æ°\n\n\n# æ»ç»\n\n 1. è¾å¥æ°æ®æ¥å£: inputformat\n    \n    * é»è®¤ä½¿ç¨çå®ç°æ¯: textinputformat\n    * textinputformatçåè½é»è¾æ¯: ä¸æ¬¡è¯»ä¸è¡ææ¬ ç¶åå°è¯¥è¡çèµ·å§åç§»éä½ä¸ºkey è¡åå®¹ä½ä¸ºvaluieè¿å\n    * keyvlauetextinputformatæ¯ä¸è¡åä¸ºä¸æ¡è®°å½ è¢«åéç¬¦åå²ä¸ºkey value é»è®¤çåéç¬¦ä¸º \\t\n    * nlineinputformat æç§æå®çè¡æ°næ¥åååç\n    * combinetextinputformatå¯ä»¥æå¤ä¸ªå°æä»¶åå¹¶æä¸ä¸ªåçå¤ç æé«å¤çæç\n    * ç¨æ·è¿å¯ä»¥èªå®ä¹inputformat\n\n 2. é»è¾å¤çæ¥å£: mapper\n    \n    * æ ¹æ®ä¸å¡éæ±å®ç° map() setup cleanup() è¿ä¸ä¸ªæ¹æ³\n\n 3. partitionerååº\n    \n    * é»è®¤å®ç°ç±» hashpartitioner é»è¾æ¯æ ¹æ®keyçåå¸å¼ å numreducesæ¥è¿åä¸ä¸ªååºå·\n      \n      (key.hashcode() & integer.maxvalue) % numreduces\n    \n    * å¯ä»¥èªå®ä¹ååº\n\n 4. comparable æåº\n    \n    * å½æä»¬ç¨èªå®ä¹çå¯¹è±¡ä½ä¸ºkeyæ¥è¾åºæ¶ å¿é¡»è¦å®ç° writablecomparableæ¥å£ éåå¶ä¸­çcompareto()æ¹æ³\n    * é¨åæåº: å¯¹æç»è¾åºçæ¯ä¸ªæä»¶è¿è¡åé¨æåº\n    * å¨æåº:å¯¹æææ°æ®è¿è¡æåº éå¸¸åªæä¸ä¸ªreduse\n    * äºæ¬¡æåº: æåºçæ¡ä»¶æä¸¤ä¸ª\n\n 5. combiner åå¹¶\n    \n    * combineråå¹¶å¯ä»¥æé«ç¨åºçæç,åå°ioä¼ è¾.ä½æ¯ä½¿ç¨æ¶å¿é¡»ä¸è½å½±ååæçä¸å¡å¤çç»æ\n\n 6. reduceç«¯åç»\n    \n    * groupingcomparator å¨reduceç«¯å¯¹keyè¿è¡åç» åºç¨äº:å¨æ¥æ¶çkeyä¸ºbeanå¯¹è±¡æ¶,æ³è®©ä¸ä¸ªæå ä¸ªå­æ®µç¸å(å¨é¨å­æ®µæ¯è¾ä¸ç¸å)çkeyè¿å¥å°åä¸ä¸ªreduceæ¹æ³æ¶,å¯ä»¥éç¨åç»æåº\n\n 7. é»è¾å¤çæ¥å£ reducer\n    \n    * æ ¹æ®ä¸å¡éæ±å®ç° reduce() setup cleanup() è¿ä¸ä¸ªæ¹æ³\n\n 8. è¾åºæ°æ®æ¥å£ outputformat\n    \n    * é»è®¤å®ç°ç±»æ¯textoutputformat åè½é»è¾æ¯ å°æ¯ä¸ä¸ªé®å¼å¯¹ æ³ç®æ ææ¬æä»¶è¾åºä¸è¡\n    * å°sequencefileoutputformatè¾åºä½ä¸ºåç»­mapreduceä»»å¡çè¾å¥,è¿ä¸ªæ¯ä¸ç§æ¯è¾å¥½çè¾åºæ ¼å¼,yæå®æ ¼å¼ç´§å å®¹æè¢«åç¼©\n    * å¯ä»¥èªå®ä¹outputformat',charsets:{cjk:!0},lastUpdated:"2022/03/18, 07:01:11",lastUpdatedTimestamp:1647558071e3},{title:"æ¦è¿°",frontmatter:{title:"æ¦è¿°",date:"2022-03-17T22:07:07.000Z",permalink:"/pages/f38fc8/",categories:["å¤§æ°æ®","Zookeeper"],tags:[null]},regularPath:"/%E5%A4%A7%E6%95%B0%E6%8D%AE/02.Zookeeper/01.%E6%A6%82%E8%BF%B0.html",relativePath:"å¤§æ°æ®/02.Zookeeper/01.æ¦è¿°.md",key:"v-369ccb08",path:"/pages/f38fc8/",headersStr:null,content:"# æ¦è¿°\n\nZookeeperæ¯ä¸ä¸ªå¼æºçåå¸å¼çï¼ä¸ºåå¸å¼åºç¨æä¾åè°æå¡çApacheé¡¹ç®\n\n\n\n\n\n",normalizedContent:"# æ¦è¿°\n\nzookeeperæ¯ä¸ä¸ªå¼æºçåå¸å¼çï¼ä¸ºåå¸å¼åºç¨æä¾åè°æå¡çapacheé¡¹ç®\n\n\n\n\n\n",charsets:{cjk:!0},lastUpdated:"2022/03/18, 07:01:11",lastUpdatedTimestamp:1647558071e3},{title:"Api",frontmatter:{title:"Api",date:"2022-03-17T22:07:07.000Z",permalink:"/pages/4a9c91/",categories:["å¤§æ°æ®","Zookeeper"],tags:[null]},regularPath:"/%E5%A4%A7%E6%95%B0%E6%8D%AE/02.Zookeeper/05.Api.html",relativePath:"å¤§æ°æ®/02.Zookeeper/05.Api.md",key:"v-72b26eaf",path:"/pages/4a9c91/",headersStr:null,content:'# Api\n\nåæ \n\n<dependencies>\n\t\t<dependency>\n\t\t\t<groupId>junit</groupId>\n\t\t\t<artifactId>junit</artifactId>\n\t\t\t<version>RELEASE</version>\n\t\t</dependency>\n\t\t<dependency>\n\t\t\t<groupId>org.apache.logging.log4j</groupId>\n\t\t\t<artifactId>log4j-core</artifactId>\n\t\t\t<version>2.8.2</version>\n\t\t</dependency>\n\t\t\x3c!-- https://mvnrepository.com/artifact/org.apache.zookeeper/zookeeper --\x3e\n\t\t<dependency>\n\t\t\t<groupId>org.apache.zookeeper</groupId>\n\t\t\t<artifactId>zookeeper</artifactId>\n\t\t\t<version>3.5.7</version>\n\t\t</dependency>\n</dependencies>\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n\n\nlog4j.properties\n\nlog4j.rootLogger=INFO, stdout  \nlog4j.appender.stdout=org.apache.log4j.ConsoleAppender  \nlog4j.appender.stdout.layout=org.apache.log4j.PatternLayout  \nlog4j.appender.stdout.layout.ConversionPattern=%d %p [%c] - %m%n  \nlog4j.appender.logfile=org.apache.log4j.FileAppender  \nlog4j.appender.logfile.File=target/spring.log  \nlog4j.appender.logfile.layout=org.apache.log4j.PatternLayout  \nlog4j.appender.logfile.layout.ConversionPattern=%d %p [%c] - %m%n  \n\n\n1\n2\n3\n4\n5\n6\n7\n8\n\n\ntest\n\npackage com.atguigu.zkclient;\n\nimport org.apache.zookeeper.*;\nimport org.apache.zookeeper.data.Stat;\nimport org.junit.After;\nimport org.junit.Before;\nimport org.junit.Test;\n\nimport java.io.IOException;\nimport java.nio.charset.StandardCharsets;\nimport java.util.List;\n\npublic class ZkClient {\n    private ZooKeeper zooKeeper = null;\n\n    @Before\n    public void before() throws IOException {\n        String connectString = "hadoop102:2181,hadoop103:2181,hadoop104:2181";\n        int sessionTimeout = 2000;\n        //åå»ºzkå¯¹è±¡\n        zooKeeper = new ZooKeeper(connectString,  //è¿æ¥å°å\n                sessionTimeout,  //è¶æ¶æ¶é´\n                new Watcher() {\n                    //Zookeeperçå¬çåè°å½æ°\n                    @Override\n                    public void process(WatchedEvent watchedEvent) {\n                        System.out.println("åè°å½æ°");\n                    }\n                }\n\n\n        );\n    }\n\n    @After\n    public void after() throws InterruptedException {\n        zooKeeper.close();\n    }\n\n    //åå»ºæ°èç¹\n    @Test\n    public void create() throws IOException, InterruptedException, KeeperException {\n\n        zooKeeper.create(\n                "/testApi", //èç¹å\n                "haha".getBytes(), //å¼\n                ZooDefs.Ids.OPEN_ACL_UNSAFE,  //è®¿é®æ§å¶åè¡¨ ç¸å¯¹åºæé\n                CreateMode.PERSISTENT  //æ°¸ä¹èç¹\n        );\n    }\n\n    //æ¥è¯¢å­èç¹\n    @Test\n    public void ls() throws InterruptedException, KeeperException {\n        List<String> children = zooKeeper.getChildren(\n                "/",\n                new Watcher() {\n                    @Override\n                    public void process(WatchedEvent watchedEvent) {\n                        System.out.println("èªå®ä¹åè°å½æ°");\n                    }\n                }\n        );\n        for (String child : children) {\n            System.out.println(child);\n        }\n\n        Thread.sleep(Long.MAX_VALUE);\n    }\n\n    //æ¥è¯¢èç¹çå¼\n    @Test\n    public void get() throws InterruptedException, KeeperException, IOException {\n        Stat stat = new Stat();  //èç¹ç¶æ(Statç»æä½)\n        byte[] data = zooKeeper.getData("/testApi", false, stat);\n        System.out.write(data);\n        System.out.println();\n        System.out.println(stat.getMzxid());\n    }\n\n    //æ¥è¯¢ä¸ä¸ªèç¹çç¶æ\n    @Test\n    public void stat() throws InterruptedException, KeeperException {\n        Stat stat = zooKeeper.exists("/testApi", false);\n        if (stat == null) {\n            System.out.println("èç¹ä¸å­å¨");\n        } else {\n            System.out.println(stat);\n        }\n    }\n\n    //ä¿®æ¹èç¹åå®¹\n    @Test\n    public void set() throws InterruptedException, KeeperException {\n        String node = "/testApi";\n        int version = 0;\n        Stat stat = zooKeeper.exists(node, false);\n\n        if (stat == null) {\n            System.out.println("èç¹ä¸å­å¨");\n        } else {\n            version = stat.getVersion();\n        }\n        //ä¹è§é ä¿®æ¹ååæ¯è¾çæ¬å· ä¸ä¸è´åæ¥é\n        zooKeeper.setData(node,\n                "123".getBytes(StandardCharsets.UTF_8),\n                version\n        );\n    }\n\n    //å é¤èç¹\n    @Test\n    public void delete() throws InterruptedException, KeeperException {\n        zooKeeper.delete("/testApi",1);\n    }\n\n\n\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n26\n27\n28\n29\n30\n31\n32\n33\n34\n35\n36\n37\n38\n39\n40\n41\n42\n43\n44\n45\n46\n47\n48\n49\n50\n51\n52\n53\n54\n55\n56\n57\n58\n59\n60\n61\n62\n63\n64\n65\n66\n67\n68\n69\n70\n71\n72\n73\n74\n75\n76\n77\n78\n79\n80\n81\n82\n83\n84\n85\n86\n87\n88\n89\n90\n91\n92\n93\n94\n95\n96\n97\n98\n99\n100\n101\n102\n103\n104\n105\n106\n107\n108\n109\n110\n111\n112\n113\n114\n115\n116\n117\n118\n119\n',normalizedContent:'# api\n\nåæ \n\n<dependencies>\n\t\t<dependency>\n\t\t\t<groupid>junit</groupid>\n\t\t\t<artifactid>junit</artifactid>\n\t\t\t<version>release</version>\n\t\t</dependency>\n\t\t<dependency>\n\t\t\t<groupid>org.apache.logging.log4j</groupid>\n\t\t\t<artifactid>log4j-core</artifactid>\n\t\t\t<version>2.8.2</version>\n\t\t</dependency>\n\t\t\x3c!-- https://mvnrepository.com/artifact/org.apache.zookeeper/zookeeper --\x3e\n\t\t<dependency>\n\t\t\t<groupid>org.apache.zookeeper</groupid>\n\t\t\t<artifactid>zookeeper</artifactid>\n\t\t\t<version>3.5.7</version>\n\t\t</dependency>\n</dependencies>\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n\n\nlog4j.properties\n\nlog4j.rootlogger=info, stdout  \nlog4j.appender.stdout=org.apache.log4j.consoleappender  \nlog4j.appender.stdout.layout=org.apache.log4j.patternlayout  \nlog4j.appender.stdout.layout.conversionpattern=%d %p [%c] - %m%n  \nlog4j.appender.logfile=org.apache.log4j.fileappender  \nlog4j.appender.logfile.file=target/spring.log  \nlog4j.appender.logfile.layout=org.apache.log4j.patternlayout  \nlog4j.appender.logfile.layout.conversionpattern=%d %p [%c] - %m%n  \n\n\n1\n2\n3\n4\n5\n6\n7\n8\n\n\ntest\n\npackage com.atguigu.zkclient;\n\nimport org.apache.zookeeper.*;\nimport org.apache.zookeeper.data.stat;\nimport org.junit.after;\nimport org.junit.before;\nimport org.junit.test;\n\nimport java.io.ioexception;\nimport java.nio.charset.standardcharsets;\nimport java.util.list;\n\npublic class zkclient {\n    private zookeeper zookeeper = null;\n\n    @before\n    public void before() throws ioexception {\n        string connectstring = "hadoop102:2181,hadoop103:2181,hadoop104:2181";\n        int sessiontimeout = 2000;\n        //åå»ºzkå¯¹è±¡\n        zookeeper = new zookeeper(connectstring,  //è¿æ¥å°å\n                sessiontimeout,  //è¶æ¶æ¶é´\n                new watcher() {\n                    //zookeeperçå¬çåè°å½æ°\n                    @override\n                    public void process(watchedevent watchedevent) {\n                        system.out.println("åè°å½æ°");\n                    }\n                }\n\n\n        );\n    }\n\n    @after\n    public void after() throws interruptedexception {\n        zookeeper.close();\n    }\n\n    //åå»ºæ°èç¹\n    @test\n    public void create() throws ioexception, interruptedexception, keeperexception {\n\n        zookeeper.create(\n                "/testapi", //èç¹å\n                "haha".getbytes(), //å¼\n                zoodefs.ids.open_acl_unsafe,  //è®¿é®æ§å¶åè¡¨ ç¸å¯¹åºæé\n                createmode.persistent  //æ°¸ä¹èç¹\n        );\n    }\n\n    //æ¥è¯¢å­èç¹\n    @test\n    public void ls() throws interruptedexception, keeperexception {\n        list<string> children = zookeeper.getchildren(\n                "/",\n                new watcher() {\n                    @override\n                    public void process(watchedevent watchedevent) {\n                        system.out.println("èªå®ä¹åè°å½æ°");\n                    }\n                }\n        );\n        for (string child : children) {\n            system.out.println(child);\n        }\n\n        thread.sleep(long.max_value);\n    }\n\n    //æ¥è¯¢èç¹çå¼\n    @test\n    public void get() throws interruptedexception, keeperexception, ioexception {\n        stat stat = new stat();  //èç¹ç¶æ(statç»æä½)\n        byte[] data = zookeeper.getdata("/testapi", false, stat);\n        system.out.write(data);\n        system.out.println();\n        system.out.println(stat.getmzxid());\n    }\n\n    //æ¥è¯¢ä¸ä¸ªèç¹çç¶æ\n    @test\n    public void stat() throws interruptedexception, keeperexception {\n        stat stat = zookeeper.exists("/testapi", false);\n        if (stat == null) {\n            system.out.println("èç¹ä¸å­å¨");\n        } else {\n            system.out.println(stat);\n        }\n    }\n\n    //ä¿®æ¹èç¹åå®¹\n    @test\n    public void set() throws interruptedexception, keeperexception {\n        string node = "/testapi";\n        int version = 0;\n        stat stat = zookeeper.exists(node, false);\n\n        if (stat == null) {\n            system.out.println("èç¹ä¸å­å¨");\n        } else {\n            version = stat.getversion();\n        }\n        //ä¹è§é ä¿®æ¹ååæ¯è¾çæ¬å· ä¸ä¸è´åæ¥é\n        zookeeper.setdata(node,\n                "123".getbytes(standardcharsets.utf_8),\n                version\n        );\n    }\n\n    //å é¤èç¹\n    @test\n    public void delete() throws interruptedexception, keeperexception {\n        zookeeper.delete("/testapi",1);\n    }\n\n\n\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n26\n27\n28\n29\n30\n31\n32\n33\n34\n35\n36\n37\n38\n39\n40\n41\n42\n43\n44\n45\n46\n47\n48\n49\n50\n51\n52\n53\n54\n55\n56\n57\n58\n59\n60\n61\n62\n63\n64\n65\n66\n67\n68\n69\n70\n71\n72\n73\n74\n75\n76\n77\n78\n79\n80\n81\n82\n83\n84\n85\n86\n87\n88\n89\n90\n91\n92\n93\n94\n95\n96\n97\n98\n99\n100\n101\n102\n103\n104\n105\n106\n107\n108\n109\n110\n111\n112\n113\n114\n115\n116\n117\n118\n119\n',charsets:{cjk:!0},lastUpdated:"2022/03/18, 07:01:11",lastUpdatedTimestamp:1647558071e3},{title:"éç¾¤æ­å»º",frontmatter:{title:"éç¾¤æ­å»º",date:"2022-03-17T22:07:07.000Z",permalink:"/pages/1597a2/",categories:["å¤§æ°æ®","Zookeeper"],tags:[null]},regularPath:"/%E5%A4%A7%E6%95%B0%E6%8D%AE/02.Zookeeper/02.%E9%9B%86%E7%BE%A4%E6%90%AD%E5%BB%BA.html",relativePath:"å¤§æ°æ®/02.Zookeeper/02.éç¾¤æ­å»º.md",key:"v-98591bee",path:"/pages/1597a2/",headersStr:null,content:"# éç¾¤æ­å»º\n\ntar -zxvf /opt/software/apache-zookeeper-3.5.7-bin.tar.gz -C /opt/module/\nmv /opt/module/apache-zookeeper-3.5.7-bin/ /opt/module/zookeeper\n\n#ç¯å¢åé\nsudo vim /etc/profile.d/my_env.sh \n#è¿½å \n#ZOOKEEPER_HOME\nexport ZOOKEEPER_HOME=/opt/module/zookeeper\nexport PATH=$PATH:$ZOOKEEPER_HOME/bin\n\n\n#åæ­¥ç¯å¢åé\nsource /etc/profile.d/my_env.sh \nsudo xsync /etc/profile.d/my_env.sh \n\n#å°éç½®æä»¶æ¹åç§°ä¸ºzoo.cfg\ncd /opt/module/zookeeper/conf/\ncp zoo_sample.cfg zoo.cfg\n\n#éç½®zookeeperæä»¶\nvim zoo.cfg \n#è¿½å ä¸åå®¹\nserver.2=hadoop102:2888:3888\nserver.3=hadoop103:2888:3888\nserver.4=hadoop104:2888:3888\n#ä¿®æ¹æ°æ®å­å¨ä½ç½®\ndataDir=/opt/module/zookeeper/zkData\n\ncd /opt/module/zookeeper\nmkdir zkData\n\n#åå»ºmyidç¨äºzookeeperæ è®°æºå¨\n#ç¼è¾ä¸º102ç2ç¨äºå¯ä¸æ è¯ 103ä¸º3 104ä¸º4\necho 2 > /opt/module/zookeeper/zkData/myid\n\n#åæ­¥\nxsync /opt/module/zookeeper/\n\n#103\necho 3 > /opt/module/zookeeper/zkData/myid\n#104\necho 4 > /opt/module/zookeeper/zkData/myid\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n26\n27\n28\n29\n30\n31\n32\n33\n34\n35\n36\n37\n38\n39\n40\n41\n42\n\n\nå¯å¨\n\n#å¨ä¸å°æºå¨ä¸åå«å¯å¨\nzkServer.sh start\n\n\n1\n2\n\n\nzookeeperé»è®¤webç«¯å£ä¸º8080 åtomcatå²çª å¯ä»¥å¨éç½®æä»¶å admin.serverPort=8081 è¿è¡éç½®\n\nvim /opt/module/zookeeper/conf/zoo.cfg \n\n#webç«¯å£\nadmin.serverPort=8081\n\n\n1\n2\n3\n4\n",normalizedContent:"# éç¾¤æ­å»º\n\ntar -zxvf /opt/software/apache-zookeeper-3.5.7-bin.tar.gz -c /opt/module/\nmv /opt/module/apache-zookeeper-3.5.7-bin/ /opt/module/zookeeper\n\n#ç¯å¢åé\nsudo vim /etc/profile.d/my_env.sh \n#è¿½å \n#zookeeper_home\nexport zookeeper_home=/opt/module/zookeeper\nexport path=$path:$zookeeper_home/bin\n\n\n#åæ­¥ç¯å¢åé\nsource /etc/profile.d/my_env.sh \nsudo xsync /etc/profile.d/my_env.sh \n\n#å°éç½®æä»¶æ¹åç§°ä¸ºzoo.cfg\ncd /opt/module/zookeeper/conf/\ncp zoo_sample.cfg zoo.cfg\n\n#éç½®zookeeperæä»¶\nvim zoo.cfg \n#è¿½å ä¸åå®¹\nserver.2=hadoop102:2888:3888\nserver.3=hadoop103:2888:3888\nserver.4=hadoop104:2888:3888\n#ä¿®æ¹æ°æ®å­å¨ä½ç½®\ndatadir=/opt/module/zookeeper/zkdata\n\ncd /opt/module/zookeeper\nmkdir zkdata\n\n#åå»ºmyidç¨äºzookeeperæ è®°æºå¨\n#ç¼è¾ä¸º102ç2ç¨äºå¯ä¸æ è¯ 103ä¸º3 104ä¸º4\necho 2 > /opt/module/zookeeper/zkdata/myid\n\n#åæ­¥\nxsync /opt/module/zookeeper/\n\n#103\necho 3 > /opt/module/zookeeper/zkdata/myid\n#104\necho 4 > /opt/module/zookeeper/zkdata/myid\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n26\n27\n28\n29\n30\n31\n32\n33\n34\n35\n36\n37\n38\n39\n40\n41\n42\n\n\nå¯å¨\n\n#å¨ä¸å°æºå¨ä¸åå«å¯å¨\nzkserver.sh start\n\n\n1\n2\n\n\nzookeeperé»è®¤webç«¯å£ä¸º8080 åtomcatå²çª å¯ä»¥å¨éç½®æä»¶å admin.serverport=8081 è¿è¡éç½®\n\nvim /opt/module/zookeeper/conf/zoo.cfg \n\n#webç«¯å£\nadmin.serverport=8081\n\n\n1\n2\n3\n4\n",charsets:{cjk:!0},lastUpdated:"2022/03/18, 07:01:11",lastUpdatedTimestamp:1647558071e3},{title:"åé¨åç",frontmatter:{title:"åé¨åç",date:"2022-03-17T22:07:07.000Z",permalink:"/pages/75493d/",categories:["å¤§æ°æ®","Zookeeper"],tags:[null]},regularPath:"/%E5%A4%A7%E6%95%B0%E6%8D%AE/02.Zookeeper/04.%E5%86%85%E9%83%A8%E5%8E%9F%E7%90%86.html",relativePath:"å¤§æ°æ®/02.Zookeeper/04.åé¨åç.md",key:"v-c1183f22",path:"/pages/75493d/",headers:[{level:2,title:"èç¹ç±»å",slug:"èç¹ç±»å",normalizedTitle:"èç¹ç±»å",charIndex:11},{level:2,title:"Statç»æä½",slug:"statç»æä½",normalizedTitle:"statç»æä½",charIndex:22},{level:2,title:"çå¬å¨åç",slug:"çå¬å¨åç",normalizedTitle:"çå¬å¨åç",charIndex:532},{level:2,title:"éä¸¾æºå¶",slug:"éä¸¾æºå¶",normalizedTitle:"éä¸¾æºå¶",charIndex:544},{level:2,title:"åæ°æ®æµç¨",slug:"åæ°æ®æµç¨",normalizedTitle:"åæ°æ®æµç¨",charIndex:1206}],headersStr:"èç¹ç±»å Statç»æä½ çå¬å¨åç éä¸¾æºå¶ åæ°æ®æµç¨",content:"# åé¨åç\n\n\n# èç¹ç±»å\n\n\n\n\n# Statç»æä½\n\nï¼1ï¼czxid-åå»ºèç¹çäºå¡zxid\n\næ¯æ¬¡ä¿®æ¹ZooKeeperç¶æé½ä¼æ¶å°ä¸ä¸ªzxidå½¢å¼çæ¶é´æ³ï¼ä¹å°±æ¯ZooKeeperäºå¡IDã\n\näºå¡IDæ¯ZooKeeperä¸­ææä¿®æ¹æ»çæ¬¡åºãæ¯ä¸ªä¿®æ¹é½æå¯ä¸çzxidï¼å¦æzxid1å°äºzxid2ï¼é£ä¹zxid1å¨zxid2ä¹ååçã\n\nï¼2ï¼ctime - znodeè¢«åå»ºçæ¯«ç§æ°(ä»1970å¹´å¼å§)\n\nï¼3ï¼mzxid - znodeæåæ´æ°çäºå¡zxid\n\nï¼4ï¼mtime - znodeæåä¿®æ¹çæ¯«ç§æ°(ä»1970å¹´å¼å§)\n\nï¼5ï¼pZxid-znodeæåæ´æ°çå­èç¹zxid\n\nï¼6ï¼cversion - znodeå­èç¹ååå·ï¼znodeå­èç¹ä¿®æ¹æ¬¡æ°\n\nï¼7ï¼dataversion - znodeæ°æ®ååå·\n\nï¼8ï¼aclVersion - znodeè®¿é®æ§å¶åè¡¨çååå·\n\nï¼9ï¼ephemeralOwner- å¦ææ¯ä¸´æ¶èç¹ï¼è¿ä¸ªæ¯znodeæ¥æèçsession idãå¦æä¸æ¯ä¸´æ¶èç¹åæ¯0ã\n\nï¼10ï¼dataLength- znodeçæ°æ®é¿åº¦\n\nï¼11ï¼numChildren - znodeå­èç¹æ°é\n\n\n# çå¬å¨åç\n\n\n\n\n# éä¸¾æºå¶\n\nï¼1ï¼åæ°æºå¶ï¼éç¾¤ä¸­åæ°ä»¥ä¸æºå¨å­æ´»ï¼éç¾¤å¯ç¨ãæä»¥Zookeeperéåå®è£å¥æ°å°æå¡å¨ã\n\nï¼2ï¼Zookeeperè½ç¶å¨éç½®æä»¶ä¸­å¹¶æ²¡ææå®MasteråSlaveãä½æ¯ï¼Zookeeperå·¥ä½æ¶ï¼æ¯æä¸ä¸ªèç¹ä¸ºLeaderï¼å¶ä»åä¸ºFollowerï¼Leaderæ¯éè¿åé¨çéä¸¾æºå¶ä¸´æ¶äº§ççã\n\nï¼3ï¼éä¸¾æµç¨\n\n\n\n( 1ï¼æå¡å¨1å¯å¨ï¼åèµ·ä¸æ¬¡éä¸¾ãæå¡å¨1æèªå·±ä¸ç¥¨ãæ­¤æ¶æå¡å¨1ç¥¨æ°ä¸ç¥¨ï¼ä¸å¤åæ°ä»¥ä¸ï¼3ç¥¨ï¼ï¼éä¸¾æ æ³å®æï¼æå¡å¨1ç¶æä¿æä¸ºLOOKINGï¼\n\nï¼2ï¼æå¡å¨2å¯å¨ï¼ååèµ·ä¸æ¬¡éä¸¾ãæå¡å¨1å2åå«æèªå·±ä¸ç¥¨å¹¶äº¤æ¢éç¥¨ä¿¡æ¯ï¼æ­¤æ¶æå¡å¨1åç°æå¡å¨2çIDæ¯èªå·±ç®åæç¥¨æ¨ä¸¾çï¼æå¡å¨1ï¼å¤§ï¼æ´æ¹éç¥¨ä¸ºæ¨ä¸¾æå¡å¨2ãæ­¤æ¶æå¡å¨1ç¥¨æ°0ç¥¨ï¼æå¡å¨2ç¥¨æ°2ç¥¨ï¼æ²¡æåæ°ä»¥ä¸ç»æï¼éä¸¾æ æ³å®æï¼æå¡å¨1ï¼2ç¶æä¿æLOOKING\n\nï¼3ï¼æå¡å¨3å¯å¨ï¼åèµ·ä¸æ¬¡éä¸¾ãæ­¤æ¶æå¡å¨1å2é½ä¼æ´æ¹éç¥¨ä¸ºæå¡å¨3ãæ­¤æ¬¡æç¥¨ç»æï¼æå¡å¨1ä¸º0ç¥¨ï¼æå¡å¨2ä¸º0ç¥¨ï¼æå¡å¨3ä¸º3ç¥¨ãæ­¤æ¶æå¡å¨3çç¥¨æ°å·²ç»è¶è¿åæ°ï¼æå¡å¨3å½éLeaderãæå¡å¨1ï¼2æ´æ¹ç¶æä¸ºFOLLOWINGï¼æå¡å¨3æ´æ¹ç¶æä¸ºLEADINGï¼\n\nï¼4ï¼æå¡å¨4å¯å¨ï¼åèµ·ä¸æ¬¡éä¸¾ãæ­¤æ¶æå¡å¨1ï¼2ï¼3å·²ç»ä¸æ¯LOOKINGç¶æï¼ä¸ä¼æ´æ¹éç¥¨ä¿¡æ¯ãäº¤æ¢éç¥¨ä¿¡æ¯ç»æï¼æå¡å¨3ä¸º3ç¥¨ï¼æå¡å¨4ä¸º1ç¥¨ãæ­¤æ¶æå¡å¨4æä»å¤æ°ï¼æ´æ¹éç¥¨ä¿¡æ¯ä¸ºæå¡å¨3ï¼å¹¶æ´æ¹ç¶æä¸ºFOLLOWINGï¼\n\nï¼5ï¼æå¡å¨5å¯å¨ï¼å4ä¸æ ·å½å°å¼ã\n\n\n# åæ°æ®æµç¨\n\n\n\n 1. å®¢æ·åæå¡ç«¯åèµ·è¯·æ±\n 2. è¯·æ±è½¬åç»Leader\n 3. Leaderå°åè¯·æ±å¹¿æ­ç»åä¸ªserver(å³Follower) è¿è¡æç¥¨\n 4. æç¥¨è¶åæ° åè¿è¡Leaderä¼ååä¸ªserveråéæäº¤ä¿¡æ¯ åä¸ªserveræ¶å°åè¯·æ±æ¾å¥éåä¸­ åå¥æ°æ®\n    1. å¦ææä¸ªserveræä¸åæ èè¶è¿åæ°æåæç¥¨ åæ­¤serverä¼è¿è¡éå¯ å¹¶åleaderéæ°åæ­¥æ°æ®\n    2. å¦æserver ç czxid æ¯ leaderå½ååæ°æ®çczxidå¤§ åæ­¤serverä¼æä¸åæç¥¨ åä¹æåæç¥¨\n 5. serverä¼è¿ä¸æ­¥éç¥å®¢æ·ç«¯ åæ°æ®æå",normalizedContent:"# åé¨åç\n\n\n# èç¹ç±»å\n\n\n\n\n# statç»æä½\n\nï¼1ï¼czxid-åå»ºèç¹çäºå¡zxid\n\næ¯æ¬¡ä¿®æ¹zookeeperç¶æé½ä¼æ¶å°ä¸ä¸ªzxidå½¢å¼çæ¶é´æ³ï¼ä¹å°±æ¯zookeeperäºå¡idã\n\näºå¡idæ¯zookeeperä¸­ææä¿®æ¹æ»çæ¬¡åºãæ¯ä¸ªä¿®æ¹é½æå¯ä¸çzxidï¼å¦æzxid1å°äºzxid2ï¼é£ä¹zxid1å¨zxid2ä¹ååçã\n\nï¼2ï¼ctime - znodeè¢«åå»ºçæ¯«ç§æ°(ä»1970å¹´å¼å§)\n\nï¼3ï¼mzxid - znodeæåæ´æ°çäºå¡zxid\n\nï¼4ï¼mtime - znodeæåä¿®æ¹çæ¯«ç§æ°(ä»1970å¹´å¼å§)\n\nï¼5ï¼pzxid-znodeæåæ´æ°çå­èç¹zxid\n\nï¼6ï¼cversion - znodeå­èç¹ååå·ï¼znodeå­èç¹ä¿®æ¹æ¬¡æ°\n\nï¼7ï¼dataversion - znodeæ°æ®ååå·\n\nï¼8ï¼aclversion - znodeè®¿é®æ§å¶åè¡¨çååå·\n\nï¼9ï¼ephemeralowner- å¦ææ¯ä¸´æ¶èç¹ï¼è¿ä¸ªæ¯znodeæ¥æèçsession idãå¦æä¸æ¯ä¸´æ¶èç¹åæ¯0ã\n\nï¼10ï¼datalength- znodeçæ°æ®é¿åº¦\n\nï¼11ï¼numchildren - znodeå­èç¹æ°é\n\n\n# çå¬å¨åç\n\n\n\n\n# éä¸¾æºå¶\n\nï¼1ï¼åæ°æºå¶ï¼éç¾¤ä¸­åæ°ä»¥ä¸æºå¨å­æ´»ï¼éç¾¤å¯ç¨ãæä»¥zookeeperéåå®è£å¥æ°å°æå¡å¨ã\n\nï¼2ï¼zookeeperè½ç¶å¨éç½®æä»¶ä¸­å¹¶æ²¡ææå®masteråslaveãä½æ¯ï¼zookeeperå·¥ä½æ¶ï¼æ¯æä¸ä¸ªèç¹ä¸ºleaderï¼å¶ä»åä¸ºfollowerï¼leaderæ¯éè¿åé¨çéä¸¾æºå¶ä¸´æ¶äº§ççã\n\nï¼3ï¼éä¸¾æµç¨\n\n\n\n( 1ï¼æå¡å¨1å¯å¨ï¼åèµ·ä¸æ¬¡éä¸¾ãæå¡å¨1æèªå·±ä¸ç¥¨ãæ­¤æ¶æå¡å¨1ç¥¨æ°ä¸ç¥¨ï¼ä¸å¤åæ°ä»¥ä¸ï¼3ç¥¨ï¼ï¼éä¸¾æ æ³å®æï¼æå¡å¨1ç¶æä¿æä¸ºlookingï¼\n\nï¼2ï¼æå¡å¨2å¯å¨ï¼ååèµ·ä¸æ¬¡éä¸¾ãæå¡å¨1å2åå«æèªå·±ä¸ç¥¨å¹¶äº¤æ¢éç¥¨ä¿¡æ¯ï¼æ­¤æ¶æå¡å¨1åç°æå¡å¨2çidæ¯èªå·±ç®åæç¥¨æ¨ä¸¾çï¼æå¡å¨1ï¼å¤§ï¼æ´æ¹éç¥¨ä¸ºæ¨ä¸¾æå¡å¨2ãæ­¤æ¶æå¡å¨1ç¥¨æ°0ç¥¨ï¼æå¡å¨2ç¥¨æ°2ç¥¨ï¼æ²¡æåæ°ä»¥ä¸ç»æï¼éä¸¾æ æ³å®æï¼æå¡å¨1ï¼2ç¶æä¿ælooking\n\nï¼3ï¼æå¡å¨3å¯å¨ï¼åèµ·ä¸æ¬¡éä¸¾ãæ­¤æ¶æå¡å¨1å2é½ä¼æ´æ¹éç¥¨ä¸ºæå¡å¨3ãæ­¤æ¬¡æç¥¨ç»æï¼æå¡å¨1ä¸º0ç¥¨ï¼æå¡å¨2ä¸º0ç¥¨ï¼æå¡å¨3ä¸º3ç¥¨ãæ­¤æ¶æå¡å¨3çç¥¨æ°å·²ç»è¶è¿åæ°ï¼æå¡å¨3å½éleaderãæå¡å¨1ï¼2æ´æ¹ç¶æä¸ºfollowingï¼æå¡å¨3æ´æ¹ç¶æä¸ºleadingï¼\n\nï¼4ï¼æå¡å¨4å¯å¨ï¼åèµ·ä¸æ¬¡éä¸¾ãæ­¤æ¶æå¡å¨1ï¼2ï¼3å·²ç»ä¸æ¯lookingç¶æï¼ä¸ä¼æ´æ¹éç¥¨ä¿¡æ¯ãäº¤æ¢éç¥¨ä¿¡æ¯ç»æï¼æå¡å¨3ä¸º3ç¥¨ï¼æå¡å¨4ä¸º1ç¥¨ãæ­¤æ¶æå¡å¨4æä»å¤æ°ï¼æ´æ¹éç¥¨ä¿¡æ¯ä¸ºæå¡å¨3ï¼å¹¶æ´æ¹ç¶æä¸ºfollowingï¼\n\nï¼5ï¼æå¡å¨5å¯å¨ï¼å4ä¸æ ·å½å°å¼ã\n\n\n# åæ°æ®æµç¨\n\n\n\n 1. å®¢æ·åæå¡ç«¯åèµ·è¯·æ±\n 2. è¯·æ±è½¬åç»leader\n 3. leaderå°åè¯·æ±å¹¿æ­ç»åä¸ªserver(å³follower) è¿è¡æç¥¨\n 4. æç¥¨è¶åæ° åè¿è¡leaderä¼ååä¸ªserveråéæäº¤ä¿¡æ¯ åä¸ªserveræ¶å°åè¯·æ±æ¾å¥éåä¸­ åå¥æ°æ®\n    1. å¦ææä¸ªserveræä¸åæ èè¶è¿åæ°æåæç¥¨ åæ­¤serverä¼è¿è¡éå¯ å¹¶åleaderéæ°åæ­¥æ°æ®\n    2. å¦æserver ç czxid æ¯ leaderå½ååæ°æ®çczxidå¤§ åæ­¤serverä¼æä¸åæç¥¨ åä¹æåæç¥¨\n 5. serverä¼è¿ä¸æ­¥éç¥å®¢æ·ç«¯ åæ°æ®æå",charsets:{cjk:!0},lastUpdated:"2022/03/18, 07:01:11",lastUpdatedTimestamp:1647558071e3},{title:"ç¯å¢",frontmatter:{title:"ç¯å¢",date:"2022-03-17T22:07:27.000Z",permalink:"/pages/66f25c/",categories:["å¤§æ°æ®","Hive"],tags:[null]},regularPath:"/%E5%A4%A7%E6%95%B0%E6%8D%AE/03.Hive/02.%E7%8E%AF%E5%A2%83.html",relativePath:"å¤§æ°æ®/03.Hive/02.ç¯å¢.md",key:"v-b7e4068e",path:"/pages/66f25c/",headers:[{level:2,title:"æ¥è¯¢mysqlçæ¬",slug:"æ¥è¯¢mysqlçæ¬",normalizedTitle:"æ¥è¯¢mysqlçæ¬",charIndex:9},{level:2,title:"å®è£hive",slug:"å®è£hive",normalizedTitle:"å®è£hive",charIndex:1357},{level:2,title:"Hiveçåæ°æ®éç½®å°mysql",slug:"hiveçåæ°æ®éç½®å°mysql",normalizedTitle:"hiveçåæ°æ®éç½®å°mysql",charIndex:1749},{level:2,title:"Tezå¼æ",slug:"tezå¼æ",normalizedTitle:"tezå¼æ",charIndex:3537},{level:2,title:"å¯å¨",slug:"å¯å¨",normalizedTitle:"å¯å¨",charIndex:884},{level:2,title:"æ´æ¢Tezå¼æåï¼æ§è¡ä»»å¡å¡ä½",slug:"æ´æ¢tezå¼æå-æ§è¡ä»»å¡å¡ä½",normalizedTitle:"æ´æ¢tezå¼æåï¼æ§è¡ä»»å¡å¡ä½",charIndex:7847},{level:2,title:"éåå é¤yarnä¸­ææapp",slug:"éåå é¤yarnä¸­ææapp",normalizedTitle:"éåå é¤yarnä¸­ææapp",charIndex:8375},{level:2,title:"Tez UI",slug:"tez-ui",normalizedTitle:"tez ui",charIndex:8706}],headersStr:"æ¥è¯¢mysqlçæ¬ å®è£hive Hiveçåæ°æ®éç½®å°mysql Tezå¼æ å¯å¨ æ´æ¢Tezå¼æåï¼æ§è¡ä»»å¡å¡ä½ éåå é¤yarnä¸­ææapp Tez UI",content:'# ç¯å¢\n\n\n# æ¥è¯¢mysqlçæ¬\n\nrpm -qa | grep -i -E mysql\\|mariadb \n\n\n1\n\n\nå¸è½½\n\nrpm -qa | grep -i -E mysql\\|mariadb | xargs -n1 sudo rpm -e --nodeps\n\n\n1\n\n\nå®è£\n\nsudo rpm -ivh 01_mysql-community-common-5.7.29-1.el7.x86_64.rpm\nsudo rpm -ivh 02_mysql-community-libs-5.7.29-1.el7.x86_64.rpm\nsudo rpm -ivh 03_mysql-community-libs-compat-5.7.29-1.el7.x86_64.rpm\nsudo rpm -ivh 04_mysql-community-client-5.7.29-1.el7.x86_64.rpm\nsudo rpm -ivh 05_mysql-community-server-5.7.29-1.el7.x86_64.rpm\nsudo systemctl start mysqld\n\n\n1\n2\n3\n4\n5\n6\n\n\n6.5å®è£\n\nwget https://cdn.mysql.com//archives/mysql-5.7/mysql-5.7.14-1.el6.x86_64.rpm-bundle.tar\nrpm -ivh mysql-community-common-5.7.14-1.el6.x86_64.rpm\nrpm -ivh mysql-community-libs-5.7.14-1.el6.x86_64.rpm\nrpm -ivh mysql-community-client-5.7.14-1.el6.x86_64.rpm\nrpm -ivh mysql-community-server-5.7.14-1.el6.x86_64.rpm\n\nservice mysqld start\nchkconfig mysqld on       #è®¾ç½®å¼æºèªå¯å¨\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n\n\nå¦æä¸è¡å å¨åé¢å ä¸ --nodeps --force å®è£æ¶ä¸ååæåä¹é´çä¾èµå³ç³»èç´æ¥å®è£\n\næ¥è¯¢mysqlå¯ç \n\nsudo cat /var/log/mysqld.log | grep password\n\n\n1\n\n\nä¿®æ¹mysqlå¯ç \n\n mysql -uroot -pâpasswordâ\n\n\n1\n\n\nè®¾ç½®å¤æå¯ç (ç±äºmysqlå¯ç ç­ç¥ï¼æ­¤å¯ç å¿é¡»è¶³å¤å¤æ)\n\nset global validate_password_length=4;\nset global validate_password_policy=0;\n\n\n1\n2\n\n\nè®¾ç½®å¯ç \n\nset password=password("A373213257s");\n\n\n1\n\n\nuse mysql\nselect user, host from user;\nupdate user set host="%" where user="root";  \nflush privileges;\nquit;\n\n\n1\n2\n3\n4\n5\n\n\n\n# å®è£hive\n\ntar -zxvf /opt/software/apache-hive-3.1.2-bin.tar.gz -C /opt/module/\nmv /opt/module/apache-hive-3.1.2-bin/ /opt/module/hive\n#ç¯å¢åé\nsudo vim /etc/profile.d/my_env.sh\n\n\n1\n2\n3\n4\n\n\n#HIVE_HOME\nexport HIVE_HOME=/opt/module/hive\nexport PATH=$PATH:$HIVE_HOME/bin\n\n\n1\n2\n3\n\n\nsource /etc/profile\nmv $HIVE_HOME/lib/log4j-slf4j-impl-2.10.0.jar $HIVE_HOME/lib/log4j-slf4j-impl-2.10.0.bak\n\n\n1\n2\n\n\n\n# Hiveçåæ°æ®éç½®å°mysql\n\ncp /opt/software/mysql-connector-java-5.1.48.jar $HIVE_HOME/lib\nvim $HIVE_HOME/conf/hive-site.xml\n\n\n1\n2\n\n\néç½®hive-site.xml\n\n<?xml version="1.0"?>\n<?xml-stylesheet type="text/xsl" href="configuration.xsl"?>\n<configuration>\n    <property>\n        \x3c!-- mysql è¿æ¥å°å--\x3e\n        <name>javax.jdo.option.ConnectionURL</name>\n        <value>jdbc:mysql://hadoop102:3306/metastore?useSSL=false</value>\n    </property>\n\n    <property>\n         \x3c!--é©±å¨ --\x3e\n        <name>javax.jdo.option.ConnectionDriverName</name>\n        <value>com.mysql.jdbc.Driver</value>\n    </property>\n\n    <property>\n         \x3c!--ç¨æ· --\x3e\n        <name>javax.jdo.option.ConnectionUserName</name>\n        <value>root</value>\n    </property>\n\n    <property>\n         \x3c!--å¯ç  --\x3e\n        <name>javax.jdo.option.ConnectionPassword</name>\n        <value>A373213257s</value>\n    </property>\n\n    <property>\n         \x3c!--hiveåæ°æ®ä»åºä½ç½® --\x3e\n        <name>hive.metastore.warehouse.dir</name>\n        <value>/user/hive/warehouse</value>\n    </property>\n\n    <property>\n        <name>hive.metastore.schema.verification</name>\n        <value>false</value>\n    </property>\n\n    <property>\n        <name>hive.metastore.uris</name>\n        <value>thrift://hadoop102:9083</value>\n    </property>\n\n    <property>\n    <name>hive.server2.thrift.port</name>\n    <value>10000</value>\n    </property>\n\n    <property>\n        <name>hive.server2.thrift.bind.host</name>\n        <value>hadoop102</value>\n    </property>\n\n    <property>\n        <name>hive.metastore.event.db.notification.api.auth</name>\n        <value>false</value>\n    </property>\n\n</configuration>\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n26\n27\n28\n29\n30\n31\n32\n33\n34\n35\n36\n37\n38\n39\n40\n41\n42\n43\n44\n45\n46\n47\n48\n49\n50\n51\n52\n53\n54\n55\n56\n57\n58\n59\n\n\n\n# Tezå¼æ\n\nTezå¯ä»¥å°å¤ä¸ªæä¾èµçä½ä¸è½¬æ¢ä¸ºä¸ä¸ªä½ä¸ï¼è¿æ ·åªéåä¸æ¬¡HDFSï¼ä¸ä¸­é´èç¹è¾å°ï¼ä»èå¤§å¤§æåä½ä¸çè®¡ç®æ§è½\n\n#è§£å\nmkdir /opt/module/tez\ntar -zxvf /opt/software/tez-0.10.1-SNAPSHOT.tar.gz -C /opt/module/tez\n\n#ä¸ä¼ Tezå°hdfs\nhadoop fs -mkdir /tez\nhadoop fs -put /opt/software/tez-0.10.1-SNAPSHOT.tar.gz /tez\n\n#æ°å»ºtez-size.xml\nvim $HADOOP_HOME/etc/hadoop/tez-site.xml\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n\n\néç½®tez-size.xml\n\n<?xml version="1.0" encoding="UTF-8"?>\n<?xml-stylesheet type="text/xsl" href="configuration.xsl"?>\n<configuration>\n<property>\n\t<name>tez.lib.uris</name>\n    <value>${fs.defaultFS}/tez/tez-0.10.1-SNAPSHOT.tar.gz</value>\n</property>\n<property>\n     <name>tez.use.cluster.hadoop-libs</name>\n     <value>true</value>\n</property>\n<property>\n     <name>tez.am.resource.memory.mb</name>\n     <value>1024</value>\n</property>\n<property>\n     <name>tez.am.resource.cpu.vcores</name>\n     <value>1</value>\n</property>\n    \x3c!--task\\AMå ç¨JVM Xmxçæ¯ä¾ï¼è¯¥åæ°å»ºè®®è°æ´ï¼éæ ¹æ®å·ä½ä¸å¡æåµä¿®æ¹ é»è®¤0.8 --\x3e\n<property>\n     <name>tez.container.max.java.heap.fraction</name>\n     <value>0.8</value>\n</property>\n<property>\n     <name>tez.task.resource.memory.mb</name>\n     <value>1024</value>\n</property>\n<property>\n     <name>tez.task.resource.cpu.vcores</name>\n     <value>1</value>\n</property>\n</configuration>\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n26\n27\n28\n29\n30\n31\n32\n33\n\n\nä¿®æ¹Hadoopç¯å¢åé\n\nvim $HADOOP_HOME/etc/hadoop/shellprofile.d/tez.sh\n\n\n1\n\n\nhadoop_add_profile tez\nfunction _tez_hadoop_classpath\n{\n    hadoop_add_classpath "$HADOOP_HOME/etc/hadoop" after\n    hadoop_add_classpath "/opt/module/tez/*" after\n    hadoop_add_classpath "/opt/module/tez/lib/*" after\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n\n\nä¿®æ¹Hiveçè®¡ç®æ¨¡å\n\nvim $HIVE_HOME/conf/hive-site.xml\n\n\n1\n\n\nè¿½å \n\n<property>\n    <name>hive.execution.engine</name>\n    <value>tez</value>\n</property>\n<property>\n    <name>hive.tez.container.size</name>\n    <value>1024</value>\n</property>\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n\n\nè§£å³æ¥å¿jaråå²çª\n\nrm /opt/module/tez/lib/slf4j-log4j12-1.7.10.jar\n\n\n1\n\n\n\n# å¯å¨\n\nmysql -uroot -pA373213257s\n\n#å»ºåº\ncreate database metastore;\nquit;\n\n#åå§åhive\nschematool -initSchema -dbType mysql -verbose\n\n#ç¼åå¯å¨èæ¬\nvim $HIVE_HOME/bin/hiveservices.sh\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n\n\n#!/bin/bash\nHIVE_LOG_DIR=$HIVE_HOME/logs\n\nmkdir -p $HIVE_LOG_DIR\n\n#æ£æ¥è¿ç¨æ¯å¦è¿è¡æ­£å¸¸ï¼åæ°1ä¸ºè¿ç¨åï¼åæ°2ä¸ºè¿ç¨ç«¯å£\nfunction check_process()\n{\n    pid=$(ps -ef 2>/dev/null | grep -v grep | grep -i $1 | awk \'{print $2}\')\n    ppid=$(netstat -nltp 2>/dev/null | grep $2 | awk \'{print $7}\' | cut -d \'/\' -f 1)\n    echo $pid\n    [[ "$pid" =~ "$ppid" ]] && [ "$ppid" ] && return 0 || return 1\n}\n\nfunction hive_start()\n{\n    metapid=$(check_process HiveMetastore 9083)\n    cmd="nohup hive --service metastore >$HIVE_LOG_DIR/metastore.log 2>&1 &"\n    cmd=$cmd" sleep4; hdfs dfsadmin -safemode wait >/dev/null 2>&1"\n    [ -z "$metapid" ] && eval $cmd || echo "Metastroeæå¡å·²å¯å¨"\n    server2pid=$(check_process HiveServer2 10000)\n    cmd="nohup hive --service hiveserver2 >$HIVE_LOG_DIR/hiveServer2.log 2>&1 &"\n    [ -z "$server2pid" ] && eval $cmd || echo "HiveServer2æå¡å·²å¯å¨"\n}\n\nfunction hive_stop()\n{\n    metapid=$(check_process HiveMetastore 9083)\n    [ "$metapid" ] && kill $metapid || echo "Metastoreæå¡æªå¯å¨"\n    server2pid=$(check_process HiveServer2 10000)\n    [ "$server2pid" ] && kill $server2pid || echo "HiveServer2æå¡æªå¯å¨"\n}\n\ncase $1 in\n"start")\n    hive_start\n    ;;\n"stop")\n    hive_stop\n    ;;\n"restart")\n    hive_stop\n    sleep 2\n    hive_start\n    ;;\n"status")\n    check_process HiveMetastore 9083 >/dev/null && echo "Metastoreæå¡è¿è¡æ­£å¸¸" || echo "Metastoreæå¡è¿è¡å¼å¸¸"\n    check_process HiveServer2 10000 >/dev/null && echo "HiveServer2æå¡è¿è¡æ­£å¸¸" || echo "HiveServer2æå¡è¿è¡å¼å¸¸"\n    ;;\n*)\n    echo Invalid Args!\n    echo \'Usage: \'$(basename $0)\' start|stop|restart|status\'\n    ;;\nesac\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n26\n27\n28\n29\n30\n31\n32\n33\n34\n35\n36\n37\n38\n39\n40\n41\n42\n43\n44\n45\n46\n47\n48\n49\n50\n51\n52\n53\n54\n\n\nä¿®æ¹æ¥å¿éç½®\n\nvim /opt/module/hive/conf/hive-log4j2.properties.template\n#ä¿®æ¹ä»¥ä¸å±æ§çå¼\nproperty.hive.log.dir = /opt/module/hive/logs\n\n\n1\n2\n3\n\n\nå¯å¨èæ¬\n\nchmod +x $HIVE_HOME/bin/hiveservices.sh\nhiveservices.sh start\n\njps\n#å¦æçå°2ä¸ªRunJaråæå\n\n\n1\n2\n3\n4\n5\n\n\nä»¥å®æ¹å½ä»¤è¡å®¢æ·ç«¯ beeline å¯å¨HiveJDBC\n\nå¨åªå°æºå¨å¯å¨æå¡å°±ä»¥åªå°æå¡å¨ipä¸ºå\n\nbeeline -u jdbc:hive2://hadoop102:10000 -n atguigu\n\n\n1\n\n\nHive 2.xä»¥ä¸çæ¬ï¼è¦åå¯å¨è¿ä¸¤ä¸ªæå¡ï¼å¦åä¼æ¥é\n\nå¦æä¸ä»¥èæ¬æ¹å¼å¯å¨å¿é¡»åå¯å¨ hiveæå¡ç«¯åæ°æ®æå¡ å¦åæ æ³æå¼hiveå®¢æ·ç«¯\n\nhive --service metastore &\nhive\n\n\n1\n2\n\n\n\n# æ´æ¢Tezå¼æåï¼æ§è¡ä»»å¡å¡ä½\n\nvim /opt/module/hadoop-3.1.3/etc/hadoop/capacity-scheduler.xml\n\n\n1\n\n\n<property>\n    <name>yarn.scheduler.capacity.maximum-am-resource-percent</name>\n    \x3c!-- æ´æ¹ä¸º1  --\x3e\n    <value>1</value>\n    <description>\n      Maximum percent of resources in the cluster which can be used to run \n      application masters i.e. controls number of concurrent running\n      applications.\n    </description>\n</property>\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n\n\nsudo xsync /opt/module/hadoop-3.1.3/etc/hadoop/capacity-scheduler.xml #åæ­¥\n\n\n1\n\n\n\n# éåå é¤yarnä¸­ææapp\n\nfor i in  `yarn application  -list | grep -w  ACCEPTED | awk \'{print $1}\' | grep application_`; do yarn  application -kill $i; done\nhadoop job -list #ä»»å¡åè¡¨\nyarn application -list # yarnçapp\nyarn node -list all # æ¥çææèç¹\nhdfs dfsadmin -safemode get # æ¥çæ¯å¦æ¯å®å¨æ¨¡å¼\nhadoop dfsadmin -report  #æ¥çæ¯ä¸ªèç¹çå·ä½\n\n\n1\n2\n3\n4\n5\n6\n\n\n\n\n\n# Tez UI\n\nä»¥ä¸æä½åå¨103èç¹ä¸­æä½\n\ntez-site.xml\n\nè¿½å \n\n<property>\n  <description>Enable Tez to use the Timeline Server for History Logging</description>\n  <name>tez.history.logging.service.class</name>\n  <value>org.apache.tez.dag.history.logging.ats.ATSHistoryLoggingService</value>\n</property>\n\n<property>\n  <description>URL for where the Tez UI is hosted</description>\n  <name>tez.tez-ui.history-url.base</name>\n  <value>http://hadoop103/tez-ui/</value>\n</property>\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n\n\nyarn-site.xml\n\nè¿½å \n\n<property>\n  <description>Indicate to clients whether Timeline service is enabled or not.\n  If enabled, the TimelineClient library used by end-users will post entities\n  and events to the Timeline server.</description>\n  <name>yarn.timeline-service.enabled</name>\n  <value>true</value>\n</property>\n\n<property>\n  <description>The hostname of the Timeline service web application.</description>\n  <name>yarn.timeline-service.hostname</name>\n  <value>hadoop103</value>\n</property>\n\n<property>\n  <description>Enables cross-origin support (CORS) for web services where\n  cross-origin web response headers are needed. For example, javascript making\n  a web services request to the timeline server.</description>\n  <name>yarn.timeline-service.http-cross-origin.enabled</name>\n  <value>true</value>\n</property>\n\n<property>\n  <description>Publish YARN information to Timeline Server</description>\n  <name> yarn.resourcemanager.system-metrics-publisher.enabled</name>\n  <value>true</value>\n</property>\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n26\n27\n\n\nå¯ç¨tomcatæå¡å¨\n\nsudo yum install -y tomcat\nsudo groupmems -g tomcat -a atguigu # å°atguiguæ·»å å°,éæ°è¿æ¥shell\n#rpm -qa | grep java- | xargs -n sudo rpm -e --nodeps # å é¤tomcatèªå¸¦çjava\n\n\n\n1\n2\n3\n4\n\n\nä¸è½½tezçæ¬å¯¹åºçwaråå¹¶è§£å\n\nhttps://repository.apache.org/content/repositories/releases/org/apache/tez/tez-ui/\n\nsudo yum -y install unzip\ncd /var/lib/tomcat/wabapps #ä¸ä¼ å°æ­¤ç®å½\n\nmkdir tez-ui\nuzip tez-ui-0.10.1.war -d tez-ui #è§£å å°tocatä¸­\nrm tez-ui-0.10.1.war\n\ncd tez-ui/config\nvim configs.env\n\n#å°éé¢çwebå°å å¨é¨æ¹æhadoop103\nsudo systemctl start tomcat #å¯å¨æå¡\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n\n\néå¯yarn,å¹¶å¯å¨timeline server\n\nstop-yarn.sh\nstart-yarn.sh\nyarn --daemon start timelineserver #å¯å¨timeline serveræå¡\n\n\n1\n2\n3\n',normalizedContent:'# ç¯å¢\n\n\n# æ¥è¯¢mysqlçæ¬\n\nrpm -qa | grep -i -e mysql\\|mariadb \n\n\n1\n\n\nå¸è½½\n\nrpm -qa | grep -i -e mysql\\|mariadb | xargs -n1 sudo rpm -e --nodeps\n\n\n1\n\n\nå®è£\n\nsudo rpm -ivh 01_mysql-community-common-5.7.29-1.el7.x86_64.rpm\nsudo rpm -ivh 02_mysql-community-libs-5.7.29-1.el7.x86_64.rpm\nsudo rpm -ivh 03_mysql-community-libs-compat-5.7.29-1.el7.x86_64.rpm\nsudo rpm -ivh 04_mysql-community-client-5.7.29-1.el7.x86_64.rpm\nsudo rpm -ivh 05_mysql-community-server-5.7.29-1.el7.x86_64.rpm\nsudo systemctl start mysqld\n\n\n1\n2\n3\n4\n5\n6\n\n\n6.5å®è£\n\nwget https://cdn.mysql.com//archives/mysql-5.7/mysql-5.7.14-1.el6.x86_64.rpm-bundle.tar\nrpm -ivh mysql-community-common-5.7.14-1.el6.x86_64.rpm\nrpm -ivh mysql-community-libs-5.7.14-1.el6.x86_64.rpm\nrpm -ivh mysql-community-client-5.7.14-1.el6.x86_64.rpm\nrpm -ivh mysql-community-server-5.7.14-1.el6.x86_64.rpm\n\nservice mysqld start\nchkconfig mysqld on       #è®¾ç½®å¼æºèªå¯å¨\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n\n\nå¦æä¸è¡å å¨åé¢å ä¸ --nodeps --force å®è£æ¶ä¸ååæåä¹é´çä¾èµå³ç³»èç´æ¥å®è£\n\næ¥è¯¢mysqlå¯ç \n\nsudo cat /var/log/mysqld.log | grep password\n\n\n1\n\n\nä¿®æ¹mysqlå¯ç \n\n mysql -uroot -pâpasswordâ\n\n\n1\n\n\nè®¾ç½®å¤æå¯ç (ç±äºmysqlå¯ç ç­ç¥ï¼æ­¤å¯ç å¿é¡»è¶³å¤å¤æ)\n\nset global validate_password_length=4;\nset global validate_password_policy=0;\n\n\n1\n2\n\n\nè®¾ç½®å¯ç \n\nset password=password("a373213257s");\n\n\n1\n\n\nuse mysql\nselect user, host from user;\nupdate user set host="%" where user="root";  \nflush privileges;\nquit;\n\n\n1\n2\n3\n4\n5\n\n\n\n# å®è£hive\n\ntar -zxvf /opt/software/apache-hive-3.1.2-bin.tar.gz -c /opt/module/\nmv /opt/module/apache-hive-3.1.2-bin/ /opt/module/hive\n#ç¯å¢åé\nsudo vim /etc/profile.d/my_env.sh\n\n\n1\n2\n3\n4\n\n\n#hive_home\nexport hive_home=/opt/module/hive\nexport path=$path:$hive_home/bin\n\n\n1\n2\n3\n\n\nsource /etc/profile\nmv $hive_home/lib/log4j-slf4j-impl-2.10.0.jar $hive_home/lib/log4j-slf4j-impl-2.10.0.bak\n\n\n1\n2\n\n\n\n# hiveçåæ°æ®éç½®å°mysql\n\ncp /opt/software/mysql-connector-java-5.1.48.jar $hive_home/lib\nvim $hive_home/conf/hive-site.xml\n\n\n1\n2\n\n\néç½®hive-site.xml\n\n<?xml version="1.0"?>\n<?xml-stylesheet type="text/xsl" href="configuration.xsl"?>\n<configuration>\n    <property>\n        \x3c!-- mysql è¿æ¥å°å--\x3e\n        <name>javax.jdo.option.connectionurl</name>\n        <value>jdbc:mysql://hadoop102:3306/metastore?usessl=false</value>\n    </property>\n\n    <property>\n         \x3c!--é©±å¨ --\x3e\n        <name>javax.jdo.option.connectiondrivername</name>\n        <value>com.mysql.jdbc.driver</value>\n    </property>\n\n    <property>\n         \x3c!--ç¨æ· --\x3e\n        <name>javax.jdo.option.connectionusername</name>\n        <value>root</value>\n    </property>\n\n    <property>\n         \x3c!--å¯ç  --\x3e\n        <name>javax.jdo.option.connectionpassword</name>\n        <value>a373213257s</value>\n    </property>\n\n    <property>\n         \x3c!--hiveåæ°æ®ä»åºä½ç½® --\x3e\n        <name>hive.metastore.warehouse.dir</name>\n        <value>/user/hive/warehouse</value>\n    </property>\n\n    <property>\n        <name>hive.metastore.schema.verification</name>\n        <value>false</value>\n    </property>\n\n    <property>\n        <name>hive.metastore.uris</name>\n        <value>thrift://hadoop102:9083</value>\n    </property>\n\n    <property>\n    <name>hive.server2.thrift.port</name>\n    <value>10000</value>\n    </property>\n\n    <property>\n        <name>hive.server2.thrift.bind.host</name>\n        <value>hadoop102</value>\n    </property>\n\n    <property>\n        <name>hive.metastore.event.db.notification.api.auth</name>\n        <value>false</value>\n    </property>\n\n</configuration>\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n26\n27\n28\n29\n30\n31\n32\n33\n34\n35\n36\n37\n38\n39\n40\n41\n42\n43\n44\n45\n46\n47\n48\n49\n50\n51\n52\n53\n54\n55\n56\n57\n58\n59\n\n\n\n# tezå¼æ\n\ntezå¯ä»¥å°å¤ä¸ªæä¾èµçä½ä¸è½¬æ¢ä¸ºä¸ä¸ªä½ä¸ï¼è¿æ ·åªéåä¸æ¬¡hdfsï¼ä¸ä¸­é´èç¹è¾å°ï¼ä»èå¤§å¤§æåä½ä¸çè®¡ç®æ§è½\n\n#è§£å\nmkdir /opt/module/tez\ntar -zxvf /opt/software/tez-0.10.1-snapshot.tar.gz -c /opt/module/tez\n\n#ä¸ä¼ tezå°hdfs\nhadoop fs -mkdir /tez\nhadoop fs -put /opt/software/tez-0.10.1-snapshot.tar.gz /tez\n\n#æ°å»ºtez-size.xml\nvim $hadoop_home/etc/hadoop/tez-site.xml\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n\n\néç½®tez-size.xml\n\n<?xml version="1.0" encoding="utf-8"?>\n<?xml-stylesheet type="text/xsl" href="configuration.xsl"?>\n<configuration>\n<property>\n\t<name>tez.lib.uris</name>\n    <value>${fs.defaultfs}/tez/tez-0.10.1-snapshot.tar.gz</value>\n</property>\n<property>\n     <name>tez.use.cluster.hadoop-libs</name>\n     <value>true</value>\n</property>\n<property>\n     <name>tez.am.resource.memory.mb</name>\n     <value>1024</value>\n</property>\n<property>\n     <name>tez.am.resource.cpu.vcores</name>\n     <value>1</value>\n</property>\n    \x3c!--task\\amå ç¨jvm xmxçæ¯ä¾ï¼è¯¥åæ°å»ºè®®è°æ´ï¼éæ ¹æ®å·ä½ä¸å¡æåµä¿®æ¹ é»è®¤0.8 --\x3e\n<property>\n     <name>tez.container.max.java.heap.fraction</name>\n     <value>0.8</value>\n</property>\n<property>\n     <name>tez.task.resource.memory.mb</name>\n     <value>1024</value>\n</property>\n<property>\n     <name>tez.task.resource.cpu.vcores</name>\n     <value>1</value>\n</property>\n</configuration>\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n26\n27\n28\n29\n30\n31\n32\n33\n\n\nä¿®æ¹hadoopç¯å¢åé\n\nvim $hadoop_home/etc/hadoop/shellprofile.d/tez.sh\n\n\n1\n\n\nhadoop_add_profile tez\nfunction _tez_hadoop_classpath\n{\n    hadoop_add_classpath "$hadoop_home/etc/hadoop" after\n    hadoop_add_classpath "/opt/module/tez/*" after\n    hadoop_add_classpath "/opt/module/tez/lib/*" after\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n\n\nä¿®æ¹hiveçè®¡ç®æ¨¡å\n\nvim $hive_home/conf/hive-site.xml\n\n\n1\n\n\nè¿½å \n\n<property>\n    <name>hive.execution.engine</name>\n    <value>tez</value>\n</property>\n<property>\n    <name>hive.tez.container.size</name>\n    <value>1024</value>\n</property>\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n\n\nè§£å³æ¥å¿jaråå²çª\n\nrm /opt/module/tez/lib/slf4j-log4j12-1.7.10.jar\n\n\n1\n\n\n\n# å¯å¨\n\nmysql -uroot -pa373213257s\n\n#å»ºåº\ncreate database metastore;\nquit;\n\n#åå§åhive\nschematool -initschema -dbtype mysql -verbose\n\n#ç¼åå¯å¨èæ¬\nvim $hive_home/bin/hiveservices.sh\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n\n\n#!/bin/bash\nhive_log_dir=$hive_home/logs\n\nmkdir -p $hive_log_dir\n\n#æ£æ¥è¿ç¨æ¯å¦è¿è¡æ­£å¸¸ï¼åæ°1ä¸ºè¿ç¨åï¼åæ°2ä¸ºè¿ç¨ç«¯å£\nfunction check_process()\n{\n    pid=$(ps -ef 2>/dev/null | grep -v grep | grep -i $1 | awk \'{print $2}\')\n    ppid=$(netstat -nltp 2>/dev/null | grep $2 | awk \'{print $7}\' | cut -d \'/\' -f 1)\n    echo $pid\n    [[ "$pid" =~ "$ppid" ]] && [ "$ppid" ] && return 0 || return 1\n}\n\nfunction hive_start()\n{\n    metapid=$(check_process hivemetastore 9083)\n    cmd="nohup hive --service metastore >$hive_log_dir/metastore.log 2>&1 &"\n    cmd=$cmd" sleep4; hdfs dfsadmin -safemode wait >/dev/null 2>&1"\n    [ -z "$metapid" ] && eval $cmd || echo "metastroeæå¡å·²å¯å¨"\n    server2pid=$(check_process hiveserver2 10000)\n    cmd="nohup hive --service hiveserver2 >$hive_log_dir/hiveserver2.log 2>&1 &"\n    [ -z "$server2pid" ] && eval $cmd || echo "hiveserver2æå¡å·²å¯å¨"\n}\n\nfunction hive_stop()\n{\n    metapid=$(check_process hivemetastore 9083)\n    [ "$metapid" ] && kill $metapid || echo "metastoreæå¡æªå¯å¨"\n    server2pid=$(check_process hiveserver2 10000)\n    [ "$server2pid" ] && kill $server2pid || echo "hiveserver2æå¡æªå¯å¨"\n}\n\ncase $1 in\n"start")\n    hive_start\n    ;;\n"stop")\n    hive_stop\n    ;;\n"restart")\n    hive_stop\n    sleep 2\n    hive_start\n    ;;\n"status")\n    check_process hivemetastore 9083 >/dev/null && echo "metastoreæå¡è¿è¡æ­£å¸¸" || echo "metastoreæå¡è¿è¡å¼å¸¸"\n    check_process hiveserver2 10000 >/dev/null && echo "hiveserver2æå¡è¿è¡æ­£å¸¸" || echo "hiveserver2æå¡è¿è¡å¼å¸¸"\n    ;;\n*)\n    echo invalid args!\n    echo \'usage: \'$(basename $0)\' start|stop|restart|status\'\n    ;;\nesac\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n26\n27\n28\n29\n30\n31\n32\n33\n34\n35\n36\n37\n38\n39\n40\n41\n42\n43\n44\n45\n46\n47\n48\n49\n50\n51\n52\n53\n54\n\n\nä¿®æ¹æ¥å¿éç½®\n\nvim /opt/module/hive/conf/hive-log4j2.properties.template\n#ä¿®æ¹ä»¥ä¸å±æ§çå¼\nproperty.hive.log.dir = /opt/module/hive/logs\n\n\n1\n2\n3\n\n\nå¯å¨èæ¬\n\nchmod +x $hive_home/bin/hiveservices.sh\nhiveservices.sh start\n\njps\n#å¦æçå°2ä¸ªrunjaråæå\n\n\n1\n2\n3\n4\n5\n\n\nä»¥å®æ¹å½ä»¤è¡å®¢æ·ç«¯ beeline å¯å¨hivejdbc\n\nå¨åªå°æºå¨å¯å¨æå¡å°±ä»¥åªå°æå¡å¨ipä¸ºå\n\nbeeline -u jdbc:hive2://hadoop102:10000 -n atguigu\n\n\n1\n\n\nhive 2.xä»¥ä¸çæ¬ï¼è¦åå¯å¨è¿ä¸¤ä¸ªæå¡ï¼å¦åä¼æ¥é\n\nå¦æä¸ä»¥èæ¬æ¹å¼å¯å¨å¿é¡»åå¯å¨ hiveæå¡ç«¯åæ°æ®æå¡ å¦åæ æ³æå¼hiveå®¢æ·ç«¯\n\nhive --service metastore &\nhive\n\n\n1\n2\n\n\n\n# æ´æ¢tezå¼æåï¼æ§è¡ä»»å¡å¡ä½\n\nvim /opt/module/hadoop-3.1.3/etc/hadoop/capacity-scheduler.xml\n\n\n1\n\n\n<property>\n    <name>yarn.scheduler.capacity.maximum-am-resource-percent</name>\n    \x3c!-- æ´æ¹ä¸º1  --\x3e\n    <value>1</value>\n    <description>\n      maximum percent of resources in the cluster which can be used to run \n      application masters i.e. controls number of concurrent running\n      applications.\n    </description>\n</property>\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n\n\nsudo xsync /opt/module/hadoop-3.1.3/etc/hadoop/capacity-scheduler.xml #åæ­¥\n\n\n1\n\n\n\n# éåå é¤yarnä¸­ææapp\n\nfor i in  `yarn application  -list | grep -w  accepted | awk \'{print $1}\' | grep application_`; do yarn  application -kill $i; done\nhadoop job -list #ä»»å¡åè¡¨\nyarn application -list # yarnçapp\nyarn node -list all # æ¥çææèç¹\nhdfs dfsadmin -safemode get # æ¥çæ¯å¦æ¯å®å¨æ¨¡å¼\nhadoop dfsadmin -report  #æ¥çæ¯ä¸ªèç¹çå·ä½\n\n\n1\n2\n3\n4\n5\n6\n\n\n\n\n\n# tez ui\n\nä»¥ä¸æä½åå¨103èç¹ä¸­æä½\n\ntez-site.xml\n\nè¿½å \n\n<property>\n  <description>enable tez to use the timeline server for history logging</description>\n  <name>tez.history.logging.service.class</name>\n  <value>org.apache.tez.dag.history.logging.ats.atshistoryloggingservice</value>\n</property>\n\n<property>\n  <description>url for where the tez ui is hosted</description>\n  <name>tez.tez-ui.history-url.base</name>\n  <value>http://hadoop103/tez-ui/</value>\n</property>\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n\n\nyarn-site.xml\n\nè¿½å \n\n<property>\n  <description>indicate to clients whether timeline service is enabled or not.\n  if enabled, the timelineclient library used by end-users will post entities\n  and events to the timeline server.</description>\n  <name>yarn.timeline-service.enabled</name>\n  <value>true</value>\n</property>\n\n<property>\n  <description>the hostname of the timeline service web application.</description>\n  <name>yarn.timeline-service.hostname</name>\n  <value>hadoop103</value>\n</property>\n\n<property>\n  <description>enables cross-origin support (cors) for web services where\n  cross-origin web response headers are needed. for example, javascript making\n  a web services request to the timeline server.</description>\n  <name>yarn.timeline-service.http-cross-origin.enabled</name>\n  <value>true</value>\n</property>\n\n<property>\n  <description>publish yarn information to timeline server</description>\n  <name> yarn.resourcemanager.system-metrics-publisher.enabled</name>\n  <value>true</value>\n</property>\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n26\n27\n\n\nå¯ç¨tomcatæå¡å¨\n\nsudo yum install -y tomcat\nsudo groupmems -g tomcat -a atguigu # å°atguiguæ·»å å°,éæ°è¿æ¥shell\n#rpm -qa | grep java- | xargs -n sudo rpm -e --nodeps # å é¤tomcatèªå¸¦çjava\n\n\n\n1\n2\n3\n4\n\n\nä¸è½½tezçæ¬å¯¹åºçwaråå¹¶è§£å\n\nhttps://repository.apache.org/content/repositories/releases/org/apache/tez/tez-ui/\n\nsudo yum -y install unzip\ncd /var/lib/tomcat/wabapps #ä¸ä¼ å°æ­¤ç®å½\n\nmkdir tez-ui\nuzip tez-ui-0.10.1.war -d tez-ui #è§£å å°tocatä¸­\nrm tez-ui-0.10.1.war\n\ncd tez-ui/config\nvim configs.env\n\n#å°éé¢çwebå°å å¨é¨æ¹æhadoop103\nsudo systemctl start tomcat #å¯å¨æå¡\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n\n\néå¯yarn,å¹¶å¯å¨timeline server\n\nstop-yarn.sh\nstart-yarn.sh\nyarn --daemon start timelineserver #å¯å¨timeline serveræå¡\n\n\n1\n2\n3\n',charsets:{cjk:!0},lastUpdated:"2022/03/18, 07:01:11",lastUpdatedTimestamp:1647558071e3},{title:"å®¢æ·ç«¯å½ä»¤è¡æä½",frontmatter:{title:"å®¢æ·ç«¯å½ä»¤è¡æä½",date:"2022-03-17T22:07:07.000Z",permalink:"/pages/be648b/",categories:["å¤§æ°æ®","Zookeeper"],tags:[null]},regularPath:"/%E5%A4%A7%E6%95%B0%E6%8D%AE/02.Zookeeper/03.%E5%AE%A2%E6%88%B7%E7%AB%AF%E5%91%BD%E4%BB%A4%E8%A1%8C%E6%93%8D%E4%BD%9C.html",relativePath:"å¤§æ°æ®/02.Zookeeper/03.å®¢æ·ç«¯å½ä»¤è¡æä½.md",key:"v-051079fa",path:"/pages/be648b/",headersStr:null,content:"# å®¢æ·ç«¯å½ä»¤è¡æä½\n\nå½ä»¤åºæ¬è¯­æ³      åè½æè¿°\nhelp        æ¾ç¤ºæææä½å½ä»¤\nls path     ä½¿ç¨ ls å½ä»¤æ¥æ¥çå½åznodeçå­èç¹ -w çå¬å­èç¹åå -s éå æ¬¡çº§ä¿¡æ¯\ncreate      æ®éåå»º -s å«æåºå -e ä¸´æ¶ï¼éå¯æèè¶æ¶æ¶å¤±ï¼ -es ä¸´æ¶æåºèç¹\nget path    è·å¾èç¹çå¼ -w çå¬èç¹åå®¹åå -s éå æ¬¡çº§ä¿¡æ¯\nset         è®¾ç½®èç¹çå·ä½å¼\nstat        æ¥çèç¹ç¶æ\ndelete      å é¤èç¹\ndeleteall   éå½å é¤èç¹\n\nå¯å¨å®¢æ·ç«¯\n\nzkCli.sh #å¯å¨\n\n\n1\n\n\nå½ä»¤\n\nls -w / #çå¬æå®è·¯å¾ åçååzookeeperä¼éç¥  åªä¼éç¥ä¸æ¬¡ ç¬¬äºæ¬¡ååä¸ä¼éç¥\nls -s / #æ¥çèç¹çè¯¦ç»ä¿¡æ¯\n\n\n1\n2\n",normalizedContent:"# å®¢æ·ç«¯å½ä»¤è¡æä½\n\nå½ä»¤åºæ¬è¯­æ³      åè½æè¿°\nhelp        æ¾ç¤ºæææä½å½ä»¤\nls path     ä½¿ç¨ ls å½ä»¤æ¥æ¥çå½åznodeçå­èç¹ -w çå¬å­èç¹åå -s éå æ¬¡çº§ä¿¡æ¯\ncreate      æ®éåå»º -s å«æåºå -e ä¸´æ¶ï¼éå¯æèè¶æ¶æ¶å¤±ï¼ -es ä¸´æ¶æåºèç¹\nget path    è·å¾èç¹çå¼ -w çå¬èç¹åå®¹åå -s éå æ¬¡çº§ä¿¡æ¯\nset         è®¾ç½®èç¹çå·ä½å¼\nstat        æ¥çèç¹ç¶æ\ndelete      å é¤èç¹\ndeleteall   éå½å é¤èç¹\n\nå¯å¨å®¢æ·ç«¯\n\nzkcli.sh #å¯å¨\n\n\n1\n\n\nå½ä»¤\n\nls -w / #çå¬æå®è·¯å¾ åçååzookeeperä¼éç¥  åªä¼éç¥ä¸æ¬¡ ç¬¬äºæ¬¡ååä¸ä¼éç¥\nls -s / #æ¥çèç¹çè¯¦ç»ä¿¡æ¯\n\n\n1\n2\n",charsets:{cjk:!0},lastUpdated:"2022/03/18, 07:01:11",lastUpdatedTimestamp:1647558071e3},{title:"ä»ç»",frontmatter:{title:"ä»ç»",date:"2022-03-17T22:07:27.000Z",permalink:"/pages/2315d6/",categories:["å¤§æ°æ®","Hive"],tags:[null]},regularPath:"/%E5%A4%A7%E6%95%B0%E6%8D%AE/03.Hive/01.%E4%BB%8B%E7%BB%8D.html",relativePath:"å¤§æ°æ®/03.Hive/01.ä»ç».md",key:"v-00667d92",path:"/pages/2315d6/",headersStr:null,content:"# ä»ç»\n\nHive æ¯ç± Facebook å¼æºç¨äºè§£å³æµ·éç»æåæ¥å¿çæ°æ®è®¡å·¥å·\n\nHiveæ¯åºäºHadoop çä¸ä¸ªæ°æ®ä»åºå·¥å· å¯ä»¥å°ç»æåçæ°æ®æä»¶æ å°ä¸ºä¸å¼ è¡¨ å¹¶æä¾ç±»SQL æ¥è¯¢åè½",normalizedContent:"# ä»ç»\n\nhive æ¯ç± facebook å¼æºç¨äºè§£å³æµ·éç»æåæ¥å¿çæ°æ®è®¡å·¥å·\n\nhiveæ¯åºäºhadoop çä¸ä¸ªæ°æ®ä»åºå·¥å· å¯ä»¥å°ç»æåçæ°æ®æä»¶æ å°ä¸ºä¸å¼ è¡¨ å¹¶æä¾ç±»sql æ¥è¯¢åè½",charsets:{cjk:!0},lastUpdated:"2022/03/18, 07:01:11",lastUpdatedTimestamp:1647558071e3},{title:"Hive ç±»å",frontmatter:{title:"Hive ç±»å",date:"2022-03-17T22:07:27.000Z",permalink:"/pages/f55408/",categories:["å¤§æ°æ®","Hive"],tags:[null]},regularPath:"/%E5%A4%A7%E6%95%B0%E6%8D%AE/03.Hive/04.Hive%20%E7%B1%BB%E5%9E%8B.html",relativePath:"å¤§æ°æ®/03.Hive/04.Hive ç±»å.md",key:"v-752ff4e6",path:"/pages/f55408/",headers:[{level:2,title:"ä¸ä¼ æä»¶å°è¡¨æ°æ®ä¸­",slug:"ä¸ä¼ æä»¶å°è¡¨æ°æ®ä¸­",normalizedTitle:"ä¸ä¼ æä»¶å°è¡¨æ°æ®ä¸­",charIndex:2028},{level:3,title:"ä»ç½é¡µç«¯ä¸ä¼ ",slug:"ä»ç½é¡µç«¯ä¸ä¼ ",normalizedTitle:"ä»ç½é¡µç«¯ä¸ä¼ ",charIndex:2042},{level:3,title:"ä»ç³»ç»ä¸­ä¸ä¼ å°è¡¨",slug:"ä»ç³»ç»ä¸­ä¸ä¼ å°è¡¨",normalizedTitle:"ä»ç³»ç»ä¸­ä¸ä¼ å°è¡¨",charIndex:2234},{level:2,title:"å¸¸ç¨ç±»åæ¥è¯¢",slug:"å¸¸ç¨ç±»åæ¥è¯¢",normalizedTitle:"å¸¸ç¨ç±»åæ¥è¯¢",charIndex:2447},{level:2,title:"ç±»åè½¬å",slug:"ç±»åè½¬å",normalizedTitle:"ç±»åè½¬å",charIndex:2554}],headersStr:"ä¸ä¼ æä»¶å°è¡¨æ°æ®ä¸­ ä»ç½é¡µç«¯ä¸ä¼  ä»ç³»ç»ä¸­ä¸ä¼ å°è¡¨ å¸¸ç¨ç±»åæ¥è¯¢ ç±»åè½¬å",content:"# Hive ç±»å\n\nHIVEæ°æ®ç±»å    JAVAæ°æ®ç±»å   é¿åº¦                           ä¾å­\nTINYINT     byte       1byteæç¬¦å·æ´æ°                   20\nSMALINT     short      2byteæç¬¦å·æ´æ°                   20\nINT         int        4byteæç¬¦å·æ´æ°                   20\nBIGINT      long       8byteæç¬¦å·æ´æ°                   20\nBOOLEAN     boolean    å¸å°ç±»åï¼trueæèfalse             TRUE FALSE\nFLOAT       float      åç²¾åº¦æµ®ç¹æ°                       3.14159\nDOUBLE      double     åç²¾åº¦æµ®ç¹æ°                       3.14159\nSTRING      string     å­ç¬¦ç³»åãå¯ä»¥æå®å­ç¬¦éãå¯ä»¥ä½¿ç¨åå¼å·æèåå¼å·ã   ânow is the timeâ âfor all good menâ\nTIMESTAMP              æ¶é´ç±»å                         \nBINARY                 å­èæ°ç»                         \n\næ°æ®ç±»å     æè¿°                                                                                                               è¯­æ³ç¤ºä¾\nSTRUCT   åcè¯­è¨ä¸­çstructç±»ä¼¼ï¼é½å¯ä»¥éè¿âç¹âç¬¦å·è®¿é®åç´ åå®¹ãä¾å¦ï¼å¦ææä¸ªåçæ°æ®ç±»åæ¯STRUCT{first                                                       struct() ä¾å¦struct<street:string, city:string>\n         STRING, last STRING},é£ä¹ç¬¬1ä¸ªåç´ å¯ä»¥éè¿å­æ®µ.firstæ¥å¼ç¨ã\nMAP      MAPæ¯ä¸ç»é®-å¼å¯¹åç»éåï¼ä½¿ç¨æ°ç»è¡¨ç¤ºæ³å¯ä»¥è®¿é®æ°æ®ãä¾å¦ï¼å¦ææä¸ªåçæ°æ®ç±»åæ¯MAPï¼å¶ä¸­é®->å¼å¯¹æ¯âfirstâ->âJohnâåâlastâ->âDoeâï¼é£ä¹å¯ä»¥éè¿å­æ®µå[âlastâ]è·åæåä¸ä¸ªåç´    map() ä¾å¦map<string, int>\nARRAY    æ°ç»æ¯ä¸ç»å·æç¸åç±»åååç§°çåéçéåãè¿äºåéç§°ä¸ºæ°ç»çåç´ ï¼æ¯ä¸ªæ°ç»åç´ é½æä¸ä¸ªç¼å·ï¼ç¼å·ä»é¶å¼å§ãä¾å¦ï¼æ°ç»å¼ä¸º[âJohnâ,                                             Array() ä¾å¦array<string>\n         âDoeâ]ï¼é£ä¹ç¬¬2ä¸ªåç´ å¯ä»¥éè¿æ°ç»å[1]è¿è¡å¼ç¨ã\n\nSTRUCTä¸ºç»æä½ ä¸ºä¸ä¸ªåªææååéçç±»\n\nclass Peopel{\n    int age;\n    String name;\n}\nPeopel p \np.age = 10\np.name = 15\n\n\n1\n2\n3\n4\n5\n6\n7\n\n\nåå»ºä¸ä¸ªè¡¨\n\ncreate table test(\nname string,\nfriends array<string>,\nchildren map<string, int>,\naddress struct<street:string, city:string>\n)\nrow format delimited fields terminated by ','   -- ååéç¬¦\ncollection items terminated by '_'   -- MAP STRUCT å ARRAY çåéç¬¦(æ°æ®åå²ç¬¦å·)\nmap keys terminated by ':';  -- MAPä¸­çkeyä¸valueçåéç¬¦\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n\n\n * row format delimited fields terminated by ',' -- ååéç¬¦\n\n * collection items terminated by '_' --MAP STRUCT å ARRAY çåéç¬¦(æ°æ®åå²ç¬¦å·)\n\n * map keys terminated by ':' -- MAPä¸­çkeyä¸valueçåéç¬¦\n\n * lines terminated by '\\n'; -- è¡åéç¬¦\n\n\n# ä¸ä¼ æä»¶å°è¡¨æ°æ®ä¸­\n\n\n# ä»ç½é¡µç«¯ä¸ä¼ \n\n\n\næ¯ä¸ªæä»¶å¤¹ä¸ºä¸ä¸ªè¡¨ ç´æ¥æææ¬ä¸ä¼ å°æä»¶å¤¹(è¡¨)ä¸­\n\nsongsong,bingbing_lili,xiao song:18_xiaoxiao song:19,hui long guan_beijing\nyangyang,caicai_susu,xiao yang:18_xiaoxiao yang:19,chao yang_beijing\n\n\n1\n2\n\n\n\n# ä»ç³»ç»ä¸­ä¸ä¼ å°è¡¨\n\ncd /opt/module/\nmkdir datas\ncd datas\n\n\n1\n2\n3\n\n\nlå¨hiveå½ä»¤è¡æ» load: data local inpath 'æ¬å°ææ¬è·¯å¾' into table è¡¨å;\n\nä»æ¬å°å è½½è¡¨\n\n#å¨hiveä¸­\nload data local inpath '/opt/module/datas/test.txt' into table test;\n\n\n1\n2\n\n\n\n# å¸¸ç¨ç±»åæ¥è¯¢\n\næ®éç±»å æ°ç» map ç»æä½æ¥è¯¢\n\nselect name,friends[1],children['xiao song'],address.street from test;\n\n\n1\n\n\n\n# ç±»åè½¬å\n\néå¼ç±»åè½¬æ¢è§åå¦ä¸\n\n 1. ä»»ä½æ´æ°ç±»åé½å¯ä»¥éå¼å°è½¬æ¢ä¸ºä¸ä¸ªèå´æ´å¹¿çç±»åï¼å¦TINYINTå¯ä»¥è½¬æ¢æINTï¼INTå¯ä»¥è½¬æ¢æBIGINTã\n\n 2. æææ´æ°ç±»åãFLOATåSTRINGç±»åé½å¯ä»¥éå¼å°è½¬æ¢æDOUBLEãå¦æSTRINGç±»åæ æ³è½¬æ¢ä¸ºDOUBLE åè¿åNULL å¦æ³å¼ºè½¬ä¸ºint åcast('1'as int)+2\n\n 3. TINYINTãSMALLINTãINTé½å¯ä»¥è½¬æ¢ä¸ºFLOATã\n\n 4. BOOLEANç±»åä¸å¯ä»¥è½¬æ¢ä¸ºä»»ä½å¶å®çç±»åã\n\n 5. å¯ä»¥ä½¿ç¨CASTæä½æ¾ç¤ºè¿è¡æ°æ®ç±»åå¼ºå¶è½¬æ¢\n    \n    ä¾å¦CAST('1' AS INT)å°æå­ç¬¦ä¸²'1' è½¬æ¢ææ´æ°1ï¼å¦æå¼ºå¶ç±»åè½¬æ¢å¤±è´¥ï¼å¦æ§è¡CAST('X' AS INT)ï¼è¡¨è¾¾å¼è¿åç©ºå¼ NULLã",normalizedContent:"# hive ç±»å\n\nhiveæ°æ®ç±»å    javaæ°æ®ç±»å   é¿åº¦                           ä¾å­\ntinyint     byte       1byteæç¬¦å·æ´æ°                   20\nsmalint     short      2byteæç¬¦å·æ´æ°                   20\nint         int        4byteæç¬¦å·æ´æ°                   20\nbigint      long       8byteæç¬¦å·æ´æ°                   20\nboolean     boolean    å¸å°ç±»åï¼trueæèfalse             true false\nfloat       float      åç²¾åº¦æµ®ç¹æ°                       3.14159\ndouble      double     åç²¾åº¦æµ®ç¹æ°                       3.14159\nstring      string     å­ç¬¦ç³»åãå¯ä»¥æå®å­ç¬¦éãå¯ä»¥ä½¿ç¨åå¼å·æèåå¼å·ã   ânow is the timeâ âfor all good menâ\ntimestamp              æ¶é´ç±»å                         \nbinary                 å­èæ°ç»                         \n\næ°æ®ç±»å     æè¿°                                                                                                               è¯­æ³ç¤ºä¾\nstruct   åcè¯­è¨ä¸­çstructç±»ä¼¼ï¼é½å¯ä»¥éè¿âç¹âç¬¦å·è®¿é®åç´ åå®¹ãä¾å¦ï¼å¦ææä¸ªåçæ°æ®ç±»åæ¯struct{first                                                       struct() ä¾å¦struct<street:string, city:string>\n         string, last string},é£ä¹ç¬¬1ä¸ªåç´ å¯ä»¥éè¿å­æ®µ.firstæ¥å¼ç¨ã\nmap      mapæ¯ä¸ç»é®-å¼å¯¹åç»éåï¼ä½¿ç¨æ°ç»è¡¨ç¤ºæ³å¯ä»¥è®¿é®æ°æ®ãä¾å¦ï¼å¦ææä¸ªåçæ°æ®ç±»åæ¯mapï¼å¶ä¸­é®->å¼å¯¹æ¯âfirstâ->âjohnâåâlastâ->âdoeâï¼é£ä¹å¯ä»¥éè¿å­æ®µå[âlastâ]è·åæåä¸ä¸ªåç´    map() ä¾å¦map<string, int>\narray    æ°ç»æ¯ä¸ç»å·æç¸åç±»åååç§°çåéçéåãè¿äºåéç§°ä¸ºæ°ç»çåç´ ï¼æ¯ä¸ªæ°ç»åç´ é½æä¸ä¸ªç¼å·ï¼ç¼å·ä»é¶å¼å§ãä¾å¦ï¼æ°ç»å¼ä¸º[âjohnâ,                                             array() ä¾å¦array<string>\n         âdoeâ]ï¼é£ä¹ç¬¬2ä¸ªåç´ å¯ä»¥éè¿æ°ç»å[1]è¿è¡å¼ç¨ã\n\nstructä¸ºç»æä½ ä¸ºä¸ä¸ªåªææååéçç±»\n\nclass peopel{\n    int age;\n    string name;\n}\npeopel p \np.age = 10\np.name = 15\n\n\n1\n2\n3\n4\n5\n6\n7\n\n\nåå»ºä¸ä¸ªè¡¨\n\ncreate table test(\nname string,\nfriends array<string>,\nchildren map<string, int>,\naddress struct<street:string, city:string>\n)\nrow format delimited fields terminated by ','   -- ååéç¬¦\ncollection items terminated by '_'   -- map struct å array çåéç¬¦(æ°æ®åå²ç¬¦å·)\nmap keys terminated by ':';  -- mapä¸­çkeyä¸valueçåéç¬¦\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n\n\n * row format delimited fields terminated by ',' -- ååéç¬¦\n\n * collection items terminated by '_' --map struct å array çåéç¬¦(æ°æ®åå²ç¬¦å·)\n\n * map keys terminated by ':' -- mapä¸­çkeyä¸valueçåéç¬¦\n\n * lines terminated by '\\n'; -- è¡åéç¬¦\n\n\n# ä¸ä¼ æä»¶å°è¡¨æ°æ®ä¸­\n\n\n# ä»ç½é¡µç«¯ä¸ä¼ \n\n\n\næ¯ä¸ªæä»¶å¤¹ä¸ºä¸ä¸ªè¡¨ ç´æ¥æææ¬ä¸ä¼ å°æä»¶å¤¹(è¡¨)ä¸­\n\nsongsong,bingbing_lili,xiao song:18_xiaoxiao song:19,hui long guan_beijing\nyangyang,caicai_susu,xiao yang:18_xiaoxiao yang:19,chao yang_beijing\n\n\n1\n2\n\n\n\n# ä»ç³»ç»ä¸­ä¸ä¼ å°è¡¨\n\ncd /opt/module/\nmkdir datas\ncd datas\n\n\n1\n2\n3\n\n\nlå¨hiveå½ä»¤è¡æ» load: data local inpath 'æ¬å°ææ¬è·¯å¾' into table è¡¨å;\n\nä»æ¬å°å è½½è¡¨\n\n#å¨hiveä¸­\nload data local inpath '/opt/module/datas/test.txt' into table test;\n\n\n1\n2\n\n\n\n# å¸¸ç¨ç±»åæ¥è¯¢\n\næ®éç±»å æ°ç» map ç»æä½æ¥è¯¢\n\nselect name,friends[1],children['xiao song'],address.street from test;\n\n\n1\n\n\n\n# ç±»åè½¬å\n\néå¼ç±»åè½¬æ¢è§åå¦ä¸\n\n 1. ä»»ä½æ´æ°ç±»åé½å¯ä»¥éå¼å°è½¬æ¢ä¸ºä¸ä¸ªèå´æ´å¹¿çç±»åï¼å¦tinyintå¯ä»¥è½¬æ¢æintï¼intå¯ä»¥è½¬æ¢æbigintã\n\n 2. æææ´æ°ç±»åãfloatåstringç±»åé½å¯ä»¥éå¼å°è½¬æ¢ædoubleãå¦æstringç±»åæ æ³è½¬æ¢ä¸ºdouble åè¿ånull å¦æ³å¼ºè½¬ä¸ºint åcast('1'as int)+2\n\n 3. tinyintãsmallintãinté½å¯ä»¥è½¬æ¢ä¸ºfloatã\n\n 4. booleanç±»åä¸å¯ä»¥è½¬æ¢ä¸ºä»»ä½å¶å®çç±»åã\n\n 5. å¯ä»¥ä½¿ç¨castæä½æ¾ç¤ºè¿è¡æ°æ®ç±»åå¼ºå¶è½¬æ¢\n    \n    ä¾å¦cast('1' as int)å°æå­ç¬¦ä¸²'1' è½¬æ¢ææ´æ°1ï¼å¦æå¼ºå¶ç±»åè½¬æ¢å¤±è´¥ï¼å¦æ§è¡cast('x' as int)ï¼è¡¨è¾¾å¼è¿åç©ºå¼ nullã",charsets:{cjk:!0},lastUpdated:"2022/03/18, 09:00:59",lastUpdatedTimestamp:1647565259e3},{title:"DBeaver",frontmatter:{title:"DBeaver",date:"2022-03-17T22:07:27.000Z",permalink:"/pages/5a826b/",categories:["å¤§æ°æ®","Hive"],tags:[null]},regularPath:"/%E5%A4%A7%E6%95%B0%E6%8D%AE/03.Hive/03.DBeaver.html",relativePath:"å¤§æ°æ®/03.Hive/03.DBeaver.md",key:"v-79c818bb",path:"/pages/5a826b/",headersStr:null,content:"# DBeaver\n\n\n\n\n\n\n\n\n\næ·»å hiveçjdbcé©±å¨",normalizedContent:"# dbeaver\n\n\n\n\n\n\n\n\n\næ·»å hiveçjdbcé©±å¨",charsets:{cjk:!0},lastUpdated:"2022/03/18, 07:01:11",lastUpdatedTimestamp:1647558071e3},{title:"Hive å®¢æ·ç«¯å½ä»¤",frontmatter:{title:"Hive å®¢æ·ç«¯å½ä»¤",date:"2022-03-17T22:07:27.000Z",permalink:"/pages/6652e3/",categories:["å¤§æ°æ®","Hive"],tags:[null]},regularPath:"/%E5%A4%A7%E6%95%B0%E6%8D%AE/03.Hive/05.Hive%20%E5%AE%A2%E6%88%B7%E7%AB%AF%E5%91%BD%E4%BB%A4.html",relativePath:"å¤§æ°æ®/03.Hive/05.Hive å®¢æ·ç«¯å½ä»¤.md",key:"v-3874a2bf",path:"/pages/6652e3/",headersStr:null,content:'# Hive å®¢æ·ç«¯å½ä»¤\n\nHive****ä¸­åéåå±æ§å½åç©ºé´\n\nå½ä»¤ç©ºé´       ä½¿ç¨æé    æè¿°\nhivevar    å¯è¯»/å¯å   ï¼hive v0.80ä»¥åä¹åççæ¬ï¼ç¨æ·èªå®ä¹åé\nhiveconf   å¯è¯»/å¯å   Hiveç¸å³çéç½®å±æ§\nsystem     å¯è¯»/å¯å   Javaå®ä¹çéç½®ç¯å¢\nenv        åªå¯è¯»     Shellç¯å¢å®ä¹çç¯å¢åé\n\n * --define keyï¼valueå®éä¸å--hivevar key=valueæ¯ç­ä»·ç\n\nhive --define foo=bar #å¨shellå½ä»¤è¡çæ ¹ç®å½ä¸è¾å¥ï¼è¿å¥hiveçcliå½ä»¤è¡ï¼å¹¶ä¸å®ä¹äºä¸ä¸ªåé\nset foo; #æ¥çfooåéå¼\nset hivevar:foo; #æ¥è¯¢æå®ç©ºé´åéä¸çä¿¡æ¯\nset hivevar:foo=bar2;  #æ¥è¯¢èµå¼\ncreate table toss1(i int,${hivevar:foo} string);  #åå»ºè¡¨æ¶ä¹å¯å¼ç¨åé\n\n\n1\n2\n3\n4\n5\n\n * hiveconf ç¨äºéç½®Hiveè¡ä¸ºçææå±æ§\n\nhive --hiveconf hive.cli.print.current.db=true  #éè¿hiveconfå°æå®å±æ§èµå¼\nset hive.cli.print.current.db; #æ¥è¯¢å±æ§å¼\nhive --hiveconf  y=5\nset y;   #æ¥è¯¢å¼\nSELECT * FROM whatsit WHERE  i=${hiveconf:y};     #è¯­å¥ä¸­ä¹å¯ä»¥ä½¿ç¨å±æ§\n\n\n1\n2\n3\n4\n5\n\n * -e æ§è¡ä¸ä¸ªæèå¤ä¸ªæ¥è¯¢ï¼ä½¿ç¨åå·åéï¼ï¼æ§è¡ç»æåhive CLIç«å³éåº\n\nhive -e "SELECT * FROM my_table"  #æ¥è¯¢åéåºhive\n\n\n1\n\n * -S -e å¢å -Séé¡¹å¯ä»¥å¼å¯éé»æ¨¡å¼ï¼è¿æ ·å¯ä»¥å¨è¾åºç»æä¸­å»æâOKâåâTime takenâ¦âç­è¡ï¼ä»¥åå¶ä»ä¸äºæ å³ç´§è¦çè¾åºä¿¡æ¯ åªè¾åºç»æ\n\nhive -S -e "SELECT * FROM my_table LIMIT 3" >/usr/tmp/my_table_3.txt #åªè¾åºç»æ å¹¶åå¥å°æå®æä»¶ä¸­\n\n\n1\n\n * å¨å®¢æ·ç«¯å¤ æä»¶ä¸­æ§è¡sql\n\nvim /usr/hive/hive/withqueries.hql #æ°å»ºæä»¶éé¢å­æ¾sqlè¯­å¥\nSELECT * FROM my_table;\n\n\n1\n2\n\n\nhive -f /usr/hive/hive/withqueries.hql #å¯å¨hiveæ¶ å è½½æå®æä»¶ä¸­çsqlè¯­å¥\n\n\n1\n\n * å¨hiveå®¢æ·ç«¯ æ§è¡æå®çsqlæä»¶\n\nsource /usr/hive/hive/withqueries.hql;\n\n\n1\n\n * -i éè¿æä»¶ä¸­sqlè¯­å¥ æ¹éè®¾ç½®å¼\n\nvim /usr/hive/hive/.hiverc\n\nset hive.cli.print.current.db=true;\nset hive.exec.mode.local.auto=true;\n\n\n1\n2\n3\n4\n\n\nhive -i /usr/hive/hive/.hiverc #å è½½æå®æä»¶çè®¾å®\n\n\n1\n',normalizedContent:'# hive å®¢æ·ç«¯å½ä»¤\n\nhive****ä¸­åéåå±æ§å½åç©ºé´\n\nå½ä»¤ç©ºé´       ä½¿ç¨æé    æè¿°\nhivevar    å¯è¯»/å¯å   ï¼hive v0.80ä»¥åä¹åççæ¬ï¼ç¨æ·èªå®ä¹åé\nhiveconf   å¯è¯»/å¯å   hiveç¸å³çéç½®å±æ§\nsystem     å¯è¯»/å¯å   javaå®ä¹çéç½®ç¯å¢\nenv        åªå¯è¯»     shellç¯å¢å®ä¹çç¯å¢åé\n\n * --define keyï¼valueå®éä¸å--hivevar key=valueæ¯ç­ä»·ç\n\nhive --define foo=bar #å¨shellå½ä»¤è¡çæ ¹ç®å½ä¸è¾å¥ï¼è¿å¥hiveçcliå½ä»¤è¡ï¼å¹¶ä¸å®ä¹äºä¸ä¸ªåé\nset foo; #æ¥çfooåéå¼\nset hivevar:foo; #æ¥è¯¢æå®ç©ºé´åéä¸çä¿¡æ¯\nset hivevar:foo=bar2;  #æ¥è¯¢èµå¼\ncreate table toss1(i int,${hivevar:foo} string);  #åå»ºè¡¨æ¶ä¹å¯å¼ç¨åé\n\n\n1\n2\n3\n4\n5\n\n * hiveconf ç¨äºéç½®hiveè¡ä¸ºçææå±æ§\n\nhive --hiveconf hive.cli.print.current.db=true  #éè¿hiveconfå°æå®å±æ§èµå¼\nset hive.cli.print.current.db; #æ¥è¯¢å±æ§å¼\nhive --hiveconf  y=5\nset y;   #æ¥è¯¢å¼\nselect * from whatsit where  i=${hiveconf:y};     #è¯­å¥ä¸­ä¹å¯ä»¥ä½¿ç¨å±æ§\n\n\n1\n2\n3\n4\n5\n\n * -e æ§è¡ä¸ä¸ªæèå¤ä¸ªæ¥è¯¢ï¼ä½¿ç¨åå·åéï¼ï¼æ§è¡ç»æåhive cliç«å³éåº\n\nhive -e "select * from my_table"  #æ¥è¯¢åéåºhive\n\n\n1\n\n * -s -e å¢å -séé¡¹å¯ä»¥å¼å¯éé»æ¨¡å¼ï¼è¿æ ·å¯ä»¥å¨è¾åºç»æä¸­å»æâokâåâtime takenâ¦âç­è¡ï¼ä»¥åå¶ä»ä¸äºæ å³ç´§è¦çè¾åºä¿¡æ¯ åªè¾åºç»æ\n\nhive -s -e "select * from my_table limit 3" >/usr/tmp/my_table_3.txt #åªè¾åºç»æ å¹¶åå¥å°æå®æä»¶ä¸­\n\n\n1\n\n * å¨å®¢æ·ç«¯å¤ æä»¶ä¸­æ§è¡sql\n\nvim /usr/hive/hive/withqueries.hql #æ°å»ºæä»¶éé¢å­æ¾sqlè¯­å¥\nselect * from my_table;\n\n\n1\n2\n\n\nhive -f /usr/hive/hive/withqueries.hql #å¯å¨hiveæ¶ å è½½æå®æä»¶ä¸­çsqlè¯­å¥\n\n\n1\n\n * å¨hiveå®¢æ·ç«¯ æ§è¡æå®çsqlæä»¶\n\nsource /usr/hive/hive/withqueries.hql;\n\n\n1\n\n * -i éè¿æä»¶ä¸­sqlè¯­å¥ æ¹éè®¾ç½®å¼\n\nvim /usr/hive/hive/.hiverc\n\nset hive.cli.print.current.db=true;\nset hive.exec.mode.local.auto=true;\n\n\n1\n2\n3\n4\n\n\nhive -i /usr/hive/hive/.hiverc #å è½½æå®æä»¶çè®¾å®\n\n\n1\n',charsets:{cjk:!0},lastUpdated:"2022/03/18, 07:01:11",lastUpdatedTimestamp:1647558071e3},{title:"DDLæ°æ®å®ä¹",frontmatter:{title:"DDLæ°æ®å®ä¹",date:"2022-03-17T22:07:27.000Z",permalink:"/pages/675adb/",categories:["å¤§æ°æ®","Hive"],tags:[null]},regularPath:"/%E5%A4%A7%E6%95%B0%E6%8D%AE/03.Hive/06.DDL%E6%95%B0%E6%8D%AE%E5%AE%9A%E4%B9%89.html",relativePath:"å¤§æ°æ®/03.Hive/06.DDLæ°æ®å®ä¹.md",key:"v-7688bc37",path:"/pages/675adb/",headers:[{level:2,title:"æ°æ®åº",slug:"æ°æ®åº",normalizedTitle:"æ°æ®åº",charIndex:14},{level:3,title:"åå»ºæ°æ®åº",slug:"åå»ºæ°æ®åº",normalizedTitle:"åå»ºæ°æ®åº",charIndex:22},{level:3,title:"æ¥è¯¢æ°æ®åº",slug:"æ¥è¯¢æ°æ®åº",normalizedTitle:"æ¥è¯¢æ°æ®åº",charIndex:352},{level:3,title:"åæ¢æ°æ®åº",slug:"åæ¢æ°æ®åº",normalizedTitle:"åæ¢æ°æ®åº",charIndex:522},{level:3,title:"å é¤æ°æ®åº",slug:"å é¤æ°æ®åº",normalizedTitle:"å é¤æ°æ®åº",charIndex:561},{level:3,title:"ä¿®æ¹æ°æ®åº",slug:"ä¿®æ¹æ°æ®åº",normalizedTitle:"ä¿®æ¹æ°æ®åº",charIndex:728},{level:2,title:"è¡¨",slug:"è¡¨",normalizedTitle:"è¡¨",charIndex:892},{level:3,title:"åå»ºè¡¨",slug:"åå»ºè¡¨",normalizedTitle:"åå»ºè¡¨",charIndex:898},{level:3,title:"æ¥è¯¢ç»æå»ºè¡¨",slug:"æ¥è¯¢ç»æå»ºè¡¨",normalizedTitle:"æ¥è¯¢ç»æå»ºè¡¨",charIndex:2657},{level:3,title:"æ¥è¯¢è¡¨",slug:"æ¥è¯¢è¡¨",normalizedTitle:"æ¥è¯¢è¡¨",charIndex:2738},{level:3,title:"ä¿®æ¹è¡¨",slug:"ä¿®æ¹è¡¨",normalizedTitle:"ä¿®æ¹è¡¨",charIndex:2834},{level:3,title:"å é¤è¡¨",slug:"å é¤è¡¨",normalizedTitle:"å é¤è¡¨",charIndex:1526},{level:2,title:"åå¤é¨è¡¨",slug:"åå¤é¨è¡¨",normalizedTitle:"åå¤é¨è¡¨",charIndex:3470},{level:3,title:"å¤é¨è¡¨ååé¨è¡¨è½¬æ¢",slug:"å¤é¨è¡¨ååé¨è¡¨è½¬æ¢",normalizedTitle:"å¤é¨è¡¨ååé¨è¡¨è½¬æ¢",charIndex:3784},{level:2,title:"ååºè¡¨",slug:"ååºè¡¨",normalizedTitle:"ååºè¡¨",charIndex:1612},{level:3,title:"ååºçä½ç¨",slug:"ååºçä½ç¨",normalizedTitle:"ååºçä½ç¨",charIndex:4267},{level:3,title:"æ¥è¯¢ååºè¡¨çååº",slug:"æ¥è¯¢ååºè¡¨çååº",normalizedTitle:"æ¥è¯¢ååºè¡¨çååº",charIndex:4413},{level:3,title:"ä¿®å¤ååº",slug:"ä¿®å¤ååº",normalizedTitle:"ä¿®å¤ååº",charIndex:4457},{level:3,title:"äºçº§ååº",slug:"äºçº§ååº",normalizedTitle:"äºçº§ååº",charIndex:4805},{level:3,title:"ååºçå¢å ",slug:"ååºçå¢å ",normalizedTitle:"ååºçå¢å ",charIndex:5174}],headersStr:"æ°æ®åº åå»ºæ°æ®åº æ¥è¯¢æ°æ®åº åæ¢æ°æ®åº å é¤æ°æ®åº ä¿®æ¹æ°æ®åº è¡¨ åå»ºè¡¨ æ¥è¯¢ç»æå»ºè¡¨ æ¥è¯¢è¡¨ ä¿®æ¹è¡¨ å é¤è¡¨ åå¤é¨è¡¨ å¤é¨è¡¨ååé¨è¡¨è½¬æ¢ ååºè¡¨ ååºçä½ç¨ æ¥è¯¢ååºè¡¨çååº ä¿®å¤ååº äºçº§ååº ååºçå¢å ",content:'# DDLæ°æ®å®ä¹\n\n\n# æ°æ®åº\n\n\n# åå»ºæ°æ®åº\n\n-- è¯­æ³\nCREATE DATABASE [IF NOT EXISTS] database_name\n[COMMENT database_comment]\n[LOCATION hdfs_path]\n[WITH DBPROPERTIES (property_name=property_value, ...)];\n\n\n1\n2\n3\n4\n5\n\n\ncreate database test\ncomment "Just for test"\nlocation \'/testdb\'  -- æ­¤åºä¼å¨hdfsä¸­æ­¤è·¯å¾ä¸æ å°\nwith dpproperties("aaa"="bbb");   -- å±æ§ ä¸å¤ªå¸¸ç¨ è®°å½ä¸ä¸ªé®å¼å¯¹\n\n\n1\n2\n3\n4\n\n\n\n# æ¥è¯¢æ°æ®åº\n\nshow database; -- æ¥è¯¢ææåº\ndesc database test; -- æ¥è¯¢æå®æ°æ®åºä¿¡æ¯\ndesc database extended test; -- æ¥è¯¢æå®åºæ°æ®åºè¯¦ç»ä¿¡æ¯\nshow databases like \'db_hive*\'; -- è¿æ»¤æ¾ç¤ºæ¥è¯¢çæ°æ®åº\n\n\n1\n2\n3\n4\n\n\n\n# åæ¢æ°æ®åº\n\nuse db_hive; -- åæ¢å°æå®åº\n\n\n1\n\n\n\n# å é¤æ°æ®åº\n\ndrop database test; -- å é¤æå®æ°æ®åº å¦æåºä¸­ææ°æ®ä¸è½å é¤ å¿é¡»ä¸ºç©º\ndrop database cascade test; -- å é¤æ°æ®åº æ è®ºæ¯å¦åºä¸­ææ°æ® æç¨\ndrop database if exists db_hive2; -- å é¤åå¤æ­æ¯å¦å­å¨æ­¤åº\n\n\n1\n2\n3\n\n\n\n# ä¿®æ¹æ°æ®åº\n\næ°æ®åºçå¶ä»åæ°æ®ä¿¡æ¯é½æ¯ä¸å¯æ´æ¹çï¼åæ¬æ°æ®åºååæ°æ®åºæå¨çç®å½ä½ç½®ãåªè½ä¿®æ¹æ°æ®åºçDBPROPERTIESè®¾ç½®é®-å¼å¯¹å±æ§å¼\n\nalter database db_hive set dbproperties(\'createtime\'=\'20170830\'); -- ä¿®æ¹æå®åºçé®å¼å¯¹å¼\n\n\n1\n\n\n\n# è¡¨\n\n\n# åå»ºè¡¨\n\n-- è¯­æ³\nCREATE [EXTERNAL] TABLE [IF NOT EXISTS] table_name \n[(col_name data_type [COMMENT col_comment], ...)] \n[COMMENT table_comment] \n[PARTITIONED BY (col_name data_type [COMMENT col_comment], ...)] \n[CLUSTERED BY (col_name, col_name, ...) \n[SORTED BY (col_name [ASC|DESC], ...)] INTO num_buckets BUCKETS] \n[ROW FORMAT row_format] \n[STORED AS file_format] \n[LOCATION hdfs_path]\n[TBLPROPERTIES (property_name=property_value, ...)]\n[AS select_statement]\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n\n\n 1. CREATE TABLE åå»ºä¸ä¸ªæå®åå­çè¡¨ãå¦æç¸ååå­çè¡¨å·²ç»å­å¨ï¼åæåºå¼å¸¸ï¼ç¨æ·å¯ä»¥ç¨ IF NOT EXISTS éé¡¹æ¥å¿½ç¥è¿ä¸ªå¼å¸¸ã\n\n 2. EXTERNALå³é®å­å¯ä»¥è®©ç¨æ·åå»ºä¸ä¸ªå¤é¨è¡¨ï¼å¨å»ºè¡¨çåæ¶å¯ä»¥æå®ä¸ä¸ªæåå®éæ°æ®çè·¯å¾ï¼LOCATIONï¼ï¼å¨å é¤è¡¨çæ¶åï¼åé¨è¡¨çåæ°æ®åæ°æ®ä¼è¢«ä¸èµ·å é¤ï¼èå¤é¨è¡¨åªå é¤åæ°æ®ï¼ä¸å é¤æ°æ®ã\n\n 3. COMMENTï¼ä¸ºè¡¨ååæ·»å æ³¨éã\n\n 4. PARTITIONED BYåå»ºååºè¡¨\n\n 5. CLUSTERED BYåå»ºåæ¡¶è¡¨\n\n 6. SORTED BYä¸å¸¸ç¨ï¼å¯¹æ¡¶ä¸­çä¸ä¸ªæå¤ä¸ªåå¦å¤æåº\n\n 7. ROW FORMAT\n    \n    DELIMITED [FIELDS TERMINATED BY char] [COLLECTION ITEMS TERMINATED BY char] [[MAP KEYS TERMINATED BY char] [LINES TERMINATED BY char]\n\n| SERDE serde_name [WITH SERDEPROPERTIES (property_name=property_value, property_name=property_value, ...)]\n\nç¨æ·å¨å»ºè¡¨çæ¶åå¯ä»¥èªå®ä¹SerDeæèä½¿ç¨èªå¸¦çSerDeãå¦ææ²¡ææå®ROW FORMAT æè ROWFORMAT DELIMITEDï¼å°ä¼ä½¿ç¨èªå¸¦çSerDeãå¨å»ºè¡¨çæ¶åï¼ç¨æ·è¿éè¦ä¸ºè¡¨æå®åï¼ç¨æ·å¨æå®è¡¨çå çåæ¶ä¹ä¼æå®èªå®ä¹çSerDeï¼Hiveéè¿SerDeç¡®å®è¡¨çå·ä½çåçæ°æ®ã\n\nSerDeæ¯Serialize/Deserilizeçç®ç§°ï¼ hiveä½¿ç¨Serdeè¿è¡è¡å¯¹è±¡çåºåä¸ååºååã\n\n 8.  STORED ASæå®å­å¨æä»¶ç±»å\n     \n     å¸¸ç¨çå­å¨æä»¶ç±»åï¼SEQUENCEFILEï¼äºè¿å¶åºåæä»¶ï¼ãTEXTFILEï¼ææ¬ï¼ãRCFILEï¼åå¼å­å¨æ ¼å¼æä»¶ï¼\n     \n     å¦ææä»¶æ°æ®æ¯çº¯ææ¬ï¼å¯ä»¥ä½¿ç¨STORED AS TEXTFILEãå¦ææ°æ®éè¦åç¼©ï¼ä½¿ç¨ STORED AS SEQUENCEFILEã\n\n 9.  LOCATION ï¼æå®è¡¨å¨HDFSä¸çå­å¨ä½ç½®ã\n\n 10. ASï¼åè·æ¥è¯¢è¯­å¥ï¼æ ¹æ®æ¥è¯¢ç»æåå»ºè¡¨ã\n\n 11. LIKEåè®¸ç¨æ·å¤å¶ç°æçè¡¨ç»æï¼ä½æ¯ä¸å¤å¶æ°æ®ã\n\ncreate table test\n(id int comment "ID", name string comment "Nmae")\ncomment "Test Table"\nrow format delimited fields terminated by \'\\t\' -- ä»¥\\tåååå\nlocation "/test_table" -- ä¼æ å°å¨å½åhdfsæå®æä»¶å¤¹\ntblproperties("aaa"="bbb");\n\n\n1\n2\n3\n4\n5\n6\n\n\n\n# æ¥è¯¢ç»æå»ºè¡¨\n\ncreate table stu_result as select * from stu_par where id=1001;\n\n\n1\n\n\n\n# æ¥è¯¢è¡¨\n\nshow tables; -- æ¥è¯¢å½ååºææè¡¨\ndesc test; -- æ¥çè¡¨ä¿¡æ¯\ndesc formatted test; -- æ¥è¯¢è¡¨çè¯¦ç»ä¿¡æ¯\n\n\n1\n2\n3\n\n\n\n# ä¿®æ¹è¡¨\n\n * éå½åè¡¨\n\nALTER TABLE table_name RENAME TO new_table_name  -- è¯­æ³\nalter table test rename to new_test;\n\n\n1\n2\n\n * æ´æ°å\n\nALTER TABLE table_name CHANGE [COLUMN] col_old_name col_new_name column_type [COMMENT col_comment] [FIRST|AFTER column_name] -- è¯­æ³\nalter table test change id id string; -- å°testè¡¨ä¸­çidåæ¹ä¸ºstringç±»å\n\n\n1\n2\n\n * å¢å ååæ¿æ¢å\n\nALTER TABLE table_name ADD|REPLACE COLUMNS (col_name data_type [COMMENT col_comment], ...)  -- è¯­æ³\nalter table test add columns(class string); -- å¨è¡¨ä¸­å¢å classç±» stringç±»å å¯ä»¥æ·»å å¤å\nalter table test replace columns(id double, name string); -- å°æå®è¡¨çç»æä½æ¢ææå®ç»æä½ ååçåä¸ä¿ç\n\n\n1\n2\n3\n\n\n\n# å é¤è¡¨\n\ndrop table test;\n\n\n1\n\n\n\n# åå¤é¨è¡¨\n\næä»¬é»è®¤åå»ºçè¡¨æ¯åé¨è¡¨ å½å»ºè¡¨æ¶å ä¸externalå³é®å­ ååå»ºä¸ä¸ªå¤é¨è¡¨\n\ncreate external table test\n(id int, name string)\nrow format delimited fields terminated by \'\\t\';\n\n\n1\n2\n3\n\n\n# åtestè¡¨å¯¼å¥æ°æ®\nload data local inpath "/opt/module/datas/student.txt" into table test;\n\n\n1\n2\n\n\nå¤é¨è¡¨ï¼å½å é¤è¯¥è¡¨å¹¶ä¸ä¼å é¤æè¿ä»½æ°æ®ï¼ä¸è¿æè¿°è¡¨çåæ°æ®ä¿¡æ¯ä¼è¢«å é¤æãèè¡¨æ°æ®å­æ¾å¨hdfsä¸ åæ°æ®å­å¨å¨mysqlä¸­\n\n\n# å¤é¨è¡¨ååé¨è¡¨è½¬æ¢\n\nalter table test set tblproperties(\'EXTERNAL\'=\'TRUE\'); -- trueä¸ºå¤é¨è¡¨ flaseä¸ºåé¨è¡¨\n\n\n1\n\n\n\n# ååºè¡¨\n\n-- åå»ºååºè¡¨\ncreate table stu_par\n(id int, name string)\npartitioned by(class string) -- è®¾ç½®ä¸ºååºè¡¨ åºåä¸ºclass ç±»åä¸ºsring\nrow format delimited fields terminated by \'\\t\';\n\n\n1\n2\n3\n4\n5\n\n\nåè¡¨æå¥æ°æ®\n\nload data local inpath "/opt/module/datas/student.txt" into table stu_par partition(class=\'01\'); -- æå¥æå®ååº\n\n\n1\n\n\næ­¤æ¶ä¼å¨è¡¨æä»¶å¤¹ä¸­ä»¥ class=01 ä¸ºæä»¶åå­æ¾æ°æ®\n\n\n\næ¬è´¨ä¸æ¯ä»¥æä»¶æ¥ååååº(åç») ä½æ­¤è¡¨æ´åå°ä¸èµ· å¹¶ä»¥æå®ååºååºå\n\nå¦ææ°æ®ç»æä¸å ä¹ä¼æ´åä¸èµ·\n\n\n# ååºçä½ç¨\n\nå¨hiveæ²¡æç´¢å¼çæ¦å¿µ ææé»è®¤æ¥è¯¢æ¯å¨è¡¨æ«æ å¦ææ°æ®åºå¤§é£ä¹æ¥è¯¢æçä¼å¾ä½ æä»¬å¯ä»¥éè¿ååºè¡¨æ¥æ¥è¯¢è¡¨ä¸­æå®ååºä¸­çæ°æ®\n\n-- æ¥è¯¢è¡¨æ¶ æå®ååº å¯ä»¥åå°æ°æ®æ«æé\nselect * from stu_par where class="01";\n\n\n1\n2\n\n\n\n# æ¥è¯¢ååºè¡¨çååº\n\nshow partitions stu_par;\n\n\n1\n\n\n\n# ä¿®å¤ååº\n\nå¦ææååå¤æ°æ®, ä½æ¯æ²¡æåæ°æ® å¨hiveæ¯æ¥è¯¢ä¸å° æä»¬å¯ä»¥éè¿ä¿®å¤ æ¥å¯¼å¥æä»¶æ°æ®\n\n 1. æ·»å ååº\n\nalter table stu_par add partition(class="03"); -- è¡¨æä»¶å¤¹ä¸­çååºæä»¶å¤¹åç§°å¿é¡»ä¸è¿éä¸è´ å¦åæ æ³æ å°\n\n\n1\n\n 2. ç´æ¥ä¿®å¤\n\nmsck repair table stu_par; -- ä¼èªå¨æ«æå½åè¡¨ä¸çæä»¶å¤¹ åªè¦ä»¥ååºå=xxä¸ºå³é®å­çé½ä¼è¢«æ·»å å°ååºå½ä¸­\n\n\n1\n\n 3. ä¸ä¼ æ¶å¸¦ååº\n\nload data local inpath "/opt/module/datas/student.txt" into table stu_par partition(class=\'04\');\n\n\n1\n\n\n\n# äºçº§ååº\n\ncreate table stu_par2\n(id int, name string)\npartitioned by(grade string,class string) -- äºçº§ååº\nrow format delimited fields terminated by \'\\t\';\n\n\n1\n2\n3\n4\n\n\n\n\næå¥æ°æ®\n\nload data local inpath "/opt/module/datas/student.txt" into table stu_par2 partition(grade=\'01\',class=\'03\');\n\n\n1\n\n\nç®å½ç»æä¸º stu_par2 --\x3e grade=01 --\x3e class=03 --\x3e student.txt(æ°æ®æä»¶)\n\nå¤å°ä¸ªååºå°±å¤å°ä¸ªé®å¼å¯¹æä»¶å¤¹\n\n\n\n\n# ååºçå¢å \n\n * å¢å ååº\n\nalter table stu_par add partition(class="04"); -- å¢å ååº\nalter table stu_par add partition(class="05") partition(class=\'06\'); -- å¢å å¤ä¸ªååº æ³¨ææ¯ç©ºæ ¼é´é\n\n\n1\n2\n\n * å é¤ååº\n\nalter table stu_par drop partition(class="05");\nalter table stu_par drop partition(class="05"),partition(class="07"); -- å é¤å¤ä¸ªååº æ³¨ææ¯éå·é´é\n\n\n1\n2\n',normalizedContent:'# ddlæ°æ®å®ä¹\n\n\n# æ°æ®åº\n\n\n# åå»ºæ°æ®åº\n\n-- è¯­æ³\ncreate database [if not exists] database_name\n[comment database_comment]\n[location hdfs_path]\n[with dbproperties (property_name=property_value, ...)];\n\n\n1\n2\n3\n4\n5\n\n\ncreate database test\ncomment "just for test"\nlocation \'/testdb\'  -- æ­¤åºä¼å¨hdfsä¸­æ­¤è·¯å¾ä¸æ å°\nwith dpproperties("aaa"="bbb");   -- å±æ§ ä¸å¤ªå¸¸ç¨ è®°å½ä¸ä¸ªé®å¼å¯¹\n\n\n1\n2\n3\n4\n\n\n\n# æ¥è¯¢æ°æ®åº\n\nshow database; -- æ¥è¯¢ææåº\ndesc database test; -- æ¥è¯¢æå®æ°æ®åºä¿¡æ¯\ndesc database extended test; -- æ¥è¯¢æå®åºæ°æ®åºè¯¦ç»ä¿¡æ¯\nshow databases like \'db_hive*\'; -- è¿æ»¤æ¾ç¤ºæ¥è¯¢çæ°æ®åº\n\n\n1\n2\n3\n4\n\n\n\n# åæ¢æ°æ®åº\n\nuse db_hive; -- åæ¢å°æå®åº\n\n\n1\n\n\n\n# å é¤æ°æ®åº\n\ndrop database test; -- å é¤æå®æ°æ®åº å¦æåºä¸­ææ°æ®ä¸è½å é¤ å¿é¡»ä¸ºç©º\ndrop database cascade test; -- å é¤æ°æ®åº æ è®ºæ¯å¦åºä¸­ææ°æ® æç¨\ndrop database if exists db_hive2; -- å é¤åå¤æ­æ¯å¦å­å¨æ­¤åº\n\n\n1\n2\n3\n\n\n\n# ä¿®æ¹æ°æ®åº\n\næ°æ®åºçå¶ä»åæ°æ®ä¿¡æ¯é½æ¯ä¸å¯æ´æ¹çï¼åæ¬æ°æ®åºååæ°æ®åºæå¨çç®å½ä½ç½®ãåªè½ä¿®æ¹æ°æ®åºçdbpropertiesè®¾ç½®é®-å¼å¯¹å±æ§å¼\n\nalter database db_hive set dbproperties(\'createtime\'=\'20170830\'); -- ä¿®æ¹æå®åºçé®å¼å¯¹å¼\n\n\n1\n\n\n\n# è¡¨\n\n\n# åå»ºè¡¨\n\n-- è¯­æ³\ncreate [external] table [if not exists] table_name \n[(col_name data_type [comment col_comment], ...)] \n[comment table_comment] \n[partitioned by (col_name data_type [comment col_comment], ...)] \n[clustered by (col_name, col_name, ...) \n[sorted by (col_name [asc|desc], ...)] into num_buckets buckets] \n[row format row_format] \n[stored as file_format] \n[location hdfs_path]\n[tblproperties (property_name=property_value, ...)]\n[as select_statement]\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n\n\n 1. create table åå»ºä¸ä¸ªæå®åå­çè¡¨ãå¦æç¸ååå­çè¡¨å·²ç»å­å¨ï¼åæåºå¼å¸¸ï¼ç¨æ·å¯ä»¥ç¨ if not exists éé¡¹æ¥å¿½ç¥è¿ä¸ªå¼å¸¸ã\n\n 2. externalå³é®å­å¯ä»¥è®©ç¨æ·åå»ºä¸ä¸ªå¤é¨è¡¨ï¼å¨å»ºè¡¨çåæ¶å¯ä»¥æå®ä¸ä¸ªæåå®éæ°æ®çè·¯å¾ï¼locationï¼ï¼å¨å é¤è¡¨çæ¶åï¼åé¨è¡¨çåæ°æ®åæ°æ®ä¼è¢«ä¸èµ·å é¤ï¼èå¤é¨è¡¨åªå é¤åæ°æ®ï¼ä¸å é¤æ°æ®ã\n\n 3. commentï¼ä¸ºè¡¨ååæ·»å æ³¨éã\n\n 4. partitioned byåå»ºååºè¡¨\n\n 5. clustered byåå»ºåæ¡¶è¡¨\n\n 6. sorted byä¸å¸¸ç¨ï¼å¯¹æ¡¶ä¸­çä¸ä¸ªæå¤ä¸ªåå¦å¤æåº\n\n 7. row format\n    \n    delimited [fields terminated by char] [collection items terminated by char] [[map keys terminated by char] [lines terminated by char]\n\n| serde serde_name [with serdeproperties (property_name=property_value, property_name=property_value, ...)]\n\nç¨æ·å¨å»ºè¡¨çæ¶åå¯ä»¥èªå®ä¹serdeæèä½¿ç¨èªå¸¦çserdeãå¦ææ²¡ææå®row format æè rowformat delimitedï¼å°ä¼ä½¿ç¨èªå¸¦çserdeãå¨å»ºè¡¨çæ¶åï¼ç¨æ·è¿éè¦ä¸ºè¡¨æå®åï¼ç¨æ·å¨æå®è¡¨çå çåæ¶ä¹ä¼æå®èªå®ä¹çserdeï¼hiveéè¿serdeç¡®å®è¡¨çå·ä½çåçæ°æ®ã\n\nserdeæ¯serialize/deserilizeçç®ç§°ï¼ hiveä½¿ç¨serdeè¿è¡è¡å¯¹è±¡çåºåä¸ååºååã\n\n 8.  stored asæå®å­å¨æä»¶ç±»å\n     \n     å¸¸ç¨çå­å¨æä»¶ç±»åï¼sequencefileï¼äºè¿å¶åºåæä»¶ï¼ãtextfileï¼ææ¬ï¼ãrcfileï¼åå¼å­å¨æ ¼å¼æä»¶ï¼\n     \n     å¦ææä»¶æ°æ®æ¯çº¯ææ¬ï¼å¯ä»¥ä½¿ç¨stored as textfileãå¦ææ°æ®éè¦åç¼©ï¼ä½¿ç¨ stored as sequencefileã\n\n 9.  location ï¼æå®è¡¨å¨hdfsä¸çå­å¨ä½ç½®ã\n\n 10. asï¼åè·æ¥è¯¢è¯­å¥ï¼æ ¹æ®æ¥è¯¢ç»æåå»ºè¡¨ã\n\n 11. likeåè®¸ç¨æ·å¤å¶ç°æçè¡¨ç»æï¼ä½æ¯ä¸å¤å¶æ°æ®ã\n\ncreate table test\n(id int comment "id", name string comment "nmae")\ncomment "test table"\nrow format delimited fields terminated by \'\\t\' -- ä»¥\\tåååå\nlocation "/test_table" -- ä¼æ å°å¨å½åhdfsæå®æä»¶å¤¹\ntblproperties("aaa"="bbb");\n\n\n1\n2\n3\n4\n5\n6\n\n\n\n# æ¥è¯¢ç»æå»ºè¡¨\n\ncreate table stu_result as select * from stu_par where id=1001;\n\n\n1\n\n\n\n# æ¥è¯¢è¡¨\n\nshow tables; -- æ¥è¯¢å½ååºææè¡¨\ndesc test; -- æ¥çè¡¨ä¿¡æ¯\ndesc formatted test; -- æ¥è¯¢è¡¨çè¯¦ç»ä¿¡æ¯\n\n\n1\n2\n3\n\n\n\n# ä¿®æ¹è¡¨\n\n * éå½åè¡¨\n\nalter table table_name rename to new_table_name  -- è¯­æ³\nalter table test rename to new_test;\n\n\n1\n2\n\n * æ´æ°å\n\nalter table table_name change [column] col_old_name col_new_name column_type [comment col_comment] [first|after column_name] -- è¯­æ³\nalter table test change id id string; -- å°testè¡¨ä¸­çidåæ¹ä¸ºstringç±»å\n\n\n1\n2\n\n * å¢å ååæ¿æ¢å\n\nalter table table_name add|replace columns (col_name data_type [comment col_comment], ...)  -- è¯­æ³\nalter table test add columns(class string); -- å¨è¡¨ä¸­å¢å classç±» stringç±»å å¯ä»¥æ·»å å¤å\nalter table test replace columns(id double, name string); -- å°æå®è¡¨çç»æä½æ¢ææå®ç»æä½ ååçåä¸ä¿ç\n\n\n1\n2\n3\n\n\n\n# å é¤è¡¨\n\ndrop table test;\n\n\n1\n\n\n\n# åå¤é¨è¡¨\n\næä»¬é»è®¤åå»ºçè¡¨æ¯åé¨è¡¨ å½å»ºè¡¨æ¶å ä¸externalå³é®å­ ååå»ºä¸ä¸ªå¤é¨è¡¨\n\ncreate external table test\n(id int, name string)\nrow format delimited fields terminated by \'\\t\';\n\n\n1\n2\n3\n\n\n# åtestè¡¨å¯¼å¥æ°æ®\nload data local inpath "/opt/module/datas/student.txt" into table test;\n\n\n1\n2\n\n\nå¤é¨è¡¨ï¼å½å é¤è¯¥è¡¨å¹¶ä¸ä¼å é¤æè¿ä»½æ°æ®ï¼ä¸è¿æè¿°è¡¨çåæ°æ®ä¿¡æ¯ä¼è¢«å é¤æãèè¡¨æ°æ®å­æ¾å¨hdfsä¸ åæ°æ®å­å¨å¨mysqlä¸­\n\n\n# å¤é¨è¡¨ååé¨è¡¨è½¬æ¢\n\nalter table test set tblproperties(\'external\'=\'true\'); -- trueä¸ºå¤é¨è¡¨ flaseä¸ºåé¨è¡¨\n\n\n1\n\n\n\n# ååºè¡¨\n\n-- åå»ºååºè¡¨\ncreate table stu_par\n(id int, name string)\npartitioned by(class string) -- è®¾ç½®ä¸ºååºè¡¨ åºåä¸ºclass ç±»åä¸ºsring\nrow format delimited fields terminated by \'\\t\';\n\n\n1\n2\n3\n4\n5\n\n\nåè¡¨æå¥æ°æ®\n\nload data local inpath "/opt/module/datas/student.txt" into table stu_par partition(class=\'01\'); -- æå¥æå®ååº\n\n\n1\n\n\næ­¤æ¶ä¼å¨è¡¨æä»¶å¤¹ä¸­ä»¥ class=01 ä¸ºæä»¶åå­æ¾æ°æ®\n\n\n\næ¬è´¨ä¸æ¯ä»¥æä»¶æ¥ååååº(åç») ä½æ­¤è¡¨æ´åå°ä¸èµ· å¹¶ä»¥æå®ååºååºå\n\nå¦ææ°æ®ç»æä¸å ä¹ä¼æ´åä¸èµ·\n\n\n# ååºçä½ç¨\n\nå¨hiveæ²¡æç´¢å¼çæ¦å¿µ ææé»è®¤æ¥è¯¢æ¯å¨è¡¨æ«æ å¦ææ°æ®åºå¤§é£ä¹æ¥è¯¢æçä¼å¾ä½ æä»¬å¯ä»¥éè¿ååºè¡¨æ¥æ¥è¯¢è¡¨ä¸­æå®ååºä¸­çæ°æ®\n\n-- æ¥è¯¢è¡¨æ¶ æå®ååº å¯ä»¥åå°æ°æ®æ«æé\nselect * from stu_par where class="01";\n\n\n1\n2\n\n\n\n# æ¥è¯¢ååºè¡¨çååº\n\nshow partitions stu_par;\n\n\n1\n\n\n\n# ä¿®å¤ååº\n\nå¦ææååå¤æ°æ®, ä½æ¯æ²¡æåæ°æ® å¨hiveæ¯æ¥è¯¢ä¸å° æä»¬å¯ä»¥éè¿ä¿®å¤ æ¥å¯¼å¥æä»¶æ°æ®\n\n 1. æ·»å ååº\n\nalter table stu_par add partition(class="03"); -- è¡¨æä»¶å¤¹ä¸­çååºæä»¶å¤¹åç§°å¿é¡»ä¸è¿éä¸è´ å¦åæ æ³æ å°\n\n\n1\n\n 2. ç´æ¥ä¿®å¤\n\nmsck repair table stu_par; -- ä¼èªå¨æ«æå½åè¡¨ä¸çæä»¶å¤¹ åªè¦ä»¥ååºå=xxä¸ºå³é®å­çé½ä¼è¢«æ·»å å°ååºå½ä¸­\n\n\n1\n\n 3. ä¸ä¼ æ¶å¸¦ååº\n\nload data local inpath "/opt/module/datas/student.txt" into table stu_par partition(class=\'04\');\n\n\n1\n\n\n\n# äºçº§ååº\n\ncreate table stu_par2\n(id int, name string)\npartitioned by(grade string,class string) -- äºçº§ååº\nrow format delimited fields terminated by \'\\t\';\n\n\n1\n2\n3\n4\n\n\n\n\næå¥æ°æ®\n\nload data local inpath "/opt/module/datas/student.txt" into table stu_par2 partition(grade=\'01\',class=\'03\');\n\n\n1\n\n\nç®å½ç»æä¸º stu_par2 --\x3e grade=01 --\x3e class=03 --\x3e student.txt(æ°æ®æä»¶)\n\nå¤å°ä¸ªååºå°±å¤å°ä¸ªé®å¼å¯¹æä»¶å¤¹\n\n\n\n\n# ååºçå¢å \n\n * å¢å ååº\n\nalter table stu_par add partition(class="04"); -- å¢å ååº\nalter table stu_par add partition(class="05") partition(class=\'06\'); -- å¢å å¤ä¸ªååº æ³¨ææ¯ç©ºæ ¼é´é\n\n\n1\n2\n\n * å é¤ååº\n\nalter table stu_par drop partition(class="05");\nalter table stu_par drop partition(class="05"),partition(class="07"); -- å é¤å¤ä¸ªååº æ³¨ææ¯éå·é´é\n\n\n1\n2\n',charsets:{cjk:!0},lastUpdated:"2022/03/18, 07:01:11",lastUpdatedTimestamp:1647558071e3},{title:"DML",frontmatter:{title:"DML",date:"2022-03-17T22:07:27.000Z",permalink:"/pages/ff1fce/",categories:["å¤§æ°æ®","Hive"],tags:[null]},regularPath:"/%E5%A4%A7%E6%95%B0%E6%8D%AE/03.Hive/07.DML.html",relativePath:"å¤§æ°æ®/03.Hive/07.DML.md",key:"v-132275ff",path:"/pages/ff1fce/",headers:[{level:2,title:"æ°æ®å¯¼å¥",slug:"æ°æ®å¯¼å¥",normalizedTitle:"æ°æ®å¯¼å¥",charIndex:10},{level:2,title:"æ°æ®å¯¼åº",slug:"æ°æ®å¯¼åº",normalizedTitle:"æ°æ®å¯¼åº",charIndex:1220},{level:3,title:"Insertå¯¼åº",slug:"insertå¯¼åº",normalizedTitle:"insertå¯¼åº",charIndex:1229},{level:3,title:"Hive Shell å½ä»¤å¯¼åº",slug:"hive-shell-å½ä»¤å¯¼åº",normalizedTitle:"hive shell å½ä»¤å¯¼åº",charIndex:1525},{level:3,title:"Exportå¯¼åºå°HDFSä¸",slug:"exportå¯¼åºå°hdfsä¸",normalizedTitle:"exportå¯¼åºå°hdfsä¸",charIndex:1672},{level:3,title:"Importæ°æ®å¯¼å¥å°hiveè¡¨ä¸­",slug:"importæ°æ®å¯¼å¥å°hiveè¡¨ä¸­",normalizedTitle:"importæ°æ®å¯¼å¥å°hiveè¡¨ä¸­",charIndex:1790},{level:2,title:"æ°æ®å é¤",slug:"æ°æ®å é¤",normalizedTitle:"æ°æ®å é¤",charIndex:1895}],headersStr:"æ°æ®å¯¼å¥ æ°æ®å¯¼åº Insertå¯¼åº Hive Shell å½ä»¤å¯¼åº Exportå¯¼åºå°HDFSä¸ Importæ°æ®å¯¼å¥å°hiveè¡¨ä¸­ æ°æ®å é¤",content:"# DML\n\n\n# æ°æ®å¯¼å¥\n\nload data [local] inpath '/opt/module/datas/student.txt' [overwrite] into table student [partition (partcol1=val1,â¦)];\n\n\n1\n\n 1. load data:è¡¨ç¤ºå è½½æ°æ®\n 2. local:è¡¨ç¤ºä»æ¬å°å è½½æ°æ®å°hiveè¡¨ï¼å¦åä»HDFSå è½½æ°æ®å°hiveè¡¨\n 3. inpath:è¡¨ç¤ºå è½½æ°æ®çè·¯å¾\n 4. overwrite:è¡¨ç¤ºè¦çè¡¨ä¸­å·²ææ°æ®ï¼å¦åè¡¨ç¤ºè¿½å \n 5. into table:è¡¨ç¤ºå è½½å°åªå¼ è¡¨\n 6. student:è¡¨ç¤ºå·ä½çè¡¨\n 7. partition:è¡¨ç¤ºä¸ä¼ å°æå®ååº\n\nload data local inpath \"/opt/module/datas/student.txt\" into table stu_par; -- ä»å®¿æºå è½½æ°æ®\nload data local inpath \"/opt/module/datas/student.txt\" overwrite into table stu_par; -- è¦çå¯¼å¥\nload data inpath \"/opt/module/datas/student.txt\" overwrite into table stu_par; -- ä»hdfsä¸­å è½½æå®è·¯å¾æä»¶  HDFSçå¯¼å¥æ¯ç§»å¨æä»¶,èæ¬å°å¯¼å¥æ¯å¤å¶ä¸ä¼ \n\n\n1\n2\n3\n\n * insertå¯¼å¥\n\ninsert into table  stu_par partition(month='201709') values(1,'wangwu') -- æå¥åæ¡ ä¸ä¸ªæ¬å·å¯¹åºä¸æ¡\ninsert into table  stu_par partition(month='201709') values(1,'wangwu'),(2,'zhaoliu'); -- æå¥å¤æ¡æå®æ°æ® å¤è¡æ°æ®ç¨éå·éå¼å¹¶ç¨æ¬å·åè£¹ è¦ç±»åä¸è´\ninsert into table  stu_par select id,name from stu_par2 where class=\"01\";  -- æå¥æ¥è¯¢åçæ°æ®\n\n\n1\n2\n3\n\n * å»ºè¡¨æ¶as selectå¯¼å¥\n\ncreate table if not exists student3\nas select id, name from student;\n\n\n1\n2\n\n * å»ºè¡¨æ¶éè¿locationå è½½\n\ncreate external table if not exists student4\n(id int, name string)\nrow format delimited fields terminated by '\\t'\nlocation '/student';\n\n\n1\n2\n3\n4\n\n\n\n# æ°æ®å¯¼åº\n\n\n# Insertå¯¼åº\n\n * å°æ¥è¯¢çç»æå¯¼åºå°æ¬å° é»è®¤ä¸å¸¦æ ¼å¼\n\ninsert overwrite local directory '/opt/module/datas/export/student' select * from student;\n\n\n1\n\n * å°æ¥è¯¢çç»ææ ¼å¼åå¯¼åºå°æ¬å°\n\ninsert overwrite local directory '/opt/module/datas/export/student1' ROW FORMAT DELIMITED FIELDS TERMINATED BY '\\t' select * from student;\n\n\n1\n\n\n\n# Hive Shell å½ä»¤å¯¼åº\n\nç¨shell å½ä»¤æ¥è¯¢è¡¨å¹¶ååºæ¬å°\n\nå¦æä¸æå®åº é»è®¤ä¸ºdefaultåº\n\nhive -e 'select * from default.student;' > /opt/module/datas/export/student4.txt;\n\n\n1\n\n\n\n# Exportå¯¼åºå°HDFSä¸\n\nå°è¡¨å¯¼åºå°HDFSä¸ åæ°æ®åè¡¨æ°æ®æä»¶\n\nexport table default.student to '/user/hive/warehouse/export/student';\n\n\n1\n\n\n\n# Importæ°æ®å¯¼å¥å°hiveè¡¨ä¸­\n\nè¦åç¨exportå¯¼åºå°hdfsä¸­ å¿é¡»åå«åæ°æ®åè¡¨æ°æ®\n\nimport table student from '/export/student'; \n\n\n1\n\n\n\n# æ°æ®å é¤\n\næ¸ç©ºè¡¨ åªå é¤è¡¨æ°æ® ä¸å é¤è¡¨æ¬èº« Truncateåªè½å é¤ç®¡çè¡¨ï¼ä¸è½å é¤å¤é¨è¡¨ä¸­æ°æ®\n\ntruncate table student;\n\n\n1\n",normalizedContent:"# dml\n\n\n# æ°æ®å¯¼å¥\n\nload data [local] inpath '/opt/module/datas/student.txt' [overwrite] into table student [partition (partcol1=val1,â¦)];\n\n\n1\n\n 1. load data:è¡¨ç¤ºå è½½æ°æ®\n 2. local:è¡¨ç¤ºä»æ¬å°å è½½æ°æ®å°hiveè¡¨ï¼å¦åä»hdfså è½½æ°æ®å°hiveè¡¨\n 3. inpath:è¡¨ç¤ºå è½½æ°æ®çè·¯å¾\n 4. overwrite:è¡¨ç¤ºè¦çè¡¨ä¸­å·²ææ°æ®ï¼å¦åè¡¨ç¤ºè¿½å \n 5. into table:è¡¨ç¤ºå è½½å°åªå¼ è¡¨\n 6. student:è¡¨ç¤ºå·ä½çè¡¨\n 7. partition:è¡¨ç¤ºä¸ä¼ å°æå®ååº\n\nload data local inpath \"/opt/module/datas/student.txt\" into table stu_par; -- ä»å®¿æºå è½½æ°æ®\nload data local inpath \"/opt/module/datas/student.txt\" overwrite into table stu_par; -- è¦çå¯¼å¥\nload data inpath \"/opt/module/datas/student.txt\" overwrite into table stu_par; -- ä»hdfsä¸­å è½½æå®è·¯å¾æä»¶  hdfsçå¯¼å¥æ¯ç§»å¨æä»¶,èæ¬å°å¯¼å¥æ¯å¤å¶ä¸ä¼ \n\n\n1\n2\n3\n\n * insertå¯¼å¥\n\ninsert into table  stu_par partition(month='201709') values(1,'wangwu') -- æå¥åæ¡ ä¸ä¸ªæ¬å·å¯¹åºä¸æ¡\ninsert into table  stu_par partition(month='201709') values(1,'wangwu'),(2,'zhaoliu'); -- æå¥å¤æ¡æå®æ°æ® å¤è¡æ°æ®ç¨éå·éå¼å¹¶ç¨æ¬å·åè£¹ è¦ç±»åä¸è´\ninsert into table  stu_par select id,name from stu_par2 where class=\"01\";  -- æå¥æ¥è¯¢åçæ°æ®\n\n\n1\n2\n3\n\n * å»ºè¡¨æ¶as selectå¯¼å¥\n\ncreate table if not exists student3\nas select id, name from student;\n\n\n1\n2\n\n * å»ºè¡¨æ¶éè¿locationå è½½\n\ncreate external table if not exists student4\n(id int, name string)\nrow format delimited fields terminated by '\\t'\nlocation '/student';\n\n\n1\n2\n3\n4\n\n\n\n# æ°æ®å¯¼åº\n\n\n# insertå¯¼åº\n\n * å°æ¥è¯¢çç»æå¯¼åºå°æ¬å° é»è®¤ä¸å¸¦æ ¼å¼\n\ninsert overwrite local directory '/opt/module/datas/export/student' select * from student;\n\n\n1\n\n * å°æ¥è¯¢çç»ææ ¼å¼åå¯¼åºå°æ¬å°\n\ninsert overwrite local directory '/opt/module/datas/export/student1' row format delimited fields terminated by '\\t' select * from student;\n\n\n1\n\n\n\n# hive shell å½ä»¤å¯¼åº\n\nç¨shell å½ä»¤æ¥è¯¢è¡¨å¹¶ååºæ¬å°\n\nå¦æä¸æå®åº é»è®¤ä¸ºdefaultåº\n\nhive -e 'select * from default.student;' > /opt/module/datas/export/student4.txt;\n\n\n1\n\n\n\n# exportå¯¼åºå°hdfsä¸\n\nå°è¡¨å¯¼åºå°hdfsä¸ åæ°æ®åè¡¨æ°æ®æä»¶\n\nexport table default.student to '/user/hive/warehouse/export/student';\n\n\n1\n\n\n\n# importæ°æ®å¯¼å¥å°hiveè¡¨ä¸­\n\nè¦åç¨exportå¯¼åºå°hdfsä¸­ å¿é¡»åå«åæ°æ®åè¡¨æ°æ®\n\nimport table student from '/export/student'; \n\n\n1\n\n\n\n# æ°æ®å é¤\n\næ¸ç©ºè¡¨ åªå é¤è¡¨æ°æ® ä¸å é¤è¡¨æ¬èº« truncateåªè½å é¤ç®¡çè¡¨ï¼ä¸è½å é¤å¤é¨è¡¨ä¸­æ°æ®\n\ntruncate table student;\n\n\n1\n",charsets:{cjk:!0},lastUpdated:"2022/03/18, 07:01:11",lastUpdatedTimestamp:1647558071e3},{title:"å½æ°",frontmatter:{title:"å½æ°",date:"2022-03-17T22:07:27.000Z",permalink:"/pages/8f0a49/",categories:["å¤§æ°æ®","Hive"],tags:[null]},regularPath:"/%E5%A4%A7%E6%95%B0%E6%8D%AE/03.Hive/09.%E5%87%BD%E6%95%B0.html",relativePath:"å¤§æ°æ®/03.Hive/09.å½æ°.md",key:"v-37a0dd10",path:"/pages/8f0a49/",headers:[{level:2,title:"ç³»ç»åç½®å½æ°",slug:"ç³»ç»åç½®å½æ°",normalizedTitle:"ç³»ç»åç½®å½æ°",charIndex:9},{level:2,title:"ç©ºå­æ®µèµå¼",slug:"ç©ºå­æ®µèµå¼",normalizedTitle:"ç©ºå­æ®µèµå¼",charIndex:184},{level:2,title:"CASE WHEN",slug:"case-when",normalizedTitle:"case when",charIndex:366},{level:2,title:"è¡è½¬å",slug:"è¡è½¬å",normalizedTitle:"è¡è½¬å",charIndex:609},{level:2,title:"åè½¬è¡",slug:"åè½¬è¡",normalizedTitle:"åè½¬è¡",charIndex:1151},{level:2,title:"çªå£å½æ°(å¼çªå½æ°)",slug:"çªå£å½æ°-å¼çªå½æ°",normalizedTitle:"çªå£å½æ°(å¼çªå½æ°)",charIndex:2190},{level:3,title:"çªå£å½æ°èå",slug:"çªå£å½æ°èå",normalizedTitle:"çªå£å½æ°èå",charIndex:2789},{level:3,title:"å¶ä»å½æ°",slug:"å¶ä»å½æ°",normalizedTitle:"å¶ä»å½æ°",charIndex:4565},{level:2,title:"Rank",slug:"rank",normalizedTitle:"rank",charIndex:5695},{level:2,title:"æ¥æå½æ°",slug:"æ¥æå½æ°",normalizedTitle:"æ¥æå½æ°",charIndex:6509}],headersStr:"ç³»ç»åç½®å½æ° ç©ºå­æ®µèµå¼ CASE WHEN è¡è½¬å åè½¬è¡ çªå£å½æ°(å¼çªå½æ°) çªå£å½æ°èå å¶ä»å½æ° Rank æ¥æå½æ°",content:'# å½æ°\n\n\n# ç³»ç»åç½®å½æ°\n\nshow functions;  -- æ¥çç³»ç»èªå¸¦çå½æ°\nshow functions like "*date*"; -- æ¨¡ç³æ¥è¯¢å½æ°å\ndesc function upper; -- æ¾ç¤ºèªå¸¦çå½æ°çç¨æ³\ndesc function extended upper; -- è¯¦ç»æ¾ç¤ºèªå¸¦çå½æ°çç¨æ³\n\n\n1\n2\n3\n4\n\n\n\n# ç©ºå­æ®µèµå¼\n\nNVL( valueï¼default_value) å¦ævalueä¸ºnull åæ¿æ¢ä¸º default_value\n\nselect comm,nvl(comm, -1) from emp;  -- æ¿æ¢ä¸ºæå®å¼\nselect comm, nvl(comm,mgr) from emp; -- å¦æå¼ä¸ºåå åæ¿æ¢ä¸ºå½åè¡åçå¼\n\n\n1\n2\n\n\n\n# CASE WHEN\n\nç±»ä¼¼äºswitch\n\nselect \n  dept_id,\n  sum(case sex when \'ç·\' then 1 else 0 end) male_count,\n  sum(case sex when \'å¥³\' then 1 else 0 end) female_count\nfrom \n  emp_sex\ngroup by\n  dept_id;\n-- æ ¹æ® dept_id åç» æ¡ä»¶å¤æ­å¼ åç´¯å åä¸ªæ°\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n\n\n\n# è¡è½¬å\n\nå°å¤ä¸ªå¼ / åçå¼ èåä¸ºä¸ä¸ªå¼\n\n\n\nselect\n    t1.base,\n    concat_ws(\'|\', collect_set(t1.name)) name\nfrom\n    (select\n        name,\n        concat(constellation, ",", blood_type) base\n    from\n        person_info) t1\ngroup by\n    t1.base;\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n\n * CONCAT(string A/col, string B/colâ¦)ï¼è¿åè¾å¥å­ç¬¦ä¸²è¿æ¥åçç»æï¼æ¯æä»»æä¸ªè¾å¥å­ç¬¦ä¸²;\n * CONCAT_WS(separator, str1, str2,...)ï¼ å®æ¯ä¸ä¸ªç¹æ®å½¢å¼ç CONCAT()ãç¬¬ä¸ä¸ªåæ°å©ä½åæ°é´çåéç¬¦ã å°arrayæèstring ä»¥åéç¬¦åå² è¿å string\n * COLLECT_SET(col)ï¼å½æ°åªæ¥ååºæ¬æ°æ®ç±»åï¼å®çä¸»è¦ä½ç¨æ¯å°æå­æ®µçå¼è¿è¡å»éæ±æ»ï¼äº§çarrayç±»åå­æ®µã\n * COLLECT_LIST(col)ï¼äº§çarrayç±»åå­æ®µ, åå«éå¤åç´  .\n\n\n# åè½¬è¡\n\n * EXPLODE(col)ï¼å°hiveä¸åä¸­å¤æçarrayæåä¸åå¤è¡ mapç»ææåæä¸¤åå¤è¡ k vã\n\n * split(str,regex): å°æå®å­ç¬¦ä¸²ä»¥ æå®çåå² è¿è¡æå è¿åæ°ç»\n\n * LATERAL VIEW: èæè¡¨ å¨æ­¤åºç¡ä¸å¯ä»¥å¯¹æååçæ°æ®è¿è¡èåã\n\n\n\nvi movie.txt\n\nãçç¯è¿½è¸ªã\tæ¬ç,å¨ä½,ç§å¹»,å§æ\nãLie to meã\tæ¬ç,è­¦åª,å¨ä½,å¿ç,å§æ\nãæç¼2ã\tæäº,å¨ä½,ç¾é¾\n\n\n1\n2\n3\n4\n5\n\n\ncreate table movie_info(\n    movie string, \n    category string) \nrow format delimited fields terminated by "\\t";\nload data local inpath "/opt/module/datas/movie.txt" into table movie_info;\n\n\n1\n2\n3\n4\n5\n\n\nè½¬æ¢\n\nselect\n    m.movie,\n    tbl.cate\nfrom\n    movie_info m\nlateral view\n    explode(split(category, ",")) tbl as cate;\n\n\n1\n2\n3\n4\n5\n6\n7\n\n\nç°å¨æ ¹æ®çµå½±åæ¥è¿è¡åç»èå è¯·å®ç°ä½¿ç¨ç±»åç» æ¥çæ¯ä¸ªç±»å«ä¸ççµå½±å\n\nselect\n    cate,\n    collect_list(movie)\nfrom\n    (select\n    m.movie,\n    tbl,cate\nfrom\n    movie_info m\nlateral view\n    explode(split(category, ",")) tbl as cate;) t1\ngroup by \n    cate;\n\n#ä¸¤sqlè¯­å¥ä¸è´\nselect\n    tbl.cate,\n    collect_list(m.movie)\nfrom\n    movie_info m\nlateral view\n    explode(split(category, ",")) tbl as cate\ngroup by \n    cate;\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n\n\n\n# çªå£å½æ°(å¼çªå½æ°)\n\næ°æ®åå¤ï¼nameï¼orderdateï¼cost\n\nvim /opt/module/datas/business.txt\n\n\n1\n\n\njack,2017-01-01,10\ntony,2017-01-02,15\njack,2017-02-03,23\ntony,2017-01-04,29\njack,2017-01-05,46\njack,2017-04-06,42\ntony,2017-01-07,50\njack,2017-01-08,55\nmart,2017-04-08,62\nmart,2017-04-09,68\nneil,2017-05-10,12\nmart,2017-04-11,75\nneil,2017-06-12,80\nmart,2017-04-13,94\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n\n\nåå»ºè¡¨\n\ncreate table business(\nname string, \norderdate string,\ncost int\n) ROW FORMAT DELIMITED FIELDS TERMINATED BY \',\';\n\nload data local inpath "/opt/module/datas/business.txt" into table business;\n\n\n1\n2\n3\n4\n5\n6\n7\n\n\n\n# çªå£å½æ°èå\n\næ¥è¯¢å¨2017å¹´4æä»½è´­ä¹°è¿çé¡¾å®¢åæ»äººæ°\n\nç»è®¡ææ2017-04çæ¶é´ æ ¹æ®ç¨æ·åå»é count()é»è®¤æ¯ä¸å èæä»¬çnameæ¯å¤å å¦æç´æ¥æ¼æ¥åä¼æ¥é,æä»¬éè¿çªå£å½æ° over()è¿è¡åå\n\nselect \n    distinct name,count(distinct name) over()  -- distinctå»é\nfrom business\nwhere\n    substring(orderdate,1,7) = "2017-04";\n\n\n1\n2\n3\n4\n5\n\n\næ¥è¯¢é¡¾å®¢çè´­ä¹°æç»åæè´­ä¹°æ»é¢\n\nä½¿ç¨çªå£å½æ° æ ¹æ®æ¶é´å ååº ç»è®¡æ¯åºçsum è¿è¡ååå°å¯¹åºçååº æ¯ä¸ä¸ªååæ ¼ä¸­\n\nselect name,orderdate,cost,sum(cost) over(partition by month(orderdate)) from business;\n\n\n1\n\n\nä¸è¿°çåºæ¯, å°æ¯ä¸ªé¡¾å®¢çcostæç§æ¥æè¿è¡ç´¯å \n\nselect name,orderdate,cost, \nsum(cost) over() as sample1,-- ææè¡ç¸å  \nsum(cost) over(partition by name) as sample2,-- ænameåç»ï¼ç»åæ°æ®ç´¯å  \nsum(cost) over(partition by name order by orderdate) as sample3,-- ænameåç»ï¼ç»åæ°æ®ç´¯å  \nsum(cost) over(partition by name order by orderdate rows between UNBOUNDED PRECEDING and current row ) as sample4 ,-- åsample3ä¸æ ·,ç±èµ·ç¹å°å½åè¡çèå \nsum(cost) over(partition by name order by orderdate rows between 1 PRECEDING and current row) as sample5, -- å½åè¡ååé¢ä¸è¡åèå \nsum(cost) over(partition by name order by orderdate rows between 1 PRECEDING AND 1 FOLLOWING ) as sample6,-- å½åè¡ååè¾¹ä¸è¡ååé¢ä¸è¡ \nsum(cost) over(partition by name order by orderdate rows between current row and UNBOUNDED FOLLOWING ) as sample7 -- å½åè¡ååé¢ææè¡ \nfrom business;\n\n#å°ä¸è¿°æä½æ´åå°ä¸ä¸ªçªå£å½æ°ä¸­\nselect name,orderdate,cost,\nsum(cost) over(partition by month(orderdate)) mc,\nsum(cost) over(partition by name order by orderdate asc rows between unbounded PRECEDING and current row) lc, -- æ¯äººè´­ä¹°éé¢çç´¯å \nsum(cost) over(partition by name,substring(orderdate,1,7))  -- æ¯äººæ¯æçè´­ä¹°éé¢ \nfrom business;\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n\n\nOVER()ï¼æå®åæå½æ°å·¥ä½çæ°æ®çªå£å¤§å°ï¼è¿ä¸ªæ°æ®çªå£å¤§å°å¯è½ä¼éçè¡çåèååã\n\n * CURRENT ROW å½åè¡\n * n PRECEDING å¾åNè¡æ°æ®\n * n FOLLOWING å¾åNè¡æ°æ®\n * UNBOUNDED èµ·ç¹ï¼UNBOUNDED PRECEDING è¡¨ç¤ºä»åé¢çèµ·ç¹ï¼ UNBOUNDED FOLLOWINGè¡¨ç¤ºå°åé¢çç»ç¹\n * rowså¿é¡»è·å¨Order by å­å¥ä¹åï¼å¯¹æåºçç»æè¿è¡éå¶ï¼ä½¿ç¨åºå®çè¡æ°æ¥éå¶ååºä¸­çæ°æ®è¡æ°é\n\n\n# å¶ä»å½æ°\n\n * LAG(col,n,default_val)ï¼å¾åç¬¬nè¡æ°æ®\n   \n   * col åå\n   \n   * n æ¾ç¤ºå½åè¡çåå è¡\n   \n   * default_val å¦æåå è¡ä¸­æ²¡ææ°æ®åä»¥æ­¤å¼ä¸ºé»è®¤å¼\n   \n   * æ¥çé¡¾å®¢ä¸æ¬¡çè´­ä¹°æ¶é´\n   \n   * select name,orderdate,cost,\n     lag(orderdate,1,\'1970-01-01\') over(partition by name order by orderdate ) as time1,\n     lag(orderdate,2) over (partition by name order by orderdate) as time2\n     from business;\n     \n     \n     1\n     2\n     3\n     4\n     \n\n * LEAD(col,n, default_val)ï¼å¾åç¬¬nè¡æ°æ®\n   \n   * col åå\n   * n æ¾ç¤ºå½åè¡çåå è¡\n   * default_val å¦æåå è¡ä¸­æ²¡ææ°æ®åä»¥æ­¤å¼ä¸ºé»è®¤å¼\n\n * NTILE(n)ï¼ææåºçªå£çè¡ååå°æå®æ°æ®çç»ä¸­ï¼åä¸ªç»æç¼å·ï¼ç¼å·ä»1å¼å§ï¼å¯¹äºæ¯ä¸è¡ï¼NTILEè¿åæ­¤è¡æå±çç»çç¼å·ãæ³¨æï¼nå¿é¡»ä¸ºintç±»åã\n   \n   * æ¥è¯¢å20%æ¶é´çè®¢åä¿¡æ¯\n   \n   * select * from (\n         select name,orderdate,cost, \n         ntile(5) over(order by orderdate) sorted -- å°ç»æåæ5ç»æ°æ® \n         from business\n     ) t\n     where sorted = 1;  -- å ä¸ºå¹³ååä¸º5ç»äº ææç¬¬ä¸ç»ä¸ºåç¾åä¹20\n     \n     \n     1\n     2\n     3\n     4\n     5\n     6\n     \n\n * PERCENT_RANK() æ±åºå½åè¡å¨ç»æéä¸­ä½ç½®çç¾åç¾ ä¸ºdoubleç±»å æ¯æ¬¡è®¡ç®åé¢é½ä¼æè¯¯å·®\n   \n   * select name,orderdate,cost, \n     PERCENT_RANK() over(order by orderdate) pr -- è¿åä¸ä¸ª0.00-1.00 çå¼ ä¸ºå½åè¡æå¨ç»æéä¸­å æ®ä½ç½®çç¾åæ¯\n     from business\n     \n     \n     1\n     2\n     3\n     \n\n\n# Rank\n\nåå§æ°æ®\n\nNAME   SUBJECT   SCORE\nå­æç©º    è¯­æ        87\nå­æç©º    æ°å­¦        95\nå­æç©º    è±è¯­        68\nå¤§æµ·     è¯­æ        94\nå¤§æµ·     æ°å­¦        56\nå¤§æµ·     è±è¯­        84\nå®å®     è¯­æ        64\nå®å®     æ°å­¦        86\nå®å®     è±è¯­        84\nå©·å©·     è¯­æ        65\nå©·å©·     æ°å­¦        85\nå©·å©·     è±è¯­        78\n\ncreate table score(\nname string,\nsubject string, \nscore int) \nrow format delimited fields terminated by "\\t";\nload data local inpath \'/opt/module/datas/score.txt\' into table score;\n\n\n1\n2\n3\n4\n5\n6\n\n\nè®¡ç®æ¯é¨å­¦ç§æç»©æå\n\nSELECT\n    *,\n    RANK() OVER(PARTITION by subject ORDER BY score desc) r,\n    DENSE_RANK() OVER(PARTITION by subject ORDER BY score desc) dr,\n    ROW_NUMBER() OVER(PARTITION by subject ORDER BY score desc) rn\nFROM\n    score;\n\n\n1\n2\n3\n4\n5\n6\n7\n\n * RANK() æåºç¸åæ¶ä¼éå¤ï¼æ»æ°ä¸ä¼å\n * DENSE_RANK() æåºç¸åæ¶ä¼éå¤ï¼æ»æ°ä¼åå°\n * ROW_NUMBER() ä¼æ ¹æ®é¡ºåºè®¡ç®\n\n\n\n\n# æ¥æå½æ°\n\n * current_dateè¿åå½åæ¥æ\n   \n   * select current_date();\n     \n     \n     1\n     \n\n * date_add æ¥æçå \n   \n   * -- ä»å¤©å¼å§90å¤©ä»¥åçæ¥æ\n     select date_add(current_date(), 90);\n     \n     \n     1\n     2\n     \n\n * date_sub æ¥æçå\n   \n   * -- ä»å¤©å¼å§90å¤©ä»¥åçæ¥æ\n     select date_sub(current_date(), 90);\n     \n     \n     1\n     2\n     \n\n * ä¸¤ä¸ªæ¥æä¹é´çæ¥æå·®\n   \n   * -- ä»å¤©å1990å¹´6æ4æ¥çå¤©æ°å·®\n     SELECT datediff(CURRENT_DATE(), "1990-06-04"); -- è¿åçä¸ºå¤©æ°\n     \n     \n     1\n     2\n     \n\n * å¤æ­åªä¸ªé¡¾å®¢è¿ç»­ä¸¤å¤©åé¡¾è¿\n   \n   * SELECT\n     \tname,\n     \tcount(*) c\n     from\n     \t(\n     \tSELECT\n     \t\t*,\n     \t\tdate_sub(orderdate,\n     \t\trn) temp\n     \t\t-- åå§æ¶é´åå»å½ånameåºæ¶é´å¯¹åºçåºå· \n     \tfrom\n     \t\t(\n     \t\tSELECT\n     \t\t\t*,\n     \t\t\tROW_NUMBER() over(PARTITION by name\n     \t\tORDER by\n     \t\t\torderdate) as rn\n     \t\tFROM\n     \t\t\tbusiness \n     ) t1)t2\n     group by\n     \tname,\n     \ttemp\n     HAVING\n     \tc >= 2\n     ;\n     \n     \n     1\n     2\n     3\n     4\n     5\n     6\n     7\n     8\n     9\n     10\n     11\n     12\n     13\n     14\n     15\n     16\n     17\n     18\n     19\n     20\n     21\n     22\n     23\n     24\n     25\n     26\n     ',normalizedContent:'# å½æ°\n\n\n# ç³»ç»åç½®å½æ°\n\nshow functions;  -- æ¥çç³»ç»èªå¸¦çå½æ°\nshow functions like "*date*"; -- æ¨¡ç³æ¥è¯¢å½æ°å\ndesc function upper; -- æ¾ç¤ºèªå¸¦çå½æ°çç¨æ³\ndesc function extended upper; -- è¯¦ç»æ¾ç¤ºèªå¸¦çå½æ°çç¨æ³\n\n\n1\n2\n3\n4\n\n\n\n# ç©ºå­æ®µèµå¼\n\nnvl( valueï¼default_value) å¦ævalueä¸ºnull åæ¿æ¢ä¸º default_value\n\nselect comm,nvl(comm, -1) from emp;  -- æ¿æ¢ä¸ºæå®å¼\nselect comm, nvl(comm,mgr) from emp; -- å¦æå¼ä¸ºåå åæ¿æ¢ä¸ºå½åè¡åçå¼\n\n\n1\n2\n\n\n\n# case when\n\nç±»ä¼¼äºswitch\n\nselect \n  dept_id,\n  sum(case sex when \'ç·\' then 1 else 0 end) male_count,\n  sum(case sex when \'å¥³\' then 1 else 0 end) female_count\nfrom \n  emp_sex\ngroup by\n  dept_id;\n-- æ ¹æ® dept_id åç» æ¡ä»¶å¤æ­å¼ åç´¯å åä¸ªæ°\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n\n\n\n# è¡è½¬å\n\nå°å¤ä¸ªå¼ / åçå¼ èåä¸ºä¸ä¸ªå¼\n\n\n\nselect\n    t1.base,\n    concat_ws(\'|\', collect_set(t1.name)) name\nfrom\n    (select\n        name,\n        concat(constellation, ",", blood_type) base\n    from\n        person_info) t1\ngroup by\n    t1.base;\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n\n * concat(string a/col, string b/colâ¦)ï¼è¿åè¾å¥å­ç¬¦ä¸²è¿æ¥åçç»æï¼æ¯æä»»æä¸ªè¾å¥å­ç¬¦ä¸²;\n * concat_ws(separator, str1, str2,...)ï¼ å®æ¯ä¸ä¸ªç¹æ®å½¢å¼ç concat()ãç¬¬ä¸ä¸ªåæ°å©ä½åæ°é´çåéç¬¦ã å°arrayæèstring ä»¥åéç¬¦åå² è¿å string\n * collect_set(col)ï¼å½æ°åªæ¥ååºæ¬æ°æ®ç±»åï¼å®çä¸»è¦ä½ç¨æ¯å°æå­æ®µçå¼è¿è¡å»éæ±æ»ï¼äº§çarrayç±»åå­æ®µã\n * collect_list(col)ï¼äº§çarrayç±»åå­æ®µ, åå«éå¤åç´  .\n\n\n# åè½¬è¡\n\n * explode(col)ï¼å°hiveä¸åä¸­å¤æçarrayæåä¸åå¤è¡ mapç»ææåæä¸¤åå¤è¡ k vã\n\n * split(str,regex): å°æå®å­ç¬¦ä¸²ä»¥ æå®çåå² è¿è¡æå è¿åæ°ç»\n\n * lateral view: èæè¡¨ å¨æ­¤åºç¡ä¸å¯ä»¥å¯¹æååçæ°æ®è¿è¡èåã\n\n\n\nvi movie.txt\n\nãçç¯è¿½è¸ªã\tæ¬ç,å¨ä½,ç§å¹»,å§æ\nãlie to meã\tæ¬ç,è­¦åª,å¨ä½,å¿ç,å§æ\nãæç¼2ã\tæäº,å¨ä½,ç¾é¾\n\n\n1\n2\n3\n4\n5\n\n\ncreate table movie_info(\n    movie string, \n    category string) \nrow format delimited fields terminated by "\\t";\nload data local inpath "/opt/module/datas/movie.txt" into table movie_info;\n\n\n1\n2\n3\n4\n5\n\n\nè½¬æ¢\n\nselect\n    m.movie,\n    tbl.cate\nfrom\n    movie_info m\nlateral view\n    explode(split(category, ",")) tbl as cate;\n\n\n1\n2\n3\n4\n5\n6\n7\n\n\nç°å¨æ ¹æ®çµå½±åæ¥è¿è¡åç»èå è¯·å®ç°ä½¿ç¨ç±»åç» æ¥çæ¯ä¸ªç±»å«ä¸ççµå½±å\n\nselect\n    cate,\n    collect_list(movie)\nfrom\n    (select\n    m.movie,\n    tbl,cate\nfrom\n    movie_info m\nlateral view\n    explode(split(category, ",")) tbl as cate;) t1\ngroup by \n    cate;\n\n#ä¸¤sqlè¯­å¥ä¸è´\nselect\n    tbl.cate,\n    collect_list(m.movie)\nfrom\n    movie_info m\nlateral view\n    explode(split(category, ",")) tbl as cate\ngroup by \n    cate;\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n\n\n\n# çªå£å½æ°(å¼çªå½æ°)\n\næ°æ®åå¤ï¼nameï¼orderdateï¼cost\n\nvim /opt/module/datas/business.txt\n\n\n1\n\n\njack,2017-01-01,10\ntony,2017-01-02,15\njack,2017-02-03,23\ntony,2017-01-04,29\njack,2017-01-05,46\njack,2017-04-06,42\ntony,2017-01-07,50\njack,2017-01-08,55\nmart,2017-04-08,62\nmart,2017-04-09,68\nneil,2017-05-10,12\nmart,2017-04-11,75\nneil,2017-06-12,80\nmart,2017-04-13,94\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n\n\nåå»ºè¡¨\n\ncreate table business(\nname string, \norderdate string,\ncost int\n) row format delimited fields terminated by \',\';\n\nload data local inpath "/opt/module/datas/business.txt" into table business;\n\n\n1\n2\n3\n4\n5\n6\n7\n\n\n\n# çªå£å½æ°èå\n\næ¥è¯¢å¨2017å¹´4æä»½è´­ä¹°è¿çé¡¾å®¢åæ»äººæ°\n\nç»è®¡ææ2017-04çæ¶é´ æ ¹æ®ç¨æ·åå»é count()é»è®¤æ¯ä¸å èæä»¬çnameæ¯å¤å å¦æç´æ¥æ¼æ¥åä¼æ¥é,æä»¬éè¿çªå£å½æ° over()è¿è¡åå\n\nselect \n    distinct name,count(distinct name) over()  -- distinctå»é\nfrom business\nwhere\n    substring(orderdate,1,7) = "2017-04";\n\n\n1\n2\n3\n4\n5\n\n\næ¥è¯¢é¡¾å®¢çè´­ä¹°æç»åæè´­ä¹°æ»é¢\n\nä½¿ç¨çªå£å½æ° æ ¹æ®æ¶é´å ååº ç»è®¡æ¯åºçsum è¿è¡ååå°å¯¹åºçååº æ¯ä¸ä¸ªååæ ¼ä¸­\n\nselect name,orderdate,cost,sum(cost) over(partition by month(orderdate)) from business;\n\n\n1\n\n\nä¸è¿°çåºæ¯, å°æ¯ä¸ªé¡¾å®¢çcostæç§æ¥æè¿è¡ç´¯å \n\nselect name,orderdate,cost, \nsum(cost) over() as sample1,-- ææè¡ç¸å  \nsum(cost) over(partition by name) as sample2,-- ænameåç»ï¼ç»åæ°æ®ç´¯å  \nsum(cost) over(partition by name order by orderdate) as sample3,-- ænameåç»ï¼ç»åæ°æ®ç´¯å  \nsum(cost) over(partition by name order by orderdate rows between unbounded preceding and current row ) as sample4 ,-- åsample3ä¸æ ·,ç±èµ·ç¹å°å½åè¡çèå \nsum(cost) over(partition by name order by orderdate rows between 1 preceding and current row) as sample5, -- å½åè¡ååé¢ä¸è¡åèå \nsum(cost) over(partition by name order by orderdate rows between 1 preceding and 1 following ) as sample6,-- å½åè¡ååè¾¹ä¸è¡ååé¢ä¸è¡ \nsum(cost) over(partition by name order by orderdate rows between current row and unbounded following ) as sample7 -- å½åè¡ååé¢ææè¡ \nfrom business;\n\n#å°ä¸è¿°æä½æ´åå°ä¸ä¸ªçªå£å½æ°ä¸­\nselect name,orderdate,cost,\nsum(cost) over(partition by month(orderdate)) mc,\nsum(cost) over(partition by name order by orderdate asc rows between unbounded preceding and current row) lc, -- æ¯äººè´­ä¹°éé¢çç´¯å \nsum(cost) over(partition by name,substring(orderdate,1,7))  -- æ¯äººæ¯æçè´­ä¹°éé¢ \nfrom business;\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n\n\nover()ï¼æå®åæå½æ°å·¥ä½çæ°æ®çªå£å¤§å°ï¼è¿ä¸ªæ°æ®çªå£å¤§å°å¯è½ä¼éçè¡çåèååã\n\n * current row å½åè¡\n * n preceding å¾ånè¡æ°æ®\n * n following å¾ånè¡æ°æ®\n * unbounded èµ·ç¹ï¼unbounded preceding è¡¨ç¤ºä»åé¢çèµ·ç¹ï¼ unbounded followingè¡¨ç¤ºå°åé¢çç»ç¹\n * rowså¿é¡»è·å¨order by å­å¥ä¹åï¼å¯¹æåºçç»æè¿è¡éå¶ï¼ä½¿ç¨åºå®çè¡æ°æ¥éå¶ååºä¸­çæ°æ®è¡æ°é\n\n\n# å¶ä»å½æ°\n\n * lag(col,n,default_val)ï¼å¾åç¬¬nè¡æ°æ®\n   \n   * col åå\n   \n   * n æ¾ç¤ºå½åè¡çåå è¡\n   \n   * default_val å¦æåå è¡ä¸­æ²¡ææ°æ®åä»¥æ­¤å¼ä¸ºé»è®¤å¼\n   \n   * æ¥çé¡¾å®¢ä¸æ¬¡çè´­ä¹°æ¶é´\n   \n   * select name,orderdate,cost,\n     lag(orderdate,1,\'1970-01-01\') over(partition by name order by orderdate ) as time1,\n     lag(orderdate,2) over (partition by name order by orderdate) as time2\n     from business;\n     \n     \n     1\n     2\n     3\n     4\n     \n\n * lead(col,n, default_val)ï¼å¾åç¬¬nè¡æ°æ®\n   \n   * col åå\n   * n æ¾ç¤ºå½åè¡çåå è¡\n   * default_val å¦æåå è¡ä¸­æ²¡ææ°æ®åä»¥æ­¤å¼ä¸ºé»è®¤å¼\n\n * ntile(n)ï¼ææåºçªå£çè¡ååå°æå®æ°æ®çç»ä¸­ï¼åä¸ªç»æç¼å·ï¼ç¼å·ä»1å¼å§ï¼å¯¹äºæ¯ä¸è¡ï¼ntileè¿åæ­¤è¡æå±çç»çç¼å·ãæ³¨æï¼nå¿é¡»ä¸ºintç±»åã\n   \n   * æ¥è¯¢å20%æ¶é´çè®¢åä¿¡æ¯\n   \n   * select * from (\n         select name,orderdate,cost, \n         ntile(5) over(order by orderdate) sorted -- å°ç»æåæ5ç»æ°æ® \n         from business\n     ) t\n     where sorted = 1;  -- å ä¸ºå¹³ååä¸º5ç»äº ææç¬¬ä¸ç»ä¸ºåç¾åä¹20\n     \n     \n     1\n     2\n     3\n     4\n     5\n     6\n     \n\n * percent_rank() æ±åºå½åè¡å¨ç»æéä¸­ä½ç½®çç¾åç¾ ä¸ºdoubleç±»å æ¯æ¬¡è®¡ç®åé¢é½ä¼æè¯¯å·®\n   \n   * select name,orderdate,cost, \n     percent_rank() over(order by orderdate) pr -- è¿åä¸ä¸ª0.00-1.00 çå¼ ä¸ºå½åè¡æå¨ç»æéä¸­å æ®ä½ç½®çç¾åæ¯\n     from business\n     \n     \n     1\n     2\n     3\n     \n\n\n# rank\n\nåå§æ°æ®\n\nname   subject   score\nå­æç©º    è¯­æ        87\nå­æç©º    æ°å­¦        95\nå­æç©º    è±è¯­        68\nå¤§æµ·     è¯­æ        94\nå¤§æµ·     æ°å­¦        56\nå¤§æµ·     è±è¯­        84\nå®å®     è¯­æ        64\nå®å®     æ°å­¦        86\nå®å®     è±è¯­        84\nå©·å©·     è¯­æ        65\nå©·å©·     æ°å­¦        85\nå©·å©·     è±è¯­        78\n\ncreate table score(\nname string,\nsubject string, \nscore int) \nrow format delimited fields terminated by "\\t";\nload data local inpath \'/opt/module/datas/score.txt\' into table score;\n\n\n1\n2\n3\n4\n5\n6\n\n\nè®¡ç®æ¯é¨å­¦ç§æç»©æå\n\nselect\n    *,\n    rank() over(partition by subject order by score desc) r,\n    dense_rank() over(partition by subject order by score desc) dr,\n    row_number() over(partition by subject order by score desc) rn\nfrom\n    score;\n\n\n1\n2\n3\n4\n5\n6\n7\n\n * rank() æåºç¸åæ¶ä¼éå¤ï¼æ»æ°ä¸ä¼å\n * dense_rank() æåºç¸åæ¶ä¼éå¤ï¼æ»æ°ä¼åå°\n * row_number() ä¼æ ¹æ®é¡ºåºè®¡ç®\n\n\n\n\n# æ¥æå½æ°\n\n * current_dateè¿åå½åæ¥æ\n   \n   * select current_date();\n     \n     \n     1\n     \n\n * date_add æ¥æçå \n   \n   * -- ä»å¤©å¼å§90å¤©ä»¥åçæ¥æ\n     select date_add(current_date(), 90);\n     \n     \n     1\n     2\n     \n\n * date_sub æ¥æçå\n   \n   * -- ä»å¤©å¼å§90å¤©ä»¥åçæ¥æ\n     select date_sub(current_date(), 90);\n     \n     \n     1\n     2\n     \n\n * ä¸¤ä¸ªæ¥æä¹é´çæ¥æå·®\n   \n   * -- ä»å¤©å1990å¹´6æ4æ¥çå¤©æ°å·®\n     select datediff(current_date(), "1990-06-04"); -- è¿åçä¸ºå¤©æ°\n     \n     \n     1\n     2\n     \n\n * å¤æ­åªä¸ªé¡¾å®¢è¿ç»­ä¸¤å¤©åé¡¾è¿\n   \n   * select\n     \tname,\n     \tcount(*) c\n     from\n     \t(\n     \tselect\n     \t\t*,\n     \t\tdate_sub(orderdate,\n     \t\trn) temp\n     \t\t-- åå§æ¶é´åå»å½ånameåºæ¶é´å¯¹åºçåºå· \n     \tfrom\n     \t\t(\n     \t\tselect\n     \t\t\t*,\n     \t\t\trow_number() over(partition by name\n     \t\torder by\n     \t\t\torderdate) as rn\n     \t\tfrom\n     \t\t\tbusiness \n     ) t1)t2\n     group by\n     \tname,\n     \ttemp\n     having\n     \tc >= 2\n     ;\n     \n     \n     1\n     2\n     3\n     4\n     5\n     6\n     7\n     8\n     9\n     10\n     11\n     12\n     13\n     14\n     15\n     16\n     17\n     18\n     19\n     20\n     21\n     22\n     23\n     24\n     25\n     26\n     ',charsets:{cjk:!0},lastUpdated:"2022/03/18, 07:01:11",lastUpdatedTimestamp:1647558071e3},{title:"èªå®ä¹å½æ°",frontmatter:{title:"èªå®ä¹å½æ°",date:"2022-03-17T22:07:28.000Z",permalink:"/pages/b1e5c6/",categories:["å¤§æ°æ®","Hive"],tags:[null]},regularPath:"/%E5%A4%A7%E6%95%B0%E6%8D%AE/03.Hive/10.%E8%87%AA%E5%AE%9A%E4%B9%89%E5%87%BD%E6%95%B0.html",relativePath:"å¤§æ°æ®/03.Hive/10.èªå®ä¹å½æ°.md",key:"v-7abe8cca",path:"/pages/b1e5c6/",headers:[{level:2,title:"å·²è¿æ¶é½UDFæ¹æ³",slug:"å·²è¿æ¶é½udfæ¹æ³",normalizedTitle:"å·²è¿æ¶é½udfæ¹æ³",charIndex:269},{level:2,title:"æ°api",slug:"æ°api",normalizedTitle:"æ°api",charIndex:1219}],headersStr:"å·²è¿æ¶é½UDFæ¹æ³ æ°api",content:'# èªå®ä¹å½æ°\n\n 1. UDFï¼User-Defined-Functionï¼\n\nä¸è¿ä¸åº\n\n 2. UDAFï¼User-Defined Aggregation Functionï¼\n\nèéå½æ°ï¼å¤è¿ä¸åº\n\nç±»ä¼¼äºï¼count/max/min\n\n 3. UDTFï¼User-Defined Table-Generating Functionsï¼\n\nä¸è¿å¤åº\n\nå¦lateral view explore()\n\nhttps://cwiki.apache.org/confluence/display/Hive/HivePlugins\n\n\n# å·²è¿æ¶é½UDFæ¹æ³\n\nå¯¼å¥ä¾èµ\n\n<dependencies>\n\t\t\x3c!-- https://mvnrepository.com/artifact/org.apache.hive/hive-exec --\x3e\n\t\t<dependency>\n\t\t\t<groupId>org.apache.hive</groupId>\n\t\t\t<artifactId>hive-exec</artifactId>\n\t\t\t<version>3.1.2</version>\n\t\t</dependency>\n</dependencies>\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n\n\nç»§æ¿UDFç±» å¹¶ä¹¦åextendsæ¹æ³\n\npackage com.atguigu.hive;\n\nimport org.apache.hadoop.hive.ql.exec.UDF;\n\n\npublic class MyUDF extends UDF {\n    //è¾å¥ä¸ä¸ªå­ç¬¦ä¸² è¿åå­ç¬¦ä¸²é¿åº¦  å¿é¡»ä¸ºevaluateè¿ä¸ªæ¹æ³å\n    public int evaluate(String input) {\n        if (input == null) {\n            return 0;\n        }\n        return input.length();\n    }\n\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n\n\næåæjar,åå°jaråä¸ä¼ å°hiveä¸­ /opt/module/hive/lib/\n\ncd /opt/module/hive/lib/\n\n\n1\n\n\nå¨hiveä¸­æ·»å jarå æè éå¯hive å®ä¼èªå¨å è½½\n\nadd jar /opt/module/hive/lib/hive_function-1.0-SNAPSHOT.jar; -- æ·»å jarå°classpathä¸­\ncreate temporary function my_len as "com.atguigu.hive.MyUDF";\n-- create temporary function èªå®ä¹åç§° as "èªå®ä¹å½æ°ç±»è·¯å¾"\n\n\n1\n2\n3\n\n\nä½¿ç¨æ¶éè¿èªå®ä¹çåç§°æ¥ä½¿ç¨\n\n\n# æ°api\n\nç»§æ¿GenericUDFç±» å¹¶éåæ½è±¡æ¹æ³\n\npackage com.atguigu.hive;\n\nimport org.apache.hadoop.hive.ql.exec.UDFArgumentException;\nimport org.apache.hadoop.hive.ql.exec.UDFArgumentLengthException;\nimport org.apache.hadoop.hive.ql.exec.UDFArgumentTypeException;\nimport org.apache.hadoop.hive.ql.metadata.HiveException;\nimport org.apache.hadoop.hive.ql.udf.generic.GenericUDF;\nimport org.apache.hadoop.hive.serde2.objectinspector.ObjectInspector;\nimport org.apache.hadoop.hive.serde2.objectinspector.primitive.PrimitiveObjectInspectorFactory;\n\npublic class MyNewUDF extends GenericUDF {\n    /**\n     * å¯¹è¾å¥çæ¹æ³åæ£æ¥ ä»¥åçº¦æè¾åºçç±»å\n     * @param objectInspectors è¾å¥åæ°çæ£æ¥å¨\n     * @return è¾åºçåæ°æ£æ¥å¨\n     * @throws UDFArgumentException\n     */\n    @Override\n    public ObjectInspector initialize(ObjectInspector[] objectInspectors) throws UDFArgumentException {\n        //é¿åº¦æ£æ¥\n        if (objectInspectors.length !=1){\n            throw  new UDFArgumentLengthException("Wrong arguments count!");\n        }\n        //ç±»åæ£æ¥\n        if (!objectInspectors[0].getCategory().equals(ObjectInspector.Category.PRIMITIVE)){\n            throw new UDFArgumentTypeException(0,"Wrong arguments type!");\n        }\n        return PrimitiveObjectInspectorFactory.javaIntObjectInspector; //è¿åjavaä¸­intç±»å\n\n    }\n\n    /**\n     * å®ç°é»è¾çæ¹æ³\n     * @param deferredObjects\n     * @return\n     * @throws HiveException\n     */\n    @Override\n    public Object evaluate(DeferredObject[] deferredObjects) throws HiveException {\n        Object o = deferredObjects[0].get();\n        if (o == null){\n            return 0;\n        }\n\n        return o.toString().length();\n    }\n\n    /**\n     * å½æ°æ§è¡åºé æç¤ºä»ä¹\n     * @param strings\n     * @return\n     */\n    @Override\n    public String getDisplayString(String[] strings) {\n        return "";\n    }\n}\n\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n26\n27\n28\n29\n30\n31\n32\n33\n34\n35\n36\n37\n38\n39\n40\n41\n42\n43\n44\n45\n46\n47\n48\n49\n50\n51\n52\n53\n54\n55\n56\n57\n58\n\n\næåä¸ä¼ hive libä¸­\n\ncreate temporary function my_len as "com.atguigu.hive.MyNewUDF";\n\n\n1\n\n\nä½¿ç¨\n\nselect ename, my_len(ename) from emp;\n\n\n1\n',normalizedContent:'# èªå®ä¹å½æ°\n\n 1. udfï¼user-defined-functionï¼\n\nä¸è¿ä¸åº\n\n 2. udafï¼user-defined aggregation functionï¼\n\nèéå½æ°ï¼å¤è¿ä¸åº\n\nç±»ä¼¼äºï¼count/max/min\n\n 3. udtfï¼user-defined table-generating functionsï¼\n\nä¸è¿å¤åº\n\nå¦lateral view explore()\n\nhttps://cwiki.apache.org/confluence/display/hive/hiveplugins\n\n\n# å·²è¿æ¶é½udfæ¹æ³\n\nå¯¼å¥ä¾èµ\n\n<dependencies>\n\t\t\x3c!-- https://mvnrepository.com/artifact/org.apache.hive/hive-exec --\x3e\n\t\t<dependency>\n\t\t\t<groupid>org.apache.hive</groupid>\n\t\t\t<artifactid>hive-exec</artifactid>\n\t\t\t<version>3.1.2</version>\n\t\t</dependency>\n</dependencies>\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n\n\nç»§æ¿udfç±» å¹¶ä¹¦åextendsæ¹æ³\n\npackage com.atguigu.hive;\n\nimport org.apache.hadoop.hive.ql.exec.udf;\n\n\npublic class myudf extends udf {\n    //è¾å¥ä¸ä¸ªå­ç¬¦ä¸² è¿åå­ç¬¦ä¸²é¿åº¦  å¿é¡»ä¸ºevaluateè¿ä¸ªæ¹æ³å\n    public int evaluate(string input) {\n        if (input == null) {\n            return 0;\n        }\n        return input.length();\n    }\n\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n\n\næåæjar,åå°jaråä¸ä¼ å°hiveä¸­ /opt/module/hive/lib/\n\ncd /opt/module/hive/lib/\n\n\n1\n\n\nå¨hiveä¸­æ·»å jarå æè éå¯hive å®ä¼èªå¨å è½½\n\nadd jar /opt/module/hive/lib/hive_function-1.0-snapshot.jar; -- æ·»å jarå°classpathä¸­\ncreate temporary function my_len as "com.atguigu.hive.myudf";\n-- create temporary function èªå®ä¹åç§° as "èªå®ä¹å½æ°ç±»è·¯å¾"\n\n\n1\n2\n3\n\n\nä½¿ç¨æ¶éè¿èªå®ä¹çåç§°æ¥ä½¿ç¨\n\n\n# æ°api\n\nç»§æ¿genericudfç±» å¹¶éåæ½è±¡æ¹æ³\n\npackage com.atguigu.hive;\n\nimport org.apache.hadoop.hive.ql.exec.udfargumentexception;\nimport org.apache.hadoop.hive.ql.exec.udfargumentlengthexception;\nimport org.apache.hadoop.hive.ql.exec.udfargumenttypeexception;\nimport org.apache.hadoop.hive.ql.metadata.hiveexception;\nimport org.apache.hadoop.hive.ql.udf.generic.genericudf;\nimport org.apache.hadoop.hive.serde2.objectinspector.objectinspector;\nimport org.apache.hadoop.hive.serde2.objectinspector.primitive.primitiveobjectinspectorfactory;\n\npublic class mynewudf extends genericudf {\n    /**\n     * å¯¹è¾å¥çæ¹æ³åæ£æ¥ ä»¥åçº¦æè¾åºçç±»å\n     * @param objectinspectors è¾å¥åæ°çæ£æ¥å¨\n     * @return è¾åºçåæ°æ£æ¥å¨\n     * @throws udfargumentexception\n     */\n    @override\n    public objectinspector initialize(objectinspector[] objectinspectors) throws udfargumentexception {\n        //é¿åº¦æ£æ¥\n        if (objectinspectors.length !=1){\n            throw  new udfargumentlengthexception("wrong arguments count!");\n        }\n        //ç±»åæ£æ¥\n        if (!objectinspectors[0].getcategory().equals(objectinspector.category.primitive)){\n            throw new udfargumenttypeexception(0,"wrong arguments type!");\n        }\n        return primitiveobjectinspectorfactory.javaintobjectinspector; //è¿åjavaä¸­intç±»å\n\n    }\n\n    /**\n     * å®ç°é»è¾çæ¹æ³\n     * @param deferredobjects\n     * @return\n     * @throws hiveexception\n     */\n    @override\n    public object evaluate(deferredobject[] deferredobjects) throws hiveexception {\n        object o = deferredobjects[0].get();\n        if (o == null){\n            return 0;\n        }\n\n        return o.tostring().length();\n    }\n\n    /**\n     * å½æ°æ§è¡åºé æç¤ºä»ä¹\n     * @param strings\n     * @return\n     */\n    @override\n    public string getdisplaystring(string[] strings) {\n        return "";\n    }\n}\n\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n26\n27\n28\n29\n30\n31\n32\n33\n34\n35\n36\n37\n38\n39\n40\n41\n42\n43\n44\n45\n46\n47\n48\n49\n50\n51\n52\n53\n54\n55\n56\n57\n58\n\n\næåä¸ä¼ hive libä¸­\n\ncreate temporary function my_len as "com.atguigu.hive.mynewudf";\n\n\n1\n\n\nä½¿ç¨\n\nselect ename, my_len(ename) from emp;\n\n\n1\n',charsets:{cjk:!0},lastUpdated:"2022/03/18, 07:01:11",lastUpdatedTimestamp:1647558071e3},{title:"åç¼©åå­å¨",frontmatter:{title:"åç¼©åå­å¨",date:"2022-03-17T22:07:28.000Z",permalink:"/pages/9c39ac/",categories:["å¤§æ°æ®","Hive"],tags:[null]},regularPath:"/%E5%A4%A7%E6%95%B0%E6%8D%AE/03.Hive/11.%E5%8E%8B%E7%BC%A9%E5%92%8C%E5%AD%98%E5%82%A8.html",relativePath:"å¤§æ°æ®/03.Hive/11.åç¼©åå­å¨.md",key:"v-a20663ee",path:"/pages/9c39ac/",headers:[{level:2,title:"åç¼©åæ°è®¾ç½®",slug:"åç¼©åæ°è®¾ç½®",normalizedTitle:"åç¼©åæ°è®¾ç½®",charIndex:12},{level:2,title:"å¼å¯mapè¾åºé¶æ®µåç¼©(MRå¼æ)",slug:"å¼å¯mapè¾åºé¶æ®µåç¼©-mrå¼æ",normalizedTitle:"å¼å¯mapè¾åºé¶æ®µåç¼©(mrå¼æ)",charIndex:1253},{level:2,title:"å¼å¯Reduceè¾åºé¶æ®µåç¼©",slug:"å¼å¯reduceè¾åºé¶æ®µåç¼©",normalizedTitle:"å¼å¯reduceè¾åºé¶æ®µåç¼©",charIndex:1513},{level:2,title:"æä»¶å­å¨æ ¼å¼",slug:"æä»¶å­å¨æ ¼å¼",normalizedTitle:"æä»¶å­å¨æ ¼å¼",charIndex:1863},{level:2,title:"TEXTFILE",slug:"textfile",normalizedTitle:"textfile",charIndex:1895},{level:2,title:"Orcæ ¼å¼",slug:"orcæ ¼å¼",normalizedTitle:"orcæ ¼å¼",charIndex:2052},{level:2,title:"Parquetæ ¼å¼",slug:"parquetæ ¼å¼",normalizedTitle:"parquetæ ¼å¼",charIndex:2603},{level:2,title:"æå®æä»¶å­å¨æ ¼å¼",slug:"æå®æä»¶å­å¨æ ¼å¼",normalizedTitle:"æå®æä»¶å­å¨æ ¼å¼",charIndex:2909},{level:3,title:"textfile",slug:"textfile-2",normalizedTitle:"textfile",charIndex:2922},{level:3,title:"orc",slug:"orc",normalizedTitle:"orc",charIndex:2735},{level:3,title:"parquet",slug:"parquet",normalizedTitle:"parquet",charIndex:3589},{level:3,title:"ä¸ç§å­å¨æ ¼å¼å¤§å°æ¯è¾",slug:"ä¸ç§å­å¨æ ¼å¼å¤§å°æ¯è¾",normalizedTitle:"ä¸ç§å­å¨æ ¼å¼å¤§å°æ¯è¾",charIndex:3903},{level:2,title:"å­å¨ååç¼©ç»å",slug:"å­å¨ååç¼©ç»å",normalizedTitle:"å­å¨ååç¼©ç»å",charIndex:3920},{level:3,title:"orcå­å¨æ¹å¼çåç¼©",slug:"orcå­å¨æ¹å¼çåç¼©",normalizedTitle:"orcå­å¨æ¹å¼çåç¼©",charIndex:3932},{level:3,title:"åç¼©åæä»¶å¤§å°æ¯è¾",slug:"åç¼©åæä»¶å¤§å°æ¯è¾",normalizedTitle:"åç¼©åæä»¶å¤§å°æ¯è¾",charIndex:5483},{level:3,title:"Parquetå­å¨æ¹å¼çåç¼©",slug:"parquetå­å¨æ¹å¼çåç¼©",normalizedTitle:"parquetå­å¨æ¹å¼çåç¼©",charIndex:5499},{level:3,title:"æ»ç»",slug:"æ»ç»",normalizedTitle:"æ»ç»",charIndex:5878}],headersStr:"åç¼©åæ°è®¾ç½® å¼å¯mapè¾åºé¶æ®µåç¼©(MRå¼æ) å¼å¯Reduceè¾åºé¶æ®µåç¼© æä»¶å­å¨æ ¼å¼ TEXTFILE Orcæ ¼å¼ Parquetæ ¼å¼ æå®æä»¶å­å¨æ ¼å¼ textfile orc parquet ä¸ç§å­å¨æ ¼å¼å¤§å°æ¯è¾ å­å¨ååç¼©ç»å orcå­å¨æ¹å¼çåç¼© åç¼©åæä»¶å¤§å°æ¯è¾ Parquetå­å¨æ¹å¼çåç¼© æ»ç»",content:'# åç¼©åå­å¨\n\n\n# åç¼©åæ°è®¾ç½®\n\nè¦å¨Hadoopä¸­å¯ç¨åç¼©ï¼å¯ä»¥éç½®å¦ä¸åæ°ï¼mapred-site.xmlæä»¶ä¸­ï¼ï¼\n\nåæ°                                                 é»è®¤å¼                                           é¶æ®µ          å»ºè®®\nio.compression.codecs ï¼å¨core-site.xmlä¸­éç½®ï¼          org.apache.hadoop.io.compress.DefaultCodec,   è¾å¥åç¼©        Hadoopä½¿ç¨æä»¶æ©å±åå¤æ­æ¯å¦æ¯ææç§ç¼è§£ç å¨\n                                                   org.apache.hadoop.io.compress.GzipCodec,\n                                                   org.apache.hadoop.io.compress.BZip2Codec,\n                                                   org.apache.hadoop.io.compress.Lz4Codec\nmapreduce.map.output.compress                      false                                         mapperè¾åº    è¿ä¸ªåæ°è®¾ä¸ºtrueå¯ç¨åç¼©\nmapreduce.map.output.compress.codec                org.apache.hadoop.io.compress.DefaultCodec    mapperè¾åº    ä½¿ç¨LZOãLZ4æsnappyç¼è§£ç å¨å¨æ­¤é¶æ®µåç¼©æ°æ®\nmapreduce.output.fileoutputformat.compress         false                                         reducerè¾åº   è¿ä¸ªåæ°è®¾ä¸ºtrueå¯ç¨åç¼©\nmapreduce.output.fileoutputformat.compress.codec   org.apache.hadoop.io.compress. DefaultCodec   reducerè¾åº   ä½¿ç¨æ åå·¥å·æèç¼è§£ç å¨ï¼å¦gzipåbzip2\nmapreduce.output.fileoutputformat.compress.type    RECORD                                        reducerè¾åº   SequenceFileè¾åºä½¿ç¨çåç¼©ç±»åï¼NONEåBLOCK\n\n\n# å¼å¯mapè¾åºé¶æ®µåç¼©(MRå¼æ)\n\nä¸´æ¶å¼å¯\n\nset hive.exec.compress.intermediate=true; -- å¼å¯hiveä¸­é´ä¼ éçåç¼©åè½\nset mapreduce.map.output.compress=true; -- å¼å¯mapreduceä¸­mapè¾åºåç¼©åè½\nset mapreduce.map.output.compress.codec=org.apache.hadoop.io.compress.SnappyCodec; -- è®¾ç½®æå®çåç¼©æ¹å¼\n\n\n1\n2\n3\n\n\n\n# å¼å¯Reduceè¾åºé¶æ®µåç¼©\n\nset hive.exec.compress.output=true; -- å¼å¯hiveæç»è¾åºæ°æ®åç¼©\nset mapreduce.output.fileoutputformat.compress=true; -- å¼å¯mapreduceæç»è¾åºæ°æ®åç¼©\nset mapreduce.output.fileoutputformat.compress.codec =org.apache.hadoop.io.compress.SnappyCodec; -- è®¾ç½®åç¼©æ¹å¼\nset mapreduce.output.fileoutputformat.compress.type=BLOCK; -- è®¾ç½®mapreduceæç»è¾åºåç¼©æ¹å¼\n\n\n1\n2\n3\n4\n\n\n\n# æä»¶å­å¨æ ¼å¼\n\nHiveæ¯æçå­å¨æ°æ®çæ ¼å¼ä¸»è¦æï¼\n\nè¡å­å¨ TEXTFILE ãSEQUENCEFILE\n\nåå­å¨ ORCãPARQUET Hiveä¸­ä½¿ç¨åå­å¨æ¯è¾å¥½\n\n\n\n\n# TEXTFILE\n\né»è®¤æ ¼å¼ï¼æ°æ®ä¸ååç¼©ï¼ç£çå¼éå¤§ï¼æ°æ®è§£æå¼éå¤§ãå¯ç»åGzipãBzip2ä½¿ç¨ï¼ä½ä½¿ç¨Gzipè¿ç§æ¹å¼ï¼hiveä¸ä¼å¯¹æ°æ®è¿è¡ååï¼ä»èæ æ³å¯¹æ°æ®è¿è¡å¹¶è¡æä½ã\n\n\n# Orcæ ¼å¼\n\nOrcæä»¶ç±1ä¸ªæå¤ä¸ªstripeç»æï¼æ¯ä¸ªstripeä¸è¬ä¸ºHDFSçåå¤§å°ï¼æ¯ä¸ä¸ªstripeåå«å¤æ¡è®°å½ï¼è¿äºè®°å½æç§åè¿è¡ç¬ç«å­å¨ï¼å¯¹åºå°Parquetä¸­çrow groupçæ¦å¿µãæ¯ä¸ªStripeéæä¸é¨åç»æï¼åå«æ¯Index Dataï¼Row Dataï¼Stripe Footerï¼\n\n\n\n1ï¼Index Dataï¼ä¸ä¸ªè½»éçº§çindexï¼é»è®¤æ¯æ¯é1Wè¡åä¸ä¸ªç´¢å¼ãè¿éåçç´¢å¼åºè¯¥åªæ¯è®°å½æè¡çåå­æ®µå¨Row Dataä¸­çoffsetã\n\n2ï¼Row Dataï¼å­çæ¯å·ä½çæ°æ®ï¼ååé¨åè¡ï¼ç¶åå¯¹è¿äºè¡æåè¿è¡å­å¨ãå¯¹æ¯ä¸ªåè¿è¡äºç¼ç ï¼åæå¤ä¸ªStreamæ¥å­å¨ã\n\n3ï¼Stripe Footerï¼å­çæ¯åä¸ªStreamçç±»åï¼é¿åº¦ç­ä¿¡æ¯ã\n\næ¯ä¸ªæä»¶æä¸ä¸ªFile Footerï¼è¿éé¢å­çæ¯æ¯ä¸ªStripeçè¡æ°ï¼æ¯ä¸ªColumnçæ°æ®ç±»åä¿¡æ¯ç­ï¼æ¯ä¸ªæä»¶çå°¾é¨æ¯ä¸ä¸ªPostScriptï¼è¿éé¢è®°å½äºæ´ä¸ªæä»¶çåç¼©ç±»åä»¥åFileFooterçé¿åº¦ä¿¡æ¯ç­ãå¨è¯»åæä»¶æ¶ï¼ä¼seekå°æä»¶å°¾é¨è¯»PostScriptï¼ä»éé¢è§£æå°File Footeré¿åº¦ï¼åè¯»FileFooterï¼ä»éé¢è§£æå°åä¸ªStripeä¿¡æ¯ï¼åè¯»åä¸ªStripeï¼å³ä»åå¾åè¯»ã\n\n\n# Parquetæ ¼å¼\n\nParquetæä»¶æ¯ä»¥äºè¿å¶æ¹å¼å­å¨çï¼æä»¥æ¯ä¸å¯ä»¥ç´æ¥è¯»åçï¼æä»¶ä¸­åæ¬è¯¥æä»¶çæ°æ®ååæ°æ®ï¼å æ­¤Parquetæ ¼å¼æä»¶æ¯èªè§£æçã\n\nï¼1ï¼è¡ç»(Row Group)ï¼æ¯ä¸ä¸ªè¡ç»åå«ä¸å®çè¡æ°ï¼å¨ä¸ä¸ªHDFSæä»¶ä¸­è³å°å­å¨ä¸ä¸ªè¡ç»ï¼ç±»ä¼¼äºorcçstripeçæ¦å¿µã\n\nï¼2ï¼åå(Column Chunk)ï¼å¨ä¸ä¸ªè¡ç»ä¸­æ¯ä¸åä¿å­å¨ä¸ä¸ªååä¸­ï¼è¡ç»ä¸­çææåè¿ç»­çå­å¨å¨è¿ä¸ªè¡ç»æä»¶ä¸­ãä¸ä¸ªååä¸­çå¼é½æ¯ç¸åç±»åçï¼ä¸åçååå¯è½ä½¿ç¨ä¸åçç®æ³è¿è¡åç¼©ã\n\nï¼3ï¼é¡µ(Page)ï¼æ¯ä¸ä¸ªååååä¸ºå¤ä¸ªé¡µï¼ä¸ä¸ªé¡µæ¯æå°çç¼ç çåä½ï¼å¨åä¸ä¸ªååçä¸åé¡µå¯è½ä½¿ç¨ä¸åçç¼ç æ¹å¼ã\n\n\n# æå®æä»¶å­å¨æ ¼å¼\n\n\n# textfile\n\nå¨å»ºè¡¨æ¶éè¿stored å³é®å­æå®æ ¼å¼\n\ncreate table log_text (\ntrack_time string,\nurl string,\nsession_id string,\nreferer string,\nip string,\nend_user_id string,\ncity_id string\n)\nrow format delimited fields terminated by \'\\t\'\nstored as textfile;  -- æå®ä¸ºtextfile é»è®¤ä¹æ¯textfile\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n\n\n\n# orc\n\ncreate table log_orc(\ntrack_time string,\nurl string,\nsession_id string,\nreferer string,\nip string,\nend_user_id string,\ncity_id string\n)\nrow format delimited fields terminated by \'\\t\'\nstored as orc  -- æå®ä¸ºorcæ ¼å¼\ntblproperties("orc.compress"="NONE"); -- å»æåç¼©\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n\n\nåªè½æå¥æ°æ® ä¸è½ç´æ¥å æ°æ®æä»¶\n\ninsert into table log_orc select * from log_text ;\n\n\n1\n\n\n\n# parquet\n\ncreate table log_parquet(\ntrack_time string,\nurl string,\nsession_id string,\nreferer string,\nip string,\nend_user_id string,\ncity_id string\n)\nrow format delimited fields terminated by \'\\t\'\nstored as parquet ;\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n\n\næå¥æ°æ®\n\ninsert into table log_parquet select * from log_text ;\n\n\n1\n\n\n\n# ä¸ç§å­å¨æ ¼å¼å¤§å°æ¯è¾\n\n\n\n\n# å­å¨ååç¼©ç»å\n\n\n# orcå­å¨æ¹å¼çåç¼©\n\nKEY                        DEFAULT       NOTES\norc.compress               ZLIB          high level compression (one of NONE, ZLIB, SNAPPY)\norc.compress.size          262,144       number of bytes in each compression chunk\norc.stripe.size            268,435,456   number of bytes in each stripe\norc.row.index.stride       10,000        number of rows between index entries (must be >= 1000)\norc.create.index           true          whether to create row indexes\norc.bloom.filter.columns   ""            comma separated list of column names for which bloom filter\n                                         should be created\norc.bloom.filter.fpp       0.05          false positive probability for bloom filter (must >0.0 and\n                                         <1.0)\n\nææå³äºORCFileçåæ°é½æ¯å¨HQLè¯­å¥çTBLPROPERTIESå­æ®µéé¢åºç° å¨å»ºè¡¨æ¶æå®\n\n# ZLIBåç¼©æ ¼å¼\n\ncreate table log_zlib(\ntrack_time string,\nurl string,\nsession_id string,\nreferer string,\nip string,\nend_user_id string,\ncity_id string\n)\nrow format delimited fields terminated by \'\\t\'\nstored as orc  \ntblproperties("orc.compress"="ZLIB"); -- æå®åç¼©ä¸ºZLIB é»è®¤ä¹ä¸ºZLIB\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n\n\næå¥æ°æ®\n\ninsert into log_orc_zlib select * from log_text;\n\n\n1\n\n\n# SNAPPYåç¼©æ ¼å¼\n\ncreate table log_orc_snappy(\ntrack_time string,\nurl string,\nsession_id string,\nreferer string,\nip string,\nend_user_id string,\ncity_id string\n)\nrow format delimited fields terminated by \'\\t\'\nstored as orc\ntblproperties("orc.compress"="SNAPPY");\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n\n\næå¥æ°æ®\n\ninsert into log_orc_snappy select * from log_text;\n\n\n1\n\n\n\n# åç¼©åæä»¶å¤§å°æ¯è¾\n\n\n\n\n# Parquetå­å¨æ¹å¼çåç¼©\n\ncreate table log_par_snappy(\ntrack_time string,\nurl string,\nsession_id string,\nreferer string,\nip string,\nend_user_id string,\ncity_id string\n)\nrow format delimited fields terminated by \'\\t\'\nstored as parquet\ntblproperties("parquet.compression"="SNAPPY");\n\ninsert into log_par_snappy select * from log_text;\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n\n\n\n\næªåç¼©ååç¼©ä¹åæä»¶å¤§å°\n\n\n# æ»ç»\n\nå¨å®éçé¡¹ç®å¼åå½ä¸­ï¼hiveè¡¨çæ°æ®å­å¨æ ¼å¼ä¸è¬éæ©ï¼orcæparquetãåç¼©æ¹å¼ä¸è¬éæ©snappyï¼lzoã',normalizedContent:'# åç¼©åå­å¨\n\n\n# åç¼©åæ°è®¾ç½®\n\nè¦å¨hadoopä¸­å¯ç¨åç¼©ï¼å¯ä»¥éç½®å¦ä¸åæ°ï¼mapred-site.xmlæä»¶ä¸­ï¼ï¼\n\nåæ°                                                 é»è®¤å¼                                           é¶æ®µ          å»ºè®®\nio.compression.codecs ï¼å¨core-site.xmlä¸­éç½®ï¼          org.apache.hadoop.io.compress.defaultcodec,   è¾å¥åç¼©        hadoopä½¿ç¨æä»¶æ©å±åå¤æ­æ¯å¦æ¯ææç§ç¼è§£ç å¨\n                                                   org.apache.hadoop.io.compress.gzipcodec,\n                                                   org.apache.hadoop.io.compress.bzip2codec,\n                                                   org.apache.hadoop.io.compress.lz4codec\nmapreduce.map.output.compress                      false                                         mapperè¾åº    è¿ä¸ªåæ°è®¾ä¸ºtrueå¯ç¨åç¼©\nmapreduce.map.output.compress.codec                org.apache.hadoop.io.compress.defaultcodec    mapperè¾åº    ä½¿ç¨lzoãlz4æsnappyç¼è§£ç å¨å¨æ­¤é¶æ®µåç¼©æ°æ®\nmapreduce.output.fileoutputformat.compress         false                                         reducerè¾åº   è¿ä¸ªåæ°è®¾ä¸ºtrueå¯ç¨åç¼©\nmapreduce.output.fileoutputformat.compress.codec   org.apache.hadoop.io.compress. defaultcodec   reducerè¾åº   ä½¿ç¨æ åå·¥å·æèç¼è§£ç å¨ï¼å¦gzipåbzip2\nmapreduce.output.fileoutputformat.compress.type    record                                        reducerè¾åº   sequencefileè¾åºä½¿ç¨çåç¼©ç±»åï¼noneåblock\n\n\n# å¼å¯mapè¾åºé¶æ®µåç¼©(mrå¼æ)\n\nä¸´æ¶å¼å¯\n\nset hive.exec.compress.intermediate=true; -- å¼å¯hiveä¸­é´ä¼ éçåç¼©åè½\nset mapreduce.map.output.compress=true; -- å¼å¯mapreduceä¸­mapè¾åºåç¼©åè½\nset mapreduce.map.output.compress.codec=org.apache.hadoop.io.compress.snappycodec; -- è®¾ç½®æå®çåç¼©æ¹å¼\n\n\n1\n2\n3\n\n\n\n# å¼å¯reduceè¾åºé¶æ®µåç¼©\n\nset hive.exec.compress.output=true; -- å¼å¯hiveæç»è¾åºæ°æ®åç¼©\nset mapreduce.output.fileoutputformat.compress=true; -- å¼å¯mapreduceæç»è¾åºæ°æ®åç¼©\nset mapreduce.output.fileoutputformat.compress.codec =org.apache.hadoop.io.compress.snappycodec; -- è®¾ç½®åç¼©æ¹å¼\nset mapreduce.output.fileoutputformat.compress.type=block; -- è®¾ç½®mapreduceæç»è¾åºåç¼©æ¹å¼\n\n\n1\n2\n3\n4\n\n\n\n# æä»¶å­å¨æ ¼å¼\n\nhiveæ¯æçå­å¨æ°æ®çæ ¼å¼ä¸»è¦æï¼\n\nè¡å­å¨ textfile ãsequencefile\n\nåå­å¨ orcãparquet hiveä¸­ä½¿ç¨åå­å¨æ¯è¾å¥½\n\n\n\n\n# textfile\n\né»è®¤æ ¼å¼ï¼æ°æ®ä¸ååç¼©ï¼ç£çå¼éå¤§ï¼æ°æ®è§£æå¼éå¤§ãå¯ç»ågzipãbzip2ä½¿ç¨ï¼ä½ä½¿ç¨gzipè¿ç§æ¹å¼ï¼hiveä¸ä¼å¯¹æ°æ®è¿è¡ååï¼ä»èæ æ³å¯¹æ°æ®è¿è¡å¹¶è¡æä½ã\n\n\n# orcæ ¼å¼\n\norcæä»¶ç±1ä¸ªæå¤ä¸ªstripeç»æï¼æ¯ä¸ªstripeä¸è¬ä¸ºhdfsçåå¤§å°ï¼æ¯ä¸ä¸ªstripeåå«å¤æ¡è®°å½ï¼è¿äºè®°å½æç§åè¿è¡ç¬ç«å­å¨ï¼å¯¹åºå°parquetä¸­çrow groupçæ¦å¿µãæ¯ä¸ªstripeéæä¸é¨åç»æï¼åå«æ¯index dataï¼row dataï¼stripe footerï¼\n\n\n\n1ï¼index dataï¼ä¸ä¸ªè½»éçº§çindexï¼é»è®¤æ¯æ¯é1wè¡åä¸ä¸ªç´¢å¼ãè¿éåçç´¢å¼åºè¯¥åªæ¯è®°å½æè¡çåå­æ®µå¨row dataä¸­çoffsetã\n\n2ï¼row dataï¼å­çæ¯å·ä½çæ°æ®ï¼ååé¨åè¡ï¼ç¶åå¯¹è¿äºè¡æåè¿è¡å­å¨ãå¯¹æ¯ä¸ªåè¿è¡äºç¼ç ï¼åæå¤ä¸ªstreamæ¥å­å¨ã\n\n3ï¼stripe footerï¼å­çæ¯åä¸ªstreamçç±»åï¼é¿åº¦ç­ä¿¡æ¯ã\n\næ¯ä¸ªæä»¶æä¸ä¸ªfile footerï¼è¿éé¢å­çæ¯æ¯ä¸ªstripeçè¡æ°ï¼æ¯ä¸ªcolumnçæ°æ®ç±»åä¿¡æ¯ç­ï¼æ¯ä¸ªæä»¶çå°¾é¨æ¯ä¸ä¸ªpostscriptï¼è¿éé¢è®°å½äºæ´ä¸ªæä»¶çåç¼©ç±»åä»¥åfilefooterçé¿åº¦ä¿¡æ¯ç­ãå¨è¯»åæä»¶æ¶ï¼ä¼seekå°æä»¶å°¾é¨è¯»postscriptï¼ä»éé¢è§£æå°file footeré¿åº¦ï¼åè¯»filefooterï¼ä»éé¢è§£æå°åä¸ªstripeä¿¡æ¯ï¼åè¯»åä¸ªstripeï¼å³ä»åå¾åè¯»ã\n\n\n# parquetæ ¼å¼\n\nparquetæä»¶æ¯ä»¥äºè¿å¶æ¹å¼å­å¨çï¼æä»¥æ¯ä¸å¯ä»¥ç´æ¥è¯»åçï¼æä»¶ä¸­åæ¬è¯¥æä»¶çæ°æ®ååæ°æ®ï¼å æ­¤parquetæ ¼å¼æä»¶æ¯èªè§£æçã\n\nï¼1ï¼è¡ç»(row group)ï¼æ¯ä¸ä¸ªè¡ç»åå«ä¸å®çè¡æ°ï¼å¨ä¸ä¸ªhdfsæä»¶ä¸­è³å°å­å¨ä¸ä¸ªè¡ç»ï¼ç±»ä¼¼äºorcçstripeçæ¦å¿µã\n\nï¼2ï¼åå(column chunk)ï¼å¨ä¸ä¸ªè¡ç»ä¸­æ¯ä¸åä¿å­å¨ä¸ä¸ªååä¸­ï¼è¡ç»ä¸­çææåè¿ç»­çå­å¨å¨è¿ä¸ªè¡ç»æä»¶ä¸­ãä¸ä¸ªååä¸­çå¼é½æ¯ç¸åç±»åçï¼ä¸åçååå¯è½ä½¿ç¨ä¸åçç®æ³è¿è¡åç¼©ã\n\nï¼3ï¼é¡µ(page)ï¼æ¯ä¸ä¸ªååååä¸ºå¤ä¸ªé¡µï¼ä¸ä¸ªé¡µæ¯æå°çç¼ç çåä½ï¼å¨åä¸ä¸ªååçä¸åé¡µå¯è½ä½¿ç¨ä¸åçç¼ç æ¹å¼ã\n\n\n# æå®æä»¶å­å¨æ ¼å¼\n\n\n# textfile\n\nå¨å»ºè¡¨æ¶éè¿stored å³é®å­æå®æ ¼å¼\n\ncreate table log_text (\ntrack_time string,\nurl string,\nsession_id string,\nreferer string,\nip string,\nend_user_id string,\ncity_id string\n)\nrow format delimited fields terminated by \'\\t\'\nstored as textfile;  -- æå®ä¸ºtextfile é»è®¤ä¹æ¯textfile\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n\n\n\n# orc\n\ncreate table log_orc(\ntrack_time string,\nurl string,\nsession_id string,\nreferer string,\nip string,\nend_user_id string,\ncity_id string\n)\nrow format delimited fields terminated by \'\\t\'\nstored as orc  -- æå®ä¸ºorcæ ¼å¼\ntblproperties("orc.compress"="none"); -- å»æåç¼©\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n\n\nåªè½æå¥æ°æ® ä¸è½ç´æ¥å æ°æ®æä»¶\n\ninsert into table log_orc select * from log_text ;\n\n\n1\n\n\n\n# parquet\n\ncreate table log_parquet(\ntrack_time string,\nurl string,\nsession_id string,\nreferer string,\nip string,\nend_user_id string,\ncity_id string\n)\nrow format delimited fields terminated by \'\\t\'\nstored as parquet ;\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n\n\næå¥æ°æ®\n\ninsert into table log_parquet select * from log_text ;\n\n\n1\n\n\n\n# ä¸ç§å­å¨æ ¼å¼å¤§å°æ¯è¾\n\n\n\n\n# å­å¨ååç¼©ç»å\n\n\n# orcå­å¨æ¹å¼çåç¼©\n\nkey                        default       notes\norc.compress               zlib          high level compression (one of none, zlib, snappy)\norc.compress.size          262,144       number of bytes in each compression chunk\norc.stripe.size            268,435,456   number of bytes in each stripe\norc.row.index.stride       10,000        number of rows between index entries (must be >= 1000)\norc.create.index           true          whether to create row indexes\norc.bloom.filter.columns   ""            comma separated list of column names for which bloom filter\n                                         should be created\norc.bloom.filter.fpp       0.05          false positive probability for bloom filter (must >0.0 and\n                                         <1.0)\n\nææå³äºorcfileçåæ°é½æ¯å¨hqlè¯­å¥çtblpropertieså­æ®µéé¢åºç° å¨å»ºè¡¨æ¶æå®\n\n# zlibåç¼©æ ¼å¼\n\ncreate table log_zlib(\ntrack_time string,\nurl string,\nsession_id string,\nreferer string,\nip string,\nend_user_id string,\ncity_id string\n)\nrow format delimited fields terminated by \'\\t\'\nstored as orc  \ntblproperties("orc.compress"="zlib"); -- æå®åç¼©ä¸ºzlib é»è®¤ä¹ä¸ºzlib\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n\n\næå¥æ°æ®\n\ninsert into log_orc_zlib select * from log_text;\n\n\n1\n\n\n# snappyåç¼©æ ¼å¼\n\ncreate table log_orc_snappy(\ntrack_time string,\nurl string,\nsession_id string,\nreferer string,\nip string,\nend_user_id string,\ncity_id string\n)\nrow format delimited fields terminated by \'\\t\'\nstored as orc\ntblproperties("orc.compress"="snappy");\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n\n\næå¥æ°æ®\n\ninsert into log_orc_snappy select * from log_text;\n\n\n1\n\n\n\n# åç¼©åæä»¶å¤§å°æ¯è¾\n\n\n\n\n# parquetå­å¨æ¹å¼çåç¼©\n\ncreate table log_par_snappy(\ntrack_time string,\nurl string,\nsession_id string,\nreferer string,\nip string,\nend_user_id string,\ncity_id string\n)\nrow format delimited fields terminated by \'\\t\'\nstored as parquet\ntblproperties("parquet.compression"="snappy");\n\ninsert into log_par_snappy select * from log_text;\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n\n\n\n\næªåç¼©ååç¼©ä¹åæä»¶å¤§å°\n\n\n# æ»ç»\n\nå¨å®éçé¡¹ç®å¼åå½ä¸­ï¼hiveè¡¨çæ°æ®å­å¨æ ¼å¼ä¸è¬éæ©ï¼orcæparquetãåç¼©æ¹å¼ä¸è¬éæ©snappyï¼lzoã',charsets:{cjk:!0},lastUpdated:"2022/03/18, 07:01:11",lastUpdatedTimestamp:1647558071e3},{title:"æ¥è¯¢",frontmatter:{title:"æ¥è¯¢",date:"2022-03-17T22:07:27.000Z",permalink:"/pages/73e227/",categories:["å¤§æ°æ®","Hive"],tags:[null]},regularPath:"/%E5%A4%A7%E6%95%B0%E6%8D%AE/03.Hive/08.%E6%9F%A5%E8%AF%A2.html",relativePath:"å¤§æ°æ®/03.Hive/08.æ¥è¯¢.md",key:"v-17274f0b",path:"/pages/73e227/",headers:[{level:2,title:"ç®æ¯è¿ç®ç¬¦",slug:"ç®æ¯è¿ç®ç¬¦",normalizedTitle:"ç®æ¯è¿ç®ç¬¦",charIndex:657},{level:2,title:"å¸¸ç¨å½æ°",slug:"å¸¸ç¨å½æ°",normalizedTitle:"å¸¸ç¨å½æ°",charIndex:822},{level:3,title:"UDFå½æ°",slug:"udfå½æ°",normalizedTitle:"udfå½æ°",charIndex:831},{level:3,title:"UDAFå½æ°",slug:"udafå½æ°",normalizedTitle:"udafå½æ°",charIndex:899},{level:3,title:"UDTFå½æ°",slug:"udtfå½æ°",normalizedTitle:"udtfå½æ°",charIndex:1148},{level:2,title:"Limit",slug:"limit",normalizedTitle:"limit",charIndex:1180},{level:2,title:"Where",slug:"where",normalizedTitle:"where",charIndex:1231},{level:3,title:"LikeåRlike",slug:"likeårlike",normalizedTitle:"likeårlike",charIndex:2527},{level:3,title:"é»è¾è¿ç®ç¬¦ï¼And/Or/Notï¼",slug:"é»è¾è¿ç®ç¬¦-and-or-not",normalizedTitle:"é»è¾è¿ç®ç¬¦ï¼and/or/notï¼",charIndex:2701},{level:2,title:"åç»",slug:"åç»",normalizedTitle:"åç»",charIndex:2817},{level:3,title:"Group Byè¯­å¥",slug:"group-byè¯­å¥",normalizedTitle:"group byè¯­å¥",charIndex:2824},{level:3,title:"Havingè¯­å¥",slug:"havingè¯­å¥",normalizedTitle:"havingè¯­å¥",charIndex:2924},{level:3,title:"mysqlæ§è¡é¡ºåº:",slug:"mysqlæ§è¡é¡ºåº",normalizedTitle:"mysqlæ§è¡é¡ºåº:",charIndex:3058},{level:2,title:"Join",slug:"join",normalizedTitle:"join",charIndex:3151},{level:3,title:"åè¿æ¥",slug:"åè¿æ¥",normalizedTitle:"åè¿æ¥",charIndex:3200},{level:3,title:"å·¦å¤è¿æ¥",slug:"å·¦å¤è¿æ¥",normalizedTitle:"å·¦å¤è¿æ¥",charIndex:3354},{level:3,title:"å³å¤è¿æ¥",slug:"å³å¤è¿æ¥",normalizedTitle:"å³å¤è¿æ¥",charIndex:3522},{level:3,title:"æ»¡å¤è¿æ¥",slug:"æ»¡å¤è¿æ¥",normalizedTitle:"æ»¡å¤è¿æ¥",charIndex:3689},{level:3,title:"å¤è¡¨è¿æ¥æ¥è¯¢",slug:"å¤è¡¨è¿æ¥æ¥è¯¢",normalizedTitle:"å¤è¡¨è¿æ¥æ¥è¯¢",charIndex:3883},{level:3,title:"ç¬å¡å°ç§¯",slug:"ç¬å¡å°ç§¯",normalizedTitle:"ç¬å¡å°ç§¯",charIndex:4042},{level:2,title:"æåº",slug:"æåº",normalizedTitle:"æåº",charIndex:4159},{level:3,title:"å¨å±æåºï¼Order Byï¼",slug:"å¨å±æåº-order-by",normalizedTitle:"å¨å±æåºï¼order byï¼",charIndex:4166},{level:3,title:"åé¨æåº(Sort By)",slug:"åé¨æåº-sort-by",normalizedTitle:"åé¨æåº(sort by)",charIndex:4413},{level:3,title:"ååºæåº(Distribute By)",slug:"ååºæåº-distribute-by",normalizedTitle:"ååºæåº(distribute by)",charIndex:4697},{level:3,title:"æ¡¶æåº(Cluster By)",slug:"æ¡¶æåº-cluster-by",normalizedTitle:"æ¡¶æåº(cluster by)",charIndex:4975},{level:2,title:"åæ¡¶è¡¨åæ½æ ·æ¥è¯¢",slug:"åæ¡¶è¡¨åæ½æ ·æ¥è¯¢",normalizedTitle:"åæ¡¶è¡¨åæ½æ ·æ¥è¯¢",charIndex:5230},{level:3,title:"æ½æ ·æ¥è¯¢",slug:"æ½æ ·æ¥è¯¢",normalizedTitle:"æ½æ ·æ¥è¯¢",charIndex:5234}],headersStr:"ç®æ¯è¿ç®ç¬¦ å¸¸ç¨å½æ° UDFå½æ° UDAFå½æ° UDTFå½æ° Limit Where LikeåRlike é»è¾è¿ç®ç¬¦ï¼And/Or/Notï¼ åç» Group Byè¯­å¥ Havingè¯­å¥ mysqlæ§è¡é¡ºåº: Join åè¿æ¥ å·¦å¤è¿æ¥ å³å¤è¿æ¥ æ»¡å¤è¿æ¥ å¤è¡¨è¿æ¥æ¥è¯¢ ç¬å¡å°ç§¯ æåº å¨å±æåºï¼Order Byï¼ åé¨æåº(Sort By) ååºæåº(Distribute By) æ¡¶æåº(Cluster By) åæ¡¶è¡¨åæ½æ ·æ¥è¯¢ æ½æ ·æ¥è¯¢",content:"# æ¥è¯¢\n\nååå»ºé¨é¨è¡¨ååå·¥è¡¨\n\ncreate table if not exists dept(\ndeptno int,\ndname string,\nloc int\n)\nrow format delimited fields terminated by '\\t';\n\ncreate table if not exists emp(\nempno int,\nename string,\njob string,\nmgr int,\nhiredate string, \nsal double, \ncomm double,\ndeptno int)\nrow format delimited fields terminated by '\\t';\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n\n\nå¯¼å¥æ°æ®\n\nload data local inpath '/opt/module/datas/dept.txt' into table dept;\nload data local inpath '/opt/module/datas/emp.txt' into table emp;\n\n\n1\n2\n\n\næ¥è¯¢\n\nselect * from emp; -- å¨è¡¨æ¥è¯¢\nselect empno, ename from emp; -- ç¹å®åæ¥è¯¢\nselect empno as pno, ename as name from emp; -- èµ·åå«å aså¯ä»¥çç¥\n\n\n1\n2\n3\n\n\n\n# ç®æ¯è¿ç®ç¬¦\n\nè¿ç®ç¬¦   æè¿°\nA+B   AåB ç¸å \nA-B   Aåå»B\nA*B   AåB ç¸ä¹\nA/B   Aé¤ä»¥B\nA%B   Aå¯¹Båä½\nA&B   AåBæä½åä¸\nA|B   AåBæä½åæ\nA^B   AåBæä½åå¼æ\n~A    Aæä½åå\n\nselect sal +1 from emp;\n\n\n1\n\n\n\n# å¸¸ç¨å½æ°\n\n\n# UDFå½æ°\n\nç»å®ä¸ä¸ªè¾å¥ è¿åä¸ä¸ªè¾åº\n\nselect substring(name,1,1) from emp;\n\n\n1\n\n\n\n# UDAFå½æ°\n\nç»å®å¤ä¸ªè¾å¥ è¿åä¸ä¸ªè¾åº èåå½æ°\n\nselect count(*) from emp; -- ç»è®¡ä¸ªæ°\nselect max(sal) max_sal from emp; -- æ­¤åæå¤§å¼\nselect min(sal) min_sal from emp; -- æ­¤åæå°å¼\nselect sum(sal) sum_sal from emp;  -- æ­¤åæ»å\nselect avg(sal) avg_sal from emp; -- å¹³åæ°\n\n\n1\n2\n3\n4\n5\n\n\n\n# UDTFå½æ°\n\nè¡¨çæå½æ° ç»å®ä¸ä¸ªè¾å¥ è¿åå¤ä¸ªè¾åº\n\n\n# Limit\n\nselect * from emp limit 5; -- åånè¡\n\n\n1\n\n\n\n# Where\n\næ¡ä»¶è¯­å¥\n\nselect * from emp where sal > 1000;\n\n\n1\n\n\næä½ç¬¦                       æ¯æçæ°æ®ç±»å     æè¿°\nA=B                       åºæ¬æ°æ®ç±»å      å¦æAç­äºBåè¿åTRUEï¼åä¹è¿åFALSE\nA<=>B                     åºæ¬æ°æ®ç±»å      å¦æAåBé½ä¸ºNULLï¼åè¿åTRUEï¼å¦æä¸è¾¹ä¸ºNULLï¼è¿åFalse\nA<>B, A!=B                åºæ¬æ°æ®ç±»å      AæèBä¸ºNULLåè¿åNULLï¼å¦æAä¸ç­äºBï¼åè¿åTRUEï¼åä¹è¿åFALSE\nA<B                       åºæ¬æ°æ®ç±»å      AæèBä¸ºNULLï¼åè¿åNULLï¼å¦æAå°äºBï¼åè¿åTRUEï¼åä¹è¿åFALSE\nA<=B                      åºæ¬æ°æ®ç±»å      AæèBä¸ºNULLï¼åè¿åNULLï¼å¦æAå°äºç­äºBï¼åè¿åTRUEï¼åä¹è¿åFALSE\nA>B                       åºæ¬æ°æ®ç±»å      AæèBä¸ºNULLï¼åè¿åNULLï¼å¦æAå¤§äºBï¼åè¿åTRUEï¼åä¹è¿åFALSE\nA>=B                      åºæ¬æ°æ®ç±»å      AæèBä¸ºNULLï¼åè¿åNULLï¼å¦æAå¤§äºç­äºBï¼åè¿åTRUEï¼åä¹è¿åFALSE\nA [NOT] BETWEEN B AND C   åºæ¬æ°æ®ç±»å      å¦æAï¼BæèCä»»ä¸ä¸ºNULLï¼åç»æä¸ºNULLãå¦æAçå¼å¤§äºç­äºBèä¸å°äºæç­äºCï¼åç»æä¸ºTRUEï¼åä¹ä¸ºFALSEãå¦æä½¿ç¨NOTå³é®å­åå¯è¾¾å°ç¸åçææã\nA IS NULL                 æææ°æ®ç±»å      å¦æAç­äºNULLï¼åè¿åTRUEï¼åä¹è¿åFALSE\nA IS NOT NULL             æææ°æ®ç±»å      å¦æAä¸ç­äºNULLï¼åè¿åTRUEï¼åä¹è¿åFALSE\nIN(æ°å¼1, æ°å¼2)              æææ°æ®ç±»å      ä½¿ç¨ INè¿ç®æ¾ç¤ºåè¡¨ä¸­çå¼\nA [NOT] LIKE B            STRING ç±»å   Bæ¯ä¸ä¸ªSQLä¸çç®åæ­£åè¡¨è¾¾å¼ï¼ä¹å«ééç¬¦æ¨¡å¼ï¼å¦æAä¸å¶å¹éçè¯ï¼åè¿åTRUEï¼åä¹è¿åFALSEãBçè¡¨è¾¾å¼è¯´æå¦ä¸ï¼âx%âè¡¨ç¤ºAå¿é¡»ä»¥å­æ¯âxâå¼å¤´ï¼â%xâè¡¨ç¤ºAå¿é¡»ä»¥å­æ¯âxâç»å°¾ï¼èâ%x%âè¡¨ç¤ºAåå«æå­æ¯âxâ,å¯ä»¥ä½äºå¼å¤´ï¼ç»å°¾æèå­ç¬¦ä¸²ä¸­é´ãå¦æä½¿ç¨NOTå³é®å­åå¯è¾¾å°ç¸åçææã\nA RLIKE B, A REGEXP B     STRING ç±»å   Bæ¯åºäºjavaçæ­£åè¡¨è¾¾å¼ï¼å¦æAä¸å¶å¹éï¼åè¿åTRUEï¼åä¹è¿åFALSEãå¹éä½¿ç¨çæ¯JDKä¸­çæ­£åè¡¨è¾¾å¼æ¥å£å®ç°çï¼å ä¸ºæ­£åä¹ä¾æ®å¶ä¸­çè§åãä¾å¦ï¼æ­£åè¡¨è¾¾å¼å¿é¡»åæ´ä¸ªå­ç¬¦ä¸²Aç¸å¹éï¼èä¸æ¯åªéä¸å¶å­ç¬¦ä¸²å¹éã\n\n\n# LikeåRlike\n\nLikeæ¯ééç¬¦å¹é\n\nselect * from emp where ename like \"A%\"; -- ééç¬¦ %_   %é¶ä¸ªæå¤ä¸ªå­ç¬¦ _åä¸ªå­ç¬¦ \n\n\n1\n\n\nRlikeæ¯æ­£åè¡¨è¾¾å¼å¹é\n\nselect * from emp where ename rlike \"^A\"; -- æ­£åå¹é \n\n\n1\n\n\n\n# é»è¾è¿ç®ç¬¦ï¼And/Or/Notï¼\n\næä½ç¬¦   å«ä¹\nAND   é»è¾å¹¶\nOR    é»è¾æ\nNOT   é»è¾å¦\n\nselect * from emp where sal>1000 and deptno=30;\n\n\n1\n\n\n\n# åç»\n\n\n# Group Byè¯­å¥\n\nselect t.deptno, avg(t.sal) avg_sal from emp t group by t.deptno; -- ædeptnoåç»\n\n\n1\n\n\n\n# Havingè¯­å¥\n\nwhereåé¢ä¸è½ååç»å½æ°ï¼èhavingåé¢å¯ä»¥ä½¿ç¨åç»å½æ°ã\n\nselect deptno, avg(sal) avg_sal from emp group by deptno having avg_sal > 2000;\n\n\n1\n\n\n\n# mysqlæ§è¡é¡ºåº:\n\n 1. from\n 2. where\n 3. group by\n 4. select\n 5. having\n 6. order by\n 7. limit\n\n\n# Join\n\nHiveæ¯æéå¸¸çSQL JOINè¯­å¥ï¼ä½æ¯åªæ¯æç­å¼è¿æ¥ï¼ä¸æ¯æéç­å¼è¿æ¥\n\n\n# åè¿æ¥\n\nåè¿æ¥ï¼åªæè¿è¡è¿æ¥çä¸¤ä¸ªè¡¨ä¸­é½å­å¨ä¸è¿æ¥æ¡ä»¶ç¸å¹éçæ°æ®æä¼è¢«ä¿çä¸æ¥ã\n\nåªææ¥è¯¢è¡¨åjoinè¡¨åæ¶å­å¨æä¿å­\n\nselect e.empno, e.ename, d.deptno from emp e join dept d on e.deptno = d.deptno;\n\n\n1\n\n\n\n# å·¦å¤è¿æ¥\n\nå·¦å¤è¿æ¥ï¼JOINæä½ç¬¦å·¦è¾¹è¡¨ä¸­ç¬¦åWHEREå­å¥çææè®°å½å°ä¼è¢«è¿åã\n\nå°±ç®äºæ¥è¯¢è¡¨å¨joinæ²¡æç¬¦åçæ°æ® ä¹ä¼è¿åæ¥è¯¢ç»æ\n\nselect e.empno, e.ename, d.deptno from emp e left join dept d on e.deptno = d.deptno;\n\n\n1\n\n\n\n# å³å¤è¿æ¥\n\nå³å¤è¿æ¥ï¼JOINæä½ç¬¦å³è¾¹è¡¨ä¸­ç¬¦åWHEREå­å¥çææè®°å½å°ä¼è¢«è¿åã\n\nå¦æjoinè¡¨ä¸­ææ¥è¯¢è¡¨æ²¡æçæ°æ® ä¹ä¼è¢«ä¿å­ä¸æ¥\n\nselect e.empno, e.ename, d.deptno from emp e right join dept d on e.deptno = d.deptno;\n\n\n1\n\n\n\n# æ»¡å¤è¿æ¥\n\næ»¡å¤è¿æ¥ï¼å°ä¼è¿åææè¡¨ä¸­ç¬¦åWHEREè¯­å¥æ¡ä»¶çææè®°å½ãå¦æä»»ä¸è¡¨çæå®å­æ®µæ²¡æç¬¦åæ¡ä»¶çå¼çè¯ï¼é£ä¹å°±ä½¿ç¨NULLå¼æ¿ä»£ã\n\nå·¦å³è¡¨å¶ä¸­ä¸æ¹æ²¡æçé½ä¼è¢«ä¿å­ä¸ ä½¿ç¨nullä»£æ¿\n\nselect e.empno, e.ename, d.deptno from emp e full join dept d on e.deptno = d.deptno;\n\n\n1\n\n\n\n# å¤è¡¨è¿æ¥æ¥è¯¢\n\nSELECT e.ename, d.dname, l.loc_name\nFROM   emp e \nJOIN   dept d\nON     d.deptno = e.deptno \nJOIN   location l\nON     d.loc = l.loc;\n\n\n1\n2\n3\n4\n5\n6\n\n\n\n# ç¬å¡å°ç§¯\n\nï¼1ï¼çç¥è¿æ¥æ¡ä»¶ (å³å·¦è¡¨æ¯ä¸ªæ°æ®é½ä¼è¿æ¥å³è¡¨çæ¯æ¡æ°æ® å·¦è¡¨*å³è¾¹)\n\nï¼2ï¼è¿æ¥æ¡ä»¶æ æ\n\nï¼3ï¼ææè¡¨ä¸­çææè¡äºç¸è¿æ¥\n\nselect empno, dname from emp, dept;\n\n\n1\n\n\n\n# æåº\n\n\n# å¨å±æåºï¼Order Byï¼\n\nå¨å±æåºï¼åªæä¸ä¸ªReducer\n\nselect *\nfrom emp \norder by sal desc;\n\nselect *  -- å¤æ¡ä»¶æåº\nfrom emp \norder by \ndeptno asc,\nsal desc;\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n\n * ASCï¼ascendï¼: ååºï¼é»è®¤ï¼\n * DESCï¼descendï¼: éåº\n * ä¸æ¨èå¯¹æææ°æ®æåº éå¸¸éè¿limit æ±ånä¸ª åå°MapReduceå·¥ä½é\n\n\n# åé¨æåº(Sort By)\n\nå¯¹äºå¤§è§æ¨¡çæ°æ®éorder byçæçéå¸¸ä½ãå¨å¾å¤æåµä¸ï¼å¹¶ä¸éè¦å¨å±æåºï¼æ­¤æ¶å¯ä»¥ä½¿ç¨sort byã\n\nSort byä¸ºæ¯ä¸ªreduceräº§çä¸ä¸ªæåºæä»¶ãæ¯ä¸ªReduceråé¨è¿è¡æåºï¼å¯¹å¨å±ç»æéæ¥è¯´ä¸æ¯æåºã\n\nset mapreduce.job.reduces=3; -- è®¾ç½®reduceä¸ªæ° é»è®¤ä¸º-1 å³ä¸ä¸ªreduce\nset mapreduce.job.reduces; -- æ¥è¯¢reduceä¸ªæ°\n\n\n1\n2\n\n\nselect * from emp sort by deptno desc;\n\n\n1\n\n\n\n# ååºæåº(Distribute By)\n\nå¯¹äºdistribute byè¿è¡æµè¯ï¼ä¸å®è¦åéå¤reduceè¿è¡å¤çï¼å¦åæ æ³çå°distribute byçææã\n\nselect * from emp\ndistribute by empno\nsort by sal desc; -- æempnoååºæåº åæ salåé¨æåº\n\n\n1\n2\n3\n\n * distribute byçååºè§åæ¯æ ¹æ®ååºå­æ®µçhashç ä¸reduceçä¸ªæ°è¿è¡æ¨¡é¤åï¼ä½æ°ç¸åçåå°ä¸ä¸ªåºã\n * Hiveè¦æ±DISTRIBUTE BYè¯­å¥è¦åå¨SORT BYè¯­å¥ä¹å\n\n\n# æ¡¶æåº(Cluster By)\n\nå½distribute byåsorts byå­æ®µç¸åæ¶ï¼å¯ä»¥ä½¿ç¨cluster byæ¹å¼ã\n\ncluster byé¤äºå·ædistribute byçåè½å¤è¿å¼å·sort byçåè½ãä½æ¯æåºåªè½æ¯ååºæåºï¼ä¸è½æå®æåºè§åä¸ºASCæèDESCã\n\nselect * from emp cluster by deptno;\n-- ç­åäº\nselect * from emp distribute by deptno sort by deptno;\n\n\n1\n2\n3\n\n\n\n# åæ¡¶è¡¨åæ½æ ·æ¥è¯¢\n\nåå»ºåæ¡¶è¡¨\n\ncreate table stu_buck(id int,name string) \nclustered by (id) \ninto 4 buckets\nrow format delimited fields terminated by '\\t';\n\n\n1\n2\n3\n4\n\n\nhive3ä¸­æ¯æä»æ¬å°ä¸ä¼  reduceä¼èªå¨å¸®æä»¬åæ¡¶\n\nload data local inpath \"/opt/module/datas/student.txt\" into table stu_buck;\n\n\n1\n\n\nå¦æå¯¼å¥å¡ä½ å°è¯ä¸´æ¶æ¢æmrå¼æ\n\nset hive.execution.engine = mr;\n\n\n1\n\n * åæ¡¶å¯ä»¥ä½¿ æ æ³ååºçè¡¨è¿è¡åæ¡¶ (ååºæ æ³ä½¿ç¨ä¸»é®ååº å ä¸ºä¸»é®æ¯å¯ä¸)\n * æ¯ä¸ªæ¡¶ å¯¹åºåä¸ä¸ªæä»¶\n * æ°æ®å­æ¾ä½ç½®ä¼æ ¹æ® åå¼ + æ¡¶æ° æ¥å­æ¾\n\n\n# æ½æ ·æ¥è¯¢\n\nå¯¹äºéå¸¸å¤§çæ°æ®éï¼ææ¶ç¨æ·éè¦ä½¿ç¨çæ¯ä¸ä¸ªå·æä»£è¡¨æ§çæ¥è¯¢ç»æèä¸æ¯å¨é¨ç»æãHiveå¯ä»¥éè¿å¯¹è¡¨è¿è¡æ½æ ·æ¥æ»¡è¶³è¿ä¸ªéæ±ã\n\nselect * from stu_buck tablesample(bucket 1 out of 4 on id); -- æ ¹æ®æ¥è¯¢ç»æ æidåæ4ä»½ ä»ä¸­ååºç¬¬ä¸ä»½åºæ¥\n\n\n1\n\n * TABLESAMPLE(BUCKET x OUT OF y) xçå¼å¿é¡»å°äºç­äºyçå¼ï¼å¦åæ¥é\n * åæ¡¶è¡¨å¯ä»¥å å¿«æ½æ ·æç\n\nyå¿é¡»æ¯tableæ»bucketæ°çåæ°æèå å­ãhiveæ ¹æ®yçå¤§å°ï¼å³å®æ½æ ·çæ¯ä¾ãä¾å¦ï¼tableæ»å±åäº4ä»½ï¼å½y=2æ¶ï¼æ½å(4/2=)2ä¸ªbucketçæ°æ®ï¼å½y=8æ¶ï¼æ½å(4/8=)1/2ä¸ªbucketçæ°æ®ã\n\nxè¡¨ç¤ºä»åªä¸ªbucketå¼å§æ½åï¼å¦æéè¦åå¤ä¸ªååºï¼ä»¥åçååºå·ä¸ºå½åååºå·å ä¸yãä¾å¦ï¼tableæ»bucketæ°ä¸º4ï¼tablesample(bucket 1 out of 2)ï¼è¡¨ç¤ºæ»å±æ½åï¼4/2=ï¼2ä¸ªbucketçæ°æ®ï¼æ½åç¬¬1(x)ä¸ªåç¬¬3(x+y)ä¸ªbucketçæ°æ®ã",normalizedContent:"# æ¥è¯¢\n\nååå»ºé¨é¨è¡¨ååå·¥è¡¨\n\ncreate table if not exists dept(\ndeptno int,\ndname string,\nloc int\n)\nrow format delimited fields terminated by '\\t';\n\ncreate table if not exists emp(\nempno int,\nename string,\njob string,\nmgr int,\nhiredate string, \nsal double, \ncomm double,\ndeptno int)\nrow format delimited fields terminated by '\\t';\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n\n\nå¯¼å¥æ°æ®\n\nload data local inpath '/opt/module/datas/dept.txt' into table dept;\nload data local inpath '/opt/module/datas/emp.txt' into table emp;\n\n\n1\n2\n\n\næ¥è¯¢\n\nselect * from emp; -- å¨è¡¨æ¥è¯¢\nselect empno, ename from emp; -- ç¹å®åæ¥è¯¢\nselect empno as pno, ename as name from emp; -- èµ·åå«å aså¯ä»¥çç¥\n\n\n1\n2\n3\n\n\n\n# ç®æ¯è¿ç®ç¬¦\n\nè¿ç®ç¬¦   æè¿°\na+b   aåb ç¸å \na-b   aåå»b\na*b   aåb ç¸ä¹\na/b   aé¤ä»¥b\na%b   aå¯¹båä½\na&b   aåbæä½åä¸\na|b   aåbæä½åæ\na^b   aåbæä½åå¼æ\n~a    aæä½åå\n\nselect sal +1 from emp;\n\n\n1\n\n\n\n# å¸¸ç¨å½æ°\n\n\n# udfå½æ°\n\nç»å®ä¸ä¸ªè¾å¥ è¿åä¸ä¸ªè¾åº\n\nselect substring(name,1,1) from emp;\n\n\n1\n\n\n\n# udafå½æ°\n\nç»å®å¤ä¸ªè¾å¥ è¿åä¸ä¸ªè¾åº èåå½æ°\n\nselect count(*) from emp; -- ç»è®¡ä¸ªæ°\nselect max(sal) max_sal from emp; -- æ­¤åæå¤§å¼\nselect min(sal) min_sal from emp; -- æ­¤åæå°å¼\nselect sum(sal) sum_sal from emp;  -- æ­¤åæ»å\nselect avg(sal) avg_sal from emp; -- å¹³åæ°\n\n\n1\n2\n3\n4\n5\n\n\n\n# udtfå½æ°\n\nè¡¨çæå½æ° ç»å®ä¸ä¸ªè¾å¥ è¿åå¤ä¸ªè¾åº\n\n\n# limit\n\nselect * from emp limit 5; -- åånè¡\n\n\n1\n\n\n\n# where\n\næ¡ä»¶è¯­å¥\n\nselect * from emp where sal > 1000;\n\n\n1\n\n\næä½ç¬¦                       æ¯æçæ°æ®ç±»å     æè¿°\na=b                       åºæ¬æ°æ®ç±»å      å¦æaç­äºbåè¿åtrueï¼åä¹è¿åfalse\na<=>b                     åºæ¬æ°æ®ç±»å      å¦æaåbé½ä¸ºnullï¼åè¿åtrueï¼å¦æä¸è¾¹ä¸ºnullï¼è¿åfalse\na<>b, a!=b                åºæ¬æ°æ®ç±»å      aæèbä¸ºnullåè¿ånullï¼å¦æaä¸ç­äºbï¼åè¿åtrueï¼åä¹è¿åfalse\na<b                       åºæ¬æ°æ®ç±»å      aæèbä¸ºnullï¼åè¿ånullï¼å¦æaå°äºbï¼åè¿åtrueï¼åä¹è¿åfalse\na<=b                      åºæ¬æ°æ®ç±»å      aæèbä¸ºnullï¼åè¿ånullï¼å¦æaå°äºç­äºbï¼åè¿åtrueï¼åä¹è¿åfalse\na>b                       åºæ¬æ°æ®ç±»å      aæèbä¸ºnullï¼åè¿ånullï¼å¦æaå¤§äºbï¼åè¿åtrueï¼åä¹è¿åfalse\na>=b                      åºæ¬æ°æ®ç±»å      aæèbä¸ºnullï¼åè¿ånullï¼å¦æaå¤§äºç­äºbï¼åè¿åtrueï¼åä¹è¿åfalse\na [not] between b and c   åºæ¬æ°æ®ç±»å      å¦æaï¼bæècä»»ä¸ä¸ºnullï¼åç»æä¸ºnullãå¦æaçå¼å¤§äºç­äºbèä¸å°äºæç­äºcï¼åç»æä¸ºtrueï¼åä¹ä¸ºfalseãå¦æä½¿ç¨notå³é®å­åå¯è¾¾å°ç¸åçææã\na is null                 æææ°æ®ç±»å      å¦æaç­äºnullï¼åè¿åtrueï¼åä¹è¿åfalse\na is not null             æææ°æ®ç±»å      å¦æaä¸ç­äºnullï¼åè¿åtrueï¼åä¹è¿åfalse\nin(æ°å¼1, æ°å¼2)              æææ°æ®ç±»å      ä½¿ç¨ inè¿ç®æ¾ç¤ºåè¡¨ä¸­çå¼\na [not] like b            string ç±»å   bæ¯ä¸ä¸ªsqlä¸çç®åæ­£åè¡¨è¾¾å¼ï¼ä¹å«ééç¬¦æ¨¡å¼ï¼å¦æaä¸å¶å¹éçè¯ï¼åè¿åtrueï¼åä¹è¿åfalseãbçè¡¨è¾¾å¼è¯´æå¦ä¸ï¼âx%âè¡¨ç¤ºaå¿é¡»ä»¥å­æ¯âxâå¼å¤´ï¼â%xâè¡¨ç¤ºaå¿é¡»ä»¥å­æ¯âxâç»å°¾ï¼èâ%x%âè¡¨ç¤ºaåå«æå­æ¯âxâ,å¯ä»¥ä½äºå¼å¤´ï¼ç»å°¾æèå­ç¬¦ä¸²ä¸­é´ãå¦æä½¿ç¨notå³é®å­åå¯è¾¾å°ç¸åçææã\na rlike b, a regexp b     string ç±»å   bæ¯åºäºjavaçæ­£åè¡¨è¾¾å¼ï¼å¦æaä¸å¶å¹éï¼åè¿åtrueï¼åä¹è¿åfalseãå¹éä½¿ç¨çæ¯jdkä¸­çæ­£åè¡¨è¾¾å¼æ¥å£å®ç°çï¼å ä¸ºæ­£åä¹ä¾æ®å¶ä¸­çè§åãä¾å¦ï¼æ­£åè¡¨è¾¾å¼å¿é¡»åæ´ä¸ªå­ç¬¦ä¸²aç¸å¹éï¼èä¸æ¯åªéä¸å¶å­ç¬¦ä¸²å¹éã\n\n\n# likeårlike\n\nlikeæ¯ééç¬¦å¹é\n\nselect * from emp where ename like \"a%\"; -- ééç¬¦ %_   %é¶ä¸ªæå¤ä¸ªå­ç¬¦ _åä¸ªå­ç¬¦ \n\n\n1\n\n\nrlikeæ¯æ­£åè¡¨è¾¾å¼å¹é\n\nselect * from emp where ename rlike \"^a\"; -- æ­£åå¹é \n\n\n1\n\n\n\n# é»è¾è¿ç®ç¬¦ï¼and/or/notï¼\n\næä½ç¬¦   å«ä¹\nand   é»è¾å¹¶\nor    é»è¾æ\nnot   é»è¾å¦\n\nselect * from emp where sal>1000 and deptno=30;\n\n\n1\n\n\n\n# åç»\n\n\n# group byè¯­å¥\n\nselect t.deptno, avg(t.sal) avg_sal from emp t group by t.deptno; -- ædeptnoåç»\n\n\n1\n\n\n\n# havingè¯­å¥\n\nwhereåé¢ä¸è½ååç»å½æ°ï¼èhavingåé¢å¯ä»¥ä½¿ç¨åç»å½æ°ã\n\nselect deptno, avg(sal) avg_sal from emp group by deptno having avg_sal > 2000;\n\n\n1\n\n\n\n# mysqlæ§è¡é¡ºåº:\n\n 1. from\n 2. where\n 3. group by\n 4. select\n 5. having\n 6. order by\n 7. limit\n\n\n# join\n\nhiveæ¯æéå¸¸çsql joinè¯­å¥ï¼ä½æ¯åªæ¯æç­å¼è¿æ¥ï¼ä¸æ¯æéç­å¼è¿æ¥\n\n\n# åè¿æ¥\n\nåè¿æ¥ï¼åªæè¿è¡è¿æ¥çä¸¤ä¸ªè¡¨ä¸­é½å­å¨ä¸è¿æ¥æ¡ä»¶ç¸å¹éçæ°æ®æä¼è¢«ä¿çä¸æ¥ã\n\nåªææ¥è¯¢è¡¨åjoinè¡¨åæ¶å­å¨æä¿å­\n\nselect e.empno, e.ename, d.deptno from emp e join dept d on e.deptno = d.deptno;\n\n\n1\n\n\n\n# å·¦å¤è¿æ¥\n\nå·¦å¤è¿æ¥ï¼joinæä½ç¬¦å·¦è¾¹è¡¨ä¸­ç¬¦åwhereå­å¥çææè®°å½å°ä¼è¢«è¿åã\n\nå°±ç®äºæ¥è¯¢è¡¨å¨joinæ²¡æç¬¦åçæ°æ® ä¹ä¼è¿åæ¥è¯¢ç»æ\n\nselect e.empno, e.ename, d.deptno from emp e left join dept d on e.deptno = d.deptno;\n\n\n1\n\n\n\n# å³å¤è¿æ¥\n\nå³å¤è¿æ¥ï¼joinæä½ç¬¦å³è¾¹è¡¨ä¸­ç¬¦åwhereå­å¥çææè®°å½å°ä¼è¢«è¿åã\n\nå¦æjoinè¡¨ä¸­ææ¥è¯¢è¡¨æ²¡æçæ°æ® ä¹ä¼è¢«ä¿å­ä¸æ¥\n\nselect e.empno, e.ename, d.deptno from emp e right join dept d on e.deptno = d.deptno;\n\n\n1\n\n\n\n# æ»¡å¤è¿æ¥\n\næ»¡å¤è¿æ¥ï¼å°ä¼è¿åææè¡¨ä¸­ç¬¦åwhereè¯­å¥æ¡ä»¶çææè®°å½ãå¦æä»»ä¸è¡¨çæå®å­æ®µæ²¡æç¬¦åæ¡ä»¶çå¼çè¯ï¼é£ä¹å°±ä½¿ç¨nullå¼æ¿ä»£ã\n\nå·¦å³è¡¨å¶ä¸­ä¸æ¹æ²¡æçé½ä¼è¢«ä¿å­ä¸ ä½¿ç¨nullä»£æ¿\n\nselect e.empno, e.ename, d.deptno from emp e full join dept d on e.deptno = d.deptno;\n\n\n1\n\n\n\n# å¤è¡¨è¿æ¥æ¥è¯¢\n\nselect e.ename, d.dname, l.loc_name\nfrom   emp e \njoin   dept d\non     d.deptno = e.deptno \njoin   location l\non     d.loc = l.loc;\n\n\n1\n2\n3\n4\n5\n6\n\n\n\n# ç¬å¡å°ç§¯\n\nï¼1ï¼çç¥è¿æ¥æ¡ä»¶ (å³å·¦è¡¨æ¯ä¸ªæ°æ®é½ä¼è¿æ¥å³è¡¨çæ¯æ¡æ°æ® å·¦è¡¨*å³è¾¹)\n\nï¼2ï¼è¿æ¥æ¡ä»¶æ æ\n\nï¼3ï¼ææè¡¨ä¸­çææè¡äºç¸è¿æ¥\n\nselect empno, dname from emp, dept;\n\n\n1\n\n\n\n# æåº\n\n\n# å¨å±æåºï¼order byï¼\n\nå¨å±æåºï¼åªæä¸ä¸ªreducer\n\nselect *\nfrom emp \norder by sal desc;\n\nselect *  -- å¤æ¡ä»¶æåº\nfrom emp \norder by \ndeptno asc,\nsal desc;\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n\n * ascï¼ascendï¼: ååºï¼é»è®¤ï¼\n * descï¼descendï¼: éåº\n * ä¸æ¨èå¯¹æææ°æ®æåº éå¸¸éè¿limit æ±ånä¸ª åå°mapreduceå·¥ä½é\n\n\n# åé¨æåº(sort by)\n\nå¯¹äºå¤§è§æ¨¡çæ°æ®éorder byçæçéå¸¸ä½ãå¨å¾å¤æåµä¸ï¼å¹¶ä¸éè¦å¨å±æåºï¼æ­¤æ¶å¯ä»¥ä½¿ç¨sort byã\n\nsort byä¸ºæ¯ä¸ªreduceräº§çä¸ä¸ªæåºæä»¶ãæ¯ä¸ªreduceråé¨è¿è¡æåºï¼å¯¹å¨å±ç»æéæ¥è¯´ä¸æ¯æåºã\n\nset mapreduce.job.reduces=3; -- è®¾ç½®reduceä¸ªæ° é»è®¤ä¸º-1 å³ä¸ä¸ªreduce\nset mapreduce.job.reduces; -- æ¥è¯¢reduceä¸ªæ°\n\n\n1\n2\n\n\nselect * from emp sort by deptno desc;\n\n\n1\n\n\n\n# ååºæåº(distribute by)\n\nå¯¹äºdistribute byè¿è¡æµè¯ï¼ä¸å®è¦åéå¤reduceè¿è¡å¤çï¼å¦åæ æ³çå°distribute byçææã\n\nselect * from emp\ndistribute by empno\nsort by sal desc; -- æempnoååºæåº åæ salåé¨æåº\n\n\n1\n2\n3\n\n * distribute byçååºè§åæ¯æ ¹æ®ååºå­æ®µçhashç ä¸reduceçä¸ªæ°è¿è¡æ¨¡é¤åï¼ä½æ°ç¸åçåå°ä¸ä¸ªåºã\n * hiveè¦æ±distribute byè¯­å¥è¦åå¨sort byè¯­å¥ä¹å\n\n\n# æ¡¶æåº(cluster by)\n\nå½distribute byåsorts byå­æ®µç¸åæ¶ï¼å¯ä»¥ä½¿ç¨cluster byæ¹å¼ã\n\ncluster byé¤äºå·ædistribute byçåè½å¤è¿å¼å·sort byçåè½ãä½æ¯æåºåªè½æ¯ååºæåºï¼ä¸è½æå®æåºè§åä¸ºascæèdescã\n\nselect * from emp cluster by deptno;\n-- ç­åäº\nselect * from emp distribute by deptno sort by deptno;\n\n\n1\n2\n3\n\n\n\n# åæ¡¶è¡¨åæ½æ ·æ¥è¯¢\n\nåå»ºåæ¡¶è¡¨\n\ncreate table stu_buck(id int,name string) \nclustered by (id) \ninto 4 buckets\nrow format delimited fields terminated by '\\t';\n\n\n1\n2\n3\n4\n\n\nhive3ä¸­æ¯æä»æ¬å°ä¸ä¼  reduceä¼èªå¨å¸®æä»¬åæ¡¶\n\nload data local inpath \"/opt/module/datas/student.txt\" into table stu_buck;\n\n\n1\n\n\nå¦æå¯¼å¥å¡ä½ å°è¯ä¸´æ¶æ¢æmrå¼æ\n\nset hive.execution.engine = mr;\n\n\n1\n\n * åæ¡¶å¯ä»¥ä½¿ æ æ³ååºçè¡¨è¿è¡åæ¡¶ (ååºæ æ³ä½¿ç¨ä¸»é®ååº å ä¸ºä¸»é®æ¯å¯ä¸)\n * æ¯ä¸ªæ¡¶ å¯¹åºåä¸ä¸ªæä»¶\n * æ°æ®å­æ¾ä½ç½®ä¼æ ¹æ® åå¼ + æ¡¶æ° æ¥å­æ¾\n\n\n# æ½æ ·æ¥è¯¢\n\nå¯¹äºéå¸¸å¤§çæ°æ®éï¼ææ¶ç¨æ·éè¦ä½¿ç¨çæ¯ä¸ä¸ªå·æä»£è¡¨æ§çæ¥è¯¢ç»æèä¸æ¯å¨é¨ç»æãhiveå¯ä»¥éè¿å¯¹è¡¨è¿è¡æ½æ ·æ¥æ»¡è¶³è¿ä¸ªéæ±ã\n\nselect * from stu_buck tablesample(bucket 1 out of 4 on id); -- æ ¹æ®æ¥è¯¢ç»æ æidåæ4ä»½ ä»ä¸­ååºç¬¬ä¸ä»½åºæ¥\n\n\n1\n\n * tablesample(bucket x out of y) xçå¼å¿é¡»å°äºç­äºyçå¼ï¼å¦åæ¥é\n * åæ¡¶è¡¨å¯ä»¥å å¿«æ½æ ·æç\n\nyå¿é¡»æ¯tableæ»bucketæ°çåæ°æèå å­ãhiveæ ¹æ®yçå¤§å°ï¼å³å®æ½æ ·çæ¯ä¾ãä¾å¦ï¼tableæ»å±åäº4ä»½ï¼å½y=2æ¶ï¼æ½å(4/2=)2ä¸ªbucketçæ°æ®ï¼å½y=8æ¶ï¼æ½å(4/8=)1/2ä¸ªbucketçæ°æ®ã\n\nxè¡¨ç¤ºä»åªä¸ªbucketå¼å§æ½åï¼å¦æéè¦åå¤ä¸ªååºï¼ä»¥åçååºå·ä¸ºå½åååºå·å ä¸yãä¾å¦ï¼tableæ»bucketæ°ä¸º4ï¼tablesample(bucket 1 out of 2)ï¼è¡¨ç¤ºæ»å±æ½åï¼4/2=ï¼2ä¸ªbucketçæ°æ®ï¼æ½åç¬¬1(x)ä¸ªåç¬¬3(x+y)ä¸ªbucketçæ°æ®ã",charsets:{cjk:!0},lastUpdated:"2022/03/18, 07:01:11",lastUpdatedTimestamp:1647558071e3},{title:"ä¼ä¸ä¼å",frontmatter:{title:"ä¼ä¸ä¼å",date:"2022-03-17T22:07:28.000Z",permalink:"/pages/447a54/",categories:["å¤§æ°æ®","Hive"],tags:[null]},regularPath:"/%E5%A4%A7%E6%95%B0%E6%8D%AE/03.Hive/12.%E4%BC%81%E4%B8%9A%E4%BC%98%E5%8C%96.html",relativePath:"å¤§æ°æ®/03.Hive/12.ä¼ä¸ä¼å.md",key:"v-a7b2b846",path:"/pages/447a54/",headers:[{level:2,title:"Fetchæå",slug:"fetchæå",normalizedTitle:"fetchæå",charIndex:11},{level:2,title:"è¡¨ä¼å",slug:"è¡¨ä¼å",normalizedTitle:"è¡¨ä¼å",charIndex:938},{level:3,title:"å°è¡¨ãå¤§è¡¨Join",slug:"å°è¡¨ãå¤§è¡¨join",normalizedTitle:"å°è¡¨ãå¤§è¡¨join",charIndex:946},{level:3,title:"å¤§è¡¨joinå¤§è¡¨",slug:"å¤§è¡¨joinå¤§è¡¨",normalizedTitle:"å¤§è¡¨joinå¤§è¡¨",charIndex:2249},{level:3,title:"MapJoinï¼MRå¼æï¼",slug:"mapjoin-mrå¼æ",normalizedTitle:"mapjoinï¼mrå¼æï¼",charIndex:3181},{level:3,title:"Group By",slug:"group-by",normalizedTitle:"group by",charIndex:3462},{level:3,title:"ç¬å¡å°ç§¯",slug:"ç¬å¡å°ç§¯",normalizedTitle:"ç¬å¡å°ç§¯",charIndex:4068},{level:3,title:"è¡åè¿æ»¤",slug:"è¡åè¿æ»¤",normalizedTitle:"è¡åè¿æ»¤",charIndex:4137},{level:3,title:"å¨æååº",slug:"å¨æååº",normalizedTitle:"å¨æååº",charIndex:4465},{level:2,title:"ä¸¥æ ¼æ¨¡å¼",slug:"ä¸¥æ ¼æ¨¡å¼",normalizedTitle:"ä¸¥æ ¼æ¨¡å¼",charIndex:4479},{level:2,title:"JVMéç¨",slug:"jvméç¨",normalizedTitle:"jvméç¨",charIndex:5142},{level:2,title:"æ§è¡è®¡åï¼Explainï¼",slug:"æ§è¡è®¡å-explain",normalizedTitle:"æ§è¡è®¡åï¼explainï¼",charIndex:5553}],headersStr:"Fetchæå è¡¨ä¼å å°è¡¨ãå¤§è¡¨Join å¤§è¡¨joinå¤§è¡¨ MapJoinï¼MRå¼æï¼ Group By ç¬å¡å°ç§¯ è¡åè¿æ»¤ å¨æååº ä¸¥æ ¼æ¨¡å¼ JVMéç¨ æ§è¡è®¡åï¼Explainï¼",content:"# ä¼ä¸ä¼å\n\n\n# Fetchæå\n\nFetchæåæ¯æï¼Hiveä¸­å¯¹æäºæåµçæ¥è¯¢å¯ä»¥ä¸å¿ä½¿ç¨MapReduceè®¡ç®ãä¾å¦ï¼SELECT * FROM employees;å¨è¿ç§æåµä¸ï¼Hiveå¯ä»¥ç®åå°è¯»åemployeeå¯¹åºçå­å¨ç®å½ä¸çæä»¶ï¼ç¶åè¾åºæ¥è¯¢ç»æå°æ§å¶å°ã\n\nå¨hive-default.xml.templateæä»¶ä¸­hive.fetch.task.conversioné»è®¤æ¯moreï¼èçæ¬hiveé»è®¤æ¯minimalï¼è¯¥å±æ§ä¿®æ¹ä¸ºmoreä»¥åï¼å¨å¨å±æ¥æ¾ãå­æ®µæ¥æ¾ãlimitæ¥æ¾ç­é½ä¸èµ°mapreduceã\n\n<property>\n    <name>hive.fetch.task.conversion</name>\n    <value>more</value> \n    <description>\n      Expects one of [none, minimal, more].\n      Some select queries can be converted to single FETCH task minimizing latency.\n      Currently the query should be single sourced not having any subquery and should not have any aggregations or distincts (which incurs RS), lateral views and joins.\n      0. none : disable hive.fetch.task.conversion\n      1. minimal : SELECT STAR, FILTER on partition columns, LIMIT only\n      2. more  : SELECT, FILTER, LIMIT only (support TABLESAMPLE and virtual columns)\n    </description>\n</property>\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n\n\n\n# è¡¨ä¼å\n\n\n# å°è¡¨ãå¤§è¡¨Join\n\nå°keyç¸å¯¹åæ£ï¼å¹¶ä¸æ°æ®éå°çè¡¨æ¾å¨joinçå·¦è¾¹ï¼è¿æ ·å¯ä»¥ææåå°åå­æº¢åºéè¯¯åççå çï¼åè¿ä¸æ­¥ï¼å¯ä»¥ä½¿ç¨map joinè®©å°çç»´åº¦è¡¨ï¼1000æ¡ä»¥ä¸çè®°å½æ¡æ°ï¼åè¿åå­ãå¨mapç«¯å®æreduceã\n\næ°ççhiveå·²ç»å¯¹å°è¡¨JOINå¤§è¡¨åå¤§è¡¨JOINå°è¡¨è¿è¡äºä¼åãå°è¡¨æ¾å¨å·¦è¾¹åå³è¾¹å·²ç»æ²¡æææ¾åºå«ã\n\nset hive.auto.convert.join = false; -- å³é­mapjoinåè½ï¼é»è®¤æ¯æå¼çï¼\n\n\n1\n\n\n-- å»ºç«å¤§è¡¨\ncreate table bigtable(id bigint, t bigint, uid string, keyword string, url_rank int, click_num int, click_url string) row format delimited fields terminated by '\\t';\n\nload data local inpath '/opt/module/datas/bigtable' into table bigtable;\n\n\n1\n2\n3\n4\n\n\n-- å»ºç«å°è¡¨\ncreate table smalltable(id bigint, t bigint, uid string, keyword string, url_rank int, click_num int, click_url string) row format delimited fields terminated by '\\t';\n\nload data local inpath '/opt/module/datas/smalltable' into table smalltable;\n\n\n1\n2\n3\n4\n\n\n-- å»ºç«ç»æè¡¨æ ¼\ncreate table jointable(id bigint, t bigint, uid string, keyword string, url_rank int, click_num int, click_url string) row format delimited fields terminated by '\\t';\n\n\n1\n2\n\n\n-- è¿æ¥æä½\ninsert overwrite table jointable\nselect b.id, b.t, b.uid, b.keyword, b.url_rank, b.click_num, b.click_url\nfrom smalltable s\njoin bigtable  b\non b.id = s.id;\n\ninsert overwrite table jointable\nselect b.id, b.t, b.uid, b.keyword, b.url_rank, b.click_num, b.click_url\nfrom bigtable  b\njoin smalltable  s\non s.id = b.id;\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n\n\n\n# å¤§è¡¨joinå¤§è¡¨\n\nææ¶joinè¶æ¶æ¯å ä¸ºæäºkeyå¯¹åºçæ°æ®å¤ªå¤ï¼èç¸åkeyå¯¹åºçæ°æ®é½ä¼åéå°ç¸åçreducerä¸ï¼ä»èå¯¼è´åå­ä¸å¤ãæ­¤æ¶æä»¬åºè¯¥ä»ç»åæè¿äºå¼å¸¸çkeyï¼å¾å¤æåµä¸ï¼è¿äºkeyå¯¹åºçæ°æ®æ¯å¼å¸¸æ°æ®ï¼æä»¬éè¦å¨SQLè¯­å¥ä¸­è¿è¡è¿æ»¤ã\n\n-- å»ºæ²¡æNullçè¡¨\ncreate table ori(id bigint, t bigint, uid string, keyword string, url_rank int, click_num int, click_url string) row format delimited fields terminated by '\\t';\n\nload data local inpath '/opt/module/datas/ori' into table ori;\n\n-- å»ºç«æNullçè¡¨\ncreate table nullidtable(id bigint, t bigint, uid string, keyword string, url_rank int, click_num int, click_url string) row format delimited fields terminated by '\\t';\n\nload data local inpath '/opt/module/datas/nullid' into table nullidtable;\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n\n\n-- ç©ºkeyè¿æ»¤\ninsert overwrite table jointable select n.* from (select * from nullidtable where id is not null ) n  left join ori o on n.id = o.id;\n\n-- ç©ºkeyè½¬æ¢\ninsert overwrite table jointable\nselect n.* from nullidtable n full join ori o on \nnvl(n.id,rand()) = o.id;\n\n\n1\n2\n3\n4\n5\n6\n7\n\n\n\n# MapJoinï¼MRå¼æï¼\n\nå¦æä¸æå®MapJoinæèä¸ç¬¦åMapJoinçæ¡ä»¶ï¼é£ä¹Hiveè§£æå¨ä¼å°Joinæä½è½¬æ¢æCommon Joinï¼å³ï¼å¨Reduceé¶æ®µå®æjoinãå®¹æåçæ°æ®å¾æãå¯ä»¥ç¨MapJoinæå°è¡¨å¨é¨å è½½å°åå­å¨mapç«¯è¿è¡joinï¼é¿åreducerå¤çã\n\nset hive.auto.convert.join = true; -- é»è®¤ä¸ºtrue\nset hive.mapjoin.smalltable.filesize=25000000; -- å¤§è¡¨å°è¡¨çéå¼è®¾ç½®ï¼é»è®¤25Mä¸ä¸è®¤ä¸ºæ¯å°è¡¨ï¼\n\n\n1\n2\n\n\n\n\n\n# Group By\n\né»è®¤æåµä¸ï¼Mapé¶æ®µåä¸Keyæ°æ®ååç»ä¸ä¸ªreduceï¼å½ä¸ä¸ªkeyæ°æ®è¿å¤§æ¶å°±å¾æäºã\n\n\n\nå¹¶ä¸æ¯ææçèåæä½é½éè¦å¨Reduceç«¯å®æï¼å¾å¤èåæä½é½å¯ä»¥åå¨Mapç«¯è¿è¡é¨åèåï¼æåå¨Reduceç«¯å¾åºæç»ç»æã\n\nset hive.map.aggr = true; -- æ¯å¦å¨Mapç«¯è¿è¡èåï¼é»è®¤ä¸ºTrue\nset hive.groupby.mapaggr.checkinterval = 100000; -- å¨Mapç«¯è¿è¡èåæä½çæ¡ç®æ°ç®\nset hive.groupby.skewindata = true; -- ææ°æ®å¾æçæ¶åè¿è¡è´è½½åè¡¡ï¼é»è®¤æ¯falseï¼\n\n\n1\n2\n3\n\n\nå½éé¡¹è®¾å®ä¸º trueï¼çæçæ¥è¯¢è®¡åä¼æä¸¤ä¸ªMR Jobãç¬¬ä¸ä¸ªMR Jobä¸­ï¼Mapçè¾åºç»æä¼éæºåå¸å°Reduceä¸­ï¼æ¯ä¸ªReduceåé¨åèåæä½ï¼å¹¶è¾åºç»æï¼è¿æ ·å¤ççç»ææ¯ç¸åçGroup By Keyæå¯è½è¢«ååå°ä¸åçReduceä¸­ï¼ä»èè¾¾å°è´è½½åè¡¡çç®çï¼ç¬¬äºä¸ªMR Jobåæ ¹æ®é¢å¤ççæ°æ®ç»ææç§Group By Keyåå¸å°Reduceä¸­ï¼è¿ä¸ªè¿ç¨å¯ä»¥ä¿è¯ç¸åçGroup By Keyè¢«åå¸å°åä¸ä¸ªReduceä¸­ï¼ï¼æåå®ææç»çèåæä½ã\n\næµè¯\n\nselect deptno from emp group by deptno;\n\n\n1\n\n\n\n# ç¬å¡å°ç§¯\n\nå°½éé¿åç¬å¡å°ç§¯ï¼joinçæ¶åä¸å onæ¡ä»¶ï¼æèæ æçonæ¡ä»¶ï¼Hiveåªè½ä½¿ç¨1ä¸ªreduceræ¥å®æç¬å¡å°ç§¯ã\n\n\n# è¡åè¿æ»¤\n\nåå¤çï¼å¨SELECTä¸­ï¼åªæ¿éè¦çåï¼å¦ææï¼å°½éä½¿ç¨ååºè¿æ»¤ï¼å°ç¨SELECT *ã\n\nè¡å¤çï¼å¨ååºåªè£ä¸­ï¼å½ä½¿ç¨å¤å³èæ¶ï¼å¦æå°å¯è¡¨çè¿æ»¤æ¡ä»¶åå¨Whereåé¢ï¼é£ä¹å°±ä¼åå¨è¡¨å³èï¼ä¹ååè¿æ»¤\n\n-- æµè¯åå³èä¸¤å¼ è¡¨ï¼åç¨whereæ¡ä»¶è¿æ»¤\nselect o.id from bigtable b\njoin ori o on o.id = b.id\nwhere o.id <= 10;\n-- éè¿å­æ¥è¯¢åï¼åå³èè¡¨\nselect b.id from bigtable b\njoin (select id from ori where id <= 10 ) o on b.id = o.id;\n\n\n1\n2\n3\n4\n5\n6\n7\n\n\n\n# å¨æååº\n\n-- é¦åè®¾ç½®éä¸¥æ ¼æ¨¡å¼\nset hive.exec.dynamic.partition.mode=nonstrict; -- é»è®¤ä¸ºstrict\n\n\n1\n2\n\n\n-- åå»ºååºè¡¨\ncreate table dept_partition(id int, name string) partitioned\nby (location int) row format delimited fields terminated by '\\t';\n\n\n1\n2\n3\n\n\n-- ä»åè¡¨ä¸­åååºè¡¨æå¥æ°æ®\ninsert into table dept_partition partition(location)\nselect deptno, dname, loc from dept;\n\n\n1\n2\n3\n\n\n\n# ä¸¥æ ¼æ¨¡å¼\n\nè®¾ç½®ä¸ºä¸¥æ ¼æ¨¡å¼\n\nset hive.exec.dynamic.partition.mode=strict; -- é»è®¤ä¸ºstrictä¸¥æ ¼æ¨¡å¼\n\n\n1\n\n 1. å°hive.strict.checks.no.partition.filterè®¾ç½®ä¸ºtrueæ¶ï¼å¯¹äºååºè¡¨ï¼é¤éwhereè¯­å¥ä¸­å«æååºå­æ®µè¿æ»¤æ¡ä»¶æ¥éå¶èå´ï¼å¦åä¸åè®¸æ§è¡ã\n 2. å°hive.strict.checks.orderby.no.limitè®¾ç½®ä¸ºtrueæ¶ï¼å¯¹äºä½¿ç¨äºorder byè¯­å¥çæ¥è¯¢ï¼è¦æ±å¿é¡»ä½¿ç¨limitè¯­å¥ã\n 3. å°hive.strict.checks.cartesian.productè®¾ç½®ä¸ºtrueæ¶ï¼ä¼éå¶ç¬å¡å°ç§¯çæ¥è¯¢ã\n\n\n# JVMéç¨\n\nHadoopçé»è®¤éç½®éå¸¸æ¯ä½¿ç¨æ´¾çJVMæ¥æ§è¡mapåReduceä»»å¡çãè¿æ¶JVMçå¯å¨è¿ç¨å¯è½ä¼é æç¸å½å¤§çå¼éï¼å°¤å¶æ¯æ§è¡çjobåå«ææç¾ä¸åtaskä»»å¡çæåµãJVMéç¨å¯ä»¥ä½¿å¾JVMå®ä¾å¨åä¸ä¸ªjobä¸­éæ°ä½¿ç¨Næ¬¡ãNçå¼å¯ä»¥å¨Hadoopçmapred-site.xmlæä»¶ä¸­è¿è¡éç½®ãéå¸¸å¨10-20ä¹é´ï¼å·ä½å¤å°éè¦æ ¹æ®å·ä½ä¸å¡åºæ¯æµè¯å¾åºã\n\n<property>\n  <name>mapreduce.job.jvm.numtasks</name>\n  <value>10</value>\n  <description>How many tasks to run per jvm. If set to -1, there is\n  no limit. \n  </description>\n</property>\n\n\n1\n2\n3\n4\n5\n6\n7\n\n\ntezå¼æé»è®¤å¼å¯JVMéç¨\n\n\n# æ§è¡è®¡åï¼Explainï¼\n\n-- EXPLAIN [EXTENDED | DEPENDENCY | AUTHORIZATION] query\nexplain select * from emp;\n\n\n1\n2\n",normalizedContent:"# ä¼ä¸ä¼å\n\n\n# fetchæå\n\nfetchæåæ¯æï¼hiveä¸­å¯¹æäºæåµçæ¥è¯¢å¯ä»¥ä¸å¿ä½¿ç¨mapreduceè®¡ç®ãä¾å¦ï¼select * from employees;å¨è¿ç§æåµä¸ï¼hiveå¯ä»¥ç®åå°è¯»åemployeeå¯¹åºçå­å¨ç®å½ä¸çæä»¶ï¼ç¶åè¾åºæ¥è¯¢ç»æå°æ§å¶å°ã\n\nå¨hive-default.xml.templateæä»¶ä¸­hive.fetch.task.conversioné»è®¤æ¯moreï¼èçæ¬hiveé»è®¤æ¯minimalï¼è¯¥å±æ§ä¿®æ¹ä¸ºmoreä»¥åï¼å¨å¨å±æ¥æ¾ãå­æ®µæ¥æ¾ãlimitæ¥æ¾ç­é½ä¸èµ°mapreduceã\n\n<property>\n    <name>hive.fetch.task.conversion</name>\n    <value>more</value> \n    <description>\n      expects one of [none, minimal, more].\n      some select queries can be converted to single fetch task minimizing latency.\n      currently the query should be single sourced not having any subquery and should not have any aggregations or distincts (which incurs rs), lateral views and joins.\n      0. none : disable hive.fetch.task.conversion\n      1. minimal : select star, filter on partition columns, limit only\n      2. more  : select, filter, limit only (support tablesample and virtual columns)\n    </description>\n</property>\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n\n\n\n# è¡¨ä¼å\n\n\n# å°è¡¨ãå¤§è¡¨join\n\nå°keyç¸å¯¹åæ£ï¼å¹¶ä¸æ°æ®éå°çè¡¨æ¾å¨joinçå·¦è¾¹ï¼è¿æ ·å¯ä»¥ææåå°åå­æº¢åºéè¯¯åççå çï¼åè¿ä¸æ­¥ï¼å¯ä»¥ä½¿ç¨map joinè®©å°çç»´åº¦è¡¨ï¼1000æ¡ä»¥ä¸çè®°å½æ¡æ°ï¼åè¿åå­ãå¨mapç«¯å®æreduceã\n\næ°ççhiveå·²ç»å¯¹å°è¡¨joinå¤§è¡¨åå¤§è¡¨joinå°è¡¨è¿è¡äºä¼åãå°è¡¨æ¾å¨å·¦è¾¹åå³è¾¹å·²ç»æ²¡æææ¾åºå«ã\n\nset hive.auto.convert.join = false; -- å³é­mapjoinåè½ï¼é»è®¤æ¯æå¼çï¼\n\n\n1\n\n\n-- å»ºç«å¤§è¡¨\ncreate table bigtable(id bigint, t bigint, uid string, keyword string, url_rank int, click_num int, click_url string) row format delimited fields terminated by '\\t';\n\nload data local inpath '/opt/module/datas/bigtable' into table bigtable;\n\n\n1\n2\n3\n4\n\n\n-- å»ºç«å°è¡¨\ncreate table smalltable(id bigint, t bigint, uid string, keyword string, url_rank int, click_num int, click_url string) row format delimited fields terminated by '\\t';\n\nload data local inpath '/opt/module/datas/smalltable' into table smalltable;\n\n\n1\n2\n3\n4\n\n\n-- å»ºç«ç»æè¡¨æ ¼\ncreate table jointable(id bigint, t bigint, uid string, keyword string, url_rank int, click_num int, click_url string) row format delimited fields terminated by '\\t';\n\n\n1\n2\n\n\n-- è¿æ¥æä½\ninsert overwrite table jointable\nselect b.id, b.t, b.uid, b.keyword, b.url_rank, b.click_num, b.click_url\nfrom smalltable s\njoin bigtable  b\non b.id = s.id;\n\ninsert overwrite table jointable\nselect b.id, b.t, b.uid, b.keyword, b.url_rank, b.click_num, b.click_url\nfrom bigtable  b\njoin smalltable  s\non s.id = b.id;\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n\n\n\n# å¤§è¡¨joinå¤§è¡¨\n\nææ¶joinè¶æ¶æ¯å ä¸ºæäºkeyå¯¹åºçæ°æ®å¤ªå¤ï¼èç¸åkeyå¯¹åºçæ°æ®é½ä¼åéå°ç¸åçreducerä¸ï¼ä»èå¯¼è´åå­ä¸å¤ãæ­¤æ¶æä»¬åºè¯¥ä»ç»åæè¿äºå¼å¸¸çkeyï¼å¾å¤æåµä¸ï¼è¿äºkeyå¯¹åºçæ°æ®æ¯å¼å¸¸æ°æ®ï¼æä»¬éè¦å¨sqlè¯­å¥ä¸­è¿è¡è¿æ»¤ã\n\n-- å»ºæ²¡ænullçè¡¨\ncreate table ori(id bigint, t bigint, uid string, keyword string, url_rank int, click_num int, click_url string) row format delimited fields terminated by '\\t';\n\nload data local inpath '/opt/module/datas/ori' into table ori;\n\n-- å»ºç«ænullçè¡¨\ncreate table nullidtable(id bigint, t bigint, uid string, keyword string, url_rank int, click_num int, click_url string) row format delimited fields terminated by '\\t';\n\nload data local inpath '/opt/module/datas/nullid' into table nullidtable;\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n\n\n-- ç©ºkeyè¿æ»¤\ninsert overwrite table jointable select n.* from (select * from nullidtable where id is not null ) n  left join ori o on n.id = o.id;\n\n-- ç©ºkeyè½¬æ¢\ninsert overwrite table jointable\nselect n.* from nullidtable n full join ori o on \nnvl(n.id,rand()) = o.id;\n\n\n1\n2\n3\n4\n5\n6\n7\n\n\n\n# mapjoinï¼mrå¼æï¼\n\nå¦æä¸æå®mapjoinæèä¸ç¬¦åmapjoinçæ¡ä»¶ï¼é£ä¹hiveè§£æå¨ä¼å°joinæä½è½¬æ¢æcommon joinï¼å³ï¼å¨reduceé¶æ®µå®æjoinãå®¹æåçæ°æ®å¾æãå¯ä»¥ç¨mapjoinæå°è¡¨å¨é¨å è½½å°åå­å¨mapç«¯è¿è¡joinï¼é¿åreducerå¤çã\n\nset hive.auto.convert.join = true; -- é»è®¤ä¸ºtrue\nset hive.mapjoin.smalltable.filesize=25000000; -- å¤§è¡¨å°è¡¨çéå¼è®¾ç½®ï¼é»è®¤25mä¸ä¸è®¤ä¸ºæ¯å°è¡¨ï¼\n\n\n1\n2\n\n\n\n\n\n# group by\n\né»è®¤æåµä¸ï¼mapé¶æ®µåä¸keyæ°æ®ååç»ä¸ä¸ªreduceï¼å½ä¸ä¸ªkeyæ°æ®è¿å¤§æ¶å°±å¾æäºã\n\n\n\nå¹¶ä¸æ¯ææçèåæä½é½éè¦å¨reduceç«¯å®æï¼å¾å¤èåæä½é½å¯ä»¥åå¨mapç«¯è¿è¡é¨åèåï¼æåå¨reduceç«¯å¾åºæç»ç»æã\n\nset hive.map.aggr = true; -- æ¯å¦å¨mapç«¯è¿è¡èåï¼é»è®¤ä¸ºtrue\nset hive.groupby.mapaggr.checkinterval = 100000; -- å¨mapç«¯è¿è¡èåæä½çæ¡ç®æ°ç®\nset hive.groupby.skewindata = true; -- ææ°æ®å¾æçæ¶åè¿è¡è´è½½åè¡¡ï¼é»è®¤æ¯falseï¼\n\n\n1\n2\n3\n\n\nå½éé¡¹è®¾å®ä¸º trueï¼çæçæ¥è¯¢è®¡åä¼æä¸¤ä¸ªmr jobãç¬¬ä¸ä¸ªmr jobä¸­ï¼mapçè¾åºç»æä¼éæºåå¸å°reduceä¸­ï¼æ¯ä¸ªreduceåé¨åèåæä½ï¼å¹¶è¾åºç»æï¼è¿æ ·å¤ççç»ææ¯ç¸åçgroup by keyæå¯è½è¢«ååå°ä¸åçreduceä¸­ï¼ä»èè¾¾å°è´è½½åè¡¡çç®çï¼ç¬¬äºä¸ªmr jobåæ ¹æ®é¢å¤ççæ°æ®ç»ææç§group by keyåå¸å°reduceä¸­ï¼è¿ä¸ªè¿ç¨å¯ä»¥ä¿è¯ç¸åçgroup by keyè¢«åå¸å°åä¸ä¸ªreduceä¸­ï¼ï¼æåå®ææç»çèåæä½ã\n\næµè¯\n\nselect deptno from emp group by deptno;\n\n\n1\n\n\n\n# ç¬å¡å°ç§¯\n\nå°½éé¿åç¬å¡å°ç§¯ï¼joinçæ¶åä¸å onæ¡ä»¶ï¼æèæ æçonæ¡ä»¶ï¼hiveåªè½ä½¿ç¨1ä¸ªreduceræ¥å®æç¬å¡å°ç§¯ã\n\n\n# è¡åè¿æ»¤\n\nåå¤çï¼å¨selectä¸­ï¼åªæ¿éè¦çåï¼å¦ææï¼å°½éä½¿ç¨ååºè¿æ»¤ï¼å°ç¨select *ã\n\nè¡å¤çï¼å¨ååºåªè£ä¸­ï¼å½ä½¿ç¨å¤å³èæ¶ï¼å¦æå°å¯è¡¨çè¿æ»¤æ¡ä»¶åå¨whereåé¢ï¼é£ä¹å°±ä¼åå¨è¡¨å³èï¼ä¹ååè¿æ»¤\n\n-- æµè¯åå³èä¸¤å¼ è¡¨ï¼åç¨whereæ¡ä»¶è¿æ»¤\nselect o.id from bigtable b\njoin ori o on o.id = b.id\nwhere o.id <= 10;\n-- éè¿å­æ¥è¯¢åï¼åå³èè¡¨\nselect b.id from bigtable b\njoin (select id from ori where id <= 10 ) o on b.id = o.id;\n\n\n1\n2\n3\n4\n5\n6\n7\n\n\n\n# å¨æååº\n\n-- é¦åè®¾ç½®éä¸¥æ ¼æ¨¡å¼\nset hive.exec.dynamic.partition.mode=nonstrict; -- é»è®¤ä¸ºstrict\n\n\n1\n2\n\n\n-- åå»ºååºè¡¨\ncreate table dept_partition(id int, name string) partitioned\nby (location int) row format delimited fields terminated by '\\t';\n\n\n1\n2\n3\n\n\n-- ä»åè¡¨ä¸­åååºè¡¨æå¥æ°æ®\ninsert into table dept_partition partition(location)\nselect deptno, dname, loc from dept;\n\n\n1\n2\n3\n\n\n\n# ä¸¥æ ¼æ¨¡å¼\n\nè®¾ç½®ä¸ºä¸¥æ ¼æ¨¡å¼\n\nset hive.exec.dynamic.partition.mode=strict; -- é»è®¤ä¸ºstrictä¸¥æ ¼æ¨¡å¼\n\n\n1\n\n 1. å°hive.strict.checks.no.partition.filterè®¾ç½®ä¸ºtrueæ¶ï¼å¯¹äºååºè¡¨ï¼é¤éwhereè¯­å¥ä¸­å«æååºå­æ®µè¿æ»¤æ¡ä»¶æ¥éå¶èå´ï¼å¦åä¸åè®¸æ§è¡ã\n 2. å°hive.strict.checks.orderby.no.limitè®¾ç½®ä¸ºtrueæ¶ï¼å¯¹äºä½¿ç¨äºorder byè¯­å¥çæ¥è¯¢ï¼è¦æ±å¿é¡»ä½¿ç¨limitè¯­å¥ã\n 3. å°hive.strict.checks.cartesian.productè®¾ç½®ä¸ºtrueæ¶ï¼ä¼éå¶ç¬å¡å°ç§¯çæ¥è¯¢ã\n\n\n# jvméç¨\n\nhadoopçé»è®¤éç½®éå¸¸æ¯ä½¿ç¨æ´¾çjvmæ¥æ§è¡mapåreduceä»»å¡çãè¿æ¶jvmçå¯å¨è¿ç¨å¯è½ä¼é æç¸å½å¤§çå¼éï¼å°¤å¶æ¯æ§è¡çjobåå«ææç¾ä¸åtaskä»»å¡çæåµãjvméç¨å¯ä»¥ä½¿å¾jvmå®ä¾å¨åä¸ä¸ªjobä¸­éæ°ä½¿ç¨næ¬¡ãnçå¼å¯ä»¥å¨hadoopçmapred-site.xmlæä»¶ä¸­è¿è¡éç½®ãéå¸¸å¨10-20ä¹é´ï¼å·ä½å¤å°éè¦æ ¹æ®å·ä½ä¸å¡åºæ¯æµè¯å¾åºã\n\n<property>\n  <name>mapreduce.job.jvm.numtasks</name>\n  <value>10</value>\n  <description>how many tasks to run per jvm. if set to -1, there is\n  no limit. \n  </description>\n</property>\n\n\n1\n2\n3\n4\n5\n6\n7\n\n\ntezå¼æé»è®¤å¼å¯jvméç¨\n\n\n# æ§è¡è®¡åï¼explainï¼\n\n-- explain [extended | dependency | authorization] query\nexplain select * from emp;\n\n\n1\n2\n",charsets:{cjk:!0},lastUpdated:"2022/03/18, 07:01:11",lastUpdatedTimestamp:1647558071e3},{title:"Flume",frontmatter:{title:"Flume",date:"2022-03-17T22:07:46.000Z",permalink:"/pages/b084db/",categories:["å¤§æ°æ®","Flume"],tags:[null]},regularPath:"/%E5%A4%A7%E6%95%B0%E6%8D%AE/04.Flume/01.Flume.html",relativePath:"å¤§æ°æ®/04.Flume/01.Flume.md",key:"v-07e506ef",path:"/pages/b084db/",headersStr:null,content:"# Flume\n\nFlumeæ¯Clouderaæä¾çä¸ä¸ªé«å¯ç¨çï¼é«å¯é çï¼åå¸å¼çæµ·éæ¥å¿ééãèååä¼ è¾çç³»ç»ãFlumeåºäºæµå¼æ¶æï¼çµæ´»ç®åã\n\n",normalizedContent:"# flume\n\nflumeæ¯clouderaæä¾çä¸ä¸ªé«å¯ç¨çï¼é«å¯é çï¼åå¸å¼çæµ·éæ¥å¿ééãèååä¼ è¾çç³»ç»ãflumeåºäºæµå¼æ¶æï¼çµæ´»ç®åã\n\n",charsets:{cjk:!0},lastUpdated:"2022/03/18, 07:01:11",lastUpdatedTimestamp:1647558071e3},{title:"Hiveå®æ",frontmatter:{title:"Hiveå®æ",date:"2022-03-17T22:07:27.000Z",permalink:"/pages/1aa014/",categories:["å¤§æ°æ®","Hive"],tags:[null]},regularPath:"/%E5%A4%A7%E6%95%B0%E6%8D%AE/03.Hive/13.Hive%E5%AE%9E%E6%88%98.html",relativePath:"å¤§æ°æ®/03.Hive/13.Hiveå®æ.md",key:"v-7aff2c77",path:"/pages/1aa014/",headers:[{level:2,title:"æä»¶å­æ®µè¯´æ",slug:"æä»¶å­æ®µè¯´æ",normalizedTitle:"æä»¶å­æ®µè¯´æ",charIndex:13},{level:2,title:"ETL Mapper å¤ç",slug:"etl-mapper-å¤ç",normalizedTitle:"etl mapper å¤ç",charIndex:666},{level:2,title:"åå»ºè¡¨",slug:"åå»ºè¡¨",normalizedTitle:"åå»ºè¡¨",charIndex:5326},{level:2,title:"éæ±å®ç°",slug:"éæ±å®ç°",normalizedTitle:"éæ±å®ç°",charIndex:6620},{level:3,title:"ç»è®¡è§é¢è§çæ°top10",slug:"ç»è®¡è§é¢è§çæ°top10",normalizedTitle:"ç»è®¡è§é¢è§çæ°top10",charIndex:6629},{level:3,title:"ç»è®¡è§é¢ç±»å«ç­åº¦Top10",slug:"ç»è®¡è§é¢ç±»å«ç­åº¦top10",normalizedTitle:"ç»è®¡è§é¢ç±»å«ç­åº¦top10",charIndex:6794},{level:3,title:"ç»è®¡åºè§é¢è§çæ°æé«ç20ä¸ªè§é¢çæå±ç±»å«ä»¥åç±»å«åå«Top20è§é¢çä¸ªæ°",slug:"ç»è®¡åºè§é¢è§çæ°æé«ç20ä¸ªè§é¢çæå±ç±»å«ä»¥åç±»å«åå«top20è§é¢çä¸ªæ°",normalizedTitle:"ç»è®¡åºè§é¢è§çæ°æé«ç20ä¸ªè§é¢çæå±ç±»å«ä»¥åç±»å«åå«top20è§é¢çä¸ªæ°",charIndex:7472},{level:3,title:"ç»è®¡è§é¢è§çæ°Top50æå³èè§é¢çæå±ç±»å«æåº",slug:"ç»è®¡è§é¢è§çæ°top50æå³èè§é¢çæå±ç±»å«æåº",normalizedTitle:"ç»è®¡è§é¢è§çæ°top50æå³èè§é¢çæå±ç±»å«æåº",charIndex:8327},{level:3,title:"ç»è®¡æ¯ä¸ªç±»å«ä¸­çè§é¢ç­åº¦Top10ï¼ä»¥Musicä¸ºä¾",slug:"ç»è®¡æ¯ä¸ªç±»å«ä¸­çè§é¢ç­åº¦top10-ä»¥musicä¸ºä¾",normalizedTitle:"ç»è®¡æ¯ä¸ªç±»å«ä¸­çè§é¢ç­åº¦top10ï¼ä»¥musicä¸ºä¾",charIndex:10274},{level:3,title:"ç»è®¡æ¯ä¸ªç±»å«ä¸­è§é¢æµéTop10ï¼ä»¥Musicä¸ºä¾",slug:"ç»è®¡æ¯ä¸ªç±»å«ä¸­è§é¢æµétop10-ä»¥musicä¸ºä¾",normalizedTitle:"ç»è®¡æ¯ä¸ªç±»å«ä¸­è§é¢æµétop10ï¼ä»¥musicä¸ºä¾",charIndex:10937},{level:3,title:"ç»è®¡ä¸ä¼ è§é¢æå¤çç¨æ·Top10ä»¥åä»ä»¬ä¸ä¼ çè§çæ¬¡æ°å¨å20çè§é¢",slug:"ç»è®¡ä¸ä¼ è§é¢æå¤çç¨æ·top10ä»¥åä»ä»¬ä¸ä¼ çè§çæ¬¡æ°å¨å20çè§é¢",normalizedTitle:"ç»è®¡ä¸ä¼ è§é¢æå¤çç¨æ·top10ä»¥åä»ä»¬ä¸ä¼ çè§çæ¬¡æ°å¨å20çè§é¢",charIndex:11147},{level:2,title:"ç»è®¡æ¯ä¸ªç±»å«è§é¢è§çæ°Top10",slug:"ç»è®¡æ¯ä¸ªç±»å«è§é¢è§çæ°top10",normalizedTitle:"ç»è®¡æ¯ä¸ªç±»å«è§é¢è§çæ°top10",charIndex:12886}],headersStr:"æä»¶å­æ®µè¯´æ ETL Mapper å¤ç åå»ºè¡¨ éæ±å®ç° ç»è®¡è§é¢è§çæ°top10 ç»è®¡è§é¢ç±»å«ç­åº¦Top10 ç»è®¡åºè§é¢è§çæ°æé«ç20ä¸ªè§é¢çæå±ç±»å«ä»¥åç±»å«åå«Top20è§é¢çä¸ªæ° ç»è®¡è§é¢è§çæ°Top50æå³èè§é¢çæå±ç±»å«æåº ç»è®¡æ¯ä¸ªç±»å«ä¸­çè§é¢ç­åº¦Top10ï¼ä»¥Musicä¸ºä¾ ç»è®¡æ¯ä¸ªç±»å«ä¸­è§é¢æµéTop10ï¼ä»¥Musicä¸ºä¾ ç»è®¡ä¸ä¼ è§é¢æå¤çç¨æ·Top10ä»¥åä»ä»¬ä¸ä¼ çè§çæ¬¡æ°å¨å20çè§é¢ ç»è®¡æ¯ä¸ªç±»å«è§é¢è§çæ°Top10",content:'# Hiveå®æ\n\n\n# æä»¶å­æ®µè¯´æ\n\nè§é¢è¡¨\n\nå­æ®µ            å¤æ³¨                      è¯¦ç»æè¿°\nvideo id      è§é¢å¯ä¸idï¼Stringï¼          11ä½å­ç¬¦ä¸²\nuploader      è§é¢ä¸ä¼ èï¼Stringï¼           ä¸ä¼ è§é¢çç¨æ·åString\nage           è§é¢å¹´é¾ï¼intï¼               è§é¢å¨å¹³å°ä¸çæ´æ°å¤©\ncategory      è§é¢ç±»å«ï¼Array<String>ï¼     ä¸ä¼ è§é¢æå®çè§é¢åç±»\nlength        è§é¢é¿åº¦ï¼Intï¼               æ´å½¢æ°å­æ è¯çè§é¢é¿åº¦\nviews         è§çæ¬¡æ°ï¼Intï¼               è§é¢è¢«æµè§çæ¬¡æ°\nrate          è§é¢è¯åï¼Doubleï¼            æ»¡å5å\nRatings       æµéï¼Intï¼                 è§é¢çæµéï¼æ´åæ°å­\nconments      è¯è®ºæ°ï¼Intï¼                ä¸ä¸ªè§é¢çæ´æ°è¯è®ºæ°\nrelated ids   ç¸å³è§é¢idï¼Array<String>ï¼   ç¸å³è§é¢çidï¼æå¤20ä¸ª\n\nç¨æ·è¡¨\n\nå­æ®µ         å¤æ³¨       å­æ®µç±»å\nuploader   ä¸ä¼ èç¨æ·å   string\nvideos     ä¸ä¼ è§é¢æ°    int\nfriends    æåæ°é     int\n\n\n# ETL Mapper å¤ç\n\nä¹¦åETL Mapperç¼ç \n\nå¯¼å¥åæ \n\n<dependencies>\n    <dependency>\n        <groupId>junit</groupId>\n        <artifactId>junit</artifactId>\n        <version>4.12</version>\n    </dependency>\n    <dependency>\n        <groupId>org.apache.logging.log4j</groupId>\n        <artifactId>log4j-slf4j-impl</artifactId>\n        <version>2.12.0</version>\n    </dependency>\n    <dependency>\n        <groupId>org.apache.hadoop</groupId>\n        <artifactId>hadoop-client</artifactId>\n        <version>3.1.3</version>\n    </dependency>\n    \x3c!--        <dependency>--\x3e\n    \x3c!--            <groupId>org.apache.hadoop</groupId>--\x3e\n    \x3c!--            <artifactId>hadoop-client-runtime</artifactId>--\x3e\n    \x3c!--            <version>3.1.3</version>--\x3e\n    \x3c!--        </dependency>--\x3e\n</dependencies>\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n\n\nMapperç±»\n\npackage com.atguigu.etl;\n\nimport org.apache.hadoop.io.LongWritable;\nimport org.apache.hadoop.io.NullWritable;\nimport org.apache.hadoop.io.Text;\nimport org.apache.hadoop.mapreduce.Counter;\nimport org.apache.hadoop.mapreduce.Mapper;\n\nimport java.io.IOException;\n\npublic class ETLMapper extends Mapper<LongWritable, Text, Text, NullWritable> {\n\n\n    private Counter pass;\n    private Counter fail;\n\n    private StringBuffer sb = new StringBuffer();\n\n    private Text result = new Text();\n\n\n    @Override\n    protected void setup(Mapper<LongWritable, Text, Text, NullWritable>.Context context) throws IOException, InterruptedException {\n        pass = context.getCounter("ETL", "Pass"); //è®¡æ°å¨\n        fail = context.getCounter("ETL", "Fail");\n    }\n\n    /**\n     * å°ä¸è¡æ¥å¿è¿è¡å¤ç å­æ®µä¸å¤çæå¼ ç¬¬åä¸ªå­æ®µä¸­çç©ºæ ¼å»æ å°æåç¸å³è§é¢çåå²ç¬¦æ¹ä¸º &\n     *\n     * @param key     è¡å·\n     * @param value   ä¸è¡æ¥å¿\n     * @param context\n     * @throws IOException\n     * @throws InterruptedException\n     */\n    @Override\n    protected void map(LongWritable key, Text value, Mapper<LongWritable, Text, Text, NullWritable>.Context context) throws IOException, InterruptedException {\n        String line = value.toString();\n\n        String[] field = line.split("\\t");\n\n        //å¤æ­å­æ°æ¯å¦è¶³å¤\n        if (field.length >= 9) {\n            //å¤çæ°æ®\n            //å»æç¬¬åä¸ªå­æ®µçç©ºæ ¼\n            field[3] = field[3].replace(" ", "");  //åæ¬ a & b ==> åæ a&b\n\n            //æ¼æ¥æä¸è¡\n            sb.setLength(0); //æ¸ç©º\n            for (int i = 0; i < field.length; i++) {\n                //å¦æå½åæ¼æ¥çå­æ®µæ¯æä»¬è¿ä¸è¡çæåä¸ä¸ªå­æ®µ åç´æ¥è¿½å \n                if (i == field.length - 1) {\n                    sb.append(field[i]);\n                } else if (i <= 8) { //åé¢çå­æ®µé½æ¯ç¨ \\t éå¼\n                    //å¦ææ¼çæ¯å9ä¸ªå­æ®µ\n                    sb.append(field[i]).append("\\t");\n\n                } else {\n                    //å©ä¸çåå²ç¬¦ä¸º&\n                    sb.append(field[i]).append("&");  //æåä¸ä¸ªå­æ®µä¸ºä¸ä¸ªæ°ç» åç´ ä¹é´ç¨&éå¼\n                }\n\n\n            }\n            result.set(sb.toString());\n            context.write(result, NullWritable.get()); //åå¥ä¸ä¸æ\n            pass.increment(1);\n        } else {\n            //ä¸¢å¼æ°æ® æ­¤æ°æ®ä¸è¶³9ä¸ªå­æ®µ\n            fail.increment(1);\n        }\n\n\n    }\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n26\n27\n28\n29\n30\n31\n32\n33\n34\n35\n36\n37\n38\n39\n40\n41\n42\n43\n44\n45\n46\n47\n48\n49\n50\n51\n52\n53\n54\n55\n56\n57\n58\n59\n60\n61\n62\n63\n64\n65\n66\n67\n68\n69\n70\n71\n72\n73\n74\n75\n76\n\n\nDriver\n\npackage com.atguigu.etl;\n\nimport org.apache.hadoop.conf.Configuration;\nimport org.apache.hadoop.fs.Path;\nimport org.apache.hadoop.io.Text;\nimport org.apache.hadoop.mapreduce.Job;\nimport org.apache.hadoop.mapreduce.lib.input.FileInputFormat;\nimport org.apache.hadoop.mapreduce.lib.output.FileOutputFormat;\n\nimport java.io.IOException;\n\npublic class ETLDriver {\n    public static void main(String[] args) throws IOException, InterruptedException, ClassNotFoundException {\n//        args = new String[]{"d:/input","d:/output"}; //æ¬å°æµè¯\n\n        Configuration configuration = new Configuration();\n        configuration.set("hive.execution.engine","yarn-tez"); //æ¹ä¸ºtezå¼æ æ¬å°æ¨¡å¼ä¸è¦ä¿®æ¹è¯·ä½¿ç¨é»è®¤å¼æ\n        Job job = Job.getInstance();\n\n        job.setJarByClass(ETLDriver.class);\n\n        job.setMapperClass(ETLMapper.class);\n        job.setNumReduceTasks(0);\n\n        job.setMapOutputKeyClass(Text.class);\n        job.setOutputValueClass(NullPointerException.class);\n\n        FileInputFormat.setInputPaths(job, new Path(args[0]));\n        FileOutputFormat.setOutputPath(job, new Path(args[1]));\n\n        boolean b = job.waitForCompletion(true);\n        System.exit(b ? 0 : 1);\n    }\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n26\n27\n28\n29\n30\n31\n32\n33\n34\n\n\næåæjaråä¸ä¼ å°éç¾¤ä¸­ è¿è¡èªå®ä¹mapreduce\n\nyarn jar etltool20211110-1.0-SNAPSHOT.jar com.atguigu.etl.ETLDriver /gulivideo/video /gulivideo/video_etl\n\n\n1\n\n\n\n# åå»ºè¡¨\n\n * ååº\n\ncreate database gulivideo;\nuse gulivideo;\n\n\n1\n2\n\n * å¤é¨è¡¨\n\n-- videoè¡¨\ncreate external table video_ori(\n    videoId string, \n    uploader string, \n    age int, \n    category array<string>, \n    length int, \n    views int, \n    rate float, \n    ratings int, \n    comments int,\n    relatedId array<string>)\nrow format delimited fields terminated by "\\t"\ncollection items terminated by "&"\nlocation \'/gulivideo/video_etl\';\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n\n\n-- userè¡¨\ncreate external table user_ori(\n    uploader string,\n    videos int,\n    friends int)\nrow format delimited fields terminated by "\\t" \nlocation \'/gulivideo/user\';\n\n\n1\n2\n3\n4\n5\n6\n7\n\n * åé¨è¡¨\n\n-- video_orcè¡¨\ncreate table video_orc(\n    videoId string, \n    uploader string, \n    age int, \n    category array<string>, \n    length int, \n    views int, \n    rate float, \n    ratings int, \n    comments int,\n    relatedId array<string>)\nstored as orc\ntblproperties("orc.compress"="SNAPPY");\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n\n\n-- user_orcè¡¨\ncreate table user_orc(\n    uploader string,\n    videos int,\n    friends int)\nstored as orc\ntblproperties("orc.compress"="SNAPPY");\n\n\n1\n2\n3\n4\n5\n6\n7\n\n * æå¥æ°æ®\n\n-- ä»å¤é¨è¡¨ä¸­æå¥æ°æ®\ninsert into table video_orc select * from video_ori;\ninsert into table user_orc select * from user_ori;\n\n\n1\n2\n3\n\n\n\n# éæ±å®ç°\n\n\n# ç»è®¡è§é¢è§çæ°top10\n\nä½¿ç¨order byæç§viewså­æ®µåä¸ä¸ªå¨å±æåºå³å¯ï¼åæ¶æä»¬è®¾ç½®åªæ¾ç¤ºå10æ¡ã\n\nSELECT\n    videoid,\n    views\nFROM\n    video_orc\nORDER BY\n    views DESC\nLIMIT 10;\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n\n\n\n# ç»è®¡è§é¢ç±»å«ç­åº¦Top10\n\n 1. å³ç»è®¡æ¯ä¸ªç±»å«æå¤å°ä¸ªè§é¢ï¼æ¾ç¤ºåºåå«è§é¢æå¤çå10ä¸ªç±»å«\n 2. æä»¬éè¦æç§ç±»å«group byèåï¼ç¶åcountç»åçvideoIdä¸ªæ°å³å¯ã\n 3. å ä¸ºå½åè¡¨ç»æä¸ºï¼ä¸ä¸ªè§é¢å¯¹åºä¸ä¸ªæå¤ä¸ªç±»å«ãæä»¥å¦æè¦group byç±»å«ï¼éè¦åå°ç±»å«è¿è¡åè½¬è¡(å±å¼)ï¼ç¶ååè¿è¡countå³å¯ã\n\n-- categoryåè½¬è¡\nSELECT\n    videoid,\n    cate\nFROM\n    video_orc LATERAL VIEW explode(category) tbl as cate;\n\n\n1\n2\n3\n4\n5\n6\n\n\n-- å¨ä¸è¡¨åºç¡ä¸ï¼ç»è®¡åä¸ªç±»å«æå¤å°è§é¢ï¼å¹¶æåºååå\nSELECT\n    cate,\n    COUNT(videoid) n\nFROM\n    t1\nGROUP BY\n    cate\nORDER BY\n    n desc limit 10;\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n\n\nå®æ´è¯­å¥\n\nSELECT\n    cate,\n    COUNT(videoid) n\nFROM\n    (SELECT\n    videoid,\n    cate\nFROM\n    video_orc LATERAL VIEW explode(category) tbl as cate)t1\nGROUP BY\n    cate\nORDER BY\n    n desc limit 10;\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n\n\n\n# ç»è®¡åºè§é¢è§çæ°æé«ç20ä¸ªè§é¢çæå±ç±»å«ä»¥åç±»å«åå«Top20è§é¢çä¸ªæ°\n\n 1. ç»è®¡å20è§é¢åç±»å«\n\nSELECT\n    videoid,\n    views,\n    category\nFROM\n    video_orc\nORDER BY\n    views DESC\nLIMIT 20;\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n\n 2. ææ£ç±»å« åè½¬è¡\n\nSELECT\n    videoid,\n    cate\nFROM\n    t1 LATERAL VIEW explode(category) tbl as cate;\n\n\n1\n2\n3\n4\n5\n\n 3. æç§ç±»å«ç»è®¡ä¸ªæ°\n\nSELECT\n    cate,\n    COUNT(videoid) n\nFROM\n    t2\nGROUP BY\n    cate\nORDER BY\n    n DESC;\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n\n 4. å®æ´è¯­å¥\n\nSELECT\n    cate,\n    COUNT(videoid) n\nFROM\n    (\n    SELECT\n        videoid,\n        cate\n    FROM\n        (\n        SELECT\n            videoid,\n            views,\n            category\n        FROM\n            video_orc\n        ORDER BY\n            views DESC\n        LIMIT 20 ) t1 LATERAL VIEW explode(category) tbl as cate ) t2\nGROUP BY\n    cate\nORDER BY\n    n DESC;\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n\n\n\n# ç»è®¡è§é¢è§çæ°Top50æå³èè§é¢çæå±ç±»å«æåº\n\n 1. ç»è®¡è§çæ°å50çè§é¢çå³èè§é¢\n\nSELECT\n    videoid,\n    views,\n    relatedid\nFROM\n    video_orc\nORDER BY\n    views DESC\nLIMIT 50;\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n\n 2. ææ£å³èè§é¢ åè½¬è¡\n\nSELECT\n    explode(relatedid) videoid\nFROM\n    t1;\n\n\n1\n2\n3\n4\n\n 3. ååè¡¨joinè·åå³èè§é¢çç±»å«\n\nSELECT\n    DISTINCT t2.videoid,\n    v.category\nFROM\n    t2\nJOIN video_orc v on\n    t2.videoid = v.videoid;\n\n\n1\n2\n3\n4\n5\n6\n7\n\n 4. ææ£ç±»å«\n\nSELECT\n    explode(category) cate\nFROM\n    t3;\n\n\n1\n2\n3\n4\n\n 5. ç±»å«ç­åº¦è¡¨ æ¯ä¸ªç±»å«åºç°æ¬¡æ°\n\nSELECT\n        cate,\n        COUNT(videoid) n\n    FROM\n        (\n        SELECT\n            videoid,\n            cate\n        FROM\n            video_orc LATERAL VIEW explode(category) tbl as cate) g1\n    GROUP BY\n        cate\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n\n 6. åç±»å«ç­åº¦è¡¨ joinå¹¶æåº\n\nSELECT\n    DISTINCT t4.cate,\n    t5.n\nFROM\n    t4\nJOIN t5 ON\n    t4.cate = t5.cate\nORDER BY\n    t5.n DESC;\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n\n 7. å®æ´è¯­å¥\n\nSELECT \n    DISTINCT t4.cate,\n    t5.n\nFROM\n    (\n    SELECT\n        explode(category) cate\n    FROM\n        (\n        SELECT\n            DISTINCT t2.videoid,\n            v.category\n        FROM\n            (\n            SELECT\n                explode(relatedid) videoid\n            FROM\n                (\n                SELECT\n                    videoid,\n                    views,\n                    relatedid\n                FROM\n                    video_orc\n                ORDER BY\n                    views DESC\n                LIMIT 50 ) t1 ) t2\n        JOIN video_orc v on\n            t2.videoid = v.videoid ) t3 ) t4\nJOIN (\n    SELECT\n        cate,\n        COUNT(videoid) n\n    FROM\n        (\n        SELECT\n            videoid,\n            cate\n        FROM\n            video_orc LATERAL VIEW explode(category) tbl as cate) g1\n    GROUP BY\n        cate ) t5 ON\n    t4.cate = t5.cate\nORDER BY\n    t5.n DESC;\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n26\n27\n28\n29\n30\n31\n32\n33\n34\n35\n36\n37\n38\n39\n40\n41\n42\n43\n44\n45\n\n\n\n# ç»è®¡æ¯ä¸ªç±»å«ä¸­çè§é¢ç­åº¦Top10ï¼ä»¥Musicä¸ºä¾\n\n 1. æè§é¢è¡¨çç±»å«ç¸å¼ï¼çæä¸­é´è¡¨æ ¼video_category\n\nCREATE\n    TABLE\n        video_category STORED AS orc TBLPROPERTIES("orc.compress"="SNAPPY") AS SELECT\n            videoid,\n            uploader,\n            age,\n            cate,\n            length,\n            views,\n            rate,\n            ratings,\n            comments,\n            relatedid\n        FROM\n            video_orc LATERAL VIEW explode(category) tbl as cate;\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n\n 2. ä»video_category ç´æ¥æ¥è¯¢Musicç±»çå10è§é¢\n\nSELECT\n    videoid,\n    views\nFROM\n    video_category\nWHERE\n    cate ="Music"\nORDER BY\n    views DESC\nLIMIT 10;\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n\n\n\n# ç»è®¡æ¯ä¸ªç±»å«ä¸­è§é¢æµéTop10ï¼ä»¥Musicä¸ºä¾\n\n 1. ä»video_categoryç´æ¥æ¥è¯¢Musicç±»çæµéå10è§é¢\n\nSELECT\n    videoid,\n    ratings\nFROM\n    video_category\nWHERE\n    cate ="Music"\nORDER BY\n    ratings DESC\nLIMIT 10;\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n\n\n\n# ç»è®¡ä¸ä¼ è§é¢æå¤çç¨æ·Top10ä»¥åä»ä»¬ä¸ä¼ çè§çæ¬¡æ°å¨å20çè§é¢\n\n# çè§£1.ä¸ä¼ è§é¢è§çæ°æå¤ååç¨æ·æ¯äººå20æ¡è§é¢\n\n 1. ç»è®¡ä¸ä¼ è§é¢ä¸­ è§çæ°éæå¤§çTop10ä¸ä¼ ç¨æ·\n\nSELECT\n    uploader,\n    videos\nFROM\n    user_orc\nORDER BY\n    videos DESC\nLIMIT 10;\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n\n 2. åvideo_orcèç«ï¼æ¾åºè¿äºç¨æ·ä¸ä¼ çè§é¢ï¼å¹¶æç§ç­åº¦æå\n\nSELECT\n    t1.uploader,\n    v.videoid,\n    RANK() OVER(PARTITION BY t1.uploader ORDER BY v.views DESC) hot\nFROM\n    t1\nLEFT JOIN video_orc v ON\n    t1.uploader = v.uploader;\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n\n 3. æ±å20\n\nSELECT\n    t2.uploader,\n    t2.videoid,\n    t2.hot\nFROM\n    t2\nWHERE\n    hot <= 20;\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n\n 4. å®æ´è¯­å¥\n\nSELECT\n    t2.uploader,\n    t2.videoid,\n    t2.hot\nFROM\n    (SELECT\n    t1.uploader,\n    v.videoid,\n    RANK() OVER(PARTITION BY t1.uploader ORDER BY v.views DESC) hot\nFROM\n    (SELECT\n    uploader,\n    videos\nFROM\n    user_orc\nORDER BY\n    videos DESC\nLIMIT 10)t1\nLEFT JOIN video_orc v ON\n    t1.uploader = v.uploader)t2\nWHERE\n    hot <= 20;\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n\n\n# çè§£2.ä¸ä¼ è§é¢æ°ååçç¨æ· æ¯å¦å­å¨è§é¢æ­æ¾æ°æ»æ¦å20\n\n 1. ç»è®¡è§é¢ä¸ä¼ æå¤çç¨æ·Top10\n\nSELECT\n    uploader,\n    videos\nFROM\n    user_orc\nORDER BY\n    videos DESC\nLIMIT 10;\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n\n 2. è§çæ°å20çè§é¢\n\nSELECT\n    videoid,\n    uploader,\n    views\nFROM\n    video_orc\nORDER BY\n    views DESC\nLIMIT 20;\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n\n 3. èç«ä¸¤è¡¨ï¼ççææ²¡æä»ä»¬ä¸ä¼ ç\n\nSELECT\n    t1.uploader,\n    t2.videoid\nFROM\n    t1\nLEFT JOIN t2 ON\n    t1.uploader = t2.uploader;\n\n\n1\n2\n3\n4\n5\n6\n7\n\n 4. å®æ´è¯­å¥\n\nSELECT\n    t1.uploader,\n    t2.videoid\nFROM\n    (SELECT\n    uploader,\n    videos\nFROM\n    user_orc\nORDER BY\n    videos DESC\nLIMIT 10)t1\nLEFT JOIN (SELECT\n    videoid,\n    uploader,\n    views\nFROM\n    video_orc\nORDER BY\n    views DESC\nLIMIT 20)t2 ON\n    t1.uploader = t2.uploader;\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n\n\n\n# ç»è®¡æ¯ä¸ªç±»å«è§é¢è§çæ°Top10\n\n 1. ä»video_categoryè¡¨æ¥åºæ¯ä¸ªç±»å«è§é¢è§çæ°æå\n\nSELECT\n    cate,\n    videoid,\n    views,\n    RANK() OVER(PARTITION BY cate ORDER BY views DESC) hot\nFROM\n    video_category;\n\n\n1\n2\n3\n4\n5\n6\n7\n\n 2. åæ¯ä¸ªç±»å«çTop10\n\nSELECT\n    cate,\n    videoid,\n    views\nFROM\n    t1\nWHERE\n    hot <= 10;\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n\n 3. å®æ´è¯­å¥\n\nSELECT\n    cate,\n    videoid,\n    views\nFROM\n    (SELECT\n    cate,\n    videoid,\n    views,\n    RANK() OVER(PARTITION BY cate ORDER BY views DESC) hot\nFROM\n    video_category)t1\nWHERE\n    hot <= 10;\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n',normalizedContent:'# hiveå®æ\n\n\n# æä»¶å­æ®µè¯´æ\n\nè§é¢è¡¨\n\nå­æ®µ            å¤æ³¨                      è¯¦ç»æè¿°\nvideo id      è§é¢å¯ä¸idï¼stringï¼          11ä½å­ç¬¦ä¸²\nuploader      è§é¢ä¸ä¼ èï¼stringï¼           ä¸ä¼ è§é¢çç¨æ·åstring\nage           è§é¢å¹´é¾ï¼intï¼               è§é¢å¨å¹³å°ä¸çæ´æ°å¤©\ncategory      è§é¢ç±»å«ï¼array<string>ï¼     ä¸ä¼ è§é¢æå®çè§é¢åç±»\nlength        è§é¢é¿åº¦ï¼intï¼               æ´å½¢æ°å­æ è¯çè§é¢é¿åº¦\nviews         è§çæ¬¡æ°ï¼intï¼               è§é¢è¢«æµè§çæ¬¡æ°\nrate          è§é¢è¯åï¼doubleï¼            æ»¡å5å\nratings       æµéï¼intï¼                 è§é¢çæµéï¼æ´åæ°å­\nconments      è¯è®ºæ°ï¼intï¼                ä¸ä¸ªè§é¢çæ´æ°è¯è®ºæ°\nrelated ids   ç¸å³è§é¢idï¼array<string>ï¼   ç¸å³è§é¢çidï¼æå¤20ä¸ª\n\nç¨æ·è¡¨\n\nå­æ®µ         å¤æ³¨       å­æ®µç±»å\nuploader   ä¸ä¼ èç¨æ·å   string\nvideos     ä¸ä¼ è§é¢æ°    int\nfriends    æåæ°é     int\n\n\n# etl mapper å¤ç\n\nä¹¦åetl mapperç¼ç \n\nå¯¼å¥åæ \n\n<dependencies>\n    <dependency>\n        <groupid>junit</groupid>\n        <artifactid>junit</artifactid>\n        <version>4.12</version>\n    </dependency>\n    <dependency>\n        <groupid>org.apache.logging.log4j</groupid>\n        <artifactid>log4j-slf4j-impl</artifactid>\n        <version>2.12.0</version>\n    </dependency>\n    <dependency>\n        <groupid>org.apache.hadoop</groupid>\n        <artifactid>hadoop-client</artifactid>\n        <version>3.1.3</version>\n    </dependency>\n    \x3c!--        <dependency>--\x3e\n    \x3c!--            <groupid>org.apache.hadoop</groupid>--\x3e\n    \x3c!--            <artifactid>hadoop-client-runtime</artifactid>--\x3e\n    \x3c!--            <version>3.1.3</version>--\x3e\n    \x3c!--        </dependency>--\x3e\n</dependencies>\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n\n\nmapperç±»\n\npackage com.atguigu.etl;\n\nimport org.apache.hadoop.io.longwritable;\nimport org.apache.hadoop.io.nullwritable;\nimport org.apache.hadoop.io.text;\nimport org.apache.hadoop.mapreduce.counter;\nimport org.apache.hadoop.mapreduce.mapper;\n\nimport java.io.ioexception;\n\npublic class etlmapper extends mapper<longwritable, text, text, nullwritable> {\n\n\n    private counter pass;\n    private counter fail;\n\n    private stringbuffer sb = new stringbuffer();\n\n    private text result = new text();\n\n\n    @override\n    protected void setup(mapper<longwritable, text, text, nullwritable>.context context) throws ioexception, interruptedexception {\n        pass = context.getcounter("etl", "pass"); //è®¡æ°å¨\n        fail = context.getcounter("etl", "fail");\n    }\n\n    /**\n     * å°ä¸è¡æ¥å¿è¿è¡å¤ç å­æ®µä¸å¤çæå¼ ç¬¬åä¸ªå­æ®µä¸­çç©ºæ ¼å»æ å°æåç¸å³è§é¢çåå²ç¬¦æ¹ä¸º &\n     *\n     * @param key     è¡å·\n     * @param value   ä¸è¡æ¥å¿\n     * @param context\n     * @throws ioexception\n     * @throws interruptedexception\n     */\n    @override\n    protected void map(longwritable key, text value, mapper<longwritable, text, text, nullwritable>.context context) throws ioexception, interruptedexception {\n        string line = value.tostring();\n\n        string[] field = line.split("\\t");\n\n        //å¤æ­å­æ°æ¯å¦è¶³å¤\n        if (field.length >= 9) {\n            //å¤çæ°æ®\n            //å»æç¬¬åä¸ªå­æ®µçç©ºæ ¼\n            field[3] = field[3].replace(" ", "");  //åæ¬ a & b ==> åæ a&b\n\n            //æ¼æ¥æä¸è¡\n            sb.setlength(0); //æ¸ç©º\n            for (int i = 0; i < field.length; i++) {\n                //å¦æå½åæ¼æ¥çå­æ®µæ¯æä»¬è¿ä¸è¡çæåä¸ä¸ªå­æ®µ åç´æ¥è¿½å \n                if (i == field.length - 1) {\n                    sb.append(field[i]);\n                } else if (i <= 8) { //åé¢çå­æ®µé½æ¯ç¨ \\t éå¼\n                    //å¦ææ¼çæ¯å9ä¸ªå­æ®µ\n                    sb.append(field[i]).append("\\t");\n\n                } else {\n                    //å©ä¸çåå²ç¬¦ä¸º&\n                    sb.append(field[i]).append("&");  //æåä¸ä¸ªå­æ®µä¸ºä¸ä¸ªæ°ç» åç´ ä¹é´ç¨&éå¼\n                }\n\n\n            }\n            result.set(sb.tostring());\n            context.write(result, nullwritable.get()); //åå¥ä¸ä¸æ\n            pass.increment(1);\n        } else {\n            //ä¸¢å¼æ°æ® æ­¤æ°æ®ä¸è¶³9ä¸ªå­æ®µ\n            fail.increment(1);\n        }\n\n\n    }\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n26\n27\n28\n29\n30\n31\n32\n33\n34\n35\n36\n37\n38\n39\n40\n41\n42\n43\n44\n45\n46\n47\n48\n49\n50\n51\n52\n53\n54\n55\n56\n57\n58\n59\n60\n61\n62\n63\n64\n65\n66\n67\n68\n69\n70\n71\n72\n73\n74\n75\n76\n\n\ndriver\n\npackage com.atguigu.etl;\n\nimport org.apache.hadoop.conf.configuration;\nimport org.apache.hadoop.fs.path;\nimport org.apache.hadoop.io.text;\nimport org.apache.hadoop.mapreduce.job;\nimport org.apache.hadoop.mapreduce.lib.input.fileinputformat;\nimport org.apache.hadoop.mapreduce.lib.output.fileoutputformat;\n\nimport java.io.ioexception;\n\npublic class etldriver {\n    public static void main(string[] args) throws ioexception, interruptedexception, classnotfoundexception {\n//        args = new string[]{"d:/input","d:/output"}; //æ¬å°æµè¯\n\n        configuration configuration = new configuration();\n        configuration.set("hive.execution.engine","yarn-tez"); //æ¹ä¸ºtezå¼æ æ¬å°æ¨¡å¼ä¸è¦ä¿®æ¹è¯·ä½¿ç¨é»è®¤å¼æ\n        job job = job.getinstance();\n\n        job.setjarbyclass(etldriver.class);\n\n        job.setmapperclass(etlmapper.class);\n        job.setnumreducetasks(0);\n\n        job.setmapoutputkeyclass(text.class);\n        job.setoutputvalueclass(nullpointerexception.class);\n\n        fileinputformat.setinputpaths(job, new path(args[0]));\n        fileoutputformat.setoutputpath(job, new path(args[1]));\n\n        boolean b = job.waitforcompletion(true);\n        system.exit(b ? 0 : 1);\n    }\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n26\n27\n28\n29\n30\n31\n32\n33\n34\n\n\næåæjaråä¸ä¼ å°éç¾¤ä¸­ è¿è¡èªå®ä¹mapreduce\n\nyarn jar etltool20211110-1.0-snapshot.jar com.atguigu.etl.etldriver /gulivideo/video /gulivideo/video_etl\n\n\n1\n\n\n\n# åå»ºè¡¨\n\n * ååº\n\ncreate database gulivideo;\nuse gulivideo;\n\n\n1\n2\n\n * å¤é¨è¡¨\n\n-- videoè¡¨\ncreate external table video_ori(\n    videoid string, \n    uploader string, \n    age int, \n    category array<string>, \n    length int, \n    views int, \n    rate float, \n    ratings int, \n    comments int,\n    relatedid array<string>)\nrow format delimited fields terminated by "\\t"\ncollection items terminated by "&"\nlocation \'/gulivideo/video_etl\';\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n\n\n-- userè¡¨\ncreate external table user_ori(\n    uploader string,\n    videos int,\n    friends int)\nrow format delimited fields terminated by "\\t" \nlocation \'/gulivideo/user\';\n\n\n1\n2\n3\n4\n5\n6\n7\n\n * åé¨è¡¨\n\n-- video_orcè¡¨\ncreate table video_orc(\n    videoid string, \n    uploader string, \n    age int, \n    category array<string>, \n    length int, \n    views int, \n    rate float, \n    ratings int, \n    comments int,\n    relatedid array<string>)\nstored as orc\ntblproperties("orc.compress"="snappy");\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n\n\n-- user_orcè¡¨\ncreate table user_orc(\n    uploader string,\n    videos int,\n    friends int)\nstored as orc\ntblproperties("orc.compress"="snappy");\n\n\n1\n2\n3\n4\n5\n6\n7\n\n * æå¥æ°æ®\n\n-- ä»å¤é¨è¡¨ä¸­æå¥æ°æ®\ninsert into table video_orc select * from video_ori;\ninsert into table user_orc select * from user_ori;\n\n\n1\n2\n3\n\n\n\n# éæ±å®ç°\n\n\n# ç»è®¡è§é¢è§çæ°top10\n\nä½¿ç¨order byæç§viewså­æ®µåä¸ä¸ªå¨å±æåºå³å¯ï¼åæ¶æä»¬è®¾ç½®åªæ¾ç¤ºå10æ¡ã\n\nselect\n    videoid,\n    views\nfrom\n    video_orc\norder by\n    views desc\nlimit 10;\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n\n\n\n# ç»è®¡è§é¢ç±»å«ç­åº¦top10\n\n 1. å³ç»è®¡æ¯ä¸ªç±»å«æå¤å°ä¸ªè§é¢ï¼æ¾ç¤ºåºåå«è§é¢æå¤çå10ä¸ªç±»å«\n 2. æä»¬éè¦æç§ç±»å«group byèåï¼ç¶åcountç»åçvideoidä¸ªæ°å³å¯ã\n 3. å ä¸ºå½åè¡¨ç»æä¸ºï¼ä¸ä¸ªè§é¢å¯¹åºä¸ä¸ªæå¤ä¸ªç±»å«ãæä»¥å¦æè¦group byç±»å«ï¼éè¦åå°ç±»å«è¿è¡åè½¬è¡(å±å¼)ï¼ç¶ååè¿è¡countå³å¯ã\n\n-- categoryåè½¬è¡\nselect\n    videoid,\n    cate\nfrom\n    video_orc lateral view explode(category) tbl as cate;\n\n\n1\n2\n3\n4\n5\n6\n\n\n-- å¨ä¸è¡¨åºç¡ä¸ï¼ç»è®¡åä¸ªç±»å«æå¤å°è§é¢ï¼å¹¶æåºååå\nselect\n    cate,\n    count(videoid) n\nfrom\n    t1\ngroup by\n    cate\norder by\n    n desc limit 10;\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n\n\nå®æ´è¯­å¥\n\nselect\n    cate,\n    count(videoid) n\nfrom\n    (select\n    videoid,\n    cate\nfrom\n    video_orc lateral view explode(category) tbl as cate)t1\ngroup by\n    cate\norder by\n    n desc limit 10;\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n\n\n\n# ç»è®¡åºè§é¢è§çæ°æé«ç20ä¸ªè§é¢çæå±ç±»å«ä»¥åç±»å«åå«top20è§é¢çä¸ªæ°\n\n 1. ç»è®¡å20è§é¢åç±»å«\n\nselect\n    videoid,\n    views,\n    category\nfrom\n    video_orc\norder by\n    views desc\nlimit 20;\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n\n 2. ææ£ç±»å« åè½¬è¡\n\nselect\n    videoid,\n    cate\nfrom\n    t1 lateral view explode(category) tbl as cate;\n\n\n1\n2\n3\n4\n5\n\n 3. æç§ç±»å«ç»è®¡ä¸ªæ°\n\nselect\n    cate,\n    count(videoid) n\nfrom\n    t2\ngroup by\n    cate\norder by\n    n desc;\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n\n 4. å®æ´è¯­å¥\n\nselect\n    cate,\n    count(videoid) n\nfrom\n    (\n    select\n        videoid,\n        cate\n    from\n        (\n        select\n            videoid,\n            views,\n            category\n        from\n            video_orc\n        order by\n            views desc\n        limit 20 ) t1 lateral view explode(category) tbl as cate ) t2\ngroup by\n    cate\norder by\n    n desc;\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n\n\n\n# ç»è®¡è§é¢è§çæ°top50æå³èè§é¢çæå±ç±»å«æåº\n\n 1. ç»è®¡è§çæ°å50çè§é¢çå³èè§é¢\n\nselect\n    videoid,\n    views,\n    relatedid\nfrom\n    video_orc\norder by\n    views desc\nlimit 50;\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n\n 2. ææ£å³èè§é¢ åè½¬è¡\n\nselect\n    explode(relatedid) videoid\nfrom\n    t1;\n\n\n1\n2\n3\n4\n\n 3. ååè¡¨joinè·åå³èè§é¢çç±»å«\n\nselect\n    distinct t2.videoid,\n    v.category\nfrom\n    t2\njoin video_orc v on\n    t2.videoid = v.videoid;\n\n\n1\n2\n3\n4\n5\n6\n7\n\n 4. ææ£ç±»å«\n\nselect\n    explode(category) cate\nfrom\n    t3;\n\n\n1\n2\n3\n4\n\n 5. ç±»å«ç­åº¦è¡¨ æ¯ä¸ªç±»å«åºç°æ¬¡æ°\n\nselect\n        cate,\n        count(videoid) n\n    from\n        (\n        select\n            videoid,\n            cate\n        from\n            video_orc lateral view explode(category) tbl as cate) g1\n    group by\n        cate\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n\n 6. åç±»å«ç­åº¦è¡¨ joinå¹¶æåº\n\nselect\n    distinct t4.cate,\n    t5.n\nfrom\n    t4\njoin t5 on\n    t4.cate = t5.cate\norder by\n    t5.n desc;\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n\n 7. å®æ´è¯­å¥\n\nselect \n    distinct t4.cate,\n    t5.n\nfrom\n    (\n    select\n        explode(category) cate\n    from\n        (\n        select\n            distinct t2.videoid,\n            v.category\n        from\n            (\n            select\n                explode(relatedid) videoid\n            from\n                (\n                select\n                    videoid,\n                    views,\n                    relatedid\n                from\n                    video_orc\n                order by\n                    views desc\n                limit 50 ) t1 ) t2\n        join video_orc v on\n            t2.videoid = v.videoid ) t3 ) t4\njoin (\n    select\n        cate,\n        count(videoid) n\n    from\n        (\n        select\n            videoid,\n            cate\n        from\n            video_orc lateral view explode(category) tbl as cate) g1\n    group by\n        cate ) t5 on\n    t4.cate = t5.cate\norder by\n    t5.n desc;\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n26\n27\n28\n29\n30\n31\n32\n33\n34\n35\n36\n37\n38\n39\n40\n41\n42\n43\n44\n45\n\n\n\n# ç»è®¡æ¯ä¸ªç±»å«ä¸­çè§é¢ç­åº¦top10ï¼ä»¥musicä¸ºä¾\n\n 1. æè§é¢è¡¨çç±»å«ç¸å¼ï¼çæä¸­é´è¡¨æ ¼video_category\n\ncreate\n    table\n        video_category stored as orc tblproperties("orc.compress"="snappy") as select\n            videoid,\n            uploader,\n            age,\n            cate,\n            length,\n            views,\n            rate,\n            ratings,\n            comments,\n            relatedid\n        from\n            video_orc lateral view explode(category) tbl as cate;\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n\n 2. ä»video_category ç´æ¥æ¥è¯¢musicç±»çå10è§é¢\n\nselect\n    videoid,\n    views\nfrom\n    video_category\nwhere\n    cate ="music"\norder by\n    views desc\nlimit 10;\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n\n\n\n# ç»è®¡æ¯ä¸ªç±»å«ä¸­è§é¢æµétop10ï¼ä»¥musicä¸ºä¾\n\n 1. ä»video_categoryç´æ¥æ¥è¯¢musicç±»çæµéå10è§é¢\n\nselect\n    videoid,\n    ratings\nfrom\n    video_category\nwhere\n    cate ="music"\norder by\n    ratings desc\nlimit 10;\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n\n\n\n# ç»è®¡ä¸ä¼ è§é¢æå¤çç¨æ·top10ä»¥åä»ä»¬ä¸ä¼ çè§çæ¬¡æ°å¨å20çè§é¢\n\n# çè§£1.ä¸ä¼ è§é¢è§çæ°æå¤ååç¨æ·æ¯äººå20æ¡è§é¢\n\n 1. ç»è®¡ä¸ä¼ è§é¢ä¸­ è§çæ°éæå¤§çtop10ä¸ä¼ ç¨æ·\n\nselect\n    uploader,\n    videos\nfrom\n    user_orc\norder by\n    videos desc\nlimit 10;\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n\n 2. åvideo_orcèç«ï¼æ¾åºè¿äºç¨æ·ä¸ä¼ çè§é¢ï¼å¹¶æç§ç­åº¦æå\n\nselect\n    t1.uploader,\n    v.videoid,\n    rank() over(partition by t1.uploader order by v.views desc) hot\nfrom\n    t1\nleft join video_orc v on\n    t1.uploader = v.uploader;\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n\n 3. æ±å20\n\nselect\n    t2.uploader,\n    t2.videoid,\n    t2.hot\nfrom\n    t2\nwhere\n    hot <= 20;\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n\n 4. å®æ´è¯­å¥\n\nselect\n    t2.uploader,\n    t2.videoid,\n    t2.hot\nfrom\n    (select\n    t1.uploader,\n    v.videoid,\n    rank() over(partition by t1.uploader order by v.views desc) hot\nfrom\n    (select\n    uploader,\n    videos\nfrom\n    user_orc\norder by\n    videos desc\nlimit 10)t1\nleft join video_orc v on\n    t1.uploader = v.uploader)t2\nwhere\n    hot <= 20;\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n\n\n# çè§£2.ä¸ä¼ è§é¢æ°ååçç¨æ· æ¯å¦å­å¨è§é¢æ­æ¾æ°æ»æ¦å20\n\n 1. ç»è®¡è§é¢ä¸ä¼ æå¤çç¨æ·top10\n\nselect\n    uploader,\n    videos\nfrom\n    user_orc\norder by\n    videos desc\nlimit 10;\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n\n 2. è§çæ°å20çè§é¢\n\nselect\n    videoid,\n    uploader,\n    views\nfrom\n    video_orc\norder by\n    views desc\nlimit 20;\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n\n 3. èç«ä¸¤è¡¨ï¼ççææ²¡æä»ä»¬ä¸ä¼ ç\n\nselect\n    t1.uploader,\n    t2.videoid\nfrom\n    t1\nleft join t2 on\n    t1.uploader = t2.uploader;\n\n\n1\n2\n3\n4\n5\n6\n7\n\n 4. å®æ´è¯­å¥\n\nselect\n    t1.uploader,\n    t2.videoid\nfrom\n    (select\n    uploader,\n    videos\nfrom\n    user_orc\norder by\n    videos desc\nlimit 10)t1\nleft join (select\n    videoid,\n    uploader,\n    views\nfrom\n    video_orc\norder by\n    views desc\nlimit 20)t2 on\n    t1.uploader = t2.uploader;\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n\n\n\n# ç»è®¡æ¯ä¸ªç±»å«è§é¢è§çæ°top10\n\n 1. ä»video_categoryè¡¨æ¥åºæ¯ä¸ªç±»å«è§é¢è§çæ°æå\n\nselect\n    cate,\n    videoid,\n    views,\n    rank() over(partition by cate order by views desc) hot\nfrom\n    video_category;\n\n\n1\n2\n3\n4\n5\n6\n7\n\n 2. åæ¯ä¸ªç±»å«çtop10\n\nselect\n    cate,\n    videoid,\n    views\nfrom\n    t1\nwhere\n    hot <= 10;\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n\n 3. å®æ´è¯­å¥\n\nselect\n    cate,\n    videoid,\n    views\nfrom\n    (select\n    cate,\n    videoid,\n    views,\n    rank() over(partition by cate order by views desc) hot\nfrom\n    video_category)t1\nwhere\n    hot <= 10;\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n',charsets:{cjk:!0},lastUpdated:"2022/03/18, 09:00:59",lastUpdatedTimestamp:1647565259e3},{title:"Flumeå®è£",frontmatter:{title:"Flumeå®è£",date:"2022-03-17T22:07:46.000Z",permalink:"/pages/e462b7/",categories:["å¤§æ°æ®","Flume"],tags:[null]},regularPath:"/%E5%A4%A7%E6%95%B0%E6%8D%AE/04.Flume/03.Flume%E5%AE%89%E8%A3%85.html",relativePath:"å¤§æ°æ®/04.Flume/03.Flumeå®è£.md",key:"v-9ed6a6cc",path:"/pages/e462b7/",headers:[{level:2,title:"agentéç½®æä»¶è§å",slug:"agentéç½®æä»¶è§å",normalizedTitle:"agentéç½®æä»¶è§å",charIndex:686}],headersStr:"agentéç½®æä»¶è§å",content:"# Flumeå®è£\n\nFlumeå®ç½å°åï¼http://flume.apache.org/\n\nææ¡£æ¥çå°åï¼http://flume.apache.org/FlumeUserGuide.html\n\nä¸è½½å°åï¼http://archive.apache.org/dist/flume/\n\nFlumeåä¸¤ä¸ªä¸ªå¤§çæ¬ åå«æ¯ 0.9ä¹åå0.9ä¹å\n\n0.9ä¹å ç§°ä¸º flume og\n\n0.9ä¹å ç§°ä¸º flume ng\n\ntar -zxvf /opt/software/apache-flume-1.9.0-bin.tar.gz -C /opt/module/\nmv /opt/module/apache-flume-1.9.0-bin /opt/module/flume\n#å°libæä»¶å¤¹ä¸çguava-11.0.2.jarå é¤ä»¥å¼å®¹Hadoop 3.1.3\nrm /opt/module/flume/lib/guava-11.0.2.jar\nsudo vim /etc/profile.d/my_env.sh \n\n#FLUME_HOME\nexport FLUME_HOME=/opt/module/flume\nexport PATH=$PATH:$FLUME_HOME/bin\n\nsource /etc/profile.d/my_env.sh \n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n\n\nåæ­¥\n\ncd /opt/module/\nxsync flume/\nsudo xsync /etc/profile.d/my_env.sh \n\n\n1\n2\n3\n\n\n\n# agentéç½®æä»¶è§å\n\nå®æ¹æåhttp://flume.apache.org/FlumeUserGuide.html\n\n 1. éè¦å®agentçåå­,å¹¶ä¸å¯¹source channel sink å®ä¹å¥½åå­\n 2. å¯¹source channel sink ææå·ä½çç±»ååéç½®\n 3. ææsource channel sink ä¸èä¹é´çä¸ä¸ªå³ç³»",normalizedContent:"# flumeå®è£\n\nflumeå®ç½å°åï¼http://flume.apache.org/\n\nææ¡£æ¥çå°åï¼http://flume.apache.org/flumeuserguide.html\n\nä¸è½½å°åï¼http://archive.apache.org/dist/flume/\n\nflumeåä¸¤ä¸ªä¸ªå¤§çæ¬ åå«æ¯ 0.9ä¹åå0.9ä¹å\n\n0.9ä¹å ç§°ä¸º flume og\n\n0.9ä¹å ç§°ä¸º flume ng\n\ntar -zxvf /opt/software/apache-flume-1.9.0-bin.tar.gz -c /opt/module/\nmv /opt/module/apache-flume-1.9.0-bin /opt/module/flume\n#å°libæä»¶å¤¹ä¸çguava-11.0.2.jarå é¤ä»¥å¼å®¹hadoop 3.1.3\nrm /opt/module/flume/lib/guava-11.0.2.jar\nsudo vim /etc/profile.d/my_env.sh \n\n#flume_home\nexport flume_home=/opt/module/flume\nexport path=$path:$flume_home/bin\n\nsource /etc/profile.d/my_env.sh \n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n\n\nåæ­¥\n\ncd /opt/module/\nxsync flume/\nsudo xsync /etc/profile.d/my_env.sh \n\n\n1\n2\n3\n\n\n\n# agentéç½®æä»¶è§å\n\nå®æ¹æåhttp://flume.apache.org/flumeuserguide.html\n\n 1. éè¦å®agentçåå­,å¹¶ä¸å¯¹source channel sink å®ä¹å¥½åå­\n 2. å¯¹source channel sink ææå·ä½çç±»ååéç½®\n 3. ææsource channel sink ä¸èä¹é´çä¸ä¸ªå³ç³»",charsets:{cjk:!0},lastUpdated:"2022/03/18, 07:01:11",lastUpdatedTimestamp:1647558071e3},{title:"å¥é¨æ¡ä¾",frontmatter:{title:"å¥é¨æ¡ä¾",date:"2022-03-17T22:07:46.000Z",permalink:"/pages/c12064/",categories:["å¤§æ°æ®","Flume"],tags:[null]},regularPath:"/%E5%A4%A7%E6%95%B0%E6%8D%AE/04.Flume/04.%E5%85%A5%E9%97%A8%E6%A1%88%E4%BE%8B.html",relativePath:"å¤§æ°æ®/04.Flume/04.å¥é¨æ¡ä¾.md",key:"v-55b2d0b0",path:"/pages/c12064/",headers:[{level:2,title:"netcatçåéåçå¬",slug:"netcatçåéåçå¬",normalizedTitle:"netcatçåéåçå¬",charIndex:11},{level:2,title:"çæ§ç«¯å£æ°æ®å¨æ§å¶å°è¾åº å®æ¹æ¡ä¾ netcat",slug:"çæ§ç«¯å£æ°æ®å¨æ§å¶å°è¾åº-å®æ¹æ¡ä¾-netcat",normalizedTitle:"çæ§ç«¯å£æ°æ®å¨æ§å¶å°è¾åº å®æ¹æ¡ä¾ netcat",charIndex:280},{level:2,title:"éç½®log4j.properties",slug:"éç½®log4j-properties",normalizedTitle:"éç½®log4j.properties",charIndex:1597},{level:2,title:"å®æ¶çæ§åä¸ªè¿½å æä»¶å°HDFSæ¡ä¾ exec",slug:"å®æ¶çæ§åä¸ªè¿½å æä»¶å°hdfsæ¡ä¾-exec",normalizedTitle:"å®æ¶çæ§åä¸ªè¿½å æä»¶å°hdfsæ¡ä¾ exec",charIndex:1825},{level:2,title:"å®æ¶çæ§ç®å½ä¸å¤ä¸ªæ°æä»¶å°HDFS spooldir",slug:"å®æ¶çæ§ç®å½ä¸å¤ä¸ªæ°æä»¶å°hdfs-spooldir",normalizedTitle:"å®æ¶çæ§ç®å½ä¸å¤ä¸ªæ°æä»¶å°hdfs spooldir",charIndex:3445},{level:2,title:"å®æ¶çæ§ç®å½ä¸çå¤ä¸ªè¿½å æä»¶ taildir",slug:"å®æ¶çæ§ç®å½ä¸çå¤ä¸ªè¿½å æä»¶-taildir",normalizedTitle:"å®æ¶çæ§ç®å½ä¸çå¤ä¸ªè¿½å æä»¶ taildir",charIndex:5278}],headersStr:"netcatçåéåçå¬ çæ§ç«¯å£æ°æ®å¨æ§å¶å°è¾åº å®æ¹æ¡ä¾ netcat éç½®log4j.properties å®æ¶çæ§åä¸ªè¿½å æä»¶å°HDFSæ¡ä¾ exec å®æ¶çæ§ç®å½ä¸å¤ä¸ªæ°æä»¶å°HDFS spooldir å®æ¶çæ§ç®å½ä¸çå¤ä¸ªè¿½å æä»¶ taildir",content:"# å¥é¨æ¡ä¾\n\n\n# netcatçåéåçå¬\n\nå®è£\n\nsudo yum install -y nc #å®è£netcatå·¥å·\nsudo netstat -tunlp | grep 44444 #å¤æ­44444ç«¯å£æ¯å¦è¢«å ç¨\n\n\n1\n2\n\n\nä½¿ç¨ncåéåæ¥åæ¶æ¯ æ­¤æä½å¨ä¸ä¸ªæºå¨ä¸ 2ä¸ªsshçªå£ä¸­æä½\n\næ¥å\n\nnc -l 44444  # çå¬44444ç«¯å£\n\n\n1\n\n\nåé\n\nnc hadoop102 44444 #åé\nè¾å¥åå®¹\n\n\n1\n2\n\n\nä¹å¯ä»¥å¨å¶ä»æºå¨åæå®ip ç«¯å£ åéæ¶æ¯\n\nçå¬ååéçç«¯å£å¿é¡»ä¸è´\n\né»è®¤ä¸ºtcpåè®®\n\n\n# çæ§ç«¯å£æ°æ®å¨æ§å¶å°è¾åº å®æ¹æ¡ä¾ netcat\n\n#r1:è¡¨ç¤ºa1çSourceçåç§° å¤ä¸ªåç§°ä¹åç©ºæ ¼éå¼\na1.sources = r1  \n#k1:è¡¨ç¤ºa1çSinkåç§°\na1.sinks = k1\n#c1:è¡¨ç¤ºchannelsçåç§°\na1.channels = c1 \n\n# a1çè¾å¥æºç±»åä¸ºnetcatç«¯å£ç±»å\na1.sources.r1.type = netcat \n# a1ççå¬å°å\na1.sources.r1.bind = localhost \n# a1ççå¬ç«¯å£\na1.sources.r1.port = 44444 \n\n# a1çè¾åºç®çå°æ¯æ§å¶å°loggerç±»å\na1.sinks.k1.type = logger  \n\n# a1çchannelç±»åæ¯memoryåå­å\na1.channels.c1.type = memory \n# a1çchannelæ»å®¹é1000ä¸ªevent é»è®¤ä¸º100\na1.channels.c1.capacity = 1000 \n# a1çchannelä¼ è¾æ¶æ¶éå°äº100æ¡eventä»¥ååå»æäº¤äºå¡\na1.channels.c1.transactionCapacity = 100 \n\n\n#å£°æsource sink å channel ä¹é´çå³ç³»\n#å°r1åc1è¿æ¥èµ·æ¥\na1.sources.r1.channels = c1 \n#å°k1åc1è¿æ¥èµ·æ¥ æ³¨æä¸ä¸ªsinkåªè½å¯¹åºä¸ä¸ªchannel\na1.sinks.k1.channel = c1 \n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n26\n27\n28\n29\n30\n\n\n\n\nå¨/opt/module/flumeä¸å¯å¨\n\nflume-ng agent --conf conf/ --name a1 --conf-file datas/netcatsource_loggersink.conf -Dflume.root.logger=INFO,console\n#æ\nflume-ng agent -c conf/ -n a1 -f job/flume-netcat-logger.conf -Dflume.root.logger=INFO,console\n\n\n1\n2\n3\n\n * --conf/-cï¼è¡¨ç¤ºéç½®æä»¶å­å¨å¨conf/ç®å½\n * --name/-nï¼è¡¨ç¤ºç»agentèµ·åä¸ºa1\n * --conf-file/-fï¼flumeæ¬æ¬¡å¯å¨è¯»åçéç½®æä»¶æ¯å¨jobæä»¶å¤¹ä¸çflume-telnet.confæä»¶ã\n * -Dflume.root.logger=INFO,console ï¼-Dè¡¨ç¤ºflumeè¿è¡æ¶å¨æä¿®æ¹flume.root.loggeråæ°å±æ§å¼ï¼å¹¶å°æ§å¶å°æ¥å¿æå°çº§å«è®¾ç½®ä¸ºINFOçº§å«ãæ¥å¿çº§å«åæ¬:logãinfoãwarnãerrorã\n\nå¨å¦å¤ä¸ä¸ªsshçªå£ä¸­ä½¿ç¨netcatåéæ¶æ¯\n\nnc localhost 44444 #å°åä¸ºéç½®æä»¶ä¸­éç½®çå°å\n#è¾å¥æå­\n\n\n1\n2\n\n\n\n# éç½®log4j.properties\n\nvim /opt/module/flume/conf/log4j.properties \n\n#flume.root.logger=DEBUG,console\nflume.root.logger=INFO,LOGFILE #æ¥å¿çº§å« å è¾åºä½ç½®\nflume.log.dir=./logs #logæä»¶å­æ¾è·¯å¾\nflume.log.file=flume.log  #logæä»¶å\n\n\n1\n2\n3\n4\n5\n6\n\n\n\n# å®æ¶çæ§åä¸ªè¿½å æä»¶å°HDFSæ¡ä¾ exec\n\n\n\nåå»ºæ¡ä¾éç½®æä»¶\n\ncd /opt/module/flume/datas\ntouch 123.log\nvim execsource_hdfssink.conf\n\n\n1\n2\n3\n\n\na2.sources = r2\na2.sinks = k2\na2.channels = c2\n\n# çå¬æä»¶ç±»å\na2.sources.r2.type = exec\n# çå¬å½ä»¤\na2.sources.r2.command = tail -F /opt/module/flume/datas/123.log\n\n#HDFS Sink\na2.sinks.k2.type = hdfs\n#å¦æè¦ä½¿ç¨æ¶é´è½¬ä¹åºå åéè¦å¼å¯æ¬å°æ¶é´æ³ æè å¨eventä¸­headersä¸­å¸¦æ¶é´æ³\na2.sinks.k2.hdfs.path = hdfs://hadoop102:8020/flume/%Y%m%d/%H\n#ä¸ä¼ æä»¶çåç¼\na2.sinks.k2.hdfs.filePrefix = logs-\n\n#ä¸é¢3ä¸ªéç½®å®ä¹äºå¤ä¹æ¶é´åä½åå»ºä¸ä¸ªæ°çæä»¶å¤¹\n#æ¯å¦æç§æ¶é´æ»å¨æä»¶å¤¹\na2.sinks.k2.hdfs.round = true\n#å¤å°æ¶é´åä½åå»ºä¸ä¸ªæ°çæä»¶å¤¹\na2.sinks.k2.hdfs.roundValue = 1\n#éæ°å®ä¹æ¶é´åä½\na2.sinks.k2.hdfs.roundUnit = hour\n\n\n#æ¯å¦ä½¿ç¨æ¬å°æ¶é´æ³\na2.sinks.k2.hdfs.useLocalTimeStamp = true\n\n\n#ç§¯æå¤å°ä¸ªEventæflushå°HDFSä¸æ¬¡\na2.sinks.k2.hdfs.batchSize = 100\n#è®¾ç½®æä»¶ç±»åï¼å¯æ¯æåç¼©\na2.sinks.k2.hdfs.fileType = DataStream\n#å¤ä¹çæä¸ä¸ªæ°çæä»¶ ç§ä¸ºåä½\na2.sinks.k2.hdfs.rollInterval = 60\n#è®¾ç½®æ¯ä¸ªæä»¶çæ»å¨å¤§å° å­èåä½\na2.sinks.k2.hdfs.rollSize = 134217700\n#æä»¶çæ»å¨ä¸Eventæ°éæ å³ 0ä¸ºç¦ç¨ ä¹å¯ä»¥è®¾ç½®ä¸ºæå®æ° å½Eventå°è¾¾ä¸å®æ°éåæä»¶æ»å¨\na2.sinks.k2.hdfs.rollCount = 0\n\n# Use a channel which buffers events in memory\na2.channels.c2.type = memory\na2.channels.c2.capacity = 1000\na2.channels.c2.transactionCapacity = 100\n\n\na2.sources.r2.channels = c2\na2.sinks.k2.channel = c2\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n26\n27\n28\n29\n30\n31\n32\n33\n34\n35\n36\n37\n38\n39\n40\n41\n42\n43\n44\n45\n46\n47\n48\n\n\nå¯å¨\n\ncd ..\nflume-ng agent -n a2 -c conf/ -f datas/execsource_hdfssink.conf -Dflume.root.logger=INFO,console\necho 123 >> /opt/module/flume/datas/123.log #åå¥åå®¹æµè¯ hdfsä¸æ¯å¦åå»ºæä»¶\n\necho ccc >> /opt/module/flume/datas/123.log #ç­å¾60s è¿½åå®¹ æ¯å¦æ»å¨æä»¶çææ°çééæä»¶\n\n\n1\n2\n3\n4\n5\n\n\n\n\nå½åæ­£å¨åå¥çæä»¶ä¸ºtmp åªææ»å¨æä»¶åæ¬¡ç¼å­æä»¶ä¼ä¿®æ¹ä¸ºæ®éæä»¶\n\n\n# å®æ¶çæ§ç®å½ä¸å¤ä¸ªæ°æä»¶å°HDFS spooldir\n\n\n\ncd /opt/module/flume/\nmkdir upload\nvim datas/flume-dir-hdfs.conf\n\n\n1\n2\n3\n\n\néç½®æä»¶\n\na3.sources = r3\na3.sinks = k3\na3.channels = c3\n\n# Describe/configure the source\n# çå¬ä¸ä¸ªæå®çæä»¶å¤¹ èªå¨æ¶éç®å½ä¸­çåå®¹\na3.sources.r3.type = spooldir\n#ç®å½ ç®å½ä¸çæä»¶åä¸è½ç¸å å¦åæå¼å¸¸\na3.sources.r3.spoolDir = /opt/module/flume/upload\n#å¦æç®å½ä¸çæä»¶åè¯»åå®å æä»¶åç¸å å¯ä»¥éåè¯»åå®åå é¤æä»¶  é»è®¤ä¸ºå åç¼å\n#è®¾ç½®ä¸º immediate è¯»åå®åå é¤ é»è®¤å¼ä¸º never ä¿ç\n#a3.sources.r3.deletePolicy = immediate\n#è¢«è¯»åå®æ¯åçæä»¶ åç¼åè¢«æ´æ¹ä¸º    é»è®¤å¼ä¸º.COMPLETED\na3.sources.r3.fileSuffix = .COMPLETED\n\na3.sources.r3.fileHeader = true\n#å¿½ç¥ææä»¥.tmpç»å°¾çæä»¶ï¼ä¸ä¸ä¼ \na3.sources.r3.ignorePattern = ([^ ]*\\.tmp)\n\n# Describe the sink\na3.sinks.k3.type = hdfs\na3.sinks.k3.hdfs.path = hdfs://hadoop102:8020/flume2/upload/%Y%m%d/%H\n#ä¸ä¼ æä»¶çåç¼\na3.sinks.k3.hdfs.filePrefix = upload-\n#æ¯å¦æç§æ¶é´æ»å¨æä»¶å¤¹\na3.sinks.k3.hdfs.round = true\n#å¤å°æ¶é´åä½åå»ºä¸ä¸ªæ°çæä»¶å¤¹\na3.sinks.k3.hdfs.roundValue = 1\n#éæ°å®ä¹æ¶é´åä½\na3.sinks.k3.hdfs.roundUnit = hour\n#æ¯å¦ä½¿ç¨æ¬å°æ¶é´æ³\na3.sinks.k3.hdfs.useLocalTimeStamp = true\n#ç§¯æå¤å°ä¸ªEventæflushå°HDFSä¸æ¬¡\na3.sinks.k3.hdfs.batchSize = 100\n#è®¾ç½®æä»¶ç±»åï¼å¯æ¯æåç¼©\na3.sinks.k3.hdfs.fileType = DataStream\n#å¤ä¹çæä¸ä¸ªæ°çæä»¶\na3.sinks.k3.hdfs.rollInterval = 60\n#è®¾ç½®æ¯ä¸ªæä»¶çæ»å¨å¤§å°å¤§æ¦æ¯128M\na3.sinks.k3.hdfs.rollSize = 134217700\n#æä»¶çæ»å¨ä¸Eventæ°éæ å³\na3.sinks.k3.hdfs.rollCount = 0\n\n# Use a channel which buffers events in memory\na3.channels.c3.type = memory\na3.channels.c3.capacity = 1000\na3.channels.c3.transactionCapacity = 100\n\n# Bind the source and sink to the channel\na3.sources.r3.channels = c3\na3.sinks.k3.channel = c3\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n26\n27\n28\n29\n30\n31\n32\n33\n34\n35\n36\n37\n38\n39\n40\n41\n42\n43\n44\n45\n46\n47\n48\n49\n50\n51\n\n\nå¯å¨\n\nflume-ng agent -n a3 -c conf/ -f datas/flume-dir-hdfs.conf -Dflume.root.logger=INFO,console\n\n\n1\n\n\nåå»ºææ¬æä»¶åå¥åå®¹ ç§»å¨å°uploadç®å½ä¸\n\ncd /opt/module/flume/\ntouch 123.log\necho eee >> 123.log \ncp 123.log upload/\n\n\n1\n2\n3\n4\n\n\n\n# å®æ¶çæ§ç®å½ä¸çå¤ä¸ªè¿½å æä»¶ taildir\n\n\n\næä»¬ä½¿ç¨exec è¯»ååä¸ªæä»¶è¿½å åå®¹æ¶ å¦æflumeææåéæ°å¯å¨ ä¼ææä»¶ä»å¤´å°å°¾éæ°è¯»åä¸é è¿æ¯æä»¬ä¸å¸æç ètaildirè¯»åå¤ä¸ªæä»¶è¿½å åå®¹æ¶ ä¼å¨positionFile æå®çjsonæä»¶ä¸ ä¿çè¯»åè¿çæä»¶ä½ç½® å½flumeææéæ°ä¸çº¿å è¯»åjsonæä»¶è®°å½çä½ç½® ç»§ç»­çæ§è¯»ååå®¹\n\ncd /opt/module/flume/\nmkdir files\nvim datas/flume-taildir-hdfs.conf\n\n\n1\n2\n3\n\n\néç½®æä»¶\n\na3.sources = r3\na3.sinks = k3\na3.channels = c3\n\n# Describe/configure the source\n#sourcesç±»å\na3.sources.r3.type = TAILDIR\n#taildirä¿å­è¯»åæä»¶åå®¹çä½ç½® å¦æåçå®æºä¼ä»è¯¥æä»¶ä¸­è¯»åä¸æ¬¡è¯»åå°ä½ç½®  é»è®¤ä¸º~/.flume/taildir_position.json\na3.sources.r3.positionFile = /opt/module/flume/tail_dir.json\n#å®ä¹ç» ä¸åç» æåä¸åæä»¶ å¤ä¸ªç»ä¹é´ç©ºæ ¼éå¼\na3.sources.r3.filegroups = f1 f2\n#f1ç» çæ§æå®ç®å½ä¸åå­åå«fileçæä»¶ æ­£åè¡¨è¾¾å¼\na3.sources.r3.filegroups.f1 = /opt/module/flume/files/.*file.*\n#f2ç» çæ§æå®ç®å½ä¸åå­åå«çlogçæä»¶\na3.sources.r3.filegroups.f2 = /opt/module/flume/files/.*log.*\n\n# Describe the sink\na3.sinks.k3.type = hdfs\na3.sinks.k3.hdfs.path = hdfs://hadoop102:8020/flume/upload2/%Y%m%d/%H\n#ä¸ä¼ æä»¶çåç¼\na3.sinks.k3.hdfs.filePrefix = upload-\n#æ¯å¦æç§æ¶é´æ»å¨æä»¶å¤¹\na3.sinks.k3.hdfs.round = true\n#å¤å°æ¶é´åä½åå»ºä¸ä¸ªæ°çæä»¶å¤¹\na3.sinks.k3.hdfs.roundValue = 1\n#éæ°å®ä¹æ¶é´åä½\na3.sinks.k3.hdfs.roundUnit = hour\n#æ¯å¦ä½¿ç¨æ¬å°æ¶é´æ³\na3.sinks.k3.hdfs.useLocalTimeStamp = true\n#ç§¯æå¤å°ä¸ªEventæflushå°HDFSä¸æ¬¡\na3.sinks.k3.hdfs.batchSize = 100\n#è®¾ç½®æä»¶ç±»åï¼å¯æ¯æåç¼©\na3.sinks.k3.hdfs.fileType = DataStream\n#å¤ä¹çæä¸ä¸ªæ°çæä»¶\na3.sinks.k3.hdfs.rollInterval = 60\n#è®¾ç½®æ¯ä¸ªæä»¶çæ»å¨å¤§å°å¤§æ¦æ¯128M\na3.sinks.k3.hdfs.rollSize = 134217700\n#æä»¶çæ»å¨ä¸Eventæ°éæ å³\na3.sinks.k3.hdfs.rollCount = 0\n\n# Use a channel which buffers events in memory\na3.channels.c3.type = memory\na3.channels.c3.capacity = 1000\na3.channels.c3.transactionCapacity = 100\n\n# Bind the source and sink to the channel\na3.sources.r3.channels = c3\na3.sinks.k3.channel = c3\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n26\n27\n28\n29\n30\n31\n32\n33\n34\n35\n36\n37\n38\n39\n40\n41\n42\n43\n44\n45\n46\n47\n48\n\n\nå¯å¨\n\nflume-ng agent -n a3 -c conf/ -f datas/flume-taildir-hdfs.conf -Dflume.root.logger=INFO,console\n\n\n1\n\n\næµè¯\n\ncd files\necho hello >> file1.txt\necho atguigu >> log.txt\n\n#å³é­flume éæ°å¯å¨ æ¥çæ¯å¦è¿è¯»å aaa å bbb å­æ®µ\n\n\n1\n2\n3\n4\n5\n",normalizedContent:"# å¥é¨æ¡ä¾\n\n\n# netcatçåéåçå¬\n\nå®è£\n\nsudo yum install -y nc #å®è£netcatå·¥å·\nsudo netstat -tunlp | grep 44444 #å¤æ­44444ç«¯å£æ¯å¦è¢«å ç¨\n\n\n1\n2\n\n\nä½¿ç¨ncåéåæ¥åæ¶æ¯ æ­¤æä½å¨ä¸ä¸ªæºå¨ä¸ 2ä¸ªsshçªå£ä¸­æä½\n\næ¥å\n\nnc -l 44444  # çå¬44444ç«¯å£\n\n\n1\n\n\nåé\n\nnc hadoop102 44444 #åé\nè¾å¥åå®¹\n\n\n1\n2\n\n\nä¹å¯ä»¥å¨å¶ä»æºå¨åæå®ip ç«¯å£ åéæ¶æ¯\n\nçå¬ååéçç«¯å£å¿é¡»ä¸è´\n\né»è®¤ä¸ºtcpåè®®\n\n\n# çæ§ç«¯å£æ°æ®å¨æ§å¶å°è¾åº å®æ¹æ¡ä¾ netcat\n\n#r1:è¡¨ç¤ºa1çsourceçåç§° å¤ä¸ªåç§°ä¹åç©ºæ ¼éå¼\na1.sources = r1  \n#k1:è¡¨ç¤ºa1çsinkåç§°\na1.sinks = k1\n#c1:è¡¨ç¤ºchannelsçåç§°\na1.channels = c1 \n\n# a1çè¾å¥æºç±»åä¸ºnetcatç«¯å£ç±»å\na1.sources.r1.type = netcat \n# a1ççå¬å°å\na1.sources.r1.bind = localhost \n# a1ççå¬ç«¯å£\na1.sources.r1.port = 44444 \n\n# a1çè¾åºç®çå°æ¯æ§å¶å°loggerç±»å\na1.sinks.k1.type = logger  \n\n# a1çchannelç±»åæ¯memoryåå­å\na1.channels.c1.type = memory \n# a1çchannelæ»å®¹é1000ä¸ªevent é»è®¤ä¸º100\na1.channels.c1.capacity = 1000 \n# a1çchannelä¼ è¾æ¶æ¶éå°äº100æ¡eventä»¥ååå»æäº¤äºå¡\na1.channels.c1.transactioncapacity = 100 \n\n\n#å£°æsource sink å channel ä¹é´çå³ç³»\n#å°r1åc1è¿æ¥èµ·æ¥\na1.sources.r1.channels = c1 \n#å°k1åc1è¿æ¥èµ·æ¥ æ³¨æä¸ä¸ªsinkåªè½å¯¹åºä¸ä¸ªchannel\na1.sinks.k1.channel = c1 \n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n26\n27\n28\n29\n30\n\n\n\n\nå¨/opt/module/flumeä¸å¯å¨\n\nflume-ng agent --conf conf/ --name a1 --conf-file datas/netcatsource_loggersink.conf -dflume.root.logger=info,console\n#æ\nflume-ng agent -c conf/ -n a1 -f job/flume-netcat-logger.conf -dflume.root.logger=info,console\n\n\n1\n2\n3\n\n * --conf/-cï¼è¡¨ç¤ºéç½®æä»¶å­å¨å¨conf/ç®å½\n * --name/-nï¼è¡¨ç¤ºç»agentèµ·åä¸ºa1\n * --conf-file/-fï¼flumeæ¬æ¬¡å¯å¨è¯»åçéç½®æä»¶æ¯å¨jobæä»¶å¤¹ä¸çflume-telnet.confæä»¶ã\n * -dflume.root.logger=info,console ï¼-dè¡¨ç¤ºflumeè¿è¡æ¶å¨æä¿®æ¹flume.root.loggeråæ°å±æ§å¼ï¼å¹¶å°æ§å¶å°æ¥å¿æå°çº§å«è®¾ç½®ä¸ºinfoçº§å«ãæ¥å¿çº§å«åæ¬:logãinfoãwarnãerrorã\n\nå¨å¦å¤ä¸ä¸ªsshçªå£ä¸­ä½¿ç¨netcatåéæ¶æ¯\n\nnc localhost 44444 #å°åä¸ºéç½®æä»¶ä¸­éç½®çå°å\n#è¾å¥æå­\n\n\n1\n2\n\n\n\n# éç½®log4j.properties\n\nvim /opt/module/flume/conf/log4j.properties \n\n#flume.root.logger=debug,console\nflume.root.logger=info,logfile #æ¥å¿çº§å« å è¾åºä½ç½®\nflume.log.dir=./logs #logæä»¶å­æ¾è·¯å¾\nflume.log.file=flume.log  #logæä»¶å\n\n\n1\n2\n3\n4\n5\n6\n\n\n\n# å®æ¶çæ§åä¸ªè¿½å æä»¶å°hdfsæ¡ä¾ exec\n\n\n\nåå»ºæ¡ä¾éç½®æä»¶\n\ncd /opt/module/flume/datas\ntouch 123.log\nvim execsource_hdfssink.conf\n\n\n1\n2\n3\n\n\na2.sources = r2\na2.sinks = k2\na2.channels = c2\n\n# çå¬æä»¶ç±»å\na2.sources.r2.type = exec\n# çå¬å½ä»¤\na2.sources.r2.command = tail -f /opt/module/flume/datas/123.log\n\n#hdfs sink\na2.sinks.k2.type = hdfs\n#å¦æè¦ä½¿ç¨æ¶é´è½¬ä¹åºå åéè¦å¼å¯æ¬å°æ¶é´æ³ æè å¨eventä¸­headersä¸­å¸¦æ¶é´æ³\na2.sinks.k2.hdfs.path = hdfs://hadoop102:8020/flume/%y%m%d/%h\n#ä¸ä¼ æä»¶çåç¼\na2.sinks.k2.hdfs.fileprefix = logs-\n\n#ä¸é¢3ä¸ªéç½®å®ä¹äºå¤ä¹æ¶é´åä½åå»ºä¸ä¸ªæ°çæä»¶å¤¹\n#æ¯å¦æç§æ¶é´æ»å¨æä»¶å¤¹\na2.sinks.k2.hdfs.round = true\n#å¤å°æ¶é´åä½åå»ºä¸ä¸ªæ°çæä»¶å¤¹\na2.sinks.k2.hdfs.roundvalue = 1\n#éæ°å®ä¹æ¶é´åä½\na2.sinks.k2.hdfs.roundunit = hour\n\n\n#æ¯å¦ä½¿ç¨æ¬å°æ¶é´æ³\na2.sinks.k2.hdfs.uselocaltimestamp = true\n\n\n#ç§¯æå¤å°ä¸ªeventæflushå°hdfsä¸æ¬¡\na2.sinks.k2.hdfs.batchsize = 100\n#è®¾ç½®æä»¶ç±»åï¼å¯æ¯æåç¼©\na2.sinks.k2.hdfs.filetype = datastream\n#å¤ä¹çæä¸ä¸ªæ°çæä»¶ ç§ä¸ºåä½\na2.sinks.k2.hdfs.rollinterval = 60\n#è®¾ç½®æ¯ä¸ªæä»¶çæ»å¨å¤§å° å­èåä½\na2.sinks.k2.hdfs.rollsize = 134217700\n#æä»¶çæ»å¨ä¸eventæ°éæ å³ 0ä¸ºç¦ç¨ ä¹å¯ä»¥è®¾ç½®ä¸ºæå®æ° å½eventå°è¾¾ä¸å®æ°éåæä»¶æ»å¨\na2.sinks.k2.hdfs.rollcount = 0\n\n# use a channel which buffers events in memory\na2.channels.c2.type = memory\na2.channels.c2.capacity = 1000\na2.channels.c2.transactioncapacity = 100\n\n\na2.sources.r2.channels = c2\na2.sinks.k2.channel = c2\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n26\n27\n28\n29\n30\n31\n32\n33\n34\n35\n36\n37\n38\n39\n40\n41\n42\n43\n44\n45\n46\n47\n48\n\n\nå¯å¨\n\ncd ..\nflume-ng agent -n a2 -c conf/ -f datas/execsource_hdfssink.conf -dflume.root.logger=info,console\necho 123 >> /opt/module/flume/datas/123.log #åå¥åå®¹æµè¯ hdfsä¸æ¯å¦åå»ºæä»¶\n\necho ccc >> /opt/module/flume/datas/123.log #ç­å¾60s è¿½åå®¹ æ¯å¦æ»å¨æä»¶çææ°çééæä»¶\n\n\n1\n2\n3\n4\n5\n\n\n\n\nå½åæ­£å¨åå¥çæä»¶ä¸ºtmp åªææ»å¨æä»¶åæ¬¡ç¼å­æä»¶ä¼ä¿®æ¹ä¸ºæ®éæä»¶\n\n\n# å®æ¶çæ§ç®å½ä¸å¤ä¸ªæ°æä»¶å°hdfs spooldir\n\n\n\ncd /opt/module/flume/\nmkdir upload\nvim datas/flume-dir-hdfs.conf\n\n\n1\n2\n3\n\n\néç½®æä»¶\n\na3.sources = r3\na3.sinks = k3\na3.channels = c3\n\n# describe/configure the source\n# çå¬ä¸ä¸ªæå®çæä»¶å¤¹ èªå¨æ¶éç®å½ä¸­çåå®¹\na3.sources.r3.type = spooldir\n#ç®å½ ç®å½ä¸çæä»¶åä¸è½ç¸å å¦åæå¼å¸¸\na3.sources.r3.spooldir = /opt/module/flume/upload\n#å¦æç®å½ä¸çæä»¶åè¯»åå®å æä»¶åç¸å å¯ä»¥éåè¯»åå®åå é¤æä»¶  é»è®¤ä¸ºå åç¼å\n#è®¾ç½®ä¸º immediate è¯»åå®åå é¤ é»è®¤å¼ä¸º never ä¿ç\n#a3.sources.r3.deletepolicy = immediate\n#è¢«è¯»åå®æ¯åçæä»¶ åç¼åè¢«æ´æ¹ä¸º    é»è®¤å¼ä¸º.completed\na3.sources.r3.filesuffix = .completed\n\na3.sources.r3.fileheader = true\n#å¿½ç¥ææä»¥.tmpç»å°¾çæä»¶ï¼ä¸ä¸ä¼ \na3.sources.r3.ignorepattern = ([^ ]*\\.tmp)\n\n# describe the sink\na3.sinks.k3.type = hdfs\na3.sinks.k3.hdfs.path = hdfs://hadoop102:8020/flume2/upload/%y%m%d/%h\n#ä¸ä¼ æä»¶çåç¼\na3.sinks.k3.hdfs.fileprefix = upload-\n#æ¯å¦æç§æ¶é´æ»å¨æä»¶å¤¹\na3.sinks.k3.hdfs.round = true\n#å¤å°æ¶é´åä½åå»ºä¸ä¸ªæ°çæä»¶å¤¹\na3.sinks.k3.hdfs.roundvalue = 1\n#éæ°å®ä¹æ¶é´åä½\na3.sinks.k3.hdfs.roundunit = hour\n#æ¯å¦ä½¿ç¨æ¬å°æ¶é´æ³\na3.sinks.k3.hdfs.uselocaltimestamp = true\n#ç§¯æå¤å°ä¸ªeventæflushå°hdfsä¸æ¬¡\na3.sinks.k3.hdfs.batchsize = 100\n#è®¾ç½®æä»¶ç±»åï¼å¯æ¯æåç¼©\na3.sinks.k3.hdfs.filetype = datastream\n#å¤ä¹çæä¸ä¸ªæ°çæä»¶\na3.sinks.k3.hdfs.rollinterval = 60\n#è®¾ç½®æ¯ä¸ªæä»¶çæ»å¨å¤§å°å¤§æ¦æ¯128m\na3.sinks.k3.hdfs.rollsize = 134217700\n#æä»¶çæ»å¨ä¸eventæ°éæ å³\na3.sinks.k3.hdfs.rollcount = 0\n\n# use a channel which buffers events in memory\na3.channels.c3.type = memory\na3.channels.c3.capacity = 1000\na3.channels.c3.transactioncapacity = 100\n\n# bind the source and sink to the channel\na3.sources.r3.channels = c3\na3.sinks.k3.channel = c3\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n26\n27\n28\n29\n30\n31\n32\n33\n34\n35\n36\n37\n38\n39\n40\n41\n42\n43\n44\n45\n46\n47\n48\n49\n50\n51\n\n\nå¯å¨\n\nflume-ng agent -n a3 -c conf/ -f datas/flume-dir-hdfs.conf -dflume.root.logger=info,console\n\n\n1\n\n\nåå»ºææ¬æä»¶åå¥åå®¹ ç§»å¨å°uploadç®å½ä¸\n\ncd /opt/module/flume/\ntouch 123.log\necho eee >> 123.log \ncp 123.log upload/\n\n\n1\n2\n3\n4\n\n\n\n# å®æ¶çæ§ç®å½ä¸çå¤ä¸ªè¿½å æä»¶ taildir\n\n\n\næä»¬ä½¿ç¨exec è¯»ååä¸ªæä»¶è¿½å åå®¹æ¶ å¦æflumeææåéæ°å¯å¨ ä¼ææä»¶ä»å¤´å°å°¾éæ°è¯»åä¸é è¿æ¯æä»¬ä¸å¸æç ètaildirè¯»åå¤ä¸ªæä»¶è¿½å åå®¹æ¶ ä¼å¨positionfile æå®çjsonæä»¶ä¸ ä¿çè¯»åè¿çæä»¶ä½ç½® å½flumeææéæ°ä¸çº¿å è¯»åjsonæä»¶è®°å½çä½ç½® ç»§ç»­çæ§è¯»ååå®¹\n\ncd /opt/module/flume/\nmkdir files\nvim datas/flume-taildir-hdfs.conf\n\n\n1\n2\n3\n\n\néç½®æä»¶\n\na3.sources = r3\na3.sinks = k3\na3.channels = c3\n\n# describe/configure the source\n#sourcesç±»å\na3.sources.r3.type = taildir\n#taildirä¿å­è¯»åæä»¶åå®¹çä½ç½® å¦æåçå®æºä¼ä»è¯¥æä»¶ä¸­è¯»åä¸æ¬¡è¯»åå°ä½ç½®  é»è®¤ä¸º~/.flume/taildir_position.json\na3.sources.r3.positionfile = /opt/module/flume/tail_dir.json\n#å®ä¹ç» ä¸åç» æåä¸åæä»¶ å¤ä¸ªç»ä¹é´ç©ºæ ¼éå¼\na3.sources.r3.filegroups = f1 f2\n#f1ç» çæ§æå®ç®å½ä¸åå­åå«fileçæä»¶ æ­£åè¡¨è¾¾å¼\na3.sources.r3.filegroups.f1 = /opt/module/flume/files/.*file.*\n#f2ç» çæ§æå®ç®å½ä¸åå­åå«çlogçæä»¶\na3.sources.r3.filegroups.f2 = /opt/module/flume/files/.*log.*\n\n# describe the sink\na3.sinks.k3.type = hdfs\na3.sinks.k3.hdfs.path = hdfs://hadoop102:8020/flume/upload2/%y%m%d/%h\n#ä¸ä¼ æä»¶çåç¼\na3.sinks.k3.hdfs.fileprefix = upload-\n#æ¯å¦æç§æ¶é´æ»å¨æä»¶å¤¹\na3.sinks.k3.hdfs.round = true\n#å¤å°æ¶é´åä½åå»ºä¸ä¸ªæ°çæä»¶å¤¹\na3.sinks.k3.hdfs.roundvalue = 1\n#éæ°å®ä¹æ¶é´åä½\na3.sinks.k3.hdfs.roundunit = hour\n#æ¯å¦ä½¿ç¨æ¬å°æ¶é´æ³\na3.sinks.k3.hdfs.uselocaltimestamp = true\n#ç§¯æå¤å°ä¸ªeventæflushå°hdfsä¸æ¬¡\na3.sinks.k3.hdfs.batchsize = 100\n#è®¾ç½®æä»¶ç±»åï¼å¯æ¯æåç¼©\na3.sinks.k3.hdfs.filetype = datastream\n#å¤ä¹çæä¸ä¸ªæ°çæä»¶\na3.sinks.k3.hdfs.rollinterval = 60\n#è®¾ç½®æ¯ä¸ªæä»¶çæ»å¨å¤§å°å¤§æ¦æ¯128m\na3.sinks.k3.hdfs.rollsize = 134217700\n#æä»¶çæ»å¨ä¸eventæ°éæ å³\na3.sinks.k3.hdfs.rollcount = 0\n\n# use a channel which buffers events in memory\na3.channels.c3.type = memory\na3.channels.c3.capacity = 1000\na3.channels.c3.transactioncapacity = 100\n\n# bind the source and sink to the channel\na3.sources.r3.channels = c3\na3.sinks.k3.channel = c3\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n26\n27\n28\n29\n30\n31\n32\n33\n34\n35\n36\n37\n38\n39\n40\n41\n42\n43\n44\n45\n46\n47\n48\n\n\nå¯å¨\n\nflume-ng agent -n a3 -c conf/ -f datas/flume-taildir-hdfs.conf -dflume.root.logger=info,console\n\n\n1\n\n\næµè¯\n\ncd files\necho hello >> file1.txt\necho atguigu >> log.txt\n\n#å³é­flume éæ°å¯å¨ æ¥çæ¯å¦è¿è¯»å aaa å bbb å­æ®µ\n\n\n1\n2\n3\n4\n5\n",charsets:{cjk:!0},lastUpdated:"2022/03/18, 07:01:11",lastUpdatedTimestamp:1647558071e3},{title:"Flume è¿é¶",frontmatter:{title:"Flume è¿é¶",date:"2022-03-17T22:07:46.000Z",permalink:"/pages/6a0c06/",categories:["å¤§æ°æ®","Flume"],tags:[null]},regularPath:"/%E5%A4%A7%E6%95%B0%E6%8D%AE/04.Flume/05.Flume%20%E8%BF%9B%E9%98%B6.html",relativePath:"å¤§æ°æ®/04.Flume/05.Flume è¿é¶.md",key:"v-73eab2aa",path:"/pages/6a0c06/",headers:[{level:2,title:"Flume äºå¡",slug:"flume-äºå¡",normalizedTitle:"flume äºå¡",charIndex:15},{level:2,title:"Agent åé¨åç",slug:"agent-åé¨åç",normalizedTitle:"agent åé¨åç",charIndex:30},{level:2,title:"Flume ææç»æ",slug:"flume-ææç»æ",normalizedTitle:"flume ææç»æ",charIndex:591},{level:3,title:"ç®åä¸²è",slug:"ç®åä¸²è",normalizedTitle:"ç®åä¸²è",charIndex:606},{level:3,title:"å¤å¶åå¤è·¯å¤ç¨",slug:"å¤å¶åå¤è·¯å¤ç¨",normalizedTitle:"å¤å¶åå¤è·¯å¤ç¨",charIndex:2159},{level:3,title:"è´è½½åè¡¡åæéè½¬ç§»",slug:"è´è½½åè¡¡åæéè½¬ç§»",normalizedTitle:"è´è½½åè¡¡åæéè½¬ç§»",charIndex:6658},{level:3,title:"èå",slug:"èå",normalizedTitle:"èå",charIndex:8752},{level:2,title:"æ¦æªå¨ Interceptor",slug:"æ¦æªå¨-interceptor",normalizedTitle:"æ¦æªå¨ interceptor",charIndex:8973}],headersStr:"Flume äºå¡ Agent åé¨åç Flume ææç»æ ç®åä¸²è å¤å¶åå¤è·¯å¤ç¨ è´è½½åè¡¡åæéè½¬ç§» èå æ¦æªå¨ Interceptor",content:"# Flume è¿é¶\n\n\n# Flume äºå¡\n\n\n\n\n# Agent åé¨åç\n\n\n\n 1. ChannelSelector\n    \n    ChannelSelectorçä½ç¨å°±æ¯éåºEventå°è¦è¢«åå¾åªä¸ªChannelãå¶å±æä¸¤ç§ç±»åï¼åå«æ¯Replicatingï¼å¤å¶ï¼åMultiplexingï¼å¤è·¯å¤ç¨ï¼ã é»è®¤ä¸ºReplicatingï¼å¤å¶ï¼ ReplicatingSelectorä¼å°åä¸ä¸ªEventåå¾ææçChannelï¼Multiplexingä¼æ ¹æ®ç¸åºçååï¼å°ä¸åçEventåå¾ä¸åçChannelã\n\n 2. SinkProcessor\n    \n    SinkProcessorå±æä¸ç§ç±»åï¼åå«æ¯DefaultSinkProcessorãLoadBalancingSinkProcessoråFailoverSinkProcessor\n    \n    1. DefaultSinkProcessorå¯¹åºçæ¯åä¸ªçSink\n    2. LoadBalancingSinkProcessoråFailoverSinkProcessorå¯¹åºçæ¯Sink Groupï¼\n    3. LoadBalancingSinkProcessorå¯ä»¥å®ç°è´è½½åè¡¡çåè½\n    4. FailoverSinkProcessorå¯ä»¥éè¯¯æ¢å¤çåè½ã\n\n\n# Flume ææç»æ\n\n\n# ç®åä¸²è\n\n\n\nè¿ç§æ¨¡å¼æ¯å°å¤ä¸ªflumeé¡ºåºè¿æ¥èµ·æ¥äºï¼ä»æåçsourceå¼å§å°æç»sinkä¼ éçç®çå­å¨ç³»ç»ãæ­¤æ¨¡å¼ä¸å»ºè®®æ¡¥æ¥è¿å¤çflumeæ°éï¼ flumeæ°éè¿å¤ä¸ä»ä¼å½±åä¼ è¾éçï¼èä¸ä¸æ¦ä¼ è¾è¿ç¨ä¸­æä¸ªèç¹flumeå®æºï¼ä¼å½±åæ´ä¸ªä¼ è¾ç³»ç»ã\n\n# å®ç°ä¸²è è¾åºå°arvo\n\nflume1 éç½®æä»¶\n\n#agent1   netcatsource --\x3e memorychannel --\x3e arvosink\na1.sources = r1  \na1.sinks = k1\na1.channels = c1 \n\na1.sources.r1.type = netcat \na1.sources.r1.bind = hadoop102\na1.sources.r1.port = 22222 \n\n#è®¾ç½®ä¸ºarvosink åæå®å°å:ç«¯å£è¾åºæ°æ®\na1.sinks.k1.type = arvo \n#è¾åºæ°æ®çå°å \na1.sinks.k1.hostname = hadoop103\n#è¾åºæ°æ®çå°å\na1.sinks.k1.port = 33333\n\na1.channels.c1.type = memory \na1.channels.c1.capacity = 1000 \na1.channels.c1.transactionCapacity = 100 \n\n\na1.sources.r1.channels = c1 \na1.sinks.k1.channel = c1 \n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n\n\nflume2 éç½®æä»¶\n\n#agent2   netcatsource --\x3e memorychannel --\x3e loggersink\na1.sources = r1\na1.sinks = k1\na1.channels = c1\n\n#è¾å¥æ°æ®ç±»åæ¹ä¸º arvo\na1.sources.r1.type = arvo \n#è¾å¥å°å\na1.sources.r1.bind = hadoop102\n#è¾å¥ç«¯å£\na1.sources.r1.port = 33333\n\n#è®¾ç½®ä¸ºlogger åå¥å°logæä»¶ æä¹å\na1.sinks.k1.type = logger\n\na1.channels.c1.type = memory \na1.channels.c1.capacity = 1000 \na1.channels.c1.transactionCapacity = 100 \n\n\na1.sources.r1.channels = c1 \na1.sinks.k1.channel = c1 \n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n\n\næµè¯\n\n#åå¯å¨103 å¦å102åéæ°æ®æ äººæ¥æ¶  å¨hadoop103æä½ \nflume-ng agent --conf conf/ --name a1 --conf-file datas/avrosource_loggersink.conf -Dflume.root.logger=INFO,console\n\n\n1\n2\n\n\n#å¨hadoop102æä½\nflume-ng agent --conf conf/ --name a1 --conf-file datas/netcatsource_avrosink.conf -Dflume.root.logger=INFO,console\n#å¨å¦å¤ä¸ªsshçªå£ä¸­æä½\nnc hadoop102 22222\n\n\n1\n2\n3\n4\n\n\n\n# å¤å¶åå¤è·¯å¤ç¨\n\n\n\nFlumeæ¯æå°äºä»¶æµåä¸ä¸ªæèå¤ä¸ªç®çå°ãè¿ç§æ¨¡å¼å¯ä»¥å°ç¸åæ°æ®å¤å¶å°å¤ä¸ªchannelä¸­ï¼æèå°ä¸åæ°æ®ååå°ä¸åçchannelä¸­ï¼sinkå¯ä»¥éæ©ä¼ éå°ä¸åçç®çå°ã\n\n# å®ç°å¤å¶ selector=replicating\n\n\n\nä»æå®æä»¶ä¸­è¯»åæ¥å¿ å¤å¶è½¬åå°ä¸ªchannelä¸­ channelåè½¬åç»æå®çsinkæ¹\n\n#agent 1  hadoop102\na1.sources = r1\n\na1.sinks = k1 k2\na1.channels = c1 c2\n\na1.sources.r1.type = exec \n#è¯»åhiveæ¥å¿æä»¶\na1.sources.r1.command = tail -F /opt/module/hive/logs/hive.log\n#selectoré¢ééæ©å¨ é»è®¤ä¸ºreplicating ä¸ºå¤å¶ ä¸éç½®typeä¹æ¯è¿ä¸ªæ¹æ¡\na1.sources.r1.selector.type = replicating \n#å¯éçchannel\n#a1.sources.r1.selector.optional = c3\n\n#è®¾ç½®ä¸ºarvosink åæå®å°å:ç«¯å£è¾åºæ°æ®\na1.sinks.k1.type = arvo \n#è¾åºæ°æ®çå°å \na1.sinks.k1.hostname = hadoop103\n#è¾åºæ°æ®çå°å\na1.sinks.k1.port = 33333\n\n#ç¬¬äºä¸ªsinks\na1.sinks.k2.type = arvo \na1.sinks.k2.hostname = hadoop104\na1.sinks.k2.port = 44444\n\na1.channels.c1.type = memory \na1.channels.c1.capacity = 1000 \na1.channels.c1.transactionCapacity = 100 \n#ç¬¬äºä¸ªchannel\na1.channels.c2.type = memory \na1.channels.c2.capacity = 1000 \na1.channels.c2.transactionCapacity = 100 \n\n#ä¸ä¸ªsources å¯¹æ¥ä¸¤ä¸ªchannels\na1.sources.r1.channels = c1 c2\n#æ¯ä¸ªsinkså¯¹åºä¸ä¸ªchannel\na1.sinks.k1.channel = c1\na1.sinks.k2.channel = c2\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n26\n27\n28\n29\n30\n31\n32\n33\n34\n35\n36\n37\n38\n39\n\n\nsinkæ¹1 ä»hadoop102æ¥æ¶æ°æ® åå­å¨å°hdfsä¸­\n\n#agent2 hadoop103\na1.sources = r1  \na1.sinks = k1\na1.channels = c1 \n\na1.sources.r1.type = avro\na1.sources.r1.bind = hadoop103\na1.sources.r1.port = 33333\n\n# Describe the sink\na1.sinks.k1.type = hdfs\na1.sinks.k1.hdfs.path = hdfs://hadoop102:8020/flume2/%Y%m%d/%H\n#ä¸ä¼ æä»¶çåç¼\na1.sinks.k1.hdfs.filePrefix = flume2-\n#æ¯å¦æç§æ¶é´æ»å¨æä»¶å¤¹\na1.sinks.k1.hdfs.round = true\n#å¤å°æ¶é´åä½åå»ºä¸ä¸ªæ°çæä»¶å¤¹\na1.sinks.k1.hdfs.roundValue = 1\n#éæ°å®ä¹æ¶é´åä½\na1.sinks.k1.hdfs.roundUnit = hour\n#æ¯å¦ä½¿ç¨æ¬å°æ¶é´æ³\na1.sinks.k1.hdfs.useLocalTimeStamp = true\n#ç§¯æå¤å°ä¸ªEventæflushå°HDFSä¸æ¬¡\na1.sinks.k1.hdfs.batchSize = 100\n#è®¾ç½®æä»¶ç±»åï¼å¯æ¯æåç¼©\na1.sinks.k1.hdfs.fileType = DataStream\n#å¤ä¹çæä¸ä¸ªæ°çæä»¶\na1.sinks.k1.hdfs.rollInterval = 600\n#è®¾ç½®æ¯ä¸ªæä»¶çæ»å¨å¤§å°å¤§æ¦æ¯128M\na1.sinks.k1.hdfs.rollSize = 134217700\n#æä»¶çæ»å¨ä¸Eventæ°éæ å³\na1.sinks.k1.hdfs.rollCount = 0\n\na1.channels.c1.type = memory \na1.channels.c1.capacity = 1000 \na1.channels.c1.transactionCapacity = 100 \n\n\na1.sources.r1.channels = c1 \na1.sinks.k1.channel = c1 \n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n26\n27\n28\n29\n30\n31\n32\n33\n34\n35\n36\n37\n38\n39\n40\n\n\nsink2 ä»hadoop102æ¥æ¶æ°æ® åéè¿File_roll sinkå­å¨å°æ¬å°ç®å½ä¸­\n\n#agent3 hadoop104\na1.sources = r1  \na1.sinks = k1\na1.channels = c1 \n\na1.sources.r1.type = avro\na1.sources.r1.bind = hadoop104\na1.sources.r1.port = 44444\n\n#å°eventæ°æ®å­å¨å¨æå®sinkä¸ºfile_roll æ¬å°å­å¨æ¨¡å¼\na1.sinks.k1.type = file_roll\n#å­æ¾ç®å½ è¾åºçæ¬å°ç®å½å¿é¡»æ¯å·²ç»å­å¨çç®å½\na1.sinks.k1.sink.directory = /opt/module/flume/demo\n#é»è®¤ä¸º30s æ»å¨æä»¶ è®¾ç½®ä¸º0å°ä¸åæ»å¨\na1.sinks.k1.sink.rollInterval = 30\n\na1.channels.c1.type = memory \na1.channels.c1.capacity = 1000 \na1.channels.c1.transactionCapacity = 100 \n\n\na1.sources.r1.channels = c1 \na1.sinks.k1.channel = c1 \n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n\n\nå¯å¨ åå¯å¨103å104ççå¬ åå¯å¨102ççå¬\n\n# å®ç°å¤è·¯å¤ç¨ selector=multiplexing\n\nagent1\n\n#agent 1  hadoop102\na1.sources = r1\n\na1.sinks = k1 k2\na1.channels = c1 c2\n\na1.sources.r1.type = exec \n#è¯»åhiveæ¥å¿æä»¶\na1.sources.r1.command = tail -F /opt/module/hive/logs/hive.log\n\n\n#å¤ç¨éç½®\n#selectoré¢ééæ©å¨ é»è®¤ä¸ºreplicating  multiplexingä¸ºå¤ç¨  éè¦éåæ¦æªå¨ä½¿ç¨\na1.sources.r1.selector.type = multiplexing \n# headerçkey æ ¹æ®eventçheaderéé¢æå®key å¤æ­å¼ ååç»åªä¸ªchannel \na1.sources.r1.selector.header = state\n#CZä¸ºèªå®ä¹valueå¼ ä¸ºä¸é¢æå®keyä¸­å¯¹åºå¼ å¦keyä¸­å¼ä¸ºCZ åååç» c1 channel\na1.sources.r1.selector.mapping.CZ = c1\n#å¼ä¸ºUS åååå° c2 channel\na1.sources.r1.selector.mapping.US = c2\n\n\n# è®¾ç½®æ¦æªå¨ (ç¨äºåheadersä¸­æ·»å æå®é®å¼å¯¹)\n#æ¦æªå¨åç§°\na1.sources.r1.interceptors = i1\n#æ¦æªå¨ç±»å static åheaderæ·»å  èªå®ä¹é®å¼å¯¹\na1.sources.r1.interceptors.i1.type = static\na1.sources.r1.interceptors.i1.key = state\n#å¤ä¸ªå¼åªè½éè¿èªå®ä¹æ¦æªå¨å®ä¹ æ­¤å¤æ¯åæ­»ä¸ºCZ\na1.sources.r1.interceptors.i1.value = CZ\n\n\n#è®¾ç½®ä¸ºarvosink åæå®å°å:ç«¯å£è¾åºæ°æ®\na1.sinks.k1.type = arvo \n#è¾åºæ°æ®çå°å \na1.sinks.k1.hostname = hadoop103\n#è¾åºæ°æ®çå°å\na1.sinks.k1.port = 33333\n\n#ç¬¬äºä¸ªsinks\na1.sinks.k2.type = arvo \na1.sinks.k2.hostname = hadoop104\na1.sinks.k2.port = 44444\n\na1.channels.c1.type = memory \na1.channels.c1.capacity = 1000 \na1.channels.c1.transactionCapacity = 100 \n#ç¬¬äºä¸ªchannel\na1.channels.c2.type = memory \na1.channels.c2.capacity = 1000 \na1.channels.c2.transactionCapacity = 100 \n\n#ä¸ä¸ªsources å¯¹æ¥ä¸¤ä¸ªchannels\na1.sources.r1.channels = c1 c2\n#æ¯ä¸ªsinkså¯¹åºä¸ä¸ªchannel\na1.sinks.k1.channel = c1\na1.sinks.k2.channel = c2\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n26\n27\n28\n29\n30\n31\n32\n33\n34\n35\n36\n37\n38\n39\n40\n41\n42\n43\n44\n45\n46\n47\n48\n49\n50\n51\n52\n53\n54\n55\n56\n57\n\n\nagent2åagent3 ä¸ä¸é¢å¤å¶ä¸æ · æ èªå®ä¹\n\n\n# è´è½½åè¡¡åæéè½¬ç§»\n\n\n\nFlumeæ¯æä½¿ç¨å°å¤ä¸ªsinké»è¾ä¸åå°ä¸ä¸ªsinkç»ï¼sinkç»éåä¸åçSinkProcessorå¯ä»¥å®ç°è´è½½åè¡¡åéè¯¯æ¢å¤çåè½ã\n\n# å®ç°æéè½¬ç§» processor=failover\n\n\n\n#agent1 hadoop102\na1.sources = r1  \na1.sinks = k1 k2\na1.channels = c1 \n\na1.sources.r1.type = netcat \na1.sources.r1.bind = hadoop102\na1.sources.r1.port = 22222\n\n#sinks1\na1.sinks.k1.type = avro\na1.sinks.k1.hostname = hadoop103\na1.sinks.k1.port = 33333\n#sinks2\na1.sinks.k2.type = avro\na1.sinks.k2.hostname = hadoop104\na1.sinks.k2.port = 44444\n\n#å®ä¹sinkgroups\na1.sinkgroups = g1\n#è¯¥ç»ä¸é¢æåªäºsinkå®ä¾\na1.sinkgroups.g1.sinks = k1 k2\n#failoverä¸ºæéè½¬ç§»  é»è®¤ä¸ºä¸å¯¹ä¸\na1.sinkgroups.g1.processor.type = failover\n#ä¼åçº§ å¼è¶å¤§ä¼åçº§è¶å¤§\na1.sinkgroups.g1.processor.priority.k1 = 5\na1.sinkgroups.g1.processor.priority.k2 = 10\n#sinkè¿æ¥è¶æ¶æ¶é´ é»è®¤ä¸º30000æ¯«ç§\na1.sinkgroups.g1.processor.maxpenalty = 10000\n\n\na1.channels.c1.type = memory \na1.channels.c1.capacity = 1000 \na1.channels.c1.transactionCapacity = 100 \n\n\na1.sources.r1.channels = c1 \n#sinksç»å®çchannel åºä¸ºä¸ä¸ª\na1.sinks.k1.channel = c1\na1.sinks.k2.channel = c1\n\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n26\n27\n28\n29\n30\n31\n32\n33\n34\n35\n36\n37\n38\n39\n40\n41\n\n\n# å®ç°è´è½½åè¡¡ processor=load_balance\n\n#agent1 hadoop102\na1.sources = r1  \na1.sinks = k1 k2\na1.channels = c1 \n\na1.sources.r1.type = netcat \na1.sources.r1.bind = hadoop102\na1.sources.r1.port = 22222\n\n#sinks1\na1.sinks.k1.type = avro\na1.sinks.k1.hostname = hadoop103\na1.sinks.k1.port = 33333\n#sinks2\na1.sinks.k2.type = avro\na1.sinks.k2.hostname = hadoop104\na1.sinks.k2.port = 44444\n\n#å®ä¹sinkgroups\na1.sinkgroups = g1\n#è¯¥ç»ä¸é¢æåªäºsinkå®ä¾\na1.sinkgroups.g1.sinks = k1 k2\n#load_balance ä¸ºè´è½½åè¡¡\na1.sinkgroups.g1.processor.type = load_balance\n# é»è®¤ä¸ºround_robinè½®è¯¢sink    randomä¸ºéæºåç»æä¸ªsink\na1.sinkgroups.g1.processor.selector = random\n#è¿æ¥è¶æ¶æ¶é´ 30000æ¯«ç§\na1.sinkgroups.g1.processor.maxpenalty = 10000\n\n\na1.channels.c1.type = memory \na1.channels.c1.capacity = 1000 \na1.channels.c1.transactionCapacity = 100 \n\n\na1.sources.r1.channels = c1 \n#sinksç»å®çchannel åºä¸ºä¸ä¸ª\na1.sinks.k1.channel = c1\na1.sinks.k2.channel = c1\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n26\n27\n28\n29\n30\n31\n32\n33\n34\n35\n36\n37\n38\n39\n\n\n\n# èå\n\n\n\nè¿ç§æ¨¡å¼æ¯æä»¬æå¸¸è§çï¼ä¹éå¸¸å®ç¨ï¼æ¥å¸¸webåºç¨éå¸¸åå¸å¨ä¸ç¾ä¸ªæå¡å¨ï¼å¤§èçè³ä¸åä¸ªãä¸ä¸ä¸ªæå¡å¨ãäº§ççæ¥å¿ï¼å¤çèµ·æ¥ä¹éå¸¸éº»ç¦ãç¨flumeçè¿ç§ç»åæ¹å¼è½å¾å¥½çè§£å³è¿ä¸é®é¢ï¼æ¯å°æå¡å¨é¨ç½²ä¸ä¸ªflumeééæ¥å¿ï¼ä¼ éå°ä¸ä¸ªéä¸­æ¶éæ¥å¿çflumeï¼åç±æ­¤flumeä¸ä¼ å°hdfsãhiveãhbaseç­ï¼è¿è¡æ¥å¿åæã\n\n# å®ç°èå\n\n\n\nå°åå¼çagentçsinkå¨é¨æ±æ»å°ä¸ä¸ªagentä¸ åè¿è¡æä¹å\n\n\n# æ¦æªå¨ Interceptor\n\næ´å¤ç±»åæ¦æªå¨æ¥çå®æ¹ææ¡£\n\néè¿éç½®æä»¶ éç½®æ¦æªå¨ agentåç§°.sources.r1.interceptors\n\na1.sources = r1\na1.sinks = k1\na1.channels = c1 \n\na1.sources.r1.type = netcat\na1.sources.r1.bind = localhost\na1.sources.r1.port = 44444\n\n# è®¾ç½®æ¦æªå¨ (ç¨äºåheadersä¸­æ·»å æ¶é´æ³)\n#æ¦æªå¨åç§°\na1.sources.r1.interceptors = i1\n#æ¦æªå¨ç±»å timestamp åheaderæ·»å æ¶é´æ³\na1.sources.r1.interceptors.i1.type = timestamp\n\na1.sinks.k1.type = logger\n\na1.channels.c1.type = memory\na1.channels.c1.capacity = 1000\na1.channels.c1.transactionCapacity = 100\n\n\na1.sources.r1.channels = c1\na1.sinks.k1.channel = c1\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n\n\n",normalizedContent:"# flume è¿é¶\n\n\n# flume äºå¡\n\n\n\n\n# agent åé¨åç\n\n\n\n 1. channelselector\n    \n    channelselectorçä½ç¨å°±æ¯éåºeventå°è¦è¢«åå¾åªä¸ªchannelãå¶å±æä¸¤ç§ç±»åï¼åå«æ¯replicatingï¼å¤å¶ï¼åmultiplexingï¼å¤è·¯å¤ç¨ï¼ã é»è®¤ä¸ºreplicatingï¼å¤å¶ï¼ replicatingselectorä¼å°åä¸ä¸ªeventåå¾ææçchannelï¼multiplexingä¼æ ¹æ®ç¸åºçååï¼å°ä¸åçeventåå¾ä¸åçchannelã\n\n 2. sinkprocessor\n    \n    sinkprocessorå±æä¸ç§ç±»åï¼åå«æ¯defaultsinkprocessorãloadbalancingsinkprocessoråfailoversinkprocessor\n    \n    1. defaultsinkprocessorå¯¹åºçæ¯åä¸ªçsink\n    2. loadbalancingsinkprocessoråfailoversinkprocessorå¯¹åºçæ¯sink groupï¼\n    3. loadbalancingsinkprocessorå¯ä»¥å®ç°è´è½½åè¡¡çåè½\n    4. failoversinkprocessorå¯ä»¥éè¯¯æ¢å¤çåè½ã\n\n\n# flume ææç»æ\n\n\n# ç®åä¸²è\n\n\n\nè¿ç§æ¨¡å¼æ¯å°å¤ä¸ªflumeé¡ºåºè¿æ¥èµ·æ¥äºï¼ä»æåçsourceå¼å§å°æç»sinkä¼ éçç®çå­å¨ç³»ç»ãæ­¤æ¨¡å¼ä¸å»ºè®®æ¡¥æ¥è¿å¤çflumeæ°éï¼ flumeæ°éè¿å¤ä¸ä»ä¼å½±åä¼ è¾éçï¼èä¸ä¸æ¦ä¼ è¾è¿ç¨ä¸­æä¸ªèç¹flumeå®æºï¼ä¼å½±åæ´ä¸ªä¼ è¾ç³»ç»ã\n\n# å®ç°ä¸²è è¾åºå°arvo\n\nflume1 éç½®æä»¶\n\n#agent1   netcatsource --\x3e memorychannel --\x3e arvosink\na1.sources = r1  \na1.sinks = k1\na1.channels = c1 \n\na1.sources.r1.type = netcat \na1.sources.r1.bind = hadoop102\na1.sources.r1.port = 22222 \n\n#è®¾ç½®ä¸ºarvosink åæå®å°å:ç«¯å£è¾åºæ°æ®\na1.sinks.k1.type = arvo \n#è¾åºæ°æ®çå°å \na1.sinks.k1.hostname = hadoop103\n#è¾åºæ°æ®çå°å\na1.sinks.k1.port = 33333\n\na1.channels.c1.type = memory \na1.channels.c1.capacity = 1000 \na1.channels.c1.transactioncapacity = 100 \n\n\na1.sources.r1.channels = c1 \na1.sinks.k1.channel = c1 \n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n\n\nflume2 éç½®æä»¶\n\n#agent2   netcatsource --\x3e memorychannel --\x3e loggersink\na1.sources = r1\na1.sinks = k1\na1.channels = c1\n\n#è¾å¥æ°æ®ç±»åæ¹ä¸º arvo\na1.sources.r1.type = arvo \n#è¾å¥å°å\na1.sources.r1.bind = hadoop102\n#è¾å¥ç«¯å£\na1.sources.r1.port = 33333\n\n#è®¾ç½®ä¸ºlogger åå¥å°logæä»¶ æä¹å\na1.sinks.k1.type = logger\n\na1.channels.c1.type = memory \na1.channels.c1.capacity = 1000 \na1.channels.c1.transactioncapacity = 100 \n\n\na1.sources.r1.channels = c1 \na1.sinks.k1.channel = c1 \n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n\n\næµè¯\n\n#åå¯å¨103 å¦å102åéæ°æ®æ äººæ¥æ¶  å¨hadoop103æä½ \nflume-ng agent --conf conf/ --name a1 --conf-file datas/avrosource_loggersink.conf -dflume.root.logger=info,console\n\n\n1\n2\n\n\n#å¨hadoop102æä½\nflume-ng agent --conf conf/ --name a1 --conf-file datas/netcatsource_avrosink.conf -dflume.root.logger=info,console\n#å¨å¦å¤ä¸ªsshçªå£ä¸­æä½\nnc hadoop102 22222\n\n\n1\n2\n3\n4\n\n\n\n# å¤å¶åå¤è·¯å¤ç¨\n\n\n\nflumeæ¯æå°äºä»¶æµåä¸ä¸ªæèå¤ä¸ªç®çå°ãè¿ç§æ¨¡å¼å¯ä»¥å°ç¸åæ°æ®å¤å¶å°å¤ä¸ªchannelä¸­ï¼æèå°ä¸åæ°æ®ååå°ä¸åçchannelä¸­ï¼sinkå¯ä»¥éæ©ä¼ éå°ä¸åçç®çå°ã\n\n# å®ç°å¤å¶ selector=replicating\n\n\n\nä»æå®æä»¶ä¸­è¯»åæ¥å¿ å¤å¶è½¬åå°ä¸ªchannelä¸­ channelåè½¬åç»æå®çsinkæ¹\n\n#agent 1  hadoop102\na1.sources = r1\n\na1.sinks = k1 k2\na1.channels = c1 c2\n\na1.sources.r1.type = exec \n#è¯»åhiveæ¥å¿æä»¶\na1.sources.r1.command = tail -f /opt/module/hive/logs/hive.log\n#selectoré¢ééæ©å¨ é»è®¤ä¸ºreplicating ä¸ºå¤å¶ ä¸éç½®typeä¹æ¯è¿ä¸ªæ¹æ¡\na1.sources.r1.selector.type = replicating \n#å¯éçchannel\n#a1.sources.r1.selector.optional = c3\n\n#è®¾ç½®ä¸ºarvosink åæå®å°å:ç«¯å£è¾åºæ°æ®\na1.sinks.k1.type = arvo \n#è¾åºæ°æ®çå°å \na1.sinks.k1.hostname = hadoop103\n#è¾åºæ°æ®çå°å\na1.sinks.k1.port = 33333\n\n#ç¬¬äºä¸ªsinks\na1.sinks.k2.type = arvo \na1.sinks.k2.hostname = hadoop104\na1.sinks.k2.port = 44444\n\na1.channels.c1.type = memory \na1.channels.c1.capacity = 1000 \na1.channels.c1.transactioncapacity = 100 \n#ç¬¬äºä¸ªchannel\na1.channels.c2.type = memory \na1.channels.c2.capacity = 1000 \na1.channels.c2.transactioncapacity = 100 \n\n#ä¸ä¸ªsources å¯¹æ¥ä¸¤ä¸ªchannels\na1.sources.r1.channels = c1 c2\n#æ¯ä¸ªsinkså¯¹åºä¸ä¸ªchannel\na1.sinks.k1.channel = c1\na1.sinks.k2.channel = c2\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n26\n27\n28\n29\n30\n31\n32\n33\n34\n35\n36\n37\n38\n39\n\n\nsinkæ¹1 ä»hadoop102æ¥æ¶æ°æ® åå­å¨å°hdfsä¸­\n\n#agent2 hadoop103\na1.sources = r1  \na1.sinks = k1\na1.channels = c1 \n\na1.sources.r1.type = avro\na1.sources.r1.bind = hadoop103\na1.sources.r1.port = 33333\n\n# describe the sink\na1.sinks.k1.type = hdfs\na1.sinks.k1.hdfs.path = hdfs://hadoop102:8020/flume2/%y%m%d/%h\n#ä¸ä¼ æä»¶çåç¼\na1.sinks.k1.hdfs.fileprefix = flume2-\n#æ¯å¦æç§æ¶é´æ»å¨æä»¶å¤¹\na1.sinks.k1.hdfs.round = true\n#å¤å°æ¶é´åä½åå»ºä¸ä¸ªæ°çæä»¶å¤¹\na1.sinks.k1.hdfs.roundvalue = 1\n#éæ°å®ä¹æ¶é´åä½\na1.sinks.k1.hdfs.roundunit = hour\n#æ¯å¦ä½¿ç¨æ¬å°æ¶é´æ³\na1.sinks.k1.hdfs.uselocaltimestamp = true\n#ç§¯æå¤å°ä¸ªeventæflushå°hdfsä¸æ¬¡\na1.sinks.k1.hdfs.batchsize = 100\n#è®¾ç½®æä»¶ç±»åï¼å¯æ¯æåç¼©\na1.sinks.k1.hdfs.filetype = datastream\n#å¤ä¹çæä¸ä¸ªæ°çæä»¶\na1.sinks.k1.hdfs.rollinterval = 600\n#è®¾ç½®æ¯ä¸ªæä»¶çæ»å¨å¤§å°å¤§æ¦æ¯128m\na1.sinks.k1.hdfs.rollsize = 134217700\n#æä»¶çæ»å¨ä¸eventæ°éæ å³\na1.sinks.k1.hdfs.rollcount = 0\n\na1.channels.c1.type = memory \na1.channels.c1.capacity = 1000 \na1.channels.c1.transactioncapacity = 100 \n\n\na1.sources.r1.channels = c1 \na1.sinks.k1.channel = c1 \n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n26\n27\n28\n29\n30\n31\n32\n33\n34\n35\n36\n37\n38\n39\n40\n\n\nsink2 ä»hadoop102æ¥æ¶æ°æ® åéè¿file_roll sinkå­å¨å°æ¬å°ç®å½ä¸­\n\n#agent3 hadoop104\na1.sources = r1  \na1.sinks = k1\na1.channels = c1 \n\na1.sources.r1.type = avro\na1.sources.r1.bind = hadoop104\na1.sources.r1.port = 44444\n\n#å°eventæ°æ®å­å¨å¨æå®sinkä¸ºfile_roll æ¬å°å­å¨æ¨¡å¼\na1.sinks.k1.type = file_roll\n#å­æ¾ç®å½ è¾åºçæ¬å°ç®å½å¿é¡»æ¯å·²ç»å­å¨çç®å½\na1.sinks.k1.sink.directory = /opt/module/flume/demo\n#é»è®¤ä¸º30s æ»å¨æä»¶ è®¾ç½®ä¸º0å°ä¸åæ»å¨\na1.sinks.k1.sink.rollinterval = 30\n\na1.channels.c1.type = memory \na1.channels.c1.capacity = 1000 \na1.channels.c1.transactioncapacity = 100 \n\n\na1.sources.r1.channels = c1 \na1.sinks.k1.channel = c1 \n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n\n\nå¯å¨ åå¯å¨103å104ççå¬ åå¯å¨102ççå¬\n\n# å®ç°å¤è·¯å¤ç¨ selector=multiplexing\n\nagent1\n\n#agent 1  hadoop102\na1.sources = r1\n\na1.sinks = k1 k2\na1.channels = c1 c2\n\na1.sources.r1.type = exec \n#è¯»åhiveæ¥å¿æä»¶\na1.sources.r1.command = tail -f /opt/module/hive/logs/hive.log\n\n\n#å¤ç¨éç½®\n#selectoré¢ééæ©å¨ é»è®¤ä¸ºreplicating  multiplexingä¸ºå¤ç¨  éè¦éåæ¦æªå¨ä½¿ç¨\na1.sources.r1.selector.type = multiplexing \n# headerçkey æ ¹æ®eventçheaderéé¢æå®key å¤æ­å¼ ååç»åªä¸ªchannel \na1.sources.r1.selector.header = state\n#czä¸ºèªå®ä¹valueå¼ ä¸ºä¸é¢æå®keyä¸­å¯¹åºå¼ å¦keyä¸­å¼ä¸ºcz åååç» c1 channel\na1.sources.r1.selector.mapping.cz = c1\n#å¼ä¸ºus åååå° c2 channel\na1.sources.r1.selector.mapping.us = c2\n\n\n# è®¾ç½®æ¦æªå¨ (ç¨äºåheadersä¸­æ·»å æå®é®å¼å¯¹)\n#æ¦æªå¨åç§°\na1.sources.r1.interceptors = i1\n#æ¦æªå¨ç±»å static åheaderæ·»å  èªå®ä¹é®å¼å¯¹\na1.sources.r1.interceptors.i1.type = static\na1.sources.r1.interceptors.i1.key = state\n#å¤ä¸ªå¼åªè½éè¿èªå®ä¹æ¦æªå¨å®ä¹ æ­¤å¤æ¯åæ­»ä¸ºcz\na1.sources.r1.interceptors.i1.value = cz\n\n\n#è®¾ç½®ä¸ºarvosink åæå®å°å:ç«¯å£è¾åºæ°æ®\na1.sinks.k1.type = arvo \n#è¾åºæ°æ®çå°å \na1.sinks.k1.hostname = hadoop103\n#è¾åºæ°æ®çå°å\na1.sinks.k1.port = 33333\n\n#ç¬¬äºä¸ªsinks\na1.sinks.k2.type = arvo \na1.sinks.k2.hostname = hadoop104\na1.sinks.k2.port = 44444\n\na1.channels.c1.type = memory \na1.channels.c1.capacity = 1000 \na1.channels.c1.transactioncapacity = 100 \n#ç¬¬äºä¸ªchannel\na1.channels.c2.type = memory \na1.channels.c2.capacity = 1000 \na1.channels.c2.transactioncapacity = 100 \n\n#ä¸ä¸ªsources å¯¹æ¥ä¸¤ä¸ªchannels\na1.sources.r1.channels = c1 c2\n#æ¯ä¸ªsinkså¯¹åºä¸ä¸ªchannel\na1.sinks.k1.channel = c1\na1.sinks.k2.channel = c2\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n26\n27\n28\n29\n30\n31\n32\n33\n34\n35\n36\n37\n38\n39\n40\n41\n42\n43\n44\n45\n46\n47\n48\n49\n50\n51\n52\n53\n54\n55\n56\n57\n\n\nagent2åagent3 ä¸ä¸é¢å¤å¶ä¸æ · æ èªå®ä¹\n\n\n# è´è½½åè¡¡åæéè½¬ç§»\n\n\n\nflumeæ¯æä½¿ç¨å°å¤ä¸ªsinké»è¾ä¸åå°ä¸ä¸ªsinkç»ï¼sinkç»éåä¸åçsinkprocessorå¯ä»¥å®ç°è´è½½åè¡¡åéè¯¯æ¢å¤çåè½ã\n\n# å®ç°æéè½¬ç§» processor=failover\n\n\n\n#agent1 hadoop102\na1.sources = r1  \na1.sinks = k1 k2\na1.channels = c1 \n\na1.sources.r1.type = netcat \na1.sources.r1.bind = hadoop102\na1.sources.r1.port = 22222\n\n#sinks1\na1.sinks.k1.type = avro\na1.sinks.k1.hostname = hadoop103\na1.sinks.k1.port = 33333\n#sinks2\na1.sinks.k2.type = avro\na1.sinks.k2.hostname = hadoop104\na1.sinks.k2.port = 44444\n\n#å®ä¹sinkgroups\na1.sinkgroups = g1\n#è¯¥ç»ä¸é¢æåªäºsinkå®ä¾\na1.sinkgroups.g1.sinks = k1 k2\n#failoverä¸ºæéè½¬ç§»  é»è®¤ä¸ºä¸å¯¹ä¸\na1.sinkgroups.g1.processor.type = failover\n#ä¼åçº§ å¼è¶å¤§ä¼åçº§è¶å¤§\na1.sinkgroups.g1.processor.priority.k1 = 5\na1.sinkgroups.g1.processor.priority.k2 = 10\n#sinkè¿æ¥è¶æ¶æ¶é´ é»è®¤ä¸º30000æ¯«ç§\na1.sinkgroups.g1.processor.maxpenalty = 10000\n\n\na1.channels.c1.type = memory \na1.channels.c1.capacity = 1000 \na1.channels.c1.transactioncapacity = 100 \n\n\na1.sources.r1.channels = c1 \n#sinksç»å®çchannel åºä¸ºä¸ä¸ª\na1.sinks.k1.channel = c1\na1.sinks.k2.channel = c1\n\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n26\n27\n28\n29\n30\n31\n32\n33\n34\n35\n36\n37\n38\n39\n40\n41\n\n\n# å®ç°è´è½½åè¡¡ processor=load_balance\n\n#agent1 hadoop102\na1.sources = r1  \na1.sinks = k1 k2\na1.channels = c1 \n\na1.sources.r1.type = netcat \na1.sources.r1.bind = hadoop102\na1.sources.r1.port = 22222\n\n#sinks1\na1.sinks.k1.type = avro\na1.sinks.k1.hostname = hadoop103\na1.sinks.k1.port = 33333\n#sinks2\na1.sinks.k2.type = avro\na1.sinks.k2.hostname = hadoop104\na1.sinks.k2.port = 44444\n\n#å®ä¹sinkgroups\na1.sinkgroups = g1\n#è¯¥ç»ä¸é¢æåªäºsinkå®ä¾\na1.sinkgroups.g1.sinks = k1 k2\n#load_balance ä¸ºè´è½½åè¡¡\na1.sinkgroups.g1.processor.type = load_balance\n# é»è®¤ä¸ºround_robinè½®è¯¢sink    randomä¸ºéæºåç»æä¸ªsink\na1.sinkgroups.g1.processor.selector = random\n#è¿æ¥è¶æ¶æ¶é´ 30000æ¯«ç§\na1.sinkgroups.g1.processor.maxpenalty = 10000\n\n\na1.channels.c1.type = memory \na1.channels.c1.capacity = 1000 \na1.channels.c1.transactioncapacity = 100 \n\n\na1.sources.r1.channels = c1 \n#sinksç»å®çchannel åºä¸ºä¸ä¸ª\na1.sinks.k1.channel = c1\na1.sinks.k2.channel = c1\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n26\n27\n28\n29\n30\n31\n32\n33\n34\n35\n36\n37\n38\n39\n\n\n\n# èå\n\n\n\nè¿ç§æ¨¡å¼æ¯æä»¬æå¸¸è§çï¼ä¹éå¸¸å®ç¨ï¼æ¥å¸¸webåºç¨éå¸¸åå¸å¨ä¸ç¾ä¸ªæå¡å¨ï¼å¤§èçè³ä¸åä¸ªãä¸ä¸ä¸ªæå¡å¨ãäº§ççæ¥å¿ï¼å¤çèµ·æ¥ä¹éå¸¸éº»ç¦ãç¨flumeçè¿ç§ç»åæ¹å¼è½å¾å¥½çè§£å³è¿ä¸é®é¢ï¼æ¯å°æå¡å¨é¨ç½²ä¸ä¸ªflumeééæ¥å¿ï¼ä¼ éå°ä¸ä¸ªéä¸­æ¶éæ¥å¿çflumeï¼åç±æ­¤flumeä¸ä¼ å°hdfsãhiveãhbaseç­ï¼è¿è¡æ¥å¿åæã\n\n# å®ç°èå\n\n\n\nå°åå¼çagentçsinkå¨é¨æ±æ»å°ä¸ä¸ªagentä¸ åè¿è¡æä¹å\n\n\n# æ¦æªå¨ interceptor\n\næ´å¤ç±»åæ¦æªå¨æ¥çå®æ¹ææ¡£\n\néè¿éç½®æä»¶ éç½®æ¦æªå¨ agentåç§°.sources.r1.interceptors\n\na1.sources = r1\na1.sinks = k1\na1.channels = c1 \n\na1.sources.r1.type = netcat\na1.sources.r1.bind = localhost\na1.sources.r1.port = 44444\n\n# è®¾ç½®æ¦æªå¨ (ç¨äºåheadersä¸­æ·»å æ¶é´æ³)\n#æ¦æªå¨åç§°\na1.sources.r1.interceptors = i1\n#æ¦æªå¨ç±»å timestamp åheaderæ·»å æ¶é´æ³\na1.sources.r1.interceptors.i1.type = timestamp\n\na1.sinks.k1.type = logger\n\na1.channels.c1.type = memory\na1.channels.c1.capacity = 1000\na1.channels.c1.transactioncapacity = 100\n\n\na1.sources.r1.channels = c1\na1.sinks.k1.channel = c1\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n\n\n",charsets:{cjk:!0},lastUpdated:"2022/03/18, 07:01:11",lastUpdatedTimestamp:1647558071e3},{title:"Flimeåºç¡æ¶æ",frontmatter:{title:"Flimeåºç¡æ¶æ",date:"2022-03-17T22:07:46.000Z",permalink:"/pages/f8bd8e/",categories:["å¤§æ°æ®","Flume"],tags:[null]},regularPath:"/%E5%A4%A7%E6%95%B0%E6%8D%AE/04.Flume/02.Flime%E5%9F%BA%E7%A1%80%E6%9E%B6%E6%9E%84.html",relativePath:"å¤§æ°æ®/04.Flume/02.Flimeåºç¡æ¶æ.md",key:"v-6e080d03",path:"/pages/f8bd8e/",headers:[{level:2,title:"Agent",slug:"agent",normalizedTitle:"agent",charIndex:18},{level:2,title:"Source",slug:"source",normalizedTitle:"source",charIndex:74},{level:2,title:"Sink",slug:"sink",normalizedTitle:"sink",charIndex:89},{level:2,title:"Channel",slug:"channel",normalizedTitle:"channel",charIndex:81},{level:2,title:"Event",slug:"event",normalizedTitle:"event",charIndex:724}],headersStr:"Agent Source Sink Channel Event",content:"# Flimeåºç¡æ¶æ\n\n\n\n\n# Agent\n\nAgentæ¯ä¸ä¸ªJVMè¿ç¨ï¼å®ä»¥äºä»¶çå½¢å¼å°æ°æ®ä»æºå¤´éè³ç®çã\n\nAgentä¸»è¦æ3ä¸ªé¨åç»æï¼SourceãChannelãSinkã\n\n\n# Source\n\nSourceæ¯è´è´£æ¥æ¶æ°æ®å°Flume Agentçç»ä»¶ãSourceç»ä»¶å¯ä»¥å¤çåç§ç±»åãåç§æ ¼å¼çæ¥å¿æ°æ®ï¼åæ¬avroãthriftãexecãjmsãspooling directoryãnetcatãsequence generatorãsyslogãhttpãlegacyã\n\n\n# Sink\n\nSinkä¸æ­å°è½®è¯¢Channelä¸­çäºä»¶ä¸æ¹éå°ç§»é¤å®ä»¬ï¼å¹¶å°è¿äºäºä»¶æ¹éåå¥å°å­å¨æç´¢å¼ç³»ç»ãæèè¢«åéå°å¦ä¸ä¸ªFlume Agentã\n\nSinkç»ä»¶ç®çå°åæ¬hdfsãloggerãavroãthriftãipcãfileãHBaseãsolrãèªå®ä¹ã\n\n\n# Channel\n\nChannelæ¯ä½äºSourceåSinkä¹é´çç¼å²åºãå æ­¤ï¼Channelåè®¸SourceåSinkè¿ä½å¨ä¸åçéçä¸ãChannelæ¯çº¿ç¨å®å¨çï¼å¯ä»¥åæ¶å¤çå ä¸ªSourceçåå¥æä½åå ä¸ªSinkçè¯»åæä½ã\n\nFlumeèªå¸¦ä¸¤ç§Channelï¼Memory ChannelåFile Channelã\n\nMemory Channelæ¯åå­ä¸­çéåãMemory Channelå¨ä¸éè¦å³å¿æ°æ®ä¸¢å¤±çææ¯ä¸éç¨ãå¦æéè¦å³å¿æ°æ®ä¸¢å¤±ï¼é£ä¹Memory Channelå°±ä¸åºè¯¥ä½¿ç¨ï¼å ä¸ºç¨åºæ­»äº¡ãæºå¨å®æºæèéå¯é½ä¼å¯¼è´æ°æ®ä¸¢å¤±ã\n\nFile Channelå°ææäºä»¶åå°ç£çãå æ­¤å¨ç¨åºå³é­ææºå¨å®æºçæåµä¸ä¸ä¼ä¸¢å¤±æ°æ®ã\n\n\n# Event\n\nä¼ è¾ååï¼Flumeæ°æ®ä¼ è¾çåºæ¬ååï¼ä»¥Eventçå½¢å¼å°æ°æ®ä»æºå¤´éè³ç®çå°ãEventç±HeaderåBodyä¸¤é¨åç»æï¼Headerç¨æ¥å­æ¾è¯¥eventçä¸äºå±æ§ï¼ä¸ºK-Vç»æï¼Bodyç¨æ¥å­æ¾è¯¥æ¡æ°æ®ï¼å½¢å¼ä¸ºå­èæ°ç»ã\n\n",normalizedContent:"# flimeåºç¡æ¶æ\n\n\n\n\n# agent\n\nagentæ¯ä¸ä¸ªjvmè¿ç¨ï¼å®ä»¥äºä»¶çå½¢å¼å°æ°æ®ä»æºå¤´éè³ç®çã\n\nagentä¸»è¦æ3ä¸ªé¨åç»æï¼sourceãchannelãsinkã\n\n\n# source\n\nsourceæ¯è´è´£æ¥æ¶æ°æ®å°flume agentçç»ä»¶ãsourceç»ä»¶å¯ä»¥å¤çåç§ç±»åãåç§æ ¼å¼çæ¥å¿æ°æ®ï¼åæ¬avroãthriftãexecãjmsãspooling directoryãnetcatãsequence generatorãsyslogãhttpãlegacyã\n\n\n# sink\n\nsinkä¸æ­å°è½®è¯¢channelä¸­çäºä»¶ä¸æ¹éå°ç§»é¤å®ä»¬ï¼å¹¶å°è¿äºäºä»¶æ¹éåå¥å°å­å¨æç´¢å¼ç³»ç»ãæèè¢«åéå°å¦ä¸ä¸ªflume agentã\n\nsinkç»ä»¶ç®çå°åæ¬hdfsãloggerãavroãthriftãipcãfileãhbaseãsolrãèªå®ä¹ã\n\n\n# channel\n\nchannelæ¯ä½äºsourceåsinkä¹é´çç¼å²åºãå æ­¤ï¼channelåè®¸sourceåsinkè¿ä½å¨ä¸åçéçä¸ãchannelæ¯çº¿ç¨å®å¨çï¼å¯ä»¥åæ¶å¤çå ä¸ªsourceçåå¥æä½åå ä¸ªsinkçè¯»åæä½ã\n\nflumeèªå¸¦ä¸¤ç§channelï¼memory channelåfile channelã\n\nmemory channelæ¯åå­ä¸­çéåãmemory channelå¨ä¸éè¦å³å¿æ°æ®ä¸¢å¤±çææ¯ä¸éç¨ãå¦æéè¦å³å¿æ°æ®ä¸¢å¤±ï¼é£ä¹memory channelå°±ä¸åºè¯¥ä½¿ç¨ï¼å ä¸ºç¨åºæ­»äº¡ãæºå¨å®æºæèéå¯é½ä¼å¯¼è´æ°æ®ä¸¢å¤±ã\n\nfile channelå°ææäºä»¶åå°ç£çãå æ­¤å¨ç¨åºå³é­ææºå¨å®æºçæåµä¸ä¸ä¼ä¸¢å¤±æ°æ®ã\n\n\n# event\n\nä¼ è¾ååï¼flumeæ°æ®ä¼ è¾çåºæ¬ååï¼ä»¥eventçå½¢å¼å°æ°æ®ä»æºå¤´éè³ç®çå°ãeventç±headeråbodyä¸¤é¨åç»æï¼headerç¨æ¥å­æ¾è¯¥eventçä¸äºå±æ§ï¼ä¸ºk-vç»æï¼bodyç¨æ¥å­æ¾è¯¥æ¡æ°æ®ï¼å½¢å¼ä¸ºå­èæ°ç»ã\n\n",charsets:{cjk:!0},lastUpdated:"2022/03/18, 07:01:11",lastUpdatedTimestamp:1647558071e3},{title:"Kafka",frontmatter:{title:"Kafka",date:"2022-03-17T22:08:02.000Z",permalink:"/pages/872cdc/",categories:["å¤§æ°æ®","Kafka"],tags:[null]},regularPath:"/%E5%A4%A7%E6%95%B0%E6%8D%AE/05.Kafka/01.Kafka.html",relativePath:"å¤§æ°æ®/05.Kafka/01.Kafka.md",key:"v-1391410f",path:"/pages/872cdc/",headersStr:null,content:"# Kafka\n\nKafkaæ¯æåç±Linkedinå¬å¸å¼åï¼æ¯ä¸ä¸ªåå¸å¼ãååºçãå¤å¯æ¬çãå¤è®¢éèï¼åºäºzookeeperåè°çåå¸å¼æ¥å¿ç³»ç»ï¼ä¹å¯ä»¥å½åMQç³»ç»ï¼ï¼å¸¸è§å¯ä»¥ç¨äºweb/nginxæ¥å¿ãè®¿é®æ¥å¿ï¼æ¶æ¯æå¡ç­ç­ï¼Linkedinäº2010å¹´è´¡ç®ç»äºApacheåºéä¼å¹¶æä¸ºé¡¶çº§å¼æºé¡¹ç®ã\n\nä¸»è¦åºç¨åºæ¯æ¯ï¼æ¥å¿æ¶éç³»ç»åæ¶æ¯ç³»ç»ã\n\nKafkaä¸»è¦è®¾è®¡ç®æ å¦ä¸ï¼\n\n * ä»¥æ¶é´å¤æåº¦ä¸ºO(1)çæ¹å¼æä¾æ¶æ¯æä¹åè½åï¼å³ä½¿å¯¹TBçº§ä»¥ä¸æ°æ®ä¹è½ä¿è¯å¸¸æ°æ¶é´çè®¿é®æ§è½ã\n * é«ååçãå³ä½¿å¨éå¸¸å»ä»·çåç¨æºå¨ä¸ä¹è½åå°åæºæ¯ææ¯ç§100Kæ¡æ¶æ¯çä¼ è¾ã\n * æ¯æKafka Serveré´çæ¶æ¯ååºï¼ååå¸å¼æ¶è´¹ï¼åæ¶ä¿è¯æ¯ä¸ªpartitionåçæ¶æ¯é¡ºåºä¼ è¾ã\n * åæ¶æ¯æç¦»çº¿æ°æ®å¤çåå®æ¶æ°æ®å¤çã\n * Scale out:æ¯æå¨çº¿æ°´å¹³æ©å±",normalizedContent:"# kafka\n\nkafkaæ¯æåç±linkedinå¬å¸å¼åï¼æ¯ä¸ä¸ªåå¸å¼ãååºçãå¤å¯æ¬çãå¤è®¢éèï¼åºäºzookeeperåè°çåå¸å¼æ¥å¿ç³»ç»ï¼ä¹å¯ä»¥å½åmqç³»ç»ï¼ï¼å¸¸è§å¯ä»¥ç¨äºweb/nginxæ¥å¿ãè®¿é®æ¥å¿ï¼æ¶æ¯æå¡ç­ç­ï¼linkedinäº2010å¹´è´¡ç®ç»äºapacheåºéä¼å¹¶æä¸ºé¡¶çº§å¼æºé¡¹ç®ã\n\nä¸»è¦åºç¨åºæ¯æ¯ï¼æ¥å¿æ¶éç³»ç»åæ¶æ¯ç³»ç»ã\n\nkafkaä¸»è¦è®¾è®¡ç®æ å¦ä¸ï¼\n\n * ä»¥æ¶é´å¤æåº¦ä¸ºo(1)çæ¹å¼æä¾æ¶æ¯æä¹åè½åï¼å³ä½¿å¯¹tbçº§ä»¥ä¸æ°æ®ä¹è½ä¿è¯å¸¸æ°æ¶é´çè®¿é®æ§è½ã\n * é«ååçãå³ä½¿å¨éå¸¸å»ä»·çåç¨æºå¨ä¸ä¹è½åå°åæºæ¯ææ¯ç§100kæ¡æ¶æ¯çä¼ è¾ã\n * æ¯ækafka serveré´çæ¶æ¯ååºï¼ååå¸å¼æ¶è´¹ï¼åæ¶ä¿è¯æ¯ä¸ªpartitionåçæ¶æ¯é¡ºåºä¼ è¾ã\n * åæ¶æ¯æç¦»çº¿æ°æ®å¤çåå®æ¶æ°æ®å¤çã\n * scale out:æ¯æå¨çº¿æ°´å¹³æ©å±",charsets:{cjk:!0},lastUpdated:"2022/03/18, 07:01:11",lastUpdatedTimestamp:1647558071e3},{title:"èªå®ä¹ç»ä»¶",frontmatter:{title:"èªå®ä¹ç»ä»¶",date:"2022-03-17T22:07:46.000Z",permalink:"/pages/8e2fbd/",categories:["å¤§æ°æ®","Flume"],tags:[null]},regularPath:"/%E5%A4%A7%E6%95%B0%E6%8D%AE/04.Flume/06.%E8%87%AA%E5%AE%9A%E4%B9%89%E7%BB%84%E4%BB%B6.html",relativePath:"å¤§æ°æ®/04.Flume/06.èªå®ä¹ç»ä»¶.md",key:"v-210176a7",path:"/pages/8e2fbd/",headers:[{level:2,title:"èªå®ä¹Interceptor æ¦æªå¨",slug:"èªå®ä¹interceptor-æ¦æªå¨",normalizedTitle:"èªå®ä¹interceptor æ¦æªå¨",charIndex:85},{level:2,title:"èªå®ä¹ Source",slug:"èªå®ä¹-source",normalizedTitle:"èªå®ä¹ source",charIndex:3260},{level:2,title:"èªå®ä¹ Sink",slug:"èªå®ä¹-sink",normalizedTitle:"èªå®ä¹ sink",charIndex:6185},{level:2,title:"Flume æ°æ®æµçæ§",slug:"flume-æ°æ®æµçæ§",normalizedTitle:"flume æ°æ®æµçæ§",charIndex:8562},{level:3,title:"Gangliaçå®è£ä¸é¨ç½²",slug:"gangliaçå®è£ä¸é¨ç½²",normalizedTitle:"gangliaçå®è£ä¸é¨ç½²",charIndex:8578},{level:3,title:"ä¿®æ¹éç½®",slug:"ä¿®æ¹éç½®",normalizedTitle:"ä¿®æ¹éç½®",charIndex:9200},{level:3,title:"å¯å¨",slug:"å¯å¨",normalizedTitle:"å¯å¨",charIndex:11172},{level:2,title:"æä½Flume æµè¯çæ§",slug:"æä½flume-æµè¯çæ§",normalizedTitle:"æä½flume æµè¯çæ§",charIndex:11387}],headersStr:"èªå®ä¹Interceptor æ¦æªå¨ èªå®ä¹ Source èªå®ä¹ Sink Flume æ°æ®æµçæ§ Gangliaçå®è£ä¸é¨ç½² ä¿®æ¹éç½® å¯å¨ æä½Flume æµè¯çæ§",content:'# èªå®ä¹ç»ä»¶\n\nhttp://flume.apache.org/releases/content/1.9.0/FlumeDeveloperGuide.html\n\n\n# èªå®ä¹Interceptor æ¦æªå¨\n\n\n\n#agent 1  hadoop102\na1.sources = r1\n\na1.sinks = k1 k2\na1.channels = c1 c2\n\na1.sources.r1.type = netcat \na1.sources.r1.bing = hadoop102\na1.sources.r1.port = 22222 \n\n#å¤ç¨éç½®\na1.sources.r1.selector.type = multiplexing \na1.sources.r1.selector.header = type\na1.sources.r1.selector.mapping.letter = c1\na1.sources.r1.selector.mapping.number = c2\n\n\na1.sources.r1.interceptors = i1\n#èªå®ä¹æ¦æªå¨ å¼å¥ç±»è·¯å¾ ä¸­ Builder åé¨ç±»\na1.sources.r1.interceptors.i1.type = comm.atguigu.demo.MyInterceptor$Builder\n\n\na1.sinks.k1.type = arvo \na1.sinks.k1.hostname = hadoop103\na1.sinks.k1.port = 33333\n\n#ç¬¬äºä¸ªsinks\na1.sinks.k2.type = arvo \na1.sinks.k2.hostname = hadoop104\na1.sinks.k2.port = 44444\n\na1.channels.c1.type = memory \na1.channels.c1.capacity = 1000 \na1.channels.c1.transactionCapacity = 100 \n#ç¬¬äºä¸ªchannel\na1.channels.c2.type = memory \na1.channels.c2.capacity = 1000 \na1.channels.c2.transactionCapacity = 100 \n\n#ä¸ä¸ªsources å¯¹æ¥ä¸¤ä¸ªchannels\na1.sources.r1.channels = c1 c2\n#æ¯ä¸ªsinkså¯¹åºä¸ä¸ªchannel\na1.sinks.k1.channel = c1\na1.sinks.k2.channel = c2\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n26\n27\n28\n29\n30\n31\n32\n33\n34\n35\n36\n37\n38\n39\n40\n41\n42\n43\n44\n\n\nagent2åagent3ä¸ä¹åæ å·®\n\nå¯¼å¥pomä¾èµ\n\n<dependency>\n    <groupId>org.apache.flume</groupId>\n    <artifactId>flume-ng-core</artifactId>\n    <version>1.9.0</version>\n</dependency>\n\n\n1\n2\n3\n4\n5\n\n\nå®ç°Interceptoræ¥å£ éåæ½è±¡æ¹æ³ å¹¶ä¹¦åä¸ä¸ªåé¨ç±»å®ç°Interceptor.Builderæ¥å£ å®ç°æ½è±¡æ¹æ³\n\npackage comm.atguigu.demo;\n\nimport org.apache.flume.Context;\nimport org.apache.flume.Event;\nimport org.apache.flume.interceptor.Interceptor;\n\nimport java.util.List;\n\n/**\n * èªå®ä¹æ¦æªå¨\n */\npublic class MyInterceptor implements Interceptor {\n    //åå§å\n    @Override\n    public void initialize() {\n\n    }\n\n    //ä¸ºæ¯ä¸ªeventä¸­çheaderæ·»å é®å¼å¯¹  channelProcessorè°ç¨æ¦æªå¨æ¶è°ç¨æ­¤æ¹æ³å¹¶å°eventä¼ è¿æ¥\n    @Override\n    public Event intercept(Event event) {\n        //è·åevent bodyä¸­çåå®¹\n        byte[] body = event.getBody();\n        //å¤æ­åå®¹æ¯å¦æ¯å­æ¯\n        if ((body[0] >= \'A\' && body[0] <= \'Z\') || (body[0] >= \'a\' && body[0] <= \'z\')) {\n            //åheaderæ·»å  type = letter\n            event.getHeaders().put("type", "letter");\n        } else if (body[0] >= \'0\' && body[0] <= \'9\') {\n            //å¦åæ·»å  type = number\n            event.getHeaders().put("type", "number");\n        }\n\n        return event;\n    }\n\n    @Override\n    public List<Event> intercept(List<Event> list) {\n        //éå\n        for (Event event : list) {\n            intercept(event);\n        }\n        return list;\n    }\n\n    //å³é­èµæº\n    @Override\n    public void close() {\n\n    }\n\n    /**\n     * è¿åMyInterceptorçå®ä¾\n     * 1.éæåé¨ç±» å¬å¼æé\n     */\n    public static class Builder implements Interceptor.Builder{\n\n        //è¿åèªå®ä¹æ¦æªå¨ç±»\n        @Override\n        public Interceptor build() {\n            return new MyInterceptor();\n        }\n\n        @Override\n        public void configure(Context context) {\n\n        }\n    }\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n26\n27\n28\n29\n30\n31\n32\n33\n34\n35\n36\n37\n38\n39\n40\n41\n42\n43\n44\n45\n46\n47\n48\n49\n50\n51\n52\n53\n54\n55\n56\n57\n58\n59\n60\n61\n62\n63\n64\n65\n66\n67\n68\n\n\nmavenæå ä¸ä¼ å°flumeä¸­libæä»¶å¤¹\n\nflume-ng agent -n a1 -c conf/ -f datas/flume_interceptor.conf -Dflume.root.logger=INFO,console\n\n\n1\n\n\n\n# èªå®ä¹ Source\n\nä½¿ç¨flumeæ¥æ¶æ°æ®ï¼å¹¶ç»æ¯æ¡æ°æ®æ·»å åç¼ï¼è¾åºå°æ§å¶å°ãåç¼å¯ä»flumeéç½®æä»¶ä¸­éç½®ã\n\n\n\nç»§æ¿ AbstractSource å®ç° Configurable, PollableSource\n\npackage comm.atguigu.demo;\n\nimport org.apache.flume.Context;\nimport org.apache.flume.Event;\nimport org.apache.flume.EventDeliveryException;\nimport org.apache.flume.PollableSource;\nimport org.apache.flume.channel.ChannelProcessor;\nimport org.apache.flume.conf.Configurable;\nimport org.apache.flume.event.SimpleEvent;\nimport org.apache.flume.source.AbstractSource;\n\nimport java.nio.charset.StandardCharsets;\nimport java.util.ArrayList;\nimport java.util.List;\n\n//èªå®ä¹source\n//ä½¿ç¨flumeæ¥æ¶æ°æ®ï¼å¹¶ç»æ¯æ¡æ°æ®æ·»å åç¼ï¼è¾åºå°æ§å¶å°ãåç¼å¯ä»flumeéç½®æä»¶ä¸­éç½®ã\npublic class MySource extends AbstractSource implements Configurable, PollableSource {\n    private String prefix;\n\n    /**\n     * è·åæ°æ®å°è£æeventå¹¶åå¥channelï¼è¿ä¸ªæ¹æ³å°è¢«å¾ªç¯è°ç¨ã\n     *\n     * @return status æä¸¾ç±» 1.READY æ·»å eventæå  2.BACKOFF æ·»å eventå¤±è´¥\n     * @throws EventDeliveryException\n     */\n    @Override\n    public Status process() throws EventDeliveryException {\n\n        try {\n            List<Event> list = new ArrayList<>();\n            for (int i = 0; i < 5; i++) {\n                //å°è£event\n                SimpleEvent event = new SimpleEvent();\n                //eventè®¾ç½®æ°æ® å ä¸åç¼\n                event.setBody((prefix + "hello" + i).getBytes(StandardCharsets.UTF_8));\n                //æ¾å¥éåä¸­\n                list.add(event);\n            }\n            //è·åchannelProcessor\n            ChannelProcessor channelProcessor = getChannelProcessor();\n            //å°æ°æ®æ¾å¥å°channelä¸­(channelProcessor)\n            // channelProcessor.processEvent(event); //åä¸ªæ°æ®\n            channelProcessor.processEventBatch(list); //éåæ¾å¥\n        } catch (Exception e) {\n            e.printStackTrace();\n            return Status.BACKOFF;\n        }\n        return Status.READY;\n    }\n\n    //æä¸ç¨  å½sourceæ²¡æ°æ®å¯å°è£æ¶ ä¼è®©sourceæå¨ççº¿ç¨ä¼æ¯ä¼\n    @Override\n    public long getBackOffSleepIncrement() {\n        return 2000L; //ä¼æ¯2000æ¯«ç§\n    }\n\n    //æä¸ç¨  å½sourceæ²¡æ°æ®å¯å°è£æ¶ ä¼è®©sourceæå¨ççº¿ç¨ä¼æ¯çæå¤§æ¶é´ å¦æåé¢ä¼æ¯çæ¶é´å¤§äºè®¾ç½®çmaxå¼ ååé¢é½ä¸ä¼æ¯(ä¼æ¯0æ¯«ç§)\n    @Override\n    public long getMaxBackOffSleepInterval() {\n        return 5000L;\n    }\n\n    //åå§åcontextï¼è¯»åéç½®æä»¶åå®¹ï¼\n    @Override\n    public void configure(Context context) {\n        //åç¼ é»è®¤å¼ä¸ºé»è®¤å¼test=\n        prefix = context.getString("prefix", "test=");\n\n    }\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n26\n27\n28\n29\n30\n31\n32\n33\n34\n35\n36\n37\n38\n39\n40\n41\n42\n43\n44\n45\n46\n47\n48\n49\n50\n51\n52\n53\n54\n55\n56\n57\n58\n59\n60\n61\n62\n63\n64\n65\n66\n67\n68\n69\n70\n71\n\n\næåå¹¶ä¸ä¼ å° flumeçlibä¸­\n\néç½®æä»¶\n\na1.sources = r1  \na1.sinks = k1\na1.channels = c1 \n\n#èªå®ä¹sources å¼ç¨ç±»è·¯å¾\na1.sources.r1.type = comm.atguigu.demo.MySource\n#èªå®ä¹è®¾ç½®åç¼ å¦æä¸ºç©º åä½¿ç¨èªå®ä¹ç±»ä¸­é»è®¤å¼test=\na1.sources.r1.prefix = qaq\n\na1.sinks.k1.type = logger  \n\na1.channels.c1.type = memory \na1.channels.c1.capacity = 1000 \na1.channels.c1.transactionCapacity = 100 \n\na1.sources.r1.channels = c1 \na1.sinks.k1.channel = c1 \n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n\n\n\n# èªå®ä¹ Sink\n\n\n\nç»§æ¿ AbstractSink å®ç° Configurable\n\npackage comm.atguigu.demo;\n\nimport org.apache.flume.*;\nimport org.apache.flume.conf.Configurable;\nimport org.apache.flume.sink.AbstractSink;\nimport org.slf4j.Logger;\nimport org.slf4j.LoggerFactory;\n\npublic class MySink extends AbstractSink implements Configurable {\n\n    //ä»éç½®æä»¶è¯»åsuffixçå¼\n    private String suffix;\n    //è·åloggerå¯¹è±¡ å¯ä»¥å°æ°æ®ä»¥æ¥å¿çæ¹å¼è¾åº  æä»¥ åå¥æ°æ®æ¬å°ç­æä¹åæ°æ®\n    Logger logger = LoggerFactory.getLogger(MySink.class);\n\n    /**\n     * ç¨æ¥å¤çsinké»è¾ å°channelä¸­çåå®¹ååºå» ä¼è¢«ä¸åçå¾ªç¯è°ç¨\n     *\n     * @return\n     * @throws EventDeliveryException\n     */\n    @Override\n    public Status process() throws EventDeliveryException {\n        //è·åchannel\n        Channel channel = getChannel();\n        //è·åäºå¡\n        Transaction transaction = channel.getTransaction();\n        try {\n            Event event = null;\n            transaction.begin();//å¼å¯äºå¡\n\n            while (true) {\n                event = channel.take();//è·åæ°æ®\n                if (event != null) {\n                    //ä¿è¯eventä¸­æ¯ææ°æ®ç\n                    break;\n                }\n            }\n\n            //å°æ°æ®ååº æ­¤å¤ä»¥æ¥å¿å½¢å¼è¾åº  ä»¥æç§æä¹åå½¢å¼å°æ°æ®è¾åº\n            logger.info(new String(event.getBody()) + suffix);\n            //æäº¤äºå¡\n            transaction.commit();\n        } catch (ChannelException e) {\n            e.printStackTrace();\n            transaction.rollback(); //äºå¡åæ»\n            return Status.BACKOFF; //è·åæ°æ®å¤±è´¥\n\n        } finally {\n            transaction.close(); //å³é­èµæº\n        }\n\n        return Status.READY;\n    }\n\n\n    /**\n     * è·åä¸ä¸æ è¯»åéç½®æä»¶ä¸­çåå®¹\n     *\n     * @param context\n     */\n    @Override\n    public void configure(Context context) {\n        suffix = context.getString("suffix", "test");\n    }\n}\n\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n26\n27\n28\n29\n30\n31\n32\n33\n34\n35\n36\n37\n38\n39\n40\n41\n42\n43\n44\n45\n46\n47\n48\n49\n50\n51\n52\n53\n54\n55\n56\n57\n58\n59\n60\n61\n62\n63\n64\n65\n66\n67\n\n\næåä¸ä¼ å°flumeçlibä¸­\n\néç½®æä»¶\n\na1.sources = r1  \na1.sinks = k1\na1.channels = c1 \n\na1.sources.r1.type = netcat \na1.sources.r1.bind = localhost \na1.sources.r1.port = 44444 \n\n#èªå®ä¹sink\na1.sinks.k1.type = comm.atguigu.demo.MySink\n#ç»æ°æ®è®¾ç½®åç¼\na1.sinks.k1.suffix = atguigu\n\na1.channels.c1.type = memory \na1.channels.c1.capacity = 1000 \na1.channels.c1.transactionCapacity = 100 \n\na1.sources.r1.channels = c1 \na1.sinks.k1.channel = c1 \n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n\n\n\n# Flume æ°æ®æµçæ§\n\n\n# Gangliaçå®è£ä¸é¨ç½²\n\nsudo yum -y install httpd php # å®è£ httpdæå¡ ä¸ php\nsudo yum -y install rrdtool perl-rrdtool rrdtool-devel # ä¾èµ\nsudo yum -y install apr-devel #ä¾èµ\n\n#å®è£ganglia\nsudo yum install epel-release\nsudo yum -y install ganglia-gmetad\nsudo yum -y install ganglia-web\nsudo yum install -y ganglia-gmond\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n\n\nGangliaç±gmondãgmetadågwebä¸é¨åç»æã\n\ngmondï¼Ganglia Monitoring Daemonï¼æ¯ä¸ç§è½»éçº§æå¡ï¼å®è£å¨æ¯å°éè¦æ¶éææ æ°æ®çèç¹ä¸»æºä¸ãä½¿ç¨gmondï¼ä½ å¯ä»¥å¾å®¹ææ¶éå¾å¤ç³»ç»ææ æ°æ®ï¼å¦CPUãåå­ãç£çãç½ç»åæ´»è·è¿ç¨çæ°æ®ç­ã\n\ngmetadï¼Ganglia Meta Daemonï¼æ´åææä¿¡æ¯ï¼å¹¶å°å¶ä»¥RRDæ ¼å¼å­å¨è³ç£ççæå¡ã\n\ngwebï¼Ganglia Webï¼Gangliaå¯è§åå·¥å·ï¼gwebæ¯ä¸ç§å©ç¨æµè§å¨æ¾ç¤ºgmetadæå­å¨æ°æ®çPHPåç«¯ãå¨Webçé¢ä¸­ä»¥å¾è¡¨æ¹å¼å±ç°éç¾¤çè¿è¡ç¶æä¸æ¶éçå¤ç§ä¸åææ æ°æ®ã\n\n\n# ä¿®æ¹éç½®\n\nsudo vim /etc/httpd/conf.d/ganglia.conf\n\n\n1\n\n\n# Ganglia monitoring system php web frontend\nAlias /ganglia /usr/share/ganglia\n<Location /ganglia>\n  Require all granted\n  #Deny from all\n  # Allow from 127.0.0.1\n  # Allow from ::1\n  # Allow from .example.com\n</Location>\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n\n\nsudo vim /etc/ganglia/gmetad.conf\n\n\n1\n\n\n#æ´æ¹æ­¤å­æ®µçipå°å\ndata_source "my_cluster" 192.168.130.102 \n\n\n1\n2\n\n\nsudo vim /etc/ganglia/gmond.conf\n\n\n1\n\n\ncluster {\n  name = "my_cluster"\n  owner = "unspecified"\n  latlong = "unspecified"\n  url = "unspecified"\n}\nudp_send_channel {\n  #bind_hostname = yes # Highly recommended, soon to be default.\n                       # This option tells gmond to use a source address\n                       # that resolves to the machine\'s hostname.  Without\n                       # this, the metrics may appear to come from any\n                       # interface and the DNS names associated with\n                       # those IPs will be used to create the RRDs.\n  # mcast_join = 239.2.11.71\n  host = 192.168.130.102\n  port = 8649\n  ttl = 1\n}\nudp_recv_channel {\n  # mcast_join = 239.2.11.71\n  port = 8649\n  bind = 192.168.130.102\n  retry_bind = true\n  # Size of the UDP buffer. If you are handling lots of metrics you really\n  # should bump it up to e.g. 10MB or even higher.\n  # buffer = 10485760\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n26\n27\n\n\nsudo vim /etc/selinux/config\n\n\n1\n\n\n# This file controls the state of SELinux on the system.\n# SELINUX= can take one of these three values:\n#     enforcing - SELinux security policy is enforced.\n#     permissive - SELinux prints warnings instead of enforcing.\n#     disabled - No SELinux policy is loaded.\nSELINUX=disabled\n# SELINUXTYPE= can take one of these two values:\n#     targeted - Targeted processes are protected,\n#     mls - Multi Level Security protection.\nSELINUXTYPE=targeted\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n\n\nselinuxæ¬æ¬¡çæå³é­å¿é¡»éå¯ï¼å¦ææ­¤æ¶ä¸æ³éå¯ï¼å¯ä»¥ä¸´æ¶çæä¹\n\nsudo setenforce 0\n\n\n1\n\n\n\n# å¯å¨\n\nsudo service httpd start\nsudo service gmetad start\nsudo service gmond start\n\n\n1\n2\n3\n\n\nè®¿é® http://192.168.130.102/ganglia\n\nå¦æå®æä»¥ä¸æä½ä¾ç¶åºç°æéä¸è¶³éè¯¯ï¼è¯·ä¿®æ¹/var/lib/gangliaç®å½çæéï¼\n\nsudo chmod -R 777 /var/lib/ganglia\n\n\n1\n\n\n\n# æä½Flume æµè¯çæ§\n\nè¿å¥flumeä¸çconfç®å½\n\ncd /opt/module/flume/conf/\nmv flume-env.sh.template flume-env.sh #éå½å\nvim flume-env.sh \n\n\n1\n2\n3\n\n\nè¿½å ä»¥ä¸éç½® ipå°åä¸ºgangliaä¸»å°å\n\nJAVA_OPTS="-Dflume.monitoring.type=ganglia\n-Dflume.monitoring.hosts=192.168.130.102:8649\n-Xms100m\n-Xmx200m"\n\n\n1\n2\n3\n4\n\n\nå¯å¨flumeä»»å¡\n\nflume-ng agent \\\n--conf conf/ \\\n--name a1 \\\n--conf-file datas/netcatsource_loggersink.conf \\\n-Dflume.root.logger==INFO,console \\\n-Dflume.monitoring.type=ganglia \\\n-Dflume.monitoring.hosts=192.168.130.102:8649\n\n\n1\n2\n3\n4\n5\n6\n7\n\n\nåéä¿¡æ¯\n\nnc localhost 44444\n\n\n1\n\n\n\n\nå¾ä¾è¯´æ\n\nå­æ®µï¼å¾è¡¨åç§°ï¼                å­æ®µå«ä¹\nEventPutAttemptCount    sourceå°è¯åå¥channelçäºä»¶æ»æ°é\nEventPutSuccessCount    æååå¥channelä¸æäº¤çäºä»¶æ»æ°é\nEventTakeAttemptCount   sinkå°è¯ä»channelæåäºä»¶çæ»æ°éã\nEventTakeSuccessCount   sinkæåè¯»åçäºä»¶çæ»æ°é\nStartTime               channelå¯å¨çæ¶é´ï¼æ¯«ç§ï¼\nStopTime                channelåæ­¢çæ¶é´ï¼æ¯«ç§ï¼\nChannelSize             ç®åchannelä¸­äºä»¶çæ»æ°é\nChannelFillPercentage   channelå ç¨ç¾åæ¯\nChannelCapacity         channelçå®¹é',normalizedContent:'# èªå®ä¹ç»ä»¶\n\nhttp://flume.apache.org/releases/content/1.9.0/flumedeveloperguide.html\n\n\n# èªå®ä¹interceptor æ¦æªå¨\n\n\n\n#agent 1  hadoop102\na1.sources = r1\n\na1.sinks = k1 k2\na1.channels = c1 c2\n\na1.sources.r1.type = netcat \na1.sources.r1.bing = hadoop102\na1.sources.r1.port = 22222 \n\n#å¤ç¨éç½®\na1.sources.r1.selector.type = multiplexing \na1.sources.r1.selector.header = type\na1.sources.r1.selector.mapping.letter = c1\na1.sources.r1.selector.mapping.number = c2\n\n\na1.sources.r1.interceptors = i1\n#èªå®ä¹æ¦æªå¨ å¼å¥ç±»è·¯å¾ ä¸­ builder åé¨ç±»\na1.sources.r1.interceptors.i1.type = comm.atguigu.demo.myinterceptor$builder\n\n\na1.sinks.k1.type = arvo \na1.sinks.k1.hostname = hadoop103\na1.sinks.k1.port = 33333\n\n#ç¬¬äºä¸ªsinks\na1.sinks.k2.type = arvo \na1.sinks.k2.hostname = hadoop104\na1.sinks.k2.port = 44444\n\na1.channels.c1.type = memory \na1.channels.c1.capacity = 1000 \na1.channels.c1.transactioncapacity = 100 \n#ç¬¬äºä¸ªchannel\na1.channels.c2.type = memory \na1.channels.c2.capacity = 1000 \na1.channels.c2.transactioncapacity = 100 \n\n#ä¸ä¸ªsources å¯¹æ¥ä¸¤ä¸ªchannels\na1.sources.r1.channels = c1 c2\n#æ¯ä¸ªsinkså¯¹åºä¸ä¸ªchannel\na1.sinks.k1.channel = c1\na1.sinks.k2.channel = c2\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n26\n27\n28\n29\n30\n31\n32\n33\n34\n35\n36\n37\n38\n39\n40\n41\n42\n43\n44\n\n\nagent2åagent3ä¸ä¹åæ å·®\n\nå¯¼å¥pomä¾èµ\n\n<dependency>\n    <groupid>org.apache.flume</groupid>\n    <artifactid>flume-ng-core</artifactid>\n    <version>1.9.0</version>\n</dependency>\n\n\n1\n2\n3\n4\n5\n\n\nå®ç°interceptoræ¥å£ éåæ½è±¡æ¹æ³ å¹¶ä¹¦åä¸ä¸ªåé¨ç±»å®ç°interceptor.builderæ¥å£ å®ç°æ½è±¡æ¹æ³\n\npackage comm.atguigu.demo;\n\nimport org.apache.flume.context;\nimport org.apache.flume.event;\nimport org.apache.flume.interceptor.interceptor;\n\nimport java.util.list;\n\n/**\n * èªå®ä¹æ¦æªå¨\n */\npublic class myinterceptor implements interceptor {\n    //åå§å\n    @override\n    public void initialize() {\n\n    }\n\n    //ä¸ºæ¯ä¸ªeventä¸­çheaderæ·»å é®å¼å¯¹  channelprocessorè°ç¨æ¦æªå¨æ¶è°ç¨æ­¤æ¹æ³å¹¶å°eventä¼ è¿æ¥\n    @override\n    public event intercept(event event) {\n        //è·åevent bodyä¸­çåå®¹\n        byte[] body = event.getbody();\n        //å¤æ­åå®¹æ¯å¦æ¯å­æ¯\n        if ((body[0] >= \'a\' && body[0] <= \'z\') || (body[0] >= \'a\' && body[0] <= \'z\')) {\n            //åheaderæ·»å  type = letter\n            event.getheaders().put("type", "letter");\n        } else if (body[0] >= \'0\' && body[0] <= \'9\') {\n            //å¦åæ·»å  type = number\n            event.getheaders().put("type", "number");\n        }\n\n        return event;\n    }\n\n    @override\n    public list<event> intercept(list<event> list) {\n        //éå\n        for (event event : list) {\n            intercept(event);\n        }\n        return list;\n    }\n\n    //å³é­èµæº\n    @override\n    public void close() {\n\n    }\n\n    /**\n     * è¿åmyinterceptorçå®ä¾\n     * 1.éæåé¨ç±» å¬å¼æé\n     */\n    public static class builder implements interceptor.builder{\n\n        //è¿åèªå®ä¹æ¦æªå¨ç±»\n        @override\n        public interceptor build() {\n            return new myinterceptor();\n        }\n\n        @override\n        public void configure(context context) {\n\n        }\n    }\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n26\n27\n28\n29\n30\n31\n32\n33\n34\n35\n36\n37\n38\n39\n40\n41\n42\n43\n44\n45\n46\n47\n48\n49\n50\n51\n52\n53\n54\n55\n56\n57\n58\n59\n60\n61\n62\n63\n64\n65\n66\n67\n68\n\n\nmavenæå ä¸ä¼ å°flumeä¸­libæä»¶å¤¹\n\nflume-ng agent -n a1 -c conf/ -f datas/flume_interceptor.conf -dflume.root.logger=info,console\n\n\n1\n\n\n\n# èªå®ä¹ source\n\nä½¿ç¨flumeæ¥æ¶æ°æ®ï¼å¹¶ç»æ¯æ¡æ°æ®æ·»å åç¼ï¼è¾åºå°æ§å¶å°ãåç¼å¯ä»flumeéç½®æä»¶ä¸­éç½®ã\n\n\n\nç»§æ¿ abstractsource å®ç° configurable, pollablesource\n\npackage comm.atguigu.demo;\n\nimport org.apache.flume.context;\nimport org.apache.flume.event;\nimport org.apache.flume.eventdeliveryexception;\nimport org.apache.flume.pollablesource;\nimport org.apache.flume.channel.channelprocessor;\nimport org.apache.flume.conf.configurable;\nimport org.apache.flume.event.simpleevent;\nimport org.apache.flume.source.abstractsource;\n\nimport java.nio.charset.standardcharsets;\nimport java.util.arraylist;\nimport java.util.list;\n\n//èªå®ä¹source\n//ä½¿ç¨flumeæ¥æ¶æ°æ®ï¼å¹¶ç»æ¯æ¡æ°æ®æ·»å åç¼ï¼è¾åºå°æ§å¶å°ãåç¼å¯ä»flumeéç½®æä»¶ä¸­éç½®ã\npublic class mysource extends abstractsource implements configurable, pollablesource {\n    private string prefix;\n\n    /**\n     * è·åæ°æ®å°è£æeventå¹¶åå¥channelï¼è¿ä¸ªæ¹æ³å°è¢«å¾ªç¯è°ç¨ã\n     *\n     * @return status æä¸¾ç±» 1.ready æ·»å eventæå  2.backoff æ·»å eventå¤±è´¥\n     * @throws eventdeliveryexception\n     */\n    @override\n    public status process() throws eventdeliveryexception {\n\n        try {\n            list<event> list = new arraylist<>();\n            for (int i = 0; i < 5; i++) {\n                //å°è£event\n                simpleevent event = new simpleevent();\n                //eventè®¾ç½®æ°æ® å ä¸åç¼\n                event.setbody((prefix + "hello" + i).getbytes(standardcharsets.utf_8));\n                //æ¾å¥éåä¸­\n                list.add(event);\n            }\n            //è·åchannelprocessor\n            channelprocessor channelprocessor = getchannelprocessor();\n            //å°æ°æ®æ¾å¥å°channelä¸­(channelprocessor)\n            // channelprocessor.processevent(event); //åä¸ªæ°æ®\n            channelprocessor.processeventbatch(list); //éåæ¾å¥\n        } catch (exception e) {\n            e.printstacktrace();\n            return status.backoff;\n        }\n        return status.ready;\n    }\n\n    //æä¸ç¨  å½sourceæ²¡æ°æ®å¯å°è£æ¶ ä¼è®©sourceæå¨ççº¿ç¨ä¼æ¯ä¼\n    @override\n    public long getbackoffsleepincrement() {\n        return 2000l; //ä¼æ¯2000æ¯«ç§\n    }\n\n    //æä¸ç¨  å½sourceæ²¡æ°æ®å¯å°è£æ¶ ä¼è®©sourceæå¨ççº¿ç¨ä¼æ¯çæå¤§æ¶é´ å¦æåé¢ä¼æ¯çæ¶é´å¤§äºè®¾ç½®çmaxå¼ ååé¢é½ä¸ä¼æ¯(ä¼æ¯0æ¯«ç§)\n    @override\n    public long getmaxbackoffsleepinterval() {\n        return 5000l;\n    }\n\n    //åå§åcontextï¼è¯»åéç½®æä»¶åå®¹ï¼\n    @override\n    public void configure(context context) {\n        //åç¼ é»è®¤å¼ä¸ºé»è®¤å¼test=\n        prefix = context.getstring("prefix", "test=");\n\n    }\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n26\n27\n28\n29\n30\n31\n32\n33\n34\n35\n36\n37\n38\n39\n40\n41\n42\n43\n44\n45\n46\n47\n48\n49\n50\n51\n52\n53\n54\n55\n56\n57\n58\n59\n60\n61\n62\n63\n64\n65\n66\n67\n68\n69\n70\n71\n\n\næåå¹¶ä¸ä¼ å° flumeçlibä¸­\n\néç½®æä»¶\n\na1.sources = r1  \na1.sinks = k1\na1.channels = c1 \n\n#èªå®ä¹sources å¼ç¨ç±»è·¯å¾\na1.sources.r1.type = comm.atguigu.demo.mysource\n#èªå®ä¹è®¾ç½®åç¼ å¦æä¸ºç©º åä½¿ç¨èªå®ä¹ç±»ä¸­é»è®¤å¼test=\na1.sources.r1.prefix = qaq\n\na1.sinks.k1.type = logger  \n\na1.channels.c1.type = memory \na1.channels.c1.capacity = 1000 \na1.channels.c1.transactioncapacity = 100 \n\na1.sources.r1.channels = c1 \na1.sinks.k1.channel = c1 \n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n\n\n\n# èªå®ä¹ sink\n\n\n\nç»§æ¿ abstractsink å®ç° configurable\n\npackage comm.atguigu.demo;\n\nimport org.apache.flume.*;\nimport org.apache.flume.conf.configurable;\nimport org.apache.flume.sink.abstractsink;\nimport org.slf4j.logger;\nimport org.slf4j.loggerfactory;\n\npublic class mysink extends abstractsink implements configurable {\n\n    //ä»éç½®æä»¶è¯»åsuffixçå¼\n    private string suffix;\n    //è·åloggerå¯¹è±¡ å¯ä»¥å°æ°æ®ä»¥æ¥å¿çæ¹å¼è¾åº  æä»¥ åå¥æ°æ®æ¬å°ç­æä¹åæ°æ®\n    logger logger = loggerfactory.getlogger(mysink.class);\n\n    /**\n     * ç¨æ¥å¤çsinké»è¾ å°channelä¸­çåå®¹ååºå» ä¼è¢«ä¸åçå¾ªç¯è°ç¨\n     *\n     * @return\n     * @throws eventdeliveryexception\n     */\n    @override\n    public status process() throws eventdeliveryexception {\n        //è·åchannel\n        channel channel = getchannel();\n        //è·åäºå¡\n        transaction transaction = channel.gettransaction();\n        try {\n            event event = null;\n            transaction.begin();//å¼å¯äºå¡\n\n            while (true) {\n                event = channel.take();//è·åæ°æ®\n                if (event != null) {\n                    //ä¿è¯eventä¸­æ¯ææ°æ®ç\n                    break;\n                }\n            }\n\n            //å°æ°æ®ååº æ­¤å¤ä»¥æ¥å¿å½¢å¼è¾åº  ä»¥æç§æä¹åå½¢å¼å°æ°æ®è¾åº\n            logger.info(new string(event.getbody()) + suffix);\n            //æäº¤äºå¡\n            transaction.commit();\n        } catch (channelexception e) {\n            e.printstacktrace();\n            transaction.rollback(); //äºå¡åæ»\n            return status.backoff; //è·åæ°æ®å¤±è´¥\n\n        } finally {\n            transaction.close(); //å³é­èµæº\n        }\n\n        return status.ready;\n    }\n\n\n    /**\n     * è·åä¸ä¸æ è¯»åéç½®æä»¶ä¸­çåå®¹\n     *\n     * @param context\n     */\n    @override\n    public void configure(context context) {\n        suffix = context.getstring("suffix", "test");\n    }\n}\n\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n26\n27\n28\n29\n30\n31\n32\n33\n34\n35\n36\n37\n38\n39\n40\n41\n42\n43\n44\n45\n46\n47\n48\n49\n50\n51\n52\n53\n54\n55\n56\n57\n58\n59\n60\n61\n62\n63\n64\n65\n66\n67\n\n\næåä¸ä¼ å°flumeçlibä¸­\n\néç½®æä»¶\n\na1.sources = r1  \na1.sinks = k1\na1.channels = c1 \n\na1.sources.r1.type = netcat \na1.sources.r1.bind = localhost \na1.sources.r1.port = 44444 \n\n#èªå®ä¹sink\na1.sinks.k1.type = comm.atguigu.demo.mysink\n#ç»æ°æ®è®¾ç½®åç¼\na1.sinks.k1.suffix = atguigu\n\na1.channels.c1.type = memory \na1.channels.c1.capacity = 1000 \na1.channels.c1.transactioncapacity = 100 \n\na1.sources.r1.channels = c1 \na1.sinks.k1.channel = c1 \n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n\n\n\n# flume æ°æ®æµçæ§\n\n\n# gangliaçå®è£ä¸é¨ç½²\n\nsudo yum -y install httpd php # å®è£ httpdæå¡ ä¸ php\nsudo yum -y install rrdtool perl-rrdtool rrdtool-devel # ä¾èµ\nsudo yum -y install apr-devel #ä¾èµ\n\n#å®è£ganglia\nsudo yum install epel-release\nsudo yum -y install ganglia-gmetad\nsudo yum -y install ganglia-web\nsudo yum install -y ganglia-gmond\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n\n\ngangliaç±gmondãgmetadågwebä¸é¨åç»æã\n\ngmondï¼ganglia monitoring daemonï¼æ¯ä¸ç§è½»éçº§æå¡ï¼å®è£å¨æ¯å°éè¦æ¶éææ æ°æ®çèç¹ä¸»æºä¸ãä½¿ç¨gmondï¼ä½ å¯ä»¥å¾å®¹ææ¶éå¾å¤ç³»ç»ææ æ°æ®ï¼å¦cpuãåå­ãç£çãç½ç»åæ´»è·è¿ç¨çæ°æ®ç­ã\n\ngmetadï¼ganglia meta daemonï¼æ´åææä¿¡æ¯ï¼å¹¶å°å¶ä»¥rrdæ ¼å¼å­å¨è³ç£ççæå¡ã\n\ngwebï¼ganglia webï¼gangliaå¯è§åå·¥å·ï¼gwebæ¯ä¸ç§å©ç¨æµè§å¨æ¾ç¤ºgmetadæå­å¨æ°æ®çphpåç«¯ãå¨webçé¢ä¸­ä»¥å¾è¡¨æ¹å¼å±ç°éç¾¤çè¿è¡ç¶æä¸æ¶éçå¤ç§ä¸åææ æ°æ®ã\n\n\n# ä¿®æ¹éç½®\n\nsudo vim /etc/httpd/conf.d/ganglia.conf\n\n\n1\n\n\n# ganglia monitoring system php web frontend\nalias /ganglia /usr/share/ganglia\n<location /ganglia>\n  require all granted\n  #deny from all\n  # allow from 127.0.0.1\n  # allow from ::1\n  # allow from .example.com\n</location>\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n\n\nsudo vim /etc/ganglia/gmetad.conf\n\n\n1\n\n\n#æ´æ¹æ­¤å­æ®µçipå°å\ndata_source "my_cluster" 192.168.130.102 \n\n\n1\n2\n\n\nsudo vim /etc/ganglia/gmond.conf\n\n\n1\n\n\ncluster {\n  name = "my_cluster"\n  owner = "unspecified"\n  latlong = "unspecified"\n  url = "unspecified"\n}\nudp_send_channel {\n  #bind_hostname = yes # highly recommended, soon to be default.\n                       # this option tells gmond to use a source address\n                       # that resolves to the machine\'s hostname.  without\n                       # this, the metrics may appear to come from any\n                       # interface and the dns names associated with\n                       # those ips will be used to create the rrds.\n  # mcast_join = 239.2.11.71\n  host = 192.168.130.102\n  port = 8649\n  ttl = 1\n}\nudp_recv_channel {\n  # mcast_join = 239.2.11.71\n  port = 8649\n  bind = 192.168.130.102\n  retry_bind = true\n  # size of the udp buffer. if you are handling lots of metrics you really\n  # should bump it up to e.g. 10mb or even higher.\n  # buffer = 10485760\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n26\n27\n\n\nsudo vim /etc/selinux/config\n\n\n1\n\n\n# this file controls the state of selinux on the system.\n# selinux= can take one of these three values:\n#     enforcing - selinux security policy is enforced.\n#     permissive - selinux prints warnings instead of enforcing.\n#     disabled - no selinux policy is loaded.\nselinux=disabled\n# selinuxtype= can take one of these two values:\n#     targeted - targeted processes are protected,\n#     mls - multi level security protection.\nselinuxtype=targeted\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n\n\nselinuxæ¬æ¬¡çæå³é­å¿é¡»éå¯ï¼å¦ææ­¤æ¶ä¸æ³éå¯ï¼å¯ä»¥ä¸´æ¶çæä¹\n\nsudo setenforce 0\n\n\n1\n\n\n\n# å¯å¨\n\nsudo service httpd start\nsudo service gmetad start\nsudo service gmond start\n\n\n1\n2\n3\n\n\nè®¿é® http://192.168.130.102/ganglia\n\nå¦æå®æä»¥ä¸æä½ä¾ç¶åºç°æéä¸è¶³éè¯¯ï¼è¯·ä¿®æ¹/var/lib/gangliaç®å½çæéï¼\n\nsudo chmod -r 777 /var/lib/ganglia\n\n\n1\n\n\n\n# æä½flume æµè¯çæ§\n\nè¿å¥flumeä¸çconfç®å½\n\ncd /opt/module/flume/conf/\nmv flume-env.sh.template flume-env.sh #éå½å\nvim flume-env.sh \n\n\n1\n2\n3\n\n\nè¿½å ä»¥ä¸éç½® ipå°åä¸ºgangliaä¸»å°å\n\njava_opts="-dflume.monitoring.type=ganglia\n-dflume.monitoring.hosts=192.168.130.102:8649\n-xms100m\n-xmx200m"\n\n\n1\n2\n3\n4\n\n\nå¯å¨flumeä»»å¡\n\nflume-ng agent \\\n--conf conf/ \\\n--name a1 \\\n--conf-file datas/netcatsource_loggersink.conf \\\n-dflume.root.logger==info,console \\\n-dflume.monitoring.type=ganglia \\\n-dflume.monitoring.hosts=192.168.130.102:8649\n\n\n1\n2\n3\n4\n5\n6\n7\n\n\nåéä¿¡æ¯\n\nnc localhost 44444\n\n\n1\n\n\n\n\nå¾ä¾è¯´æ\n\nå­æ®µï¼å¾è¡¨åç§°ï¼                å­æ®µå«ä¹\neventputattemptcount    sourceå°è¯åå¥channelçäºä»¶æ»æ°é\neventputsuccesscount    æååå¥channelä¸æäº¤çäºä»¶æ»æ°é\neventtakeattemptcount   sinkå°è¯ä»channelæåäºä»¶çæ»æ°éã\neventtakesuccesscount   sinkæåè¯»åçäºä»¶çæ»æ°é\nstarttime               channelå¯å¨çæ¶é´ï¼æ¯«ç§ï¼\nstoptime                channelåæ­¢çæ¶é´ï¼æ¯«ç§ï¼\nchannelsize             ç®åchannelä¸­äºä»¶çæ»æ°é\nchannelfillpercentage   channelå ç¨ç¾åæ¯\nchannelcapacity         channelçå®¹é',charsets:{cjk:!0},lastUpdated:"2022/03/18, 07:01:11",lastUpdatedTimestamp:1647558071e3},{title:"é¢è¯é¢",frontmatter:{title:"é¢è¯é¢",date:"2022-03-17T22:07:46.000Z",permalink:"/pages/800f9f/",categories:["å¤§æ°æ®","Flume"],tags:[null]},regularPath:"/%E5%A4%A7%E6%95%B0%E6%8D%AE/04.Flume/07.%E9%9D%A2%E8%AF%95%E9%A2%98.html",relativePath:"å¤§æ°æ®/04.Flume/07.é¢è¯é¢.md",key:"v-598b6c9d",path:"/pages/800f9f/",headers:[{level:2,title:"ä½ æ¯å¦ä½å®ç°Flumeæ°æ®ä¼ è¾ççæ§ç",slug:"ä½ æ¯å¦ä½å®ç°flumeæ°æ®ä¼ è¾ççæ§ç",normalizedTitle:"ä½ æ¯å¦ä½å®ç°flumeæ°æ®ä¼ è¾ççæ§ç",charIndex:10},{level:2,title:"FlumeçSourceï¼Sinkï¼Channelçä½ç¨ï¼ä½ ä»¬Sourceæ¯ä»ä¹ç±»åï¼",slug:"flumeçsource-sink-channelçä½ç¨-ä½ ä»¬sourceæ¯ä»ä¹ç±»å",normalizedTitle:"flumeçsourceï¼sinkï¼channelçä½ç¨ï¼ä½ ä»¬sourceæ¯ä»ä¹ç±»åï¼",charIndex:60},{level:2,title:"FlumeçChannel Selectors",slug:"flumeçchannel-selectors",normalizedTitle:"flumeçchannel selectors",charIndex:441},{level:2,title:"Flumeåæ°è°ä¼",slug:"flumeåæ°è°ä¼",normalizedTitle:"flumeåæ°è°ä¼",charIndex:471},{level:2,title:"Flumeééæ°æ®ä¼ä¸¢å¤±å?",slug:"flumeééæ°æ®ä¼ä¸¢å¤±å",normalizedTitle:"flumeééæ°æ®ä¼ä¸¢å¤±å?",charIndex:1195},{level:2,title:"Flumeçäºå¡æºå¶",slug:"flumeçäºå¡æºå¶",normalizedTitle:"flumeçäºå¡æºå¶",charIndex:1476}],headersStr:"ä½ æ¯å¦ä½å®ç°Flumeæ°æ®ä¼ è¾ççæ§ç FlumeçSourceï¼Sinkï¼Channelçä½ç¨ï¼ä½ ä»¬Sourceæ¯ä»ä¹ç±»åï¼ FlumeçChannel Selectors Flumeåæ°è°ä¼ Flumeééæ°æ®ä¼ä¸¢å¤±å? Flumeçäºå¡æºå¶",content:"# é¢è¯é¢\n\n\n# ä½ æ¯å¦ä½å®ç°Flumeæ°æ®ä¼ è¾ççæ§ç\n\nä½¿ç¨ç¬¬ä¸æ¹æ¡æ¶Gangliaå®æ¶çæ§Flumeã\n\n\n# FlumeçSourceï¼Sinkï¼Channelçä½ç¨ï¼ä½ ä»¬Sourceæ¯ä»ä¹ç±»åï¼\n\n1ï¼ä½ç¨\n\nï¼1ï¼Sourceç»ä»¶æ¯ä¸é¨ç¨æ¥æ¶éæ°æ®çï¼å¯ä»¥å¤çåç§ç±»åãåç§æ ¼å¼çæ¥å¿æ°æ®ï¼åæ¬avroãthriftãexecãjmsãspooling directoryãnetcatãsequence generatorãsyslogãhttpãlegacy\n\nï¼2ï¼Channelç»ä»¶å¯¹ééå°çæ°æ®è¿è¡ç¼å­ï¼å¯ä»¥å­æ¾å¨MemoryæFileä¸­ã\n\nï¼3ï¼Sinkç»ä»¶æ¯ç¨äºææ°æ®åéå°ç®çå°çç»ä»¶ï¼ç®çå°åæ¬HdfsãLoggerãavroãthriftãipcãfileãHbaseãsolrãèªå®ä¹ã\n\n2ï¼æå¬å¸éç¨çSourceç±»åä¸ºï¼\n\nï¼1ï¼çæ§åå°æ¥å¿ï¼exec\n\nï¼2ï¼çæ§åå°äº§çæ¥å¿çç«¯å£ï¼netcat\n\nExec spooldir\n\n\n# FlumeçChannel Selectors\n\n\n\n\n# Flumeåæ°è°ä¼\n\n1ï¼Source\n\nå¢å Sourceä¸ªï¼ä½¿ç¨Tair Dir Sourceæ¶å¯å¢å FileGroupsä¸ªæ°ï¼å¯ä»¥å¢å¤§Sourceçè¯»åæ°æ®çè½åãä¾å¦ï¼å½æä¸ä¸ªç®å½äº§ççæä»¶è¿å¤æ¶éè¦å°è¿ä¸ªæä»¶ç®å½æåæå¤ä¸ªæä»¶ç®å½ï¼åæ¶éç½®å¥½å¤ä¸ªSource ä»¥ä¿è¯Sourceæè¶³å¤çè½åè·åå°æ°äº§ççæ°æ®ã\n\nbatchSizeåæ°å³å®Sourceä¸æ¬¡æ¹éè¿è¾å°Channelçeventæ¡æ°ï¼éå½è°å¤§è¿ä¸ªåæ°å¯ä»¥æé«Sourceæ¬è¿Eventå°Channelæ¶çæ§è½ã\n\n2ï¼Channel\n\ntype éæ©memoryçChannelçæ§è½æå¥½ï¼ä½æ¯å¦æFlumeè¿ç¨æå¤ææå¯è½ä¼ä¸¢å¤±æ°æ®ãtypeéæ©fileæ¶Channelçå®¹éæ§æ´å¥½ï¼ä½æ¯æ§è½ä¸ä¼æ¯memory channelå·®ã\n\nä½¿ç¨file Channelæ¶dataDirséç½®å¤ä¸ªä¸åçä¸çç®å½å¯ä»¥æé«æ§è½ã\n\nCapacity åæ°å³å®Channelå¯å®¹çº³æå¤§çeventæ¡æ°ãtransactionCapacity åæ°å³å®æ¯æ¬¡Sourceå¾channeléé¢åçæå¤§eventæ¡æ°åæ¯æ¬¡Sinkä»channeléé¢è¯»çæå¤§eventæ¡æ°ãtransactionCapacityéè¦å¤§äºSourceåSinkçbatchSizeåæ°ã\n\n3ï¼Sink\n\nå¢å Sinkçä¸ªæ°å¯ä»¥å¢å Sinkæ¶è´¹eventçè½åãSinkä¹ä¸æ¯è¶å¤è¶å¥½å¤ç¨å°±è¡ï¼è¿å¤çSinkä¼å ç¨ç³»ç»èµæºï¼é æç³»ç»èµæºä¸å¿è¦çæµªè´¹ã\n\nbatchSizeåæ°å³å®Sinkä¸æ¬¡æ¹éä»Channelè¯»åçeventæ¡æ°ï¼éå½è°å¤§è¿ä¸ªåæ°å¯ä»¥æé«Sinkä»Channelæ¬åºeventçæ§è½ã\n\n\n# Flumeééæ°æ®ä¼ä¸¢å¤±å?\n\næ ¹æ®Flumeçæ¶æåçï¼Flumeæ¯ä¸å¯è½ä¸¢å¤±æ°æ®çï¼å¶åé¨æå®åçäºå¡æºå¶ï¼Sourceå°Channelæ¯äºå¡æ§çï¼Channelå°Sinkæ¯äºå¡æ§çï¼å æ­¤è¿ä¸¤ä¸ªç¯èä¸ä¼åºç°æ°æ®çä¸¢å¤±ï¼å¯ä¸å¯è½ä¸¢å¤±æ°æ®çæåµæ¯Channeléç¨memoryChannelï¼agentå®æºå¯¼è´æ°æ®ä¸¢å¤±ï¼æèChannelå­å¨æ°æ®å·²æ»¡ï¼å¯¼è´Sourceä¸ååå¥ï¼æªåå¥çæ°æ®ä¸¢å¤±ã\n\nFlumeä¸ä¼ä¸¢å¤±æ°æ®ï¼ä½æ¯æå¯è½é ææ°æ®çéå¤ï¼ä¾å¦æ°æ®å·²ç»æåç±Sinkååºï¼ä½æ¯æ²¡ææ¥æ¶å°ååºï¼Sinkä¼åæ¬¡åéæ°æ®ï¼æ­¤æ¶å¯è½ä¼å¯¼è´æ°æ®çéå¤ã\n\n\n# Flumeçäºå¡æºå¶\n\nFlumeçäºå¡æºå¶ï¼ç±»ä¼¼æ°æ®åºçäºå¡æºå¶ï¼ï¼Flumeä½¿ç¨ä¸¤ä¸ªç¬ç«çäºå¡åå«è´è´£ä»Soucrceå°Channelï¼ä»¥åä»Channelå°Sinkçäºä»¶ä¼ éãæ¯å¦spooling directory source ä¸ºæä»¶çæ¯ä¸è¡åå»ºä¸ä¸ªäºä»¶ï¼ä¸æ¦äºå¡ä¸­ææçäºä»¶å¨é¨ä¼ éå°Channelä¸æäº¤æåï¼é£ä¹Soucrceå°±å°è¯¥æä»¶æ è®°ä¸ºå®æãåçï¼äºå¡ä»¥ç±»ä¼¼çæ¹å¼å¤çä»Channelå°Sinkçä¼ éè¿ç¨ï¼å¦æå ä¸ºæç§åå ä½¿å¾äºä»¶æ æ³è®°å½ï¼é£ä¹äºå¡å°ä¼åæ»ãä¸ææçäºä»¶é½ä¼ä¿æå°Channelä¸­ï¼ç­å¾éæ°ä¼ éã",normalizedContent:"# é¢è¯é¢\n\n\n# ä½ æ¯å¦ä½å®ç°flumeæ°æ®ä¼ è¾ççæ§ç\n\nä½¿ç¨ç¬¬ä¸æ¹æ¡æ¶gangliaå®æ¶çæ§flumeã\n\n\n# flumeçsourceï¼sinkï¼channelçä½ç¨ï¼ä½ ä»¬sourceæ¯ä»ä¹ç±»åï¼\n\n1ï¼ä½ç¨\n\nï¼1ï¼sourceç»ä»¶æ¯ä¸é¨ç¨æ¥æ¶éæ°æ®çï¼å¯ä»¥å¤çåç§ç±»åãåç§æ ¼å¼çæ¥å¿æ°æ®ï¼åæ¬avroãthriftãexecãjmsãspooling directoryãnetcatãsequence generatorãsyslogãhttpãlegacy\n\nï¼2ï¼channelç»ä»¶å¯¹ééå°çæ°æ®è¿è¡ç¼å­ï¼å¯ä»¥å­æ¾å¨memoryæfileä¸­ã\n\nï¼3ï¼sinkç»ä»¶æ¯ç¨äºææ°æ®åéå°ç®çå°çç»ä»¶ï¼ç®çå°åæ¬hdfsãloggerãavroãthriftãipcãfileãhbaseãsolrãèªå®ä¹ã\n\n2ï¼æå¬å¸éç¨çsourceç±»åä¸ºï¼\n\nï¼1ï¼çæ§åå°æ¥å¿ï¼exec\n\nï¼2ï¼çæ§åå°äº§çæ¥å¿çç«¯å£ï¼netcat\n\nexec spooldir\n\n\n# flumeçchannel selectors\n\n\n\n\n# flumeåæ°è°ä¼\n\n1ï¼source\n\nå¢å sourceä¸ªï¼ä½¿ç¨tair dir sourceæ¶å¯å¢å filegroupsä¸ªæ°ï¼å¯ä»¥å¢å¤§sourceçè¯»åæ°æ®çè½åãä¾å¦ï¼å½æä¸ä¸ªç®å½äº§ççæä»¶è¿å¤æ¶éè¦å°è¿ä¸ªæä»¶ç®å½æåæå¤ä¸ªæä»¶ç®å½ï¼åæ¶éç½®å¥½å¤ä¸ªsource ä»¥ä¿è¯sourceæè¶³å¤çè½åè·åå°æ°äº§ççæ°æ®ã\n\nbatchsizeåæ°å³å®sourceä¸æ¬¡æ¹éè¿è¾å°channelçeventæ¡æ°ï¼éå½è°å¤§è¿ä¸ªåæ°å¯ä»¥æé«sourceæ¬è¿eventå°channelæ¶çæ§è½ã\n\n2ï¼channel\n\ntype éæ©memoryçchannelçæ§è½æå¥½ï¼ä½æ¯å¦æflumeè¿ç¨æå¤ææå¯è½ä¼ä¸¢å¤±æ°æ®ãtypeéæ©fileæ¶channelçå®¹éæ§æ´å¥½ï¼ä½æ¯æ§è½ä¸ä¼æ¯memory channelå·®ã\n\nä½¿ç¨file channelæ¶datadirséç½®å¤ä¸ªä¸åçä¸çç®å½å¯ä»¥æé«æ§è½ã\n\ncapacity åæ°å³å®channelå¯å®¹çº³æå¤§çeventæ¡æ°ãtransactioncapacity åæ°å³å®æ¯æ¬¡sourceå¾channeléé¢åçæå¤§eventæ¡æ°åæ¯æ¬¡sinkä»channeléé¢è¯»çæå¤§eventæ¡æ°ãtransactioncapacityéè¦å¤§äºsourceåsinkçbatchsizeåæ°ã\n\n3ï¼sink\n\nå¢å sinkçä¸ªæ°å¯ä»¥å¢å sinkæ¶è´¹eventçè½åãsinkä¹ä¸æ¯è¶å¤è¶å¥½å¤ç¨å°±è¡ï¼è¿å¤çsinkä¼å ç¨ç³»ç»èµæºï¼é æç³»ç»èµæºä¸å¿è¦çæµªè´¹ã\n\nbatchsizeåæ°å³å®sinkä¸æ¬¡æ¹éä»channelè¯»åçeventæ¡æ°ï¼éå½è°å¤§è¿ä¸ªåæ°å¯ä»¥æé«sinkä»channelæ¬åºeventçæ§è½ã\n\n\n# flumeééæ°æ®ä¼ä¸¢å¤±å?\n\næ ¹æ®flumeçæ¶æåçï¼flumeæ¯ä¸å¯è½ä¸¢å¤±æ°æ®çï¼å¶åé¨æå®åçäºå¡æºå¶ï¼sourceå°channelæ¯äºå¡æ§çï¼channelå°sinkæ¯äºå¡æ§çï¼å æ­¤è¿ä¸¤ä¸ªç¯èä¸ä¼åºç°æ°æ®çä¸¢å¤±ï¼å¯ä¸å¯è½ä¸¢å¤±æ°æ®çæåµæ¯channeléç¨memorychannelï¼agentå®æºå¯¼è´æ°æ®ä¸¢å¤±ï¼æèchannelå­å¨æ°æ®å·²æ»¡ï¼å¯¼è´sourceä¸ååå¥ï¼æªåå¥çæ°æ®ä¸¢å¤±ã\n\nflumeä¸ä¼ä¸¢å¤±æ°æ®ï¼ä½æ¯æå¯è½é ææ°æ®çéå¤ï¼ä¾å¦æ°æ®å·²ç»æåç±sinkååºï¼ä½æ¯æ²¡ææ¥æ¶å°ååºï¼sinkä¼åæ¬¡åéæ°æ®ï¼æ­¤æ¶å¯è½ä¼å¯¼è´æ°æ®çéå¤ã\n\n\n# flumeçäºå¡æºå¶\n\nflumeçäºå¡æºå¶ï¼ç±»ä¼¼æ°æ®åºçäºå¡æºå¶ï¼ï¼flumeä½¿ç¨ä¸¤ä¸ªç¬ç«çäºå¡åå«è´è´£ä»soucrceå°channelï¼ä»¥åä»channelå°sinkçäºä»¶ä¼ éãæ¯å¦spooling directory source ä¸ºæä»¶çæ¯ä¸è¡åå»ºä¸ä¸ªäºä»¶ï¼ä¸æ¦äºå¡ä¸­ææçäºä»¶å¨é¨ä¼ éå°channelä¸æäº¤æåï¼é£ä¹soucrceå°±å°è¯¥æä»¶æ è®°ä¸ºå®æãåçï¼äºå¡ä»¥ç±»ä¼¼çæ¹å¼å¤çä»channelå°sinkçä¼ éè¿ç¨ï¼å¦æå ä¸ºæç§åå ä½¿å¾äºä»¶æ æ³è®°å½ï¼é£ä¹äºå¡å°ä¼åæ»ãä¸ææçäºä»¶é½ä¼ä¿æå°channelä¸­ï¼ç­å¾éæ°ä¼ éã",charsets:{cjk:!0},lastUpdated:"2022/03/18, 07:01:11",lastUpdatedTimestamp:1647558071e3},{title:"æ¶æ",frontmatter:{title:"æ¶æ",date:"2022-03-17T22:08:02.000Z",permalink:"/pages/3c04a9/",categories:["å¤§æ°æ®","Kafka"],tags:[null]},regularPath:"/%E5%A4%A7%E6%95%B0%E6%8D%AE/05.Kafka/02.%E6%9E%B6%E6%9E%84.html",relativePath:"å¤§æ°æ®/05.Kafka/02.æ¶æ.md",key:"v-8c34a962",path:"/pages/3c04a9/",headers:[{level:2,title:"ä¼ ç»æ¶æ¯éååºç¨åºæ¯",slug:"ä¼ ç»æ¶æ¯éååºç¨åºæ¯",normalizedTitle:"ä¼ ç»æ¶æ¯éååºç¨åºæ¯",charIndex:9},{level:2,title:"æ¶æ¯éåä¸¤ç§æ¨¡å¼",slug:"æ¶æ¯éåä¸¤ç§æ¨¡å¼",normalizedTitle:"æ¶æ¯éåä¸¤ç§æ¨¡å¼",charIndex:26},{level:2,title:"åºç¡æ¶æ",slug:"åºç¡æ¶æ",normalizedTitle:"åºç¡æ¶æ",charIndex:353}],headersStr:"ä¼ ç»æ¶æ¯éååºç¨åºæ¯ æ¶æ¯éåä¸¤ç§æ¨¡å¼ åºç¡æ¶æ",content:"# æ¶æ\n\n\n# ä¼ ç»æ¶æ¯éååºç¨åºæ¯\n\n\n\n\n# æ¶æ¯éåä¸¤ç§æ¨¡å¼\n\n 1. ç¹å¯¹ç¹æ¨¡å¼ï¼ä¸å¯¹ä¸ï¼æ¶è´¹èä¸»å¨æåæ°æ®ï¼æ¶æ¯æ¶å°åæ¶æ¯æ¸é¤ï¼\n    \n    æ¶æ¯çäº§èçäº§æ¶æ¯åéå°Queueä¸­ï¼ç¶åæ¶æ¯æ¶è´¹èä»Queueä¸­ååºå¹¶ä¸æ¶è´¹æ¶æ¯ã\n    \n    æ¶æ¯è¢«æ¶è´¹ä»¥åï¼queueä¸­ä¸åæå­å¨ï¼æä»¥æ¶æ¯æ¶è´¹èä¸å¯è½æ¶è´¹å°å·²ç»è¢«æ¶è´¹çæ¶æ¯ãQueueæ¯æå­å¨å¤ä¸ªæ¶è´¹èï¼ä½æ¯å¯¹ä¸ä¸ªæ¶æ¯èè¨ï¼åªä¼æä¸ä¸ªæ¶è´¹èå¯ä»¥æ¶è´¹ã\n    \n    \n\n 2. åå¸/è®¢éæ¨¡å¼ï¼ä¸å¯¹å¤ï¼æ¶è´¹èæ¶è´¹æ°æ®ä¹åä¸ä¼æ¸é¤æ¶æ¯ï¼\n    \n    æ¶æ¯çäº§èï¼åå¸ï¼å°æ¶æ¯åå¸å°topicä¸­ï¼åæ¶æå¤ä¸ªæ¶æ¯æ¶è´¹èï¼è®¢éï¼æ¶è´¹è¯¥æ¶æ¯ãåç¹å¯¹ç¹æ¹å¼ä¸åï¼åå¸å°topicçæ¶æ¯ä¼è¢«ææè®¢éèæ¶è´¹ã\n    \n    \n\n\n# åºç¡æ¶æ\n\nKafkaæ¯ä¸ä¸ªåå¸å¼çåºäºåå¸/è®¢éæ¨¡å¼ç**æ¶æ¯éåï¼**ä¸»è¦åºç¨äºå¤§æ°æ®å®æ¶å¤çé¢åã\n\n\n\n 1. Producer ï¼æ¶æ¯çäº§èï¼å°±æ¯åkafka brokeråæ¶æ¯çå®¢æ·ç«¯ï¼\n 2. Consumer ï¼æ¶æ¯æ¶è´¹èï¼åkafka brokeråæ¶æ¯çå®¢æ·ç«¯ï¼\n 3. Consumer Group ï¼CGï¼ï¼æ¶è´¹èç»ï¼ç±å¤ä¸ªconsumerç»æãæ¶è´¹èç»åæ¯ä¸ªæ¶è´¹èè´è´£æ¶è´¹ä¸åååºçæ°æ®ï¼ä¸ä¸ªååºåªè½ç±ä¸ä¸ªæ¶è´¹èæ¶è´¹ï¼æ¶è´¹èç»ä¹é´äºä¸å½±åãææçæ¶è´¹èé½å±äºæä¸ªæ¶è´¹èç»ï¼å³æ¶è´¹èç»æ¯é»è¾ä¸çä¸ä¸ªè®¢éèã\n 4. Broker ï¼ä¸å°kafkaæå¡å¨å°±æ¯ä¸ä¸ªbrokerãä¸ä¸ªéç¾¤ç±å¤ä¸ªbrokerç»æãä¸ä¸ªbrokerå¯ä»¥å®¹çº³å¤ä¸ªtopicã\n 5. Topic ï¼å¯ä»¥çè§£ä¸ºä¸ä¸ªéåï¼çäº§èåæ¶è´¹èé¢åçé½æ¯ä¸ä¸ªtopicï¼\n 6. Partitionï¼ä¸ºäºå®ç°æ©å±æ§ï¼ä¸ä¸ªéå¸¸å¤§çtopicå¯ä»¥åå¸å°å¤ä¸ªbrokerï¼å³æå¡å¨ï¼ä¸ï¼ä¸ä¸ªtopicå¯ä»¥åä¸ºå¤ä¸ªpartitionï¼æ¯ä¸ªpartitionæ¯ä¸ä¸ªæåºçéåï¼\n 7. Replicaï¼å¯æ¬ï¼ä¸ºä¿è¯éç¾¤ä¸­çæä¸ªèç¹åçæéæ¶ï¼è¯¥èç¹ä¸çpartitionæ°æ®ä¸ä¸¢å¤±ï¼ä¸kafkaä»ç¶è½å¤ç»§ç»­å·¥ä½ï¼kafkaæä¾äºå¯æ¬æºå¶ï¼ä¸ä¸ªtopicçæ¯ä¸ªååºé½æè¥å¹²ä¸ªå¯æ¬ï¼ä¸ä¸ªleaderåè¥å¹²ä¸ªfollowerã\n 8. leaderï¼æ¯ä¸ªååºå¤ä¸ªå¯æ¬çâä¸»âï¼çäº§èåéæ°æ®çå¯¹è±¡ï¼ä»¥åæ¶è´¹èæ¶è´¹æ°æ®çå¯¹è±¡é½æ¯leaderã\n 9. followerï¼æ¯ä¸ªååºå¤ä¸ªå¯æ¬ä¸­çâä»âï¼å®æ¶ä»leaderä¸­åæ­¥æ°æ®ï¼ä¿æåleaderæ°æ®çåæ­¥ãleaderåçæéæ¶ï¼æä¸ªfollowerä¼æä¸ºæ°çleaderã",normalizedContent:"# æ¶æ\n\n\n# ä¼ ç»æ¶æ¯éååºç¨åºæ¯\n\n\n\n\n# æ¶æ¯éåä¸¤ç§æ¨¡å¼\n\n 1. ç¹å¯¹ç¹æ¨¡å¼ï¼ä¸å¯¹ä¸ï¼æ¶è´¹èä¸»å¨æåæ°æ®ï¼æ¶æ¯æ¶å°åæ¶æ¯æ¸é¤ï¼\n    \n    æ¶æ¯çäº§èçäº§æ¶æ¯åéå°queueä¸­ï¼ç¶åæ¶æ¯æ¶è´¹èä»queueä¸­ååºå¹¶ä¸æ¶è´¹æ¶æ¯ã\n    \n    æ¶æ¯è¢«æ¶è´¹ä»¥åï¼queueä¸­ä¸åæå­å¨ï¼æä»¥æ¶æ¯æ¶è´¹èä¸å¯è½æ¶è´¹å°å·²ç»è¢«æ¶è´¹çæ¶æ¯ãqueueæ¯æå­å¨å¤ä¸ªæ¶è´¹èï¼ä½æ¯å¯¹ä¸ä¸ªæ¶æ¯èè¨ï¼åªä¼æä¸ä¸ªæ¶è´¹èå¯ä»¥æ¶è´¹ã\n    \n    \n\n 2. åå¸/è®¢éæ¨¡å¼ï¼ä¸å¯¹å¤ï¼æ¶è´¹èæ¶è´¹æ°æ®ä¹åä¸ä¼æ¸é¤æ¶æ¯ï¼\n    \n    æ¶æ¯çäº§èï¼åå¸ï¼å°æ¶æ¯åå¸å°topicä¸­ï¼åæ¶æå¤ä¸ªæ¶æ¯æ¶è´¹èï¼è®¢éï¼æ¶è´¹è¯¥æ¶æ¯ãåç¹å¯¹ç¹æ¹å¼ä¸åï¼åå¸å°topicçæ¶æ¯ä¼è¢«ææè®¢éèæ¶è´¹ã\n    \n    \n\n\n# åºç¡æ¶æ\n\nkafkaæ¯ä¸ä¸ªåå¸å¼çåºäºåå¸/è®¢éæ¨¡å¼ç**æ¶æ¯éåï¼**ä¸»è¦åºç¨äºå¤§æ°æ®å®æ¶å¤çé¢åã\n\n\n\n 1. producer ï¼æ¶æ¯çäº§èï¼å°±æ¯åkafka brokeråæ¶æ¯çå®¢æ·ç«¯ï¼\n 2. consumer ï¼æ¶æ¯æ¶è´¹èï¼åkafka brokeråæ¶æ¯çå®¢æ·ç«¯ï¼\n 3. consumer group ï¼cgï¼ï¼æ¶è´¹èç»ï¼ç±å¤ä¸ªconsumerç»æãæ¶è´¹èç»åæ¯ä¸ªæ¶è´¹èè´è´£æ¶è´¹ä¸åååºçæ°æ®ï¼ä¸ä¸ªååºåªè½ç±ä¸ä¸ªæ¶è´¹èæ¶è´¹ï¼æ¶è´¹èç»ä¹é´äºä¸å½±åãææçæ¶è´¹èé½å±äºæä¸ªæ¶è´¹èç»ï¼å³æ¶è´¹èç»æ¯é»è¾ä¸çä¸ä¸ªè®¢éèã\n 4. broker ï¼ä¸å°kafkaæå¡å¨å°±æ¯ä¸ä¸ªbrokerãä¸ä¸ªéç¾¤ç±å¤ä¸ªbrokerç»æãä¸ä¸ªbrokerå¯ä»¥å®¹çº³å¤ä¸ªtopicã\n 5. topic ï¼å¯ä»¥çè§£ä¸ºä¸ä¸ªéåï¼çäº§èåæ¶è´¹èé¢åçé½æ¯ä¸ä¸ªtopicï¼\n 6. partitionï¼ä¸ºäºå®ç°æ©å±æ§ï¼ä¸ä¸ªéå¸¸å¤§çtopicå¯ä»¥åå¸å°å¤ä¸ªbrokerï¼å³æå¡å¨ï¼ä¸ï¼ä¸ä¸ªtopicå¯ä»¥åä¸ºå¤ä¸ªpartitionï¼æ¯ä¸ªpartitionæ¯ä¸ä¸ªæåºçéåï¼\n 7. replicaï¼å¯æ¬ï¼ä¸ºä¿è¯éç¾¤ä¸­çæä¸ªèç¹åçæéæ¶ï¼è¯¥èç¹ä¸çpartitionæ°æ®ä¸ä¸¢å¤±ï¼ä¸kafkaä»ç¶è½å¤ç»§ç»­å·¥ä½ï¼kafkaæä¾äºå¯æ¬æºå¶ï¼ä¸ä¸ªtopicçæ¯ä¸ªååºé½æè¥å¹²ä¸ªå¯æ¬ï¼ä¸ä¸ªleaderåè¥å¹²ä¸ªfollowerã\n 8. leaderï¼æ¯ä¸ªååºå¤ä¸ªå¯æ¬çâä¸»âï¼çäº§èåéæ°æ®çå¯¹è±¡ï¼ä»¥åæ¶è´¹èæ¶è´¹æ°æ®çå¯¹è±¡é½æ¯leaderã\n 9. followerï¼æ¯ä¸ªååºå¤ä¸ªå¯æ¬ä¸­çâä»âï¼å®æ¶ä»leaderä¸­åæ­¥æ°æ®ï¼ä¿æåleaderæ°æ®çåæ­¥ãleaderåçæéæ¶ï¼æä¸ªfollowerä¼æä¸ºæ°çleaderã",charsets:{cjk:!0},lastUpdated:"2022/03/18, 07:01:11",lastUpdatedTimestamp:1647558071e3},{title:"Kafka å®è£",frontmatter:{title:"Kafka å®è£",date:"2022-03-17T22:08:02.000Z",permalink:"/pages/6bd0d7/",categories:["å¤§æ°æ®","Kafka"],tags:[null]},regularPath:"/%E5%A4%A7%E6%95%B0%E6%8D%AE/05.Kafka/03.Kafka%20%E5%AE%89%E8%A3%85.html",relativePath:"å¤§æ°æ®/05.Kafka/03.Kafka å®è£.md",key:"v-4254887a",path:"/pages/6bd0d7/",headersStr:null,content:"# Kafka å®è£\n\nKafka ä¸ä¾èµäºhadoopè¿ä½ åªä¾èµzookeeperè¿è¡\n\nè¦åäºåå®è£å¥½zookeeper å¹¶è¿è¡\n\nhttp://kafka.apache.org/downloads\n\ntar -zxvf kafka_2.11-2.4.1.tgz -C /opt/module/\ncd /opt/module/\nmv kafka_2.11-2.4.1/ kafka\ncd kafka\nmkdir logs\n\n#ç¯å¢åé\nsudo vim /etc/profile.d/my_env.sh\n\n#KAFKA_HOME\nexport KAFKA_HOME=/opt/module/kafka\nexport PATH=$PATH:$KAFKA_HOME/bin\n\nsource /etc/profile.d/my_env.sh\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n\n\néç½®kafka\n\nvim /opt/module/kafka/config/server.properties\n\n\n1\n\n\n#brokerçå¨å±å¯ä¸ç¼å·ï¼ä¸è½éå¤\nbroker.id=0\n#å é¤topicåè½ä½¿è½\ndelete.topic.enable=true\n\n#å¤çç½ç»è¯·æ±ççº¿ç¨æ°é\nnum.network.threads=3\n#ç¨æ¥å¤çç£çIOçç°ææ°é\nnum.io.threads=8\n#åéå¥æ¥å­çç¼å²åºå¤§å°\nsocket.send.buffer.bytes=102400\n#æ¥æ¶å¥æ¥å­çç¼å²åºå¤§å°\nsocket.receive.buffer.bytes=102400\n#è¯·æ±å¥æ¥å­çç¼å²åºå¤§å°\nsocket.request.max.bytes=104857600\n\n#kafkaè¿è¡æ¥å¿å­æ¾çè·¯å¾\nlog.dirs=/opt/module/kafka/logs\n\n#topicå¨å½åbrokerä¸çååºä¸ªæ°\nnum.partitions=1\n#ç¨æ¥æ¢å¤åæ¸çdataä¸æ°æ®ççº¿ç¨æ°é\nnum.recovery.threads.per.data.dir=1\n#segmentæä»¶ä¿ççæé¿æ¶é´ï¼è¶æ¶å°è¢«å é¤\nlog.retention.hours=168\n\n#éç½®è¿æ¥Zookeeperéç¾¤å°å\nzookeeper.connect=hadoop102:2181,hadoop103:2181,hadoop104:2181/kafka\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n26\n27\n28\n\n\nååç¯å¢åéåkafka\n\nsudo xsync /opt/module/kafka \nsudo xsync /etc/profile.d/my_env.sh\n\n\n1\n2\n\n\nä¿®æ¹æ¯ä¸ªkafkaä¸­ broker.id\n\nvim /opt/module/kafka/config/server.properties\n#102 ä¸º 2, 103ä¸º3  , 104ä¸º4\n\n\n1\n2\n\n\nå¯å¨\n\nkafka-server-start.sh -daemon $KAFKA_HOME/config/server.properties #æ¯å°æºå¨åç¬èµ·\n\nkafka-server-stop.sh #å³é­\n\n\n1\n2\n3\n\n\nç¾¤èµ·èæ¬ è®°å¾åå¯å¨zookeeper\n\nsudo vim /bin/kafkalist.sh\n\nfor i in `cat /opt/module/hadoop-3.1.3/etc/hadoop/workers`\ndo\necho \"========== $i ==========\" \nssh $i 'kafka-server-start.sh -daemon $KAFKA_HOME/config/server.properties'\necho $?\ndone\n\n\nsudo chmod +x /bin/kafkalist.sh\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n\n\nå¦æékafkaéªé å¯ä»¥å°è¯å é¤logsæä»¶å¤¹ä¸çåå®¹\n\næ¥çzookeeperä¸­æ¯å¦ækafka idå·²ç»è®°å½\n\nzkCli.sh\nls /kafka/brokers/ids\n\n\n1\n2\n",normalizedContent:"# kafka å®è£\n\nkafka ä¸ä¾èµäºhadoopè¿ä½ åªä¾èµzookeeperè¿è¡\n\nè¦åäºåå®è£å¥½zookeeper å¹¶è¿è¡\n\nhttp://kafka.apache.org/downloads\n\ntar -zxvf kafka_2.11-2.4.1.tgz -c /opt/module/\ncd /opt/module/\nmv kafka_2.11-2.4.1/ kafka\ncd kafka\nmkdir logs\n\n#ç¯å¢åé\nsudo vim /etc/profile.d/my_env.sh\n\n#kafka_home\nexport kafka_home=/opt/module/kafka\nexport path=$path:$kafka_home/bin\n\nsource /etc/profile.d/my_env.sh\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n\n\néç½®kafka\n\nvim /opt/module/kafka/config/server.properties\n\n\n1\n\n\n#brokerçå¨å±å¯ä¸ç¼å·ï¼ä¸è½éå¤\nbroker.id=0\n#å é¤topicåè½ä½¿è½\ndelete.topic.enable=true\n\n#å¤çç½ç»è¯·æ±ççº¿ç¨æ°é\nnum.network.threads=3\n#ç¨æ¥å¤çç£çioçç°ææ°é\nnum.io.threads=8\n#åéå¥æ¥å­çç¼å²åºå¤§å°\nsocket.send.buffer.bytes=102400\n#æ¥æ¶å¥æ¥å­çç¼å²åºå¤§å°\nsocket.receive.buffer.bytes=102400\n#è¯·æ±å¥æ¥å­çç¼å²åºå¤§å°\nsocket.request.max.bytes=104857600\n\n#kafkaè¿è¡æ¥å¿å­æ¾çè·¯å¾\nlog.dirs=/opt/module/kafka/logs\n\n#topicå¨å½åbrokerä¸çååºä¸ªæ°\nnum.partitions=1\n#ç¨æ¥æ¢å¤åæ¸çdataä¸æ°æ®ççº¿ç¨æ°é\nnum.recovery.threads.per.data.dir=1\n#segmentæä»¶ä¿ççæé¿æ¶é´ï¼è¶æ¶å°è¢«å é¤\nlog.retention.hours=168\n\n#éç½®è¿æ¥zookeeperéç¾¤å°å\nzookeeper.connect=hadoop102:2181,hadoop103:2181,hadoop104:2181/kafka\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n26\n27\n28\n\n\nååç¯å¢åéåkafka\n\nsudo xsync /opt/module/kafka \nsudo xsync /etc/profile.d/my_env.sh\n\n\n1\n2\n\n\nä¿®æ¹æ¯ä¸ªkafkaä¸­ broker.id\n\nvim /opt/module/kafka/config/server.properties\n#102 ä¸º 2, 103ä¸º3  , 104ä¸º4\n\n\n1\n2\n\n\nå¯å¨\n\nkafka-server-start.sh -daemon $kafka_home/config/server.properties #æ¯å°æºå¨åç¬èµ·\n\nkafka-server-stop.sh #å³é­\n\n\n1\n2\n3\n\n\nç¾¤èµ·èæ¬ è®°å¾åå¯å¨zookeeper\n\nsudo vim /bin/kafkalist.sh\n\nfor i in `cat /opt/module/hadoop-3.1.3/etc/hadoop/workers`\ndo\necho \"========== $i ==========\" \nssh $i 'kafka-server-start.sh -daemon $kafka_home/config/server.properties'\necho $?\ndone\n\n\nsudo chmod +x /bin/kafkalist.sh\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n\n\nå¦æékafkaéªé å¯ä»¥å°è¯å é¤logsæä»¶å¤¹ä¸çåå®¹\n\næ¥çzookeeperä¸­æ¯å¦ækafka idå·²ç»è®°å½\n\nzkcli.sh\nls /kafka/brokers/ids\n\n\n1\n2\n",charsets:{cjk:!0},lastUpdated:"2022/03/18, 07:01:11",lastUpdatedTimestamp:1647558071e3},{title:"å½ä»¤æä½",frontmatter:{title:"å½ä»¤æä½",date:"2022-03-17T22:08:02.000Z",permalink:"/pages/ab6220/",categories:["å¤§æ°æ®","Kafka"],tags:[null]},regularPath:"/%E5%A4%A7%E6%95%B0%E6%8D%AE/05.Kafka/04.%E5%91%BD%E4%BB%A4%E6%93%8D%E4%BD%9C.html",relativePath:"å¤§æ°æ®/05.Kafka/04.å½ä»¤æä½.md",key:"v-43f57a12",path:"/pages/ab6220/",headersStr:null,content:"# å½ä»¤æä½\n\n * æ¥çå½åæå¡å¨ä¸­çæætopic\n\nkafka-topics.sh --zookeeper hadoop102:2181/kafka --list\n\n\n1\n\n\n * åå»ºtopic\n   \n   * kafka-topics.sh --zookeeper hadoop102:2181/kafka --create --replication-factor 3 --partitions 1 --topic first\n     \n     \n     1\n     \n   \n   * --topic å®ä¹topicå\n   \n   * --replication-factor å®ä¹å¯æ¬æ°\n   \n   * --partitions å®ä¹ååºæ°\n\n * å é¤topic\n\nkafka-topics.sh --zookeeper hadoop102:2181/kafka --delete --topic first\n#éè¦server.propertiesä¸­è®¾ç½®delete.topic.enable=trueå¦ååªæ¯æ è®°é»è¾å é¤ã\n\n\n1\n2\n\n * åéæ¶æ¯\n\nkafka-console-producer.sh --broker-list hadoop102:9092 --topic first\n#æ¶æ¯ä¼å­å¨å¨/opt/module/kafka/logs/first-xxx ä¸­\n\n\n1\n2\n\n * æ¶è´¹æ¶æ¯\n\nkafka-console-consumer.sh --bootstrap-server hadoop102:9092 --topic first # å¯å¨ååªæåéæ¶æ¯æä¼æ¶è´¹æ¶æ¯\nkafka-console-consumer.sh --bootstrap-server hadoop102:9092 --from-beginning --topic first  #ä¼ætopicä¸­ä»¥å¾ææçæ°æ®é½è¯»ååºæ¥ è¯»åæ¯ä»¥ååºè¿è¡é¡ºåºè¯»åç è¯»å®ä¸ä¸ªååºåè¯»å¦å¤ä¸ä¸ªååº\nkafka-console-consumer.sh --bootstrap-server hadoop102:9092 --from-beginning --topic first --partition 1 #partition è¯»åæå®ååº å¦ä¸æå®ææçååºé½ä¼æ¶è´¹\n\n\n1\n2\n3\n\n * æ¥çæä¸ªTopicçè¯¦æ\n\nkafka-topics.sh --zookeeper hadoop102:2181/kafka --describe --topic first\n\n\n1\n\n * ä¿®æ¹ååº\n\nkafka-topics.sh --zookeeper hadoop102:2181/kafka --alter --topic first --partitions 6\n\n\n1\n",normalizedContent:"# å½ä»¤æä½\n\n * æ¥çå½åæå¡å¨ä¸­çæætopic\n\nkafka-topics.sh --zookeeper hadoop102:2181/kafka --list\n\n\n1\n\n\n * åå»ºtopic\n   \n   * kafka-topics.sh --zookeeper hadoop102:2181/kafka --create --replication-factor 3 --partitions 1 --topic first\n     \n     \n     1\n     \n   \n   * --topic å®ä¹topicå\n   \n   * --replication-factor å®ä¹å¯æ¬æ°\n   \n   * --partitions å®ä¹ååºæ°\n\n * å é¤topic\n\nkafka-topics.sh --zookeeper hadoop102:2181/kafka --delete --topic first\n#éè¦server.propertiesä¸­è®¾ç½®delete.topic.enable=trueå¦ååªæ¯æ è®°é»è¾å é¤ã\n\n\n1\n2\n\n * åéæ¶æ¯\n\nkafka-console-producer.sh --broker-list hadoop102:9092 --topic first\n#æ¶æ¯ä¼å­å¨å¨/opt/module/kafka/logs/first-xxx ä¸­\n\n\n1\n2\n\n * æ¶è´¹æ¶æ¯\n\nkafka-console-consumer.sh --bootstrap-server hadoop102:9092 --topic first # å¯å¨ååªæåéæ¶æ¯æä¼æ¶è´¹æ¶æ¯\nkafka-console-consumer.sh --bootstrap-server hadoop102:9092 --from-beginning --topic first  #ä¼ætopicä¸­ä»¥å¾ææçæ°æ®é½è¯»ååºæ¥ è¯»åæ¯ä»¥ååºè¿è¡é¡ºåºè¯»åç è¯»å®ä¸ä¸ªååºåè¯»å¦å¤ä¸ä¸ªååº\nkafka-console-consumer.sh --bootstrap-server hadoop102:9092 --from-beginning --topic first --partition 1 #partition è¯»åæå®ååº å¦ä¸æå®ææçååºé½ä¼æ¶è´¹\n\n\n1\n2\n3\n\n * æ¥çæä¸ªtopicçè¯¦æ\n\nkafka-topics.sh --zookeeper hadoop102:2181/kafka --describe --topic first\n\n\n1\n\n * ä¿®æ¹ååº\n\nkafka-topics.sh --zookeeper hadoop102:2181/kafka --alter --topic first --partitions 6\n\n\n1\n",charsets:{cjk:!0},lastUpdated:"2022/03/18, 07:01:11",lastUpdatedTimestamp:1647558071e3},{title:"Kafka API",frontmatter:{title:"Kafka API",date:"2022-03-17T22:08:02.000Z",permalink:"/pages/939509/",categories:["å¤§æ°æ®","Kafka"],tags:[null]},regularPath:"/%E5%A4%A7%E6%95%B0%E6%8D%AE/05.Kafka/06.Kafka%20API.html",relativePath:"å¤§æ°æ®/05.Kafka/06.Kafka API.md",key:"v-3f9e4bb2",path:"/pages/939509/",headers:[{level:2,title:"Producer API",slug:"producer-api",normalizedTitle:"producer api",charIndex:16},{level:3,title:"å¼æ­¥åéAPI",slug:"å¼æ­¥åéapi",normalizedTitle:"å¼æ­¥åéapi",charIndex:212},{level:3,title:"åæ­¥åé API",slug:"åæ­¥åé-api",normalizedTitle:"åæ­¥åé api",charIndex:2741},{level:2,title:"Consumer API",slug:"consumer-api",normalizedTitle:"consumer api",charIndex:5099},{level:3,title:"èªå¨æäº¤offset",slug:"èªå¨æäº¤offset",normalizedTitle:"èªå¨æäº¤offset",charIndex:5116},{level:3,title:"æå¨æäº¤offset",slug:"æå¨æäº¤offset",normalizedTitle:"æå¨æäº¤offset",charIndex:6728},{level:3,title:"èªå®ä¹å­å¨offset",slug:"èªå®ä¹å­å¨offset",normalizedTitle:"èªå®ä¹å­å¨offset",charIndex:9397},{level:2,title:"èªå®ä¹Interceptor(æ¦æªå¨)",slug:"èªå®ä¹interceptor-æ¦æªå¨",normalizedTitle:"èªå®ä¹interceptor(æ¦æªå¨)",charIndex:14263}],headersStr:"Producer API å¼æ­¥åéAPI åæ­¥åé API Consumer API èªå¨æäº¤offset æå¨æäº¤offset èªå®ä¹å­å¨offset èªå®ä¹Interceptor(æ¦æªå¨)",content:'# Kafka API\n\n\n# Producer API\n\nKafkaçProduceråéæ¶æ¯éç¨çæ¯å¼æ­¥åéçæ¹å¼ãå¨æ¶æ¯åéçè¿ç¨ä¸­ï¼æ¶åå°äºä¸¤ä¸ªçº¿ç¨ââmainçº¿ç¨åSenderçº¿ç¨ï¼ä»¥åä¸ä¸ªçº¿ç¨å±äº«åéââRecordAccumulatorãmainçº¿ç¨å°æ¶æ¯åéç»RecordAccumulatorï¼Senderçº¿ç¨ä¸æ­ä»RecordAccumulatorä¸­æåæ¶æ¯åéå°Kafka brokerã\n\n\n\n\n# å¼æ­¥åéAPI\n\nå¯¼å¥ä¾èµ\n\n<dependency>\n<groupId>org.apache.kafka</groupId>\n<artifactId>kafka-clients</artifactId>\n<version>2.4.1</version>\n</dependency>\n\n\n1\n2\n3\n4\n5\n\n\napiä½¿ç¨\n\npackage com.atguigu.producer;\n\nimport org.apache.kafka.clients.producer.Callback;\nimport org.apache.kafka.clients.producer.KafkaProducer;\nimport org.apache.kafka.clients.producer.ProducerRecord;\nimport org.apache.kafka.clients.producer.RecordMetadata;\n\nimport java.util.Properties;\nimport java.util.concurrent.ExecutionException;\nimport java.util.concurrent.Future;\n\npublic class Producer {\n    public static void main(String[] args) throws ExecutionException, InterruptedException {\n        //å®ä¾åkafkaéç¾¤\n        Properties properties = new Properties();\n        properties.setProperty("key.serializer", "org.apache.kafka.common.serialization.StringSerializer"); //keyçåºååç±»\n        properties.setProperty("value.serializer", "org.apache.kafka.common.serialization.StringSerializer"); //valueçåºååç±»\n        properties.setProperty("acks", "all"); //ackçº§å«\n        properties.setProperty("bootstrap.servers", "hadoop102:9092");\n        properties.setProperty("buffer.memory", "33554432");//RecordAccumulatorç¼å²åºå¤§å°\n        properties.setProperty("retries", "1"); //éè¯æ¬¡æ°\n        properties.setProperty("batch.size", "16384");//æåå¤§å°\n        properties.setProperty("linger.ms", "1");//ç­å¾æ¶é´\n        //å½ç¼å²åºå¤§å°è¾¾å°16384æ¶å°±åbrokeråéä¸æ¬¡ å¦ææ²¡æè¾¾å°ä½æ¶é´å·²ç»ç­å¾äº1æ¯«ç§ä¹ä¼åé\n        KafkaProducer<String, String> producer = new KafkaProducer<String, String>(properties);\n        //ç¨éç¾¤å¯¹è±¡åéæ°æ®\n        for (int i = 0; i < 100; i++) {\n            Future<RecordMetadata> fist = producer.send(\n                    //å°è£ProducerRecord\n                    new ProducerRecord<>("first", Integer.toString(i), "Value" + i), new Callback() {\n                        //åè°å½æ°\n                        @Override\n                        public void onCompletion(RecordMetadata recordMetadata, Exception e) {\n                            if (e == null) {\n                                System.out.println(recordMetadata);\n                            }\n                        }\n                    });\n            System.out.println("åå®äº" + i + "æ¡æ°æ®");\n        }\n        //å³é­èµæº\n        producer.close();\n    }\n}\n\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n26\n27\n28\n29\n30\n31\n32\n33\n34\n35\n36\n37\n38\n39\n40\n41\n42\n43\n44\n45\n\n\nåè°å½æ°ä¸æ¯å¿é¡»ç ä¹å¯ä»¥ä¸ä¼ éåè°å½æ°\n\nåè°å½æ°ä¼å¨produceræ¶å°ackæ¶è°ç¨ï¼ä¸ºå¼æ­¥è°ç¨ï¼è¯¥æ¹æ³æä¸¤ä¸ªåæ°ï¼åå«æ¯RecordMetadataåExceptionï¼å¦æExceptionä¸ºnullï¼è¯´ææ¶æ¯åéæåï¼å¦æExceptionä¸ä¸ºnullï¼è¯´ææ¶æ¯åéå¤±è´¥ã\n\næ³¨æï¼æ¶æ¯åéå¤±è´¥ä¼èªå¨éè¯ï¼ä¸éè¦æä»¬å¨åè°å½æ°ä¸­æå¨éè¯ã\n\n\n# åæ­¥åé API\n\nåæ­¥åéçææå°±æ¯ï¼ä¸æ¡æ¶æ¯åéä¹åï¼ä¼é»å¡å½åçº¿ç¨ï¼ç´è³è¿åackã\n\nç±äºsendæ¹æ³è¿åçæ¯ä¸ä¸ªFutureå¯¹è±¡ï¼æ ¹æ®Futrueå¯¹è±¡çç¹ç¹ï¼æä»¬ä¹å¯ä»¥å®ç°åæ­¥åéçææï¼åªéå¨è°ç¨Futureå¯¹è±¡çgetæ¹åå³å¯ã\n\npackage com.atguigu.producer;\n\nimport org.apache.kafka.clients.producer.*;\n\nimport java.util.Properties;\nimport java.util.concurrent.ExecutionException;\nimport java.util.concurrent.Future;\n\npublic class Producer {\n    public static void main(String[] args) throws ExecutionException, InterruptedException {\n        //å®ä¾åkafkaéç¾¤\n        Properties properties = new Properties();\n        properties.setProperty("key.serializer", "org.apache.kafka.common.serialization.StringSerializer"); //keyçåºååç±»\n        properties.setProperty("value.serializer", "org.apache.kafka.common.serialization.StringSerializer"); //valueçåºååç±»\n        properties.setProperty("acks", "all"); //ackçº§å«\n//        properties.put(ProducerConfig.ACKS_CONFIG,1); //ProducerConfigå°è£éç½®æækey\n        properties.setProperty("bootstrap.servers", "hadoop102:9092");\n        properties.setProperty("buffer.memory", "33554432");//RecordAccumulatorç¼å²åºå¤§å°\n        properties.setProperty("retries", "1"); //éè¯æ¬¡æ°\n        properties.setProperty("batch.size", "16384");//æåå¤§å°\n        properties.setProperty("linger.ms", "1");//ç­å¾æ¶é´\n        //å½ç¼å²åºå¤§å°è¾¾å°16384æ¶å°±åbrokeråéä¸æ¬¡ å¦ææ²¡æè¾¾å°ä½æ¶é´å·²ç»ç­å¾äº1æ¯«ç§ä¹ä¼åé\n        KafkaProducer<String, String> producer = new KafkaProducer<String, String>(properties);\n//        producer.beginTransaction(); //è·åäºå¡å¯¹è±¡\n        //ç¨éç¾¤å¯¹è±¡åéæ°æ®\n        for (int i = 0; i < 100; i++) {\n            Future<RecordMetadata> fist = producer.send(\n                    //å°è£ProducerRecord\n                    new ProducerRecord<>("first", Integer.toString(i), "Value" + i), new Callback() {\n                        //åè°å½æ°\n                        @Override\n                        public void onCompletion(RecordMetadata recordMetadata, Exception e) {\n                            if (e == null) {\n                                System.out.println(recordMetadata);\n                            }\n                        }\n                    });\n            RecordMetadata recordMetadata = fist.get();  //ç´å°è¿åackå RecordMetadata ææ°æ®äº æåä¸ä¸æ¡æ°æ®\n            System.out.println("åå®äº" + i + "æ¡æ°æ®");\n        }\n        //å³é­èµæº\n        producer.close();\n    }\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n26\n27\n28\n29\n30\n31\n32\n33\n34\n35\n36\n37\n38\n39\n40\n41\n42\n43\n44\n\n\n\n# Consumer API\n\n\n# èªå¨æäº¤offset\n\nè¯»åpropertiesæä»¶\n\nbootstrap.servers=hadoop102:9092\ngroup.id=test\nenable.auto.commit=true\nauto.commit.interval.ms=1000\nkey.deserializer=org.apache.kafka.common.serialization.StringDeserializer\nvalue.deserializer=org.apache.kafka.common.serialization.StringDeserializer\nauto.offset.reset=earliest\n# é»è®¤ä¸ºlatestä»æåä¸æ¡æ°æ®åæå earliestä»å¼å¤´æå\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n\n\nconsumerç±»\n\npackage com.atguigu.consumer;\n\nimport org.apache.kafka.clients.consumer.ConsumerRecord;\nimport org.apache.kafka.clients.consumer.ConsumerRecords;\nimport org.apache.kafka.clients.consumer.KafkaConsumer;\n\nimport java.io.IOException;\nimport java.util.Collections;\nimport java.util.Properties;\n\npublic class Consumer {\n    public static void main(String[] args) throws IOException, InterruptedException {\n        //å®ä¾åä¸ä¸ªConsumerå¯¹è±¡\n        Properties properties = new Properties();\n        properties.load(Consumer.class.getClassLoader().getResourceAsStream("conusumer1.properties"));\n        KafkaConsumer<String, String> consumer = new KafkaConsumer<String, String>(properties);\n        //æ¥åæ¶æ¯\n        consumer.subscribe(Collections.singleton("first")); //å®ä¹è¯é¢\n        while (true) {\n            ConsumerRecords<String, String> poll = consumer.poll(2000); //ä»è¯é¢ä¸­æåæ°æ® 2000æ¯«ç§\n            if (poll.count() == 0){\n               Thread.sleep(100);\n            }\n            for (ConsumerRecord<String, String> record : poll) {\n                System.out.println(record);\n            }\n        }\n        //å³é­Consumer\n//        consumer.close();\n    }\n}\n\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n26\n27\n28\n29\n30\n31\n32\n\n\n\n# æå¨æäº¤offset\n\nè½ç¶èªå¨æäº¤offsetååç®ä»ä¾¿å©ï¼ä½ç±äºå¶æ¯åºäºæ¶é´æäº¤çï¼å¼åäººåé¾ä»¥ææ¡offsetæäº¤çæ¶æºãå æ­¤Kafkaè¿æä¾äºæå¨æäº¤offsetçAPIã\n\npropertiesæä»¶\n\nbootstrap.servers=hadoop102:9092\ngroup.id=test\nenable.auto.commit=flase\n#èªå¨æäº¤offset é»è®¤ä¸ºtrue å¦æèªå¨æäº¤offsetç±brokeræ¥è¿è¡ä¿å­\nauto.commit.interval.ms=1000\n#å¤ä¹æäº¤ä¸æ¬¡offset\nkey.deserializer=org.apache.kafka.common.serialization.StringDeserializer\nvalue.deserializer=org.apache.kafka.common.serialization.StringDeserializer\nauto.offset.reset=earliest\n# é»è®¤ä¸ºlatestä»æåä¸æ¡æ°æ®åæå earliestä»å¼å¤´æå\nauto.commit.interval.ms=5000\n#èªå¨æäº¤offsetçæ¶é´ é»è®¤ä¸º5000æ¯«ç§\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n\n\nconsumerç±»\n\npackage com.atguigu.consumer;\n\nimport org.apache.kafka.clients.consumer.*;\nimport org.apache.kafka.common.TopicPartition;\n\nimport java.io.IOException;\nimport java.util.Collections;\nimport java.util.Map;\nimport java.util.Properties;\n\npublic class Consumer {\n    public static void main(String[] args) throws IOException, InterruptedException {\n        //å®ä¾åä¸ä¸ªConsumerå¯¹è±¡\n        Properties properties = new Properties();\n        properties.load(Consumer.class.getClassLoader().getResourceAsStream("conusumer1.properties"));\n        KafkaConsumer<String, String> consumer = new KafkaConsumer<String, String>(properties);\n        //æ¥åæ¶æ¯\n        consumer.subscribe(Collections.singleton("first")); //å®ä¹è¯é¢\n        while (true) {\n            ConsumerRecords<String, String> poll = consumer.poll(2000); //ä»è¯é¢ä¸­æåæ°æ® 2000æ¯«ç§\n            //ConsumerRecords<String, String> poll = consumer.poll(Duration.ofMillis(2000)); //ä»è¯é¢ä¸­æåæ°æ® 2000æ¯«ç§\n            if (poll.count() == 0) {\n                Thread.sleep(100);\n            }\n            for (ConsumerRecord<String, String> record : poll) {\n                System.out.println(record);\n            }\n//            consumer.commitSync(); //æå¨æäº¤offset åæ­¥æäº¤\n            consumer.commitAsync(new OffsetCommitCallback() {\n                //åè°å½æ°\n                @Override\n                public void onComplete(Map<TopicPartition, OffsetAndMetadata> map, Exception e) {\n                    if (e !=null){\n                        System.out.println("Commit failed for " + map);\n                    }\n                }\n            }); //æå¨æäº¤offset å¼æ­¥æäº¤\n        }\n        //å³é­Consumer\n//        consumer.close();\n    }\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n26\n27\n28\n29\n30\n31\n32\n33\n34\n35\n36\n37\n38\n39\n40\n41\n42\n\n\næå¨æäº¤offsetçæ¹æ³æä¸¤ç§ï¼åå«æ¯commitSyncï¼åæ­¥æäº¤ï¼åcommitAsyncï¼å¼æ­¥æäº¤ï¼ãä¸¤èçç¸åç¹æ¯ï¼é½ä¼å°æ¬æ¬¡pollçä¸æ¹æ°æ®æé«çåç§»éæäº¤ï¼ä¸åç¹æ¯ï¼commitSyncé»å¡å½åçº¿ç¨ï¼ä¸ç´å°æäº¤æåï¼å¹¶ä¸ä¼èªå¨å¤±è´¥éè¯ï¼ç±ä¸å¯æ§å ç´ å¯¼è´ï¼ä¹ä¼åºç°æäº¤å¤±è´¥ï¼ï¼ècommitAsyncåæ²¡æå¤±è´¥éè¯æºå¶ï¼ææå¯è½æäº¤å¤±è´¥ã\n\n# æ°æ®æ¼æ¶è´¹åéå¤æ¶è´¹åæ\n\næ è®ºæ¯åæ­¥æäº¤è¿æ¯å¼æ­¥æäº¤offsetï¼é½æå¯è½ä¼é ææ°æ®çæ¼æ¶è´¹æèéå¤æ¶è´¹ãåæäº¤offsetåæ¶è´¹ï¼æå¯è½é ææ°æ®çæ¼æ¶è´¹ï¼èåæ¶è´¹åæäº¤offsetï¼æå¯è½ä¼é ææ°æ®çéå¤æ¶è´¹ã\n\n\n\nè§£å³æ¹æ¡: åªæå°æ¶è´¹åæäº¤offsetè¿è¡ä¸ä¸ªåå­ç»å®æè½è§£å³\n\n\n# èªå®ä¹å­å¨offset\n\npackage com.atguigu.consumer;\n\nimport org.apache.kafka.clients.consumer.ConsumerRebalanceListener;\nimport org.apache.kafka.clients.consumer.ConsumerRecord;\nimport org.apache.kafka.clients.consumer.ConsumerRecords;\nimport org.apache.kafka.clients.consumer.KafkaConsumer;\nimport org.apache.kafka.common.TopicPartition;\n\nimport java.io.*;\nimport java.util.*;\n\n/*\nèªå®ä¹ä¿å­\n */\npublic class ConsumerManual {\n    //ç¨äºè®°å½top ååº\n    private static Map<TopicPartition, Long> offset = new HashMap<>();\n    private static String file = "d:/offset";\n\n    public static void main(String[] args) throws IOException {\n        //å®ä¾åä¸ä¸ªConsumerå¯¹è±¡\n        Properties properties = new Properties();\n        properties.load(Consumer.class.getClassLoader().getResourceAsStream("conusumer1.properties"));\n        KafkaConsumer<String, String> consumer = new KafkaConsumer<String, String>(properties);\n        //è®¢éè¯é¢ æåæ¶æ¯\n        consumer.subscribe(Collections.singleton("first"), new ConsumerRebalanceListener() {\n            //ååºåéä¹ååçæä½\n            @Override\n            public void onPartitionsRevoked(Collection<TopicPartition> collection) {\n                //æäº¤æ§çoffset\n                commit();\n            }\n\n            //ååºåéä¹ååçæä½\n            @Override\n            public void onPartitionsAssigned(Collection<TopicPartition> collection) {\n                //è·åæ°çoffset\n                readOffset(collection);\n                for (TopicPartition partition : collection) {\n                    Long os = offset.get(partition);\n                    if (os == null) {\n                        consumer.seek(partition, 0);\n                    } else {\n                        consumer.seek(partition, os);\n                    }\n                }\n            }\n        });\n        while (true) {\n            ConsumerRecords<String, String> records = consumer.poll(2000);\n            //åå­ç»å®\n            for (ConsumerRecord<String, String> record : records) {\n                //æ¶è´¹\n                System.out.println(record);\n                //æ¶è´¹å®å åå¥mapä¸­\n                offset.put(\n                        new TopicPartition(record.topic(), record.partition()), record.offset());\n            }\n            commit();\n        }\n    }\n\n    /**\n     * ä»èªå®ä¹ä»è´¨è¯»åoffsetå°ç¼å­\n     *\n     * @param collection\n     */\n    private static void readOffset(Collection<TopicPartition> collection) {\n        ObjectInputStream objectInputStream = null;\n        Map<TopicPartition, Long> temp;\n        try {\n            objectInputStream = new ObjectInputStream(new FileInputStream(file));\n            temp = (Map<TopicPartition, Long>) objectInputStream.readObject();\n        } catch (Exception e) {\n            temp = new HashMap<>();\n        } finally {\n            if (objectInputStream != null) {\n                try {\n                    objectInputStream.close();\n                } catch (IOException e) {\n                    e.printStackTrace();\n                }\n            }\n        }\n        //ä»å¨é¨ååºoffsetä¸­è¯»åæä»¬åéå°çååºçoffset\n        for (TopicPartition partition : collection) {\n            offset.put(partition, temp.get(partition));\n        }\n    }\n\n    /**\n     * å°ç¼å­ä¸­çoffsetæäº¤å°èªå®ä¹ä»è´¨ä¸­\n     */\n    private static void commit() {\n        //åä»æä»¶ä¸­è¯»åæ§çææçoffset\n        ObjectInputStream objectInputStream = null;\n        Map<TopicPartition, Long> temp;\n        try {\n            objectInputStream = new ObjectInputStream(new FileInputStream(file));\n            temp = (Map<TopicPartition, Long>) objectInputStream.readObject();\n        } catch (Exception e) {\n            temp = new HashMap<>();\n        } finally {\n            if (objectInputStream != null) {\n                try {\n                    objectInputStream.close();\n                } catch (IOException e) {\n                    e.printStackTrace();\n                }\n            }\n        }\n        //åå¹¶offset\n        temp.putAll(offset);\n        //å°æ°çoffsetååºå»\n        ObjectOutputStream objectOutputStream = null;\n        try {\n            objectOutputStream = new ObjectOutputStream(new FileOutputStream(file));\n            objectOutputStream.writeObject(temp);\n        } catch (IOException e) {\n            e.printStackTrace();\n        } finally {\n            if (objectInputStream != null) {\n                try {\n                    objectInputStream.close();\n                } catch (IOException e) {\n                    e.printStackTrace();\n                }\n            }\n        }\n    }\n}\n\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n26\n27\n28\n29\n30\n31\n32\n33\n34\n35\n36\n37\n38\n39\n40\n41\n42\n43\n44\n45\n46\n47\n48\n49\n50\n51\n52\n53\n54\n55\n56\n57\n58\n59\n60\n61\n62\n63\n64\n65\n66\n67\n68\n69\n70\n71\n72\n73\n74\n75\n76\n77\n78\n79\n80\n81\n82\n83\n84\n85\n86\n87\n88\n89\n90\n91\n92\n93\n94\n95\n96\n97\n98\n99\n100\n101\n102\n103\n104\n105\n106\n107\n108\n109\n110\n111\n112\n113\n114\n115\n116\n117\n118\n119\n120\n121\n122\n123\n124\n125\n126\n127\n128\n129\n130\n131\n132\n\n\n\n# èªå®ä¹Interceptor(æ¦æªå¨)\n\næ¦æªå¨å®ç°çæ¥å£æ¯ProducerInterceptor\n\n# ä½¿ç¨æ¦æªå¨ç»è®¡æ¶æ¯åéæååå¤±è´¥çæ°é\n\npackage com.atguigu.interceptor;\n\nimport org.apache.kafka.clients.producer.ProducerInterceptor;\nimport org.apache.kafka.clients.producer.ProducerRecord;\nimport org.apache.kafka.clients.producer.RecordMetadata;\n\nimport java.util.Map;\n\n/**\n * ç»è®¡æ¶æ¯åéæååå¤±è´¥çæ°é\n */\npublic class CountInterceptor implements ProducerInterceptor<String, String> {\n\n    private long success = 0;\n    private long fail = 0;\n\n    @Override\n    public ProducerRecord<String, String> onSend(ProducerRecord<String, String> producerRecord) {\n        return producerRecord;\n    }\n\n    /**\n     * æ¶å°ACKååè®¡æ°\n     *\n     * @param recordMetadata\n     * @param e\n     */\n    @Override\n    public void onAcknowledgement(RecordMetadata recordMetadata, Exception e) {\n        if (e == null) {\n            success++;\n        } else {\n            fail++;\n        }\n    }\n\n    @Override\n    public void close() {\n        System.out.println("æåäº" + success + "æ¡");\n        System.out.println("å¤±è´¥äº" + fail + "æ¡");\n    }\n\n    @Override\n    public void configure(Map<String, ?> map) {\n\n    }\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n26\n27\n28\n29\n30\n31\n32\n33\n34\n35\n36\n37\n38\n39\n40\n41\n42\n43\n44\n45\n46\n47\n\n\n# ä½¿ç¨æ¦æªå¨ å°å¼æ¹ä¸º èªå®ä¹åç¼ + æ¶é´æ³ + å¼\n\npackage com.atguigu.interceptor;\n\nimport org.apache.kafka.clients.producer.ProducerInterceptor;\nimport org.apache.kafka.clients.producer.ProducerRecord;\nimport org.apache.kafka.clients.producer.RecordMetadata;\n\nimport java.util.Map;\n\npublic class TimeInterceptor implements ProducerInterceptor<String, String> {\n\n    //åç¼\n    private String prefix;\n\n    /**\n     * èªå®ä¹Record ä¿®æ¹æ¶é´æ³å¯ä»¥å¨æ­¤æ¹æ³ä¸­ä¿®æ¹\n     *\n     * @param producerRecord åå§Record\n     * @return ä¿®æ¹åçRecord\n     */\n    @Override\n    public ProducerRecord<String, String> onSend(ProducerRecord<String, String> producerRecord) {\n        Long timestamp = producerRecord.timestamp();\n        //Recordåªè½è·å ä¸è½ä¿®æ¹ æææä»¬åªéæ°åå»ºä¸ä¸ªRecord å¹¶æå¯¹åºçå¼èµä¸å»\n        return new ProducerRecord<String, String>(\n                producerRecord.topic(),\n                producerRecord.partition(),\n                producerRecord.timestamp(),\n                producerRecord.key(),\n                prefix + System.currentTimeMillis() + producerRecord.value(),\n                producerRecord.headers()\n        );\n    }\n\n    /**\n     * æ¶å° ACKä»¥åè°ç¨\n     *\n     * @param recordMetadata\n     * @param e\n     */\n    @Override\n    public void onAcknowledgement(RecordMetadata recordMetadata, Exception e) {\n\n    }\n\n    /**\n     * å³é­Produceræ¶è°ç¨\n     */\n    @Override\n    public void close() {\n\n    }\n\n    /**\n     * å®ä¹æ¦æªå¨çæ¹æ³\n     *\n     * @param map\n     */\n    @Override\n    public void configure(Map<String, ?> map) {\n        //å®ä¹åç¼\n        //è·åéç½®æä»¶ä¸­éç½®å¼\n        prefix = (String) map.get("prefix");\n    }\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n26\n27\n28\n29\n30\n31\n32\n33\n34\n35\n36\n37\n38\n39\n40\n41\n42\n43\n44\n45\n46\n47\n48\n49\n50\n51\n52\n53\n54\n55\n56\n57\n58\n59\n60\n61\n62\n63\n64\n\n\n# çäº§èè°ç¨èªå®ä¹æ¦æªå¨\n\npackage com.atguigu.interceptor;\n\nimport org.apache.kafka.clients.producer.*;\n\nimport java.util.ArrayList;\nimport java.util.Properties;\nimport java.util.concurrent.ExecutionException;\nimport java.util.concurrent.Future;\n\npublic class Producer {\n    public static void main(String[] args) throws ExecutionException, InterruptedException {\n        //å®ä¾åkafkaéç¾¤\n        Properties properties = new Properties();\n        properties.setProperty("key.serializer", "org.apache.kafka.common.serialization.StringSerializer"); //keyçåºååç±»\n        properties.setProperty("value.serializer", "org.apache.kafka.common.serialization.StringSerializer"); //valueçåºååç±»\n        properties.setProperty("acks", "all"); //ackçº§å«\n        properties.setProperty("bootstrap.servers", "hadoop102:9092");\n        properties.setProperty("buffer.memory", "33554432");//RecordAccumulatorç¼å²åºå¤§å°\n        properties.setProperty("retries", "1"); //éè¯æ¬¡æ°\n        properties.setProperty("batch.size", "16384");//æåå¤§å°\n        properties.setProperty("linger.ms", "1");//ç­å¾æ¶é´\n\n        //èªå®ä¹æ¦æªå¨ åè¡¨\n        ArrayList<String> interceptors = new ArrayList<>();\n        interceptors.add("com.atguigu.interceptor.TimeInterceptor"); //æ§è¡é¡ºåºä¸ºæ·»å é¡ºåº\n        interceptors.add("com.atguigu.interceptor.CountInterceptor"); //å¼ä¸ºç±»å¼ç¨è·¯å¾\n        properties.put(ProducerConfig.INTERCEPTOR_CLASSES_CONFIG, interceptors); //æ·»å å°propertiesä¸­\n        //èªå®ä¹åç¼\n        properties.setProperty("prefix","èªå®ä¹åç¼æµè¯");\n\n        KafkaProducer<String, String> producer = new KafkaProducer<String, String>(properties);\n        //ç¨éç¾¤å¯¹è±¡åéæ°æ®\n        for (int i = 0; i < 10; i++) {\n            Future<RecordMetadata> fist = producer.send(\n                    //å°è£ProducerRecord\n                    new ProducerRecord<>("first", Integer.toString(i), "Value" + i), new Callback() {\n                        //åè°å½æ°\n                        @Override\n                        public void onCompletion(RecordMetadata recordMetadata, Exception e) {\n                            if (e == null) {\n                                System.out.println(recordMetadata);\n                            }\n                        }\n                    });\n            RecordMetadata recordMetadata = fist.get();  //ç´å°è¿åackå RecordMetadata ææ°æ®äº æåä¸ä¸æ¡æ°æ®\n            System.out.println("åå®äº" + i + "æ¡æ°æ®");\n        }\n        //å³é­èµæº\n        producer.close();\n    }\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n26\n27\n28\n29\n30\n31\n32\n33\n34\n35\n36\n37\n38\n39\n40\n41\n42\n43\n44\n45\n46\n47\n48\n49\n50\n51\n',normalizedContent:'# kafka api\n\n\n# producer api\n\nkafkaçproduceråéæ¶æ¯éç¨çæ¯å¼æ­¥åéçæ¹å¼ãå¨æ¶æ¯åéçè¿ç¨ä¸­ï¼æ¶åå°äºä¸¤ä¸ªçº¿ç¨ââmainçº¿ç¨åsenderçº¿ç¨ï¼ä»¥åä¸ä¸ªçº¿ç¨å±äº«åéâârecordaccumulatorãmainçº¿ç¨å°æ¶æ¯åéç»recordaccumulatorï¼senderçº¿ç¨ä¸æ­ä»recordaccumulatorä¸­æåæ¶æ¯åéå°kafka brokerã\n\n\n\n\n# å¼æ­¥åéapi\n\nå¯¼å¥ä¾èµ\n\n<dependency>\n<groupid>org.apache.kafka</groupid>\n<artifactid>kafka-clients</artifactid>\n<version>2.4.1</version>\n</dependency>\n\n\n1\n2\n3\n4\n5\n\n\napiä½¿ç¨\n\npackage com.atguigu.producer;\n\nimport org.apache.kafka.clients.producer.callback;\nimport org.apache.kafka.clients.producer.kafkaproducer;\nimport org.apache.kafka.clients.producer.producerrecord;\nimport org.apache.kafka.clients.producer.recordmetadata;\n\nimport java.util.properties;\nimport java.util.concurrent.executionexception;\nimport java.util.concurrent.future;\n\npublic class producer {\n    public static void main(string[] args) throws executionexception, interruptedexception {\n        //å®ä¾åkafkaéç¾¤\n        properties properties = new properties();\n        properties.setproperty("key.serializer", "org.apache.kafka.common.serialization.stringserializer"); //keyçåºååç±»\n        properties.setproperty("value.serializer", "org.apache.kafka.common.serialization.stringserializer"); //valueçåºååç±»\n        properties.setproperty("acks", "all"); //ackçº§å«\n        properties.setproperty("bootstrap.servers", "hadoop102:9092");\n        properties.setproperty("buffer.memory", "33554432");//recordaccumulatorç¼å²åºå¤§å°\n        properties.setproperty("retries", "1"); //éè¯æ¬¡æ°\n        properties.setproperty("batch.size", "16384");//æåå¤§å°\n        properties.setproperty("linger.ms", "1");//ç­å¾æ¶é´\n        //å½ç¼å²åºå¤§å°è¾¾å°16384æ¶å°±åbrokeråéä¸æ¬¡ å¦ææ²¡æè¾¾å°ä½æ¶é´å·²ç»ç­å¾äº1æ¯«ç§ä¹ä¼åé\n        kafkaproducer<string, string> producer = new kafkaproducer<string, string>(properties);\n        //ç¨éç¾¤å¯¹è±¡åéæ°æ®\n        for (int i = 0; i < 100; i++) {\n            future<recordmetadata> fist = producer.send(\n                    //å°è£producerrecord\n                    new producerrecord<>("first", integer.tostring(i), "value" + i), new callback() {\n                        //åè°å½æ°\n                        @override\n                        public void oncompletion(recordmetadata recordmetadata, exception e) {\n                            if (e == null) {\n                                system.out.println(recordmetadata);\n                            }\n                        }\n                    });\n            system.out.println("åå®äº" + i + "æ¡æ°æ®");\n        }\n        //å³é­èµæº\n        producer.close();\n    }\n}\n\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n26\n27\n28\n29\n30\n31\n32\n33\n34\n35\n36\n37\n38\n39\n40\n41\n42\n43\n44\n45\n\n\nåè°å½æ°ä¸æ¯å¿é¡»ç ä¹å¯ä»¥ä¸ä¼ éåè°å½æ°\n\nåè°å½æ°ä¼å¨produceræ¶å°ackæ¶è°ç¨ï¼ä¸ºå¼æ­¥è°ç¨ï¼è¯¥æ¹æ³æä¸¤ä¸ªåæ°ï¼åå«æ¯recordmetadataåexceptionï¼å¦æexceptionä¸ºnullï¼è¯´ææ¶æ¯åéæåï¼å¦æexceptionä¸ä¸ºnullï¼è¯´ææ¶æ¯åéå¤±è´¥ã\n\næ³¨æï¼æ¶æ¯åéå¤±è´¥ä¼èªå¨éè¯ï¼ä¸éè¦æä»¬å¨åè°å½æ°ä¸­æå¨éè¯ã\n\n\n# åæ­¥åé api\n\nåæ­¥åéçææå°±æ¯ï¼ä¸æ¡æ¶æ¯åéä¹åï¼ä¼é»å¡å½åçº¿ç¨ï¼ç´è³è¿åackã\n\nç±äºsendæ¹æ³è¿åçæ¯ä¸ä¸ªfutureå¯¹è±¡ï¼æ ¹æ®futrueå¯¹è±¡çç¹ç¹ï¼æä»¬ä¹å¯ä»¥å®ç°åæ­¥åéçææï¼åªéå¨è°ç¨futureå¯¹è±¡çgetæ¹åå³å¯ã\n\npackage com.atguigu.producer;\n\nimport org.apache.kafka.clients.producer.*;\n\nimport java.util.properties;\nimport java.util.concurrent.executionexception;\nimport java.util.concurrent.future;\n\npublic class producer {\n    public static void main(string[] args) throws executionexception, interruptedexception {\n        //å®ä¾åkafkaéç¾¤\n        properties properties = new properties();\n        properties.setproperty("key.serializer", "org.apache.kafka.common.serialization.stringserializer"); //keyçåºååç±»\n        properties.setproperty("value.serializer", "org.apache.kafka.common.serialization.stringserializer"); //valueçåºååç±»\n        properties.setproperty("acks", "all"); //ackçº§å«\n//        properties.put(producerconfig.acks_config,1); //producerconfigå°è£éç½®æækey\n        properties.setproperty("bootstrap.servers", "hadoop102:9092");\n        properties.setproperty("buffer.memory", "33554432");//recordaccumulatorç¼å²åºå¤§å°\n        properties.setproperty("retries", "1"); //éè¯æ¬¡æ°\n        properties.setproperty("batch.size", "16384");//æåå¤§å°\n        properties.setproperty("linger.ms", "1");//ç­å¾æ¶é´\n        //å½ç¼å²åºå¤§å°è¾¾å°16384æ¶å°±åbrokeråéä¸æ¬¡ å¦ææ²¡æè¾¾å°ä½æ¶é´å·²ç»ç­å¾äº1æ¯«ç§ä¹ä¼åé\n        kafkaproducer<string, string> producer = new kafkaproducer<string, string>(properties);\n//        producer.begintransaction(); //è·åäºå¡å¯¹è±¡\n        //ç¨éç¾¤å¯¹è±¡åéæ°æ®\n        for (int i = 0; i < 100; i++) {\n            future<recordmetadata> fist = producer.send(\n                    //å°è£producerrecord\n                    new producerrecord<>("first", integer.tostring(i), "value" + i), new callback() {\n                        //åè°å½æ°\n                        @override\n                        public void oncompletion(recordmetadata recordmetadata, exception e) {\n                            if (e == null) {\n                                system.out.println(recordmetadata);\n                            }\n                        }\n                    });\n            recordmetadata recordmetadata = fist.get();  //ç´å°è¿åackå recordmetadata ææ°æ®äº æåä¸ä¸æ¡æ°æ®\n            system.out.println("åå®äº" + i + "æ¡æ°æ®");\n        }\n        //å³é­èµæº\n        producer.close();\n    }\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n26\n27\n28\n29\n30\n31\n32\n33\n34\n35\n36\n37\n38\n39\n40\n41\n42\n43\n44\n\n\n\n# consumer api\n\n\n# èªå¨æäº¤offset\n\nè¯»åpropertiesæä»¶\n\nbootstrap.servers=hadoop102:9092\ngroup.id=test\nenable.auto.commit=true\nauto.commit.interval.ms=1000\nkey.deserializer=org.apache.kafka.common.serialization.stringdeserializer\nvalue.deserializer=org.apache.kafka.common.serialization.stringdeserializer\nauto.offset.reset=earliest\n# é»è®¤ä¸ºlatestä»æåä¸æ¡æ°æ®åæå earliestä»å¼å¤´æå\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n\n\nconsumerç±»\n\npackage com.atguigu.consumer;\n\nimport org.apache.kafka.clients.consumer.consumerrecord;\nimport org.apache.kafka.clients.consumer.consumerrecords;\nimport org.apache.kafka.clients.consumer.kafkaconsumer;\n\nimport java.io.ioexception;\nimport java.util.collections;\nimport java.util.properties;\n\npublic class consumer {\n    public static void main(string[] args) throws ioexception, interruptedexception {\n        //å®ä¾åä¸ä¸ªconsumerå¯¹è±¡\n        properties properties = new properties();\n        properties.load(consumer.class.getclassloader().getresourceasstream("conusumer1.properties"));\n        kafkaconsumer<string, string> consumer = new kafkaconsumer<string, string>(properties);\n        //æ¥åæ¶æ¯\n        consumer.subscribe(collections.singleton("first")); //å®ä¹è¯é¢\n        while (true) {\n            consumerrecords<string, string> poll = consumer.poll(2000); //ä»è¯é¢ä¸­æåæ°æ® 2000æ¯«ç§\n            if (poll.count() == 0){\n               thread.sleep(100);\n            }\n            for (consumerrecord<string, string> record : poll) {\n                system.out.println(record);\n            }\n        }\n        //å³é­consumer\n//        consumer.close();\n    }\n}\n\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n26\n27\n28\n29\n30\n31\n32\n\n\n\n# æå¨æäº¤offset\n\nè½ç¶èªå¨æäº¤offsetååç®ä»ä¾¿å©ï¼ä½ç±äºå¶æ¯åºäºæ¶é´æäº¤çï¼å¼åäººåé¾ä»¥ææ¡offsetæäº¤çæ¶æºãå æ­¤kafkaè¿æä¾äºæå¨æäº¤offsetçapiã\n\npropertiesæä»¶\n\nbootstrap.servers=hadoop102:9092\ngroup.id=test\nenable.auto.commit=flase\n#èªå¨æäº¤offset é»è®¤ä¸ºtrue å¦æèªå¨æäº¤offsetç±brokeræ¥è¿è¡ä¿å­\nauto.commit.interval.ms=1000\n#å¤ä¹æäº¤ä¸æ¬¡offset\nkey.deserializer=org.apache.kafka.common.serialization.stringdeserializer\nvalue.deserializer=org.apache.kafka.common.serialization.stringdeserializer\nauto.offset.reset=earliest\n# é»è®¤ä¸ºlatestä»æåä¸æ¡æ°æ®åæå earliestä»å¼å¤´æå\nauto.commit.interval.ms=5000\n#èªå¨æäº¤offsetçæ¶é´ é»è®¤ä¸º5000æ¯«ç§\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n\n\nconsumerç±»\n\npackage com.atguigu.consumer;\n\nimport org.apache.kafka.clients.consumer.*;\nimport org.apache.kafka.common.topicpartition;\n\nimport java.io.ioexception;\nimport java.util.collections;\nimport java.util.map;\nimport java.util.properties;\n\npublic class consumer {\n    public static void main(string[] args) throws ioexception, interruptedexception {\n        //å®ä¾åä¸ä¸ªconsumerå¯¹è±¡\n        properties properties = new properties();\n        properties.load(consumer.class.getclassloader().getresourceasstream("conusumer1.properties"));\n        kafkaconsumer<string, string> consumer = new kafkaconsumer<string, string>(properties);\n        //æ¥åæ¶æ¯\n        consumer.subscribe(collections.singleton("first")); //å®ä¹è¯é¢\n        while (true) {\n            consumerrecords<string, string> poll = consumer.poll(2000); //ä»è¯é¢ä¸­æåæ°æ® 2000æ¯«ç§\n            //consumerrecords<string, string> poll = consumer.poll(duration.ofmillis(2000)); //ä»è¯é¢ä¸­æåæ°æ® 2000æ¯«ç§\n            if (poll.count() == 0) {\n                thread.sleep(100);\n            }\n            for (consumerrecord<string, string> record : poll) {\n                system.out.println(record);\n            }\n//            consumer.commitsync(); //æå¨æäº¤offset åæ­¥æäº¤\n            consumer.commitasync(new offsetcommitcallback() {\n                //åè°å½æ°\n                @override\n                public void oncomplete(map<topicpartition, offsetandmetadata> map, exception e) {\n                    if (e !=null){\n                        system.out.println("commit failed for " + map);\n                    }\n                }\n            }); //æå¨æäº¤offset å¼æ­¥æäº¤\n        }\n        //å³é­consumer\n//        consumer.close();\n    }\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n26\n27\n28\n29\n30\n31\n32\n33\n34\n35\n36\n37\n38\n39\n40\n41\n42\n\n\næå¨æäº¤offsetçæ¹æ³æä¸¤ç§ï¼åå«æ¯commitsyncï¼åæ­¥æäº¤ï¼åcommitasyncï¼å¼æ­¥æäº¤ï¼ãä¸¤èçç¸åç¹æ¯ï¼é½ä¼å°æ¬æ¬¡pollçä¸æ¹æ°æ®æé«çåç§»éæäº¤ï¼ä¸åç¹æ¯ï¼commitsyncé»å¡å½åçº¿ç¨ï¼ä¸ç´å°æäº¤æåï¼å¹¶ä¸ä¼èªå¨å¤±è´¥éè¯ï¼ç±ä¸å¯æ§å ç´ å¯¼è´ï¼ä¹ä¼åºç°æäº¤å¤±è´¥ï¼ï¼ècommitasyncåæ²¡æå¤±è´¥éè¯æºå¶ï¼ææå¯è½æäº¤å¤±è´¥ã\n\n# æ°æ®æ¼æ¶è´¹åéå¤æ¶è´¹åæ\n\næ è®ºæ¯åæ­¥æäº¤è¿æ¯å¼æ­¥æäº¤offsetï¼é½æå¯è½ä¼é ææ°æ®çæ¼æ¶è´¹æèéå¤æ¶è´¹ãåæäº¤offsetåæ¶è´¹ï¼æå¯è½é ææ°æ®çæ¼æ¶è´¹ï¼èåæ¶è´¹åæäº¤offsetï¼æå¯è½ä¼é ææ°æ®çéå¤æ¶è´¹ã\n\n\n\nè§£å³æ¹æ¡: åªæå°æ¶è´¹åæäº¤offsetè¿è¡ä¸ä¸ªåå­ç»å®æè½è§£å³\n\n\n# èªå®ä¹å­å¨offset\n\npackage com.atguigu.consumer;\n\nimport org.apache.kafka.clients.consumer.consumerrebalancelistener;\nimport org.apache.kafka.clients.consumer.consumerrecord;\nimport org.apache.kafka.clients.consumer.consumerrecords;\nimport org.apache.kafka.clients.consumer.kafkaconsumer;\nimport org.apache.kafka.common.topicpartition;\n\nimport java.io.*;\nimport java.util.*;\n\n/*\nèªå®ä¹ä¿å­\n */\npublic class consumermanual {\n    //ç¨äºè®°å½top ååº\n    private static map<topicpartition, long> offset = new hashmap<>();\n    private static string file = "d:/offset";\n\n    public static void main(string[] args) throws ioexception {\n        //å®ä¾åä¸ä¸ªconsumerå¯¹è±¡\n        properties properties = new properties();\n        properties.load(consumer.class.getclassloader().getresourceasstream("conusumer1.properties"));\n        kafkaconsumer<string, string> consumer = new kafkaconsumer<string, string>(properties);\n        //è®¢éè¯é¢ æåæ¶æ¯\n        consumer.subscribe(collections.singleton("first"), new consumerrebalancelistener() {\n            //ååºåéä¹ååçæä½\n            @override\n            public void onpartitionsrevoked(collection<topicpartition> collection) {\n                //æäº¤æ§çoffset\n                commit();\n            }\n\n            //ååºåéä¹ååçæä½\n            @override\n            public void onpartitionsassigned(collection<topicpartition> collection) {\n                //è·åæ°çoffset\n                readoffset(collection);\n                for (topicpartition partition : collection) {\n                    long os = offset.get(partition);\n                    if (os == null) {\n                        consumer.seek(partition, 0);\n                    } else {\n                        consumer.seek(partition, os);\n                    }\n                }\n            }\n        });\n        while (true) {\n            consumerrecords<string, string> records = consumer.poll(2000);\n            //åå­ç»å®\n            for (consumerrecord<string, string> record : records) {\n                //æ¶è´¹\n                system.out.println(record);\n                //æ¶è´¹å®å åå¥mapä¸­\n                offset.put(\n                        new topicpartition(record.topic(), record.partition()), record.offset());\n            }\n            commit();\n        }\n    }\n\n    /**\n     * ä»èªå®ä¹ä»è´¨è¯»åoffsetå°ç¼å­\n     *\n     * @param collection\n     */\n    private static void readoffset(collection<topicpartition> collection) {\n        objectinputstream objectinputstream = null;\n        map<topicpartition, long> temp;\n        try {\n            objectinputstream = new objectinputstream(new fileinputstream(file));\n            temp = (map<topicpartition, long>) objectinputstream.readobject();\n        } catch (exception e) {\n            temp = new hashmap<>();\n        } finally {\n            if (objectinputstream != null) {\n                try {\n                    objectinputstream.close();\n                } catch (ioexception e) {\n                    e.printstacktrace();\n                }\n            }\n        }\n        //ä»å¨é¨ååºoffsetä¸­è¯»åæä»¬åéå°çååºçoffset\n        for (topicpartition partition : collection) {\n            offset.put(partition, temp.get(partition));\n        }\n    }\n\n    /**\n     * å°ç¼å­ä¸­çoffsetæäº¤å°èªå®ä¹ä»è´¨ä¸­\n     */\n    private static void commit() {\n        //åä»æä»¶ä¸­è¯»åæ§çææçoffset\n        objectinputstream objectinputstream = null;\n        map<topicpartition, long> temp;\n        try {\n            objectinputstream = new objectinputstream(new fileinputstream(file));\n            temp = (map<topicpartition, long>) objectinputstream.readobject();\n        } catch (exception e) {\n            temp = new hashmap<>();\n        } finally {\n            if (objectinputstream != null) {\n                try {\n                    objectinputstream.close();\n                } catch (ioexception e) {\n                    e.printstacktrace();\n                }\n            }\n        }\n        //åå¹¶offset\n        temp.putall(offset);\n        //å°æ°çoffsetååºå»\n        objectoutputstream objectoutputstream = null;\n        try {\n            objectoutputstream = new objectoutputstream(new fileoutputstream(file));\n            objectoutputstream.writeobject(temp);\n        } catch (ioexception e) {\n            e.printstacktrace();\n        } finally {\n            if (objectinputstream != null) {\n                try {\n                    objectinputstream.close();\n                } catch (ioexception e) {\n                    e.printstacktrace();\n                }\n            }\n        }\n    }\n}\n\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n26\n27\n28\n29\n30\n31\n32\n33\n34\n35\n36\n37\n38\n39\n40\n41\n42\n43\n44\n45\n46\n47\n48\n49\n50\n51\n52\n53\n54\n55\n56\n57\n58\n59\n60\n61\n62\n63\n64\n65\n66\n67\n68\n69\n70\n71\n72\n73\n74\n75\n76\n77\n78\n79\n80\n81\n82\n83\n84\n85\n86\n87\n88\n89\n90\n91\n92\n93\n94\n95\n96\n97\n98\n99\n100\n101\n102\n103\n104\n105\n106\n107\n108\n109\n110\n111\n112\n113\n114\n115\n116\n117\n118\n119\n120\n121\n122\n123\n124\n125\n126\n127\n128\n129\n130\n131\n132\n\n\n\n# èªå®ä¹interceptor(æ¦æªå¨)\n\næ¦æªå¨å®ç°çæ¥å£æ¯producerinterceptor\n\n# ä½¿ç¨æ¦æªå¨ç»è®¡æ¶æ¯åéæååå¤±è´¥çæ°é\n\npackage com.atguigu.interceptor;\n\nimport org.apache.kafka.clients.producer.producerinterceptor;\nimport org.apache.kafka.clients.producer.producerrecord;\nimport org.apache.kafka.clients.producer.recordmetadata;\n\nimport java.util.map;\n\n/**\n * ç»è®¡æ¶æ¯åéæååå¤±è´¥çæ°é\n */\npublic class countinterceptor implements producerinterceptor<string, string> {\n\n    private long success = 0;\n    private long fail = 0;\n\n    @override\n    public producerrecord<string, string> onsend(producerrecord<string, string> producerrecord) {\n        return producerrecord;\n    }\n\n    /**\n     * æ¶å°ackååè®¡æ°\n     *\n     * @param recordmetadata\n     * @param e\n     */\n    @override\n    public void onacknowledgement(recordmetadata recordmetadata, exception e) {\n        if (e == null) {\n            success++;\n        } else {\n            fail++;\n        }\n    }\n\n    @override\n    public void close() {\n        system.out.println("æåäº" + success + "æ¡");\n        system.out.println("å¤±è´¥äº" + fail + "æ¡");\n    }\n\n    @override\n    public void configure(map<string, ?> map) {\n\n    }\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n26\n27\n28\n29\n30\n31\n32\n33\n34\n35\n36\n37\n38\n39\n40\n41\n42\n43\n44\n45\n46\n47\n\n\n# ä½¿ç¨æ¦æªå¨ å°å¼æ¹ä¸º èªå®ä¹åç¼ + æ¶é´æ³ + å¼\n\npackage com.atguigu.interceptor;\n\nimport org.apache.kafka.clients.producer.producerinterceptor;\nimport org.apache.kafka.clients.producer.producerrecord;\nimport org.apache.kafka.clients.producer.recordmetadata;\n\nimport java.util.map;\n\npublic class timeinterceptor implements producerinterceptor<string, string> {\n\n    //åç¼\n    private string prefix;\n\n    /**\n     * èªå®ä¹record ä¿®æ¹æ¶é´æ³å¯ä»¥å¨æ­¤æ¹æ³ä¸­ä¿®æ¹\n     *\n     * @param producerrecord åå§record\n     * @return ä¿®æ¹åçrecord\n     */\n    @override\n    public producerrecord<string, string> onsend(producerrecord<string, string> producerrecord) {\n        long timestamp = producerrecord.timestamp();\n        //recordåªè½è·å ä¸è½ä¿®æ¹ æææä»¬åªéæ°åå»ºä¸ä¸ªrecord å¹¶æå¯¹åºçå¼èµä¸å»\n        return new producerrecord<string, string>(\n                producerrecord.topic(),\n                producerrecord.partition(),\n                producerrecord.timestamp(),\n                producerrecord.key(),\n                prefix + system.currenttimemillis() + producerrecord.value(),\n                producerrecord.headers()\n        );\n    }\n\n    /**\n     * æ¶å° ackä»¥åè°ç¨\n     *\n     * @param recordmetadata\n     * @param e\n     */\n    @override\n    public void onacknowledgement(recordmetadata recordmetadata, exception e) {\n\n    }\n\n    /**\n     * å³é­produceræ¶è°ç¨\n     */\n    @override\n    public void close() {\n\n    }\n\n    /**\n     * å®ä¹æ¦æªå¨çæ¹æ³\n     *\n     * @param map\n     */\n    @override\n    public void configure(map<string, ?> map) {\n        //å®ä¹åç¼\n        //è·åéç½®æä»¶ä¸­éç½®å¼\n        prefix = (string) map.get("prefix");\n    }\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n26\n27\n28\n29\n30\n31\n32\n33\n34\n35\n36\n37\n38\n39\n40\n41\n42\n43\n44\n45\n46\n47\n48\n49\n50\n51\n52\n53\n54\n55\n56\n57\n58\n59\n60\n61\n62\n63\n64\n\n\n# çäº§èè°ç¨èªå®ä¹æ¦æªå¨\n\npackage com.atguigu.interceptor;\n\nimport org.apache.kafka.clients.producer.*;\n\nimport java.util.arraylist;\nimport java.util.properties;\nimport java.util.concurrent.executionexception;\nimport java.util.concurrent.future;\n\npublic class producer {\n    public static void main(string[] args) throws executionexception, interruptedexception {\n        //å®ä¾åkafkaéç¾¤\n        properties properties = new properties();\n        properties.setproperty("key.serializer", "org.apache.kafka.common.serialization.stringserializer"); //keyçåºååç±»\n        properties.setproperty("value.serializer", "org.apache.kafka.common.serialization.stringserializer"); //valueçåºååç±»\n        properties.setproperty("acks", "all"); //ackçº§å«\n        properties.setproperty("bootstrap.servers", "hadoop102:9092");\n        properties.setproperty("buffer.memory", "33554432");//recordaccumulatorç¼å²åºå¤§å°\n        properties.setproperty("retries", "1"); //éè¯æ¬¡æ°\n        properties.setproperty("batch.size", "16384");//æåå¤§å°\n        properties.setproperty("linger.ms", "1");//ç­å¾æ¶é´\n\n        //èªå®ä¹æ¦æªå¨ åè¡¨\n        arraylist<string> interceptors = new arraylist<>();\n        interceptors.add("com.atguigu.interceptor.timeinterceptor"); //æ§è¡é¡ºåºä¸ºæ·»å é¡ºåº\n        interceptors.add("com.atguigu.interceptor.countinterceptor"); //å¼ä¸ºç±»å¼ç¨è·¯å¾\n        properties.put(producerconfig.interceptor_classes_config, interceptors); //æ·»å å°propertiesä¸­\n        //èªå®ä¹åç¼\n        properties.setproperty("prefix","èªå®ä¹åç¼æµè¯");\n\n        kafkaproducer<string, string> producer = new kafkaproducer<string, string>(properties);\n        //ç¨éç¾¤å¯¹è±¡åéæ°æ®\n        for (int i = 0; i < 10; i++) {\n            future<recordmetadata> fist = producer.send(\n                    //å°è£producerrecord\n                    new producerrecord<>("first", integer.tostring(i), "value" + i), new callback() {\n                        //åè°å½æ°\n                        @override\n                        public void oncompletion(recordmetadata recordmetadata, exception e) {\n                            if (e == null) {\n                                system.out.println(recordmetadata);\n                            }\n                        }\n                    });\n            recordmetadata recordmetadata = fist.get();  //ç´å°è¿åackå recordmetadata ææ°æ®äº æåä¸ä¸æ¡æ°æ®\n            system.out.println("åå®äº" + i + "æ¡æ°æ®");\n        }\n        //å³é­èµæº\n        producer.close();\n    }\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n26\n27\n28\n29\n30\n31\n32\n33\n34\n35\n36\n37\n38\n39\n40\n41\n42\n43\n44\n45\n46\n47\n48\n49\n50\n51\n',charsets:{cjk:!0},lastUpdated:"2022/03/18, 07:01:11",lastUpdatedTimestamp:1647558071e3},{title:"Kafkaåç",frontmatter:{title:"Kafkaåç",date:"2022-03-17T22:08:02.000Z",permalink:"/pages/6c830a/",categories:["å¤§æ°æ®","Kafka"],tags:[null]},regularPath:"/%E5%A4%A7%E6%95%B0%E6%8D%AE/05.Kafka/05.Kafka%E5%8E%9F%E7%90%86.html",relativePath:"å¤§æ°æ®/05.Kafka/05.Kafkaåç.md",key:"v-3cd13c66",path:"/pages/6c830a/",headers:[{level:2,title:"Kafka å·¥ä½æµç¨åæä»¶å­å¨æºå¶",slug:"kafka-å·¥ä½æµç¨åæä»¶å­å¨æºå¶",normalizedTitle:"kafka å·¥ä½æµç¨åæä»¶å­å¨æºå¶",charIndex:14},{level:2,title:"Kafka çäº§è",slug:"kafka-çäº§è",normalizedTitle:"kafka çäº§è",charIndex:521},{level:3,title:"ååºç­ç¥",slug:"ååºç­ç¥",normalizedTitle:"ååºç­ç¥",charIndex:535},{level:3,title:"æ°æ®å¯é æ§ä¿è¯",slug:"æ°æ®å¯é æ§ä¿è¯",normalizedTitle:"æ°æ®å¯é æ§ä¿è¯",charIndex:964},{level:3,title:"Exactly Onceè¯­ä¹ (å¹ç­æ§)",slug:"exactly-onceè¯­ä¹-å¹ç­æ§",normalizedTitle:"exactly onceè¯­ä¹ (å¹ç­æ§)",charIndex:2440},{level:2,title:"Kafka æ¶è´¹è",slug:"kafka-æ¶è´¹è",normalizedTitle:"kafka æ¶è´¹è",charIndex:3275},{level:3,title:"æ¶è´¹æ¹å¼",slug:"æ¶è´¹æ¹å¼",normalizedTitle:"æ¶è´¹æ¹å¼",charIndex:3289},{level:3,title:"ååºåéç­ç¥",slug:"ååºåéç­ç¥",normalizedTitle:"ååºåéç­ç¥",charIndex:3611},{level:3,title:"offsetçç»´æ¤",slug:"offsetçç»´æ¤",normalizedTitle:"offsetçç»´æ¤",charIndex:3776},{level:2,title:"Kafkaé«æè¯»åæ°æ®",slug:"kafkaé«æè¯»åæ°æ®",normalizedTitle:"kafkaé«æè¯»åæ°æ®",charIndex:4014},{level:3,title:"é¡ºåºåç£ç",slug:"é¡ºåºåç£ç",normalizedTitle:"é¡ºåºåç£ç",charIndex:4030},{level:3,title:"åºç¨Pagecache",slug:"åºç¨pagecache",normalizedTitle:"åºç¨pagecache",charIndex:4129},{level:3,title:"é¶æ·è´",slug:"é¶æ·è´",normalizedTitle:"é¶æ·è´",charIndex:4571},{level:2,title:"Zookeeperå¨Kafkaçä½ç¨",slug:"zookeeperå¨kafkaçä½ç¨",normalizedTitle:"zookeeperå¨kafkaçä½ç¨",charIndex:5211},{level:2,title:"Kafkaäºå¡",slug:"kafkaäºå¡",normalizedTitle:"kafkaäºå¡",charIndex:5348},{level:3,title:"Produceräºå¡",slug:"produceräºå¡",normalizedTitle:"produceräºå¡",charIndex:5443},{level:3,title:"Consumeräºå¡ï¼ç²¾åä¸æ¬¡æ§æ¶è´¹ï¼",slug:"consumeräºå¡-ç²¾åä¸æ¬¡æ§æ¶è´¹",normalizedTitle:"consumeräºå¡ï¼ç²¾åä¸æ¬¡æ§æ¶è´¹ï¼",charIndex:5792}],headersStr:"Kafka å·¥ä½æµç¨åæä»¶å­å¨æºå¶ Kafka çäº§è ååºç­ç¥ æ°æ®å¯é æ§ä¿è¯ Exactly Onceè¯­ä¹ (å¹ç­æ§) Kafka æ¶è´¹è æ¶è´¹æ¹å¼ ååºåéç­ç¥ offsetçç»´æ¤ Kafkaé«æè¯»åæ°æ® é¡ºåºåç£ç åºç¨Pagecache é¶æ·è´ Zookeeperå¨Kafkaçä½ç¨ Kafkaäºå¡ Produceräºå¡ Consumeräºå¡ï¼ç²¾åä¸æ¬¡æ§æ¶è´¹ï¼",content:"# Kafkaåç\n\n\n# Kafka å·¥ä½æµç¨åæä»¶å­å¨æºå¶\n\n\n\nKafkaä¸­æ¶æ¯æ¯ä»¥topicè¿è¡åç±»çï¼çäº§èçäº§æ¶æ¯ï¼æ¶è´¹èæ¶è´¹æ¶æ¯ï¼é½æ¯é¢åtopicçã\n\ntopicæ¯é»è¾ä¸çæ¦å¿µï¼èpartitionæ¯ç©çä¸çæ¦å¿µï¼æ¯ä¸ªpartitionå¯¹åºäºä¸ä¸ªlogæä»¶ï¼è¯¥logæä»¶ä¸­å­å¨çå°±æ¯producerçäº§çæ°æ®ãProducerçäº§çæ°æ®ä¼è¢«ä¸æ­è¿½å å°è¯¥logæä»¶æ«ç«¯ï¼ä¸æ¯æ¡æ°æ®é½æèªå·±çoffsetãæ¶è´¹èç»ä¸­çæ¯ä¸ªæ¶è´¹èï¼é½ä¼å®æ¶è®°å½èªå·±æ¶è´¹å°äºåªä¸ªoffsetï¼ä»¥ä¾¿åºéæ¢å¤æ¶ï¼ä»ä¸æ¬¡çä½ç½®ç»§ç»­æ¶è´¹ã\n\n\n\néç½®æä»¶ä¸­ 1ä¸ªæææ¸é¤ ä¹åçè¢«åå²çæä»¶ 1GBåå²ä¸º1ä¸ªæä»¶\n\nç±äºçäº§èçäº§çæ¶æ¯ä¼ä¸æ­è¿½å å°logæä»¶æ«å°¾ï¼ä¸ºé²æ­¢logæä»¶è¿å¤§å¯¼è´æ°æ®å®ä½æçä½ä¸ï¼Kafkaéåäºåçåç´¢å¼æºå¶ï¼å°æ¯ä¸ªpartitionåä¸ºå¤ä¸ªsegmentãæ¯ä¸ªsegmentå¯¹åºä¸¤ä¸ªæä»¶âââ.indexâæä»¶åâ.logâæä»¶ãè¿äºæä»¶ä½äºä¸ä¸ªæä»¶å¤¹ä¸ï¼è¯¥æä»¶å¤¹çå½åè§åä¸ºï¼topicåç§°+ååºåºå·ãä¾å¦ï¼firstè¿ä¸ªtopicæä¸ä¸ªååºï¼åå¶å¯¹åºçæä»¶å¤¹ä¸ºfirst-0,first-1,first-2ã\n\n\n\n\n# Kafka çäº§è\n\n\n# ååºç­ç¥\n\n 1. ååºçåå \n    1. æ¹ä¾¿å¨éç¾¤ä¸­æ©å±ï¼æ¯ä¸ªPartitionå¯ä»¥éè¿è°æ´ä»¥éåºå®æå¨çæºå¨ï¼èä¸ä¸ªtopicåå¯ä»¥æå¤ä¸ªPartitionç»æï¼å æ­¤æ´ä¸ªéç¾¤å°±å¯ä»¥éåºä»»æå¤§å°çæ°æ®äºï¼\n    2. å¯ä»¥æé«å¹¶åï¼å ä¸ºå¯ä»¥ä»¥Partitionä¸ºåä½è¯»åäº\n 2. ååºçåå\n    1. ææ partition çæåµä¸ï¼ç´æ¥å°ææçå¼ç´æ¥ä½ä¸º partiton å¼ï¼\n    2. æ²¡æææ partition å¼ä½æ key çæåµä¸ï¼å° key ç hash å¼ä¸ topic ç partition æ°è¿è¡åä½å¾å° partition å¼ï¼\n    3. æ¢æ²¡æ partition å¼åæ²¡æ key å¼çæåµä¸ï¼ç¬¬ä¸æ¬¡è°ç¨æ¶éæºçæä¸ä¸ªæ´æ°ï¼åé¢æ¯æ¬¡è°ç¨å¨è¿ä¸ªæ´æ°ä¸èªå¢ï¼ï¼å°è¿ä¸ªå¼ä¸ topic å¯ç¨ç partition æ»æ°åä½å¾å° partition å¼ï¼ä¹å°±æ¯å¸¸è¯´ç round-robin ç®æ³ã\n\n\n# æ°æ®å¯é æ§ä¿è¯\n\nä¸ºä¿è¯produceråéçæ°æ®ï¼è½å¯é çåéå°æå®çtopicï¼topicçæ¯ä¸ªpartitionæ¶å°produceråéçæ°æ®åï¼é½éè¦åproduceråéackï¼acknowledgementç¡®è®¤æ¶å°ï¼ï¼å¦æproduceræ¶å°ackï¼å°±ä¼è¿è¡ä¸ä¸è½®çåéï¼å¦åéæ°åéæ°æ®ã\n\n\n\n\n\næ¹æ¡                ä¼ç¹                               ç¼ºç¹\nåæ°ä»¥ä¸å®æåæ­¥ï¼å°±åéack   å»¶è¿ä½                              éä¸¾æ°çleaderæ¶ï¼å®¹å¿nå°èç¹çæéï¼éè¦2n+1ä¸ªå¯æ¬\nå¨é¨å®æåæ­¥ï¼æåéack     éä¸¾æ°çleaderæ¶ï¼å®¹å¿nå°èç¹çæéï¼éè¦n+1ä¸ªå¯æ¬   å»¶è¿é«\n\nKafkaéæ©äºç¬¬äºç§æ¹æ¡ è½ç¶ç¬¬äºç§æ¹æ¡çç½ç»å»¶è¿ä¼æ¯è¾é«ï¼ä½ç½ç»å»¶è¿å¯¹Kafkaçå½±åè¾å°\n\nåæ ·ä¸ºäºå®¹å¿nå°èç¹çæéï¼ç¬¬ä¸ç§æ¹æ¡éè¦2n+1ä¸ªå¯æ¬ï¼èç¬¬äºç§æ¹æ¡åªéè¦n+1ä¸ªå¯æ¬ï¼èKafkaçæ¯ä¸ªååºé½æå¤§éçæ°æ®ï¼ç¬¬ä¸ç§æ¹æ¡ä¼é æå¤§éæ°æ®çåä½\n\n# ISR\n\nLeaderç»´æ¤äºä¸ä¸ªå¨æçin-sync replica set (ISR)ï¼æä¸ºåleaderä¿æåæ­¥çfolloweréåãå½ISRä¸­çfollowerå®ææ°æ®çåæ­¥ä¹åï¼leaderå°±ä¼ç»produceråéackãå¦æfolloweré¿æ¶é´æªåleaderåæ­¥æ°æ®ï¼åè¯¥followerå°è¢«è¸¢åºISRï¼è¯¥æ¶é´éå¼ç±replica.lag.time.max.msåæ°è®¾å®ãLeaderåçæéä¹åï¼å°±ä¼ä»ISRä¸­éä¸¾æ°çleaderã\n\n# æéå¤çç»è\n\n\n\n 1. followeræé followeråçæéåä¼è¢«ä¸´æ¶è¸¢åºISRï¼å¾è¯¥followeræ¢å¤åï¼followerä¼è¯»åæ¬å°ç£çè®°å½çä¸æ¬¡çHWï¼å¹¶å°logæä»¶é«äºHWçé¨åæªåæï¼ä»HWå¼å§åleaderè¿è¡åæ­¥ãç­è¯¥followerçLEOå¤§äºç­äºè¯¥PartitionçHWï¼å³followerè¿½ä¸leaderä¹åï¼å°±å¯ä»¥éæ°å å¥ISRäºã\n 2. leaderæé leaderåçæéä¹åï¼ä¼ä»ISRä¸­éåºä¸ä¸ªæ°çleaderï¼ä¹åï¼ä¸ºä¿è¯å¤ä¸ªå¯æ¬ä¹é´çæ°æ®ä¸è´æ§ï¼å¶ä½çfollowerä¼åå°åèªçlogæä»¶é«äºHWçé¨åæªæï¼ç¶åä»æ°çleaderåæ­¥æ°æ®ã\n\næ³¨æï¼è¿åªè½ä¿è¯å¯æ¬ä¹é´çæ°æ®ä¸è´æ§ï¼å¹¶ä¸è½ä¿è¯æ°æ®ä¸ä¸¢å¤±æèä¸éå¤ã\n\n# ackåºç­æºå¶\n\nå¯¹äºæäºä¸å¤ªéè¦çæ°æ®ï¼å¯¹æ°æ®çå¯é æ§è¦æ±ä¸æ¯å¾é«ï¼è½å¤å®¹å¿æ°æ®çå°éä¸¢å¤±ï¼æä»¥æ²¡å¿è¦ç­ISRä¸­çfollowerå¨é¨æ¥æ¶æåã\n\næä»¥Kafkaä¸ºç¨æ·æä¾äºä¸ç§å¯é æ§çº§å«ï¼ç¨æ·æ ¹æ®å¯¹å¯é æ§åå»¶è¿çè¦æ±è¿è¡æè¡¡ï¼éæ©ä»¥ä¸çéç½®ã\n\n-1ï¼allï¼ï¼producerç­å¾brokerçackï¼partitionçleaderåfollowerå¨é¨è½çæååæè¿åackãä½æ¯å¦æå¨followeråæ­¥å®æåï¼brokeråéackä¹åï¼leaderåçæéï¼é£ä¹ä¼é ææ°æ®éå¤ã\n\n\n\n0ï¼producerä¸ç­å¾brokerçackï¼è¿ä¸æä½æä¾äºä¸ä¸ªæä½çå»¶è¿ï¼brokerä¸æ¥æ¶å°è¿æ²¡æåå¥ç£çå°±å·²ç»è¿åï¼å½brokeræéæ¶æå¯è½ä¸¢å¤±æ°æ®ï¼\n\n1ï¼producerç­å¾brokerçackï¼partitionçleaderè½çæååè¿åackï¼å¦æå¨followeråæ­¥æåä¹åleaderæéï¼é£ä¹å°ä¼ä¸¢å¤±æ°æ®ï¼\n\n\n\n\n# Exactly Onceè¯­ä¹ (å¹ç­æ§)\n\nå°æå¡å¨çACKçº§å«è®¾ç½®ä¸º**-1**ï¼å¯ä»¥ä¿è¯Producerå°Serverä¹é´ä¸ä¼ä¸¢å¤±æ°æ®ï¼å³At Least Onceè¯­ä¹ãç¸å¯¹çï¼å°æå¡å¨ACKçº§å«è®¾ç½®ä¸º0ï¼å¯ä»¥ä¿è¯çäº§èæ¯æ¡æ¶æ¯åªä¼è¢«åéä¸æ¬¡ï¼å³At Most Onceè¯­ä¹ã\n\nAt Least Onceå¯ä»¥ä¿è¯æ°æ®ä¸ä¸¢å¤±ï¼ä½æ¯ä¸è½ä¿è¯æ°æ®ä¸éå¤ï¼ç¸å¯¹çï¼At Least Onceå¯ä»¥ä¿è¯æ°æ®ä¸éå¤ï¼ä½æ¯ä¸è½ä¿è¯æ°æ®ä¸ä¸¢å¤±ãä½æ¯ï¼å¯¹äºä¸äºéå¸¸éè¦çä¿¡æ¯ï¼æ¯å¦è¯´äº¤ææ°æ®ï¼ä¸æ¸¸æ°æ®æ¶è´¹èè¦æ±æ°æ®æ¢ä¸éå¤ä¹ä¸ä¸¢å¤±ï¼å³Exactly Onceè¯­ä¹ã\n\nå¨0.11çæ¬ä»¥åçKafkaï¼å¯¹äºæ°æ®éå¤æ¯æ è½ä¸ºåçï¼åªè½ä¿è¯æ°æ®ä¸ä¸¢å¤±ï¼åå¨ä¸æ¸¸æ¶è´¹èå¯¹æ°æ®åå¨å±å»éãå¯¹äºå¤ä¸ªä¸æ¸¸åºç¨çæåµï¼æ¯ä¸ªé½éè¦åç¬åå¨å±å»éï¼è¿å°±å¯¹æ§è½é æäºå¾å¤§å½±åã\n\n0.11çæ¬çKafkaï¼å¼å¥äºä¸é¡¹éå¤§ç¹æ§ï¼å¹ç­æ§ãæè°çå¹ç­æ§å°±æ¯**æProducerä¸è®ºåServeråéå¤å°æ¬¡éå¤æ°æ®ï¼Serverç«¯é½åªä¼æä¹åä¸æ¡ã**å¹ç­æ§ç»åAt Least Onceè¯­ä¹ï¼å°±ææäºKafkaçExactly Onceè¯­ä¹ãå³ï¼\n\nAt Least Once + å¹ç­æ§ = Exactly Once\n\nè¦å¯ç¨å¹ç­æ§ï¼åªéè¦å°Producerçåæ°ä¸­enable.idompotenceè®¾ç½®ä¸ºtrueå³å¯ãKafkaçå¹ç­æ§å®ç°å¶å®å°±æ¯å°åæ¥ä¸æ¸¸éè¦åçå»éæ¾å¨äºæ°æ®ä¸æ¸¸ãå¼å¯å¹ç­æ§çProducerå¨åå§åçæ¶åä¼è¢«åéä¸ä¸ªPIDï¼åå¾åä¸Partitionçæ¶æ¯ä¼éå¸¦Sequence NumberãèBrokerç«¯ä¼å¯¹**<PID, Partition, SeqNumber>åç¼å­ï¼å½å·æç¸åä¸»é®çæ¶æ¯æäº¤æ¶ï¼Brokeråªä¼æä¹åä¸æ¡**ã\n\nä½æ¯PIDéå¯å°±ä¼ååï¼åæ¶ä¸åçPartitionä¹å·æä¸åä¸»é®ï¼æä»¥å¹ç­æ§æ æ³ä¿è¯è·¨ååºè·¨ä¼è¯çExactly Onceã\n\n\n# Kafka æ¶è´¹è\n\n\n# æ¶è´¹æ¹å¼\n\nconsumeréç¨pullï¼æï¼æ¨¡å¼ä»brokerä¸­è¯»åæ°æ®ã\n\npushï¼æ¨ï¼æ¨¡å¼å¾é¾éåºæ¶è´¹éçä¸åçæ¶è´¹èï¼å ä¸ºæ¶æ¯åééçæ¯ç±brokerå³å®çãå®çç®æ æ¯å°½å¯è½ä»¥æå¿«éåº¦ä¼ éæ¶æ¯ï¼ä½æ¯è¿æ ·å¾å®¹æé æconsumeræ¥ä¸åå¤çæ¶æ¯ï¼å¸åçè¡¨ç°å°±æ¯æç»æå¡ä»¥åç½ç»æ¥å¡ã\n\nèpullæ¨¡å¼åå¯ä»¥æ ¹æ®consumerçæ¶è´¹è½åä»¥éå½çéçæ¶è´¹æ¶æ¯ã\n\npullæ¨¡å¼ä¸è¶³ä¹å¤æ¯ï¼å¦ækafkaæ²¡ææ°æ®ï¼æ¶è´¹èå¯è½ä¼é·å¥å¾ªç¯ä¸­ï¼ä¸ç´è¿åç©ºæ°æ®ã\n\néå¯¹è¿ä¸ç¹ï¼Kafkaçæ¶è´¹èå¨æ¶è´¹æ°æ®æ¶ä¼ä¼ å¥ä¸ä¸ªæ¶é¿åæ°timeoutï¼å¦æå½åæ²¡ææ°æ®å¯ä¾æ¶è´¹ï¼consumerä¼ç­å¾ä¸æ®µæ¶é´ä¹ååè¿åï¼è¿æ®µæ¶é¿å³ä¸ºtimeoutã\n\n\n# ååºåéç­ç¥\n\nä¸ä¸ªconsumer groupä¸­æå¤ä¸ªconsumerï¼ä¸ä¸ª topicæå¤ä¸ªpartitionï¼æä»¥å¿ç¶ä¼æ¶åå°partitionçåéé®é¢ï¼å³ç¡®å®é£ä¸ªpartitionç±åªä¸ªconsumeræ¥æ¶è´¹ã\n\nKafkaæä¸¤ç§åéç­ç¥\n\n 1. roundrobin è½®è¯¢ç­ç¥\n 2. range éæºåé\n\n\n# offsetçç»´æ¤\n\nç±äºconsumerå¨æ¶è´¹è¿ç¨ä¸­å¯è½ä¼åºç°æ­çµå®æºç­æéï¼consumeræ¢å¤åï¼éè¦ä»æéåçä½ç½®çç»§ç»­æ¶è´¹ï¼æä»¥consumeréè¦å®æ¶è®°å½èªå·±æ¶è´¹å°äºåªä¸ªoffsetï¼ä»¥ä¾¿æéæ¢å¤åç»§ç»­æ¶è´¹ã\n\nKafka 0.9çæ¬ä¹åï¼consumeré»è®¤å°offsetä¿å­å¨Zookeeperä¸­ï¼ä»0.9çæ¬å¼å§ï¼consumeré»è®¤å°offsetä¿å­å¨Kafkaä¸ä¸ªåç½®çtopicä¸­ï¼è¯¥topicä¸º**__consumer_offsets**ã\n\n\n# Kafkaé«æè¯»åæ°æ®\n\n\n# é¡ºåºåç£ç\n\nKafkaçproducerçäº§æ°æ®ï¼è¦åå¥å°logæä»¶ä¸­ï¼åçè¿ç¨æ¯ä¸ç´è¿½å å°æä»¶æ«ç«¯ï¼ä¸ºé¡ºåºåãè¿ä¸ç£ççæºæ¢°æºææå³ï¼é¡ºåºåä¹æä»¥å¿«ï¼æ¯å ä¸ºå¶çå»äºå¤§éç£å¤´å¯»åçæ¶é´ã\n\n\n# åºç¨Pagecache\n\nç£çé«éç¼å­ï¼PageCacheï¼ Kafkaæ°æ®æä¹åæ¯ç´æ¥æä¹åå°Pagecacheä¸­\n\n * I/O Scheduler ä¼å°è¿ç»­çå°ååç»è£æå¤§åçç©çåä»èæé«æ§è½\n * I/O Scheduler ä¼å°è¯å°ä¸äºåæä½éæ°æé¡ºåºæå¥½ï¼ä»èåå°ç£çå¤´çç§»å¨æ¶é´\n * ååå©ç¨ææç©ºé²åå­ï¼é JVM åå­ï¼ãå¦æä½¿ç¨åºç¨å± Cacheï¼å³ JVM å åå­ï¼ï¼ä¼å¢å  GC è´æ\n * è¯»æä½å¯ç´æ¥å¨ Page Cache åè¿è¡ãå¦ææ¶è´¹åçäº§éåº¦ç¸å½ï¼çè³ä¸éè¦éè¿ç©çç£çï¼ç´æ¥éè¿ Page Cacheï¼äº¤æ¢æ°æ®\n * å¦æè¿ç¨éå¯ï¼JVM åç Cache ä¼å¤±æï¼ä½ Page Cache ä»ç¶å¯ç¨\n\nå°½ç®¡æä¹åå°Pagecacheä¸å¯è½ä¼é æå®æºä¸¢å¤±æ°æ®çæåµï¼ä½è¿å¯ä»¥è¢«KafkaçReplicationæºå¶è§£å³ãå¦æä¸ºäºä¿è¯è¿ç§æåµä¸æ°æ®ä¸ä¸¢å¤±èå¼ºå¶å° Page Cache ä¸­çæ°æ® Flush å°ç£çï¼åèä¼éä½æ§è½ã\n\n\n# é¶æ·è´\n\n\n\nä»Page Cacheç´æ¥ åå°NICä¸­ ä¸ç»è¿åºç¨å±\n\n\n\né¶æ·è´ï¼Zero-copyï¼ææ¯ï¼å ä¸ºæä»¬æ²¡æå¨åå­å±é¢å»æ·è´æ°æ®ï¼ä¹å°±æ¯è¯´å¨ç¨æ²¡æéè¿ CPU æ¥æ¬è¿æ°æ®ï¼ææçæ°æ®é½æ¯éè¿ DMA æ¥è¿è¡ä¼ è¾çã\n\né¶æ·è´ææ¯çæä»¶ä¼ è¾æ¹å¼ç¸æ¯ä¼ ç»æä»¶ä¼ è¾çæ¹å¼ï¼åå°äº 2 æ¬¡ä¸ä¸æåæ¢åæ°æ®æ·è´æ¬¡æ°ï¼åªéè¦ 2 æ¬¡ä¸ä¸æåæ¢åæ°æ®æ·è´æ¬¡æ°ï¼å°±å¯ä»¥å®ææä»¶çä¼ è¾ï¼èä¸ 2 æ¬¡çæ°æ®æ·è´è¿ç¨ï¼é½ä¸éè¦éè¿ CPUï¼2 æ¬¡é½æ¯ç± DMA æ¥æ¬è¿ã\n\næä»¥ï¼æ»ä½æ¥çï¼é¶æ·è´ææ¯å¯ä»¥ææä»¶ä¼ è¾çæ§è½æé«è³å°ä¸åä»¥ä¸ã\n\näºå®ä¸ï¼Kafka è¿ä¸ªå¼æºé¡¹ç®ï¼å°±å©ç¨äºãé¶æ·è´ãææ¯ï¼ä»èå¤§å¹æåäº I/O çååçï¼è¿ä¹æ¯ Kafka å¨å¤çæµ·éæ°æ®ä¸ºä»ä¹è¿ä¹å¿«çåå ä¹ä¸ã\n\nå¦æä½ è¿½æº¯ Kafka æä»¶ä¼ è¾çä»£ç ï¼ä½ ä¼åç°ï¼æç»å®è°ç¨äº Java NIO åºéç transferTo æ¹æ³ï¼\n\n@Overridepublic \nlong transferFrom(FileChannel fileChannel, long position, long count) throws IOException { \n    return fileChannel.transferTo(position, count, socketChannel);\n}\n\n\n1\n2\n3\n4\n\n\nå½ç¶ï¼è¦ä½¿ç¨ sendfileï¼Linux åæ ¸çæ¬å¿é¡»è¦ 2.1 ä»¥ä¸ççæ¬ã\n\n\n# Zookeeperå¨Kafkaçä½ç¨\n\nKafkaéç¾¤ä¸­æä¸ä¸ªbrokerä¼è¢«éä¸¾ä¸ºControllerï¼è´è´£ç®¡çéç¾¤brokerçä¸ä¸çº¿ï¼æætopicçååºå¯æ¬åéåleaderéä¸¾ç­å·¥ä½ã\n\nControllerçç®¡çå·¥ä½é½æ¯ä¾èµäºZookeeperçã\n\n\n\n\n# Kafkaäºå¡\n\nKafkaä»0.11çæ¬å¼å§å¼å¥äºäºå¡æ¯æãäºå¡å¯ä»¥ä¿è¯Kafkaå¨Exactly Onceè¯­ä¹çåºç¡ä¸ï¼çäº§åæ¶è´¹å¯ä»¥è·¨ååºåä¼è¯ï¼è¦ä¹å¨é¨æåï¼è¦ä¹å¨é¨å¤±è´¥ã\n\n\n# Produceräºå¡\n\nä¸ºäºå®ç°è·¨ååºè·¨ä¼è¯çäºå¡ï¼éè¦å¼å¥ä¸ä¸ªå¨å±å¯ä¸çTransaction IDï¼å¹¶å°Producerè·å¾çPIDåTransaction IDç»å®ãè¿æ ·å½Produceréå¯åå°±å¯ä»¥éè¿æ­£å¨è¿è¡çTransaction IDè·å¾åæ¥çPIDã\n\nä¸ºäºç®¡çTransactionï¼Kafkaå¼å¥äºä¸ä¸ªæ°çç»ä»¶Transaction CoordinatorãProducerå°±æ¯éè¿åTransaction Coordinatoräº¤äºè·å¾Transaction IDå¯¹åºçä»»å¡ç¶æãTransaction Coordinatorè¿è´è´£å°äºå¡ææåå¥Kafkaçä¸ä¸ªåé¨Topicï¼è¿æ ·å³ä½¿æ´ä¸ªæå¡éå¯ï¼ç±äºäºå¡ç¶æå¾å°ä¿å­ï¼è¿è¡ä¸­çäºå¡ç¶æå¯ä»¥å¾å°æ¢å¤ï¼ä»èç»§ç»­è¿è¡ã\n\n\n# Consumeräºå¡ï¼ç²¾åä¸æ¬¡æ§æ¶è´¹ï¼\n\nä¸è¿°äºå¡æºå¶ä¸»è¦æ¯ä»Produceræ¹é¢èèï¼å¯¹äºConsumerèè¨ï¼äºå¡çä¿è¯å°±ä¼ç¸å¯¹è¾å¼±ï¼å°¤å¶æ¶æ æ³ä¿è¯Commitçä¿¡æ¯è¢«ç²¾ç¡®æ¶è´¹ãè¿æ¯ç±äºConsumerå¯ä»¥éè¿offsetè®¿é®ä»»æä¿¡æ¯ï¼èä¸ä¸åçSegment Fileçå½å¨æä¸åï¼åä¸äºå¡çæ¶æ¯å¯è½ä¼åºç°éå¯åè¢«å é¤çæåµã\n\nå¦ææ³å®æConsumerç«¯çç²¾åä¸æ¬¡æ§æ¶è´¹ï¼é£ä¹éè¦kafkaæ¶è´¹ç«¯å°æ¶è´¹è¿ç¨åæäº¤offsetè¿ç¨ååå­ç»å®ãæ­¤æ¶æä»¬éè¦å°kafkaçoffsetä¿å­å°æ¯æäºå¡çèªå®ä¹ä»è´¨ä¸­ï¼æ¯å¦mysqlï¼ã",normalizedContent:"# kafkaåç\n\n\n# kafka å·¥ä½æµç¨åæä»¶å­å¨æºå¶\n\n\n\nkafkaä¸­æ¶æ¯æ¯ä»¥topicè¿è¡åç±»çï¼çäº§èçäº§æ¶æ¯ï¼æ¶è´¹èæ¶è´¹æ¶æ¯ï¼é½æ¯é¢åtopicçã\n\ntopicæ¯é»è¾ä¸çæ¦å¿µï¼èpartitionæ¯ç©çä¸çæ¦å¿µï¼æ¯ä¸ªpartitionå¯¹åºäºä¸ä¸ªlogæä»¶ï¼è¯¥logæä»¶ä¸­å­å¨çå°±æ¯producerçäº§çæ°æ®ãproducerçäº§çæ°æ®ä¼è¢«ä¸æ­è¿½å å°è¯¥logæä»¶æ«ç«¯ï¼ä¸æ¯æ¡æ°æ®é½æèªå·±çoffsetãæ¶è´¹èç»ä¸­çæ¯ä¸ªæ¶è´¹èï¼é½ä¼å®æ¶è®°å½èªå·±æ¶è´¹å°äºåªä¸ªoffsetï¼ä»¥ä¾¿åºéæ¢å¤æ¶ï¼ä»ä¸æ¬¡çä½ç½®ç»§ç»­æ¶è´¹ã\n\n\n\néç½®æä»¶ä¸­ 1ä¸ªæææ¸é¤ ä¹åçè¢«åå²çæä»¶ 1gbåå²ä¸º1ä¸ªæä»¶\n\nç±äºçäº§èçäº§çæ¶æ¯ä¼ä¸æ­è¿½å å°logæä»¶æ«å°¾ï¼ä¸ºé²æ­¢logæä»¶è¿å¤§å¯¼è´æ°æ®å®ä½æçä½ä¸ï¼kafkaéåäºåçåç´¢å¼æºå¶ï¼å°æ¯ä¸ªpartitionåä¸ºå¤ä¸ªsegmentãæ¯ä¸ªsegmentå¯¹åºä¸¤ä¸ªæä»¶âââ.indexâæä»¶åâ.logâæä»¶ãè¿äºæä»¶ä½äºä¸ä¸ªæä»¶å¤¹ä¸ï¼è¯¥æä»¶å¤¹çå½åè§åä¸ºï¼topicåç§°+ååºåºå·ãä¾å¦ï¼firstè¿ä¸ªtopicæä¸ä¸ªååºï¼åå¶å¯¹åºçæä»¶å¤¹ä¸ºfirst-0,first-1,first-2ã\n\n\n\n\n# kafka çäº§è\n\n\n# ååºç­ç¥\n\n 1. ååºçåå \n    1. æ¹ä¾¿å¨éç¾¤ä¸­æ©å±ï¼æ¯ä¸ªpartitionå¯ä»¥éè¿è°æ´ä»¥éåºå®æå¨çæºå¨ï¼èä¸ä¸ªtopicåå¯ä»¥æå¤ä¸ªpartitionç»æï¼å æ­¤æ´ä¸ªéç¾¤å°±å¯ä»¥éåºä»»æå¤§å°çæ°æ®äºï¼\n    2. å¯ä»¥æé«å¹¶åï¼å ä¸ºå¯ä»¥ä»¥partitionä¸ºåä½è¯»åäº\n 2. ååºçåå\n    1. ææ partition çæåµä¸ï¼ç´æ¥å°ææçå¼ç´æ¥ä½ä¸º partiton å¼ï¼\n    2. æ²¡æææ partition å¼ä½æ key çæåµä¸ï¼å° key ç hash å¼ä¸ topic ç partition æ°è¿è¡åä½å¾å° partition å¼ï¼\n    3. æ¢æ²¡æ partition å¼åæ²¡æ key å¼çæåµä¸ï¼ç¬¬ä¸æ¬¡è°ç¨æ¶éæºçæä¸ä¸ªæ´æ°ï¼åé¢æ¯æ¬¡è°ç¨å¨è¿ä¸ªæ´æ°ä¸èªå¢ï¼ï¼å°è¿ä¸ªå¼ä¸ topic å¯ç¨ç partition æ»æ°åä½å¾å° partition å¼ï¼ä¹å°±æ¯å¸¸è¯´ç round-robin ç®æ³ã\n\n\n# æ°æ®å¯é æ§ä¿è¯\n\nä¸ºä¿è¯produceråéçæ°æ®ï¼è½å¯é çåéå°æå®çtopicï¼topicçæ¯ä¸ªpartitionæ¶å°produceråéçæ°æ®åï¼é½éè¦åproduceråéackï¼acknowledgementç¡®è®¤æ¶å°ï¼ï¼å¦æproduceræ¶å°ackï¼å°±ä¼è¿è¡ä¸ä¸è½®çåéï¼å¦åéæ°åéæ°æ®ã\n\n\n\n\n\næ¹æ¡                ä¼ç¹                               ç¼ºç¹\nåæ°ä»¥ä¸å®æåæ­¥ï¼å°±åéack   å»¶è¿ä½                              éä¸¾æ°çleaderæ¶ï¼å®¹å¿nå°èç¹çæéï¼éè¦2n+1ä¸ªå¯æ¬\nå¨é¨å®æåæ­¥ï¼æåéack     éä¸¾æ°çleaderæ¶ï¼å®¹å¿nå°èç¹çæéï¼éè¦n+1ä¸ªå¯æ¬   å»¶è¿é«\n\nkafkaéæ©äºç¬¬äºç§æ¹æ¡ è½ç¶ç¬¬äºç§æ¹æ¡çç½ç»å»¶è¿ä¼æ¯è¾é«ï¼ä½ç½ç»å»¶è¿å¯¹kafkaçå½±åè¾å°\n\nåæ ·ä¸ºäºå®¹å¿nå°èç¹çæéï¼ç¬¬ä¸ç§æ¹æ¡éè¦2n+1ä¸ªå¯æ¬ï¼èç¬¬äºç§æ¹æ¡åªéè¦n+1ä¸ªå¯æ¬ï¼èkafkaçæ¯ä¸ªååºé½æå¤§éçæ°æ®ï¼ç¬¬ä¸ç§æ¹æ¡ä¼é æå¤§éæ°æ®çåä½\n\n# isr\n\nleaderç»´æ¤äºä¸ä¸ªå¨æçin-sync replica set (isr)ï¼æä¸ºåleaderä¿æåæ­¥çfolloweréåãå½isrä¸­çfollowerå®ææ°æ®çåæ­¥ä¹åï¼leaderå°±ä¼ç»produceråéackãå¦æfolloweré¿æ¶é´æªåleaderåæ­¥æ°æ®ï¼åè¯¥followerå°è¢«è¸¢åºisrï¼è¯¥æ¶é´éå¼ç±replica.lag.time.max.msåæ°è®¾å®ãleaderåçæéä¹åï¼å°±ä¼ä»isrä¸­éä¸¾æ°çleaderã\n\n# æéå¤çç»è\n\n\n\n 1. followeræé followeråçæéåä¼è¢«ä¸´æ¶è¸¢åºisrï¼å¾è¯¥followeræ¢å¤åï¼followerä¼è¯»åæ¬å°ç£çè®°å½çä¸æ¬¡çhwï¼å¹¶å°logæä»¶é«äºhwçé¨åæªåæï¼ä»hwå¼å§åleaderè¿è¡åæ­¥ãç­è¯¥followerçleoå¤§äºç­äºè¯¥partitionçhwï¼å³followerè¿½ä¸leaderä¹åï¼å°±å¯ä»¥éæ°å å¥isräºã\n 2. leaderæé leaderåçæéä¹åï¼ä¼ä»isrä¸­éåºä¸ä¸ªæ°çleaderï¼ä¹åï¼ä¸ºä¿è¯å¤ä¸ªå¯æ¬ä¹é´çæ°æ®ä¸è´æ§ï¼å¶ä½çfollowerä¼åå°åèªçlogæä»¶é«äºhwçé¨åæªæï¼ç¶åä»æ°çleaderåæ­¥æ°æ®ã\n\næ³¨æï¼è¿åªè½ä¿è¯å¯æ¬ä¹é´çæ°æ®ä¸è´æ§ï¼å¹¶ä¸è½ä¿è¯æ°æ®ä¸ä¸¢å¤±æèä¸éå¤ã\n\n# ackåºç­æºå¶\n\nå¯¹äºæäºä¸å¤ªéè¦çæ°æ®ï¼å¯¹æ°æ®çå¯é æ§è¦æ±ä¸æ¯å¾é«ï¼è½å¤å®¹å¿æ°æ®çå°éä¸¢å¤±ï¼æä»¥æ²¡å¿è¦ç­isrä¸­çfollowerå¨é¨æ¥æ¶æåã\n\næä»¥kafkaä¸ºç¨æ·æä¾äºä¸ç§å¯é æ§çº§å«ï¼ç¨æ·æ ¹æ®å¯¹å¯é æ§åå»¶è¿çè¦æ±è¿è¡æè¡¡ï¼éæ©ä»¥ä¸çéç½®ã\n\n-1ï¼allï¼ï¼producerç­å¾brokerçackï¼partitionçleaderåfollowerå¨é¨è½çæååæè¿åackãä½æ¯å¦æå¨followeråæ­¥å®æåï¼brokeråéackä¹åï¼leaderåçæéï¼é£ä¹ä¼é ææ°æ®éå¤ã\n\n\n\n0ï¼producerä¸ç­å¾brokerçackï¼è¿ä¸æä½æä¾äºä¸ä¸ªæä½çå»¶è¿ï¼brokerä¸æ¥æ¶å°è¿æ²¡æåå¥ç£çå°±å·²ç»è¿åï¼å½brokeræéæ¶æå¯è½ä¸¢å¤±æ°æ®ï¼\n\n1ï¼producerç­å¾brokerçackï¼partitionçleaderè½çæååè¿åackï¼å¦æå¨followeråæ­¥æåä¹åleaderæéï¼é£ä¹å°ä¼ä¸¢å¤±æ°æ®ï¼\n\n\n\n\n# exactly onceè¯­ä¹ (å¹ç­æ§)\n\nå°æå¡å¨çackçº§å«è®¾ç½®ä¸º**-1**ï¼å¯ä»¥ä¿è¯producerå°serverä¹é´ä¸ä¼ä¸¢å¤±æ°æ®ï¼å³at least onceè¯­ä¹ãç¸å¯¹çï¼å°æå¡å¨ackçº§å«è®¾ç½®ä¸º0ï¼å¯ä»¥ä¿è¯çäº§èæ¯æ¡æ¶æ¯åªä¼è¢«åéä¸æ¬¡ï¼å³at most onceè¯­ä¹ã\n\nat least onceå¯ä»¥ä¿è¯æ°æ®ä¸ä¸¢å¤±ï¼ä½æ¯ä¸è½ä¿è¯æ°æ®ä¸éå¤ï¼ç¸å¯¹çï¼at least onceå¯ä»¥ä¿è¯æ°æ®ä¸éå¤ï¼ä½æ¯ä¸è½ä¿è¯æ°æ®ä¸ä¸¢å¤±ãä½æ¯ï¼å¯¹äºä¸äºéå¸¸éè¦çä¿¡æ¯ï¼æ¯å¦è¯´äº¤ææ°æ®ï¼ä¸æ¸¸æ°æ®æ¶è´¹èè¦æ±æ°æ®æ¢ä¸éå¤ä¹ä¸ä¸¢å¤±ï¼å³exactly onceè¯­ä¹ã\n\nå¨0.11çæ¬ä»¥åçkafkaï¼å¯¹äºæ°æ®éå¤æ¯æ è½ä¸ºåçï¼åªè½ä¿è¯æ°æ®ä¸ä¸¢å¤±ï¼åå¨ä¸æ¸¸æ¶è´¹èå¯¹æ°æ®åå¨å±å»éãå¯¹äºå¤ä¸ªä¸æ¸¸åºç¨çæåµï¼æ¯ä¸ªé½éè¦åç¬åå¨å±å»éï¼è¿å°±å¯¹æ§è½é æäºå¾å¤§å½±åã\n\n0.11çæ¬çkafkaï¼å¼å¥äºä¸é¡¹éå¤§ç¹æ§ï¼å¹ç­æ§ãæè°çå¹ç­æ§å°±æ¯**æproducerä¸è®ºåserveråéå¤å°æ¬¡éå¤æ°æ®ï¼serverç«¯é½åªä¼æä¹åä¸æ¡ã**å¹ç­æ§ç»åat least onceè¯­ä¹ï¼å°±ææäºkafkaçexactly onceè¯­ä¹ãå³ï¼\n\nat least once + å¹ç­æ§ = exactly once\n\nè¦å¯ç¨å¹ç­æ§ï¼åªéè¦å°producerçåæ°ä¸­enable.idompotenceè®¾ç½®ä¸ºtrueå³å¯ãkafkaçå¹ç­æ§å®ç°å¶å®å°±æ¯å°åæ¥ä¸æ¸¸éè¦åçå»éæ¾å¨äºæ°æ®ä¸æ¸¸ãå¼å¯å¹ç­æ§çproducerå¨åå§åçæ¶åä¼è¢«åéä¸ä¸ªpidï¼åå¾åä¸partitionçæ¶æ¯ä¼éå¸¦sequence numberãèbrokerç«¯ä¼å¯¹**<pid, partition, seqnumber>åç¼å­ï¼å½å·æç¸åä¸»é®çæ¶æ¯æäº¤æ¶ï¼brokeråªä¼æä¹åä¸æ¡**ã\n\nä½æ¯pidéå¯å°±ä¼ååï¼åæ¶ä¸åçpartitionä¹å·æä¸åä¸»é®ï¼æä»¥å¹ç­æ§æ æ³ä¿è¯è·¨ååºè·¨ä¼è¯çexactly onceã\n\n\n# kafka æ¶è´¹è\n\n\n# æ¶è´¹æ¹å¼\n\nconsumeréç¨pullï¼æï¼æ¨¡å¼ä»brokerä¸­è¯»åæ°æ®ã\n\npushï¼æ¨ï¼æ¨¡å¼å¾é¾éåºæ¶è´¹éçä¸åçæ¶è´¹èï¼å ä¸ºæ¶æ¯åééçæ¯ç±brokerå³å®çãå®çç®æ æ¯å°½å¯è½ä»¥æå¿«éåº¦ä¼ éæ¶æ¯ï¼ä½æ¯è¿æ ·å¾å®¹æé æconsumeræ¥ä¸åå¤çæ¶æ¯ï¼å¸åçè¡¨ç°å°±æ¯æç»æå¡ä»¥åç½ç»æ¥å¡ã\n\nèpullæ¨¡å¼åå¯ä»¥æ ¹æ®consumerçæ¶è´¹è½åä»¥éå½çéçæ¶è´¹æ¶æ¯ã\n\npullæ¨¡å¼ä¸è¶³ä¹å¤æ¯ï¼å¦ækafkaæ²¡ææ°æ®ï¼æ¶è´¹èå¯è½ä¼é·å¥å¾ªç¯ä¸­ï¼ä¸ç´è¿åç©ºæ°æ®ã\n\néå¯¹è¿ä¸ç¹ï¼kafkaçæ¶è´¹èå¨æ¶è´¹æ°æ®æ¶ä¼ä¼ å¥ä¸ä¸ªæ¶é¿åæ°timeoutï¼å¦æå½åæ²¡ææ°æ®å¯ä¾æ¶è´¹ï¼consumerä¼ç­å¾ä¸æ®µæ¶é´ä¹ååè¿åï¼è¿æ®µæ¶é¿å³ä¸ºtimeoutã\n\n\n# ååºåéç­ç¥\n\nä¸ä¸ªconsumer groupä¸­æå¤ä¸ªconsumerï¼ä¸ä¸ª topicæå¤ä¸ªpartitionï¼æä»¥å¿ç¶ä¼æ¶åå°partitionçåéé®é¢ï¼å³ç¡®å®é£ä¸ªpartitionç±åªä¸ªconsumeræ¥æ¶è´¹ã\n\nkafkaæä¸¤ç§åéç­ç¥\n\n 1. roundrobin è½®è¯¢ç­ç¥\n 2. range éæºåé\n\n\n# offsetçç»´æ¤\n\nç±äºconsumerå¨æ¶è´¹è¿ç¨ä¸­å¯è½ä¼åºç°æ­çµå®æºç­æéï¼consumeræ¢å¤åï¼éè¦ä»æéåçä½ç½®çç»§ç»­æ¶è´¹ï¼æä»¥consumeréè¦å®æ¶è®°å½èªå·±æ¶è´¹å°äºåªä¸ªoffsetï¼ä»¥ä¾¿æéæ¢å¤åç»§ç»­æ¶è´¹ã\n\nkafka 0.9çæ¬ä¹åï¼consumeré»è®¤å°offsetä¿å­å¨zookeeperä¸­ï¼ä»0.9çæ¬å¼å§ï¼consumeré»è®¤å°offsetä¿å­å¨kafkaä¸ä¸ªåç½®çtopicä¸­ï¼è¯¥topicä¸º**__consumer_offsets**ã\n\n\n# kafkaé«æè¯»åæ°æ®\n\n\n# é¡ºåºåç£ç\n\nkafkaçproducerçäº§æ°æ®ï¼è¦åå¥å°logæä»¶ä¸­ï¼åçè¿ç¨æ¯ä¸ç´è¿½å å°æä»¶æ«ç«¯ï¼ä¸ºé¡ºåºåãè¿ä¸ç£ççæºæ¢°æºææå³ï¼é¡ºåºåä¹æä»¥å¿«ï¼æ¯å ä¸ºå¶çå»äºå¤§éç£å¤´å¯»åçæ¶é´ã\n\n\n# åºç¨pagecache\n\nç£çé«éç¼å­ï¼pagecacheï¼ kafkaæ°æ®æä¹åæ¯ç´æ¥æä¹åå°pagecacheä¸­\n\n * i/o scheduler ä¼å°è¿ç»­çå°ååç»è£æå¤§åçç©çåä»èæé«æ§è½\n * i/o scheduler ä¼å°è¯å°ä¸äºåæä½éæ°æé¡ºåºæå¥½ï¼ä»èåå°ç£çå¤´çç§»å¨æ¶é´\n * ååå©ç¨ææç©ºé²åå­ï¼é jvm åå­ï¼ãå¦æä½¿ç¨åºç¨å± cacheï¼å³ jvm å åå­ï¼ï¼ä¼å¢å  gc è´æ\n * è¯»æä½å¯ç´æ¥å¨ page cache åè¿è¡ãå¦ææ¶è´¹åçäº§éåº¦ç¸å½ï¼çè³ä¸éè¦éè¿ç©çç£çï¼ç´æ¥éè¿ page cacheï¼äº¤æ¢æ°æ®\n * å¦æè¿ç¨éå¯ï¼jvm åç cache ä¼å¤±æï¼ä½ page cache ä»ç¶å¯ç¨\n\nå°½ç®¡æä¹åå°pagecacheä¸å¯è½ä¼é æå®æºä¸¢å¤±æ°æ®çæåµï¼ä½è¿å¯ä»¥è¢«kafkaçreplicationæºå¶è§£å³ãå¦æä¸ºäºä¿è¯è¿ç§æåµä¸æ°æ®ä¸ä¸¢å¤±èå¼ºå¶å° page cache ä¸­çæ°æ® flush å°ç£çï¼åèä¼éä½æ§è½ã\n\n\n# é¶æ·è´\n\n\n\nä»page cacheç´æ¥ åå°nicä¸­ ä¸ç»è¿åºç¨å±\n\n\n\né¶æ·è´ï¼zero-copyï¼ææ¯ï¼å ä¸ºæä»¬æ²¡æå¨åå­å±é¢å»æ·è´æ°æ®ï¼ä¹å°±æ¯è¯´å¨ç¨æ²¡æéè¿ cpu æ¥æ¬è¿æ°æ®ï¼ææçæ°æ®é½æ¯éè¿ dma æ¥è¿è¡ä¼ è¾çã\n\né¶æ·è´ææ¯çæä»¶ä¼ è¾æ¹å¼ç¸æ¯ä¼ ç»æä»¶ä¼ è¾çæ¹å¼ï¼åå°äº 2 æ¬¡ä¸ä¸æåæ¢åæ°æ®æ·è´æ¬¡æ°ï¼åªéè¦ 2 æ¬¡ä¸ä¸æåæ¢åæ°æ®æ·è´æ¬¡æ°ï¼å°±å¯ä»¥å®ææä»¶çä¼ è¾ï¼èä¸ 2 æ¬¡çæ°æ®æ·è´è¿ç¨ï¼é½ä¸éè¦éè¿ cpuï¼2 æ¬¡é½æ¯ç± dma æ¥æ¬è¿ã\n\næä»¥ï¼æ»ä½æ¥çï¼é¶æ·è´ææ¯å¯ä»¥ææä»¶ä¼ è¾çæ§è½æé«è³å°ä¸åä»¥ä¸ã\n\näºå®ä¸ï¼kafka è¿ä¸ªå¼æºé¡¹ç®ï¼å°±å©ç¨äºãé¶æ·è´ãææ¯ï¼ä»èå¤§å¹æåäº i/o çååçï¼è¿ä¹æ¯ kafka å¨å¤çæµ·éæ°æ®ä¸ºä»ä¹è¿ä¹å¿«çåå ä¹ä¸ã\n\nå¦æä½ è¿½æº¯ kafka æä»¶ä¼ è¾çä»£ç ï¼ä½ ä¼åç°ï¼æç»å®è°ç¨äº java nio åºéç transferto æ¹æ³ï¼\n\n@overridepublic \nlong transferfrom(filechannel filechannel, long position, long count) throws ioexception { \n    return filechannel.transferto(position, count, socketchannel);\n}\n\n\n1\n2\n3\n4\n\n\nå½ç¶ï¼è¦ä½¿ç¨ sendfileï¼linux åæ ¸çæ¬å¿é¡»è¦ 2.1 ä»¥ä¸ççæ¬ã\n\n\n# zookeeperå¨kafkaçä½ç¨\n\nkafkaéç¾¤ä¸­æä¸ä¸ªbrokerä¼è¢«éä¸¾ä¸ºcontrollerï¼è´è´£ç®¡çéç¾¤brokerçä¸ä¸çº¿ï¼æætopicçååºå¯æ¬åéåleaderéä¸¾ç­å·¥ä½ã\n\ncontrollerçç®¡çå·¥ä½é½æ¯ä¾èµäºzookeeperçã\n\n\n\n\n# kafkaäºå¡\n\nkafkaä»0.11çæ¬å¼å§å¼å¥äºäºå¡æ¯æãäºå¡å¯ä»¥ä¿è¯kafkaå¨exactly onceè¯­ä¹çåºç¡ä¸ï¼çäº§åæ¶è´¹å¯ä»¥è·¨ååºåä¼è¯ï¼è¦ä¹å¨é¨æåï¼è¦ä¹å¨é¨å¤±è´¥ã\n\n\n# produceräºå¡\n\nä¸ºäºå®ç°è·¨ååºè·¨ä¼è¯çäºå¡ï¼éè¦å¼å¥ä¸ä¸ªå¨å±å¯ä¸çtransaction idï¼å¹¶å°producerè·å¾çpidåtransaction idç»å®ãè¿æ ·å½produceréå¯åå°±å¯ä»¥éè¿æ­£å¨è¿è¡çtransaction idè·å¾åæ¥çpidã\n\nä¸ºäºç®¡çtransactionï¼kafkaå¼å¥äºä¸ä¸ªæ°çç»ä»¶transaction coordinatorãproducerå°±æ¯éè¿åtransaction coordinatoräº¤äºè·å¾transaction idå¯¹åºçä»»å¡ç¶æãtransaction coordinatorè¿è´è´£å°äºå¡ææåå¥kafkaçä¸ä¸ªåé¨topicï¼è¿æ ·å³ä½¿æ´ä¸ªæå¡éå¯ï¼ç±äºäºå¡ç¶æå¾å°ä¿å­ï¼è¿è¡ä¸­çäºå¡ç¶æå¯ä»¥å¾å°æ¢å¤ï¼ä»èç»§ç»­è¿è¡ã\n\n\n# consumeräºå¡ï¼ç²¾åä¸æ¬¡æ§æ¶è´¹ï¼\n\nä¸è¿°äºå¡æºå¶ä¸»è¦æ¯ä»produceræ¹é¢èèï¼å¯¹äºconsumerèè¨ï¼äºå¡çä¿è¯å°±ä¼ç¸å¯¹è¾å¼±ï¼å°¤å¶æ¶æ æ³ä¿è¯commitçä¿¡æ¯è¢«ç²¾ç¡®æ¶è´¹ãè¿æ¯ç±äºconsumerå¯ä»¥éè¿offsetè®¿é®ä»»æä¿¡æ¯ï¼èä¸ä¸åçsegment fileçå½å¨æä¸åï¼åä¸äºå¡çæ¶æ¯å¯è½ä¼åºç°éå¯åè¢«å é¤çæåµã\n\nå¦ææ³å®æconsumerç«¯çç²¾åä¸æ¬¡æ§æ¶è´¹ï¼é£ä¹éè¦kafkaæ¶è´¹ç«¯å°æ¶è´¹è¿ç¨åæäº¤offsetè¿ç¨ååå­ç»å®ãæ­¤æ¶æä»¬éè¦å°kafkaçoffsetä¿å­å°æ¯æäºå¡çèªå®ä¹ä»è´¨ä¸­ï¼æ¯å¦mysqlï¼ã",charsets:{cjk:!0},lastUpdated:"2022/03/18, 07:01:11",lastUpdatedTimestamp:1647558071e3},{title:"Flume å¯¹æ¥ Kafka",frontmatter:{title:"Flume å¯¹æ¥ Kafka",date:"2022-03-17T22:08:02.000Z",permalink:"/pages/cf0e70/",categories:["å¤§æ°æ®","Kafka"],tags:[null]},regularPath:"/%E5%A4%A7%E6%95%B0%E6%8D%AE/05.Kafka/07.Flume%20%E5%AF%B9%E6%8E%A5%20Kafka.html",relativePath:"å¤§æ°æ®/05.Kafka/07.Flume å¯¹æ¥ Kafka.md",key:"v-1e6e69af",path:"/pages/cf0e70/",headersStr:null,content:"# Flume å¯¹æ¥ Kafka\n\nFlumeè¾åºå°Kafkaä¸­\n\nFlumeéç½®æä»¶\n\na2.sources = r2\na2.sinks = k2\na2.channels = c2\n\na2.sources.r2.type = exec\na2.sources.r2.command = tail -F /opt/module/flume/datas/123.log\na2.sources.r2.shell = /bin/bash -C\n\n#kafka Sink\na2.sinks.k2.type = org.apache.flume.source.kafka.KafkaSource\n#åétopic\na2.sinks.k2.kafka.topic = first\n#kafkaå°å\na2.sinks.k2.kafka.bootstrap.servers = hadoop102:9092,hadoop103:9092,hadoop104:9092\na2.sinks.k2.kafka.flumeBatchSize = 20\n#ackæ¨¡å¼\na2.sinks.k2.kafka.producer.acks = all\na2.sinks.k2.kafka.producer.linger.ms = 1\n\n\n\na2.channels.c2.type = memory\na2.channels.c2.capacity = 1000\na2.channels.c2.transactionCapacity = 100\n\n\na2.sources.r2.channels = c2\na2.sinks.k2.channel = c2\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n26\n27\n28\n\n\nå¯å¨flume\n\nflume-ng agent -n a2 -c conf/ -f datas/flume-taildir-hdfs.conf -Dflume.root.logger=INFO,console\n\n\n1\n\n\nåæ¶flumeç»æä»¬æä¾äº kafka source å¯ä»¥ä»kafkaæå®è¯é¢ä¸­è¯»åæ°æ®å°channelä¸­",normalizedContent:"# flume å¯¹æ¥ kafka\n\nflumeè¾åºå°kafkaä¸­\n\nflumeéç½®æä»¶\n\na2.sources = r2\na2.sinks = k2\na2.channels = c2\n\na2.sources.r2.type = exec\na2.sources.r2.command = tail -f /opt/module/flume/datas/123.log\na2.sources.r2.shell = /bin/bash -c\n\n#kafka sink\na2.sinks.k2.type = org.apache.flume.source.kafka.kafkasource\n#åétopic\na2.sinks.k2.kafka.topic = first\n#kafkaå°å\na2.sinks.k2.kafka.bootstrap.servers = hadoop102:9092,hadoop103:9092,hadoop104:9092\na2.sinks.k2.kafka.flumebatchsize = 20\n#ackæ¨¡å¼\na2.sinks.k2.kafka.producer.acks = all\na2.sinks.k2.kafka.producer.linger.ms = 1\n\n\n\na2.channels.c2.type = memory\na2.channels.c2.capacity = 1000\na2.channels.c2.transactioncapacity = 100\n\n\na2.sources.r2.channels = c2\na2.sinks.k2.channel = c2\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n26\n27\n28\n\n\nå¯å¨flume\n\nflume-ng agent -n a2 -c conf/ -f datas/flume-taildir-hdfs.conf -dflume.root.logger=info,console\n\n\n1\n\n\nåæ¶flumeç»æä»¬æä¾äº kafka source å¯ä»¥ä»kafkaæå®è¯é¢ä¸­è¯»åæ°æ®å°channelä¸­",charsets:{cjk:!0},lastUpdated:"2022/03/18, 07:01:11",lastUpdatedTimestamp:1647558071e3},{title:"Kafkaçæ§",frontmatter:{title:"Kafkaçæ§",date:"2022-03-17T22:08:02.000Z",permalink:"/pages/f5b30c/",categories:["å¤§æ°æ®","Kafka"],tags:[null]},regularPath:"/%E5%A4%A7%E6%95%B0%E6%8D%AE/05.Kafka/08.Kafka%E7%9B%91%E6%8E%A7.html",relativePath:"å¤§æ°æ®/05.Kafka/08.Kafkaçæ§.md",key:"v-6a373828",path:"/pages/f5b30c/",headers:[{level:2,title:"Kafka Eagle",slug:"kafka-eagle",normalizedTitle:"kafka eagle",charIndex:14},{level:2,title:"Kafka Monitor",slug:"kafka-monitor",normalizedTitle:"kafka monitor",charIndex:1895},{level:2,title:"Kafka Manager(CMAK)",slug:"kafka-manager-cmak",normalizedTitle:"kafka manager(cmak)",charIndex:2683}],headersStr:"Kafka Eagle Kafka Monitor Kafka Manager(CMAK)",content:'# Kafkaçæ§\n\n\n# Kafka Eagle\n\nåå³é­æækafka\n\nä¿®æ¹kafkaå¯å¨å½ä»¤\n\ncd /opt/module/kafka/bin\nvim kafka-server-start.sh\n\n\n1\n2\n\n\nä¿®æ¹ä»¥ä¸åå®¹\n\nif [ "x$KAFKA_HEAP_OPTS" = "x" ]; then\n    export KAFKA_HEAP_OPTS="-server -Xms2G -Xmx2G -XX:PermSize=128m -XX:+UseG1GC -XX:MaxGCPauseMillis=200 -XX:ParallelGCThreads=8 -XX:ConcGCThreads=5 -XX:InitiatingHeapOccupancyPercent=70"\n    export JMX_PORT="9999"\n    #export KAFKA_HEAP_OPTS="-Xmx1G -Xms1G"\nfi\n\n\n1\n2\n3\n4\n5\n\n\nxsync /opt/module/kafka/bin/kafka-server-start.sh\n\n\n1\n\n\nåå¯å¨kafka\n\nå®è£eagle\n\ntar -zxvf kafka-eagle-bin-1.3.7.tar.gz\ncd kafka-eagle-bin-1.3.7\ntar -zxvf kafka-eagle-web-1.3.7-bin.tar.gz -C /opt/module/\ncd /opt/module/\nmv kafka-eagle-web-1.3.7/ eagle\ncd eagle/bin/\nchmod +x ke.sh\nvim ke.sh\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n\n\nä¿®æ¹ ke.sh\n\n######################################\n# multi zookeeper&kafka cluster list\n######################################\nkafka.eagle.zk.cluster.alias=cluster1\ncluster1.zk.list=hadoop102:2181,hadoop103:2181,hadoop104:2181\n\n######################################\n# kafka offset storage\n######################################\ncluster1.kafka.eagle.offset.storage=kafka\n\n######################################\n# enable kafka metrics\n######################################\nkafka.eagle.metrics.charts=true\nkafka.eagle.sql.fix.error=false\n\n######################################\n# kafka jdbc driver address\n######################################\nkafka.eagle.driver=com.mysql.jdbc.Driver\nkafka.eagle.url=jdbc:mysql://hadoop102:3306/ke?useUnicode=true&characterEncoding=UTF-8&zeroDateTimeBehavior=convertToNull\nkafka.eagle.username=root\nkafka.eagle.password=000000\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n\n\næ·»å ç¯å¢åé\n\nvim /etc/profile.d/my_env.sh\n\n\n1\n\n\nexport KE_HOME=/opt/module/eagle\nexport PATH=$PATH:$KE_HOME/bin\n\n\n1\n2\n\n\nsource /etc/profile.d/my_env.sh\n\n\n1\n\n\nå¯å¨\n\nke.sh start\n\n\n1\n\n\nè®¿é®http://192.168.130.102:8048/ke ç¨æ·admin å¯ç 123456\n\n\n# Kafka Monitor\n\nç®åå·²ç»åæ­¢æ´æ°äº ä¸æ¨èä½¿ç¨\n\nhttps://github.com/Morningstar/kafka-offset-monitor/releases\n\nmkdir -p /opt/module/kafka-offset-console\ncd /opt/module/kafka-offset-console\n\n\n1\n2\n\n\nå°KafkaOffsetMonitor-assembly-0.4.6-SNAPSHOT.jarä¸ä¼ å°éç¾¤ä¸­ç /opt/module/kafka-offset-console\n\nåå»ºèæ¬æä»¶ start.sh\n\nvim start.sh\n\n\n1\n\n\n#!/bin/bash\nnohup java -cp KafkaOffsetMonitor-assembly-0.4.6-SNAPSHOT.jar \\\ncom.quantifind.kafka.offsetapp.OffsetGetterWeb \\\n--offsetStorage kafka \\\n--kafkaBrokers hadoop102:9092,hadoop103:9092,hadoop104:9092 \\\n--kafkaSecurityProtocol PLAINTEXT \\\n--zk hadoop102:9092,hadoop103:9092,hadoop104:9092 \\\n--port 8086 \\\n--refresh 10.seconds \\\n--retain 2.days \\\n--dbName offsetapp_kafka >/dev/null 2>&1 &\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n\n\nchmod +x start.sh\n\n\n1\n\n\nè®¿é®http://hadoop102:8086/æ¥çweb\n\n\n# Kafka Manager(CMAK)\n\nhttps://github.com/yahoo/CMAK\n\nCMAK v3.0.0.5éè¦JDK11ä»¥ä¸ï¼å¦æä½ æ³ç¨JDK1.8å»æ¯ææ­¤çæ¬æ¯è¡ä¸éçï¼ä¼æ¥éæç¤ºæ¾ä¸å°æäºclassæä»¶\n\nyum -y install java-11-openjdk-devel.x86_64\n\n\n1\n\n\nä¿®æ¹éç½®æä»¶\n\nsuod vim /etc/profile\n\n\n1\n\n\nexport JAVA_HOME=/usr/lib/jvm/java-11-openjdk-11.0.12.0.7-0.el7_9.x86_64\nexport PATH=$JAVA_HOME/bin:$PATH\nexport CLASSPATH=.:$JAVA_HOME/lib/dt.jar:$JAVA_HOME/lib/tools.jar\n\n\n1\n2\n3\n\n\nsource /etc/profile\njava -version\n\n\n1\n2\n\n\nä¸ä¼ è§£å\n\nmkdir -p /opt/module/kafkamanager\ncd /opt/module/kafkamanager\n\n\n1\n2\n\n\nä¿®æ¹éç½®\n\nvim conf/application.conf \n\n\n1\n\n\nkafka-manager.zkhosts="hadoop102:2181,hadoop103:2181,hadoop104:2181"\nkafka-manager.zkhosts=${?ZK_HOSTS}\ncmak.zkhosts="hadoop102:2181,hadoop103:2181,hadoop104:2181"\ncmak.zkhosts=${?ZK_HOSTS}\n\n\n1\n2\n3\n4\n\n\nå¯å¨\n\nchmod +x bin/cmak\nbin/cmak\n\n\n1\n2\n\n\nè®¿é®http://hadoop102:9000/',normalizedContent:'# kafkaçæ§\n\n\n# kafka eagle\n\nåå³é­æækafka\n\nä¿®æ¹kafkaå¯å¨å½ä»¤\n\ncd /opt/module/kafka/bin\nvim kafka-server-start.sh\n\n\n1\n2\n\n\nä¿®æ¹ä»¥ä¸åå®¹\n\nif [ "x$kafka_heap_opts" = "x" ]; then\n    export kafka_heap_opts="-server -xms2g -xmx2g -xx:permsize=128m -xx:+useg1gc -xx:maxgcpausemillis=200 -xx:parallelgcthreads=8 -xx:concgcthreads=5 -xx:initiatingheapoccupancypercent=70"\n    export jmx_port="9999"\n    #export kafka_heap_opts="-xmx1g -xms1g"\nfi\n\n\n1\n2\n3\n4\n5\n\n\nxsync /opt/module/kafka/bin/kafka-server-start.sh\n\n\n1\n\n\nåå¯å¨kafka\n\nå®è£eagle\n\ntar -zxvf kafka-eagle-bin-1.3.7.tar.gz\ncd kafka-eagle-bin-1.3.7\ntar -zxvf kafka-eagle-web-1.3.7-bin.tar.gz -c /opt/module/\ncd /opt/module/\nmv kafka-eagle-web-1.3.7/ eagle\ncd eagle/bin/\nchmod +x ke.sh\nvim ke.sh\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n\n\nä¿®æ¹ ke.sh\n\n######################################\n# multi zookeeper&kafka cluster list\n######################################\nkafka.eagle.zk.cluster.alias=cluster1\ncluster1.zk.list=hadoop102:2181,hadoop103:2181,hadoop104:2181\n\n######################################\n# kafka offset storage\n######################################\ncluster1.kafka.eagle.offset.storage=kafka\n\n######################################\n# enable kafka metrics\n######################################\nkafka.eagle.metrics.charts=true\nkafka.eagle.sql.fix.error=false\n\n######################################\n# kafka jdbc driver address\n######################################\nkafka.eagle.driver=com.mysql.jdbc.driver\nkafka.eagle.url=jdbc:mysql://hadoop102:3306/ke?useunicode=true&characterencoding=utf-8&zerodatetimebehavior=converttonull\nkafka.eagle.username=root\nkafka.eagle.password=000000\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n\n\næ·»å ç¯å¢åé\n\nvim /etc/profile.d/my_env.sh\n\n\n1\n\n\nexport ke_home=/opt/module/eagle\nexport path=$path:$ke_home/bin\n\n\n1\n2\n\n\nsource /etc/profile.d/my_env.sh\n\n\n1\n\n\nå¯å¨\n\nke.sh start\n\n\n1\n\n\nè®¿é®http://192.168.130.102:8048/ke ç¨æ·admin å¯ç 123456\n\n\n# kafka monitor\n\nç®åå·²ç»åæ­¢æ´æ°äº ä¸æ¨èä½¿ç¨\n\nhttps://github.com/morningstar/kafka-offset-monitor/releases\n\nmkdir -p /opt/module/kafka-offset-console\ncd /opt/module/kafka-offset-console\n\n\n1\n2\n\n\nå°kafkaoffsetmonitor-assembly-0.4.6-snapshot.jarä¸ä¼ å°éç¾¤ä¸­ç /opt/module/kafka-offset-console\n\nåå»ºèæ¬æä»¶ start.sh\n\nvim start.sh\n\n\n1\n\n\n#!/bin/bash\nnohup java -cp kafkaoffsetmonitor-assembly-0.4.6-snapshot.jar \\\ncom.quantifind.kafka.offsetapp.offsetgetterweb \\\n--offsetstorage kafka \\\n--kafkabrokers hadoop102:9092,hadoop103:9092,hadoop104:9092 \\\n--kafkasecurityprotocol plaintext \\\n--zk hadoop102:9092,hadoop103:9092,hadoop104:9092 \\\n--port 8086 \\\n--refresh 10.seconds \\\n--retain 2.days \\\n--dbname offsetapp_kafka >/dev/null 2>&1 &\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n\n\nchmod +x start.sh\n\n\n1\n\n\nè®¿é®http://hadoop102:8086/æ¥çweb\n\n\n# kafka manager(cmak)\n\nhttps://github.com/yahoo/cmak\n\ncmak v3.0.0.5éè¦jdk11ä»¥ä¸ï¼å¦æä½ æ³ç¨jdk1.8å»æ¯ææ­¤çæ¬æ¯è¡ä¸éçï¼ä¼æ¥éæç¤ºæ¾ä¸å°æäºclassæä»¶\n\nyum -y install java-11-openjdk-devel.x86_64\n\n\n1\n\n\nä¿®æ¹éç½®æä»¶\n\nsuod vim /etc/profile\n\n\n1\n\n\nexport java_home=/usr/lib/jvm/java-11-openjdk-11.0.12.0.7-0.el7_9.x86_64\nexport path=$java_home/bin:$path\nexport classpath=.:$java_home/lib/dt.jar:$java_home/lib/tools.jar\n\n\n1\n2\n3\n\n\nsource /etc/profile\njava -version\n\n\n1\n2\n\n\nä¸ä¼ è§£å\n\nmkdir -p /opt/module/kafkamanager\ncd /opt/module/kafkamanager\n\n\n1\n2\n\n\nä¿®æ¹éç½®\n\nvim conf/application.conf \n\n\n1\n\n\nkafka-manager.zkhosts="hadoop102:2181,hadoop103:2181,hadoop104:2181"\nkafka-manager.zkhosts=${?zk_hosts}\ncmak.zkhosts="hadoop102:2181,hadoop103:2181,hadoop104:2181"\ncmak.zkhosts=${?zk_hosts}\n\n\n1\n2\n3\n4\n\n\nå¯å¨\n\nchmod +x bin/cmak\nbin/cmak\n\n\n1\n2\n\n\nè®¿é®http://hadoop102:9000/',charsets:{cjk:!0},lastUpdated:"2022/03/18, 07:01:11",lastUpdatedTimestamp:1647558071e3},{title:"ä»»å¡è°åº¦",frontmatter:{title:"ä»»å¡è°åº¦",date:"2022-03-17T22:08:50.000Z",permalink:"/pages/c7cfc3/",categories:["å¤§æ°æ®","Azkaban"],tags:[null]},regularPath:"/%E5%A4%A7%E6%95%B0%E6%8D%AE/06.Azkaban/02.%E4%BB%BB%E5%8A%A1%E8%B0%83%E5%BA%A6.html",relativePath:"å¤§æ°æ®/06.Azkaban/02.ä»»å¡è°åº¦.md",key:"v-64817218",path:"/pages/c7cfc3/",headers:[{level:2,title:"å¸¸è§å·¥ä½æµè°åº¦ç³»ç»",slug:"å¸¸è§å·¥ä½æµè°åº¦ç³»ç»",normalizedTitle:"å¸¸è§å·¥ä½æµè°åº¦ç³»ç»",charIndex:149}],headersStr:"å¸¸è§å·¥ä½æµè°åº¦ç³»ç»",content:"# ä»»å¡è°åº¦\n\n 1. ä¸ä¸ªå®æ´çæ°æ®åæç³»ç»éå¸¸é½æ¯ç±å¤§éä»»å¡ååç»æï¼ Shell èæ¬ç¨åºï¼Java ç¨åºï¼MapReduce ç¨åºãHive èæ¬ç­\n 2. åä»»å¡ååä¹é´å­å¨æ¶é´åååååä¾èµå³ç³»\n 3. ä¸ºäºå¾å¥½å°ç»ç»èµ·è¿æ ·çå¤ææ§è¡è®¡åï¼éè¦ä¸ä¸ªå·¥ä½æµè°åº¦ç³»ç»æ¥è°åº¦æ§è¡\n\n\n\n\n# å¸¸è§å·¥ä½æµè°åº¦ç³»ç»\n\n 1. ç®åçä»»å¡è°åº¦ï¼ç´æ¥ä½¿ç¨ Linux ç Crontab æ¥å®ä¹ï¼\n 2. å¤æçä»»å¡è°åº¦ï¼å¼åè°åº¦å¹³å°æä½¿ç¨ç°æçå¼æºè°åº¦ç³»ç»ï¼æ¯å¦ OoizeãAzkabanã AirflowãDolphinScheduler ç­ã",normalizedContent:"# ä»»å¡è°åº¦\n\n 1. ä¸ä¸ªå®æ´çæ°æ®åæç³»ç»éå¸¸é½æ¯ç±å¤§éä»»å¡ååç»æï¼ shell èæ¬ç¨åºï¼java ç¨åºï¼mapreduce ç¨åºãhive èæ¬ç­\n 2. åä»»å¡ååä¹é´å­å¨æ¶é´åååååä¾èµå³ç³»\n 3. ä¸ºäºå¾å¥½å°ç»ç»èµ·è¿æ ·çå¤ææ§è¡è®¡åï¼éè¦ä¸ä¸ªå·¥ä½æµè°åº¦ç³»ç»æ¥è°åº¦æ§è¡\n\n\n\n\n# å¸¸è§å·¥ä½æµè°åº¦ç³»ç»\n\n 1. ç®åçä»»å¡è°åº¦ï¼ç´æ¥ä½¿ç¨ linux ç crontab æ¥å®ä¹ï¼\n 2. å¤æçä»»å¡è°åº¦ï¼å¼åè°åº¦å¹³å°æä½¿ç¨ç°æçå¼æºè°åº¦ç³»ç»ï¼æ¯å¦ ooizeãazkabanã airflowãdolphinscheduler ç­ã",charsets:{cjk:!0},lastUpdated:"2022/03/18, 07:01:11",lastUpdatedTimestamp:1647558071e3},{title:"å®è£",frontmatter:{title:"å®è£",date:"2022-03-17T22:08:50.000Z",permalink:"/pages/394c5d/",categories:["å¤§æ°æ®","Azkaban"],tags:[null]},regularPath:"/%E5%A4%A7%E6%95%B0%E6%8D%AE/06.Azkaban/03.%E5%AE%89%E8%A3%85.html",relativePath:"å¤§æ°æ®/06.Azkaban/03.å®è£.md",key:"v-55a5d0e4",path:"/pages/394c5d/",headers:[{level:2,title:"å¯¼å¥æ°æ®åº",slug:"å¯¼å¥æ°æ®åº",normalizedTitle:"å¯¼å¥æ°æ®åº",charIndex:367},{level:2,title:"åå»ºSSLéç½®",slug:"åå»ºssléç½®",normalizedTitle:"åå»ºssléç½®",charIndex:520},{level:2,title:"éç½®æä»¶ä¿®æ¹",slug:"éç½®æä»¶ä¿®æ¹",normalizedTitle:"éç½®æä»¶ä¿®æ¹",charIndex:681}],headersStr:"å¯¼å¥æ°æ®åº åå»ºSSLéç½® éç½®æä»¶ä¿®æ¹",content:'# å®è£\n\nmkdir -p /opt/module/azkaban\ncd /opt/software\ntar -zxvf azkaban-web-server-2.5.0.tar.gz -C /opt/module/azkaban/\ntar -zxvf azkaban-executor-server-2.5.0.tar.gz -C /opt/module/azkaban/\ntar -zxvf azkaban-sql-script-2.5.0.tar.gz -C /opt/module/azkaban/\ncd /opt/module/azkaban/\nmv azkaban-web-2.5.0/ server\nmv azkaban-executor-2.5.0/ executor\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n\n\n\n# å¯¼å¥æ°æ®åº\n\nmysql -uroot -pA373213257s\ncreate database azkaban;\nuse azkaban;\nsource /opt/module/azkaban/azkaban-2.5.0/create-all-sql-2.5.0.sql\n\n\n1\n2\n3\n4\n\n\n\n# åå»ºSSLéç½®\n\ncd server/\nkeytool -keystore keystore -alias jetty -genkey -keyalg RSA\n#å¯ç è®¾ç½®ä¸º123456 å¶ä»å¨é¨åè½¦ åªæå¦é£éè¾å¥yç¡®è®¤\n\n\n1\n2\n3\n\n\ndate ç¡®ä¿linuxä¸ºä¸å«åº(CST-8)æ¶é´ å¹¶éç¾¤ä¹é´æ¶é´åæ­¥\n\n\n# éç½®æä»¶ä¿®æ¹\n\ncd /opt/module/azkaban/server/conf/\nvim azkaban.properties\n\n\n1\n2\n\n\nä¿®æ¹å°åº mysqlå°å è´¦å·å¯ç  åsslå¯ç \n\n#Azkaban Personalization Settings\nazkaban.name=Test\n#æå¡å¨UIåç§°,ç¨äºæå¡å¨ä¸æ¹æ¾ç¤ºçåå­\nazkaban.label=My Local Azkaban\n#æè¿°\nazkaban.color=#FF3601\n#UIé¢è²\nazkaban.default.servlet.path=/index\nweb.resource.dir=web/\n#é»è®¤æ ¹webç®å½\ndefault.timezone.id=Asia/Shanghai\n#é»è®¤æ¶åº,å·²æ¹ä¸ºäºæ´²/ä¸æµ· é»è®¤ä¸ºç¾å½\n\n#Azkaban UserManager class\nuser.manager.class=azkaban.user.XmlUserManager\n#ç¨æ·æéç®¡çé»è®¤ç±»\nuser.manager.xml.file=conf/azkaban-users.xml\n#ç¨æ·éç½®,å·ä½éç½®åå ä¸æ\n\n#Loader for projects\nexecutor.global.properties=conf/global.properties\n# globaléç½®æä»¶æå¨ä½ç½®\nazkaban.project.dir=projects\n\ndatabase.type=mysql\n#æ°æ®åºç±»å\nmysql.port=3306\n#ç«¯å£å·\nmysql.host=hadoop102\n#æ°æ®åºè¿æ¥IP\nmysql.database=azkaban\n#æ°æ®åºå®ä¾å\nmysql.user=root\n#æ°æ®åºç¨æ·å\nmysql.password=A373213257s\n#æ°æ®åºå¯ç \nmysql.numconnections=100\n#æå¤§è¿æ¥æ°\n\n# Velocity dev mode\nvelocity.dev.mode=false\n# Jettyæå¡å¨å±æ§.\njetty.maxThreads=25\n#æå¤§çº¿ç¨æ°\njetty.ssl.port=8443\n#Jetty SSLç«¯å£\njetty.port=8081\n#Jettyç«¯å£\njetty.keystore=keystore\n#SSLæä»¶å\njetty.password=123456\n#SSLæä»¶å¯ç \njetty.keypassword=123456\n#Jettyä¸»å¯ç  ä¸ keystoreæä»¶ç¸å\njetty.truststore=keystore\n#SSLæä»¶å\njetty.trustpassword=123456\n# SSLæä»¶å¯ç \n\n# æ§è¡æå¡å¨å±æ§\nexecutor.port=12321\n#æ§è¡æå¡å¨ç«¯å£\n\n# é®ä»¶è®¾ç½®\nmail.sender=xxxxxxxx@163.com\n#åéé®ç®±\nmail.host=smtp.163.com\n#åéé®ç®±smtpå°å\nmail.user=xxxxxxxx\n#åéé®ä»¶æ¶æ¾ç¤ºçåç§°\nmail.password=**********\n#é®ç®±å¯ç \njob.failure.email=xxxxxxxx@163.com\n#ä»»å¡å¤±è´¥æ¶åéé®ä»¶çå°å\njob.success.email=xxxxxxxx@163.com\n#ä»»å¡æåæ¶åéé®ä»¶çå°å\nlockdown.create.projects=false\ncache.directory=cache\n#ç¼å­ç®å½\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n26\n27\n28\n29\n30\n31\n32\n33\n34\n35\n36\n37\n38\n39\n40\n41\n42\n43\n44\n45\n46\n47\n48\n49\n50\n51\n52\n53\n54\n55\n56\n57\n58\n59\n60\n61\n62\n63\n64\n65\n66\n67\n68\n69\n70\n71\n72\n73\n74\n75\n76\n77\n78\n79\n\n\nä¿®æ¹ azkaban-users.xml æ·»å ç®¡çåç¨æ·\n\nvim azkaban-users.xml\n\n\n1\n\n\n<azkaban-users>\n        <user username="azkaban" password="azkaban" roles="admin" groups="azkaban" />\n        <user username="metrics" password="metrics" roles="metrics"/>\n        \x3c!-- æ·»å ä»¥ä¸è¿è¡ --\x3e\n        <user username="admin" password="admin" roles="admin,metrics" />\n        <role name="admin" permissions="ADMIN" />\n        <role name="metrics" permissions="METRICS"/>\n</azkaban-users>\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n\n\nä¿®æ¹ æ§è¡æå¡å¨éç½®\n\ncd /opt/module/azkaban/executor/conf\nvim azkaban.properties\n\n\n1\n2\n\n\nä¿®æ¹æ¶åº mysql å°å è´¦å·å¯ç \n\n#Azkaban\ndefault.timezone.id=Asia/Shanghai                                              \n# æ¶åº\n\n# Azkaban JobTypes æä»¶éç½®\nazkaban.jobtype.plugin.dir=plugins/jobtypes                   \n# jobtype æä»¶æå¨ä½ç½®\n\n#Loader for projects\nexecutor.global.properties=conf/global.properties\nazkaban.project.dir=projects\n\n#æ°æ®åºè®¾ç½®\ndatabase.type=mysql                                                                       \n# æ°æ®åºç±»å(ç®ååªæ¯æmysql)\nmysql.port=3306                                                                                \n# æ°æ®åºç«¯å£å·\nmysql.host=hadoop102                                                           \n# æ°æ®åºIPå°å\nmysql.database=azkaban                                                                \n# æ°æ®åºå®ä¾å\nmysql.user=root                                                                         \n# æ°æ®åºç¨æ·å\nmysql.password=A373213257s                                                                   \n# æ°æ®åºå¯ç \nmysql.numconnections=100 \n# æå¤§è¿æ¥æ°\n\n# æ§è¡æå¡å¨éç½®\nexecutor.maxThreads=50 \n# æå¤§çº¿ç¨æ°\nexecutor.port=12321\n# ç«¯å£å·(å¦ä¿®æ¹,è¯·ä¸webæå¡ä¸­ä¸è´)\nexecutor.flow.threads=30 \n# çº¿ç¨æ°\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n26\n27\n28\n29\n30\n31\n32\n33\n34\n35\n\n\nå¯å¨ æ§è¡æå¡å¨å®æ\n\ncd /opt/module/azkaban/executor\n/bin/azkaban-executor-start.sh\ncd /opt/module/azkaban/server/\nbin/azkaban-web-start.sh\n\n\n1\n2\n3\n4\n\n\nè®¿é® https://hadoop102:8443/ ä¸è¦ç¨httpè¿æ¥ è´¦å·å¯ç admin',normalizedContent:'# å®è£\n\nmkdir -p /opt/module/azkaban\ncd /opt/software\ntar -zxvf azkaban-web-server-2.5.0.tar.gz -c /opt/module/azkaban/\ntar -zxvf azkaban-executor-server-2.5.0.tar.gz -c /opt/module/azkaban/\ntar -zxvf azkaban-sql-script-2.5.0.tar.gz -c /opt/module/azkaban/\ncd /opt/module/azkaban/\nmv azkaban-web-2.5.0/ server\nmv azkaban-executor-2.5.0/ executor\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n\n\n\n# å¯¼å¥æ°æ®åº\n\nmysql -uroot -pa373213257s\ncreate database azkaban;\nuse azkaban;\nsource /opt/module/azkaban/azkaban-2.5.0/create-all-sql-2.5.0.sql\n\n\n1\n2\n3\n4\n\n\n\n# åå»ºssléç½®\n\ncd server/\nkeytool -keystore keystore -alias jetty -genkey -keyalg rsa\n#å¯ç è®¾ç½®ä¸º123456 å¶ä»å¨é¨åè½¦ åªæå¦é£éè¾å¥yç¡®è®¤\n\n\n1\n2\n3\n\n\ndate ç¡®ä¿linuxä¸ºä¸å«åº(cst-8)æ¶é´ å¹¶éç¾¤ä¹é´æ¶é´åæ­¥\n\n\n# éç½®æä»¶ä¿®æ¹\n\ncd /opt/module/azkaban/server/conf/\nvim azkaban.properties\n\n\n1\n2\n\n\nä¿®æ¹å°åº mysqlå°å è´¦å·å¯ç  åsslå¯ç \n\n#azkaban personalization settings\nazkaban.name=test\n#æå¡å¨uiåç§°,ç¨äºæå¡å¨ä¸æ¹æ¾ç¤ºçåå­\nazkaban.label=my local azkaban\n#æè¿°\nazkaban.color=#ff3601\n#uié¢è²\nazkaban.default.servlet.path=/index\nweb.resource.dir=web/\n#é»è®¤æ ¹webç®å½\ndefault.timezone.id=asia/shanghai\n#é»è®¤æ¶åº,å·²æ¹ä¸ºäºæ´²/ä¸æµ· é»è®¤ä¸ºç¾å½\n\n#azkaban usermanager class\nuser.manager.class=azkaban.user.xmlusermanager\n#ç¨æ·æéç®¡çé»è®¤ç±»\nuser.manager.xml.file=conf/azkaban-users.xml\n#ç¨æ·éç½®,å·ä½éç½®åå ä¸æ\n\n#loader for projects\nexecutor.global.properties=conf/global.properties\n# globaléç½®æä»¶æå¨ä½ç½®\nazkaban.project.dir=projects\n\ndatabase.type=mysql\n#æ°æ®åºç±»å\nmysql.port=3306\n#ç«¯å£å·\nmysql.host=hadoop102\n#æ°æ®åºè¿æ¥ip\nmysql.database=azkaban\n#æ°æ®åºå®ä¾å\nmysql.user=root\n#æ°æ®åºç¨æ·å\nmysql.password=a373213257s\n#æ°æ®åºå¯ç \nmysql.numconnections=100\n#æå¤§è¿æ¥æ°\n\n# velocity dev mode\nvelocity.dev.mode=false\n# jettyæå¡å¨å±æ§.\njetty.maxthreads=25\n#æå¤§çº¿ç¨æ°\njetty.ssl.port=8443\n#jetty sslç«¯å£\njetty.port=8081\n#jettyç«¯å£\njetty.keystore=keystore\n#sslæä»¶å\njetty.password=123456\n#sslæä»¶å¯ç \njetty.keypassword=123456\n#jettyä¸»å¯ç  ä¸ keystoreæä»¶ç¸å\njetty.truststore=keystore\n#sslæä»¶å\njetty.trustpassword=123456\n# sslæä»¶å¯ç \n\n# æ§è¡æå¡å¨å±æ§\nexecutor.port=12321\n#æ§è¡æå¡å¨ç«¯å£\n\n# é®ä»¶è®¾ç½®\nmail.sender=xxxxxxxx@163.com\n#åéé®ç®±\nmail.host=smtp.163.com\n#åéé®ç®±smtpå°å\nmail.user=xxxxxxxx\n#åéé®ä»¶æ¶æ¾ç¤ºçåç§°\nmail.password=**********\n#é®ç®±å¯ç \njob.failure.email=xxxxxxxx@163.com\n#ä»»å¡å¤±è´¥æ¶åéé®ä»¶çå°å\njob.success.email=xxxxxxxx@163.com\n#ä»»å¡æåæ¶åéé®ä»¶çå°å\nlockdown.create.projects=false\ncache.directory=cache\n#ç¼å­ç®å½\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n26\n27\n28\n29\n30\n31\n32\n33\n34\n35\n36\n37\n38\n39\n40\n41\n42\n43\n44\n45\n46\n47\n48\n49\n50\n51\n52\n53\n54\n55\n56\n57\n58\n59\n60\n61\n62\n63\n64\n65\n66\n67\n68\n69\n70\n71\n72\n73\n74\n75\n76\n77\n78\n79\n\n\nä¿®æ¹ azkaban-users.xml æ·»å ç®¡çåç¨æ·\n\nvim azkaban-users.xml\n\n\n1\n\n\n<azkaban-users>\n        <user username="azkaban" password="azkaban" roles="admin" groups="azkaban" />\n        <user username="metrics" password="metrics" roles="metrics"/>\n        \x3c!-- æ·»å ä»¥ä¸è¿è¡ --\x3e\n        <user username="admin" password="admin" roles="admin,metrics" />\n        <role name="admin" permissions="admin" />\n        <role name="metrics" permissions="metrics"/>\n</azkaban-users>\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n\n\nä¿®æ¹ æ§è¡æå¡å¨éç½®\n\ncd /opt/module/azkaban/executor/conf\nvim azkaban.properties\n\n\n1\n2\n\n\nä¿®æ¹æ¶åº mysql å°å è´¦å·å¯ç \n\n#azkaban\ndefault.timezone.id=asia/shanghai                                              \n# æ¶åº\n\n# azkaban jobtypes æä»¶éç½®\nazkaban.jobtype.plugin.dir=plugins/jobtypes                   \n# jobtype æä»¶æå¨ä½ç½®\n\n#loader for projects\nexecutor.global.properties=conf/global.properties\nazkaban.project.dir=projects\n\n#æ°æ®åºè®¾ç½®\ndatabase.type=mysql                                                                       \n# æ°æ®åºç±»å(ç®ååªæ¯æmysql)\nmysql.port=3306                                                                                \n# æ°æ®åºç«¯å£å·\nmysql.host=hadoop102                                                           \n# æ°æ®åºipå°å\nmysql.database=azkaban                                                                \n# æ°æ®åºå®ä¾å\nmysql.user=root                                                                         \n# æ°æ®åºç¨æ·å\nmysql.password=a373213257s                                                                   \n# æ°æ®åºå¯ç \nmysql.numconnections=100 \n# æå¤§è¿æ¥æ°\n\n# æ§è¡æå¡å¨éç½®\nexecutor.maxthreads=50 \n# æå¤§çº¿ç¨æ°\nexecutor.port=12321\n# ç«¯å£å·(å¦ä¿®æ¹,è¯·ä¸webæå¡ä¸­ä¸è´)\nexecutor.flow.threads=30 \n# çº¿ç¨æ°\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n26\n27\n28\n29\n30\n31\n32\n33\n34\n35\n\n\nå¯å¨ æ§è¡æå¡å¨å®æ\n\ncd /opt/module/azkaban/executor\n/bin/azkaban-executor-start.sh\ncd /opt/module/azkaban/server/\nbin/azkaban-web-start.sh\n\n\n1\n2\n3\n4\n\n\nè®¿é® https://hadoop102:8443/ ä¸è¦ç¨httpè¿æ¥ è´¦å·å¯ç admin',charsets:{cjk:!0},lastUpdated:"2022/03/18, 07:01:11",lastUpdatedTimestamp:1647558071e3},{title:"Azkaban",frontmatter:{title:"Azkaban",date:"2022-03-17T22:08:50.000Z",permalink:"/pages/bac882/",categories:["å¤§æ°æ®","Azkaban"],tags:[null]},regularPath:"/%E5%A4%A7%E6%95%B0%E6%8D%AE/06.Azkaban/01.Azkaban.html",relativePath:"å¤§æ°æ®/06.Azkaban/01.Azkaban.md",key:"v-266c9e22",path:"/pages/bac882/",headersStr:null,content:"# Azkaban\n\nOoize ç¸æ¯äº Azkaban æ¯ä¸ä¸ªééçº§çä»»å¡è°åº¦ç³»ç»ï¼åè½å¨é¢ï¼ä½éç½®ä½¿ç¨ ä¹æ´å¤æãå¦æå¯ä»¥ä¸å¨ææäºåè½çç¼ºå¤±ï¼è½»éçº§è°åº¦å¨ Azkaban æ¯å¾ä¸éçåéå¯¹è±¡ã",normalizedContent:"# azkaban\n\nooize ç¸æ¯äº azkaban æ¯ä¸ä¸ªééçº§çä»»å¡è°åº¦ç³»ç»ï¼åè½å¨é¢ï¼ä½éç½®ä½¿ç¨ ä¹æ´å¤æãå¦æå¯ä»¥ä¸å¨ææäºåè½çç¼ºå¤±ï¼è½»éçº§è°åº¦å¨ azkaban æ¯å¾ä¸éçåéå¯¹è±¡ã",charsets:{cjk:!0},lastUpdated:"2022/03/18, 07:01:11",lastUpdatedTimestamp:1647558071e3},{title:"Hbase",frontmatter:{title:"Hbase",date:"2022-03-17T22:09:08.000Z",permalink:"/pages/310c39/",categories:["å¤§æ°æ®","Hbase"],tags:[null]},regularPath:"/%E5%A4%A7%E6%95%B0%E6%8D%AE/07.Hbase/01.Hbase.html",relativePath:"å¤§æ°æ®/07.Hbase/01.Hbase.md",key:"v-3c82fd62",path:"/pages/310c39/",headersStr:null,content:"# Hbase\n\nHaseæ¯ ä¸ç§åå¸å¼ å¯æ©å± æ¯ææµ·éæ°æ®å­å¨ç NoSQL æ°æ®åº",normalizedContent:"# hbase\n\nhaseæ¯ ä¸ç§åå¸å¼ å¯æ©å± æ¯ææµ·éæ°æ®å­å¨ç nosql æ°æ®åº",charsets:{cjk:!0},lastUpdated:"2022/03/18, 07:01:11",lastUpdatedTimestamp:1647558071e3},{title:"Kafkaé¢è¯é¢",frontmatter:{title:"Kafkaé¢è¯é¢",date:"2022-03-17T22:08:02.000Z",permalink:"/pages/cf96cc/",categories:["å¤§æ°æ®","Kafka"],tags:[null]},regularPath:"/%E5%A4%A7%E6%95%B0%E6%8D%AE/05.Kafka/09.Kafka%E9%9D%A2%E8%AF%95%E9%A2%98.html",relativePath:"å¤§æ°æ®/05.Kafka/09.Kafkaé¢è¯é¢.md",key:"v-c86974ba",path:"/pages/cf96cc/",headers:[{level:2,title:"Kafkaä¸­çISRãARåä»£è¡¨ä»ä¹ï¼",slug:"kafkaä¸­çisrãaråä»£è¡¨ä»ä¹",normalizedTitle:"kafkaä¸­çisrãaråä»£è¡¨ä»ä¹ï¼",charIndex:15},{level:2,title:"Kafkaä¸­çHWãLEOç­åå«ä»£è¡¨ä»ä¹ï¼",slug:"kafkaä¸­çhwãleoç­åå«ä»£è¡¨ä»ä¹",normalizedTitle:"kafkaä¸­çhwãleoç­åå«ä»£è¡¨ä»ä¹ï¼",charIndex:170},{level:2,title:"Kafkaä¸­æ¯æä¹ä½ç°æ¶æ¯é¡ºåºæ§çï¼",slug:"kafkaä¸­æ¯æä¹ä½ç°æ¶æ¯é¡ºåºæ§ç",normalizedTitle:"kafkaä¸­æ¯æä¹ä½ç°æ¶æ¯é¡ºåºæ§çï¼",charIndex:242},{level:2,title:"Kafkaä¸­çååºå¨ãåºååå¨ãæ¦æªå¨æ¯å¦äºè§£ï¼å®ä»¬ä¹é´çå¤çé¡ºåºæ¯ä»ä¹ï¼",slug:"kafkaä¸­çååºå¨ãåºååå¨ãæ¦æªå¨æ¯å¦äºè§£-å®ä»¬ä¹é´çå¤çé¡ºåºæ¯ä»ä¹",normalizedTitle:"kafkaä¸­çååºå¨ãåºååå¨ãæ¦æªå¨æ¯å¦äºè§£ï¼å®ä»¬ä¹é´çå¤çé¡ºåºæ¯ä»ä¹ï¼",charIndex:299},{level:2,title:"Kafkaçäº§èå®¢æ·ç«¯çæ´ä½ç»ææ¯ä»ä¹æ ·å­çï¼ä½¿ç¨äºå ä¸ªçº¿ç¨æ¥å¤çï¼åå«æ¯ä»ä¹ï¼",slug:"kafkaçäº§èå®¢æ·ç«¯çæ´ä½ç»ææ¯ä»ä¹æ ·å­ç-ä½¿ç¨äºå ä¸ªçº¿ç¨æ¥å¤ç-åå«æ¯ä»ä¹",normalizedTitle:"kafkaçäº§èå®¢æ·ç«¯çæ´ä½ç»ææ¯ä»ä¹æ ·å­çï¼ä½¿ç¨äºå ä¸ªçº¿ç¨æ¥å¤çï¼åå«æ¯ä»ä¹ï¼",charIndex:361},{level:2,title:"âæ¶è´¹ç»ä¸­çæ¶è´¹èä¸ªæ°å¦æè¶è¿topicçååºï¼é£ä¹å°±ä¼ææ¶è´¹èæ¶è´¹ä¸å°æ°æ®âè¿å¥è¯æ¯å¦æ­£ç¡®ï¼",slug:"æ¶è´¹ç»ä¸­çæ¶è´¹èä¸ªæ°å¦æè¶è¿topicçååº-é£ä¹å°±ä¼ææ¶è´¹èæ¶è´¹ä¸å°æ°æ®-è¿å¥è¯æ¯å¦æ­£ç¡®",normalizedTitle:"âæ¶è´¹ç»ä¸­çæ¶è´¹èä¸ªæ°å¦æè¶è¿topicçååºï¼é£ä¹å°±ä¼ææ¶è´¹èæ¶è´¹ä¸å°æ°æ®âè¿å¥è¯æ¯å¦æ­£ç¡®ï¼",charIndex:408},{level:2,title:"æ¶è´¹èæäº¤æ¶è´¹ä½ç§»æ¶æäº¤çæ¯å½åæ¶è´¹å°çææ°æ¶æ¯çoffsetè¿æ¯offset+1ï¼",slug:"æ¶è´¹èæäº¤æ¶è´¹ä½ç§»æ¶æäº¤çæ¯å½åæ¶è´¹å°çææ°æ¶æ¯çoffsetè¿æ¯offset-1",normalizedTitle:"æ¶è´¹èæäº¤æ¶è´¹ä½ç§»æ¶æäº¤çæ¯å½åæ¶è´¹å°çææ°æ¶æ¯çoffsetè¿æ¯offset+1ï¼",charIndex:464},{level:2,title:"æåªäºæå½¢ä¼é æéå¤æ¶è´¹ï¼",slug:"æåªäºæå½¢ä¼é æéå¤æ¶è´¹",normalizedTitle:"æåªäºæå½¢ä¼é æéå¤æ¶è´¹ï¼",charIndex:521},{level:2,title:"é£äºææ¯ä¼é ææ¶æ¯æ¼æ¶è´¹ï¼",slug:"é£äºææ¯ä¼é ææ¶æ¯æ¼æ¶è´¹",normalizedTitle:"é£äºææ¯ä¼é ææ¶æ¯æ¼æ¶è´¹ï¼",charIndex:541},{level:2,title:"å½ä½ ä½¿ç¨kafka-topics.shåå»ºï¼å é¤ï¼äºä¸ä¸ªtopicä¹åï¼Kafkaèåä¼æ§è¡ä»ä¹é»è¾ï¼",slug:"å½ä½ ä½¿ç¨kafka-topics-shåå»º-å é¤-äºä¸ä¸ªtopicä¹å-kafkaèåä¼æ§è¡ä»ä¹é»è¾",normalizedTitle:"å½ä½ ä½¿ç¨kafka-topics.shåå»ºï¼å é¤ï¼äºä¸ä¸ªtopicä¹åï¼kafkaèåä¼æ§è¡ä»ä¹é»è¾ï¼",charIndex:585},{level:2,title:"topicçååºæ°å¯ä¸å¯ä»¥å¢å ï¼å¦æå¯ä»¥æä¹å¢å ï¼å¦æä¸å¯ä»¥ï¼é£åæ¯ä¸ºä»ä¹ï¼",slug:"topicçååºæ°å¯ä¸å¯ä»¥å¢å -å¦æå¯ä»¥æä¹å¢å -å¦æä¸å¯ä»¥-é£åæ¯ä¸ºä»ä¹",normalizedTitle:"topicçååºæ°å¯ä¸å¯ä»¥å¢å ï¼å¦æå¯ä»¥æä¹å¢å ï¼å¦æä¸å¯ä»¥ï¼é£åæ¯ä¸ºä»ä¹ï¼",charIndex:785},{level:2,title:"topicçååºæ°å¯ä¸å¯ä»¥åå°ï¼å¦æå¯ä»¥æä¹åå°ï¼å¦æä¸å¯ä»¥ï¼é£åæ¯ä¸ºä»ä¹ï¼",slug:"topicçååºæ°å¯ä¸å¯ä»¥åå°-å¦æå¯ä»¥æä¹åå°-å¦æä¸å¯ä»¥-é£åæ¯ä¸ºä»ä¹",normalizedTitle:"topicçååºæ°å¯ä¸å¯ä»¥åå°ï¼å¦æå¯ä»¥æä¹åå°ï¼å¦æä¸å¯ä»¥ï¼é£åæ¯ä¸ºä»ä¹ï¼",charIndex:933},{level:2,title:"Kafkaæåé¨çtopicåï¼å¦æææ¯ä»ä¹ï¼æä»ä¹æç¨ï¼",slug:"kafkaæåé¨çtopicå-å¦æææ¯ä»ä¹-æä»ä¹æç¨",normalizedTitle:"kafkaæåé¨çtopicåï¼å¦æææ¯ä»ä¹ï¼æä»ä¹æç¨ï¼",charIndex:997},{level:2,title:"Kafkaååºåéçæ¦å¿µï¼",slug:"kafkaååºåéçæ¦å¿µ",normalizedTitle:"kafkaååºåéçæ¦å¿µï¼",charIndex:1063},{level:2,title:"ç®è¿°Kafkaçæ¥å¿ç®å½ç»æï¼",slug:"ç®è¿°kafkaçæ¥å¿ç®å½ç»æ",normalizedTitle:"ç®è¿°kafkaçæ¥å¿ç®å½ç»æï¼",charIndex:1137},{level:2,title:"å¦æææå®äºä¸ä¸ªoffsetï¼Kafka Controlleræä¹æ¥æ¾å°å¯¹åºçæ¶æ¯ï¼",slug:"å¦æææå®äºä¸ä¸ªoffset-kafka-controlleræä¹æ¥æ¾å°å¯¹åºçæ¶æ¯",normalizedTitle:"å¦æææå®äºä¸ä¸ªoffsetï¼kafka controlleræä¹æ¥æ¾å°å¯¹åºçæ¶æ¯ï¼",charIndex:1210},{level:2,title:"èä¸èKafka Controllerçä½ç¨ï¼",slug:"èä¸èkafka-controllerçä½ç¨",normalizedTitle:"èä¸èkafka controllerçä½ç¨ï¼",charIndex:1259},{level:2,title:"Kafkaä¸­æé£äºå°æ¹éè¦éä¸¾ï¼è¿äºå°æ¹çéä¸¾ç­ç¥åæåªäºï¼",slug:"kafkaä¸­æé£äºå°æ¹éè¦éä¸¾-è¿äºå°æ¹çéä¸¾ç­ç¥åæåªäº",normalizedTitle:"kafkaä¸­æé£äºå°æ¹éè¦éä¸¾ï¼è¿äºå°æ¹çéä¸¾ç­ç¥åæåªäºï¼",charIndex:1333},{level:2,title:"å¤±æå¯æ¬æ¯æä»ä¹ï¼æé£äºåºå¯¹æªæ½ï¼",slug:"å¤±æå¯æ¬æ¯æä»ä¹-æé£äºåºå¯¹æªæ½",normalizedTitle:"å¤±æå¯æ¬æ¯æä»ä¹ï¼æé£äºåºå¯¹æªæ½ï¼",charIndex:1408},{level:2,title:"Kafkaçé£äºè®¾è®¡è®©å®æå¦æ­¤é«çæ§è½ï¼",slug:"kafkaçé£äºè®¾è®¡è®©å®æå¦æ­¤é«çæ§è½",normalizedTitle:"kafkaçé£äºè®¾è®¡è®©å®æå¦æ­¤é«çæ§è½ï¼",charIndex:1471}],headersStr:"Kafkaä¸­çISRãARåä»£è¡¨ä»ä¹ï¼ Kafkaä¸­çHWãLEOç­åå«ä»£è¡¨ä»ä¹ï¼ Kafkaä¸­æ¯æä¹ä½ç°æ¶æ¯é¡ºåºæ§çï¼ Kafkaä¸­çååºå¨ãåºååå¨ãæ¦æªå¨æ¯å¦äºè§£ï¼å®ä»¬ä¹é´çå¤çé¡ºåºæ¯ä»ä¹ï¼ Kafkaçäº§èå®¢æ·ç«¯çæ´ä½ç»ææ¯ä»ä¹æ ·å­çï¼ä½¿ç¨äºå ä¸ªçº¿ç¨æ¥å¤çï¼åå«æ¯ä»ä¹ï¼ âæ¶è´¹ç»ä¸­çæ¶è´¹èä¸ªæ°å¦æè¶è¿topicçååºï¼é£ä¹å°±ä¼ææ¶è´¹èæ¶è´¹ä¸å°æ°æ®âè¿å¥è¯æ¯å¦æ­£ç¡®ï¼ æ¶è´¹èæäº¤æ¶è´¹ä½ç§»æ¶æäº¤çæ¯å½åæ¶è´¹å°çææ°æ¶æ¯çoffsetè¿æ¯offset+1ï¼ æåªäºæå½¢ä¼é æéå¤æ¶è´¹ï¼ é£äºææ¯ä¼é ææ¶æ¯æ¼æ¶è´¹ï¼ å½ä½ ä½¿ç¨kafka-topics.shåå»ºï¼å é¤ï¼äºä¸ä¸ªtopicä¹åï¼Kafkaèåä¼æ§è¡ä»ä¹é»è¾ï¼ topicçååºæ°å¯ä¸å¯ä»¥å¢å ï¼å¦æå¯ä»¥æä¹å¢å ï¼å¦æä¸å¯ä»¥ï¼é£åæ¯ä¸ºä»ä¹ï¼ topicçååºæ°å¯ä¸å¯ä»¥åå°ï¼å¦æå¯ä»¥æä¹åå°ï¼å¦æä¸å¯ä»¥ï¼é£åæ¯ä¸ºä»ä¹ï¼ Kafkaæåé¨çtopicåï¼å¦æææ¯ä»ä¹ï¼æä»ä¹æç¨ï¼ Kafkaååºåéçæ¦å¿µï¼ ç®è¿°Kafkaçæ¥å¿ç®å½ç»æï¼ å¦æææå®äºä¸ä¸ªoffsetï¼Kafka Controlleræä¹æ¥æ¾å°å¯¹åºçæ¶æ¯ï¼ èä¸èKafka Controllerçä½ç¨ï¼ Kafkaä¸­æé£äºå°æ¹éè¦éä¸¾ï¼è¿äºå°æ¹çéä¸¾ç­ç¥åæåªäºï¼ å¤±æå¯æ¬æ¯æä»ä¹ï¼æé£äºåºå¯¹æªæ½ï¼ Kafkaçé£äºè®¾è®¡è®©å®æå¦æ­¤é«çæ§è½ï¼",content:"# Kafkaé¢è¯é¢\n\n\n# Kafkaä¸­çISRãARåä»£è¡¨ä»ä¹ï¼\n\nISRï¼ä¸leaderä¿æåæ­¥çfolloweréå\n\nARï¼ååºçææå¯æ¬\n\nOSR: è¢«ææ¶è¸¢åºISRçå¯æ¬ Out-of-Sync Replicas è±ç¦»åæ­¥å¯æ¬ã æ°æ®åæ­¥ä¸¥éæ»åçå¯æ¬ç»æOSRï¼ç½ç»åå é æçç­ç­ï¼\n\nAR = ISR + OSR\n\n\n# Kafkaä¸­çHWãLEOç­åå«ä»£è¡¨ä»ä¹ï¼\n\nLEOï¼æ¯ä¸ªå¯æ¬çæåæ¡æ¶æ¯çoffset\n\nHWï¼ä¸ä¸ªååºä¸­ææå¯æ¬æå°çoffset\n\n\n# Kafkaä¸­æ¯æä¹ä½ç°æ¶æ¯é¡ºåºæ§çï¼\n\næ¯ä¸ªååºåï¼æ¯æ¡æ¶æ¯é½æä¸ä¸ªoffsetï¼æåªè½ä¿è¯ååºåæåºã\n\n\n# Kafkaä¸­çååºå¨ãåºååå¨ãæ¦æªå¨æ¯å¦äºè§£ï¼å®ä»¬ä¹é´çå¤çé¡ºåºæ¯ä»ä¹ï¼\n\næ¦æªå¨ -> åºååå¨ -> ååºå¨\n\n\n# Kafkaçäº§èå®¢æ·ç«¯çæ´ä½ç»ææ¯ä»ä¹æ ·å­çï¼ä½¿ç¨äºå ä¸ªçº¿ç¨æ¥å¤çï¼åå«æ¯ä»ä¹ï¼\n\n\n\n\n# âæ¶è´¹ç»ä¸­çæ¶è´¹èä¸ªæ°å¦æè¶è¿topicçååºï¼é£ä¹å°±ä¼ææ¶è´¹èæ¶è´¹ä¸å°æ°æ®âè¿å¥è¯æ¯å¦æ­£ç¡®ï¼\n\næ­£ç¡®\n\n\n# æ¶è´¹èæäº¤æ¶è´¹ä½ç§»æ¶æäº¤çæ¯å½åæ¶è´¹å°çææ°æ¶æ¯çoffsetè¿æ¯offset+1ï¼\n\noffset+1\n\n\n# æåªäºæå½¢ä¼é æéå¤æ¶è´¹ï¼\n\n\n\n\n# é£äºææ¯ä¼é ææ¶æ¯æ¼æ¶è´¹ï¼\n\nåæäº¤offsetï¼åæ¶è´¹ï¼æå¯è½é ææ°æ®çéå¤\n\n\n# å½ä½ ä½¿ç¨kafka-topics.shåå»ºï¼å é¤ï¼äºä¸ä¸ªtopicä¹åï¼Kafkaèåä¼æ§è¡ä»ä¹é»è¾ï¼\n\n1ï¼ä¼å¨zookeeperä¸­ç/brokers/topicsèç¹ä¸åå»ºä¸ä¸ªæ°çtopicèç¹ï¼å¦ï¼/brokers/topics/first\n\n2ï¼è§¦åControllerççå¬ç¨åº\n\n3ï¼kafka Controller è´è´£topicçåå»ºå·¥ä½ï¼å¹¶æ´æ°metadata cache\n\n\n# topicçååºæ°å¯ä¸å¯ä»¥å¢å ï¼å¦æå¯ä»¥æä¹å¢å ï¼å¦æä¸å¯ä»¥ï¼é£åæ¯ä¸ºä»ä¹ï¼\n\nå¯ä»¥å¢å \n\nkafka-topics.sh --zookeeper localhost:2181/kafka --alter --topic topic-config --partitions 3\n\n\n1\n\n\n\n# topicçååºæ°å¯ä¸å¯ä»¥åå°ï¼å¦æå¯ä»¥æä¹åå°ï¼å¦æä¸å¯ä»¥ï¼é£åæ¯ä¸ºä»ä¹ï¼\n\nä¸å¯ä»¥åå°ï¼è¢«å é¤çååºæ°æ®é¾ä»¥å¤çã\n\n\n# Kafkaæåé¨çtopicåï¼å¦æææ¯ä»ä¹ï¼æä»ä¹æç¨ï¼\n\n__consumer_offsets,ä¿å­æ¶è´¹èoffset\n\n\n# Kafkaååºåéçæ¦å¿µï¼\n\nä¸ä¸ªtopicå¤ä¸ªååºï¼ä¸ä¸ªæ¶è´¹èç»å¤ä¸ªæ¶è´¹èï¼æéè¦å°ååºåéä¸ªæ¶è´¹è(roundrobinãrange)\n\n\n# ç®è¿°Kafkaçæ¥å¿ç®å½ç»æï¼\n\næ¯ä¸ªååºå¯¹åºä¸ä¸ªæä»¶å¤¹ï¼æä»¶å¤¹çå½åä¸ºtopic-0ï¼topic-1ï¼åé¨ä¸º.logå.indexæä»¶\n\n\n# å¦æææå®äºä¸ä¸ªoffsetï¼Kafka Controlleræä¹æ¥æ¾å°å¯¹åºçæ¶æ¯ï¼\n\n\n\n\n# èä¸èKafka Controllerçä½ç¨ï¼\n\nè´è´£ç®¡çéç¾¤brokerçä¸ä¸çº¿ï¼æætopicçååºå¯æ¬åéåleaderéä¸¾ç­å·¥ä½ã\n\n\n# Kafkaä¸­æé£äºå°æ¹éè¦éä¸¾ï¼è¿äºå°æ¹çéä¸¾ç­ç¥åæåªäºï¼\n\npartition leaderï¼ISRï¼ï¼controllerï¼åå°åå¾ï¼\n\n\n# å¤±æå¯æ¬æ¯æä»ä¹ï¼æé£äºåºå¯¹æªæ½ï¼\n\nä¸è½åæ¶ä¸leaderåæ­¥ï¼ææ¶è¸¢åºISRï¼ç­å¶è¿½ä¸leaderä¹ååéæ°å å¥\n\n\n# Kafkaçé£äºè®¾è®¡è®©å®æå¦æ­¤é«çæ§è½ï¼\n\nååºï¼é¡ºåºåç£çï¼0-copy",normalizedContent:"# kafkaé¢è¯é¢\n\n\n# kafkaä¸­çisrãaråä»£è¡¨ä»ä¹ï¼\n\nisrï¼ä¸leaderä¿æåæ­¥çfolloweréå\n\narï¼ååºçææå¯æ¬\n\nosr: è¢«ææ¶è¸¢åºisrçå¯æ¬ out-of-sync replicas è±ç¦»åæ­¥å¯æ¬ã æ°æ®åæ­¥ä¸¥éæ»åçå¯æ¬ç»æosrï¼ç½ç»åå é æçç­ç­ï¼\n\nar = isr + osr\n\n\n# kafkaä¸­çhwãleoç­åå«ä»£è¡¨ä»ä¹ï¼\n\nleoï¼æ¯ä¸ªå¯æ¬çæåæ¡æ¶æ¯çoffset\n\nhwï¼ä¸ä¸ªååºä¸­ææå¯æ¬æå°çoffset\n\n\n# kafkaä¸­æ¯æä¹ä½ç°æ¶æ¯é¡ºåºæ§çï¼\n\næ¯ä¸ªååºåï¼æ¯æ¡æ¶æ¯é½æä¸ä¸ªoffsetï¼æåªè½ä¿è¯ååºåæåºã\n\n\n# kafkaä¸­çååºå¨ãåºååå¨ãæ¦æªå¨æ¯å¦äºè§£ï¼å®ä»¬ä¹é´çå¤çé¡ºåºæ¯ä»ä¹ï¼\n\næ¦æªå¨ -> åºååå¨ -> ååºå¨\n\n\n# kafkaçäº§èå®¢æ·ç«¯çæ´ä½ç»ææ¯ä»ä¹æ ·å­çï¼ä½¿ç¨äºå ä¸ªçº¿ç¨æ¥å¤çï¼åå«æ¯ä»ä¹ï¼\n\n\n\n\n# âæ¶è´¹ç»ä¸­çæ¶è´¹èä¸ªæ°å¦æè¶è¿topicçååºï¼é£ä¹å°±ä¼ææ¶è´¹èæ¶è´¹ä¸å°æ°æ®âè¿å¥è¯æ¯å¦æ­£ç¡®ï¼\n\næ­£ç¡®\n\n\n# æ¶è´¹èæäº¤æ¶è´¹ä½ç§»æ¶æäº¤çæ¯å½åæ¶è´¹å°çææ°æ¶æ¯çoffsetè¿æ¯offset+1ï¼\n\noffset+1\n\n\n# æåªäºæå½¢ä¼é æéå¤æ¶è´¹ï¼\n\n\n\n\n# é£äºææ¯ä¼é ææ¶æ¯æ¼æ¶è´¹ï¼\n\nåæäº¤offsetï¼åæ¶è´¹ï¼æå¯è½é ææ°æ®çéå¤\n\n\n# å½ä½ ä½¿ç¨kafka-topics.shåå»ºï¼å é¤ï¼äºä¸ä¸ªtopicä¹åï¼kafkaèåä¼æ§è¡ä»ä¹é»è¾ï¼\n\n1ï¼ä¼å¨zookeeperä¸­ç/brokers/topicsèç¹ä¸åå»ºä¸ä¸ªæ°çtopicèç¹ï¼å¦ï¼/brokers/topics/first\n\n2ï¼è§¦åcontrollerççå¬ç¨åº\n\n3ï¼kafka controller è´è´£topicçåå»ºå·¥ä½ï¼å¹¶æ´æ°metadata cache\n\n\n# topicçååºæ°å¯ä¸å¯ä»¥å¢å ï¼å¦æå¯ä»¥æä¹å¢å ï¼å¦æä¸å¯ä»¥ï¼é£åæ¯ä¸ºä»ä¹ï¼\n\nå¯ä»¥å¢å \n\nkafka-topics.sh --zookeeper localhost:2181/kafka --alter --topic topic-config --partitions 3\n\n\n1\n\n\n\n# topicçååºæ°å¯ä¸å¯ä»¥åå°ï¼å¦æå¯ä»¥æä¹åå°ï¼å¦æä¸å¯ä»¥ï¼é£åæ¯ä¸ºä»ä¹ï¼\n\nä¸å¯ä»¥åå°ï¼è¢«å é¤çååºæ°æ®é¾ä»¥å¤çã\n\n\n# kafkaæåé¨çtopicåï¼å¦æææ¯ä»ä¹ï¼æä»ä¹æç¨ï¼\n\n__consumer_offsets,ä¿å­æ¶è´¹èoffset\n\n\n# kafkaååºåéçæ¦å¿µï¼\n\nä¸ä¸ªtopicå¤ä¸ªååºï¼ä¸ä¸ªæ¶è´¹èç»å¤ä¸ªæ¶è´¹èï¼æéè¦å°ååºåéä¸ªæ¶è´¹è(roundrobinãrange)\n\n\n# ç®è¿°kafkaçæ¥å¿ç®å½ç»æï¼\n\næ¯ä¸ªååºå¯¹åºä¸ä¸ªæä»¶å¤¹ï¼æä»¶å¤¹çå½åä¸ºtopic-0ï¼topic-1ï¼åé¨ä¸º.logå.indexæä»¶\n\n\n# å¦æææå®äºä¸ä¸ªoffsetï¼kafka controlleræä¹æ¥æ¾å°å¯¹åºçæ¶æ¯ï¼\n\n\n\n\n# èä¸èkafka controllerçä½ç¨ï¼\n\nè´è´£ç®¡çéç¾¤brokerçä¸ä¸çº¿ï¼æætopicçååºå¯æ¬åéåleaderéä¸¾ç­å·¥ä½ã\n\n\n# kafkaä¸­æé£äºå°æ¹éè¦éä¸¾ï¼è¿äºå°æ¹çéä¸¾ç­ç¥åæåªäºï¼\n\npartition leaderï¼isrï¼ï¼controllerï¼åå°åå¾ï¼\n\n\n# å¤±æå¯æ¬æ¯æä»ä¹ï¼æé£äºåºå¯¹æªæ½ï¼\n\nä¸è½åæ¶ä¸leaderåæ­¥ï¼ææ¶è¸¢åºisrï¼ç­å¶è¿½ä¸leaderä¹ååéæ°å å¥\n\n\n# kafkaçé£äºè®¾è®¡è®©å®æå¦æ­¤é«çæ§è½ï¼\n\nååºï¼é¡ºåºåç£çï¼0-copy",charsets:{cjk:!0},lastUpdated:"2022/03/18, 07:01:11",lastUpdatedTimestamp:1647558071e3},{title:"Azkabanå®æ",frontmatter:{title:"Azkabanå®æ",date:"2022-03-17T22:08:50.000Z",permalink:"/pages/4ff79d/",categories:["å¤§æ°æ®","Azkaban"],tags:[null]},regularPath:"/%E5%A4%A7%E6%95%B0%E6%8D%AE/06.Azkaban/04.Azkaban%E5%AE%9E%E6%88%98.html",relativePath:"å¤§æ°æ®/06.Azkaban/04.Azkabanå®æ.md",key:"v-3f1fc75e",path:"/pages/4ff79d/",headers:[{level:2,title:"Command åä¸jobæ¡ä¾",slug:"command-åä¸jobæ¡ä¾",normalizedTitle:"command åä¸jobæ¡ä¾",charIndex:16},{level:2,title:"å¤jobå·¥ä½æµ",slug:"å¤jobå·¥ä½æµ",normalizedTitle:"å¤jobå·¥ä½æµ",charIndex:188},{level:2,title:"MapReduce",slug:"mapreduce",normalizedTitle:"mapreduce",charIndex:422},{level:2,title:"hive",slug:"hive",normalizedTitle:"hive",charIndex:589}],headersStr:"Command åä¸jobæ¡ä¾ å¤jobå·¥ä½æµ MapReduce hive",content:"# Azkabanå®æ\n\n\n# Command åä¸jobæ¡ä¾\n\nå¨ windows ç¯å¢ï¼åå»ºjobæè¿°æä»¶ï¼ç¼è¾åå®¹å¦ä¸\n\n#command.job\ntype=command\ncommand=mkdir /opt/module/test_azkaban\n\n\n1\n2\n3\n\n\nå°æ­¤æä»¶æåæzip ä¸è½å¸¦ä¸­æ\n\n\n\nåå»ºé¡¹ç®\n\n\n\nä¸ä¼ zipå\n\n\n\næ§è¡\n\n\n\n\n\n\n# å¤jobå·¥ä½æµ\n\nåå»ºæä¾èµå³ç³»çå¤ä¸ªjobæè¿°\n\nç¬¬ä¸ä¸ªjob: foo.job\n\n#foo.job\ntype=command\ncommand=mkdir /opt/module/az\n\n\n1\n2\n3\n\n\nç¬¬äºä¸ªjob:bar.job\n\n#bar.job\ntype=command\ndependencies=foo\ncommand=touch /opt/module/az/test.txt\n\n\n1\n2\n3\n4\n\n\næåæzipåæäº¤å°azkabanä¸­\n\n\n\n\n# MapReduce\n\n#foo.job\ntype=command\ncommand=yarn jar hadoop-mapreduce-examples-3.1.3.jar wordcount /input /output\n\n\n1\n2\n3\n\n\næ³¨æjaråä¹è¦æåè¿zipä¸­ ä¸è¬æä»¬ä½¿ç¨èªå®ä¹çmapreduce\n\nä¸ä¼ æ§è¡\n\n\n# hive\n\nhive.sql\n\nuse default;\ndrop table if exists aztest;\ndrop table if exists azres;\ncreate external table aztest(id int,name string) row format delimited fields terminated by '\\t'location '/student';\nload data inpath '/aztest/hiveinput' into table aztest;\ncreate table azres as select * from aztest;\ninsert overwrite directory '/aztest/hiveoutput' select count(1) from aztest;\n\n\n1\n2\n3\n4\n5\n6\n7\n\n\nhive.job\n\n#hive.job\ntype=command\ncommand=hive -f 'hive.sql'\n\n\n1\n2\n3\n\n\næåä¸ä¼ å¹¶æ§è¡",normalizedContent:"# azkabanå®æ\n\n\n# command åä¸jobæ¡ä¾\n\nå¨ windows ç¯å¢ï¼åå»ºjobæè¿°æä»¶ï¼ç¼è¾åå®¹å¦ä¸\n\n#command.job\ntype=command\ncommand=mkdir /opt/module/test_azkaban\n\n\n1\n2\n3\n\n\nå°æ­¤æä»¶æåæzip ä¸è½å¸¦ä¸­æ\n\n\n\nåå»ºé¡¹ç®\n\n\n\nä¸ä¼ zipå\n\n\n\næ§è¡\n\n\n\n\n\n\n# å¤jobå·¥ä½æµ\n\nåå»ºæä¾èµå³ç³»çå¤ä¸ªjobæè¿°\n\nç¬¬ä¸ä¸ªjob: foo.job\n\n#foo.job\ntype=command\ncommand=mkdir /opt/module/az\n\n\n1\n2\n3\n\n\nç¬¬äºä¸ªjob:bar.job\n\n#bar.job\ntype=command\ndependencies=foo\ncommand=touch /opt/module/az/test.txt\n\n\n1\n2\n3\n4\n\n\næåæzipåæäº¤å°azkabanä¸­\n\n\n\n\n# mapreduce\n\n#foo.job\ntype=command\ncommand=yarn jar hadoop-mapreduce-examples-3.1.3.jar wordcount /input /output\n\n\n1\n2\n3\n\n\næ³¨æjaråä¹è¦æåè¿zipä¸­ ä¸è¬æä»¬ä½¿ç¨èªå®ä¹çmapreduce\n\nä¸ä¼ æ§è¡\n\n\n# hive\n\nhive.sql\n\nuse default;\ndrop table if exists aztest;\ndrop table if exists azres;\ncreate external table aztest(id int,name string) row format delimited fields terminated by '\\t'location '/student';\nload data inpath '/aztest/hiveinput' into table aztest;\ncreate table azres as select * from aztest;\ninsert overwrite directory '/aztest/hiveoutput' select count(1) from aztest;\n\n\n1\n2\n3\n4\n5\n6\n7\n\n\nhive.job\n\n#hive.job\ntype=command\ncommand=hive -f 'hive.sql'\n\n\n1\n2\n3\n\n\næåä¸ä¼ å¹¶æ§è¡",charsets:{cjk:!0},lastUpdated:"2022/03/18, 07:01:11",lastUpdatedTimestamp:1647558071e3},{title:"Hbase å®è£",frontmatter:{title:"Hbase å®è£",date:"2022-03-17T22:09:08.000Z",permalink:"/pages/a8d091/",categories:["å¤§æ°æ®","Hbase"],tags:[null]},regularPath:"/%E5%A4%A7%E6%95%B0%E6%8D%AE/07.Hbase/03.Hbase%20%E5%AE%89%E8%A3%85.html",relativePath:"å¤§æ°æ®/07.Hbase/03.Hbase å®è£.md",key:"v-c73f1002",path:"/pages/a8d091/",headers:[{level:2,title:"Hbaseéç½®æä»¶",slug:"hbaseéç½®æä»¶",normalizedTitle:"hbaseéç½®æä»¶",charIndex:414},{level:2,title:"é«å¯ç¨",slug:"é«å¯ç¨",normalizedTitle:"é«å¯ç¨",charIndex:1910}],headersStr:"Hbaseéç½®æä»¶ é«å¯ç¨",content:"# Hbase å®è£\n\nåä¿è¯Zookeeperéç¾¤çæ­£å¸¸é¨ç½²åHadoopéç¾¤æ­£å¸¸ å¹¶å¯å¨\n\nzkServer.sh start\nstart-dfs.sh\nstart-yarn.sh #yarnå¯ä»¥ä¸å¯å¨\n\n\n1\n2\n3\n\n\nå®è£\n\ncd /opt/software\ntar zxvf hbase-2.0.5-bin.tar.gz -C /opt/module/\ncd /opt/module/\nmv hbase-2.0.5/ hbase\n\n\n1\n2\n3\n4\n\n\néç½®ç¯å¢åé\n\nsudo vim /etc/profile.d/my_env.sh\n\n\n1\n\n\n#HBASE_HOME\nexport HBASE_HOME=/opt/module/hbase\nexport PATH=$PATH:$HBASE_HOME/bin\n\n\n1\n2\n3\n\n\nsource /etc/profile.d/my_env.sh\n\n\n1\n\n\n\n# Hbaseéç½®æä»¶\n\ncd /opt/module/hbase/conf/\nvim hbase-env.sh\n\n\n1\n2\n\n\nç¬¬125è¡ å³é­HBASEèªå¸¦çzookeeper é»è®¤ä¼ä½¿ç¨\n\nexport HBASE_MANAGES_ZK=false\n\n\n1\n\n\nä¿®æ¹hbase-site.xml\n\nvim hbase-site.xml\n\n\n1\n\n\n\x3c!-- hbaseæ°æ®å­æ¾å¨hdfsä¸åªä¸ªç®å½ä¸ --\x3e\n<property>\n    <name>hbase.rootdir</name>\n    <value>hdfs://hadoop102:8020/hbase</value>\n  </property>\n\x3c!-- æ¯å¦ä½¿ç¨å®å¨åå¸å¼hbase --\x3e\n  <property>\n    <name>hbase.cluster.distributed</name>\n    <value>true</value>\n  </property>\n\x3c!--  zookeeperè¿æ¥å°å --\x3e\n  <property>\n    <name>hbase.zookeeper.quorum</name>\n    <value>hadoop102,hadoop103,hadoop104</value>\n  </property>\n\x3c!--  å¼å®¹æ§éç½® --\x3e\n  <property>\n    <name>hbase.unsafe.stream.capability.enforce</name>\n    <value>false</value>\n  </property>\n  \x3c!--  å¼å®¹æ§éç½® --\x3e\n<property>\n<name>hbase.wal.provider</name>\n<value>filesystem</value>\n</property>\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n\n\nä¿®æ¹ regionservers æå å°éç¾¤æºå¨\n\nvim regionservers \n\n\n1\n\n\nhadoop102\nhadoop103\nhadoop104\n\n\n1\n2\n3\n\n\nè½¯è¿æ¥hadoopéç½®æä»¶å°Hbase ä¹å¯ä¸éç½® åªè¦ç¯å¢åééç½®æ­£ç¡®å³å¯\n\nln -s /opt/module/hadoop-3.1.3/etc/hadoop/core-site.xml /opt/module/hbase/conf/core-site.xml\nln -s /opt/module/hadoop-3.1.3/etc/hadoop/hdfs-site.xml /opt/module/hbase/conf/hdfs-site.xml\n\n\n1\n2\n\n\nå é¤æ¥å¿å²çª\n\nrm /opt/module/hadoop-3.1.3/share/hadoop/common/lib/slf4j-log4j12-1.7.25.jar\n\n\n1\n\n\nååhbase\n\nxsync /opt/module/hbase/\nsudo xsync /etc/profile.d/my_env.sh\n\n\n1\n2\n\n\nç¾¤å¯hbase å¦æéç¾¤ä¹é´çèç¹æ¶é´ä¸åæ­¥ï¼ä¼å¯¼è´regionserveræ æ³å¯å¨ï¼æåºClockOutOfSyncExceptionå¼å¸¸ã\n\nstart-hbase.sh\n\n\n1\n\n\nè®¿é®webé¡µé¢ http://hadoop102:16010/master-status\n\n\n# é«å¯ç¨\n\nå³é­HBaseéç¾¤\n\nstop-hbase.sh\n\n\n1\n\n\nå¨confç®å½ä¸åå»ºbackup-mastersæä»¶\n\ncd /opt/module/hbase/conf/\ntouch backup-masters\n\n\n1\n2\n\n\nå¨backup-mastersæä»¶ä¸­éç½®é«å¯ç¨HMasterèç¹\n\necho hadoop103 > backup-masters\n\n\n1\n\n\nåæ­¥æä»¶\n\nxsync /opt/module/hbase/conf/backup-masters\nstart-hbase.sh\n\n\n1\n2\n\n\næ¥çwebé¡µé¢ http://hadoop102:16010/",normalizedContent:"# hbase å®è£\n\nåä¿è¯zookeeperéç¾¤çæ­£å¸¸é¨ç½²åhadoopéç¾¤æ­£å¸¸ å¹¶å¯å¨\n\nzkserver.sh start\nstart-dfs.sh\nstart-yarn.sh #yarnå¯ä»¥ä¸å¯å¨\n\n\n1\n2\n3\n\n\nå®è£\n\ncd /opt/software\ntar zxvf hbase-2.0.5-bin.tar.gz -c /opt/module/\ncd /opt/module/\nmv hbase-2.0.5/ hbase\n\n\n1\n2\n3\n4\n\n\néç½®ç¯å¢åé\n\nsudo vim /etc/profile.d/my_env.sh\n\n\n1\n\n\n#hbase_home\nexport hbase_home=/opt/module/hbase\nexport path=$path:$hbase_home/bin\n\n\n1\n2\n3\n\n\nsource /etc/profile.d/my_env.sh\n\n\n1\n\n\n\n# hbaseéç½®æä»¶\n\ncd /opt/module/hbase/conf/\nvim hbase-env.sh\n\n\n1\n2\n\n\nç¬¬125è¡ å³é­hbaseèªå¸¦çzookeeper é»è®¤ä¼ä½¿ç¨\n\nexport hbase_manages_zk=false\n\n\n1\n\n\nä¿®æ¹hbase-site.xml\n\nvim hbase-site.xml\n\n\n1\n\n\n\x3c!-- hbaseæ°æ®å­æ¾å¨hdfsä¸åªä¸ªç®å½ä¸ --\x3e\n<property>\n    <name>hbase.rootdir</name>\n    <value>hdfs://hadoop102:8020/hbase</value>\n  </property>\n\x3c!-- æ¯å¦ä½¿ç¨å®å¨åå¸å¼hbase --\x3e\n  <property>\n    <name>hbase.cluster.distributed</name>\n    <value>true</value>\n  </property>\n\x3c!--  zookeeperè¿æ¥å°å --\x3e\n  <property>\n    <name>hbase.zookeeper.quorum</name>\n    <value>hadoop102,hadoop103,hadoop104</value>\n  </property>\n\x3c!--  å¼å®¹æ§éç½® --\x3e\n  <property>\n    <name>hbase.unsafe.stream.capability.enforce</name>\n    <value>false</value>\n  </property>\n  \x3c!--  å¼å®¹æ§éç½® --\x3e\n<property>\n<name>hbase.wal.provider</name>\n<value>filesystem</value>\n</property>\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n\n\nä¿®æ¹ regionservers æå å°éç¾¤æºå¨\n\nvim regionservers \n\n\n1\n\n\nhadoop102\nhadoop103\nhadoop104\n\n\n1\n2\n3\n\n\nè½¯è¿æ¥hadoopéç½®æä»¶å°hbase ä¹å¯ä¸éç½® åªè¦ç¯å¢åééç½®æ­£ç¡®å³å¯\n\nln -s /opt/module/hadoop-3.1.3/etc/hadoop/core-site.xml /opt/module/hbase/conf/core-site.xml\nln -s /opt/module/hadoop-3.1.3/etc/hadoop/hdfs-site.xml /opt/module/hbase/conf/hdfs-site.xml\n\n\n1\n2\n\n\nå é¤æ¥å¿å²çª\n\nrm /opt/module/hadoop-3.1.3/share/hadoop/common/lib/slf4j-log4j12-1.7.25.jar\n\n\n1\n\n\nååhbase\n\nxsync /opt/module/hbase/\nsudo xsync /etc/profile.d/my_env.sh\n\n\n1\n2\n\n\nç¾¤å¯hbase å¦æéç¾¤ä¹é´çèç¹æ¶é´ä¸åæ­¥ï¼ä¼å¯¼è´regionserveræ æ³å¯å¨ï¼æåºclockoutofsyncexceptionå¼å¸¸ã\n\nstart-hbase.sh\n\n\n1\n\n\nè®¿é®webé¡µé¢ http://hadoop102:16010/master-status\n\n\n# é«å¯ç¨\n\nå³é­hbaseéç¾¤\n\nstop-hbase.sh\n\n\n1\n\n\nå¨confç®å½ä¸åå»ºbackup-mastersæä»¶\n\ncd /opt/module/hbase/conf/\ntouch backup-masters\n\n\n1\n2\n\n\nå¨backup-mastersæä»¶ä¸­éç½®é«å¯ç¨hmasterèç¹\n\necho hadoop103 > backup-masters\n\n\n1\n\n\nåæ­¥æä»¶\n\nxsync /opt/module/hbase/conf/backup-masters\nstart-hbase.sh\n\n\n1\n2\n\n\næ¥çwebé¡µé¢ http://hadoop102:16010/",charsets:{cjk:!0},lastUpdated:"2022/03/18, 07:01:11",lastUpdatedTimestamp:1647558071e3},{title:"Hbaseæ°æ®æ¨¡å",frontmatter:{title:"Hbaseæ°æ®æ¨¡å",date:"2022-03-17T22:09:08.000Z",permalink:"/pages/817c32/",categories:["å¤§æ°æ®","Hbase"],tags:[null]},regularPath:"/%E5%A4%A7%E6%95%B0%E6%8D%AE/07.Hbase/02.Hbase%E6%95%B0%E6%8D%AE%E6%A8%A1%E5%9E%8B.html",relativePath:"å¤§æ°æ®/07.Hbase/02.Hbaseæ°æ®æ¨¡å.md",key:"v-d5889de6",path:"/pages/817c32/",headers:[{level:2,title:"é»è¾ç»æ",slug:"é»è¾ç»æ",normalizedTitle:"é»è¾ç»æ",charIndex:114},{level:2,title:"ç©çç»æ",slug:"ç©çç»æ",normalizedTitle:"ç©çç»æ",charIndex:125},{level:2,title:"æ°æ®æ¨¡å",slug:"æ°æ®æ¨¡å",normalizedTitle:"æ°æ®æ¨¡å",charIndex:7},{level:2,title:"åºæ¬æ¶æ",slug:"åºæ¬æ¶æ",normalizedTitle:"åºæ¬æ¶æ",charIndex:762}],headersStr:"é»è¾ç»æ ç©çç»æ æ°æ®æ¨¡å åºæ¬æ¶æ",content:"# Hbaseæ°æ®æ¨¡å\n\né»è¾ä¸ï¼HBaseçæ°æ®æ¨¡ååå³ç³»åæ°æ®åºå¾ç±»ä¼¼ï¼æ°æ®å­å¨å¨ä¸å¼ è¡¨ä¸­ï¼æè¡æåãä½ä»HBaseçåºå±ç©çå­å¨ç»æï¼K-Vï¼æ¥çï¼HBaseæ´åæ¯ä¸ä¸ªmulti-dimensional mapã\n\n\n# é»è¾ç»æ\n\n\n\n\n# ç©çç»æ\n\nä¸ä¸ªstoreå­å¨æ¨¡å\n\n\n\nå®æ¯ä¸ä¸ªå¤ç»´åº¦çæ å°æ¨¡å,ä¸ä¸ªrowkeyå¯¹åºçå¤ä¸ªåå æ å°å°ä¸ä¸ªvalueä¸ å¦æå¤ç¸årowkeyååæ å°å¤å¼ åä»¥timestampææ°çä¸ºå\n\n\n# æ°æ®æ¨¡å\n\n 1. Name Space\n    \n    å½åç©ºé´ï¼ç±»ä¼¼äºå³ç³»åæ°æ®åºçDatabBaseæ¦å¿µ\n\n 2. Region\n    \n    ç±»ä¼¼äºå³ç³»åæ°æ®åºçè¡¨æ¦å¿µãä¸åçæ¯ï¼HBaseå®ä¹è¡¨æ¶åªéè¦å£°æåæå³å¯ï¼ä¸éè¦å£°æå·ä½çåãå¾HBaseåå¥æ°æ®æ¶ï¼å­æ®µå¯ä»¥å¨æãæéæå®\n\n 3. Row\n    \n    HBaseè¡¨ä¸­çæ¯è¡æ°æ®é½ç±ä¸ä¸ªRowKeyåå¤ä¸ªColumnï¼åï¼ç»æï¼æ°æ®æ¯æç§RowKeyçå­å¸é¡ºåºå­å¨çï¼å¹¶ä¸æ¥è¯¢æ°æ®æ¶åªè½æ ¹æ®RowKeyè¿è¡æ£ç´¢ï¼æä»¥RowKeyçè®¾è®¡ååéè¦ã\n\n 4. Column\n    \n    HBaseä¸­çæ¯ä¸ªåé½ç±**Column Family(åæ)åColumn Qualifierï¼åéå®ç¬¦ï¼**è¿è¡éå®\n\n 5. Time Stamp ç¨äºæ è¯æ°æ®çä¸åçæ¬ï¼versionï¼ï¼æ¯æ¡æ°æ®åå¥æ¶ï¼å¦æä¸æå®æ¶é´æ³ï¼ç³»ç»ä¼èªå¨ä¸ºå¶å ä¸è¯¥å­æ®µï¼å¶å¼ä¸ºåå¥HBaseçæ¶é´ã\n\n 6. Cell ç±**{rowkey, column Familyï¼column Qualifier, time Stamp} å¯ä¸ç¡®å®çåå**ãcellä¸­çæ°æ®æ¯æ²¡æç±»åçï¼å¨é¨æ¯å­èæ°ç»å½¢å¼å­è´®ã\n\n\n# åºæ¬æ¶æ\n\n\n\næ¶æè§è²\n\n 1. Region Server Region Serverä¸º Regionçç®¡çèï¼å¶å®ç°ç±»ä¸ºHRegionServerï¼ä¸»è¦ä½ç¨å¦ä¸: å¯¹äºæ°æ®çæä½ï¼get, put, deleteï¼ å¯¹äºRegionçæä½ï¼splitRegionãcompactRegionã\n 2. Master Masteræ¯ææRegion Serverçç®¡çèï¼å¶å®ç°ç±»ä¸ºHMasterï¼ä¸»è¦ä½ç¨å¦ä¸ï¼ å¯¹äºè¡¨çæä½ï¼create, delete, alter å¯¹äºRegionServerçæä½ï¼åéregionså°æ¯ä¸ªRegionServerï¼çæ§æ¯ä¸ªRegionServerçç¶æï¼è´è½½åè¡¡åæéè½¬ç§»ã\n 3. Zookeeper HBaseéè¿Zookeeperæ¥åMasterçé«å¯ç¨ãRegionServerççæ§ãåæ°æ®çå¥å£ä»¥åéç¾¤éç½®çç»´æ¤ç­å·¥ä½ã\n 4. HDFS HDFSä¸ºHBaseæä¾æç»çåºå±æ°æ®å­å¨æå¡ï¼åæ¶ä¸ºHBaseæä¾é«å¯ç¨çæ¯æã",normalizedContent:"# hbaseæ°æ®æ¨¡å\n\né»è¾ä¸ï¼hbaseçæ°æ®æ¨¡ååå³ç³»åæ°æ®åºå¾ç±»ä¼¼ï¼æ°æ®å­å¨å¨ä¸å¼ è¡¨ä¸­ï¼æè¡æåãä½ä»hbaseçåºå±ç©çå­å¨ç»æï¼k-vï¼æ¥çï¼hbaseæ´åæ¯ä¸ä¸ªmulti-dimensional mapã\n\n\n# é»è¾ç»æ\n\n\n\n\n# ç©çç»æ\n\nä¸ä¸ªstoreå­å¨æ¨¡å\n\n\n\nå®æ¯ä¸ä¸ªå¤ç»´åº¦çæ å°æ¨¡å,ä¸ä¸ªrowkeyå¯¹åºçå¤ä¸ªåå æ å°å°ä¸ä¸ªvalueä¸ å¦æå¤ç¸årowkeyååæ å°å¤å¼ åä»¥timestampææ°çä¸ºå\n\n\n# æ°æ®æ¨¡å\n\n 1. name space\n    \n    å½åç©ºé´ï¼ç±»ä¼¼äºå³ç³»åæ°æ®åºçdatabbaseæ¦å¿µ\n\n 2. region\n    \n    ç±»ä¼¼äºå³ç³»åæ°æ®åºçè¡¨æ¦å¿µãä¸åçæ¯ï¼hbaseå®ä¹è¡¨æ¶åªéè¦å£°æåæå³å¯ï¼ä¸éè¦å£°æå·ä½çåãå¾hbaseåå¥æ°æ®æ¶ï¼å­æ®µå¯ä»¥å¨æãæéæå®\n\n 3. row\n    \n    hbaseè¡¨ä¸­çæ¯è¡æ°æ®é½ç±ä¸ä¸ªrowkeyåå¤ä¸ªcolumnï¼åï¼ç»æï¼æ°æ®æ¯æç§rowkeyçå­å¸é¡ºåºå­å¨çï¼å¹¶ä¸æ¥è¯¢æ°æ®æ¶åªè½æ ¹æ®rowkeyè¿è¡æ£ç´¢ï¼æä»¥rowkeyçè®¾è®¡ååéè¦ã\n\n 4. column\n    \n    hbaseä¸­çæ¯ä¸ªåé½ç±**column family(åæ)åcolumn qualifierï¼åéå®ç¬¦ï¼**è¿è¡éå®\n\n 5. time stamp ç¨äºæ è¯æ°æ®çä¸åçæ¬ï¼versionï¼ï¼æ¯æ¡æ°æ®åå¥æ¶ï¼å¦æä¸æå®æ¶é´æ³ï¼ç³»ç»ä¼èªå¨ä¸ºå¶å ä¸è¯¥å­æ®µï¼å¶å¼ä¸ºåå¥hbaseçæ¶é´ã\n\n 6. cell ç±**{rowkey, column familyï¼column qualifier, time stamp} å¯ä¸ç¡®å®çåå**ãcellä¸­çæ°æ®æ¯æ²¡æç±»åçï¼å¨é¨æ¯å­èæ°ç»å½¢å¼å­è´®ã\n\n\n# åºæ¬æ¶æ\n\n\n\næ¶æè§è²\n\n 1. region server region serverä¸º regionçç®¡çèï¼å¶å®ç°ç±»ä¸ºhregionserverï¼ä¸»è¦ä½ç¨å¦ä¸: å¯¹äºæ°æ®çæä½ï¼get, put, deleteï¼ å¯¹äºregionçæä½ï¼splitregionãcompactregionã\n 2. master masteræ¯ææregion serverçç®¡çèï¼å¶å®ç°ç±»ä¸ºhmasterï¼ä¸»è¦ä½ç¨å¦ä¸ï¼ å¯¹äºè¡¨çæä½ï¼create, delete, alter å¯¹äºregionserverçæä½ï¼åéregionså°æ¯ä¸ªregionserverï¼çæ§æ¯ä¸ªregionserverçç¶æï¼è´è½½åè¡¡åæéè½¬ç§»ã\n 3. zookeeper hbaseéè¿zookeeperæ¥åmasterçé«å¯ç¨ãregionserverççæ§ãåæ°æ®çå¥å£ä»¥åéç¾¤éç½®çç»´æ¤ç­å·¥ä½ã\n 4. hdfs hdfsä¸ºhbaseæä¾æç»çåºå±æ°æ®å­å¨æå¡ï¼åæ¶ä¸ºhbaseæä¾é«å¯ç¨çæ¯æã",charsets:{cjk:!0},lastUpdated:"2022/03/18, 07:01:11",lastUpdatedTimestamp:1647558071e3},{title:"Hbaseåç",frontmatter:{title:"Hbaseåç",date:"2022-03-17T22:09:08.000Z",permalink:"/pages/ec28f2/",categories:["å¤§æ°æ®","Hbase"],tags:[null]},regularPath:"/%E5%A4%A7%E6%95%B0%E6%8D%AE/07.Hbase/05.Hbase%E5%8E%9F%E7%90%86.html",relativePath:"å¤§æ°æ®/07.Hbase/05.Hbaseåç.md",key:"v-13acc28d",path:"/pages/ec28f2/",headers:[{level:2,title:"æ¶æåç",slug:"æ¶æåç",normalizedTitle:"æ¶æåç",charIndex:14},{level:2,title:"åæµç¨",slug:"åæµç¨",normalizedTitle:"åæµç¨",charIndex:389},{level:2,title:"MemStore Flush(å·æ°æ¶æº)",slug:"memstore-flush-å·æ°æ¶æº",normalizedTitle:"memstore flush(å·æ°æ¶æº)",charIndex:748},{level:2,title:"è¯»æµç¨",slug:"è¯»æµç¨",normalizedTitle:"è¯»æµç¨",charIndex:1780},{level:2,title:"StoreFile Compaction",slug:"storefile-compaction",normalizedTitle:"storefile compaction",charIndex:2268},{level:2,title:"Region Split",slug:"region-split",normalizedTitle:"region split",charIndex:2637}],headersStr:"æ¶æåç åæµç¨ MemStore Flush(å·æ°æ¶æº) è¯»æµç¨ StoreFile Compaction Region Split",content:'# Hbaseåç\n\n\n# æ¶æåç\n\n\n\n 1. StoreFile ä¿å­å®éæ°æ®çç©çæä»¶ï¼StoreFileä»¥HFileçå½¢å¼å­å¨å¨HDFSä¸ãæ¯ä¸ªStoreä¼æä¸ä¸ªæå¤ä¸ªStoreFileï¼HFileï¼ï¼æ°æ®å¨æ¯ä¸ªStoreFileä¸­é½æ¯æåºçã\n 2. MemStore åç¼å­ï¼ç±äºHFileä¸­çæ°æ®è¦æ±æ¯æåºçï¼æä»¥æ°æ®æ¯åå­å¨å¨MemStoreä¸­ï¼æå¥½åºåï¼ç­å°è¾¾å·åæ¶æºæä¼å·åå°HFileï¼æ¯æ¬¡å·åé½ä¼å½¢æä¸ä¸ªæ°çHFileã\n 3. WAL ç±äºæ°æ®è¦ç»MemStoreæåºåæè½å·åå°HFileï¼ä½ææ°æ®ä¿å­å¨åå­ä¸­ä¼æå¾é«çæ¦çå¯¼è´æ°æ®ä¸¢å¤±ï¼ä¸ºäºè§£å³è¿ä¸ªé®é¢ï¼æ°æ®ä¼ååå¨ä¸ä¸ªå«åWrite-Ahead logfileçæä»¶ä¸­ï¼ç¶åååå¥MemStoreä¸­ãæä»¥å¨ç³»ç»åºç°æéçæ¶åï¼æ°æ®å¯ä»¥éè¿è¿ä¸ªæ¥å¿æä»¶éå»ºãHlogé»è®¤å­å¨å¨HDFSä¸\n\n\n# åæµç¨\n\n\n\n 1. Clientåè®¿é®zookeeperï¼è·åhbase:metaè¡¨ä½äºåªä¸ªRegion Serverã\n 2. è®¿é®å¯¹åºçRegion Serverï¼è·åhbase:metaè¡¨ï¼æ ¹æ®è¯»è¯·æ±çnamespace:table/rowkeyï¼æ¥è¯¢åºç®æ æ°æ®ä½äºåªä¸ªRegion Serverä¸­çåªä¸ªRegionä¸­ãå¹¶å°è¯¥tableçregionä¿¡æ¯ä»¥åmetaè¡¨çä½ç½®ä¿¡æ¯ç¼å­å¨å®¢æ·ç«¯çmeta cacheï¼æ¹ä¾¿ä¸æ¬¡è®¿é®ã\n 3. ä¸ç®æ Region Serverè¿è¡éè®¯ï¼\n 4. å°æ°æ®é¡ºåºåå¥ï¼è¿½å ï¼å°WALï¼\n 5. å°æ°æ®åå¥å¯¹åºçMemStoreï¼æ°æ®ä¼å¨MemStoreè¿è¡æåºï¼\n 6. åå®¢æ·ç«¯åéackï¼\n 7. ç­è¾¾å°MemStoreçå·åæ¶æºåï¼å°æ°æ®å·åå°HFileã\n\n\n# MemStore Flush(å·æ°æ¶æº)\n\n\n\nMemStoreå·åæ¶æºï¼\n\n 1. å½æä¸ªmemstroeçå¤§å°è¾¾å°äºhbase.hregion.memstore.flush.sizeï¼é»è®¤å¼128Mï¼ï¼å¶æå¨regionçææmemstoreé½ä¼å·åã å½memstoreçå¤§å°è¾¾å°äº hbase.hregion.memstore.flush.sizeï¼é»è®¤å¼128Mï¼* hbase.hregion.memstore.block.multiplierï¼é»è®¤å¼4åï¼æ¶(å³é»è®¤ä¸º128M*4=512MB)ï¼ä¼é»æ­¢ç»§ç»­å¾è¯¥memstoreåæ°æ®ã\n    Hbaseä¸­ä¸æ¨èåå»ºå¤ªå¤äºåæ ç±äºå·åæ´ä¸ªmemstoreé½ä¼å·å èæ¯æ¬¡å·åé½æ¯å¨hdfsä¸­å»ºç«æ°çæä»¶ å¯è½æstoreå¾å°å°±è¢«å·åäº æµªè´¹ç³»ç»èµæº\n\n 2. å½region serverä¸­memstoreçæ»å¤§å°è¾¾å° java_heapsize * hbase.regionserver.global.memstore.sizeï¼é»è®¤å¼0.4ï¼* hbase.regionserver.global.memstore.size.upper.limitï¼é»è®¤å¼0.95ï¼ï¼ region server ä¼æå¶çææ region æç§å¶ææmemstoreçå¤§å°é¡ºåºï¼ç±å¤§å°å°ï¼ä¾æ¬¡è¿è¡å·åãç´å°region serverä¸­ææmemstoreçæ»å¤§å°åå°å°hbase.regionserver.global.memstore.size.lower.limit(é»è®¤ä¸ºç©º éè¦éç½®)ä»¥ä¸ã å½region serverä¸­memstoreçæ»å¤§å°è¾¾å°java_heapsize*hbase.regionserver.global.memstore.sizeï¼é»è®¤å¼0.4ï¼æ¶ï¼ä¼é»æ­¢ç»§ç»­å¾ææçmemstoreåæ°æ®ã\n\n 3. å°è¾¾èªå¨å·åçæ¶é´ï¼ä¹ä¼è§¦åmemstore flushãèªå¨å·æ°çæ¶é´é´éç±è¯¥å±æ§è¿è¡éç½®hbase.regionserver.optionalcacheflushintervalï¼é»è®¤1å°æ¶ï¼ã\n\n 4. å½WALæä»¶çæ°éè¶è¿hbase.regionserver.max.logsï¼regionä¼æç§æ¶é´é¡ºåºä¾æ¬¡è¿è¡å·åï¼ç´å°WALæä»¶æ°éåå°å°hbase.regionserver.max.logä»¥ä¸ï¼è¯¥å±æ§åå·²ç»åºå¼ï¼ç°æ éæå¨è®¾ç½®ï¼æå¤§å¼ä¸º32ï¼ã\n\n\n# è¯»æµç¨\n\n\n\nè¯»æµç¨\n\n 1. Clientåè®¿é®zookeeperï¼è·åhbase:metaè¡¨ä½äºåªä¸ªRegion Serverã\n 2. è®¿é®å¯¹åºçRegion Serverï¼è·åhbase:metaè¡¨ï¼æ ¹æ®è¯»è¯·æ±çnamespace:table/rowkeyï¼æ¥è¯¢åºç®æ æ°æ®ä½äºåªä¸ªRegion Serverä¸­çåªä¸ªRegionä¸­ãå¹¶å°è¯¥tableçregionä¿¡æ¯ä»¥åmetaè¡¨çä½ç½®ä¿¡æ¯ç¼å­å¨å®¢æ·ç«¯çmeta cacheï¼æ¹ä¾¿ä¸æ¬¡è®¿é®ã\n 3. ä¸ç®æ Region Serverè¿è¡éè®¯ï¼\n 4. åå«å¨Block Cacheï¼è¯»ç¼å­ï¼ï¼MemStoreåStore Fileï¼HFileï¼ä¸­æ¥è¯¢ç®æ æ°æ®ï¼å¹¶å°æ¥å°çæææ°æ®è¿è¡åå¹¶ãæ­¤å¤æææ°æ®æ¯æåä¸æ¡æ°æ®çä¸åçæ¬ï¼time stampï¼æèä¸åçç±»åï¼Put/Deleteï¼ã åçç¼å­ åçMemStore åçStore file\n 5. å°ä»æä»¶ä¸­æ¥è¯¢å°çæ°æ®åï¼Blockï¼HFileæ°æ®å­å¨ååï¼é»è®¤å¤§å°ä¸º64KBï¼ç¼å­å°Block Cacheã\n 6. å°åå¹¶åçæç»ç»æè¿åç»å®¢æ·ç«¯ã\n\n\n# StoreFile Compaction\n\nç±äºmemstoreæ¯æ¬¡å·åé½ä¼çæä¸ä¸ªæ°çHFileï¼ä¸åä¸ä¸ªå­æ®µçä¸åçæ¬ï¼timestampï¼åä¸åç±»åï¼Put/Deleteï¼æå¯è½ä¼åå¸å¨ä¸åçHFileä¸­ï¼å æ­¤æ¥è¯¢æ¶éè¦éåææçHFileãä¸ºäºåå°HFileçä¸ªæ°ï¼ä»¥åæ¸çæè¿æåå é¤çæ°æ®ï¼ä¼è¿è¡StoreFile Compactionã\n\n\n\nCompactionåä¸ºä¸¤ç§ï¼åå«æ¯Minor CompactionåMajor Compactionã\n\n 1. Minor Compactionä¼å°ä¸´è¿çè¥å¹²ä¸ªè¾å°çHFileåå¹¶æä¸ä¸ªè¾å¤§çHFileï¼ä½ä¸ä¼æ¸çè¿æåå é¤çæ°æ®ã\n 2. Major Compactionä¼å°ä¸ä¸ªStoreä¸çææçHFileåå¹¶æä¸ä¸ªå¤§HFileï¼å¹¶ä¸ä¼æ¸çæè¿æåå é¤çæ°æ®ã\n\n\n# Region Split\n\né»è®¤æåµä¸ï¼æ¯ä¸ªTableèµ·ååªæä¸ä¸ªRegionï¼éçæ°æ®çä¸æ­åå¥ï¼Regionä¼èªå¨è¿è¡æåãåæåæ¶ï¼ä¸¤ä¸ªå­Regioné½ä½äºå½åçRegion Serverï¼ä½å¤äºè´è½½åè¡¡çèèï¼HMasteræå¯è½ä¼å°æä¸ªRegionè½¬ç§»ç»å¶ä»çRegion Serverã\n\n\n\nRegion Splitæ¶æºï¼\n\n 1. å½1ä¸ªregionä¸­çæä¸ªStoreä¸ææStoreFileçæ»å¤§å°è¶è¿hbase.hregion.max.filesize(é»è®¤ä¸º10737418240 åGBå¤§å°)ï¼è¯¥Regionå°±ä¼è¿è¡æåï¼0.94çæ¬ä¹åï¼ã\n 2. å½1ä¸ªregionä¸­çæä¸ªStoreä¸ææStoreFileçæ»å¤§å°è¶è¿Min(R^3 * 2 * "hbase.hregion.memstore.flush.size",hbase.hregion.max.filesize")ï¼è¯¥Regionå°±ä¼è¿è¡æåï¼å¶ä¸­Rä¸ºå½åRegion Serverä¸­å±äºè¯¥Tableçä¸ªæ°ï¼0.94çæ¬ä¹åï¼ã\n 3. Hbase 2.0 å¼å¥äºæ°çsplitç­ç¥: å¦æå½å RegionServer ä¸è¯¥è¡¨åªæä¸ä¸ª Regin æç§ 2 * "hbase.hregion.memstore.flush.size" åè£ï¼å¦åæç§ hbase.hregion.max.filesize åè£',normalizedContent:'# hbaseåç\n\n\n# æ¶æåç\n\n\n\n 1. storefile ä¿å­å®éæ°æ®çç©çæä»¶ï¼storefileä»¥hfileçå½¢å¼å­å¨å¨hdfsä¸ãæ¯ä¸ªstoreä¼æä¸ä¸ªæå¤ä¸ªstorefileï¼hfileï¼ï¼æ°æ®å¨æ¯ä¸ªstorefileä¸­é½æ¯æåºçã\n 2. memstore åç¼å­ï¼ç±äºhfileä¸­çæ°æ®è¦æ±æ¯æåºçï¼æä»¥æ°æ®æ¯åå­å¨å¨memstoreä¸­ï¼æå¥½åºåï¼ç­å°è¾¾å·åæ¶æºæä¼å·åå°hfileï¼æ¯æ¬¡å·åé½ä¼å½¢æä¸ä¸ªæ°çhfileã\n 3. wal ç±äºæ°æ®è¦ç»memstoreæåºåæè½å·åå°hfileï¼ä½ææ°æ®ä¿å­å¨åå­ä¸­ä¼æå¾é«çæ¦çå¯¼è´æ°æ®ä¸¢å¤±ï¼ä¸ºäºè§£å³è¿ä¸ªé®é¢ï¼æ°æ®ä¼ååå¨ä¸ä¸ªå«åwrite-ahead logfileçæä»¶ä¸­ï¼ç¶åååå¥memstoreä¸­ãæä»¥å¨ç³»ç»åºç°æéçæ¶åï¼æ°æ®å¯ä»¥éè¿è¿ä¸ªæ¥å¿æä»¶éå»ºãhlogé»è®¤å­å¨å¨hdfsä¸\n\n\n# åæµç¨\n\n\n\n 1. clientåè®¿é®zookeeperï¼è·åhbase:metaè¡¨ä½äºåªä¸ªregion serverã\n 2. è®¿é®å¯¹åºçregion serverï¼è·åhbase:metaè¡¨ï¼æ ¹æ®è¯»è¯·æ±çnamespace:table/rowkeyï¼æ¥è¯¢åºç®æ æ°æ®ä½äºåªä¸ªregion serverä¸­çåªä¸ªregionä¸­ãå¹¶å°è¯¥tableçregionä¿¡æ¯ä»¥åmetaè¡¨çä½ç½®ä¿¡æ¯ç¼å­å¨å®¢æ·ç«¯çmeta cacheï¼æ¹ä¾¿ä¸æ¬¡è®¿é®ã\n 3. ä¸ç®æ region serverè¿è¡éè®¯ï¼\n 4. å°æ°æ®é¡ºåºåå¥ï¼è¿½å ï¼å°walï¼\n 5. å°æ°æ®åå¥å¯¹åºçmemstoreï¼æ°æ®ä¼å¨memstoreè¿è¡æåºï¼\n 6. åå®¢æ·ç«¯åéackï¼\n 7. ç­è¾¾å°memstoreçå·åæ¶æºåï¼å°æ°æ®å·åå°hfileã\n\n\n# memstore flush(å·æ°æ¶æº)\n\n\n\nmemstoreå·åæ¶æºï¼\n\n 1. å½æä¸ªmemstroeçå¤§å°è¾¾å°äºhbase.hregion.memstore.flush.sizeï¼é»è®¤å¼128mï¼ï¼å¶æå¨regionçææmemstoreé½ä¼å·åã å½memstoreçå¤§å°è¾¾å°äº hbase.hregion.memstore.flush.sizeï¼é»è®¤å¼128mï¼* hbase.hregion.memstore.block.multiplierï¼é»è®¤å¼4åï¼æ¶(å³é»è®¤ä¸º128m*4=512mb)ï¼ä¼é»æ­¢ç»§ç»­å¾è¯¥memstoreåæ°æ®ã\n    hbaseä¸­ä¸æ¨èåå»ºå¤ªå¤äºåæ ç±äºå·åæ´ä¸ªmemstoreé½ä¼å·å èæ¯æ¬¡å·åé½æ¯å¨hdfsä¸­å»ºç«æ°çæä»¶ å¯è½æstoreå¾å°å°±è¢«å·åäº æµªè´¹ç³»ç»èµæº\n\n 2. å½region serverä¸­memstoreçæ»å¤§å°è¾¾å° java_heapsize * hbase.regionserver.global.memstore.sizeï¼é»è®¤å¼0.4ï¼* hbase.regionserver.global.memstore.size.upper.limitï¼é»è®¤å¼0.95ï¼ï¼ region server ä¼æå¶çææ region æç§å¶ææmemstoreçå¤§å°é¡ºåºï¼ç±å¤§å°å°ï¼ä¾æ¬¡è¿è¡å·åãç´å°region serverä¸­ææmemstoreçæ»å¤§å°åå°å°hbase.regionserver.global.memstore.size.lower.limit(é»è®¤ä¸ºç©º éè¦éç½®)ä»¥ä¸ã å½region serverä¸­memstoreçæ»å¤§å°è¾¾å°java_heapsize*hbase.regionserver.global.memstore.sizeï¼é»è®¤å¼0.4ï¼æ¶ï¼ä¼é»æ­¢ç»§ç»­å¾ææçmemstoreåæ°æ®ã\n\n 3. å°è¾¾èªå¨å·åçæ¶é´ï¼ä¹ä¼è§¦åmemstore flushãèªå¨å·æ°çæ¶é´é´éç±è¯¥å±æ§è¿è¡éç½®hbase.regionserver.optionalcacheflushintervalï¼é»è®¤1å°æ¶ï¼ã\n\n 4. å½walæä»¶çæ°éè¶è¿hbase.regionserver.max.logsï¼regionä¼æç§æ¶é´é¡ºåºä¾æ¬¡è¿è¡å·åï¼ç´å°walæä»¶æ°éåå°å°hbase.regionserver.max.logä»¥ä¸ï¼è¯¥å±æ§åå·²ç»åºå¼ï¼ç°æ éæå¨è®¾ç½®ï¼æå¤§å¼ä¸º32ï¼ã\n\n\n# è¯»æµç¨\n\n\n\nè¯»æµç¨\n\n 1. clientåè®¿é®zookeeperï¼è·åhbase:metaè¡¨ä½äºåªä¸ªregion serverã\n 2. è®¿é®å¯¹åºçregion serverï¼è·åhbase:metaè¡¨ï¼æ ¹æ®è¯»è¯·æ±çnamespace:table/rowkeyï¼æ¥è¯¢åºç®æ æ°æ®ä½äºåªä¸ªregion serverä¸­çåªä¸ªregionä¸­ãå¹¶å°è¯¥tableçregionä¿¡æ¯ä»¥åmetaè¡¨çä½ç½®ä¿¡æ¯ç¼å­å¨å®¢æ·ç«¯çmeta cacheï¼æ¹ä¾¿ä¸æ¬¡è®¿é®ã\n 3. ä¸ç®æ region serverè¿è¡éè®¯ï¼\n 4. åå«å¨block cacheï¼è¯»ç¼å­ï¼ï¼memstoreåstore fileï¼hfileï¼ä¸­æ¥è¯¢ç®æ æ°æ®ï¼å¹¶å°æ¥å°çæææ°æ®è¿è¡åå¹¶ãæ­¤å¤æææ°æ®æ¯æåä¸æ¡æ°æ®çä¸åçæ¬ï¼time stampï¼æèä¸åçç±»åï¼put/deleteï¼ã åçç¼å­ åçmemstore åçstore file\n 5. å°ä»æä»¶ä¸­æ¥è¯¢å°çæ°æ®åï¼blockï¼hfileæ°æ®å­å¨ååï¼é»è®¤å¤§å°ä¸º64kbï¼ç¼å­å°block cacheã\n 6. å°åå¹¶åçæç»ç»æè¿åç»å®¢æ·ç«¯ã\n\n\n# storefile compaction\n\nç±äºmemstoreæ¯æ¬¡å·åé½ä¼çæä¸ä¸ªæ°çhfileï¼ä¸åä¸ä¸ªå­æ®µçä¸åçæ¬ï¼timestampï¼åä¸åç±»åï¼put/deleteï¼æå¯è½ä¼åå¸å¨ä¸åçhfileä¸­ï¼å æ­¤æ¥è¯¢æ¶éè¦éåææçhfileãä¸ºäºåå°hfileçä¸ªæ°ï¼ä»¥åæ¸çæè¿æåå é¤çæ°æ®ï¼ä¼è¿è¡storefile compactionã\n\n\n\ncompactionåä¸ºä¸¤ç§ï¼åå«æ¯minor compactionåmajor compactionã\n\n 1. minor compactionä¼å°ä¸´è¿çè¥å¹²ä¸ªè¾å°çhfileåå¹¶æä¸ä¸ªè¾å¤§çhfileï¼ä½ä¸ä¼æ¸çè¿æåå é¤çæ°æ®ã\n 2. major compactionä¼å°ä¸ä¸ªstoreä¸çææçhfileåå¹¶æä¸ä¸ªå¤§hfileï¼å¹¶ä¸ä¼æ¸çæè¿æåå é¤çæ°æ®ã\n\n\n# region split\n\né»è®¤æåµä¸ï¼æ¯ä¸ªtableèµ·ååªæä¸ä¸ªregionï¼éçæ°æ®çä¸æ­åå¥ï¼regionä¼èªå¨è¿è¡æåãåæåæ¶ï¼ä¸¤ä¸ªå­regioné½ä½äºå½åçregion serverï¼ä½å¤äºè´è½½åè¡¡çèèï¼hmasteræå¯è½ä¼å°æä¸ªregionè½¬ç§»ç»å¶ä»çregion serverã\n\n\n\nregion splitæ¶æºï¼\n\n 1. å½1ä¸ªregionä¸­çæä¸ªstoreä¸ææstorefileçæ»å¤§å°è¶è¿hbase.hregion.max.filesize(é»è®¤ä¸º10737418240 ågbå¤§å°)ï¼è¯¥regionå°±ä¼è¿è¡æåï¼0.94çæ¬ä¹åï¼ã\n 2. å½1ä¸ªregionä¸­çæä¸ªstoreä¸ææstorefileçæ»å¤§å°è¶è¿min(r^3 * 2 * "hbase.hregion.memstore.flush.size",hbase.hregion.max.filesize")ï¼è¯¥regionå°±ä¼è¿è¡æåï¼å¶ä¸­rä¸ºå½åregion serverä¸­å±äºè¯¥tableçä¸ªæ°ï¼0.94çæ¬ä¹åï¼ã\n 3. hbase 2.0 å¼å¥äºæ°çsplitç­ç¥: å¦æå½å regionserver ä¸è¯¥è¡¨åªæä¸ä¸ª regin æç§ 2 * "hbase.hregion.memstore.flush.size" åè£ï¼å¦åæç§ hbase.hregion.max.filesize åè£',charsets:{cjk:!0},lastUpdated:"2022/03/18, 07:01:11",lastUpdatedTimestamp:1647558071e3},{title:"Hbase shell",frontmatter:{title:"Hbase shell",date:"2022-03-17T22:09:08.000Z",permalink:"/pages/73c948/",categories:["å¤§æ°æ®","Hbase"],tags:[null]},regularPath:"/%E5%A4%A7%E6%95%B0%E6%8D%AE/07.Hbase/04.Hbase%20shell.html",relativePath:"å¤§æ°æ®/07.Hbase/04.Hbase shell.md",key:"v-41cba2f2",path:"/pages/73c948/",headers:[{level:2,title:"å®¢æ·ç«¯æä½",slug:"å®¢æ·ç«¯æä½",normalizedTitle:"å®¢æ·ç«¯æä½",charIndex:18},{level:2,title:"è¡¨æä½",slug:"è¡¨æä½",normalizedTitle:"è¡¨æä½",charIndex:114}],headersStr:"å®¢æ·ç«¯æä½ è¡¨æä½",content:"# Hbase shell\n\n\n# å®¢æ·ç«¯æä½\n\nè¿æ¥å®¢æ·ç«¯\n\n#è¿å¥Habseå®¢æ·ç«¯\nhbase shell\n\n\n1\n2\n\n\nåé¨å½ä»¤\n\n#å¸®å©å½ä»¤\nhelp\n#æ¥çå½åæ°æ®åºæåªäºè¡¨\nlist\n\n\n1\n2\n3\n4\n\n\n\n# è¡¨æä½\n\n * åå»ºè¡¨\n\n#create 'è¡¨å','åæ'\ncreate 'student','info'\n\n\n1\n2\n\n * æ¥çåæ\n\n#describe 'è¡¨å'\ndescribe 'student'\n\n\n1\n2\n\n * æå¥æ°æ®å°è¡¨\n\n#put 'è¡¨å','è¡é®','åæ:åå','æ°æ®'\nput 'student','1001','info:name','zhangsan'\nput 'student','1001','info:age','18'\nput 'student','1002','info:name','lisi'\nput 'student','1002','info:age','20'\n\n\n1\n2\n3\n4\n5\n\n * æ¥è¯¢æå®è¡¨æ°æ®\n\n#scan 'è¡¨å'  æ¥è¯¢å¨é¨æ°æ®\nscan 'student'\n\n#scan 'è¡¨å',{STARTROW => 'è¡é®'}  æ¥è¯¢æå®startrowæ°æ®\nscan 'student',{STARTROW => '1001'}\nscan 'student',{STARTROW => '1001', STOPROW  => '1002'}  #æ¥è¯¢èå´åçæ°æ®  æ¥è¯¢1002ä¹åç ä¸åå«1002\n\n#get 'è¡¨å','è¡é®'  æ¥è¯¢æå®è¡¨ä¸­æå®è¡é®çæ°æ®`\nget 'student','1001'\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n\n * ä¿®æ¹æ°æ®\n\n#put 'è¡¨å','è¡é®','åæ:åå','æ°æ®'  æ´æ°æ°æ®\nput 'student','1001','info:name','wangwu'\n\n\n1\n2\n\n * å é¤æ°æ®\n\n#truncate 'è¡¨å'  å é¤æå®è¡¨çæææ°æ®  ä½è¡¨ä»ç¶å­å¨\ntruncate 'student'\n\n#deleteall 'è¡¨å','è¡é®'  å é¤rowkeyçå¨é¨æ°æ®\ndeleteall 'student','1001'\n\n#delete 'student','è¡é®','åæ:åå'  å é¤rowkeyçæåæ°æ®\ndelete 'student','1002','info:age'\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n\n * å é¤è¡¨\n\n#ådisable è¡¨ ådropè¡¨  ç´æ¥dropæ¯æ æ³æä½ç\ndisable 'student'\ndrop 'student'\n\n\n1\n2\n3\n\n * ç»è®¡è¡¨æ°æ®è¡æ°\n\ncount 'student'\n\n\n1\n\n * åæ´è¡¨ä¿¡æ¯\n\nalter 'student',{NAME=>'info',VERSIONS=>3}\nget 'student','1001',{COLUMN=>'info:name',VERSIONS=>3}\n\n\n1\n2\n",normalizedContent:"# hbase shell\n\n\n# å®¢æ·ç«¯æä½\n\nè¿æ¥å®¢æ·ç«¯\n\n#è¿å¥habseå®¢æ·ç«¯\nhbase shell\n\n\n1\n2\n\n\nåé¨å½ä»¤\n\n#å¸®å©å½ä»¤\nhelp\n#æ¥çå½åæ°æ®åºæåªäºè¡¨\nlist\n\n\n1\n2\n3\n4\n\n\n\n# è¡¨æä½\n\n * åå»ºè¡¨\n\n#create 'è¡¨å','åæ'\ncreate 'student','info'\n\n\n1\n2\n\n * æ¥çåæ\n\n#describe 'è¡¨å'\ndescribe 'student'\n\n\n1\n2\n\n * æå¥æ°æ®å°è¡¨\n\n#put 'è¡¨å','è¡é®','åæ:åå','æ°æ®'\nput 'student','1001','info:name','zhangsan'\nput 'student','1001','info:age','18'\nput 'student','1002','info:name','lisi'\nput 'student','1002','info:age','20'\n\n\n1\n2\n3\n4\n5\n\n * æ¥è¯¢æå®è¡¨æ°æ®\n\n#scan 'è¡¨å'  æ¥è¯¢å¨é¨æ°æ®\nscan 'student'\n\n#scan 'è¡¨å',{startrow => 'è¡é®'}  æ¥è¯¢æå®startrowæ°æ®\nscan 'student',{startrow => '1001'}\nscan 'student',{startrow => '1001', stoprow  => '1002'}  #æ¥è¯¢èå´åçæ°æ®  æ¥è¯¢1002ä¹åç ä¸åå«1002\n\n#get 'è¡¨å','è¡é®'  æ¥è¯¢æå®è¡¨ä¸­æå®è¡é®çæ°æ®`\nget 'student','1001'\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n\n * ä¿®æ¹æ°æ®\n\n#put 'è¡¨å','è¡é®','åæ:åå','æ°æ®'  æ´æ°æ°æ®\nput 'student','1001','info:name','wangwu'\n\n\n1\n2\n\n * å é¤æ°æ®\n\n#truncate 'è¡¨å'  å é¤æå®è¡¨çæææ°æ®  ä½è¡¨ä»ç¶å­å¨\ntruncate 'student'\n\n#deleteall 'è¡¨å','è¡é®'  å é¤rowkeyçå¨é¨æ°æ®\ndeleteall 'student','1001'\n\n#delete 'student','è¡é®','åæ:åå'  å é¤rowkeyçæåæ°æ®\ndelete 'student','1002','info:age'\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n\n * å é¤è¡¨\n\n#ådisable è¡¨ ådropè¡¨  ç´æ¥dropæ¯æ æ³æä½ç\ndisable 'student'\ndrop 'student'\n\n\n1\n2\n3\n\n * ç»è®¡è¡¨æ°æ®è¡æ°\n\ncount 'student'\n\n\n1\n\n * åæ´è¡¨ä¿¡æ¯\n\nalter 'student',{name=>'info',versions=>3}\nget 'student','1001',{column=>'info:name',versions=>3}\n\n\n1\n2\n",charsets:{cjk:!0},lastUpdated:"2022/03/18, 07:01:11",lastUpdatedTimestamp:1647558071e3},{title:"Phoenix",frontmatter:{title:"Phoenix",date:"2022-03-17T22:09:08.000Z",permalink:"/pages/6dd88b/",categories:["å¤§æ°æ®","Hbase"],tags:[null]},regularPath:"/%E5%A4%A7%E6%95%B0%E6%8D%AE/07.Hbase/06.Phoenix.html",relativePath:"å¤§æ°æ®/07.Hbase/06.Phoenix.md",key:"v-283892a2",path:"/pages/6dd88b/",headers:[{level:2,title:"å®è£",slug:"å®è£",normalizedTitle:"å®è£",charIndex:201},{level:2,title:"Phoenix Shellæä½",slug:"phoenix-shellæä½",normalizedTitle:"phoenix shellæä½",charIndex:948},{level:2,title:"Dbeaverè¿æ¥",slug:"dbeaverè¿æ¥",normalizedTitle:"dbeaverè¿æ¥",charIndex:1919},{level:2,title:"è¡¨çæ å°",slug:"è¡¨çæ å°",normalizedTitle:"è¡¨çæ å°",charIndex:2302},{level:3,title:"è§å¾æ å°",slug:"è§å¾æ å°",normalizedTitle:"è§å¾æ å°",charIndex:2399},{level:3,title:"è¡¨æ å°",slug:"è¡¨æ å°",normalizedTitle:"è¡¨æ å°",charIndex:2404},{level:2,title:"JDBCæä½",slug:"jdbcæä½",normalizedTitle:"jdbcæä½",charIndex:2855},{level:3,title:"èå®¢æ·ç«¯",slug:"èå®¢æ·ç«¯",normalizedTitle:"èå®¢æ·ç«¯",charIndex:2866},{level:3,title:"ç¦å®¢æ·ç«¯",slug:"ç¦å®¢æ·ç«¯",normalizedTitle:"ç¦å®¢æ·ç«¯",charIndex:1941},{level:2,title:"Phoenix äºçº§ç´¢å¼",slug:"phoenix-äºçº§ç´¢å¼",normalizedTitle:"phoenix äºçº§ç´¢å¼",charIndex:5622},{level:3,title:"äºçº§ç´¢å¼éç½®æä»¶",slug:"äºçº§ç´¢å¼éç½®æä»¶",normalizedTitle:"äºçº§ç´¢å¼éç½®æä»¶",charIndex:5639},{level:3,title:"å¨å±äºçº§ç´¢å¼",slug:"å¨å±äºçº§ç´¢å¼",normalizedTitle:"å¨å±äºçº§ç´¢å¼",charIndex:6920},{level:3,title:"å¤çº§ç´¢å¼",slug:"å¤çº§ç´¢å¼",normalizedTitle:"å¤çº§ç´¢å¼",charIndex:7321},{level:3,title:"å é¤ç´¢å¼",slug:"å é¤ç´¢å¼",normalizedTitle:"å é¤ç´¢å¼",charIndex:7735},{level:3,title:"æºå¸¦å¶ä»å­æ®µçå¨å±ç´¢å¼",slug:"æºå¸¦å¶ä»å­æ®µçå¨å±ç´¢å¼",normalizedTitle:"æºå¸¦å¶ä»å­æ®µçå¨å±ç´¢å¼",charIndex:7807},{level:3,title:"å¨å±ç´¢å¼çç¼ºç¹",slug:"å¨å±ç´¢å¼çç¼ºç¹",normalizedTitle:"å¨å±ç´¢å¼çç¼ºç¹",charIndex:7991},{level:3,title:"Phoenix æ¬å°ç´¢å¼",slug:"phoenix-æ¬å°ç´¢å¼",normalizedTitle:"phoenix æ¬å°ç´¢å¼",charIndex:8058},{level:3,title:"åå¤çå¨",slug:"åå¤çå¨",normalizedTitle:"åå¤çå¨",charIndex:8524}],headersStr:"å®è£ Phoenix Shellæä½ Dbeaverè¿æ¥ è¡¨çæ å° è§å¾æ å° è¡¨æ å° JDBCæä½ èå®¢æ·ç«¯ ç¦å®¢æ·ç«¯ Phoenix äºçº§ç´¢å¼ äºçº§ç´¢å¼éç½®æä»¶ å¨å±äºçº§ç´¢å¼ å¤çº§ç´¢å¼ å é¤ç´¢å¼ æºå¸¦å¶ä»å­æ®µçå¨å±ç´¢å¼ å¨å±ç´¢å¼çç¼ºç¹ Phoenix æ¬å°ç´¢å¼ åå¤çå¨",content:'# Phoenix\n\nPhoenixæ¯HBaseçå¼æºSQLç®è¤ãå¯ä»¥ä½¿ç¨æ åJDBC APIä»£æ¿HBaseå®¢æ·ç«¯APIæ¥åå»ºè¡¨ï¼æå¥æ°æ®åæ¥è¯¢HBaseæ°æ®ã\n\nPhoenixç¹ç¹:\n\n 1. å®¹æéæï¼å¦Sparkï¼Hiveï¼Pigï¼FlumeåMap Reduceï¼\n 2. æä½ç®åï¼DMLå½ä»¤ä»¥åéè¿DDLå½ä»¤åå»ºåæä½è¡¨åçæ¬åå¢éæ´æ¹ï¼\n 3. æ¯æHBaseäºçº§ç´¢å¼åå»ºã\n\n\n\n\n# å®è£\n\ncd /opt/software/\ntar -zxvf apache-phoenix-5.0.0-HBase-2.0-bin.tar.gz -C /opt/module/\ncd /opt/module/\nmv apache-phoenix-5.0.0-HBase-2.0-bin phoenix\n\n\n1\n2\n3\n4\n\n\nå¤å¶serveråå¹¶æ·è´å°åä¸ªèç¹çhbase/lib\n\ncd /opt/module/phoenix/\ncp phoenix-5.0.0-HBase-2.0-server.jar /opt/module/hbase/lib/\n\n\n1\n2\n\n\nå¤å¶clientåå¹¶æ·è´å°åä¸ªèç¹çhbase/lib\n\ncp phoenix-5.0.0-HBase-2.0-client.jar /opt/module/hbase/lib/\n\n\n1\n\n\nåæ­¥hbase lib\n\nxsync /opt/module/hbase/lib/\n\n\n1\n\n\néç½®ç¯å¢åé\n\nsudo vim /etc/profile.d/my_env.sh\n\n\n1\n\n\n#phoenix\nexport PHOENIX_HOME=/opt/module/phoenix\nexport PHOENIX_CLASSPATH=$PHOENIX_HOME\nexport PATH=$PATH:$PHOENIX_HOME/bin\n\n\n1\n2\n3\n4\n\n\nsource /etc/profile.d/my_env.sh\n\n\n1\n\n\néç¾¤å¯å¨ hadoop zookeeperåhbase\n\nå¯å¨Phoenix\n\nsqlline.py hadoop102,hadoop103,hadoop104:2181\n\n\n1\n\n\n\n# Phoenix Shellæä½\n\n * æ¾ç¤ºææè¡¨\n   \n   * !table\n     -- æè\n     !tables\n     \n     \n     1\n     2\n     3\n     \n\n * åå»ºè¡¨\n   \n   * -- ç´æ¥æå®åä¸ªåä½ä¸ºRowKey\n     CREATE TABLE IF NOT EXISTS student(\n     id VARCHAR primary key,\n     name VARCHAR);\n     \n     -- å¨phoenixä¸­ï¼è¡¨åç­ä¼èªå¨è½¬æ¢ä¸ºå¤§åï¼è¥è¦å°åï¼ä½¿ç¨åå¼å·ï¼å¦"us_population"ã\n     -- æå®å¤ä¸ªåçèåä½ä¸ºRowKey\n     CREATE TABLE IF NOT EXISTS us_population (\n     State CHAR(2) NOT NULL,\n     City VARCHAR NOT NULL,\n     Population BIGINT\n     CONSTRAINT my_pk PRIMARY KEY (state, city));\n     \n     \n     \n     1\n     2\n     3\n     4\n     5\n     6\n     7\n     8\n     9\n     10\n     11\n     12\n     13\n     \n\n * æå¥æ°æ®\n   \n   * upsert into student values(\'1001\',\'zhangsan\');\n     \n     \n     1\n     \n\n * æ¥è¯¢æ°æ®\n   \n   * select * from student;\n     select * from student where id=\'1001\';\n     \n     \n     1\n     2\n     \n\n * å é¤æ°æ®\n   \n   * delete from student where id=\'1001\';\n     \n     \n     1\n     \n\n * å é¤è¡¨\n   \n   * drop table student;\n     \n     \n     1\n     \n\n\n# Dbeaverè¿æ¥\n\nHbaseæ¨èæä»¬ä½¿ç¨ç¦å®¢æ·ç«¯è¿è¡è¿æ¥ æä»¬åå¯å¨æå¡ç«¯\n\nqueryserver.py start #æå¡ç«¯å¯å¨\nsqlline-thin.py hadoop102:8765 #å®¢æ·ç«¯è¿æ¥\n\n\n1\n2\n\n\nä¿®æ¹ç±»å URLæ¨¡ååç«¯å£å·\n\nç±»å: org.apache.phoenix.queryserver.client.Driver\nURLæ¨¡æ¿: jdbc:phoenix:thin:url=http://{host}:{port};serialization=PROTOBUF\nç«¯å£å·: 8765\n\n\n1\n2\n3\n\n\n\n\næ·»å é©±å¨ä»mavenä»åºä¸è½½jarå¯¼å¥\n\nhttps://mvnrepository.com/artifact/org.apache.phoenix/phoenix-queryserver-client\n\n\n\n\n# è¡¨çæ å°\n\né»è®¤æåµä¸ï¼ç´æ¥å¨HBaseä¸­åå»ºçè¡¨ï¼éè¿Phoenixæ¯æ¥çä¸å°çãå¦æè¦å¨Phoenixä¸­æä½ç´æ¥å¨HBaseä¸­åå»ºçè¡¨ï¼åéè¦å¨Phoenixä¸­è¿è¡è¡¨çæ å°ãæ å°æ¹å¼æä¸¤ç§ï¼è§å¾æ å°åè¡¨æ å°ã\n\n\n# è§å¾æ å°\n\nPhoenixåå»ºçè§å¾æ¯åªè¯»çï¼æä»¥åªè½ç¨æ¥åæ¥è¯¢ï¼æ æ³éè¿è§å¾å¯¹æºæ°æ®è¿è¡ä¿®æ¹ç­æä½ã\n\nå¨hbase shellå»ºç«è¡¨\n\ncreate \'test\',\'info1\',\'info2\'\n\n\n1\n\n\nå¨phoenixä¸­åå»ºå³ètestè¡¨çè§å¾\n\ncreate view "test"(id varchar primary key,"info1"."name" varchar, "info2"."address" varchar);\n\n\n1\n\n\nå é¤è§å¾\n\ndrop view "test"\n\n\n1\n\n\n\n# è¡¨æ å°\n\nä»¥ç±»ä¼¼åå»ºè§å¾çæ¹å¼åå»ºå³èè¡¨ï¼åªéè¦å°create viewæ¹ä¸ºcreate tableå³å¯\n\ncreate table "test"(id varchar primary key,"info1"."name" varchar, "info2"."address" varchar) column_encoded_bytes=0;\n\n\n1\n\n\n\n# JDBCæä½\n\n\n# èå®¢æ·ç«¯\n\nåå»ºå·¥ç¨ å¯¼å¥ä¾èµ\n\n  <dependencies>\n        <dependency>\n            <groupId>org.apache.phoenix</groupId>\n            <artifactId>phoenix-core</artifactId>\n            <version>5.0.0-HBase-2.0</version>\n        </dependency>\n\n        <dependency>\n            <groupId>com.lmax</groupId>\n            <artifactId>disruptor</artifactId>\n            <version>3.3.6</version>\n        </dependency>\n        <dependency>\n            <groupId>org.apache.hadoop</groupId>\n            <artifactId>hadoop-common</artifactId>\n            <version>2.8.4</version>\n        </dependency>\n\n    </dependencies>\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n\n\nç¼ç \n\npackage com.atguigu.phoenix;\n\n\nimport java.sql.*;\n\npublic class PhoenixClient {\n\n    public static void main(String[] args)  throws  Exception{\n        //1.å®ä¹åæ°\n        String driver = "org.apache.phoenix.jdbc.PhoenixDriver";\n        String url = "jdbc:phoenix:hadoop102,hadoop103,hadoop104:2181";\n\n        //2.å è½½é©±å¨\n        Class.forName(driver);\n\n        //3.åå»ºè¿æ¥\n        Connection connection = DriverManager.getConnection(url);\n\n        //4.é¢ç¼è¯SQL\n        PreparedStatement preparedStatement = connection.prepareStatement("SELECT * FROM STUDENT");\n\n        //5.æ¥è¯¢è·åè¿åå¼\n        ResultSet resultSet = preparedStatement.executeQuery();\n\n        //6.æå°ç»æ\n        while (resultSet.next()) {\n            System.out.println(resultSet.getString(1) + resultSet.getString(2));\n        }\n\n        //7.å³é­èµæº\n        resultSet.close();\n        preparedStatement.close();\n        connection.close();\n    }\n\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n26\n27\n28\n29\n30\n31\n32\n33\n34\n35\n36\n\n\n\n# ç¦å®¢æ·ç«¯\n\nä¾èµ\n\n    <dependencies>\n        <dependency>\n            <groupId>org.apache.phoenix</groupId>\n            <artifactId>phoenix-queryserver-client</artifactId>\n            <version>5.0.0-HBase-2.0</version>\n        </dependency>\n\n    </dependencies>\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n\n\nç¼ç \n\npackage com.atguigu.phoenix;\n\nimport org.apache.phoenix.queryserver.client.ThinClientUtil;\n\nimport java.sql.*;\n\npublic class PhoenixClient2 {\n    public static void main(String[] args) throws SQLException {\n        String url = ThinClientUtil.getConnectionUrl("hadoop102", 8765); //è·åjdbc url\n        Connection connection = DriverManager.getConnection(url); //è·åè¿æ¥å¯¹è±¡\n        PreparedStatement preparedStatement = connection.prepareStatement("SELECT * FROM STUDENT");\n        ResultSet resultSet = preparedStatement.executeQuery();\n\n        while (resultSet.next()) {\n            System.out.println(resultSet.getString(1) + resultSet.getString(2));\n        }\n\n        resultSet.close();\n        preparedStatement.close();\n        connection.close();\n\n    }\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n\n\n\n# Phoenix äºçº§ç´¢å¼\n\n\n# äºçº§ç´¢å¼éç½®æä»¶\n\næ·»å å¦ä¸éç½®å°HBaseçHRegionserverèç¹çhbase-site.xml\n\n\x3c!-- phoenix regionserver éç½®åæ°--\x3e\n\t<property>\n\t\t<name>hbase.regionserver.wal.codec</name>\n\t\t<value>org.apache.hadoop.hbase.regionserver.wal.IndexedWALEditCodec</value>\n\t</property>\n\n\t<property>\n\t\t<name>hbase.region.server.rpc.scheduler.factory.class</name>\n\t\t<value>org.apache.hadoop.hbase.ipc.PhoenixRpcSchedulerFactory</value>\n\t\t<description>Factory to create the Phoenix RPC Scheduler that uses separate queues for index and metadata updates</description>\n\t</property>\n\n\t<property>\n\t\t<name>hbase.rpc.controllerfactory.class</name>\n\t\t<value>org.apache.hadoop.hbase.ipc.controller.ServerRpcControllerFactory</value>\n\t\t<description>Factory to create the Phoenix RPC Scheduler that uses separate queues for index and metadata updates</description>\n\t</property>\n\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n\n\næ·»å å¦ä¸éç½®å°HBaseä¸­HMasterèç¹çhbase-site.xmlä¸­\n\n\x3c!-- phoenix master éç½®åæ° --\x3e\n\t<property>\n\t\t<name>hbase.master.loadbalancer.class</name>\n\t\t<value>org.apache.phoenix.hbase.index.balancer.IndexLoadBalancer</value>\n\t</property>\n\n\t<property>\n\t\t<name>hbase.coprocessor.master.classes</name>\n\t\t<value>org.apache.phoenix.hbase.index.master.IndexMasterObserver</value>\n\t</property>\n\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n\n\néæ°å¯å¨hbaseåPhoenix\n\n\n# å¨å±äºçº§ç´¢å¼\n\nGlobal Indexæ¯é»è®¤çç´¢å¼æ ¼å¼ï¼åå»ºå¨å±ç´¢å¼æ¶ï¼ä¼å¨HBaseä¸­å»ºç«ä¸å¼ æ°è¡¨ãä¹å°±æ¯è¯´ç´¢å¼æ°æ®åæ°æ®è¡¨æ¯å­æ¾å¨ä¸åçè¡¨ä¸­çï¼å æ­¤å¨å±ç´¢å¼éç¨äºå¤è¯»å°åçä¸å¡åºæ¯ã\n\n\n\nåæ°æ®çæ¶åä¼æ¶èå¤§éå¼éï¼å ä¸ºç´¢å¼è¡¨ä¹è¦æ´æ°ï¼èç´¢å¼è¡¨æ¯åå¸å¨ä¸åçæ°æ®èç¹ä¸çï¼è·¨èç¹çæ°æ®ä¼ è¾å¸¦æ¥äºè¾å¤§çæ§è½æ¶èã\n\nå¨è¯»æ°æ®çæ¶åPhoenixä¼éæ©ç´¢å¼è¡¨æ¥éä½æ¥è¯¢æ¶èçæ¶é´ã\n\nåå»ºåä¸ªå­æ®µçå¨å±ç´¢å¼\n\nCREATE INDEX student_index ON student (name);\n\n\n1\n\n\nç´¢å¼è¡¨æ¥ç\n\nscan \'STUDENT_INDEX\'\n\n\n1\n\n\nvalueå¨é¨ä¸ºxç©ºç èrowåævalue+rowkeyäºè¿å¶\n\n\n\näºçº§ç´¢å¼åªè½éå¯¹ æå®åéå®ç¬¦+ä¸»é®çç´¢å¼è¡¨ å¦ææ¥è¯¢ä¸­æ¥è¯¢åå¸¦ä¸å¶ä»åéå®ç¬¦ åæ æ³ä»æ­¤ç´¢å¼è¡¨è¿è¡ç´¢å¼æ¥è¯¢ ä»èè¿è¡å¨è¡¨æ«æã\n\n\n\n\n# å¤çº§ç´¢å¼\n\néå¯¹ä¸é¢äºçº§ç´¢å¼åªè½è¿è¡ä¸¤ä¸ªåéå®ç¬¦ è¿ç´¢å¼æ«æ æä»¬å¯ä»¥åå»ºç´¢å¼è¡¨æ¶æå®å¤ä¸ªåéå®ç¬¦\n\nCREATE INDEX student_name_sex_index ON student (name,sex); -- åå»ºä¸ä¸ªä¸»é® name sex ç´¢å¼è¡¨\n\n\n1\n\n\nåå»ºå®æåæä»¬å°±å¯ä»¥è¿è¡å¤ä¸ªåéå®ç¬¦æ¥è¿è¡ç´¢å¼æ¥è¯¢\n\nexplain select id,name,sex from student  where name = \'6\'; -- ä»æè¿ä¸ä¸ªåéå®ç¬¦çç´¢å¼è¡¨è¿è¡ç´¢å¼æ¥è¯¢ æ²¡æåå¨è¡¨æ«æ\nexplain select id,name,sex,address from student  where name = \'6\'; -- å ä¸ºæ²¡æåå«id,name,sex,addressè¿åä¸ªåéå®ç¬¦çç´¢å¼è¡¨ ææè¿è¡å¨è¡¨æ«æ\n\n\n1\n2\n\n\næ³¨æ: åå»ºç´¢å¼è¡¨é¡ºåºè¦ä¸æ¥è¯¢æ¶ä¸è´ å¦åæ æ³è¿è¡ç´¢å¼æ¥è¯¢\n\n\n# å é¤ç´¢å¼\n\nç´æ¥å é¤æå®ç´¢å¼è¡¨\n\ndrop index STUDENT_NAME_SEX_INDEX on student;\n\n\n1\n\n\n\n# æºå¸¦å¶ä»å­æ®µçå¨å±ç´¢å¼\n\nCREATE INDEX student_name_index_all ON student (name) INCLUDE (age,sex,address);\n\n\n1\n\n\n\n\néè¿æºå¸¦å¶ä»å­æ®µ æ ¹æ®æå®å­æ®µåå»ºç´¢å¼ å¹¶æºå¸¦å¶ä»å­æ®µä¸­çå¼ æºå¸¦å­æ®µæ²¡æåå»ºç´¢å¼åªæ¯éå ä¸ºç´¢å¼å­æ®µçç»æ ä½æ¡ä»¶æ¥è¯¢å¿é¡»æ¯ç´¢å¼å­æ®µ å¦åä¹æ¯è¿è¡å¨è¡¨æ«æ\n\n\n# å¨å±ç´¢å¼çç¼ºç¹\n\n 1. å ç¨ç©ºé´ éè¦å»ºç«å¤ä¸ªè¡¨\n 2. ç»´æ¤ææ¬é« æ æ³å¨æ´æ°åæ·»å é¢ç¹çè¡¨ä¸­ä½¿ç¨ éè¦éæ°å¨è¡¨æ´æ°ç´¢å¼\n\n\n# Phoenix æ¬å°ç´¢å¼\n\nLocal Indexéç¨äºåæä½é¢ç¹çåºæ¯ã\n\nç´¢å¼æ°æ®åæ°æ®è¡¨çæ°æ®æ¯å­æ¾å¨åä¸å¼ è¡¨ä¸­ï¼ä¸æ¯åä¸ä¸ªRegionï¼ï¼é¿åäºå¨åæä½çæ¶åå¾ä¸åæå¡å¨çç´¢å¼è¡¨ä¸­åç´¢å¼å¸¦æ¥çé¢å¤å¼éã\n\nCREATE LOCAL INDEX local_index_student ON student (name);\n\n\n1\n\n\nåæ ·æä¸ªæ°çç´¢å¼è¡¨\n\n\n\nä½å¨hbase shellä¸­ æ¥çlistæ¶æ²¡ææ¥çå°æ­¤è¡¨ ç´¢å¼æ°æ®åæ°æ®è¡¨çæ°æ®æ¯å­æ¾å¨åä¸å¼ è¡¨ä¸­\n\næ¥çstudentè¡¨æ°æ®\n\n\n\nç´æ¥å¨åè¡¨ä¸­æå¥ç´¢å¼æ°æ® ç´¢å¼å¼+ä¸»é® valueä¸ºç©º\n\n\n\næ¬å°ç´¢å¼ä¸å±éæ¥è¯¢å æä»¬å¯ä»¥æ¥è¯¢ææåæ°æ® ä½æ¯æ¡ä»¶è¯­å¥å¿é¡»æ¯ç´¢å¼åéå®\n\n 1. åå½ä¸­ç´¢å¼åæ¥åºä¸»é®id\n 2. æ ¹æ®ä¸»é®idå½ä¸­åè¡¨çæ°æ®\n 3. å¨å±æ¯æ¬å°ç´¢å¼å¿« å¨å±æ¯ä¸æ¬¡å½ä¸­ èæ¬å°éè¦å½ä¸­ä¹åæ ¹æ®ä¸»é®æ¥è¯¢\n 4. å¨å±ç©ºé´çºç²æ´å¤§ èæ¬å°ç´æ¥å¨è¡¨ä¸­å¢å \n 5. å¨å±ç´¢å¼æ´æ°è¦æ´æ°å¨é¨ç´¢å¼è¡¨ èæ¬å°ç´¢å¼åªéè¦æ´æ°ä¸å¼ è¡¨(åæ°æ®è¡¨ä¸­çç´¢å¼è¡)\n\n\n# åå¤çå¨\n\nç¼ååå¤çå¨ï¼å®ç°å¨å¾Aè¡¨æå¥æ°æ®çåæ¶è®©HBaseèªèº«ï¼åå¤çå¨ï¼åBè¡¨ä¸­æå¥ä¸æ¡æ°æ®ã\n\nç¸å½äºå¢å¼ºæä½ èæä»¬çå¨å±ç´¢å¼å°±æ¯åºäºåå¤çå¨è¿è¡ç´¢å¼æ¥è¯¢\n\nåå»ºé¡¹ç® å¯¼å¥ä¾èµ\n\n<dependencies>\n    <dependency>\n        <groupId>org.apache.hbase</groupId>\n        <artifactId>hbase-client</artifactId>\n        <version>1.3.1</version>\n</dependency>\n\n    <dependency>\n        <groupId>org.apache.hbase</groupId>\n        <artifactId>hbase-server</artifactId>\n        <version>1.3.1</version>\n    </dependency>\n</dependencies>\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n\n\nå®ä¹FruitTableCoprocessorç±»å¹¶ç»§æ¿BaseRegionObserverç±»\n\npackage com.atguigu;\n\nimport org.apache.hadoop.hbase.HBaseConfiguration;\nimport org.apache.hadoop.hbase.TableName;\nimport org.apache.hadoop.hbase.client.*;\nimport org.apache.hadoop.hbase.coprocessor.BaseRegionObserver;\nimport org.apache.hadoop.hbase.coprocessor.ObserverContext;\nimport org.apache.hadoop.hbase.coprocessor.RegionCoprocessorEnvironment;\nimport org.apache.hadoop.hbase.regionserver.wal.WALEdit;\n\nimport java.io.IOException;\n\npublic class FruitTableCoprocessor extends BaseRegionObserver {\n\n    @Override\n    public void postPut(ObserverContext<RegionCoprocessorEnvironment> e, Put put, WALEdit edit, Durability durability) throws IOException {\n\n        //è·åè¿æ¥\n        Connection connection = ConnectionFactory.createConnection(HBaseConfiguration.create());\n\n        //è·åè¡¨å¯¹è±¡\n        Table table = connection.getTable(TableName.valueOf("fruit"));\n\n        //æå¥æ°æ®\n        table.put(put);\n\n        //å³é­èµæº\n        table.close();\n        connection.close();\n    }\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n26\n27\n28\n29\n30\n31\n',normalizedContent:'# phoenix\n\nphoenixæ¯hbaseçå¼æºsqlç®è¤ãå¯ä»¥ä½¿ç¨æ åjdbc apiä»£æ¿hbaseå®¢æ·ç«¯apiæ¥åå»ºè¡¨ï¼æå¥æ°æ®åæ¥è¯¢hbaseæ°æ®ã\n\nphoenixç¹ç¹:\n\n 1. å®¹æéæï¼å¦sparkï¼hiveï¼pigï¼flumeåmap reduceï¼\n 2. æä½ç®åï¼dmlå½ä»¤ä»¥åéè¿ddlå½ä»¤åå»ºåæä½è¡¨åçæ¬åå¢éæ´æ¹ï¼\n 3. æ¯æhbaseäºçº§ç´¢å¼åå»ºã\n\n\n\n\n# å®è£\n\ncd /opt/software/\ntar -zxvf apache-phoenix-5.0.0-hbase-2.0-bin.tar.gz -c /opt/module/\ncd /opt/module/\nmv apache-phoenix-5.0.0-hbase-2.0-bin phoenix\n\n\n1\n2\n3\n4\n\n\nå¤å¶serveråå¹¶æ·è´å°åä¸ªèç¹çhbase/lib\n\ncd /opt/module/phoenix/\ncp phoenix-5.0.0-hbase-2.0-server.jar /opt/module/hbase/lib/\n\n\n1\n2\n\n\nå¤å¶clientåå¹¶æ·è´å°åä¸ªèç¹çhbase/lib\n\ncp phoenix-5.0.0-hbase-2.0-client.jar /opt/module/hbase/lib/\n\n\n1\n\n\nåæ­¥hbase lib\n\nxsync /opt/module/hbase/lib/\n\n\n1\n\n\néç½®ç¯å¢åé\n\nsudo vim /etc/profile.d/my_env.sh\n\n\n1\n\n\n#phoenix\nexport phoenix_home=/opt/module/phoenix\nexport phoenix_classpath=$phoenix_home\nexport path=$path:$phoenix_home/bin\n\n\n1\n2\n3\n4\n\n\nsource /etc/profile.d/my_env.sh\n\n\n1\n\n\néç¾¤å¯å¨ hadoop zookeeperåhbase\n\nå¯å¨phoenix\n\nsqlline.py hadoop102,hadoop103,hadoop104:2181\n\n\n1\n\n\n\n# phoenix shellæä½\n\n * æ¾ç¤ºææè¡¨\n   \n   * !table\n     -- æè\n     !tables\n     \n     \n     1\n     2\n     3\n     \n\n * åå»ºè¡¨\n   \n   * -- ç´æ¥æå®åä¸ªåä½ä¸ºrowkey\n     create table if not exists student(\n     id varchar primary key,\n     name varchar);\n     \n     -- å¨phoenixä¸­ï¼è¡¨åç­ä¼èªå¨è½¬æ¢ä¸ºå¤§åï¼è¥è¦å°åï¼ä½¿ç¨åå¼å·ï¼å¦"us_population"ã\n     -- æå®å¤ä¸ªåçèåä½ä¸ºrowkey\n     create table if not exists us_population (\n     state char(2) not null,\n     city varchar not null,\n     population bigint\n     constraint my_pk primary key (state, city));\n     \n     \n     \n     1\n     2\n     3\n     4\n     5\n     6\n     7\n     8\n     9\n     10\n     11\n     12\n     13\n     \n\n * æå¥æ°æ®\n   \n   * upsert into student values(\'1001\',\'zhangsan\');\n     \n     \n     1\n     \n\n * æ¥è¯¢æ°æ®\n   \n   * select * from student;\n     select * from student where id=\'1001\';\n     \n     \n     1\n     2\n     \n\n * å é¤æ°æ®\n   \n   * delete from student where id=\'1001\';\n     \n     \n     1\n     \n\n * å é¤è¡¨\n   \n   * drop table student;\n     \n     \n     1\n     \n\n\n# dbeaverè¿æ¥\n\nhbaseæ¨èæä»¬ä½¿ç¨ç¦å®¢æ·ç«¯è¿è¡è¿æ¥ æä»¬åå¯å¨æå¡ç«¯\n\nqueryserver.py start #æå¡ç«¯å¯å¨\nsqlline-thin.py hadoop102:8765 #å®¢æ·ç«¯è¿æ¥\n\n\n1\n2\n\n\nä¿®æ¹ç±»å urlæ¨¡ååç«¯å£å·\n\nç±»å: org.apache.phoenix.queryserver.client.driver\nurlæ¨¡æ¿: jdbc:phoenix:thin:url=http://{host}:{port};serialization=protobuf\nç«¯å£å·: 8765\n\n\n1\n2\n3\n\n\n\n\næ·»å é©±å¨ä»mavenä»åºä¸è½½jarå¯¼å¥\n\nhttps://mvnrepository.com/artifact/org.apache.phoenix/phoenix-queryserver-client\n\n\n\n\n# è¡¨çæ å°\n\né»è®¤æåµä¸ï¼ç´æ¥å¨hbaseä¸­åå»ºçè¡¨ï¼éè¿phoenixæ¯æ¥çä¸å°çãå¦æè¦å¨phoenixä¸­æä½ç´æ¥å¨hbaseä¸­åå»ºçè¡¨ï¼åéè¦å¨phoenixä¸­è¿è¡è¡¨çæ å°ãæ å°æ¹å¼æä¸¤ç§ï¼è§å¾æ å°åè¡¨æ å°ã\n\n\n# è§å¾æ å°\n\nphoenixåå»ºçè§å¾æ¯åªè¯»çï¼æä»¥åªè½ç¨æ¥åæ¥è¯¢ï¼æ æ³éè¿è§å¾å¯¹æºæ°æ®è¿è¡ä¿®æ¹ç­æä½ã\n\nå¨hbase shellå»ºç«è¡¨\n\ncreate \'test\',\'info1\',\'info2\'\n\n\n1\n\n\nå¨phoenixä¸­åå»ºå³ètestè¡¨çè§å¾\n\ncreate view "test"(id varchar primary key,"info1"."name" varchar, "info2"."address" varchar);\n\n\n1\n\n\nå é¤è§å¾\n\ndrop view "test"\n\n\n1\n\n\n\n# è¡¨æ å°\n\nä»¥ç±»ä¼¼åå»ºè§å¾çæ¹å¼åå»ºå³èè¡¨ï¼åªéè¦å°create viewæ¹ä¸ºcreate tableå³å¯\n\ncreate table "test"(id varchar primary key,"info1"."name" varchar, "info2"."address" varchar) column_encoded_bytes=0;\n\n\n1\n\n\n\n# jdbcæä½\n\n\n# èå®¢æ·ç«¯\n\nåå»ºå·¥ç¨ å¯¼å¥ä¾èµ\n\n  <dependencies>\n        <dependency>\n            <groupid>org.apache.phoenix</groupid>\n            <artifactid>phoenix-core</artifactid>\n            <version>5.0.0-hbase-2.0</version>\n        </dependency>\n\n        <dependency>\n            <groupid>com.lmax</groupid>\n            <artifactid>disruptor</artifactid>\n            <version>3.3.6</version>\n        </dependency>\n        <dependency>\n            <groupid>org.apache.hadoop</groupid>\n            <artifactid>hadoop-common</artifactid>\n            <version>2.8.4</version>\n        </dependency>\n\n    </dependencies>\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n\n\nç¼ç \n\npackage com.atguigu.phoenix;\n\n\nimport java.sql.*;\n\npublic class phoenixclient {\n\n    public static void main(string[] args)  throws  exception{\n        //1.å®ä¹åæ°\n        string driver = "org.apache.phoenix.jdbc.phoenixdriver";\n        string url = "jdbc:phoenix:hadoop102,hadoop103,hadoop104:2181";\n\n        //2.å è½½é©±å¨\n        class.forname(driver);\n\n        //3.åå»ºè¿æ¥\n        connection connection = drivermanager.getconnection(url);\n\n        //4.é¢ç¼è¯sql\n        preparedstatement preparedstatement = connection.preparestatement("select * from student");\n\n        //5.æ¥è¯¢è·åè¿åå¼\n        resultset resultset = preparedstatement.executequery();\n\n        //6.æå°ç»æ\n        while (resultset.next()) {\n            system.out.println(resultset.getstring(1) + resultset.getstring(2));\n        }\n\n        //7.å³é­èµæº\n        resultset.close();\n        preparedstatement.close();\n        connection.close();\n    }\n\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n26\n27\n28\n29\n30\n31\n32\n33\n34\n35\n36\n\n\n\n# ç¦å®¢æ·ç«¯\n\nä¾èµ\n\n    <dependencies>\n        <dependency>\n            <groupid>org.apache.phoenix</groupid>\n            <artifactid>phoenix-queryserver-client</artifactid>\n            <version>5.0.0-hbase-2.0</version>\n        </dependency>\n\n    </dependencies>\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n\n\nç¼ç \n\npackage com.atguigu.phoenix;\n\nimport org.apache.phoenix.queryserver.client.thinclientutil;\n\nimport java.sql.*;\n\npublic class phoenixclient2 {\n    public static void main(string[] args) throws sqlexception {\n        string url = thinclientutil.getconnectionurl("hadoop102", 8765); //è·åjdbc url\n        connection connection = drivermanager.getconnection(url); //è·åè¿æ¥å¯¹è±¡\n        preparedstatement preparedstatement = connection.preparestatement("select * from student");\n        resultset resultset = preparedstatement.executequery();\n\n        while (resultset.next()) {\n            system.out.println(resultset.getstring(1) + resultset.getstring(2));\n        }\n\n        resultset.close();\n        preparedstatement.close();\n        connection.close();\n\n    }\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n\n\n\n# phoenix äºçº§ç´¢å¼\n\n\n# äºçº§ç´¢å¼éç½®æä»¶\n\næ·»å å¦ä¸éç½®å°hbaseçhregionserverèç¹çhbase-site.xml\n\n\x3c!-- phoenix regionserver éç½®åæ°--\x3e\n\t<property>\n\t\t<name>hbase.regionserver.wal.codec</name>\n\t\t<value>org.apache.hadoop.hbase.regionserver.wal.indexedwaleditcodec</value>\n\t</property>\n\n\t<property>\n\t\t<name>hbase.region.server.rpc.scheduler.factory.class</name>\n\t\t<value>org.apache.hadoop.hbase.ipc.phoenixrpcschedulerfactory</value>\n\t\t<description>factory to create the phoenix rpc scheduler that uses separate queues for index and metadata updates</description>\n\t</property>\n\n\t<property>\n\t\t<name>hbase.rpc.controllerfactory.class</name>\n\t\t<value>org.apache.hadoop.hbase.ipc.controller.serverrpccontrollerfactory</value>\n\t\t<description>factory to create the phoenix rpc scheduler that uses separate queues for index and metadata updates</description>\n\t</property>\n\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n\n\næ·»å å¦ä¸éç½®å°hbaseä¸­hmasterèç¹çhbase-site.xmlä¸­\n\n\x3c!-- phoenix master éç½®åæ° --\x3e\n\t<property>\n\t\t<name>hbase.master.loadbalancer.class</name>\n\t\t<value>org.apache.phoenix.hbase.index.balancer.indexloadbalancer</value>\n\t</property>\n\n\t<property>\n\t\t<name>hbase.coprocessor.master.classes</name>\n\t\t<value>org.apache.phoenix.hbase.index.master.indexmasterobserver</value>\n\t</property>\n\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n\n\néæ°å¯å¨hbaseåphoenix\n\n\n# å¨å±äºçº§ç´¢å¼\n\nglobal indexæ¯é»è®¤çç´¢å¼æ ¼å¼ï¼åå»ºå¨å±ç´¢å¼æ¶ï¼ä¼å¨hbaseä¸­å»ºç«ä¸å¼ æ°è¡¨ãä¹å°±æ¯è¯´ç´¢å¼æ°æ®åæ°æ®è¡¨æ¯å­æ¾å¨ä¸åçè¡¨ä¸­çï¼å æ­¤å¨å±ç´¢å¼éç¨äºå¤è¯»å°åçä¸å¡åºæ¯ã\n\n\n\nåæ°æ®çæ¶åä¼æ¶èå¤§éå¼éï¼å ä¸ºç´¢å¼è¡¨ä¹è¦æ´æ°ï¼èç´¢å¼è¡¨æ¯åå¸å¨ä¸åçæ°æ®èç¹ä¸çï¼è·¨èç¹çæ°æ®ä¼ è¾å¸¦æ¥äºè¾å¤§çæ§è½æ¶èã\n\nå¨è¯»æ°æ®çæ¶åphoenixä¼éæ©ç´¢å¼è¡¨æ¥éä½æ¥è¯¢æ¶èçæ¶é´ã\n\nåå»ºåä¸ªå­æ®µçå¨å±ç´¢å¼\n\ncreate index student_index on student (name);\n\n\n1\n\n\nç´¢å¼è¡¨æ¥ç\n\nscan \'student_index\'\n\n\n1\n\n\nvalueå¨é¨ä¸ºxç©ºç èrowåævalue+rowkeyäºè¿å¶\n\n\n\näºçº§ç´¢å¼åªè½éå¯¹ æå®åéå®ç¬¦+ä¸»é®çç´¢å¼è¡¨ å¦ææ¥è¯¢ä¸­æ¥è¯¢åå¸¦ä¸å¶ä»åéå®ç¬¦ åæ æ³ä»æ­¤ç´¢å¼è¡¨è¿è¡ç´¢å¼æ¥è¯¢ ä»èè¿è¡å¨è¡¨æ«æã\n\n\n\n\n# å¤çº§ç´¢å¼\n\néå¯¹ä¸é¢äºçº§ç´¢å¼åªè½è¿è¡ä¸¤ä¸ªåéå®ç¬¦ è¿ç´¢å¼æ«æ æä»¬å¯ä»¥åå»ºç´¢å¼è¡¨æ¶æå®å¤ä¸ªåéå®ç¬¦\n\ncreate index student_name_sex_index on student (name,sex); -- åå»ºä¸ä¸ªä¸»é® name sex ç´¢å¼è¡¨\n\n\n1\n\n\nåå»ºå®æåæä»¬å°±å¯ä»¥è¿è¡å¤ä¸ªåéå®ç¬¦æ¥è¿è¡ç´¢å¼æ¥è¯¢\n\nexplain select id,name,sex from student  where name = \'6\'; -- ä»æè¿ä¸ä¸ªåéå®ç¬¦çç´¢å¼è¡¨è¿è¡ç´¢å¼æ¥è¯¢ æ²¡æåå¨è¡¨æ«æ\nexplain select id,name,sex,address from student  where name = \'6\'; -- å ä¸ºæ²¡æåå«id,name,sex,addressè¿åä¸ªåéå®ç¬¦çç´¢å¼è¡¨ ææè¿è¡å¨è¡¨æ«æ\n\n\n1\n2\n\n\næ³¨æ: åå»ºç´¢å¼è¡¨é¡ºåºè¦ä¸æ¥è¯¢æ¶ä¸è´ å¦åæ æ³è¿è¡ç´¢å¼æ¥è¯¢\n\n\n# å é¤ç´¢å¼\n\nç´æ¥å é¤æå®ç´¢å¼è¡¨\n\ndrop index student_name_sex_index on student;\n\n\n1\n\n\n\n# æºå¸¦å¶ä»å­æ®µçå¨å±ç´¢å¼\n\ncreate index student_name_index_all on student (name) include (age,sex,address);\n\n\n1\n\n\n\n\néè¿æºå¸¦å¶ä»å­æ®µ æ ¹æ®æå®å­æ®µåå»ºç´¢å¼ å¹¶æºå¸¦å¶ä»å­æ®µä¸­çå¼ æºå¸¦å­æ®µæ²¡æåå»ºç´¢å¼åªæ¯éå ä¸ºç´¢å¼å­æ®µçç»æ ä½æ¡ä»¶æ¥è¯¢å¿é¡»æ¯ç´¢å¼å­æ®µ å¦åä¹æ¯è¿è¡å¨è¡¨æ«æ\n\n\n# å¨å±ç´¢å¼çç¼ºç¹\n\n 1. å ç¨ç©ºé´ éè¦å»ºç«å¤ä¸ªè¡¨\n 2. ç»´æ¤ææ¬é« æ æ³å¨æ´æ°åæ·»å é¢ç¹çè¡¨ä¸­ä½¿ç¨ éè¦éæ°å¨è¡¨æ´æ°ç´¢å¼\n\n\n# phoenix æ¬å°ç´¢å¼\n\nlocal indexéç¨äºåæä½é¢ç¹çåºæ¯ã\n\nç´¢å¼æ°æ®åæ°æ®è¡¨çæ°æ®æ¯å­æ¾å¨åä¸å¼ è¡¨ä¸­ï¼ä¸æ¯åä¸ä¸ªregionï¼ï¼é¿åäºå¨åæä½çæ¶åå¾ä¸åæå¡å¨çç´¢å¼è¡¨ä¸­åç´¢å¼å¸¦æ¥çé¢å¤å¼éã\n\ncreate local index local_index_student on student (name);\n\n\n1\n\n\nåæ ·æä¸ªæ°çç´¢å¼è¡¨\n\n\n\nä½å¨hbase shellä¸­ æ¥çlistæ¶æ²¡ææ¥çå°æ­¤è¡¨ ç´¢å¼æ°æ®åæ°æ®è¡¨çæ°æ®æ¯å­æ¾å¨åä¸å¼ è¡¨ä¸­\n\næ¥çstudentè¡¨æ°æ®\n\n\n\nç´æ¥å¨åè¡¨ä¸­æå¥ç´¢å¼æ°æ® ç´¢å¼å¼+ä¸»é® valueä¸ºç©º\n\n\n\næ¬å°ç´¢å¼ä¸å±éæ¥è¯¢å æä»¬å¯ä»¥æ¥è¯¢ææåæ°æ® ä½æ¯æ¡ä»¶è¯­å¥å¿é¡»æ¯ç´¢å¼åéå®\n\n 1. åå½ä¸­ç´¢å¼åæ¥åºä¸»é®id\n 2. æ ¹æ®ä¸»é®idå½ä¸­åè¡¨çæ°æ®\n 3. å¨å±æ¯æ¬å°ç´¢å¼å¿« å¨å±æ¯ä¸æ¬¡å½ä¸­ èæ¬å°éè¦å½ä¸­ä¹åæ ¹æ®ä¸»é®æ¥è¯¢\n 4. å¨å±ç©ºé´çºç²æ´å¤§ èæ¬å°ç´æ¥å¨è¡¨ä¸­å¢å \n 5. å¨å±ç´¢å¼æ´æ°è¦æ´æ°å¨é¨ç´¢å¼è¡¨ èæ¬å°ç´¢å¼åªéè¦æ´æ°ä¸å¼ è¡¨(åæ°æ®è¡¨ä¸­çç´¢å¼è¡)\n\n\n# åå¤çå¨\n\nç¼ååå¤çå¨ï¼å®ç°å¨å¾aè¡¨æå¥æ°æ®çåæ¶è®©hbaseèªèº«ï¼åå¤çå¨ï¼åbè¡¨ä¸­æå¥ä¸æ¡æ°æ®ã\n\nç¸å½äºå¢å¼ºæä½ èæä»¬çå¨å±ç´¢å¼å°±æ¯åºäºåå¤çå¨è¿è¡ç´¢å¼æ¥è¯¢\n\nåå»ºé¡¹ç® å¯¼å¥ä¾èµ\n\n<dependencies>\n    <dependency>\n        <groupid>org.apache.hbase</groupid>\n        <artifactid>hbase-client</artifactid>\n        <version>1.3.1</version>\n</dependency>\n\n    <dependency>\n        <groupid>org.apache.hbase</groupid>\n        <artifactid>hbase-server</artifactid>\n        <version>1.3.1</version>\n    </dependency>\n</dependencies>\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n\n\nå®ä¹fruittablecoprocessorç±»å¹¶ç»§æ¿baseregionobserverç±»\n\npackage com.atguigu;\n\nimport org.apache.hadoop.hbase.hbaseconfiguration;\nimport org.apache.hadoop.hbase.tablename;\nimport org.apache.hadoop.hbase.client.*;\nimport org.apache.hadoop.hbase.coprocessor.baseregionobserver;\nimport org.apache.hadoop.hbase.coprocessor.observercontext;\nimport org.apache.hadoop.hbase.coprocessor.regioncoprocessorenvironment;\nimport org.apache.hadoop.hbase.regionserver.wal.waledit;\n\nimport java.io.ioexception;\n\npublic class fruittablecoprocessor extends baseregionobserver {\n\n    @override\n    public void postput(observercontext<regioncoprocessorenvironment> e, put put, waledit edit, durability durability) throws ioexception {\n\n        //è·åè¿æ¥\n        connection connection = connectionfactory.createconnection(hbaseconfiguration.create());\n\n        //è·åè¡¨å¯¹è±¡\n        table table = connection.gettable(tablename.valueof("fruit"));\n\n        //æå¥æ°æ®\n        table.put(put);\n\n        //å³é­èµæº\n        table.close();\n        connection.close();\n    }\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n26\n27\n28\n29\n30\n31\n',charsets:{cjk:!0},lastUpdated:"2022/03/18, 07:01:11",lastUpdatedTimestamp:1647558071e3},{title:"HBaseä¼å",frontmatter:{title:"HBaseä¼å",date:"2022-03-17T22:09:08.000Z",permalink:"/pages/ce507c/",categories:["å¤§æ°æ®","Hbase"],tags:[null]},regularPath:"/%E5%A4%A7%E6%95%B0%E6%8D%AE/07.Hbase/08.HBase%E4%BC%98%E5%8C%96.html",relativePath:"å¤§æ°æ®/07.Hbase/08.HBaseä¼å.md",key:"v-5a8af3d8",path:"/pages/ce507c/",headers:[{level:2,title:"é¢ååº",slug:"é¢ååº",normalizedTitle:"é¢ååº",charIndex:14},{level:3,title:"æå¨è®¾å®é¢ååº",slug:"æå¨è®¾å®é¢ååº",normalizedTitle:"æå¨è®¾å®é¢ååº",charIndex:141},{level:3,title:"çæ16è¿å¶åºåé¢ååº",slug:"çæ16è¿å¶åºåé¢ååº",normalizedTitle:"çæ16è¿å¶åºåé¢ååº",charIndex:268},{level:3,title:"ææä»¶è®¾ç½®çè§åååº",slug:"ææä»¶è®¾ç½®çè§åååº",normalizedTitle:"ææä»¶è®¾ç½®çè§åååº",charIndex:387},{level:3,title:"ä½¿ç¨JavaAPIåå»ºé¢ååº",slug:"ä½¿ç¨javaapiåå»ºé¢ååº",normalizedTitle:"ä½¿ç¨javaapiåå»ºé¢ååº",charIndex:534},{level:2,title:"RowKeyè®¾è®¡",slug:"rowkeyè®¾è®¡",normalizedTitle:"rowkeyè®¾è®¡",charIndex:885},{level:3,title:"çæéæºæ°ãhashãæ£åå¼",slug:"çæéæºæ°ãhashãæ£åå¼",normalizedTitle:"çæéæºæ°ãhashãæ£åå¼",charIndex:1005},{level:3,title:"å­ç¬¦ä¸²åè½¬",slug:"å­ç¬¦ä¸²åè½¬",normalizedTitle:"å­ç¬¦ä¸²åè½¬",charIndex:1277},{level:3,title:"å­ç¬¦ä¸²æ¼æ¥",slug:"å­ç¬¦ä¸²æ¼æ¥",normalizedTitle:"å­ç¬¦ä¸²æ¼æ¥",charIndex:1350},{level:2,title:"åå­ä¼å",slug:"åå­ä¼å",normalizedTitle:"åå­ä¼å",charIndex:1401},{level:2,title:"åºç¡ä¼å",slug:"åºç¡ä¼å",normalizedTitle:"åºç¡ä¼å",charIndex:1577},{level:3,title:"åè®¸å¨HDFSçæä»¶ä¸­è¿½å åå®¹",slug:"åè®¸å¨hdfsçæä»¶ä¸­è¿½å åå®¹",normalizedTitle:"åè®¸å¨hdfsçæä»¶ä¸­è¿½å åå®¹",charIndex:1586},{level:3,title:"ä¼åDataNodeåè®¸çæå¤§æä»¶æå¼æ°",slug:"ä¼ådatanodeåè®¸çæå¤§æä»¶æå¼æ°",normalizedTitle:"ä¼ådatanodeåè®¸çæå¤§æä»¶æå¼æ°",charIndex:1710},{level:3,title:"ä¼åå»¶è¿é«çæ°æ®æä½çç­å¾æ¶é´",slug:"ä¼åå»¶è¿é«çæ°æ®æä½çç­å¾æ¶é´",normalizedTitle:"ä¼åå»¶è¿é«çæ°æ®æä½çç­å¾æ¶é´",charIndex:1851},{level:3,title:"ä¼åæ°æ®çåå¥æç",slug:"ä¼åæ°æ®çåå¥æç",normalizedTitle:"ä¼åæ°æ®çåå¥æç",charIndex:2003},{level:3,title:"è®¾ç½®RPCçå¬æ°é",slug:"è®¾ç½®rpcçå¬æ°é",normalizedTitle:"è®¾ç½®rpcçå¬æ°é",charIndex:2213},{level:3,title:"ä¼åHStoreæä»¶å¤§å°",slug:"ä¼åhstoreæä»¶å¤§å°",normalizedTitle:"ä¼åhstoreæä»¶å¤§å°",charIndex:2334},{level:3,title:"ä¼åHBaseå®¢æ·ç«¯ç¼å­",slug:"ä¼åhbaseå®¢æ·ç«¯ç¼å­",normalizedTitle:"ä¼åhbaseå®¢æ·ç«¯ç¼å­",charIndex:2543},{level:3,title:"æå®scan.nextæ«æHBaseæè·åçè¡æ°",slug:"æå®scan-nextæ«æhbaseæè·åçè¡æ°",normalizedTitle:"æå®scan.nextæ«æhbaseæè·åçè¡æ°",charIndex:2688},{level:3,title:"flushãcompactãsplitæºå¶",slug:"flushãcompactãsplitæºå¶",normalizedTitle:"flushãcompactãsplitæºå¶",charIndex:2805}],headersStr:"é¢ååº æå¨è®¾å®é¢ååº çæ16è¿å¶åºåé¢ååº ææä»¶è®¾ç½®çè§åååº ä½¿ç¨JavaAPIåå»ºé¢ååº RowKeyè®¾è®¡ çæéæºæ°ãhashãæ£åå¼ å­ç¬¦ä¸²åè½¬ å­ç¬¦ä¸²æ¼æ¥ åå­ä¼å åºç¡ä¼å åè®¸å¨HDFSçæä»¶ä¸­è¿½å åå®¹ ä¼åDataNodeåè®¸çæå¤§æä»¶æå¼æ° ä¼åå»¶è¿é«çæ°æ®æä½çç­å¾æ¶é´ ä¼åæ°æ®çåå¥æç è®¾ç½®RPCçå¬æ°é ä¼åHStoreæä»¶å¤§å° ä¼åHBaseå®¢æ·ç«¯ç¼å­ æå®scan.nextæ«æHBaseæè·åçè¡æ° flushãcompactãsplitæºå¶",content:"# HBaseä¼å\n\n\n# é¢ååº\n\næ¯ä¸ä¸ªregionç»´æ¤çStartRowä¸EndRowï¼å¦æå å¥çæ°æ®ç¬¦åæä¸ªRegionç»´æ¤çRowKeyèå´ï¼åè¯¥æ°æ®äº¤ç»è¿ä¸ªRegionç»´æ¤ãé£ä¹ä¾ç§è¿ä¸ªååï¼æä»¬å¯ä»¥å°æ°æ®æè¦ææ¾çååºæåå¤§è´çè§åå¥½ï¼ä»¥æé«HBaseæ§è½ã\n\n\n# æå¨è®¾å®é¢ååº\n\ncreate 'staff1','info',SPLITS => ['1000','2000','3000','4000']\n\n\n1\n\n\n\n\nåä¸º5ä¸ªåº 0-1000 1000-2000 2000-3000 3000-4000\n\n\n# çæ16è¿å¶åºåé¢ååº\n\ncreate 'staff2','info','partition2',{NUMREGIONS => 15, SPLITALGO => 'HexStringSplit'}\n\n\n1\n\n\nä¼åä¸º15ä¸ªåº\n\n\n\n\n# ææä»¶è®¾ç½®çè§åååº\n\nåå»ºsplits.txtæä»¶åå®¹å¦ä¸ï¼\n\naaaa\nbbbb\ncccc\ndddd\n\n\n1\n2\n3\n4\n\n\ncreate 'staff3','partition3',SPLITS_FILE => '/home/atguigu/splits.txt'\n\n\n1\n\n\n\n\n\n# ä½¿ç¨JavaAPIåå»ºé¢ååº\n\n//èªå®ä¹ç®æ³ï¼äº§çä¸ç³»åhashæ£åå¼å­å¨å¨äºç»´æ°ç»ä¸­\nbyte[][] splitKeys = æä¸ªæ£åå¼å½æ°\n//åå»ºHbaseAdminå®ä¾\nHBaseAdmin hAdmin = new HBaseAdmin(HbaseConfiguration.create());\n//åå»ºHTableDescriptorå®ä¾\nHTableDescriptor tableDesc = new HTableDescriptor(tableName);\n//éè¿HTableDescriptorå®ä¾åæ£åå¼äºç»´æ°ç»åå»ºå¸¦æé¢ååºçHbaseè¡¨\nhAdmin.createTable(tableDesc, splitKeys);\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n\n\n\n# RowKeyè®¾è®¡\n\nä¸æ¡æ°æ®çå¯ä¸æ è¯å°±æ¯RowKeyï¼é£ä¹è¿æ¡æ°æ®å­å¨äºåªä¸ªååºï¼åå³äºRowKeyå¤äºåªä¸ªä¸ä¸ªé¢ååºçåºé´åï¼è®¾è®¡RowKeyçä¸»è¦ç®ç ï¼å°±æ¯è®©æ°æ®ååçåå¸äºææçregionä¸­ï¼å¨ä¸å®ç¨åº¦ä¸é²æ­¢æ°æ®å¾æã\n\n\n# çæéæºæ°ãhashãæ£åå¼\n\næ¯å¦ï¼ åæ¬rowKeyä¸º1001çï¼SHA1ååæï¼dd01903921ea24941c26a48f2cec24e0bb0e8cc7 åæ¬rowKeyä¸º3001çï¼SHA1ååæï¼49042c54de64a1e9bf0b33e00245660ef92dc7bd åæ¬rowKeyä¸º5001çï¼SHA1ååæï¼7b61dec07e02c188790670af43e717f0f46e8913 å¨åæ­¤æä½ä¹åï¼ä¸è¬æä»¬ä¼éæ©ä»æ°æ®éä¸­æ½åæ ·æ¬ï¼æ¥å³å®ä»ä¹æ ·çrowKeyæ¥Hashåä½ä¸ºæ¯ä¸ªååºçä¸´çå¼ã\n\n\n# å­ç¬¦ä¸²åè½¬\n\n20170524000001è½¬æ10000042507102 20170524000002è½¬æ20000042507102\n\n\n# å­ç¬¦ä¸²æ¼æ¥\n\n20170524000001_a12e 20170524000001_93i7\n\n\n# åå­ä¼å\n\nHBaseæä½è¿ç¨ä¸­éè¦å¤§éçåå­å¼éï¼æ¯ç«Tableæ¯å¯ä»¥ç¼å­å¨åå­ä¸­çï¼ä¸è¬ä¼åéæ´ä¸ªå¯ç¨åå­ç70%ç»HBaseçJavaå ãä½æ¯ä¸å»ºè®®åééå¸¸å¤§çå åå­ï¼å ä¸ºGCè¿ç¨æç»­å¤ªä¹ä¼å¯¼è´RegionServerå¤äºé¿æä¸å¯ç¨ç¶æï¼ä¸è¬16~48Gåå­å°±å¯ä»¥äºï¼å¦æå ä¸ºæ¡æ¶å ç¨åå­è¿é«å¯¼è´ç³»ç»åå­ä¸è¶³ï¼æ¡æ¶ä¸æ ·ä¼è¢«ç³»ç»æå¡ææ­»ã\n\n\n# åºç¡ä¼å\n\n\n# åè®¸å¨HDFSçæä»¶ä¸­è¿½å åå®¹\n\nå¨hdfs-site.xmlãhbase-site.xmlä¸­æ·»å \n\nå±æ§ï¼dfs.support.append\n\nè§£éï¼å¼å¯HDFSè¿½å åæ­¥ï¼å¯ä»¥ä¼ç§çéåHBaseçæ°æ®åæ­¥åæä¹åãé»è®¤å¼ä¸ºtrueã\n\n\n# ä¼åDataNodeåè®¸çæå¤§æä»¶æå¼æ°\n\nhdfs-site.xml\n\nå±æ§ï¼dfs.datanode.max.transfer.threads\n\nè§£éï¼HBaseä¸è¬é½ä¼åä¸æ¶é´æä½å¤§éçæä»¶ï¼æ ¹æ®éç¾¤çæ°éåè§æ¨¡ä»¥åæ°æ®å¨ä½ï¼è®¾ç½®ä¸º4096æèæ´é«ãé»è®¤å¼ï¼4096\n\n\n# ä¼åå»¶è¿é«çæ°æ®æä½çç­å¾æ¶é´\n\nhdfs-site.xml\n\nå±æ§ï¼dfs.image.transfer.timeout\n\nè§£éï¼å¦æå¯¹äºæä¸æ¬¡æ°æ®æä½æ¥è®²ï¼å»¶è¿éå¸¸é«ï¼socketéè¦ç­å¾æ´é¿çæ¶é´ï¼å»ºè®®æè¯¥å¼è®¾ç½®ä¸ºæ´å¤§çå¼ï¼é»è®¤60000æ¯«ç§ï¼ï¼ä»¥ç¡®ä¿socketä¸ä¼è¢«timeoutæã\n\n\n# ä¼åæ°æ®çåå¥æç\n\nmapred-site.xml\n\nå±æ§ï¼ mapreduce.map.output.compress mapreduce.map.output.compress.codec\n\nè§£éï¼å¼å¯è¿ä¸¤ä¸ªæ°æ®å¯ä»¥å¤§å¤§æé«æä»¶çåå¥æçï¼åå°åå¥æ¶é´ã\n\nç¬¬ä¸ä¸ªå±æ§å¼ä¿®æ¹ä¸ºtrue\n\nç¬¬äºä¸ªå±æ§å¼ä¿®æ¹ä¸ºï¼org.apache.hadoop.io.compress.GzipCodecæèå¶ä»åç¼©æ¹å¼ã\n\n\n# è®¾ç½®RPCçå¬æ°é\n\nhbase-site.xml\n\nå±æ§ï¼Hbase.regionserver.handler.count\n\nè§£éï¼é»è®¤å¼ä¸º30ï¼ç¨äºæå®RPCçå¬çæ°éï¼å¯ä»¥æ ¹æ®å®¢æ·ç«¯çè¯·æ±æ°è¿è¡è°æ´ï¼è¯»åè¯·æ±è¾å¤æ¶ï¼å¢å æ­¤å¼ã\n\n\n# ä¼åHStoreæä»¶å¤§å°\n\nhbase-site.xml\n\nå±æ§ï¼hbase.hregion.max.filesize\n\nè§£éï¼é»è®¤å¼10737418240ï¼10GBï¼ï¼å¦æéè¦è¿è¡HBaseçMRä»»å¡ï¼å¯ä»¥åå°æ­¤å¼ï¼å ä¸ºä¸ä¸ªregionå¯¹åºä¸ä¸ªmapä»»å¡ï¼å¦æåä¸ªregionè¿å¤§ï¼ä¼å¯¼è´mapä»»å¡æ§è¡æ¶é´è¿é¿ãè¯¥å¼çææå°±æ¯ï¼å¦æHFileçå¤§å°è¾¾å°è¿ä¸ªæ°å¼ï¼åè¿ä¸ªregionä¼è¢«ååä¸ºä¸¤ä¸ªHfileã\n\n\n# ä¼åHBaseå®¢æ·ç«¯ç¼å­\n\nhbase-site.xml\n\nå±æ§ï¼hbase.client.write.buffer\n\nè§£éï¼ç¨äºæå®Hbaseå®¢æ·ç«¯ç¼å­ï¼å¢å¤§è¯¥å¼å¯ä»¥åå°RPCè°ç¨æ¬¡æ°ï¼ä½æ¯ä¼æ¶èæ´å¤åå­ï¼åä¹ååä¹ãä¸è¬æä»¬éè¦è®¾å®ä¸å®çç¼å­å¤§å°ï¼ä»¥è¾¾å°åå°RPCæ¬¡æ°çç®çã\n\n\n# æå®scan.nextæ«æHBaseæè·åçè¡æ°\n\nhbase-site.xml\n\nå±æ§ï¼hbase.client.scanner.caching\n\nè§£éï¼ç¨äºæå®scan.nextæ¹æ³è·åçé»è®¤è¡æ°ï¼å¼è¶å¤§ï¼æ¶èåå­è¶å¤§ã\n\n\n# flushãcompactãsplitæºå¶\n\nå½MemStoreè¾¾å°éå¼ï¼å°Memstoreä¸­çæ°æ®Flushè¿Storefileï¼\n\ncompactæºå¶åæ¯æflushåºæ¥çå°æä»¶åå¹¶æå¤§çStorefileæä»¶ã\n\nsplitåæ¯å½Regionè¾¾å°éå¼ï¼ä¼æè¿å¤§çRegionä¸åä¸ºäºã\n\næ¶åå±æ§ï¼\n\nå³ï¼128Må°±æ¯Memstoreçé»è®¤éå¼\n\nhbase.hregion.memstore.flush.sizeï¼134217728\n\nå³ï¼è¿ä¸ªåæ°çä½ç¨æ¯å½åä¸ªHRegionåææçMemstoreå¤§å°æ»åè¶è¿æå®å¼æ¶ï¼flushè¯¥HRegionçææmemstoreãRegionServerçflushæ¯éè¿å°è¯·æ±æ·»å ä¸ä¸ªéåï¼æ¨¡æçäº§æ¶è´¹æ¨¡åæ¥å¼æ­¥å¤ççãé£è¿éå°±æä¸ä¸ªé®é¢ï¼å½éåæ¥ä¸åæ¶è´¹ï¼äº§çå¤§éç§¯åè¯·æ±æ¶ï¼å¯è½ä¼å¯¼è´åå­é¡å¢ï¼æåçæåµæ¯è§¦åOOMã\n\n**hbase.regionserver.global.memstore.upperLimitï¼0.4 **\n\nhbase.regionserver.global.memstore.lowerLimitï¼0.38\n\nå³ï¼å½MemStoreä½¿ç¨åå­æ»éè¾¾å°hbase.regionserver.global.memstore.upperLimitæå®å¼æ¶ï¼å°ä¼æå¤ä¸ªMemStores flushå°æä»¶ä¸­ï¼MemStore flush é¡ºåºæ¯æç§å¤§å°éåºæ§è¡çï¼ç´å°å·æ°å°MemStoreä½¿ç¨åå­ç¥å°äºlowerLimit",normalizedContent:"# hbaseä¼å\n\n\n# é¢ååº\n\næ¯ä¸ä¸ªregionç»´æ¤çstartrowä¸endrowï¼å¦æå å¥çæ°æ®ç¬¦åæä¸ªregionç»´æ¤çrowkeyèå´ï¼åè¯¥æ°æ®äº¤ç»è¿ä¸ªregionç»´æ¤ãé£ä¹ä¾ç§è¿ä¸ªååï¼æä»¬å¯ä»¥å°æ°æ®æè¦ææ¾çååºæåå¤§è´çè§åå¥½ï¼ä»¥æé«hbaseæ§è½ã\n\n\n# æå¨è®¾å®é¢ååº\n\ncreate 'staff1','info',splits => ['1000','2000','3000','4000']\n\n\n1\n\n\n\n\nåä¸º5ä¸ªåº 0-1000 1000-2000 2000-3000 3000-4000\n\n\n# çæ16è¿å¶åºåé¢ååº\n\ncreate 'staff2','info','partition2',{numregions => 15, splitalgo => 'hexstringsplit'}\n\n\n1\n\n\nä¼åä¸º15ä¸ªåº\n\n\n\n\n# ææä»¶è®¾ç½®çè§åååº\n\nåå»ºsplits.txtæä»¶åå®¹å¦ä¸ï¼\n\naaaa\nbbbb\ncccc\ndddd\n\n\n1\n2\n3\n4\n\n\ncreate 'staff3','partition3',splits_file => '/home/atguigu/splits.txt'\n\n\n1\n\n\n\n\n\n# ä½¿ç¨javaapiåå»ºé¢ååº\n\n//èªå®ä¹ç®æ³ï¼äº§çä¸ç³»åhashæ£åå¼å­å¨å¨äºç»´æ°ç»ä¸­\nbyte[][] splitkeys = æä¸ªæ£åå¼å½æ°\n//åå»ºhbaseadminå®ä¾\nhbaseadmin hadmin = new hbaseadmin(hbaseconfiguration.create());\n//åå»ºhtabledescriptorå®ä¾\nhtabledescriptor tabledesc = new htabledescriptor(tablename);\n//éè¿htabledescriptorå®ä¾åæ£åå¼äºç»´æ°ç»åå»ºå¸¦æé¢ååºçhbaseè¡¨\nhadmin.createtable(tabledesc, splitkeys);\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n\n\n\n# rowkeyè®¾è®¡\n\nä¸æ¡æ°æ®çå¯ä¸æ è¯å°±æ¯rowkeyï¼é£ä¹è¿æ¡æ°æ®å­å¨äºåªä¸ªååºï¼åå³äºrowkeyå¤äºåªä¸ªä¸ä¸ªé¢ååºçåºé´åï¼è®¾è®¡rowkeyçä¸»è¦ç®ç ï¼å°±æ¯è®©æ°æ®ååçåå¸äºææçregionä¸­ï¼å¨ä¸å®ç¨åº¦ä¸é²æ­¢æ°æ®å¾æã\n\n\n# çæéæºæ°ãhashãæ£åå¼\n\næ¯å¦ï¼ åæ¬rowkeyä¸º1001çï¼sha1ååæï¼dd01903921ea24941c26a48f2cec24e0bb0e8cc7 åæ¬rowkeyä¸º3001çï¼sha1ååæï¼49042c54de64a1e9bf0b33e00245660ef92dc7bd åæ¬rowkeyä¸º5001çï¼sha1ååæï¼7b61dec07e02c188790670af43e717f0f46e8913 å¨åæ­¤æä½ä¹åï¼ä¸è¬æä»¬ä¼éæ©ä»æ°æ®éä¸­æ½åæ ·æ¬ï¼æ¥å³å®ä»ä¹æ ·çrowkeyæ¥hashåä½ä¸ºæ¯ä¸ªååºçä¸´çå¼ã\n\n\n# å­ç¬¦ä¸²åè½¬\n\n20170524000001è½¬æ10000042507102 20170524000002è½¬æ20000042507102\n\n\n# å­ç¬¦ä¸²æ¼æ¥\n\n20170524000001_a12e 20170524000001_93i7\n\n\n# åå­ä¼å\n\nhbaseæä½è¿ç¨ä¸­éè¦å¤§éçåå­å¼éï¼æ¯ç«tableæ¯å¯ä»¥ç¼å­å¨åå­ä¸­çï¼ä¸è¬ä¼åéæ´ä¸ªå¯ç¨åå­ç70%ç»hbaseçjavaå ãä½æ¯ä¸å»ºè®®åééå¸¸å¤§çå åå­ï¼å ä¸ºgcè¿ç¨æç»­å¤ªä¹ä¼å¯¼è´regionserverå¤äºé¿æä¸å¯ç¨ç¶æï¼ä¸è¬16~48gåå­å°±å¯ä»¥äºï¼å¦æå ä¸ºæ¡æ¶å ç¨åå­è¿é«å¯¼è´ç³»ç»åå­ä¸è¶³ï¼æ¡æ¶ä¸æ ·ä¼è¢«ç³»ç»æå¡ææ­»ã\n\n\n# åºç¡ä¼å\n\n\n# åè®¸å¨hdfsçæä»¶ä¸­è¿½å åå®¹\n\nå¨hdfs-site.xmlãhbase-site.xmlä¸­æ·»å \n\nå±æ§ï¼dfs.support.append\n\nè§£éï¼å¼å¯hdfsè¿½å åæ­¥ï¼å¯ä»¥ä¼ç§çéåhbaseçæ°æ®åæ­¥åæä¹åãé»è®¤å¼ä¸ºtrueã\n\n\n# ä¼ådatanodeåè®¸çæå¤§æä»¶æå¼æ°\n\nhdfs-site.xml\n\nå±æ§ï¼dfs.datanode.max.transfer.threads\n\nè§£éï¼hbaseä¸è¬é½ä¼åä¸æ¶é´æä½å¤§éçæä»¶ï¼æ ¹æ®éç¾¤çæ°éåè§æ¨¡ä»¥åæ°æ®å¨ä½ï¼è®¾ç½®ä¸º4096æèæ´é«ãé»è®¤å¼ï¼4096\n\n\n# ä¼åå»¶è¿é«çæ°æ®æä½çç­å¾æ¶é´\n\nhdfs-site.xml\n\nå±æ§ï¼dfs.image.transfer.timeout\n\nè§£éï¼å¦æå¯¹äºæä¸æ¬¡æ°æ®æä½æ¥è®²ï¼å»¶è¿éå¸¸é«ï¼socketéè¦ç­å¾æ´é¿çæ¶é´ï¼å»ºè®®æè¯¥å¼è®¾ç½®ä¸ºæ´å¤§çå¼ï¼é»è®¤60000æ¯«ç§ï¼ï¼ä»¥ç¡®ä¿socketä¸ä¼è¢«timeoutæã\n\n\n# ä¼åæ°æ®çåå¥æç\n\nmapred-site.xml\n\nå±æ§ï¼ mapreduce.map.output.compress mapreduce.map.output.compress.codec\n\nè§£éï¼å¼å¯è¿ä¸¤ä¸ªæ°æ®å¯ä»¥å¤§å¤§æé«æä»¶çåå¥æçï¼åå°åå¥æ¶é´ã\n\nç¬¬ä¸ä¸ªå±æ§å¼ä¿®æ¹ä¸ºtrue\n\nç¬¬äºä¸ªå±æ§å¼ä¿®æ¹ä¸ºï¼org.apache.hadoop.io.compress.gzipcodecæèå¶ä»åç¼©æ¹å¼ã\n\n\n# è®¾ç½®rpcçå¬æ°é\n\nhbase-site.xml\n\nå±æ§ï¼hbase.regionserver.handler.count\n\nè§£éï¼é»è®¤å¼ä¸º30ï¼ç¨äºæå®rpcçå¬çæ°éï¼å¯ä»¥æ ¹æ®å®¢æ·ç«¯çè¯·æ±æ°è¿è¡è°æ´ï¼è¯»åè¯·æ±è¾å¤æ¶ï¼å¢å æ­¤å¼ã\n\n\n# ä¼åhstoreæä»¶å¤§å°\n\nhbase-site.xml\n\nå±æ§ï¼hbase.hregion.max.filesize\n\nè§£éï¼é»è®¤å¼10737418240ï¼10gbï¼ï¼å¦æéè¦è¿è¡hbaseçmrä»»å¡ï¼å¯ä»¥åå°æ­¤å¼ï¼å ä¸ºä¸ä¸ªregionå¯¹åºä¸ä¸ªmapä»»å¡ï¼å¦æåä¸ªregionè¿å¤§ï¼ä¼å¯¼è´mapä»»å¡æ§è¡æ¶é´è¿é¿ãè¯¥å¼çææå°±æ¯ï¼å¦æhfileçå¤§å°è¾¾å°è¿ä¸ªæ°å¼ï¼åè¿ä¸ªregionä¼è¢«ååä¸ºä¸¤ä¸ªhfileã\n\n\n# ä¼åhbaseå®¢æ·ç«¯ç¼å­\n\nhbase-site.xml\n\nå±æ§ï¼hbase.client.write.buffer\n\nè§£éï¼ç¨äºæå®hbaseå®¢æ·ç«¯ç¼å­ï¼å¢å¤§è¯¥å¼å¯ä»¥åå°rpcè°ç¨æ¬¡æ°ï¼ä½æ¯ä¼æ¶èæ´å¤åå­ï¼åä¹ååä¹ãä¸è¬æä»¬éè¦è®¾å®ä¸å®çç¼å­å¤§å°ï¼ä»¥è¾¾å°åå°rpcæ¬¡æ°çç®çã\n\n\n# æå®scan.nextæ«æhbaseæè·åçè¡æ°\n\nhbase-site.xml\n\nå±æ§ï¼hbase.client.scanner.caching\n\nè§£éï¼ç¨äºæå®scan.nextæ¹æ³è·åçé»è®¤è¡æ°ï¼å¼è¶å¤§ï¼æ¶èåå­è¶å¤§ã\n\n\n# flushãcompactãsplitæºå¶\n\nå½memstoreè¾¾å°éå¼ï¼å°memstoreä¸­çæ°æ®flushè¿storefileï¼\n\ncompactæºå¶åæ¯æflushåºæ¥çå°æä»¶åå¹¶æå¤§çstorefileæä»¶ã\n\nsplitåæ¯å½regionè¾¾å°éå¼ï¼ä¼æè¿å¤§çregionä¸åä¸ºäºã\n\næ¶åå±æ§ï¼\n\nå³ï¼128må°±æ¯memstoreçé»è®¤éå¼\n\nhbase.hregion.memstore.flush.sizeï¼134217728\n\nå³ï¼è¿ä¸ªåæ°çä½ç¨æ¯å½åä¸ªhregionåææçmemstoreå¤§å°æ»åè¶è¿æå®å¼æ¶ï¼flushè¯¥hregionçææmemstoreãregionserverçflushæ¯éè¿å°è¯·æ±æ·»å ä¸ä¸ªéåï¼æ¨¡æçäº§æ¶è´¹æ¨¡åæ¥å¼æ­¥å¤ççãé£è¿éå°±æä¸ä¸ªé®é¢ï¼å½éåæ¥ä¸åæ¶è´¹ï¼äº§çå¤§éç§¯åè¯·æ±æ¶ï¼å¯è½ä¼å¯¼è´åå­é¡å¢ï¼æåçæåµæ¯è§¦åoomã\n\n**hbase.regionserver.global.memstore.upperlimitï¼0.4 **\n\nhbase.regionserver.global.memstore.lowerlimitï¼0.38\n\nå³ï¼å½memstoreä½¿ç¨åå­æ»éè¾¾å°hbase.regionserver.global.memstore.upperlimitæå®å¼æ¶ï¼å°ä¼æå¤ä¸ªmemstores flushå°æä»¶ä¸­ï¼memstore flush é¡ºåºæ¯æç§å¤§å°éåºæ§è¡çï¼ç´å°å·æ°å°memstoreä½¿ç¨åå­ç¥å°äºlowerlimit",charsets:{cjk:!0},lastUpdated:"2022/03/18, 07:01:11",lastUpdatedTimestamp:1647558071e3},{title:"Hbaseä¸Hiveçéæ",frontmatter:{title:"Hbaseä¸Hiveçéæ",date:"2022-03-17T22:09:08.000Z",permalink:"/pages/e654ab/",categories:["å¤§æ°æ®","Hbase"],tags:[null]},regularPath:"/%E5%A4%A7%E6%95%B0%E6%8D%AE/07.Hbase/07.Hbase%E4%B8%8EHive%E7%9A%84%E9%9B%86%E6%88%90.html",relativePath:"å¤§æ°æ®/07.Hbase/07.Hbaseä¸Hiveçéæ.md",key:"v-2117d120",path:"/pages/e654ab/",headers:[{level:2,title:"HBaseä¸Hiveçå¯¹æ¯",slug:"hbaseä¸hiveçå¯¹æ¯",normalizedTitle:"hbaseä¸hiveçå¯¹æ¯",charIndex:20},{level:2,title:"HBaseä¸Hiveéæä½¿ç¨",slug:"hbaseä¸hiveéæä½¿ç¨",normalizedTitle:"hbaseä¸hiveéæä½¿ç¨",charIndex:449},{level:3,title:"ä»Hiveæ å°å°HBaseä¸",slug:"ä»hiveæ å°å°hbaseä¸",normalizedTitle:"ä»hiveæ å°å°hbaseä¸",charIndex:582},{level:3,title:"ä»HBaseæ å°å°Hive",slug:"ä»hbaseæ å°å°hive",normalizedTitle:"ä»hbaseæ å°å°hive",charIndex:1737}],headersStr:"HBaseä¸Hiveçå¯¹æ¯ HBaseä¸Hiveéæä½¿ç¨ ä»Hiveæ å°å°HBaseä¸ ä»HBaseæ å°å°Hive",content:'# Hbaseä¸Hiveçéæ\n\n\n# HBaseä¸Hiveçå¯¹æ¯\n\n1.Hive (1) æ°æ®åæå·¥å· Hiveçæ¬è´¨å¶å®å°±ç¸å½äºå°HDFSä¸­å·²ç»å­å¨çæä»¶å¨Mysqlä¸­åäºä¸ä¸ªåå°å³ç³»ï¼ä»¥æ¹ä¾¿ä½¿ç¨HQLå»ç®¡çæ¥è¯¢ã (2) ç¨äºæ°æ®åæãæ¸æ´ Hiveéç¨äºç¦»çº¿çæ°æ®åæåæ¸æ´ï¼å»¶è¿è¾é«ã (3) åºäºHDFSãMapReduce Hiveå­å¨çæ°æ®ä¾æ§å¨DataNodeä¸ï¼ç¼åçHQLè¯­å¥ç»å°æ¯è½¬æ¢ä¸ºMapReduceä»£ç æ§è¡ã 2ï¼HBase (1) æ°æ®åº æ¯ä¸ç§é¢ååæå­å¨çéå³ç³»åæ°æ®åºã (2) ç¨äºå­å¨ç»æååéç»æåçæ°æ® éç¨äºåè¡¨éå³ç³»åæ°æ®çå­å¨ï¼ä¸éååå³èæ¥è¯¢ï¼ç±»ä¼¼JOINç­æä½ã (3) åºäºHDFS æ°æ®æä¹åå­å¨çä½ç°å½¢å¼æ¯HFileï¼å­æ¾äºDataNodeä¸­ï¼è¢«ResionServerä»¥regionçå½¢å¼è¿è¡ç®¡çã (4) å»¶è¿è¾ä½ï¼æ¥å¥å¨çº¿ä¸å¡ä½¿ç¨ é¢å¯¹å¤§éçä¼ä¸æ°æ®ï¼HBaseå¯ä»¥ç´çº¿åè¡¨å¤§éæ°æ®çå­å¨ï¼åæ¶æä¾äºé«æçæ°æ®è®¿é®éåº¦ã\n\n\n# HBaseä¸Hiveéæä½¿ç¨\n\nå¯å¨yarn å hiveæå¡\n\nstart-yarn.sh\nhiveservices.sh start\nbeeline -u jdbc:hive2://hadoop102:10000 -n atguigu\n\n\n1\n2\n3\n\n\n\n# ä»Hiveæ å°å°HBaseä¸\n\nå»ºç«Hiveè¡¨ï¼å³èHBaseè¡¨ï¼æå¥æ°æ®å°Hiveè¡¨çåæ¶è½å¤å½±åHBaseè¡¨\n\nå¨Hiveä¸­åå»ºè¡¨åæ¶å³èHBase\n\nCREATE TABLE emp_hbase(\nempno int,\nename string,\njob string,\nmgr int,\nhiredate string,\nsal double,\ncomm double,\ndeptno int)\nSTORED BY \'org.apache.hadoop.hive.hbase.HBaseStorageHandler\'\nWITH SERDEPROPERTIES ("hbase.columns.mapping" = ":key,info:ename,info:job,info:mgr,info:hiredate,info:sal,info:comm,info:deptno")\nTBLPROPERTIES ("hbase.table.name" = "hbase_emp_table");\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n\n\nä»hbaseä¸­æ¥çææè¡¨ èªå¨åå»ºäºæ å°è¡¨\n\n\n\nhiveä¸­åå»ºempè¡¨å¹¶å¯¼å¥ææ¬æ°æ®\n\nCREATE TABLE emp(\nempno int,\nename string,\njob string,\nmgr int,\nhiredate string,\nsal double,\ncomm double,\ndeptno int)\nrow format delimited fields terminated by \'\\t\';\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n\n\næ¥è¯¢å·¥èµå¤§äº2000çæ°æ®æå¥å°emp_hbaseè¡¨ä¸­\n\ninsert into emp_hbase select * from emp where sal > 2000;\n\n\n1\n\n\nä½¿ç¨hbase shell æ¥ç hbase_emp_table\n\n\n\nå°emp_hbaseè¡¨æ å°Phoenixä¸\n\nCREATE VIEW "hbase_emp_table"(empno varchar PRIMARY KEY,\n"info"."ename" varchar,\n"info"."job" varchar,\n"info"."mgr" varchar,\n"info"."hiredate" varchar,\n"info"."sal" varchar,\n"info"."comm" varchar,\n"info"."deptno" varchar);\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n\n\nselect * from "hbase_emp_table";\n\n\n1\n\n\n\n\n\n# ä»HBaseæ å°å°Hive\n\nå¨HBaseä¸­å·²ç»å­å¨äºæä¸å¼ è¡¨hbase_emp_tableï¼ç¶åå¨Hiveä¸­åå»ºä¸ä¸ªå¤é¨è¡¨æ¥å³èHBaseä¸­çhbase_emp_tableè¿å¼ è¡¨ï¼ä½¿ä¹å¯ä»¥åå©Hiveæ¥åæHBaseè¿å¼ è¡¨ä¸­çæ°æ®ã\n\nå¨Hiveä¸­åå»ºå¤é¨è¡¨\n\nCREATE EXTERNAL TABLE relevance_hbase_emp(\nempno int,\nename string,\njob string,\nmgr int,\nhiredate string,\nsal double,\ncomm double,\ndeptno int)\nSTORED BY \n\'org.apache.hadoop.hive.hbase.HBaseStorageHandler\'\nWITH SERDEPROPERTIES ("hbase.columns.mapping" = \n":key,info:ename,info:job,info:mgr,info:hiredate,info:sal,info:comm,info:deptno") \nTBLPROPERTIES ("hbase.table.name" = "hbase_emp_table");\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n\n\nå³èåå°±å¯ä»¥ä½¿ç¨Hiveå½æ°è¿è¡ä¸äºåææä½äº\n\nselect * from relevance_hbase_emp;\n\n\n1\n\n\n',normalizedContent:'# hbaseä¸hiveçéæ\n\n\n# hbaseä¸hiveçå¯¹æ¯\n\n1.hive (1) æ°æ®åæå·¥å· hiveçæ¬è´¨å¶å®å°±ç¸å½äºå°hdfsä¸­å·²ç»å­å¨çæä»¶å¨mysqlä¸­åäºä¸ä¸ªåå°å³ç³»ï¼ä»¥æ¹ä¾¿ä½¿ç¨hqlå»ç®¡çæ¥è¯¢ã (2) ç¨äºæ°æ®åæãæ¸æ´ hiveéç¨äºç¦»çº¿çæ°æ®åæåæ¸æ´ï¼å»¶è¿è¾é«ã (3) åºäºhdfsãmapreduce hiveå­å¨çæ°æ®ä¾æ§å¨datanodeä¸ï¼ç¼åçhqlè¯­å¥ç»å°æ¯è½¬æ¢ä¸ºmapreduceä»£ç æ§è¡ã 2ï¼hbase (1) æ°æ®åº æ¯ä¸ç§é¢ååæå­å¨çéå³ç³»åæ°æ®åºã (2) ç¨äºå­å¨ç»æååéç»æåçæ°æ® éç¨äºåè¡¨éå³ç³»åæ°æ®çå­å¨ï¼ä¸éååå³èæ¥è¯¢ï¼ç±»ä¼¼joinç­æä½ã (3) åºäºhdfs æ°æ®æä¹åå­å¨çä½ç°å½¢å¼æ¯hfileï¼å­æ¾äºdatanodeä¸­ï¼è¢«resionserverä»¥regionçå½¢å¼è¿è¡ç®¡çã (4) å»¶è¿è¾ä½ï¼æ¥å¥å¨çº¿ä¸å¡ä½¿ç¨ é¢å¯¹å¤§éçä¼ä¸æ°æ®ï¼hbaseå¯ä»¥ç´çº¿åè¡¨å¤§éæ°æ®çå­å¨ï¼åæ¶æä¾äºé«æçæ°æ®è®¿é®éåº¦ã\n\n\n# hbaseä¸hiveéæä½¿ç¨\n\nå¯å¨yarn å hiveæå¡\n\nstart-yarn.sh\nhiveservices.sh start\nbeeline -u jdbc:hive2://hadoop102:10000 -n atguigu\n\n\n1\n2\n3\n\n\n\n# ä»hiveæ å°å°hbaseä¸\n\nå»ºç«hiveè¡¨ï¼å³èhbaseè¡¨ï¼æå¥æ°æ®å°hiveè¡¨çåæ¶è½å¤å½±åhbaseè¡¨\n\nå¨hiveä¸­åå»ºè¡¨åæ¶å³èhbase\n\ncreate table emp_hbase(\nempno int,\nename string,\njob string,\nmgr int,\nhiredate string,\nsal double,\ncomm double,\ndeptno int)\nstored by \'org.apache.hadoop.hive.hbase.hbasestoragehandler\'\nwith serdeproperties ("hbase.columns.mapping" = ":key,info:ename,info:job,info:mgr,info:hiredate,info:sal,info:comm,info:deptno")\ntblproperties ("hbase.table.name" = "hbase_emp_table");\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n\n\nä»hbaseä¸­æ¥çææè¡¨ èªå¨åå»ºäºæ å°è¡¨\n\n\n\nhiveä¸­åå»ºempè¡¨å¹¶å¯¼å¥ææ¬æ°æ®\n\ncreate table emp(\nempno int,\nename string,\njob string,\nmgr int,\nhiredate string,\nsal double,\ncomm double,\ndeptno int)\nrow format delimited fields terminated by \'\\t\';\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n\n\næ¥è¯¢å·¥èµå¤§äº2000çæ°æ®æå¥å°emp_hbaseè¡¨ä¸­\n\ninsert into emp_hbase select * from emp where sal > 2000;\n\n\n1\n\n\nä½¿ç¨hbase shell æ¥ç hbase_emp_table\n\n\n\nå°emp_hbaseè¡¨æ å°phoenixä¸\n\ncreate view "hbase_emp_table"(empno varchar primary key,\n"info"."ename" varchar,\n"info"."job" varchar,\n"info"."mgr" varchar,\n"info"."hiredate" varchar,\n"info"."sal" varchar,\n"info"."comm" varchar,\n"info"."deptno" varchar);\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n\n\nselect * from "hbase_emp_table";\n\n\n1\n\n\n\n\n\n# ä»hbaseæ å°å°hive\n\nå¨hbaseä¸­å·²ç»å­å¨äºæä¸å¼ è¡¨hbase_emp_tableï¼ç¶åå¨hiveä¸­åå»ºä¸ä¸ªå¤é¨è¡¨æ¥å³èhbaseä¸­çhbase_emp_tableè¿å¼ è¡¨ï¼ä½¿ä¹å¯ä»¥åå©hiveæ¥åæhbaseè¿å¼ è¡¨ä¸­çæ°æ®ã\n\nå¨hiveä¸­åå»ºå¤é¨è¡¨\n\ncreate external table relevance_hbase_emp(\nempno int,\nename string,\njob string,\nmgr int,\nhiredate string,\nsal double,\ncomm double,\ndeptno int)\nstored by \n\'org.apache.hadoop.hive.hbase.hbasestoragehandler\'\nwith serdeproperties ("hbase.columns.mapping" = \n":key,info:ename,info:job,info:mgr,info:hiredate,info:sal,info:comm,info:deptno") \ntblproperties ("hbase.table.name" = "hbase_emp_table");\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n\n\nå³èåå°±å¯ä»¥ä½¿ç¨hiveå½æ°è¿è¡ä¸äºåææä½äº\n\nselect * from relevance_hbase_emp;\n\n\n1\n\n\n',charsets:{cjk:!0},lastUpdated:"2022/03/18, 07:01:11",lastUpdatedTimestamp:1647558071e3},{title:"Scalaå¥é¨",frontmatter:{title:"Scalaå¥é¨",date:"2022-03-17T22:09:38.000Z",permalink:"/pages/a93b77/",categories:["å¤§æ°æ®","Scala"],tags:[null]},regularPath:"/%E5%A4%A7%E6%95%B0%E6%8D%AE/08.Scala/02.Scala%E5%85%A5%E9%97%A8.html",relativePath:"å¤§æ°æ®/08.Scala/02.Scalaå¥é¨.md",key:"v-d5c2e428",path:"/pages/a93b77/",headers:[{level:2,title:"ç¯å¢æ­å»º",slug:"ç¯å¢æ­å»º",normalizedTitle:"ç¯å¢æ­å»º",charIndex:14},{level:2,title:"Ideaåå»ºScala",slug:"ideaåå»ºscala",normalizedTitle:"ideaåå»ºscala",charIndex:187},{level:2,title:"ä¼´çå¯¹è±¡åä¼´çç±»",slug:"ä¼´çå¯¹è±¡åä¼´çç±»",normalizedTitle:"ä¼´çå¯¹è±¡åä¼´çç±»",charIndex:569}],headersStr:"ç¯å¢æ­å»º Ideaåå»ºScala ä¼´çå¯¹è±¡åä¼´çç±»",content:'# Scalaå¥é¨\n\n\n# ç¯å¢æ­å»º\n\n 1. ä¾èµäºjdk ç¡®ä¿jdkå®è£å¹¶éç½®å¥½ç¯å¢åé\n\n 2. ä»å®ç½ä¸­ä¸è½½\n    \n    https://www.scala-lang.org/download/2.11.8.html å¹¶è§£åå°åç¼©å\n\n 3. éç½®ç¯å¢åé\n    \n    \n    \n    \n\n 4. å¨cmdæ§è¡scalaæ¥çç¯å¢åéæ¯å¦çæ\n\n\n# Ideaåå»ºScala\n\nåå¨ideaä¸­å®è£scalaæä»¶\n\n\n\n 1. å³é®é¡¹ç®æ·»å æ¡æ¶æ¯æ\n    \n    \n\n 2. æ·»å scalaå¹¶éæ©çæ¬\n    \n    \n\n 3. å¨srcçmainåä¸åå»ºscalaæºæä»¶å¤¹ ç¨äºç¼åscala\n    \n    \n\n 4. åå»ºscalaç±»\n    \n    \n    \n    package com.atguigu.scala.chapter\n    \n    object HelloWorld {\n      def main(args: Array[String]): Unit = {\n        println("Hello World")\n      }\n    }\n    \n    \n    1\n    2\n    3\n    4\n    5\n    6\n    7\n    \n\n\n# ä¼´çå¯¹è±¡åä¼´çç±»\n\nä¼´éçç±»äº§çä¸ä¸ªå¯¹è±¡ å½æä»¬å¯¹æºæä»¶è¿è¡ç¼è¯ä¹å é»è®¤ä¼çæä¸¤ä¸ªå­èç æä»¶ ä¸ä¸ªæ¯ä¼´çç±» å¦å¤ä¸ä¸ªæ¯ä¼´çå¯¹è±¡æå±ç±»(å¸¦$çclass)\n\nObject åç§° Scalaæ¯çº¯é¢åå¯¹è±¡ å»é¤äºjavaä¸­staticå³é®å­åvoidå³é®å­,éè¿ä¼´çå¯¹è±¡æ¨¡æstaticææ\n\n\n\nå¦æä¸æ³é»è®¤çæä¼´çç±» åéè¦å¨ä¼´çå¯¹è±¡ä¸­æå¨å£°æä¼´çç±» å¿é¡»è¦ä¸ä¼´çå¯¹è±¡å½åä¸è´\n\nå¦æå¨scalaä¸­è¦å®ä¹ç±»åjavaä¸­staticåå®¹ é½åºè¯¥æ¾å°ä¼´çå¯¹è±¡ä¸­å£°æ\n\n 1. ä¼´çç±»å®ä¹äºééæåå®¹\n 2. ä¼´çå¯¹è±¡æå±ç±»å®ä¹äºéæåå®¹\n 3. ä¼´çç±»éè¿ä¼´çå¯¹è±¡æå±ç±»è°ç¨mianæ¹æ³(å ä¸ºmainæ¹æ³æ¯éæåå®¹)\n 4. ä¼´çå¯¹è±¡æå±ç±»ä¼å¨ æ åæé å¨ä¸­ çæä¸ä¸ªMODULES$ ä¸ºä¼´çå¯¹è±¡æå±ç±»\n 5. èä¼´çå¯¹è±¡éè¿ MODULES$ æ¥è°ç¨éæåå®¹',normalizedContent:'# scalaå¥é¨\n\n\n# ç¯å¢æ­å»º\n\n 1. ä¾èµäºjdk ç¡®ä¿jdkå®è£å¹¶éç½®å¥½ç¯å¢åé\n\n 2. ä»å®ç½ä¸­ä¸è½½\n    \n    https://www.scala-lang.org/download/2.11.8.html å¹¶è§£åå°åç¼©å\n\n 3. éç½®ç¯å¢åé\n    \n    \n    \n    \n\n 4. å¨cmdæ§è¡scalaæ¥çç¯å¢åéæ¯å¦çæ\n\n\n# ideaåå»ºscala\n\nåå¨ideaä¸­å®è£scalaæä»¶\n\n\n\n 1. å³é®é¡¹ç®æ·»å æ¡æ¶æ¯æ\n    \n    \n\n 2. æ·»å scalaå¹¶éæ©çæ¬\n    \n    \n\n 3. å¨srcçmainåä¸åå»ºscalaæºæä»¶å¤¹ ç¨äºç¼åscala\n    \n    \n\n 4. åå»ºscalaç±»\n    \n    \n    \n    package com.atguigu.scala.chapter\n    \n    object helloworld {\n      def main(args: array[string]): unit = {\n        println("hello world")\n      }\n    }\n    \n    \n    1\n    2\n    3\n    4\n    5\n    6\n    7\n    \n\n\n# ä¼´çå¯¹è±¡åä¼´çç±»\n\nä¼´éçç±»äº§çä¸ä¸ªå¯¹è±¡ å½æä»¬å¯¹æºæä»¶è¿è¡ç¼è¯ä¹å é»è®¤ä¼çæä¸¤ä¸ªå­èç æä»¶ ä¸ä¸ªæ¯ä¼´çç±» å¦å¤ä¸ä¸ªæ¯ä¼´çå¯¹è±¡æå±ç±»(å¸¦$çclass)\n\nobject åç§° scalaæ¯çº¯é¢åå¯¹è±¡ å»é¤äºjavaä¸­staticå³é®å­åvoidå³é®å­,éè¿ä¼´çå¯¹è±¡æ¨¡æstaticææ\n\n\n\nå¦æä¸æ³é»è®¤çæä¼´çç±» åéè¦å¨ä¼´çå¯¹è±¡ä¸­æå¨å£°æä¼´çç±» å¿é¡»è¦ä¸ä¼´çå¯¹è±¡å½åä¸è´\n\nå¦æå¨scalaä¸­è¦å®ä¹ç±»åjavaä¸­staticåå®¹ é½åºè¯¥æ¾å°ä¼´çå¯¹è±¡ä¸­å£°æ\n\n 1. ä¼´çç±»å®ä¹äºééæåå®¹\n 2. ä¼´çå¯¹è±¡æå±ç±»å®ä¹äºéæåå®¹\n 3. ä¼´çç±»éè¿ä¼´çå¯¹è±¡æå±ç±»è°ç¨mianæ¹æ³(å ä¸ºmainæ¹æ³æ¯éæåå®¹)\n 4. ä¼´çå¯¹è±¡æå±ç±»ä¼å¨ æ åæé å¨ä¸­ çæä¸ä¸ªmodules$ ä¸ºä¼´çå¯¹è±¡æå±ç±»\n 5. èä¼´çå¯¹è±¡éè¿ modules$ æ¥è°ç¨éæåå®¹',charsets:{cjk:!0},lastUpdated:"2022/03/18, 07:01:11",lastUpdatedTimestamp:1647558071e3},{title:"æµç¨æ§å¶",frontmatter:{title:"æµç¨æ§å¶",date:"2022-03-17T22:09:38.000Z",permalink:"/pages/8b0acc/",categories:["å¤§æ°æ®","Scala"],tags:[null]},regularPath:"/%E5%A4%A7%E6%95%B0%E6%8D%AE/08.Scala/03.%E6%B5%81%E7%A8%8B%E6%8E%A7%E5%88%B6.html",relativePath:"å¤§æ°æ®/08.Scala/03.æµç¨æ§å¶.md",key:"v-6a5e0750",path:"/pages/8b0acc/",headers:[{level:2,title:"åæ¯æ§å¶",slug:"åæ¯æ§å¶",normalizedTitle:"åæ¯æ§å¶",charIndex:11},{level:2,title:"ä¸åè¿ç®ç¬¦",slug:"ä¸åè¿ç®ç¬¦",normalizedTitle:"ä¸åè¿ç®ç¬¦",charIndex:430},{level:2,title:"Switchåæ¯ç»æ",slug:"switchåæ¯ç»æ",normalizedTitle:"switchåæ¯ç»æ",charIndex:515},{level:2,title:"Forå¾ªç¯",slug:"forå¾ªç¯",normalizedTitle:"forå¾ªç¯",charIndex:560},{level:3,title:"èå´æ°æ®å¾ªç¯ï¼Toï¼",slug:"èå´æ°æ®å¾ªç¯-to",normalizedTitle:"èå´æ°æ®å¾ªç¯ï¼toï¼",charIndex:570},{level:3,title:"èå´æ°æ®å¾ªç¯ï¼Untilï¼",slug:"èå´æ°æ®å¾ªç¯-until",normalizedTitle:"èå´æ°æ®å¾ªç¯ï¼untilï¼",charIndex:709},{level:3,title:"å¾ªç¯å®å«",slug:"å¾ªç¯å®å«",normalizedTitle:"å¾ªç¯å®å«",charIndex:829},{level:3,title:"å¾ªç¯æ­¥é¿",slug:"å¾ªç¯æ­¥é¿",normalizedTitle:"å¾ªç¯æ­¥é¿",charIndex:1034},{level:3,title:"åµå¥å¾ªç¯",slug:"åµå¥å¾ªç¯",normalizedTitle:"åµå¥å¾ªç¯",charIndex:1207},{level:3,title:"å¼å¥åé",slug:"å¼å¥åé",normalizedTitle:"å¼å¥åé",charIndex:1308},{level:3,title:"å¾ªç¯è¿åå¼",slug:"å¾ªç¯è¿åå¼",normalizedTitle:"å¾ªç¯è¿åå¼",charIndex:1578},{level:3,title:"ååºæå°",slug:"ååºæå°",normalizedTitle:"ååºæå°",charIndex:1786},{level:2,title:"å¾ªç¯ä¸­æ­",slug:"å¾ªç¯ä¸­æ­",normalizedTitle:"å¾ªç¯ä¸­æ­",charIndex:1873}],headersStr:"åæ¯æ§å¶ ä¸åè¿ç®ç¬¦ Switchåæ¯ç»æ Forå¾ªç¯ èå´æ°æ®å¾ªç¯ï¼Toï¼ èå´æ°æ®å¾ªç¯ï¼Untilï¼ å¾ªç¯å®å« å¾ªç¯æ­¥é¿ åµå¥å¾ªç¯ å¼å¥åé å¾ªç¯è¿åå¼ ååºæå° å¾ªç¯ä¸­æ­",content:'# æµç¨æ§å¶\n\n\n# åæ¯æ§å¶\n\nScalaä¸­if elseè¡¨è¾¾å¼å¶å®æ¯æè¿åå¼çï¼å·ä½è¿åå¼åå³äºæ»¡è¶³æ¡ä»¶çä»£ç ä½çæåä¸è¡åå®¹\n\nobject TestIfElse  {\n    def main(args: Array[String]): Unit = {\n\n        println("input age")\n        var age = StdIn.readInt()\n\n        val res :String = if (age < 18){\n            "ç«¥å¹´"\n        }else if(age>=18 && age<30){\n            "ä¸­å¹´"\n        }else{\n            "èå¹´"\n        }\n\n        println(res)\n    }\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n\n\n\n# ä¸åè¿ç®ç¬¦\n\nå©ç¨æ¡ä»¶è¿ç®ç¬¦å¯ä»¥æè¿åå¼ç¹æ§ ä½¿ç¨ä¸åè¿ç®ç¬¦\n\nval res:Any = if (age < 18)  "ç«¥å¹´" else "æå¹´"\n\n\n1\n\n\n\n# Switchåæ¯ç»æ\n\nå¨Scalaä¸­æ²¡æSwitchï¼èæ¯ä½¿ç¨æ¨¡å¼å¹éæ¥å¤çã\n\n\n# Forå¾ªç¯\n\n\n# èå´æ°æ®å¾ªç¯ï¼Toï¼\n\nä½¿ç¨ 1 to 3 èµå¼ç»ä¸ä¸ªåé\n\nfor(i <- 1 to 3){\n    print(i + " ")\n}\n// 1 2 3 \n\n\n1\n2\n3\n4\n\n 1. i è¡¨ç¤ºå¾ªç¯çåéï¼<- è§å®to\n 2. i å°ä¼ä» 1-3 å¾ªç¯ï¼ååé­å\n\n\n# èå´æ°æ®å¾ªç¯ï¼Untilï¼\n\nfor(i <- 1 until 3) {\n    print(i + " ")\n}\n// 1 2 \n\n\n1\n2\n3\n4\n\n 1. è¿ç§æ¹å¼ååé¢çåºå«å¨äºiæ¯ä»1å°3-1\n 2. å³åé­ååå¼çèå´\n\n\n# å¾ªç¯å®å«\n\nå¾ªç¯å®å«ï¼å³å¾ªç¯ä¿æ¤å¼ï¼ä¹ç§°æ¡ä»¶å¤æ­å¼ï¼å®å«ï¼ãä¿æ¤å¼ä¸ºtrueåè¿å¥å¾ªç¯ä½åé¨ï¼ä¸ºfalseåè·³è¿ï¼ç±»ä¼¼äºcontinueã\n\nå¨scalaä¸­æ²¡æbreak å continue å³é®å­,å¾ªç¯å®å«å¶å®æ¯éè¿ifå¤æ­æ¨¡æcontinueè·³åºæ¬æ¬¡å¾ªç¯\n\nfor(i <- 1 to 3 if i != 2) {\n    print(i + " ")\n}\n// 1 3 \n\n\n1\n2\n3\n4\n\n\n\n# å¾ªç¯æ­¥é¿\n\nfor (i <- 1 to 10 by 2) {\n    println("i=" + i)\n}\n// 2 4 6 8 10\n//è´æ­¥é¿\nfor (i <- 10 to 1 by -2) {\n    println("i=" + i)\n}\n//10 8 6 4 2\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n\n\nbyè¡¨ç¤ºæ­¥é¿\n\n\n# åµå¥å¾ªç¯\n\nfor(i <- 1 to 3; j <- 1 to 3) {\n    println(" i =" + i + " j = " + j)\n}\n\n\n1\n2\n3\n\n\nä½¿ç¨ï¼æ¥éæ­é»è¾\n\n\n# å¼å¥åé\n\nfor(i <- 1 to 3; j = 4 - i) {\n    println("i=" + i + " j=" + j)\n}\n// 1 3\n// 2 2\n// 3 1\n\n\n1\n2\n3\n4\n5\n6\n\n\nforæ¨å¯¼å¼æä¸ä¸ªä¸ææççº¦å®ï¼å½foræ¨å¯¼å¼ä»åå«åä¸è¡¨è¾¾å¼æ¶ä½¿ç¨åæ¬å·ï¼å½åå«å¤ä¸ªè¡¨è¾¾å¼æ¶ï¼ä¸è¬æ¯è¡ä¸ä¸ªè¡¨è¾¾å¼ï¼å¹¶ç¨è±æ¬å·ä»£æ¿åæ¬å·\n\nfor {\n    i <- 1 to 3\nj = 4 - i\n} {\n    println("i=" + i + " j=" + j)\n}\n\n\n1\n2\n3\n4\n5\n6\n\n\n\n# å¾ªç¯è¿åå¼\n\nå°éåè¿ç¨ä¸­å¤ççç»æè¿åå°ä¸ä¸ªæ°Vectoréåä¸­ï¼ä½¿ç¨yieldå³é®å­ã\n\nval res = for(i <- 1 to 10) yield i\n// 1 2 3 4 5 6 7 8 9 10\nvar res = for(i <-1 to 10) yield {i * 2}\n//Vector(2, 4, 6, 8, 10, 12, 14, 16, 18, 20)\n\n\n1\n2\n3\n4\n\n\n\n# ååºæå°\n\nååºæå°ä¸ç»æ°æ®ï¼å¯ä»¥ç¨reverseå³é®å­\n\nfor(i <- 1 to 10 reverse){\n    println(i)\n}\n\n\n1\n2\n3\n\n\n\n# å¾ªç¯ä¸­æ­\n\nScalaåç½®æ§å¶ç»æç¹å°å»æäºbreakåcontinueï¼æ¯ä¸ºäºæ´å¥½çéåºå½æ°å¼ç¼ç¨ï¼æ¨èä½¿ç¨å½æ°å¼çé£æ ¼è§£å³breakåcontinueçåè½ï¼èä¸æ¯ä¸ä¸ªå³é®å­ãScalaä¸­ä½¿ç¨breakableæ§å¶ç»ææ¥å®ç°breakåcontinueåè½ã\n\nimport scala.util.control.Breaks\n\ndef main(args: Array[String]): Unit = {\n\n    Breaks.breakable(\n        for (elem <- 1 to 10) {\n            println(elem)\n            if (elem == 5) Breaks.break()\n        }\n    )\n\n    println("æ­£å¸¸ç»æå¾ªç¯")\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n\n\nBreaksåºå±æ¯æåºå¼å¸¸æ¥ç»æå¾ªç¯ breakæ¹æ³ææå¼å¸¸\n\nç®ååæ³\n\nimport scala.util.control.Breaks._\n\nobject TestBreak {\n\n    def main(args: Array[String]): Unit = {\n    \n        breakable {\n            for (elem <- 1 to 10) {\n                println(elem)\n                if (elem == 5) break\n            }\n        }\n    \n        println("æ­£å¸¸ç»æå¾ªç¯")\n    }\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n',normalizedContent:'# æµç¨æ§å¶\n\n\n# åæ¯æ§å¶\n\nscalaä¸­if elseè¡¨è¾¾å¼å¶å®æ¯æè¿åå¼çï¼å·ä½è¿åå¼åå³äºæ»¡è¶³æ¡ä»¶çä»£ç ä½çæåä¸è¡åå®¹\n\nobject testifelse  {\n    def main(args: array[string]): unit = {\n\n        println("input age")\n        var age = stdin.readint()\n\n        val res :string = if (age < 18){\n            "ç«¥å¹´"\n        }else if(age>=18 && age<30){\n            "ä¸­å¹´"\n        }else{\n            "èå¹´"\n        }\n\n        println(res)\n    }\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n\n\n\n# ä¸åè¿ç®ç¬¦\n\nå©ç¨æ¡ä»¶è¿ç®ç¬¦å¯ä»¥æè¿åå¼ç¹æ§ ä½¿ç¨ä¸åè¿ç®ç¬¦\n\nval res:any = if (age < 18)  "ç«¥å¹´" else "æå¹´"\n\n\n1\n\n\n\n# switchåæ¯ç»æ\n\nå¨scalaä¸­æ²¡æswitchï¼èæ¯ä½¿ç¨æ¨¡å¼å¹éæ¥å¤çã\n\n\n# forå¾ªç¯\n\n\n# èå´æ°æ®å¾ªç¯ï¼toï¼\n\nä½¿ç¨ 1 to 3 èµå¼ç»ä¸ä¸ªåé\n\nfor(i <- 1 to 3){\n    print(i + " ")\n}\n// 1 2 3 \n\n\n1\n2\n3\n4\n\n 1. i è¡¨ç¤ºå¾ªç¯çåéï¼<- è§å®to\n 2. i å°ä¼ä» 1-3 å¾ªç¯ï¼ååé­å\n\n\n# èå´æ°æ®å¾ªç¯ï¼untilï¼\n\nfor(i <- 1 until 3) {\n    print(i + " ")\n}\n// 1 2 \n\n\n1\n2\n3\n4\n\n 1. è¿ç§æ¹å¼ååé¢çåºå«å¨äºiæ¯ä»1å°3-1\n 2. å³åé­ååå¼çèå´\n\n\n# å¾ªç¯å®å«\n\nå¾ªç¯å®å«ï¼å³å¾ªç¯ä¿æ¤å¼ï¼ä¹ç§°æ¡ä»¶å¤æ­å¼ï¼å®å«ï¼ãä¿æ¤å¼ä¸ºtrueåè¿å¥å¾ªç¯ä½åé¨ï¼ä¸ºfalseåè·³è¿ï¼ç±»ä¼¼äºcontinueã\n\nå¨scalaä¸­æ²¡æbreak å continue å³é®å­,å¾ªç¯å®å«å¶å®æ¯éè¿ifå¤æ­æ¨¡æcontinueè·³åºæ¬æ¬¡å¾ªç¯\n\nfor(i <- 1 to 3 if i != 2) {\n    print(i + " ")\n}\n// 1 3 \n\n\n1\n2\n3\n4\n\n\n\n# å¾ªç¯æ­¥é¿\n\nfor (i <- 1 to 10 by 2) {\n    println("i=" + i)\n}\n// 2 4 6 8 10\n//è´æ­¥é¿\nfor (i <- 10 to 1 by -2) {\n    println("i=" + i)\n}\n//10 8 6 4 2\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n\n\nbyè¡¨ç¤ºæ­¥é¿\n\n\n# åµå¥å¾ªç¯\n\nfor(i <- 1 to 3; j <- 1 to 3) {\n    println(" i =" + i + " j = " + j)\n}\n\n\n1\n2\n3\n\n\nä½¿ç¨ï¼æ¥éæ­é»è¾\n\n\n# å¼å¥åé\n\nfor(i <- 1 to 3; j = 4 - i) {\n    println("i=" + i + " j=" + j)\n}\n// 1 3\n// 2 2\n// 3 1\n\n\n1\n2\n3\n4\n5\n6\n\n\nforæ¨å¯¼å¼æä¸ä¸ªä¸ææççº¦å®ï¼å½foræ¨å¯¼å¼ä»åå«åä¸è¡¨è¾¾å¼æ¶ä½¿ç¨åæ¬å·ï¼å½åå«å¤ä¸ªè¡¨è¾¾å¼æ¶ï¼ä¸è¬æ¯è¡ä¸ä¸ªè¡¨è¾¾å¼ï¼å¹¶ç¨è±æ¬å·ä»£æ¿åæ¬å·\n\nfor {\n    i <- 1 to 3\nj = 4 - i\n} {\n    println("i=" + i + " j=" + j)\n}\n\n\n1\n2\n3\n4\n5\n6\n\n\n\n# å¾ªç¯è¿åå¼\n\nå°éåè¿ç¨ä¸­å¤ççç»æè¿åå°ä¸ä¸ªæ°vectoréåä¸­ï¼ä½¿ç¨yieldå³é®å­ã\n\nval res = for(i <- 1 to 10) yield i\n// 1 2 3 4 5 6 7 8 9 10\nvar res = for(i <-1 to 10) yield {i * 2}\n//vector(2, 4, 6, 8, 10, 12, 14, 16, 18, 20)\n\n\n1\n2\n3\n4\n\n\n\n# ååºæå°\n\nååºæå°ä¸ç»æ°æ®ï¼å¯ä»¥ç¨reverseå³é®å­\n\nfor(i <- 1 to 10 reverse){\n    println(i)\n}\n\n\n1\n2\n3\n\n\n\n# å¾ªç¯ä¸­æ­\n\nscalaåç½®æ§å¶ç»æç¹å°å»æäºbreakåcontinueï¼æ¯ä¸ºäºæ´å¥½çéåºå½æ°å¼ç¼ç¨ï¼æ¨èä½¿ç¨å½æ°å¼çé£æ ¼è§£å³breakåcontinueçåè½ï¼èä¸æ¯ä¸ä¸ªå³é®å­ãscalaä¸­ä½¿ç¨breakableæ§å¶ç»ææ¥å®ç°breakåcontinueåè½ã\n\nimport scala.util.control.breaks\n\ndef main(args: array[string]): unit = {\n\n    breaks.breakable(\n        for (elem <- 1 to 10) {\n            println(elem)\n            if (elem == 5) breaks.break()\n        }\n    )\n\n    println("æ­£å¸¸ç»æå¾ªç¯")\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n\n\nbreaksåºå±æ¯æåºå¼å¸¸æ¥ç»æå¾ªç¯ breakæ¹æ³ææå¼å¸¸\n\nç®ååæ³\n\nimport scala.util.control.breaks._\n\nobject testbreak {\n\n    def main(args: array[string]): unit = {\n    \n        breakable {\n            for (elem <- 1 to 10) {\n                println(elem)\n                if (elem == 5) break\n            }\n        }\n    \n        println("æ­£å¸¸ç»æå¾ªç¯")\n    }\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n',charsets:{cjk:!0},lastUpdated:"2022/03/18, 07:01:11",lastUpdatedTimestamp:1647558071e3},{title:"Spark",frontmatter:{title:"Spark",date:"2022-03-17T22:09:51.000Z",permalink:"/pages/cc783e/",categories:["å¤§æ°æ®","Spark"],tags:[null]},regularPath:"/%E5%A4%A7%E6%95%B0%E6%8D%AE/09.Spark/01.Spark.html",relativePath:"å¤§æ°æ®/09.Spark/01.Spark.md",key:"v-762d1d8f",path:"/pages/cc783e/",headers:[{level:2,title:"Sparkåç½®æ¨¡å",slug:"sparkåç½®æ¨¡å",normalizedTitle:"sparkåç½®æ¨¡å",charIndex:49},{level:2,title:"Spark ç¹ç¹",slug:"spark-ç¹ç¹",normalizedTitle:"spark ç¹ç¹",charIndex:853}],headersStr:"Sparkåç½®æ¨¡å Spark ç¹ç¹",content:"# Spark\n\nSparkæ¯ä¸ç§åºäºåå­çå¿«éãéç¨ãå¯æ©å±çå¤§æ°æ®åæè®¡ç®å¼æã\n\n\n\n\n# Sparkåç½®æ¨¡å\n\n\n\nSpark Coreï¼å®ç°äºSparkçåºæ¬åè½ï¼åå«ä»»å¡è°åº¦ãåå­ç®¡çãéè¯¯æ¢å¤ãä¸å­å¨ç³»ç»äº¤äºç­æ¨¡åãSpark Coreä¸­è¿åå«äºå¯¹å¼¹æ§åå¸å¼æ°æ®é(Resilient Distributed DataSetï¼ç®ç§°RDD)çAPIå®ä¹ã\n\nSpark SQLï¼æ¯Sparkç¨æ¥æä½ç»æåæ°æ®çç¨åºåãéè¿Spark SQLï¼æä»¬å¯ä»¥ä½¿ç¨ SQLæèApache Hiveçæ¬çHQLæ¥æ¥è¯¢æ°æ®ãSpark SQLæ¯æå¤ç§æ°æ®æºï¼æ¯å¦Hiveè¡¨ãParquetä»¥åJSONç­ã\n\nSpark Streamingï¼æ¯Sparkæä¾çå¯¹å®æ¶æ°æ®è¿è¡æµå¼è®¡ç®çç»ä»¶ãæä¾äºç¨æ¥æä½æ°æ®æµçAPIï¼å¹¶ä¸ä¸Spark Coreä¸­ç RDD APIé«åº¦å¯¹åºã\n\nSpark MLlibï¼æä¾å¸¸è§çæºå¨å­¦ä¹ åè½çç¨åºåºãåæ¬åç±»ãåå½ãèç±»ãååè¿æ»¤ç­ï¼è¿æä¾äºæ¨¡åè¯ä¼°ãæ°æ® å¯¼å¥ç­é¢å¤çæ¯æåè½ã\n\nSpark GraphXï¼ä¸»è¦ç¨äºå¾å½¢å¹¶è¡è®¡ç®åå¾ææç³»ç»çç»ä»¶ã\n\néç¾¤ç®¡çå¨ï¼Sparkè®¾è®¡ä¸ºå¯ä»¥é«æå°å¨ä¸ä¸ªè®¡ç®èç¹å°æ°åä¸ªè®¡ç®èç¹ä¹é´ä¼¸ç¼©è®¡ç®ãä¸ºäºå®ç°è¿æ ·çè¦æ±ï¼åæ¶è·å¾æå¤§çµæ´»æ§ï¼Sparkæ¯æå¨åç§éç¾¤ç®¡çå¨(Cluster Manager)ä¸è¿è¡ï¼åæ¬Hadoop YARNãApache Mesosï¼ä»¥åSparkèªå¸¦çä¸ä¸ªç®æè°åº¦å¨ï¼å«ä½ç¬ç«è°åº¦å¨ã\n\nSparkå¾å°äºä¼å¤å¤§æ°æ®å¬å¸çæ¯æï¼è¿äºå¬å¸åæ¬HortonworksãIBMãIntelãClouderaãMapRãPivotalãç¾åº¦ãé¿éãè¾è®¯ãäº¬ä¸ãæºç¨ãä¼é·åè±ãå½åç¾åº¦çSparkå·²åºç¨äºå¤§æç´¢ãç´è¾¾å·ãç¾åº¦å¤§æ°æ®ç­ä¸å¡ï¼é¿éå©ç¨GraphXæå»ºäºå¤§è§æ¨¡çå¾è®¡ç®åå¾ææç³»ç»ï¼å®ç°äºå¾å¤çäº§ç³»ç»çæ¨èç®æ³ï¼è¾è®¯Sparkéç¾¤è¾¾å°8000å°çè§æ¨¡ï¼æ¯å½åå·²ç¥çä¸çä¸æå¤§çSparkéç¾¤ã\n\n\n# Spark ç¹ç¹\n\n",normalizedContent:"# spark\n\nsparkæ¯ä¸ç§åºäºåå­çå¿«éãéç¨ãå¯æ©å±çå¤§æ°æ®åæè®¡ç®å¼æã\n\n\n\n\n# sparkåç½®æ¨¡å\n\n\n\nspark coreï¼å®ç°äºsparkçåºæ¬åè½ï¼åå«ä»»å¡è°åº¦ãåå­ç®¡çãéè¯¯æ¢å¤ãä¸å­å¨ç³»ç»äº¤äºç­æ¨¡åãspark coreä¸­è¿åå«äºå¯¹å¼¹æ§åå¸å¼æ°æ®é(resilient distributed datasetï¼ç®ç§°rdd)çapiå®ä¹ã\n\nspark sqlï¼æ¯sparkç¨æ¥æä½ç»æåæ°æ®çç¨åºåãéè¿spark sqlï¼æä»¬å¯ä»¥ä½¿ç¨ sqlæèapache hiveçæ¬çhqlæ¥æ¥è¯¢æ°æ®ãspark sqlæ¯æå¤ç§æ°æ®æºï¼æ¯å¦hiveè¡¨ãparquetä»¥åjsonç­ã\n\nspark streamingï¼æ¯sparkæä¾çå¯¹å®æ¶æ°æ®è¿è¡æµå¼è®¡ç®çç»ä»¶ãæä¾äºç¨æ¥æä½æ°æ®æµçapiï¼å¹¶ä¸ä¸spark coreä¸­ç rdd apié«åº¦å¯¹åºã\n\nspark mllibï¼æä¾å¸¸è§çæºå¨å­¦ä¹ åè½çç¨åºåºãåæ¬åç±»ãåå½ãèç±»ãååè¿æ»¤ç­ï¼è¿æä¾äºæ¨¡åè¯ä¼°ãæ°æ® å¯¼å¥ç­é¢å¤çæ¯æåè½ã\n\nspark graphxï¼ä¸»è¦ç¨äºå¾å½¢å¹¶è¡è®¡ç®åå¾ææç³»ç»çç»ä»¶ã\n\néç¾¤ç®¡çå¨ï¼sparkè®¾è®¡ä¸ºå¯ä»¥é«æå°å¨ä¸ä¸ªè®¡ç®èç¹å°æ°åä¸ªè®¡ç®èç¹ä¹é´ä¼¸ç¼©è®¡ç®ãä¸ºäºå®ç°è¿æ ·çè¦æ±ï¼åæ¶è·å¾æå¤§çµæ´»æ§ï¼sparkæ¯æå¨åç§éç¾¤ç®¡çå¨(cluster manager)ä¸è¿è¡ï¼åæ¬hadoop yarnãapache mesosï¼ä»¥åsparkèªå¸¦çä¸ä¸ªç®æè°åº¦å¨ï¼å«ä½ç¬ç«è°åº¦å¨ã\n\nsparkå¾å°äºä¼å¤å¤§æ°æ®å¬å¸çæ¯æï¼è¿äºå¬å¸åæ¬hortonworksãibmãintelãclouderaãmaprãpivotalãç¾åº¦ãé¿éãè¾è®¯ãäº¬ä¸ãæºç¨ãä¼é·åè±ãå½åç¾åº¦çsparkå·²åºç¨äºå¤§æç´¢ãç´è¾¾å·ãç¾åº¦å¤§æ°æ®ç­ä¸å¡ï¼é¿éå©ç¨graphxæå»ºäºå¤§è§æ¨¡çå¾è®¡ç®åå¾ææç³»ç»ï¼å®ç°äºå¾å¤çäº§ç³»ç»çæ¨èç®æ³ï¼è¾è®¯sparkéç¾¤è¾¾å°8000å°çè§æ¨¡ï¼æ¯å½åå·²ç¥çä¸çä¸æå¤§çsparkéç¾¤ã\n\n\n# spark ç¹ç¹\n\n",charsets:{cjk:!0},lastUpdated:"2022/03/18, 07:01:11",lastUpdatedTimestamp:1647558071e3},{title:"Spark å¥é¨",frontmatter:{title:"Spark å¥é¨",date:"2022-03-17T22:09:51.000Z",permalink:"/pages/3223e3/",categories:["å¤§æ°æ®","Spark"],tags:[null]},regularPath:"/%E5%A4%A7%E6%95%B0%E6%8D%AE/09.Spark/02.Spark%20%E5%85%A5%E9%97%A8.html",relativePath:"å¤§æ°æ®/09.Spark/02.Spark å¥é¨.md",key:"v-a108e506",path:"/pages/3223e3/",headers:[{level:2,title:"Localæ¨¡å¼",slug:"localæ¨¡å¼",normalizedTitle:"localæ¨¡å¼",charIndex:143},{level:3,title:"å®æ¹æ±PIæ¡ä¾",slug:"å®æ¹æ±piæ¡ä¾",normalizedTitle:"å®æ¹æ±piæ¡ä¾",charIndex:606},{level:3,title:"å®æ¹WordCountæ¡ä¾",slug:"å®æ¹wordcountæ¡ä¾",normalizedTitle:"å®æ¹wordcountæ¡ä¾",charIndex:1085},{level:2,title:"éç¾¤è§è²",slug:"éç¾¤è§è²",normalizedTitle:"éç¾¤è§è²",charIndex:1504},{level:3,title:"Master å Worker",slug:"master-å-worker",normalizedTitle:"master å worker",charIndex:1513},{level:3,title:"Driver å Executor",slug:"driver-å-executor",normalizedTitle:"driver å executor",charIndex:1535},{level:2,title:"Standaloneæ¨¡å¼",slug:"standaloneæ¨¡å¼",normalizedTitle:"standaloneæ¨¡å¼",charIndex:170},{level:3,title:"éç½®åå²æå¡",slug:"éç½®åå²æå¡",normalizedTitle:"éç½®åå²æå¡",charIndex:4078},{level:3,title:"éç½®é«å¯ç¨ï¼HAï¼",slug:"éç½®é«å¯ç¨-ha",normalizedTitle:"éç½®é«å¯ç¨ï¼haï¼",charIndex:5273},{level:3,title:"è¿è¡æµç¨",slug:"è¿è¡æµç¨",normalizedTitle:"è¿è¡æµç¨",charIndex:6451},{level:2,title:"Yarnæ¨¡å¼",slug:"yarnæ¨¡å¼",normalizedTitle:"yarnæ¨¡å¼",charIndex:7179},{level:3,title:"éç½®åå²æå¡",slug:"éç½®åå²æå¡-2",normalizedTitle:"éç½®åå²æå¡",charIndex:4078},{level:3,title:"éç½®æ¥çåå²æ¥å¿",slug:"éç½®æ¥çåå²æ¥å¿",normalizedTitle:"éç½®æ¥çåå²æ¥å¿",charIndex:9719},{level:2,title:"è¿è¡æµç¨",slug:"è¿è¡æµç¨-2",normalizedTitle:"è¿è¡æµç¨",charIndex:6451},{level:2,title:"Mesosæ¨¡å¼",slug:"mesosæ¨¡å¼",normalizedTitle:"mesosæ¨¡å¼",charIndex:257},{level:2,title:"å ç§æ¨¡å¼å¯¹æ¯",slug:"å ç§æ¨¡å¼å¯¹æ¯",normalizedTitle:"å ç§æ¨¡å¼å¯¹æ¯",charIndex:11336},{level:2,title:"ç«¯å£å·æ»ç»",slug:"ç«¯å£å·æ»ç»",normalizedTitle:"ç«¯å£å·æ»ç»",charIndex:11539},{level:2,title:"WordCountæ¡ä¾",slug:"wordcountæ¡ä¾",normalizedTitle:"wordcountæ¡ä¾",charIndex:1087}],headersStr:"Localæ¨¡å¼ å®æ¹æ±PIæ¡ä¾ å®æ¹WordCountæ¡ä¾ éç¾¤è§è² Master å Worker Driver å Executor Standaloneæ¨¡å¼ éç½®åå²æå¡ éç½®é«å¯ç¨ï¼HAï¼ è¿è¡æµç¨ Yarnæ¨¡å¼ éç½®åå²æå¡ éç½®æ¥çåå²æ¥å¿ è¿è¡æµç¨ Mesosæ¨¡å¼ å ç§æ¨¡å¼å¯¹æ¯ ç«¯å£å·æ»ç» WordCountæ¡ä¾",content:'# Spark å¥é¨\n\né¨ç½²Sparkéç¾¤å¤§ä½ä¸åä¸ºä¸¤ç§æ¨¡å¼ï¼åæºæ¨¡å¼ä¸éç¾¤æ¨¡å¼ å¤§å¤æ°åå¸å¼æ¡æ¶é½æ¯æåæºæ¨¡å¼ï¼æ¹ä¾¿å¼åèè°è¯æ¡æ¶çè¿è¡ç¯å¢ãä½æ¯å¨çäº§ç¯å¢ä¸­ï¼å¹¶ä¸ä¼ä½¿ç¨åæºæ¨¡å¼ãå æ­¤ï¼åç»­ç´æ¥æç§éç¾¤æ¨¡å¼é¨ç½²Sparkéç¾¤ã ä¸é¢è¯¦ç»åä¸¾äºSparkç®åæ¯æçé¨ç½²æ¨¡å¼ã\n\n 1. Localæ¨¡å¼ï¼å¨æ¬å°é¨ç½²åä¸ªSparkæå¡\n 2. Standaloneæ¨¡å¼ï¼Sparkèªå¸¦çä»»å¡è°åº¦æ¨¡å¼ãï¼å½åå¸¸ç¨ï¼\n 3. YARNæ¨¡å¼ï¼Sparkä½¿ç¨HadoopçYARNç»ä»¶è¿è¡èµæºä¸ä»»å¡è°åº¦ãï¼å½åå¸¸ç¨ï¼\n 4. Mesosæ¨¡å¼ï¼Sparkä½¿ç¨Mesoså¹³å°è¿è¡èµæºä¸ä»»å¡çè°åº¦ã\n\n1ï¼å®ç½å°åï¼http://spark.apache.org/\n\n2ï¼ææ¡£æ¥çå°åï¼https://spark.apache.org/docs/2.1.1/\n\n3ï¼ä¸è½½å°åï¼https://spark.apache.org/downloads.html\n\n\n# Localæ¨¡å¼\n\nä¸ä¼ å¹¶è§£åå®è£å\n\ncd /opt/software/\ntar -zxvf spark-2.1.1-bin-hadoop2.7.tgz -C /opt/module/\ncd /opt/module/\nmv spark-2.1.1-bin-hadoop2.7/ spark-local\ncd spark-local\n\n\n1\n2\n3\n4\n5\n\n\n\n# å®æ¹æ±PIæ¡ä¾\n\nå©ç¨èç¹Â·å¡ç½ç®æ³æ±PI\n\nbin/spark-submit \\\n--class org.apache.spark.examples.SparkPi \\\n--master local[2] \\\n./examples/jars/spark-examples_2.11-2.1.1.jar \\\n10\n\n\n1\n2\n3\n4\n5\n\n\n * --classï¼è¡¨ç¤ºè¦æ§è¡ç¨åºçä¸»ç±»ï¼\n\n * --master local[2]\n   \n   * local: æ²¡ææå®çº¿ç¨æ°ï¼åææè®¡ç®é½è¿è¡å¨ä¸ä¸ªçº¿ç¨å½ä¸­ï¼æ²¡æä»»ä½å¹¶è¡è®¡ç®\n   \n   * local[K]:æå®ä½¿ç¨Kä¸ªCoreæ¥è¿è¡è®¡ç®ï¼æ¯å¦local[2]å°±æ¯è¿è¡2ä¸ªCoreæ¥æ§è¡\n   \n   * local[*]: èªå¨å¸®ä½ æç§CPUæå¤æ ¸æ¥è®¾ç½®çº¿ç¨æ°ãæ¯å¦CPUæ4æ ¸ï¼Sparkå¸®ä½ èªå¨è®¾ç½®4ä¸ªçº¿ç¨è®¡ç®\n\n * spark-examples_2.11-2.1.1.jarï¼è¦è¿è¡çç¨åºï¼\n\n * 10ï¼è¦è¿è¡ç¨åºçè¾å¥åæ°ï¼è®¡ç®åå¨çÏçæ¬¡æ°ï¼è®¡ç®æ¬¡æ°è¶å¤ï¼åç¡®çè¶é«ï¼ï¼\n\n\n\n\n# å®æ¹WordCountæ¡ä¾\n\nè¯»åå¤ä¸ªè¾å¥æä»¶ï¼ç»è®¡æ¯ä¸ªåè¯åºç°çæ»æ¬¡æ°\n\n\n\nåå¤æ°æ®\n\nmkdir input\necho hello world > input/1.txt\necho hello spark > input/2.txt\n\n\n1\n2\n3\n\n\nå¯å¨spark-shell\n\nbin/spark-shell\n\n\n1\n\n\n\n\nscæ¯SparkCoreç¨åºçå¥å£ï¼sparkæ¯SparkSQLç¨åºå¥å£ï¼master = local[*]è¡¨ç¤ºæ¬å°æ¨¡å¼è¿è¡ã\n\nsc.textFile("/opt/module/spark-local/input").flatMap(_.split(" ")).map((_,1)).reduceByKey(_+_).collect\n\n\n1\n\n\n\n\næ¥çwebé¡µé¢\n\n\n\nspark-shellçªå£å³é­æï¼åhadoop102:4040é¡µé¢å³é­\n\næ¬å°æ¨¡å¼ä¸ï¼é»è®¤çè°åº¦å¨ä¸ºFIFOã\n\n\n\n\n# éç¾¤è§è²\n\n\n# Master å Worker\n\n\n\n\n# Driver å Executor\n\n\n\nMasteråWorkeræ¯Sparkçå®æ¤è¿ç¨ï¼å³Sparkå¨ç¹å®æ¨¡å¼ä¸æ­£å¸¸è¿è¡æå¿é¡»çè¿ç¨ãDriveråExecutoræ¯ä¸´æ¶ç¨åºï¼å½æå·ä½ä»»å¡æäº¤å°Sparkéç¾¤æä¼å¼å¯çç¨åº\n\n\n# Standaloneæ¨¡å¼\n\nStandaloneæ¨¡å¼æ¯Sparkèªå¸¦çèµæºè°å¨å¼æï¼æå»ºä¸ä¸ªç±Master + SlaveææçSparkéç¾¤ï¼Sparkè¿è¡å¨éç¾¤ä¸­ã\n\nè¿ä¸ªè¦åHadoopä¸­çStandaloneåºå«å¼æ¥ãè¿éçStandaloneæ¯æåªç¨Sparkæ¥æ­å»ºä¸ä¸ªéç¾¤ï¼ä¸éè¦åå©å¶ä»çæ¡æ¶ãæ¯ç¸å¯¹äºYarnåMesosæ¥è¯´çã\n\néç¾¤è§å\n\n        HADOOP102       HADOOP103   HADOOP104\nSpark   Master Worker   Worker      Worker\n\nè§£åå®è£\n\ncd /opt/software/\ntar -zxvf spark-2.1.1-bin-hadoop2.7.tgz -C /opt/module/\ncd /opt/module/\nmv spark-2.1.1-bin-hadoop2.7/ spark-standalone\ncd spark-standalone\n\n\n1\n2\n3\n4\n5\n\n\néç½®spark\n\ncd conf\nmv slaves.template slaves\nvim slaves\n\nhadoop102\nhadoop103\nhadoop104\n\n\n1\n2\n3\n4\n5\n6\n7\n\n\nä¿®æ¹spark-env.shæä»¶ï¼æ·»å masterèç¹\n\nmv spark-env.sh.template spark-env.sh\nvim spark-env.sh\n\nSPARK_MASTER_HOST=hadoop102\nSPARK_MASTER_PORT=7077\n\n\n1\n2\n3\n4\n5\n\n\nåå\n\nxsync /opt/module/spark-standalone/\n\n\n1\n\n\nå¯å¨éç¾¤\n\ncd ..\nsbin/start-all.sh\n\n\n1\n2\n\n\næ¥çè¿ç¨\n\njps\n\n================atguigu@hadoop102================\n3330 Jps\n3238 Worker\n3163 Master\n================atguigu@hadoop103================\n2966 Jps\n2908 Worker\n================atguigu@hadoop104================\n2978 Worker\n3036 Jps\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n\n\nå¦æéå° âJAVA_HOME not setâ å¼å¸¸ï¼å¯ä»¥å¨sbinç®å½ä¸çspark-config.sh æä»¶ä¸­å å¥å¦ä¸éç½®\n\nexport JAVA_HOME=/opt/module/jdk1.8.0_212\n\n\n1\n\n\nç½é¡µæ¥ç è®¿é®hadoop102:8080\n\nå®æ¹æ±PIæ¡ä¾\n\nbin/spark-submit \\\n--class org.apache.spark.examples.SparkPi \\\n--master spark://hadoop102:7077 \\\n./examples/jars/spark-examples_2.11-2.1.1.jar \\\n10\n\n\n1\n2\n3\n4\n5\n\n\næ¥çwebé¡µé¢ hadoop102:8080\n\n\n\nä¸å±12ä¸ªcores 12æ ¸ æ¯ä¸ªæ ¸1024åå­\n\n\n\næä»¬æäº¤ä»»å¡æ¶ä¹å¯ä»¥éè¿å±æ§æ¥æ§å¶ æ ¸æ°ååå­\n\néç½®Executorå¯ç¨åå­ä¸º2Gï¼ä½¿ç¨CPUæ ¸æ°ä¸º2ä¸ª\n\nbin/spark-submit \\\n--class org.apache.spark.examples.SparkPi \\\n--master spark://hadoop102:7077 \\\n--executor-memory 2G \\\n--total-executor-cores 2 \\\n./examples/jars/spark-examples_2.11-2.1.1.jar \\\n10\n\n\n1\n2\n3\n4\n5\n6\n7\n\n\nåæ°                         è§£é                                                          å¯éå¼ä¸¾ä¾\n--class                    Sparkç¨åºä¸­åå«ä¸»å½æ°çç±»                                             \n--master                   Sparkç¨åºè¿è¡çæ¨¡å¼                                                æ¬å°æ¨¡å¼ï¼local[*]ãspark://hadoop102:7077ã Yarn\n--executor-memory 1G       æå®æ¯ä¸ªexecutorå¯ç¨åå­ä¸º1G                                         ç¬¦åéç¾¤åå­éç½®å³å¯ï¼å·ä½æåµå·ä½åæã\n--total-executor-cores 2   æå®ææexecutorä½¿ç¨çcpuæ ¸æ°ä¸º2ä¸ª                                     \napplication-jar            æåå¥½çåºç¨jarï¼åå«ä¾èµãè¿ä¸ªURLå¨éç¾¤ä¸­å¨å±å¯è§ã æ¯å¦hdfs:// å±äº«å­å¨ç³»ç»ï¼å¦ææ¯file://   \n                           pathï¼é£ä¹ææçèç¹çpathé½åå«åæ ·çjar\napplication-arguments      ä¼ ç»main()æ¹æ³çåæ°                                               \n\n\n# éç½®åå²æå¡\n\nç±äºspark-shellåæ­¢æåï¼hadoop102:4040é¡µé¢å°±çä¸å°åå²ä»»å¡çè¿è¡æåµï¼æä»¥å¼åæ¶é½éç½®åå²æå¡å¨è®°å½ä»»å¡è¿è¡æåµã\n\nååæ­¢spark\n\nsbin/stop-all.sh\n\n\n1\n\n\nä¿®æ¹spark-default.confæä»¶\n\ncd /opt/module/spark-standalone/conf/\nmv spark-defaults.conf.template spark-defaults.conf\nvi spark-defaults.conf\n\n\n1\n2\n3\n\n\nspark.eventLog.enabled          true\nspark.eventLog.dir               hdfs://hadoop102:8020/directory\n\n\n1\n2\n\n\nåå\n\nxsync spark-defaults.conf\n\n\n1\n\n\nå¯å¨hadoopéç¾¤å¹¶ä¸ä¿è¯logdirçç®å½æåå­å¨\n\nstart-dfs.sh\nhadoop fs -mkdir /directory\n\n\n1\n2\n\n\nä¿®æ¹spark-env.shæä»¶\n\nvi spark-env.sh\n\nexport SPARK_HISTORY_OPTS="\n-Dspark.history.ui.port=18080 \n-Dspark.history.fs.logDirectory=hdfs://hadoop102:8020/directory \n-Dspark.history.retainedApplications=30"\n\n\n1\n2\n3\n4\n5\n6\n\n\nåæ°1å«ä¹ï¼WEBUIè®¿é®çç«¯å£å·ä¸º18080\n\nåæ°2å«ä¹ï¼æå®åå²æå¡å¨æ¥å¿å­å¨è·¯å¾\n\nåæ°3å«ä¹ï¼æå®ä¿å­Applicationåå²è®°å½çä¸ªæ°ï¼å¦æè¶è¿è¿ä¸ªå¼ï¼æ§çåºç¨ç¨åºä¿¡æ¯å°è¢«å é¤ï¼è¿ä¸ªæ¯åå­ä¸­çåºç¨æ°ï¼èä¸æ¯é¡µé¢ä¸æ¾ç¤ºçåºç¨æ°ã\n\nååéç½®æä»¶\n\nxsync spark-env.sh\n\n\n1\n\n\nå¯å¨spark\n\nsbin/start-all.sh\n\n\n1\n\n\nå¯å¨åå²æå¡\n\nsbin/start-history-server.sh\n\n\n1\n\n\n\n\nåæ§è¡ä»»å¡\n\nbin/spark-submit \\\n--class org.apache.spark.examples.SparkPi \\\n--master spark://hadoop102:7077 \\\n--executor-memory 1G \\\n--total-executor-cores 2 \\\n./examples/jars/spark-examples_2.11-2.1.1.jar \\\n10\n\n\n1\n2\n3\n4\n5\n6\n7\n\n\nè®¿é®åå²æå¡å¨\n\nhttp://hadoop102:18080/\n\n\n\n\n# éç½®é«å¯ç¨ï¼HAï¼\n\n\n\nåæ­¢sparkéç¾¤\n\nsbin/stop-all.sh\n\n\n1\n\n\nå¯å¨zookeeper\n\nzk.sh start\n\n\n1\n\n\nä¿®æ¹spark-env.shæä»¶æ·»å å¦ä¸éç½®\n\nvim conf/spark-env.sh\n\n#æ³¨éæå¦ä¸åå®¹ï¼\n#SPARK_MASTER_HOST=hadoop102\n#SPARK_MASTER_PORT=7077\n\n#æ·»å ä¸å¦ä¸åå®¹ãéç½®ç±Zookeeperç®¡çMasterï¼å¨Zookeeperèç¹ä¸­èªå¨åå»º/sparkç®å½ï¼ç¨äºç®¡çï¼\nexport SPARK_DAEMON_JAVA_OPTS="\n-Dspark.deploy.recoveryMode=ZOOKEEPER \n-Dspark.deploy.zookeeper.url=hadoop102,hadoop103,hadoop104 \n-Dspark.deploy.zookeeper.dir=/spark"\n\n#Zookeeper3.5çAdminServeré»è®¤ç«¯å£æ¯8080ï¼åSparkçWebUIå²çª æä»¥è¦æsparké»è®¤8080ç«¯å£æ¹ä¸º8989\nexport SPARK_MASTER_WEBUI_PORT=8989\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n\n\nååéç½®\n\nxsync conf/spark-env.sh\n\n\n1\n\n\nå¯å¨\n\nsbin/start-all.sh\n\n\n1\n\n\nå¨103ä¸åç¬å¯å¨masterèç¹ ä¸å±æä¸¤ä¸ªmasterèç¹\n\nsbin/start-master.sh\n\n\n1\n\n\n\n\nhadoop103ä¸çmasterå¤äºå¾å½ç¶æ\n\nå¨102å°sprak-local/input æ°æ®ä¸ä¼ å°hadoopéç¾¤ç/inputç®å½\n\nhadoop fs -put /opt/module/spark-local/input/ /input\n\n\n1\n\n\nspark HAéç¾¤è®¿é® æ³¨æmaster ä¸ºä¸¤ä¸ªspark master\n\nbin/spark-shell \\\n--master spark://hadoop102:7077,hadoop103:7077 \\\n--executor-memory 2g \\\n--total-executor-cores 2\n\n\n1\n2\n3\n4\n\n\næ§è¡Wordcountç¨åº\n\nsc.textFile("hdfs://hadoop102:8020/input").flatMap(_.split(" ")).map((_,1)).reduceByKey(_+_).collect\n\n\n1\n\n\næµè¯é«å¯ç¨ å¨102ä¸killæMasterè¿ç¨\n\næ¥çhadoop103:8989 æ¯å¦ä»STANDBY åä¸ºAlive\n\n\n# è¿è¡æµç¨\n\nSparkæstandalone-clientåstandalone-clusterä¸¤ç§æ¨¡å¼ï¼ä¸»è¦åºå«å¨äºï¼Driverç¨åºçè¿è¡èç¹ã\n\nå®¢æ·ç«¯æ¨¡å¼\n\nbin/spark-submit \\\n--class org.apache.spark.examples.SparkPi \\\n--master spark://hadoop102:7077,hadoop103:7077 \\\n--executor-memory 2G \\\n--total-executor-cores 2 \\\n--deploy-mode client \\\n./examples/jars/spark-examples_2.11-2.1.1.jar \\\n10\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n\n\n--deploy-mode clientï¼è¡¨ç¤ºDriverç¨åºè¿è¡å¨æ¬å°å®¢æ·ç«¯ é»è®¤ä¸ºclient\n\n\n\néç¾¤æ¨¡å¼æ¨¡å¼\n\nbin/spark-submit \\\n--class org.apache.spark.examples.SparkPi \\\n--master spark://hadoop102:7077,hadoop103:7077 \\\n--executor-memory 2G \\\n--total-executor-cores 2 \\\n--deploy-mode cluster \\\n./examples/jars/spark-examples_2.11-2.1.1.jar \\\n10\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n\n\n\n\næ¥çhttp://hadoop102:8989/é¡µé¢ï¼ç¹å»Completed Driverséé¢çWorkerçç»æ\n\n\n\n\n\n\n\n\n# Yarnæ¨¡å¼\n\nSparkå®¢æ·ç«¯ç´æ¥è¿æ¥Yarnï¼ä¸éè¦é¢å¤æå»ºSparkéç¾¤ã\n\nåæ­¢Standaloneæ¨¡å¼ä¸çsparkéç¾¤\n\nsbin/stop-all.sh\nsbin/stop-master.sh  #103çmaster\nzk.sh stop\n\n\n1\n2\n3\n\n\nè§£åå®è£\n\ncd /opt/software\ntar -zxvf spark-2.1.1-bin-hadoop2.7.tgz -C /opt/module/\ncd /opt/module/\nmv spark-2.1.1-bin-hadoop2.7/ spark-yarn\n\n\n1\n2\n3\n4\n\n\nä¿®æ¹hadoopéç½®æä»¶/opt/module/hadoop-2.7.2/etc/hadoop/yarn-site.xml æ·»å å¦ä¸åå®¹\n\nå ä¸ºæµè¯ç¯å¢èææºåå­è¾å°ï¼é²æ­¢æ§è¡è¿ç¨è¿è¡è¢«æå¤ææ­»ï¼åå¦ä¸éç½®\n\nvi /opt/module/hadoop-3.1.3/etc/hadoop/yarn-site.xml\n\n\n1\n\n\n\x3c!--æ¯å¦å¯å¨ä¸ä¸ªçº¿ç¨æ£æ¥æ¯ä¸ªä»»å¡æ­£ä½¿ç¨çç©çåå­éï¼å¦æä»»å¡è¶åºåéå¼ï¼åç´æ¥å°å¶ææï¼é»è®¤æ¯true --\x3e\n<property>\n     <name>yarn.nodemanager.pmem-check-enabled</name>\n     <value>false</value>\n</property>\n\n\x3c!--æ¯å¦å¯å¨ä¸ä¸ªçº¿ç¨æ£æ¥æ¯ä¸ªä»»å¡æ­£ä½¿ç¨çèæåå­éï¼å¦æä»»å¡è¶åºåéå¼ï¼åç´æ¥å°å¶ææï¼é»è®¤æ¯true --\x3e\n<property>\n     <name>yarn.nodemanager.vmem-check-enabled</name>\n     <value>false</value>\n</property>\n\x3c!-- Spark2ä¸­jerseyçæ¬æ¯2.22ï¼ä½æ¯yarnä¸­è¿éè¦ä¾èµ1.9ï¼çæ¬ä¸å¼å®¹ --\x3e\n<property>\n\t    <name>yarn.timeline-service.enabled</name>\n\t\t<value>false</value>\n</property>\t\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n\n\nåå\n\nxsync /opt/module/hadoop-3.1.3/etc/hadoop/yarn-site.xml\n\n\n1\n\n\nä¿®æ¹/opt/module/spark/conf/spark-env.shï¼æ·»å YARN_CONF_DIRéç½®ï¼ä¿è¯åç»­è¿è¡ä»»å¡çè·¯å¾é½åæéç¾¤è·¯å¾\n\ncd /opt/module/spark-yarn/conf/\nmv spark-env.sh.template spark-env.sh\nvi spark-env.sh\n\nYARN_CONF_DIR=/opt/module/hadoop-3.1.3/etc/hadoop\n\n\n1\n2\n3\n4\n5\n\n\nååspark-yarn\n\nxsync /opt/module/spark-yarn/\n\n\n1\n\n\nå¯å¨HDFSä»¥åYARNéç¾¤\n\nstart-dfs.sh #102\nstart-yarn.sh #103\n\n\n1\n2\n\n\næ§è¡æ±PIæ¡ä¾\n\nbin/spark-submit \\\n--class org.apache.spark.examples.SparkPi \\\n--master yarn \\\n./examples/jars/spark-examples_2.11-2.1.1.jar \\\n10\n\n\n1\n2\n3\n4\n5\n\n\n--master yarnï¼è¡¨ç¤ºYarnæ¹å¼è¿è¡\n\nå¦æéå° WARN Utils: Service \'SparkUI\' could not bind on port 4040. Attempting port 4041. java.lang.NoClassDefFoundError: com/sun/jersey/api/client/config/ClientConfig æ¥é ä¸é¢éç½®yarn-site.xmlå·²ç»è§£å³æ­¤æ¥éé®é¢\n\n1.æ¾å°yarnä¸é¢ç¸å³å\n\nfind /usr/hdp/ |grep jersey\n\n\n1\n\n\n2.æ·è´jarå°spark\n\næç¼ºçç±»å¨ jersey-core-1.9.jar å jersey-client-1.9.jar ä¸¤ä¸ªjaråä¸­ å° jersey-core-1.9.jar å jersey-client-1.9.jar è¿ä¸¤ä¸ªåæ·è´å°$SPARK_HOME/jarsç®å½ä¸\n\n\n# éç½®åå²æå¡\n\nç±äºæ¯éæ°è§£åçSparkåç¼©æä»¶ï¼æä»¥éè¦éå¯¹Yarnæ¨¡å¼ï¼åæ¬¡éç½®ä¸ä¸åå²æå¡å¨ã\n\nä¿®æ¹spark-default.conf.template\n\ncd /opt/module/spark-yarn/conf/\nmv spark-defaults.conf.template spark-defaults.conf\nvi spark-defaults.conf\n\n#éç½®sparkåå²æå¡\nspark.eventLog.enabled          true\nspark.eventLog.dir               hdfs://hadoop102:8020/directory\n\nxsync spark-defaults.conf\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n\n\nä¿®æ¹ spark-env.shéç½®\n\nvi spark-env.sh\n\nexport SPARK_HISTORY_OPTS="\n-Dspark.history.ui.port=18080 \n-Dspark.history.fs.logDirectory=hdfs://hadoop102:8020/directory \n-Dspark.history.retainedApplications=30"\n\nxsync spark-env.sh\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n\n\n\n# éç½®æ¥çåå²æ¥å¿\n\nä¸ºäºä»Yarnä¸å³èå°Sparkåå²æå¡å¨ï¼éè¦éç½®å³èè·¯å¾\n\nä¿®æ¹éç½®æä»¶/opt/module/spark/conf/spark-defaults.conf\n\nvim /opt/module/spark-yarn/conf/spark-defaults.conf\n\nspark.yarn.historyServer.address=hadoop102:18080\nspark.history.ui.port=18080\n\nxsync /opt/module/spark-yarn/conf/spark-defaults.conf\n\n\n1\n2\n3\n4\n5\n6\n\n\nå¯å¨sparkåå²æå¡\n\ncd /opt/module/spark-yarn/\nsbin/start-history-server.sh \n\n\n1\n2\n\n\néæ°æäº¤ä»»å¡\n\nbin/spark-submit \\\n--class org.apache.spark.examples.SparkPi \\\n--master yarn \\\n./examples/jars/spark-examples_2.11-2.1.1.jar \\\n10\n\n\n1\n2\n3\n4\n5\n\n\næ¥è¯¢http://hadoop103:8088/cluster\n\n\n\n\n# è¿è¡æµç¨\n\nSparkæyarn-clientåyarn-clusterä¸¤ç§æ¨¡å¼ï¼ä¸»è¦åºå«å¨äºï¼Driverç¨åºçè¿è¡èç¹ã\n\nyarn-clientï¼Driverç¨åºè¿è¡å¨å®¢æ·ç«¯ï¼éç¨äºäº¤äºãè°è¯ï¼å¸æç«å³çå°appçè¾åºã\n\nyarn-clusterï¼Driverç¨åºè¿è¡å¨ç±ResourceManagerå¯å¨çAPPMasteréç¨äºçäº§ç¯å¢ã\n\nå®¢æ·ç«¯æ¨¡å¼ï¼é»è®¤ï¼\n\nbin/spark-submit \\\n--class org.apache.spark.examples.SparkPi \\\n--master yarn \\\n--deploy-mode client \\\n./examples/jars/spark-examples_2.11-2.1.1.jar \\\n10\n\n\n1\n2\n3\n4\n5\n6\n\n\n\n\néç¾¤æ¨¡å¼\n\nbin/spark-submit \\\n--class org.apache.spark.examples.SparkPi \\\n--master yarn \\\n--deploy-mode cluster \\\n./examples/jars/spark-examples_2.11-2.1.1.jar \\\n10\n\n\n1\n2\n3\n4\n5\n6\n\n\n\n\n\n\né»è®¤æ æ³è®¿é®éè¦å¨yarn-site.xmlæ·»å éç½®å¹¶å¯å¨yarnåå²æå¡å¨\n\nvim /opt/module/hadoop-3.1.3/etc/hadoop/yarn-site.xml\n\n\n1\n\n\n<property>\n    <name>yarn.log.server.url</name>\n    <value>http://hadoop104:19888/jobhistory/logs</value>\n</property>\n\n\n1\n2\n3\n4\n\n\nå¯å¨åå²æå¡å¨\n\nmapred --daemon start historyserver\n\n\n1\n\n\nhttp://hadoop102:19888/jobhistory/logs/hadoop103:44236/container_1639655468064_0005_01_000001/container_1639655468064_0005_01_000001/atguigu/stdout?start=-4096\n\n\n\n\n\n\n# Mesosæ¨¡å¼\n\nSparkå®¢æ·ç«¯ç´æ¥è¿æ¥Mesosï¼ä¸éè¦é¢å¤æå»ºSparkéç¾¤ãå½ååºç¨æ¯è¾å°ï¼æ´å¤çæ¯è¿ç¨Yarnè°åº¦ã\n\n\n# å ç§æ¨¡å¼å¯¹æ¯\n\næ¨¡å¼           SPARKå®è£æºå¨æ°   éå¯å¨çè¿ç¨          æå±è\nLocal        1            æ                Spark\nStandalone   3            MasteråWorker   Spark\nYarn         1            YarnåHDFS       Hadoop\n\n\n# ç«¯å£å·æ»ç»\n\n 1. Sparkåå²æå¡å¨ç«¯å£å·ï¼18080 ï¼ç±»æ¯äºHadoopåå²æå¡å¨ç«¯å£å·ï¼19888ï¼\n 2. Spark Master Webç«¯å£å·ï¼8080ï¼ç±»æ¯äºHadoopçNameNode Webç«¯å£å·ï¼9870(50070)ï¼\n 3. Spark Masteråé¨éä¿¡æå¡ç«¯å£å·ï¼7077 ï¼ç±»æ¯äºHadoopç8020(9000)ç«¯å£ï¼\n 4. Sparkæ¥çå½åSpark-shellè¿è¡ä»»å¡æåµç«¯å£å·ï¼4040\n 5. Hadoop YARNä»»å¡è¿è¡æåµæ¥çç«¯å£å·ï¼8088\n\n\n# WordCountæ¡ä¾\n\nSpark Shellä»å¨æµè¯åéªè¯æä»¬çç¨åºæ¶ä½¿ç¨çè¾å¤ï¼å¨çäº§ç¯å¢ä¸­ï¼éå¸¸ä¼å¨IDEä¸­ç¼å¶ç¨åºï¼ç¶åææJaråï¼ç¶åæäº¤å°éç¾¤ï¼æå¸¸ç¨çæ¯åå»ºä¸ä¸ªMavené¡¹ç®ï¼å©ç¨Mavenæ¥ç®¡çJaråçä¾èµã\n\næ°å»ºmavené¡¹ç® å¹¶æ·»å scalaæ¡æ¶æ¯æ å¯¼å¥pomæä»¶\n\n<dependencies>\n    <dependency>\n        <groupId>org.apache.spark</groupId>\n        <artifactId>spark-core_2.11</artifactId>\n        <version>2.1.1</version>\n    </dependency>\n</dependencies>\n<build>\n    <finalName>WordCount</finalName>\n    <plugins>\n        <plugin>\n            <groupId>net.alchim31.maven</groupId>\n            <artifactId>scala-maven-plugin</artifactId>\n            <version>4.5.3</version>\n            <executions>\n                <execution>\n                   <goals>\n                      <goal>compile</goal>\n                      <goal>testCompile</goal>\n                   </goals>\n                </execution>\n             </executions>\n        </plugin>\n    </plugins>\n</build>\n\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n26\n\n\nå¦æmavençæ¬ä¸º3.2.xï¼æä»¶ä¸è½½æ¥éï¼é£ä¹ä¿®æ¹æä»¶çæ¬ä¸º3.3.2\n\nåå»ºä¼´çå¯¹è±¡WordCountï¼ç¼åä»£ç \n\npackage com.atguigu.spark.day01\n\nimport org.apache.spark.rdd.RDD\nimport org.apache.spark.{SparkConf, SparkContext}\n\nobject WordCount {\n  def main(args: Array[String]): Unit = {\n    //åå»ºSparckConfigéç½®æä»¶\n    val conf: SparkConf = new SparkConf().setMaster("local[*]").setAppName("WordCount")\n    //åå»ºsparkContextå¯¹è±¡\n    val sc: SparkContext = new SparkContext(conf)\n    //è¯»åå¤é¨æ°æ®\n    val textRDD: RDD[String] = sc.textFile(args(0))\n    //å¯¹è¯»åå°çåå®¹è¿è¡åå²å¹¶è¿è¡æå¹³åæä½\n    val flatMapRDD: RDD[String] = textRDD.flatMap(_.split(" "))\n    //å¯¹æ°æ®éä¸­çåå®¹è¿è¡ç»æçè½¬æ¢ -- è®¡æ°\n    val mapRDD: RDD[(String, Int)] = flatMapRDD.map((_, 1))\n    //å¯¹ç¸ååè¯ åºç°æ¬¡æ°è¿è¡æ±æ»\n    val reduceRDD: RDD[(String, Int)] = mapRDD.reduceByKey(_ + _)\n    //å­å¨ä¸ºæä»¶\n    reduceRDD.saveAsTextFile(args(1))\n//    val res: Array[(String, Int)] = reduceRDD.collect()\n    \n    //éæ¾èµæº\n    sc.stop()\n  }\n\n}\n\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n26\n27\n28\n29\n\n\næ¬å°è¿è¡\n\n\n\næ·»å æåæä»¶\n\n     <plugin>\n                <groupId>org.apache.maven.plugins</groupId>\n                <artifactId>maven-assembly-plugin</artifactId>\n                <version>3.0.0</version>\n                <configuration>\n                    <archive>\n                        <manifest>\n                            <mainClass>com.atguigu.spark.day01.WordCount</mainClass>\n                        </manifest>\n                    </archive>\n                    <descriptorRefs>\n                        <descriptorRef>jar-with-dependencies</descriptorRef>\n                    </descriptorRefs>\n                </configuration>\n                <executions>\n                    <execution>\n                        <id>make-assembly</id>\n                        <phase>package</phase>\n                        <goals>\n                            <goal>single</goal>\n                        </goals>\n                    </execution>\n                </executions>\n            </plugin>\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n\n\nmavenç¹å»packageæåï¼å°WordCount.jar(ä¸å¸¦ä¾èµ)ä¸ä¼ å°/opt/module/spark-yarnç®å½\n\nå¨HDFSä¸åå»ºï¼å­å¨è¾å¥æ°æ®æä»¶çè·¯å¾/input\n\nhadoop fs -mkdir /input\nhadoop fs -put /opt/module/spark-local-standalone/input/1.txt /input\n\n\n1\n2\n\n\næ§è¡ä»»å¡\n\ncd /opt/module/spark-yarn\nbin/spark-submit \\\n--class com.atguigu.spark.day01.WordCount \\\n--master yarn \\\nWordCount.jar \\\n/input \\\n/output\n\n\n1\n2\n3\n4\n5\n6\n7\n',normalizedContent:'# spark å¥é¨\n\né¨ç½²sparkéç¾¤å¤§ä½ä¸åä¸ºä¸¤ç§æ¨¡å¼ï¼åæºæ¨¡å¼ä¸éç¾¤æ¨¡å¼ å¤§å¤æ°åå¸å¼æ¡æ¶é½æ¯æåæºæ¨¡å¼ï¼æ¹ä¾¿å¼åèè°è¯æ¡æ¶çè¿è¡ç¯å¢ãä½æ¯å¨çäº§ç¯å¢ä¸­ï¼å¹¶ä¸ä¼ä½¿ç¨åæºæ¨¡å¼ãå æ­¤ï¼åç»­ç´æ¥æç§éç¾¤æ¨¡å¼é¨ç½²sparkéç¾¤ã ä¸é¢è¯¦ç»åä¸¾äºsparkç®åæ¯æçé¨ç½²æ¨¡å¼ã\n\n 1. localæ¨¡å¼ï¼å¨æ¬å°é¨ç½²åä¸ªsparkæå¡\n 2. standaloneæ¨¡å¼ï¼sparkèªå¸¦çä»»å¡è°åº¦æ¨¡å¼ãï¼å½åå¸¸ç¨ï¼\n 3. yarnæ¨¡å¼ï¼sparkä½¿ç¨hadoopçyarnç»ä»¶è¿è¡èµæºä¸ä»»å¡è°åº¦ãï¼å½åå¸¸ç¨ï¼\n 4. mesosæ¨¡å¼ï¼sparkä½¿ç¨mesoså¹³å°è¿è¡èµæºä¸ä»»å¡çè°åº¦ã\n\n1ï¼å®ç½å°åï¼http://spark.apache.org/\n\n2ï¼ææ¡£æ¥çå°åï¼https://spark.apache.org/docs/2.1.1/\n\n3ï¼ä¸è½½å°åï¼https://spark.apache.org/downloads.html\n\n\n# localæ¨¡å¼\n\nä¸ä¼ å¹¶è§£åå®è£å\n\ncd /opt/software/\ntar -zxvf spark-2.1.1-bin-hadoop2.7.tgz -c /opt/module/\ncd /opt/module/\nmv spark-2.1.1-bin-hadoop2.7/ spark-local\ncd spark-local\n\n\n1\n2\n3\n4\n5\n\n\n\n# å®æ¹æ±piæ¡ä¾\n\nå©ç¨èç¹Â·å¡ç½ç®æ³æ±pi\n\nbin/spark-submit \\\n--class org.apache.spark.examples.sparkpi \\\n--master local[2] \\\n./examples/jars/spark-examples_2.11-2.1.1.jar \\\n10\n\n\n1\n2\n3\n4\n5\n\n\n * --classï¼è¡¨ç¤ºè¦æ§è¡ç¨åºçä¸»ç±»ï¼\n\n * --master local[2]\n   \n   * local: æ²¡ææå®çº¿ç¨æ°ï¼åææè®¡ç®é½è¿è¡å¨ä¸ä¸ªçº¿ç¨å½ä¸­ï¼æ²¡æä»»ä½å¹¶è¡è®¡ç®\n   \n   * local[k]:æå®ä½¿ç¨kä¸ªcoreæ¥è¿è¡è®¡ç®ï¼æ¯å¦local[2]å°±æ¯è¿è¡2ä¸ªcoreæ¥æ§è¡\n   \n   * local[*]: èªå¨å¸®ä½ æç§cpuæå¤æ ¸æ¥è®¾ç½®çº¿ç¨æ°ãæ¯å¦cpuæ4æ ¸ï¼sparkå¸®ä½ èªå¨è®¾ç½®4ä¸ªçº¿ç¨è®¡ç®\n\n * spark-examples_2.11-2.1.1.jarï¼è¦è¿è¡çç¨åºï¼\n\n * 10ï¼è¦è¿è¡ç¨åºçè¾å¥åæ°ï¼è®¡ç®åå¨çÏçæ¬¡æ°ï¼è®¡ç®æ¬¡æ°è¶å¤ï¼åç¡®çè¶é«ï¼ï¼\n\n\n\n\n# å®æ¹wordcountæ¡ä¾\n\nè¯»åå¤ä¸ªè¾å¥æä»¶ï¼ç»è®¡æ¯ä¸ªåè¯åºç°çæ»æ¬¡æ°\n\n\n\nåå¤æ°æ®\n\nmkdir input\necho hello world > input/1.txt\necho hello spark > input/2.txt\n\n\n1\n2\n3\n\n\nå¯å¨spark-shell\n\nbin/spark-shell\n\n\n1\n\n\n\n\nscæ¯sparkcoreç¨åºçå¥å£ï¼sparkæ¯sparksqlç¨åºå¥å£ï¼master = local[*]è¡¨ç¤ºæ¬å°æ¨¡å¼è¿è¡ã\n\nsc.textfile("/opt/module/spark-local/input").flatmap(_.split(" ")).map((_,1)).reducebykey(_+_).collect\n\n\n1\n\n\n\n\næ¥çwebé¡µé¢\n\n\n\nspark-shellçªå£å³é­æï¼åhadoop102:4040é¡µé¢å³é­\n\næ¬å°æ¨¡å¼ä¸ï¼é»è®¤çè°åº¦å¨ä¸ºfifoã\n\n\n\n\n# éç¾¤è§è²\n\n\n# master å worker\n\n\n\n\n# driver å executor\n\n\n\nmasteråworkeræ¯sparkçå®æ¤è¿ç¨ï¼å³sparkå¨ç¹å®æ¨¡å¼ä¸æ­£å¸¸è¿è¡æå¿é¡»çè¿ç¨ãdriveråexecutoræ¯ä¸´æ¶ç¨åºï¼å½æå·ä½ä»»å¡æäº¤å°sparkéç¾¤æä¼å¼å¯çç¨åº\n\n\n# standaloneæ¨¡å¼\n\nstandaloneæ¨¡å¼æ¯sparkèªå¸¦çèµæºè°å¨å¼æï¼æå»ºä¸ä¸ªç±master + slaveææçsparkéç¾¤ï¼sparkè¿è¡å¨éç¾¤ä¸­ã\n\nè¿ä¸ªè¦åhadoopä¸­çstandaloneåºå«å¼æ¥ãè¿éçstandaloneæ¯æåªç¨sparkæ¥æ­å»ºä¸ä¸ªéç¾¤ï¼ä¸éè¦åå©å¶ä»çæ¡æ¶ãæ¯ç¸å¯¹äºyarnåmesosæ¥è¯´çã\n\néç¾¤è§å\n\n        hadoop102       hadoop103   hadoop104\nspark   master worker   worker      worker\n\nè§£åå®è£\n\ncd /opt/software/\ntar -zxvf spark-2.1.1-bin-hadoop2.7.tgz -c /opt/module/\ncd /opt/module/\nmv spark-2.1.1-bin-hadoop2.7/ spark-standalone\ncd spark-standalone\n\n\n1\n2\n3\n4\n5\n\n\néç½®spark\n\ncd conf\nmv slaves.template slaves\nvim slaves\n\nhadoop102\nhadoop103\nhadoop104\n\n\n1\n2\n3\n4\n5\n6\n7\n\n\nä¿®æ¹spark-env.shæä»¶ï¼æ·»å masterèç¹\n\nmv spark-env.sh.template spark-env.sh\nvim spark-env.sh\n\nspark_master_host=hadoop102\nspark_master_port=7077\n\n\n1\n2\n3\n4\n5\n\n\nåå\n\nxsync /opt/module/spark-standalone/\n\n\n1\n\n\nå¯å¨éç¾¤\n\ncd ..\nsbin/start-all.sh\n\n\n1\n2\n\n\næ¥çè¿ç¨\n\njps\n\n================atguigu@hadoop102================\n3330 jps\n3238 worker\n3163 master\n================atguigu@hadoop103================\n2966 jps\n2908 worker\n================atguigu@hadoop104================\n2978 worker\n3036 jps\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n\n\nå¦æéå° âjava_home not setâ å¼å¸¸ï¼å¯ä»¥å¨sbinç®å½ä¸çspark-config.sh æä»¶ä¸­å å¥å¦ä¸éç½®\n\nexport java_home=/opt/module/jdk1.8.0_212\n\n\n1\n\n\nç½é¡µæ¥ç è®¿é®hadoop102:8080\n\nå®æ¹æ±piæ¡ä¾\n\nbin/spark-submit \\\n--class org.apache.spark.examples.sparkpi \\\n--master spark://hadoop102:7077 \\\n./examples/jars/spark-examples_2.11-2.1.1.jar \\\n10\n\n\n1\n2\n3\n4\n5\n\n\næ¥çwebé¡µé¢ hadoop102:8080\n\n\n\nä¸å±12ä¸ªcores 12æ ¸ æ¯ä¸ªæ ¸1024åå­\n\n\n\næä»¬æäº¤ä»»å¡æ¶ä¹å¯ä»¥éè¿å±æ§æ¥æ§å¶ æ ¸æ°ååå­\n\néç½®executorå¯ç¨åå­ä¸º2gï¼ä½¿ç¨cpuæ ¸æ°ä¸º2ä¸ª\n\nbin/spark-submit \\\n--class org.apache.spark.examples.sparkpi \\\n--master spark://hadoop102:7077 \\\n--executor-memory 2g \\\n--total-executor-cores 2 \\\n./examples/jars/spark-examples_2.11-2.1.1.jar \\\n10\n\n\n1\n2\n3\n4\n5\n6\n7\n\n\nåæ°                         è§£é                                                          å¯éå¼ä¸¾ä¾\n--class                    sparkç¨åºä¸­åå«ä¸»å½æ°çç±»                                             \n--master                   sparkç¨åºè¿è¡çæ¨¡å¼                                                æ¬å°æ¨¡å¼ï¼local[*]ãspark://hadoop102:7077ã yarn\n--executor-memory 1g       æå®æ¯ä¸ªexecutorå¯ç¨åå­ä¸º1g                                         ç¬¦åéç¾¤åå­éç½®å³å¯ï¼å·ä½æåµå·ä½åæã\n--total-executor-cores 2   æå®ææexecutorä½¿ç¨çcpuæ ¸æ°ä¸º2ä¸ª                                     \napplication-jar            æåå¥½çåºç¨jarï¼åå«ä¾èµãè¿ä¸ªurlå¨éç¾¤ä¸­å¨å±å¯è§ã æ¯å¦hdfs:// å±äº«å­å¨ç³»ç»ï¼å¦ææ¯file://   \n                           pathï¼é£ä¹ææçèç¹çpathé½åå«åæ ·çjar\napplication-arguments      ä¼ ç»main()æ¹æ³çåæ°                                               \n\n\n# éç½®åå²æå¡\n\nç±äºspark-shellåæ­¢æåï¼hadoop102:4040é¡µé¢å°±çä¸å°åå²ä»»å¡çè¿è¡æåµï¼æä»¥å¼åæ¶é½éç½®åå²æå¡å¨è®°å½ä»»å¡è¿è¡æåµã\n\nååæ­¢spark\n\nsbin/stop-all.sh\n\n\n1\n\n\nä¿®æ¹spark-default.confæä»¶\n\ncd /opt/module/spark-standalone/conf/\nmv spark-defaults.conf.template spark-defaults.conf\nvi spark-defaults.conf\n\n\n1\n2\n3\n\n\nspark.eventlog.enabled          true\nspark.eventlog.dir               hdfs://hadoop102:8020/directory\n\n\n1\n2\n\n\nåå\n\nxsync spark-defaults.conf\n\n\n1\n\n\nå¯å¨hadoopéç¾¤å¹¶ä¸ä¿è¯logdirçç®å½æåå­å¨\n\nstart-dfs.sh\nhadoop fs -mkdir /directory\n\n\n1\n2\n\n\nä¿®æ¹spark-env.shæä»¶\n\nvi spark-env.sh\n\nexport spark_history_opts="\n-dspark.history.ui.port=18080 \n-dspark.history.fs.logdirectory=hdfs://hadoop102:8020/directory \n-dspark.history.retainedapplications=30"\n\n\n1\n2\n3\n4\n5\n6\n\n\nåæ°1å«ä¹ï¼webuiè®¿é®çç«¯å£å·ä¸º18080\n\nåæ°2å«ä¹ï¼æå®åå²æå¡å¨æ¥å¿å­å¨è·¯å¾\n\nåæ°3å«ä¹ï¼æå®ä¿å­applicationåå²è®°å½çä¸ªæ°ï¼å¦æè¶è¿è¿ä¸ªå¼ï¼æ§çåºç¨ç¨åºä¿¡æ¯å°è¢«å é¤ï¼è¿ä¸ªæ¯åå­ä¸­çåºç¨æ°ï¼èä¸æ¯é¡µé¢ä¸æ¾ç¤ºçåºç¨æ°ã\n\nååéç½®æä»¶\n\nxsync spark-env.sh\n\n\n1\n\n\nå¯å¨spark\n\nsbin/start-all.sh\n\n\n1\n\n\nå¯å¨åå²æå¡\n\nsbin/start-history-server.sh\n\n\n1\n\n\n\n\nåæ§è¡ä»»å¡\n\nbin/spark-submit \\\n--class org.apache.spark.examples.sparkpi \\\n--master spark://hadoop102:7077 \\\n--executor-memory 1g \\\n--total-executor-cores 2 \\\n./examples/jars/spark-examples_2.11-2.1.1.jar \\\n10\n\n\n1\n2\n3\n4\n5\n6\n7\n\n\nè®¿é®åå²æå¡å¨\n\nhttp://hadoop102:18080/\n\n\n\n\n# éç½®é«å¯ç¨ï¼haï¼\n\n\n\nåæ­¢sparkéç¾¤\n\nsbin/stop-all.sh\n\n\n1\n\n\nå¯å¨zookeeper\n\nzk.sh start\n\n\n1\n\n\nä¿®æ¹spark-env.shæä»¶æ·»å å¦ä¸éç½®\n\nvim conf/spark-env.sh\n\n#æ³¨éæå¦ä¸åå®¹ï¼\n#spark_master_host=hadoop102\n#spark_master_port=7077\n\n#æ·»å ä¸å¦ä¸åå®¹ãéç½®ç±zookeeperç®¡çmasterï¼å¨zookeeperèç¹ä¸­èªå¨åå»º/sparkç®å½ï¼ç¨äºç®¡çï¼\nexport spark_daemon_java_opts="\n-dspark.deploy.recoverymode=zookeeper \n-dspark.deploy.zookeeper.url=hadoop102,hadoop103,hadoop104 \n-dspark.deploy.zookeeper.dir=/spark"\n\n#zookeeper3.5çadminserveré»è®¤ç«¯å£æ¯8080ï¼åsparkçwebuiå²çª æä»¥è¦æsparké»è®¤8080ç«¯å£æ¹ä¸º8989\nexport spark_master_webui_port=8989\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n\n\nååéç½®\n\nxsync conf/spark-env.sh\n\n\n1\n\n\nå¯å¨\n\nsbin/start-all.sh\n\n\n1\n\n\nå¨103ä¸åç¬å¯å¨masterèç¹ ä¸å±æä¸¤ä¸ªmasterèç¹\n\nsbin/start-master.sh\n\n\n1\n\n\n\n\nhadoop103ä¸çmasterå¤äºå¾å½ç¶æ\n\nå¨102å°sprak-local/input æ°æ®ä¸ä¼ å°hadoopéç¾¤ç/inputç®å½\n\nhadoop fs -put /opt/module/spark-local/input/ /input\n\n\n1\n\n\nspark haéç¾¤è®¿é® æ³¨æmaster ä¸ºä¸¤ä¸ªspark master\n\nbin/spark-shell \\\n--master spark://hadoop102:7077,hadoop103:7077 \\\n--executor-memory 2g \\\n--total-executor-cores 2\n\n\n1\n2\n3\n4\n\n\næ§è¡wordcountç¨åº\n\nsc.textfile("hdfs://hadoop102:8020/input").flatmap(_.split(" ")).map((_,1)).reducebykey(_+_).collect\n\n\n1\n\n\næµè¯é«å¯ç¨ å¨102ä¸killæmasterè¿ç¨\n\næ¥çhadoop103:8989 æ¯å¦ä»standby åä¸ºalive\n\n\n# è¿è¡æµç¨\n\nsparkæstandalone-clientåstandalone-clusterä¸¤ç§æ¨¡å¼ï¼ä¸»è¦åºå«å¨äºï¼driverç¨åºçè¿è¡èç¹ã\n\nå®¢æ·ç«¯æ¨¡å¼\n\nbin/spark-submit \\\n--class org.apache.spark.examples.sparkpi \\\n--master spark://hadoop102:7077,hadoop103:7077 \\\n--executor-memory 2g \\\n--total-executor-cores 2 \\\n--deploy-mode client \\\n./examples/jars/spark-examples_2.11-2.1.1.jar \\\n10\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n\n\n--deploy-mode clientï¼è¡¨ç¤ºdriverç¨åºè¿è¡å¨æ¬å°å®¢æ·ç«¯ é»è®¤ä¸ºclient\n\n\n\néç¾¤æ¨¡å¼æ¨¡å¼\n\nbin/spark-submit \\\n--class org.apache.spark.examples.sparkpi \\\n--master spark://hadoop102:7077,hadoop103:7077 \\\n--executor-memory 2g \\\n--total-executor-cores 2 \\\n--deploy-mode cluster \\\n./examples/jars/spark-examples_2.11-2.1.1.jar \\\n10\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n\n\n\n\næ¥çhttp://hadoop102:8989/é¡µé¢ï¼ç¹å»completed driverséé¢çworkerçç»æ\n\n\n\n\n\n\n\n\n# yarnæ¨¡å¼\n\nsparkå®¢æ·ç«¯ç´æ¥è¿æ¥yarnï¼ä¸éè¦é¢å¤æå»ºsparkéç¾¤ã\n\nåæ­¢standaloneæ¨¡å¼ä¸çsparkéç¾¤\n\nsbin/stop-all.sh\nsbin/stop-master.sh  #103çmaster\nzk.sh stop\n\n\n1\n2\n3\n\n\nè§£åå®è£\n\ncd /opt/software\ntar -zxvf spark-2.1.1-bin-hadoop2.7.tgz -c /opt/module/\ncd /opt/module/\nmv spark-2.1.1-bin-hadoop2.7/ spark-yarn\n\n\n1\n2\n3\n4\n\n\nä¿®æ¹hadoopéç½®æä»¶/opt/module/hadoop-2.7.2/etc/hadoop/yarn-site.xml æ·»å å¦ä¸åå®¹\n\nå ä¸ºæµè¯ç¯å¢èææºåå­è¾å°ï¼é²æ­¢æ§è¡è¿ç¨è¿è¡è¢«æå¤ææ­»ï¼åå¦ä¸éç½®\n\nvi /opt/module/hadoop-3.1.3/etc/hadoop/yarn-site.xml\n\n\n1\n\n\n\x3c!--æ¯å¦å¯å¨ä¸ä¸ªçº¿ç¨æ£æ¥æ¯ä¸ªä»»å¡æ­£ä½¿ç¨çç©çåå­éï¼å¦æä»»å¡è¶åºåéå¼ï¼åç´æ¥å°å¶ææï¼é»è®¤æ¯true --\x3e\n<property>\n     <name>yarn.nodemanager.pmem-check-enabled</name>\n     <value>false</value>\n</property>\n\n\x3c!--æ¯å¦å¯å¨ä¸ä¸ªçº¿ç¨æ£æ¥æ¯ä¸ªä»»å¡æ­£ä½¿ç¨çèæåå­éï¼å¦æä»»å¡è¶åºåéå¼ï¼åç´æ¥å°å¶ææï¼é»è®¤æ¯true --\x3e\n<property>\n     <name>yarn.nodemanager.vmem-check-enabled</name>\n     <value>false</value>\n</property>\n\x3c!-- spark2ä¸­jerseyçæ¬æ¯2.22ï¼ä½æ¯yarnä¸­è¿éè¦ä¾èµ1.9ï¼çæ¬ä¸å¼å®¹ --\x3e\n<property>\n\t    <name>yarn.timeline-service.enabled</name>\n\t\t<value>false</value>\n</property>\t\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n\n\nåå\n\nxsync /opt/module/hadoop-3.1.3/etc/hadoop/yarn-site.xml\n\n\n1\n\n\nä¿®æ¹/opt/module/spark/conf/spark-env.shï¼æ·»å yarn_conf_diréç½®ï¼ä¿è¯åç»­è¿è¡ä»»å¡çè·¯å¾é½åæéç¾¤è·¯å¾\n\ncd /opt/module/spark-yarn/conf/\nmv spark-env.sh.template spark-env.sh\nvi spark-env.sh\n\nyarn_conf_dir=/opt/module/hadoop-3.1.3/etc/hadoop\n\n\n1\n2\n3\n4\n5\n\n\nååspark-yarn\n\nxsync /opt/module/spark-yarn/\n\n\n1\n\n\nå¯å¨hdfsä»¥åyarnéç¾¤\n\nstart-dfs.sh #102\nstart-yarn.sh #103\n\n\n1\n2\n\n\næ§è¡æ±piæ¡ä¾\n\nbin/spark-submit \\\n--class org.apache.spark.examples.sparkpi \\\n--master yarn \\\n./examples/jars/spark-examples_2.11-2.1.1.jar \\\n10\n\n\n1\n2\n3\n4\n5\n\n\n--master yarnï¼è¡¨ç¤ºyarnæ¹å¼è¿è¡\n\nå¦æéå° warn utils: service \'sparkui\' could not bind on port 4040. attempting port 4041. java.lang.noclassdeffounderror: com/sun/jersey/api/client/config/clientconfig æ¥é ä¸é¢éç½®yarn-site.xmlå·²ç»è§£å³æ­¤æ¥éé®é¢\n\n1.æ¾å°yarnä¸é¢ç¸å³å\n\nfind /usr/hdp/ |grep jersey\n\n\n1\n\n\n2.æ·è´jarå°spark\n\næç¼ºçç±»å¨ jersey-core-1.9.jar å jersey-client-1.9.jar ä¸¤ä¸ªjaråä¸­ å° jersey-core-1.9.jar å jersey-client-1.9.jar è¿ä¸¤ä¸ªåæ·è´å°$spark_home/jarsç®å½ä¸\n\n\n# éç½®åå²æå¡\n\nç±äºæ¯éæ°è§£åçsparkåç¼©æä»¶ï¼æä»¥éè¦éå¯¹yarnæ¨¡å¼ï¼åæ¬¡éç½®ä¸ä¸åå²æå¡å¨ã\n\nä¿®æ¹spark-default.conf.template\n\ncd /opt/module/spark-yarn/conf/\nmv spark-defaults.conf.template spark-defaults.conf\nvi spark-defaults.conf\n\n#éç½®sparkåå²æå¡\nspark.eventlog.enabled          true\nspark.eventlog.dir               hdfs://hadoop102:8020/directory\n\nxsync spark-defaults.conf\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n\n\nä¿®æ¹ spark-env.shéç½®\n\nvi spark-env.sh\n\nexport spark_history_opts="\n-dspark.history.ui.port=18080 \n-dspark.history.fs.logdirectory=hdfs://hadoop102:8020/directory \n-dspark.history.retainedapplications=30"\n\nxsync spark-env.sh\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n\n\n\n# éç½®æ¥çåå²æ¥å¿\n\nä¸ºäºä»yarnä¸å³èå°sparkåå²æå¡å¨ï¼éè¦éç½®å³èè·¯å¾\n\nä¿®æ¹éç½®æä»¶/opt/module/spark/conf/spark-defaults.conf\n\nvim /opt/module/spark-yarn/conf/spark-defaults.conf\n\nspark.yarn.historyserver.address=hadoop102:18080\nspark.history.ui.port=18080\n\nxsync /opt/module/spark-yarn/conf/spark-defaults.conf\n\n\n1\n2\n3\n4\n5\n6\n\n\nå¯å¨sparkåå²æå¡\n\ncd /opt/module/spark-yarn/\nsbin/start-history-server.sh \n\n\n1\n2\n\n\néæ°æäº¤ä»»å¡\n\nbin/spark-submit \\\n--class org.apache.spark.examples.sparkpi \\\n--master yarn \\\n./examples/jars/spark-examples_2.11-2.1.1.jar \\\n10\n\n\n1\n2\n3\n4\n5\n\n\næ¥è¯¢http://hadoop103:8088/cluster\n\n\n\n\n# è¿è¡æµç¨\n\nsparkæyarn-clientåyarn-clusterä¸¤ç§æ¨¡å¼ï¼ä¸»è¦åºå«å¨äºï¼driverç¨åºçè¿è¡èç¹ã\n\nyarn-clientï¼driverç¨åºè¿è¡å¨å®¢æ·ç«¯ï¼éç¨äºäº¤äºãè°è¯ï¼å¸æç«å³çå°appçè¾åºã\n\nyarn-clusterï¼driverç¨åºè¿è¡å¨ç±resourcemanagerå¯å¨çappmasteréç¨äºçäº§ç¯å¢ã\n\nå®¢æ·ç«¯æ¨¡å¼ï¼é»è®¤ï¼\n\nbin/spark-submit \\\n--class org.apache.spark.examples.sparkpi \\\n--master yarn \\\n--deploy-mode client \\\n./examples/jars/spark-examples_2.11-2.1.1.jar \\\n10\n\n\n1\n2\n3\n4\n5\n6\n\n\n\n\néç¾¤æ¨¡å¼\n\nbin/spark-submit \\\n--class org.apache.spark.examples.sparkpi \\\n--master yarn \\\n--deploy-mode cluster \\\n./examples/jars/spark-examples_2.11-2.1.1.jar \\\n10\n\n\n1\n2\n3\n4\n5\n6\n\n\n\n\n\n\né»è®¤æ æ³è®¿é®éè¦å¨yarn-site.xmlæ·»å éç½®å¹¶å¯å¨yarnåå²æå¡å¨\n\nvim /opt/module/hadoop-3.1.3/etc/hadoop/yarn-site.xml\n\n\n1\n\n\n<property>\n    <name>yarn.log.server.url</name>\n    <value>http://hadoop104:19888/jobhistory/logs</value>\n</property>\n\n\n1\n2\n3\n4\n\n\nå¯å¨åå²æå¡å¨\n\nmapred --daemon start historyserver\n\n\n1\n\n\nhttp://hadoop102:19888/jobhistory/logs/hadoop103:44236/container_1639655468064_0005_01_000001/container_1639655468064_0005_01_000001/atguigu/stdout?start=-4096\n\n\n\n\n\n\n# mesosæ¨¡å¼\n\nsparkå®¢æ·ç«¯ç´æ¥è¿æ¥mesosï¼ä¸éè¦é¢å¤æå»ºsparkéç¾¤ãå½ååºç¨æ¯è¾å°ï¼æ´å¤çæ¯è¿ç¨yarnè°åº¦ã\n\n\n# å ç§æ¨¡å¼å¯¹æ¯\n\næ¨¡å¼           sparkå®è£æºå¨æ°   éå¯å¨çè¿ç¨          æå±è\nlocal        1            æ                spark\nstandalone   3            masteråworker   spark\nyarn         1            yarnåhdfs       hadoop\n\n\n# ç«¯å£å·æ»ç»\n\n 1. sparkåå²æå¡å¨ç«¯å£å·ï¼18080 ï¼ç±»æ¯äºhadoopåå²æå¡å¨ç«¯å£å·ï¼19888ï¼\n 2. spark master webç«¯å£å·ï¼8080ï¼ç±»æ¯äºhadoopçnamenode webç«¯å£å·ï¼9870(50070)ï¼\n 3. spark masteråé¨éä¿¡æå¡ç«¯å£å·ï¼7077 ï¼ç±»æ¯äºhadoopç8020(9000)ç«¯å£ï¼\n 4. sparkæ¥çå½åspark-shellè¿è¡ä»»å¡æåµç«¯å£å·ï¼4040\n 5. hadoop yarnä»»å¡è¿è¡æåµæ¥çç«¯å£å·ï¼8088\n\n\n# wordcountæ¡ä¾\n\nspark shellä»å¨æµè¯åéªè¯æä»¬çç¨åºæ¶ä½¿ç¨çè¾å¤ï¼å¨çäº§ç¯å¢ä¸­ï¼éå¸¸ä¼å¨ideä¸­ç¼å¶ç¨åºï¼ç¶åææjaråï¼ç¶åæäº¤å°éç¾¤ï¼æå¸¸ç¨çæ¯åå»ºä¸ä¸ªmavené¡¹ç®ï¼å©ç¨mavenæ¥ç®¡çjaråçä¾èµã\n\næ°å»ºmavené¡¹ç® å¹¶æ·»å scalaæ¡æ¶æ¯æ å¯¼å¥pomæä»¶\n\n<dependencies>\n    <dependency>\n        <groupid>org.apache.spark</groupid>\n        <artifactid>spark-core_2.11</artifactid>\n        <version>2.1.1</version>\n    </dependency>\n</dependencies>\n<build>\n    <finalname>wordcount</finalname>\n    <plugins>\n        <plugin>\n            <groupid>net.alchim31.maven</groupid>\n            <artifactid>scala-maven-plugin</artifactid>\n            <version>4.5.3</version>\n            <executions>\n                <execution>\n                   <goals>\n                      <goal>compile</goal>\n                      <goal>testcompile</goal>\n                   </goals>\n                </execution>\n             </executions>\n        </plugin>\n    </plugins>\n</build>\n\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n26\n\n\nå¦æmavençæ¬ä¸º3.2.xï¼æä»¶ä¸è½½æ¥éï¼é£ä¹ä¿®æ¹æä»¶çæ¬ä¸º3.3.2\n\nåå»ºä¼´çå¯¹è±¡wordcountï¼ç¼åä»£ç \n\npackage com.atguigu.spark.day01\n\nimport org.apache.spark.rdd.rdd\nimport org.apache.spark.{sparkconf, sparkcontext}\n\nobject wordcount {\n  def main(args: array[string]): unit = {\n    //åå»ºsparckconfigéç½®æä»¶\n    val conf: sparkconf = new sparkconf().setmaster("local[*]").setappname("wordcount")\n    //åå»ºsparkcontextå¯¹è±¡\n    val sc: sparkcontext = new sparkcontext(conf)\n    //è¯»åå¤é¨æ°æ®\n    val textrdd: rdd[string] = sc.textfile(args(0))\n    //å¯¹è¯»åå°çåå®¹è¿è¡åå²å¹¶è¿è¡æå¹³åæä½\n    val flatmaprdd: rdd[string] = textrdd.flatmap(_.split(" "))\n    //å¯¹æ°æ®éä¸­çåå®¹è¿è¡ç»æçè½¬æ¢ -- è®¡æ°\n    val maprdd: rdd[(string, int)] = flatmaprdd.map((_, 1))\n    //å¯¹ç¸ååè¯ åºç°æ¬¡æ°è¿è¡æ±æ»\n    val reducerdd: rdd[(string, int)] = maprdd.reducebykey(_ + _)\n    //å­å¨ä¸ºæä»¶\n    reducerdd.saveastextfile(args(1))\n//    val res: array[(string, int)] = reducerdd.collect()\n    \n    //éæ¾èµæº\n    sc.stop()\n  }\n\n}\n\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n26\n27\n28\n29\n\n\næ¬å°è¿è¡\n\n\n\næ·»å æåæä»¶\n\n     <plugin>\n                <groupid>org.apache.maven.plugins</groupid>\n                <artifactid>maven-assembly-plugin</artifactid>\n                <version>3.0.0</version>\n                <configuration>\n                    <archive>\n                        <manifest>\n                            <mainclass>com.atguigu.spark.day01.wordcount</mainclass>\n                        </manifest>\n                    </archive>\n                    <descriptorrefs>\n                        <descriptorref>jar-with-dependencies</descriptorref>\n                    </descriptorrefs>\n                </configuration>\n                <executions>\n                    <execution>\n                        <id>make-assembly</id>\n                        <phase>package</phase>\n                        <goals>\n                            <goal>single</goal>\n                        </goals>\n                    </execution>\n                </executions>\n            </plugin>\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n\n\nmavenç¹å»packageæåï¼å°wordcount.jar(ä¸å¸¦ä¾èµ)ä¸ä¼ å°/opt/module/spark-yarnç®å½\n\nå¨hdfsä¸åå»ºï¼å­å¨è¾å¥æ°æ®æä»¶çè·¯å¾/input\n\nhadoop fs -mkdir /input\nhadoop fs -put /opt/module/spark-local-standalone/input/1.txt /input\n\n\n1\n2\n\n\næ§è¡ä»»å¡\n\ncd /opt/module/spark-yarn\nbin/spark-submit \\\n--class com.atguigu.spark.day01.wordcount \\\n--master yarn \\\nwordcount.jar \\\n/input \\\n/output\n\n\n1\n2\n3\n4\n5\n6\n7\n',charsets:{cjk:!0},lastUpdated:"2022/03/18, 07:01:11",lastUpdatedTimestamp:1647558071e3},{title:"å½æ°å¼ç¼ç¨",frontmatter:{title:"å½æ°å¼ç¼ç¨",date:"2022-03-17T22:09:38.000Z",permalink:"/pages/b7cb84/",categories:["å¤§æ°æ®","Scala"],tags:[null]},regularPath:"/%E5%A4%A7%E6%95%B0%E6%8D%AE/08.Scala/04.%E5%87%BD%E6%95%B0%E5%BC%8F%E7%BC%96%E7%A8%8B.html",relativePath:"å¤§æ°æ®/08.Scala/04.å½æ°å¼ç¼ç¨.md",key:"v-fc416092",path:"/pages/b7cb84/",headers:[{level:2,title:"å½æ°åæ¹æ³çåºå«",slug:"å½æ°åæ¹æ³çåºå«",normalizedTitle:"å½æ°åæ¹æ³çåºå«",charIndex:115},{level:2,title:"å½æ°å®ä¹",slug:"å½æ°å®ä¹",normalizedTitle:"å½æ°å®ä¹",charIndex:950},{level:2,title:"å½æ°åæ°",slug:"å½æ°åæ°",normalizedTitle:"å½æ°åæ°",charIndex:1724},{level:2,title:"å½æ°è³ç®ååï¼éç¹ï¼",slug:"å½æ°è³ç®åå-éç¹",normalizedTitle:"å½æ°è³ç®ååï¼éç¹ï¼",charIndex:2800},{level:2,title:"å½æ°é«é¶ç¨æ³",slug:"å½æ°é«é¶ç¨æ³",normalizedTitle:"å½æ°é«é¶ç¨æ³",charIndex:4825},{level:2,title:"å¿åå½æ°",slug:"å¿åå½æ°",normalizedTitle:"å¿åå½æ°",charIndex:5549},{level:2,title:"å½æ°æ¯éååé­å",slug:"å½æ°æ¯éååé­å",normalizedTitle:"å½æ°æ¯éååé­å",charIndex:7369},{level:2,title:"éå½",slug:"éå½",normalizedTitle:"éå½",charIndex:8068},{level:2,title:"æ§å¶æ½è±¡",slug:"æ§å¶æ½è±¡",normalizedTitle:"æ§å¶æ½è±¡",charIndex:8546}],headersStr:"å½æ°åæ¹æ³çåºå« å½æ°å®ä¹ å½æ°åæ° å½æ°è³ç®ååï¼éç¹ï¼ å½æ°é«é¶ç¨æ³ å¿åå½æ° å½æ°æ¯éååé­å éå½ æ§å¶æ½è±¡",content:'# å½æ°å¼ç¼ç¨\n\nè§£å³é®é¢æ¶ï¼å°é®é¢åè§£æä¸ä¸ªä¸ä¸ªçæ­¥éª¤ï¼å°æ¯ä¸ªæ­¥éª¤è¿è¡å°è£ï¼å½æ°ï¼ï¼éè¿è°ç¨è¿äºå°è£å¥½çæ­¥éª¤ï¼è§£å³é®é¢ã\n\nScalaè¯­è¨æ¯ä¸ä¸ªå®å¨å½æ°å¼ç¼ç¨è¯­è¨ãä¸ç©çå½æ°ã\n\nå½æ°çæ¬è´¨ï¼å½æ°å¯ä»¥å½åä¸ä¸ªå¼è¿è¡ä¼ é\n\n\n# å½æ°åæ¹æ³çåºå«\n\n 1. æ ¸å¿æ¦å¿µ\n    1. ä¸ºå®ææä¸åè½çç¨åºè¯­å¥çéåï¼ç§°ä¸ºå½æ°ã\n    2. ç±»ä¸­çå½æ°ç§°ä¹æ¹æ³ã\n    3. å®ä¹å¨æ¹æ³æèå½æ°åé¨ ç§°ä¸ºå½æ°\n\nï¼1ï¼Scalaè¯­è¨å¯ä»¥å¨ä»»ä½ çè¯­æ³ç»æä¸­å£°æä»»ä½çè¯­æ³\n\nï¼2ï¼å½æ°æ²¡æéè½½åéåçæ¦å¿µï¼æ¹æ³å¯ä»¥è¿è¡éè½½åéå\n\nï¼3ï¼Scalaä¸­å½æ°å¯ä»¥åµå¥å®ä¹\n\nobject TestFunction {\n\n    // (2)æ¹æ³å¯ä»¥è¿è¡éè½½åéåï¼ç¨åºå¯ä»¥æ§è¡\n    def main(): Unit = {\n\n    }\n\n    def main(args: Array[String]): Unit = {\n        // ï¼1ï¼Scalaè¯­è¨å¯ä»¥å¨ä»»ä½çè¯­æ³ç»æä¸­å£°æä»»ä½çè¯­æ³\n        import java.util.Date\n        new Date()\n\n        // (2)å½æ°æ²¡æéè½½åéåçæ¦å¿µï¼ç¨åºæ¥é\n        def test(): Unit ={\n            println("æ åï¼æ è¿åå¼")\n        }\n        test()\n\n        def test(name:String):Unit={\n            println()\n        }\n\n        //ï¼3ï¼Scalaä¸­å½æ°å¯ä»¥åµå¥å®ä¹\n        def test2(): Unit ={\n\n            def test3(name:String):Unit={\n                println("å½æ°å¯ä»¥åµå¥å®ä¹")\n            }\n        }\n    }\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n26\n27\n28\n29\n30\n31\n\n\n\n# å½æ°å®ä¹\n\n def main(args: Array[String]): Unit = {\n\n        // å½æ°1ï¼æ åï¼æ è¿åå¼\n        def test1(): Unit ={\n            println("æ åï¼æ è¿åå¼")\n        }\n        test1()\n\n        // å½æ°2ï¼æ åï¼æè¿åå¼\n        def test2():String={\n            return "æ åï¼æè¿åå¼"\n        }\n        println(test2())\n\n        // å½æ°3ï¼æåï¼æ è¿åå¼\n        def test3(s:String):Unit={\n            println(s)\n        }\n        test3("jinlian")\n\n        // å½æ°4ï¼æåï¼æè¿åå¼\n        def test4(s:String):String={\n            return s+"æåï¼æè¿åå¼"\n        }\n        println(test4("hello "))\n\n\n        // å½æ°5ï¼å¤åï¼æ è¿åå¼\n        def test5(name:String, age:Int):Unit={\n            println(s"$name, $age")\n        }\n        test5("dalang",40)\n    }\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n26\n27\n28\n29\n30\n31\n32\n33\n\n\n\n# å½æ°åæ°\n\n 1. å¯ååæ°\n 2. å¦æåæ°åè¡¨ä¸­å­å¨å¤ä¸ªåæ°ï¼é£ä¹å¯ååæ°ä¸è¬æ¾ç½®å¨æå\n 3. åæ°é»è®¤å¼ï¼ä¸è¬å°æé»è®¤å¼çåæ°æ¾ç½®å¨åæ°åè¡¨çåé¢\n 4. å¸¦ååæ°\n\n // ï¼1ï¼å¯ååæ°\n        def test( s : String* ): Unit = {\n            println(s)\n        }\n\n        // æè¾å¥åæ°ï¼è¾åº Array\n        test("Hello", "Scala")\n\n        // æ è¾å¥åæ°ï¼è¾åºList()\n        test()\n\n        // (2)å¦æåæ°åè¡¨ä¸­å­å¨å¤ä¸ªåæ°ï¼é£ä¹å¯ååæ°ä¸è¬æ¾ç½®å¨æå\n        def test2( name : String, s: String* ): Unit = {\n            println(name + "," + s)\n        }\n\n        test2("jinlian", "dalang")\n\n        // (3)åæ°é»è®¤å¼\n        def test3( name : String, age : Int = 30 ): Unit = {\n            println(s"$name, $age")\n        }\n\n        // å¦æåæ°ä¼ éäºå¼ï¼é£ä¹ä¼è¦çé»è®¤å¼\n        test3("jinlian", 20)\n\n        // å¦æåæ°æé»è®¤å¼ï¼å¨è°ç¨çæ¶åï¼å¯ä»¥çç¥è¿ä¸ªåæ°\n        test3("dalang")\n\n        // ä¸è¬æåµä¸ï¼å°æé»è®¤å¼çåæ°æ¾ç½®å¨åæ°åè¡¨çåé¢\n        def test4( sex : String = "ç·", name : String ): Unit =      {\n            println(s"$name, $sex")\n        }\n\t\t// Scalaå½æ°ä¸­åæ°ä¼ éæ¯ï¼ä»å·¦å°å³\n        //test4("wusong") \n\n        //ï¼4ï¼å¸¦ååæ°\n        test4(name="ximenqing")\n\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n26\n27\n28\n29\n30\n31\n32\n33\n34\n35\n36\n37\n38\n39\n\n\n\n# å½æ°è³ç®ååï¼éç¹ï¼\n\nå½æ°è³ç®ååï¼è½çåç\n\n 1. returnå¯ä»¥çç¥ï¼Scalaä¼ä½¿ç¨å½æ°ä½çæåä¸è¡ä»£ç ä½ä¸ºè¿åå¼\n 2. å¦æå½æ°ä½åªæä¸è¡ä»£ç ï¼å¯ä»¥çç¥è±æ¬å·\n 3. è¿åå¼ç±»åå¦æè½å¤æ¨æ­åºæ¥ï¼é£ä¹å¯ä»¥çç¥ï¼:åè¿åå¼ç±»åä¸èµ·çç¥ï¼\n 4. å¦ææreturnï¼åä¸è½çç¥è¿åå¼ç±»åï¼å¿é¡»æå®\n 5. å¦æå½æ°æç¡®å£°æunitï¼é£ä¹å³ä½¿å½æ°ä½ä¸­ä½¿ç¨returnå³é®å­ä¹ä¸èµ·ä½ç¨\n 6. Scalaå¦ææææ¯æ è¿åå¼ç±»åï¼å¯ä»¥çç¥ç­å·\n 7. å¦æå½æ°æ åï¼ä½æ¯å£°æäºåæ°åè¡¨ï¼é£ä¹è°ç¨æ¶ï¼å°æ¬å·ï¼å¯å å¯ä¸å \n 8. å¦æå½æ°æ²¡æåæ°åè¡¨ï¼é£ä¹å°æ¬å·å¯ä»¥çç¥ï¼è°ç¨æ¶å°æ¬å·å¿é¡»çç¥\n 9. å¦æä¸å³å¿åç§°ï¼åªå³å¿é»è¾å¤çï¼é£ä¹å½æ°åï¼defï¼å¯ä»¥çç¥\n\nobject TestFunction {\n\n    def main(args: Array[String]): Unit = {\n        \n       \n\n        // ï¼0ï¼å½æ°æ ååæ³\n        def f( s : String ): String = {\n            return s + " jinlian"\n        }\n        println(f("Hello"))\n\n        // è³ç®åå:è½çåç\n\n        //ï¼1ï¼ returnå¯ä»¥çç¥,Scalaä¼ä½¿ç¨å½æ°ä½çæåä¸è¡ä»£ç ä½ä¸ºè¿åå¼\n        def f1( s : String ): String =  {\n            s + " jinlian"\n        }\n        println(f1("Hello"))\n\n        //ï¼2ï¼å¦æå½æ°ä½åªæä¸è¡ä»£ç ï¼å¯ä»¥çç¥è±æ¬å·\n        def f2(s:String):String = s + " jinlian"\n\n\n        //ï¼3ï¼è¿åå¼ç±»åå¦æè½å¤æ¨æ­åºæ¥ï¼é£ä¹å¯ä»¥çç¥ï¼:åè¿åå¼ç±»åä¸èµ·çç¥ï¼\n        def f3( s : String ) = s + " jinlian"\n        println(f3("Hello3"))\n\n        //ï¼4ï¼å¦ææreturnï¼åä¸è½çç¥è¿åå¼ç±»åï¼å¿é¡»æå®ã\n        def f4() :String = {\n            return "ximenqing4"\n        }\n        println(f4())\n\n        //ï¼5ï¼å¦æå½æ°æç¡®å£°æunitï¼é£ä¹å³ä½¿å½æ°ä½ä¸­ä½¿ç¨returnå³é®å­ä¹ä¸èµ·ä½ç¨\n        def f5(): Unit = {\n            return "dalang5"\n        }\n        println(f5())\n\n        //ï¼6ï¼Scalaå¦ææææ¯æ è¿åå¼ç±»å,å¯ä»¥çç¥ç­å·\n        // å°æ è¿åå¼çå½æ°ç§°ä¹ä¸ºè¿ç¨\n        def f6() {\n            "dalang6"\n        }\n        println(f6())\n\n        //ï¼7ï¼å¦æå½æ°æ åï¼ä½æ¯å£°æäºåæ°åè¡¨ï¼é£ä¹è°ç¨æ¶ï¼å°æ¬å·ï¼å¯å å¯ä¸å \n        def f7() = "dalang7"\n        println(f7())\n        println(f7)\n\n        //ï¼8ï¼å¦æå½æ°æ²¡æåæ°åè¡¨ï¼é£ä¹å°æ¬å·å¯ä»¥çç¥,è°ç¨æ¶å°æ¬å·å¿é¡»çç¥\n        def f8 = "dalang"\n        //println(f8())\n        println(f8)\n\n        //ï¼9ï¼å¦æä¸å³å¿åç§°ï¼åªå³å¿é»è¾å¤çï¼é£ä¹å½æ°åï¼defï¼å¯ä»¥çç¥\n        def f9 = (x:String)=>{println("wusong")}\n\n        def f10(f:String=>Unit) = {\n            f("")\n        }\n\n        f10(f9)\n        println(f10((x:String)=>{println("wusong")}))\n    }\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n26\n27\n28\n29\n30\n31\n32\n33\n34\n35\n36\n37\n38\n39\n40\n41\n42\n43\n44\n45\n46\n47\n48\n49\n50\n51\n52\n53\n54\n55\n56\n57\n58\n59\n60\n61\n62\n63\n64\n65\n66\n67\n68\n\n\n\n# å½æ°é«é¶ç¨æ³\n\nå½æ°å¯ä»¥ä½ä¸ºå¼è¿è¡ä¼ é\n\n//ï¼1ï¼è°ç¨fooå½æ°ï¼æè¿åå¼ç»åéf\n\n        //val f = foo()\n        val f = foo\n        println(f)\n\n        //ï¼2ï¼å¨è¢«è°ç¨å½æ°fooåé¢å ä¸ _ï¼ç¸å½äºæå½æ°fooå½æä¸ä¸ªæ´ä½ï¼ä¼ éç»åéf1\n        val f1 = foo _\n\n        foo()\n        f1()\n\t\t//ï¼3ï¼å¦ææç¡®åéç±»åï¼é£ä¹ä¸ä½¿ç¨ä¸åçº¿ä¹å¯ä»¥å°å½æ°ä½ä¸ºæ´ä½ä¼ éç»åé\n\t\tvar f2:()=>Int = foo \n    }\n\n    def foo():Int = {\n        println("foo...")\n        1\n    }\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n\n\nå½æ°å¯ä»¥ä½ä¸ºåæ°è¿è¡ä¼ é\n\n // ï¼1ï¼å®ä¹ä¸ä¸ªå½æ°ï¼å½æ°åæ°è¿æ¯ä¸ä¸ªå½æ°ç­¾åï¼fè¡¨ç¤ºå½æ°åç§°;(Int,Int)è¡¨ç¤ºè¾å¥ä¸¤ä¸ªIntåæ°ï¼Intè¡¨ç¤ºå½æ°è¿åå¼\n    def f1(f: (Int, Int) => Int): Int = {\n        f(2, 4)\n    }\n    \n    // ï¼2ï¼å®ä¹ä¸ä¸ªå½æ°ï¼åæ°åè¿åå¼ç±»ååf1çè¾å¥åæ°ä¸è´\n    def add(a: Int, b: Int): Int = a + b\n    \n    // ï¼3ï¼å°addå½æ°ä½ä¸ºåæ°ä¼ éç»f1å½æ°ï¼å¦æè½å¤æ¨æ­åºæ¥ä¸æ¯è°ç¨ï¼_å¯ä»¥çç¥\n    println(f1(add))\nprintln(f1(add _))\n//å¯ä»¥ä¼ éå¿åå½æ°\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n\n\nå½æ°å¯ä»¥ä½ä¸ºå½æ°è¿åå¼è¿å\n\ndef main(args: Array[String]): Unit = {\n    def f1() = {\n        def f2() = {\n\n}\nf2 _\n}\n\nval f = f1()\n// å ä¸ºf1å½æ°çè¿åå¼ä¾ç¶ä¸ºå½æ°ï¼æä»¥å¯ä»¥åéfå¯ä»¥ä½ä¸ºå½æ°ç»§ç»­è°ç¨\nf()\n// ä¸é¢çä»£ç å¯ä»¥ç®åä¸º\nf1()()\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n\n\n\n# å¿åå½æ°\n\nï¼1ï¼åæ°çç±»åå¯ä»¥çç¥ï¼ä¼æ ¹æ®å½¢åè¿è¡èªå¨çæ¨å¯¼\n\nï¼2ï¼ç±»åçç¥ä¹åï¼åç°åªæä¸ä¸ªåæ°ï¼ååæ¬å·å¯ä»¥çç¥ï¼å¶ä»æåµï¼æ²¡æåæ°ååæ°è¶è¿1çæ°¸è¿ä¸è½çç¥åæ¬å·ã\n\nï¼3ï¼å¿åå½æ°å¦æåªæä¸è¡ï¼åå¤§æ¬å·ä¹å¯ä»¥çç¥\n\nï¼4ï¼å¦æåæ°åªåºç°ä¸æ¬¡ï¼ååæ°çç¥ä¸åé¢åæ°å¯ä»¥ç¨_ä»£æ¿\n\nï¼5ï¼å¦æå¯ä»¥æ¨æ­åºï¼printlnæ¯ä¸ä¸ªå½æ°ä½ï¼èä¸æ¯è°ç¨è¯­å¥ï¼é£ä¹(_)å¯ä»¥çç¥\n\ndef main(args: Array[String]): Unit = {\n\n        // ï¼1ï¼å®ä¹ä¸ä¸ªå½æ°ï¼åæ°åå«æ°æ®åé»è¾å½æ°\n        def operation(arr: Array[Int], op: Int => Int) = {\n            for (elem <- arr) yield op(elem)\n        }\n\n        // ï¼2ï¼å®ä¹é»è¾å½æ°\n        def op(ele: Int): Int = {\n            ele + 1\n        }\n\n        // ï¼3ï¼æ åå½æ°è°ç¨\n        val arr = operation(Array(1, 2, 3, 4), op)\n        println(arr.mkString(","))\n\n        // ï¼4ï¼éç¨å¿åå½æ°\n        val arr1 = operation(Array(1, 2, 3, 4), (ele: Int) => {\n            ele + 1\n        })\n        println(arr1.mkString(","))\n\n        // ï¼4.1ï¼åæ°çç±»åå¯ä»¥çç¥ï¼ä¼æ ¹æ®å½¢åè¿è¡èªå¨çæ¨å¯¼;\n        val arr2 = operation(Array(1, 2, 3, 4), (ele) => {\n            ele + 1\n        })\n        println(arr2.mkString(","))\n\n        // ï¼4.2ï¼ç±»åçç¥ä¹åï¼åç°åªæä¸ä¸ªåæ°ï¼ååæ¬å·å¯ä»¥çç¥ï¼å¶ä»æåµï¼æ²¡æåæ°ååæ°è¶è¿1çæ°¸è¿ä¸è½çç¥åæ¬å·ã\n        val arr3 = operation(Array(1, 2, 3, 4), ele => {\n            ele + 1\n        })\n        println(arr3.mkString(","))\n\n        // (4.3) å¿åå½æ°å¦æåªæä¸è¡ï¼åå¤§æ¬å·ä¹å¯ä»¥çç¥\n        val arr4 = operation(Array(1, 2, 3, 4), ele => ele + 1)\n        println(arr4.mkString(","))\n\n        //ï¼4.4ï¼å¦æåæ°åªåºç°ä¸æ¬¡ï¼ååæ°çç¥ä¸åé¢åæ°å¯ä»¥ç¨_ä»£æ¿\n        val arr5 = operation(Array(1, 2, 3, 4), _ + 1)\n        println(arr5.mkString(","))\n    \t\n    \t//ï¼5ï¼å¦æå¯ä»¥æ¨æ­åºï¼printlnæ¯ä¸ä¸ªå½æ°ä½ï¼èä¸æ¯è°ç¨è¯­å¥ï¼é£ä¹(_)å¯ä»¥çç¥\n    \t\n    }\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n26\n27\n28\n29\n30\n31\n32\n33\n34\n35\n36\n37\n38\n39\n40\n41\n42\n43\n44\n45\n46\n\n\n\n# å½æ°æ¯éååé­å\n\né­åï¼å¦æä¸ä¸ªå½æ°ï¼è®¿é®å°äºå®çå¤é¨ï¼å±é¨ï¼åéçå¼ï¼é£ä¹è¿ä¸ªå½æ°åä»æå¤çç¯å¢ï¼ç§°ä¸ºé­å\n\nå½æ°æ¯éåï¼æä¸ä¸ªåæ°åè¡¨çå¤ä¸ªåæ°ï¼åæå¤ä¸ªåæ°åè¡¨ã\n\nobject TestFunction {\n\n    def main(args: Array[String]): Unit = {\n        def f1()={\n\t\t\tvar a:Int = 10\n            def f2(b:Int)={\n                a + b\n            }\n            f2 _\n        }\n\n        // å¨è°ç¨æ¶ï¼f1å½æ°æ§è¡å®æ¯åï¼å±é¨åéaåºè¯¥éçæ ç©ºé´éæ¾æ\n        val f = f1() \n\n        // ä½æ¯å¨æ­¤å¤ï¼åéaå¶å®å¹¶æ²¡æéæ¾ï¼èæ¯åå«å¨äºf2å½æ°çåé¨ï¼å½¢æäºé­åçææ\n        println(f(3))\n\n        \n        println(f1()(3))\n\n        // å½æ°æ¯éåï¼å¶å®å°±æ¯å°å¤æçåæ°é»è¾åå¾ç®åå,å½æ°æ¯éåä¸å®å­å¨é­å\n        def f3()(b:Int)={\n             a + b\n        }\n\n        println(f3()(3))\n        \n        \n    }\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n26\n27\n28\n29\n30\n\n\n\n# éå½\n\nä¸ä¸ªå½æ°/æ¹æ³å¨å½æ°/æ¹æ³ä½ååè°ç¨äºæ¬èº«ï¼æä»¬ç§°ä¹ä¸ºéå½è°ç¨\n\nobject TestFunction {\n\n    def main(args: Array[String]): Unit = {\n\n        // é¶ä¹\n        // éå½ç®æ³\n        // 1) æ¹æ³è°ç¨èªèº«\n        // 2) æ¹æ³å¿é¡»è¦æè·³åºçé»è¾\n        // 3) æ¹æ³è°ç¨èªèº«æ¶ï¼ä¼ éçåæ°åºè¯¥æè§å¾\n        // 4) scalaä¸­çéå½å¿é¡»å£°æå½æ°è¿åå¼ç±»å\n\n        println(test(5))\n    }\n\n    def test(i : Int) : Int = {\n        if (i == 1) {\n            1\n        } else {\n            i * test(I - 1)\n        }\n    }\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n\n\n\n# æ§å¶æ½è±¡\n\nå¼è°ç¨ï¼æå½æ°è¿è¡åçå¼ä¼ éè¿å»\n\nobject TestControl {\n\n    def main(args: Array[String]): Unit = {\n\n        def f = ()=>{\n            println("f...")\n            10\n        }\n\n        foo(f())\n    }\n\n    def foo(a: Int):Unit = {\n        println(a)\n        println(a)\n    }\n}\n\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n\n\nåè°ç¨ï¼æä»£ç åä¼ éè¿å»\n\nobject TestControl {\n\n    def main(args: Array[String]): Unit = {\n\n        def f = ()=>{\n            println("f...")\n            10\n        }\n\n        foo(f())\n    }\n\n\t//def foo(a: Int):Unit = {\n    //ä»£ç ååæ³ä¸º åéå½å => è¿åå¼ç±»å   a: =>Int\n    def foo(a: =>Int):Unit = {//æ³¨æè¿éåéaæ²¡æå°æ¬å·äº åæ a: =>Int\n        println(a)\n        println(a)\n    }\n}\n//è¾åºç»æï¼\n//f...\n//10\n//f...\n//10 \n\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n\n\nJavaåªæå¼è°ç¨ï¼Scalaæ¢æå¼è°ç¨ï¼åæåè°ç¨\n\nèªå®ä¹ä¸ä¸ªwhileå¾ªç¯\n\nobject TestFunction {\n\n    def main(args: Array[String]): Unit = {\n\n        var i:Int = 1\n        myWhile(i <= 10){\n            println(i)\n            i +=1\n        }\n    }\n\n    def myWhile(condition: =>Boolean)(op: =>Unit):Unit={\n\n        if (condition){\n            op\n            myWhile(condition)(op)\n        }\n    }\n}\t\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n',normalizedContent:'# å½æ°å¼ç¼ç¨\n\nè§£å³é®é¢æ¶ï¼å°é®é¢åè§£æä¸ä¸ªä¸ä¸ªçæ­¥éª¤ï¼å°æ¯ä¸ªæ­¥éª¤è¿è¡å°è£ï¼å½æ°ï¼ï¼éè¿è°ç¨è¿äºå°è£å¥½çæ­¥éª¤ï¼è§£å³é®é¢ã\n\nscalaè¯­è¨æ¯ä¸ä¸ªå®å¨å½æ°å¼ç¼ç¨è¯­è¨ãä¸ç©çå½æ°ã\n\nå½æ°çæ¬è´¨ï¼å½æ°å¯ä»¥å½åä¸ä¸ªå¼è¿è¡ä¼ é\n\n\n# å½æ°åæ¹æ³çåºå«\n\n 1. æ ¸å¿æ¦å¿µ\n    1. ä¸ºå®ææä¸åè½çç¨åºè¯­å¥çéåï¼ç§°ä¸ºå½æ°ã\n    2. ç±»ä¸­çå½æ°ç§°ä¹æ¹æ³ã\n    3. å®ä¹å¨æ¹æ³æèå½æ°åé¨ ç§°ä¸ºå½æ°\n\nï¼1ï¼scalaè¯­è¨å¯ä»¥å¨ä»»ä½ çè¯­æ³ç»æä¸­å£°æä»»ä½çè¯­æ³\n\nï¼2ï¼å½æ°æ²¡æéè½½åéåçæ¦å¿µï¼æ¹æ³å¯ä»¥è¿è¡éè½½åéå\n\nï¼3ï¼scalaä¸­å½æ°å¯ä»¥åµå¥å®ä¹\n\nobject testfunction {\n\n    // (2)æ¹æ³å¯ä»¥è¿è¡éè½½åéåï¼ç¨åºå¯ä»¥æ§è¡\n    def main(): unit = {\n\n    }\n\n    def main(args: array[string]): unit = {\n        // ï¼1ï¼scalaè¯­è¨å¯ä»¥å¨ä»»ä½çè¯­æ³ç»æä¸­å£°æä»»ä½çè¯­æ³\n        import java.util.date\n        new date()\n\n        // (2)å½æ°æ²¡æéè½½åéåçæ¦å¿µï¼ç¨åºæ¥é\n        def test(): unit ={\n            println("æ åï¼æ è¿åå¼")\n        }\n        test()\n\n        def test(name:string):unit={\n            println()\n        }\n\n        //ï¼3ï¼scalaä¸­å½æ°å¯ä»¥åµå¥å®ä¹\n        def test2(): unit ={\n\n            def test3(name:string):unit={\n                println("å½æ°å¯ä»¥åµå¥å®ä¹")\n            }\n        }\n    }\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n26\n27\n28\n29\n30\n31\n\n\n\n# å½æ°å®ä¹\n\n def main(args: array[string]): unit = {\n\n        // å½æ°1ï¼æ åï¼æ è¿åå¼\n        def test1(): unit ={\n            println("æ åï¼æ è¿åå¼")\n        }\n        test1()\n\n        // å½æ°2ï¼æ åï¼æè¿åå¼\n        def test2():string={\n            return "æ åï¼æè¿åå¼"\n        }\n        println(test2())\n\n        // å½æ°3ï¼æåï¼æ è¿åå¼\n        def test3(s:string):unit={\n            println(s)\n        }\n        test3("jinlian")\n\n        // å½æ°4ï¼æåï¼æè¿åå¼\n        def test4(s:string):string={\n            return s+"æåï¼æè¿åå¼"\n        }\n        println(test4("hello "))\n\n\n        // å½æ°5ï¼å¤åï¼æ è¿åå¼\n        def test5(name:string, age:int):unit={\n            println(s"$name, $age")\n        }\n        test5("dalang",40)\n    }\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n26\n27\n28\n29\n30\n31\n32\n33\n\n\n\n# å½æ°åæ°\n\n 1. å¯ååæ°\n 2. å¦æåæ°åè¡¨ä¸­å­å¨å¤ä¸ªåæ°ï¼é£ä¹å¯ååæ°ä¸è¬æ¾ç½®å¨æå\n 3. åæ°é»è®¤å¼ï¼ä¸è¬å°æé»è®¤å¼çåæ°æ¾ç½®å¨åæ°åè¡¨çåé¢\n 4. å¸¦ååæ°\n\n // ï¼1ï¼å¯ååæ°\n        def test( s : string* ): unit = {\n            println(s)\n        }\n\n        // æè¾å¥åæ°ï¼è¾åº array\n        test("hello", "scala")\n\n        // æ è¾å¥åæ°ï¼è¾åºlist()\n        test()\n\n        // (2)å¦æåæ°åè¡¨ä¸­å­å¨å¤ä¸ªåæ°ï¼é£ä¹å¯ååæ°ä¸è¬æ¾ç½®å¨æå\n        def test2( name : string, s: string* ): unit = {\n            println(name + "," + s)\n        }\n\n        test2("jinlian", "dalang")\n\n        // (3)åæ°é»è®¤å¼\n        def test3( name : string, age : int = 30 ): unit = {\n            println(s"$name, $age")\n        }\n\n        // å¦æåæ°ä¼ éäºå¼ï¼é£ä¹ä¼è¦çé»è®¤å¼\n        test3("jinlian", 20)\n\n        // å¦æåæ°æé»è®¤å¼ï¼å¨è°ç¨çæ¶åï¼å¯ä»¥çç¥è¿ä¸ªåæ°\n        test3("dalang")\n\n        // ä¸è¬æåµä¸ï¼å°æé»è®¤å¼çåæ°æ¾ç½®å¨åæ°åè¡¨çåé¢\n        def test4( sex : string = "ç·", name : string ): unit =      {\n            println(s"$name, $sex")\n        }\n\t\t// scalaå½æ°ä¸­åæ°ä¼ éæ¯ï¼ä»å·¦å°å³\n        //test4("wusong") \n\n        //ï¼4ï¼å¸¦ååæ°\n        test4(name="ximenqing")\n\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n26\n27\n28\n29\n30\n31\n32\n33\n34\n35\n36\n37\n38\n39\n\n\n\n# å½æ°è³ç®ååï¼éç¹ï¼\n\nå½æ°è³ç®ååï¼è½çåç\n\n 1. returnå¯ä»¥çç¥ï¼scalaä¼ä½¿ç¨å½æ°ä½çæåä¸è¡ä»£ç ä½ä¸ºè¿åå¼\n 2. å¦æå½æ°ä½åªæä¸è¡ä»£ç ï¼å¯ä»¥çç¥è±æ¬å·\n 3. è¿åå¼ç±»åå¦æè½å¤æ¨æ­åºæ¥ï¼é£ä¹å¯ä»¥çç¥ï¼:åè¿åå¼ç±»åä¸èµ·çç¥ï¼\n 4. å¦ææreturnï¼åä¸è½çç¥è¿åå¼ç±»åï¼å¿é¡»æå®\n 5. å¦æå½æ°æç¡®å£°æunitï¼é£ä¹å³ä½¿å½æ°ä½ä¸­ä½¿ç¨returnå³é®å­ä¹ä¸èµ·ä½ç¨\n 6. scalaå¦ææææ¯æ è¿åå¼ç±»åï¼å¯ä»¥çç¥ç­å·\n 7. å¦æå½æ°æ åï¼ä½æ¯å£°æäºåæ°åè¡¨ï¼é£ä¹è°ç¨æ¶ï¼å°æ¬å·ï¼å¯å å¯ä¸å \n 8. å¦æå½æ°æ²¡æåæ°åè¡¨ï¼é£ä¹å°æ¬å·å¯ä»¥çç¥ï¼è°ç¨æ¶å°æ¬å·å¿é¡»çç¥\n 9. å¦æä¸å³å¿åç§°ï¼åªå³å¿é»è¾å¤çï¼é£ä¹å½æ°åï¼defï¼å¯ä»¥çç¥\n\nobject testfunction {\n\n    def main(args: array[string]): unit = {\n        \n       \n\n        // ï¼0ï¼å½æ°æ ååæ³\n        def f( s : string ): string = {\n            return s + " jinlian"\n        }\n        println(f("hello"))\n\n        // è³ç®åå:è½çåç\n\n        //ï¼1ï¼ returnå¯ä»¥çç¥,scalaä¼ä½¿ç¨å½æ°ä½çæåä¸è¡ä»£ç ä½ä¸ºè¿åå¼\n        def f1( s : string ): string =  {\n            s + " jinlian"\n        }\n        println(f1("hello"))\n\n        //ï¼2ï¼å¦æå½æ°ä½åªæä¸è¡ä»£ç ï¼å¯ä»¥çç¥è±æ¬å·\n        def f2(s:string):string = s + " jinlian"\n\n\n        //ï¼3ï¼è¿åå¼ç±»åå¦æè½å¤æ¨æ­åºæ¥ï¼é£ä¹å¯ä»¥çç¥ï¼:åè¿åå¼ç±»åä¸èµ·çç¥ï¼\n        def f3( s : string ) = s + " jinlian"\n        println(f3("hello3"))\n\n        //ï¼4ï¼å¦ææreturnï¼åä¸è½çç¥è¿åå¼ç±»åï¼å¿é¡»æå®ã\n        def f4() :string = {\n            return "ximenqing4"\n        }\n        println(f4())\n\n        //ï¼5ï¼å¦æå½æ°æç¡®å£°æunitï¼é£ä¹å³ä½¿å½æ°ä½ä¸­ä½¿ç¨returnå³é®å­ä¹ä¸èµ·ä½ç¨\n        def f5(): unit = {\n            return "dalang5"\n        }\n        println(f5())\n\n        //ï¼6ï¼scalaå¦ææææ¯æ è¿åå¼ç±»å,å¯ä»¥çç¥ç­å·\n        // å°æ è¿åå¼çå½æ°ç§°ä¹ä¸ºè¿ç¨\n        def f6() {\n            "dalang6"\n        }\n        println(f6())\n\n        //ï¼7ï¼å¦æå½æ°æ åï¼ä½æ¯å£°æäºåæ°åè¡¨ï¼é£ä¹è°ç¨æ¶ï¼å°æ¬å·ï¼å¯å å¯ä¸å \n        def f7() = "dalang7"\n        println(f7())\n        println(f7)\n\n        //ï¼8ï¼å¦æå½æ°æ²¡æåæ°åè¡¨ï¼é£ä¹å°æ¬å·å¯ä»¥çç¥,è°ç¨æ¶å°æ¬å·å¿é¡»çç¥\n        def f8 = "dalang"\n        //println(f8())\n        println(f8)\n\n        //ï¼9ï¼å¦æä¸å³å¿åç§°ï¼åªå³å¿é»è¾å¤çï¼é£ä¹å½æ°åï¼defï¼å¯ä»¥çç¥\n        def f9 = (x:string)=>{println("wusong")}\n\n        def f10(f:string=>unit) = {\n            f("")\n        }\n\n        f10(f9)\n        println(f10((x:string)=>{println("wusong")}))\n    }\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n26\n27\n28\n29\n30\n31\n32\n33\n34\n35\n36\n37\n38\n39\n40\n41\n42\n43\n44\n45\n46\n47\n48\n49\n50\n51\n52\n53\n54\n55\n56\n57\n58\n59\n60\n61\n62\n63\n64\n65\n66\n67\n68\n\n\n\n# å½æ°é«é¶ç¨æ³\n\nå½æ°å¯ä»¥ä½ä¸ºå¼è¿è¡ä¼ é\n\n//ï¼1ï¼è°ç¨fooå½æ°ï¼æè¿åå¼ç»åéf\n\n        //val f = foo()\n        val f = foo\n        println(f)\n\n        //ï¼2ï¼å¨è¢«è°ç¨å½æ°fooåé¢å ä¸ _ï¼ç¸å½äºæå½æ°fooå½æä¸ä¸ªæ´ä½ï¼ä¼ éç»åéf1\n        val f1 = foo _\n\n        foo()\n        f1()\n\t\t//ï¼3ï¼å¦ææç¡®åéç±»åï¼é£ä¹ä¸ä½¿ç¨ä¸åçº¿ä¹å¯ä»¥å°å½æ°ä½ä¸ºæ´ä½ä¼ éç»åé\n\t\tvar f2:()=>int = foo \n    }\n\n    def foo():int = {\n        println("foo...")\n        1\n    }\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n\n\nå½æ°å¯ä»¥ä½ä¸ºåæ°è¿è¡ä¼ é\n\n // ï¼1ï¼å®ä¹ä¸ä¸ªå½æ°ï¼å½æ°åæ°è¿æ¯ä¸ä¸ªå½æ°ç­¾åï¼fè¡¨ç¤ºå½æ°åç§°;(int,int)è¡¨ç¤ºè¾å¥ä¸¤ä¸ªintåæ°ï¼intè¡¨ç¤ºå½æ°è¿åå¼\n    def f1(f: (int, int) => int): int = {\n        f(2, 4)\n    }\n    \n    // ï¼2ï¼å®ä¹ä¸ä¸ªå½æ°ï¼åæ°åè¿åå¼ç±»ååf1çè¾å¥åæ°ä¸è´\n    def add(a: int, b: int): int = a + b\n    \n    // ï¼3ï¼å°addå½æ°ä½ä¸ºåæ°ä¼ éç»f1å½æ°ï¼å¦æè½å¤æ¨æ­åºæ¥ä¸æ¯è°ç¨ï¼_å¯ä»¥çç¥\n    println(f1(add))\nprintln(f1(add _))\n//å¯ä»¥ä¼ éå¿åå½æ°\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n\n\nå½æ°å¯ä»¥ä½ä¸ºå½æ°è¿åå¼è¿å\n\ndef main(args: array[string]): unit = {\n    def f1() = {\n        def f2() = {\n\n}\nf2 _\n}\n\nval f = f1()\n// å ä¸ºf1å½æ°çè¿åå¼ä¾ç¶ä¸ºå½æ°ï¼æä»¥å¯ä»¥åéfå¯ä»¥ä½ä¸ºå½æ°ç»§ç»­è°ç¨\nf()\n// ä¸é¢çä»£ç å¯ä»¥ç®åä¸º\nf1()()\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n\n\n\n# å¿åå½æ°\n\nï¼1ï¼åæ°çç±»åå¯ä»¥çç¥ï¼ä¼æ ¹æ®å½¢åè¿è¡èªå¨çæ¨å¯¼\n\nï¼2ï¼ç±»åçç¥ä¹åï¼åç°åªæä¸ä¸ªåæ°ï¼ååæ¬å·å¯ä»¥çç¥ï¼å¶ä»æåµï¼æ²¡æåæ°ååæ°è¶è¿1çæ°¸è¿ä¸è½çç¥åæ¬å·ã\n\nï¼3ï¼å¿åå½æ°å¦æåªæä¸è¡ï¼åå¤§æ¬å·ä¹å¯ä»¥çç¥\n\nï¼4ï¼å¦æåæ°åªåºç°ä¸æ¬¡ï¼ååæ°çç¥ä¸åé¢åæ°å¯ä»¥ç¨_ä»£æ¿\n\nï¼5ï¼å¦æå¯ä»¥æ¨æ­åºï¼printlnæ¯ä¸ä¸ªå½æ°ä½ï¼èä¸æ¯è°ç¨è¯­å¥ï¼é£ä¹(_)å¯ä»¥çç¥\n\ndef main(args: array[string]): unit = {\n\n        // ï¼1ï¼å®ä¹ä¸ä¸ªå½æ°ï¼åæ°åå«æ°æ®åé»è¾å½æ°\n        def operation(arr: array[int], op: int => int) = {\n            for (elem <- arr) yield op(elem)\n        }\n\n        // ï¼2ï¼å®ä¹é»è¾å½æ°\n        def op(ele: int): int = {\n            ele + 1\n        }\n\n        // ï¼3ï¼æ åå½æ°è°ç¨\n        val arr = operation(array(1, 2, 3, 4), op)\n        println(arr.mkstring(","))\n\n        // ï¼4ï¼éç¨å¿åå½æ°\n        val arr1 = operation(array(1, 2, 3, 4), (ele: int) => {\n            ele + 1\n        })\n        println(arr1.mkstring(","))\n\n        // ï¼4.1ï¼åæ°çç±»åå¯ä»¥çç¥ï¼ä¼æ ¹æ®å½¢åè¿è¡èªå¨çæ¨å¯¼;\n        val arr2 = operation(array(1, 2, 3, 4), (ele) => {\n            ele + 1\n        })\n        println(arr2.mkstring(","))\n\n        // ï¼4.2ï¼ç±»åçç¥ä¹åï¼åç°åªæä¸ä¸ªåæ°ï¼ååæ¬å·å¯ä»¥çç¥ï¼å¶ä»æåµï¼æ²¡æåæ°ååæ°è¶è¿1çæ°¸è¿ä¸è½çç¥åæ¬å·ã\n        val arr3 = operation(array(1, 2, 3, 4), ele => {\n            ele + 1\n        })\n        println(arr3.mkstring(","))\n\n        // (4.3) å¿åå½æ°å¦æåªæä¸è¡ï¼åå¤§æ¬å·ä¹å¯ä»¥çç¥\n        val arr4 = operation(array(1, 2, 3, 4), ele => ele + 1)\n        println(arr4.mkstring(","))\n\n        //ï¼4.4ï¼å¦æåæ°åªåºç°ä¸æ¬¡ï¼ååæ°çç¥ä¸åé¢åæ°å¯ä»¥ç¨_ä»£æ¿\n        val arr5 = operation(array(1, 2, 3, 4), _ + 1)\n        println(arr5.mkstring(","))\n    \t\n    \t//ï¼5ï¼å¦æå¯ä»¥æ¨æ­åºï¼printlnæ¯ä¸ä¸ªå½æ°ä½ï¼èä¸æ¯è°ç¨è¯­å¥ï¼é£ä¹(_)å¯ä»¥çç¥\n    \t\n    }\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n26\n27\n28\n29\n30\n31\n32\n33\n34\n35\n36\n37\n38\n39\n40\n41\n42\n43\n44\n45\n46\n\n\n\n# å½æ°æ¯éååé­å\n\né­åï¼å¦æä¸ä¸ªå½æ°ï¼è®¿é®å°äºå®çå¤é¨ï¼å±é¨ï¼åéçå¼ï¼é£ä¹è¿ä¸ªå½æ°åä»æå¤çç¯å¢ï¼ç§°ä¸ºé­å\n\nå½æ°æ¯éåï¼æä¸ä¸ªåæ°åè¡¨çå¤ä¸ªåæ°ï¼åæå¤ä¸ªåæ°åè¡¨ã\n\nobject testfunction {\n\n    def main(args: array[string]): unit = {\n        def f1()={\n\t\t\tvar a:int = 10\n            def f2(b:int)={\n                a + b\n            }\n            f2 _\n        }\n\n        // å¨è°ç¨æ¶ï¼f1å½æ°æ§è¡å®æ¯åï¼å±é¨åéaåºè¯¥éçæ ç©ºé´éæ¾æ\n        val f = f1() \n\n        // ä½æ¯å¨æ­¤å¤ï¼åéaå¶å®å¹¶æ²¡æéæ¾ï¼èæ¯åå«å¨äºf2å½æ°çåé¨ï¼å½¢æäºé­åçææ\n        println(f(3))\n\n        \n        println(f1()(3))\n\n        // å½æ°æ¯éåï¼å¶å®å°±æ¯å°å¤æçåæ°é»è¾åå¾ç®åå,å½æ°æ¯éåä¸å®å­å¨é­å\n        def f3()(b:int)={\n             a + b\n        }\n\n        println(f3()(3))\n        \n        \n    }\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n26\n27\n28\n29\n30\n\n\n\n# éå½\n\nä¸ä¸ªå½æ°/æ¹æ³å¨å½æ°/æ¹æ³ä½ååè°ç¨äºæ¬èº«ï¼æä»¬ç§°ä¹ä¸ºéå½è°ç¨\n\nobject testfunction {\n\n    def main(args: array[string]): unit = {\n\n        // é¶ä¹\n        // éå½ç®æ³\n        // 1) æ¹æ³è°ç¨èªèº«\n        // 2) æ¹æ³å¿é¡»è¦æè·³åºçé»è¾\n        // 3) æ¹æ³è°ç¨èªèº«æ¶ï¼ä¼ éçåæ°åºè¯¥æè§å¾\n        // 4) scalaä¸­çéå½å¿é¡»å£°æå½æ°è¿åå¼ç±»å\n\n        println(test(5))\n    }\n\n    def test(i : int) : int = {\n        if (i == 1) {\n            1\n        } else {\n            i * test(i - 1)\n        }\n    }\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n\n\n\n# æ§å¶æ½è±¡\n\nå¼è°ç¨ï¼æå½æ°è¿è¡åçå¼ä¼ éè¿å»\n\nobject testcontrol {\n\n    def main(args: array[string]): unit = {\n\n        def f = ()=>{\n            println("f...")\n            10\n        }\n\n        foo(f())\n    }\n\n    def foo(a: int):unit = {\n        println(a)\n        println(a)\n    }\n}\n\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n\n\nåè°ç¨ï¼æä»£ç åä¼ éè¿å»\n\nobject testcontrol {\n\n    def main(args: array[string]): unit = {\n\n        def f = ()=>{\n            println("f...")\n            10\n        }\n\n        foo(f())\n    }\n\n\t//def foo(a: int):unit = {\n    //ä»£ç ååæ³ä¸º åéå½å => è¿åå¼ç±»å   a: =>int\n    def foo(a: =>int):unit = {//æ³¨æè¿éåéaæ²¡æå°æ¬å·äº åæ a: =>int\n        println(a)\n        println(a)\n    }\n}\n//è¾åºç»æï¼\n//f...\n//10\n//f...\n//10 \n\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n\n\njavaåªæå¼è°ç¨ï¼scalaæ¢æå¼è°ç¨ï¼åæåè°ç¨\n\nèªå®ä¹ä¸ä¸ªwhileå¾ªç¯\n\nobject testfunction {\n\n    def main(args: array[string]): unit = {\n\n        var i:int = 1\n        mywhile(i <= 10){\n            println(i)\n            i +=1\n        }\n    }\n\n    def mywhile(condition: =>boolean)(op: =>unit):unit={\n\n        if (condition){\n            op\n            mywhile(condition)(op)\n        }\n    }\n}\t\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n',charsets:{cjk:!0},lastUpdated:"2022/03/18, 07:01:11",lastUpdatedTimestamp:1647558071e3},{title:"Scalaä»ç»",frontmatter:{title:"Scalaä»ç»",date:"2022-03-17T22:09:38.000Z",permalink:"/pages/d2afbe/",categories:["å¤§æ°æ®","Scala"],tags:[null]},regularPath:"/%E5%A4%A7%E6%95%B0%E6%8D%AE/08.Scala/01.Scala%E4%BB%8B%E7%BB%8D.html",relativePath:"å¤§æ°æ®/08.Scala/01.Scalaä»ç».md",key:"v-dbe517a8",path:"/pages/d2afbe/",headers:[{level:2,title:"Scala å Java å³ç³»",slug:"scala-å-java-å³ç³»",normalizedTitle:"scala å java å³ç³»",charIndex:91}],headersStr:"Scala å Java å³ç³»",content:"# Scalaä»ç»\n\n 1. Spark æ°ä¸ä»£åå­çº§å¤§æ°æ®è®¡ç®æ¡æ¶\n 2. Spark æ¯ä½¿ç¨Scalaç¼åç\n 3. Spark çå´èµ· å¸¦å¨äºScalaè¯­è¨çåå±\n\n\n\n\n# Scala å Java å³ç³»\n\n\n\n * Javaè¿è¡åç\n   \n   * åç¼è¯ åè§£é\n   * .javaæºæä»¶---\x3eç¼è¯å¨(javac)---\x3e.classå­èç æä»¶---\x3eJVM(ä¸åå¹³å°)---\x3eæºå¨æä»¤\n\n * Scalaè¿è¡åç\n   \n   * åç¼è¯ åè§£é\n   * .scalaæºæä»¶---\x3eç¼è¯å¨(scalac)---\x3e.classå­èç æä»¶---\x3eJVM(ä¸åå¹³å°)---\x3eæºå¨æä»¤\n   \n   ç±ä¸å¾çå°scalaå¨ç¼è¯è¿è¡åjavaä¸æ · å¹¶ä¸å¯ä»¥ä½¿ç¨javaä¸­çç±»åºåè¯­æ³\n\n",normalizedContent:"# scalaä»ç»\n\n 1. spark æ°ä¸ä»£åå­çº§å¤§æ°æ®è®¡ç®æ¡æ¶\n 2. spark æ¯ä½¿ç¨scalaç¼åç\n 3. spark çå´èµ· å¸¦å¨äºscalaè¯­è¨çåå±\n\n\n\n\n# scala å java å³ç³»\n\n\n\n * javaè¿è¡åç\n   \n   * åç¼è¯ åè§£é\n   * .javaæºæä»¶---\x3eç¼è¯å¨(javac)---\x3e.classå­èç æä»¶---\x3ejvm(ä¸åå¹³å°)---\x3eæºå¨æä»¤\n\n * scalaè¿è¡åç\n   \n   * åç¼è¯ åè§£é\n   * .scalaæºæä»¶---\x3eç¼è¯å¨(scalac)---\x3e.classå­èç æä»¶---\x3ejvm(ä¸åå¹³å°)---\x3eæºå¨æä»¤\n   \n   ç±ä¸å¾çå°scalaå¨ç¼è¯è¿è¡åjavaä¸æ · å¹¶ä¸å¯ä»¥ä½¿ç¨javaä¸­çç±»åºåè¯­æ³\n\n",charsets:{cjk:!0},lastUpdated:"2022/03/18, 07:01:11",lastUpdatedTimestamp:1647558071e3},{title:"SprakCore",frontmatter:{title:"SprakCore",date:"2022-03-17T22:09:51.000Z",permalink:"/pages/a0eb57/",categories:["å¤§æ°æ®","Spark"],tags:[null]},regularPath:"/%E5%A4%A7%E6%95%B0%E6%8D%AE/09.Spark/03.SprakCore.html",relativePath:"å¤§æ°æ®/09.Spark/03.SprakCore.md",key:"v-52219ca2",path:"/pages/a0eb57/",headers:[{level:2,title:"RDDä¹è£é¥°èæ¨¡å¼",slug:"rddä¹è£é¥°èæ¨¡å¼",normalizedTitle:"rddä¹è£é¥°èæ¨¡å¼",charIndex:16},{level:2,title:"RDD å¼¹æ§åå¸å¼æ°æ®é",slug:"rdd-å¼¹æ§åå¸å¼æ°æ®é",normalizedTitle:"rdd å¼¹æ§åå¸å¼æ°æ®é",charIndex:212},{level:2,title:"RDD ç¹æ§",slug:"rdd-ç¹æ§",normalizedTitle:"rdd ç¹æ§",charIndex:231},{level:2,title:"RDD ç¼ç¨",slug:"rdd-ç¼ç¨",normalizedTitle:"rdd ç¼ç¨",charIndex:244},{level:3,title:"RDDåå»º",slug:"rddåå»º",normalizedTitle:"rddåå»º",charIndex:317},{level:3,title:"ååºè§å",slug:"ååºè§å",normalizedTitle:"ååºè§å",charIndex:1918}],headersStr:"RDDä¹è£é¥°èæ¨¡å¼ RDD å¼¹æ§åå¸å¼æ°æ®é RDD ç¹æ§ RDD ç¼ç¨ RDDåå»º ååºè§å",content:'# SprakCore\n\n\n# RDDä¹è£é¥°èæ¨¡å¼\n\næä»¬çbufferreadReaderå°±æ¯å¸åçè£é¥°èæ¨¡å¼,éè¿åæç±»ä¸æ­å¢å¼ºåè½,å¹¶ä¿æåæç±»çåè½\n\nè£é¥°èæ¨¡å¼ï¼å¨æå°å°è´£ä»»éå å°å¯¹è±¡ä¸ãè¥è¦æ©å±åè½ï¼è£é¥°èæä¾äºæ¯ç»§æ¿æ´æå¼¹æ§çæ¿ä»£æ¹æ¡ã\n\n\n\nå¹¶ä¸æ¥æä¸ä¸ªç¹æ®çç¹å¾ åªææå¤å±çè£é¥°èè°ç¨æ¶ æä¼è°ç¨åé¨åæçè£é¥°å¯¹è±¡ ç§°ä¸ºæ°æ§å è½½\n\n\n\nèæä»¬RDDä¹æ¯éè¿è£é¥°èé©¬ä¸æ¥åè£ä¸æ­è£é¥°åæçåè½\n\n\n\n\n# RDD å¼¹æ§åå¸å¼æ°æ®é\n\n\n\n\n# RDD ç¹æ§\n\n\n\n\n# RDD ç¼ç¨\n\n\n\nç®å­ï¼ä»è®¤ç¥å¿çå­¦è§åº¦æ¥è®²ï¼è§£å³é®é¢å¶å®æ¯å°é®é¢çåå§ç¶æï¼éè¿ä¸ç³»åçè½¬æ¢æä½ï¼operatorï¼ï¼åæè§£å³ç¶æã\n\n\n# RDDåå»º\n\nå¨Sparkä¸­åå»ºRDDçåå»ºæ¹å¼å¯ä»¥åä¸ºä¸ç§ï¼ä»éåä¸­åå»ºRDDãä»å¤é¨å­å¨åå»ºRDDãä»å¶ä»RDDåå»ºã\n\n# ä»éåä¸­åå»ºRDD\n\n * sc.parallelize(list)\n * sc.makeRDD(list)\n\npackage com.atguigu.spark.day02\n\nimport org.apache.spark.rdd.RDD\nimport org.apache.spark.{SparkConf, SparkContext}\n\n//éè¿è¯»ååå­éåä¸­çæ°æ® åå»ºRDD\nobject Spark01_CreateRDD_mem {\n  def main(args: Array[String]): Unit = {\n    //Sparkéç½®æä»¶å¯¹è±¡\n    val conf: SparkConf = new SparkConf().setAppName(" Spark01_CreateRDD_mem").setMaster("local[*]")\n    //åå»ºSparkContextå¯¹è±¡\n    val sc: SparkContext = new SparkContext(conf)\n    //åå»ºä¸ä¸ªéå\n    val list: List[Int] = List(1, 2, 3, 4)\n\n    //æ ¹æ®éååå»ºRDD æ¹å¼ä¸\n    //    val rdd: RDD[Int] = sc.parallelize(list)\n    //æ ¹æ®éååå»ºRDD æ¹å¼äº åºå±è°ç¨æ¯parallelizeæ¹æ³\n    val rdd: RDD[Int] = sc.makeRDD(list)\n\n    rdd.collect().foreach(println)\n\n\n    sc.stop()\n  }\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n26\n\n\n# ä»å¤é¨å­å¨ç³»ç»çæ°æ®éåå»º\n\n * sc.textFile(path)\n\npackage com.atguigu.spark.day02\n\nimport org.apache.spark.rdd.RDD\nimport org.apache.spark.{SparkConf, SparkContext}\n\n\n//éè¿è¯»åå¤é¨æä»¶ åå»ºRDD\nobject Spark02_CreateRDD_file {\n  def main(args: Array[String]): Unit = {\n    val conf: SparkConf = new SparkConf().setAppName("Spark02_CreateRDD_file").setMaster("local[*]")\n    val sc: SparkContext = new SparkContext(conf)\n\n    //è¯»åæ¬å°æä»¶æ°æ®\n    val rdd: RDD[String] = sc.textFile("D:\\\\code\\\\spark\\\\input\\\\1.txt")\n    rdd.collect().foreach(println)\n\n    //ä»HDFSè¯»åæ°æ®\n    val hdfsRdd: RDD[String] = sc.textFile("hdfs://hadoop102:8020/input")\n    hdfsRdd.collect().foreach(println)\n\n    sc.stop()\n  }\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n\n\n\n# ååºè§å\n\n# é»è®¤ååºè§å\n\n * rdd.partitions æ¥çååº\n\npackage com.atguigu.spark.day02\n\nimport org.apache.spark.rdd.RDD\nimport org.apache.spark.{Partition, SparkConf, SparkContext}\n\n/**\n * é»è®¤ååº\n * - ä»éåä¸­åå»ºRDD\n *    åå³äºåéç»åºç¨çCPUçæ ¸æ°   å¦ä¸º* åä¸ºcpuå¨é¨æ ¸æ°\n * - è¯»åå¤é¨æä»¶åå»ºRDD\n *    math.min(åå³äºåéç»åºç¨çCPUçæ ¸æ°,2)\n */\nobject Spark03_Partition_default {\n  def main(args: Array[String]): Unit = {\n    val conf: SparkConf = new SparkConf().setAppName("Spark03_Partition_default").setMaster("local[*]")\n    val sc: SparkContext = new SparkContext(conf)\n\n    //éè¿éååå»ºRDD\n//    val rdd: RDD[Int] = sc.makeRDD(List(1, 2, 3, 4))\n    val rdd: RDD[String] = sc.textFile("D:\\\\code\\\\spark\\\\input\\\\1.txt")\n    //æ¥çååºææ\n    val partitions: Array[Partition] = rdd.partitions\n    println(partitions.size) //ååºæ°\n    rdd.saveAsTextFile("D:\\\\code\\\\spark\\\\output")\n\n\n    sc.stop()\n\n  }\n\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n26\n27\n28\n29\n30\n31\n\n\n\n\n# æå®ååº\n\n * sc.makeRDD(data , partition)\n\npackage com.atguigu.spark.day02\n\nimport org.apache.spark.rdd.RDD\nimport org.apache.spark.{Partition, SparkConf, SparkContext}\n\n/**\n * æå®ååºååº\n *  -æ ¹æ®ä¸æ ä¸ååºæ°è¿è¡è¿ç® æ±åº [x,y) å¼å§å°ç»æä¸æ åç´ çå·ä½ååºåé\n *    - start (i * arr.lent) / partition\n *    - end ((i +1) * arr.lent ) / partition\n */\nobject Spark04_Partition_mem {\n  def main(args: Array[String]): Unit = {\n    val conf: SparkConf = new SparkConf().setAppName("Spark04_Partition_mem").setMaster("local[*]")\n    val sc: SparkContext = new SparkContext(conf)\n\n    //éè¿éååå»ºRDD\n//    val rdd: RDD[Int] = sc.makeRDD(List(1, 2, 3, 4),4) //é»è®¤ååºæ°ä¸ºcpuæ ¸æ°\n    //1ï¼4ä¸ªæ°æ®ï¼è®¾ç½®4ä¸ªååºï¼è¾åºï¼0ååº->1ï¼1ååº->2ï¼2ååº->3ï¼3ååº->4\n    //val rdd: RDD[Int] = sc.makeRDD(Array(1, 2, 3, 4), 4)\n\n    //2ï¼4ä¸ªæ°æ®ï¼è®¾ç½®3ä¸ªååºï¼è¾åºï¼0ååº->1ï¼1ååº->2ï¼2ååº->3,4\n    //val rdd: RDD[Int] = sc.makeRDD(Array(1, 2, 3, 4), 3)\n\n    //3ï¼5ä¸ªæ°æ®ï¼è®¾ç½®3ä¸ªååºï¼è¾åºï¼0ååº->1ï¼1ååº->2ã3ï¼2ååº->4ã5\n    val rdd: RDD[Int] = sc.makeRDD(Array(1, 2, 3, 4, 5), 3)\n\n    //æ¥çååºææ\n    val partitions: Array[Partition] = rdd.partitions\n    println(partitions.size) //ååºæ°\n    rdd.saveAsTextFile("D:\\\\code\\\\spark\\\\output")\n\n\n    sc.stop()\n\n  }\n\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n26\n27\n28\n29\n30\n31\n32\n33\n34\n35\n36\n37\n38\n\n\n\n\n# è¯»åæä»¶æå®ååº\n\npackage com.atguigu.spark.day02\n\nimport org.apache.spark.rdd.RDD\nimport org.apache.spark.{SparkConf, SparkContext}\n\n/**\n * è¯»åå¤é¨æä»¶ åå»ºRDD\n *  - é»è®¤ååºè§å\n *    math.min(åéçæ ¸æ°,2)\n *   - æå®ååº minPartitions æå°ååºæ° å¹¶ä¸æ¯å®éååºä¸ªæ°\n *   - å¨å®éè®¡ç®ååºä¸ªæ°çæ¶å ä¼æ ¹æ®æä»¶çæ»å¤§å°å æå°ååºæ°è¿è¡ç¸é¤è¿ç®\n *      -  å¦æä½æ°ä¸º0  æå°ååºæ°ä¸ºå®éååºæ°\n *      - å¦æä½æ°ä¸ä¸º0 åå®éååºæ°è¦çå®éåç\n *\n */\nobject Spark05_Partition_file {\n  def main(args: Array[String]): Unit = {\n    val conf: SparkConf = new SparkConf().setAppName("Spark05_Partition_file").setMaster("local[*]")\n    val sc: SparkContext = new SparkContext(conf)\n\n    //    val rdd: RDD[String] = sc.textFile("D:\\\\code\\\\spark\\\\input\\\\1.txt") //é»è®¤ååºä¸º2ä¸ª\n    //2ï¼è¾å¥æ°æ®1-4ï¼æ¯è¡ä¸ä¸ªæ°å­ï¼è¾åºï¼0=>{1ã2} 1=>{3} 2=>{4} 3=>{ç©º}\n    //val rdd: RDD[String] = sc.textFile("input/3.txt",3)\n\n    //3ï¼è¾å¥æ°æ®1-4ï¼ä¸å±ä¸è¡ï¼è¾åºï¼0=>{1234} 1=>{ç©º} 2=>{ç©º} 3=>{ç©º}\n    val rdd: RDD[String] = sc.textFile("input/4.txt", 3)\n\n    rdd.saveAsTextFile("D:\\\\code\\\\spark\\\\output")\n\n    sc.stop()\n  }\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n26\n27\n28\n29\n30\n31\n32\n\n\n\n\ngetSplitsæä»¶è¿åçæ¯åçè§åï¼çæ­£è¯»åæ¯å¨computeæ¹æ³ä¸­åå»ºLineRecordReaderè¯»åçï¼æä¸¤ä¸ªå³é®åé\n\nstart=split.getStart()\n\nend = start + split.getLength\n\nåè®¾è¯»åtext.txt æå®æå°ååºä¸º5\n\nabc\nef\ng\nhj\nklm\n\n\n1\n2\n3\n4\n5\n\n\næ­¤æä»¶æ»å¤§å°ä¸º19å­è 19%5=3 æ¯ä¸ªååºæ¯æ¬¡è¿½å ä¸ªæ°è¦æ±ä¸º 19/6=3å­è 19å­èæ»å¤§å°/3æ¯æ¬¡å­è=6ä¸ªååº ä½ 1 ææå®éååºæ°ä¸º 6+1 =7\n\nå¦æ ç®åæ»å¤§å°/(æ»å¤§å° / æå°ååºæ°) < 1.1 åä¸åç åä»¥æå®ååºæ° è¯¦ææºç çä¸å¾çwhileå¾ªç¯\n\nååº0çæ°æ®ä¸º æ¯ä¸ªååºæ¯æ¬¡è¯»å3å­è å ä¸ºè¯»åæ¯è¯»åä¸è¡å¦æè¿ä¸è¡æ°æ®è¶è¿äºæ¯æ¬¡è¯»ååæ´è¡è¯»å å¹¶è¯»åä¸ä¸ªååº\n\n0~3ç´¢å¼çæ°æ®\n\nabc\\r\\n\n\n\n1\n\n\nååº1çæ°æ®ä¸º 3~6ç´¢å¼çæ°æ®\n\nef\\r\\n\n\n\n1\n\n\nååº2çæ°æ®ä¸º 6~9ç´¢å¼çæ°æ®\n\ng\\r\\n\n\n\n1\n\n\nååº3æ°æ®ä¸º 9~12ç´¢å¼çæ°æ®\n\nhj\\r\\n\n\n\n1\n\n\nååº4æ°æ®ä¸º 12~15ç´¢å¼çæ°æ®\n\n\n\nååº5æ°æ®ä¸º 15~18ç´¢å¼çæ°æ®\n\nklm\\r\n\n\n1\n\n\nååº6æ°æ®ä¸º 18~1ç´¢å¼çæ°æ®\n\n',normalizedContent:'# sprakcore\n\n\n# rddä¹è£é¥°èæ¨¡å¼\n\næä»¬çbufferreadreaderå°±æ¯å¸åçè£é¥°èæ¨¡å¼,éè¿åæç±»ä¸æ­å¢å¼ºåè½,å¹¶ä¿æåæç±»çåè½\n\nè£é¥°èæ¨¡å¼ï¼å¨æå°å°è´£ä»»éå å°å¯¹è±¡ä¸ãè¥è¦æ©å±åè½ï¼è£é¥°èæä¾äºæ¯ç»§æ¿æ´æå¼¹æ§çæ¿ä»£æ¹æ¡ã\n\n\n\nå¹¶ä¸æ¥æä¸ä¸ªç¹æ®çç¹å¾ åªææå¤å±çè£é¥°èè°ç¨æ¶ æä¼è°ç¨åé¨åæçè£é¥°å¯¹è±¡ ç§°ä¸ºæ°æ§å è½½\n\n\n\nèæä»¬rddä¹æ¯éè¿è£é¥°èé©¬ä¸æ¥åè£ä¸æ­è£é¥°åæçåè½\n\n\n\n\n# rdd å¼¹æ§åå¸å¼æ°æ®é\n\n\n\n\n# rdd ç¹æ§\n\n\n\n\n# rdd ç¼ç¨\n\n\n\nç®å­ï¼ä»è®¤ç¥å¿çå­¦è§åº¦æ¥è®²ï¼è§£å³é®é¢å¶å®æ¯å°é®é¢çåå§ç¶æï¼éè¿ä¸ç³»åçè½¬æ¢æä½ï¼operatorï¼ï¼åæè§£å³ç¶æã\n\n\n# rddåå»º\n\nå¨sparkä¸­åå»ºrddçåå»ºæ¹å¼å¯ä»¥åä¸ºä¸ç§ï¼ä»éåä¸­åå»ºrddãä»å¤é¨å­å¨åå»ºrddãä»å¶ä»rddåå»ºã\n\n# ä»éåä¸­åå»ºrdd\n\n * sc.parallelize(list)\n * sc.makerdd(list)\n\npackage com.atguigu.spark.day02\n\nimport org.apache.spark.rdd.rdd\nimport org.apache.spark.{sparkconf, sparkcontext}\n\n//éè¿è¯»ååå­éåä¸­çæ°æ® åå»ºrdd\nobject spark01_createrdd_mem {\n  def main(args: array[string]): unit = {\n    //sparkéç½®æä»¶å¯¹è±¡\n    val conf: sparkconf = new sparkconf().setappname(" spark01_createrdd_mem").setmaster("local[*]")\n    //åå»ºsparkcontextå¯¹è±¡\n    val sc: sparkcontext = new sparkcontext(conf)\n    //åå»ºä¸ä¸ªéå\n    val list: list[int] = list(1, 2, 3, 4)\n\n    //æ ¹æ®éååå»ºrdd æ¹å¼ä¸\n    //    val rdd: rdd[int] = sc.parallelize(list)\n    //æ ¹æ®éååå»ºrdd æ¹å¼äº åºå±è°ç¨æ¯parallelizeæ¹æ³\n    val rdd: rdd[int] = sc.makerdd(list)\n\n    rdd.collect().foreach(println)\n\n\n    sc.stop()\n  }\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n26\n\n\n# ä»å¤é¨å­å¨ç³»ç»çæ°æ®éåå»º\n\n * sc.textfile(path)\n\npackage com.atguigu.spark.day02\n\nimport org.apache.spark.rdd.rdd\nimport org.apache.spark.{sparkconf, sparkcontext}\n\n\n//éè¿è¯»åå¤é¨æä»¶ åå»ºrdd\nobject spark02_createrdd_file {\n  def main(args: array[string]): unit = {\n    val conf: sparkconf = new sparkconf().setappname("spark02_createrdd_file").setmaster("local[*]")\n    val sc: sparkcontext = new sparkcontext(conf)\n\n    //è¯»åæ¬å°æä»¶æ°æ®\n    val rdd: rdd[string] = sc.textfile("d:\\\\code\\\\spark\\\\input\\\\1.txt")\n    rdd.collect().foreach(println)\n\n    //ä»hdfsè¯»åæ°æ®\n    val hdfsrdd: rdd[string] = sc.textfile("hdfs://hadoop102:8020/input")\n    hdfsrdd.collect().foreach(println)\n\n    sc.stop()\n  }\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n\n\n\n# ååºè§å\n\n# é»è®¤ååºè§å\n\n * rdd.partitions æ¥çååº\n\npackage com.atguigu.spark.day02\n\nimport org.apache.spark.rdd.rdd\nimport org.apache.spark.{partition, sparkconf, sparkcontext}\n\n/**\n * é»è®¤ååº\n * - ä»éåä¸­åå»ºrdd\n *    åå³äºåéç»åºç¨çcpuçæ ¸æ°   å¦ä¸º* åä¸ºcpuå¨é¨æ ¸æ°\n * - è¯»åå¤é¨æä»¶åå»ºrdd\n *    math.min(åå³äºåéç»åºç¨çcpuçæ ¸æ°,2)\n */\nobject spark03_partition_default {\n  def main(args: array[string]): unit = {\n    val conf: sparkconf = new sparkconf().setappname("spark03_partition_default").setmaster("local[*]")\n    val sc: sparkcontext = new sparkcontext(conf)\n\n    //éè¿éååå»ºrdd\n//    val rdd: rdd[int] = sc.makerdd(list(1, 2, 3, 4))\n    val rdd: rdd[string] = sc.textfile("d:\\\\code\\\\spark\\\\input\\\\1.txt")\n    //æ¥çååºææ\n    val partitions: array[partition] = rdd.partitions\n    println(partitions.size) //ååºæ°\n    rdd.saveastextfile("d:\\\\code\\\\spark\\\\output")\n\n\n    sc.stop()\n\n  }\n\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n26\n27\n28\n29\n30\n31\n\n\n\n\n# æå®ååº\n\n * sc.makerdd(data , partition)\n\npackage com.atguigu.spark.day02\n\nimport org.apache.spark.rdd.rdd\nimport org.apache.spark.{partition, sparkconf, sparkcontext}\n\n/**\n * æå®ååºååº\n *  -æ ¹æ®ä¸æ ä¸ååºæ°è¿è¡è¿ç® æ±åº [x,y) å¼å§å°ç»æä¸æ åç´ çå·ä½ååºåé\n *    - start (i * arr.lent) / partition\n *    - end ((i +1) * arr.lent ) / partition\n */\nobject spark04_partition_mem {\n  def main(args: array[string]): unit = {\n    val conf: sparkconf = new sparkconf().setappname("spark04_partition_mem").setmaster("local[*]")\n    val sc: sparkcontext = new sparkcontext(conf)\n\n    //éè¿éååå»ºrdd\n//    val rdd: rdd[int] = sc.makerdd(list(1, 2, 3, 4),4) //é»è®¤ååºæ°ä¸ºcpuæ ¸æ°\n    //1ï¼4ä¸ªæ°æ®ï¼è®¾ç½®4ä¸ªååºï¼è¾åºï¼0ååº->1ï¼1ååº->2ï¼2ååº->3ï¼3ååº->4\n    //val rdd: rdd[int] = sc.makerdd(array(1, 2, 3, 4), 4)\n\n    //2ï¼4ä¸ªæ°æ®ï¼è®¾ç½®3ä¸ªååºï¼è¾åºï¼0ååº->1ï¼1ååº->2ï¼2ååº->3,4\n    //val rdd: rdd[int] = sc.makerdd(array(1, 2, 3, 4), 3)\n\n    //3ï¼5ä¸ªæ°æ®ï¼è®¾ç½®3ä¸ªååºï¼è¾åºï¼0ååº->1ï¼1ååº->2ã3ï¼2ååº->4ã5\n    val rdd: rdd[int] = sc.makerdd(array(1, 2, 3, 4, 5), 3)\n\n    //æ¥çååºææ\n    val partitions: array[partition] = rdd.partitions\n    println(partitions.size) //ååºæ°\n    rdd.saveastextfile("d:\\\\code\\\\spark\\\\output")\n\n\n    sc.stop()\n\n  }\n\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n26\n27\n28\n29\n30\n31\n32\n33\n34\n35\n36\n37\n38\n\n\n\n\n# è¯»åæä»¶æå®ååº\n\npackage com.atguigu.spark.day02\n\nimport org.apache.spark.rdd.rdd\nimport org.apache.spark.{sparkconf, sparkcontext}\n\n/**\n * è¯»åå¤é¨æä»¶ åå»ºrdd\n *  - é»è®¤ååºè§å\n *    math.min(åéçæ ¸æ°,2)\n *   - æå®ååº minpartitions æå°ååºæ° å¹¶ä¸æ¯å®éååºä¸ªæ°\n *   - å¨å®éè®¡ç®ååºä¸ªæ°çæ¶å ä¼æ ¹æ®æä»¶çæ»å¤§å°å æå°ååºæ°è¿è¡ç¸é¤è¿ç®\n *      -  å¦æä½æ°ä¸º0  æå°ååºæ°ä¸ºå®éååºæ°\n *      - å¦æä½æ°ä¸ä¸º0 åå®éååºæ°è¦çå®éåç\n *\n */\nobject spark05_partition_file {\n  def main(args: array[string]): unit = {\n    val conf: sparkconf = new sparkconf().setappname("spark05_partition_file").setmaster("local[*]")\n    val sc: sparkcontext = new sparkcontext(conf)\n\n    //    val rdd: rdd[string] = sc.textfile("d:\\\\code\\\\spark\\\\input\\\\1.txt") //é»è®¤ååºä¸º2ä¸ª\n    //2ï¼è¾å¥æ°æ®1-4ï¼æ¯è¡ä¸ä¸ªæ°å­ï¼è¾åºï¼0=>{1ã2} 1=>{3} 2=>{4} 3=>{ç©º}\n    //val rdd: rdd[string] = sc.textfile("input/3.txt",3)\n\n    //3ï¼è¾å¥æ°æ®1-4ï¼ä¸å±ä¸è¡ï¼è¾åºï¼0=>{1234} 1=>{ç©º} 2=>{ç©º} 3=>{ç©º}\n    val rdd: rdd[string] = sc.textfile("input/4.txt", 3)\n\n    rdd.saveastextfile("d:\\\\code\\\\spark\\\\output")\n\n    sc.stop()\n  }\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n26\n27\n28\n29\n30\n31\n32\n\n\n\n\ngetsplitsæä»¶è¿åçæ¯åçè§åï¼çæ­£è¯»åæ¯å¨computeæ¹æ³ä¸­åå»ºlinerecordreaderè¯»åçï¼æä¸¤ä¸ªå³é®åé\n\nstart=split.getstart()\n\nend = start + split.getlength\n\nåè®¾è¯»åtext.txt æå®æå°ååºä¸º5\n\nabc\nef\ng\nhj\nklm\n\n\n1\n2\n3\n4\n5\n\n\næ­¤æä»¶æ»å¤§å°ä¸º19å­è 19%5=3 æ¯ä¸ªååºæ¯æ¬¡è¿½å ä¸ªæ°è¦æ±ä¸º 19/6=3å­è 19å­èæ»å¤§å°/3æ¯æ¬¡å­è=6ä¸ªååº ä½ 1 ææå®éååºæ°ä¸º 6+1 =7\n\nå¦æ ç®åæ»å¤§å°/(æ»å¤§å° / æå°ååºæ°) < 1.1 åä¸åç åä»¥æå®ååºæ° è¯¦ææºç çä¸å¾çwhileå¾ªç¯\n\nååº0çæ°æ®ä¸º æ¯ä¸ªååºæ¯æ¬¡è¯»å3å­è å ä¸ºè¯»åæ¯è¯»åä¸è¡å¦æè¿ä¸è¡æ°æ®è¶è¿äºæ¯æ¬¡è¯»ååæ´è¡è¯»å å¹¶è¯»åä¸ä¸ªååº\n\n0~3ç´¢å¼çæ°æ®\n\nabc\\r\\n\n\n\n1\n\n\nååº1çæ°æ®ä¸º 3~6ç´¢å¼çæ°æ®\n\nef\\r\\n\n\n\n1\n\n\nååº2çæ°æ®ä¸º 6~9ç´¢å¼çæ°æ®\n\ng\\r\\n\n\n\n1\n\n\nååº3æ°æ®ä¸º 9~12ç´¢å¼çæ°æ®\n\nhj\\r\\n\n\n\n1\n\n\nååº4æ°æ®ä¸º 12~15ç´¢å¼çæ°æ®\n\n\n\nååº5æ°æ®ä¸º 15~18ç´¢å¼çæ°æ®\n\nklm\\r\n\n\n1\n\n\nååº6æ°æ®ä¸º 18~1ç´¢å¼çæ°æ®\n\n',charsets:{cjk:!0},lastUpdated:"2022/03/18, 07:01:11",lastUpdatedTimestamp:1647558071e3},{title:"SparkSQL",frontmatter:{title:"SparkSQL",date:"2022-03-17T22:09:51.000Z",permalink:"/pages/0de4e9/",categories:["å¤§æ°æ®","Spark"],tags:[null]},regularPath:"/%E5%A4%A7%E6%95%B0%E6%8D%AE/09.Spark/04.SparkSQL.html",relativePath:"å¤§æ°æ®/09.Spark/04.SparkSQL.md",key:"v-12efaf51",path:"/pages/0de4e9/",headers:[{level:2,title:"DataFrame",slug:"dataframe",normalizedTitle:"dataframe",charIndex:326},{level:2,title:"DataSet",slug:"dataset",normalizedTitle:"dataset",charIndex:340}],headersStr:"DataFrame DataSet",content:"# SparkSQL\n\nSpark SQLæ¯Sparkç¨äºç»æåæ°æ®(structured data)å¤ççSparkæ¨¡åã\n\nä¸åºæ¬çSpark RDD APIä¸åï¼Spark SQLçæ½è±¡æ°æ®ç±»åä¸ºSparkæä¾äºå³äºæ°æ®ç»æåæ­£å¨æ§è¡çè®¡ç®çæ´å¤ä¿¡æ¯ã\n\næä»¬å·²ç»å­¦ä¹ äºHiveï¼å®æ¯å°Hive SQLè½¬æ¢æ MapReduceç¶åæäº¤å°éç¾¤ä¸æ§è¡ï¼å¤§å¤§ç®åäºç¼å MapReduceçç¨åºçå¤ææ§ï¼ç±äºMapReduceè¿ç§è®¡ç®æ¨¡åæ§è¡æçæ¯è¾æ¢ãæä»¥Spark SQLçåºè¿èçï¼å®æ¯å°Spark SQLè½¬æ¢æRDDï¼ç¶åæäº¤å°éç¾¤æ§è¡ï¼æ§è¡æçéå¸¸å¿«ï¼\n\nSpark SQLå®æä¾äº2ä¸ªç¼ç¨æ½è±¡ï¼ç±»ä¼¼Spark Coreä¸­çRDD\n\n * DataFrame\n\n * DataSet\n\nç¹ç¹:\n\n 1. ä½¿ç¨ç¸åçæ¹å¼è¿æ¥ä¸åçæ°æ®æº\n 2. å¨å·²æçä»åºä¸ç´æ¥è¿è¡ SQL æè HiveQL\n 3. éè¿ JDBC æè ODBC æ¥è¿æ¥\n\n\n# DataFrame\n\nå¨Sparkä¸­ï¼DataFrameæ¯ä¸ç§ä»¥RDDä¸ºåºç¡çåå¸å¼æ°æ®éï¼ç±»ä¼¼äºä¼ ç»æ°æ®åºä¸­çäºç»´è¡¨æ ¼ã\n\nDataFrameä¸RDDçä¸»è¦åºå«å¨äºï¼åèå¸¦æschemaåä¿¡æ¯ï¼å³DataFrameæè¡¨ç¤ºçäºç»´è¡¨æ°æ®éçæ¯ä¸åé½å¸¦æåç§°åç±»åãè¿ä½¿å¾Spark SQLå¾ä»¥æ´å¯æ´å¤çç»æä¿¡æ¯ï¼ä»èå¯¹èäºDataFrameèåçæ°æ®æºä»¥åä½ç¨äºDataFrameä¹ä¸çåæ¢è¿è¡äºéå¯¹æ§çä¼åï¼æç»è¾¾å°å¤§å¹æåè¿è¡æ¶æççç®æ ãåè§RDDï¼ç±äºæ ä»å¾ç¥æå­æ°æ®åç´ çå·ä½åé¨ç»æï¼Spark Coreåªè½å¨stageå±é¢è¿è¡ç®åãéç¨çæµæ°´çº¿ä¼åã\n\nåæ¶ï¼ä¸Hiveç±»ä¼¼ï¼DataFrameä¹æ¯æåµå¥æ°æ®ç±»åï¼structãarrayåmapï¼ãä» API æç¨æ§çè§åº¦ä¸çï¼DataFrame APIæä¾çæ¯ä¸å¥é«å±çå³ç³»æä½ï¼æ¯å½æ°å¼çRDD API è¦æ´å åå¥½ï¼é¨æ§æ´ä½ã\n\nå·¦ä¾§çRDD[Person]è½ç¶ä»¥Personä¸ºç±»ååæ°ï¼ä½Sparkæ¡æ¶æ¬èº«ä¸äºè§£Personç±»çåé¨ç»æãèå³ä¾§çDataFrameå´æä¾äºè¯¦ç»çç»æä¿¡æ¯ï¼ä½¿å¾ Spark SQL å¯ä»¥æ¸æ¥å°ç¥éè¯¥æ°æ®éä¸­åå«åªäºåï¼æ¯åçåç§°åç±»ååæ¯ä»ä¹ã\n\nDataFrameæ¯ä¸ºæ°æ®æä¾äºSchemaçè§å¾ãå¯ä»¥æå®å½åæ°æ®åºä¸­çä¸å¼ è¡¨æ¥å¯¹å¾\n\nDataFrameä¹æ¯ææ§è¡çï¼ä½æ§è½ä¸æ¯RDDè¦é«ï¼ä¸»è¦åå ï¼ä¼åçæ§è¡è®¡åï¼å³æ¥è¯¢è®¡åéè¿Spark catalyst optimiserè¿è¡ä¼åã\n\n\n\n\n# DataSet\n\nDataSetæ¯åå¸å¼æ°æ®éåãDataSetæ¯Spark 1.6ä¸­æ·»å çä¸ä¸ªæ°æ½è±¡ï¼æ¯DataFrameçä¸ä¸ªæ©å±ãå®æä¾äºRDDçä¼å¿ï¼å¼ºç±»åï¼ä½¿ç¨å¼ºå¤§çlambdaå½æ°çè½åï¼ä»¥åSpark SQLä¼åæ§è¡å¼æçä¼ç¹ãDataSetä¹å¯ä»¥ä½¿ç¨åè½æ§çè½¬æ¢ï¼æä½mapï¼flatMapï¼filterç­ç­ï¼ã\n\n",normalizedContent:"# sparksql\n\nspark sqlæ¯sparkç¨äºç»æåæ°æ®(structured data)å¤ççsparkæ¨¡åã\n\nä¸åºæ¬çspark rdd apiä¸åï¼spark sqlçæ½è±¡æ°æ®ç±»åä¸ºsparkæä¾äºå³äºæ°æ®ç»æåæ­£å¨æ§è¡çè®¡ç®çæ´å¤ä¿¡æ¯ã\n\næä»¬å·²ç»å­¦ä¹ äºhiveï¼å®æ¯å°hive sqlè½¬æ¢æ mapreduceç¶åæäº¤å°éç¾¤ä¸æ§è¡ï¼å¤§å¤§ç®åäºç¼å mapreduceçç¨åºçå¤ææ§ï¼ç±äºmapreduceè¿ç§è®¡ç®æ¨¡åæ§è¡æçæ¯è¾æ¢ãæä»¥spark sqlçåºè¿èçï¼å®æ¯å°spark sqlè½¬æ¢ærddï¼ç¶åæäº¤å°éç¾¤æ§è¡ï¼æ§è¡æçéå¸¸å¿«ï¼\n\nspark sqlå®æä¾äº2ä¸ªç¼ç¨æ½è±¡ï¼ç±»ä¼¼spark coreä¸­çrdd\n\n * dataframe\n\n * dataset\n\nç¹ç¹:\n\n 1. ä½¿ç¨ç¸åçæ¹å¼è¿æ¥ä¸åçæ°æ®æº\n 2. å¨å·²æçä»åºä¸ç´æ¥è¿è¡ sql æè hiveql\n 3. éè¿ jdbc æè odbc æ¥è¿æ¥\n\n\n# dataframe\n\nå¨sparkä¸­ï¼dataframeæ¯ä¸ç§ä»¥rddä¸ºåºç¡çåå¸å¼æ°æ®éï¼ç±»ä¼¼äºä¼ ç»æ°æ®åºä¸­çäºç»´è¡¨æ ¼ã\n\ndataframeä¸rddçä¸»è¦åºå«å¨äºï¼åèå¸¦æschemaåä¿¡æ¯ï¼å³dataframeæè¡¨ç¤ºçäºç»´è¡¨æ°æ®éçæ¯ä¸åé½å¸¦æåç§°åç±»åãè¿ä½¿å¾spark sqlå¾ä»¥æ´å¯æ´å¤çç»æä¿¡æ¯ï¼ä»èå¯¹èäºdataframeèåçæ°æ®æºä»¥åä½ç¨äºdataframeä¹ä¸çåæ¢è¿è¡äºéå¯¹æ§çä¼åï¼æç»è¾¾å°å¤§å¹æåè¿è¡æ¶æççç®æ ãåè§rddï¼ç±äºæ ä»å¾ç¥æå­æ°æ®åç´ çå·ä½åé¨ç»æï¼spark coreåªè½å¨stageå±é¢è¿è¡ç®åãéç¨çæµæ°´çº¿ä¼åã\n\nåæ¶ï¼ä¸hiveç±»ä¼¼ï¼dataframeä¹æ¯æåµå¥æ°æ®ç±»åï¼structãarrayåmapï¼ãä» api æç¨æ§çè§åº¦ä¸çï¼dataframe apiæä¾çæ¯ä¸å¥é«å±çå³ç³»æä½ï¼æ¯å½æ°å¼çrdd api è¦æ´å åå¥½ï¼é¨æ§æ´ä½ã\n\nå·¦ä¾§çrdd[person]è½ç¶ä»¥personä¸ºç±»ååæ°ï¼ä½sparkæ¡æ¶æ¬èº«ä¸äºè§£personç±»çåé¨ç»æãèå³ä¾§çdataframeå´æä¾äºè¯¦ç»çç»æä¿¡æ¯ï¼ä½¿å¾ spark sql å¯ä»¥æ¸æ¥å°ç¥éè¯¥æ°æ®éä¸­åå«åªäºåï¼æ¯åçåç§°åç±»ååæ¯ä»ä¹ã\n\ndataframeæ¯ä¸ºæ°æ®æä¾äºschemaçè§å¾ãå¯ä»¥æå®å½åæ°æ®åºä¸­çä¸å¼ è¡¨æ¥å¯¹å¾\n\ndataframeä¹æ¯ææ§è¡çï¼ä½æ§è½ä¸æ¯rddè¦é«ï¼ä¸»è¦åå ï¼ä¼åçæ§è¡è®¡åï¼å³æ¥è¯¢è®¡åéè¿spark catalyst optimiserè¿è¡ä¼åã\n\n\n\n\n# dataset\n\ndatasetæ¯åå¸å¼æ°æ®éåãdatasetæ¯spark 1.6ä¸­æ·»å çä¸ä¸ªæ°æ½è±¡ï¼æ¯dataframeçä¸ä¸ªæ©å±ãå®æä¾äºrddçä¼å¿ï¼å¼ºç±»åï¼ä½¿ç¨å¼ºå¤§çlambdaå½æ°çè½åï¼ä»¥åspark sqlä¼åæ§è¡å¼æçä¼ç¹ãdatasetä¹å¯ä»¥ä½¿ç¨åè½æ§çè½¬æ¢ï¼æä½mapï¼flatmapï¼filterç­ç­ï¼ã\n\n",charsets:{cjk:!0},lastUpdated:"2022/03/18, 07:01:11",lastUpdatedTimestamp:1647558071e3}],themeConfig:{bodyBgImg:"/img/aqua.jpg",bodyBgImgOpacity:1,nav:[{text:"é¦é¡µ",link:"/"},{text:"åç«¯",link:"/Java/",items:[{text:"Java",items:[{text:"JavaSE",link:"/pages/df8281/"},{text:"JavaEE",link:"/pages/544a3f/"}]},{text:"Python",items:[{text:"Python",link:"/pages/35c9ab/"},{text:"Pythonæ¨¡å",link:"/pages/cf7131/"},{text:"æºå¨å­¦ä¹ ",link:"/pages/ddf9fb/"}]},{text:"æå¡å¨",items:[{text:"Linux",link:"/pages/124a07/"},{text:"SQL",link:"/pages/e051f6/"}]}]},{text:"å¤§æ°æ®",link:"/hadoop/",items:[{text:"Hadoop",link:"/pages/8e0c98/"},{text:"Zookeeper",link:"/pages/f38fc8/"},{text:"Hive",link:"/pages/2315d6/"},{text:"Flume",link:"/pages/b084db/"},{text:"Kafka",link:"/pages/872cdc/"},{text:"Azkaban",link:"/pages/bac882/"},{text:"Hbase",link:"/pages/310c39/"},{text:"Scala",link:"/pages/d2afbe/"},{text:"Spark",link:"/pages/cc783e/"}]},{text:"åç«¯",link:"/web/",items:[{text:"html",link:"/pages/23186a/"},{text:"Vue2",link:"/pages/6af871/"}]},{text:"408",link:"/408/",items:[{text:"æ°æ®ç»æä¸ç®æ³",link:"/pages/8e5251/"}]}],sidebarDepth:2,logo:"/img/logo.png",repo:"Iekrwh/blog-VuePress-theme-vdoing",searchMaxSuggestions:10,lastUpdated:"ä¸æ¬¡æ´æ°",docsDir:"docs",editLinks:!0,editLinkText:"ç¼è¾",sidebar:{"/408/":[{title:"æ°æ®ç»æ",collapsable:!0,children:[["01.æ°æ®ç»æ/01.ä½è¿ç®.md","ä½è¿ç®","/pages/8e5251/"],["01.æ°æ®ç»æ/02.æåºæ¬çæ°æ®ç»æ.md","æåºæ¬çæ°æ®ç»æ","/pages/38d7c8/"],["01.æ°æ®ç»æ/03.åç¼åæ°ç».md","åç¼åæ°ç»","/pages/3ad1d4/"],["01.æ°æ®ç»æ/04.randomçéæºè¡ä¸º.md","randomçéæºè¡ä¸º","/pages/64e136/"],["01.æ°æ®ç»æ/05.å¯¹æ°å¨.md","å¯¹æ°å¨","/pages/9c9f24/"],["01.æ°æ®ç»æ/06.äºåæ³æ¥æ¾.md","äºåæ³æ¥æ¾","/pages/06b58c/"],["01.æ°æ®ç»æ/07.æ¹æ³åæ°ä¼ éæ¯å¼è¿æ¯å¼ç¨.md","æ¹æ³åæ°ä¼ éæ¯å¼è¿æ¯å¼ç¨","/pages/7e9265/"],["01.æ°æ®ç»æ/08.é¾è¡¨.md","é¾è¡¨","/pages/d3b8b4/"],["01.æ°æ®ç»æ/09.ä½å¾.md","ä½å¾","/pages/d2cd3f/"],["01.æ°æ®ç»æ/10.ä½è¿ç®å®ç°ååè¿ç®.md","ä½è¿ç®å®ç°ååè¿ç®","/pages/51bf81/"],["01.æ°æ®ç»æ/11.äºåæ .md","äºåæ ","/pages/3e25e1/"],["01.æ°æ®ç»æ/12.æåº.md","æåº","/pages/0dcdc5/"],["01.æ°æ®ç»æ/13.æ¶é´å¤æåº¦.md","æ¶é´å¤æåº¦","/pages/ef4d8b/"],["01.æ°æ®ç»æ/14.éååæ .md","éååæ ","/pages/3bda9f/"],["01.æ°æ®ç»æ/15.éå½.md","éå½","/pages/fe2eaf/"],["01.æ°æ®ç»æ/16.å (ä¼åçº§éå).md","å (ä¼åçº§éå)","/pages/88e08c/"]]},{title:"è®¡ç®æºæä½ç³»ç»",collapsable:!0,children:[]},{title:"è®¡ç®æºç½ç»",collapsable:!0,children:[]},{title:"è®¡ç®æºç»æåç",collapsable:!0,children:[]}],catalogue:{},"/åç«¯/":[{title:"html",collapsable:!0,children:[["01.html/01.BSæ¶æ.md","BSæ¶æ","/pages/23186a/"],["01.html/02.HTML.md","HTML","/pages/3ba523/"],["01.html/03.HTML5.md","HTML5","/pages/8600fc/"],["01.html/04.è¡¨åæ ç­¾.md","è¡¨åæ ç­¾","/pages/c2f00e/"],["01.html/05.CSS.md","CSS","/pages/b3f43c/"],["01.html/06.html+cssç½é¡µ.md","html+cssç½é¡µ","/pages/5bc756/"],["01.html/07.CSS3.md","CSS3","/pages/54a5fa/"],["01.html/08.ç§»å¨å¸å±.md","ç§»å¨å¸å±","/pages/dc74bd/"],["01.html/09.JavaScript.md","JavaScript","/pages/e5e5b8/"]]},{title:"Vue2",collapsable:!0,children:[["02.Vue2/00.vue è¡¥å.md","vue è¡¥å","/pages/6af871/"],["02.Vue2/01.å®è£Vue CLI.md","å®è£Vue CLI","/pages/758bea/"],["02.Vue2/02.å¨Vue CLIä¸­å¯¼å¥ Elment.md","å¨Vue CLIä¸­å¯¼å¥ Elment","/pages/3b8d98/"],["02.Vue2/03.Elment.md","Elment","/pages/cb74f3/"],["02.Vue2/04.Axios.md","Axios","/pages/e17f8f/"],["02.Vue2/05.éç½®Vueè·¯ç±.md","éç½®Vueè·¯ç±","/pages/efa853/"],["02.Vue2/06.github æ¨é.md","github æ¨é","/pages/56d54a/"],["02.Vue2/07.å®è£ elment-tiptap.md","å®è£ elment-tiptap","/pages/93608e/"],["02.Vue2/08.å®è£ cropperjs å¾çè£åå·¥å·.md","å®è£ cropperjs å¾çè£åå·¥å·","/pages/f0d787/"],["02.Vue2/09.è®©ä¸¤ä¸ªç»ä»¶ä¹é´éè®¯.md","è®©ä¸¤ä¸ªç»ä»¶ä¹é´éè®¯","/pages/e5e482/"],["02.Vue2/10.å®è£echart.md","å®è£echart","/pages/812e04/"],["02.Vue2/11.æä»¶å¯¹è±¡.md","æä»¶å¯¹è±¡","/pages/2bf2c3/"],["02.Vue2/12.æååå¸.md","æååå¸","/pages/fc097d/"],["02.Vue2/13.webpack.md","webpack","/pages/b60752/"],["02.Vue2/14.vue çæ¬.md","vue çæ¬","/pages/0a8d91/"],["02.Vue2/15.ä¼åæå.md","ä¼åæå","/pages/b8f860/"],["02.Vue2/16.vue å¾å½¢çé¢.md","vue å¾å½¢çé¢","/pages/c64d65/"],["02.Vue2/17.è·¯ç±æå è½½.md","è·¯ç±æå è½½","/pages/27ac6a/"],["02.Vue2/18.element æéå¼ç¨.md","element æéå¼ç¨","/pages/1bc0dd/"],["02.Vue2/19.ç¼å­åå¹¶è¡å¤ç.md","ç¼å­åå¹¶è¡å¤ç","/pages/14f647/"],["02.Vue2/20.JavaScript å¼æ­¥ç¼ç¨.md","JavaScript å¼æ­¥ç¼ç¨","/pages/195534/"]]}],"/åç«¯/":[{title:"JavaSE",collapsable:!0,children:[["01.JavaSE/01.javaè·¨å¹³å°åç.md","javaè·¨å¹³å°åç","/pages/df8281/"],["01.JavaSE/02.JRE(Java Runtime Enviroment).md","JRE(Java Runtime Enviroment)","/pages/0c8879/"],["01.JavaSE/03.JDK(Java Development Kit).md","JDK(Java Development Kit)","/pages/d217f4/"],["01.JavaSE/04.å¸¸ç¨doså½ä»¤.md","å¸¸ç¨doså½ä»¤","/pages/47da21/"],["01.JavaSE/05.éç½®ç³»ç»pathç¯å¢åé.md","éç½®ç³»ç»pathç¯å¢åé","/pages/3ee21a/"],["01.JavaSE/06.å¼åè¿è¡æµç¨.md","å¼åè¿è¡æµç¨","/pages/417c2d/"],["01.JavaSE/07.ç¼åè§èé®é¢.md","ç¼åè§èé®é¢","/pages/977c49/"],["01.JavaSE/08.åºç¡è¯­æ³.md","åºç¡è¯­æ³","/pages/97d4f2/"],["01.JavaSE/09.å³é®å­.md","å³é®å­","/pages/d2d164/"],["01.JavaSE/10.å¸¸é.md","å¸¸é","/pages/10baa9/"],["01.JavaSE/11.æ°æ®ç±»å.md","æ°æ®ç±»å","/pages/ec81f9/"],["01.JavaSE/12.æ°å¼ååå®¹å ç¨ååæ´èå´.md","æ°å¼ååå®¹å ç¨ååæ´èå´","/pages/3f6e03/"],["01.JavaSE/13.åé.md","åé","/pages/558212/"],["01.JavaSE/14.æ è¯ç¬¦.md","æ è¯ç¬¦","/pages/fcb871/"],["01.JavaSE/15.ç±»åè½¬æ¢.md","ç±»åè½¬æ¢","/pages/b2c2df/"],["01.JavaSE/16.ç®æ¯è¿ç®ç¬¦.md","ç®æ¯è¿ç®ç¬¦","/pages/a3cd43/"],["01.JavaSE/17.èªå¢èªåè¿ç®ç¬¦.md","èªå¢èªåè¿ç®ç¬¦","/pages/a4bf30/"],["01.JavaSE/18.å³ç³»è¿ç®ç¬¦.md","å³ç³»è¿ç®ç¬¦","/pages/a5f46a/"],["01.JavaSE/19.é»è¾è¿ç®ç¬¦.md","é»è¾è¿ç®ç¬¦","/pages/ae5f03/"],["01.JavaSE/20.ç­è·¯é»è¾è¿ç®ç¬¦.md","ç­è·¯é»è¾è¿ç®ç¬¦","/pages/5cf2b5/"],["01.JavaSE/21.ä¸åè¿ç®ç¬¦.md","ä¸åè¿ç®ç¬¦","/pages/ad2097/"],["01.JavaSE/22.æ°æ®è¾å¥.md","æ°æ®è¾å¥","/pages/9ca53c/"],["01.JavaSE/23.æµç¨æ§å¶.md","æµç¨æ§å¶","/pages/fc3701/"],["01.JavaSE/24.å¾ªç¯è¯­å¥.md","å¾ªç¯è¯­å¥","/pages/db81b2/"],["01.JavaSE/25.ideaä¸­çè¾å©é®.md","ideaä¸­çè¾å©é®","/pages/3455ab/"],["01.JavaSE/26.æ°ç».md","æ°ç»","/pages/add390/"],["01.JavaSE/27.æ¹æ³.md","æ¹æ³","/pages/8361e2/"],["01.JavaSE/28.é¢åå¯¹è±¡åºç¡.md","é¢åå¯¹è±¡åºç¡","/pages/0a58cf/"],["01.JavaSE/29.æ åç±».md","æ åç±»","/pages/ab994e/"],["01.JavaSE/30.å­ç¬¦ä¸².md","å­ç¬¦ä¸²","/pages/8a171b/"],["01.JavaSE/31.ArrayListéå.md","ArrayListéå","/pages/ab65fb/"],["01.JavaSE/32.ç»§æ¿.md","ç»§æ¿","/pages/c7fa91/"],["01.JavaSE/33.ä¿®é¥°ç¬¦.md","ä¿®é¥°ç¬¦","/pages/f3b824/"],["01.JavaSE/34.æéä¿®é¥°ç¬¦.md","æéä¿®é¥°ç¬¦","/pages/047301/"],["01.JavaSE/35.ç¶æä¿®é¥°ç¬¦.md","ç¶æä¿®é¥°ç¬¦","/pages/392033/"],["01.JavaSE/36.å¤æ.md","å¤æ","/pages/6407a8/"],["01.JavaSE/37.æ½è±¡.md","æ½è±¡","/pages/a12790/"],["01.JavaSE/38.æ¥å£.md","æ¥å£","/pages/db4705/"],["01.JavaSE/39.ç±»åæ¥å£çå³ç³».md","ç±»åæ¥å£çå³ç³»","/pages/b47784/"],["01.JavaSE/40.æ½è±¡ç±»ä¸æ¥å£çåºå«.md","æ½è±¡ç±»ä¸æ¥å£çåºå«","/pages/102423/"],["01.JavaSE/41.ç±»åä½ä¸ºå½¢ååè¿åå¼.md","ç±»åä½ä¸ºå½¢ååè¿åå¼","/pages/384827/"],["01.JavaSE/42.åé¨ç±».md","åé¨ç±»","/pages/86e52c/"],["01.JavaSE/43.Api.md","Api","/pages/a4cd8f/"],["01.JavaSE/44.å¼å¸¸.md","å¼å¸¸","/pages/236d5b/"],["01.JavaSE/45.éå.md","éå","/pages/f58543/"],["01.JavaSE/46.æ³å.md","æ³å","/pages/d6e1c4/"],["01.JavaSE/47.Setéå.md","Setéå","/pages/5137f9/"],["01.JavaSE/48.æ .md","æ ","/pages/6e8f69/"],["01.JavaSE/49.TreeSetéå.md","TreeSetéå","/pages/8b6f0f/"],["01.JavaSE/50.åå¸å¼.md","åå¸å¼","/pages/1793cd/"],["01.JavaSE/51.åå¸è¡¨.md","åå¸è¡¨","/pages/7525b1/"],["01.JavaSE/52.HashSetéå.md","HashSetéå","/pages/642d0a/"],["01.JavaSE/53.Map éå.md","Map éå","/pages/b8041f/"],["01.JavaSE/54.å¯ååæ°.md","å¯ååæ°","/pages/4fb557/"],["01.JavaSE/55.åå»ºä¸å¯åçéå.md","åå»ºä¸å¯åçéå","/pages/7db438/"],["01.JavaSE/56.Streamæµ.md","Streamæµ","/pages/46103a/"],["01.JavaSE/57.æ¹æ³å¼ç¨.md","æ¹æ³å¼ç¨","/pages/566611/"],["01.JavaSE/58.File.md","File","/pages/48b908/"],["01.JavaSE/59.å¤çº¿ç¨.md","å¤çº¿ç¨","/pages/606294/"],["01.JavaSE/60.å¤çº¿ç¨é«çº§.md","å¤çº¿ç¨é«çº§","/pages/c73ee4/"],["01.JavaSE/61.ç½ç»ç¼ç¨.md","ç½ç»ç¼ç¨","/pages/fc7fd4/"],["01.JavaSE/62.ç±»å è½½å¨.md","ç±»å è½½å¨","/pages/a33e90/"],["01.JavaSE/63.åå°.md","åå°","/pages/b3e612/"],["01.JavaSE/64.XML.md","XML","/pages/6bad64/"],["01.JavaSE/65.æä¸¾.md","æä¸¾","/pages/19426f/"],["01.JavaSE/66.æ³¨è§£.md","æ³¨è§£","/pages/1bf317/"],["01.JavaSE/67.ååæµè¯.md","ååæµè¯","/pages/7ba344/"],["01.JavaSE/68.æ¥å¿.md","æ¥å¿","/pages/344d91/"],["01.JavaSE/69.HTTPåè®®.md","HTTPåè®®","/pages/a7a164/"],["01.JavaSE/70.Servlet.md","Servlet","/pages/9c9dd6/"],["01.JavaSE/71.è¯·æ±å¯¹è±¡.md","è¯·æ±å¯¹è±¡","/pages/83bc98/"],["01.JavaSE/72.ååºå¯¹è±¡.md","ååºå¯¹è±¡","/pages/d35ebd/"],["01.JavaSE/73.Cookie.md","Cookie","/pages/133dfe/"],["01.JavaSE/74.Session.md","Session","/pages/83bc22/"],["01.JavaSE/75.JSP.md","JSP","/pages/427528/"],["01.JavaSE/76.Listener.md","Listener","/pages/70e34e/"]]},{title:"JavaEE",collapsable:!0,children:[["02.JavaEE/01.JDBC.md","JDBC","/pages/544a3f/"],["02.JavaEE/02.MyBatis.md","MyBatis","/pages/c1aa2b/"],["02.JavaEE/03.Jackson.md","Jackson","/pages/df2f58/"],["02.JavaEE/04.Jedis.md","Jedis","/pages/40c5ff/"],["02.JavaEE/05.Maven.md","Maven","/pages/682f06/"],["02.JavaEE/06.POI.md","POI","/pages/528ce7/"],["02.JavaEE/07.Spring.md","Spring","/pages/17e650/"],["02.JavaEE/08.Spring MVC.md","Spring MVC","/pages/8cd1ce/"],["02.JavaEE/09.Maven é«çº§.md","Maven é«çº§","/pages/127f3b/"],["02.JavaEE/10.Dubbo.md","Dubbo","/pages/dc966e/"],["02.JavaEE/11.Zookeeper.md","Zookeeper","/pages/7bc195/"],["02.JavaEE/12.Spring Security.md","Spring Security","/pages/ca6c88/"],["02.JavaEE/13.Spring Boot.md","Spring Boot","/pages/4f5fb3/"],["02.JavaEE/14.Spring Boot é«çº§.md","Spring Boot é«çº§","/pages/207023/"],["02.JavaEE/15.RabbitMQ.md","RabbitMQ","/pages/3a5e24/"],["02.JavaEE/16.RabbitMQ é«çº§.md","RabbitMQ é«çº§","/pages/da3871/"],["02.JavaEE/17.Spring Cloud.md","Spring Cloud","/pages/e886f8/"],["02.JavaEE/18.Docker.md","Docker","/pages/c588b5/"],["02.JavaEE/19.ElasticSearch.md","ElasticSearch","/pages/95da1a/"],["02.JavaEE/20.ElasticSearch é«çº§.md","ElasticSearch é«çº§","/pages/cf92bb/"]]},{title:"Linux",collapsable:!0,children:[["03.Linux/01.Linux.md","Linux","/pages/124a07/"],["03.Linux/02.shell.md","shell","/pages/f9e4a1/"],["03.Linux/03.Nginx.md","Nginx","/pages/0aeef9/"],["03.Linux/04.java.md","java","/pages/a70c4f/"],["03.Linux/05.Tomcat.md","Tomcat","/pages/f323f1/"]]},{title:"SQL",collapsable:!0,children:[["04.SQL/01.å¸¸è§çæ°æ®åºäº§å.md","å¸¸è§çæ°æ®åºäº§å","/pages/e051f6/"],["04.SQL/02.æ°æ®åºç¸å³æ¦å¿µ.md","æ°æ®åºç¸å³æ¦å¿µ","/pages/4b2b60/"],["04.SQL/03.æ°æ®åºå­å¨æ°æ®çç¹ç¹.md","æ°æ®åºå­å¨æ°æ®çç¹ç¹","/pages/d2b3d3/"],["04.SQL/04.MySQLæå¡ç«¯.md","MySQLæå¡ç«¯","/pages/641ffa/"],["04.SQL/05.ç¯å¢åé.md","ç¯å¢åé","/pages/a4dffe/"],["04.SQL/06.å½ä»¤ç¬¦æä»¤.md","å½ä»¤ç¬¦æä»¤","/pages/8c64bc/"],["04.SQL/07.SQLè¯­å¥.md","SQLè¯­å¥","/pages/4c9417/"],["04.SQL/08.æ°æ®åº.md","æ°æ®åº","/pages/04fedb/"],["04.SQL/09.è¡¨.md","è¡¨","/pages/5a2265/"],["04.SQL/10.çº¦æ.md","çº¦æ","/pages/de8702/"],["04.SQL/11.å¤è¡¨æä½.md","å¤è¡¨æä½","/pages/89e8d8/"],["04.SQL/12.è§å¾.md","è§å¾","/pages/3293cf/"],["04.SQL/13.å¤ä»½.md","å¤ä»½","/pages/f561ab/"],["04.SQL/14.MySQL å­å¨è¿ç¨åå½æ°.md","MySQL å­å¨è¿ç¨åå½æ°","/pages/336822/"],["04.SQL/15.è§¦åå¨.md","è§¦åå¨","/pages/108b35/"],["04.SQL/16.äºå¡.md","äºå¡","/pages/4c8706/"],["04.SQL/17.å­å¨å¼æ.md","å­å¨å¼æ","/pages/7d59ad/"],["04.SQL/18.ç´¢å¼.md","ç´¢å¼","/pages/acc2dd/"],["04.SQL/19.é.md","é","/pages/3c034d/"],["04.SQL/20.MyCat ä¸­é´ä»¶.md","MyCat ä¸­é´ä»¶","/pages/3ca264/"],["04.SQL/21.Nosql.md","Nosql","/pages/4a12e8/"],["04.SQL/22.Redis.md","Redis","/pages/a002c8/"],["04.SQL/23.Redisé«çº§.md","Redisé«çº§","/pages/4e4f7f/"],["04.SQL/24.MongoDB.md","MongoDB","/pages/e5cb41/"]]},{title:"Python",collapsable:!0,children:[["05.Python/01.IDE.md","IDE","/pages/35c9ab/"],["05.Python/02.close project.md","close project","/pages/0c7ca5/"],["05.Python/03.äº¤äºæ§ç¼ç¨.md","äº¤äºæ§ç¼ç¨","/pages/ec9ba3/"],["05.Python/04.æ³¨é.md","æ³¨é","/pages/d37106/"],["05.Python/05.åéä»¥åæ°æ®ç±»å.md","åéä»¥åæ°æ®ç±»å","/pages/f3c5b0/"],["05.Python/06.åè¡¨ç±»å.md","åè¡¨ç±»å","/pages/d7e80b/"],["05.Python/07.å­å¸ç±»å.md","å­å¸ç±»å","/pages/bbada7/"],["05.Python/08.éåç±»å.md","éåç±»å","/pages/11c241/"],["05.Python/09.åç»ç±»å.md","åç»ç±»å","/pages/684f07/"],["05.Python/10.æ¥çæ°æ®ç±»å.md","æ¥çæ°æ®ç±»å","/pages/1f8618/"],["05.Python/11.æ è¯ç¬¦.md","æ è¯ç¬¦","/pages/d9c568/"],["05.Python/12.è¾åº.md","è¾åº","/pages/1d58f1/"],["05.Python/13.è¾å¥.md","è¾å¥","/pages/c9ca02/"],["05.Python/14.äºè¿å¶ å«è¿å¶ åè¿å¶ åå­è¿å¶.md","äºè¿å¶ å«è¿å¶ åè¿å¶ åå­è¿å¶","/pages/6019e1/"],["05.Python/15.è¿å¶è½¬æ¢.md","è¿å¶è½¬æ¢","/pages/e533d0/"],["05.Python/16.binãoctãhexåç½®å½æ°.md","binãoctãhexåç½®å½æ°","/pages/1e0ec6/"],["05.Python/17.æ°æ®ç±»åçè½¬æ¢.md","æ°æ®ç±»åçè½¬æ¢","/pages/ebc10c/"],["05.Python/18.ç®æ°è¿ç®ç¬¦.md","ç®æ°è¿ç®ç¬¦","/pages/acb0af/"],["05.Python/19.åå².md","åå²","/pages/687726/"],["05.Python/20.äº¤æ¢åéçå¼.md","äº¤æ¢åéçå¼","/pages/c13570/"],["05.Python/21.æå4ä½æ°çåä½æ°.md","æå4ä½æ°çåä½æ°","/pages/a15165/"],["05.Python/22.é¸¡ååç¬¼.md","é¸¡ååç¬¼","/pages/4d8423/"],["05.Python/23.åçå¬å¼.md","åçå¬å¼","/pages/bc04ac/"],["05.Python/24.æ¯è¾è¿ç®ç¬¦.md","æ¯è¾è¿ç®ç¬¦","/pages/661f38/"],["05.Python/25.é»è¾è¿ç®ç¬¦.md","é»è¾è¿ç®ç¬¦","/pages/70c3fd/"],["05.Python/26.ä½è¿ç®ç¬¦.md","ä½è¿ç®ç¬¦","/pages/8f779d/"],["05.Python/27.è¿ç®ç¬¦çä¼åçº§.md","è¿ç®ç¬¦çä¼åçº§","/pages/689d0c/"],["05.Python/28.if else  åæ¯ æ¡ä»¶å¤æ­è¯­å¥.md","if else  åæ¯ æ¡ä»¶å¤æ­è¯­å¥","/pages/0f98fb/"],["05.Python/29.if â¦elifâ¦elifçä½¿ç¨.md","if â¦elifâ¦elifçä½¿ç¨","/pages/9cbf41/"],["05.Python/30.ifä¸­çéæ§è½¬å.md","ifä¸­çéæ§è½¬å","/pages/a08b12/"],["05.Python/31.ä¸åè¡¨è¾¾å¼.md","ä¸åè¡¨è¾¾å¼","/pages/6be9fd/"],["05.Python/32.è°è¯ä»£ç (Debug).md","è°è¯ä»£ç (Debug)","/pages/921d6f/"],["05.Python/33.passè¯­å¥.md","passè¯­å¥","/pages/1f3eec/"],["05.Python/34.çæ³æ¸¸æ.md","çæ³æ¸¸æ","/pages/5f7ab5/"],["05.Python/35.éæºæ°.md","éæºæ°","/pages/559847/"],["05.Python/36.å¾ªç¯.md","å¾ªç¯","/pages/aed4d8/"],["05.Python/37.range çä½¿ç¨.md","range çä½¿ç¨","/pages/6bc87f/"],["05.Python/38.å¿«æ·é®.md","å¿«æ·é®","/pages/d3bc75/"],["05.Python/39.æ´æ¹æä¸ªåéå¨é¨ä»£ç .md","æ´æ¹æä¸ªåéå¨é¨ä»£ç ","/pages/2d9020/"]]},{title:"Pythonæ¨¡å",collapsable:!0,children:[["07.Pythonæ¨¡å/01.request.md","request","/pages/cf7131/"],["07.Pythonæ¨¡å/02.Beautifulsoup4.md","Beautifulsoup4","/pages/f14379/"],["07.Pythonæ¨¡å/03.re æ­£åè¡¨è¾¾å¼.md","re æ­£åè¡¨è¾¾å¼","/pages/a3d900/"],["07.Pythonæ¨¡å/04.jieba.md","jieba","/pages/4ab7a0/"],["07.Pythonæ¨¡å/05.pymysql  æ°æ®åºè°ç¨.md","pymysql  æ°æ®åºè°ç¨","/pages/f8134b/"],["07.Pythonæ¨¡å/06.selenium.md","selenium","/pages/34405e/"],["07.Pythonæ¨¡å/07.time.md","time","/pages/fd5355/"],["07.Pythonæ¨¡å/08.Falsk.md","Falsk","/pages/a6ad03/"]]},{title:"æºå¨å­¦ä¹ ",collapsable:!0,children:[["08.æºå¨å­¦ä¹ /01.æºå¨å­¦ä¹ .md","æºå¨å­¦ä¹ ","/pages/ddf9fb/"],["08.æºå¨å­¦ä¹ /02.matplotlib.md","matplotlib","/pages/9e1ba1/"],["08.æºå¨å­¦ä¹ /03.Numpy.md","Numpy","/pages/a58615/"],["08.æºå¨å­¦ä¹ /04.Pandas.md","Pandas","/pages/3f7274/"]]}],"/å¤§æ°æ®/":[{title:"Hadoop",collapsable:!0,children:[["01.Hadoop/01.Hadoop.md","Hadoop","/pages/8e0c98/"],["01.Hadoop/02.ç¯å¢å®è£.md","ç¯å¢å®è£","/pages/083fca/"],["01.Hadoop/03.HDFS.md","HDFS","/pages/7afcbc/"],["01.Hadoop/04.winutils.md","winutils","/pages/981612/"],["01.Hadoop/05.IDEAä¸­åå»ºhadoopé¡¹ç®.md","IDEAä¸­åå»ºhadoopé¡¹ç®","/pages/7e6b01/"],["01.Hadoop/06.javaæä½.md","javaæä½","/pages/9ce9a0/"],["01.Hadoop/07.HDFSçæ°æ®æµ.md","HDFSçæ°æ®æµ","/pages/bbfc59/"],["01.Hadoop/08.NameNode å·¥ä½æºå¶.md","NameNode å·¥ä½æºå¶","/pages/785074/"],["01.Hadoop/09.DataNode.md","DataNode","/pages/49d0d4/"],["01.Hadoop/10.MapReduce.md","MapReduce","/pages/070d96/"],["01.Hadoop/11.MapReduceåç.md","MapReduceåç","/pages/65db7d/"],["01.Hadoop/12.Yarn.md","Yarn","/pages/89b57e/"],["01.Hadoop/13.Hadoopä¼ä¸ä¼å.md","Hadoopä¼ä¸ä¼å","/pages/ce529c/"],["01.Hadoop/14.Hadoop æ°ç¹æ§.md","Hadoop æ°ç¹æ§","/pages/8dd6c9/"],["01.Hadoop/15.æ¥å¿.md","æ¥å¿","/pages/1cc354/"],["01.Hadoop/16.Hadoop HAé«å¯ç¨.md","Hadoop HAé«å¯ç¨","/pages/0dc6f9/"]]},{title:"Zookeeper",collapsable:!0,children:[["02.Zookeeper/01.æ¦è¿°.md","æ¦è¿°","/pages/f38fc8/"],["02.Zookeeper/02.éç¾¤æ­å»º.md","éç¾¤æ­å»º","/pages/1597a2/"],["02.Zookeeper/03.å®¢æ·ç«¯å½ä»¤è¡æä½.md","å®¢æ·ç«¯å½ä»¤è¡æä½","/pages/be648b/"],["02.Zookeeper/04.åé¨åç.md","åé¨åç","/pages/75493d/"],["02.Zookeeper/05.Api.md","Api","/pages/4a9c91/"]]},{title:"Hive",collapsable:!0,children:[["03.Hive/01.ä»ç».md","ä»ç»","/pages/2315d6/"],["03.Hive/02.ç¯å¢.md","ç¯å¢","/pages/66f25c/"],["03.Hive/03.DBeaver.md","DBeaver","/pages/5a826b/"],["03.Hive/04.Hive ç±»å.md","Hive ç±»å","/pages/f55408/"],["03.Hive/05.Hive å®¢æ·ç«¯å½ä»¤.md","Hive å®¢æ·ç«¯å½ä»¤","/pages/6652e3/"],["03.Hive/06.DDLæ°æ®å®ä¹.md","DDLæ°æ®å®ä¹","/pages/675adb/"],["03.Hive/07.DML.md","DML","/pages/ff1fce/"],["03.Hive/08.æ¥è¯¢.md","æ¥è¯¢","/pages/73e227/"],["03.Hive/09.å½æ°.md","å½æ°","/pages/8f0a49/"],["03.Hive/10.èªå®ä¹å½æ°.md","èªå®ä¹å½æ°","/pages/b1e5c6/"],["03.Hive/11.åç¼©åå­å¨.md","åç¼©åå­å¨","/pages/9c39ac/"],["03.Hive/12.ä¼ä¸ä¼å.md","ä¼ä¸ä¼å","/pages/447a54/"],["03.Hive/13.Hiveå®æ.md","Hiveå®æ","/pages/1aa014/"]]},{title:"Flume",collapsable:!0,children:[["04.Flume/01.Flume.md","Flume","/pages/b084db/"],["04.Flume/02.Flimeåºç¡æ¶æ.md","Flimeåºç¡æ¶æ","/pages/f8bd8e/"],["04.Flume/03.Flumeå®è£.md","Flumeå®è£","/pages/e462b7/"],["04.Flume/04.å¥é¨æ¡ä¾.md","å¥é¨æ¡ä¾","/pages/c12064/"],["04.Flume/05.Flume è¿é¶.md","Flume è¿é¶","/pages/6a0c06/"],["04.Flume/06.èªå®ä¹ç»ä»¶.md","èªå®ä¹ç»ä»¶","/pages/8e2fbd/"],["04.Flume/07.é¢è¯é¢.md","é¢è¯é¢","/pages/800f9f/"]]},{title:"Kafka",collapsable:!0,children:[["05.Kafka/01.Kafka.md","Kafka","/pages/872cdc/"],["05.Kafka/02.æ¶æ.md","æ¶æ","/pages/3c04a9/"],["05.Kafka/03.Kafka å®è£.md","Kafka å®è£","/pages/6bd0d7/"],["05.Kafka/04.å½ä»¤æä½.md","å½ä»¤æä½","/pages/ab6220/"],["05.Kafka/05.Kafkaåç.md","Kafkaåç","/pages/6c830a/"],["05.Kafka/06.Kafka API.md","Kafka API","/pages/939509/"],["05.Kafka/07.Flume å¯¹æ¥ Kafka.md","Flume å¯¹æ¥ Kafka","/pages/cf0e70/"],["05.Kafka/08.Kafkaçæ§.md","Kafkaçæ§","/pages/f5b30c/"],["05.Kafka/09.Kafkaé¢è¯é¢.md","Kafkaé¢è¯é¢","/pages/cf96cc/"]]},{title:"Azkaban",collapsable:!0,children:[["06.Azkaban/01.Azkaban.md","Azkaban","/pages/bac882/"],["06.Azkaban/02.ä»»å¡è°åº¦.md","ä»»å¡è°åº¦","/pages/c7cfc3/"],["06.Azkaban/03.å®è£.md","å®è£","/pages/394c5d/"],["06.Azkaban/04.Azkabanå®æ.md","Azkabanå®æ","/pages/4ff79d/"]]},{title:"Hbase",collapsable:!0,children:[["07.Hbase/01.Hbase.md","Hbase","/pages/310c39/"],["07.Hbase/02.Hbaseæ°æ®æ¨¡å.md","Hbaseæ°æ®æ¨¡å","/pages/817c32/"],["07.Hbase/03.Hbase å®è£.md","Hbase å®è£","/pages/a8d091/"],["07.Hbase/04.Hbase shell.md","Hbase shell","/pages/73c948/"],["07.Hbase/05.Hbaseåç.md","Hbaseåç","/pages/ec28f2/"],["07.Hbase/06.Phoenix.md","Phoenix","/pages/6dd88b/"],["07.Hbase/07.Hbaseä¸Hiveçéæ.md","Hbaseä¸Hiveçéæ","/pages/e654ab/"],["07.Hbase/08.HBaseä¼å.md","HBaseä¼å","/pages/ce507c/"]]},{title:"Scala",collapsable:!0,children:[["08.Scala/01.Scalaä»ç».md","Scalaä»ç»","/pages/d2afbe/"],["08.Scala/02.Scalaå¥é¨.md","Scalaå¥é¨","/pages/a93b77/"],["08.Scala/03.æµç¨æ§å¶.md","æµç¨æ§å¶","/pages/8b0acc/"],["08.Scala/04.å½æ°å¼ç¼ç¨.md","å½æ°å¼ç¼ç¨","/pages/b7cb84/"]]},{title:"Spark",collapsable:!0,children:[["09.Spark/01.Spark.md","Spark","/pages/cc783e/"],["09.Spark/02.Spark å¥é¨.md","Spark å¥é¨","/pages/3223e3/"],["09.Spark/03.SprakCore.md","SprakCore","/pages/a0eb57/"],["09.Spark/04.SparkSQL.md","SparkSQL","/pages/0de4e9/"]]}]},author:{name:"Iekr",link:"https://github.com/Iekrwh"},blogger:{avatar:"https://gitee.com/Iekrwh/md-images/raw/master/images/$7ZY44WI036RW5{EPWQXCX6.jpg",name:"Iekr",slogan:"è¦é¼åç«¯å¼å"},social:{icons:[{iconClass:"icon-youjian",title:"åé®ä»¶",link:"mailto:iekr_wh@qq.com"},{iconClass:"icon-github",title:"GitHub",link:"https://github.com/Iekrwh"},{iconClass:"icon-erji",title:"å¬é³ä¹",link:"http://music.163.com/album?id=73927024"}]},footer:{createYear:2022,copyrightInfo:'Evan Xu | <a href="https://github.com/xugaoyi/vuepress-theme-vdoing/blob/master/LICENSE" target="_blank">MIT License</a>'},htmlModules:{homeSidebarB:'<div style="padding: 0.95rem">\n    <p style="\n      color: var(--textColor);\n      opacity: 0.9;\n      font-size: 20px;\n      font-weight: bold;\n      margin: 0 0 8px 0;\n    ">æ¾ç¹å¾\n    <img src="https://gitee.com/Iekrwh/md-images/raw/master/images/2$B8JFSXYL_RLH8_GYY7AS1.gif"  style="width:100%;" />\n    </div>'},blogInfo:{blogCreate:"2022-03-18",indexView:!0,pageView:!0,readingTime:!0,eachFileWords:[{name:"ä½è¿ç®",filePath:"D:\\code\\vuepress-theme-vdoing\\docs\\408\\01.æ°æ®ç»æ\\01.ä½è¿ç®.md",wordsCount:509,readingTime:"2.1m",title:"ä½è¿ç®",date:"2022-03-18T16:03:55.000Z",permalink:"/pages/8e5251/",categories:[408,"æ°æ®ç»æ"],tags:[null]},{name:"æåºæ¬çæ°æ®ç»æ",filePath:"D:\\code\\vuepress-theme-vdoing\\docs\\408\\01.æ°æ®ç»æ\\02.æåºæ¬çæ°æ®ç»æ.md",wordsCount:62,readingTime:"1",title:"æåºæ¬çæ°æ®ç»æ",date:"2022-03-18T16:03:55.000Z",permalink:"/pages/38d7c8/",categories:[408,"æ°æ®ç»æ"],tags:[null]},{name:"åç¼åæ°ç»",filePath:"D:\\code\\vuepress-theme-vdoing\\docs\\408\\01.æ°æ®ç»æ\\03.åç¼åæ°ç».md",wordsCount:183,readingTime:"1",title:"åç¼åæ°ç»",date:"2022-03-18T16:03:55.000Z",permalink:"/pages/3ad1d4/",categories:[408,"æ°æ®ç»æ"],tags:[null]},{name:"randomçéæºè¡ä¸º",filePath:"D:\\code\\vuepress-theme-vdoing\\docs\\408\\01.æ°æ®ç»æ\\04.randomçéæºè¡ä¸º.md",wordsCount:668,readingTime:"2.7m",title:"randomçéæºè¡ä¸º",date:"2022-03-18T16:03:55.000Z",permalink:"/pages/64e136/",categories:[408,"æ°æ®ç»æ"],tags:[null]},{name:"å¯¹æ°å¨",filePath:"D:\\code\\vuepress-theme-vdoing\\docs\\408\\01.æ°æ®ç»æ\\05.å¯¹æ°å¨.md",wordsCount:156,readingTime:"1",title:"å¯¹æ°å¨",date:"2022-03-18T16:03:55.000Z",permalink:"/pages/9c9f24/",categories:[408,"æ°æ®ç»æ"],tags:[null]},{name:"äºåæ³æ¥æ¾",filePath:"D:\\code\\vuepress-theme-vdoing\\docs\\408\\01.æ°æ®ç»æ\\06.äºåæ³æ¥æ¾.md",wordsCount:178,readingTime:"1",title:"äºåæ³æ¥æ¾",date:"2022-03-18T16:03:55.000Z",permalink:"/pages/06b58c/",categories:[408,"æ°æ®ç»æ"],tags:[null]},{name:"æ¹æ³åæ°ä¼ éæ¯å¼è¿æ¯å¼ç¨",filePath:"D:\\code\\vuepress-theme-vdoing\\docs\\408\\01.æ°æ®ç»æ\\07.æ¹æ³åæ°ä¼ éæ¯å¼è¿æ¯å¼ç¨.md",wordsCount:397,readingTime:"1.3m",title:"æ¹æ³åæ°ä¼ éæ¯å¼è¿æ¯å¼ç¨",date:"2022-03-18T16:03:55.000Z",permalink:"/pages/7e9265/",categories:[408,"æ°æ®ç»æ"],tags:[null]},{name:"é¾è¡¨",filePath:"D:\\code\\vuepress-theme-vdoing\\docs\\408\\01.æ°æ®ç»æ\\08.é¾è¡¨.md",wordsCount:"2.3k",readingTime:"10.8m",title:"é¾è¡¨",date:"2022-03-18T16:03:55.000Z",permalink:"/pages/d3b8b4/",categories:[408,"æ°æ®ç»æ"],tags:[null]},{name:"ä½å¾",filePath:"D:\\code\\vuepress-theme-vdoing\\docs\\408\\01.æ°æ®ç»æ\\09.ä½å¾.md",wordsCount:206,readingTime:"1",title:"ä½å¾",date:"2022-03-18T16:03:55.000Z",permalink:"/pages/d2cd3f/",categories:[408,"æ°æ®ç»æ"],tags:[null]},{name:"ä½è¿ç®å®ç°ååè¿ç®",filePath:"D:\\code\\vuepress-theme-vdoing\\docs\\408\\01.æ°æ®ç»æ\\10.ä½è¿ç®å®ç°ååè¿ç®.md",wordsCount:854,readingTime:"4.1m",title:"ä½è¿ç®å®ç°ååè¿ç®",date:"2022-03-18T16:03:55.000Z",permalink:"/pages/51bf81/",categories:[408,"æ°æ®ç»æ"],tags:[null]},{name:"äºåæ ",filePath:"D:\\code\\vuepress-theme-vdoing\\docs\\408\\01.æ°æ®ç»æ\\11.äºåæ .md",wordsCount:"2.1k",readingTime:"10.7m",title:"äºåæ ",date:"2022-03-18T16:03:55.000Z",permalink:"/pages/3e25e1/",categories:[408,"æ°æ®ç»æ"],tags:[null]},{name:"æåº",filePath:"D:\\code\\vuepress-theme-vdoing\\docs\\408\\01.æ°æ®ç»æ\\12.æåº.md",wordsCount:"2.1k",readingTime:"10.6m",title:"æåº",date:"2022-03-18T16:03:55.000Z",permalink:"/pages/0dcdc5/",categories:[408,"æ°æ®ç»æ"],tags:[null]},{name:"æ¶é´å¤æåº¦",filePath:"D:\\code\\vuepress-theme-vdoing\\docs\\408\\01.æ°æ®ç»æ\\13.æ¶é´å¤æåº¦.md",wordsCount:395,readingTime:"1.4m",title:"æ¶é´å¤æåº¦",date:"2022-03-18T16:03:55.000Z",permalink:"/pages/ef4d8b/",categories:[408,"æ°æ®ç»æ"],tags:[null]},{name:"éååæ ",filePath:"D:\\code\\vuepress-theme-vdoing\\docs\\408\\01.æ°æ®ç»æ\\14.éååæ .md",wordsCount:477,readingTime:"2.5m",title:"éååæ ",date:"2022-03-18T16:03:55.000Z",permalink:"/pages/3bda9f/",categories:[408,"æ°æ®ç»æ"],tags:[null]},{name:"éå½",filePath:"D:\\code\\vuepress-theme-vdoing\\docs\\408\\01.æ°æ®ç»æ\\15.éå½.md",wordsCount:93,readingTime:"1",title:"éå½",date:"2022-03-18T16:03:56.000Z",permalink:"/pages/fe2eaf/",categories:[408,"æ°æ®ç»æ"],tags:[null]},{name:"å (ä¼åçº§éå)",filePath:"D:\\code\\vuepress-theme-vdoing\\docs\\408\\01.æ°æ®ç»æ\\16.å (ä¼åçº§éå).md",wordsCount:605,readingTime:"2.7m",title:"å (ä¼åçº§éå)",date:"2022-03-18T16:03:56.000Z",permalink:"/pages/88e08c/",categories:[408,"æ°æ®ç»æ"],tags:[null]},{name:"æåäºä¸ä¸ªæåæ¥èå°ç½é¡µï¼ç¥å¤§å®¶èå¹´æ´å¯",filePath:"D:\\code\\vuepress-theme-vdoing\\docs\\_posts\\éç¬\\æåäºä¸ä¸ªæåæ¥èå°ç½é¡µï¼ç¥å¤§å®¶èå¹´æ´å¯.md",wordsCount:"2.9k",readingTime:"14.6m",title:"æåäºä¸ä¸ªæåæ¥èå°ç½é¡µï¼ç¥å¤§å®¶èå¹´æ´å¯",date:"2022-01-28T14:59:51.000Z",permalink:"/pages/829589/",titleTag:"åå",sidebar:"auto",categories:["éç¬"],tags:[null]},{name:"BSæ¶æ",filePath:"D:\\code\\vuepress-theme-vdoing\\docs\\åç«¯\\01.html\\01.BSæ¶æ.md",wordsCount:179,readingTime:"1",title:"BSæ¶æ",date:"2022-03-18T00:54:47.000Z",permalink:"/pages/23186a/",categories:["åç«¯","Html"],tags:[null]},{name:"HTML",filePath:"D:\\code\\vuepress-theme-vdoing\\docs\\åç«¯\\01.html\\02.HTML.md",wordsCount:"1.3k",readingTime:"5.1m",title:"HTML",date:"2022-03-18T00:54:47.000Z",permalink:"/pages/3ba523/",categories:["åç«¯","Html"],tags:[null]},{name:"HTML5",filePath:"D:\\code\\vuepress-theme-vdoing\\docs\\åç«¯\\01.html\\03.HTML5.md",wordsCount:574,readingTime:"2.2m",title:"HTML5",date:"2022-03-18T00:54:47.000Z",permalink:"/pages/8600fc/",categories:["åç«¯","Html"],tags:[null]},{name:"è¡¨åæ ç­¾",filePath:"D:\\code\\vuepress-theme-vdoing\\docs\\åç«¯\\01.html\\04.è¡¨åæ ç­¾.md",wordsCount:755,readingTime:"2.8m",title:"è¡¨åæ ç­¾",date:"2022-03-18T00:54:47.000Z",permalink:"/pages/c2f00e/",categories:["åç«¯","Html"],tags:[null]},{name:"CSS",filePath:"D:\\code\\vuepress-theme-vdoing\\docs\\åç«¯\\01.html\\05.CSS.md",wordsCount:"5.3k",readingTime:"20m",title:"CSS",date:"2022-03-18T00:54:47.000Z",permalink:"/pages/b3f43c/",categories:["åç«¯","Html"],tags:[null]},{name:"html+cssç½é¡µ",filePath:"D:\\code\\vuepress-theme-vdoing\\docs\\åç«¯\\01.html\\06.html+cssç½é¡µ.md",wordsCount:756,readingTime:"3m",title:"html+cssç½é¡µ",date:"2022-03-18T00:54:47.000Z",permalink:"/pages/5bc756/",categories:["åç«¯","Html"],tags:[null]},{name:"CSS3",filePath:"D:\\code\\vuepress-theme-vdoing\\docs\\åç«¯\\01.html\\07.CSS3.md",wordsCount:"1.5k",readingTime:"6m",title:"CSS3",date:"2022-03-18T00:54:47.000Z",permalink:"/pages/54a5fa/",categories:["åç«¯","Html"],tags:[null]},{name:"ç§»å¨å¸å±",filePath:"D:\\code\\vuepress-theme-vdoing\\docs\\åç«¯\\01.html\\08.ç§»å¨å¸å±.md",wordsCount:"2.2k",readingTime:"8.7m",title:"ç§»å¨å¸å±",date:"2022-03-18T00:54:47.000Z",permalink:"/pages/dc74bd/",categories:["åç«¯","Html"],tags:[null]},{name:"JavaScript",filePath:"D:\\code\\vuepress-theme-vdoing\\docs\\åç«¯\\01.html\\09.JavaScript.md",wordsCount:"3.4k",readingTime:"13.5m",title:"JavaScript",date:"2022-03-18T00:54:47.000Z",permalink:"/pages/e5e5b8/",categories:["åç«¯","Html"],tags:[null]},{name:"vue è¡¥å",filePath:"D:\\code\\vuepress-theme-vdoing\\docs\\åç«¯\\02.Vue2\\00.vue è¡¥å.md",wordsCount:"1.2k",readingTime:"4.5m",title:"vue è¡¥å",date:"2022-03-18T00:55:26.000Z",permalink:"/pages/6af871/",categories:["åç«¯","Vue2"],tags:[null]},{name:"å®è£Vue CLI",filePath:"D:\\code\\vuepress-theme-vdoing\\docs\\åç«¯\\02.Vue2\\01.å®è£Vue CLI.md",wordsCount:99,readingTime:"1",title:"å®è£Vue CLI",date:"2022-03-18T00:55:10.000Z",permalink:"/pages/758bea/",categories:["åç«¯","Vue2"],tags:[null]},{name:"å¨Vue CLIä¸­å¯¼å¥ Elment",filePath:"D:\\code\\vuepress-theme-vdoing\\docs\\åç«¯\\02.Vue2\\02.å¨Vue CLIä¸­å¯¼å¥ Elment.md",wordsCount:57,readingTime:"1",title:"å¨Vue CLIä¸­å¯¼å¥ Elment",date:"2022-03-18T00:55:10.000Z",permalink:"/pages/3b8d98/",categories:["åç«¯","Vue2"],tags:[null]},{name:"Elment",filePath:"D:\\code\\vuepress-theme-vdoing\\docs\\åç«¯\\02.Vue2\\03.Elment.md",wordsCount:549,readingTime:"2.2m",title:"Elment",date:"2022-03-18T00:55:10.000Z",permalink:"/pages/cb74f3/",categories:["åç«¯","Vue2"],tags:[null]},{name:"Axios",filePath:"D:\\code\\vuepress-theme-vdoing\\docs\\åç«¯\\02.Vue2\\04.Axios.md",wordsCount:586,readingTime:"2.3m",title:"Axios",date:"2022-03-18T00:55:10.000Z",permalink:"/pages/e17f8f/",categories:["åç«¯","Vue2"],tags:[null]},{name:"éç½®Vueè·¯ç±",filePath:"D:\\code\\vuepress-theme-vdoing\\docs\\åç«¯\\02.Vue2\\05.éç½®Vueè·¯ç±.md",wordsCount:140,readingTime:"1",title:"éç½®Vueè·¯ç±",date:"2022-03-18T00:55:10.000Z",permalink:"/pages/efa853/",categories:["åç«¯","Vue2"],tags:[null]},{name:"github æ¨é",filePath:"D:\\code\\vuepress-theme-vdoing\\docs\\åç«¯\\02.Vue2\\06.github æ¨é.md",wordsCount:127,readingTime:"1",title:"github æ¨é",date:"2022-03-18T00:55:10.000Z",permalink:"/pages/56d54a/",categories:["åç«¯","Vue2"],tags:[null]},{name:"å®è£ elment-tiptap",filePath:"D:\\code\\vuepress-theme-vdoing\\docs\\åç«¯\\02.Vue2\\07.å®è£ elment-tiptap.md",wordsCount:398,readingTime:"1.9m",title:"å®è£ elment-tiptap",date:"2022-03-18T00:55:10.000Z",permalink:"/pages/93608e/",categories:["åç«¯","Vue2"],tags:[null]},{name:"å®è£ cropperjs å¾çè£åå·¥å·",filePath:"D:\\code\\vuepress-theme-vdoing\\docs\\åç«¯\\02.Vue2\\08.å®è£ cropperjs å¾çè£åå·¥å·.md",wordsCount:38,readingTime:"1",title:"å®è£ cropperjs å¾çè£åå·¥å·",date:"2022-03-18T00:55:10.000Z",permalink:"/pages/f0d787/",categories:["åç«¯","Vue2"],tags:[null]},{name:"è®©ä¸¤ä¸ªç»ä»¶ä¹é´éè®¯",filePath:"D:\\code\\vuepress-theme-vdoing\\docs\\åç«¯\\02.Vue2\\09.è®©ä¸¤ä¸ªç»ä»¶ä¹é´éè®¯.md",wordsCount:130,readingTime:"1",title:"è®©ä¸¤ä¸ªç»ä»¶ä¹é´éè®¯",date:"2022-03-18T00:55:10.000Z",permalink:"/pages/e5e482/",categories:["åç«¯","Vue2"],tags:[null]},{name:"å®è£echart",filePath:"D:\\code\\vuepress-theme-vdoing\\docs\\åç«¯\\02.Vue2\\10.å®è£echart.md",wordsCount:49,readingTime:"1",title:"å®è£echart",date:"2022-03-18T00:55:10.000Z",permalink:"/pages/812e04/",categories:["åç«¯","Vue2"],tags:[null]},{name:"æä»¶å¯¹è±¡",filePath:"D:\\code\\vuepress-theme-vdoing\\docs\\åç«¯\\02.Vue2\\11.æä»¶å¯¹è±¡.md",wordsCount:215,readingTime:"1",title:"æä»¶å¯¹è±¡",date:"2022-03-18T00:55:10.000Z",permalink:"/pages/2bf2c3/",categories:["åç«¯","Vue2"],tags:[null]},{name:"æååå¸",filePath:"D:\\code\\vuepress-theme-vdoing\\docs\\åç«¯\\02.Vue2\\12.æååå¸.md",wordsCount:749,readingTime:"3.3m",title:"æååå¸",date:"2022-03-18T00:55:10.000Z",permalink:"/pages/fc097d/",categories:["åç«¯","Vue2"],tags:[null]},{name:"webpack",filePath:"D:\\code\\vuepress-theme-vdoing\\docs\\åç«¯\\02.Vue2\\13.webpack.md",wordsCount:"2.1k",readingTime:"9m",title:"webpack",date:"2022-03-18T00:55:10.000Z",permalink:"/pages/b60752/",categories:["åç«¯","Vue2"],tags:[null]},{name:"vue çæ¬",filePath:"D:\\code\\vuepress-theme-vdoing\\docs\\åç«¯\\02.Vue2\\14.vue çæ¬.md",wordsCount:58,readingTime:"1",title:"vue çæ¬",date:"2022-03-18T00:55:10.000Z",permalink:"/pages/0a8d91/",categories:["åç«¯","Vue2"],tags:[null]},{name:"ä¼åæå",filePath:"D:\\code\\vuepress-theme-vdoing\\docs\\åç«¯\\02.Vue2\\15.ä¼åæå.md",wordsCount:519,readingTime:"2.1m",title:"ä¼åæå",date:"2022-03-18T00:55:10.000Z",permalink:"/pages/b8f860/",categories:["åç«¯","Vue2"],tags:[null]},{name:"vue å¾å½¢çé¢",filePath:"D:\\code\\vuepress-theme-vdoing\\docs\\åç«¯\\02.Vue2\\16.vue å¾å½¢çé¢.md",wordsCount:58,readingTime:"1",title:"vue å¾å½¢çé¢",date:"2022-03-18T00:55:10.000Z",permalink:"/pages/c64d65/",categories:["åç«¯","Vue2"],tags:[null]},{name:"è·¯ç±æå è½½",filePath:"D:\\code\\vuepress-theme-vdoing\\docs\\åç«¯\\02.Vue2\\17.è·¯ç±æå è½½.md",wordsCount:243,readingTime:"1",title:"è·¯ç±æå è½½",date:"2022-03-18T00:55:10.000Z",permalink:"/pages/27ac6a/",categories:["åç«¯","Vue2"],tags:[null]},{name:"element æéå¼ç¨",filePath:"D:\\code\\vuepress-theme-vdoing\\docs\\åç«¯\\02.Vue2\\18.element æéå¼ç¨.md",wordsCount:77,readingTime:"1",title:"element æéå¼ç¨",date:"2022-03-18T00:55:10.000Z",permalink:"/pages/1bc0dd/",categories:["åç«¯","Vue2"],tags:[null]},{name:"ç¼å­åå¹¶è¡å¤ç",filePath:"D:\\code\\vuepress-theme-vdoing\\docs\\åç«¯\\02.Vue2\\19.ç¼å­åå¹¶è¡å¤ç.md",wordsCount:90,readingTime:"1",title:"ç¼å­åå¹¶è¡å¤ç",date:"2022-03-18T00:55:10.000Z",permalink:"/pages/14f647/",categories:["åç«¯","Vue2"],tags:[null]},{name:"JavaScript å¼æ­¥ç¼ç¨",filePath:"D:\\code\\vuepress-theme-vdoing\\docs\\åç«¯\\02.Vue2\\20.JavaScript å¼æ­¥ç¼ç¨.md",wordsCount:668,readingTime:"2.8m",title:"JavaScript å¼æ­¥ç¼ç¨",date:"2022-03-18T00:55:10.000Z",permalink:"/pages/195534/",categories:["åç«¯","Vue2"],tags:[null]},{name:"javaè·¨å¹³å°åç",filePath:"D:\\code\\vuepress-theme-vdoing\\docs\\åç«¯\\01.JavaSE\\01.javaè·¨å¹³å°åç.md",wordsCount:54,readingTime:"1",title:"javaè·¨å¹³å°åç",date:"2022-03-18T00:48:40.000Z",permalink:"/pages/df8281/",categories:["åç«¯","Java"],tags:[null]},{name:"JRE(Java Runtime Enviroment)",filePath:"D:\\code\\vuepress-theme-vdoing\\docs\\åç«¯\\01.JavaSE\\02.JRE(Java Runtime Enviroment).md",wordsCount:49,readingTime:"1",title:"JRE(Java Runtime Enviroment)",date:"2022-03-18T00:48:40.000Z",permalink:"/pages/0c8879/",categories:["åç«¯","Java"],tags:[null]},{name:"JDK(Java Development Kit)",filePath:"D:\\code\\vuepress-theme-vdoing\\docs\\åç«¯\\01.JavaSE\\03.JDK(Java Development Kit).md",wordsCount:99,readingTime:"1",title:"JDK(Java Development Kit)",date:"2022-03-18T00:48:40.000Z",permalink:"/pages/d217f4/",categories:["åç«¯","Java"],tags:[null]},{name:"å¸¸ç¨doså½ä»¤",filePath:"D:\\code\\vuepress-theme-vdoing\\docs\\åç«¯\\01.JavaSE\\04.å¸¸ç¨doså½ä»¤.md",wordsCount:103,readingTime:"1",title:"å¸¸ç¨doså½ä»¤",date:"2022-03-18T00:48:40.000Z",permalink:"/pages/47da21/",categories:["åç«¯","Java"],tags:[null]},{name:"éç½®ç³»ç»pathç¯å¢åé",filePath:"D:\\code\\vuepress-theme-vdoing\\docs\\åç«¯\\01.JavaSE\\05.éç½®ç³»ç»pathç¯å¢åé.md",wordsCount:64,readingTime:"1",title:"éç½®ç³»ç»pathç¯å¢åé",date:"2022-03-18T00:48:41.000Z",permalink:"/pages/3ee21a/",categories:["åç«¯","Java"],tags:[null]},{name:"å¼åè¿è¡æµç¨",filePath:"D:\\code\\vuepress-theme-vdoing\\docs\\åç«¯\\01.JavaSE\\06.å¼åè¿è¡æµç¨.md",wordsCount:79,readingTime:"1",title:"å¼åè¿è¡æµç¨",date:"2022-03-18T00:48:41.000Z",permalink:"/pages/417c2d/",categories:["åç«¯","Java"],tags:[null]},{name:"ç¼åè§èé®é¢",filePath:"D:\\code\\vuepress-theme-vdoing\\docs\\åç«¯\\01.JavaSE\\07.ç¼åè§èé®é¢.md",wordsCount:71,readingTime:"1",title:"ç¼åè§èé®é¢",date:"2022-03-18T00:48:41.000Z",permalink:"/pages/977c49/",categories:["åç«¯","Java"],tags:[null]},{name:"åºç¡è¯­æ³",filePath:"D:\\code\\vuepress-theme-vdoing\\docs\\åç«¯\\01.JavaSE\\08.åºç¡è¯­æ³.md",wordsCount:100,readingTime:"1",title:"åºç¡è¯­æ³",date:"2022-03-18T00:48:36.000Z",permalink:"/pages/97d4f2/",categories:["åç«¯","Java"],tags:[null]},{name:"å³é®å­",filePath:"D:\\code\\vuepress-theme-vdoing\\docs\\åç«¯\\01.JavaSE\\09.å³é®å­.md",wordsCount:32,readingTime:"1",title:"å³é®å­",date:"2022-03-18T00:48:36.000Z",permalink:"/pages/d2d164/",categories:["åç«¯","Java"],tags:[null]},{name:"å¸¸é",filePath:"D:\\code\\vuepress-theme-vdoing\\docs\\åç«¯\\01.JavaSE\\10.å¸¸é.md",wordsCount:204,readingTime:"1",title:"å¸¸é",date:"2022-03-18T00:48:36.000Z",permalink:"/pages/10baa9/",categories:["åç«¯","Java"],tags:[null]},{name:"æ°æ®ç±»å",filePath:"D:\\code\\vuepress-theme-vdoing\\docs\\åç«¯\\01.JavaSE\\11.æ°æ®ç±»å.md",wordsCount:74,readingTime:"1",title:"æ°æ®ç±»å",date:"2022-03-18T00:48:36.000Z",permalink:"/pages/ec81f9/",categories:["åç«¯","Java"],tags:[null]},{name:"æ°å¼ååå®¹å ç¨ååæ´èå´",filePath:"D:\\code\\vuepress-theme-vdoing\\docs\\åç«¯\\01.JavaSE\\12.æ°å¼ååå®¹å ç¨ååæ´èå´.md",wordsCount:134,readingTime:"1",title:"æ°å¼ååå®¹å ç¨ååæ´èå´",date:"2022-03-18T00:48:36.000Z",permalink:"/pages/3f6e03/",categories:["åç«¯","Java"],tags:[null]},{name:"åé",filePath:"D:\\code\\vuepress-theme-vdoing\\docs\\åç«¯\\01.JavaSE\\13.åé.md",wordsCount:70,readingTime:"1",title:"åé",date:"2022-03-18T00:48:37.000Z",permalink:"/pages/558212/",categories:["åç«¯","Java"],tags:[null]},{name:"æ è¯ç¬¦",filePath:"D:\\code\\vuepress-theme-vdoing\\docs\\åç«¯\\01.JavaSE\\14.æ è¯ç¬¦.md",wordsCount:153,readingTime:"1",title:"æ è¯ç¬¦",date:"2022-03-18T00:48:37.000Z",permalink:"/pages/fcb871/",categories:["åç«¯","Java"],tags:[null]},{name:"ç±»åè½¬æ¢",filePath:"D:\\code\\vuepress-theme-vdoing\\docs\\åç«¯\\01.JavaSE\\15.ç±»åè½¬æ¢.md",wordsCount:136,readingTime:"1",title:"ç±»åè½¬æ¢",date:"2022-03-18T00:48:37.000Z",permalink:"/pages/b2c2df/",categories:["åç«¯","Java"],tags:[null]},{name:"ç®æ¯è¿ç®ç¬¦",filePath:"D:\\code\\vuepress-theme-vdoing\\docs\\åç«¯\\01.JavaSE\\16.ç®æ¯è¿ç®ç¬¦.md",wordsCount:90,readingTime:"1",title:"ç®æ¯è¿ç®ç¬¦",date:"2022-03-18T00:48:37.000Z",permalink:"/pages/a3cd43/",categories:["åç«¯","Java"],tags:[null]},{name:"èªå¢èªåè¿ç®ç¬¦",filePath:"D:\\code\\vuepress-theme-vdoing\\docs\\åç«¯\\01.JavaSE\\17.èªå¢èªåè¿ç®ç¬¦.md",wordsCount:59,readingTime:"1",title:"èªå¢èªåè¿ç®ç¬¦",date:"2022-03-18T00:48:37.000Z",permalink:"/pages/a4bf30/",categories:["åç«¯","Java"],tags:[null]},{name:"å³ç³»è¿ç®ç¬¦",filePath:"D:\\code\\vuepress-theme-vdoing\\docs\\åç«¯\\01.JavaSE\\18.å³ç³»è¿ç®ç¬¦.md",wordsCount:53,readingTime:"1",title:"å³ç³»è¿ç®ç¬¦",date:"2022-03-18T00:48:37.000Z",permalink:"/pages/a5f46a/",categories:["åç«¯","Java"],tags:[null]},{name:"é»è¾è¿ç®ç¬¦",filePath:"D:\\code\\vuepress-theme-vdoing\\docs\\åç«¯\\01.JavaSE\\19.é»è¾è¿ç®ç¬¦.md",wordsCount:73,readingTime:"1",title:"é»è¾è¿ç®ç¬¦",date:"2022-03-18T00:48:37.000Z",permalink:"/pages/ae5f03/",categories:["åç«¯","Java"],tags:[null]},{name:"ç­è·¯é»è¾è¿ç®ç¬¦",filePath:"D:\\code\\vuepress-theme-vdoing\\docs\\åç«¯\\01.JavaSE\\20.ç­è·¯é»è¾è¿ç®ç¬¦.md",wordsCount:106,readingTime:"1",title:"ç­è·¯é»è¾è¿ç®ç¬¦",date:"2022-03-18T00:48:37.000Z",permalink:"/pages/5cf2b5/",categories:["åç«¯","Java"],tags:[null]},{name:"ä¸åè¿ç®ç¬¦",filePath:"D:\\code\\vuepress-theme-vdoing\\docs\\åç«¯\\01.JavaSE\\21.ä¸åè¿ç®ç¬¦.md",wordsCount:77,readingTime:"1",title:"ä¸åè¿ç®ç¬¦",date:"2022-03-18T00:48:37.000Z",permalink:"/pages/ad2097/",categories:["åç«¯","Java"],tags:[null]},{name:"æ°æ®è¾å¥",filePath:"D:\\code\\vuepress-theme-vdoing\\docs\\åç«¯\\01.JavaSE\\22.æ°æ®è¾å¥.md",wordsCount:103,readingTime:"1",title:"æ°æ®è¾å¥",date:"2022-03-18T00:48:37.000Z",permalink:"/pages/9ca53c/",categories:["åç«¯","Java"],tags:[null]},{name:"æµç¨æ§å¶",filePath:"D:\\code\\vuepress-theme-vdoing\\docs\\åç«¯\\01.JavaSE\\23.æµç¨æ§å¶.md",wordsCount:449,readingTime:"1.8m",title:"æµç¨æ§å¶",date:"2022-03-18T00:48:37.000Z",permalink:"/pages/fc3701/",categories:["åç«¯","Java"],tags:[null]},{name:"å¾ªç¯è¯­å¥",filePath:"D:\\code\\vuepress-theme-vdoing\\docs\\åç«¯\\01.JavaSE\\24.å¾ªç¯è¯­å¥.md",wordsCount:347,readingTime:"1.3m",title:"å¾ªç¯è¯­å¥",date:"2022-03-18T00:48:37.000Z",permalink:"/pages/db81b2/",categories:["åç«¯","Java"],tags:[null]},{name:"ideaä¸­çè¾å©é®",filePath:"D:\\code\\vuepress-theme-vdoing\\docs\\åç«¯\\01.JavaSE\\25.ideaä¸­çè¾å©é®.md",wordsCount:127,readingTime:"1",title:"ideaä¸­çè¾å©é®",date:"2022-03-18T00:48:37.000Z",permalink:"/pages/3455ab/",categories:["åç«¯","Java"],tags:[null]},{name:"æ°ç»",filePath:"D:\\code\\vuepress-theme-vdoing\\docs\\åç«¯\\01.JavaSE\\26.æ°ç».md",wordsCount:699,readingTime:"2.5m",title:"æ°ç»",date:"2022-03-18T00:48:37.000Z",permalink:"/pages/add390/",categories:["åç«¯","Java"],tags:[null]},{name:"æ¹æ³",filePath:"D:\\code\\vuepress-theme-vdoing\\docs\\åç«¯\\01.JavaSE\\27.æ¹æ³.md",wordsCount:675,readingTime:"2.4m",title:"æ¹æ³",date:"2022-03-18T00:48:37.000Z",permalink:"/pages/8361e2/",categories:["åç«¯","Java"],tags:[null]},{name:"é¢åå¯¹è±¡åºç¡",filePath:"D:\\code\\vuepress-theme-vdoing\\docs\\åç«¯\\01.JavaSE\\28.é¢åå¯¹è±¡åºç¡.md",wordsCount:"1.1k",readingTime:"4m",title:"é¢åå¯¹è±¡åºç¡",date:"2022-03-18T00:48:37.000Z",permalink:"/pages/0a58cf/",categories:["åç«¯","Java"],tags:[null]},{name:"æ åç±»",filePath:"D:\\code\\vuepress-theme-vdoing\\docs\\åç«¯\\01.JavaSE\\29.æ åç±».md",wordsCount:147,readingTime:"1",title:"æ åç±»",date:"2022-03-18T00:48:37.000Z",permalink:"/pages/ab994e/",categories:["åç«¯","Java"],tags:[null]},{name:"å­ç¬¦ä¸²",filePath:"D:\\code\\vuepress-theme-vdoing\\docs\\åç«¯\\01.JavaSE\\30.å­ç¬¦ä¸².md",wordsCount:885,readingTime:"3.2m",title:"å­ç¬¦ä¸²",date:"2022-03-18T00:48:37.000Z",permalink:"/pages/8a171b/",categories:["åç«¯","Java"],tags:[null]},{name:"ArrayListéå",filePath:"D:\\code\\vuepress-theme-vdoing\\docs\\åç«¯\\01.JavaSE\\31.ArrayListéå.md",wordsCount:291,readingTime:"1.1m",title:"ArrayListéå",date:"2022-03-18T00:48:37.000Z",permalink:"/pages/ab65fb/",categories:["åç«¯","Java"],tags:[null]},{name:"ç»§æ¿",filePath:"D:\\code\\vuepress-theme-vdoing\\docs\\åç«¯\\01.JavaSE\\32.ç»§æ¿.md",wordsCount:919,readingTime:"3.2m",title:"ç»§æ¿",date:"2022-03-18T00:48:37.000Z",permalink:"/pages/c7fa91/",categories:["åç«¯","Java"],tags:[null]},{name:"ä¿®é¥°ç¬¦",filePath:"D:\\code\\vuepress-theme-vdoing\\docs\\åç«¯\\01.JavaSE\\33.ä¿®é¥°ç¬¦.md",wordsCount:66,readingTime:"1",title:"ä¿®é¥°ç¬¦",date:"2022-03-18T00:48:38.000Z",permalink:"/pages/f3b824/",categories:["åç«¯","Java"],tags:[null]},{name:"æéä¿®é¥°ç¬¦",filePath:"D:\\code\\vuepress-theme-vdoing\\docs\\åç«¯\\01.JavaSE\\34.æéä¿®é¥°ç¬¦.md",wordsCount:31,readingTime:"1",title:"æéä¿®é¥°ç¬¦",date:"2022-03-18T00:48:38.000Z",permalink:"/pages/047301/",categories:["åç«¯","Java"],tags:[null]},{name:"ç¶æä¿®é¥°ç¬¦",filePath:"D:\\code\\vuepress-theme-vdoing\\docs\\åç«¯\\01.JavaSE\\35.ç¶æä¿®é¥°ç¬¦.md",wordsCount:248,readingTime:"1",title:"ç¶æä¿®é¥°ç¬¦",date:"2022-03-18T00:48:38.000Z",permalink:"/pages/392033/",categories:["åç«¯","Java"],tags:[null]},{name:"å¤æ",filePath:"D:\\code\\vuepress-theme-vdoing\\docs\\åç«¯\\01.JavaSE\\36.å¤æ.md",wordsCount:295,readingTime:"1m",title:"å¤æ",date:"2022-03-18T00:48:38.000Z",permalink:"/pages/6407a8/",categories:["åç«¯","Java"],tags:[null]},{name:"æ½è±¡",filePath:"D:\\code\\vuepress-theme-vdoing\\docs\\åç«¯\\01.JavaSE\\37.æ½è±¡.md",wordsCount:224,readingTime:"1",title:"æ½è±¡",date:"2022-03-18T00:48:38.000Z",permalink:"/pages/a12790/",categories:["åç«¯","Java"],tags:[null]},{name:"æ¥å£",filePath:"D:\\code\\vuepress-theme-vdoing\\docs\\åç«¯\\01.JavaSE\\38.æ¥å£.md",wordsCount:278,readingTime:"1m",title:"æ¥å£",date:"2022-03-18T00:48:38.000Z",permalink:"/pages/db4705/",categories:["åç«¯","Java"],tags:[null]},{name:"ç±»åæ¥å£çå³ç³»",filePath:"D:\\code\\vuepress-theme-vdoing\\docs\\åç«¯\\01.JavaSE\\39.ç±»åæ¥å£çå³ç³».md",wordsCount:115,readingTime:"1",title:"ç±»åæ¥å£çå³ç³»",date:"2022-03-18T00:48:38.000Z",permalink:"/pages/b47784/",categories:["åç«¯","Java"],tags:[null]},{name:"æ½è±¡ç±»ä¸æ¥å£çåºå«",filePath:"D:\\code\\vuepress-theme-vdoing\\docs\\åç«¯\\01.JavaSE\\40.æ½è±¡ç±»ä¸æ¥å£çåºå«.md",wordsCount:161,readingTime:"1",title:"æ½è±¡ç±»ä¸æ¥å£çåºå«",date:"2022-03-18T00:48:38.000Z",permalink:"/pages/102423/",categories:["åç«¯","Java"],tags:[null]},{name:"ç±»åä½ä¸ºå½¢ååè¿åå¼",filePath:"D:\\code\\vuepress-theme-vdoing\\docs\\åç«¯\\01.JavaSE\\41.ç±»åä½ä¸ºå½¢ååè¿åå¼.md",wordsCount:138,readingTime:"1",title:"ç±»åä½ä¸ºå½¢ååè¿åå¼",date:"2022-03-18T00:48:38.000Z",permalink:"/pages/384827/",categories:["åç«¯","Java"],tags:[null]},{name:"åé¨ç±»",filePath:"D:\\code\\vuepress-theme-vdoing\\docs\\åç«¯\\01.JavaSE\\42.åé¨ç±».md",wordsCount:878,readingTime:"3.6m",title:"åé¨ç±»",date:"2022-03-18T00:48:38.000Z",permalink:"/pages/86e52c/",categories:["åç«¯","Java"],tags:[null]},{name:"Api",filePath:"D:\\code\\vuepress-theme-vdoing\\docs\\åç«¯\\01.JavaSE\\43.Api.md",wordsCount:706,readingTime:"3m",title:"Api",date:"2022-03-18T00:48:38.000Z",permalink:"/pages/a4cd8f/",categories:["åç«¯","Java"],tags:[null]},{name:"å¼å¸¸",filePath:"D:\\code\\vuepress-theme-vdoing\\docs\\åç«¯\\01.JavaSE\\44.å¼å¸¸.md",wordsCount:611,readingTime:"2.5m",title:"å¼å¸¸",date:"2022-03-18T00:48:38.000Z",permalink:"/pages/236d5b/",categories:["åç«¯","Java"],tags:[null]},{name:"éå",filePath:"D:\\code\\vuepress-theme-vdoing\\docs\\åç«¯\\01.JavaSE\\45.éå.md",wordsCount:744,readingTime:"2.7m",title:"éå",date:"2022-03-18T00:48:38.000Z",permalink:"/pages/f58543/",categories:["åç«¯","Java"],tags:[null]},{name:"æ³å",filePath:"D:\\code\\vuepress-theme-vdoing\\docs\\åç«¯\\01.JavaSE\\46.æ³å.md",wordsCount:527,readingTime:"2.2m",title:"æ³å",date:"2022-03-18T00:48:38.000Z",permalink:"/pages/d6e1c4/",categories:["åç«¯","Java"],tags:[null]},{name:"Setéå",filePath:"D:\\code\\vuepress-theme-vdoing\\docs\\åç«¯\\01.JavaSE\\47.Setéå.md",wordsCount:357,readingTime:"1.4m",title:"Setéå",date:"2022-03-18T00:48:38.000Z",permalink:"/pages/5137f9/",categories:["åç«¯","Java"],tags:[null]},{name:"æ ",filePath:"D:\\code\\vuepress-theme-vdoing\\docs\\åç«¯\\01.JavaSE\\48.æ .md",wordsCount:"1.5k",readingTime:"5.6m",title:"æ ",date:"2022-03-18T00:48:39.000Z",permalink:"/pages/6e8f69/",categories:["åç«¯","Java"],tags:[null]},{name:"TreeSetéå",filePath:"D:\\code\\vuepress-theme-vdoing\\docs\\åç«¯\\01.JavaSE\\49.TreeSetéå.md",wordsCount:37,readingTime:"1",title:"TreeSetéå",date:"2022-03-18T00:48:39.000Z",permalink:"/pages/8b6f0f/",categories:["åç«¯","Java"],tags:[null]},{name:"åå¸å¼",filePath:"D:\\code\\vuepress-theme-vdoing\\docs\\åç«¯\\01.JavaSE\\50.åå¸å¼.md",wordsCount:140,readingTime:"1",title:"åå¸å¼",date:"2022-03-18T00:48:39.000Z",permalink:"/pages/1793cd/",categories:["åç«¯","Java"],tags:[null]},{name:"åå¸è¡¨",filePath:"D:\\code\\vuepress-theme-vdoing\\docs\\åç«¯\\01.JavaSE\\51.åå¸è¡¨.md",wordsCount:54,readingTime:"1",title:"åå¸è¡¨",date:"2022-03-18T00:48:39.000Z",permalink:"/pages/7525b1/",categories:["åç«¯","Java"],tags:[null]},{name:"HashSetéå",filePath:"D:\\code\\vuepress-theme-vdoing\\docs\\åç«¯\\01.JavaSE\\52.HashSetéå.md",wordsCount:382,readingTime:"1.5m",title:"HashSetéå",date:"2022-03-18T00:48:39.000Z",permalink:"/pages/642d0a/",categories:["åç«¯","Java"],tags:[null]},{name:"Map éå",filePath:"D:\\code\\vuepress-theme-vdoing\\docs\\åç«¯\\01.JavaSE\\53.Map éå.md",wordsCount:177,readingTime:"1",title:"Map éå",date:"2022-03-18T00:48:39.000Z",permalink:"/pages/b8041f/",categories:["åç«¯","Java"],tags:[null]},{name:"å¯ååæ°",filePath:"D:\\code\\vuepress-theme-vdoing\\docs\\åç«¯\\01.JavaSE\\54.å¯ååæ°.md",wordsCount:103,readingTime:"1",title:"å¯ååæ°",date:"2022-03-18T00:48:39.000Z",permalink:"/pages/4fb557/",categories:["åç«¯","Java"],tags:[null]},{name:"åå»ºä¸å¯åçéå",filePath:"D:\\code\\vuepress-theme-vdoing\\docs\\åç«¯\\01.JavaSE\\55.åå»ºä¸å¯åçéå.md",wordsCount:169,readingTime:"1",title:"åå»ºä¸å¯åçéå",date:"2022-03-18T00:48:39.000Z",permalink:"/pages/7db438/",categories:["åç«¯","Java"],tags:[null]},{name:"Streamæµ",filePath:"D:\\code\\vuepress-theme-vdoing\\docs\\åç«¯\\01.JavaSE\\56.Streamæµ.md",wordsCount:558,readingTime:"2.6m",title:"Streamæµ",date:"2022-03-18T00:48:39.000Z",permalink:"/pages/46103a/",categories:["åç«¯","Java"],tags:[null]},{name:"æ¹æ³å¼ç¨",filePath:"D:\\code\\vuepress-theme-vdoing\\docs\\åç«¯\\01.JavaSE\\57.æ¹æ³å¼ç¨.md",wordsCount:221,readingTime:"1",title:"æ¹æ³å¼ç¨",date:"2022-03-18T00:48:39.000Z",permalink:"/pages/566611/",categories:["åç«¯","Java"],tags:[null]},{name:"File",filePath:"D:\\code\\vuepress-theme-vdoing\\docs\\åç«¯\\01.JavaSE\\58.File.md",wordsCount:328,readingTime:"1.4m",title:"File",date:"2022-03-18T00:48:39.000Z",permalink:"/pages/48b908/",categories:["åç«¯","Java"],tags:[null]},{name:"å¤çº¿ç¨",filePath:"D:\\code\\vuepress-theme-vdoing\\docs\\åç«¯\\01.JavaSE\\59.å¤çº¿ç¨.md",wordsCount:"1.4k",readingTime:"5.4m",title:"å¤çº¿ç¨",date:"2022-03-18T00:48:39.000Z",permalink:"/pages/606294/",categories:["åç«¯","Java"],tags:[null]},{name:"å¤çº¿ç¨é«çº§",filePath:"D:\\code\\vuepress-theme-vdoing\\docs\\åç«¯\\01.JavaSE\\60.å¤çº¿ç¨é«çº§.md",wordsCount:"2.2k",readingTime:"7.9m",title:"å¤çº¿ç¨é«çº§",date:"2022-03-18T00:48:39.000Z",permalink:"/pages/c73ee4/",categories:["åç«¯","Java"],tags:[null]},{name:"ç½ç»ç¼ç¨",filePath:"D:\\code\\vuepress-theme-vdoing\\docs\\åç«¯\\01.JavaSE\\61.ç½ç»ç¼ç¨.md",wordsCount:"1.3k",readingTime:"5.3m",title:"ç½ç»ç¼ç¨",date:"2022-03-18T00:48:39.000Z",permalink:"/pages/fc7fd4/",categories:["åç«¯","Java"],tags:[null]},{name:"ç±»å è½½å¨",filePath:"D:\\code\\vuepress-theme-vdoing\\docs\\åç«¯\\01.JavaSE\\62.ç±»å è½½å¨.md",wordsCount:368,readingTime:"1.5m",title:"ç±»å è½½å¨",date:"2022-03-18T00:48:39.000Z",permalink:"/pages/a33e90/",categories:["åç«¯","Java"],tags:[null]},{name:"åå°",filePath:"D:\\code\\vuepress-theme-vdoing\\docs\\åç«¯\\01.JavaSE\\63.åå°.md",wordsCount:979,readingTime:"4m",title:"åå°",date:"2022-03-18T00:48:39.000Z",permalink:"/pages/b3e612/",categories:["åç«¯","Java"],tags:[null]},{name:"XML",filePath:"D:\\code\\vuepress-theme-vdoing\\docs\\åç«¯\\01.JavaSE\\64.XML.md",wordsCount:641,readingTime:"2.9m",title:"XML",date:"2022-03-18T00:48:39.000Z",permalink:"/pages/6bad64/",categories:["åç«¯","Java"],tags:[null]},{name:"æä¸¾",filePath:"D:\\code\\vuepress-theme-vdoing\\docs\\åç«¯\\01.JavaSE\\65.æä¸¾.md",wordsCount:186,readingTime:"1",title:"æä¸¾",date:"2022-03-18T00:48:39.000Z",permalink:"/pages/19426f/",categories:["åç«¯","Java"],tags:[null]},{name:"æ³¨è§£",filePath:"D:\\code\\vuepress-theme-vdoing\\docs\\åç«¯\\01.JavaSE\\66.æ³¨è§£.md",wordsCount:348,readingTime:"1.2m",title:"æ³¨è§£",date:"2022-03-18T00:48:39.000Z",permalink:"/pages/1bf317/",categories:["åç«¯","Java"],tags:[null]},{name:"ååæµè¯",filePath:"D:\\code\\vuepress-theme-vdoing\\docs\\åç«¯\\01.JavaSE\\67.ååæµè¯.md",wordsCount:120,readingTime:"1",title:"ååæµè¯",date:"2022-03-18T00:48:40.000Z",permalink:"/pages/7ba344/",categories:["åç«¯","Java"],tags:[null]},{name:"æ¥å¿",filePath:"D:\\code\\vuepress-theme-vdoing\\docs\\åç«¯\\01.JavaSE\\68.æ¥å¿.md",wordsCount:419,readingTime:"1.8m",title:"æ¥å¿",date:"2022-03-18T00:48:40.000Z",permalink:"/pages/344d91/",categories:["åç«¯","Java"],tags:[null]},{name:"HTTPåè®®",filePath:"D:\\code\\vuepress-theme-vdoing\\docs\\åç«¯\\01.JavaSE\\69.HTTPåè®®.md",wordsCount:201,readingTime:"1",title:"HTTPåè®®",date:"2022-03-18T00:48:40.000Z",permalink:"/pages/a7a164/",categories:["åç«¯","Java"],tags:[null]},{name:"Servlet",filePath:"D:\\code\\vuepress-theme-vdoing\\docs\\åç«¯\\01.JavaSE\\70.Servlet.md",wordsCount:907,readingTime:"3.8m",title:"Servlet",date:"2022-03-18T00:48:40.000Z",permalink:"/pages/9c9dd6/",categories:["åç«¯","Java"],tags:[null]},{name:"è¯·æ±å¯¹è±¡",filePath:"D:\\code\\vuepress-theme-vdoing\\docs\\åç«¯\\01.JavaSE\\71.è¯·æ±å¯¹è±¡.md",wordsCount:539,readingTime:"2m",title:"è¯·æ±å¯¹è±¡",date:"2022-03-18T00:48:40.000Z",permalink:"/pages/83bc98/",categories:["åç«¯","Java"],tags:[null]},{name:"ååºå¯¹è±¡",filePath:"D:\\code\\vuepress-theme-vdoing\\docs\\åç«¯\\01.JavaSE\\72.ååºå¯¹è±¡.md",wordsCount:524,readingTime:"2m",title:"ååºå¯¹è±¡",date:"2022-03-18T00:48:40.000Z",permalink:"/pages/d35ebd/",categories:["åç«¯","Java"],tags:[null]},{name:"Cookie",filePath:"D:\\code\\vuepress-theme-vdoing\\docs\\åç«¯\\01.JavaSE\\73.Cookie.md",wordsCount:313,readingTime:"1.2m",title:"Cookie",date:"2022-03-18T00:48:40.000Z",permalink:"/pages/133dfe/",categories:["åç«¯","Java"],tags:[null]},{name:"Session",filePath:"D:\\code\\vuepress-theme-vdoing\\docs\\åç«¯\\01.JavaSE\\74.Session.md",wordsCount:168,readingTime:"1",title:"Session",date:"2022-03-18T00:48:40.000Z",permalink:"/pages/83bc22/",categories:["åç«¯","Java"],tags:[null]},{name:"JSP",filePath:"D:\\code\\vuepress-theme-vdoing\\docs\\åç«¯\\01.JavaSE\\75.JSP.md",wordsCount:"1.1k",readingTime:"4.7m",title:"JSP",date:"2022-03-18T00:48:40.000Z",permalink:"/pages/427528/",categories:["åç«¯","Java"],tags:[null]},{name:"Listener",filePath:"D:\\code\\vuepress-theme-vdoing\\docs\\åç«¯\\01.JavaSE\\76.Listener.md",wordsCount:554,readingTime:"2.1m",title:"Listener",date:"2022-03-18T00:48:40.000Z",permalink:"/pages/70e34e/",categories:["åç«¯","Java"],tags:[null]},{name:"JDBC",filePath:"D:\\code\\vuepress-theme-vdoing\\docs\\åç«¯\\02.JavaEE\\01.JDBC.md",wordsCount:"2.1k",readingTime:"8.9m",title:"JDBC",date:"2022-03-18T00:51:47.000Z",permalink:"/pages/544a3f/",categories:["åç«¯","JavaEE"],tags:[null]},{name:"MyBatis",filePath:"D:\\code\\vuepress-theme-vdoing\\docs\\åç«¯\\02.JavaEE\\02.MyBatis.md",wordsCount:"3.7k",readingTime:"16.2m",title:"MyBatis",date:"2022-03-18T00:51:47.000Z",permalink:"/pages/c1aa2b/",categories:["åç«¯","JavaEE"],tags:[null]},{name:"Jackson",filePath:"D:\\code\\vuepress-theme-vdoing\\docs\\åç«¯\\02.JavaEE\\03.Jackson.md",wordsCount:402,readingTime:"2.1m",title:"Jackson",date:"2022-03-18T00:51:47.000Z",permalink:"/pages/df2f58/",categories:["åç«¯","JavaEE"],tags:[null]},{name:"Jedis",filePath:"D:\\code\\vuepress-theme-vdoing\\docs\\åç«¯\\02.JavaEE\\04.Jedis.md",wordsCount:573,readingTime:"2.7m",title:"Jedis",date:"2022-03-18T00:51:47.000Z",permalink:"/pages/40c5ff/",categories:["åç«¯","JavaEE"],tags:[null]},{name:"Maven",filePath:"D:\\code\\vuepress-theme-vdoing\\docs\\åç«¯\\02.JavaEE\\05.Maven.md",wordsCount:767,readingTime:"3.5m",title:"Maven",date:"2022-03-18T00:51:47.000Z",permalink:"/pages/682f06/",categories:["åç«¯","JavaEE"],tags:[null]},{name:"POI",filePath:"D:\\code\\vuepress-theme-vdoing\\docs\\åç«¯\\02.JavaEE\\06.POI.md",wordsCount:469,readingTime:"2.2m",title:"POI",date:"2022-03-18T00:51:47.000Z",permalink:"/pages/528ce7/",categories:["åç«¯","JavaEE"],tags:[null]},{name:"Spring",filePath:"D:\\code\\vuepress-theme-vdoing\\docs\\åç«¯\\02.JavaEE\\07.Spring.md",wordsCount:"6.4k",readingTime:"30.4m",title:"Spring",date:"2022-03-18T00:51:47.000Z",permalink:"/pages/17e650/",categories:["åç«¯","JavaEE"],tags:[null]},{name:"Spring MVC",filePath:"D:\\code\\vuepress-theme-vdoing\\docs\\åç«¯\\02.JavaEE\\08.Spring MVC.md",wordsCount:"4.6k",readingTime:"21.3m",title:"Spring MVC",date:"2022-03-18T00:51:47.000Z",permalink:"/pages/8cd1ce/",categories:["åç«¯","JavaEE"],tags:[null]},{name:"Maven é«çº§",filePath:"D:\\code\\vuepress-theme-vdoing\\docs\\åç«¯\\02.JavaEE\\09.Maven é«çº§.md",wordsCount:727,readingTime:"3.2m",title:"Maven é«çº§",date:"2022-03-18T00:51:47.000Z",permalink:"/pages/127f3b/",categories:["åç«¯","JavaEE"],tags:[null]},{name:"Dubbo",filePath:"D:\\code\\vuepress-theme-vdoing\\docs\\åç«¯\\02.JavaEE\\10.Dubbo.md",wordsCount:"1.6k",readingTime:"6.4m",title:"Dubbo",date:"2022-03-18T00:51:47.000Z",permalink:"/pages/dc966e/",categories:["åç«¯","JavaEE"],tags:[null]},{name:"Zookeeper",filePath:"D:\\code\\vuepress-theme-vdoing\\docs\\åç«¯\\02.JavaEE\\11.Zookeeper.md",wordsCount:"2.4k",readingTime:"10.3m",title:"Zookeeper",date:"2022-03-18T00:51:47.000Z",permalink:"/pages/7bc195/",categories:["åç«¯","JavaEE"],tags:[null]},{name:"Spring Security",filePath:"D:\\code\\vuepress-theme-vdoing\\docs\\åç«¯\\02.JavaEE\\12.Spring Security.md",wordsCount:"2.6k",readingTime:"11.9m",title:"Spring Security",date:"2022-03-18T00:51:47.000Z",permalink:"/pages/ca6c88/",categories:["åç«¯","JavaEE"],tags:[null]},{name:"Spring Boot",filePath:"D:\\code\\vuepress-theme-vdoing\\docs\\åç«¯\\02.JavaEE\\13.Spring Boot.md",wordsCount:"1.7k",readingTime:"7.5m",title:"Spring Boot",date:"2022-03-18T00:51:47.000Z",permalink:"/pages/4f5fb3/",categories:["åç«¯","JavaEE"],tags:[null]},{name:"Spring Boot é«çº§",filePath:"D:\\code\\vuepress-theme-vdoing\\docs\\åç«¯\\02.JavaEE\\14.Spring Boot é«çº§.md",wordsCount:"2.3k",readingTime:"10.9m",title:"Spring Boot é«çº§",date:"2022-03-18T00:51:47.000Z",permalink:"/pages/207023/",categories:["åç«¯","JavaEE"],tags:[null]},{name:"RabbitMQ",filePath:"D:\\code\\vuepress-theme-vdoing\\docs\\åç«¯\\02.JavaEE\\15.RabbitMQ.md",wordsCount:"4.2k",readingTime:"21.2m",title:"RabbitMQ",date:"2022-03-18T00:51:47.000Z",permalink:"/pages/3a5e24/",categories:["åç«¯","JavaEE"],tags:[null]},{name:"RabbitMQ é«çº§",filePath:"D:\\code\\vuepress-theme-vdoing\\docs\\åç«¯\\02.JavaEE\\16.RabbitMQ é«çº§.md",wordsCount:"3.1k",readingTime:"14.5m",title:"RabbitMQ é«çº§",date:"2022-03-18T00:51:47.000Z",permalink:"/pages/da3871/",categories:["åç«¯","JavaEE"],tags:[null]},{name:"Spring Cloud",filePath:"D:\\code\\vuepress-theme-vdoing\\docs\\åç«¯\\02.JavaEE\\17.Spring Cloud.md",wordsCount:"8.7k",readingTime:"40.1m",title:"Spring Cloud",date:"2022-03-18T00:51:47.000Z",permalink:"/pages/e886f8/",categories:["åç«¯","JavaEE"],tags:[null]},{name:"Docker",filePath:"D:\\code\\vuepress-theme-vdoing\\docs\\åç«¯\\02.JavaEE\\18.Docker.md",wordsCount:"2.1k",readingTime:"9.4m",title:"Docker",date:"2022-03-18T00:51:47.000Z",permalink:"/pages/c588b5/",categories:["åç«¯","JavaEE"],tags:[null]},{name:"ElasticSearch",filePath:"D:\\code\\vuepress-theme-vdoing\\docs\\åç«¯\\02.JavaEE\\19.ElasticSearch.md",wordsCount:"2.8k",readingTime:"12.8m",title:"ElasticSearch",date:"2022-03-18T00:51:47.000Z",permalink:"/pages/95da1a/",categories:["åç«¯","JavaEE"],tags:[null]},{name:"ElasticSearch é«çº§",filePath:"D:\\code\\vuepress-theme-vdoing\\docs\\åç«¯\\02.JavaEE\\20.ElasticSearch é«çº§.md",wordsCount:"4.5k",readingTime:"20.6m",title:"ElasticSearch é«çº§",date:"2022-03-18T00:51:47.000Z",permalink:"/pages/cf92bb/",categories:["åç«¯","JavaEE"],tags:[null]},{name:"Linux",filePath:"D:\\code\\vuepress-theme-vdoing\\docs\\åç«¯\\03.Linux\\01.Linux.md",wordsCount:"4.2k",readingTime:"17.2m",title:"Linux",date:"2022-03-18T00:52:16.000Z",permalink:"/pages/124a07/",categories:["åç«¯","Linux"],tags:[null]},{name:"shell",filePath:"D:\\code\\vuepress-theme-vdoing\\docs\\åç«¯\\03.Linux\\02.shell.md",wordsCount:558,readingTime:"2.3m",title:"shell",date:"2022-03-18T00:52:16.000Z",permalink:"/pages/f9e4a1/",categories:["åç«¯","Linux"],tags:[null]},{name:"Nginx",filePath:"D:\\code\\vuepress-theme-vdoing\\docs\\åç«¯\\03.Linux\\03.Nginx.md",wordsCount:223,readingTime:"1.1m",title:"Nginx",date:"2022-03-18T00:52:16.000Z",permalink:"/pages/0aeef9/",categories:["åç«¯","Linux"],tags:[null]},{name:"java",filePath:"D:\\code\\vuepress-theme-vdoing\\docs\\åç«¯\\03.Linux\\04.java.md",wordsCount:123,readingTime:"1",title:"java",date:"2022-03-18T00:52:16.000Z",permalink:"/pages/a70c4f/",categories:["åç«¯","Linux"],tags:[null]},{name:"Tomcat",filePath:"D:\\code\\vuepress-theme-vdoing\\docs\\åç«¯\\03.Linux\\05.Tomcat.md",wordsCount:79,readingTime:"1",title:"Tomcat",date:"2022-03-18T00:52:16.000Z",permalink:"/pages/f323f1/",categories:["åç«¯","Linux"],tags:[null]},{name:"å¸¸è§çæ°æ®åºäº§å",filePath:"D:\\code\\vuepress-theme-vdoing\\docs\\åç«¯\\04.SQL\\01.å¸¸è§çæ°æ®åºäº§å.md",wordsCount:59,readingTime:"1",title:"å¸¸è§çæ°æ®åºäº§å",date:"2022-03-18T00:52:36.000Z",permalink:"/pages/e051f6/",categories:["åç«¯","SQL"],tags:[null]},{name:"æ°æ®åºç¸å³æ¦å¿µ",filePath:"D:\\code\\vuepress-theme-vdoing\\docs\\åç«¯\\04.SQL\\02.æ°æ®åºç¸å³æ¦å¿µ.md",wordsCount:104,readingTime:"1",title:"æ°æ®åºç¸å³æ¦å¿µ",date:"2022-03-18T00:52:36.000Z",permalink:"/pages/4b2b60/",categories:["åç«¯","SQL"],tags:[null]},{name:"æ°æ®åºå­å¨æ°æ®çç¹ç¹",filePath:"D:\\code\\vuepress-theme-vdoing\\docs\\åç«¯\\04.SQL\\03.æ°æ®åºå­å¨æ°æ®çç¹ç¹.md",wordsCount:82,readingTime:"1",title:"æ°æ®åºå­å¨æ°æ®çç¹ç¹",date:"2022-03-18T00:52:36.000Z",permalink:"/pages/d2b3d3/",categories:["åç«¯","SQL"],tags:[null]},{name:"MySQLæå¡ç«¯",filePath:"D:\\code\\vuepress-theme-vdoing\\docs\\åç«¯\\04.SQL\\04.MySQLæå¡ç«¯.md",wordsCount:68,readingTime:"1",title:"MySQLæå¡ç«¯",date:"2022-03-18T00:52:36.000Z",permalink:"/pages/641ffa/",categories:["åç«¯","SQL"],tags:[null]},{name:"ç¯å¢åé",filePath:"D:\\code\\vuepress-theme-vdoing\\docs\\åç«¯\\04.SQL\\05.ç¯å¢åé.md",wordsCount:87,readingTime:"1",title:"ç¯å¢åé",date:"2022-03-18T00:52:36.000Z",permalink:"/pages/a4dffe/",categories:["åç«¯","SQL"],tags:[null]},{name:"å½ä»¤ç¬¦æä»¤",filePath:"D:\\code\\vuepress-theme-vdoing\\docs\\åç«¯\\04.SQL\\06.å½ä»¤ç¬¦æä»¤.md",wordsCount:358,readingTime:"1.3m",title:"å½ä»¤ç¬¦æä»¤",date:"2022-03-18T00:52:36.000Z",permalink:"/pages/8c64bc/",categories:["åç«¯","SQL"],tags:[null]},{name:"SQLè¯­å¥",filePath:"D:\\code\\vuepress-theme-vdoing\\docs\\åç«¯\\04.SQL\\07.SQLè¯­å¥.md",wordsCount:148,readingTime:"1",title:"SQLè¯­å¥",date:"2022-03-18T00:52:36.000Z",permalink:"/pages/4c9417/",categories:["åç«¯","SQL"],tags:[null]},{name:"æ°æ®åº",filePath:"D:\\code\\vuepress-theme-vdoing\\docs\\åç«¯\\04.SQL\\08.æ°æ®åº.md",wordsCount:146,readingTime:"1",title:"æ°æ®åº",date:"2022-03-18T00:52:36.000Z",permalink:"/pages/04fedb/",categories:["åç«¯","SQL"],tags:[null]},{name:"è¡¨",filePath:"D:\\code\\vuepress-theme-vdoing\\docs\\åç«¯\\04.SQL\\09.è¡¨.md",wordsCount:507,readingTime:"2.1m",title:"è¡¨",date:"2022-03-18T00:52:36.000Z",permalink:"/pages/5a2265/",categories:["åç«¯","SQL"],tags:[null]},{name:"çº¦æ",filePath:"D:\\code\\vuepress-theme-vdoing\\docs\\åç«¯\\04.SQL\\10.çº¦æ.md",wordsCount:515,readingTime:"2m",title:"çº¦æ",date:"2022-03-18T00:52:36.000Z",permalink:"/pages/de8702/",categories:["åç«¯","SQL"],tags:[null]},{name:"å¤è¡¨æä½",filePath:"D:\\code\\vuepress-theme-vdoing\\docs\\åç«¯\\04.SQL\\11.å¤è¡¨æä½.md",wordsCount:392,readingTime:"1.4m",title:"å¤è¡¨æä½",date:"2022-03-18T00:52:36.000Z",permalink:"/pages/89e8d8/",categories:["åç«¯","SQL"],tags:[null]},{name:"è§å¾",filePath:"D:\\code\\vuepress-theme-vdoing\\docs\\åç«¯\\04.SQL\\12.è§å¾.md",wordsCount:132,readingTime:"1",title:"è§å¾",date:"2022-03-18T00:52:36.000Z",permalink:"/pages/3293cf/",categories:["åç«¯","SQL"],tags:[null]},{name:"å¤ä»½",filePath:"D:\\code\\vuepress-theme-vdoing\\docs\\åç«¯\\04.SQL\\13.å¤ä»½.md",wordsCount:58,readingTime:"1",title:"å¤ä»½",date:"2022-03-18T00:52:36.000Z",permalink:"/pages/f561ab/",categories:["åç«¯","SQL"],tags:[null]},{name:"MySQL å­å¨è¿ç¨åå½æ°",filePath:"D:\\code\\vuepress-theme-vdoing\\docs\\åç«¯\\04.SQL\\14.MySQL å­å¨è¿ç¨åå½æ°.md",wordsCount:444,readingTime:"1.7m",title:"MySQL å­å¨è¿ç¨åå½æ°",date:"2022-03-18T00:52:35.000Z",permalink:"/pages/336822/",categories:["åç«¯","SQL"],tags:[null]},{name:"è§¦åå¨",filePath:"D:\\code\\vuepress-theme-vdoing\\docs\\åç«¯\\04.SQL\\15.è§¦åå¨.md",wordsCount:324,readingTime:"1.3m",title:"è§¦åå¨",date:"2022-03-18T00:52:35.000Z",permalink:"/pages/108b35/",categories:["åç«¯","SQL"],tags:[null]},{name:"äºå¡",filePath:"D:\\code\\vuepress-theme-vdoing\\docs\\åç«¯\\04.SQL\\16.äºå¡.md",wordsCount:726,readingTime:"2.6m",title:"äºå¡",date:"2022-03-18T00:52:35.000Z",permalink:"/pages/4c8706/",categories:["åç«¯","SQL"],tags:[null]},{name:"å­å¨å¼æ",filePath:"D:\\code\\vuepress-theme-vdoing\\docs\\åç«¯\\04.SQL\\17.å­å¨å¼æ.md",wordsCount:220,readingTime:"1",title:"å­å¨å¼æ",date:"2022-03-18T00:52:35.000Z",permalink:"/pages/7d59ad/",categories:["åç«¯","SQL"],tags:[null]},{name:"ç´¢å¼",filePath:"D:\\code\\vuepress-theme-vdoing\\docs\\åç«¯\\04.SQL\\18.ç´¢å¼.md",wordsCount:587,readingTime:"2.3m",title:"ç´¢å¼",date:"2022-03-18T00:52:35.000Z",permalink:"/pages/acc2dd/",categories:["åç«¯","SQL"],tags:[null]},{name:"é",filePath:"D:\\code\\vuepress-theme-vdoing\\docs\\åç«¯\\04.SQL\\19.é.md",wordsCount:605,readingTime:"2.1m",title:"é",date:"2022-03-18T00:52:35.000Z",permalink:"/pages/3c034d/",categories:["åç«¯","SQL"],tags:[null]},{name:"MyCat ä¸­é´ä»¶",filePath:"D:\\code\\vuepress-theme-vdoing\\docs\\åç«¯\\04.SQL\\20.MyCat ä¸­é´ä»¶.md",wordsCount:"1.5k",readingTime:"7.1m",title:"MyCat ä¸­é´ä»¶",date:"2022-03-18T00:52:35.000Z",permalink:"/pages/3ca264/",categories:["åç«¯","SQL"],tags:[null]},{name:"Nosql",filePath:"D:\\code\\vuepress-theme-vdoing\\docs\\åç«¯\\04.SQL\\21.Nosql.md",wordsCount:579,readingTime:"2.1m",title:"Nosql",date:"2022-03-18T00:52:36.000Z",permalink:"/pages/4a12e8/",categories:["åç«¯","SQL"],tags:[null]},{name:"Redis",filePath:"D:\\code\\vuepress-theme-vdoing\\docs\\åç«¯\\04.SQL\\22.Redis.md",wordsCount:"2.1k",readingTime:"8.5m",title:"Redis",date:"2022-03-18T00:52:36.000Z",permalink:"/pages/a002c8/",categories:["åç«¯","SQL"],tags:[null]},{name:"Redisé«çº§",filePath:"D:\\code\\vuepress-theme-vdoing\\docs\\åç«¯\\04.SQL\\23.Redisé«çº§.md",wordsCount:"6.4k",readingTime:"24.3m",title:"Redisé«çº§",date:"2022-03-18T00:52:36.000Z",permalink:"/pages/4e4f7f/",categories:["åç«¯","SQL"],tags:[null]},{name:"MongoDB",filePath:"D:\\code\\vuepress-theme-vdoing\\docs\\åç«¯\\04.SQL\\24.MongoDB.md",wordsCount:"15k",readingTime:"1h5m",title:"MongoDB",date:"2022-03-18T00:52:36.000Z",permalink:"/pages/e5cb41/",categories:["åç«¯","SQL"],tags:[null]},{name:"IDE",filePath:"D:\\code\\vuepress-theme-vdoing\\docs\\åç«¯\\05.Python\\01.IDE.md",wordsCount:71,readingTime:"1",title:"IDE",date:"2022-03-18T00:52:51.000Z",permalink:"/pages/35c9ab/",categories:["åç«¯","Python"],tags:[null]},{name:"close project",filePath:"D:\\code\\vuepress-theme-vdoing\\docs\\åç«¯\\05.Python\\02.close project.md",wordsCount:30,readingTime:"1",title:"close project",date:"2022-03-18T00:52:51.000Z",permalink:"/pages/0c7ca5/",categories:["åç«¯","Python"],tags:[null]},{name:"äº¤äºæ§ç¼ç¨",filePath:"D:\\code\\vuepress-theme-vdoing\\docs\\åç«¯\\05.Python\\03.äº¤äºæ§ç¼ç¨.md",wordsCount:48,readingTime:"1",title:"äº¤äºæ§ç¼ç¨",date:"2022-03-18T00:52:51.000Z",permalink:"/pages/ec9ba3/",categories:["åç«¯","Python"],tags:[null]},{name:"æ³¨é",filePath:"D:\\code\\vuepress-theme-vdoing\\docs\\åç«¯\\05.Python\\04.æ³¨é.md",wordsCount:54,readingTime:"1",title:"æ³¨é",date:"2022-03-18T00:52:51.000Z",permalink:"/pages/d37106/",categories:["åç«¯","Python"],tags:[null]},{name:"åéä»¥åæ°æ®ç±»å",filePath:"D:\\code\\vuepress-theme-vdoing\\docs\\åç«¯\\05.Python\\05.åéä»¥åæ°æ®ç±»å.md",wordsCount:198,readingTime:"1",title:"åéä»¥åæ°æ®ç±»å",date:"2022-03-18T00:52:51.000Z",permalink:"/pages/f3c5b0/",categories:["åç«¯","Python"],tags:[null]},{name:"åè¡¨ç±»å",filePath:"D:\\code\\vuepress-theme-vdoing\\docs\\åç«¯\\05.Python\\06.åè¡¨ç±»å.md",wordsCount:29,readingTime:"1",title:"åè¡¨ç±»å",date:"2022-03-18T00:52:51.000Z",permalink:"/pages/d7e80b/",categories:["åç«¯","Python"],tags:[null]},{name:"å­å¸ç±»å",filePath:"D:\\code\\vuepress-theme-vdoing\\docs\\åç«¯\\05.Python\\07.å­å¸ç±»å.md",wordsCount:60,readingTime:"1",title:"å­å¸ç±»å",date:"2022-03-18T00:52:51.000Z",permalink:"/pages/bbada7/",categories:["åç«¯","Python"],tags:[null]},{name:"éåç±»å",filePath:"D:\\code\\vuepress-theme-vdoing\\docs\\åç«¯\\05.Python\\08.éåç±»å.md",wordsCount:35,readingTime:"1",title:"éåç±»å",date:"2022-03-18T00:52:51.000Z",permalink:"/pages/11c241/",categories:["åç«¯","Python"],tags:[null]},{name:"åç»ç±»å",filePath:"D:\\code\\vuepress-theme-vdoing\\docs\\åç«¯\\05.Python\\09.åç»ç±»å.md",wordsCount:32,readingTime:"1",title:"åç»ç±»å",date:"2022-03-18T00:52:51.000Z",permalink:"/pages/684f07/",categories:["åç«¯","Python"],tags:[null]},{name:"æ¥çæ°æ®ç±»å",filePath:"D:\\code\\vuepress-theme-vdoing\\docs\\åç«¯\\05.Python\\10.æ¥çæ°æ®ç±»å.md",wordsCount:88,readingTime:"1",title:"æ¥çæ°æ®ç±»å",date:"2022-03-18T00:52:51.000Z",permalink:"/pages/1f8618/",categories:["åç«¯","Python"],tags:[null]},{name:"æ è¯ç¬¦",filePath:"D:\\code\\vuepress-theme-vdoing\\docs\\åç«¯\\05.Python\\11.æ è¯ç¬¦.md",wordsCount:219,readingTime:"1",title:"æ è¯ç¬¦",date:"2022-03-18T00:52:51.000Z",permalink:"/pages/d9c568/",categories:["åç«¯","Python"],tags:[null]},{name:"è¾åº",filePath:"D:\\code\\vuepress-theme-vdoing\\docs\\åç«¯\\05.Python\\12.è¾åº.md",wordsCount:115,readingTime:"1",title:"è¾åº",date:"2022-03-18T00:52:51.000Z",permalink:"/pages/1d58f1/",categories:["åç«¯","Python"],tags:[null]},{name:"è¾å¥",filePath:"D:\\code\\vuepress-theme-vdoing\\docs\\åç«¯\\05.Python\\13.è¾å¥.md",wordsCount:88,readingTime:"1",title:"è¾å¥",date:"2022-03-18T00:52:51.000Z",permalink:"/pages/c9ca02/",categories:["åç«¯","Python"],tags:[null]},{name:"äºè¿å¶ å«è¿å¶ åè¿å¶ åå­è¿å¶",filePath:"D:\\code\\vuepress-theme-vdoing\\docs\\åç«¯\\05.Python\\14.äºè¿å¶ å«è¿å¶ åè¿å¶ åå­è¿å¶.md",wordsCount:136,readingTime:"1",title:"äºè¿å¶ å«è¿å¶ åè¿å¶ åå­è¿å¶",date:"2022-03-18T00:52:51.000Z",permalink:"/pages/6019e1/",categories:["åç«¯","Python"],tags:[null]},{name:"è¿å¶è½¬æ¢",filePath:"D:\\code\\vuepress-theme-vdoing\\docs\\åç«¯\\05.Python\\15.è¿å¶è½¬æ¢.md",wordsCount:377,readingTime:"1.6m",title:"è¿å¶è½¬æ¢",date:"2022-03-18T00:52:51.000Z",permalink:"/pages/e533d0/",categories:["åç«¯","Python"],tags:[null]},{name:"binãoctãhexåç½®å½æ°",filePath:"D:\\code\\vuepress-theme-vdoing\\docs\\åç«¯\\05.Python\\16.binãoctãhexåç½®å½æ°.md",wordsCount:88,readingTime:"1",title:"binãoctãhexåç½®å½æ°",date:"2022-03-18T00:52:51.000Z",permalink:"/pages/1e0ec6/",categories:["åç«¯","Python"],tags:[null]},{name:"æ°æ®ç±»åçè½¬æ¢",filePath:"D:\\code\\vuepress-theme-vdoing\\docs\\åç«¯\\05.Python\\17.æ°æ®ç±»åçè½¬æ¢.md",wordsCount:443,readingTime:"1.6m",title:"æ°æ®ç±»åçè½¬æ¢",date:"2022-03-18T00:52:51.000Z",permalink:"/pages/ebc10c/",categories:["åç«¯","Python"],tags:[null]},{name:"ç®æ°è¿ç®ç¬¦",filePath:"D:\\code\\vuepress-theme-vdoing\\docs\\åç«¯\\05.Python\\18.ç®æ°è¿ç®ç¬¦.md",wordsCount:630,readingTime:"2.4m",title:"ç®æ°è¿ç®ç¬¦",date:"2022-03-18T00:52:51.000Z",permalink:"/pages/acb0af/",categories:["åç«¯","Python"],tags:[null]},{name:"åå²",filePath:"D:\\code\\vuepress-theme-vdoing\\docs\\åç«¯\\05.Python\\19.åå².md",wordsCount:104,readingTime:"1",title:"åå²",date:"2022-03-18T00:52:52.000Z",permalink:"/pages/687726/",categories:["åç«¯","Python"],tags:[null]},{name:"äº¤æ¢åéçå¼",filePath:"D:\\code\\vuepress-theme-vdoing\\docs\\åç«¯\\05.Python\\20.äº¤æ¢åéçå¼.md",wordsCount:82,readingTime:"1",title:"äº¤æ¢åéçå¼",date:"2022-03-18T00:52:52.000Z",permalink:"/pages/c13570/",categories:["åç«¯","Python"],tags:[null]},{name:"æå4ä½æ°çåä½æ°",filePath:"D:\\code\\vuepress-theme-vdoing\\docs\\åç«¯\\05.Python\\21.æå4ä½æ°çåä½æ°.md",wordsCount:90,readingTime:"1",title:"æå4ä½æ°çåä½æ°",date:"2022-03-18T00:52:52.000Z",permalink:"/pages/a15165/",categories:["åç«¯","Python"],tags:[null]},{name:"é¸¡ååç¬¼",filePath:"D:\\code\\vuepress-theme-vdoing\\docs\\åç«¯\\05.Python\\22.é¸¡ååç¬¼.md",wordsCount:161,readingTime:"1",title:"é¸¡ååç¬¼",date:"2022-03-18T00:52:52.000Z",permalink:"/pages/4d8423/",categories:["åç«¯","Python"],tags:[null]},{name:"åçå¬å¼",filePath:"D:\\code\\vuepress-theme-vdoing\\docs\\åç«¯\\05.Python\\23.åçå¬å¼.md",wordsCount:64,readingTime:"1",title:"åçå¬å¼",date:"2022-03-18T00:52:52.000Z",permalink:"/pages/bc04ac/",categories:["åç«¯","Python"],tags:[null]},{name:"æ¯è¾è¿ç®ç¬¦",filePath:"D:\\code\\vuepress-theme-vdoing\\docs\\åç«¯\\05.Python\\24.æ¯è¾è¿ç®ç¬¦.md",wordsCount:204,readingTime:"1",title:"æ¯è¾è¿ç®ç¬¦",date:"2022-03-18T00:52:52.000Z",permalink:"/pages/661f38/",categories:["åç«¯","Python"],tags:[null]},{name:"é»è¾è¿ç®ç¬¦",filePath:"D:\\code\\vuepress-theme-vdoing\\docs\\åç«¯\\05.Python\\25.é»è¾è¿ç®ç¬¦.md",wordsCount:405,readingTime:"1.7m",title:"é»è¾è¿ç®ç¬¦",date:"2022-03-18T00:52:52.000Z",permalink:"/pages/70c3fd/",categories:["åç«¯","Python"],tags:[null]},{name:"ä½è¿ç®ç¬¦",filePath:"D:\\code\\vuepress-theme-vdoing\\docs\\åç«¯\\05.Python\\26.ä½è¿ç®ç¬¦.md",wordsCount:370,readingTime:"1.6m",title:"ä½è¿ç®ç¬¦",date:"2022-03-18T00:52:52.000Z",permalink:"/pages/8f779d/",categories:["åç«¯","Python"],tags:[null]},{name:"è¿ç®ç¬¦çä¼åçº§",filePath:"D:\\code\\vuepress-theme-vdoing\\docs\\åç«¯\\05.Python\\27.è¿ç®ç¬¦çä¼åçº§.md",wordsCount:82,readingTime:"1",title:"è¿ç®ç¬¦çä¼åçº§",date:"2022-03-18T00:52:52.000Z",permalink:"/pages/689d0c/",categories:["åç«¯","Python"],tags:[null]},{name:"if else  åæ¯ æ¡ä»¶å¤æ­è¯­å¥",filePath:"D:\\code\\vuepress-theme-vdoing\\docs\\åç«¯\\05.Python\\28.if else  åæ¯ æ¡ä»¶å¤æ­è¯­å¥.md",wordsCount:375,readingTime:"1.5m",title:"if else  åæ¯ æ¡ä»¶å¤æ­è¯­å¥",date:"2022-03-18T00:52:52.000Z",permalink:"/pages/0f98fb/",categories:["åç«¯","Python"],tags:[null]},{name:"if â¦elifâ¦elifçä½¿ç¨",filePath:"D:\\code\\vuepress-theme-vdoing\\docs\\åç«¯\\05.Python\\29.if â¦elifâ¦elifçä½¿ç¨.md",wordsCount:235,readingTime:"1m",title:"if â¦elifâ¦elifçä½¿ç¨",date:"2022-03-18T00:52:52.000Z",permalink:"/pages/9cbf41/",categories:["åç«¯","Python"],tags:[null]},{name:"ifä¸­çéæ§è½¬å",filePath:"D:\\code\\vuepress-theme-vdoing\\docs\\åç«¯\\05.Python\\30.ifä¸­çéæ§è½¬å.md",wordsCount:78,readingTime:"1",title:"ifä¸­çéæ§è½¬å",date:"2022-03-18T00:52:52.000Z",permalink:"/pages/a08b12/",categories:["åç«¯","Python"],tags:[null]},{name:"ä¸åè¡¨è¾¾å¼",filePath:"D:\\code\\vuepress-theme-vdoing\\docs\\åç«¯\\05.Python\\31.ä¸åè¡¨è¾¾å¼.md",wordsCount:97,readingTime:"1",title:"ä¸åè¡¨è¾¾å¼",date:"2022-03-18T00:52:52.000Z",permalink:"/pages/6be9fd/",categories:["åç«¯","Python"],tags:[null]},{name:"è°è¯ä»£ç (Debug)",filePath:"D:\\code\\vuepress-theme-vdoing\\docs\\åç«¯\\05.Python\\32.è°è¯ä»£ç (Debug).md",wordsCount:102,readingTime:"1",title:"è°è¯ä»£ç (Debug)",date:"2022-03-18T00:52:52.000Z",permalink:"/pages/921d6f/",categories:["åç«¯","Python"],tags:[null]},{name:"passè¯­å¥",filePath:"D:\\code\\vuepress-theme-vdoing\\docs\\åç«¯\\05.Python\\33.passè¯­å¥.md",wordsCount:95,readingTime:"1",title:"passè¯­å¥",date:"2022-03-18T00:52:52.000Z",permalink:"/pages/1f3eec/",categories:["åç«¯","Python"],tags:[null]},{name:"çæ³æ¸¸æ",filePath:"D:\\code\\vuepress-theme-vdoing\\docs\\åç«¯\\05.Python\\34.çæ³æ¸¸æ.md",wordsCount:153,readingTime:"1",title:"çæ³æ¸¸æ",date:"2022-03-18T00:52:52.000Z",permalink:"/pages/5f7ab5/",categories:["åç«¯","Python"],tags:[null]},{name:"éæºæ°",filePath:"D:\\code\\vuepress-theme-vdoing\\docs\\åç«¯\\05.Python\\35.éæºæ°.md",wordsCount:61,readingTime:"1",title:"éæºæ°",date:"2022-03-18T00:52:52.000Z",permalink:"/pages/559847/",categories:["åç«¯","Python"],tags:[null]},{name:"å¾ªç¯",filePath:"D:\\code\\vuepress-theme-vdoing\\docs\\åç«¯\\05.Python\\36.å¾ªç¯.md",wordsCount:664,readingTime:"2.8m",title:"å¾ªç¯",date:"2022-03-18T00:52:52.000Z",permalink:"/pages/aed4d8/",categories:["åç«¯","Python"],tags:[null]},{name:"range çä½¿ç¨",filePath:"D:\\code\\vuepress-theme-vdoing\\docs\\åç«¯\\05.Python\\37.range çä½¿ç¨.md",wordsCount:111,readingTime:"1",title:"range çä½¿ç¨",date:"2022-03-18T00:52:52.000Z",permalink:"/pages/6bc87f/",categories:["åç«¯","Python"],tags:[null]},{name:"å¿«æ·é®",filePath:"D:\\code\\vuepress-theme-vdoing\\docs\\åç«¯\\05.Python\\38.å¿«æ·é®.md",wordsCount:80,readingTime:"1",title:"å¿«æ·é®",date:"2022-03-18T00:52:52.000Z",permalink:"/pages/d3bc75/",categories:["åç«¯","Python"],tags:[null]},{name:"æ´æ¹æä¸ªåéå¨é¨ä»£ç ",filePath:"D:\\code\\vuepress-theme-vdoing\\docs\\åç«¯\\05.Python\\39.æ´æ¹æä¸ªåéå¨é¨ä»£ç .md",wordsCount:47,readingTime:"1",title:"æ´æ¹æä¸ªåéå¨é¨ä»£ç ",date:"2022-03-18T00:52:50.000Z",permalink:"/pages/2d9020/",categories:["åç«¯","Python"],tags:[null]},{name:"request",filePath:"D:\\code\\vuepress-theme-vdoing\\docs\\åç«¯\\07.Pythonæ¨¡å\\01.request.md",wordsCount:690,readingTime:"3.1m",title:"request",date:"2022-03-18T00:53:25.000Z",permalink:"/pages/cf7131/",categories:["åç«¯","Pythonæ¨¡å"],tags:[null]},{name:"Beautifulsoup4",filePath:"D:\\code\\vuepress-theme-vdoing\\docs\\åç«¯\\07.Pythonæ¨¡å\\02.Beautifulsoup4.md",wordsCount:"2.3k",readingTime:"11.1m",title:"Beautifulsoup4",date:"2022-03-18T00:53:25.000Z",permalink:"/pages/f14379/",categories:["åç«¯","Pythonæ¨¡å"],tags:[null]},{name:"re æ­£åè¡¨è¾¾å¼",filePath:"D:\\code\\vuepress-theme-vdoing\\docs\\åç«¯\\07.Pythonæ¨¡å\\03.re æ­£åè¡¨è¾¾å¼.md",wordsCount:"1.5k",readingTime:"5.6m",title:"re æ­£åè¡¨è¾¾å¼",date:"2022-03-18T00:53:25.000Z",permalink:"/pages/a3d900/",categories:["åç«¯","Pythonæ¨¡å"],tags:[null]},{name:"jieba",filePath:"D:\\code\\vuepress-theme-vdoing\\docs\\åç«¯\\07.Pythonæ¨¡å\\04.jieba.md",wordsCount:646,readingTime:"2.7m",title:"jieba",date:"2022-03-18T00:53:25.000Z",permalink:"/pages/4ab7a0/",categories:["åç«¯","Pythonæ¨¡å"],tags:[null]},{name:"pymysql  æ°æ®åºè°ç¨",filePath:"D:\\code\\vuepress-theme-vdoing\\docs\\åç«¯\\07.Pythonæ¨¡å\\05.pymysql  æ°æ®åºè°ç¨.md",wordsCount:251,readingTime:"1.2m",title:"pymysql  æ°æ®åºè°ç¨",date:"2022-03-18T00:53:25.000Z",permalink:"/pages/f8134b/",categories:["åç«¯","Pythonæ¨¡å"],tags:[null]},{name:"selenium",filePath:"D:\\code\\vuepress-theme-vdoing\\docs\\åç«¯\\07.Pythonæ¨¡å\\06.selenium.md",wordsCount:202,readingTime:"1",title:"selenium",date:"2022-03-18T00:53:25.000Z",permalink:"/pages/34405e/",categories:["åç«¯","Pythonæ¨¡å"],tags:[null]},{name:"time",filePath:"D:\\code\\vuepress-theme-vdoing\\docs\\åç«¯\\07.Pythonæ¨¡å\\07.time.md",wordsCount:203,readingTime:"1m",title:"time",date:"2022-03-18T00:53:26.000Z",permalink:"/pages/fd5355/",categories:["åç«¯","Pythonæ¨¡å"],tags:[null]},{name:"Falsk",filePath:"D:\\code\\vuepress-theme-vdoing\\docs\\åç«¯\\07.Pythonæ¨¡å\\08.Falsk.md",wordsCount:65,readingTime:"1",title:"Falsk",date:"2022-03-18T00:53:26.000Z",permalink:"/pages/a6ad03/",categories:["åç«¯","Pythonæ¨¡å"],tags:[null]},{name:"æºå¨å­¦ä¹ ",filePath:"D:\\code\\vuepress-theme-vdoing\\docs\\åç«¯\\08.æºå¨å­¦ä¹ \\01.æºå¨å­¦ä¹ .md",wordsCount:696,readingTime:"2.9m",title:"æºå¨å­¦ä¹ ",date:"2022-03-18T00:53:49.000Z",permalink:"/pages/ddf9fb/",categories:["åç«¯","æºå¨å­¦ä¹ "],tags:[null]},{name:"matplotlib",filePath:"D:\\code\\vuepress-theme-vdoing\\docs\\åç«¯\\08.æºå¨å­¦ä¹ \\02.matplotlib.md",wordsCount:"1.4k",readingTime:"7.2m",title:"matplotlib",date:"2022-03-18T00:53:49.000Z",permalink:"/pages/9e1ba1/",categories:["åç«¯","æºå¨å­¦ä¹ "],tags:[null]},{name:"Numpy",filePath:"D:\\code\\vuepress-theme-vdoing\\docs\\åç«¯\\08.æºå¨å­¦ä¹ \\03.Numpy.md",wordsCount:"2.7k",readingTime:"11.1m",title:"Numpy",date:"2022-03-18T00:53:49.000Z",permalink:"/pages/a58615/",categories:["åç«¯","æºå¨å­¦ä¹ "],tags:[null]},{name:"Pandas",filePath:"D:\\code\\vuepress-theme-vdoing\\docs\\åç«¯\\08.æºå¨å­¦ä¹ \\04.Pandas.md",wordsCount:"7k",readingTime:"31.8m",title:"Pandas",date:"2022-03-18T00:53:49.000Z",permalink:"/pages/3f7274/",categories:["åç«¯","æºå¨å­¦ä¹ "],tags:[null]},{name:"Hadoop",filePath:"D:\\code\\vuepress-theme-vdoing\\docs\\å¤§æ°æ®\\01.Hadoop\\01.Hadoop.md",wordsCount:374,readingTime:"1.5m",title:"Hadoop",date:"2022-03-17T21:41:51.000Z",permalink:"/pages/8e0c98/",categories:["Hadoop"],tags:["Hadoop"]},{name:"ç¯å¢å®è£",filePath:"D:\\code\\vuepress-theme-vdoing\\docs\\å¤§æ°æ®\\01.Hadoop\\02.ç¯å¢å®è£.md",wordsCount:"2.5k",readingTime:"12.4m",title:"ç¯å¢å®è£",date:"2022-03-17T21:41:51.000Z",permalink:"/pages/083fca/",categories:["Hadoop"],tags:[null]},{name:"HDFS",filePath:"D:\\code\\vuepress-theme-vdoing\\docs\\å¤§æ°æ®\\01.Hadoop\\03.HDFS.md",wordsCount:545,readingTime:"2.3m",title:"HDFS",date:"2022-03-17T21:41:51.000Z",permalink:"/pages/7afcbc/",categories:["Hadoop"],tags:[null]},{name:"winutils",filePath:"D:\\code\\vuepress-theme-vdoing\\docs\\å¤§æ°æ®\\01.Hadoop\\04.winutils.md",wordsCount:86,readingTime:"1",title:"winutils",date:"2022-03-17T21:41:51.000Z",permalink:"/pages/981612/",categories:["Hadoop"],tags:[null]},{name:"IDEAä¸­åå»ºhadoopé¡¹ç®",filePath:"D:\\code\\vuepress-theme-vdoing\\docs\\å¤§æ°æ®\\01.Hadoop\\05.IDEAä¸­åå»ºhadoopé¡¹ç®.md",wordsCount:205,readingTime:"1.1m",title:"IDEAä¸­åå»ºhadoopé¡¹ç®",date:"2022-03-17T21:41:51.000Z",permalink:"/pages/7e6b01/",categories:["Hadoop"],tags:[null]},{name:"javaæä½",filePath:"D:\\code\\vuepress-theme-vdoing\\docs\\å¤§æ°æ®\\01.Hadoop\\06.javaæä½.md",wordsCount:365,readingTime:"1.7m",title:"javaæä½",date:"2022-03-17T21:41:51.000Z",permalink:"/pages/9ce9a0/",categories:["Hadoop"],tags:[null]},{name:"HDFSçæ°æ®æµ",filePath:"D:\\code\\vuepress-theme-vdoing\\docs\\å¤§æ°æ®\\01.Hadoop\\07.HDFSçæ°æ®æµ.md",wordsCount:294,readingTime:"1.2m",title:"HDFSçæ°æ®æµ",date:"2022-03-17T21:41:51.000Z",permalink:"/pages/bbfc59/",categories:["Hadoop"],tags:[null]},{name:"NameNode å·¥ä½æºå¶",filePath:"D:\\code\\vuepress-theme-vdoing\\docs\\å¤§æ°æ®\\01.Hadoop\\08.NameNode å·¥ä½æºå¶.md",wordsCount:301,readingTime:"1.4m",title:"NameNode å·¥ä½æºå¶",date:"2022-03-17T21:41:51.000Z",permalink:"/pages/785074/",categories:["Hadoop"],tags:[null]},{name:"DataNode",filePath:"D:\\code\\vuepress-theme-vdoing\\docs\\å¤§æ°æ®\\01.Hadoop\\09.DataNode.md",wordsCount:555,readingTime:"2.6m",title:"DataNode",date:"2022-03-17T21:41:51.000Z",permalink:"/pages/49d0d4/",categories:["Hadoop"],tags:[null]},{name:"MapReduce",filePath:"D:\\code\\vuepress-theme-vdoing\\docs\\å¤§æ°æ®\\01.Hadoop\\10.MapReduce.md",wordsCount:"1.5k",readingTime:"7.7m",title:"MapReduce",date:"2022-03-17T21:41:51.000Z",permalink:"/pages/070d96/",categories:["Hadoop"],tags:[null]},{name:"MapReduceåç",filePath:"D:\\code\\vuepress-theme-vdoing\\docs\\å¤§æ°æ®\\01.Hadoop\\11.MapReduceåç.md",wordsCount:"7k",readingTime:"34.9m",title:"MapReduceåç",date:"2022-03-17T21:41:51.000Z",permalink:"/pages/65db7d/",categories:["Hadoop"],tags:[null]},{name:"Yarn",filePath:"D:\\code\\vuepress-theme-vdoing\\docs\\å¤§æ°æ®\\01.Hadoop\\12.Yarn.md",wordsCount:"2k",readingTime:"9.6m",title:"Yarn",date:"2022-03-17T21:41:51.000Z",permalink:"/pages/89b57e/",categories:["Hadoop"],tags:[null]},{name:"Hadoopä¼ä¸ä¼å",filePath:"D:\\code\\vuepress-theme-vdoing\\docs\\å¤§æ°æ®\\01.Hadoop\\13.Hadoopä¼ä¸ä¼å.md",wordsCount:"1.1k",readingTime:"4.4m",title:"Hadoopä¼ä¸ä¼å",date:"2022-03-17T21:41:51.000Z",permalink:"/pages/ce529c/",categories:["Hadoop"],tags:[null]},{name:"Hadoop æ°ç¹æ§",filePath:"D:\\code\\vuepress-theme-vdoing\\docs\\å¤§æ°æ®\\01.Hadoop\\14.Hadoop æ°ç¹æ§.md",wordsCount:504,readingTime:"2.3m",title:"Hadoop æ°ç¹æ§",date:"2022-03-17T21:41:51.000Z",permalink:"/pages/8dd6c9/",categories:["Hadoop"],tags:[null]},{name:"æ¥å¿",filePath:"D:\\code\\vuepress-theme-vdoing\\docs\\å¤§æ°æ®\\01.Hadoop\\15.æ¥å¿.md",wordsCount:170,readingTime:"1",title:"æ¥å¿",date:"2022-03-17T21:41:51.000Z",permalink:"/pages/1cc354/",categories:["Hadoop"],tags:[null]},{name:"Hadoop HAé«å¯ç¨",filePath:"D:\\code\\vuepress-theme-vdoing\\docs\\å¤§æ°æ®\\01.Hadoop\\16.Hadoop HAé«å¯ç¨.md",wordsCount:"1.9k",readingTime:"8.5m",title:"Hadoop HAé«å¯ç¨",date:"2022-03-17T21:41:51.000Z",permalink:"/pages/0dc6f9/",categories:["Hadoop"],tags:[null]},{name:"æ¦è¿°",filePath:"D:\\code\\vuepress-theme-vdoing\\docs\\å¤§æ°æ®\\02.Zookeeper\\01.æ¦è¿°.md",wordsCount:90,readingTime:"1",title:"æ¦è¿°",date:"2022-03-17T22:07:07.000Z",permalink:"/pages/f38fc8/",categories:["å¤§æ°æ®","Zookeeper"],tags:[null]},{name:"éç¾¤æ­å»º",filePath:"D:\\code\\vuepress-theme-vdoing\\docs\\å¤§æ°æ®\\02.Zookeeper\\02.éç¾¤æ­å»º.md",wordsCount:272,readingTime:"1.3m",title:"éç¾¤æ­å»º",date:"2022-03-17T22:07:07.000Z",permalink:"/pages/1597a2/",categories:["å¤§æ°æ®","Zookeeper"],tags:[null]},{name:"å®¢æ·ç«¯å½ä»¤è¡æä½",filePath:"D:\\code\\vuepress-theme-vdoing\\docs\\å¤§æ°æ®\\02.Zookeeper\\03.å®¢æ·ç«¯å½ä»¤è¡æä½.md",wordsCount:219,readingTime:"1",title:"å®¢æ·ç«¯å½ä»¤è¡æä½",date:"2022-03-17T22:07:07.000Z",permalink:"/pages/be648b/",categories:["å¤§æ°æ®","Zookeeper"],tags:[null]},{name:"åé¨åç",filePath:"D:\\code\\vuepress-theme-vdoing\\docs\\å¤§æ°æ®\\02.Zookeeper\\04.åé¨åç.md",wordsCount:909,readingTime:"3.5m",title:"åé¨åç",date:"2022-03-17T22:07:07.000Z",permalink:"/pages/75493d/",categories:["å¤§æ°æ®","Zookeeper"],tags:[null]},{name:"Api",filePath:"D:\\code\\vuepress-theme-vdoing\\docs\\å¤§æ°æ®\\02.Zookeeper\\05.Api.md",wordsCount:506,readingTime:"2.8m",title:"Api",date:"2022-03-17T22:07:07.000Z",permalink:"/pages/4a9c91/",categories:["å¤§æ°æ®","Zookeeper"],tags:[null]},{name:"ä»ç»",filePath:"D:\\code\\vuepress-theme-vdoing\\docs\\å¤§æ°æ®\\03.Hive\\01.ä»ç».md",wordsCount:97,readingTime:"1",title:"ä»ç»",date:"2022-03-17T22:07:27.000Z",permalink:"/pages/2315d6/",categories:["å¤§æ°æ®","Hive"],tags:[null]},{name:"ç¯å¢",filePath:"D:\\code\\vuepress-theme-vdoing\\docs\\å¤§æ°æ®\\03.Hive\\02.ç¯å¢.md",wordsCount:"1.9k",readingTime:"10.3m",title:"ç¯å¢",date:"2022-03-17T22:07:27.000Z",permalink:"/pages/66f25c/",categories:["å¤§æ°æ®","Hive"],tags:[null]},{name:"DBeaver",filePath:"D:\\code\\vuepress-theme-vdoing\\docs\\å¤§æ°æ®\\03.Hive\\03.DBeaver.md",wordsCount:81,readingTime:"1",title:"DBeaver",date:"2022-03-17T22:07:27.000Z",permalink:"/pages/5a826b/",categories:["å¤§æ°æ®","Hive"],tags:[null]},{name:"Hive ç±»å",filePath:"D:\\code\\vuepress-theme-vdoing\\docs\\å¤§æ°æ®\\03.Hive\\04.Hive ç±»å.md",wordsCount:872,readingTime:"3.7m",title:"Hive ç±»å",date:"2022-03-17T22:07:27.000Z",permalink:"/pages/f55408/",categories:["å¤§æ°æ®","Hive"],tags:[null]},{name:"Hive å®¢æ·ç«¯å½ä»¤",filePath:"D:\\code\\vuepress-theme-vdoing\\docs\\å¤§æ°æ®\\03.Hive\\05.Hive å®¢æ·ç«¯å½ä»¤.md",wordsCount:522,readingTime:"2.2m",title:"Hive å®¢æ·ç«¯å½ä»¤",date:"2022-03-17T22:07:27.000Z",permalink:"/pages/6652e3/",categories:["å¤§æ°æ®","Hive"],tags:[null]},{name:"DDLæ°æ®å®ä¹",filePath:"D:\\code\\vuepress-theme-vdoing\\docs\\å¤§æ°æ®\\03.Hive\\06.DDLæ°æ®å®ä¹.md",wordsCount:"1.8k",readingTime:"7.5m",title:"DDLæ°æ®å®ä¹",date:"2022-03-17T22:07:27.000Z",permalink:"/pages/675adb/",categories:["å¤§æ°æ®","Hive"],tags:[null]},{name:"DML",filePath:"D:\\code\\vuepress-theme-vdoing\\docs\\å¤§æ°æ®\\03.Hive\\07.DML.md",wordsCount:566,readingTime:"2.5m",title:"DML",date:"2022-03-17T22:07:27.000Z",permalink:"/pages/ff1fce/",categories:["å¤§æ°æ®","Hive"],tags:[null]},{name:"æ¥è¯¢",filePath:"D:\\code\\vuepress-theme-vdoing\\docs\\å¤§æ°æ®\\03.Hive\\08.æ¥è¯¢.md",wordsCount:"2.3k",readingTime:"9.8m",title:"æ¥è¯¢",date:"2022-03-17T22:07:27.000Z",permalink:"/pages/73e227/",categories:["å¤§æ°æ®","Hive"],tags:[null]},{name:"å½æ°",filePath:"D:\\code\\vuepress-theme-vdoing\\docs\\å¤§æ°æ®\\03.Hive\\09.å½æ°.md",wordsCount:"2k",readingTime:"8.9m",title:"å½æ°",date:"2022-03-17T22:07:27.000Z",permalink:"/pages/8f0a49/",categories:["å¤§æ°æ®","Hive"],tags:[null]},{name:"èªå®ä¹å½æ°",filePath:"D:\\code\\vuepress-theme-vdoing\\docs\\å¤§æ°æ®\\03.Hive\\10.èªå®ä¹å½æ°.md",wordsCount:528,readingTime:"2.6m",title:"èªå®ä¹å½æ°",date:"2022-03-17T22:07:28.000Z",permalink:"/pages/b1e5c6/",categories:["å¤§æ°æ®","Hive"],tags:[null]},{name:"åç¼©åå­å¨",filePath:"D:\\code\\vuepress-theme-vdoing\\docs\\å¤§æ°æ®\\03.Hive\\11.åç¼©åå­å¨.md",wordsCount:"1.6k",readingTime:"7.1m",title:"åç¼©åå­å¨",date:"2022-03-17T22:07:28.000Z",permalink:"/pages/9c39ac/",categories:["å¤§æ°æ®","Hive"],tags:[null]},{name:"ä¼ä¸ä¼å",filePath:"D:\\code\\vuepress-theme-vdoing\\docs\\å¤§æ°æ®\\03.Hive\\12.ä¼ä¸ä¼å.md",wordsCount:"1.8k",readingTime:"7.8m",title:"ä¼ä¸ä¼å",date:"2022-03-17T22:07:28.000Z",permalink:"/pages/447a54/",categories:["å¤§æ°æ®","Hive"],tags:[null]},{name:"Hiveå®æ",filePath:"D:\\code\\vuepress-theme-vdoing\\docs\\å¤§æ°æ®\\03.Hive\\13.Hiveå®æ.md",wordsCount:"2.3k",readingTime:"11.3m",title:"Hiveå®æ",date:"2022-03-17T22:07:27.000Z",permalink:"/pages/1aa014/",categories:["å¤§æ°æ®","Hive"],tags:[null]},{name:"Flume",filePath:"D:\\code\\vuepress-theme-vdoing\\docs\\å¤§æ°æ®\\04.Flume\\01.Flume.md",wordsCount:77,readingTime:"1",title:"Flume",date:"2022-03-17T22:07:46.000Z",permalink:"/pages/b084db/",categories:["å¤§æ°æ®","Flume"],tags:[null]},{name:"Flimeåºç¡æ¶æ",filePath:"D:\\code\\vuepress-theme-vdoing\\docs\\å¤§æ°æ®\\04.Flume\\02.Flimeåºç¡æ¶æ.md",wordsCount:448,readingTime:"1.8m",title:"Flimeåºç¡æ¶æ",date:"2022-03-17T22:07:46.000Z",permalink:"/pages/f8bd8e/",categories:["å¤§æ°æ®","Flume"],tags:[null]},{name:"Flumeå®è£",filePath:"D:\\code\\vuepress-theme-vdoing\\docs\\å¤§æ°æ®\\04.Flume\\03.Flumeå®è£.md",wordsCount:251,readingTime:"1.2m",title:"Flumeå®è£",date:"2022-03-17T22:07:46.000Z",permalink:"/pages/e462b7/",categories:["å¤§æ°æ®","Flume"],tags:[null]},{name:"å¥é¨æ¡ä¾",filePath:"D:\\code\\vuepress-theme-vdoing\\docs\\å¤§æ°æ®\\04.Flume\\04.å¥é¨æ¡ä¾.md",wordsCount:"2.2k",readingTime:"10.1m",title:"å¥é¨æ¡ä¾",date:"2022-03-17T22:07:46.000Z",permalink:"/pages/c12064/",categories:["å¤§æ°æ®","Flume"],tags:[null]},{name:"Flume è¿é¶",filePath:"D:\\code\\vuepress-theme-vdoing\\docs\\å¤§æ°æ®\\04.Flume\\05.Flume è¿é¶.md",wordsCount:"2.5k",readingTime:"11.9m",title:"Flume è¿é¶",date:"2022-03-17T22:07:46.000Z",permalink:"/pages/6a0c06/",categories:["å¤§æ°æ®","Flume"],tags:[null]},{name:"èªå®ä¹ç»ä»¶",filePath:"D:\\code\\vuepress-theme-vdoing\\docs\\å¤§æ°æ®\\04.Flume\\06.èªå®ä¹ç»ä»¶.md",wordsCount:"2.3k",readingTime:"11.2m",title:"èªå®ä¹ç»ä»¶",date:"2022-03-17T22:07:46.000Z",permalink:"/pages/8e2fbd/",categories:["å¤§æ°æ®","Flume"],tags:[null]},{name:"é¢è¯é¢",filePath:"D:\\code\\vuepress-theme-vdoing\\docs\\å¤§æ°æ®\\04.Flume\\07.é¢è¯é¢.md",wordsCount:907,readingTime:"3.4m",title:"é¢è¯é¢",date:"2022-03-17T22:07:46.000Z",permalink:"/pages/800f9f/",categories:["å¤§æ°æ®","Flume"],tags:[null]},{name:"Kafka",filePath:"D:\\code\\vuepress-theme-vdoing\\docs\\å¤§æ°æ®\\05.Kafka\\01.Kafka.md",wordsCount:267,readingTime:"1",title:"Kafka",date:"2022-03-17T22:08:02.000Z",permalink:"/pages/872cdc/",categories:["å¤§æ°æ®","Kafka"],tags:[null]},{name:"æ¶æ",filePath:"D:\\code\\vuepress-theme-vdoing\\docs\\å¤§æ°æ®\\05.Kafka\\02.æ¶æ.md",wordsCount:724,readingTime:"2.7m",title:"æ¶æ",date:"2022-03-17T22:08:02.000Z",permalink:"/pages/3c04a9/",categories:["å¤§æ°æ®","Kafka"],tags:[null]},{name:"Kafka å®è£",filePath:"D:\\code\\vuepress-theme-vdoing\\docs\\å¤§æ°æ®\\05.Kafka\\03.Kafka å®è£.md",wordsCount:473,readingTime:"2.3m",title:"Kafka å®è£",date:"2022-03-17T22:08:02.000Z",permalink:"/pages/6bd0d7/",categories:["å¤§æ°æ®","Kafka"],tags:[null]},{name:"å½ä»¤æä½",filePath:"D:\\code\\vuepress-theme-vdoing\\docs\\å¤§æ°æ®\\05.Kafka\\04.å½ä»¤æä½.md",wordsCount:300,readingTime:"1.4m",title:"å½ä»¤æä½",date:"2022-03-17T22:08:02.000Z",permalink:"/pages/ab6220/",categories:["å¤§æ°æ®","Kafka"],tags:[null]},{name:"Kafkaåç",filePath:"D:\\code\\vuepress-theme-vdoing\\docs\\å¤§æ°æ®\\05.Kafka\\05.Kafkaåç.md",wordsCount:"3.4k",readingTime:"12.9m",title:"Kafkaåç",date:"2022-03-17T22:08:02.000Z",permalink:"/pages/6c830a/",categories:["å¤§æ°æ®","Kafka"],tags:[null]},{name:"Kafka API",filePath:"D:\\code\\vuepress-theme-vdoing\\docs\\å¤§æ°æ®\\05.Kafka\\06.Kafka API.md",wordsCount:"2.8k",readingTime:"13.7m",title:"Kafka API",date:"2022-03-17T22:08:02.000Z",permalink:"/pages/939509/",categories:["å¤§æ°æ®","Kafka"],tags:[null]},{name:"Flume å¯¹æ¥ Kafka",filePath:"D:\\code\\vuepress-theme-vdoing\\docs\\å¤§æ°æ®\\05.Kafka\\07.Flume å¯¹æ¥ Kafka.md",wordsCount:202,readingTime:"1.1m",title:"Flume å¯¹æ¥ Kafka",date:"2022-03-17T22:08:02.000Z",permalink:"/pages/cf0e70/",categories:["å¤§æ°æ®","Kafka"],tags:[null]},{name:"Kafkaçæ§",filePath:"D:\\code\\vuepress-theme-vdoing\\docs\\å¤§æ°æ®\\05.Kafka\\08.Kafkaçæ§.md",wordsCount:596,readingTime:"3.3m",title:"Kafkaçæ§",date:"2022-03-17T22:08:02.000Z",permalink:"/pages/f5b30c/",categories:["å¤§æ°æ®","Kafka"],tags:[null]},{name:"Kafkaé¢è¯é¢",filePath:"D:\\code\\vuepress-theme-vdoing\\docs\\å¤§æ°æ®\\05.Kafka\\09.Kafkaé¢è¯é¢.md",wordsCount:826,readingTime:"3.2m",title:"Kafkaé¢è¯é¢",date:"2022-03-17T22:08:02.000Z",permalink:"/pages/cf96cc/",categories:["å¤§æ°æ®","Kafka"],tags:[null]},{name:"Azkaban",filePath:"D:\\code\\vuepress-theme-vdoing\\docs\\å¤§æ°æ®\\06.Azkaban\\01.Azkaban.md",wordsCount:80,readingTime:"1",title:"Azkaban",date:"2022-03-17T22:08:50.000Z",permalink:"/pages/bac882/",categories:["å¤§æ°æ®","Azkaban"],tags:[null]},{name:"ä»»å¡è°åº¦",filePath:"D:\\code\\vuepress-theme-vdoing\\docs\\å¤§æ°æ®\\06.Azkaban\\02.ä»»å¡è°åº¦.md",wordsCount:194,readingTime:"1",title:"ä»»å¡è°åº¦",date:"2022-03-17T22:08:50.000Z",permalink:"/pages/c7cfc3/",categories:["å¤§æ°æ®","Azkaban"],tags:[null]},{name:"å®è£",filePath:"D:\\code\\vuepress-theme-vdoing\\docs\\å¤§æ°æ®\\06.Azkaban\\03.å®è£.md",wordsCount:875,readingTime:"4.2m",title:"å®è£",date:"2022-03-17T22:08:50.000Z",permalink:"/pages/394c5d/",categories:["å¤§æ°æ®","Azkaban"],tags:[null]},{name:"Azkabanå®æ",filePath:"D:\\code\\vuepress-theme-vdoing\\docs\\å¤§æ°æ®\\06.Azkaban\\04.Azkabanå®æ.md",wordsCount:347,readingTime:"1.8m",title:"Azkabanå®æ",date:"2022-03-17T22:08:50.000Z",permalink:"/pages/4ff79d/",categories:["å¤§æ°æ®","Azkaban"],tags:[null]},{name:"Hbase",filePath:"D:\\code\\vuepress-theme-vdoing\\docs\\å¤§æ°æ®\\07.Hbase\\01.Hbase.md",wordsCount:42,readingTime:"1",title:"Hbase",date:"2022-03-17T22:09:08.000Z",permalink:"/pages/310c39/",categories:["å¤§æ°æ®","Hbase"],tags:[null]},{name:"Hbaseæ°æ®æ¨¡å",filePath:"D:\\code\\vuepress-theme-vdoing\\docs\\å¤§æ°æ®\\07.Hbase\\02.Hbaseæ°æ®æ¨¡å.md",wordsCount:621,readingTime:"2.4m",title:"Hbaseæ°æ®æ¨¡å",date:"2022-03-17T22:09:08.000Z",permalink:"/pages/817c32/",categories:["å¤§æ°æ®","Hbase"],tags:[null]},{name:"Hbase å®è£",filePath:"D:\\code\\vuepress-theme-vdoing\\docs\\å¤§æ°æ®\\07.Hbase\\03.Hbase å®è£.md",wordsCount:494,readingTime:"2.5m",title:"Hbase å®è£",date:"2022-03-17T22:09:08.000Z",permalink:"/pages/a8d091/",categories:["å¤§æ°æ®","Hbase"],tags:[null]},{name:"Hbase shell",filePath:"D:\\code\\vuepress-theme-vdoing\\docs\\å¤§æ°æ®\\07.Hbase\\04.Hbase shell.md",wordsCount:352,readingTime:"1.5m",title:"Hbase shell",date:"2022-03-17T22:09:08.000Z",permalink:"/pages/73c948/",categories:["å¤§æ°æ®","Hbase"],tags:[null]},{name:"Hbaseåç",filePath:"D:\\code\\vuepress-theme-vdoing\\docs\\å¤§æ°æ®\\07.Hbase\\05.Hbaseåç.md",wordsCount:"1.5k",readingTime:"6m",title:"Hbaseåç",date:"2022-03-17T22:09:08.000Z",permalink:"/pages/ec28f2/",categories:["å¤§æ°æ®","Hbase"],tags:[null]},{name:"Phoenix",filePath:"D:\\code\\vuepress-theme-vdoing\\docs\\å¤§æ°æ®\\07.Hbase\\06.Phoenix.md",wordsCount:"2.5k",readingTime:"11.2m",title:"Phoenix",date:"2022-03-17T22:09:08.000Z",permalink:"/pages/6dd88b/",categories:["å¤§æ°æ®","Hbase"],tags:[null]},{name:"Hbaseä¸Hiveçéæ",filePath:"D:\\code\\vuepress-theme-vdoing\\docs\\å¤§æ°æ®\\07.Hbase\\07.Hbaseä¸Hiveçéæ.md",wordsCount:732,readingTime:"3.3m",title:"Hbaseä¸Hiveçéæ",date:"2022-03-17T22:09:08.000Z",permalink:"/pages/e654ab/",categories:["å¤§æ°æ®","Hbase"],tags:[null]},{name:"HBaseä¼å",filePath:"D:\\code\\vuepress-theme-vdoing\\docs\\å¤§æ°æ®\\07.Hbase\\08.HBaseä¼å.md",wordsCount:"1.5k",readingTime:"5.7m",title:"HBaseä¼å",date:"2022-03-17T22:09:08.000Z",permalink:"/pages/ce507c/",categories:["å¤§æ°æ®","Hbase"],tags:[null]},{name:"Scalaä»ç»",filePath:"D:\\code\\vuepress-theme-vdoing\\docs\\å¤§æ°æ®\\08.Scala\\01.Scalaä»ç».md",wordsCount:204,readingTime:"1",title:"Scalaä»ç»",date:"2022-03-17T22:09:38.000Z",permalink:"/pages/d2afbe/",categories:["å¤§æ°æ®","Scala"],tags:[null]},{name:"Scalaå¥é¨",filePath:"D:\\code\\vuepress-theme-vdoing\\docs\\å¤§æ°æ®\\08.Scala\\02.Scalaå¥é¨.md",wordsCount:534,readingTime:"2.3m",title:"Scalaå¥é¨",date:"2022-03-17T22:09:38.000Z",permalink:"/pages/a93b77/",categories:["å¤§æ°æ®","Scala"],tags:[null]},{name:"æµç¨æ§å¶",filePath:"D:\\code\\vuepress-theme-vdoing\\docs\\å¤§æ°æ®\\08.Scala\\03.æµç¨æ§å¶.md",wordsCount:785,readingTime:"3.5m",title:"æµç¨æ§å¶",date:"2022-03-17T22:09:38.000Z",permalink:"/pages/8b0acc/",categories:["å¤§æ°æ®","Scala"],tags:[null]},{name:"å½æ°å¼ç¼ç¨",filePath:"D:\\code\\vuepress-theme-vdoing\\docs\\å¤§æ°æ®\\08.Scala\\04.å½æ°å¼ç¼ç¨.md",wordsCount:"2.6k",readingTime:"10.8m",title:"å½æ°å¼ç¼ç¨",date:"2022-03-17T22:09:38.000Z",permalink:"/pages/b7cb84/",categories:["å¤§æ°æ®","Scala"],tags:[null]},{name:"Spark",filePath:"D:\\code\\vuepress-theme-vdoing\\docs\\å¤§æ°æ®\\09.Spark\\01.Spark.md",wordsCount:549,readingTime:"2.1m",title:"Spark",date:"2022-03-17T22:09:51.000Z",permalink:"/pages/cc783e/",categories:["å¤§æ°æ®","Spark"],tags:[null]},{name:"Spark å¥é¨",filePath:"D:\\code\\vuepress-theme-vdoing\\docs\\å¤§æ°æ®\\09.Spark\\02.Spark å¥é¨.md",wordsCount:"4k",readingTime:"18.9m",title:"Spark å¥é¨",date:"2022-03-17T22:09:51.000Z",permalink:"/pages/3223e3/",categories:["å¤§æ°æ®","Spark"],tags:[null]},{name:"SprakCore",filePath:"D:\\code\\vuepress-theme-vdoing\\docs\\å¤§æ°æ®\\09.Spark\\03.SprakCore.md",wordsCount:"1.7k",readingTime:"7.7m",title:"SprakCore",date:"2022-03-17T22:09:51.000Z",permalink:"/pages/a0eb57/",categories:["å¤§æ°æ®","Spark"],tags:[null]},{name:"SparkSQL",filePath:"D:\\code\\vuepress-theme-vdoing\\docs\\å¤§æ°æ®\\09.Spark\\04.SparkSQL.md",wordsCount:743,readingTime:"2.8m",title:"SparkSQL",date:"2022-03-17T22:09:51.000Z",permalink:"/pages/0de4e9/",categories:["å¤§æ°æ®","Spark"],tags:[null]}],mdFileCountType:"archives",totalWords:"archives",moutedEvent:".tags-wrapper",indexIteration:2500,pageIteration:2500},indexImg:{navColor:2,switchNavColor:!0,bgTimeColorArray:["transparent","transparent","transparent","transparent"],bgTimeColor:!0,descFade:!0,desc:["Iekrä¸ªäººåå®¢ï¼ç§¯è·¬æ­¥ä»¥è³åéï¼è´æ¬æ¯ä¸ªç±å­¦ä¹ çä½  ââ æ¥èª Evan Xu","æäºç±æä¹¦åï¼æç¨ç±ä½ è§è¯ï¼ä¼ å¥ç±å¥¹èå¬ ââ æ¥èª Young Kbt","è¿ä¸çæ³¢æ¾å£®éææ¯ä¸æé½æ²¡é®é¢ ââ æ¥èª Weibo"],descFontSize:"1.4rem",descFadeInTime:200,descFadeOutTime:100,descNextTime:800,bubble:!0,bubblePosition:0,bubbleNum:200}},locales:{"/":{lang:"zh-CN",title:"Chiriri's blog",description:"åç«¯ææ¯åå®¢,ä¸æ³¨åç«¯å­¦ä¹ ä¸æ»ç»ãJava,Spring,Scala,Hadoop,Spark,Flink,Python,Linux,Dockerç­ææ¯æç« ã",path:"/"}}},ll=(t(105),t(141)),cl=(t(159),t(143),t(224)),dl=t(225),pl=(t(237),t(239),t(45));var ul={computed:{$filterPosts:function(){return this.$site.pages.filter((function(n){var e=n.frontmatter,t=e.pageComponent,a=e.article,r=e.home;return!(t||!1===a||!0===r)}))},$sortPosts:function(){return(n=this.$filterPosts).sort((function(n,e){var t=n.frontmatter.sticky,a=e.frontmatter.sticky;return t&&a?t==a?Object(pl.a)(n,e):t-a:t&&!a?-1:!t&&a?1:Object(pl.a)(n,e)})),n;var n},$sortPostsByDate:function(){return(n=this.$filterPosts).sort((function(n,e){return Object(pl.a)(n,e)})),n;var n},$groupPosts:function(){return function(n){for(var e={},t={},a=function(a,r){var o=n[a].frontmatter,i=o.categories,s=o.tags;"array"===Object(pl.n)(i)&&i.forEach((function(t){t&&(e[t]||(e[t]=[]),e[t].push(n[a]))})),"array"===Object(pl.n)(s)&&s.forEach((function(e){e&&(t[e]||(t[e]=[]),t[e].push(n[a]))}))},r=0,o=n.length;r<o;r++)a(r);return{categories:e,tags:t}}(this.$sortPosts)},$categoriesAndTags:function(){return function(n){var e=[],t=[];for(var a in n.categories)e.push({key:a,length:n.categories[a].length});for(var r in n.tags)t.push({key:r,length:n.tags[r].length});return{categories:e,tags:t}}(this.$groupPosts)}}};Dr.component(cl.default),Dr.component(dl.default);function ml(n){return n.toString().padStart(2,"0")}t(381);Dr.component("Fantasy",(function(){return Promise.all([t.e(0),t.e(6)]).then(t.bind(null,505))})),Dr.component("BlockToggle",(function(){return Promise.all([t.e(0),t.e(5)]).then(t.bind(null,506))})),Dr.component("IndexBigImg",(function(){return Promise.all([t.e(0),t.e(4)]).then(t.bind(null,507))})),Dr.component("LastReadingPopup",(function(){return Promise.resolve().then(t.bind(null,141))})),Dr.component("CodeBlock",(function(){return Promise.resolve().then(t.bind(null,224))})),Dr.component("Badge",(function(){return Promise.all([t.e(0),t.e(7)]).then(t.bind(null,805))})),Dr.component("CodeGroup",(function(){return Promise.resolve().then(t.bind(null,225))}));t(382);var gl,hl,fl=t(51),vl=(t(385),t(139),t(223)),bl=t.n(vl),yl=t(103);"valine"===(hl="gitalk")?t.e(308).then(t.t.bind(null,500,7)).then((function(n){return n.default})):"gitalk"===hl&&Promise.all([t.e(0),t.e(307)]).then(t.t.bind(null,501,7)).then((function(){return t.e(306).then(t.t.bind(null,502,7))})).then((function(n){return gl=n.default}));function xl(n,e){var t={};return Reflect.ownKeys(n).forEach((function(a){if("string"==typeof n[a])try{t[a]=bl.a.render(n[a],e)}catch(e){console.warn('Comment config option error at key named "'.concat(a,'"')),console.warn("More info: ".concat(e.message)),t[a]=n[a]}else t[a]=n[a]})),t}console.log('How to use "'.concat("gitalk",'" in ').concat(yl.name,"@v").concat(yl.version,":"),yl.homepage);var kl={render:function(n,e){var t=document.createElement("div");t.id=e,document.querySelector("main.page").appendChild(t),new gl(xl({clientID:"a6e1355287947096b88b",clientSecret:"f0e77d070fabfcd5af95bebb82b2d574d7248d71",repo:"blog-gitalk-comment",owner:"iekr",admin:["iekr"],pagerDirection:"last",id:"<%- (frontmatter.permalink || frontmatter.to.path).slice(-16) %>",title:"ãè¯è®ºã<%- frontmatter.title %>",labels:["Gitalk","Comment"],body:"é¡µé¢ï¼<%- window.location.origin + (frontmatter.to.path || window.location.pathname) %>"},{frontmatter:n})).render(e)},clear:function(n){var e=document.querySelector("#".concat(n));return e&&e.remove(),!0}},wl=null;function Sl(n){return kl.clear("vuepress-plugin-comment")}function El(n){return!1!==n.comment&&!1!==n.comments}function Tl(n){if(clearTimeout(wl),document.querySelector("main.page"))return kl.render(n,"vuepress-plugin-comment");wl=setTimeout((function(){return Tl(n)}),200)}var _l={mounted:function(){var n=this;wl=setTimeout((function(){var e=Object(fl.a)({to:{},from:{}},n.$frontmatter);Sl()&&El(e)&&Tl(e)}),1e3),this.$router.afterEach((function(e,t){if(!e||!t||e.path!==t.path){var a=Object(fl.a)({to:e,from:t},n.$frontmatter);Sl()&&El(a)&&Tl(a)}}))}},Il=Object(rl.a)(_l,(function(){var n=this.$createElement;return(this._self._c||n)("div")}),[],!1,null,null,null).exports,jl=[function(n){var e=n.Vue,t=(n.options,n.router,n.siteData,n.isServer,!1);e.component(ll.default.name,ll.default),e.mixin({mounted:function(){t||(window.addEventListener("unload",this.saveLastReading),t=!0)},methods:{saveLastReading:function(){localStorage.setItem("lastReading",JSON.stringify({path:this.$route.path,scrollTop:document.documentElement.scrollTop,timestamp:(new Date).getTime()}))}}})},function(n){var e=n.Vue,t=(n.options,n.router,n.siteData);t.pages.map((function(n){var e=n.frontmatter,a=e.date,r=e.author;"string"==typeof a&&"Z"===a.charAt(a.length-1)&&(n.frontmatter.date=function(n){n instanceof Date||(n=new Date(n));return"".concat(n.getUTCFullYear(),"-").concat(ml(n.getUTCMonth()+1),"-").concat(ml(n.getUTCDate())," ").concat(ml(n.getUTCHours()),":").concat(ml(n.getUTCMinutes()),":").concat(ml(n.getUTCSeconds()))}(a)),r?n.author=r:t.themeConfig.author&&(n.author=t.themeConfig.author)})),e.mixin(ul)},{},function(n){n.Vue.mixin({computed:{$dataBlock:function(){return this.$options.__data__block__}}})},{},{},function(n){n.router;"undefined"!=typeof window&&function(){var n=document.createElement("script"),e=window.location.protocol.split(":")[0];n.src="https"===e?"https://zz.bdstatic.com/linksubmit/push.js":"http://push.zhanzhang.baidu.com/push.js";var t=document.getElementsByTagName("script")[0];t.parentNode.insertBefore(n,t)}()},function(n){var e=n.router;"undefined"!=typeof window&&(window._hmt=window._hmt||[],function(){var n=document.createElement("script");n.src="https://hm.baidu.com/hm.js?503f098e7e5b3a5b5d8c5fc2938af002";var e=document.getElementsByTagName("script")[0];e.parentNode.insertBefore(n,e)}(),e.afterEach((function(n){_hmt.push(["_trackPageview",n.fullPath])})))},function(n){n.Vue.component("Comment",Il)}],zl=["Comment","BlockToggle"];t(217);function Cl(n,e){return(Cl=Object.setPrototypeOf||function(n,e){return n.__proto__=e,n})(n,e)}t(218);function Al(n){return(Al=Object.setPrototypeOf?Object.getPrototypeOf:function(n){return n.__proto__||Object.getPrototypeOf(n)})(n)}function Pl(n,e){if(e&&("object"===_i(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(n){if(void 0===n)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n}(n)}function Dl(n){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(n){return!1}}();return function(){var t,a=Al(n);if(e){var r=Al(this).constructor;t=Reflect.construct(a,arguments,r)}else t=a.apply(this,arguments);return Pl(this,t)}}var ql=function(n){!function(n,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");n.prototype=Object.create(e&&e.prototype,{constructor:{value:n,writable:!0,configurable:!0}}),Object.defineProperty(n,"prototype",{writable:!1}),e&&Cl(n,e)}(t,n);var e=Dl(t);function t(){return cs(this,t),e.apply(this,arguments)}return ps(t)}(function(){function n(){cs(this,n),this.store=new Dr({data:{state:{}}})}return ps(n,[{key:"$get",value:function(n){return this.store.state[n]}},{key:"$set",value:function(n,e){Dr.set(this.store.state,n,e)}},{key:"$emit",value:function(){var n;(n=this.store).$emit.apply(n,arguments)}},{key:"$on",value:function(){var n;(n=this.store).$on.apply(n,arguments)}}]),n}());Object.assign(ql.prototype,{getPageAsyncComponent:Ni,getLayoutAsyncComponent:Ui,getAsyncComponent:Ji,getVueComponent:$i});var Ll={install:function(n){var e=new ql;n.$vuepress=e,n.prototype.$vuepress=e}};function Bl(n){n.beforeEach((function(e,t,a){if(Ol(n,e.path))a();else if(/(\/|\.html)$/.test(e.path))if(/\/$/.test(e.path)){var r=e.path.replace(/\/$/,"")+".html";Ol(n,r)?a(r):a()}else a();else{var o=e.path+"/",i=e.path+".html";Ol(n,i)?a(i):Ol(n,o)?a(o):a()}}))}function Ol(n,e){var t=e.toLowerCase();return n.options.routes.some((function(n){return n.path.toLowerCase()===t}))}var Fl={props:{pageKey:String,slotKey:{type:String,default:"default"}},render:function(n){var e=this.pageKey||this.$parent.$page.key;return Vi("pageKey",e),Dr.component(e)||Dr.component(e,Ni(e)),Dr.component(e)?n(e):n("")}},Rl={functional:!0,props:{slotKey:String,required:!0},render:function(n,e){var t=e.props,a=e.slots;return n("div",{class:["content__".concat(t.slotKey)]},a()[t.slotKey])}},Ml={computed:{openInNewWindowTitle:function(){return this.$themeLocaleConfig.openNewWindowText||"(opens new window)"}}},Hl=(t(390),t(391),Object(rl.a)(Ml,(function(){var n=this.$createElement,e=this._self._c||n;return e("span",[e("svg",{staticClass:"icon outbound",attrs:{xmlns:"http://www.w3.org/2000/svg","aria-hidden":"true",focusable:"false",x:"0px",y:"0px",viewBox:"0 0 100 100",width:"15",height:"15"}},[e("path",{attrs:{fill:"currentColor",d:"M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"}}),this._v(" "),e("polygon",{attrs:{fill:"currentColor",points:"45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"}})]),this._v(" "),e("span",{staticClass:"sr-only"},[this._v(this._s(this.openInNewWindowTitle))])])}),[],!1,null,null,null).exports);function Nl(){return(Nl=Object(a.a)(regeneratorRuntime.mark((function n(e){var t,a,r,o;return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return t="undefined"!=typeof window&&window.__VUEPRESS_ROUTER_BASE__?window.__VUEPRESS_ROUTER_BASE__:sl.routerBase||sl.base,Bl(a=new Ei({base:t,mode:"history",fallback:!1,routes:il,scrollBehavior:function(n,e,t){return t||(n.hash?!Dr.$vuepress.$get("disableScrollBehavior")&&{selector:decodeURIComponent(n.hash)}:{x:0,y:0})}})),r={},n.prev=4,n.next=7,Promise.all(jl.filter((function(n){return"function"==typeof n})).map((function(n){return n({Vue:Dr,options:r,router:a,siteData:sl,isServer:e})})));case 7:n.next=12;break;case 9:n.prev=9,n.t0=n.catch(4),console.error(n.t0);case 12:return o=new Dr(Object.assign(r,{router:a,render:function(n){return n("div",{attrs:{id:"app"}},[n("RouterView",{ref:"layout"}),n("div",{class:"global-ui"},zl.map((function(e){return n(e)})))])}})),n.abrupt("return",{app:o,router:a});case 14:case"end":return n.stop()}}),n,null,[[4,9]])})))).apply(this,arguments)}Dr.config.productionTip=!1,Dr.use(Ei),Dr.use(Ll),Dr.mixin(function(n,e){var t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Dr;Ti(e),t.$vuepress.$set("siteData",e);var a=n(t.$vuepress.$get("siteData")),r=new a,o=Object.getOwnPropertyDescriptors(Object.getPrototypeOf(r)),i={};return Object.keys(o).reduce((function(n,e){return e.startsWith("$")&&(n[e]=o[e].get),n}),i),{computed:i}}((function(n){return function(){function e(){cs(this,e)}return ps(e,[{key:"setPage",value:function(n){this.__page=n}},{key:"$site",get:function(){return n}},{key:"$themeConfig",get:function(){return this.$site.themeConfig}},{key:"$frontmatter",get:function(){return this.$page.frontmatter}},{key:"$localeConfig",get:function(){var n,e,t=this.$site.locales,a=void 0===t?{}:t;for(var r in a)"/"===r?e=a[r]:0===this.$page.path.indexOf(r)&&(n=a[r]);return n||e||{}}},{key:"$siteTitle",get:function(){return this.$localeConfig.title||this.$site.title||""}},{key:"$canonicalUrl",get:function(){var n=this.$page.frontmatter.canonicalUrl;return"string"==typeof n&&n}},{key:"$title",get:function(){var n=this.$page,e=this.$page.frontmatter.metaTitle;if("string"==typeof e)return e;var t=this.$siteTitle,a=n.frontmatter.home?null:n.frontmatter.title||n.title;return t?a?a+" | "+t:t:a||"VuePress"}},{key:"$description",get:function(){var n=function(n){if(n){var e=n.filter((function(n){return"description"===n.name}))[0];if(e)return e.content}}(this.$page.frontmatter.meta);return n||(this.$page.frontmatter.description||this.$localeConfig.description||this.$site.description||"")}},{key:"$lang",get:function(){return this.$page.frontmatter.lang||this.$localeConfig.lang||"en-US"}},{key:"$localePath",get:function(){return this.$localeConfig.path||"/"}},{key:"$themeLocaleConfig",get:function(){return(this.$site.themeConfig.locales||{})[this.$localePath]||{}}},{key:"$page",get:function(){return this.__page?this.__page:function(n,e){for(var t=0;t<n.length;t++){var a=n[t];if(a.path.toLowerCase()===e.toLowerCase())return a}return{path:"",frontmatter:{}}}(this.$site.pages,this.$route.path)}}]),e}()}),sl)),Dr.component("Content",Fl),Dr.component("ContentSlotsDistributor",Rl),Dr.component("OutboundLink",Hl),Dr.component("ClientOnly",{functional:!0,render:function(n,e){var t=e.parent,a=e.children;if(t._isMounted)return a;t.$once("hook:mounted",(function(){t.$forceUpdate()}))}}),Dr.component("Layout",Ui("Layout")),Dr.component("NotFound",Ui("NotFound")),Dr.prototype.$withBase=function(n){var e=this.$site.base;return"/"===n.charAt(0)?e+n.slice(1):n},window.__VUEPRESS__={version:"1.9.5",hash:"b9dff75"},function(n){return Nl.apply(this,arguments)}(!1).then((function(n){var e=n.app;n.router.onReady((function(){e.$mount("#app")}))}))}]);