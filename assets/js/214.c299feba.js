(window.webpackJsonp=window.webpackJsonp||[]).push([[214],{545:function(s,a,n){"use strict";n.r(a);var t=n(3),e=Object(t.a)({},(function(){var s=this,a=s._self._c;return a("ContentSlotsDistributor",{attrs:{"slot-key":s.$parent.slotKey}},[a("h1",{attrs:{id:"flume-进阶"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#flume-进阶"}},[s._v("#")]),s._v(" Flume 进阶")]),s._v(" "),a("h2",{attrs:{id:"flume-事务"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#flume-事务"}},[s._v("#")]),s._v(" Flume 事务")]),s._v(" "),a("p",[a("img",{attrs:{src:"https://cdn.jsdelivr.net/gh/Iekrwh/images/md-images/image-20211111180016220.png",alt:"image-20211111180016220"}})]),s._v(" "),a("h2",{attrs:{id:"agent-内部原理"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#agent-内部原理"}},[s._v("#")]),s._v(" Agent 内部原理")]),s._v(" "),a("p",[a("img",{attrs:{src:"https://cdn.jsdelivr.net/gh/Iekrwh/images/md-images/image-20211111183315320.png",alt:"image-20211111183315320"}})]),s._v(" "),a("ol",[a("li",[a("p",[s._v("ChannelSelector")]),s._v(" "),a("p",[s._v("ChannelSelector的作用就是选出Event将要被发往哪个Channel。其共有两种类型，分别是Replicating（"),a("strong",[s._v("复制")]),s._v("）和Multiplexing（"),a("strong",[s._v("多路复用")]),s._v("）。  默认为Replicating（复制）\nReplicatingSelector会将同一个Event发往所有的Channel，Multiplexing会根据相应的原则，将不同的Event发往不同的Channel。")])]),s._v(" "),a("li",[a("p",[s._v("SinkProcessor")]),s._v(" "),a("p",[s._v("SinkProcessor共有三种类型，分别是DefaultSinkProcessor、LoadBalancingSinkProcessor和FailoverSinkProcessor")]),s._v(" "),a("ol",[a("li",[s._v("DefaultSinkProcessor对应的是单个的Sink")]),s._v(" "),a("li",[s._v("LoadBalancingSinkProcessor和FailoverSinkProcessor对应的是Sink Group，")]),s._v(" "),a("li",[s._v("LoadBalancingSinkProcessor可以实现负载均衡的功能")]),s._v(" "),a("li",[s._v("FailoverSinkProcessor可以错误恢复的功能。")])])])]),s._v(" "),a("h2",{attrs:{id:"flume-拓扑结构"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#flume-拓扑结构"}},[s._v("#")]),s._v(" Flume 拓扑结构")]),s._v(" "),a("h3",{attrs:{id:"简单串联"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#简单串联"}},[s._v("#")]),s._v(" 简单串联")]),s._v(" "),a("p",[a("img",{attrs:{src:"https://cdn.jsdelivr.net/gh/Iekrwh/images/md-images/image-20211111184745477.png",alt:"image-20211111184745477"}})]),s._v(" "),a("p",[s._v("这种模式是将多个flume顺序连接起来了，从最初的source开始到最终sink传送的目的存储系统。此模式不建议桥接过多的flume数量， flume数量过多不仅会影响传输速率，而且一旦传输过程中某个节点flume宕机，会影响整个传输系统。")]),s._v(" "),a("h4",{attrs:{id:"实现串联-输出到arvo"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#实现串联-输出到arvo"}},[s._v("#")]),s._v(" 实现串联 输出到arvo")]),s._v(" "),a("p",[s._v("flume1 配置文件")]),s._v(" "),a("div",{staticClass:"language-sh line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-sh"}},[a("code",[a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#agent1   netcatsource --\x3e memorychannel --\x3e arvosink")]),s._v("\na1.sources "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" r1  \na1.sinks "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" k1\na1.channels "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" c1 \n\na1.sources.r1.type "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" netcat \na1.sources.r1.bind "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" hadoop102\na1.sources.r1.port "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("22222")]),s._v(" \n\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#设置为arvosink 向指定地址:端口输出数据")]),s._v("\na1.sinks.k1.type "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" arvo \n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#输出数据的地址 ")]),s._v("\na1.sinks.k1.hostname "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" hadoop103\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#输出数据的地址")]),s._v("\na1.sinks.k1.port "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("33333")]),s._v("\n\na1.channels.c1.type "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" memory \na1.channels.c1.capacity "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("1000")]),s._v(" \na1.channels.c1.transactionCapacity "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("100")]),s._v(" \n\n\na1.sources.r1.channels "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" c1 \na1.sinks.k1.channel "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" c1 \n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br"),a("span",{staticClass:"line-number"},[s._v("7")]),a("br"),a("span",{staticClass:"line-number"},[s._v("8")]),a("br"),a("span",{staticClass:"line-number"},[s._v("9")]),a("br"),a("span",{staticClass:"line-number"},[s._v("10")]),a("br"),a("span",{staticClass:"line-number"},[s._v("11")]),a("br"),a("span",{staticClass:"line-number"},[s._v("12")]),a("br"),a("span",{staticClass:"line-number"},[s._v("13")]),a("br"),a("span",{staticClass:"line-number"},[s._v("14")]),a("br"),a("span",{staticClass:"line-number"},[s._v("15")]),a("br"),a("span",{staticClass:"line-number"},[s._v("16")]),a("br"),a("span",{staticClass:"line-number"},[s._v("17")]),a("br"),a("span",{staticClass:"line-number"},[s._v("18")]),a("br"),a("span",{staticClass:"line-number"},[s._v("19")]),a("br"),a("span",{staticClass:"line-number"},[s._v("20")]),a("br"),a("span",{staticClass:"line-number"},[s._v("21")]),a("br"),a("span",{staticClass:"line-number"},[s._v("22")]),a("br"),a("span",{staticClass:"line-number"},[s._v("23")]),a("br")])]),a("p",[s._v("flume2 配置文件")]),s._v(" "),a("div",{staticClass:"language-sh line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-sh"}},[a("code",[a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#agent2   netcatsource --\x3e memorychannel --\x3e loggersink")]),s._v("\na1.sources "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" r1\na1.sinks "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" k1\na1.channels "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" c1\n\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#输入数据类型改为 arvo")]),s._v("\na1.sources.r1.type "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" arvo \n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#输入地址")]),s._v("\na1.sources.r1.bind "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" hadoop102\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#输入端口")]),s._v("\na1.sources.r1.port "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("33333")]),s._v("\n\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#设置为logger 写入到log文件 持久化")]),s._v("\na1.sinks.k1.type "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" logger\n\na1.channels.c1.type "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" memory \na1.channels.c1.capacity "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("1000")]),s._v(" \na1.channels.c1.transactionCapacity "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("100")]),s._v(" \n\n\na1.sources.r1.channels "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" c1 \na1.sinks.k1.channel "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" c1 \n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br"),a("span",{staticClass:"line-number"},[s._v("7")]),a("br"),a("span",{staticClass:"line-number"},[s._v("8")]),a("br"),a("span",{staticClass:"line-number"},[s._v("9")]),a("br"),a("span",{staticClass:"line-number"},[s._v("10")]),a("br"),a("span",{staticClass:"line-number"},[s._v("11")]),a("br"),a("span",{staticClass:"line-number"},[s._v("12")]),a("br"),a("span",{staticClass:"line-number"},[s._v("13")]),a("br"),a("span",{staticClass:"line-number"},[s._v("14")]),a("br"),a("span",{staticClass:"line-number"},[s._v("15")]),a("br"),a("span",{staticClass:"line-number"},[s._v("16")]),a("br"),a("span",{staticClass:"line-number"},[s._v("17")]),a("br"),a("span",{staticClass:"line-number"},[s._v("18")]),a("br"),a("span",{staticClass:"line-number"},[s._v("19")]),a("br"),a("span",{staticClass:"line-number"},[s._v("20")]),a("br"),a("span",{staticClass:"line-number"},[s._v("21")]),a("br"),a("span",{staticClass:"line-number"},[s._v("22")]),a("br")])]),a("p",[s._v("测试")]),s._v(" "),a("div",{staticClass:"language-sh line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-sh"}},[a("code",[a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#先启动103 否则102发送数据无人接收  在hadoop103操作 ")]),s._v("\nflume-ng agent --conf conf/ --name a1 --conf-file datas/avrosource_loggersink.conf -Dflume.root.logger"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("INFO,console\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br")])]),a("div",{staticClass:"language-sh line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-sh"}},[a("code",[a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#在hadoop102操作")]),s._v("\nflume-ng agent --conf conf/ --name a1 --conf-file datas/netcatsource_avrosink.conf -Dflume.root.logger"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("INFO,console\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#在另外个ssh窗口中操作")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("nc")]),s._v(" hadoop102 "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("22222")]),s._v("\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br")])]),a("h3",{attrs:{id:"复制和多路复用"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#复制和多路复用"}},[s._v("#")]),s._v(" 复制和多路复用")]),s._v(" "),a("p",[a("img",{attrs:{src:"https://cdn.jsdelivr.net/gh/Iekrwh/images/md-images/image-20211111184918332.png",alt:"image-20211111184918332"}})]),s._v(" "),a("p",[s._v("Flume支持将事件流向一个或者多个目的地。这种模式可以将相同数据复制到多个channel中，或者将不同数据分发到不同的channel中，sink可以选择传送到不同的目的地。")]),s._v(" "),a("h4",{attrs:{id:"实现复制-selector-replicating"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#实现复制-selector-replicating"}},[s._v("#")]),s._v(" 实现复制  selector=replicating")]),s._v(" "),a("p",[a("img",{attrs:{src:"https://cdn.jsdelivr.net/gh/Iekrwh/images/md-images/image-20211112073258004.png",alt:"image-20211112073258004"}})]),s._v(" "),a("p",[s._v("从指定文件中读取日志 复制转发到个channel中 channel再转发给指定的sink方")]),s._v(" "),a("div",{staticClass:"language-sh line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-sh"}},[a("code",[a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#agent 1  hadoop102")]),s._v("\na1.sources "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" r1\n\na1.sinks "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" k1 k2\na1.channels "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" c1 c2\n\na1.sources.r1.type "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("exec")]),s._v(" \n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#读取hive日志文件")]),s._v("\na1.sources.r1.command "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("tail")]),s._v(" -F /opt/module/hive/logs/hive.log\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#selector频道选择器 默认为replicating 为复制 不配置type也是这个方案")]),s._v("\na1.sources.r1.selector.type "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" replicating \n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#可选的channel")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#a1.sources.r1.selector.optional = c3")]),s._v("\n\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#设置为arvosink 向指定地址:端口输出数据")]),s._v("\na1.sinks.k1.type "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" arvo \n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#输出数据的地址 ")]),s._v("\na1.sinks.k1.hostname "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" hadoop103\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#输出数据的地址")]),s._v("\na1.sinks.k1.port "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("33333")]),s._v("\n\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#第二个sinks")]),s._v("\na1.sinks.k2.type "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" arvo \na1.sinks.k2.hostname "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" hadoop104\na1.sinks.k2.port "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("44444")]),s._v("\n\na1.channels.c1.type "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" memory \na1.channels.c1.capacity "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("1000")]),s._v(" \na1.channels.c1.transactionCapacity "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("100")]),s._v(" \n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#第二个channel")]),s._v("\na1.channels.c2.type "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" memory \na1.channels.c2.capacity "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("1000")]),s._v(" \na1.channels.c2.transactionCapacity "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("100")]),s._v(" \n\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#一个sources 对接两个channels")]),s._v("\na1.sources.r1.channels "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" c1 c2\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#每个sinks对应一个channel")]),s._v("\na1.sinks.k1.channel "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" c1\na1.sinks.k2.channel "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" c2\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br"),a("span",{staticClass:"line-number"},[s._v("7")]),a("br"),a("span",{staticClass:"line-number"},[s._v("8")]),a("br"),a("span",{staticClass:"line-number"},[s._v("9")]),a("br"),a("span",{staticClass:"line-number"},[s._v("10")]),a("br"),a("span",{staticClass:"line-number"},[s._v("11")]),a("br"),a("span",{staticClass:"line-number"},[s._v("12")]),a("br"),a("span",{staticClass:"line-number"},[s._v("13")]),a("br"),a("span",{staticClass:"line-number"},[s._v("14")]),a("br"),a("span",{staticClass:"line-number"},[s._v("15")]),a("br"),a("span",{staticClass:"line-number"},[s._v("16")]),a("br"),a("span",{staticClass:"line-number"},[s._v("17")]),a("br"),a("span",{staticClass:"line-number"},[s._v("18")]),a("br"),a("span",{staticClass:"line-number"},[s._v("19")]),a("br"),a("span",{staticClass:"line-number"},[s._v("20")]),a("br"),a("span",{staticClass:"line-number"},[s._v("21")]),a("br"),a("span",{staticClass:"line-number"},[s._v("22")]),a("br"),a("span",{staticClass:"line-number"},[s._v("23")]),a("br"),a("span",{staticClass:"line-number"},[s._v("24")]),a("br"),a("span",{staticClass:"line-number"},[s._v("25")]),a("br"),a("span",{staticClass:"line-number"},[s._v("26")]),a("br"),a("span",{staticClass:"line-number"},[s._v("27")]),a("br"),a("span",{staticClass:"line-number"},[s._v("28")]),a("br"),a("span",{staticClass:"line-number"},[s._v("29")]),a("br"),a("span",{staticClass:"line-number"},[s._v("30")]),a("br"),a("span",{staticClass:"line-number"},[s._v("31")]),a("br"),a("span",{staticClass:"line-number"},[s._v("32")]),a("br"),a("span",{staticClass:"line-number"},[s._v("33")]),a("br"),a("span",{staticClass:"line-number"},[s._v("34")]),a("br"),a("span",{staticClass:"line-number"},[s._v("35")]),a("br"),a("span",{staticClass:"line-number"},[s._v("36")]),a("br"),a("span",{staticClass:"line-number"},[s._v("37")]),a("br"),a("span",{staticClass:"line-number"},[s._v("38")]),a("br"),a("span",{staticClass:"line-number"},[s._v("39")]),a("br")])]),a("p",[s._v("sink方1 从hadoop102接收数据 再存储到hdfs中")]),s._v(" "),a("div",{staticClass:"language-sh line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-sh"}},[a("code",[a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#agent2 hadoop103")]),s._v("\na1.sources "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" r1  \na1.sinks "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" k1\na1.channels "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" c1 \n\na1.sources.r1.type "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" avro\na1.sources.r1.bind "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" hadoop103\na1.sources.r1.port "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("33333")]),s._v("\n\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# Describe the sink")]),s._v("\na1.sinks.k1.type "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" hdfs\na1.sinks.k1.hdfs.path "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" hdfs://hadoop102:8020/flume2/%Y%m%d/%H\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#上传文件的前缀")]),s._v("\na1.sinks.k1.hdfs.filePrefix "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" flume2-\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#是否按照时间滚动文件夹")]),s._v("\na1.sinks.k1.hdfs.round "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token boolean"}},[s._v("true")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#多少时间单位创建一个新的文件夹")]),s._v("\na1.sinks.k1.hdfs.roundValue "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#重新定义时间单位")]),s._v("\na1.sinks.k1.hdfs.roundUnit "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" hour\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#是否使用本地时间戳")]),s._v("\na1.sinks.k1.hdfs.useLocalTimeStamp "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token boolean"}},[s._v("true")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#积攒多少个Event才flush到HDFS一次")]),s._v("\na1.sinks.k1.hdfs.batchSize "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("100")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#设置文件类型，可支持压缩")]),s._v("\na1.sinks.k1.hdfs.fileType "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" DataStream\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#多久生成一个新的文件")]),s._v("\na1.sinks.k1.hdfs.rollInterval "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("600")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#设置每个文件的滚动大小大概是128M")]),s._v("\na1.sinks.k1.hdfs.rollSize "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("134217700")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#文件的滚动与Event数量无关")]),s._v("\na1.sinks.k1.hdfs.rollCount "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v("\n\na1.channels.c1.type "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" memory \na1.channels.c1.capacity "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("1000")]),s._v(" \na1.channels.c1.transactionCapacity "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("100")]),s._v(" \n\n\na1.sources.r1.channels "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" c1 \na1.sinks.k1.channel "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" c1 \n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br"),a("span",{staticClass:"line-number"},[s._v("7")]),a("br"),a("span",{staticClass:"line-number"},[s._v("8")]),a("br"),a("span",{staticClass:"line-number"},[s._v("9")]),a("br"),a("span",{staticClass:"line-number"},[s._v("10")]),a("br"),a("span",{staticClass:"line-number"},[s._v("11")]),a("br"),a("span",{staticClass:"line-number"},[s._v("12")]),a("br"),a("span",{staticClass:"line-number"},[s._v("13")]),a("br"),a("span",{staticClass:"line-number"},[s._v("14")]),a("br"),a("span",{staticClass:"line-number"},[s._v("15")]),a("br"),a("span",{staticClass:"line-number"},[s._v("16")]),a("br"),a("span",{staticClass:"line-number"},[s._v("17")]),a("br"),a("span",{staticClass:"line-number"},[s._v("18")]),a("br"),a("span",{staticClass:"line-number"},[s._v("19")]),a("br"),a("span",{staticClass:"line-number"},[s._v("20")]),a("br"),a("span",{staticClass:"line-number"},[s._v("21")]),a("br"),a("span",{staticClass:"line-number"},[s._v("22")]),a("br"),a("span",{staticClass:"line-number"},[s._v("23")]),a("br"),a("span",{staticClass:"line-number"},[s._v("24")]),a("br"),a("span",{staticClass:"line-number"},[s._v("25")]),a("br"),a("span",{staticClass:"line-number"},[s._v("26")]),a("br"),a("span",{staticClass:"line-number"},[s._v("27")]),a("br"),a("span",{staticClass:"line-number"},[s._v("28")]),a("br"),a("span",{staticClass:"line-number"},[s._v("29")]),a("br"),a("span",{staticClass:"line-number"},[s._v("30")]),a("br"),a("span",{staticClass:"line-number"},[s._v("31")]),a("br"),a("span",{staticClass:"line-number"},[s._v("32")]),a("br"),a("span",{staticClass:"line-number"},[s._v("33")]),a("br"),a("span",{staticClass:"line-number"},[s._v("34")]),a("br"),a("span",{staticClass:"line-number"},[s._v("35")]),a("br"),a("span",{staticClass:"line-number"},[s._v("36")]),a("br"),a("span",{staticClass:"line-number"},[s._v("37")]),a("br"),a("span",{staticClass:"line-number"},[s._v("38")]),a("br"),a("span",{staticClass:"line-number"},[s._v("39")]),a("br"),a("span",{staticClass:"line-number"},[s._v("40")]),a("br")])]),a("p",[s._v("sink2 从hadoop102接收数据 再通过File_roll sink存储到本地目录中")]),s._v(" "),a("div",{staticClass:"language-sh line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-sh"}},[a("code",[a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#agent3 hadoop104")]),s._v("\na1.sources "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" r1  \na1.sinks "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" k1\na1.channels "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" c1 \n\na1.sources.r1.type "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" avro\na1.sources.r1.bind "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" hadoop104\na1.sources.r1.port "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("44444")]),s._v("\n\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#将event数据存储在指定sink为file_roll 本地存储模式")]),s._v("\na1.sinks.k1.type "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" file_roll\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#存放目录 输出的本地目录必须是已经存在的目录")]),s._v("\na1.sinks.k1.sink.directory "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" /opt/module/flume/demo\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#默认为30s 滚动文件 设置为0将不再滚动")]),s._v("\na1.sinks.k1.sink.rollInterval "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("30")]),s._v("\n\na1.channels.c1.type "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" memory \na1.channels.c1.capacity "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("1000")]),s._v(" \na1.channels.c1.transactionCapacity "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("100")]),s._v(" \n\n\na1.sources.r1.channels "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" c1 \na1.sinks.k1.channel "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" c1 \n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br"),a("span",{staticClass:"line-number"},[s._v("7")]),a("br"),a("span",{staticClass:"line-number"},[s._v("8")]),a("br"),a("span",{staticClass:"line-number"},[s._v("9")]),a("br"),a("span",{staticClass:"line-number"},[s._v("10")]),a("br"),a("span",{staticClass:"line-number"},[s._v("11")]),a("br"),a("span",{staticClass:"line-number"},[s._v("12")]),a("br"),a("span",{staticClass:"line-number"},[s._v("13")]),a("br"),a("span",{staticClass:"line-number"},[s._v("14")]),a("br"),a("span",{staticClass:"line-number"},[s._v("15")]),a("br"),a("span",{staticClass:"line-number"},[s._v("16")]),a("br"),a("span",{staticClass:"line-number"},[s._v("17")]),a("br"),a("span",{staticClass:"line-number"},[s._v("18")]),a("br"),a("span",{staticClass:"line-number"},[s._v("19")]),a("br"),a("span",{staticClass:"line-number"},[s._v("20")]),a("br"),a("span",{staticClass:"line-number"},[s._v("21")]),a("br"),a("span",{staticClass:"line-number"},[s._v("22")]),a("br"),a("span",{staticClass:"line-number"},[s._v("23")]),a("br")])]),a("p",[s._v("启动 先启动103和104的监听 再启动102的监听")]),s._v(" "),a("h4",{attrs:{id:"实现多路复用-selector-multiplexing"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#实现多路复用-selector-multiplexing"}},[s._v("#")]),s._v(" 实现多路复用 selector=multiplexing")]),s._v(" "),a("p",[s._v("agent1")]),s._v(" "),a("div",{staticClass:"language-sh line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-sh"}},[a("code",[a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#agent 1  hadoop102")]),s._v("\na1.sources "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" r1\n\na1.sinks "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" k1 k2\na1.channels "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" c1 c2\n\na1.sources.r1.type "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("exec")]),s._v(" \n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#读取hive日志文件")]),s._v("\na1.sources.r1.command "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("tail")]),s._v(" -F /opt/module/hive/logs/hive.log\n\n\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#复用配置")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#selector频道选择器 默认为replicating  multiplexing为复用  需要配合拦截器使用")]),s._v("\na1.sources.r1.selector.type "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" multiplexing \n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# header的key 根据event的header里面指定key 判断值 分发给哪个channel ")]),s._v("\na1.sources.r1.selector.header "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" state\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#CZ为自定义value值 为上面指定key中对应值 如key中值为CZ 则分发给 c1 channel")]),s._v("\na1.sources.r1.selector.mapping.CZ "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" c1\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#值为US 则分发到 c2 channel")]),s._v("\na1.sources.r1.selector.mapping.US "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" c2\n\n\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 设置拦截器 (用于向headers中添加指定键值对)")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#拦截器名称")]),s._v("\na1.sources.r1.interceptors "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" i1\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#拦截器类型 static 向header添加 自定义键值对")]),s._v("\na1.sources.r1.interceptors.i1.type "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" static\na1.sources.r1.interceptors.i1.key "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" state\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#多个值只能通过自定义拦截器定义 此处是写死为CZ")]),s._v("\na1.sources.r1.interceptors.i1.value "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" CZ\n\n\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#设置为arvosink 向指定地址:端口输出数据")]),s._v("\na1.sinks.k1.type "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" arvo \n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#输出数据的地址 ")]),s._v("\na1.sinks.k1.hostname "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" hadoop103\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#输出数据的地址")]),s._v("\na1.sinks.k1.port "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("33333")]),s._v("\n\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#第二个sinks")]),s._v("\na1.sinks.k2.type "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" arvo \na1.sinks.k2.hostname "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" hadoop104\na1.sinks.k2.port "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("44444")]),s._v("\n\na1.channels.c1.type "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" memory \na1.channels.c1.capacity "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("1000")]),s._v(" \na1.channels.c1.transactionCapacity "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("100")]),s._v(" \n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#第二个channel")]),s._v("\na1.channels.c2.type "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" memory \na1.channels.c2.capacity "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("1000")]),s._v(" \na1.channels.c2.transactionCapacity "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("100")]),s._v(" \n\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#一个sources 对接两个channels")]),s._v("\na1.sources.r1.channels "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" c1 c2\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#每个sinks对应一个channel")]),s._v("\na1.sinks.k1.channel "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" c1\na1.sinks.k2.channel "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" c2\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br"),a("span",{staticClass:"line-number"},[s._v("7")]),a("br"),a("span",{staticClass:"line-number"},[s._v("8")]),a("br"),a("span",{staticClass:"line-number"},[s._v("9")]),a("br"),a("span",{staticClass:"line-number"},[s._v("10")]),a("br"),a("span",{staticClass:"line-number"},[s._v("11")]),a("br"),a("span",{staticClass:"line-number"},[s._v("12")]),a("br"),a("span",{staticClass:"line-number"},[s._v("13")]),a("br"),a("span",{staticClass:"line-number"},[s._v("14")]),a("br"),a("span",{staticClass:"line-number"},[s._v("15")]),a("br"),a("span",{staticClass:"line-number"},[s._v("16")]),a("br"),a("span",{staticClass:"line-number"},[s._v("17")]),a("br"),a("span",{staticClass:"line-number"},[s._v("18")]),a("br"),a("span",{staticClass:"line-number"},[s._v("19")]),a("br"),a("span",{staticClass:"line-number"},[s._v("20")]),a("br"),a("span",{staticClass:"line-number"},[s._v("21")]),a("br"),a("span",{staticClass:"line-number"},[s._v("22")]),a("br"),a("span",{staticClass:"line-number"},[s._v("23")]),a("br"),a("span",{staticClass:"line-number"},[s._v("24")]),a("br"),a("span",{staticClass:"line-number"},[s._v("25")]),a("br"),a("span",{staticClass:"line-number"},[s._v("26")]),a("br"),a("span",{staticClass:"line-number"},[s._v("27")]),a("br"),a("span",{staticClass:"line-number"},[s._v("28")]),a("br"),a("span",{staticClass:"line-number"},[s._v("29")]),a("br"),a("span",{staticClass:"line-number"},[s._v("30")]),a("br"),a("span",{staticClass:"line-number"},[s._v("31")]),a("br"),a("span",{staticClass:"line-number"},[s._v("32")]),a("br"),a("span",{staticClass:"line-number"},[s._v("33")]),a("br"),a("span",{staticClass:"line-number"},[s._v("34")]),a("br"),a("span",{staticClass:"line-number"},[s._v("35")]),a("br"),a("span",{staticClass:"line-number"},[s._v("36")]),a("br"),a("span",{staticClass:"line-number"},[s._v("37")]),a("br"),a("span",{staticClass:"line-number"},[s._v("38")]),a("br"),a("span",{staticClass:"line-number"},[s._v("39")]),a("br"),a("span",{staticClass:"line-number"},[s._v("40")]),a("br"),a("span",{staticClass:"line-number"},[s._v("41")]),a("br"),a("span",{staticClass:"line-number"},[s._v("42")]),a("br"),a("span",{staticClass:"line-number"},[s._v("43")]),a("br"),a("span",{staticClass:"line-number"},[s._v("44")]),a("br"),a("span",{staticClass:"line-number"},[s._v("45")]),a("br"),a("span",{staticClass:"line-number"},[s._v("46")]),a("br"),a("span",{staticClass:"line-number"},[s._v("47")]),a("br"),a("span",{staticClass:"line-number"},[s._v("48")]),a("br"),a("span",{staticClass:"line-number"},[s._v("49")]),a("br"),a("span",{staticClass:"line-number"},[s._v("50")]),a("br"),a("span",{staticClass:"line-number"},[s._v("51")]),a("br"),a("span",{staticClass:"line-number"},[s._v("52")]),a("br"),a("span",{staticClass:"line-number"},[s._v("53")]),a("br"),a("span",{staticClass:"line-number"},[s._v("54")]),a("br"),a("span",{staticClass:"line-number"},[s._v("55")]),a("br"),a("span",{staticClass:"line-number"},[s._v("56")]),a("br"),a("span",{staticClass:"line-number"},[s._v("57")]),a("br")])]),a("p",[s._v("agent2和agent3 与上面复制一样 或 自定义")]),s._v(" "),a("h3",{attrs:{id:"负载均衡和故障转移"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#负载均衡和故障转移"}},[s._v("#")]),s._v(" 负载均衡和故障转移")]),s._v(" "),a("p",[a("img",{attrs:{src:"https://cdn.jsdelivr.net/gh/Iekrwh/images/md-images/image-20211111185044758.png",alt:"image-20211111185044758"}})]),s._v(" "),a("p",[s._v("Flume支持使用将多个sink逻辑上分到一个sink组，sink组配合不同的SinkProcessor可以实现负载均衡和错误恢复的功能。")]),s._v(" "),a("h4",{attrs:{id:"实现故障转移-processor-failover"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#实现故障转移-processor-failover"}},[s._v("#")]),s._v(" 实现故障转移  processor=failover")]),s._v(" "),a("p",[a("img",{attrs:{src:"https://cdn.jsdelivr.net/gh/Iekrwh/images/md-images/image-20211112101633912.png",alt:"image-20211112101633912"}})]),s._v(" "),a("div",{staticClass:"language-sh line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-sh"}},[a("code",[a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#agent1 hadoop102")]),s._v("\na1.sources "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" r1  \na1.sinks "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" k1 k2\na1.channels "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" c1 \n\na1.sources.r1.type "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" netcat \na1.sources.r1.bind "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" hadoop102\na1.sources.r1.port "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("22222")]),s._v("\n\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#sinks1")]),s._v("\na1.sinks.k1.type "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" avro\na1.sinks.k1.hostname "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" hadoop103\na1.sinks.k1.port "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("33333")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#sinks2")]),s._v("\na1.sinks.k2.type "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" avro\na1.sinks.k2.hostname "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" hadoop104\na1.sinks.k2.port "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("44444")]),s._v("\n\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#定义sinkgroups")]),s._v("\na1.sinkgroups "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" g1\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#该组下面有哪些sink实例")]),s._v("\na1.sinkgroups.g1.sinks "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" k1 k2\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#failover为故障转移  默认为一对一")]),s._v("\na1.sinkgroups.g1.processor.type "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" failover\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#优先级 值越大优先级越大")]),s._v("\na1.sinkgroups.g1.processor.priority.k1 "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("5")]),s._v("\na1.sinkgroups.g1.processor.priority.k2 "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("10")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#sink连接超时时间 默认为30000毫秒")]),s._v("\na1.sinkgroups.g1.processor.maxpenalty "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("10000")]),s._v("\n\n\na1.channels.c1.type "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" memory \na1.channels.c1.capacity "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("1000")]),s._v(" \na1.channels.c1.transactionCapacity "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("100")]),s._v(" \n\n\na1.sources.r1.channels "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" c1 \n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#sinks绑定的channel 应为一个")]),s._v("\na1.sinks.k1.channel "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" c1\na1.sinks.k2.channel "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" c1\n\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br"),a("span",{staticClass:"line-number"},[s._v("7")]),a("br"),a("span",{staticClass:"line-number"},[s._v("8")]),a("br"),a("span",{staticClass:"line-number"},[s._v("9")]),a("br"),a("span",{staticClass:"line-number"},[s._v("10")]),a("br"),a("span",{staticClass:"line-number"},[s._v("11")]),a("br"),a("span",{staticClass:"line-number"},[s._v("12")]),a("br"),a("span",{staticClass:"line-number"},[s._v("13")]),a("br"),a("span",{staticClass:"line-number"},[s._v("14")]),a("br"),a("span",{staticClass:"line-number"},[s._v("15")]),a("br"),a("span",{staticClass:"line-number"},[s._v("16")]),a("br"),a("span",{staticClass:"line-number"},[s._v("17")]),a("br"),a("span",{staticClass:"line-number"},[s._v("18")]),a("br"),a("span",{staticClass:"line-number"},[s._v("19")]),a("br"),a("span",{staticClass:"line-number"},[s._v("20")]),a("br"),a("span",{staticClass:"line-number"},[s._v("21")]),a("br"),a("span",{staticClass:"line-number"},[s._v("22")]),a("br"),a("span",{staticClass:"line-number"},[s._v("23")]),a("br"),a("span",{staticClass:"line-number"},[s._v("24")]),a("br"),a("span",{staticClass:"line-number"},[s._v("25")]),a("br"),a("span",{staticClass:"line-number"},[s._v("26")]),a("br"),a("span",{staticClass:"line-number"},[s._v("27")]),a("br"),a("span",{staticClass:"line-number"},[s._v("28")]),a("br"),a("span",{staticClass:"line-number"},[s._v("29")]),a("br"),a("span",{staticClass:"line-number"},[s._v("30")]),a("br"),a("span",{staticClass:"line-number"},[s._v("31")]),a("br"),a("span",{staticClass:"line-number"},[s._v("32")]),a("br"),a("span",{staticClass:"line-number"},[s._v("33")]),a("br"),a("span",{staticClass:"line-number"},[s._v("34")]),a("br"),a("span",{staticClass:"line-number"},[s._v("35")]),a("br"),a("span",{staticClass:"line-number"},[s._v("36")]),a("br"),a("span",{staticClass:"line-number"},[s._v("37")]),a("br"),a("span",{staticClass:"line-number"},[s._v("38")]),a("br"),a("span",{staticClass:"line-number"},[s._v("39")]),a("br"),a("span",{staticClass:"line-number"},[s._v("40")]),a("br"),a("span",{staticClass:"line-number"},[s._v("41")]),a("br")])]),a("h4",{attrs:{id:"实现负载均衡-processor-load-balance"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#实现负载均衡-processor-load-balance"}},[s._v("#")]),s._v(" 实现负载均衡  processor=load_balance")]),s._v(" "),a("div",{staticClass:"language-sh line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-sh"}},[a("code",[a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#agent1 hadoop102")]),s._v("\na1.sources "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" r1  \na1.sinks "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" k1 k2\na1.channels "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" c1 \n\na1.sources.r1.type "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" netcat \na1.sources.r1.bind "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" hadoop102\na1.sources.r1.port "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("22222")]),s._v("\n\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#sinks1")]),s._v("\na1.sinks.k1.type "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" avro\na1.sinks.k1.hostname "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" hadoop103\na1.sinks.k1.port "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("33333")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#sinks2")]),s._v("\na1.sinks.k2.type "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" avro\na1.sinks.k2.hostname "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" hadoop104\na1.sinks.k2.port "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("44444")]),s._v("\n\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#定义sinkgroups")]),s._v("\na1.sinkgroups "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" g1\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#该组下面有哪些sink实例")]),s._v("\na1.sinkgroups.g1.sinks "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" k1 k2\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#load_balance 为负载均衡")]),s._v("\na1.sinkgroups.g1.processor.type "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" load_balance\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 默认为round_robin轮询sink    random为随机发给某个sink")]),s._v("\na1.sinkgroups.g1.processor.selector "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" random\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#连接超时时间 30000毫秒")]),s._v("\na1.sinkgroups.g1.processor.maxpenalty "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("10000")]),s._v("\n\n\na1.channels.c1.type "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" memory \na1.channels.c1.capacity "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("1000")]),s._v(" \na1.channels.c1.transactionCapacity "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("100")]),s._v(" \n\n\na1.sources.r1.channels "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" c1 \n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#sinks绑定的channel 应为一个")]),s._v("\na1.sinks.k1.channel "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" c1\na1.sinks.k2.channel "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" c1\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br"),a("span",{staticClass:"line-number"},[s._v("7")]),a("br"),a("span",{staticClass:"line-number"},[s._v("8")]),a("br"),a("span",{staticClass:"line-number"},[s._v("9")]),a("br"),a("span",{staticClass:"line-number"},[s._v("10")]),a("br"),a("span",{staticClass:"line-number"},[s._v("11")]),a("br"),a("span",{staticClass:"line-number"},[s._v("12")]),a("br"),a("span",{staticClass:"line-number"},[s._v("13")]),a("br"),a("span",{staticClass:"line-number"},[s._v("14")]),a("br"),a("span",{staticClass:"line-number"},[s._v("15")]),a("br"),a("span",{staticClass:"line-number"},[s._v("16")]),a("br"),a("span",{staticClass:"line-number"},[s._v("17")]),a("br"),a("span",{staticClass:"line-number"},[s._v("18")]),a("br"),a("span",{staticClass:"line-number"},[s._v("19")]),a("br"),a("span",{staticClass:"line-number"},[s._v("20")]),a("br"),a("span",{staticClass:"line-number"},[s._v("21")]),a("br"),a("span",{staticClass:"line-number"},[s._v("22")]),a("br"),a("span",{staticClass:"line-number"},[s._v("23")]),a("br"),a("span",{staticClass:"line-number"},[s._v("24")]),a("br"),a("span",{staticClass:"line-number"},[s._v("25")]),a("br"),a("span",{staticClass:"line-number"},[s._v("26")]),a("br"),a("span",{staticClass:"line-number"},[s._v("27")]),a("br"),a("span",{staticClass:"line-number"},[s._v("28")]),a("br"),a("span",{staticClass:"line-number"},[s._v("29")]),a("br"),a("span",{staticClass:"line-number"},[s._v("30")]),a("br"),a("span",{staticClass:"line-number"},[s._v("31")]),a("br"),a("span",{staticClass:"line-number"},[s._v("32")]),a("br"),a("span",{staticClass:"line-number"},[s._v("33")]),a("br"),a("span",{staticClass:"line-number"},[s._v("34")]),a("br"),a("span",{staticClass:"line-number"},[s._v("35")]),a("br"),a("span",{staticClass:"line-number"},[s._v("36")]),a("br"),a("span",{staticClass:"line-number"},[s._v("37")]),a("br"),a("span",{staticClass:"line-number"},[s._v("38")]),a("br"),a("span",{staticClass:"line-number"},[s._v("39")]),a("br")])]),a("h3",{attrs:{id:"聚合"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#聚合"}},[s._v("#")]),s._v(" 聚合")]),s._v(" "),a("p",[a("img",{attrs:{src:"https://cdn.jsdelivr.net/gh/Iekrwh/images/md-images/image-20211111185129828.png",alt:"image-20211111185129828"}})]),s._v(" "),a("p",[s._v("这种模式是我们最常见的，也非常实用，日常web应用通常分布在上百个服务器，大者甚至上千个、上万个服务器。产生的日志，处理起来也非常麻烦。用flume的这种组合方式能很好的解决这一问题，每台服务器部署一个flume采集日志，传送到一个集中收集日志的flume，再由此flume上传到hdfs、hive、hbase等，进行日志分析。")]),s._v(" "),a("h4",{attrs:{id:"实现聚合"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#实现聚合"}},[s._v("#")]),s._v(" 实现聚合")]),s._v(" "),a("p",[a("img",{attrs:{src:"https://cdn.jsdelivr.net/gh/Iekrwh/images/md-images/image-20211112105001063.png",alt:"image-20211112105001063"}})]),s._v(" "),a("p",[s._v("将分开的agent的sink全部汇总到一个agent上 再进行持久化")]),s._v(" "),a("h2",{attrs:{id:"拦截器-interceptor"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#拦截器-interceptor"}},[s._v("#")]),s._v(" 拦截器 Interceptor")]),s._v(" "),a("p",[s._v("更多类型拦截器查看官方文档")]),s._v(" "),a("p",[s._v("通过配置文件 配置拦截器 agent名称.sources.r1.interceptors")]),s._v(" "),a("div",{staticClass:"language-sh line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-sh"}},[a("code",[s._v("a1.sources "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" r1\na1.sinks "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" k1\na1.channels "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" c1 \n\na1.sources.r1.type "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" netcat\na1.sources.r1.bind "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" localhost\na1.sources.r1.port "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("44444")]),s._v("\n\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 设置拦截器 (用于向headers中添加时间戳)")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#拦截器名称")]),s._v("\na1.sources.r1.interceptors "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" i1\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#拦截器类型 timestamp 向header添加时间戳")]),s._v("\na1.sources.r1.interceptors.i1.type "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" timestamp\n\na1.sinks.k1.type "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" logger\n\na1.channels.c1.type "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" memory\na1.channels.c1.capacity "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("1000")]),s._v("\na1.channels.c1.transactionCapacity "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("100")]),s._v("\n\n\na1.sources.r1.channels "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" c1\na1.sinks.k1.channel "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" c1\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br"),a("span",{staticClass:"line-number"},[s._v("7")]),a("br"),a("span",{staticClass:"line-number"},[s._v("8")]),a("br"),a("span",{staticClass:"line-number"},[s._v("9")]),a("br"),a("span",{staticClass:"line-number"},[s._v("10")]),a("br"),a("span",{staticClass:"line-number"},[s._v("11")]),a("br"),a("span",{staticClass:"line-number"},[s._v("12")]),a("br"),a("span",{staticClass:"line-number"},[s._v("13")]),a("br"),a("span",{staticClass:"line-number"},[s._v("14")]),a("br"),a("span",{staticClass:"line-number"},[s._v("15")]),a("br"),a("span",{staticClass:"line-number"},[s._v("16")]),a("br"),a("span",{staticClass:"line-number"},[s._v("17")]),a("br"),a("span",{staticClass:"line-number"},[s._v("18")]),a("br"),a("span",{staticClass:"line-number"},[s._v("19")]),a("br"),a("span",{staticClass:"line-number"},[s._v("20")]),a("br"),a("span",{staticClass:"line-number"},[s._v("21")]),a("br"),a("span",{staticClass:"line-number"},[s._v("22")]),a("br"),a("span",{staticClass:"line-number"},[s._v("23")]),a("br")])]),a("p",[a("img",{attrs:{src:"https://cdn.jsdelivr.net/gh/Iekrwh/images/md-images/image-20211111194553208.png",alt:"image-20211111194553208"}})])])}),[],!1,null,null,null);a.default=e.exports}}]);