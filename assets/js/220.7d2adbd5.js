(window.webpackJsonp=window.webpackJsonp||[]).push([[220],{550:function(s,a,e){"use strict";e.r(a);var t=e(3),r=Object(t.a)({},(function(){var s=this,a=s._self._c;return a("ContentSlotsDistributor",{attrs:{"slot-key":s.$parent.slotKey}},[a("h1",{attrs:{id:"命令操作"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#命令操作"}},[s._v("#")]),s._v(" 命令操作")]),s._v(" "),a("ul",[a("li",[s._v("查看当前服务器中的所有topic")])]),s._v(" "),a("div",{staticClass:"language-sh line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-sh"}},[a("code",[s._v("kafka-topics.sh --zookeeper hadoop102:2181/kafka --list\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br")])]),a("ul",[a("li",[a("p",[s._v("创建topic")]),s._v(" "),a("ul",[a("li",[a("div",{staticClass:"language-sh line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-sh"}},[a("code",[s._v("kafka-topics.sh --zookeeper hadoop102:2181/kafka --create --replication-factor "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("3")]),s._v(" --partitions "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),s._v(" --topic first\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br")])])]),s._v(" "),a("li",[a("p",[s._v("--topic 定义topic名")])]),s._v(" "),a("li",[a("p",[s._v("--replication-factor 定义副本数")])]),s._v(" "),a("li",[a("p",[s._v("--partitions 定义分区数")])])])]),s._v(" "),a("li",[a("p",[s._v("删除topic")])])]),s._v(" "),a("div",{staticClass:"language-sh line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-sh"}},[a("code",[s._v("kafka-topics.sh --zookeeper hadoop102:2181/kafka --delete --topic first\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#需要server.properties中设置delete.topic.enable=true否则只是标记逻辑删除。")]),s._v("\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br")])]),a("ul",[a("li",[s._v("发送消息")])]),s._v(" "),a("div",{staticClass:"language-sh line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-sh"}},[a("code",[s._v("kafka-console-producer.sh --broker-list hadoop102:9092 --topic first\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#消息会存储在/opt/module/kafka/logs/first-xxx 中")]),s._v("\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br")])]),a("ul",[a("li",[s._v("消费消息")])]),s._v(" "),a("div",{staticClass:"language-sh line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-sh"}},[a("code",[s._v("kafka-console-consumer.sh --bootstrap-server hadoop102:9092 --topic first "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 启动后只有发送消息才会消费消息")]),s._v("\nkafka-console-consumer.sh --bootstrap-server hadoop102:9092 --from-beginning --topic first  "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#会把topic中以往所有的数据都读取出来 读取是以分区进行顺序读取的 读完一个分区再读另外一个分区")]),s._v("\nkafka-console-consumer.sh --bootstrap-server hadoop102:9092 --from-beginning --topic first --partition "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#partition 读取指定分区 如不指定所有的分区都会消费")]),s._v("\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br")])]),a("ul",[a("li",[s._v("查看某个Topic的详情")])]),s._v(" "),a("div",{staticClass:"language-sh line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-sh"}},[a("code",[s._v("kafka-topics.sh --zookeeper hadoop102:2181/kafka --describe --topic first\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br")])]),a("ul",[a("li",[s._v("修改分区")])]),s._v(" "),a("div",{staticClass:"language-sh line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-sh"}},[a("code",[s._v("kafka-topics.sh --zookeeper hadoop102:2181/kafka --alter --topic first --partitions "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("6")]),s._v("\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br")])])])}),[],!1,null,null,null);a.default=r.exports}}]);