(window.webpackJsonp=window.webpackJsonp||[]).push([[117],{448:function(s,t,a){"use strict";a.r(t);var n=a(3),e=Object(n.a)({},(function(){var s=this,t=s._self._c;return t("ContentSlotsDistributor",{attrs:{"slot-key":s.$parent.slotKey}},[t("h1",{attrs:{id:"beautifulsoup4"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#beautifulsoup4"}},[s._v("#")]),s._v(" Beautifulsoup4")]),s._v(" "),t("p",[t("a",{attrs:{href:"http://www.crummy.com/software/BeautifulSoup/",target:"_blank",rel:"noopener noreferrer"}},[s._v("Beautiful Soup"),t("OutboundLink")],1),s._v(" 是一个可以从HTML或XML文件中提取数据的Python库.它能够通过你喜欢的转换器实现惯用的文档导航,查找,修改文档的方式.Beautiful Soup会帮你节省数小时甚至数天的工作时间.")]),s._v(" "),t("p",[s._v("Beautifulsoup 四种解析器")]),s._v(" "),t("table",[t("thead",[t("tr",[t("th",[s._v("解析器")]),s._v(" "),t("th",[s._v("使用方法")]),s._v(" "),t("th",[s._v("优势")]),s._v(" "),t("th",[s._v("劣势")])])]),s._v(" "),t("tbody",[t("tr",[t("td",[s._v("Python标准库")]),s._v(" "),t("td",[t("code",[s._v('BeautifulSoup(markup, "html.parser")')])]),s._v(" "),t("td",[s._v("Python的内置标准库执行速度适中文档容错能力强")]),s._v(" "),t("td",[s._v("Python 2.7.3 or 3.2.2)前 的版本中文档容错能力差")])]),s._v(" "),t("tr",[t("td",[s._v("lxml HTML 解析器")]),s._v(" "),t("td",[t("code",[s._v('BeautifulSoup(markup, "lxml")')])]),s._v(" "),t("td",[s._v("速度快文档容错能力强")]),s._v(" "),t("td",[s._v("需要安装C语言库")])]),s._v(" "),t("tr",[t("td",[s._v("lxml XML 解析器")]),s._v(" "),t("td",[t("code",[s._v('BeautifulSoup(markup, ["lxml-xml"])``BeautifulSoup(markup, "xml")')])]),s._v(" "),t("td",[s._v("速度快唯一支持XML的解析器")]),s._v(" "),t("td",[s._v("需要安装C语言库")])]),s._v(" "),t("tr",[t("td",[s._v("html5lib")]),s._v(" "),t("td",[t("code",[s._v('BeautifulSoup(markup, "html5lib")')])]),s._v(" "),t("td",[s._v("最好的容错性以浏览器的方式解析文档生成HTML5格式的文档")]),s._v(" "),t("td",[s._v("速度慢不依赖外部扩展")])])])]),s._v(" "),t("h2",{attrs:{id:"构造方法"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#构造方法"}},[s._v("#")]),s._v(" 构造方法")]),s._v(" "),t("ul",[t("li",[s._v('BeautifulSoup(html,"html.parser")')])]),s._v(" "),t("div",{staticClass:"language-python line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-python"}},[t("code",[s._v("url"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"http://wsjkw.sc.gov.cn/scwsjkw/gzbd/fyzt.shtml"')]),s._v("\nres"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("requests"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("get"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("url"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\nres"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("encoding"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"utf-8"')]),s._v("  "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#转为utf-u解码")]),s._v("\nhtml"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("res"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("text  "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#将源码转为文本赋值给html")]),s._v("\nsoup"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("BeautifulSoup"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("html"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),t("span",{pre:!0,attrs:{class:"token string"}},[s._v("'html.parser'")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("   "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v('#对象化html     "lxml"')]),s._v("\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br"),t("span",{staticClass:"line-number"},[s._v("4")]),t("br"),t("span",{staticClass:"line-number"},[s._v("5")]),t("br")])]),t("h2",{attrs:{id:"四大对象种类"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#四大对象种类"}},[s._v("#")]),s._v(" "),t("strong",[s._v("四大对象种类")])]),s._v(" "),t("ol",[t("li",[s._v("Tag   HTML中的一个个标签\n"),t("ol",[t("li",[s._v("Name（标签名） 通过 .name获取")]),s._v(" "),t("li",[s._v('Attributes（属性）   字典获取  tag["class"]  tag.attrs   可以获取整个字典')]),s._v(" "),t("li",[s._v("Multi-valued attributes（多值属性）  也是字典获取 返回一个列表")])])]),s._v(" "),t("li",[s._v("NavigableString  获取标签内部的文字用 .string 即可")]),s._v(" "),t("li",[s._v("BeautifulSoup   表示的是一个文档的内容")]),s._v(" "),t("li",[s._v("Comment  是一个特殊类型的 NavigableString 对象，其输出的内容不包括注释符号。")])]),s._v(" "),t("h2",{attrs:{id:"遍历文档树"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#遍历文档树"}},[s._v("#")]),s._v(" 遍历文档树")]),s._v(" "),t("div",{staticClass:"language-python line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-python"}},[t("code",[t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("from")]),s._v(" bs4 "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("import")]),s._v(" BeautifulSoup\nsoup "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" BeautifulSoup"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("html_doc"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v("'html.parser'")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br")])]),t("ul",[t("li",[t("p",[s._v("soup.tag  使用标签名进行遍历  soup.head   soup.h2")])]),s._v(" "),t("li",[t("p",[s._v("Tag.contents   获取该标签中所有元素")]),s._v(" "),t("ul",[t("li",[t("div",{staticClass:"language-python line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-python"}},[t("code",[s._v("head_tag "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" soup"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("head\nhead_tag\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# <head><title>The Dormouse's story</title></head>")]),s._v("\n\nhead_tag"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("contents\n"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("<")]),s._v("title"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),s._v("The Dormouse's story"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("<")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v("title"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v("\n\ntitle_tag "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" head_tag"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("contents"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v("\ntitle_tag\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# <title>The Dormouse's story</title>")]),s._v("\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br"),t("span",{staticClass:"line-number"},[s._v("4")]),t("br"),t("span",{staticClass:"line-number"},[s._v("5")]),t("br"),t("span",{staticClass:"line-number"},[s._v("6")]),t("br"),t("span",{staticClass:"line-number"},[s._v("7")]),t("br"),t("span",{staticClass:"line-number"},[s._v("8")]),t("br"),t("span",{staticClass:"line-number"},[s._v("9")]),t("br"),t("span",{staticClass:"line-number"},[s._v("10")]),t("br")])])])])]),s._v(" "),t("li",[t("p",[s._v("Tag.children  对tag的子节点进行循环")]),s._v(" "),t("ul",[t("li",[t("div",{staticClass:"language-python line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-python"}},[t("code",[t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("for")]),s._v(" child "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("in")]),s._v(" title_tag"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("children"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v("\n    "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("print")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("child"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br")])])])])]),s._v(" "),t("li",[t("p",[s._v("Tag.descendants  可以对所有tag的子孙节点进行递归循环")]),s._v(" "),t("ul",[t("li",[t("div",{staticClass:"language-python line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-python"}},[t("code",[t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("for")]),s._v(" child "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("in")]),s._v(" head_tag"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("descendants"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v("\n    "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("print")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("child"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br")])])])])]),s._v(" "),t("li",[t("p",[s._v("soup.strings  获取tag中的字符串包含子标签")]),s._v(" "),t("ul",[t("li",[t("div",{staticClass:"language-python line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-python"}},[t("code",[t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("for")]),s._v(" string "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("in")]),s._v(" soup"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("strings"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v("\n    "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("print")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token builtin"}},[s._v("repr")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("string"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n    "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v('# u"The Dormouse\'s story"')]),s._v("\n    "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# u'\\n\\n'")]),s._v("\n    "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v('# u"The Dormouse\'s story"')]),s._v("\n    "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# u'\\n\\n'")]),s._v("\n    "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# u'Once upon a time there were three little sisters; and their names were\\n'")]),s._v("\n    "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# u'Elsie'")]),s._v("\n    "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# u',\\n'")]),s._v("\n    "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# u'Lacie'")]),s._v("\n    "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# u' and\\n'")]),s._v("\n    "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# u'Tillie'")]),s._v("\n    "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# u';\\nand they lived at the bottom of a well.'")]),s._v("\n    "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# u'\\n\\n'")]),s._v("\n    "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# u'...'")]),s._v("\n    "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# u'\\n'")]),s._v("\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br"),t("span",{staticClass:"line-number"},[s._v("4")]),t("br"),t("span",{staticClass:"line-number"},[s._v("5")]),t("br"),t("span",{staticClass:"line-number"},[s._v("6")]),t("br"),t("span",{staticClass:"line-number"},[s._v("7")]),t("br"),t("span",{staticClass:"line-number"},[s._v("8")]),t("br"),t("span",{staticClass:"line-number"},[s._v("9")]),t("br"),t("span",{staticClass:"line-number"},[s._v("10")]),t("br"),t("span",{staticClass:"line-number"},[s._v("11")]),t("br"),t("span",{staticClass:"line-number"},[s._v("12")]),t("br"),t("span",{staticClass:"line-number"},[s._v("13")]),t("br"),t("span",{staticClass:"line-number"},[s._v("14")]),t("br"),t("span",{staticClass:"line-number"},[s._v("15")]),t("br"),t("span",{staticClass:"line-number"},[s._v("16")]),t("br")])])])])]),s._v(" "),t("li",[t("p",[s._v("soup.stripped_strings  输出的字符串中可能包含了很多空格或空行,使用 "),t("code",[s._v(".stripped_strings")]),s._v(" 可以去除多余空白内容:")]),s._v(" "),t("ul",[t("li",[t("div",{staticClass:"language-python line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-python"}},[t("code",[t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("for")]),s._v(" string "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("in")]),s._v(" soup"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("stripped_strings"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v("\n    "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("print")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token builtin"}},[s._v("repr")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("string"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n    "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v('# u"The Dormouse\'s story"')]),s._v("\n    "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v('# u"The Dormouse\'s story"')]),s._v("\n    "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# u'Once upon a time there were three little sisters; and their names were'")]),s._v("\n    "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# u'Elsie'")]),s._v("\n    "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# u','")]),s._v("\n    "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# u'Lacie'")]),s._v("\n    "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# u'and'")]),s._v("\n    "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# u'Tillie'")]),s._v("\n    "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# u';\\nand they lived at the bottom of a well.'")]),s._v("\n    "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# u'...'")]),s._v("\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br"),t("span",{staticClass:"line-number"},[s._v("4")]),t("br"),t("span",{staticClass:"line-number"},[s._v("5")]),t("br"),t("span",{staticClass:"line-number"},[s._v("6")]),t("br"),t("span",{staticClass:"line-number"},[s._v("7")]),t("br"),t("span",{staticClass:"line-number"},[s._v("8")]),t("br"),t("span",{staticClass:"line-number"},[s._v("9")]),t("br"),t("span",{staticClass:"line-number"},[s._v("10")]),t("br"),t("span",{staticClass:"line-number"},[s._v("11")]),t("br"),t("span",{staticClass:"line-number"},[s._v("12")]),t("br")])])])])]),s._v(" "),t("li",[t("p",[s._v("Tag.parent  获取某个元素的父节点")]),s._v(" "),t("ul",[t("li",[t("div",{staticClass:"language-python line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-python"}},[t("code",[s._v("title_tag "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" soup"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("title\ntitle_tag\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# <title>The Dormouse's story</title>")]),s._v("\ntitle_tag"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("parent\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# <head><title>The Dormouse's story</title></head>")]),s._v("\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br"),t("span",{staticClass:"line-number"},[s._v("4")]),t("br"),t("span",{staticClass:"line-number"},[s._v("5")]),t("br")])])])])]),s._v(" "),t("li",[t("p",[s._v("Tag.parents  可以递归得到元素的所有父辈节点")]),s._v(" "),t("ul",[t("li",[t("div",{staticClass:"language-python line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-python"}},[t("code",[s._v("link "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" soup"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("a\nlink\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v('# <a class="sister" href="http://example.com/elsie" id="link1">Elsie</a>')]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("for")]),s._v(" parent "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("in")]),s._v(" link"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("parents"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v("\n    "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("if")]),s._v(" parent "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("is")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token boolean"}},[s._v("None")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v("\n        "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("print")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("parent"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n    "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("else")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v("\n        "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("print")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("parent"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("name"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# p")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# body")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# html")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# [document]")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# None")]),s._v("\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br"),t("span",{staticClass:"line-number"},[s._v("4")]),t("br"),t("span",{staticClass:"line-number"},[s._v("5")]),t("br"),t("span",{staticClass:"line-number"},[s._v("6")]),t("br"),t("span",{staticClass:"line-number"},[s._v("7")]),t("br"),t("span",{staticClass:"line-number"},[s._v("8")]),t("br"),t("span",{staticClass:"line-number"},[s._v("9")]),t("br"),t("span",{staticClass:"line-number"},[s._v("10")]),t("br"),t("span",{staticClass:"line-number"},[s._v("11")]),t("br"),t("span",{staticClass:"line-number"},[s._v("12")]),t("br"),t("span",{staticClass:"line-number"},[s._v("13")]),t("br")])])])])])]),s._v(" "),t("h2",{attrs:{id:"搜索文档树"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#搜索文档树"}},[s._v("#")]),s._v(" 搜索文档树")]),s._v(" "),t("ul",[t("li",[s._v("soud.find()    搜索第一个符合条件的标签")]),s._v(" "),t("li",[s._v("soud.find_all( name , attrs , recursive , string , **kwargs )   搜索所有符合条件的标签")])]),s._v(" "),t("p",[s._v("唯一的区别是 find_all() 方法的返回结果是值包含一个元素的列表,而 find() 方法直接返回结果.")]),s._v(" "),t("h3",{attrs:{id:"字符串"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#字符串"}},[s._v("#")]),s._v(" 字符串")]),s._v(" "),t("p",[s._v("最简单的过滤器是字符串.在搜索方法中传入一个字符串参数,Beautiful Soup会查找与字符串完整匹配的内容")]),s._v(" "),t("div",{staticClass:"language-python line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-python"}},[t("code",[s._v("soup"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("find_all"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token string"}},[s._v("'b'")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# [<b>The Dormouse's story</b>]")]),s._v("\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br")])]),t("h3",{attrs:{id:"正则表达式"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#正则表达式"}},[s._v("#")]),s._v(" 正则表达式")]),s._v(" "),t("p",[s._v("如果传入正则表达式作为参数,Beautiful Soup会通过正则表达式的 "),t("code",[s._v("match()")]),s._v(" 来匹配内容.")]),s._v(" "),t("div",{staticClass:"language-python line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-python"}},[t("code",[t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("import")]),s._v(" re\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("for")]),s._v(" tag "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("in")]),s._v(" soup"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("find_all"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("re"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),t("span",{pre:!0,attrs:{class:"token builtin"}},[s._v("compile")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"^b"')]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v("\n    "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("print")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("tag"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("name"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# body")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# b")]),s._v("\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br"),t("span",{staticClass:"line-number"},[s._v("4")]),t("br"),t("span",{staticClass:"line-number"},[s._v("5")]),t("br")])]),t("h3",{attrs:{id:"列表"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#列表"}},[s._v("#")]),s._v(" 列表")]),s._v(" "),t("p",[s._v("如果传入列表参数,Beautiful Soup会将与列表中任一元素匹配的内容返回")]),s._v(" "),t("div",{staticClass:"language-python line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-python"}},[t("code",[s._v("soup"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("find_all"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"a"')]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"b"')]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# [<b>The Dormouse's story</b>,")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v('#  <a class="sister" href="http://example.com/elsie" id="link1">Elsie</a>,')]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v('#  <a class="sister" href="http://example.com/lacie" id="link2">Lacie</a>,')]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v('#  <a class="sister" href="http://example.com/tillie" id="link3">Tillie</a>]')]),s._v("\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br"),t("span",{staticClass:"line-number"},[s._v("4")]),t("br"),t("span",{staticClass:"line-number"},[s._v("5")]),t("br")])]),t("h3",{attrs:{id:"keyword-属性值"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#keyword-属性值"}},[s._v("#")]),s._v(" keyword   属性值")]),s._v(" "),t("p",[s._v("如果一个指定名字的参数不是搜索内置的参数名,搜索时会把该参数当作指定名字tag的属性来搜索")]),s._v(" "),t("div",{staticClass:"language-python line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-python"}},[t("code",[s._v("soup"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("find_all"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token builtin"}},[s._v("id")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),t("span",{pre:!0,attrs:{class:"token string"}},[s._v("'link2'")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#搜索所有id为link2的标签")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v('# [<a class="sister" href="http://example.com/lacie" id="link2">Lacie</a>]')]),s._v("\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br")])]),t("h3",{attrs:{id:"按css搜索"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#按css搜索"}},[s._v("#")]),s._v(" 按CSS搜索")]),s._v(" "),t("p",[s._v("class 在Python中是保留字,使用 class 做参数会导致语法错误.从Beautiful Soup的4.1.1版本开始,可以通过 class_ 参数搜索有指定CSS类名的tag")]),s._v(" "),t("div",{staticClass:"language-python line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-python"}},[t("code",[s._v("soup"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("find_all"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"a"')]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" class_"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"sister"')]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v('# [<a class="sister" href="http://example.com/elsie" id="link1">Elsie</a>,')]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v('#  <a class="sister" href="http://example.com/lacie" id="link2">Lacie</a>,')]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v('#  <a class="sister" href="http://example.com/tillie" id="link3">Tillie</a>]')]),s._v("\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br"),t("span",{staticClass:"line-number"},[s._v("4")]),t("br")])]),t("p",[s._v("class 属性是 多值属性 .按照CSS类名搜索tag时,可以分别搜索tag中的每个CSS类名")]),s._v(" "),t("div",{staticClass:"language-python line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-python"}},[t("code",[s._v("css_soup "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" BeautifulSoup"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token string"}},[s._v("'<p class=\"body strikeout\"></p>'")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\ncss_soup"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("find_all"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"p"')]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" class_"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"strikeout"')]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v('# [<p class="body strikeout"></p>]')]),s._v("\n\ncss_soup"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("find_all"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"p"')]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" class_"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"body"')]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v('# [<p class="body strikeout"></p>]')]),s._v("\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br"),t("span",{staticClass:"line-number"},[s._v("4")]),t("br"),t("span",{staticClass:"line-number"},[s._v("5")]),t("br"),t("span",{staticClass:"line-number"},[s._v("6")]),t("br")])]),t("p",[s._v("搜索 class 属性时也可以通过CSS值完全匹配")]),s._v(" "),t("div",{staticClass:"language-python line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-python"}},[t("code",[s._v("css_soup"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("find_all"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"p"')]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" class_"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"body strikeout"')]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v('# [<p class="body strikeout"></p>]')]),s._v("\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br")])]),t("p",[s._v("完全匹配 class 的值时,如果CSS类名的顺序与实际不符,将搜索不到结果")]),s._v(" "),t("div",{staticClass:"language-python line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-python"}},[t("code",[s._v("soup"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("find_all"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"a"')]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" attrs"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"class"')]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"sister"')]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v('# [<a class="sister" href="http://example.com/elsie" id="link1">Elsie</a>,')]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v('#  <a class="sister" href="http://example.com/lacie" id="link2">Lacie</a>,')]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v('#  <a class="sister" href="http://example.com/tillie" id="link3">Tillie</a>]')]),s._v("\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br"),t("span",{staticClass:"line-number"},[s._v("4")]),t("br")])]),t("h3",{attrs:{id:"string-参数"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#string-参数"}},[s._v("#")]),s._v(" String 参数")]),s._v(" "),t("p",[s._v("通过 string 参数可以搜搜文档中的字符串内容")]),s._v(" "),t("div",{staticClass:"language-python line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-python"}},[t("code",[s._v("soup"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("find_all"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("string"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"Elsie"')]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# [u'Elsie']")]),s._v("\n\nsoup"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("find_all"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("string"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"Tillie"')]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"Elsie"')]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"Lacie"')]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# [u'Elsie', u'Lacie', u'Tillie']")]),s._v("\n\nsoup"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("find_all"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("string"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("re"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),t("span",{pre:!0,attrs:{class:"token builtin"}},[s._v("compile")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"Dormouse"')]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('u"The Dormouse\'s story"')]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('u"The Dormouse\'s story"')]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v("\n\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("def")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("is_the_only_string_within_a_tag")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("s"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v("\n    "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('""')]),s._v("Return "),t("span",{pre:!0,attrs:{class:"token boolean"}},[s._v("True")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("if")]),s._v(" this string "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("is")]),s._v(" the only child of its parent tag"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('""')]),s._v("\n    "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("return")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("s "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("==")]),s._v(" s"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("parent"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("string"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n\nsoup"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("find_all"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("string"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("is_the_only_string_within_a_tag"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# [u\"The Dormouse's story\", u\"The Dormouse's story\", u'Elsie', u'Lacie', u'Tillie', u'...']")]),s._v("\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br"),t("span",{staticClass:"line-number"},[s._v("4")]),t("br"),t("span",{staticClass:"line-number"},[s._v("5")]),t("br"),t("span",{staticClass:"line-number"},[s._v("6")]),t("br"),t("span",{staticClass:"line-number"},[s._v("7")]),t("br"),t("span",{staticClass:"line-number"},[s._v("8")]),t("br"),t("span",{staticClass:"line-number"},[s._v("9")]),t("br"),t("span",{staticClass:"line-number"},[s._v("10")]),t("br"),t("span",{staticClass:"line-number"},[s._v("11")]),t("br"),t("span",{staticClass:"line-number"},[s._v("12")]),t("br"),t("span",{staticClass:"line-number"},[s._v("13")]),t("br"),t("span",{staticClass:"line-number"},[s._v("14")]),t("br"),t("span",{staticClass:"line-number"},[s._v("15")]),t("br")])]),t("h3",{attrs:{id:"limit-参数"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#limit-参数"}},[s._v("#")]),s._v(" limit 参数")]),s._v(" "),t("p",[s._v("find_all() 方法返回全部的搜索结构,如果文档树很大那么搜索会很慢.如果我们不需要全部结果,可以使用 limit 参数限制返回结果的数量.效果与SQL中的limit关键字类似,当搜索到的结果数量达到 limit 的限制时,就停止搜索返回结果.")]),s._v(" "),t("div",{staticClass:"language-python line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-python"}},[t("code",[s._v("soup"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("find_all"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"a"')]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" limit"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("2")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v('# [<a class="sister" href="http://example.com/elsie" id="link1">Elsie</a>,')]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v('#  <a class="sister" href="http://example.com/lacie" id="link2">Lacie</a>]')]),s._v("\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br")])]),t("h3",{attrs:{id:"recursive-参数"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#recursive-参数"}},[s._v("#")]),s._v(" recursive 参数")]),s._v(" "),t("p",[s._v("调用tag的 find_all() 方法时,Beautiful Soup会检索当前tag的所有子孙节点,如果只想搜索tag的直接子节点,可以使用参数 recursive=False")]),s._v(" "),t("h3",{attrs:{id:"父辈节点"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#父辈节点"}},[s._v("#")]),s._v(" 父辈节点")]),s._v(" "),t("p",[s._v("find_all() 和 find() 只搜索当前节点的所有子节点,孙子节点等. find_parents() 和 find_parent() 用来搜索当前节点的父辈节点,搜索方法与普通tag的搜索方法相同,搜索文档搜索文档包含的内容")]),s._v(" "),t("ul",[t("li",[s._v("soud.find_parents()")]),s._v(" "),t("li",[s._v("soud.find_parents()")])]),s._v(" "),t("h2",{attrs:{id:"修改文档树"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#修改文档树"}},[s._v("#")]),s._v(" 修改文档树")]),s._v(" "),t("p",[s._v("Beautiful Soup的强项是文档树的搜索,但同时也可以方便的修改文档树")]),s._v(" "),t("h3",{attrs:{id:"修改tag的名称和属性"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#修改tag的名称和属性"}},[s._v("#")]),s._v(" 修改tag的名称和属性")]),s._v(" "),t("p",[s._v("重命名一个tag,改变属性的值,添加或删除属性")]),s._v(" "),t("div",{staticClass:"language-python line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-python"}},[t("code",[s._v("soup "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" BeautifulSoup"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token string"}},[s._v("'<b class=\"boldest\">Extremely bold</b>'")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\ntag "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" soup"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("b\n\ntag"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("name "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"blockquote"')]),s._v("\ntag"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),t("span",{pre:!0,attrs:{class:"token string"}},[s._v("'class'")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v("'verybold'")]),s._v("\ntag"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),t("span",{pre:!0,attrs:{class:"token string"}},[s._v("'id'")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),s._v("\ntag\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v('# <blockquote class="verybold" id="1">Extremely bold</blockquote>')]),s._v("\n\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("del")]),s._v(" tag"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),t("span",{pre:!0,attrs:{class:"token string"}},[s._v("'class'")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("del")]),s._v(" tag"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),t("span",{pre:!0,attrs:{class:"token string"}},[s._v("'id'")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v("\ntag\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# <blockquote>Extremely bold</blockquote>")]),s._v("\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br"),t("span",{staticClass:"line-number"},[s._v("4")]),t("br"),t("span",{staticClass:"line-number"},[s._v("5")]),t("br"),t("span",{staticClass:"line-number"},[s._v("6")]),t("br"),t("span",{staticClass:"line-number"},[s._v("7")]),t("br"),t("span",{staticClass:"line-number"},[s._v("8")]),t("br"),t("span",{staticClass:"line-number"},[s._v("9")]),t("br"),t("span",{staticClass:"line-number"},[s._v("10")]),t("br"),t("span",{staticClass:"line-number"},[s._v("11")]),t("br"),t("span",{staticClass:"line-number"},[s._v("12")]),t("br"),t("span",{staticClass:"line-number"},[s._v("13")]),t("br")])]),t("h3",{attrs:{id:"修改-string"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#修改-string"}},[s._v("#")]),s._v(" 修改 .string")]),s._v(" "),t("p",[s._v("给tag的 .string 属性赋值,就相当于用当前的内容替代了原来的内容")]),s._v(" "),t("p",[s._v("如果当前的tag包含了其它tag,那么给它的 .string 属性赋值会"),t("strong",[s._v("覆盖掉原有的所有内容包括子tag")])]),s._v(" "),t("div",{staticClass:"language-python line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-python"}},[t("code",[s._v("markup "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v("'<a href=\"http://example.com/\">I linked to <i>example.com</i></a>'")]),s._v("\nsoup "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" BeautifulSoup"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("markup"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n\ntag "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" soup"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("a\ntag"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("string "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"New link text."')]),s._v("\ntag\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v('# <a href="http://example.com/">New link text.</a>')]),s._v("\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br"),t("span",{staticClass:"line-number"},[s._v("4")]),t("br"),t("span",{staticClass:"line-number"},[s._v("5")]),t("br"),t("span",{staticClass:"line-number"},[s._v("6")]),t("br"),t("span",{staticClass:"line-number"},[s._v("7")]),t("br")])]),t("h3",{attrs:{id:"append"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#append"}},[s._v("#")]),s._v(" append()")]),s._v(" "),t("p",[s._v("Tag.append() 方法想tag中添加内容")]),s._v(" "),t("div",{staticClass:"language-python line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-python"}},[t("code",[s._v("soup "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" BeautifulSoup"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"<a>Foo</a>"')]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\nsoup"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("a"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("append"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"Bar"')]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n\nsoup\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# <html><head></head><body><a>FooBar</a></body></html>")]),s._v("\nsoup"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("a"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("contents\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# [u'Foo', u'Bar']")]),s._v("\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br"),t("span",{staticClass:"line-number"},[s._v("4")]),t("br"),t("span",{staticClass:"line-number"},[s._v("5")]),t("br"),t("span",{staticClass:"line-number"},[s._v("6")]),t("br"),t("span",{staticClass:"line-number"},[s._v("7")]),t("br")])]),t("h3",{attrs:{id:"clear"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#clear"}},[s._v("#")]),s._v(" clear()")]),s._v(" "),t("p",[s._v("Tag.clear() 方法移除当前tag的内容")]),s._v(" "),t("div",{staticClass:"language-python line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-python"}},[t("code",[s._v("markup "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v("'<a href=\"http://example.com/\">I linked to <i>example.com</i></a>'")]),s._v("\nsoup "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" BeautifulSoup"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("markup"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\ntag "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" soup"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("a\n\ntag"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("clear"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\ntag\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v('# <a href="http://example.com/"></a>')]),s._v("\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br"),t("span",{staticClass:"line-number"},[s._v("4")]),t("br"),t("span",{staticClass:"line-number"},[s._v("5")]),t("br"),t("span",{staticClass:"line-number"},[s._v("6")]),t("br"),t("span",{staticClass:"line-number"},[s._v("7")]),t("br")])]),t("h3",{attrs:{id:"extract"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#extract"}},[s._v("#")]),s._v(" extract()")]),s._v(" "),t("p",[s._v("PageElement.extract() 方法将当前tag移除文档树,并作为方法结果返回")]),s._v(" "),t("div",{staticClass:"language-python line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-python"}},[t("code",[s._v("markup "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v("'<a href=\"http://example.com/\">I linked to <i>example.com</i></a>'")]),s._v("\nsoup "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" BeautifulSoup"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("markup"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\na_tag "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" soup"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("a\n\ni_tag "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" soup"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("i"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("extract"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n\na_tag\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v('# <a href="http://example.com/">I linked to</a>')]),s._v("\n\ni_tag\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# <i>example.com</i>")]),s._v("\n\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("print")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("i_tag"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("parent"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token boolean"}},[s._v("None")]),s._v("\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br"),t("span",{staticClass:"line-number"},[s._v("4")]),t("br"),t("span",{staticClass:"line-number"},[s._v("5")]),t("br"),t("span",{staticClass:"line-number"},[s._v("6")]),t("br"),t("span",{staticClass:"line-number"},[s._v("7")]),t("br"),t("span",{staticClass:"line-number"},[s._v("8")]),t("br"),t("span",{staticClass:"line-number"},[s._v("9")]),t("br"),t("span",{staticClass:"line-number"},[s._v("10")]),t("br"),t("span",{staticClass:"line-number"},[s._v("11")]),t("br"),t("span",{staticClass:"line-number"},[s._v("12")]),t("br"),t("span",{staticClass:"line-number"},[s._v("13")]),t("br"),t("span",{staticClass:"line-number"},[s._v("14")]),t("br")])]),t("h3",{attrs:{id:"decompose"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#decompose"}},[s._v("#")]),s._v(" decompose()")]),s._v(" "),t("p",[s._v("Tag.decompose() 方法将当前节点移除文档树并完全销毁")]),s._v(" "),t("div",{staticClass:"language-python line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-python"}},[t("code",[s._v("markup "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v("'<a href=\"http://example.com/\">I linked to <i>example.com</i></a>'")]),s._v("\nsoup "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" BeautifulSoup"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("markup"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\na_tag "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" soup"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("a\n\nsoup"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("i"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("decompose"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n\na_tag\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v('# <a href="http://example.com/">I linked to</a>')]),s._v("\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br"),t("span",{staticClass:"line-number"},[s._v("4")]),t("br"),t("span",{staticClass:"line-number"},[s._v("5")]),t("br"),t("span",{staticClass:"line-number"},[s._v("6")]),t("br"),t("span",{staticClass:"line-number"},[s._v("7")]),t("br"),t("span",{staticClass:"line-number"},[s._v("8")]),t("br")])]),t("h3",{attrs:{id:"replace-with"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#replace-with"}},[s._v("#")]),s._v(" replace_with()")]),s._v(" "),t("p",[s._v("PageElement.replace_with() 方法移除文档树中的某段内容,并用新tag或文本节点替代它:")]),s._v(" "),t("div",{staticClass:"language-python line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-python"}},[t("code",[s._v("markup "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v("'<a href=\"http://example.com/\">I linked to <i>example.com</i></a>'")]),s._v("\nsoup "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" BeautifulSoup"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("markup"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\na_tag "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" soup"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("a\n\nnew_tag "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" soup"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("new_tag"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"b"')]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\nnew_tag"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("string "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"example.net"')]),s._v("\na_tag"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("i"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("replace_with"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("new_tag"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n\na_tag\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v('# <a href="http://example.com/">I linked to <b>example.net</b></a>')]),s._v("\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br"),t("span",{staticClass:"line-number"},[s._v("4")]),t("br"),t("span",{staticClass:"line-number"},[s._v("5")]),t("br"),t("span",{staticClass:"line-number"},[s._v("6")]),t("br"),t("span",{staticClass:"line-number"},[s._v("7")]),t("br"),t("span",{staticClass:"line-number"},[s._v("8")]),t("br"),t("span",{staticClass:"line-number"},[s._v("9")]),t("br"),t("span",{staticClass:"line-number"},[s._v("10")]),t("br")])]),t("h2",{attrs:{id:"bs4的简单使用"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#bs4的简单使用"}},[s._v("#")]),s._v(" bs4的简单使用")]),s._v(" "),t("div",{staticClass:"language-python line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-python"}},[t("code",[t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("from")]),s._v(" bs4 "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("import")]),s._v(" BeautifulSoup\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("import")]),s._v(" requests\n\nurl"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"http://wsjkw.sc.gov.cn/scwsjkw/gzbd/fyzt.shtml"')]),s._v("\nres"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("requests"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("get"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("url"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\nres"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("encoding"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"utf-8"')]),s._v("  "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#转为utf-u解码")]),s._v("\nhtml"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("res"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("text  "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#将源码转为文本赋值给html")]),s._v("\nsoup"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("BeautifulSoup"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("html"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),t("span",{pre:!0,attrs:{class:"token string"}},[s._v("'html.parser'")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("   "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v('#对象化html     "lxml"')]),s._v("\nh "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("soup"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("find"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token string"}},[s._v("'h2'")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("   "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#寻找文本中 h2标签的内容")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("print")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("h"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\nh "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" soup"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("find"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token string"}},[s._v("'h2'")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("text    "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#只获取h2标签中的内容")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("print")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("h"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n\na "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" soup"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("find"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token string"}},[s._v("'a'")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#会寻找文本中第一个a标签")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("print")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("a"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("print")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token builtin"}},[s._v("type")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("a"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\na "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" soup"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("find"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token string"}},[s._v("'a'")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("attrs   "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#获取a标签中  href以及 target  存放在字典中")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("print")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("a"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("print")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("a"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),t("span",{pre:!0,attrs:{class:"token string"}},[s._v("'href'")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br"),t("span",{staticClass:"line-number"},[s._v("4")]),t("br"),t("span",{staticClass:"line-number"},[s._v("5")]),t("br"),t("span",{staticClass:"line-number"},[s._v("6")]),t("br"),t("span",{staticClass:"line-number"},[s._v("7")]),t("br"),t("span",{staticClass:"line-number"},[s._v("8")]),t("br"),t("span",{staticClass:"line-number"},[s._v("9")]),t("br"),t("span",{staticClass:"line-number"},[s._v("10")]),t("br"),t("span",{staticClass:"line-number"},[s._v("11")]),t("br"),t("span",{staticClass:"line-number"},[s._v("12")]),t("br"),t("span",{staticClass:"line-number"},[s._v("13")]),t("br"),t("span",{staticClass:"line-number"},[s._v("14")]),t("br"),t("span",{staticClass:"line-number"},[s._v("15")]),t("br"),t("span",{staticClass:"line-number"},[s._v("16")]),t("br"),t("span",{staticClass:"line-number"},[s._v("17")]),t("br"),t("span",{staticClass:"line-number"},[s._v("18")]),t("br"),t("span",{staticClass:"line-number"},[s._v("19")]),t("br")])])])}),[],!1,null,null,null);t.default=e.exports}}]);